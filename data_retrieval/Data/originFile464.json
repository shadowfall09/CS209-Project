{"items":[{"tags":["java","maven","cxf","cxf-client"],"comments":[{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1683380021,"post_id":73557471,"comment_id":134359678,"body_markdown":"did you get it working? am facing same issue","body":"did you get it working? am facing same issue"}],"owner":{"account_id":26208470,"reputation":11,"user_id":19887712,"display_name":"Daniel Falc&#227;o"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682940988,"creation_date":1661956058,"question_id":73557471,"body_markdown":"**I&#39;m modernizing some java code to version 17 using Eclipse, Maven and Apache CXF 3.5.0 to build a soap client that connects to the WSDL address below.**\r\n\r\n&gt; https://www.w3schools.com/xml/tempconvert.asmx?WSDL\r\n\r\n**Below is my java version:**\r\n\r\n    daniel@pop-os:~$ java -version\r\n    java version &quot;17.0.1&quot; 2021-10-19 LTS\r\n    Java(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\r\n\r\n**Below is my pom.xml:**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;Java17&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Java17&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \r\n    \t&lt;properties&gt;\r\n    \t    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;cxf.version&gt;3.5.1&lt;/cxf.version&gt;\r\n    \t&lt;/properties&gt;\r\n      \r\n    \t&lt;build&gt;  \r\n    \t\t&lt;finalName&gt;Java17&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\t\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n     \r\n    \t&lt;dependencies&gt;\t\t\t\t\r\n    \t\r\n    \t\t&lt;!-- marshalling error loading wsdl --&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- cxf --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;cxf-rt-databinding-jaxb&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\t\t\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n      \r\n    &lt;/project&gt;\r\n\r\n**Below is my java code:**\r\n\r\n    package com.webservices;\r\n    \r\n    import org.apache.cxf.endpoint.Client;\r\n    import org.apache.cxf.jaxws.endpoint.dynamic.JaxWsDynamicClientFactory;\r\n    \r\n    public class ClientExample {\r\n    \tpublic static void main(String args[]) throws Exception {\t\t\r\n    \t\ttry {\t\t\r\n    \t\t\tString wsdl = &quot;https://www.w3schools.com/xml/tempconvert.asmx?WSDL&quot;;\r\n    \r\n    \t\t\tJaxWsDynamicClientFactory dcf = JaxWsDynamicClientFactory.newInstance();\r\n    \t\t\tClient client = dcf.createClient(wsdl);\r\n    \t\t\t\r\n    \t\t\tObject[] res = client.invoke(&quot;CelsiusToFahrenheit&quot;, &quot;35&quot;);\r\n    \t\t\tSystem.out.println(&quot;Echo response: &quot; + res[0]);\r\n    \t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\t\r\n    }\r\n\r\n**After updating the project using the command &quot;Maven &gt; Update Project&quot; and installing the dependencies, I run the ClientExample.java class and get the following error:**\r\n\r\n    WARNING: Interceptor for {https://www.w3schools.com/xml/}TempConvert#{https://www.w3schools.com/xml/}CelsiusToFahrenheit has thrown exception, unwinding now\r\n    org.apache.cxf.interceptor.Fault: Marshalling Error: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\r\n    \tat org.apache.cxf.jaxb.JAXBEncoderDecoder.marshall(JAXBEncoderDecoder.java:267)\r\n    \tat org.apache.cxf.jaxb.io.DataWriterImpl.write(DataWriterImpl.java:239)\r\n    \tat org.apache.cxf.interceptor.AbstractOutDatabindingInterceptor.writeParts(AbstractOutDatabindingInterceptor.java:118)\r\n    \tat org.apache.cxf.wsdl.interceptors.BareOutInterceptor.handleMessage(BareOutInterceptor.java:68)\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:528)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:439)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:354)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:312)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:332)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:318)\r\n    \tat com.webservices.ClientExample.main(ClientExample.java:27)\r\n    Caused by: javax.xml.bind.MarshalException\r\n     - with linked exception:\r\n    [com.sun.istack.SAXException2: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\r\n    javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context]\r\n    \tat com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:301)\r\n    \tat com.sun.xml.bind.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:226)\r\n    \tat javax.xml.bind.helpers.AbstractMarshallerImpl.marshal(AbstractMarshallerImpl.java:110)\r\n    \tat org.apache.cxf.jaxb.JAXBEncoderDecoder.writeObject(JAXBEncoderDecoder.java:642)\r\n    \tat org.apache.cxf.jaxb.JAXBEncoderDecoder.marshall(JAXBEncoderDecoder.java:244)\r\n    \t... 11 more\r\n    Caused by: com.sun.istack.SAXException2: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\r\n    javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\r\n    \tat com.sun.xml.bind.v2.runtime.XMLSerializer.reportError(XMLSerializer.java:217)\r\n    \tat com.sun.xml.bind.v2.runtime.XMLSerializer.reportError(XMLSerializer.java:232)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:117)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:100)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeBody(ElementBeanInfoImpl.java:302)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeRoot(ElementBeanInfoImpl.java:309)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeRoot(ElementBeanInfoImpl.java:45)\r\n    \tat com.sun.xml.bind.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:464)\r\n    \tat com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:298)\r\n    \t... 15 more\r\n    Caused by: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getBeanInfo(JAXBContextImpl.java:603)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:114)\r\n    \t... 21 more\r\n    \r\n    org.apache.cxf.interceptor.Fault: Marshalling Error: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\r\n    \tat org.apache.cxf.jaxb.JAXBEncoderDecoder.marshall(JAXBEncoderDecoder.java:267)\r\n    \tat org.apache.cxf.jaxb.io.DataWriterImpl.write(DataWriterImpl.java:239)\r\n    \tat org.apache.cxf.interceptor.AbstractOutDatabindingInterceptor.writeParts(AbstractOutDatabindingInterceptor.java:118)\r\n    \tat org.apache.cxf.wsdl.interceptors.BareOutInterceptor.handleMessage(BareOutInterceptor.java:68)\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:528)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:439)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:354)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:312)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:332)\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:318)\r\n    \tat com.webservices.ClientExample.main(ClientExample.java:27)\r\n    Caused by: javax.xml.bind.MarshalException\r\n     - with linked exception:\r\n    [com.sun.istack.SAXException2: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\r\n    javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context]\r\n    \tat com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:301)\r\n    \tat com.sun.xml.bind.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:226)\r\n    \tat javax.xml.bind.helpers.AbstractMarshallerImpl.marshal(AbstractMarshallerImpl.java:110)\r\n    \tat org.apache.cxf.jaxb.JAXBEncoderDecoder.writeObject(JAXBEncoderDecoder.java:642)\r\n    \tat org.apache.cxf.jaxb.JAXBEncoderDecoder.marshall(JAXBEncoderDecoder.java:244)\r\n    \t... 11 more\r\n    Caused by: com.sun.istack.SAXException2: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\r\n    javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\r\n    \tat com.sun.xml.bind.v2.runtime.XMLSerializer.reportError(XMLSerializer.java:217)\r\n    \tat com.sun.xml.bind.v2.runtime.XMLSerializer.reportError(XMLSerializer.java:232)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:117)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:100)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeBody(ElementBeanInfoImpl.java:302)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeRoot(ElementBeanInfoImpl.java:309)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeRoot(ElementBeanInfoImpl.java:45)\r\n    \tat com.sun.xml.bind.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:464)\r\n    \tat com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:298)\r\n    \t... 15 more\r\n    Caused by: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getBeanInfo(JAXBContextImpl.java:603)\r\n    \tat com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:114)\r\n    \t... 21 more\r\n\r\n\r\n**How do I get this code to work properly?**\r\n\r\n\r\n","title":"SOAP client in Apache CXF 3.5.0 and Java 17 returning &quot;Marshalling Error&quot;","body":"<p><strong>I'm modernizing some java code to version 17 using Eclipse, Maven and Apache CXF 3.5.0 to build a soap client that connects to the WSDL address below.</strong></p>\n<blockquote>\n<p><a href=\"https://www.w3schools.com/xml/tempconvert.asmx?WSDL\" rel=\"nofollow noreferrer\">https://www.w3schools.com/xml/tempconvert.asmx?WSDL</a></p>\n</blockquote>\n<p><strong>Below is my java version:</strong></p>\n<pre><code>daniel@pop-os:~$ java -version\njava version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\n</code></pre>\n<p><strong>Below is my pom.xml:</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;Java17&lt;/groupId&gt;\n    &lt;artifactId&gt;Java17&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;cxf.version&gt;3.5.1&lt;/cxf.version&gt;\n    &lt;/properties&gt;\n  \n    &lt;build&gt;  \n        &lt;finalName&gt;Java17&lt;/finalName&gt;\n        &lt;plugins&gt;   \n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n \n    &lt;dependencies&gt;              \n    \n        &lt;!-- marshalling error loading wsdl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- cxf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-databinding-jaxb&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  \n&lt;/project&gt;\n</code></pre>\n<p><strong>Below is my java code:</strong></p>\n<pre><code>package com.webservices;\n\nimport org.apache.cxf.endpoint.Client;\nimport org.apache.cxf.jaxws.endpoint.dynamic.JaxWsDynamicClientFactory;\n\npublic class ClientExample {\n    public static void main(String args[]) throws Exception {       \n        try {       \n            String wsdl = &quot;https://www.w3schools.com/xml/tempconvert.asmx?WSDL&quot;;\n\n            JaxWsDynamicClientFactory dcf = JaxWsDynamicClientFactory.newInstance();\n            Client client = dcf.createClient(wsdl);\n            \n            Object[] res = client.invoke(&quot;CelsiusToFahrenheit&quot;, &quot;35&quot;);\n            System.out.println(&quot;Echo response: &quot; + res[0]);\n        \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }   \n}\n</code></pre>\n<p><strong>After updating the project using the command &quot;Maven &gt; Update Project&quot; and installing the dependencies, I run the ClientExample.java class and get the following error:</strong></p>\n<pre><code>WARNING: Interceptor for {https://www.w3schools.com/xml/}TempConvert#{https://www.w3schools.com/xml/}CelsiusToFahrenheit has thrown exception, unwinding now\norg.apache.cxf.interceptor.Fault: Marshalling Error: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\n    at org.apache.cxf.jaxb.JAXBEncoderDecoder.marshall(JAXBEncoderDecoder.java:267)\n    at org.apache.cxf.jaxb.io.DataWriterImpl.write(DataWriterImpl.java:239)\n    at org.apache.cxf.interceptor.AbstractOutDatabindingInterceptor.writeParts(AbstractOutDatabindingInterceptor.java:118)\n    at org.apache.cxf.wsdl.interceptors.BareOutInterceptor.handleMessage(BareOutInterceptor.java:68)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\n    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:528)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:439)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:354)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:312)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:332)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:318)\n    at com.webservices.ClientExample.main(ClientExample.java:27)\nCaused by: javax.xml.bind.MarshalException\n - with linked exception:\n[com.sun.istack.SAXException2: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\njavax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context]\n    at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:301)\n    at com.sun.xml.bind.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:226)\n    at javax.xml.bind.helpers.AbstractMarshallerImpl.marshal(AbstractMarshallerImpl.java:110)\n    at org.apache.cxf.jaxb.JAXBEncoderDecoder.writeObject(JAXBEncoderDecoder.java:642)\n    at org.apache.cxf.jaxb.JAXBEncoderDecoder.marshall(JAXBEncoderDecoder.java:244)\n    ... 11 more\nCaused by: com.sun.istack.SAXException2: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\njavax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\n    at com.sun.xml.bind.v2.runtime.XMLSerializer.reportError(XMLSerializer.java:217)\n    at com.sun.xml.bind.v2.runtime.XMLSerializer.reportError(XMLSerializer.java:232)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:117)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:100)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeBody(ElementBeanInfoImpl.java:302)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeRoot(ElementBeanInfoImpl.java:309)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeRoot(ElementBeanInfoImpl.java:45)\n    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:464)\n    at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:298)\n    ... 15 more\nCaused by: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getBeanInfo(JAXBContextImpl.java:603)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:114)\n    ... 21 more\n\norg.apache.cxf.interceptor.Fault: Marshalling Error: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\n    at org.apache.cxf.jaxb.JAXBEncoderDecoder.marshall(JAXBEncoderDecoder.java:267)\n    at org.apache.cxf.jaxb.io.DataWriterImpl.write(DataWriterImpl.java:239)\n    at org.apache.cxf.interceptor.AbstractOutDatabindingInterceptor.writeParts(AbstractOutDatabindingInterceptor.java:118)\n    at org.apache.cxf.wsdl.interceptors.BareOutInterceptor.handleMessage(BareOutInterceptor.java:68)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\n    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:528)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:439)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:354)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:312)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:332)\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:318)\n    at com.webservices.ClientExample.main(ClientExample.java:27)\nCaused by: javax.xml.bind.MarshalException\n - with linked exception:\n[com.sun.istack.SAXException2: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\njavax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context]\n    at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:301)\n    at com.sun.xml.bind.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:226)\n    at javax.xml.bind.helpers.AbstractMarshallerImpl.marshal(AbstractMarshallerImpl.java:110)\n    at org.apache.cxf.jaxb.JAXBEncoderDecoder.writeObject(JAXBEncoderDecoder.java:642)\n    at org.apache.cxf.jaxb.JAXBEncoderDecoder.marshall(JAXBEncoderDecoder.java:244)\n    ... 11 more\nCaused by: com.sun.istack.SAXException2: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\njavax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\n    at com.sun.xml.bind.v2.runtime.XMLSerializer.reportError(XMLSerializer.java:217)\n    at com.sun.xml.bind.v2.runtime.XMLSerializer.reportError(XMLSerializer.java:232)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:117)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:100)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeBody(ElementBeanInfoImpl.java:302)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeRoot(ElementBeanInfoImpl.java:309)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl.serializeRoot(ElementBeanInfoImpl.java:45)\n    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:464)\n    at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:298)\n    ... 15 more\nCaused by: javax.xml.bind.JAXBException: https.www_w3schools_com.xml.CelsiusToFahrenheit is not known to this context\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getBeanInfo(JAXBContextImpl.java:603)\n    at com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:114)\n    ... 21 more\n</code></pre>\n<p><strong>How do I get this code to work properly?</strong></p>\n"},{"tags":["java","certificate","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1682945672,"post_id":76146429,"comment_id":134287778,"body_markdown":"The field you set is an optional field that is hardly used when displaying a pdf. You essentially have to remove the widget of the form field from the *Annotations* of the page it currently is on. Then you have to add the widget to the *Annotations* of the new page. As an extra you should set the page of the widget like you did.","body":"The field you set is an optional field that is hardly used when displaying a pdf. You essentially have to remove the widget of the form field from the <i>Annotations</i> of the page it currently is on. Then you have to add the widget to the <i>Annotations</i> of the new page. As an extra you should set the page of the widget like you did."},{"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"score":0,"creation_date":1682954874,"post_id":76146429,"comment_id":134289700,"body_markdown":"@mkl can you please provide some code example","body":"@mkl can you please provide some code example"}],"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682940969,"creation_date":1682939130,"question_id":76146429,"body_markdown":"How I can change the page number of existing field in the pdf document using PDFBox. I have tried following code but it did n&#39;t work\r\n\r\n    public static void changePageNumberOfField(PDDocument document, String fieldName, int pageNumber) {\r\n            PDField field = document.getDocumentCatalog().getAcroForm(null).getField(fieldName);\r\n            PDPage page = document.getPage(pageNumber);\r\n    \r\n            for (PDAnnotationWidget widget : field.getWidgets()) {\r\n                widget.setPage(page);\r\n            }\r\n        }\r\n\r\nCan someone please help me the way to solve this?","title":"PDFBox: Change page number of exisiting field in the document","body":"<p>How I can change the page number of existing field in the pdf document using PDFBox. I have tried following code but it did n't work</p>\n<pre><code>public static void changePageNumberOfField(PDDocument document, String fieldName, int pageNumber) {\n        PDField field = document.getDocumentCatalog().getAcroForm(null).getField(fieldName);\n        PDPage page = document.getPage(pageNumber);\n\n        for (PDAnnotationWidget widget : field.getWidgets()) {\n            widget.setPage(page);\n        }\n    }\n</code></pre>\n<p>Can someone please help me the way to solve this?</p>\n"},{"tags":["java","c#","double","ieee-754"],"comments":[{"owner":{"account_id":6070507,"reputation":6906,"user_id":4739488,"display_name":"Flydog57"},"score":1,"creation_date":1682899984,"post_id":76143839,"comment_id":134283060,"body_markdown":"Ah, how to evaluate the equality of two double values! One of the eternal &quot;why doesn&#39;t my program act _correctly_&quot; questions. To my eyes, those two values are _equal_","body":"Ah, how to evaluate the equality of two double values! One of the eternal &quot;why doesn&#39;t my program act <i>correctly</i>&quot; questions. To my eyes, those two values are <i>equal</i>"},{"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"score":0,"creation_date":1682927892,"post_id":76143839,"comment_id":134285218,"body_markdown":"@Flydog57 certainly their binary representation should be equal, otherwise one, or the other has implemented IEEE-754 incorrectly, but it does seem odd that they differ in representation.","body":"@Flydog57 certainly their binary representation should be equal, otherwise one, or the other has implemented IEEE-754 incorrectly, but it does seem odd that they differ in representation."}],"answers":[{"tags":[],"owner":{"account_id":113187,"reputation":200947,"user_id":298225,"accept_rate":100,"display_name":"Eric Postpischil"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1682940505,"creation_date":1682900307,"answer_id":76144150,"question_id":76143839,"body_markdown":"&gt; Given that the maximum value of Double is 1.7976931348623157E+308…\r\n\r\nThis is incorrect. The format used for `Double` is the *binary64* or “double precision” format specified in the IEEE 754-2019 standard. In this format, a finite number is represented as &#177;*f*•2&lt;sup&gt;e&lt;/sup&gt;, where *f*, the fraction portion of the representation, is the number represented by a binary numeral with one digit (0 or 1) before the radix point and 52 bits after it and *e*, the exponent, is an integer in [−1022, 1023]. So the maximum representable finite value is +1.1111111111111111111111111111111111111111111111111111&lt;sub&gt;2&lt;/sub&gt;•2&lt;sup&gt;1023&lt;/sup&gt;, which equals +(2&lt;sup&gt;1&lt;/sup&gt;−2&lt;sup&gt;−52&lt;/sup&gt;)•2&lt;sup&gt;1023&lt;/sup&gt; = 2&lt;sup&gt;1024&lt;/sup&gt;−2&lt;sup&gt;971&lt;/sup&gt;, which is exactly 179,769,313,486,231,570,814,527,423,731,704,356,798,070,567,525,844,996,598,917,476,803,157,260,780,028,538,760,589,558,632,766,878,171,540,458,953,514,382,464,234,321,326,889,464,182,768,467,546,703,537,516,986,049,910,576,551,282,076,245,490,090,389,328,944,075,868,508,455,133,942,304,583,236,903,222,948,165,808,559,332,123,348,274,797,826,204,144,723,168,738,177,180,919,299,881,250,404,026,184,124,858,368, so the C# output is correct.\r\n\r\nThe Java output elides significant digits and conceals the true value. This is because the Java specification says that for the default formatting [“There must be at least one digit to represent the fractional part, and beyond that as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type `double`.”](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#toString(double))","title":"Understanding IEEE-754 64-bit fixed point representation in C# and Java","body":"<blockquote>\n<p>Given that the maximum value of Double is 1.7976931348623157E+308…</p>\n</blockquote>\n<p>This is incorrect. The format used for <code>Double</code> is the <em>binary64</em> or “double precision” format specified in the IEEE 754-2019 standard. In this format, a finite number is represented as ±<em>f</em>•2<sup>e</sup>, where <em>f</em>, the fraction portion of the representation, is the number represented by a binary numeral with one digit (0 or 1) before the radix point and 52 bits after it and <em>e</em>, the exponent, is an integer in [−1022, 1023]. So the maximum representable finite value is +1.1111111111111111111111111111111111111111111111111111<sub>2</sub>•2<sup>1023</sup>, which equals +(2<sup>1</sup>−2<sup>−52</sup>)•2<sup>1023</sup> = 2<sup>1024</sup>−2<sup>971</sup>, which is exactly 179,769,313,486,231,570,814,527,423,731,704,356,798,070,567,525,844,996,598,917,476,803,157,260,780,028,538,760,589,558,632,766,878,171,540,458,953,514,382,464,234,321,326,889,464,182,768,467,546,703,537,516,986,049,910,576,551,282,076,245,490,090,389,328,944,075,868,508,455,133,942,304,583,236,903,222,948,165,808,559,332,123,348,274,797,826,204,144,723,168,738,177,180,919,299,881,250,404,026,184,124,858,368, so the C# output is correct.</p>\n<p>The Java output elides significant digits and conceals the true value. This is because the Java specification says that for the default formatting <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#toString(double)\" rel=\"nofollow noreferrer\">“There must be at least one digit to represent the fractional part, and beyond that as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type <code>double</code>.”</a></p>\n"}],"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76144150,"answer_count":1,"score":2,"last_activity_date":1682940505,"creation_date":1682893896,"question_id":76143839,"body_markdown":"Consider the following Java code:\r\n\r\n```java\r\npublic class Program {\r\n    public static void main(String args[]) {\r\n      double number = Double.MAX_VALUE;\r\n      String formattedNumber = String.format(&quot;%f&quot;, number);\r\n      System.out.println(formattedNumber);\r\n    }\r\n}\r\n```\r\n\r\n&gt; 179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.000000\r\n\r\nConsider the equivalent C# code:\r\n\r\n```csharp\r\npublic class Program\r\n{\r\n    public static void Main(string[] args)\r\n    {\r\n        double value = double.MaxValue;\r\n        Console.WriteLine(value.ToString(&quot;F&quot;));\r\n    }\r\n}\r\n```\r\n\r\n&gt; 179769313486231570814527423731704356798070567525844996598917476803157260780028538760589558632766878171540458953514382464234321326889464182768467546703537516986049910576551282076245490090389328944075868508455133942304583236903222948165808559332123348274797826204144723168738177180919299881250404026184124858368.000\r\n\r\nGiven that the maximum value of `Double` is 1.7976931348623157E+308, to my knowledge, the Java output is correct; i.e. the floating-point value actually represents an integer where the first 17 digits are 17976931348623157, followed by 292 zeros.\r\n\r\nNote: Converting `double` to `BigInteger` in C# yields the same result:\r\n\r\n```csharp\r\nBigInteger value = (BigInteger)double.MaxValue;\r\nConsole.WriteLine(value);\r\n```\r\n\r\n&gt; 179769313486231570814527423731704356798070567525844996598917476803157260780028538760589558632766878171540458953514382464234321326889464182768467546703537516986049910576551282076245490090389328944075868508455133942304583236903222948165808559332123348274797826204144723168738177180919299881250404026184124858368\r\n\r\n**Questions**\r\n- Why are the values wildly different, and which one should be considered correct?\r\n- If C# is actually incorrect, how would I obtain the correct, or identical output that Java produced?","title":"Understanding IEEE-754 64-bit fixed point representation in C# and Java","body":"<p>Consider the following Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Program {\n    public static void main(String args[]) {\n      double number = Double.MAX_VALUE;\n      String formattedNumber = String.format(&quot;%f&quot;, number);\n      System.out.println(formattedNumber);\n    }\n}\n</code></pre>\n<blockquote>\n<p>179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.000000</p>\n</blockquote>\n<p>Consider the equivalent C# code:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public class Program\n{\n    public static void Main(string[] args)\n    {\n        double value = double.MaxValue;\n        Console.WriteLine(value.ToString(&quot;F&quot;));\n    }\n}\n</code></pre>\n<blockquote>\n<p>179769313486231570814527423731704356798070567525844996598917476803157260780028538760589558632766878171540458953514382464234321326889464182768467546703537516986049910576551282076245490090389328944075868508455133942304583236903222948165808559332123348274797826204144723168738177180919299881250404026184124858368.000</p>\n</blockquote>\n<p>Given that the maximum value of <code>Double</code> is 1.7976931348623157E+308, to my knowledge, the Java output is correct; i.e. the floating-point value actually represents an integer where the first 17 digits are 17976931348623157, followed by 292 zeros.</p>\n<p>Note: Converting <code>double</code> to <code>BigInteger</code> in C# yields the same result:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>BigInteger value = (BigInteger)double.MaxValue;\nConsole.WriteLine(value);\n</code></pre>\n<blockquote>\n<p>179769313486231570814527423731704356798070567525844996598917476803157260780028538760589558632766878171540458953514382464234321326889464182768467546703537516986049910576551282076245490090389328944075868508455133942304583236903222948165808559332123348274797826204144723168738177180919299881250404026184124858368</p>\n</blockquote>\n<p><strong>Questions</strong></p>\n<ul>\n<li>Why are the values wildly different, and which one should be considered correct?</li>\n<li>If C# is actually incorrect, how would I obtain the correct, or identical output that Java produced?</li>\n</ul>\n"},{"tags":["java","ssl","alfresco"],"comments":[{"owner":{"account_id":13939472,"reputation":45,"user_id":10065772,"display_name":"HNP"},"score":0,"creation_date":1682940446,"post_id":75233812,"comment_id":134286898,"body_markdown":"After more researching, I found the solution for install alfresco ce 7.3 and its works : [link](https://javaworld-abhinav.blogspot.com/2022/05/setup-acs-7-ass-2-and-local-windows.html)","body":"After more researching, I found the solution for install alfresco ce 7.3 and its works : <a href=\"https://javaworld-abhinav.blogspot.com/2022/05/setup-acs-7-ass-2-and-local-windows.html\" rel=\"nofollow noreferrer\">link</a>"}],"owner":{"account_id":13939472,"reputation":45,"user_id":10065772,"display_name":"HNP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682940315,"creation_date":1674648774,"question_id":75233812,"body_markdown":"I want to install alfresco community edition 7.3 on windows 10.\r\nI used below repo for generate keystore:\r\nhttps://github.com/Alfresco/alfresco-ssl-generator\r\nand this command:\r\n\r\n    run.cmd -alfrescoversion community -keystorepass “password&quot; -truststorepass “password&quot;\r\n\r\nI get exception when i start tomcat:\r\n\r\n        org.alfresco.error.AlfrescoRuntimeException: 00250002 Keystores are invalid\r\n    \tat \r\n    ...\r\n    Caused by: org.alfresco.error.AlfrescoRuntimeException: 00250001 Failed to create key: metadata\r\n     in key store: \r\n       Location: classpath:alfresco/keystore/keystore\r\n       Provider: null\r\n       Type:     pkcs12\r\n\r\nalfresco-global.properties:\r\n\r\n\r\n        dir.root=/alfresco-tls/alfresco/alf_data\r\n        dir.keystore=${dir.root}/keystore\r\n       ...\r\n        index.subsystem.name=solr6\r\n        solr.secureComms=secret\r\n        solr.port=8983\r\n        solr.sharedSecret=password\r\n        \r\n        encryption.ssl.keystore.location=${dir.keystore}/ssl.keystore\r\n        encryption.ssl.keystore.type=JCEKS\r\n        encryption.ssl.keystore.keyMetaData.location=\r\n        encryption.ssl.truststore.location=${dir.keystore}/ssl.truststore\r\n        encryption.ssl.truststore.type=JCEKS\r\n        encryption.ssl.truststore.keyMetaData.location=\r\n         # secret key keystore configuration\r\n        encryption.keystore.location=${dir.keystore}/keystore\r\n        encryption.keystore.keyMetaData.location=\r\n        encryption.keystore.type=JCEKS\r\n\r\n","title":"invalid keystore in alfresco community editon 7.3","body":"<p>I want to install alfresco community edition 7.3 on windows 10.\nI used below repo for generate keystore:\n<a href=\"https://github.com/Alfresco/alfresco-ssl-generator\" rel=\"nofollow noreferrer\">https://github.com/Alfresco/alfresco-ssl-generator</a>\nand this command:</p>\n<pre><code>run.cmd -alfrescoversion community -keystorepass “password&quot; -truststorepass “password&quot;\n</code></pre>\n<p>I get exception when i start tomcat:</p>\n<pre><code>    org.alfresco.error.AlfrescoRuntimeException: 00250002 Keystores are invalid\n    at \n...\nCaused by: org.alfresco.error.AlfrescoRuntimeException: 00250001 Failed to create key: metadata\n in key store: \n   Location: classpath:alfresco/keystore/keystore\n   Provider: null\n   Type:     pkcs12\n</code></pre>\n<p>alfresco-global.properties:</p>\n<pre><code>    dir.root=/alfresco-tls/alfresco/alf_data\n    dir.keystore=${dir.root}/keystore\n   ...\n    index.subsystem.name=solr6\n    solr.secureComms=secret\n    solr.port=8983\n    solr.sharedSecret=password\n    \n    encryption.ssl.keystore.location=${dir.keystore}/ssl.keystore\n    encryption.ssl.keystore.type=JCEKS\n    encryption.ssl.keystore.keyMetaData.location=\n    encryption.ssl.truststore.location=${dir.keystore}/ssl.truststore\n    encryption.ssl.truststore.type=JCEKS\n    encryption.ssl.truststore.keyMetaData.location=\n     # secret key keystore configuration\n    encryption.keystore.location=${dir.keystore}/keystore\n    encryption.keystore.keyMetaData.location=\n    encryption.keystore.type=JCEKS\n</code></pre>\n"},{"tags":["java","eclipse","jar","manifest"],"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":1,"creation_date":1446109423,"post_id":33409797,"comment_id":54610140,"body_markdown":"There should be an option to use the manifest file of your workspace, it&#180;s on the last page if you are using the standard export. The standard that is checked here is `Generate the manifest file`.","body":"There should be an option to use the manifest file of your workspace, it&#180;s on the last page if you are using the standard export. The standard that is checked here is <code>Generate the manifest file</code>."},{"owner":{"account_id":6936955,"reputation":17,"user_id":5324550,"display_name":"TheSporech"},"score":0,"creation_date":1446109531,"post_id":33409797,"comment_id":54610212,"body_markdown":"I just went back and tried to export it again, and couldn&#39;t see that option :|. My eclipse broke a while back, so i upgraded to Mars-1. I am also on Mac. Think that has anything to do with it?","body":"I just went back and tried to export it again, and couldn&#39;t see that option :|. My eclipse broke a while back, so i upgraded to Mars-1. I am also on Mac. Think that has anything to do with it?"},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1446109882,"post_id":33409797,"comment_id":54610439,"body_markdown":"as said in the accepted answer of [this question](http://stackoverflow.com/questions/3045668/ma nifest-mf-is-overwritten-by-ecplise-during-jar-export) there should be mark to do it, but it seems as it is no longer possible with eclipse and the runnable jar","body":"as said in the accepted answer of [this question](<a href=\"http://stackoverflow.com/questions/3045668/ma\">stackoverflow.com/questions/3045668/ma</a> nifest-mf-is-overwritten-by-ecplise-during-jar-export) there should be mark to do it, but it seems as it is no longer possible with eclipse and the runnable jar"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1446111866,"post_id":33409797,"comment_id":54611651,"body_markdown":"If you&#39;re using a &quot;Runnable jar&quot; and there&#39;s no option about the manifest, perhaps just exporting as a &quot;jar&quot; will do what you want -- there is an option on the &quot;jar&quot; export to include a manifest, and to either generate one or use one that you write, and that would (help) make the jar one you could run with java -jar x.jar","body":"If you&#39;re using a &quot;Runnable jar&quot; and there&#39;s no option about the manifest, perhaps just exporting as a &quot;jar&quot; will do what you want -- there is an option on the &quot;jar&quot; export to include a manifest, and to either generate one or use one that you write, and that would (help) make the jar one you could run with java -jar x.jar"}],"answers":[{"tags":[],"owner":{"account_id":28471423,"reputation":1,"user_id":21786687,"display_name":"user21786687"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682940167,"creation_date":1682940167,"answer_id":76146516,"question_id":33409797,"body_markdown":"When you compile a Java project in Eclipse, the build process generates a new MANIFEST.MF file with default attributes and replaces the one you have created in your project&#39;s META-INF directory. This is why you are seeing the warning message.\r\n\r\nTo avoid this, you can instruct Eclipse to use your own manifest file instead of generating a new one. To do this, follow these steps:\r\n\r\nRight-click on your project and select &quot;Properties.&quot;\r\nIn the Properties dialog, navigate to &quot;Java Build Path&quot; and select the &quot;Libraries&quot; tab.\r\nExpand the JRE System Library entry and select &quot;Access rules.&quot;\r\nClick &quot;Add&quot; and enter &quot;META-INF/MANIFEST.MF&quot; as the &quot;Access rule pattern.&quot;\r\nSelect &quot;Forbidden&quot; as the &quot;Resolution&quot; and click &quot;OK.&quot;\r\nClick &quot;OK&quot; to close the dialog and save the changes.\r\nNow, when you compile your project, Eclipse will use your own MANIFEST.MF file instead of generating a new one.","title":"Why is my manifest file &#39;no longer in the Jar&#39;?","body":"<p>When you compile a Java project in Eclipse, the build process generates a new MANIFEST.MF file with default attributes and replaces the one you have created in your project's META-INF directory. This is why you are seeing the warning message.</p>\n<p>To avoid this, you can instruct Eclipse to use your own manifest file instead of generating a new one. To do this, follow these steps:</p>\n<p>Right-click on your project and select &quot;Properties.&quot;\nIn the Properties dialog, navigate to &quot;Java Build Path&quot; and select the &quot;Libraries&quot; tab.\nExpand the JRE System Library entry and select &quot;Access rules.&quot;\nClick &quot;Add&quot; and enter &quot;META-INF/MANIFEST.MF&quot; as the &quot;Access rule pattern.&quot;\nSelect &quot;Forbidden&quot; as the &quot;Resolution&quot; and click &quot;OK.&quot;\nClick &quot;OK&quot; to close the dialog and save the changes.\nNow, when you compile your project, Eclipse will use your own MANIFEST.MF file instead of generating a new one.</p>\n"}],"owner":{"account_id":6936955,"reputation":17,"user_id":5324550,"display_name":"TheSporech"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1722,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682940167,"creation_date":1446109261,"question_id":33409797,"body_markdown":"I&#39;m trying to compile a runnable jar file, and to do so, I wrote a manifest file. When eclipse is finished compiling, one of the warnings is\r\n&#39;Project/src/META-INF/MANIFEST.MF was replaced by the generated MANIFEST.MF and is no longer in the jar.&#39; Why does this happen, and how do I stop it?\r\n\r\nThanks in advance. ","title":"Why is my manifest file &#39;no longer in the Jar&#39;?","body":"<p>I'm trying to compile a runnable jar file, and to do so, I wrote a manifest file. When eclipse is finished compiling, one of the warnings is\n'Project/src/META-INF/MANIFEST.MF was replaced by the generated MANIFEST.MF and is no longer in the jar.' Why does this happen, and how do I stop it?</p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["java","android","google-maps","google-places-api","google-places-autocomplete"],"answers":[{"tags":[],"owner":{"account_id":26514101,"reputation":16,"user_id":20148883,"display_name":"mrl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682939743,"creation_date":1682939743,"answer_id":76146481,"question_id":76146425,"body_markdown":"Clear caches and start Android Studio again, to invalidate and restart, select File &gt; Invalidate Caches / Restart... This will restart Android Studio and clean the caches, which can assist in resolving difficulties with the designer preview.","title":"Does not recognize AutocompleteSupportFragment from places library","body":"<p>Clear caches and start Android Studio again, to invalidate and restart, select File &gt; Invalidate Caches / Restart... This will restart Android Studio and clean the caches, which can assist in resolving difficulties with the designer preview.</p>\n"}],"owner":{"account_id":28336850,"reputation":3,"user_id":21670464,"display_name":"A..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76146481,"answer_count":1,"score":0,"last_activity_date":1682939743,"creation_date":1682939080,"question_id":76146425,"body_markdown":"Designer tells me unknown fragment, but it seems like im importing the library correctly as import com.google.android.libraries.places.widget.AutocompleteSupportFragment; does not generate error and the palces api seems to be correctly refenenced as well. Does anyone know why it might be? i thought that maybe the library no longer holds it, but official sources still have it ...\r\n\r\nPart of the xml layout that generates error\r\n```\r\n&lt;fragment\r\n        android:id=&quot;@+id/autocomplete_fragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n  android:name=&quot;com.google.android.libraries.places.widget.AutocompleteSupportFragment&quot;/&gt; ```\r\n\r\n\r\n```\r\ninicializing it in the java class\r\n```\r\nAutocompleteSupportFragment autocompleteFragment = (AutocompleteSupportFragment)   \r\n           getSupportFragmentManager().findFragmentById(R.id.autocomplete_fragment);\r\n```\r\n\r\n\r\n\r\n\r\nIve looked for information in developer android and maps platform but everything seems to be the same. I have not yet written the functionality of the fragment as it does not recognize it on the first place. I dont know if that has any influence on it.","title":"Does not recognize AutocompleteSupportFragment from places library","body":"<p>Designer tells me unknown fragment, but it seems like im importing the library correctly as import com.google.android.libraries.places.widget.AutocompleteSupportFragment; does not generate error and the palces api seems to be correctly refenenced as well. Does anyone know why it might be? i thought that maybe the library no longer holds it, but official sources still have it ...</p>\n<p>Part of the xml layout that generates error</p>\n<pre><code>&lt;fragment\n        android:id=&quot;@+id/autocomplete_fragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n  android:name=&quot;com.google.android.libraries.places.widget.AutocompleteSupportFragment&quot;/&gt; ```\n\n\n</code></pre>\n<p>inicializing it in the java class</p>\n<pre><code>AutocompleteSupportFragment autocompleteFragment = (AutocompleteSupportFragment)   \n           getSupportFragmentManager().findFragmentById(R.id.autocomplete_fragment);\n</code></pre>\n<p>Ive looked for information in developer android and maps platform but everything seems to be the same. I have not yet written the functionality of the fragment as it does not recognize it on the first place. I dont know if that has any influence on it.</p>\n"},{"tags":["java","multithreading","executorservice"],"answers":[{"tags":[],"owner":{"account_id":103312,"reputation":2165,"user_id":276780,"accept_rate":89,"display_name":"Syntax"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1463582069,"creation_date":1287020106,"answer_id":3929435,"question_id":3929342,"body_markdown":"Taken from the Javadoc:\r\n\r\n&gt; Method &lt;tt&gt;`submit`&lt;/tt&gt; extends base method {@link Executor#`execute`} by creating and \r\n&gt; returning a {@link Future} that can be used to cancel execution and/or wait for \r\n&gt; completion.\r\n\r\nPersonally I prefer the use of execute because it feels more declarative, although this really is a matter of personal preference.\r\n\r\nTo give more information: in the case of the `ExecutorService` implementation, the core implementation being returned by the call to `Executors.newSingleThreadedExecutor()` is a `ThreadPoolExecutor`.\r\n\r\nThe `submit` calls are provided by its parent `AbstractExecutorService` and all call execute internally. execute is overridden/provided by the `ThreadPoolExecutor` directly.","title":"Choose between ExecutorService&#39;s submit and ExecutorService&#39;s execute","body":"<p>Taken from the Javadoc:</p>\n\n<blockquote>\n  <p>Method <code>submit</code> extends base method {@link Executor#<code>execute</code>} by creating and \n  returning a {@link Future} that can be used to cancel execution and/or wait for \n  completion.</p>\n</blockquote>\n\n<p>Personally I prefer the use of execute because it feels more declarative, although this really is a matter of personal preference.</p>\n\n<p>To give more information: in the case of the <code>ExecutorService</code> implementation, the core implementation being returned by the call to <code>Executors.newSingleThreadedExecutor()</code> is a <code>ThreadPoolExecutor</code>.</p>\n\n<p>The <code>submit</code> calls are provided by its parent <code>AbstractExecutorService</code> and all call execute internally. execute is overridden/provided by the <code>ThreadPoolExecutor</code> directly.</p>\n"},{"tags":[],"owner":{"account_id":188971,"reputation":3864,"user_id":428013,"accept_rate":85,"display_name":"Steven"},"down_vote_count":8,"up_vote_count":21,"is_accepted":false,"score":13,"last_activity_date":1287022161,"creation_date":1287022161,"answer_id":3929550,"question_id":3929342,"body_markdown":"if you dont care about the return type, use execute. it&#39;s the same as submit, just without the return of Future.","title":"Choose between ExecutorService&#39;s submit and ExecutorService&#39;s execute","body":"<p>if you dont care about the return type, use execute. it's the same as submit, just without the return of Future.</p>\n"},{"tags":[],"owner":{"account_id":72917,"reputation":2289,"user_id":210289,"display_name":"hochraldo"},"down_vote_count":0,"up_vote_count":220,"is_accepted":true,"score":220,"last_activity_date":1370209757,"creation_date":1287657239,"answer_id":3986509,"question_id":3929342,"body_markdown":"There is a difference concerning exception/error handling.\r\n\r\nA task queued with `execute()` that generates some `Throwable` will cause the `UncaughtExceptionHandler` for the `Thread` running the task to be invoked. The default `UncaughtExceptionHandler`, which typically prints the `Throwable` stack trace to `System.err`, will be invoked if no custom handler has been installed.\r\n\r\nOn the other hand, a `Throwable` generated by a task queued with `submit()` will bind the `Throwable` to the `Future` that was produced from the call to `submit()`. Calling `get()` on that `Future` will throw an `ExecutionException` with the original `Throwable` as its cause (accessible by calling `getCause()` on the `ExecutionException`).\r\n","title":"Choose between ExecutorService&#39;s submit and ExecutorService&#39;s execute","body":"<p>There is a difference concerning exception/error handling.</p>\n\n<p>A task queued with <code>execute()</code> that generates some <code>Throwable</code> will cause the <code>UncaughtExceptionHandler</code> for the <code>Thread</code> running the task to be invoked. The default <code>UncaughtExceptionHandler</code>, which typically prints the <code>Throwable</code> stack trace to <code>System.err</code>, will be invoked if no custom handler has been installed.</p>\n\n<p>On the other hand, a <code>Throwable</code> generated by a task queued with <code>submit()</code> will bind the <code>Throwable</code> to the <code>Future</code> that was produced from the call to <code>submit()</code>. Calling <code>get()</code> on that <code>Future</code> will throw an <code>ExecutionException</code> with the original <code>Throwable</code> as its cause (accessible by calling <code>getCause()</code> on the <code>ExecutionException</code>).</p>\n"},{"tags":[],"owner":{"account_id":968413,"reputation":3817,"user_id":991432,"display_name":"rxg"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1475690723,"creation_date":1371113886,"answer_id":17083038,"question_id":3929342,"body_markdown":"From the [Javadoc][1]:\r\n\r\n&gt; The command may execute in a new thread, in a pooled thread, or in the calling thread, at the discretion of the Executor implementation.\r\n\r\nSo depending on the implementation of `Executor` you may find that the submitting thread blocks while the task is executing.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html#execute-java.lang.Runnable-","title":"Choose between ExecutorService&#39;s submit and ExecutorService&#39;s execute","body":"<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html#execute-java.lang.Runnable-\" rel=\"nofollow\">Javadoc</a>:</p>\n\n<blockquote>\n  <p>The command may execute in a new thread, in a pooled thread, or in the calling thread, at the discretion of the Executor implementation.</p>\n</blockquote>\n\n<p>So depending on the implementation of <code>Executor</code> you may find that the submitting thread blocks while the task is executing.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1682939668,"creation_date":1455600570,"answer_id":35424481,"question_id":3929342,"body_markdown":"***execute***: Use it for fire and forget calls\r\n\r\nFrom [ExecutorService][1] by **docs.oracle.com**\r\n\r\n***submit:***\r\n\r\n&gt;Method submit extends base method Executor.execute(Runnable) by creating and returning a Future that can be used to cancel execution and/or wait for completion\r\n\r\n`submit(Callable&lt;T&gt; task)`\r\n\r\n  \r\n&gt; Submits a value-returning task for execution and returns a Future\r\n    representing the pending results of the task.\r\n\r\n`Future&lt;?&gt; submit(Runnable task)`\r\n\r\n&gt; Submits a Runnable task for execution and returns a Future representing that\r\n    task.\r\n\r\n\r\n    void execute(Runnable command)\r\n\r\n&gt; Executes the given command at some time in the future. The command may execute in a new thread, in a pooled thread, or in the calling thread, at the discretion of the Executor implementation.\r\n\r\n\r\nYou have to take precaution while using `submit()`. It hides exception in the framework itself unless you embed your task code in `try{} catch{}` block.\r\n\r\n**Example code:** This code swallows `Arithmetic exception : / by zero`.\r\n\r\n    import java.util.concurrent.*;\r\n    import java.util.*;\r\n    \r\n    public class ExecuteSubmitDemo{\r\n    \tpublic ExecuteSubmitDemo()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;creating service&quot;);\r\n    \t\tExecutorService service = Executors.newFixedThreadPool(10);\r\n    \t\t//ExtendedExecutor service = new ExtendedExecutor();\r\n    \t\tservice.submit(new Runnable(){\r\n    \t\t\t\t public void run(){\r\n    \t\t\t\t\tint a=4, b = 0;\r\n    \t\t\t\t\tSystem.out.println(&quot;a and b=&quot;+a+&quot;:&quot;+b);\r\n    \t\t\t\t\tSystem.out.println(&quot;a/b:&quot;+(a/b));\r\n    \t\t\t\t\tSystem.out.println(&quot;Thread Name in Runnable after divide by zero:&quot;+Thread.currentThread().getName());\r\n    \t\t\t\t }\r\n    \t\t\t});\r\n    \t\tservice.shutdown();\r\n    \t}\r\n    \tpublic static void main(String args[]){\r\n    \t\tExecuteSubmitDemo demo = new ExecuteSubmitDemo();\r\n    \t}\r\n    }\r\n\r\noutput:\r\n\r\n    java ExecuteSubmitDemo\r\n    creating service\r\n    a and b=4:0\r\n\r\nSame code throws by replacing `submit()` with `execute`() :\r\n\r\n Replace\r\n\r\n    service.submit(new Runnable(){\r\n\r\nwith\r\n\r\n    service.execute(new Runnable(){\r\n\r\noutput:\r\n\r\n    java ExecuteSubmitDemo\r\n    creating service\r\n    a and b=4:0\r\n    Exception in thread &quot;pool-1-thread-1&quot; java.lang.ArithmeticException: / by zero\r\n            at ExecuteSubmitDemo$1.run(ExecuteSubmitDemo.java:14)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n            at java.lang.Thread.run(Thread.java:744)\r\n\r\n***How to handle the these type of scenarios while using submit()?***\r\n\r\n1. Embed your Task code ( *Either Runnable or Callable implementation) with try{} catch{} block code*\r\n2. Implement `CustomThreadPoolExecutor` as explained in [ThreadPoolExecutor][2] by **docs.oracle.com** with `ExtendedExecutor` class handling `afterExecute` method\r\n\r\n**New solution:**\r\n \r\n\r\n    import java.util.concurrent.*;\r\n    import java.util.*;\r\n\r\n    public class ExecuteSubmitDemo{\r\n    \tpublic ExecuteSubmitDemo()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;creating service&quot;);\r\n    \t\t//ExecutorService service = Executors.newFixedThreadPool(10);\r\n            /* Refer to linked Oracle documentation page for ExtendedExecutor  source code */\r\n    \t\tExtendedExecutor service = new ExtendedExecutor();\r\n    \t\tservice.submit(new Runnable(){\r\n    \t\t\t\t public void run(){\r\n    \t\t\t\t\tint a=4, b = 0;\r\n    \t\t\t\t\tSystem.out.println(&quot;a and b=&quot;+a+&quot;:&quot;+b);\r\n    \t\t\t\t\tSystem.out.println(&quot;a/b:&quot;+(a/b));\r\n    \t\t\t\t\tSystem.out.println(&quot;Thread Name in Runnable after divide by zero:&quot;+Thread.currentThread().getName());\r\n    \t\t\t\t }\r\n    \t\t\t});\r\n    \t\tservice.shutdown();\r\n    \t}\r\n    \tpublic static void main(String args[]){\r\n    \t\tExecuteSubmitDemo demo = new ExecuteSubmitDemo();\r\n    \t}\r\n    }\r\n    \r\n   output:\r\n\r\n    java ExecuteSubmitDemo\r\n    creating service\r\n    a and b=4:0\r\n    java.lang.ArithmeticException: / by zero\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Choose between ExecutorService&#39;s submit and ExecutorService&#39;s execute","body":"<p><em><strong>execute</strong></em>: Use it for fire and forget calls</p>\n<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a> by <strong>docs.oracle.com</strong></p>\n<p><em><strong>submit:</strong></em></p>\n<blockquote>\n<p>Method submit extends base method Executor.execute(Runnable) by creating and returning a Future that can be used to cancel execution and/or wait for completion</p>\n</blockquote>\n<p><code>submit(Callable&lt;T&gt; task)</code></p>\n<blockquote>\n<p>Submits a value-returning task for execution and returns a Future\nrepresenting the pending results of the task.</p>\n</blockquote>\n<p><code>Future&lt;?&gt; submit(Runnable task)</code></p>\n<blockquote>\n<p>Submits a Runnable task for execution and returns a Future representing that\ntask.</p>\n</blockquote>\n<pre><code>void execute(Runnable command)\n</code></pre>\n<blockquote>\n<p>Executes the given command at some time in the future. The command may execute in a new thread, in a pooled thread, or in the calling thread, at the discretion of the Executor implementation.</p>\n</blockquote>\n<p>You have to take precaution while using <code>submit()</code>. It hides exception in the framework itself unless you embed your task code in <code>try{} catch{}</code> block.</p>\n<p><strong>Example code:</strong> This code swallows <code>Arithmetic exception : / by zero</code>.</p>\n<pre><code>import java.util.concurrent.*;\nimport java.util.*;\n\npublic class ExecuteSubmitDemo{\n    public ExecuteSubmitDemo()\n    {\n        System.out.println(&quot;creating service&quot;);\n        ExecutorService service = Executors.newFixedThreadPool(10);\n        //ExtendedExecutor service = new ExtendedExecutor();\n        service.submit(new Runnable(){\n                 public void run(){\n                    int a=4, b = 0;\n                    System.out.println(&quot;a and b=&quot;+a+&quot;:&quot;+b);\n                    System.out.println(&quot;a/b:&quot;+(a/b));\n                    System.out.println(&quot;Thread Name in Runnable after divide by zero:&quot;+Thread.currentThread().getName());\n                 }\n            });\n        service.shutdown();\n    }\n    public static void main(String args[]){\n        ExecuteSubmitDemo demo = new ExecuteSubmitDemo();\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>java ExecuteSubmitDemo\ncreating service\na and b=4:0\n</code></pre>\n<p>Same code throws by replacing <code>submit()</code> with <code>execute</code>() :</p>\n<p>Replace</p>\n<pre><code>service.submit(new Runnable(){\n</code></pre>\n<p>with</p>\n<pre><code>service.execute(new Runnable(){\n</code></pre>\n<p>output:</p>\n<pre><code>java ExecuteSubmitDemo\ncreating service\na and b=4:0\nException in thread &quot;pool-1-thread-1&quot; java.lang.ArithmeticException: / by zero\n        at ExecuteSubmitDemo$1.run(ExecuteSubmitDemo.java:14)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n<p><em><strong>How to handle the these type of scenarios while using submit()?</strong></em></p>\n<ol>\n<li>Embed your Task code ( <em>Either Runnable or Callable implementation) with try{} catch{} block code</em></li>\n<li>Implement <code>CustomThreadPoolExecutor</code> as explained in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a> by <strong>docs.oracle.com</strong> with <code>ExtendedExecutor</code> class handling <code>afterExecute</code> method</li>\n</ol>\n<p><strong>New solution:</strong></p>\n<pre><code>import java.util.concurrent.*;\nimport java.util.*;\n\npublic class ExecuteSubmitDemo{\n    public ExecuteSubmitDemo()\n    {\n        System.out.println(&quot;creating service&quot;);\n        //ExecutorService service = Executors.newFixedThreadPool(10);\n        /* Refer to linked Oracle documentation page for ExtendedExecutor  source code */\n        ExtendedExecutor service = new ExtendedExecutor();\n        service.submit(new Runnable(){\n                 public void run(){\n                    int a=4, b = 0;\n                    System.out.println(&quot;a and b=&quot;+a+&quot;:&quot;+b);\n                    System.out.println(&quot;a/b:&quot;+(a/b));\n                    System.out.println(&quot;Thread Name in Runnable after divide by zero:&quot;+Thread.currentThread().getName());\n                 }\n            });\n        service.shutdown();\n    }\n    public static void main(String args[]){\n        ExecuteSubmitDemo demo = new ExecuteSubmitDemo();\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>java ExecuteSubmitDemo\ncreating service\na and b=4:0\njava.lang.ArithmeticException: / by zero\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1461966949,"creation_date":1461966949,"answer_id":36948036,"question_id":3929342,"body_markdown":"The full answer is a composition of two answers that were published here (plus a bit &quot;extra&quot;):\r\n\r\n * By submitting a task (vs. executing it) you get back a future which can be used to get the result or cancel the action. You don&#39;t have this kind of control when you `execute` (because its return type id `void`)\r\n * `execute` expects a `Runnable` while `submit` can take either a `Runnable` or a `Callable` as an argument (for more info about the difference between the two - see below).\r\n * `execute` bubbles up any unchecked-exceptions right away (it cannot throw checked exceptions!!!), while `submit` binds *any* kind of exception to the future that returns as a result, and only when you call `future.get()` a the (wrapped) exception will be thrown . The Throwable that you&#39;ll get is an instance of `ExecutionException` and if you&#39;ll call this object&#39;s `getCause()` it will return the original Throwable.\r\n\r\n\r\nA few more (related) points:\r\n\r\n - Even if the task that you want to `submit` does not require returning a\r\n   result, you can still use `Callable&lt;Void&gt;` (instead of using a `Runnable`). \r\n - Cancellation of tasks can be done using the [interrupt][1] mechanism. Here&#39;s [an example][2] of how to implement a cancellation policy\r\n\r\n\r\nTo sum up, it&#39;s a better practice to use `submit` with a `Callable` (vs. `execute` with a `Runnable`). And I&#39;ll quote from &quot;Java concurrency in practice&quot; By Brian Goetz:\r\n\r\n&gt; **6.3.2 Result-bearing tasks: Callable and Future** \r\n&gt;\r\n&gt; The Executor framework uses Runnable as its basic task representation. Runnable is a fairly\r\n&gt; limiting abstraction; run cannot return a value or throw checked\r\n&gt; exceptions, although it can have side effects such as writing to a log\r\n&gt; file or placing a result in a shared data structure. Many tasks are\r\n&gt; effectively deferred computations—executing a database query, fetching\r\n&gt; a resource over the network, or computing a complicated function. For\r\n&gt; these types of tasks, Callable is a better abstraction: it expects\r\n&gt; that the main entry point, call, will return a value and anticipates\r\n&gt; that it might throw an exception.7 Executors includes several utility\r\n&gt; methods for wrapping other types of tasks, including Runnable and\r\n&gt; java.security.PrivilegedAction, with a Callable.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html\r\n  [2]: https://stackoverflow.com/a/6599544/1057429","title":"Choose between ExecutorService&#39;s submit and ExecutorService&#39;s execute","body":"<p>The full answer is a composition of two answers that were published here (plus a bit \"extra\"):</p>\n\n<ul>\n<li>By submitting a task (vs. executing it) you get back a future which can be used to get the result or cancel the action. You don't have this kind of control when you <code>execute</code> (because its return type id <code>void</code>)</li>\n<li><code>execute</code> expects a <code>Runnable</code> while <code>submit</code> can take either a <code>Runnable</code> or a <code>Callable</code> as an argument (for more info about the difference between the two - see below).</li>\n<li><code>execute</code> bubbles up any unchecked-exceptions right away (it cannot throw checked exceptions!!!), while <code>submit</code> binds <em>any</em> kind of exception to the future that returns as a result, and only when you call <code>future.get()</code> a the (wrapped) exception will be thrown . The Throwable that you'll get is an instance of <code>ExecutionException</code> and if you'll call this object's <code>getCause()</code> it will return the original Throwable.</li>\n</ul>\n\n<p>A few more (related) points:</p>\n\n<ul>\n<li>Even if the task that you want to <code>submit</code> does not require returning a\nresult, you can still use <code>Callable&lt;Void&gt;</code> (instead of using a <code>Runnable</code>). </li>\n<li>Cancellation of tasks can be done using the <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html\" rel=\"nofollow noreferrer\">interrupt</a> mechanism. Here's <a href=\"https://stackoverflow.com/a/6599544/1057429\">an example</a> of how to implement a cancellation policy</li>\n</ul>\n\n<p>To sum up, it's a better practice to use <code>submit</code> with a <code>Callable</code> (vs. <code>execute</code> with a <code>Runnable</code>). And I'll quote from \"Java concurrency in practice\" By Brian Goetz:</p>\n\n<blockquote>\n  <p><strong>6.3.2 Result-bearing tasks: Callable and Future</strong> </p>\n  \n  <p>The Executor framework uses Runnable as its basic task representation. Runnable is a fairly\n  limiting abstraction; run cannot return a value or throw checked\n  exceptions, although it can have side effects such as writing to a log\n  file or placing a result in a shared data structure. Many tasks are\n  effectively deferred computations—executing a database query, fetching\n  a resource over the network, or computing a complicated function. For\n  these types of tasks, Callable is a better abstraction: it expects\n  that the main entry point, call, will return a value and anticipates\n  that it might throw an exception.7 Executors includes several utility\n  methods for wrapping other types of tasks, including Runnable and\n  java.security.PrivilegedAction, with a Callable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":277571,"reputation":1676,"user_id":571653,"accept_rate":68,"display_name":"abhihello123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574776444,"creation_date":1574776444,"answer_id":59052495,"question_id":3929342,"body_markdown":"Just adding to the accepted answer-\r\n\r\n&gt; However, exceptions thrown from tasks make it to the uncaught\r\n&gt; exception handler only for tasks submitted with execute(); for tasks\r\n&gt; submitted with submit() to the executor service, any thrown exception\r\n&gt; is considered to be part of the task’s return status.\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://medium.com/@aozturk/how-to-handle-uncaught-exceptions-in-java-abf819347906","title":"Choose between ExecutorService&#39;s submit and ExecutorService&#39;s execute","body":"<p>Just adding to the accepted answer-</p>\n\n<blockquote>\n  <p>However, exceptions thrown from tasks make it to the uncaught\n  exception handler only for tasks submitted with execute(); for tasks\n  submitted with submit() to the executor service, any thrown exception\n  is considered to be part of the task’s return status.</p>\n</blockquote>\n\n<p><a href=\"https://medium.com/@aozturk/how-to-handle-uncaught-exceptions-in-java-abf819347906\" rel=\"nofollow noreferrer\">Source</a></p>\n"}],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112581,"favorite_count":0,"down_vote_count":0,"up_vote_count":213,"accepted_answer_id":3986509,"answer_count":7,"score":213,"last_activity_date":1682939668,"creation_date":1287018658,"question_id":3929342,"body_markdown":"How should I choose between **ExecutorService&#39;s** [submit][1] or [execute][2], if the returned value is not my concern? \r\n\r\nIf I test both, I didn&#39;t see any differences among the two except the returned value.\r\n\r\n    ExecutorService threadExecutor = Executors.newSingleThreadExecutor();\r\n    threadExecutor.execute(new Task());\r\n\r\n\r\n----------\r\n\r\n\r\n    ExecutorService threadExecutor = Executors.newSingleThreadExecutor();\r\n    threadExecutor.submit(new Task());\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#submit-java.util.concurrent.Callable-\r\n\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html#execute-java.lang.Runnable-","title":"Choose between ExecutorService&#39;s submit and ExecutorService&#39;s execute","body":"<p>How should I choose between <strong>ExecutorService's</strong> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#submit-java.util.concurrent.Callable-\" rel=\"noreferrer\">submit</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html#execute-java.lang.Runnable-\" rel=\"noreferrer\">execute</a>, if the returned value is not my concern? </p>\n\n<p>If I test both, I didn't see any differences among the two except the returned value.</p>\n\n<pre><code>ExecutorService threadExecutor = Executors.newSingleThreadExecutor();\nthreadExecutor.execute(new Task());\n</code></pre>\n\n<hr>\n\n<pre><code>ExecutorService threadExecutor = Executors.newSingleThreadExecutor();\nthreadExecutor.submit(new Task());\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","spy"],"comments":[{"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"score":0,"creation_date":1682866964,"post_id":76141592,"comment_id":134279200,"body_markdown":"It feels like you are rather trying to unit test SupportClass.populateMap instead of MyClass.method.\nMyClass.method only responsability is to call supportClass.pomulateMap with the right map, that is all there is to test, you can use Mockito.verify to ensure the populateMap has been called with the right parameter","body":"It feels like you are rather trying to unit test SupportClass.populateMap instead of MyClass.method. MyClass.method only responsability is to call supportClass.pomulateMap with the right map, that is all there is to test, you can use Mockito.verify to ensure the populateMap has been called with the right parameter"},{"owner":{"account_id":4800418,"reputation":221,"user_id":3877207,"display_name":"Pi53"},"score":0,"creation_date":1682922756,"post_id":76141592,"comment_id":134284682,"body_markdown":"@Kurojin, I don&#39;t have a choice but to call the actual method as I want the Map to be populated  as it is used ahead in certain conditions and other method calls of MyClass which needs to be tested. As the map is always empty I&#39;m not able to increase the coverage. Also, I can&#39;t really populate the Map in the test class as it is being initialized in the method itself before the call and the method returns nothing as well. Rest of the methods of the SupportClass are all being stubbed as they are returning something.","body":"@Kurojin, I don&#39;t have a choice but to call the actual method as I want the Map to be populated  as it is used ahead in certain conditions and other method calls of MyClass which needs to be tested. As the map is always empty I&#39;m not able to increase the coverage. Also, I can&#39;t really populate the Map in the test class as it is being initialized in the method itself before the call and the method returns nothing as well. Rest of the methods of the SupportClass are all being stubbed as they are returning something."},{"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"score":0,"creation_date":1682939070,"post_id":76141592,"comment_id":134286692,"body_markdown":"the ideal would be to make populateMap return a result and not mutate data as a side effect.\nThe problem with calling real implementations of classes outside your test scope, is that if SupportClass has problems, it will propagate to your MyClass.","body":"the ideal would be to make populateMap return a result and not mutate data as a side effect. The problem with calling real implementations of classes outside your test scope, is that if SupportClass has problems, it will propagate to your MyClass."},{"owner":{"account_id":4800418,"reputation":221,"user_id":3877207,"display_name":"Pi53"},"score":0,"creation_date":1682959195,"post_id":76141592,"comment_id":134290612,"body_markdown":"I completely agree with what you&#39;re saying but unfortunately I&#39;m not allowed to make changes to any class. The changes that are required needs to be documented to be taken up later in the year. Main focus is to improve coverage to the legacy code which is very poorly designed so I&#39;m stuck with this without a solution and coverage below 85% is unacceptable. Without a solution for this my coverage just cannot go over 60%.","body":"I completely agree with what you&#39;re saying but unfortunately I&#39;m not allowed to make changes to any class. The changes that are required needs to be documented to be taken up later in the year. Main focus is to improve coverage to the legacy code which is very poorly designed so I&#39;m stuck with this without a solution and coverage below 85% is unacceptable. Without a solution for this my coverage just cannot go over 60%."}],"answers":[{"tags":[],"owner":{"account_id":18109566,"reputation":78,"user_id":13166706,"display_name":"Kerem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682864397,"creation_date":1682863975,"answer_id":76141693,"question_id":76141592,"body_markdown":"You need to inject mocks to the spied object.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyClassTest {\r\n\r\n        private MyClass myClass;\r\n\r\n        @Mock\r\n        private UtilityClass utilityClassMock;\r\n\r\n        @InjectMocks\r\n        private SupportClass supportClassSpy;\r\n\r\n        @BeforeEach\r\n        public void setUp() {\r\n            supportClassSpy = Mockito.spy(new SupportClass());\r\n            myClass = new MyClass(supportClassSpy);\r\n        }\r\n\r\n        @Test\r\n        public void yourTest() {\r\n            // ...\r\n        }\r\n\r\n    }\r\n\r\nSee [Injecting a Mock Into a Spy][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-annotations#injecting-a-mock-into-spy","title":"Spy actual method call, not able to stub the calls in the actual method by mocking","body":"<p>You need to inject mocks to the spied object.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class MyClassTest {\n\n    private MyClass myClass;\n\n    @Mock\n    private UtilityClass utilityClassMock;\n\n    @InjectMocks\n    private SupportClass supportClassSpy;\n\n    @BeforeEach\n    public void setUp() {\n        supportClassSpy = Mockito.spy(new SupportClass());\n        myClass = new MyClass(supportClassSpy);\n    }\n\n    @Test\n    public void yourTest() {\n        // ...\n    }\n\n}\n</code></pre>\n<p>See <a href=\"https://www.baeldung.com/mockito-annotations#injecting-a-mock-into-spy\" rel=\"nofollow noreferrer\">Injecting a Mock Into a Spy</a></p>\n"},{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682939394,"creation_date":1682939394,"answer_id":76146450,"question_id":76141592,"body_markdown":"create a fake support class that extends the real one for the test purpose.\r\nOverride the populateMap method with a predictible logic that suits your test case.\r\nIn your test, pass the fake support class instead of the real one","title":"Spy actual method call, not able to stub the calls in the actual method by mocking","body":"<p>create a fake support class that extends the real one for the test purpose.\nOverride the populateMap method with a predictible logic that suits your test case.\nIn your test, pass the fake support class instead of the real one</p>\n"}],"owner":{"account_id":4800418,"reputation":221,"user_id":3877207,"display_name":"Pi53"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682966776,"accepted_answer_id":76146450,"answer_count":2,"score":0,"last_activity_date":1682939394,"creation_date":1682862576,"question_id":76141592,"body_markdown":"I&#39;ve got an existing class for which I need to write unit test cases using Junit and Mockito. \r\nThe method I&#39;m trying to test calls a method of another class which returns nothing but populates a Map which is passed as a parameter to the method call. \r\nI&#39;m using @Spy to call the actual method as I want to get the Map in my test method for further usage. But the actual method that is being called has dependency on another Utility class whose behavior I&#39;m trying to mock using @Mock but the Utility class is not being mocked and I&#39;m getting an NPE. \r\nCan someone please help with what needs to be done in this case.\r\n\r\n```\r\npublic class MyClass {\r\n  \r\n  public Response method() {//Method to be tested\r\n    Map&lt;String, Object&gt; mapToBePopulated = new HashMap&lt;&gt;();\r\n    supportClass.populateMap(mapToBePopulated);\r\n  }\r\n}\r\npublic class SupportClass {\r\n  @Autowired\r\n  UtilityClass utility;\r\n\r\n  public void populateMap(Map&lt;String, List&lt;Object&gt;&gt; mapToBePopulated) {\r\n    //populateMap\r\n    utility.doSomething(mapToBePopulated); //I&#39;m mocking Utility class but when the debugger comes to this line the utility object is Null which throws the NPE.\r\n  }\r\n  //this method is being stubbed\r\n  public Object doSomething(String one) {\r\n  //some lines\r\n  }\r\n}\r\n\r\n```\r\nEdit: Added other methods that are part of the SupportClass which I&#39;m stubbing so can&#39;t really use @InjectMocks here. Is there a way to avoid calling the actual method and still populate the Map?","title":"Spy actual method call, not able to stub the calls in the actual method by mocking","body":"<p>I've got an existing class for which I need to write unit test cases using Junit and Mockito.\nThe method I'm trying to test calls a method of another class which returns nothing but populates a Map which is passed as a parameter to the method call.\nI'm using @Spy to call the actual method as I want to get the Map in my test method for further usage. But the actual method that is being called has dependency on another Utility class whose behavior I'm trying to mock using @Mock but the Utility class is not being mocked and I'm getting an NPE.\nCan someone please help with what needs to be done in this case.</p>\n<pre><code>public class MyClass {\n  \n  public Response method() {//Method to be tested\n    Map&lt;String, Object&gt; mapToBePopulated = new HashMap&lt;&gt;();\n    supportClass.populateMap(mapToBePopulated);\n  }\n}\npublic class SupportClass {\n  @Autowired\n  UtilityClass utility;\n\n  public void populateMap(Map&lt;String, List&lt;Object&gt;&gt; mapToBePopulated) {\n    //populateMap\n    utility.doSomething(mapToBePopulated); //I'm mocking Utility class but when the debugger comes to this line the utility object is Null which throws the NPE.\n  }\n  //this method is being stubbed\n  public Object doSomething(String one) {\n  //some lines\n  }\n}\n\n</code></pre>\n<p>Edit: Added other methods that are part of the SupportClass which I'm stubbing so can't really use @InjectMocks here. Is there a way to avoid calling the actual method and still populate the Map?</p>\n"},{"tags":["java","maven","junit","junit5","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1681735769,"post_id":76034598,"comment_id":134099833,"body_markdown":"Why do you really need that? If they ran successful what is the need for that? You might try this: https://github.com/fabriciorby/maven-surefire-junit5-tree-reporter for timing best use the simplest solution from the users guide: https://junit.org/junit5/docs/current/user-guide/#extensions-lifecycle-callbacks-before-after-execution","body":"Why do you really need that? If they ran successful what is the need for that? You might try this: <a href=\"https://github.com/fabriciorby/maven-surefire-junit5-tree-reporter\" rel=\"nofollow noreferrer\">github.com/fabriciorby/maven-surefire-junit5-tree-reporter</a> for timing best use the simplest solution from the users guide: <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-lifecycle-callbacks-before-after-execution\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1681737646,"post_id":76034598,"comment_id":134100352,"body_markdown":"@khmarbaise I just also like verbose output and anyone can easily see all of the tests by just scanning the build output. It is also providing additional information for the ones who are interested without the need of digging the source code. By the way, your answer was the one which worked out for me. Would you like to provide a separate answer instead of a comment, so I could mark your answer as the one which I accepted. Thank you mate!","body":"@khmarbaise I just also like verbose output and anyone can easily see all of the tests by just scanning the build output. It is also providing additional information for the ones who are interested without the need of digging the source code. By the way, your answer was the one which worked out for me. Would you like to provide a separate answer instead of a comment, so I could mark your answer as the one which I accepted. Thank you mate!"}],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681734369,"creation_date":1681733552,"answer_id":76035038,"question_id":76034598,"body_markdown":"You can achieve this using `org.junit.jupiter.api.extension.TestWatcher` extension.\r\n\r\n1. Create an extension class like below.\r\n    ```java\r\n    package com.seenukarthi.testutils.extensions;\r\n\r\n    import org.junit.jupiter.api.extension.ExtensionContext;\r\n    import org.junit.jupiter.api.extension.TestWatcher;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    public class TestsLogExtension implements TestWatcher {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(&quot;TestLogger&quot;);\r\n    \r\n        @Override\r\n        public void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\r\n            log.info(&quot;{}#{} is disabled because {}&quot;,\r\n                context.getTestClass().orElse(Object.class),\r\n                context.getDisplayName(), reason.orElse(&quot;&quot;));\r\n        }\r\n    \r\n        @Override\r\n        public void testSuccessful(ExtensionContext context) {\r\n            log.info(&quot;{}#{} is Success&quot;,\r\n                context.getTestClass().orElse(Object.class), context.getDisplayName());\r\n        }\r\n    \r\n        @Override\r\n        public void testAborted(ExtensionContext context, Throwable cause) {\r\n            log.error(&quot;{}#{} is aborted&quot;,\r\n                context.getTestClass().orElse(Object.class), context.getDisplayName(), cause);\r\n        }\r\n    \r\n        @Override\r\n        public void testFailed(ExtensionContext context, Throwable cause) {\r\n            log.error(&quot;{}#{} is failed&quot;,\r\n                context.getTestClass().orElse(Object.class), context.getDisplayName());\r\n        }\r\n    }\r\n\r\n    ```\r\n2. Use the extension in your test classes like the one below.\r\n    ```java\r\n    package com.seenukarthi.test;\r\n    \r\n    import com.seenukarthi.testutils.extensions.TestsLogExtension;\r\n    import org.junit.jupiter.api.*;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n   \r\n    @ExtendWith({TestsLogExtension.class})\r\n    class BeanTest {\r\n        @Test\r\n        void init() {\r\n            //Your test case.\r\n        }\r\n    }\r\n    ```\r\n\r\nThis will print the method tested with the results.","title":"Junit5/Jupiter - Print method names during maven build for","body":"<p>You can achieve this using <code>org.junit.jupiter.api.extension.TestWatcher</code> extension.</p>\n<ol>\n<li>Create an extension class like below.\n<pre class=\"lang-java prettyprint-override\"><code>package com.seenukarthi.testutils.extensions;\n\nimport org.junit.jupiter.api.extension.ExtensionContext;\nimport org.junit.jupiter.api.extension.TestWatcher;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.Optional;\n\npublic class TestsLogExtension implements TestWatcher {\n\n    private static final Logger log = LoggerFactory.getLogger(&quot;TestLogger&quot;);\n\n    @Override\n    public void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\n        log.info(&quot;{}#{} is disabled because {}&quot;,\n            context.getTestClass().orElse(Object.class),\n            context.getDisplayName(), reason.orElse(&quot;&quot;));\n    }\n\n    @Override\n    public void testSuccessful(ExtensionContext context) {\n        log.info(&quot;{}#{} is Success&quot;,\n            context.getTestClass().orElse(Object.class), context.getDisplayName());\n    }\n\n    @Override\n    public void testAborted(ExtensionContext context, Throwable cause) {\n        log.error(&quot;{}#{} is aborted&quot;,\n            context.getTestClass().orElse(Object.class), context.getDisplayName(), cause);\n    }\n\n    @Override\n    public void testFailed(ExtensionContext context, Throwable cause) {\n        log.error(&quot;{}#{} is failed&quot;,\n            context.getTestClass().orElse(Object.class), context.getDisplayName());\n    }\n}\n\n</code></pre>\n</li>\n<li>Use the extension in your test classes like the one below.\n<pre class=\"lang-java prettyprint-override\"><code>package com.seenukarthi.test;\n\nimport com.seenukarthi.testutils.extensions.TestsLogExtension;\nimport org.junit.jupiter.api.*;\nimport org.junit.jupiter.api.extension.ExtendWith;\n\n@ExtendWith({TestsLogExtension.class})\nclass BeanTest {\n    @Test\n    void init() {\n        //Your test case.\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>This will print the method tested with the results.</p>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682938932,"creation_date":1682938932,"answer_id":76146402,"question_id":76034598,"body_markdown":"In the comment section khmarbaise dropped a link which worked out for me quite well. I requested him to promote it as an answer instead of a comment so I could mark it as resolved, however he didn&#39;t so I am posting his answer here.\r\n\r\nI used https://github.com/fabriciorby/maven-surefire-junit5-tree-reporter plugin to generate more detailed output. It was previously like this: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd after using the plugin it became like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VEpHh.png\r\n  [2]: https://i.stack.imgur.com/zAET3.jpg","title":"Junit5/Jupiter - Print method names during maven build for","body":"<p>In the comment section khmarbaise dropped a link which worked out for me quite well. I requested him to promote it as an answer instead of a comment so I could mark it as resolved, however he didn't so I am posting his answer here.</p>\n<p>I used <a href=\"https://github.com/fabriciorby/maven-surefire-junit5-tree-reporter\" rel=\"nofollow noreferrer\">https://github.com/fabriciorby/maven-surefire-junit5-tree-reporter</a> plugin to generate more detailed output. It was previously like this:</p>\n<p><a href=\"https://i.stack.imgur.com/VEpHh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VEpHh.png\" alt=\"enter image description here\" /></a></p>\n<p>And after using the plugin it became like this:</p>\n<p><a href=\"https://i.stack.imgur.com/zAET3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zAET3.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76146402,"answer_count":2,"score":1,"last_activity_date":1682938932,"creation_date":1681730451,"question_id":76034598,"body_markdown":"By default all class names of the unit tests are printed on the console. However I would like to include all methods/individual tests within the class to be printed on the console output when running maven verify.\r\n\r\nMy current output looks like this:\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see the class `KeyStoreUtilsShould` contains 35 individual tests which I would like to be printed one by one. It would also nice to have to see the execution time, which failed and which passed. The reason why I would like to see the individual tests is to easily inspect which tests are already included without digging the source code.\r\n\r\nTo reproduce:\r\n- clone the project: https://github.com/Hakky54/sslcontext-kickstart\r\n- run `mvn clean verify`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VEpHh.png","title":"Junit5/Jupiter - Print method names during maven build for","body":"<p>By default all class names of the unit tests are printed on the console. However I would like to include all methods/individual tests within the class to be printed on the console output when running maven verify.</p>\n<p>My current output looks like this:\n<a href=\"https://i.stack.imgur.com/VEpHh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VEpHh.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the class <code>KeyStoreUtilsShould</code> contains 35 individual tests which I would like to be printed one by one. It would also nice to have to see the execution time, which failed and which passed. The reason why I would like to see the individual tests is to easily inspect which tests are already included without digging the source code.</p>\n<p>To reproduce:</p>\n<ul>\n<li>clone the project: <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">https://github.com/Hakky54/sslcontext-kickstart</a></li>\n<li>run <code>mvn clean verify</code></li>\n</ul>\n"},{"tags":["java","sap-commerce-cloud"],"comments":[{"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"score":0,"creation_date":1537440540,"post_id":52422844,"comment_id":91789586,"body_markdown":"add your *items.xml for MyComponentModel. First, your Impex seems wrong here","body":"add your *items.xml for MyComponentModel. First, your Impex seems wrong here"},{"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"score":0,"creation_date":1537440724,"post_id":52422844,"comment_id":91789695,"body_markdown":"Are you trying to create this coponent in your Addon? If yes, follow [this answer](https://stackoverflow.com/questions/52035370/jsp-controller-not-found-for-custom-component-in-hybris-addon/52035785#52035785)","body":"Are you trying to create this coponent in your Addon? If yes, follow <a href=\"https://stackoverflow.com/questions/52035370/jsp-controller-not-found-for-custom-component-in-hybris-addon/52035785#52035785\">this answer</a>"},{"owner":{"account_id":3551677,"reputation":219,"user_id":2966401,"accept_rate":67,"display_name":"Stepan Tuhacek"},"score":0,"creation_date":1537513314,"post_id":52422844,"comment_id":91819431,"body_markdown":"I edited an impex. Yes, it&#39;s my addon. Now it&#39;s calling the controller, but it can not find a .jsp file. I put it on path `/WEB-INF/views/responsive/cms`, but I still get an error `Error processing component tag. currentComponent [MyComponentModel (8796093136412@1)] exception: File [/WEB-INF/views/responsive/cms/myComponent.jsp] not found`","body":"I edited an impex. Yes, it&#39;s my addon. Now it&#39;s calling the controller, but it can not find a .jsp file. I put it on path <code>&#47;WEB-INF&#47;views&#47;responsive&#47;cms</code>, but I still get an error <code>Error processing component tag. currentComponent [MyComponentModel (8796093136412@1)] exception: File [&#47;WEB-INF&#47;views&#47;responsive&#47;cms&#47;myComponent.jsp] not found</code>"},{"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"score":0,"creation_date":1537520332,"post_id":52422844,"comment_id":91822958,"body_markdown":"check my answer","body":"check my answer"}],"answers":[{"tags":[],"owner":{"account_id":8698672,"reputation":1814,"user_id":6509292,"display_name":"Johannes von Zmuda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537440408,"creation_date":1537440408,"answer_id":52423352,"question_id":52422844,"body_markdown":"The controller called for a cms component depends on the itemtype. You cannot create a JspIncludeComponent and expect a component controller for MyComponent to get called. \r\n\r\nTry this instead: \r\n\r\n    INSERT_UPDATE MyComponent;...","title":"Hybris component in Addon not calling controller","body":"<p>The controller called for a cms component depends on the itemtype. You cannot create a JspIncludeComponent and expect a component controller for MyComponent to get called. </p>\n\n<p>Try this instead: </p>\n\n<pre><code>INSERT_UPDATE MyComponent;...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1537953425,"creation_date":1537520316,"answer_id":52440153,"question_id":52422844,"body_markdown":"As you said, you are trying to create this component in the addon\r\n\r\nMake sure you followed the step I have mentioned [here][1]\r\n\r\n\r\n&gt; **Your comment:** I put it on path `/WEB-INF/views/responsive/cms`, but I still get an\r\n&gt; error Error processing component tag. currentComponent\r\n&gt; [MyComponentModel (8796093136412@1)] exception: `File\r\n&gt; [/WEB-INF/views/responsive/cms/myComponent.jsp] not found`\r\n\r\nDebug **getView** method of **AbstractCMSAddOnComponentController** to check the path.\r\n\r\nYou have to add your jsp to `/youraddon/acceleratoraddon/web/webroot/WEB-INF/views/responsive/cms/myComponent.jsp`, which later will be copied to your stroefront extension while build process.\r\n\r\n  [1]: https://stackoverflow.com/questions/52035370/jsp-controller-not-found-for-custom-component-in-hybris-addon/52035785#52035785","title":"Hybris component in Addon not calling controller","body":"<p>As you said, you are trying to create this component in the addon</p>\n\n<p>Make sure you followed the step I have mentioned <a href=\"https://stackoverflow.com/questions/52035370/jsp-controller-not-found-for-custom-component-in-hybris-addon/52035785#52035785\">here</a></p>\n\n<blockquote>\n  <p><strong>Your comment:</strong> I put it on path <code>/WEB-INF/views/responsive/cms</code>, but I still get an\n  error Error processing component tag. currentComponent\n  [MyComponentModel (8796093136412@1)] exception: <code>File\n  [/WEB-INF/views/responsive/cms/myComponent.jsp] not found</code></p>\n</blockquote>\n\n<p>Debug <strong>getView</strong> method of <strong>AbstractCMSAddOnComponentController</strong> to check the path.</p>\n\n<p>You have to add your jsp to <code>/youraddon/acceleratoraddon/web/webroot/WEB-INF/views/responsive/cms/myComponent.jsp</code>, which later will be copied to your stroefront extension while build process.</p>\n"},{"tags":[],"owner":{"account_id":24082560,"reputation":1,"user_id":18057036,"display_name":"sc1ientific"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682938673,"creation_date":1682938673,"answer_id":76146378,"question_id":52422844,"body_markdown":"Check extending class. Could be &quot;Accelerator&quot; is extra in AbstractAcceleratorCMSComponentController ","title":"Hybris component in Addon not calling controller","body":"<p>Check extending class. Could be &quot;Accelerator&quot; is extra in AbstractAcceleratorCMSComponentController</p>\n"}],"owner":{"account_id":3551677,"reputation":219,"user_id":2966401,"accept_rate":67,"display_name":"Stepan Tuhacek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4683,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52440153,"answer_count":3,"score":2,"last_activity_date":1682938673,"creation_date":1537438874,"question_id":52422844,"body_markdown":"I created my custom form component. After I added it in the smart edit, it doesn&#39;t call controller to fillIn the form.\r\nI created itemtype *MyComponentModel* in *-items.xml, checked in HAC deployment, it&#39;s there. \r\nI also added annotations like in this [answer][1]\r\n\r\n    @Controller(&quot;MyComponentController&quot;)\r\n    @RequestMapping(value = ControllerConstants.Actions.Cms.MyComponent)\r\n    public class MyComponentController extends AbstractAcceleratorCMSComponentController&lt;MyComponentModel&gt; {\r\n\r\nand the mapping value is in my ControllerConstants like this:\r\n\r\n    String _Prefix = &quot;/view/&quot;; // NOSONAR\r\n\tString _Suffix = &quot;Controller&quot;; // NOSONAR\r\n    String MyComponent = _Prefix + MyComponentModel._TYPECODE + _Suffix; // NOSONAR\r\n\r\nWhen I add it in smartedit on a page, the .jsp file is loaded (I can see some text), but as the controller isn&#39;t called\r\n\r\nAccording to Hybris doc, the called method in my controller should be this:\r\n\r\n    @Override\r\n    protected void fillModel(HttpServletRequest request, Model model, MyComponentModel component) {\r\n\r\nBut it isn&#39;t called, so I&#39;m not able to fill the form.\r\n\r\n    &lt;div class=&quot;span-20 last&quot;&gt;\r\n        I can see this text\r\n        &lt;div class=&quot;row item_container_holder&quot;&gt;\r\n            &lt;c:if test=&quot;${not empty MyForm}&quot;&gt;\r\n              &lt;%--this condition is false, form is empty--%&gt;\r\n\r\nNote that I also added component in impex, I have updated system in HAC, I tried to sync catalogs.\r\n\r\n   \r\n\r\n    INSERT_UPDATE MyComponent; $contentCV[unique = true]; uid[unique = true]       ; name                               ; &amp;componentRef\r\n    ;; MyComponent ; MyComponent ; MyComponent\r\n\r\nEDIT:\r\n\r\n*-items.xml\r\n   \r\n\r\n     &lt;itemtype code=&quot;MyComponent&quot; autocreate=&quot;true&quot; generate=&quot;true&quot; extends=&quot;SimpleCMSComponent&quot;\r\n                  jaloclass=&quot;mypackage.b2c.core.jalo.components.MyComponent&quot;&gt;\r\n            &lt;deployment table=&quot;MyComponents&quot; typecode=&quot;15900&quot;/&gt;\r\n            &lt;attributes&gt;\r\n                &lt;attribute qualifier=&quot;title&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n                    &lt;persistence type=&quot;property&quot; /&gt;\r\n                    &lt;modifiers /&gt;\r\n                    &lt;description&gt;Localized title of the component.&lt;/description&gt;\r\n                &lt;/attribute&gt;\r\n            &lt;/attributes&gt;\r\n        &lt;/itemtype&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37963140/2966401","title":"Hybris component in Addon not calling controller","body":"<p>I created my custom form component. After I added it in the smart edit, it doesn't call controller to fillIn the form.\nI created itemtype <em>MyComponentModel</em> in *-items.xml, checked in HAC deployment, it's there. \nI also added annotations like in this <a href=\"https://stackoverflow.com/a/37963140/2966401\">answer</a></p>\n\n<pre><code>@Controller(\"MyComponentController\")\n@RequestMapping(value = ControllerConstants.Actions.Cms.MyComponent)\npublic class MyComponentController extends AbstractAcceleratorCMSComponentController&lt;MyComponentModel&gt; {\n</code></pre>\n\n<p>and the mapping value is in my ControllerConstants like this:</p>\n\n<pre><code>String _Prefix = \"/view/\"; // NOSONAR\nString _Suffix = \"Controller\"; // NOSONAR\nString MyComponent = _Prefix + MyComponentModel._TYPECODE + _Suffix; // NOSONAR\n</code></pre>\n\n<p>When I add it in smartedit on a page, the .jsp file is loaded (I can see some text), but as the controller isn't called</p>\n\n<p>According to Hybris doc, the called method in my controller should be this:</p>\n\n<pre><code>@Override\nprotected void fillModel(HttpServletRequest request, Model model, MyComponentModel component) {\n</code></pre>\n\n<p>But it isn't called, so I'm not able to fill the form.</p>\n\n<pre><code>&lt;div class=\"span-20 last\"&gt;\n    I can see this text\n    &lt;div class=\"row item_container_holder\"&gt;\n        &lt;c:if test=\"${not empty MyForm}\"&gt;\n          &lt;%--this condition is false, form is empty--%&gt;\n</code></pre>\n\n<p>Note that I also added component in impex, I have updated system in HAC, I tried to sync catalogs.</p>\n\n<pre><code>INSERT_UPDATE MyComponent; $contentCV[unique = true]; uid[unique = true]       ; name                               ; &amp;componentRef\n;; MyComponent ; MyComponent ; MyComponent\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>*-items.xml</p>\n\n<pre><code> &lt;itemtype code=\"MyComponent\" autocreate=\"true\" generate=\"true\" extends=\"SimpleCMSComponent\"\n              jaloclass=\"mypackage.b2c.core.jalo.components.MyComponent\"&gt;\n        &lt;deployment table=\"MyComponents\" typecode=\"15900\"/&gt;\n        &lt;attributes&gt;\n            &lt;attribute qualifier=\"title\" type=\"localized:java.lang.String\"&gt;\n                &lt;persistence type=\"property\" /&gt;\n                &lt;modifiers /&gt;\n                &lt;description&gt;Localized title of the component.&lt;/description&gt;\n            &lt;/attribute&gt;\n        &lt;/attributes&gt;\n    &lt;/itemtype&gt;\n</code></pre>\n"},{"tags":["java","android","android-viewbinding","viewbinding"],"comments":[{"owner":{"account_id":6023206,"reputation":7991,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1647266061,"post_id":71468763,"comment_id":126321051,"body_markdown":"well i could be mistaken but i doubt that viewbinding will be able to handle this, i don&#39;t think there&#39;s support for switching out views","body":"well i could be mistaken but i doubt that viewbinding will be able to handle this, i don&#39;t think there&#39;s support for switching out views"},{"owner":{"account_id":6591768,"reputation":165,"user_id":5092695,"display_name":"Emefar"},"score":0,"creation_date":1647266274,"post_id":71468763,"comment_id":126321130,"body_markdown":"I guess you are using 1 BaseActivity and multiple normal activity. All activities has not any setContentView method right? Normal activities are extending BaseActivity and you are using always BaseActivity&#39;s XML file. And you are changing main_view, title_view or bottom_view sometimes. When you find solutution please let me know :)","body":"I guess you are using 1 BaseActivity and multiple normal activity. All activities has not any setContentView method right? Normal activities are extending BaseActivity and you are using always BaseActivity&#39;s XML file. And you are changing main_view, title_view or bottom_view sometimes. When you find solutution please let me know :)"},{"owner":{"account_id":9212866,"reputation":177,"user_id":6845311,"display_name":"Torima"},"score":0,"creation_date":1647266430,"post_id":71468763,"comment_id":126321204,"body_markdown":"Also check layout params of newly added view, to confirm it&#39;s size is not 0, or that some other view did not take whole screen and there is no space for new views. Also try activityBaseBinding.inflate(...)","body":"Also check layout params of newly added view, to confirm it&#39;s size is not 0, or that some other view did not take whole screen and there is no space for new views. Also try activityBaseBinding.inflate(...)"},{"owner":{"account_id":20737252,"reputation":296,"user_id":15227830,"display_name":"alpertign"},"score":0,"creation_date":1647267417,"post_id":71468763,"comment_id":126321631,"body_markdown":"@Torima newly added layout params are -1 so getLayoutInflater().inflate(layoutID, binding.coordinator, false); function probably gives null","body":"@Torima newly added layout params are -1 so getLayoutInflater().inflate(layoutID, binding.coordinator, false); function probably gives null"},{"owner":{"account_id":20737252,"reputation":296,"user_id":15227830,"display_name":"alpertign"},"score":0,"creation_date":1647267817,"post_id":71468763,"comment_id":126321817,"body_markdown":"TextView status = findViewById(R.id.status_element); is working but binding.statusElement is not working. I cannot change text, visibility or click listener with viewBinding. But i can change with findViewById. I cannot access status or any element via binding. And also i compared ids and 2 ids are equal.","body":"TextView status = findViewById(R.id.status_element); is working but binding.statusElement is not working. I cannot change text, visibility or click listener with viewBinding. But i can change with findViewById. I cannot access status or any element via binding. And also i compared ids and 2 ids are equal."},{"owner":{"account_id":9212866,"reputation":177,"user_id":6845311,"display_name":"Torima"},"score":0,"creation_date":1647268390,"post_id":71468763,"comment_id":126322067,"body_markdown":"@AlperenAcikgoz try setting new layout params like\n `tv.setLayoutParams(new ViewGroup.LayoutParams(\n    ViewGroup.LayoutParams.WRAP_CONTENT,\n    ViewGroup.LayoutParams.WRAP_CONTENT));`","body":"@AlperenAcikgoz try setting new layout params like  <code>tv.setLayoutParams(new ViewGroup.LayoutParams(     ViewGroup.LayoutParams.WRAP_CONTENT,     ViewGroup.LayoutParams.WRAP_CONTENT));</code>"},{"owner":{"account_id":9212866,"reputation":177,"user_id":6845311,"display_name":"Torima"},"score":0,"creation_date":1647268572,"post_id":71468763,"comment_id":126322146,"body_markdown":"Can you add onCreate of your activity? Do you have something like\n`binding = ActivityBaseBinding.inflate(layoutInflater)\n        setContentView(binding.root)`?","body":"Can you add onCreate of your activity? Do you have something like <code>binding = ActivityBaseBinding.inflate(layoutInflater)         setContentView(binding.root)</code>?"}],"owner":{"account_id":20737252,"reputation":296,"user_id":15227830,"display_name":"alpertign"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682936967,"creation_date":1647265375,"question_id":71468763,"body_markdown":"I am converting an old project to viewBinding. BaseActivity has a coordinator layout. App changes view of relative layout which has  `main_view` as id. For example when user opens WorkActivity, main_view switches with activity_work.\r\n\r\n**activity_base.xml**\r\n\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/coordinator&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/background_main_screen&quot;\r\n    android:focusable=&quot;true&quot;\r\n    android:focusableInTouchMode=&quot;true&quot;&gt;\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/toolbar_layout&quot;\r\n        layout=&quot;@layout/toolbar_layout&quot; /&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/main_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:visibility=&quot;gone&quot; /&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/title_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:visibility=&quot;gone&quot; /&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/bottom_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:visibility=&quot;gone&quot; /&gt;\r\n\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n**replaceViews function in BaseActivity:** \r\n\r\n```java\r\n    private void replaceViews(View holder, int layoutID) {\r\n        View toReplace = getLayoutInflater().inflate(layoutID, binding.coordinator, false);\r\n        ViewTools.replaceView(holder, toReplace);\r\n    }\r\n```\r\n\r\n\r\n\r\n**viewTools.replaceView function :** \r\n\r\n```java\r\n    public static void replaceView(View currentView, View newView) {\r\n        ViewGroup parent = getParent(currentView);\r\n        if (parent == null) {\r\n            return;\r\n        }\r\n        final int index = parent.indexOfChild(currentView);\r\n        removeView(currentView);\r\n        removeView(newView);\r\n        parent.addView(newView, index);\r\n    }\r\n```\r\n\r\nCode snippet below (from replaceViews function in BaseActivity) seems to be the trouble, since binding has no effect or layout inflater does not inflate the view.\r\n    \r\n```java\r\n    View toReplace = getLayoutInflater().inflate(layoutID, binding.coordinator, false);\r\n```\r\n\r\nIs viewBinding compatible with replace operations like this? Did I forget any operation for layoutInflater?","title":"ViewBinding not working properly when replacing views","body":"<p>I am converting an old project to viewBinding. BaseActivity has a coordinator layout. App changes view of relative layout which has  <code>main_view</code> as id. For example when user opens WorkActivity, main_view switches with activity_work.</p>\n<p><strong>activity_base.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/coordinator&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/background_main_screen&quot;\n    android:focusable=&quot;true&quot;\n    android:focusableInTouchMode=&quot;true&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/toolbar_layout&quot;\n        layout=&quot;@layout/toolbar_layout&quot; /&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/main_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:visibility=&quot;gone&quot; /&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/title_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:visibility=&quot;gone&quot; /&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/bottom_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:visibility=&quot;gone&quot; /&gt;\n\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p><strong>replaceViews function in BaseActivity:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void replaceViews(View holder, int layoutID) {\n        View toReplace = getLayoutInflater().inflate(layoutID, binding.coordinator, false);\n        ViewTools.replaceView(holder, toReplace);\n    }\n</code></pre>\n<p><strong>viewTools.replaceView function :</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void replaceView(View currentView, View newView) {\n        ViewGroup parent = getParent(currentView);\n        if (parent == null) {\n            return;\n        }\n        final int index = parent.indexOfChild(currentView);\n        removeView(currentView);\n        removeView(newView);\n        parent.addView(newView, index);\n    }\n</code></pre>\n<p>Code snippet below (from replaceViews function in BaseActivity) seems to be the trouble, since binding has no effect or layout inflater does not inflate the view.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    View toReplace = getLayoutInflater().inflate(layoutID, binding.coordinator, false);\n</code></pre>\n<p>Is viewBinding compatible with replace operations like this? Did I forget any operation for layoutInflater?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":13840921,"reputation":31,"user_id":9991282,"display_name":"SvenJu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682936794,"creation_date":1682930699,"answer_id":76145699,"question_id":76145619,"body_markdown":"The Object from the .save()-operation returned by the jpa-implementation (should be hibernate) can be used to get the b-instance by simply calling a.getB() and with that b-instance c can be accessed by calling b.getC().\r\n\r\nIf you turn on logging for spring jpa as described [here][1] you can see the extra activities started by the jpa-implementation when accessing b or c (called lazy loading). This can be changed by switching to eager loading (e.g. by using a fetch-/loadgraph, as described [here][2]). Because these are two or more activities on the database, a transactional context should be used (@transactional, see [here][3]). As commented by Mahmoud the default behavior is eager-loading.  \r\n\r\n\r\n  [1]: https://www.baeldung.com/sql-logging-spring-boot\r\n  [2]: https://www.baeldung.com/spring-data-jpa-named-entity-graphs\r\n  [3]: https://www.baeldung.com/transaction-configuration-with-jpa-and-spring","title":"Saving an entity that contains nested entities in spring data JPA","body":"<p>The Object from the .save()-operation returned by the jpa-implementation (should be hibernate) can be used to get the b-instance by simply calling a.getB() and with that b-instance c can be accessed by calling b.getC().</p>\n<p>If you turn on logging for spring jpa as described <a href=\"https://www.baeldung.com/sql-logging-spring-boot\" rel=\"nofollow noreferrer\">here</a> you can see the extra activities started by the jpa-implementation when accessing b or c (called lazy loading). This can be changed by switching to eager loading (e.g. by using a fetch-/loadgraph, as described <a href=\"https://www.baeldung.com/spring-data-jpa-named-entity-graphs\" rel=\"nofollow noreferrer\">here</a>). Because these are two or more activities on the database, a transactional context should be used (@transactional, see <a href=\"https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"nofollow noreferrer\">here</a>). As commented by Mahmoud the default behavior is eager-loading.</p>\n"}],"owner":{"account_id":28470071,"reputation":35,"user_id":21785522,"display_name":"Mahmoud Reda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":1,"score":0,"last_activity_date":1682936794,"creation_date":1682929491,"question_id":76145619,"body_markdown":"Imagine having three entities A, B, C as follows:\r\n\r\n```java\r\nclass A {\r\n    Long id;\r\n    @ManyToOne\r\n    B b;\r\n}\r\n```\r\n\r\n```java\r\nclass B {\r\n    Long id;\r\n    @ManyToOne\r\n    C c;\r\n}\r\n```\r\n\r\n\r\n```java\r\nclass C {\r\n    Long id;\r\n}\r\n```\r\n\r\nWhen saving an object `A` that has an object `B` inside and that object `B` contains only the id (already exists in the database), the returned object from the save method of `A` repository does not contain the full `B` object (i.e. does not contain `C`).\r\n\r\nIs there a way to get the B object without using the `B` repository?","title":"Saving an entity that contains nested entities in spring data JPA","body":"<p>Imagine having three entities A, B, C as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    Long id;\n    @ManyToOne\n    B b;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class B {\n    Long id;\n    @ManyToOne\n    C c;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class C {\n    Long id;\n}\n</code></pre>\n<p>When saving an object <code>A</code> that has an object <code>B</code> inside and that object <code>B</code> contains only the id (already exists in the database), the returned object from the save method of <code>A</code> repository does not contain the full <code>B</code> object (i.e. does not contain <code>C</code>).</p>\n<p>Is there a way to get the B object without using the <code>B</code> repository?</p>\n"},{"tags":["java","urlclassloader"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1682936585,"post_id":76146141,"comment_id":134286312,"body_markdown":"The `jar` command you shown here won&#39;t setup packages correctly, have you checked that `myjar.jar` contains `ubl4nk/Equity.class`? Test the jars first.","body":"The <code>jar</code> command you shown here won&#39;t setup packages correctly, have you checked that <code>myjar.jar</code> contains <code>ubl4nk&#47;Equity.class</code>? Test the jars first."},{"owner":{"account_id":11381114,"reputation":13,"user_id":8344003,"display_name":"Unknown BL4NK"},"score":0,"creation_date":1682937651,"post_id":76146141,"comment_id":134286470,"body_markdown":"@DuncG Yes you are right, i missed that the jar should contains the same structure as package name.","body":"@DuncG Yes you are right, i missed that the jar should contains the same structure as package name."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682936646,"creation_date":1682936646,"answer_id":76146214,"question_id":76146141,"body_markdown":"When you do\r\n\r\n    jar -cf myjar.jar *.class\r\n\r\nThe created jar does not include the `nbl4nk` folder. It only includes the `Equity` class, sitting at the root directory of the jar. Without the `nbl4nk` folder, a `URLClassLoader` cannot find the `nbl4nk` package, and hence cannot find `nbl4nk.Equity`.\r\n\r\nAssuming the class file is actually in a folder called `nbl4nk`, you should instead include the whole folder:\r\n\r\n```\r\njar -cf myjar.jar .\r\n```\r\n\r\nYou can also go up a directory, and run\r\n\r\n```\r\njar -cf myjar.jar nbl4nk\r\n```\r\n\r\n","title":"URLClassLoader is unable to load class in java","body":"<p>When you do</p>\n<pre><code>jar -cf myjar.jar *.class\n</code></pre>\n<p>The created jar does not include the <code>nbl4nk</code> folder. It only includes the <code>Equity</code> class, sitting at the root directory of the jar. Without the <code>nbl4nk</code> folder, a <code>URLClassLoader</code> cannot find the <code>nbl4nk</code> package, and hence cannot find <code>nbl4nk.Equity</code>.</p>\n<p>Assuming the class file is actually in a folder called <code>nbl4nk</code>, you should instead include the whole folder:</p>\n<pre><code>jar -cf myjar.jar .\n</code></pre>\n<p>You can also go up a directory, and run</p>\n<pre><code>jar -cf myjar.jar nbl4nk\n</code></pre>\n"}],"owner":{"account_id":11381114,"reputation":13,"user_id":8344003,"display_name":"Unknown BL4NK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76146214,"answer_count":1,"score":0,"last_activity_date":1682936646,"creation_date":1682935931,"question_id":76146141,"body_markdown":"I am trying to compile a java source file using the `javac` and command line and i want to load it dynamically at runtime using the URLClassLoader but it fails.\r\n\r\nMy Steps:&lt;br /&gt;\r\n1. This is the java source file:\r\n```\r\npackage ubl4nk;\r\n\r\nimport model.User; // &lt;------- This is imported from lib1.jar which i will include in the next step\r\nimport runner.Activity; // &lt;------- This is imported from lib2.jar which i will include in the next step\r\n\r\npublic class Equity {\r\n\t\r\n\tpublic void function1() {\r\n           // ...\r\n\t}\r\n\t\r\n\tpublic void function2() {\r\n           // ...\r\n\t}\r\n\t\t\r\n}\r\n```\r\n2. I run this command `javac -classpath lib1.jar;lib2.jar Equity.java` and then i get an output `Equity.class` file.\r\n3. I create a jar file from `Equity.class` using command `jar -cf myjar.jar *.class` and i get the output `myjar.jar`\r\n4. I want to load the `Equity` class in my program but it throws `java.lang.ClassNotFoundException: ubl4nk.Equity`:\r\n```\r\n        URL[] urls = new URL[]{\r\n            new File(&quot;C:\\\\Users\\\\FX506HC\\\\Desktop\\\\mtest\\\\lib1.jar&quot;).toURI().toURL(),\r\n            new File(&quot;C:\\\\Users\\\\FX506HC\\\\Desktop\\\\mtest\\\\lib2.jar&quot;).toURI().toURL(),\r\n            new File(&quot;C:\\\\Users\\\\FX506HC\\\\Desktop\\\\mtest\\\\myjar.jar&quot;).toURI().toURL()\r\n        };\r\n\r\n        ClassLoader cl = new URLClassLoader(urls);\r\n        Class cls = cl.loadClass(&quot;ubl4nk.Equity&quot;);\r\n\t\tSystem.out.println(cls.getName());\r\n```","title":"URLClassLoader is unable to load class in java","body":"<p>I am trying to compile a java source file using the <code>javac</code> and command line and i want to load it dynamically at runtime using the URLClassLoader but it fails.</p>\n<p>My Steps:<br /></p>\n<ol>\n<li>This is the java source file:</li>\n</ol>\n<pre><code>package ubl4nk;\n\nimport model.User; // &lt;------- This is imported from lib1.jar which i will include in the next step\nimport runner.Activity; // &lt;------- This is imported from lib2.jar which i will include in the next step\n\npublic class Equity {\n    \n    public void function1() {\n           // ...\n    }\n    \n    public void function2() {\n           // ...\n    }\n        \n}\n</code></pre>\n<ol start=\"2\">\n<li>I run this command <code>javac -classpath lib1.jar;lib2.jar Equity.java</code> and then i get an output <code>Equity.class</code> file.</li>\n<li>I create a jar file from <code>Equity.class</code> using command <code>jar -cf myjar.jar *.class</code> and i get the output <code>myjar.jar</code></li>\n<li>I want to load the <code>Equity</code> class in my program but it throws <code>java.lang.ClassNotFoundException: ubl4nk.Equity</code>:</li>\n</ol>\n<pre><code>        URL[] urls = new URL[]{\n            new File(&quot;C:\\\\Users\\\\FX506HC\\\\Desktop\\\\mtest\\\\lib1.jar&quot;).toURI().toURL(),\n            new File(&quot;C:\\\\Users\\\\FX506HC\\\\Desktop\\\\mtest\\\\lib2.jar&quot;).toURI().toURL(),\n            new File(&quot;C:\\\\Users\\\\FX506HC\\\\Desktop\\\\mtest\\\\myjar.jar&quot;).toURI().toURL()\n        };\n\n        ClassLoader cl = new URLClassLoader(urls);\n        Class cls = cl.loadClass(&quot;ubl4nk.Equity&quot;);\n        System.out.println(cls.getName());\n</code></pre>\n"},{"tags":["java","ip","range","lan"],"answers":[{"tags":[],"owner":{"account_id":1624087,"reputation":993,"user_id":1500049,"accept_rate":75,"display_name":"user1500049"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349888598,"creation_date":1349888598,"answer_id":12824653,"question_id":12035916,"body_markdown":"You can try using &quot;ping&quot;.\r\n\r\nThis post has some code on ping to start.\r\n\r\nhttps://stackoverflow.com/questions/2448666/how-to-do-a-true-java-ping-from-windows\r\n  ","title":"Java Local IP range detect","body":"<p>You can try using \"ping\".</p>\n\n<p>This post has some code on ping to start.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2448666/how-to-do-a-true-java-ping-from-windows\">How to do a true Java ping from Windows?</a></p>\n"},{"tags":[],"owner":{"account_id":955054,"reputation":5629,"user_id":980520,"accept_rate":90,"display_name":"lynks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1349889941,"creation_date":1349889294,"answer_id":12824803,"question_id":12035916,"body_markdown":"If you are wanting the actual local subnet IP range, rather than a list of alive IP addresses in the local subnet, you can use the following code to get the subnet mask size:\r\n\r\n    InetAddress localHost = Inet4Address.getLocalHost();\r\n    NetworkInterface ni = NetworkInterface.getByInetAddress(localHost);\r\n    InterfaceAddress ia = ni.getInterfaceAddresses().get(0);\r\n    short mask = ia.getNetworkPrefixLength();\r\n\r\nThat will give you a `short` primitive with a value of 1-32, probably 24. Then you can use \r\n\r\n    byte[] b = ia.getAddress().getAddress();\r\n\r\nWhich will give you a `byte[]` which you will mask against the subnet `mask` to give you the local address range in some usable format.\r\n\r\n&lt;hr&gt;\r\n\r\nAlternatively if you want a list of alive hosts on the local subnet, an arp-scan using [JPCap][1] is the method I would use.\r\n\r\n\r\n  [1]: http://netresearch.ics.uci.edu/kfujii/Jpcap/doc/","title":"Java Local IP range detect","body":"<p>If you are wanting the actual local subnet IP range, rather than a list of alive IP addresses in the local subnet, you can use the following code to get the subnet mask size:</p>\n\n<pre><code>InetAddress localHost = Inet4Address.getLocalHost();\nNetworkInterface ni = NetworkInterface.getByInetAddress(localHost);\nInterfaceAddress ia = ni.getInterfaceAddresses().get(0);\nshort mask = ia.getNetworkPrefixLength();\n</code></pre>\n\n<p>That will give you a <code>short</code> primitive with a value of 1-32, probably 24. Then you can use </p>\n\n<pre><code>byte[] b = ia.getAddress().getAddress();\n</code></pre>\n\n<p>Which will give you a <code>byte[]</code> which you will mask against the subnet <code>mask</code> to give you the local address range in some usable format.</p>\n\n<hr>\n\n<p>Alternatively if you want a list of alive hosts on the local subnet, an arp-scan using <a href=\"http://netresearch.ics.uci.edu/kfujii/Jpcap/doc/\" rel=\"nofollow\">JPCap</a> is the method I would use.</p>\n"}],"owner":{"account_id":1250085,"reputation":1430,"user_id":1210650,"accept_rate":70,"display_name":"Sanjay Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12824803,"answer_count":2,"score":0,"last_activity_date":1682936380,"creation_date":1345458091,"question_id":12035916,"body_markdown":"I am working on a LAN based software, for which I require to detect the range in which systems in the network lies, using Java. The function is required to be similar to &quot;Detect local IP range&quot; in Netscan, a Windows utility software.\r\n","title":"Java Local IP range detect","body":"<p>I am working on a LAN based software, for which I require to detect the range in which systems in the network lies, using Java. The function is required to be similar to &quot;Detect local IP range&quot; in Netscan, a Windows utility software.</p>\n"},{"tags":["java","spring","apache-kafka","spring-cloud-stream"],"comments":[{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1682418389,"post_id":76098429,"comment_id":134208468,"body_markdown":"What server are you talking about? Please be more specific","body":"What server are you talking about? Please be more specific"},{"owner":{"account_id":6015718,"reputation":41,"user_id":4724665,"display_name":"Sach"},"score":0,"creation_date":1682418812,"post_id":76098429,"comment_id":134208558,"body_markdown":"We have Sprint Boot application and for Kafka connectivity I am using Spring Cloud stream Kafka binder 3.2.6","body":"We have Sprint Boot application and for Kafka connectivity I am using Spring Cloud stream Kafka binder 3.2.6"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1682419046,"post_id":76098429,"comment_id":134208607,"body_markdown":"You did not answer my question. How can one possibly know which server/port you are asking about when you have not shared any details, stack trace. . .","body":"You did not answer my question. How can one possibly know which server/port you are asking about when you have not shared any details, stack trace. . ."},{"owner":{"account_id":6015718,"reputation":41,"user_id":4724665,"display_name":"Sach"},"score":0,"creation_date":1682934543,"post_id":76098429,"comment_id":134286026,"body_markdown":"I have updated the question with stack trace. Please check if that help. Actually what I am trying to understand is why Spring Cloud stream Kafka Binder is trying to consume the messages even if Application has failed to start.","body":"I have updated the question with stack trace. Please check if that help. Actually what I am trying to understand is why Spring Cloud stream Kafka Binder is trying to consume the messages even if Application has failed to start."},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1683031816,"post_id":76098429,"comment_id":134301557,"body_markdown":"You have `com.de.ve.CustomPublisher.send(CustomPublisher.java:78)`. I don&#39;t know what that is and how it is implemented but it is your code that sends a message using StreamBridge. Perhaps you can produce a small sample that reproduces the issue so we can look","body":"You have <code>com.de.ve.CustomPublisher.send(CustomPublisher.java:78)</code>. I don&#39;t know what that is and how it is implemented but it is your code that sends a message using StreamBridge. Perhaps you can produce a small sample that reproduces the issue so we can look"}],"owner":{"account_id":6015718,"reputation":41,"user_id":4724665,"display_name":"Sach"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682935980,"creation_date":1682406293,"question_id":76098429,"body_markdown":"We have Spring Boot application and we are using Spring cloud stream kafka binder version 3.2.6 for kafka connectivity. What we observed is , Application is failing to start due to error &quot;port already in use&quot; but still Kafka Consumer start consuming the messages. And due to that messages are failing to process and going into dlq as we are getting error Application Context has not been refreshed yet. We are using default Spring boot Tomcat server. Below are the complete errorstack\r\n\r\nHow do we make sure that Spring Kafka consumer should not start consuming the messages if Spring boot application is not fully initialized?\r\n\r\nBelow Exception occurred on application startup.\r\n\r\n&gt; Exception occurred during context initialization port 65000 already in use\r\n\r\n&gt;Exception thrown from ApplicationListener handling ContextClosedEvent\r\norg.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name &#39;registrationListener&#39;: Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.getTargetBean(ApplicationListenerMethodAdapter.java:371) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:336) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:427) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1058) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_341]\r\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[?:1.8.0_341]\r\n    at java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1652) ~[?:1.8.0_341]\r\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[?:1.8.0_341]\r\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_341]\r\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_341]\r\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_341]\r\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_341]\r\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_341]\r\n    at org.springframework.cloud.stream.binder.DefaultBinderFactory.destroy(DefaultBinderFactory.java:120) ~[spring-cloud-stream-3.2.6.jar:3.2.6]\r\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:596) ~[spring-context-5.3.19.jar:5.3.19]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    at com.aa.ve.MainApplication.main(MainApplication.java:52)\r\n\r\nBelow Exception occurred while Spring Cloud Stream Kafka Binder StreamBridge trying to send the message to the topic\r\n\r\n&gt; Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@25da615a has not been refreshed yet\r\n\tat org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1141) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1171) ~[spring-context-5.3.19.jar:5.3.19]\r\n\tat org.springframework.cloud.stream.function.StreamBridge.addInterceptors(StreamBridge.java:325) ~[spring-cloud-stream-3.2.6.jar:3.2.6]\r\n\tat org.springframework.cloud.stream.function.StreamBridge.resolveDestination(StreamBridge.java:300) ~[spring-cloud-stream-3.2.6.jar:3.2.6]\r\n\tat org.springframework.cloud.stream.function.StreamBridge.send(StreamBridge.java:217) ~[spring-cloud-stream-3.2.6.jar:3.2.6]\r\n\tat org.springframework.cloud.stream.function.StreamBridge.send(StreamBridge.java:171) ~[spring-cloud-stream-3.2.6.jar:3.2.6]\r\n\tat com.de.ve.CustomPublisher.send(CustomPublisher.java:78)\r\n\r\n\r\nOne of the option I choose to avoid this issue is I changed the consumer auto-startup property to false.\r\n\r\n    spring:\r\n         cloud:\r\n             stream:\r\n                bindings:\r\n                  consumer-1:\r\n                     consumer:\r\n                        auto-startup: false\r\n\r\nWritten CustomListener that implements ApplicationListener&lt;ApplicationReadyEvent&gt;\r\nand in onApplicationEvent method I changed the endpoint state to &quot;STARTED&quot;. Like below.\r\n\r\n    public class CustomListener implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n    \r\n       BindingsEndpoint endpoint; \r\n    \r\n       public void onApplicationEvent(ApplicationReadyEvent event){\r\n           endpoint.changeState(&quot;consumer-1&quot;,BindingsLifecycleController.State.STARTED)\r\n       }\r\n    }\r\n\r\nIs this the right option or there any other alternatives way to handle this issue?\r\n\r\nThanks\r\n\r\n","title":"Application failed to start due to port already in use but still Kafka Consumer still start consuming the messages","body":"<p>We have Spring Boot application and we are using Spring cloud stream kafka binder version 3.2.6 for kafka connectivity. What we observed is , Application is failing to start due to error &quot;port already in use&quot; but still Kafka Consumer start consuming the messages. And due to that messages are failing to process and going into dlq as we are getting error Application Context has not been refreshed yet. We are using default Spring boot Tomcat server. Below are the complete errorstack</p>\n<p>How do we make sure that Spring Kafka consumer should not start consuming the messages if Spring boot application is not fully initialized?</p>\n<p>Below Exception occurred on application startup.</p>\n<blockquote>\n<p>Exception occurred during context initialization port 65000 already in use</p>\n</blockquote>\n<blockquote>\n<p>Exception thrown from ApplicationListener handling ContextClosedEvent\norg.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'registrationListener': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-5.3.19.jar:5.3.19]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar:5.3.19]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar:5.3.19]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.event.ApplicationListenerMethodAdapter.getTargetBean(ApplicationListenerMethodAdapter.java:371) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:336) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:427) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1058) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.19.jar:5.3.19]\nat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_341]\nat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[?:1.8.0_341]\nat java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1652) ~[?:1.8.0_341]\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[?:1.8.0_341]\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_341]\nat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_341]\nat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_341]\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_341]\nat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_341]\nat org.springframework.cloud.stream.binder.DefaultBinderFactory.destroy(DefaultBinderFactory.java:120) ~[spring-cloud-stream-3.2.6.jar:3.2.6]\nat org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213) ~[spring-beans-5.3.19.jar:5.3.19]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.19.jar:5.3.19]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.19.jar:5.3.19]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163) ~[spring-beans-5.3.19.jar:5.3.19]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.19.jar:5.3.19]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156) ~[spring-beans-5.3.19.jar:5.3.19]\nat org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:596) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.7.jar:2.6.7]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.7.jar:2.6.7]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.7.jar:2.6.7]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.7.jar:2.6.7]\nat com.aa.ve.MainApplication.main(MainApplication.java:52)</p>\n</blockquote>\n<p>Below Exception occurred while Spring Cloud Stream Kafka Binder StreamBridge trying to send the message to the topic</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalStateException: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@25da615a has not been refreshed yet\nat org.springframework.context.support.AbstractApplicationContext.assertBeanFactoryActive(AbstractApplicationContext.java:1141) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1171) ~[spring-context-5.3.19.jar:5.3.19]\nat org.springframework.cloud.stream.function.StreamBridge.addInterceptors(StreamBridge.java:325) ~[spring-cloud-stream-3.2.6.jar:3.2.6]\nat org.springframework.cloud.stream.function.StreamBridge.resolveDestination(StreamBridge.java:300) ~[spring-cloud-stream-3.2.6.jar:3.2.6]\nat org.springframework.cloud.stream.function.StreamBridge.send(StreamBridge.java:217) ~[spring-cloud-stream-3.2.6.jar:3.2.6]\nat org.springframework.cloud.stream.function.StreamBridge.send(StreamBridge.java:171) ~[spring-cloud-stream-3.2.6.jar:3.2.6]\nat com.de.ve.CustomPublisher.send(CustomPublisher.java:78)</p>\n</blockquote>\n<p>One of the option I choose to avoid this issue is I changed the consumer auto-startup property to false.</p>\n<pre><code>spring:\n     cloud:\n         stream:\n            bindings:\n              consumer-1:\n                 consumer:\n                    auto-startup: false\n</code></pre>\n<p>Written CustomListener that implements ApplicationListener\nand in onApplicationEvent method I changed the endpoint state to &quot;STARTED&quot;. Like below.</p>\n<pre><code>public class CustomListener implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n   BindingsEndpoint endpoint; \n\n   public void onApplicationEvent(ApplicationReadyEvent event){\n       endpoint.changeState(&quot;consumer-1&quot;,BindingsLifecycleController.State.STARTED)\n   }\n}\n</code></pre>\n<p>Is this the right option or there any other alternatives way to handle this issue?</p>\n<p>Thanks</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1857271,"reputation":1742,"user_id":1682582,"accept_rate":67,"display_name":"ArturSkowronski"},"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1369275590,"creation_date":1369275590,"answer_id":16704626,"question_id":16704597,"body_markdown":"Use:    \r\n\r\n    String deviceName = android.os.Build.MODEL;\r\n","title":"How do you get the user defined &quot;Device Name&quot; in android?","body":"<p>Use:    </p>\n\n<pre><code>String deviceName = android.os.Build.MODEL;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482520,"reputation":878,"user_id":896970,"accept_rate":43,"display_name":"Chris Whittle"},"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1369359755,"creation_date":1369359755,"answer_id":16726490,"question_id":16704597,"body_markdown":"This got me what I was needed... \r\nhttp://cmanios.wordpress.com/2012/05/09/bluetooth-adapter-device-name-and-mac-address-in-android/\r\n\r\n    BluetoothAdapter myDevice = BluetoothAdapter.getDefaultAdapter();\r\n        String deviceName = myDevice.getName();\r\n\r\nMake sure you add\r\n     \r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\r\n\r\nto your manifest\r\n","title":"How do you get the user defined &quot;Device Name&quot; in android?","body":"<p>This got me what I was needed... \n<a href=\"http://cmanios.wordpress.com/2012/05/09/bluetooth-adapter-device-name-and-mac-address-in-android/\" rel=\"noreferrer\">http://cmanios.wordpress.com/2012/05/09/bluetooth-adapter-device-name-and-mac-address-in-android/</a></p>\n\n<pre><code>BluetoothAdapter myDevice = BluetoothAdapter.getDefaultAdapter();\n    String deviceName = myDevice.getName();\n</code></pre>\n\n<p>Make sure you add</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.BLUETOOTH\"/&gt;\n</code></pre>\n\n<p>to your manifest</p>\n"},{"tags":[],"owner":{"account_id":65578,"reputation":5045,"user_id":192901,"accept_rate":77,"display_name":"kakopappa"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1474949100,"creation_date":1474948639,"answer_id":39715716,"question_id":16704597,"body_markdown":" \r\n\r\n    BluetoothAdapter myDevice = BluetoothAdapter.getDefaultAdapter();\r\n    String deviceName = myDevice.getName();\r\n\r\nreturns Galaxy S5.\r\n\r\n    String deviceName = android.os.Build.MODEL;\r\n    returns SM-G900H.\r\n\r\nAfter some research I found the device_name in /data/data/com.android.providers.settings/databases/settings.db\r\n\r\nso, to get it using shell command\r\n\r\n    shell@k3g:/ $ settings get system device_name\r\n    settings get system device_name\r\n    Milky Way\r\n\r\nusing java\r\n\r\n    String deviceName = Settings.System.getString(getContentResolver(), &quot;device_name&quot;);\r\n    returns Milky Way\r\n\r\nPOC github project\r\nhttps://github.com/kakopappa/getdevcicename\r\n\r\ndetailed explanation:\r\nhttp://androidbridge.blogspot.com/2016/09/how-to-get-android-device-name-settings.html\r\n","title":"How do you get the user defined &quot;Device Name&quot; in android?","body":"<pre><code>BluetoothAdapter myDevice = BluetoothAdapter.getDefaultAdapter();\nString deviceName = myDevice.getName();\n</code></pre>\n\n<p>returns Galaxy S5.</p>\n\n<pre><code>String deviceName = android.os.Build.MODEL;\nreturns SM-G900H.\n</code></pre>\n\n<p>After some research I found the device_name in /data/data/com.android.providers.settings/databases/settings.db</p>\n\n<p>so, to get it using shell command</p>\n\n<pre><code>shell@k3g:/ $ settings get system device_name\nsettings get system device_name\nMilky Way\n</code></pre>\n\n<p>using java</p>\n\n<pre><code>String deviceName = Settings.System.getString(getContentResolver(), \"device_name\");\nreturns Milky Way\n</code></pre>\n\n<p>POC github project\n<a href=\"https://github.com/kakopappa/getdevcicename\" rel=\"noreferrer\">https://github.com/kakopappa/getdevcicename</a></p>\n\n<p>detailed explanation:\n<a href=\"http://androidbridge.blogspot.com/2016/09/how-to-get-android-device-name-settings.html\" rel=\"noreferrer\">http://androidbridge.blogspot.com/2016/09/how-to-get-android-device-name-settings.html</a></p>\n"},{"tags":[],"owner":{"account_id":4222522,"reputation":3028,"user_id":3456952,"accept_rate":77,"display_name":"TheHebrewHammer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1485445619,"creation_date":1485445619,"answer_id":41877366,"question_id":16704597,"body_markdown":"This one worked for me on API 25:\r\n\r\n    Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);\r\n\r\nHere&#39;s how to find it... (just replace the name of your device)\r\n\r\n    $ adb shell\r\n    $ settings list system | grep &quot;&lt;device_name&gt;&quot;\r\n    $ settings list secure | grep &quot;&lt;device_name&gt;&quot;","title":"How do you get the user defined &quot;Device Name&quot; in android?","body":"<p>This one worked for me on API 25:</p>\n\n<pre><code>Settings.Secure.getString(getContentResolver(), \"bluetooth_name\");\n</code></pre>\n\n<p>Here's how to find it... (just replace the name of your device)</p>\n\n<pre><code>$ adb shell\n$ settings list system | grep \"&lt;device_name&gt;\"\n$ settings list secure | grep \"&lt;device_name&gt;\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":454265,"reputation":3252,"user_id":851722,"accept_rate":75,"display_name":"Neelam Verma"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1600761513,"creation_date":1532098744,"answer_id":51445341,"question_id":16704597,"body_markdown":"Following works for me\r\n\r\n    String deviceName = Settings.Global.getString(&lt;Context&gt;.getContentResolver(), Settings.Global.DEVICE_NAME);","title":"How do you get the user defined &quot;Device Name&quot; in android?","body":"<p>Following works for me</p>\n<pre><code>String deviceName = Settings.Global.getString(&lt;Context&gt;.getContentResolver(), Settings.Global.DEVICE_NAME);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39105,"reputation":25533,"user_id":112705,"accept_rate":67,"display_name":"Dan J"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1557239423,"creation_date":1557239423,"answer_id":56024910,"question_id":16704597,"body_markdown":"In summary, there is no single consistent way to retrieve the user-customized device name.\r\n\r\nHowever, there are numerous utilities that you can use that will work on different models and manufacturers:\r\n\r\n 1. `Settings.System.getString(getContentResolver(), “bluetooth_name”);` ([docs][1])\r\n 2. `Settings.Secure.getString(getContentResolver(), “bluetooth_name”);` ([docs][2])\r\n 3. `BluetoothAdapter.getDefaultAdapter().getName();` ([docs][3])\r\n 4. `Settings.System.getString(getContentResolver(), “device_name”);` ([docs][1])\r\n 5. `Settings.Secure.getString(getContentResolver(), “lock_screen_owner_info”);` ([docs][2])\r\n\r\n1, 2 and 3 appear to be the most reliable on the devices my colleague tested.  Here is his full analysis:\r\n\r\n[![user device name table of results][4]][4]\r\n\r\nSource: https://medium.com/@pribble88/how-to-get-an-android-device-nickname-4b4700b3068c\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/provider/Settings.System.html#getString%28android.content.ContentResolver,%20java.lang.String%29\r\n  [2]: https://developer.android.com/reference/android/provider/Settings.Secure.html#getString%28android.content.ContentResolver,%20java.lang.String%29\r\n  [3]: https://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#getName%28%29\r\n  [4]: https://i.stack.imgur.com/A31wt.png","title":"How do you get the user defined &quot;Device Name&quot; in android?","body":"<p>In summary, there is no single consistent way to retrieve the user-customized device name.</p>\n\n<p>However, there are numerous utilities that you can use that will work on different models and manufacturers:</p>\n\n<ol>\n<li><code>Settings.System.getString(getContentResolver(), “bluetooth_name”);</code> (<a href=\"https://developer.android.com/reference/android/provider/Settings.System.html#getString%28android.content.ContentResolver,%20java.lang.String%29\" rel=\"noreferrer\">docs</a>)</li>\n<li><code>Settings.Secure.getString(getContentResolver(), “bluetooth_name”);</code> (<a href=\"https://developer.android.com/reference/android/provider/Settings.Secure.html#getString%28android.content.ContentResolver,%20java.lang.String%29\" rel=\"noreferrer\">docs</a>)</li>\n<li><code>BluetoothAdapter.getDefaultAdapter().getName();</code> (<a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#getName%28%29\" rel=\"noreferrer\">docs</a>)</li>\n<li><code>Settings.System.getString(getContentResolver(), “device_name”);</code> (<a href=\"https://developer.android.com/reference/android/provider/Settings.System.html#getString%28android.content.ContentResolver,%20java.lang.String%29\" rel=\"noreferrer\">docs</a>)</li>\n<li><code>Settings.Secure.getString(getContentResolver(), “lock_screen_owner_info”);</code> (<a href=\"https://developer.android.com/reference/android/provider/Settings.Secure.html#getString%28android.content.ContentResolver,%20java.lang.String%29\" rel=\"noreferrer\">docs</a>)</li>\n</ol>\n\n<p>1, 2 and 3 appear to be the most reliable on the devices my colleague tested.  Here is his full analysis:</p>\n\n<p><a href=\"https://i.stack.imgur.com/A31wt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/A31wt.png\" alt=\"user device name table of results\"></a></p>\n\n<p>Source: <a href=\"https://medium.com/@pribble88/how-to-get-an-android-device-nickname-4b4700b3068c\" rel=\"noreferrer\">https://medium.com/@pribble88/how-to-get-an-android-device-nickname-4b4700b3068c</a></p>\n"},{"tags":[],"owner":{"account_id":5738346,"reputation":691,"user_id":4531734,"display_name":"Shpand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615883525,"creation_date":1615883525,"answer_id":66651543,"question_id":16704597,"body_markdown":"No of the above mentioned methods work for all devices. If you want a robust way to get *user defined device name* on almost all Android devices (including TV) and not requiring any permissions use this\r\n\r\n    String userDeviceName = Settings.Global.getString(getContentResolver(), Settings.Global.DEVICE_NAME);\r\n    if(userDeviceName == null)\r\n        userDeviceName = Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);","title":"How do you get the user defined &quot;Device Name&quot; in android?","body":"<p>No of the above mentioned methods work for all devices. If you want a robust way to get <em>user defined device name</em> on almost all Android devices (including TV) and not requiring any permissions use this</p>\n<pre><code>String userDeviceName = Settings.Global.getString(getContentResolver(), Settings.Global.DEVICE_NAME);\nif(userDeviceName == null)\n    userDeviceName = Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682935355,"creation_date":1682935355,"answer_id":76146080,"question_id":16704597,"body_markdown":"The following line worked for me:\r\n\r\n`String userDeviceName = Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);`\r\n\r\nHowever, I had to ensure that -\r\n- The app is running on devices with API level 25 or higher\r\n- **Bluetooth** was **turned on** at least once after updating the device name. Otherwise, the `getString()` will only return the **old device name**.","title":"How do you get the user defined &quot;Device Name&quot; in android?","body":"<p>The following line worked for me:</p>\n<p><code>String userDeviceName = Settings.Secure.getString(getContentResolver(), &quot;bluetooth_name&quot;);</code></p>\n<p>However, I had to ensure that -</p>\n<ul>\n<li>The app is running on devices with API level 25 or higher</li>\n<li><strong>Bluetooth</strong> was <strong>turned on</strong> at least once after updating the device name. Otherwise, the <code>getString()</code> will only return the <strong>old device name</strong>.</li>\n</ul>\n"}],"owner":{"account_id":482520,"reputation":878,"user_id":896970,"accept_rate":43,"display_name":"Chris Whittle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45404,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"answer_count":8,"score":40,"last_activity_date":1682935355,"creation_date":1369275393,"question_id":16704597,"body_markdown":"I am trying to get the user defined device name that is set in settings.  I&#39;ve tried several options and so far nothing. \r\n\r\nIf it helps or hurts I am needing it in a BroadcastReceiver\r\n\r\nThanks\r\n","title":"How do you get the user defined &quot;Device Name&quot; in android?","body":"<p>I am trying to get the user defined device name that is set in settings.  I've tried several options and so far nothing. </p>\n\n<p>If it helps or hurts I am needing it in a BroadcastReceiver</p>\n\n<p>Thanks</p>\n"},{"tags":["java","hibernate","spring-data"],"comments":[{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":1,"creation_date":1682858480,"post_id":76141264,"comment_id":134278119,"body_markdown":"Is it only happening for the `toString`? If so, the easiest solution may be to override `Material`&#39;s `toString` and make sure that it doesn&#39;t print `Ticket`. The stack overflow comes from the fact that the ticket is printing its materiais that is printing the ticket and so on ad infinitum.","body":"Is it only happening for the <code>toString</code>? If so, the easiest solution may be to override <code>Material</code>&#39;s <code>toString</code> and make sure that it doesn&#39;t print <code>Ticket</code>. The stack overflow comes from the fact that the ticket is printing its materiais that is printing the ticket and so on ad infinitum."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682858778,"post_id":76141264,"comment_id":134278154,"body_markdown":"If you are using Lombok annotation ToString you can add @ToString.Exclude to the fields you want to exclude. Similar to JsonIgnore you are using already.","body":"If you are using Lombok annotation ToString you can add @ToString.Exclude to the fields you want to exclude. Similar to JsonIgnore you are using already."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1682859308,"post_id":76141264,"comment_id":134278206,"body_markdown":"`Ticket.toString()` calls `Material.toString()` calls `Ticket.toString()` calls ...","body":"<code>Ticket.toString()</code> calls <code>Material.toString()</code> calls <code>Ticket.toString()</code> calls ..."},{"owner":{"account_id":25598846,"reputation":21,"user_id":19374156,"display_name":"VadiMayer"},"score":0,"creation_date":1682935775,"post_id":76141264,"comment_id":134286182,"body_markdown":"I didn&#39;t think toString was overflowing the stack. After all, even after I repaired it, when I debug, there is still recursion in the objects, although the stack does not overflow, why? @AnthonyAccioly","body":"I didn&#39;t think toString was overflowing the stack. After all, even after I repaired it, when I debug, there is still recursion in the objects, although the stack does not overflow, why? @AnthonyAccioly"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1682947185,"post_id":76141264,"comment_id":134288054,"body_markdown":"The JPA provider (e.g., Hibernate) is doing the heavy work for you - it knows how to deal with bidirectional associations and avoid infinite recursion. Once the objects are in memory, you can think of associations as references: Having object `A` pointing to `B` and object `B` pointing to `A` is perfectly normal. As long as you don&#39;t try to follow the path `a.b.a.b.[...]` (like `toString` was doing in your example), everything works fine.","body":"The JPA provider (e.g., Hibernate) is doing the heavy work for you - it knows how to deal with bidirectional associations and avoid infinite recursion. Once the objects are in memory, you can think of associations as references: Having object <code>A</code> pointing to <code>B</code> and object <code>B</code> pointing to <code>A</code> is perfectly normal. As long as you don&#39;t try to follow the path <code>a.b.a.b.[...]</code> (like <code>toString</code> was doing in your example), everything works fine."}],"answers":[{"tags":[],"owner":{"account_id":25906703,"reputation":1,"user_id":19631689,"display_name":"Aymeric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682862995,"creation_date":1682862995,"answer_id":76141622,"question_id":76141264,"body_markdown":"try : `@ToString.Exclude` on your `@OneToMany` property\r\n\r\n","title":"When using the @ManyToOne and @OneToMany annotations, a stackoverflow exception is thrown","body":"<p>try : <code>@ToString.Exclude</code> on your <code>@OneToMany</code> property</p>\n"}],"owner":{"account_id":25598846,"reputation":21,"user_id":19374156,"display_name":"VadiMayer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682935324,"creation_date":1682857736,"question_id":76141264,"body_markdown":"It seems like all the anotations for Hibernate are above variables in classes, but for what day I can&#39;t get rid of stackoverflow. I also use spring-data.\r\n\r\nHere&#39;s what the exception is:\r\n\r\n    Root Cause\r\n    \r\n    java.lang.StackOverflowError\r\n    \tjava.base/java.lang.Integer.toString(Integer.java:1196)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n    \tjava.base/java.lang.String.valueOf(String.java:4215)\r\n    \tjava.base/java.lang.StringBuilder.append(StringBuilder.java:173)\r\n    \tjava.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\r\n    \torg.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Ticket.toString(Ticket.java:210)\r\n    \tjava.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\r\n    \tcom.example.application.model.Material.toString(Material.java:166)\r\n\r\nI see this in debugging:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZH2xn.png\r\n\r\nclass Ticket\r\n\r\n    @Entity\r\n    @Table(name = &quot;tickets&quot;)\r\n    public class Ticket extends AbstractNamedEntity implements HasId {\r\n    \r\n    \t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;ticket&quot;)\r\n    \t@OrderBy(&quot;name DESC&quot;)\r\n    \t@BatchSize(size = 100)\r\n    \t@OnDelete(action = OnDeleteAction.CASCADE)\r\n    \t@JsonIgnore\r\n    \tprivate List&lt;Material&gt; materials;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    \t@JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    \t@OnDelete(action = OnDeleteAction.CASCADE)\r\n    \t@BatchSize(size = 50)\r\n    \t@JsonIgnore\r\n    \tprivate User user;\r\n    }\r\n\r\nclass Material\r\n\r\n    @Entity\r\n    @Table(name = &quot;materials&quot;)\r\n    public class Material extends AbstractNamedEntity implements HasId {\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;ticket_id&quot;)\r\n      @OnDelete(action = OnDeleteAction.CASCADE)\r\n      @JsonIgnore\r\n      private Ticket ticket;\r\n    }\r\n\r\nI have tried such a request:\r\n\r\n      @Transactional(readOnly = true)\r\n      public interface CrudTicketRepository extends JpaRepository&lt;Ticket, Integer&gt; {\r\n         \r\n          @EntityGraph(attributePaths = {&quot;materials&quot;}, type = EntityGraph.EntityGraphType.LOAD)\r\n          @Query(&quot;SELECT t FROM Ticket t WHERE t.id=:id&quot;)                                      \r\n          Ticket getWithMaterial(@Param(&quot;id&quot;) int id);\r\n    }\r\n\r\nThen this:\r\n\r\n    @Query(&quot;SELECT t FROM Ticket t JOIN FETCH Material m WHERE t.id=:id AND m.ticket.id=:id&quot;)\r\n    Ticket findById(@Param(&quot;id&quot;) int id);\r\n\r\nI also tried FetchType.EAGER and it doesn&#39;t work to change anything there ((( Help.","title":"When using the @ManyToOne and @OneToMany annotations, a stackoverflow exception is thrown","body":"<p>It seems like all the anotations for Hibernate are above variables in classes, but for what day I can't get rid of stackoverflow. I also use spring-data.</p>\n<p>Here's what the exception is:</p>\n<pre><code>Root Cause\n\njava.lang.StackOverflowError\n    java.base/java.lang.Integer.toString(Integer.java:1196)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n    java.base/java.lang.String.valueOf(String.java:4215)\n    java.base/java.lang.StringBuilder.append(StringBuilder.java:173)\n    java.base/java.util.AbstractCollection.toString(AbstractCollection.java:457)\n    org.hibernate.collection.internal.PersistentBag.toString(PersistentBag.java:622)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Ticket.toString(Ticket.java:210)\n    java.base/java.lang.StringConcatHelper.stringOf(StringConcatHelper.java:453)\n    com.example.application.model.Material.toString(Material.java:166)\n</code></pre>\n<p>I see this in debugging:</p>\n<p><a href=\"https://i.stack.imgur.com/ZH2xn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZH2xn.png\" alt=\"enter image description here\" /></a></p>\n<p>class Ticket</p>\n<pre><code>@Entity\n@Table(name = &quot;tickets&quot;)\npublic class Ticket extends AbstractNamedEntity implements HasId {\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;ticket&quot;)\n    @OrderBy(&quot;name DESC&quot;)\n    @BatchSize(size = 100)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    private List&lt;Material&gt; materials;\n\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @BatchSize(size = 50)\n    @JsonIgnore\n    private User user;\n}\n</code></pre>\n<p>class Material</p>\n<pre><code>@Entity\n@Table(name = &quot;materials&quot;)\npublic class Material extends AbstractNamedEntity implements HasId {\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;ticket_id&quot;)\n  @OnDelete(action = OnDeleteAction.CASCADE)\n  @JsonIgnore\n  private Ticket ticket;\n}\n</code></pre>\n<p>I have tried such a request:</p>\n<pre><code>  @Transactional(readOnly = true)\n  public interface CrudTicketRepository extends JpaRepository&lt;Ticket, Integer&gt; {\n     \n      @EntityGraph(attributePaths = {&quot;materials&quot;}, type = EntityGraph.EntityGraphType.LOAD)\n      @Query(&quot;SELECT t FROM Ticket t WHERE t.id=:id&quot;)                                      \n      Ticket getWithMaterial(@Param(&quot;id&quot;) int id);\n}\n</code></pre>\n<p>Then this:</p>\n<pre><code>@Query(&quot;SELECT t FROM Ticket t JOIN FETCH Material m WHERE t.id=:id AND m.ticket.id=:id&quot;)\nTicket findById(@Param(&quot;id&quot;) int id);\n</code></pre>\n<p>I also tried FetchType.EAGER and it doesn't work to change anything there ((( Help.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677401186,"creation_date":1677401186,"answer_id":75570887,"question_id":75564573,"body_markdown":"You&#39;re getting the following error:\r\n\r\n&gt; cannot resolve method getUid in firebaseAuth\r\n\r\nMost likely at the following line of code:\r\n\r\n    ref.child(fAuth.getUid())...\r\n\r\nBecause the `fAuth` object is an object of type [FirebaseAuth][1], a class does **not** contain any method called `getUid()`. If you need the UID of the authenticated user, you have to call `.getCurrentUser()` first. In code that would be:\r\n\r\n    ref.child(fAuth.getCurrentUser().getUid())...\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth","title":"Android Firebase: cannot resolve method in firebaseAuth","body":"<p>You're getting the following error:</p>\n<blockquote>\n<p>cannot resolve method getUid in firebaseAuth</p>\n</blockquote>\n<p>Most likely at the following line of code:</p>\n<pre><code>ref.child(fAuth.getUid())...\n</code></pre>\n<p>Because the <code>fAuth</code> object is an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth\" rel=\"nofollow noreferrer\">FirebaseAuth</a>, a class does <strong>not</strong> contain any method called <code>getUid()</code>. If you need the UID of the authenticated user, you have to call <code>.getCurrentUser()</code> first. In code that would be:</p>\n<pre><code>ref.child(fAuth.getCurrentUser().getUid())...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6320059,"reputation":118,"user_id":4908484,"accept_rate":75,"display_name":"Tasneem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682935154,"creation_date":1682935154,"answer_id":76146057,"question_id":75564573,"body_markdown":"I am answering my own question here. I tried many solutions, but then I got to know I had used a wrong dependency. \r\n\r\n    implementation &#39;com.google.firebase:firebase-admin:9.1.1&#39;\r\n\r\nAfter I have removed it, my project is working.\r\n\r\nHope it will help others.","title":"Android Firebase: cannot resolve method in firebaseAuth","body":"<p>I am answering my own question here. I tried many solutions, but then I got to know I had used a wrong dependency.</p>\n<pre><code>implementation 'com.google.firebase:firebase-admin:9.1.1'\n</code></pre>\n<p>After I have removed it, my project is working.</p>\n<p>Hope it will help others.</p>\n"}],"owner":{"account_id":6320059,"reputation":118,"user_id":4908484,"accept_rate":75,"display_name":"Tasneem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76146057,"answer_count":2,"score":1,"last_activity_date":1682935154,"creation_date":1677318753,"question_id":75564573,"body_markdown":"My Android Studio project was working fine until I updated a plugin accidentally in a pop-up suggestion. After that &quot;Firebase Auth&quot; methods are not working. For example:\r\n\r\n    fAuth = FirebaseAuth.getInstance();\r\n    fUser = fAuth.getCurrentUser();\r\n\r\nI get the error &quot;**cannot resolve method getCurrentUser in firebaseAuth**&quot;. Similarly, in the following code:\r\n\r\n    ref.child(fAuth.getUid()).child(&quot;Orders&quot;).child(orderId).orderByChild(&quot;orderStatus&quot;)\r\n                .addValueEventListener(new ValueEventListener() {.....}\r\n\r\nI get error  &quot;**cannot resolve method getUid in firebaseAuth**&quot;. Following is my build.gradle file.\r\n\r\n    dependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.8&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.4.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-admin:9.1.1&#39;\r\n    implementation &#39;androidx.annotation:annotation:1.5.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.5.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&#39;\r\n    implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.1.1&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.14.2&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.14.2&#39;\r\n    implementation &#39;com.karumi:dexter:6.2.3&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.vanniktech:android-image-cropper:4.5.0&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n    implementation &#39;com.github.p32929:EasiestSqlLibrary:1.0.0.2&#39;\r\n    implementation &#39;com.github.p32929:AndroidEasySQL-Library:1.4.1&#39;\r\n    implementation &#39;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;}\r\nI get these errors in my whole project.","title":"Android Firebase: cannot resolve method in firebaseAuth","body":"<p>My Android Studio project was working fine until I updated a plugin accidentally in a pop-up suggestion. After that &quot;Firebase Auth&quot; methods are not working. For example:</p>\n<pre><code>fAuth = FirebaseAuth.getInstance();\nfUser = fAuth.getCurrentUser();\n</code></pre>\n<p>I get the error &quot;<strong>cannot resolve method getCurrentUser in firebaseAuth</strong>&quot;. Similarly, in the following code:</p>\n<pre><code>ref.child(fAuth.getUid()).child(&quot;Orders&quot;).child(orderId).orderByChild(&quot;orderStatus&quot;)\n            .addValueEventListener(new ValueEventListener() {.....}\n</code></pre>\n<p>I get error  &quot;<strong>cannot resolve method getUid in firebaseAuth</strong>&quot;. Following is my build.gradle file.</p>\n<pre><code>dependencies {\nimplementation 'androidx.appcompat:appcompat:1.6.0'\nimplementation 'com.squareup.picasso:picasso:2.8'\nimplementation 'com.google.android.material:material:1.7.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'com.google.firebase:firebase-firestore:24.4.0'\nimplementation 'com.google.firebase:firebase-auth:21.1.0'\nimplementation 'com.google.firebase:firebase-admin:9.1.1'\nimplementation 'androidx.annotation:annotation:1.5.0'\nimplementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.5.1'\nimplementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1'\nimplementation 'androidx.preference:preference:1.2.0'\nimplementation 'com.google.firebase:firebase-storage:20.1.0'\nimplementation 'com.google.firebase:firebase-analytics:21.2.0'\nimplementation 'com.google.firebase:firebase-messaging:23.1.1'\nimplementation 'androidx.cardview:cardview:1.0.0'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.5'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\nimplementation 'com.github.bumptech.glide:glide:4.14.2'\nannotationProcessor 'com.github.bumptech.glide:compiler:4.14.2'\nimplementation 'com.karumi:dexter:6.2.3'\nimplementation 'de.hdodenhof:circleimageview:3.1.0'\nimplementation 'com.vanniktech:android-image-cropper:4.5.0'\nimplementation 'de.hdodenhof:circleimageview:3.1.0'\nimplementation 'com.google.android.gms:play-services-location:21.0.1'\nimplementation 'com.github.p32929:EasiestSqlLibrary:1.0.0.2'\nimplementation 'com.github.p32929:AndroidEasySQL-Library:1.4.1'\nimplementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0'\nimplementation 'com.android.volley:volley:1.2.1'}\n</code></pre>\n<p>I get these errors in my whole project.</p>\n"},{"tags":["java","json","jsonpath","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1542102432,"post_id":53277865,"comment_id":93438188,"body_markdown":"Questions asking us to recommend a software library are off-topic for Stack Overflow as they tend to attract opinionated answers and spam","body":"Questions asking us to recommend a software library are off-topic for Stack Overflow as they tend to attract opinionated answers and spam"}],"answers":[{"tags":[],"owner":{"account_id":5630313,"reputation":716,"user_id":4457451,"display_name":"Maksym Rudenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542104060,"creation_date":1542103567,"answer_id":53278491,"question_id":53277865,"body_markdown":"I don&#39;t know JsonPath.\r\n\r\nI think you should use jackson which is defacto standard lib when work with JSON in java \r\n\r\naproximate what you are going to do is:\r\n\r\n    String jsonString = &quot;{&quot;k1&quot;: {&quot;k2&quot;:&quot;v2&quot;}&quot;;\r\n     \r\n        ObjectMapper mapper = new ObjectMapper();\r\n        JsonNode actualObj = mapper.readTree(jsonString);\r\n        actualObj.at(&quot;/k1/k2&quot;).getValueAsInt()\r\n\r\nand replace getValueAsInt with any other function\r\n\r\n","title":"What is the Java library to remove/modify a json object based on json path, or how to fix the below issue in JsonPath?","body":"<p>I don't know JsonPath.</p>\n\n<p>I think you should use jackson which is defacto standard lib when work with JSON in java </p>\n\n<p>aproximate what you are going to do is:</p>\n\n<pre><code>String jsonString = \"{\"k1\": {\"k2\":\"v2\"}\";\n\n    ObjectMapper mapper = new ObjectMapper();\n    JsonNode actualObj = mapper.readTree(jsonString);\n    actualObj.at(\"/k1/k2\").getValueAsInt()\n</code></pre>\n\n<p>and replace getValueAsInt with any other function</p>\n"}],"owner":{"account_id":1698970,"reputation":2603,"user_id":1559625,"accept_rate":71,"display_name":"user1559625"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682935065,"creation_date":1542101632,"question_id":53277865,"body_markdown":"I am trying to implement a function to be able to remove or modify a json object base on a specified json path. For example, if I have a below json string/object:\r\n\r\n    {\r\n      &quot;PersonalDetailsDTO&quot;: {\r\n        &quot;FirstName&quot;: &quot;Mark&quot;,\r\n        &quot;LastName&quot;: &quot;Sully&quot;,\r\n        &quot;TotalDependent&quot;: &quot;2&quot;,\r\n        &quot;DOB&quot;: &quot;19811212&quot;,\r\n        &quot;SecQuestion&quot;: &quot;Some Que&quot;,\r\n        &quot;SecAnswer&quot;: &quot;Some-Ans&quot;,\r\n        &quot;Mobile&quot;: &quot;0123456789&quot;,\r\n        &quot;Email&quot;: &quot;some@validemail.com&quot;,\r\n        &quot;Title&quot;: &quot;Mr&quot;,\r\n        &quot;EmploymentListDTO&quot;: [\r\n          {\r\n            &quot;Type&quot;: &quot;Full-time&quot;,\r\n            &quot;Probation&quot;: true\r\n          }\r\n        ],\r\n        &quot;AddressListDTO&quot;: [\r\n          {\r\n            &quot;AddressType&quot;: &quot;BUS&quot;,\r\n            &quot;PostCode&quot;: &quot;1234&quot;,\r\n            &quot;State&quot;: &quot;NSW&quot;,\r\n            &quot;StreetName&quot;: &quot;miller&quot;,\r\n            &quot;StreetNumber&quot;: &quot;111&quot;,\r\n            &quot;StreetType&quot;: &quot;Invalid&quot;,\r\n            &quot;Suburb&quot;: &quot;Sydney&quot;,\r\n            &quot;UnitNumber&quot;: &quot;Maximum&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nAnd I want to remove element $.PersonalDetailsDTO.AddressListDTO.PostCode.\r\n\r\nI&#39;ve done quite some search, and the one lib I found is JsonPath: http://static.javadoc.io/com.jayway.jsonpath/json-path/2.2.0/com/jayway/jsonpath/JsonPath.html\r\n\r\nSo i wrote the below code:\r\n\r\n    public static void main(String[] args) {\r\n        // Prints &quot;Hello, World&quot; to the terminal window.\r\n        String jsonString = &quot;{\\n&quot; +\r\n                &quot;  \\&quot;PersonalDetailsDTO\\&quot;: {\\n&quot; +\r\n                &quot;      \\&quot;FirstName\\&quot;:\\&quot;Mark\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;LastName\\&quot;:\\&quot;Sully\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;Title\\&quot;:\\&quot;Mr\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;DOB\\&quot;:\\&quot;19811201\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;SecQuestion\\&quot;:\\&quot;Some Ques\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;SecAnswer\\&quot;:\\&quot;Some-Ans\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;Email\\&quot;:\\&quot;some@validemail.com\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;EmploymentListDTO\\&quot;: [\\n&quot; +\r\n                &quot;      {\\n&quot; +\r\n                &quot;        \\&quot;Type\\&quot;: \\&quot;Full-time\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;Probation\\&quot;: true\\n&quot; +\r\n                &quot;      }\\n&quot; +\r\n                &quot;    ],\\n&quot; +\r\n                &quot;    \\&quot;AddressListDTO\\&quot;: [\\n&quot; +\r\n                &quot;      {\\n&quot; +\r\n                &quot;        \\&quot;AddressType\\&quot;: \\&quot;Residential\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;PostCode\\&quot;: \\&quot;2345\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;State\\&quot;: \\&quot;NSW\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;StreetName\\&quot;: \\&quot;MEL\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;StreetNumber\\&quot;: \\&quot;2\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;StreetType\\&quot;: \\&quot;Boulevard\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;Suburb\\&quot;: \\&quot;Melbourne\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;UnitNumber\\&quot;: \\&quot;345\\&quot;\\n&quot; +\r\n                &quot;      }\\n&quot; +\r\n                &quot;     ]\\n&quot; +\r\n                &quot;   }  \\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n        JSONObject jsonObject = new JSONObject(jsonString);\r\n        System.out.println(&quot;Before: &quot; + jsonObject.toString());\r\n\r\n        JsonPath jp = JsonPath.compile(&quot;$.PersonalDetailsDTO.AddressListDTO[0].PostCode&quot;);\r\n        Configuration conf = Configuration.defaultConfiguration();\r\n        Object json = conf.jsonProvider().parse(jsonString);\r\n        System.out.println(&quot;After: &quot; + jp.delete(json, conf).toString());\r\n    }\r\n\r\nAnd the console log displays:\r\n\r\n    Before: {&quot;PersonalDetailsDTO&quot;:{&quot;EmploymentListDTO&quot;:[{&quot;Type&quot;:&quot;Full-time&quot;,&quot;Probation&quot;:true}],&quot;SecAnswer&quot;:&quot;Some-Ans&quot;,&quot;Email&quot;:&quot;some@validemail.com&quot;,&quot;SecQuestion&quot;:&quot;Some Ques&quot;,&quot;FirstName&quot;:&quot;Mark&quot;,&quot;DOB&quot;:&quot;19811201&quot;,&quot;AddressListDTO&quot;:[{&quot;StreetName&quot;:&quot;MEL&quot;,&quot;Suburb&quot;:&quot;Melbourne&quot;,&quot;State&quot;:&quot;NSW&quot;,&quot;StreetNumber&quot;:&quot;2&quot;,&quot;UnitNumber&quot;:&quot;345&quot;,&quot;AddressType&quot;:&quot;Residential&quot;,&quot;PostCode&quot;:&quot;2345&quot;,&quot;StreetType&quot;:&quot;Boulevard&quot;}],&quot;Title&quot;:&quot;Mr&quot;,&quot;LastName&quot;:&quot;Sully&quot;}}\r\n    \r\n    \r\n    After: {PersonalDetailsDTO={FirstName=Mark, LastName=Sully, Title=Mr, DOB=19811201, SecQuestion=Some Ques, SecAnswer=Some-Ans, Email=some@validemail.com, EmploymentListDTO=[{&quot;Type&quot;:&quot;Full-time&quot;,&quot;Probation&quot;:true}], AddressListDTO=[{&quot;AddressType&quot;:&quot;Residential&quot;,&quot;State&quot;:&quot;NSW&quot;,&quot;StreetName&quot;:&quot;MEL&quot;,&quot;StreetNumber&quot;:&quot;2&quot;,&quot;StreetType&quot;:&quot;Boulevard&quot;,&quot;Suburb&quot;:&quot;Melbourne&quot;,&quot;UnitNumber&quot;:&quot;345&quot;}]}}\r\n\r\nLooks like JsonPath is doing its job and removing $.PersonalDetailsDTO.AddressListDTO.PostCode. However, there&#39;s something very obvious that bothers me:\r\n\r\nLooking at the json string produced by .toString() in before and after case, JSONObject API printed a nice string in true json standard format with every double quotes &quot;&quot; present, while the JsonPath .toString produce a customer string format that has some elements in double quote &quot;&quot; while others are not and i can not use it further like JSONObject.\r\n\r\nAnd what I noticed is that although JsonPath claim to accept &quot;java.lang.Object&quot; as parameter in many of its function, what it truly accept is something called &quot;jsonProvider&quot;. Not sure if it&#39;s causing the weird .toString() behavior.\r\n\r\nAnyway, how can I get a nice formatted json string out of JsonPath APIs like remove(), put(), read() and many other? Or to convert the return value to something like JSONObject?\r\n\r\nI would be interested in any other Java lib that can do remove/modify element by json path.\r\n","title":"What is the Java library to remove/modify a json object based on json path, or how to fix the below issue in JsonPath?","body":"<p>I am trying to implement a function to be able to remove or modify a json object base on a specified json path. For example, if I have a below json string/object:</p>\n<pre><code>{\n  &quot;PersonalDetailsDTO&quot;: {\n    &quot;FirstName&quot;: &quot;Mark&quot;,\n    &quot;LastName&quot;: &quot;Sully&quot;,\n    &quot;TotalDependent&quot;: &quot;2&quot;,\n    &quot;DOB&quot;: &quot;19811212&quot;,\n    &quot;SecQuestion&quot;: &quot;Some Que&quot;,\n    &quot;SecAnswer&quot;: &quot;Some-Ans&quot;,\n    &quot;Mobile&quot;: &quot;0123456789&quot;,\n    &quot;Email&quot;: &quot;some@validemail.com&quot;,\n    &quot;Title&quot;: &quot;Mr&quot;,\n    &quot;EmploymentListDTO&quot;: [\n      {\n        &quot;Type&quot;: &quot;Full-time&quot;,\n        &quot;Probation&quot;: true\n      }\n    ],\n    &quot;AddressListDTO&quot;: [\n      {\n        &quot;AddressType&quot;: &quot;BUS&quot;,\n        &quot;PostCode&quot;: &quot;1234&quot;,\n        &quot;State&quot;: &quot;NSW&quot;,\n        &quot;StreetName&quot;: &quot;miller&quot;,\n        &quot;StreetNumber&quot;: &quot;111&quot;,\n        &quot;StreetType&quot;: &quot;Invalid&quot;,\n        &quot;Suburb&quot;: &quot;Sydney&quot;,\n        &quot;UnitNumber&quot;: &quot;Maximum&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>And I want to remove element $.PersonalDetailsDTO.AddressListDTO.PostCode.</p>\n<p>I've done quite some search, and the one lib I found is JsonPath: <a href=\"http://static.javadoc.io/com.jayway.jsonpath/json-path/2.2.0/com/jayway/jsonpath/JsonPath.html\" rel=\"nofollow noreferrer\">http://static.javadoc.io/com.jayway.jsonpath/json-path/2.2.0/com/jayway/jsonpath/JsonPath.html</a></p>\n<p>So i wrote the below code:</p>\n<pre><code>public static void main(String[] args) {\n    // Prints &quot;Hello, World&quot; to the terminal window.\n    String jsonString = &quot;{\\n&quot; +\n            &quot;  \\&quot;PersonalDetailsDTO\\&quot;: {\\n&quot; +\n            &quot;      \\&quot;FirstName\\&quot;:\\&quot;Mark\\&quot;,\\n&quot; +\n            &quot;      \\&quot;LastName\\&quot;:\\&quot;Sully\\&quot;,\\n&quot; +\n            &quot;      \\&quot;Title\\&quot;:\\&quot;Mr\\&quot;,\\n&quot; +\n            &quot;      \\&quot;DOB\\&quot;:\\&quot;19811201\\&quot;,\\n&quot; +\n            &quot;    \\&quot;SecQuestion\\&quot;:\\&quot;Some Ques\\&quot;,\\n&quot; +\n            &quot;    \\&quot;SecAnswer\\&quot;:\\&quot;Some-Ans\\&quot;,\\n&quot; +\n            &quot;    \\&quot;Email\\&quot;:\\&quot;some@validemail.com\\&quot;,\\n&quot; +\n            &quot;    \\&quot;EmploymentListDTO\\&quot;: [\\n&quot; +\n            &quot;      {\\n&quot; +\n            &quot;        \\&quot;Type\\&quot;: \\&quot;Full-time\\&quot;,\\n&quot; +\n            &quot;        \\&quot;Probation\\&quot;: true\\n&quot; +\n            &quot;      }\\n&quot; +\n            &quot;    ],\\n&quot; +\n            &quot;    \\&quot;AddressListDTO\\&quot;: [\\n&quot; +\n            &quot;      {\\n&quot; +\n            &quot;        \\&quot;AddressType\\&quot;: \\&quot;Residential\\&quot;,\\n&quot; +\n            &quot;        \\&quot;PostCode\\&quot;: \\&quot;2345\\&quot;,\\n&quot; +\n            &quot;        \\&quot;State\\&quot;: \\&quot;NSW\\&quot;,\\n&quot; +\n            &quot;        \\&quot;StreetName\\&quot;: \\&quot;MEL\\&quot;,\\n&quot; +\n            &quot;        \\&quot;StreetNumber\\&quot;: \\&quot;2\\&quot;,\\n&quot; +\n            &quot;        \\&quot;StreetType\\&quot;: \\&quot;Boulevard\\&quot;,\\n&quot; +\n            &quot;        \\&quot;Suburb\\&quot;: \\&quot;Melbourne\\&quot;,\\n&quot; +\n            &quot;        \\&quot;UnitNumber\\&quot;: \\&quot;345\\&quot;\\n&quot; +\n            &quot;      }\\n&quot; +\n            &quot;     ]\\n&quot; +\n            &quot;   }  \\n&quot; +\n            &quot;}&quot;;\n\n    JSONObject jsonObject = new JSONObject(jsonString);\n    System.out.println(&quot;Before: &quot; + jsonObject.toString());\n\n    JsonPath jp = JsonPath.compile(&quot;$.PersonalDetailsDTO.AddressListDTO[0].PostCode&quot;);\n    Configuration conf = Configuration.defaultConfiguration();\n    Object json = conf.jsonProvider().parse(jsonString);\n    System.out.println(&quot;After: &quot; + jp.delete(json, conf).toString());\n}\n</code></pre>\n<p>And the console log displays:</p>\n<pre><code>Before: {&quot;PersonalDetailsDTO&quot;:{&quot;EmploymentListDTO&quot;:[{&quot;Type&quot;:&quot;Full-time&quot;,&quot;Probation&quot;:true}],&quot;SecAnswer&quot;:&quot;Some-Ans&quot;,&quot;Email&quot;:&quot;some@validemail.com&quot;,&quot;SecQuestion&quot;:&quot;Some Ques&quot;,&quot;FirstName&quot;:&quot;Mark&quot;,&quot;DOB&quot;:&quot;19811201&quot;,&quot;AddressListDTO&quot;:[{&quot;StreetName&quot;:&quot;MEL&quot;,&quot;Suburb&quot;:&quot;Melbourne&quot;,&quot;State&quot;:&quot;NSW&quot;,&quot;StreetNumber&quot;:&quot;2&quot;,&quot;UnitNumber&quot;:&quot;345&quot;,&quot;AddressType&quot;:&quot;Residential&quot;,&quot;PostCode&quot;:&quot;2345&quot;,&quot;StreetType&quot;:&quot;Boulevard&quot;}],&quot;Title&quot;:&quot;Mr&quot;,&quot;LastName&quot;:&quot;Sully&quot;}}\n\n\nAfter: {PersonalDetailsDTO={FirstName=Mark, LastName=Sully, Title=Mr, DOB=19811201, SecQuestion=Some Ques, SecAnswer=Some-Ans, Email=some@validemail.com, EmploymentListDTO=[{&quot;Type&quot;:&quot;Full-time&quot;,&quot;Probation&quot;:true}], AddressListDTO=[{&quot;AddressType&quot;:&quot;Residential&quot;,&quot;State&quot;:&quot;NSW&quot;,&quot;StreetName&quot;:&quot;MEL&quot;,&quot;StreetNumber&quot;:&quot;2&quot;,&quot;StreetType&quot;:&quot;Boulevard&quot;,&quot;Suburb&quot;:&quot;Melbourne&quot;,&quot;UnitNumber&quot;:&quot;345&quot;}]}}\n</code></pre>\n<p>Looks like JsonPath is doing its job and removing $.PersonalDetailsDTO.AddressListDTO.PostCode. However, there's something very obvious that bothers me:</p>\n<p>Looking at the json string produced by .toString() in before and after case, JSONObject API printed a nice string in true json standard format with every double quotes &quot;&quot; present, while the JsonPath .toString produce a customer string format that has some elements in double quote &quot;&quot; while others are not and i can not use it further like JSONObject.</p>\n<p>And what I noticed is that although JsonPath claim to accept &quot;java.lang.Object&quot; as parameter in many of its function, what it truly accept is something called &quot;jsonProvider&quot;. Not sure if it's causing the weird .toString() behavior.</p>\n<p>Anyway, how can I get a nice formatted json string out of JsonPath APIs like remove(), put(), read() and many other? Or to convert the return value to something like JSONObject?</p>\n<p>I would be interested in any other Java lib that can do remove/modify element by json path.</p>\n"},{"tags":["java","spring-boot","swagger","springfox"],"comments":[{"owner":{"account_id":10308879,"reputation":517,"user_id":7605320,"display_name":"Marco"},"score":1,"creation_date":1612808147,"post_id":66106854,"comment_id":116877078,"body_markdown":"are you using @EnableSwagger2? and also try to use `io.springfox:springfox-swagger2:3.0.0`","body":"are you using @EnableSwagger2? and also try to use <code>io.springfox:springfox-swagger2:3.0.0</code>"},{"owner":{"account_id":18904876,"reputation":123,"user_id":13792203,"display_name":"Jack"},"score":0,"creation_date":1612809729,"post_id":66106854,"comment_id":116877672,"body_markdown":"@Marco I added annotation EnableSwagger2 to my SwaggerConfig file and I don&#39;t have any errors but in the Swagger guide that I attached by the link in the post says that after configuring you should go to this url : &#39;http://localhost:8080/spring-security-rest/api/v2/api-docs&#39; and when I got this url, I have nothing, maybe I did something wrong..","body":"@Marco I added annotation EnableSwagger2 to my SwaggerConfig file and I don&#39;t have any errors but in the Swagger guide that I attached by the link in the post says that after configuring you should go to this url : &#39;<a href=\"http://localhost:8080/spring-security-rest/api/v2/api-docs\" rel=\"nofollow noreferrer\">localhost:8080/spring-security-rest/api/v2/api-docs</a>&#39; and when I got this url, I have nothing, maybe I did something wrong.."},{"owner":{"account_id":18904876,"reputation":123,"user_id":13792203,"display_name":"Jack"},"score":0,"creation_date":1612810034,"post_id":66106854,"comment_id":116877775,"body_markdown":"To verify that Springfox is working, we can visit this URL in our browser:\n\nhttp://localhost:8080/spring-security-rest/api/v2/api-docs\n\nThe result is a JSON response with a large number of key-value pairs, which is not very human readable. Fortunately, Swagger provides Swagger UI for this purpose.\n\nIt is in the Swagger guide but I don&#39;t have it after go to this url..","body":"To verify that Springfox is working, we can visit this URL in our browser:  <a href=\"http://localhost:8080/spring-security-rest/api/v2/api-docs\" rel=\"nofollow noreferrer\">localhost:8080/spring-security-rest/api/v2/api-docs</a>  The result is a JSON response with a large number of key-value pairs, which is not very human readable. Fortunately, Swagger provides Swagger UI for this purpose.  It is in the Swagger guide but I don&#39;t have it after go to this url.."},{"owner":{"account_id":10308879,"reputation":517,"user_id":7605320,"display_name":"Marco"},"score":0,"creation_date":1612924875,"post_id":66106854,"comment_id":116916545,"body_markdown":"Did you tried to hit http://localhost:8080/v2/api-docs?","body":"Did you tried to hit <a href=\"http://localhost:8080/v2/api-docs\" rel=\"nofollow noreferrer\">localhost:8080/v2/api-docs</a>?"},{"owner":{"account_id":18904876,"reputation":123,"user_id":13792203,"display_name":"Jack"},"score":0,"creation_date":1612947758,"post_id":66106854,"comment_id":116922310,"body_markdown":"@Marco Yes, but I got HTTP Status 404 – Not Found","body":"@Marco Yes, but I got HTTP Status 404 – Not Found"},{"owner":{"account_id":10308879,"reputation":517,"user_id":7605320,"display_name":"Marco"},"score":0,"creation_date":1612960862,"post_id":66106854,"comment_id":116928160,"body_markdown":"try to adding     `.apis(RequestHandlerSelectors\n                        .basePackage(&quot;your.package&quot;))` and remove `.apis(RequestHandlerSelectors.any())`","body":"try to adding     <code>.apis(RequestHandlerSelectors                         .basePackage(&quot;your.package&quot;))</code> and remove <code>.apis(RequestHandlerSelectors.any())</code>"}],"answers":[{"tags":[],"owner":{"account_id":21002971,"reputation":79,"user_id":15433387,"display_name":"Vidhya Natarajan"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1616163832,"creation_date":1616163832,"answer_id":66709961,"question_id":66106854,"body_markdown":"I removed the following dependency from pom.xml \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor me it worked","title":"Caused by: java.lang.ClassNotFoundException: springfox.documentation.common.ClassPresentInClassPathCondition","body":"<p>I removed the following dependency from pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n  &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For me it worked</p>\n"},{"tags":[],"owner":{"account_id":28470497,"reputation":43,"user_id":21785880,"display_name":"Anurator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682934710,"creation_date":1682934710,"answer_id":76146017,"question_id":66106854,"body_markdown":"I came around this error while upgrading spring-boot v2.1.1 to v3.0.5. So here I upgraded `springfox-swagger2` and `springfox-swagger-ui` both to the same version 3.0.0\r\n","title":"Caused by: java.lang.ClassNotFoundException: springfox.documentation.common.ClassPresentInClassPathCondition","body":"<p>I came around this error while upgrading spring-boot v2.1.1 to v3.0.5. So here I upgraded <code>springfox-swagger2</code> and <code>springfox-swagger-ui</code> both to the same version 3.0.0</p>\n"}],"owner":{"account_id":18904876,"reputation":123,"user_id":13792203,"display_name":"Jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17404,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1682934710,"creation_date":1612807026,"question_id":66106854,"body_markdown":"I am trying to add Swagger to my project &lt;https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api&gt;\r\n\r\nI got 4.3 paragraph in the tutorial above and when I run my application, I got some errors.\r\n\r\nThis I added to my `pom.xml` :\r\n\r\n        &lt;dependency&gt;\r\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAlso, I added config class :\r\n\r\n    @Configuration\r\n    public class SwaggerConfig {\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n    }\r\n\r\nAnd when I run my project, I got :\r\n\r\n[![STACKTRACE1][1]][1]\r\n[![STACKTRACE2][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JFhE2.png\r\n  [2]: https://i.stack.imgur.com/HswzF.png","title":"Caused by: java.lang.ClassNotFoundException: springfox.documentation.common.ClassPresentInClassPathCondition","body":"<p>I am trying to add Swagger to my project <a href=\"https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api</a></p>\n<p>I got 4.3 paragraph in the tutorial above and when I run my application, I got some errors.</p>\n<p>This I added to my <code>pom.xml</code> :</p>\n<pre><code>    &lt;dependency&gt;\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n  &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n  &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n  &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n  &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, I added config class :</p>\n<pre><code>@Configuration\npublic class SwaggerConfig {\n@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()\n            .apis(RequestHandlerSelectors.any())\n            .paths(PathSelectors.any())\n            .build();\n}\n}\n</code></pre>\n<p>And when I run my project, I got :</p>\n<p><a href=\"https://i.stack.imgur.com/JFhE2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFhE2.png\" alt=\"STACKTRACE1\" /></a>\n<a href=\"https://i.stack.imgur.com/HswzF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HswzF.png\" alt=\"STACKTRACE2\" /></a></p>\n"},{"tags":["java","android","android-activity","broadcastreceiver","alarmmanager"],"owner":{"account_id":23416240,"reputation":1,"user_id":17477156,"display_name":"HaxHan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682934256,"creation_date":1682934256,"question_id":76145977,"body_markdown":"I have an Android app which opens an activity on a specific time with the help of AlarmManager and Broadcast Receiver.\r\n\r\nThe AlarmManager gets triggered on the desired time, Broadcast Receiver does get executed I have other code that runs just fine (such as sending the user a notification).\r\n\r\nI want my `onReceive` method in my Broadcast Receiver to open an activity even if the app is not running. I&#39;m fine with it opening something else too, as long as the user gets a screen of some sort in front of them.\r\n\r\nBelow approach works perfectly well on most phones. However, on Redmi Note devices primarily (and some Samsung devices) it does not seem to work, doesn&#39;t open the activity.\r\n \r\nI have below code in `onReceive`\r\n\r\n```\r\nIntent in = new Intent(context.getApplicationContext(), ShowAlarmActivity.class);\r\nin.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\ncontext.startActivity(in);\r\n```\r\n\r\n\r\n\r\n# - What I have setup/tried\r\n1. I have given `SYSTEM_ALERT_WINDOW` permission. doesn&#39;t work with that either. But this did fix it on a lot of Samsung devices I believe.\r\n2. I have Auto-start enabled for the app.\r\n3. I have Battery Optimization set to Unrestricted.\r\n4. I Have tried setting a Component for the intent, as :\r\n\r\n```\r\nin.setComponent(new ComponentName(context.getPackageName(), &quot;com.example.mypackage.ShowAlarmActivity&quot;));\r\n```\r\n5. Tried to open the activity through an action.\r\n```\r\nIntent in = new Intent(&quot;com.example.mypackage.ACTION_SHOW_NOW&quot;);\r\n```\r\n\r\n6. Tried flags `FLAG_ACTIVITY_CLEAR_TOP` and `FLAG_ACTIVITY_SINGLE_TOP`.\r\n```\r\nin.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n```\r\n\r\n7. The `ShowAlarmActivity` has `exported` as `true` in `AndroidManifest`\r\n```\r\nandroid:exported=&quot;true&quot;\r\n```\r\n\r\n\r\nJust as a reminder and as mentioned above, it works on majority of devices, I myself have **Xiaomi POCO F3** which it does work on it perfectly fine. Redmi Note phones are a set of phones that I have tried and got feedback from users that it does not work on it, which is also a Xiaomi brand.\r\n\r\n","title":"Run Activity with AlarmManager + Broadcast Receiver (on Redmi Note phones)","body":"<p>I have an Android app which opens an activity on a specific time with the help of AlarmManager and Broadcast Receiver.</p>\n<p>The AlarmManager gets triggered on the desired time, Broadcast Receiver does get executed I have other code that runs just fine (such as sending the user a notification).</p>\n<p>I want my <code>onReceive</code> method in my Broadcast Receiver to open an activity even if the app is not running. I'm fine with it opening something else too, as long as the user gets a screen of some sort in front of them.</p>\n<p>Below approach works perfectly well on most phones. However, on Redmi Note devices primarily (and some Samsung devices) it does not seem to work, doesn't open the activity.</p>\n<p>I have below code in <code>onReceive</code></p>\n<pre><code>Intent in = new Intent(context.getApplicationContext(), ShowAlarmActivity.class);\nin.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\ncontext.startActivity(in);\n</code></pre>\n<h1>- What I have setup/tried</h1>\n<ol>\n<li>I have given <code>SYSTEM_ALERT_WINDOW</code> permission. doesn't work with that either. But this did fix it on a lot of Samsung devices I believe.</li>\n<li>I have Auto-start enabled for the app.</li>\n<li>I have Battery Optimization set to Unrestricted.</li>\n<li>I Have tried setting a Component for the intent, as :</li>\n</ol>\n<pre><code>in.setComponent(new ComponentName(context.getPackageName(), &quot;com.example.mypackage.ShowAlarmActivity&quot;));\n</code></pre>\n<ol start=\"5\">\n<li>Tried to open the activity through an action.</li>\n</ol>\n<pre><code>Intent in = new Intent(&quot;com.example.mypackage.ACTION_SHOW_NOW&quot;);\n</code></pre>\n<ol start=\"6\">\n<li>Tried flags <code>FLAG_ACTIVITY_CLEAR_TOP</code> and <code>FLAG_ACTIVITY_SINGLE_TOP</code>.</li>\n</ol>\n<pre><code>in.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n</code></pre>\n<ol start=\"7\">\n<li>The <code>ShowAlarmActivity</code> has <code>exported</code> as <code>true</code> in <code>AndroidManifest</code></li>\n</ol>\n<pre><code>android:exported=&quot;true&quot;\n</code></pre>\n<p>Just as a reminder and as mentioned above, it works on majority of devices, I myself have <strong>Xiaomi POCO F3</strong> which it does work on it perfectly fine. Redmi Note phones are a set of phones that I have tried and got feedback from users that it does not work on it, which is also a Xiaomi brand.</p>\n"},{"tags":["java","spring","maven-3","maven-compiler-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682930741,"post_id":76145590,"comment_id":134285530,"body_markdown":"The first thing is that you are not using the spring dependencis and defining a lot of versions of different compononets of spring/spring boot on your own which is wrong... Using several components which do not work together (https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions)  version 4 and 5 etc. also using very old plugins maven-war-plugin etc. and manually configuring them (why?) Also check the compilation error...","body":"The first thing is that you are not using the spring dependencis and defining a lot of versions of different compononets of spring/spring boot on your own which is wrong... Using several components which do not work together (<a href=\"https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/wiki/&hellip;</a>)  version 4 and 5 etc. also using very old plugins maven-war-plugin etc. and manually configuring them (why?) Also check the compilation error..."},{"owner":{"account_id":11352503,"reputation":903,"user_id":8323009,"accept_rate":50,"display_name":"arj"},"score":0,"creation_date":1682930889,"post_id":76145590,"comment_id":134285547,"body_markdown":"@khmarbaise its an old project and trying to fix compilation errors","body":"@khmarbaise its an old project and trying to fix compilation errors"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682930969,"post_id":76145590,"comment_id":134285556,"body_markdown":"That you should take care of the compilation error... there is an output about the location which you should check...","body":"That you should take care of the compilation error... there is an output about the location which you should check..."}],"owner":{"account_id":11352503,"reputation":903,"user_id":8323009,"accept_rate":50,"display_name":"arj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682933441,"creation_date":1682929145,"question_id":76145590,"body_markdown":"I&#39;m having trouble getting my Spring MVC project to build successfully. I&#39;ve been following some solutions from Stack Overflow, but none of them seem to be working for me.\r\nI&#39;m getting the following error\r\n\r\n```none\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project ABC: Compilation failure\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\r\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n    ... 20 more\r\n```\r\n\r\nI&#39;ve been trying to troubleshoot this issue by reading solutions on Stack Overflow, but nothing seems to work for me.\r\n\r\n1. removed `.settings` , `.project` and re import project.\r\n1. removed `.m2` folder\r\n1. forcefully update the maven project.\r\n1. verify source and target maven compiler versions.\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.integrated.library&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ABC&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;ABC&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;springframework.version&gt;4.3.1.RELEASE&lt;/springframework.version&gt;\r\n        &lt;springsecurity.version&gt;4.1.1.RELEASE&lt;/springsecurity.version&gt;\r\n        &lt;jackson.library&gt;2.7.5&lt;/jackson.library&gt;\r\n        &lt;apachetiles.version&gt;3.0.5&lt;/apachetiles.version&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${apachetiles.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${apachetiles.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${apachetiles.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\r\n            &lt;version&gt;${apachetiles.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Spring Security --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${springsecurity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;${springsecurity.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Jackson libraries --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.library}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.library}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.jackson/jackson-core-asl --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- Servlet --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- apache commons codedc --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Apache Commons IO --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/jstl/jstl --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.3.Final&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\r\n                        &lt;warName&gt;ABC&lt;/warName&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;finalName&gt;ABC&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nDo you have any advice on how to resolve this issue? I&#39;d really appreciate any help you can provide.\r\n","title":"Maven life-cycle compiler exception","body":"<p>I'm having trouble getting my Spring MVC project to build successfully. I've been following some solutions from Stack Overflow, but none of them seem to be working for me.\nI'm getting the following error</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project ABC: Compilation failure\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    ... 20 more\n</code></pre>\n<p>I've been trying to troubleshoot this issue by reading solutions on Stack Overflow, but nothing seems to work for me.</p>\n<ol>\n<li>removed <code>.settings</code> , <code>.project</code> and re import project.</li>\n<li>removed <code>.m2</code> folder</li>\n<li>forcefully update the maven project.</li>\n<li>verify source and target maven compiler versions.</li>\n</ol>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.integrated.library&lt;/groupId&gt;\n    &lt;artifactId&gt;ABC&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;ABC&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;springframework.version&gt;4.3.1.RELEASE&lt;/springframework.version&gt;\n        &lt;springsecurity.version&gt;4.1.1.RELEASE&lt;/springsecurity.version&gt;\n        &lt;jackson.library&gt;2.7.5&lt;/jackson.library&gt;\n        &lt;apachetiles.version&gt;3.0.5&lt;/apachetiles.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-core&lt;/artifactId&gt;\n            &lt;version&gt;${apachetiles.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-api&lt;/artifactId&gt;\n            &lt;version&gt;${apachetiles.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${apachetiles.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n            &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\n            &lt;version&gt;${apachetiles.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;4.3.6.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;${springsecurity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;${springsecurity.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Jackson libraries --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.library}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.library}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.jackson/jackson-core-asl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Servlet --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- apache commons codedc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.10&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Apache Commons IO --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/jstl/jstl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;5.1.3.Final&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.8&lt;/source&gt;\n                        &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.4&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\n                        &lt;warName&gt;ABC&lt;/warName&gt;\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;finalName&gt;ABC&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Do you have any advice on how to resolve this issue? I'd really appreciate any help you can provide.</p>\n"},{"tags":["java","json","rest","get","bigdecimal"],"comments":[{"owner":{"account_id":1471892,"reputation":9718,"user_id":1383240,"accept_rate":38,"display_name":"NiVeR"},"score":3,"creation_date":1535976899,"post_id":52149589,"comment_id":91249044,"body_markdown":"Are you using some library for json serialization/deserialization?","body":"Are you using some library for json serialization/deserialization?"},{"owner":{"account_id":10813511,"reputation":892,"user_id":7953365,"display_name":"Ankur"},"score":1,"creation_date":1535976954,"post_id":52149589,"comment_id":91249076,"body_markdown":"can&#39;t you create a custom serializer to convert the BigDecimal value to string while  returning the json output?","body":"can&#39;t you create a custom serializer to convert the BigDecimal value to string while  returning the json output?"},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1535977179,"post_id":52149589,"comment_id":91249224,"body_markdown":"No, not using any library.","body":"No, not using any library."},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1535977196,"post_id":52149589,"comment_id":91249233,"body_markdown":"@Ankur: Thats the question, how should I do it?","body":"@Ankur: Thats the question, how should I do it?"},{"owner":{"account_id":11977011,"reputation":4967,"user_id":8763847,"display_name":"sayboras"},"score":0,"creation_date":1535977545,"post_id":52149589,"comment_id":91249441,"body_markdown":"can you help to add how you serialized `result` object ?","body":"can you help to add how you serialized <code>result</code> object ?"},{"owner":{"account_id":6094808,"reputation":7041,"user_id":4755974,"display_name":"Veselin Davidov"},"score":0,"creation_date":1535982270,"post_id":52149589,"comment_id":91252010,"body_markdown":"If you want string - make them Strings and not BigDecimal, if they are numeric follow the valid JSON standard and return them as numbers","body":"If you want string - make them Strings and not BigDecimal, if they are numeric follow the valid JSON standard and return them as numbers"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1536021656,"post_id":52149589,"comment_id":91265163,"body_markdown":"The last part about list and arrays and your collector is unclear and confusing. You have not explained your inputs, outputs, and purpose.","body":"The last part about list and arrays and your collector is unclear and confusing. You have not explained your inputs, outputs, and purpose."},{"owner":{"account_id":3085969,"reputation":167,"user_id":2613090,"display_name":"rfrp"},"score":0,"creation_date":1653602069,"post_id":52149589,"comment_id":127897713,"body_markdown":"Consider use a ObjectConverter Codec. See this answer:\nhttps://stackoverflow.com/questions/72143091/how-do-return-a-bigdecimal-as-decimal-in-json-using-jaxrs","body":"Consider use a ObjectConverter Codec. See this answer: <a href=\"https://stackoverflow.com/questions/72143091/how-do-return-a-bigdecimal-as-decimal-in-json-using-jaxrs\" title=\"how do return a bigdecimal as decimal in json using jaxrs\">stackoverflow.com/questions/72143091/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1536021496,"creation_date":1536018913,"answer_id":52157211,"question_id":52149589,"body_markdown":"# Use `String`\r\n\r\nThe `Number` type in JSON is likely to be considered as a [floating-point][1] number, from my reading of the [Wikipedia page][2], per the traditional behavior of JavaScript. Floating-point technology purposely sacrifices accuracy for the sake of execution speed. \r\n\r\nThe [`BigDecimal`][3] class has exactly the opposite purpose, to sacrifice execution speed for the sake of accuracy. \r\n\r\nSo, if you want the best chance of preserving your `BigDecimal` value, store as a `String`. Hopefully this approach makes it less likely that the consumer of your JSON will inadvertently parse the incoming value as a floating-point. Clearly document to those people consuming your JSON about your intention to have the data parsed as a `BigDecimal` or equivalent rather than floating-point.\r\n\r\nJava export:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String output = myBigDecimal.toString() ;\r\n\r\nJSON:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n       &quot;value1&quot;: &quot;123.00&quot;,\r\n       &quot;value2&quot;: &quot;23.00&quot;\r\n    }\r\n\r\nJava import:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    BigDecimal bd = new BigDecimal( &quot;123.00&quot; ) ;\r\n\r\nStudy the documentation for [`BigDecimal::toString`][4] and [`new BigDecimal( string )`][5]. You should also be aware of the [`BigDecimal::toPlainString`][6] method.\r\n\r\n## Streams\r\n\r\nAs for your Java streams, I do not understand your issue. You use of `List` and arrays is unexplained.\r\n\r\nBasically, you should be implementing a `toJson` method on your `Result` class. Call that `Result::toJson` method within your stream code.\r\n\r\nHere is an example of such a class.\r\n\r\n    package com.basilbourque.example;\r\n    \r\n    import java.math.BigDecimal;\r\n    \r\n    public class Result {\r\n    \r\n        BigDecimal start, stop;\r\n    \r\n        public String toJson () {\r\n            StringBuilder sb = new StringBuilder( &quot;{\\n&quot; );\r\n            sb.append( &quot;    &quot; );  // Indent with four spaces.\r\n            sb.append( this.enquote( &quot;start:&quot; ) + &quot; &quot; );\r\n            sb.append( this.enquote( start.toString() ) );\r\n            sb.append( &quot; , \\n&quot; );\r\n            sb.append( &quot;    &quot; );  // Indent with four spaces.\r\n            sb.append( this.enquote( &quot;stop:&quot; ) + &quot; &quot; );\r\n            sb.append( this.enquote( stop.toString() ) );\r\n            sb.append( &quot;\\n}\\n&quot; );\r\n            return sb.toString();\r\n        }\r\n    \r\n        static public Result fromJson ( String json ) {\r\n             …\r\n        }\r\n    \r\n        private String enquote ( String string ) {\r\n            return &quot;\\&quot;&quot; + string + &quot;\\&quot;&quot;;\r\n        }\r\n    \r\n        // Constructor\r\n        public Result ( BigDecimal start , BigDecimal stop ) {\r\n            this.start = start;\r\n            this.stop = stop;\r\n        }\r\n    \r\n        public static void main ( String[] args ) {\r\n            Result r = new Result( new BigDecimal( &quot;123.00&quot; ) , new BigDecimal( &quot;23.00&quot; ) );\r\n            System.out.println( r.toJson() );\r\n        }\r\n    }\r\n\r\n\r\nWhen run.\r\n\r\n    {\r\n        &quot;start:&quot; &quot;123.00&quot; , \r\n        &quot;stop:&quot; &quot;23.00&quot;\r\n    }\r\n\r\n\r\n\r\n# Consider a framework\r\n\r\nTip: You may want to consider using a JSON↔Java mapping framework to help you with this work.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Floating-point_arithmetic\r\n  [2]: https://en.wikipedia.org/wiki/JSON#Data_types,_syntax_and_example\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html\r\n  [4]: https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html#toString()\r\n  [5]: https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html#%3Cinit%3E(char%5B%5D)\r\n  [6]: https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html#toPlainString()","title":"Return BigDecimal fields as JSON String values in Java","body":"<h1>Use <code>String</code></h1>\n\n<p>The <code>Number</code> type in JSON is likely to be considered as a <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic\" rel=\"nofollow noreferrer\">floating-point</a> number, from my reading of the <a href=\"https://en.wikipedia.org/wiki/JSON#Data_types,_syntax_and_example\" rel=\"nofollow noreferrer\">Wikipedia page</a>, per the traditional behavior of JavaScript. Floating-point technology purposely sacrifices accuracy for the sake of execution speed. </p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a> class has exactly the opposite purpose, to sacrifice execution speed for the sake of accuracy. </p>\n\n<p>So, if you want the best chance of preserving your <code>BigDecimal</code> value, store as a <code>String</code>. Hopefully this approach makes it less likely that the consumer of your JSON will inadvertently parse the incoming value as a floating-point. Clearly document to those people consuming your JSON about your intention to have the data parsed as a <code>BigDecimal</code> or equivalent rather than floating-point.</p>\n\n<p>Java export:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String output = myBigDecimal.toString() ;\n</code></pre>\n\n<p>JSON:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n   \"value1\": \"123.00\",\n   \"value2\": \"23.00\"\n}\n</code></pre>\n\n<p>Java import:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal bd = new BigDecimal( \"123.00\" ) ;\n</code></pre>\n\n<p>Study the documentation for <a href=\"https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html#toString()\" rel=\"nofollow noreferrer\"><code>BigDecimal::toString</code></a> and <a href=\"https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html#%3Cinit%3E(char%5B%5D)\" rel=\"nofollow noreferrer\"><code>new BigDecimal( string )</code></a>. You should also be aware of the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/math/BigDecimal.html#toPlainString()\" rel=\"nofollow noreferrer\"><code>BigDecimal::toPlainString</code></a> method.</p>\n\n<h2>Streams</h2>\n\n<p>As for your Java streams, I do not understand your issue. You use of <code>List</code> and arrays is unexplained.</p>\n\n<p>Basically, you should be implementing a <code>toJson</code> method on your <code>Result</code> class. Call that <code>Result::toJson</code> method within your stream code.</p>\n\n<p>Here is an example of such a class.</p>\n\n<pre><code>package com.basilbourque.example;\n\nimport java.math.BigDecimal;\n\npublic class Result {\n\n    BigDecimal start, stop;\n\n    public String toJson () {\n        StringBuilder sb = new StringBuilder( \"{\\n\" );\n        sb.append( \"    \" );  // Indent with four spaces.\n        sb.append( this.enquote( \"start:\" ) + \" \" );\n        sb.append( this.enquote( start.toString() ) );\n        sb.append( \" , \\n\" );\n        sb.append( \"    \" );  // Indent with four spaces.\n        sb.append( this.enquote( \"stop:\" ) + \" \" );\n        sb.append( this.enquote( stop.toString() ) );\n        sb.append( \"\\n}\\n\" );\n        return sb.toString();\n    }\n\n    static public Result fromJson ( String json ) {\n         …\n    }\n\n    private String enquote ( String string ) {\n        return \"\\\"\" + string + \"\\\"\";\n    }\n\n    // Constructor\n    public Result ( BigDecimal start , BigDecimal stop ) {\n        this.start = start;\n        this.stop = stop;\n    }\n\n    public static void main ( String[] args ) {\n        Result r = new Result( new BigDecimal( \"123.00\" ) , new BigDecimal( \"23.00\" ) );\n        System.out.println( r.toJson() );\n    }\n}\n</code></pre>\n\n<p>When run.</p>\n\n<pre><code>{\n    \"start:\" \"123.00\" , \n    \"stop:\" \"23.00\"\n}\n</code></pre>\n\n<h1>Consider a framework</h1>\n\n<p>Tip: You may want to consider using a JSON↔Java mapping framework to help you with this work.</p>\n"},{"tags":[],"owner":{"account_id":13606882,"reputation":259,"user_id":9815759,"display_name":"Pawan Kumar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1586337126,"creation_date":1580386520,"answer_id":59985845,"question_id":52149589,"body_markdown":"\r\n\r\nYou can use &lt;code&gt;@JsonFormat&lt;/code&gt; annotation as below:\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n        \r\n    public class Result {        \r\n       @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n       private BigDecimal value;\r\n        \r\n       // getters and setters\r\n    }\r\n\r\n","title":"Return BigDecimal fields as JSON String values in Java","body":"<p>You can use <code>@JsonFormat</code> annotation as below:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonFormat;\n\npublic class Result {        \n   @JsonFormat(shape = JsonFormat.Shape.STRING)\n   private BigDecimal value;\n\n   // getters and setters\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7646572,"reputation":5204,"user_id":5797023,"display_name":"Serhii Maksymchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682933266,"creation_date":1682933266,"answer_id":76145915,"question_id":52149589,"body_markdown":"If you use spring framework, you can configure serialization `BigDecimal -&gt; String` globally like this:\r\n\r\n    \r\n    @Bean\r\n    @Primary\r\n    ObjectMapper objectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configOverride(BigDecimal.class)\r\n                .setFormat(JsonFormat.Value.forShape(JsonFormat.Shape.STRING));\r\n        return objectMapper;\r\n    }\r\n","title":"Return BigDecimal fields as JSON String values in Java","body":"<p>If you use spring framework, you can configure serialization <code>BigDecimal -&gt; String</code> globally like this:</p>\n<pre><code>@Bean\n@Primary\nObjectMapper objectMapper() {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.configOverride(BigDecimal.class)\n            .setFormat(JsonFormat.Value.forShape(JsonFormat.Shape.STRING));\n    return objectMapper;\n}\n</code></pre>\n"}],"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33897,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1682933266,"creation_date":1535976704,"question_id":52149589,"body_markdown":"I have a `Get API` which returns a `JSON`. The format expected is:\r\n\r\n    {\r\n       &quot;value1&quot;: &quot;123.00&quot;,\r\n       &quot;value2&quot;: &quot;23.00&quot;\r\n    }\r\n\r\nThese values are `BigDecimal` in the object:\r\n\r\n    public class Result{\r\n        BigDecimal value1;\r\n        BigDecimal value2;\r\n        // getters and setters\r\n    }\r\n\r\nNow, when the request is made, I create the `Result` object and populate these values as `BigDecimal`, create a list and return. The response I received is:\r\n\r\n    {\r\n       &quot;value1&quot;: 123.00,\r\n       &quot;value2&quot;: 23.00\r\n    }\r\n\r\nThe values are correct but are not strings. How can I make them strings?\r\n\r\nI know we can convert `BigDecimal` to `String` but I have object with BigDecimal fields only and I can&#39;t populate String values to it.\r\n\r\nFinally, this is how the list is made:\r\n\r\n    List&lt;MyObj&gt; obj = Arrays.stream(myObj).collect(Collectors.toList());\r\n\t\t\r\n\t\tResult result = new Result();\r\n\t\t\r\n\t\tobj.forEach(t -&gt; t.mergeToResult(result));  // mergeToResults does all the population like result.setValue1(new BigDecimal(123.00))\r\n\t\t\r\n\t\treturn result;","title":"Return BigDecimal fields as JSON String values in Java","body":"<p>I have a <code>Get API</code> which returns a <code>JSON</code>. The format expected is:</p>\n\n<pre><code>{\n   \"value1\": \"123.00\",\n   \"value2\": \"23.00\"\n}\n</code></pre>\n\n<p>These values are <code>BigDecimal</code> in the object:</p>\n\n<pre><code>public class Result{\n    BigDecimal value1;\n    BigDecimal value2;\n    // getters and setters\n}\n</code></pre>\n\n<p>Now, when the request is made, I create the <code>Result</code> object and populate these values as <code>BigDecimal</code>, create a list and return. The response I received is:</p>\n\n<pre><code>{\n   \"value1\": 123.00,\n   \"value2\": 23.00\n}\n</code></pre>\n\n<p>The values are correct but are not strings. How can I make them strings?</p>\n\n<p>I know we can convert <code>BigDecimal</code> to <code>String</code> but I have object with BigDecimal fields only and I can't populate String values to it.</p>\n\n<p>Finally, this is how the list is made:</p>\n\n<pre><code>List&lt;MyObj&gt; obj = Arrays.stream(myObj).collect(Collectors.toList());\n\n    Result result = new Result();\n\n    obj.forEach(t -&gt; t.mergeToResult(result));  // mergeToResults does all the population like result.setValue1(new BigDecimal(123.00))\n\n    return result;\n</code></pre>\n"},{"tags":["java","java-17"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682933025,"creation_date":1682933025,"answer_id":76145894,"question_id":76145737,"body_markdown":"The utility method is not going to know about the fields in the main class, like `uniformOne`, `uniformTwo` etc. So unless you want to get into reflection territory, you have to take a consumer of some kind, and the caller will use that to assign its fields.\r\n\r\nIf you want to just make a more general version of what you currently have in `onRegister`, consider using a `Map&lt;String, ShaderUniform&gt;` to store all the uniforms instead, rather than individual fields. The utility method can easily produce such a map from a list of uniform names that you can pass as varargs.\r\n\r\nInstead of\r\n\r\n    public ShaderUniform uniformOne, uniformTwo, uniformThree;\r\n\r\nDeclare\r\n\r\n    private Map&lt;String, ShaderUniform&gt; uniforms;\r\n\r\nAnd perhaps add a public method that allows getting uniforms by their names.\r\n\r\nThe utility method can then be:\r\n\r\n```\r\npublic static void registerShader(RegisterShadersEvent event, String path, BiConsumer&lt;ShaderInstance, Map&lt;String, ShaderUniform&gt;&gt; block, String... uniformNames) {\r\n    event.registerShader(ShaderInstance.create(path), s -&gt; {\r\n        var shaderInstance = (ShaderInstance)s;\r\n        var uniformMap = Arrays.stream(uniformNames)\r\n            .collect(Collectors.toMap(Function.identity(), \r\n                     shaderInstance::getUniform));\r\n        block.accept(shaderInstance, uniformMap);\r\n    });\r\n}\r\n```\r\n\r\nYou&#39;d use it like this in the main class:\r\n\r\n```\r\nregisterShader(event, &quot;path/to/shader.fsh&quot;, (shader, map) -&gt; {\r\n    this.shader = shader;\r\n    this.uniforms = map;\r\n}, &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\r\n```\r\n\r\nI&#39;m not sure what library you are working with, but if the `s` in the consumer is always the instance you create in the second argument i.e. `ShaderInstance.create(path)`, then you probably don&#39;t need to pass that to the consumer. You can just return that directly:\r\n\r\n```\r\npublic static ShaderInstance registerShader(RegisterShadersEvent event, String path, Consumer&lt;ShaderInstance, Map&lt;String, ShaderUniform&gt;&gt; block, String... uniformNames) {\r\n    var shader = ShaderInstance.create(path);\r\n    event.registerShader(shader, s -&gt; {\r\n        var uniformMap = Arrays.stream(uniformNames)\r\n            .collect(Collectors.toMap(Function.identity(), \r\n                     shader::getUniform));\r\n        block.accept(uniformMap);\r\n    });\r\n    return shader;\r\n}\r\n\r\n// Usage:\r\nthis.shader = registerShader(\r\n    event, &quot;path/to/shader.fsh&quot;, \r\n    map -&gt; this.uniforms = map,\r\n    &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\r\n```","title":"Using Java Consumer in utility function instead of having to pass it as an argument (But using varargs or similar in replacement?)","body":"<p>The utility method is not going to know about the fields in the main class, like <code>uniformOne</code>, <code>uniformTwo</code> etc. So unless you want to get into reflection territory, you have to take a consumer of some kind, and the caller will use that to assign its fields.</p>\n<p>If you want to just make a more general version of what you currently have in <code>onRegister</code>, consider using a <code>Map&lt;String, ShaderUniform&gt;</code> to store all the uniforms instead, rather than individual fields. The utility method can easily produce such a map from a list of uniform names that you can pass as varargs.</p>\n<p>Instead of</p>\n<pre><code>public ShaderUniform uniformOne, uniformTwo, uniformThree;\n</code></pre>\n<p>Declare</p>\n<pre><code>private Map&lt;String, ShaderUniform&gt; uniforms;\n</code></pre>\n<p>And perhaps add a public method that allows getting uniforms by their names.</p>\n<p>The utility method can then be:</p>\n<pre><code>public static void registerShader(RegisterShadersEvent event, String path, BiConsumer&lt;ShaderInstance, Map&lt;String, ShaderUniform&gt;&gt; block, String... uniformNames) {\n    event.registerShader(ShaderInstance.create(path), s -&gt; {\n        var shaderInstance = (ShaderInstance)s;\n        var uniformMap = Arrays.stream(uniformNames)\n            .collect(Collectors.toMap(Function.identity(), \n                     shaderInstance::getUniform));\n        block.accept(shaderInstance, uniformMap);\n    });\n}\n</code></pre>\n<p>You'd use it like this in the main class:</p>\n<pre><code>registerShader(event, &quot;path/to/shader.fsh&quot;, (shader, map) -&gt; {\n    this.shader = shader;\n    this.uniforms = map;\n}, &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\n</code></pre>\n<p>I'm not sure what library you are working with, but if the <code>s</code> in the consumer is always the instance you create in the second argument i.e. <code>ShaderInstance.create(path)</code>, then you probably don't need to pass that to the consumer. You can just return that directly:</p>\n<pre><code>public static ShaderInstance registerShader(RegisterShadersEvent event, String path, Consumer&lt;ShaderInstance, Map&lt;String, ShaderUniform&gt;&gt; block, String... uniformNames) {\n    var shader = ShaderInstance.create(path);\n    event.registerShader(shader, s -&gt; {\n        var uniformMap = Arrays.stream(uniformNames)\n            .collect(Collectors.toMap(Function.identity(), \n                     shader::getUniform));\n        block.accept(uniformMap);\n    });\n    return shader;\n}\n\n// Usage:\nthis.shader = registerShader(\n    event, &quot;path/to/shader.fsh&quot;, \n    map -&gt; this.uniforms = map,\n    &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\n</code></pre>\n"}],"owner":{"account_id":17176700,"reputation":1,"user_id":12432740,"display_name":"SnakerBone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682933025,"creation_date":1682931256,"question_id":76145737,"body_markdown":"I&#39;ve been trying to figure out how to use a Consumer in my utility function instead of having to pass it in as an argument.\r\n\r\nHere is an example of my code:\r\n\r\n```java\r\n// Main class\r\n\r\npublic ShaderInstance shader;\r\npublic ShaderUniform uniformOne, uniformTwo, uniformThree;\r\n\r\n@EventListener\r\npublic void onRegister(RegisterShaderEvent event) {\r\n   event.registerShader(ShaderInstance.create(&quot;path/to/my_shader.fsh&quot;), s -&gt; {\r\n            shader = (ShaderInstance) s;\r\n            uniformOne = shader.getUniform(&quot;One&quot;);\r\n            uniformTwo = shader.getUniform(&quot;Two&quot;);\r\n            uniformThree = shader.getUniform(&quot;Three&quot;);\r\n        });\r\n}\r\n```\r\nThis is the utility function i&#39;m trying to implement:\r\n```java\r\n// Utility class\r\n\r\npublic static void registerShader(RegisterShadersEvent event, String path, Consumer&lt;ShaderInstance&gt; shader) {\r\n        event.registerShader(ShaderInstance.create(path), shader);\r\n    }\r\n```\r\nHowever, some shaders I want to register may have 1 uniform whereas some may have 5.\r\n\r\nI&#39;d like to use varargs or similar (if possible, arguments are final too)\r\n\r\nHow would I go about doing this?","title":"Using Java Consumer in utility function instead of having to pass it as an argument (But using varargs or similar in replacement?)","body":"<p>I've been trying to figure out how to use a Consumer in my utility function instead of having to pass it in as an argument.</p>\n<p>Here is an example of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Main class\n\npublic ShaderInstance shader;\npublic ShaderUniform uniformOne, uniformTwo, uniformThree;\n\n@EventListener\npublic void onRegister(RegisterShaderEvent event) {\n   event.registerShader(ShaderInstance.create(&quot;path/to/my_shader.fsh&quot;), s -&gt; {\n            shader = (ShaderInstance) s;\n            uniformOne = shader.getUniform(&quot;One&quot;);\n            uniformTwo = shader.getUniform(&quot;Two&quot;);\n            uniformThree = shader.getUniform(&quot;Three&quot;);\n        });\n}\n</code></pre>\n<p>This is the utility function i'm trying to implement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Utility class\n\npublic static void registerShader(RegisterShadersEvent event, String path, Consumer&lt;ShaderInstance&gt; shader) {\n        event.registerShader(ShaderInstance.create(path), shader);\n    }\n</code></pre>\n<p>However, some shaders I want to register may have 1 uniform whereas some may have 5.</p>\n<p>I'd like to use varargs or similar (if possible, arguments are final too)</p>\n<p>How would I go about doing this?</p>\n"},{"tags":["java","maven","spring-security","jwt","amazon-cognito"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666117348,"creation_date":1666117348,"answer_id":74115755,"question_id":74112702,"body_markdown":"\r\nYou should configure CORS for anything that can alter resources (POST, PUT, DELETE):\r\n```java\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\t// Enable and configure CORS\r\n\t\thttp.cors().configurationSource(corsConfigurationSource());\r\n\t\t...\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\tprivate CorsConfigurationSource corsConfigurationSource() {\r\n\t\t// Very permissive CORS config...\r\n\t\tfinal var configuration = new CorsConfiguration();\r\n\t\tconfiguration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n\t\tconfiguration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n\t\tconfiguration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n\t\tconfiguration.setExposedHeaders(Arrays.asList(&quot;*&quot;));\r\n\r\n\t\t// Limited to API routes (neither actuator nor Swagger-UI)\r\n\t\tfinal var source = new UrlBasedCorsConfigurationSource();\r\n\t\tsource.registerCorsConfiguration(&quot;/greet/**&quot;, configuration);\r\n\r\n\t\treturn source;\r\n\t}\r\n```\r\n\r\nSide note, do not extend `WebSecurityConfigurerAdapter` which is deprecated. Instead, provide your application context with a `SecurityFilterChain` @Bean as done in the sample above.","title":"Spring Security not allowing POST","body":"<p>You should configure CORS for anything that can alter resources (POST, PUT, DELETE):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        // Enable and configure CORS\n        http.cors().configurationSource(corsConfigurationSource());\n        ...\n        return http.build();\n    }\n\n    private CorsConfigurationSource corsConfigurationSource() {\n        // Very permissive CORS config...\n        final var configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        configuration.setExposedHeaders(Arrays.asList(&quot;*&quot;));\n\n        // Limited to API routes (neither actuator nor Swagger-UI)\n        final var source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/greet/**&quot;, configuration);\n\n        return source;\n    }\n</code></pre>\n<p>Side note, do not extend <code>WebSecurityConfigurerAdapter</code> which is deprecated. Instead, provide your application context with a <code>SecurityFilterChain</code> @Bean as done in the sample above.</p>\n"},{"tags":[],"owner":{"account_id":6006179,"reputation":2415,"user_id":4718042,"display_name":"Bradley D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666620480,"creation_date":1666367074,"answer_id":74156128,"question_id":74112702,"body_markdown":"Turns out I overlooked the fact that the front end was not sending the token in the Authorization header on POST, but is for GET.  But that still was not the issue. Needed to add .csrf().disable(); at the end of the SecurityConfig code below:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class JWTSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n          http\r\n            .authorizeRequests(authz -&gt; authz\r\n              .antMatchers(HttpMethod.POST, &quot;/**&quot;).authenticated()\r\n              .antMatchers(HttpMethod.GET, &quot;/**&quot;).authenticated()\r\n              .anyRequest().permitAll())//Everything else is allowed without auth\r\n            .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt())\r\n            .csrf().disable();\r\n    \t}\r\n    }","title":"Spring Security not allowing POST","body":"<p>Turns out I overlooked the fact that the front end was not sending the token in the Authorization header on POST, but is for GET.  But that still was not the issue. Needed to add .csrf().disable(); at the end of the SecurityConfig code below:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class JWTSecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n      http\n        .authorizeRequests(authz -&gt; authz\n          .antMatchers(HttpMethod.POST, &quot;/**&quot;).authenticated()\n          .antMatchers(HttpMethod.GET, &quot;/**&quot;).authenticated()\n          .anyRequest().permitAll())//Everything else is allowed without auth\n        .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt())\n        .csrf().disable();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6006179,"reputation":2415,"user_id":4718042,"display_name":"Bradley D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682933019,"creation_date":1666103283,"question_id":74112702,"body_markdown":"I have a requirement to lock down an existing REST API application containing many endpoints. The application receives a cognito token from the client via the Authorization header as a Bearer token.  That token is verified by AWS cognito against this url in application.properties:\r\n\r\n    spring.security.oauth2.resourceserver.jwt.issuer-uri=https://cognito-idp.${aws.cognito.region}.amazonaws.com/${aws.user.pools.id}\r\n\r\nI&#39;ve imported the following jars to support this:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd here is the SecurityConfiguration class \r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n    @Configuration\r\n    public class JWTSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n              .authorizeRequests(authz -&gt; authz\r\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.GET, &quot;/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.POST, &quot;/**&quot;).permitAll()\r\n                .anyRequest().authenticated())\r\n              .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\r\n    \t}\r\n    }\r\n\r\nIt seems to work fine for GET, but the POST calls fail with a 403 Forbidden.  I have it open to everything that is authenticated for now until I can get it working. I&#39;m thinking the answer lies somewhere in the SecurityConfiguration configure method code. \r\n\r\nIn case it&#39;s relevant to this, I also had to add &quot;Authorization&quot; to the &quot;Access-Control-Allow-Headers&quot; header to an existing old school Filter w doFilter(ServletRequest req, ServletResponse resp) used by the application like this (pasted in all the headers in case it&#39;s helpful):\r\n\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, request.getHeader(&quot;Origin&quot;));\r\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, PUT, GET, OPTIONS, DELETE&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Authorization, Content-Type, Accept, X-Requested-With, remember-me&quot;);","title":"Spring Security not allowing POST","body":"<p>I have a requirement to lock down an existing REST API application containing many endpoints. The application receives a cognito token from the client via the Authorization header as a Bearer token.  That token is verified by AWS cognito against this url in application.properties:</p>\n<pre><code>spring.security.oauth2.resourceserver.jwt.issuer-uri=https://cognito-idp.${aws.cognito.region}.amazonaws.com/${aws.user.pools.id}\n</code></pre>\n<p>I've imported the following jars to support this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And here is the SecurityConfiguration class</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\npublic class JWTSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n          .authorizeRequests(authz -&gt; authz\n            .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\n            .antMatchers(HttpMethod.GET, &quot;/**&quot;).permitAll()\n            .antMatchers(HttpMethod.POST, &quot;/**&quot;).permitAll()\n            .anyRequest().authenticated())\n          .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\n    }\n}\n</code></pre>\n<p>It seems to work fine for GET, but the POST calls fail with a 403 Forbidden.  I have it open to everything that is authenticated for now until I can get it working. I'm thinking the answer lies somewhere in the SecurityConfiguration configure method code.</p>\n<p>In case it's relevant to this, I also had to add &quot;Authorization&quot; to the &quot;Access-Control-Allow-Headers&quot; header to an existing old school Filter w doFilter(ServletRequest req, ServletResponse resp) used by the application like this (pasted in all the headers in case it's helpful):</p>\n<pre><code>    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, request.getHeader(&quot;Origin&quot;));\n    response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, PUT, GET, OPTIONS, DELETE&quot;);\n    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n    response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Authorization, Content-Type, Accept, X-Requested-With, remember-me&quot;);\n</code></pre>\n"},{"tags":["java","android","android-studio","sharedpreferences"],"comments":[{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":2,"creation_date":1518007254,"post_id":48664047,"comment_id":84325281,"body_markdown":"the error means that you saved a `String` for the key `CREATE_NUM_KEY` and you are trying to retrieve it as an `int` (`Integer`)","body":"the error means that you saved a <code>String</code> for the key <code>CREATE_NUM_KEY</code> and you are trying to retrieve it as an <code>int</code> (<code>Integer</code>)"},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1518007338,"post_id":48664047,"comment_id":84325339,"body_markdown":"Check the declaration of `getInt`. It probably takes 2 integers in param, and you give him 1 string, 1 integer","body":"Check the declaration of <code>getInt</code>. It probably takes 2 integers in param, and you give him 1 string, 1 integer"},{"owner":{"account_id":7015022,"reputation":131,"user_id":5376678,"display_name":"Nandha Kumar"},"score":0,"creation_date":1518007346,"post_id":48664047,"comment_id":84325348,"body_markdown":"Have you ever stored it as string ? If yes, try reinstalling.","body":"Have you ever stored it as string ? If yes, try reinstalling."},{"owner":{"account_id":10127642,"reputation":402,"user_id":7482319,"accept_rate":50,"display_name":"Cagri Yalcin"},"score":0,"creation_date":1518007403,"post_id":48664047,"comment_id":84325390,"body_markdown":"Try [this](https://stackoverflow.com/q/35022341/7482319) solution.","body":"Try <a href=\"https://stackoverflow.com/q/35022341/7482319\">this</a> solution."},{"owner":{"account_id":7307826,"reputation":45,"user_id":5568187,"accept_rate":17,"display_name":"Alex Espiritu"},"score":0,"creation_date":1518007564,"post_id":48664047,"comment_id":84325502,"body_markdown":"int getInt (String key, int defValue) this is what;s in the API that&#39;s why I&#39;m wondering why it gives me an error.","body":"int getInt (String key, int defValue) this is what;s in the API that&#39;s why I&#39;m wondering why it gives me an error."},{"owner":{"account_id":5668676,"reputation":997,"user_id":4484081,"display_name":"akshaya pandey"},"score":0,"creation_date":1518007825,"post_id":48664047,"comment_id":84325674,"body_markdown":"error could be because the sharedPref.getInt(CREATE_NUM_KEY,0); is unable to convert the value it finds into integer. check value which gets fetched by this. Also, trying using sharedPref.getString(..) to check what values is being returned","body":"error could be because the sharedPref.getInt(CREATE_NUM_KEY,0); is unable to convert the value it finds into integer. check value which gets fetched by this. Also, trying using sharedPref.getString(..) to check what values is being returned"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518008373,"creation_date":1518008373,"answer_id":48664465,"question_id":48664047,"body_markdown":"Method `getSharedPreferences()` returns `SharedPreferences` which is basically a `Map` and a `Map` contains keys and values and in the case of `SharedPreferences` the value can be anything, meaning it doesn&#39;t have to be an `int`. Looks like the value for key `CREATE_NUM_KEY` is a `String` and not an `Integer`. What makes you think it is an `Integer`?","title":"java.lang.String cannot be cast to java.lang.Integer SharedPreferences","body":"<p>Method <code>getSharedPreferences()</code> returns <code>SharedPreferences</code> which is basically a <code>Map</code> and a <code>Map</code> contains keys and values and in the case of <code>SharedPreferences</code> the value can be anything, meaning it doesn't have to be an <code>int</code>. Looks like the value for key <code>CREATE_NUM_KEY</code> is a <code>String</code> and not an <code>Integer</code>. What makes you think it is an <code>Integer</code>?</p>\n"},{"tags":[],"owner":{"account_id":14088993,"reputation":1722,"user_id":10177977,"display_name":"Hmerman6006"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682932482,"creation_date":1682932482,"answer_id":76145848,"question_id":48664047,"body_markdown":"Had the same error in Kotlin: `java.lang.String cannot be cast to java.lang.Integer at android.app.SharedPreferencesImpl.getInt`.&lt;br&gt;&lt;br&gt;\r\nThe reason for the error in my case was there were duplicated `SharedPreference` keys; one of which was represented as `String` type value.  So when I tried to access the SharedPreference Map `Int` key, the duplicated `String` key was being cast to the expected `Int` causing the error. E.g.:\r\n```\r\nval PREFS_BASE_DIR = &quot;com.example.example&quot;\r\nval PREFS_FILENAME = &quot;$PREFS_BASE_DIR.utils.prefs&quot;\r\nprivate val CREATE_NUM_KEY = &quot;CREATE_NUM_KEY&quot;\r\nprivate val CREATE_START_KEY = &quot;CREATE_NUM_KEY&quot;  // Duplicate key\r\n\r\nprivate val prefs: SharedPreferences = context.getSharedPreferences(PREFS_FILENAME, Context.MODE_PRIVATE)\r\n\r\nvar num: String\r\n        get() = prefs.getString(CREATE_NUM_KEY, &quot;&quot;) ?: &quot;&quot;\r\n        set(value) = prefs.edit().putString(CREATE_NUM_KEY, value).apply()\r\nvar start: Int\r\n        get() {\r\n            return prefs.getInt(CREATE_START_KEY,0)\r\n        }\r\n        set(value) = prefs.edit().putInt(CREATE_START_KEY, value!!).apply()\r\n```\r\nNot seeing the same error in your code.  But it is something that can creep up on you.","title":"java.lang.String cannot be cast to java.lang.Integer SharedPreferences","body":"<p>Had the same error in Kotlin: <code>java.lang.String cannot be cast to java.lang.Integer at android.app.SharedPreferencesImpl.getInt</code>.<br><br>\nThe reason for the error in my case was there were duplicated <code>SharedPreference</code> keys; one of which was represented as <code>String</code> type value.  So when I tried to access the SharedPreference Map <code>Int</code> key, the duplicated <code>String</code> key was being cast to the expected <code>Int</code> causing the error. E.g.:</p>\n<pre><code>val PREFS_BASE_DIR = &quot;com.example.example&quot;\nval PREFS_FILENAME = &quot;$PREFS_BASE_DIR.utils.prefs&quot;\nprivate val CREATE_NUM_KEY = &quot;CREATE_NUM_KEY&quot;\nprivate val CREATE_START_KEY = &quot;CREATE_NUM_KEY&quot;  // Duplicate key\n\nprivate val prefs: SharedPreferences = context.getSharedPreferences(PREFS_FILENAME, Context.MODE_PRIVATE)\n\nvar num: String\n        get() = prefs.getString(CREATE_NUM_KEY, &quot;&quot;) ?: &quot;&quot;\n        set(value) = prefs.edit().putString(CREATE_NUM_KEY, value).apply()\nvar start: Int\n        get() {\n            return prefs.getInt(CREATE_START_KEY,0)\n        }\n        set(value) = prefs.edit().putInt(CREATE_START_KEY, value!!).apply()\n</code></pre>\n<p>Not seeing the same error in your code.  But it is something that can creep up on you.</p>\n"}],"owner":{"account_id":7307826,"reputation":45,"user_id":5568187,"accept_rate":17,"display_name":"Alex Espiritu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682932482,"creation_date":1518007114,"question_id":48664047,"body_markdown":"I&#39;ve been lurking here for answers but I can&#39;t seem to find what&#39;s wrong with my code. I have a program that counts the Lifecycle activities of Android. Every time I run it I get this error when I try to retrieve data on the onCreate() method.\r\n\r\n    private TextView numCreate;\r\n    private TextView numStart;\r\n    private TextView numResume;\r\n    private TextView numPause;\r\n    private TextView numStop;\r\n    private TextView numDestroy;\r\n\r\n    private int numc= 0;\r\n    private int nums= 0;\r\n    private int numr= 0;\r\n    private int nump= 0;\r\n    private int numst=0;\r\n    private int numd= 0;\r\n\r\n    private String pref  = &quot;MYPREFERENCES&quot;;\r\n\r\n    private String CREATE_NUM_KEY  = &quot;CREATE_NUM_KEY&quot;;\r\n    private String START_NUM_KEY   = &quot;START_NUM_KEY&quot;;\r\n    private String RESUME_NUM_KEY  = &quot;RESUME_NUM_KEY&quot;;\r\n    private String PAUSE_NUM_KEY   = &quot;PAUSE_NUM_KEY&quot;;\r\n    private String STOP_NUM_KEY    = &quot;STOP_NUM_KEY&quot;;\r\n    private String DESTROY_NUM_KEY = &quot;DESTROY_NUM_KEY&quot;;\r\n\r\n\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lifecycle);\r\n\r\n        numCreate= findViewById(R.id.ocreateview);\r\n        logContainer= findViewById(R.id.logContainer);\r\n\r\n        sharedPref= getSharedPreferences(pref,Context.MODE_PRIVATE);\r\n\r\n        numc = sharedPref.getInt(CREATE_NUM_KEY,0);\r\n        nums = sharedPref.getInt(START_NUM_KEY,0);\r\n        numr = sharedPref.getInt(RESUME_NUM_KEY,0);\r\n        nump = sharedPref.getInt(PAUSE_NUM_KEY,0);\r\n        numst = sharedPref.getInt(STOP_NUM_KEY,0);\r\n        numd = sharedPref.getInt(DESTROY_NUM_KEY,0);\r\n\r\n        numStart.setText(getNum(nums));\r\n        numResume.setText(getNum(numr));\r\n        numPause.setText(getNum(nump));\r\n        numStop.setText(getNum(numst));\r\n        numDestroy.setText(getNum(numd));\r\n\r\n\r\n        logContainer.append(&quot;Triggered onCreate()!&quot;);\r\n        logContainer.append(&quot;\\n\\r&quot;);\r\n\r\n\r\n        numc++;\r\n        numCreate.setText(getNum(numc));\r\n        String tstamp = timestamp();\r\n        tCreate.setText(tstamp);\r\n\r\n        SharedPreferences.Editor editor = sharedPref.edit();\r\n\r\n        editor.putInt(CREATE_NUM_KEY, numc);\r\n\r\n        editor.commit();\r\n        editor.apply();\r\n    }\r\n\r\nthe error points on the line &quot;numc = sharedPref.getInt(CREATE_NUM_KEY,0);&quot; with the message &quot;java.lang.String cannot be cast to java.lang.Integer&quot;. Thank you\r\n","title":"java.lang.String cannot be cast to java.lang.Integer SharedPreferences","body":"<p>I've been lurking here for answers but I can't seem to find what's wrong with my code. I have a program that counts the Lifecycle activities of Android. Every time I run it I get this error when I try to retrieve data on the onCreate() method.</p>\n\n<pre><code>private TextView numCreate;\nprivate TextView numStart;\nprivate TextView numResume;\nprivate TextView numPause;\nprivate TextView numStop;\nprivate TextView numDestroy;\n\nprivate int numc= 0;\nprivate int nums= 0;\nprivate int numr= 0;\nprivate int nump= 0;\nprivate int numst=0;\nprivate int numd= 0;\n\nprivate String pref  = \"MYPREFERENCES\";\n\nprivate String CREATE_NUM_KEY  = \"CREATE_NUM_KEY\";\nprivate String START_NUM_KEY   = \"START_NUM_KEY\";\nprivate String RESUME_NUM_KEY  = \"RESUME_NUM_KEY\";\nprivate String PAUSE_NUM_KEY   = \"PAUSE_NUM_KEY\";\nprivate String STOP_NUM_KEY    = \"STOP_NUM_KEY\";\nprivate String DESTROY_NUM_KEY = \"DESTROY_NUM_KEY\";\n\n\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_lifecycle);\n\n    numCreate= findViewById(R.id.ocreateview);\n    logContainer= findViewById(R.id.logContainer);\n\n    sharedPref= getSharedPreferences(pref,Context.MODE_PRIVATE);\n\n    numc = sharedPref.getInt(CREATE_NUM_KEY,0);\n    nums = sharedPref.getInt(START_NUM_KEY,0);\n    numr = sharedPref.getInt(RESUME_NUM_KEY,0);\n    nump = sharedPref.getInt(PAUSE_NUM_KEY,0);\n    numst = sharedPref.getInt(STOP_NUM_KEY,0);\n    numd = sharedPref.getInt(DESTROY_NUM_KEY,0);\n\n    numStart.setText(getNum(nums));\n    numResume.setText(getNum(numr));\n    numPause.setText(getNum(nump));\n    numStop.setText(getNum(numst));\n    numDestroy.setText(getNum(numd));\n\n\n    logContainer.append(\"Triggered onCreate()!\");\n    logContainer.append(\"\\n\\r\");\n\n\n    numc++;\n    numCreate.setText(getNum(numc));\n    String tstamp = timestamp();\n    tCreate.setText(tstamp);\n\n    SharedPreferences.Editor editor = sharedPref.edit();\n\n    editor.putInt(CREATE_NUM_KEY, numc);\n\n    editor.commit();\n    editor.apply();\n}\n</code></pre>\n\n<p>the error points on the line \"numc = sharedPref.getInt(CREATE_NUM_KEY,0);\" with the message \"java.lang.String cannot be cast to java.lang.Integer\". Thank you</p>\n"},{"tags":["java","spring","maven","java-8","backend"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682930205,"post_id":76145174,"comment_id":134285475,"body_markdown":"First I strongly recommend to upgrade your Maven version to the most recent one because [Maven 3.1.0 is about 10 years old](https://maven.apache.org/docs/history.html) ... also the question is which version of JDK you are using ?","body":"First I strongly recommend to upgrade your Maven version to the most recent one because <a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">Maven 3.1.0 is about 10 years old</a> ... also the question is which version of JDK you are using ?"},{"owner":{"account_id":15370250,"reputation":21,"user_id":11088465,"display_name":"Yashika Rajput"},"score":0,"creation_date":1683088026,"post_id":76145174,"comment_id":134311050,"body_markdown":"Okay..I will try with upgrading maven..also I am using jdk 8.","body":"Okay..I will try with upgrading maven..also I am using jdk 8."}],"owner":{"account_id":15370250,"reputation":21,"user_id":11088465,"display_name":"Yashika Rajput"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682931267,"creation_date":1682923598,"question_id":76145174,"body_markdown":"- Java version - 1.8\r\n- Maven version - 3.1.0\r\n\r\nAfter import certificate option using **keytool command** in my **jdk-security folder** under **cacerts** and **jssecarcets**, getting following error when running `mvn clean install`\r\n\r\n\r\nI tried all the steps related to importing certificates. Using `-Djavax.net.debug=SSL` I verified that my certificate is being imported like all other valid ones.","title":"&quot;peer not authenticated&quot; even after importing project specific certificate to keystore","body":"<ul>\n<li>Java version - 1.8</li>\n<li>Maven version - 3.1.0</li>\n</ul>\n<p>After import certificate option using <strong>keytool command</strong> in my <strong>jdk-security folder</strong> under <strong>cacerts</strong> and <strong>jssecarcets</strong>, getting following error when running <code>mvn clean install</code></p>\n<p>I tried all the steps related to importing certificates. Using <code>-Djavax.net.debug=SSL</code> I verified that my certificate is being imported like all other valid ones.</p>\n"},{"tags":["java","saprfc","jco","sapjco3"],"answers":[{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538666719,"creation_date":1538666719,"answer_id":52650372,"question_id":52645344,"body_markdown":"A TID used by the tRfc and qRfc protocol should be a hexadecimal string of 24 characters.\r\nAllowed characters are [0..9], [A..F] or [a..f].\r\nAnd it must be unique on the receiving system, therefore it also should be created and originate from this receiving system.\r\n\r\n&quot;%_rGlkoiNMH2ox4aKWz/IBe5&quot; is not a valid TID.\r\nAnd I do not think that it was created by JCo.\r\nI would say, whoever is sending this TID, is doing it wrong.\r\n","title":"What format does the TID have within the JCo?","body":"<p>A TID used by the tRfc and qRfc protocol should be a hexadecimal string of 24 characters.\nAllowed characters are [0..9], [A..F] or [a..f].\nAnd it must be unique on the receiving system, therefore it also should be created and originate from this receiving system.</p>\n\n<p>\"%_rGlkoiNMH2ox4aKWz/IBe5\" is not a valid TID.\nAnd I do not think that it was created by JCo.\nI would say, whoever is sending this TID, is doing it wrong.</p>\n"}],"owner":{"account_id":2554877,"reputation":146,"user_id":2217095,"display_name":"benniz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682930975,"creation_date":1538651720,"question_id":52645344,"body_markdown":"I would like to know what format the TID does look like? \r\n\r\nWe did a short reference implementation using the example StepByStepServer which is provided by SAP and there the TID `serverCtx.getTID()` has the following format: \r\n```\r\nTID : %_rGlkoiNMH2ox4aKWz/IBe5\r\n```\r\nThe issue is that the TID may contain `/` and this will break the implementation of our Vendor that uses the TID-String to build a Filepath. \r\n\r\nWhat does the TID look like in your implementations? Does they also have the format `%_...` and contain `/` ?","title":"What format does the TID have within the JCo?","body":"<p>I would like to know what format the TID does look like?</p>\n<p>We did a short reference implementation using the example StepByStepServer which is provided by SAP and there the TID <code>serverCtx.getTID()</code> has the following format:</p>\n<pre><code>TID : %_rGlkoiNMH2ox4aKWz/IBe5\n</code></pre>\n<p>The issue is that the TID may contain <code>/</code> and this will break the implementation of our Vendor that uses the TID-String to build a Filepath.</p>\n<p>What does the TID look like in your implementations? Does they also have the format <code>%_...</code> and contain <code>/</code> ?</p>\n"},{"tags":["java","saprfc","sapjco3"],"answers":[{"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561072997,"creation_date":1561072997,"answer_id":56695012,"question_id":56221250,"body_markdown":"Prior to calling the destination you should create it in Configuration Manager of SAP Java Application Server (NWA Manager) and then only call it.\r\n\r\n[https://help.sap.com/doc/saphelp_nwpi711/7.1.1/enUS/07/0d27932264284b883dab13ce1008a6/frameset.htm][1]\r\n\r\nHere is the sample:\r\n\r\n    static String ABAP_AS = &quot;WD_MODELDATA_DEST&quot;;\r\n\r\n    PrintWriter out = response.getWriter();\r\n\t\t JCoDestination destination;\r\n\t\ttry {\r\n\t\t\tdestination = JCoDestinationManager.getDestination(ABAP_AS);\r\n\t\t    out.println(&quot;Attributes:&quot;);\r\n\t\t    out.println(destination.getAttributes());\r\n\t\t    out.println();\r\n\t\t} catch (JCoException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tout.println(e.getMessage());\r\n\t\t}\r\n\r\nI don&#39;t see where you fill `ABAP_AS` variable in your code like in the sample.\r\n\r\n  [1]: https://help.sap.com/doc/saphelp_nwpi711/7.1.1/en-US/07/0d27932264284b883dab13ce1008a6/frameset.htm","title":"JCO_ERROR_RESOURCE: Destination ABAP_AS_WITHOUT_POOL does not exist... error while connecting via JCo","body":"<p>Prior to calling the destination you should create it in Configuration Manager of SAP Java Application Server (NWA Manager) and then only call it.</p>\n\n<p><a href=\"https://help.sap.com/doc/saphelp_nwpi711/7.1.1/en-US/07/0d27932264284b883dab13ce1008a6/frameset.htm\" rel=\"nofollow noreferrer\">https://help.sap.com/doc/saphelp_nwpi711/7.1.1/enUS/07/0d27932264284b883dab13ce1008a6/frameset.htm</a></p>\n\n<p>Here is the sample:</p>\n\n<pre><code>static String ABAP_AS = \"WD_MODELDATA_DEST\";\n\nPrintWriter out = response.getWriter();\n     JCoDestination destination;\n    try {\n        destination = JCoDestinationManager.getDestination(ABAP_AS);\n        out.println(\"Attributes:\");\n        out.println(destination.getAttributes());\n        out.println();\n    } catch (JCoException e) {\n        e.printStackTrace();\n        out.println(e.getMessage());\n    }\n</code></pre>\n\n<p>I don't see where you fill <code>ABAP_AS</code> variable in your code like in the sample.</p>\n"},{"tags":[],"owner":{"account_id":4789,"reputation":16106,"user_id":7381,"display_name":"Lanzelot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581437637,"creation_date":1568725263,"answer_id":57974815,"question_id":56221250,"body_markdown":"It looks like your code keeps the logon data in the HashMap &quot;secureDBStorage&quot;. Where do you fill this HashMap?\r\n\r\nAlso: what do you need the method &quot;createDestinationDataFile()&quot; for, if you are using a HashMap and not a file?\r\n\r\nEdit: as this post got deleted by review, I&#39;m trying to make it more precise now. So there are two problems with your code:\r\n\r\n1. You keep the logon parameters of your backend systems in a HashMap named &quot;secureDBStorage&quot;, but you did not fill this map with parameters for the system/destination named &quot;ABAP_AS_WITHOUT_POOL&quot;.\r\n\r\n2. Your code still contains the method &quot;createDestinationDataFile()&quot;, which was probably copied from the sample program and then forgotten to delete. As your program is using a HashMap for storing the logon parameters and not the file system, you can delete this method. (Only confuses the program.)","title":"JCO_ERROR_RESOURCE: Destination ABAP_AS_WITHOUT_POOL does not exist... error while connecting via JCo","body":"<p>It looks like your code keeps the logon data in the HashMap \"secureDBStorage\". Where do you fill this HashMap?</p>\n\n<p>Also: what do you need the method \"createDestinationDataFile()\" for, if you are using a HashMap and not a file?</p>\n\n<p>Edit: as this post got deleted by review, I'm trying to make it more precise now. So there are two problems with your code:</p>\n\n<ol>\n<li><p>You keep the logon parameters of your backend systems in a HashMap named \"secureDBStorage\", but you did not fill this map with parameters for the system/destination named \"ABAP_AS_WITHOUT_POOL\".</p></li>\n<li><p>Your code still contains the method \"createDestinationDataFile()\", which was probably copied from the sample program and then forgotten to delete. As your program is using a HashMap for storing the logon parameters and not the file system, you can delete this method. (Only confuses the program.)</p></li>\n</ol>\n"}],"owner":{"account_id":15956957,"reputation":1,"user_id":11514925,"display_name":"Deep13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682930748,"creation_date":1558356059,"question_id":56221250,"body_markdown":"I am working on a Java app that needs to get data from our SAP system laying in SAP table. I try to connect the SW with SAP system using SAP Java Connector 3.X, but I&#39;m having trouble with the Destination.\r\n\r\nI used the Code-Examples that came with the SAP Java Connector.\r\n\r\n    public class CustomDestinationDataProvider {\r\n    \r\n    static class MyDestinationDataProvider implements DestinationDataProvider {\r\n        private DestinationDataEventListener eL;\r\n        private HashMap&lt;String, Properties&gt; secureDBStorage = new HashMap&lt;String, Properties&gt;();\r\n        \r\n        public Properties getDestinationProperties(String ABAP_AS) {\r\n            try {\r\n                //read the destination from DB\r\n                Properties p = secureDBStorage.get(ABAP_AS);\r\n\r\n                if(p!=null) {\r\n                    //check if all is correct, for example\r\n                    if(p.isEmpty())\r\n                        throw new DataProviderException(DataProviderException.Reason.INVALID_CONFIGURATION, &quot;destination configuration is incorrect&quot;, null);\r\n\r\n                    return p; \r\n                    }\r\n                \r\n                return null; \r\n                } catch(RuntimeException re) {\r\n                throw new DataProviderException(DataProviderException.Reason.INTERNAL_ERROR, re);\r\n            }\r\n        }\r\n\r\n        //An implementation supporting events has to retain the eventListener instance provided\r\n        //by the JCo runtime. This listener instance shall be used to notify the JCo runtime\r\n        //about all changes in destination configurations.\r\n        public void setDestinationDataEventListener(DestinationDataEventListener eventListener) {\r\n            this.eL = eventListener;\r\n        }\r\n\r\n        public boolean supportsEvents() {\r\n            return true;\r\n        }\r\n\r\n        //implementation that saves the properties in a very secure way\r\n        void changeProperties(String ABAP_AS, Properties properties) {\r\n            synchronized(secureDBStorage) {\r\n                if(properties==null) {\r\n                    if(secureDBStorage.remove(ABAP_AS)!=null)\r\n                        eL.deleted(ABAP_AS);\r\n                } else {\r\n                    secureDBStorage.put(ABAP_AS, properties);\r\n                    eL.updated(ABAP_AS); // create or updated\r\n                }\r\n            }\r\n        }\r\n    } // end of MyDestinationDataProvider\r\n    \r\n    //business logic\r\n    void executeCalls(String ABAP_AS) {\r\n        JCoDestination dest;\r\n        try {\r\n            dest = JCoDestinationManager.getDestination(ABAP_AS);\r\n            dest.ping();\r\n            System.out.println(&quot;Destination &quot; + ABAP_AS + &quot; works&quot;);\r\n        } catch(JCoException e) {\r\n            e.printStackTrace();\r\n            System.out.println(&quot;Execution on destination &quot; + ABAP_AS + &quot; failed&quot;);\r\n        }\r\n    }\r\n    \r\n    static Properties getDestinationPropertiesFromUI() {\r\n        //adapt parameters in order to configure a valid destination\r\n        Properties connectProperties = new Properties();\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_ASHOST, &quot;XXX&quot;);\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_SYSNR,  &quot;XX&quot;);\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;XXX&quot;);\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;XXX&quot;);\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;XXX&quot;);\r\n        connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;XX&quot;);\r\n        createDestinationDataFile(ABAP_AS, connectProperties);\r\n        return connectProperties;\r\n    }\r\n    \r\n    static void createDestinationDataFile(String ABAP_AS, Properties connectProperties) {\r\n        File destCfg = new File(ABAP_AS + &quot;.jcoDestination&quot;);\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(destCfg, false);\r\n            connectProperties.store(fos, &quot;for tests only!&quot;);\r\n            fos.close();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Unable to create the destination files&quot;, e);\r\n        }\r\n    } \r\n}\r\n\r\nThis is the error message I get from NetBeans:\r\n\r\n&gt; ```\r\n&gt; Destination ABAP_AS_WITHOUT_POOL works\r\n&gt; Execution on destination ABAP_AS_WITHOUT_POOL failed\r\n&gt; com.sap.conn.jco.JCoException: (106) JCO_ERROR_RESOURCE: Destination \r\n&gt;     ABAP_AS_WITHOUT_POOL does not exist\r\n&gt; at com.sap.conn.jco.rt.DefaultDestinationManager.update(DefaultDestinationManager.java:217)\r\n&gt; at com.sap.conn.jco.rt.DefaultDestinationManager.searchDestination(DefaultDestinationManager.java:382)\r\n&gt; at com.sap.conn.jco.rt.DefaultDestinationManager.getDestinationInstance(DefaultDestinationManager.java:100)\r\n&gt; at com.sap.conn.jco.JCoDestinationManager.getDestination(JCoDestinationManager.java:104)\r\n&gt; at jcotest2.CustomDestinationDataProvider.executeCalls(CustomDestinationDataProvider.java:92)\r\n&gt; at jcotest2.Main.main(Main.java:39)\r\n&gt; BUILD SUCCESSFUL (total time: 2 seconds)\r\n&gt; ```\r\n","title":"JCO_ERROR_RESOURCE: Destination ABAP_AS_WITHOUT_POOL does not exist... error while connecting via JCo","body":"<p>I am working on a Java app that needs to get data from our SAP system laying in SAP table. I try to connect the SW with SAP system using SAP Java Connector 3.X, but I'm having trouble with the Destination.</p>\n<p>I used the Code-Examples that came with the SAP Java Connector.</p>\n<pre><code>public class CustomDestinationDataProvider {\n\nstatic class MyDestinationDataProvider implements DestinationDataProvider {\n    private DestinationDataEventListener eL;\n    private HashMap&lt;String, Properties&gt; secureDBStorage = new HashMap&lt;String, Properties&gt;();\n    \n    public Properties getDestinationProperties(String ABAP_AS) {\n        try {\n            //read the destination from DB\n            Properties p = secureDBStorage.get(ABAP_AS);\n\n            if(p!=null) {\n                //check if all is correct, for example\n                if(p.isEmpty())\n                    throw new DataProviderException(DataProviderException.Reason.INVALID_CONFIGURATION, &quot;destination configuration is incorrect&quot;, null);\n\n                return p; \n                }\n            \n            return null; \n            } catch(RuntimeException re) {\n            throw new DataProviderException(DataProviderException.Reason.INTERNAL_ERROR, re);\n        }\n    }\n\n    //An implementation supporting events has to retain the eventListener instance provided\n    //by the JCo runtime. This listener instance shall be used to notify the JCo runtime\n    //about all changes in destination configurations.\n    public void setDestinationDataEventListener(DestinationDataEventListener eventListener) {\n        this.eL = eventListener;\n    }\n\n    public boolean supportsEvents() {\n        return true;\n    }\n\n    //implementation that saves the properties in a very secure way\n    void changeProperties(String ABAP_AS, Properties properties) {\n        synchronized(secureDBStorage) {\n            if(properties==null) {\n                if(secureDBStorage.remove(ABAP_AS)!=null)\n                    eL.deleted(ABAP_AS);\n            } else {\n                secureDBStorage.put(ABAP_AS, properties);\n                eL.updated(ABAP_AS); // create or updated\n            }\n        }\n    }\n} // end of MyDestinationDataProvider\n\n//business logic\nvoid executeCalls(String ABAP_AS) {\n    JCoDestination dest;\n    try {\n        dest = JCoDestinationManager.getDestination(ABAP_AS);\n        dest.ping();\n        System.out.println(&quot;Destination &quot; + ABAP_AS + &quot; works&quot;);\n    } catch(JCoException e) {\n        e.printStackTrace();\n        System.out.println(&quot;Execution on destination &quot; + ABAP_AS + &quot; failed&quot;);\n    }\n}\n\nstatic Properties getDestinationPropertiesFromUI() {\n    //adapt parameters in order to configure a valid destination\n    Properties connectProperties = new Properties();\n    connectProperties.setProperty(DestinationDataProvider.JCO_ASHOST, &quot;XXX&quot;);\n    connectProperties.setProperty(DestinationDataProvider.JCO_SYSNR,  &quot;XX&quot;);\n    connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;XXX&quot;);\n    connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;XXX&quot;);\n    connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;XXX&quot;);\n    connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;XX&quot;);\n    createDestinationDataFile(ABAP_AS, connectProperties);\n    return connectProperties;\n}\n\nstatic void createDestinationDataFile(String ABAP_AS, Properties connectProperties) {\n    File destCfg = new File(ABAP_AS + &quot;.jcoDestination&quot;);\n    try {\n        FileOutputStream fos = new FileOutputStream(destCfg, false);\n        connectProperties.store(fos, &quot;for tests only!&quot;);\n        fos.close();\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Unable to create the destination files&quot;, e);\n    }\n} \n</code></pre>\n<p>}</p>\n<p>This is the error message I get from NetBeans:</p>\n<blockquote>\n<pre><code>Destination ABAP_AS_WITHOUT_POOL works\nExecution on destination ABAP_AS_WITHOUT_POOL failed\ncom.sap.conn.jco.JCoException: (106) JCO_ERROR_RESOURCE: Destination \n    ABAP_AS_WITHOUT_POOL does not exist\nat com.sap.conn.jco.rt.DefaultDestinationManager.update(DefaultDestinationManager.java:217)\nat com.sap.conn.jco.rt.DefaultDestinationManager.searchDestination(DefaultDestinationManager.java:382)\nat com.sap.conn.jco.rt.DefaultDestinationManager.getDestinationInstance(DefaultDestinationManager.java:100)\nat com.sap.conn.jco.JCoDestinationManager.getDestination(JCoDestinationManager.java:104)\nat jcotest2.CustomDestinationDataProvider.executeCalls(CustomDestinationDataProvider.java:92)\nat jcotest2.Main.main(Main.java:39)\nBUILD SUCCESSFUL (total time: 2 seconds)\n</code></pre>\n</blockquote>\n"},{"tags":["java","string","repeat"],"comments":[{"owner":{"account_id":6023206,"reputation":7991,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1607258038,"post_id":65168056,"comment_id":115210309,"body_markdown":"please see [https://stackoverflow.com/help/how-to-ask](https://stackoverflow.com/help/how-to-ask)","body":"please see <a href=\"https://stackoverflow.com/help/how-to-ask\">https://stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":2857286,"reputation":396,"user_id":2453286,"accept_rate":100,"display_name":"Jason"},"score":0,"creation_date":1607258366,"post_id":65168056,"comment_id":115210393,"body_markdown":"a workaround get the field value and check if it&#39;s more than 1 dot make it one :)","body":"a workaround get the field value and check if it&#39;s more than 1 dot make it one :)"},{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"score":0,"creation_date":1607311930,"post_id":65168056,"comment_id":115223694,"body_markdown":"Thanks Anyway . Untill Now , I Used IndexOf &amp; LastindexOf To Check For The Point &#128517;","body":"Thanks Anyway . Untill Now , I Used IndexOf &amp; LastindexOf To Check For The Point 😅"}],"answers":[{"tags":[],"owner":{"account_id":13382940,"reputation":369,"user_id":9657938,"display_name":"Sideeg MoHammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607258518,"creation_date":1607258518,"answer_id":65168162,"question_id":65168056,"body_markdown":"this not an android problem it&#39;s a java problem any way you have to get the text  from the EditText as String and then check for the count of the .(Point) in the string\r\n\r\n    String line = EditText.getText.toString()\r\n    int count = line.length() - line.replace(&quot;.&quot;, &quot;&quot;).length();\r\n    \r\nnow if count is more than 1 it will make crash so give the user messae and stop the process else do what you want you are save","title":"Best way to check repetition of a char in a string?","body":"<p>this not an android problem it's a java problem any way you have to get the text  from the EditText as String and then check for the count of the .(Point) in the string</p>\n<pre><code>String line = EditText.getText.toString()\nint count = line.length() - line.replace(&quot;.&quot;, &quot;&quot;).length();\n</code></pre>\n<p>now if count is more than 1 it will make crash so give the user messae and stop the process else do what you want you are save</p>\n"},{"tags":[],"owner":{"account_id":12332837,"reputation":19,"user_id":8998174,"display_name":"Bilal Nadeem"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1607258526,"creation_date":1607258526,"answer_id":65168164,"question_id":65168056,"body_markdown":"It may not be the best solution but its one of the solutions. What you can do is; when user enters the double value, you can convert it into a String using Double.toString() method. and then you can check if it contains more than one &#39;.&#39; (dots). \r\n\r\nPseudo would look like this.\r\n\r\n    value = get double value from EditText()\r\n    str = value.toString()\r\n    checkFlag = check(str) //Checks if there are more then one dot\r\n\r\nthen you cna take decision based on checkFlag value","title":"Best way to check repetition of a char in a string?","body":"<p>It may not be the best solution but its one of the solutions. What you can do is; when user enters the double value, you can convert it into a String using Double.toString() method. and then you can check if it contains more than one '.' (dots).</p>\n<p>Pseudo would look like this.</p>\n<pre><code>value = get double value from EditText()\nstr = value.toString()\ncheckFlag = check(str) //Checks if there are more then one dot\n</code></pre>\n<p>then you cna take decision based on checkFlag value</p>\n"}],"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":65168162,"answer_count":2,"score":-2,"last_activity_date":1682930680,"creation_date":1607257894,"question_id":65168056,"body_markdown":"Suppose I wanna know how many times this `.` is repeated in `127.0.0.1` String.","title":"Best way to check repetition of a char in a string?","body":"<p>Suppose I wanna know how many times this <code>.</code> is repeated in <code>127.0.0.1</code> String.</p>\n"},{"tags":["java","sapjco3"],"comments":[{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1559772543,"post_id":56468496,"comment_id":99528796,"body_markdown":"Hi! Welcome to Stack Overflow! Have you taken the [tour](https://stackoverflow.com/tour) yet? Also, please make sure you read [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) and [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask), so you can improve your question. Right now, it is not very clear as to what you are trying to achieve and what your question is.","body":"Hi! Welcome to Stack Overflow! Have you taken the <a href=\"https://stackoverflow.com/tour\">tour</a> yet? Also, please make sure you read <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>, so you can improve your question. Right now, it is not very clear as to what you are trying to achieve and what your question is."}],"answers":[{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559801162,"creation_date":1559801162,"answer_id":56471701,"question_id":56468496,"body_markdown":"Without knowing your function interface definition from ABAP side it is difficult to help here. But if `input.getStructure(&quot;I_REZEPT&quot;);` works this import parameter I_REZEPT seems to be structure. Therefore you cannot call `input.setValue(&quot;I_REZEPT&quot;, (String)id);` with trying to set a string for it and this is what the exception is showing. I_REZEPT is an IMPORT parameter and is of type STRUCTURE, it is not a STRING or a CHAR type parameter. It contains various other fields - at least one.\r\n\r\nInstead of this, I guess you may call `in.setValue(0, id);` for setting the first field of this structure or `in.setValue(&quot;FIELDNAME&quot;, id);` with using the correct field name within the structure.","title":"How to fix &#39;JCO_ERROR_CONVERSION: Cannot convert a value from type java.lang.String to STRUCTURE&#39;","body":"<p>Without knowing your function interface definition from ABAP side it is difficult to help here. But if <code>input.getStructure(\"I_REZEPT\");</code> works this import parameter I_REZEPT seems to be structure. Therefore you cannot call <code>input.setValue(\"I_REZEPT\", (String)id);</code> with trying to set a string for it and this is what the exception is showing. I_REZEPT is an IMPORT parameter and is of type STRUCTURE, it is not a STRING or a CHAR type parameter. It contains various other fields - at least one.</p>\n\n<p>Instead of this, I guess you may call <code>in.setValue(0, id);</code> for setting the first field of this structure or <code>in.setValue(\"FIELDNAME\", id);</code> with using the correct field name within the structure.</p>\n"}],"owner":{"account_id":16076966,"reputation":31,"user_id":11603966,"display_name":"Kanvas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2523,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682930557,"creation_date":1559771454,"question_id":56468496,"body_markdown":"One of the functions we implemented in SAP system is not working correctly.\r\nIn SAP system all functions are working correctly and return the right values, however, when called in Java JCo the Client wants a structure rather than a String or int.\r\n\r\nWhen extracting the structure from the Parameter it gives a Structure that has two unnamed columns each with no lengths of Bytes to be filled in. \r\n```\r\nMetadata:\r\n{[],[]}\r\n0,0\r\n```\r\n\r\nWe tried different datatypes in SAP system for the Input Parameter &quot;I_REZEPT&quot; like int8 and char12\r\n\r\n```java\r\nprivate String sollwerte(JSONObject jsonin) throws JSONException, JCoException {\r\nString id = String.valueOf(jsonin.getInt(&quot;rezeptid&quot;));\r\nJCoStructure in = input.getStructure(&quot;I_REZEPT&quot;);\r\nSystem.out.println(&quot;Fieldcount:&quot;+in.getFieldCount());\r\ninput.setValue(&quot;I_REZEPT&quot;, id);\r\ne.printStackTrace();\r\nfunction.execute(destination);\r\n...\r\n```\r\n\r\nStacktrace:\r\n&gt; ```\r\n&gt; com.sap.conn.jco.ConversionException: (122) JCO_ERROR_CONVERSION: Cannot convert a value of &#39;1&#39; from type java.lang.String to STRUCTURE at field I_REZEPT\r\n&gt;\tat com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:436)\r\n&gt;\tat com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:430)\r\n&gt;\tat com.sap.conn.jco.rt.AbstractRecord.setValue(AbstractRecord.java:2824)\r\n&gt;\tat com.sap.conn.jco.rt.AbstractRecord.setValue(AbstractRecord.java:3933)\r\n&gt;\tat edu.hsalbsig.intellifarm.connector.sap.IntellifarmSapFunction.sollwerte(IntellifarmSapFunction.java:226)\r\n&gt;\tat edu.hsalbsig.intellifarm.connector.sap.IntellifarmSapFunction.execute(IntellifarmSapFunction.java:61)\r\n&gt;\tat edu.hsalbsig.intellifarm.connector.mqtt.IntellifarmMqttClient.messageArrived(IntellifarmMqttClient.java:98)\r\n&gt;\tat org.eclipse.paho.client.mqttv3.internal.CommsCallback.deliverMessage(CommsCallback.java:513)\r\n&gt;\tat org.eclipse.paho.client.mqttv3.internal.CommsCallback.handleMessage(CommsCallback.java:416)\r\n&gt;\tat org.eclipse.paho.client.mqttv3.internal.CommsCallback.run(CommsCallback.java:213)\r\n&gt;\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n&gt; ```\r\n\r\n__________\r\nWhile debugging the function from SAP system, it looks like this\r\n```\r\nInput:\r\n|--------|\r\n| PARAMETERS &#39;INPUT&#39;\r\n|--------|\r\n|I_REZEPT|\r\n|--------|\r\n|        |\r\n|--------|\r\n|I_REZEPT|\r\n|--------|\r\n```\r\n\r\nexpected was something like this\r\n```\r\nInput:\r\n|------------------|\r\n| PARAMETERS &#39;INPUT&#39;\r\n|------------------|\r\n|I_REZEPT          |\r\n|------------------|\r\n|012345678901234567|\r\n|------------------|\r\n|                  |\r\n|------------------|\r\n```","title":"How to fix &#39;JCO_ERROR_CONVERSION: Cannot convert a value from type java.lang.String to STRUCTURE&#39;","body":"<p>One of the functions we implemented in SAP system is not working correctly.\nIn SAP system all functions are working correctly and return the right values, however, when called in Java JCo the Client wants a structure rather than a String or int.</p>\n<p>When extracting the structure from the Parameter it gives a Structure that has two unnamed columns each with no lengths of Bytes to be filled in.</p>\n<pre><code>Metadata:\n{[],[]}\n0,0\n</code></pre>\n<p>We tried different datatypes in SAP system for the Input Parameter &quot;I_REZEPT&quot; like int8 and char12</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String sollwerte(JSONObject jsonin) throws JSONException, JCoException {\nString id = String.valueOf(jsonin.getInt(&quot;rezeptid&quot;));\nJCoStructure in = input.getStructure(&quot;I_REZEPT&quot;);\nSystem.out.println(&quot;Fieldcount:&quot;+in.getFieldCount());\ninput.setValue(&quot;I_REZEPT&quot;, id);\ne.printStackTrace();\nfunction.execute(destination);\n...\n</code></pre>\n<p>Stacktrace:</p>\n<blockquote>\n<pre><code>com.sap.conn.jco.ConversionException: (122) JCO_ERROR_CONVERSION: Cannot convert a value of '1' from type java.lang.String to STRUCTURE at field I_REZEPT\n  at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:436)\n  at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:430)\n  at com.sap.conn.jco.rt.AbstractRecord.setValue(AbstractRecord.java:2824)\n  at com.sap.conn.jco.rt.AbstractRecord.setValue(AbstractRecord.java:3933)\n  at edu.hsalbsig.intellifarm.connector.sap.IntellifarmSapFunction.sollwerte(IntellifarmSapFunction.java:226)\n  at edu.hsalbsig.intellifarm.connector.sap.IntellifarmSapFunction.execute(IntellifarmSapFunction.java:61)\n  at edu.hsalbsig.intellifarm.connector.mqtt.IntellifarmMqttClient.messageArrived(IntellifarmMqttClient.java:98)\n  at org.eclipse.paho.client.mqttv3.internal.CommsCallback.deliverMessage(CommsCallback.java:513)\n  at org.eclipse.paho.client.mqttv3.internal.CommsCallback.handleMessage(CommsCallback.java:416)\n  at org.eclipse.paho.client.mqttv3.internal.CommsCallback.run(CommsCallback.java:213)\n  at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n</blockquote>\n<hr />\n<p>While debugging the function from SAP system, it looks like this</p>\n<pre><code>Input:\n|--------|\n| PARAMETERS 'INPUT'\n|--------|\n|I_REZEPT|\n|--------|\n|        |\n|--------|\n|I_REZEPT|\n|--------|\n</code></pre>\n<p>expected was something like this</p>\n<pre><code>Input:\n|------------------|\n| PARAMETERS 'INPUT'\n|------------------|\n|I_REZEPT          |\n|------------------|\n|012345678901234567|\n|------------------|\n|                  |\n|------------------|\n</code></pre>\n"},{"tags":["java","saml","saprfc","sapjco3"],"answers":[{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1585643733,"creation_date":1585643733,"answer_id":60946414,"question_id":60929347,"body_markdown":"There is currently no feature at SAP ABAP application server side for doing an RFC logon with SAML authentication. And the SAP Java Connector cannot offer a logon mechanism for what is actually not there. So this is not supported yet.\r\n\r\nAs far as I know, logging on with SAML authentication is currently only offered via HTTP/HTTPS. SAP JCo is for RFC only.\r\n","title":"SAP JCo SAML authentication","body":"<p>There is currently no feature at SAP ABAP application server side for doing an RFC logon with SAML authentication. And the SAP Java Connector cannot offer a logon mechanism for what is actually not there. So this is not supported yet.</p>\n\n<p>As far as I know, logging on with SAML authentication is currently only offered via HTTP/HTTPS. SAP JCo is for RFC only.</p>\n"}],"owner":{"account_id":18093438,"reputation":31,"user_id":13152342,"display_name":"ecommerce intern"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1682930521,"creation_date":1585566902,"question_id":60929347,"body_markdown":"I need to support SAML authentication in one of my applications connecting to SAP system using SAP JCo Library and couldn&#39;t find any related articles demonstrating the capability of JCo. Does anyone have any experience with that?","title":"SAP JCo SAML authentication","body":"<p>I need to support SAML authentication in one of my applications connecting to SAP system using SAP JCo Library and couldn't find any related articles demonstrating the capability of JCo. Does anyone have any experience with that?</p>\n"},{"tags":["javascript","java","node.js","child-process"],"owner":{"account_id":25839069,"reputation":21,"user_id":19574955,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682930298,"creation_date":1682928181,"question_id":76145503,"body_markdown":"In my node.js application I&#39;m using child.spawn multiple times for multiple files, each file is a java file (.jar).\r\nEach file is spawning its own java.exe process which is around 65MB of memory (RAM).\r\nAfter few minutes the memory used is dropping to 10M and less which is a huge difference.\r\nI wonder, why the process is consuming x6 more RAM for the first 10-15minutes.\r\nAlso, is there any possible way to reduce the overall amount of memory being used?\r\nI have seen some suggestions of using a worker that execute a script.js file and than the script.js will be responsible of spawning the childs.\r\n","title":"Node.js using child.spawn multiple times","body":"<p>In my node.js application I'm using child.spawn multiple times for multiple files, each file is a java file (.jar).\nEach file is spawning its own java.exe process which is around 65MB of memory (RAM).\nAfter few minutes the memory used is dropping to 10M and less which is a huge difference.\nI wonder, why the process is consuming x6 more RAM for the first 10-15minutes.\nAlso, is there any possible way to reduce the overall amount of memory being used?\nI have seen some suggestions of using a worker that execute a script.js file and than the script.js will be responsible of spawning the childs.</p>\n"},{"tags":["java","json","jackson","jvm","json5"],"answers":[{"tags":[],"owner":{"account_id":87714,"reputation":5897,"user_id":243104,"accept_rate":63,"display_name":"Graham Lea"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1625812320,"creation_date":1625812320,"answer_id":68312228,"question_id":68312227,"body_markdown":"# tl;dr\r\n\r\nBy enabling the following optional Jackson parser features:\r\n\r\n- `ALLOW_UNQUOTED_FIELD_NAMES`\r\n- `ALLOW_TRAILING_COMMA`\r\n- `ALLOW_SINGLE_QUOTES`\r\n- `ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER`\r\n- `ALLOW_NON_NUMERIC_NUMBERS`\r\n- `ALLOW_JAVA_COMMENTS`\r\n- `ALLOW_LEADING_DECIMAL_POINT_FOR_NUMBERS`\r\n\r\nit seems possible to support all of JSON5&#39;s headline features except for:\r\n\r\n- hexadecimal numbers\r\n- trailing decimal points on numbers\r\n- plus signs before numbers\r\n- extra whitespace characters\r\n\r\n\r\n# Detail\r\n\r\nJackson has [a number of optional features][1] which can be enabled on a parser to make it more lenient in the way it parses.\r\n\r\n## Supported Features\r\n\r\nComparing these parser options to the headline features of JSON5, we find that the following are supported:\r\n\r\n&gt; Object keys may be an ECMAScript 5.1 IdentifierName.\r\n\r\n✅ Supported with the `ALLOW_UNQUOTED_FIELD_NAMES` feature\r\n\r\n&gt; Objects may have a single trailing comma.\r\n\r\n&gt; Arrays may have a single trailing comma.\r\n\r\n✅ Both supported with the `ALLOW_TRAILING_COMMA` feature\r\n\r\n&gt; Strings may be single quoted.\r\n\r\n✅ Supported with the `ALLOW_SINGLE_QUOTES` feature\r\n\r\n&gt; Strings may span multiple lines by escaping new line characters.\r\n&gt;\r\n&gt; Strings may include character escapes.\r\n\r\n✅ Both of these [appear to be supported][2] by Jackson&#39;s `ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER` feature, though the meaning or purpose of escaping here may differ subtly. *DYOR*.\r\n\r\n&gt; Numbers may be IEEE 754 positive infinity, negative infinity, and NaN.\r\n\r\n✅ Supported with the `ALLOW_NON_NUMERIC_NUMBERS` feature\r\n\r\n&gt; Single and multi-line comments are allowed.\r\n\r\n✅ Supported with the `ALLOW_JAVA_COMMENTS` feature.\r\n\r\n\r\n## Partially Supported Features\r\n\r\nThe following JSON5 feature is *partially* supported by Jackson:\r\n\r\n&gt; Numbers may have a leading or trailing decimal point.\r\n\r\n✅ Leading decimal points are supported with the `ALLOW_LEADING_DECIMAL_POINT_FOR_NUMBERS` feature.\r\n\r\n⛔️ Jackson doesn&#39;t appear to have support for trailing decimal points.\r\n\r\n## Unsupported Features\r\n\r\nThere doesn&#39;t currently (mid-2021) appear to be any way to configure Jackson to permit the following JSON5 features:\r\n\r\n&gt; Numbers may be hexadecimal.\r\n&gt; \r\n&gt; Numbers may have a trailing decimal point.\r\n&gt; \r\n&gt; Numbers may begin with an explicit plus sign.\r\n\r\n&gt; Additional white space characters are allowed.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-core/wiki/JsonReadFeatures\r\n  [2]: https://github.com/FasterXML/jackson-core/issues/612#issuecomment-835310454","title":"Can the Jackson parser be used to parse JSON5?","body":"<h1>tl;dr</h1>\n<p>By enabling the following optional Jackson parser features:</p>\n<ul>\n<li><code>ALLOW_UNQUOTED_FIELD_NAMES</code></li>\n<li><code>ALLOW_TRAILING_COMMA</code></li>\n<li><code>ALLOW_SINGLE_QUOTES</code></li>\n<li><code>ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER</code></li>\n<li><code>ALLOW_NON_NUMERIC_NUMBERS</code></li>\n<li><code>ALLOW_JAVA_COMMENTS</code></li>\n<li><code>ALLOW_LEADING_DECIMAL_POINT_FOR_NUMBERS</code></li>\n</ul>\n<p>it seems possible to support all of JSON5's headline features except for:</p>\n<ul>\n<li>hexadecimal numbers</li>\n<li>trailing decimal points on numbers</li>\n<li>plus signs before numbers</li>\n<li>extra whitespace characters</li>\n</ul>\n<h1>Detail</h1>\n<p>Jackson has <a href=\"https://github.com/FasterXML/jackson-core/wiki/JsonReadFeatures\" rel=\"noreferrer\">a number of optional features</a> which can be enabled on a parser to make it more lenient in the way it parses.</p>\n<h2>Supported Features</h2>\n<p>Comparing these parser options to the headline features of JSON5, we find that the following are supported:</p>\n<blockquote>\n<p>Object keys may be an ECMAScript 5.1 IdentifierName.</p>\n</blockquote>\n<p>✅ Supported with the <code>ALLOW_UNQUOTED_FIELD_NAMES</code> feature</p>\n<blockquote>\n<p>Objects may have a single trailing comma.</p>\n</blockquote>\n<blockquote>\n<p>Arrays may have a single trailing comma.</p>\n</blockquote>\n<p>✅ Both supported with the <code>ALLOW_TRAILING_COMMA</code> feature</p>\n<blockquote>\n<p>Strings may be single quoted.</p>\n</blockquote>\n<p>✅ Supported with the <code>ALLOW_SINGLE_QUOTES</code> feature</p>\n<blockquote>\n<p>Strings may span multiple lines by escaping new line characters.</p>\n<p>Strings may include character escapes.</p>\n</blockquote>\n<p>✅ Both of these <a href=\"https://github.com/FasterXML/jackson-core/issues/612#issuecomment-835310454\" rel=\"noreferrer\">appear to be supported</a> by Jackson's <code>ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER</code> feature, though the meaning or purpose of escaping here may differ subtly. <em>DYOR</em>.</p>\n<blockquote>\n<p>Numbers may be IEEE 754 positive infinity, negative infinity, and NaN.</p>\n</blockquote>\n<p>✅ Supported with the <code>ALLOW_NON_NUMERIC_NUMBERS</code> feature</p>\n<blockquote>\n<p>Single and multi-line comments are allowed.</p>\n</blockquote>\n<p>✅ Supported with the <code>ALLOW_JAVA_COMMENTS</code> feature.</p>\n<h2>Partially Supported Features</h2>\n<p>The following JSON5 feature is <em>partially</em> supported by Jackson:</p>\n<blockquote>\n<p>Numbers may have a leading or trailing decimal point.</p>\n</blockquote>\n<p>✅ Leading decimal points are supported with the <code>ALLOW_LEADING_DECIMAL_POINT_FOR_NUMBERS</code> feature.</p>\n<p>⛔️ Jackson doesn't appear to have support for trailing decimal points.</p>\n<h2>Unsupported Features</h2>\n<p>There doesn't currently (mid-2021) appear to be any way to configure Jackson to permit the following JSON5 features:</p>\n<blockquote>\n<p>Numbers may be hexadecimal.</p>\n<p>Numbers may have a trailing decimal point.</p>\n<p>Numbers may begin with an explicit plus sign.</p>\n</blockquote>\n<blockquote>\n<p>Additional white space characters are allowed.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3360865,"reputation":1736,"user_id":2822680,"accept_rate":40,"display_name":"cwtuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682929373,"creation_date":1682929373,"answer_id":76145609,"question_id":68312227,"body_markdown":"For Javascript developers, you could use [jsonc-parser](https://www.npmjs.com/package/jsonc-parser) which is developed by Microsoft. `jsonc-parser` could be use in browser and node.js environment. \r\n\r\nHere&#39;s an example that demonstrates how to use the &quot;jsonc-parser&quot; npm package to parse a JSON5 string:\r\n\r\n\r\n```js\r\nimport * as jsonc from &#39;jsonc-parser&#39;;\r\n\r\nconst jsonString = `{\r\n    // This is a JSON5 string!\r\n    &quot;name&quot;: &#39;John Doe&#39;,\r\n    &quot;age&quot;: 42,\r\n    &quot;isMarried&quot;: false,\r\n    &quot;pets&quot;: [\r\n        {\r\n            &quot;name&quot;: &#39;Fluffy&#39;,\r\n            &quot;type&quot;: &#39;cat&#39;\r\n        }\r\n    ]\r\n}`;\r\n\r\nconst parsedJson = jsonc.parse(jsonString);\r\n\r\nconsole.log(parsedJson);\r\n```\r\n\r\nOnline Demo: [JSON5 parser](http://json-5.com)\r\n\r\n","title":"Can the Jackson parser be used to parse JSON5?","body":"<p>For Javascript developers, you could use <a href=\"https://www.npmjs.com/package/jsonc-parser\" rel=\"nofollow noreferrer\">jsonc-parser</a> which is developed by Microsoft. <code>jsonc-parser</code> could be use in browser and node.js environment.</p>\n<p>Here's an example that demonstrates how to use the &quot;jsonc-parser&quot; npm package to parse a JSON5 string:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import * as jsonc from 'jsonc-parser';\n\nconst jsonString = `{\n    // This is a JSON5 string!\n    &quot;name&quot;: 'John Doe',\n    &quot;age&quot;: 42,\n    &quot;isMarried&quot;: false,\n    &quot;pets&quot;: [\n        {\n            &quot;name&quot;: 'Fluffy',\n            &quot;type&quot;: 'cat'\n        }\n    ]\n}`;\n\nconst parsedJson = jsonc.parse(jsonString);\n\nconsole.log(parsedJson);\n</code></pre>\n<p>Online Demo: <a href=\"http://json-5.com\" rel=\"nofollow noreferrer\">JSON5 parser</a></p>\n"}],"owner":{"account_id":87714,"reputation":5897,"user_id":243104,"accept_rate":63,"display_name":"Graham Lea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2845,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":68312228,"answer_count":2,"score":12,"last_activity_date":1682929373,"creation_date":1625812320,"question_id":68312227,"body_markdown":"We&#39;d like to parse [JSON5][1] documents in the JVM, but [the JSON5-specific libraries available on GitHub][2] all appear to have very low support. As parsers are often magnets for security vulnerabilities, we&#39;d prefer not to use a parser that isn&#39;t already being widely used and scrutinised by the community.\r\n\r\nThis got us to wondering: Can the optional features of the [Jackson JSON parser][3] be used to parse JSON5?\r\n\r\n\r\n  [1]: https://json5.org/\r\n  [2]: https://github.com/search?l=Java&amp;q=json5&amp;type=Repositories\r\n  [3]: https://github.com/FasterXML/jackson-core","title":"Can the Jackson parser be used to parse JSON5?","body":"<p>We'd like to parse <a href=\"https://json5.org/\" rel=\"noreferrer\">JSON5</a> documents in the JVM, but <a href=\"https://github.com/search?l=Java&amp;q=json5&amp;type=Repositories\" rel=\"noreferrer\">the JSON5-specific libraries available on GitHub</a> all appear to have very low support. As parsers are often magnets for security vulnerabilities, we'd prefer not to use a parser that isn't already being widely used and scrutinised by the community.</p>\n<p>This got us to wondering: Can the optional features of the <a href=\"https://github.com/FasterXML/jackson-core\" rel=\"noreferrer\">Jackson JSON parser</a> be used to parse JSON5?</p>\n"},{"tags":["java","vectorization","simd"],"comments":[{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1624246537,"post_id":68061254,"comment_id":120296409,"body_markdown":"What hardware (and JVM version) did you test on?  Also, you should update this with info from your comments on my answer, that apparently the long-string test was only one repeat.","body":"What hardware (and JVM version) did you test on?  Also, you should update this with info from your comments on my answer, that apparently the long-string test was only one repeat."}],"answers":[{"tags":[],"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679932668,"creation_date":1624243921,"answer_id":68061746,"question_id":68061254,"body_markdown":"You picked something SIMD is not great at (string-&gt;int), and something that JVMs are very good at optimizing out of loops.  And you made an implementation with a bunch of extra copying work if the inputs aren&#39;t exact multiples of the vector width.\r\n\r\n---\r\n\r\nI&#39;m assuming your times are totals (for 10k repeats each), not a per-call average.\r\n\r\n7 us is impossibly fast for that.\r\n\r\n`&quot;____&quot;.repeat(4000)` is 16k chars (32k bytes) before the `&#39;a&#39;`, which I assume is what you&#39;re searching for.  Even a well-tuned / unrolled `wmemchr` (aka indexOf) running at 2x 32-byte vectors per clock cycle, on a 4GHz CPU, would take 1250 us for 10k reps.  (`32000B / (64B/c) * 10000 reps / 4000 MHz`), assuming that 32kB string stayed hot in 32KiB L1d cache.\r\n\r\nI&#39;d hope and expect a JVM would either call the native `wmemchr` or use something equally efficient for a commonly-used core library function like `String#indexOf`.  For example, [glibc&#39;s avx2 memchr][2] is pretty well-tuned with loop unrolling.  (Java strings are actually UTF-16, but C on Linux `wchar_t` is 4 bytes wide, unlike Windows, so JVMs would need their own implementation.)\r\n\r\n**Built-in String `indexOf` is also something the JIT &quot;knows about&quot;.**  It&#39;s apparently able to hoist it out of loops when it can see that you&#39;re using the same string repeatedly as input.  (But then what&#39;s it doing for the rest of those 7 us?  I guess doing a not-quite-so-great `memchr` and then doing an empty 10k iteration loop at 1/clock could take about 7 microseconds, especially if your CPU isn&#39;t as fast as 4GHz.)\r\n\r\nSee https://stackoverflow.com/questions/60291987/idiomatic-way-of-performance-evaluation - if doubling the repeat-count to 20k doesn&#39;t double the time, your benchmark is broken and not measuring what you think it does.\r\n\r\n---\r\n\r\n**But you say 7 us is the per-iteration time?**  That would be improbably slow, except for a non-optimized first pass.  So probably a sign of faulty benchmarking methodolody, like lack of warm-up runs.\r\n\r\nIf `IndexOf` was checking one char at a time, `16k * 0.25 ns/char` would be 4000 nanoseconds, or 4 microseconds on a 4GHz CPU. `7 us` is in that ballpark of checking 1 char per cycle, which is pathetically slow on a modern x86.  I think it&#39;s unlikely that mainstream JVMs would use such a slow implementation once they were done JIT optimizing.\r\n\r\n\r\n----\r\n\r\nYour manual SIMD indexOf is very unlikely to get optimized out of a loop.  **It makes a copy of the whole array every time, if the size isn&#39;t an exact multiple of the vector width!!** (In `ensureSize2`).  The normal technique is to fall back to scalar for the last `size % width` elements, which is obviously much better for large arrays.  Or even better, do an unaligned load that ends at the end of the array (if the total size is &gt;= vector width) for something where overlap with previous work is not a problem.\r\n\r\nA decent memchr on modern x86 (using an algorithm like your indexOf without unrolling) should go at about 1 vector (16/32/64 bytes) per maybe 1.5 clock cycles, with data hot in L1d cache, without loop unrolling or anything.  (Checking both the vector compare and the pointer bound as possible loop exit conditions takes extra asm instructions vs. a simple `strlen`, but see [this answer][1] for some microbenchmarks of a simple hand-written strlen that assumes aligned buffers).  Probably your `indexOf` loops bottlenecks on front-end throughput on a CPU like Skylake, with its pipeline width of 4 uops/clock.\r\n\r\n\r\nSo let&#39;s guess that your implementation takes 1.5 cycles per 16 byte vector, if perhaps you&#39;re on a CPU without AVX2?  You didn&#39;t say.\r\n\r\n16kB / 16B = 1000 vectors.  At 1 vector per 1.5 clocks, that&#39;s 1500 cycles.  On a 3GHz machine, 1500 cycles takes 500 ns = 0.5 us per call, or 5000 us per 10k reps.  But since 16194 bytes isn&#39;t a multiple of 16, you&#39;re also copying the whole thing every call, so that costs some more time, and could plausibly account for your 7709 us total time.\r\n\r\n\r\n----\r\n\r\n## What SIMD is good for\r\n\r\n&gt; for tasks like these.\r\n\r\n**No, &quot;horizontal&quot; stuff like `ints.reduceLanes` is something SIMD is generally slow at.**  And even with something like https://stackoverflow.com/questions/35127060/how-to-implement-atoi-using-simd using x86 `pmaddwd` to multiply and add pairs horizontally, it&#39;s still a lot of work.\r\n\r\nNote that to make the elements wide enough to multiply by place-values without overflow, you have to unpack, which costs some shuffling.  `ints.reduceLanes` takes about log2(elements) shuffle/add steps, and if you&#39;re starting with 512-bit AVX-512 vectors of `int`, the first 2 of those shuffles are lane-crossing, 3 cycle latency (https://agner.org/optimize/). (Or if your machine doesn&#39;t even have AVX2, then a 512-bit integer vector is actually 4x 128-bit vectors.  And you had to do separate work to unpack each part.  But at least the reduction will be cheap, just vertical adds until you get down to a single 128-bit vector.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55563598/why-is-this-code-using-strlen-heavily-6-5x-slower-with-gcc-optimizations-enabled/55589634#55589634\r\n  [2]: https://code.woboq.org/userspace/glibc/sysdeps/x86_64/multiarch/memchr-avx2.S.html","title":"Why is the java vector API so slow compared to scalar?","body":"<p>You picked something SIMD is not great at (string-&gt;int), and something that JVMs are very good at optimizing out of loops.  And you made an implementation with a bunch of extra copying work if the inputs aren't exact multiples of the vector width.</p>\n<hr />\n<p>I'm assuming your times are totals (for 10k repeats each), not a per-call average.</p>\n<p>7 us is impossibly fast for that.</p>\n<p><code>&quot;____&quot;.repeat(4000)</code> is 16k chars (32k bytes) before the <code>'a'</code>, which I assume is what you're searching for.  Even a well-tuned / unrolled <code>wmemchr</code> (aka indexOf) running at 2x 32-byte vectors per clock cycle, on a 4GHz CPU, would take 1250 us for 10k reps.  (<code>32000B / (64B/c) * 10000 reps / 4000 MHz</code>), assuming that 32kB string stayed hot in 32KiB L1d cache.</p>\n<p>I'd hope and expect a JVM would either call the native <code>wmemchr</code> or use something equally efficient for a commonly-used core library function like <code>String#indexOf</code>.  For example, <a href=\"https://code.woboq.org/userspace/glibc/sysdeps/x86_64/multiarch/memchr-avx2.S.html\" rel=\"nofollow noreferrer\">glibc's avx2 memchr</a> is pretty well-tuned with loop unrolling.  (Java strings are actually UTF-16, but C on Linux <code>wchar_t</code> is 4 bytes wide, unlike Windows, so JVMs would need their own implementation.)</p>\n<p><strong>Built-in String <code>indexOf</code> is also something the JIT &quot;knows about&quot;.</strong>  It's apparently able to hoist it out of loops when it can see that you're using the same string repeatedly as input.  (But then what's it doing for the rest of those 7 us?  I guess doing a not-quite-so-great <code>memchr</code> and then doing an empty 10k iteration loop at 1/clock could take about 7 microseconds, especially if your CPU isn't as fast as 4GHz.)</p>\n<p>See <a href=\"https://stackoverflow.com/questions/60291987/idiomatic-way-of-performance-evaluation\">Idiomatic way of performance evaluation?</a> - if doubling the repeat-count to 20k doesn't double the time, your benchmark is broken and not measuring what you think it does.</p>\n<hr />\n<p><strong>But you say 7 us is the per-iteration time?</strong>  That would be improbably slow, except for a non-optimized first pass.  So probably a sign of faulty benchmarking methodolody, like lack of warm-up runs.</p>\n<p>If <code>IndexOf</code> was checking one char at a time, <code>16k * 0.25 ns/char</code> would be 4000 nanoseconds, or 4 microseconds on a 4GHz CPU. <code>7 us</code> is in that ballpark of checking 1 char per cycle, which is pathetically slow on a modern x86.  I think it's unlikely that mainstream JVMs would use such a slow implementation once they were done JIT optimizing.</p>\n<hr />\n<p>Your manual SIMD indexOf is very unlikely to get optimized out of a loop.  <strong>It makes a copy of the whole array every time, if the size isn't an exact multiple of the vector width!!</strong> (In <code>ensureSize2</code>).  The normal technique is to fall back to scalar for the last <code>size % width</code> elements, which is obviously much better for large arrays.  Or even better, do an unaligned load that ends at the end of the array (if the total size is &gt;= vector width) for something where overlap with previous work is not a problem.</p>\n<p>A decent memchr on modern x86 (using an algorithm like your indexOf without unrolling) should go at about 1 vector (16/32/64 bytes) per maybe 1.5 clock cycles, with data hot in L1d cache, without loop unrolling or anything.  (Checking both the vector compare and the pointer bound as possible loop exit conditions takes extra asm instructions vs. a simple <code>strlen</code>, but see <a href=\"https://stackoverflow.com/questions/55563598/why-is-this-code-using-strlen-heavily-6-5x-slower-with-gcc-optimizations-enabled/55589634#55589634\">this answer</a> for some microbenchmarks of a simple hand-written strlen that assumes aligned buffers).  Probably your <code>indexOf</code> loops bottlenecks on front-end throughput on a CPU like Skylake, with its pipeline width of 4 uops/clock.</p>\n<p>So let's guess that your implementation takes 1.5 cycles per 16 byte vector, if perhaps you're on a CPU without AVX2?  You didn't say.</p>\n<p>16kB / 16B = 1000 vectors.  At 1 vector per 1.5 clocks, that's 1500 cycles.  On a 3GHz machine, 1500 cycles takes 500 ns = 0.5 us per call, or 5000 us per 10k reps.  But since 16194 bytes isn't a multiple of 16, you're also copying the whole thing every call, so that costs some more time, and could plausibly account for your 7709 us total time.</p>\n<hr />\n<h2>What SIMD is good for</h2>\n<blockquote>\n<p>for tasks like these.</p>\n</blockquote>\n<p><strong>No, &quot;horizontal&quot; stuff like <code>ints.reduceLanes</code> is something SIMD is generally slow at.</strong>  And even with something like <a href=\"https://stackoverflow.com/questions/35127060/how-to-implement-atoi-using-simd\">How to implement atoi using SIMD?</a> using x86 <code>pmaddwd</code> to multiply and add pairs horizontally, it's still a lot of work.</p>\n<p>Note that to make the elements wide enough to multiply by place-values without overflow, you have to unpack, which costs some shuffling.  <code>ints.reduceLanes</code> takes about log2(elements) shuffle/add steps, and if you're starting with 512-bit AVX-512 vectors of <code>int</code>, the first 2 of those shuffles are lane-crossing, 3 cycle latency (<a href=\"https://agner.org/optimize/\" rel=\"nofollow noreferrer\">https://agner.org/optimize/</a>). (Or if your machine doesn't even have AVX2, then a 512-bit integer vector is actually 4x 128-bit vectors.  And you had to do separate work to unpack each part.  But at least the reduction will be cheap, just vertical adds until you get down to a single 128-bit vector.)</p>\n"},{"tags":[],"owner":{"account_id":3616623,"reputation":1255,"user_id":3016317,"display_name":"Tim V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679929984,"creation_date":1643451660,"answer_id":70904331,"question_id":68061254,"body_markdown":"_This is an updated version of the post I originally put up on this subject on 29-Jan-2022.  I&#39;m very much obliged to @JimmyB and @rapaio for pointing out some major flaws there, and think I&#39;ve addressed them now.  Also, I&#39;m in a position to compare Java 19 with Java 20._\r\n\r\nI found this post because I thought I had hit something strange with the Vector perfomance for something that ostensibly it should be ideal for - multiplying two double arrays.\r\nAs updated (after correcting errors) the main routine is this (for the Vector case):\r\n```java\r\n  static private void doVector(int iteration, double[] input1, double[] input2, double[] output) {\r\n    long start = System.nanoTime();\r\n    for (int i = 0; i &lt; SPECIES.loopBound(ARRAY_LENGTH); i += SPECIES.length()) {\r\n      DoubleVector va = DoubleVector.fromArray(SPECIES, input1, i);\r\n      DoubleVector vb = DoubleVector.fromArray(SPECIES, input2, i);\r\n      va.mul(vb).intoArray(output, i);\r\n    }\r\n    long finish = System.nanoTime();\r\n    System.out.println(&quot;  vector (intoArray) duration (ns)\\t&quot; + iteration + &quot;\\t&quot; + (finish - start));\r\n  }\r\n```\r\nand this (for the scalar case):\r\n```java\r\n  static private void doScalar(int iteration, double[] input1, double[] input2, double[] output) {\r\n    long start = System.nanoTime();\r\n    for (int i = 0; i &lt; ARRAY_LENGTH; ++i) {\r\n      output[i] = input1[i] * input2[i];\r\n    }\r\n    long finish = System.nanoTime();\r\n    System.out.println(&quot;  scalar duration (ns)\\t&quot; + iteration + &quot;\\t&quot; + (finish - start));\r\n  }\r\n``` \r\nFor testing I&#39;m using an array length of 65536 (random numbers) and 1024 iterations.  The species length comes out at 4 on my machine (CPU is Intel i7-7700HQ at 2.8 GHz).\r\n\r\nThe timings take a while to settle down.  Firstly, the first 2 scalar, and 6 Vector iterations are considerably (approx 10 times) slower than the later ones, and secondly, the first 180 or so iterations are very erratic in timing.  There are occasional spikes thereafter (presumably to do with other stuff going on on the machine/jvm)\r\n\r\nIf I compare the median times (using median rather than mean to avoid outliers, and ignoring the first 200 iterations to remove the startup effects), in Java 19 the Vector method is roughly 8% faster than the scalar method, and in Java 20 roughly 9% faster.  Which all means, I&#39;m still not seeing &quot;four times faster&quot;.  I wonder whether the optimizer is distributing the scalar calculations... (or maybe I&#39;m doing something else wrong this time :-) )","title":"Why is the java vector API so slow compared to scalar?","body":"<p><em>This is an updated version of the post I originally put up on this subject on 29-Jan-2022.  I'm very much obliged to @JimmyB and @rapaio for pointing out some major flaws there, and think I've addressed them now.  Also, I'm in a position to compare Java 19 with Java 20.</em></p>\n<p>I found this post because I thought I had hit something strange with the Vector perfomance for something that ostensibly it should be ideal for - multiplying two double arrays.\nAs updated (after correcting errors) the main routine is this (for the Vector case):</p>\n<pre class=\"lang-java prettyprint-override\"><code>  static private void doVector(int iteration, double[] input1, double[] input2, double[] output) {\n    long start = System.nanoTime();\n    for (int i = 0; i &lt; SPECIES.loopBound(ARRAY_LENGTH); i += SPECIES.length()) {\n      DoubleVector va = DoubleVector.fromArray(SPECIES, input1, i);\n      DoubleVector vb = DoubleVector.fromArray(SPECIES, input2, i);\n      va.mul(vb).intoArray(output, i);\n    }\n    long finish = System.nanoTime();\n    System.out.println(&quot;  vector (intoArray) duration (ns)\\t&quot; + iteration + &quot;\\t&quot; + (finish - start));\n  }\n</code></pre>\n<p>and this (for the scalar case):</p>\n<pre class=\"lang-java prettyprint-override\"><code>  static private void doScalar(int iteration, double[] input1, double[] input2, double[] output) {\n    long start = System.nanoTime();\n    for (int i = 0; i &lt; ARRAY_LENGTH; ++i) {\n      output[i] = input1[i] * input2[i];\n    }\n    long finish = System.nanoTime();\n    System.out.println(&quot;  scalar duration (ns)\\t&quot; + iteration + &quot;\\t&quot; + (finish - start));\n  }\n</code></pre>\n<p>For testing I'm using an array length of 65536 (random numbers) and 1024 iterations.  The species length comes out at 4 on my machine (CPU is Intel i7-7700HQ at 2.8 GHz).</p>\n<p>The timings take a while to settle down.  Firstly, the first 2 scalar, and 6 Vector iterations are considerably (approx 10 times) slower than the later ones, and secondly, the first 180 or so iterations are very erratic in timing.  There are occasional spikes thereafter (presumably to do with other stuff going on on the machine/jvm)</p>\n<p>If I compare the median times (using median rather than mean to avoid outliers, and ignoring the first 200 iterations to remove the startup effects), in Java 19 the Vector method is roughly 8% faster than the scalar method, and in Java 20 roughly 9% faster.  Which all means, I'm still not seeing &quot;four times faster&quot;.  I wonder whether the optimizer is distributing the scalar calculations... (or maybe I'm doing something else wrong this time :-) )</p>\n"},{"tags":[],"owner":{"account_id":16086441,"reputation":31,"user_id":11611018,"display_name":"AI Stock Trends With WEKA TA-L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682929046,"creation_date":1682592290,"answer_id":76119485,"question_id":68061254,"body_markdown":"Here are some tests I have run, and I get terrible results from the `SIMD Vector` processes.\r\n\r\n    Results:\r\n    WARNING: Using incubator modules: jdk.incubator.vector\r\n    Species[long, 4, S_256_BIT]\r\n    Scalar: 112\r\n    Vectorized: 415\r\n    Species[double, 4, S_256_BIT]\r\n    Scalar: 35\r\n    Vectorized: 125\r\n    Species[int, 8, S_256_BIT]\r\n    Scalar: 50\r\n    Vectorized: 257\r\n    Species[byte, 32, S_256_BIT]\r\n    Scalar: 99\r\n    Vectorized: 230\r\n    Species[float, 8, S_256_BIT]\r\n    Scalar: 41\r\n    Vectorized: 207\r\n    \r\n  **Java Code:**\r\n  \r\n    package testingVectorSIMD;\r\n    \r\n    import static org.junit.Assert.assertArrayEquals;\r\n    \r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.Random;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import jdk.incubator.vector.ByteVector;\r\n    import jdk.incubator.vector.DoubleVector;\r\n    import jdk.incubator.vector.FloatVector;\r\n    import jdk.incubator.vector.IntVector;\r\n    import jdk.incubator.vector.LongVector;\r\n    \r\n    public class SpeciesTest {\r\n    \r\n    \t \r\n    \t@Test\r\n    \tpublic void doBytes() {\r\n    \r\n    \t\tvar spc = ByteVector.SPECIES_PREFERRED;\r\n    \t\tSystem.out.println(spc.toString());\r\n    \r\n    \t\tRandom rand = new Random();\r\n    \t\tint size = 1000000;\r\n    \t\tvar a = new byte[size];\r\n    \t\tvar b = new byte[size];\r\n    \t\tfor (int ix = 0; ix &lt; size; ix++) {\r\n    \t\t\tbyte by = (byte) (rand.nextInt());\r\n    \t\t\ta[ix] = by;\r\n    \t\t\tby = (byte) (rand.nextInt());\r\n    \t\t\tb[ix] = by;\r\n    \t\t}\r\n    \r\n    \t\tInstant start = Instant.now();\r\n    \t\tvar nonresult = new byte[a.length];\r\n    \t\tfor (int ix = 0; ix &lt; a.length; ix++) {\r\n    \t\t\tnonresult[ix] = (byte) (a[ix] * b[ix]) ;\r\n    \t\t}\r\n    \t\tInstant stop = Instant.now();\r\n    \t\tSystem.out.println(&quot;Scalar: &quot; + Duration.between(start, stop).toMillis());\r\n    \r\n    \t\tvar vecresult = new byte[a.length];\r\n    \t\tstart = Instant.now();\r\n    \t\tint ix = 0;\r\n    \t\tfor (; ix &lt; spc.loopBound(a.length); ix += spc.length()) {\r\n    \t\t\tvar va = ByteVector.fromArray(spc, a, ix);\r\n    \t\t\tvar vb = ByteVector.fromArray(spc, b, ix);\r\n    \t\t\tvar Result = va.mul(vb);\r\n    \t\t\tResult.intoArray(vecresult, ix);\r\n    \t\t}\r\n    \t\tfor (int ix2 = ix; ix2 &lt; a.length; ix2++)\r\n    \t\t\tvecresult[ix2] = (byte) (a[ix2] * b[ix2]);\r\n    \t\tstop = Instant.now();\r\n    \t\tSystem.out.println(&quot;Vectorized: &quot; + Duration.between(start, stop).toMillis());\r\n    \r\n    \t\tassertArrayEquals(nonresult, vecresult);\r\n    \t\t \r\n    \r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void doInt() {\r\n    \r\n    \t\tvar spc = IntVector.SPECIES_PREFERRED;\r\n    \t\tSystem.out.println(spc.toString());\r\n    \t\tRandom rand = new Random();\r\n    \t\tint size = 1000000;\r\n    \t\tvar a = new int[size];\r\n    \t\tvar b = new int[size];\r\n    \t\tfor (int ix = 0; ix &lt; size; ix++) {\r\n    \t\t\tint by = rand.nextInt();\r\n    \t\t\ta[ix] = by;\r\n    \t\t\tby = rand.nextInt();\r\n    \t\t\tb[ix] = by;\r\n    \t\t}\r\n    \r\n    \t\tInstant start = Instant.now();\r\n    \t\tvar nonresult = new int[a.length];\r\n    \t\tfor (int ix = 0; ix &lt; a.length; ix++) {\r\n    \t\t\tnonresult[ix] = a[ix] * b[ix];\r\n    \t\t}\r\n    \t\tInstant stop = Instant.now();\r\n    \t\tSystem.out.println(&quot;Scalar: &quot; + Duration.between(start, stop).toMillis());\r\n    \r\n    \t\tvar vecresult = new int[a.length];\r\n    \t\tstart = Instant.now();\r\n    \t\tint ix = 0;\r\n    \t\tfor (; ix &lt; spc.loopBound(a.length); ix += spc.length()) {\r\n    \t\t\tvar va = IntVector.fromArray(spc, a, ix);\r\n    \t\t\tvar vb = IntVector.fromArray(spc, b, ix);\r\n    \t\t\tvar Result = va.mul(vb);\r\n    \t\t\tResult.intoArray(vecresult, ix);\r\n    \t\t}\r\n    \t\tfor (int ix2 = ix; ix2 &lt; a.length; ix2++)\r\n    \t\t\tvecresult[ix2] = a[ix2] * b[ix2];\r\n    \t\tstop = Instant.now();\r\n    \t\tSystem.out.println(&quot;Vectorized: &quot; + Duration.between(start, stop).toMillis());\r\n    \t\tassertArrayEquals(nonresult, vecresult);\r\n    \r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void doLong() {\r\n    \r\n    \t\tvar spc = LongVector.SPECIES_PREFERRED;\r\n    \t\tSystem.out.println(spc.toString());\r\n    \t\tRandom rand = new Random();\r\n    \t\tint size = 1000000;\r\n    \t\tvar a = new long[size];\r\n    \t\tvar b = new long[size];\r\n    \t\tfor (int ix = 0; ix &lt; size; ix++) {\r\n    \t\t\tlong by = rand.nextLong();\r\n    \t\t\ta[ix] = by;\r\n    \t\t\tby = rand.nextLong();\r\n    \t\t\tb[ix] = by;\r\n    \t\t}\r\n    \r\n    \t\tInstant start = Instant.now();\r\n    \t\tvar nonresult = new long[a.length];\r\n    \t\tfor (int ix = 0; ix &lt; a.length; ix++) {\r\n    \t\t\tnonresult[ix] = a[ix] * b[ix];\r\n    \t\t}\r\n    \t\tInstant stop = Instant.now();\r\n    \t\tSystem.out.println(&quot;Scalar: &quot; + Duration.between(start, stop).toMillis());\r\n    \r\n    \t\tvar vecresult = new long[a.length];\r\n    \t\tstart = Instant.now();\r\n    \t\tint ix = 0;\r\n    \t\tfor (; ix &lt; spc.loopBound(a.length); ix += spc.length()) {\r\n    \t\t\tvar va = LongVector.fromArray(spc, a, ix);\r\n    \t\t\tvar vb = LongVector.fromArray(spc, b, ix);\r\n    \t\t\tvar Result = va.mul(vb);\r\n    \t\t\tResult.intoArray(vecresult, ix);\r\n    \t\t}\r\n    \t\tfor (int ix2 = ix; ix2 &lt; a.length; ix2++)\r\n    \t\t\tvecresult[ix2] = a[ix2] * b[ix2];\r\n    \t\tstop = Instant.now();\r\n    \t\tSystem.out.println(&quot;Vectorized: &quot; + Duration.between(start, stop).toMillis());\r\n    \t\tassertArrayEquals(nonresult, vecresult);\r\n    \r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void doFloat() {\r\n    \r\n    \t\tvar spc = FloatVector.SPECIES_PREFERRED;\r\n    \t\tSystem.out.println(spc.toString());\r\n    \t\tRandom rand = new Random();\r\n    \t\tint size = 1000000;\r\n    \t\tvar a = new float[size];\r\n    \t\tvar b = new float[size];\r\n    \t\tfor (int ix = 0; ix &lt; size; ix++) {\r\n    \t\t\tfloat by = rand.nextFloat();\r\n    \t\t\ta[ix] = by;\r\n    \t\t\tby = rand.nextFloat();\r\n    \t\t\tb[ix] = by;\r\n    \t\t}\r\n    \r\n    \t\tInstant start = Instant.now();\r\n    \t\tvar nonresult = new float[a.length];\r\n    \t\tfor (int ix = 0; ix &lt; a.length; ix++) {\r\n    \t\t\tnonresult[ix] = a[ix] * b[ix];\r\n    \t\t}\r\n    \t\tInstant stop = Instant.now();\r\n    \t\tSystem.out.println(&quot;Scalar: &quot; + Duration.between(start, stop).toMillis());\r\n    \r\n    \t\tvar vecresult = new float[a.length];\r\n    \t\tstart = Instant.now();\r\n    \t\tint ix = 0;\r\n    \t\tfor (; ix &lt; spc.loopBound(a.length); ix += spc.length()) {\r\n    \t\t\tvar va = FloatVector.fromArray(spc, a, ix);\r\n    \t\t\tvar vb = FloatVector.fromArray(spc, b, ix);\r\n    \t\t\tvar Result = va.mul(vb);\r\n    \t\t\tResult.intoArray(vecresult, ix);\r\n    \t\t}\r\n    \t\tfor (int ix2 = ix; ix2 &lt; a.length; ix2++)\r\n    \t\t\tvecresult[ix2] = a[ix2] * b[ix2];\r\n    \t\tstop = Instant.now();\r\n    \t\tSystem.out.println(&quot;Vectorized: &quot; + Duration.between(start, stop).toMillis());\r\n    \r\n    \t\tassertArrayEquals(nonresult, vecresult, 0);\r\n    \r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void doDouble() {\r\n    \r\n    \t\tvar spc = DoubleVector.SPECIES_PREFERRED;\r\n    \t\tSystem.out.println(spc.toString());\r\n    \t\tRandom rand = new Random();\r\n    \t\tint size = 1000000;\r\n    \t\tvar a = new double[size];\r\n    \t\tvar b = new double[size];\r\n    \t\tfor (int ix = 0; ix &lt; size; ix++) {\r\n    \t\t\tdouble by = rand.nextDouble();\r\n    \t\t\ta[ix] = by;\r\n    \t\t\tby = rand.nextDouble();\r\n    \t\t\tb[ix] = by;\r\n    \t\t}\r\n    \r\n    \t\tInstant start = Instant.now();\r\n    \t\tvar nonresult = new double[a.length];\r\n    \t\tfor (int ix = 0; ix &lt; a.length; ix++) {\r\n    \t\t\tnonresult[ix] = a[ix] * b[ix];\r\n    \t\t}\r\n    \t\tInstant stop = Instant.now();\r\n    \t\tSystem.out.println(&quot;Scalar: &quot; + Duration.between(start, stop).toMillis());\r\n    \r\n    \t\tvar vecresult = new double[a.length];\r\n    \t\tstart = Instant.now();\r\n    \t\tint ix = 0;\r\n    \t\tfor (; ix &lt; spc.loopBound(a.length); ix += spc.length()) {\r\n    \t\t\tvar va = DoubleVector.fromArray(spc, a, ix);\r\n    \t\t\tvar vb = DoubleVector.fromArray(spc, b, ix);\r\n    \t\t\tvar Result = va.mul(vb);\r\n    \t\t\tResult.intoArray(vecresult, ix);\r\n    \t\t}\r\n    \t\tfor (int ix2 = ix; ix2 &lt; a.length; ix2++)\r\n    \t\t\tvecresult[ix2] = a[ix2] * b[ix2];\r\n    \t\tstop = Instant.now();\r\n    \t\tSystem.out.println(&quot;Vectorized: &quot; + Duration.between(start, stop).toMillis());\r\n    \t\tassertArrayEquals(nonresult, vecresult, 0);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Why is the java vector API so slow compared to scalar?","body":"<p>Here are some tests I have run, and I get terrible results from the <code>SIMD Vector</code> processes.</p>\n<pre><code>Results:\nWARNING: Using incubator modules: jdk.incubator.vector\nSpecies[long, 4, S_256_BIT]\nScalar: 112\nVectorized: 415\nSpecies[double, 4, S_256_BIT]\nScalar: 35\nVectorized: 125\nSpecies[int, 8, S_256_BIT]\nScalar: 50\nVectorized: 257\nSpecies[byte, 32, S_256_BIT]\nScalar: 99\nVectorized: 230\nSpecies[float, 8, S_256_BIT]\nScalar: 41\nVectorized: 207\n</code></pre>\n<p><strong>Java Code:</strong></p>\n<pre><code>package testingVectorSIMD;\n\nimport static org.junit.Assert.assertArrayEquals;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Random;\n\nimport org.junit.jupiter.api.Test;\n\nimport jdk.incubator.vector.ByteVector;\nimport jdk.incubator.vector.DoubleVector;\nimport jdk.incubator.vector.FloatVector;\nimport jdk.incubator.vector.IntVector;\nimport jdk.incubator.vector.LongVector;\n\npublic class SpeciesTest {\n\n     \n    @Test\n    public void doBytes() {\n\n        var spc = ByteVector.SPECIES_PREFERRED;\n        System.out.println(spc.toString());\n\n        Random rand = new Random();\n        int size = 1000000;\n        var a = new byte[size];\n        var b = new byte[size];\n        for (int ix = 0; ix &lt; size; ix++) {\n            byte by = (byte) (rand.nextInt());\n            a[ix] = by;\n            by = (byte) (rand.nextInt());\n            b[ix] = by;\n        }\n\n        Instant start = Instant.now();\n        var nonresult = new byte[a.length];\n        for (int ix = 0; ix &lt; a.length; ix++) {\n            nonresult[ix] = (byte) (a[ix] * b[ix]) ;\n        }\n        Instant stop = Instant.now();\n        System.out.println(&quot;Scalar: &quot; + Duration.between(start, stop).toMillis());\n\n        var vecresult = new byte[a.length];\n        start = Instant.now();\n        int ix = 0;\n        for (; ix &lt; spc.loopBound(a.length); ix += spc.length()) {\n            var va = ByteVector.fromArray(spc, a, ix);\n            var vb = ByteVector.fromArray(spc, b, ix);\n            var Result = va.mul(vb);\n            Result.intoArray(vecresult, ix);\n        }\n        for (int ix2 = ix; ix2 &lt; a.length; ix2++)\n            vecresult[ix2] = (byte) (a[ix2] * b[ix2]);\n        stop = Instant.now();\n        System.out.println(&quot;Vectorized: &quot; + Duration.between(start, stop).toMillis());\n\n        assertArrayEquals(nonresult, vecresult);\n         \n\n    }\n\n    @Test\n    public void doInt() {\n\n        var spc = IntVector.SPECIES_PREFERRED;\n        System.out.println(spc.toString());\n        Random rand = new Random();\n        int size = 1000000;\n        var a = new int[size];\n        var b = new int[size];\n        for (int ix = 0; ix &lt; size; ix++) {\n            int by = rand.nextInt();\n            a[ix] = by;\n            by = rand.nextInt();\n            b[ix] = by;\n        }\n\n        Instant start = Instant.now();\n        var nonresult = new int[a.length];\n        for (int ix = 0; ix &lt; a.length; ix++) {\n            nonresult[ix] = a[ix] * b[ix];\n        }\n        Instant stop = Instant.now();\n        System.out.println(&quot;Scalar: &quot; + Duration.between(start, stop).toMillis());\n\n        var vecresult = new int[a.length];\n        start = Instant.now();\n        int ix = 0;\n        for (; ix &lt; spc.loopBound(a.length); ix += spc.length()) {\n            var va = IntVector.fromArray(spc, a, ix);\n            var vb = IntVector.fromArray(spc, b, ix);\n            var Result = va.mul(vb);\n            Result.intoArray(vecresult, ix);\n        }\n        for (int ix2 = ix; ix2 &lt; a.length; ix2++)\n            vecresult[ix2] = a[ix2] * b[ix2];\n        stop = Instant.now();\n        System.out.println(&quot;Vectorized: &quot; + Duration.between(start, stop).toMillis());\n        assertArrayEquals(nonresult, vecresult);\n\n    }\n\n    @Test\n    public void doLong() {\n\n        var spc = LongVector.SPECIES_PREFERRED;\n        System.out.println(spc.toString());\n        Random rand = new Random();\n        int size = 1000000;\n        var a = new long[size];\n        var b = new long[size];\n        for (int ix = 0; ix &lt; size; ix++) {\n            long by = rand.nextLong();\n            a[ix] = by;\n            by = rand.nextLong();\n            b[ix] = by;\n        }\n\n        Instant start = Instant.now();\n        var nonresult = new long[a.length];\n        for (int ix = 0; ix &lt; a.length; ix++) {\n            nonresult[ix] = a[ix] * b[ix];\n        }\n        Instant stop = Instant.now();\n        System.out.println(&quot;Scalar: &quot; + Duration.between(start, stop).toMillis());\n\n        var vecresult = new long[a.length];\n        start = Instant.now();\n        int ix = 0;\n        for (; ix &lt; spc.loopBound(a.length); ix += spc.length()) {\n            var va = LongVector.fromArray(spc, a, ix);\n            var vb = LongVector.fromArray(spc, b, ix);\n            var Result = va.mul(vb);\n            Result.intoArray(vecresult, ix);\n        }\n        for (int ix2 = ix; ix2 &lt; a.length; ix2++)\n            vecresult[ix2] = a[ix2] * b[ix2];\n        stop = Instant.now();\n        System.out.println(&quot;Vectorized: &quot; + Duration.between(start, stop).toMillis());\n        assertArrayEquals(nonresult, vecresult);\n\n    }\n\n    @Test\n    public void doFloat() {\n\n        var spc = FloatVector.SPECIES_PREFERRED;\n        System.out.println(spc.toString());\n        Random rand = new Random();\n        int size = 1000000;\n        var a = new float[size];\n        var b = new float[size];\n        for (int ix = 0; ix &lt; size; ix++) {\n            float by = rand.nextFloat();\n            a[ix] = by;\n            by = rand.nextFloat();\n            b[ix] = by;\n        }\n\n        Instant start = Instant.now();\n        var nonresult = new float[a.length];\n        for (int ix = 0; ix &lt; a.length; ix++) {\n            nonresult[ix] = a[ix] * b[ix];\n        }\n        Instant stop = Instant.now();\n        System.out.println(&quot;Scalar: &quot; + Duration.between(start, stop).toMillis());\n\n        var vecresult = new float[a.length];\n        start = Instant.now();\n        int ix = 0;\n        for (; ix &lt; spc.loopBound(a.length); ix += spc.length()) {\n            var va = FloatVector.fromArray(spc, a, ix);\n            var vb = FloatVector.fromArray(spc, b, ix);\n            var Result = va.mul(vb);\n            Result.intoArray(vecresult, ix);\n        }\n        for (int ix2 = ix; ix2 &lt; a.length; ix2++)\n            vecresult[ix2] = a[ix2] * b[ix2];\n        stop = Instant.now();\n        System.out.println(&quot;Vectorized: &quot; + Duration.between(start, stop).toMillis());\n\n        assertArrayEquals(nonresult, vecresult, 0);\n\n    }\n\n    @Test\n    public void doDouble() {\n\n        var spc = DoubleVector.SPECIES_PREFERRED;\n        System.out.println(spc.toString());\n        Random rand = new Random();\n        int size = 1000000;\n        var a = new double[size];\n        var b = new double[size];\n        for (int ix = 0; ix &lt; size; ix++) {\n            double by = rand.nextDouble();\n            a[ix] = by;\n            by = rand.nextDouble();\n            b[ix] = by;\n        }\n\n        Instant start = Instant.now();\n        var nonresult = new double[a.length];\n        for (int ix = 0; ix &lt; a.length; ix++) {\n            nonresult[ix] = a[ix] * b[ix];\n        }\n        Instant stop = Instant.now();\n        System.out.println(&quot;Scalar: &quot; + Duration.between(start, stop).toMillis());\n\n        var vecresult = new double[a.length];\n        start = Instant.now();\n        int ix = 0;\n        for (; ix &lt; spc.loopBound(a.length); ix += spc.length()) {\n            var va = DoubleVector.fromArray(spc, a, ix);\n            var vb = DoubleVector.fromArray(spc, b, ix);\n            var Result = va.mul(vb);\n            Result.intoArray(vecresult, ix);\n        }\n        for (int ix2 = ix; ix2 &lt; a.length; ix2++)\n            vecresult[ix2] = a[ix2] * b[ix2];\n        stop = Instant.now();\n        System.out.println(&quot;Vectorized: &quot; + Duration.between(start, stop).toMillis());\n        assertArrayEquals(nonresult, vecresult, 0);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9349747,"reputation":169,"user_id":6939848,"display_name":"Redempt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1741,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1682929046,"creation_date":1624238096,"question_id":68061254,"body_markdown":"I recently decided to play around with Java&#39;s new incubated vector API, to see how fast it can get. I implemented two fairly simple methods, one for parsing an int and one for finding the index of a character in a string. In both cases, my vectorized methods were incredibly slow compared to their scalar equivalents.\r\n\r\nHere&#39;s my code:\r\n\r\n    public class SIMDParse {\r\n\t\r\n\tprivate static IntVector mul = IntVector.fromArray(\r\n\t\t\tIntVector.SPECIES_512,\r\n\t\t\tnew int[] {0, 0, 0, 0, 0, 0, 1000000000, 100000000, 10000000, 1000000, 100000, 10000, 1000, 100, 10, 1},\r\n\t\t\t0\r\n\t);\r\n\tprivate static byte zeroChar = (byte) &#39;0&#39;;\r\n\tprivate static int width = IntVector.SPECIES_512.length();\r\n\tprivate static byte[] filler;\r\n\t\r\n\tstatic {\r\n\t\tfiller = new byte[16];\r\n\t\tfor (int i = 0; i &lt; 16; i++) {\r\n\t\t\tfiller[i] = zeroChar;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static int parseInt(String str) {\r\n\t\tboolean negative = str.charAt(0) == &#39;-&#39;;\r\n\t\tbyte[] bytes = str.getBytes(StandardCharsets.UTF_8);\r\n\t\tif (negative) {\r\n\t\t\tbytes[0] = zeroChar;\r\n\t\t}\r\n\t\tbytes = ensureSize(bytes, width);\r\n\t\tByteVector vec = ByteVector.fromArray(ByteVector.SPECIES_128, bytes, 0);\r\n\t\tvec = vec.sub(zeroChar);\r\n\t\tIntVector ints = (IntVector) vec.castShape(IntVector.SPECIES_512, 0);\r\n\t\tints = ints.mul(mul);\r\n\t\treturn ints.reduceLanes(VectorOperators.ADD) * (negative ? -1 : 1);\r\n\t}\r\n\t\r\n\tpublic static byte[] ensureSize(byte[] arr, int per) {\r\n\t\tint mod = arr.length % per;\r\n\t\tif (mod == 0) {\r\n\t\t\treturn arr;\r\n\t\t}\r\n\t\tint length = arr.length - (mod);\r\n\t\tlength += per;\r\n\t\tbyte[] newArr = new byte[length];\r\n\t\tSystem.arraycopy(arr, 0, newArr, per - mod, arr.length);\r\n\t\tSystem.arraycopy(filler, 0, newArr, 0, per - mod);\r\n\t\treturn newArr;\r\n\t}\r\n\t\r\n\tpublic static byte[] ensureSize2(byte[] arr, int per) {\r\n\t\tint mod = arr.length % per;\r\n\t\tif (mod == 0) {\r\n\t\t\treturn arr;\r\n\t\t}\r\n\t\tint length = arr.length - (mod);\r\n\t\tlength += per;\r\n\t\tbyte[] newArr = new byte[length];\r\n\t\tSystem.arraycopy(arr, 0, newArr, 0, arr.length);\r\n\t\treturn newArr;\r\n\t}\r\n\t\r\n\tpublic static int indexOf(String s, char c) {\r\n\t\tbyte[] b = s.getBytes(StandardCharsets.UTF_8);\r\n\t\tint width = ByteVector.SPECIES_MAX.length();\r\n\t\tbyte bChar = (byte) c;\r\n\t\tb = ensureSize2(b, width);\r\n\t\tfor (int i = 0; i &lt; b.length; i += width) {\r\n\t\t\tByteVector vec = ByteVector.fromArray(ByteVector.SPECIES_MAX, b, i);\r\n\t\t\tint pos = vec.compare(VectorOperators.EQ, bChar).firstTrue();\r\n\t\t\tif (pos != width) {\r\n\t\t\t\treturn pos + i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\t\r\n    }\r\n\r\nI fully expected my int parsing to be slower, since it won&#39;t ever be handling more than the vector size can hold (an int can never be more than 10 digits long).\r\n\r\nBy my bechmarks, parsing `123` as an int 10k times took 3081 microseconds for `Integer.parseInt`, and 80601 microseconds for my implementation. Searching for `&#39;a&#39;` in a very long string (`&quot;____&quot;.repeat(4000) + &quot;a&quot; + &quot;----&quot;.repeat(193)`) took 7709 microseconds to `String#indexOf`&#39;s 7.\r\n\r\nWhy is it so unbelievably slow? I thought the entire point of SIMD is that it&#39;s faster than the scalar equivalents for tasks like these. ","title":"Why is the java vector API so slow compared to scalar?","body":"<p>I recently decided to play around with Java's new incubated vector API, to see how fast it can get. I implemented two fairly simple methods, one for parsing an int and one for finding the index of a character in a string. In both cases, my vectorized methods were incredibly slow compared to their scalar equivalents.</p>\n<p>Here's my code:</p>\n<pre><code>public class SIMDParse {\n\nprivate static IntVector mul = IntVector.fromArray(\n        IntVector.SPECIES_512,\n        new int[] {0, 0, 0, 0, 0, 0, 1000000000, 100000000, 10000000, 1000000, 100000, 10000, 1000, 100, 10, 1},\n        0\n);\nprivate static byte zeroChar = (byte) '0';\nprivate static int width = IntVector.SPECIES_512.length();\nprivate static byte[] filler;\n\nstatic {\n    filler = new byte[16];\n    for (int i = 0; i &lt; 16; i++) {\n        filler[i] = zeroChar;\n    }\n}\n\npublic static int parseInt(String str) {\n    boolean negative = str.charAt(0) == '-';\n    byte[] bytes = str.getBytes(StandardCharsets.UTF_8);\n    if (negative) {\n        bytes[0] = zeroChar;\n    }\n    bytes = ensureSize(bytes, width);\n    ByteVector vec = ByteVector.fromArray(ByteVector.SPECIES_128, bytes, 0);\n    vec = vec.sub(zeroChar);\n    IntVector ints = (IntVector) vec.castShape(IntVector.SPECIES_512, 0);\n    ints = ints.mul(mul);\n    return ints.reduceLanes(VectorOperators.ADD) * (negative ? -1 : 1);\n}\n\npublic static byte[] ensureSize(byte[] arr, int per) {\n    int mod = arr.length % per;\n    if (mod == 0) {\n        return arr;\n    }\n    int length = arr.length - (mod);\n    length += per;\n    byte[] newArr = new byte[length];\n    System.arraycopy(arr, 0, newArr, per - mod, arr.length);\n    System.arraycopy(filler, 0, newArr, 0, per - mod);\n    return newArr;\n}\n\npublic static byte[] ensureSize2(byte[] arr, int per) {\n    int mod = arr.length % per;\n    if (mod == 0) {\n        return arr;\n    }\n    int length = arr.length - (mod);\n    length += per;\n    byte[] newArr = new byte[length];\n    System.arraycopy(arr, 0, newArr, 0, arr.length);\n    return newArr;\n}\n\npublic static int indexOf(String s, char c) {\n    byte[] b = s.getBytes(StandardCharsets.UTF_8);\n    int width = ByteVector.SPECIES_MAX.length();\n    byte bChar = (byte) c;\n    b = ensureSize2(b, width);\n    for (int i = 0; i &lt; b.length; i += width) {\n        ByteVector vec = ByteVector.fromArray(ByteVector.SPECIES_MAX, b, i);\n        int pos = vec.compare(VectorOperators.EQ, bChar).firstTrue();\n        if (pos != width) {\n            return pos + i;\n        }\n    }\n    return -1;\n}\n\n}\n</code></pre>\n<p>I fully expected my int parsing to be slower, since it won't ever be handling more than the vector size can hold (an int can never be more than 10 digits long).</p>\n<p>By my bechmarks, parsing <code>123</code> as an int 10k times took 3081 microseconds for <code>Integer.parseInt</code>, and 80601 microseconds for my implementation. Searching for <code>'a'</code> in a very long string (<code>&quot;____&quot;.repeat(4000) + &quot;a&quot; + &quot;----&quot;.repeat(193)</code>) took 7709 microseconds to <code>String#indexOf</code>'s 7.</p>\n<p>Why is it so unbelievably slow? I thought the entire point of SIMD is that it's faster than the scalar equivalents for tasks like these.</p>\n"},{"tags":["javascript","java","android","webview","getusermedia"],"owner":{"account_id":27289543,"reputation":35,"user_id":20808185,"display_name":"John House"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682928910,"creation_date":1682928910,"question_id":76145570,"body_markdown":"I need to call the camera from js in the android webview, but for some reason there is such an error in the logs:\r\n```\r\nUncaught (in promise) TypeError: Failed to execute &#39;getUserMedia&#39; on &#39;MediaDevices&#39;: The object must have a callable @@iterator property.\r\n```\r\nGoogle searches turned up nothing, I requested permission in the manifest:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n```\r\nEverything else works fine, setJavascriptEnabled is enabled","title":"How in webview (url on website) call userMedia javascript?","body":"<p>I need to call the camera from js in the android webview, but for some reason there is such an error in the logs:</p>\n<pre><code>Uncaught (in promise) TypeError: Failed to execute 'getUserMedia' on 'MediaDevices': The object must have a callable @@iterator property.\n</code></pre>\n<p>Google searches turned up nothing, I requested permission in the manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n     &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n</code></pre>\n<p>Everything else works fine, setJavascriptEnabled is enabled</p>\n"},{"tags":["java","headless","playwright"],"comments":[{"owner":{"account_id":321990,"reputation":3258,"user_id":641135,"accept_rate":88,"display_name":"Christian Baumann"},"score":0,"creation_date":1647358125,"post_id":71484254,"comment_id":126348297,"body_markdown":"What do you mean by &quot;browserless&quot;?\nIn case you mean &quot;headless&quot;: Yes, you also need to download the browsers when running in headless mode.","body":"What do you mean by &quot;browserless&quot;? In case you mean &quot;headless&quot;: Yes, you also need to download the browsers when running in headless mode."},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":1,"creation_date":1647371833,"post_id":71484254,"comment_id":126353295,"body_markdown":"Delegating the call to a external provider Browserless is one of them.","body":"Delegating the call to a external provider Browserless is one of them."}],"answers":[{"tags":[],"owner":{"account_id":321990,"reputation":3258,"user_id":641135,"accept_rate":88,"display_name":"Christian Baumann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647523882,"creation_date":1647358100,"answer_id":71484824,"question_id":71484254,"body_markdown":"You can skip the browser download by setting an environment variable `PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=1`\r\n\r\nSee the docs here: https://playwright.dev/java/docs/browsers#skip-browser-downloads","title":"Java Playwright + Browserless ignore browser download","body":"<p>You can skip the browser download by setting an environment variable <code>PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=1</code></p>\n<p>See the docs here: <a href=\"https://playwright.dev/java/docs/browsers#skip-browser-downloads\" rel=\"nofollow noreferrer\">https://playwright.dev/java/docs/browsers#skip-browser-downloads</a></p>\n"},{"tags":[],"owner":{"account_id":14112653,"reputation":33,"user_id":10195099,"display_name":"Shaheaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682928851,"creation_date":1682928728,"answer_id":76145553,"question_id":71484254,"body_markdown":"```\r\nMap&lt;String,String&gt; env = new HashMap&lt;&gt;();\r\nenv.put(&quot;PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD&quot;,&quot;1&quot;);\r\ntry (Playwright playwright = Playwright.create(new Playwright.CreateOptions().setEnv(env))) {\r\n        BrowserType chromium = playwright.chromium();\r\n        Browser browser = chromium.launch();\r\n        Page page = browser.newPage();\r\n        page.onRequest(request -&gt; System.out.println(&quot;&gt;&gt; &quot; + request.method() + &quot; &quot; + request.url()));\r\n        page.onResponse(response -&gt; System.out.println(&quot;&lt;&lt;&quot; + response.status() + &quot; &quot; + response.url()));\r\n        page.navigate(&quot;https://example.com&quot;);\r\n        browser.close();\r\n    }\r\n}\r\n```","title":"Java Playwright + Browserless ignore browser download","body":"<pre><code>Map&lt;String,String&gt; env = new HashMap&lt;&gt;();\nenv.put(&quot;PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD&quot;,&quot;1&quot;);\ntry (Playwright playwright = Playwright.create(new Playwright.CreateOptions().setEnv(env))) {\n        BrowserType chromium = playwright.chromium();\n        Browser browser = chromium.launch();\n        Page page = browser.newPage();\n        page.onRequest(request -&gt; System.out.println(&quot;&gt;&gt; &quot; + request.method() + &quot; &quot; + request.url()));\n        page.onResponse(response -&gt; System.out.println(&quot;&lt;&lt;&quot; + response.status() + &quot; &quot; + response.url()));\n        page.navigate(&quot;https://example.com&quot;);\n        browser.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71484824,"answer_count":2,"score":1,"last_activity_date":1682928851,"creation_date":1647355793,"question_id":71484254,"body_markdown":"I am developing a simple prototype with **Java + Playwright + Browserless**. I was wondering if is possible avoid downloading the browsers in AWS.\r\n\r\n    Playwright build of chromium v956323 downloaded to /home/ec2-user/.cache/ms-playwright/chromium-956323\r\n    Playwright build of ffmpeg v1007 downloaded to /home/ec2-user/.cache/ms-playwright/ffmpeg-1007\r\n    Playwright build of firefox v1313 downloaded to /home/ec2-user/.cache/ms-playwright/firefox-1313\r\n    Playwright build of webkit v1596 downloaded to /home/ec2-user/.cache/ms-playwright/webkit-1596\r\n\r\nSometimes it will run in browserless and i think if so i wont need the browser but i dont really know is this possible? or even running in browserless i would need the browsers?\r\n\r\n**If so how can i do that in Java.**\r\n \r\nI want to do it **programmatically** because depending of the parameters sometime i need them sometimes dont is this possible?","title":"Java Playwright + Browserless ignore browser download","body":"<p>I am developing a simple prototype with <strong>Java + Playwright + Browserless</strong>. I was wondering if is possible avoid downloading the browsers in AWS.</p>\n<pre><code>Playwright build of chromium v956323 downloaded to /home/ec2-user/.cache/ms-playwright/chromium-956323\nPlaywright build of ffmpeg v1007 downloaded to /home/ec2-user/.cache/ms-playwright/ffmpeg-1007\nPlaywright build of firefox v1313 downloaded to /home/ec2-user/.cache/ms-playwright/firefox-1313\nPlaywright build of webkit v1596 downloaded to /home/ec2-user/.cache/ms-playwright/webkit-1596\n</code></pre>\n<p>Sometimes it will run in browserless and i think if so i wont need the browser but i dont really know is this possible? or even running in browserless i would need the browsers?</p>\n<p><strong>If so how can i do that in Java.</strong></p>\n<p>I want to do it <strong>programmatically</strong> because depending of the parameters sometime i need them sometimes dont is this possible?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5334,"reputation":8391,"user_id":8528,"accept_rate":81,"display_name":"Spencer Kormos"},"score":0,"creation_date":1325913332,"post_id":8767549,"comment_id":10928354,"body_markdown":"Try tracing the program with real numbers. Then try running the program with real numbers. It sounds like you&#39;ve done neither.","body":"Try tracing the program with real numbers. Then try running the program with real numbers. It sounds like you&#39;ve done neither."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1325925868,"post_id":8767549,"comment_id":10929540,"body_markdown":"If you use a debugger to step through your code you will be able to see what each line of code does and understand you program. When the program behaves is a way you don&#39;t expect, this gives you a hint as to what you need to change to fix it. BTW: I would call my total variable `total` and I would use a `long` type to avoid underflow/overflows.","body":"If you use a debugger to step through your code you will be able to see what each line of code does and understand you program. When the program behaves is a way you don&#39;t expect, this gives you a hint as to what you need to change to fix it. BTW: I would call my total variable <code>total</code> and I would use a <code>long</code> type to avoid underflow/overflows."}],"answers":[{"tags":[],"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325913188,"creation_date":1325913188,"answer_id":8767566,"question_id":8767549,"body_markdown":"&quot;Am I making any logical error?&quot;\r\n\r\nYes. This looks like a homework problem so I won&#39;t spell it out for you, but think about what the value of `i` is, and what `h = j + i` means in this case.\r\n\r\nYou also need to be careful about calling `input.nextInt()`. What will happen when you call it twice each time through the loop (which is what you are doing)?","title":"Average of n numbers in java","body":"<p>\"Am I making any logical error?\"</p>\n\n<p>Yes. This looks like a homework problem so I won't spell it out for you, but think about what the value of <code>i</code> is, and what <code>h = j + i</code> means in this case.</p>\n\n<p>You also need to be careful about calling <code>input.nextInt()</code>. What will happen when you call it twice each time through the loop (which is what you are doing)?</p>\n"},{"tags":[],"owner":{"account_id":24776,"reputation":27071,"user_id":63225,"accept_rate":88,"display_name":"sblom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325913216,"creation_date":1325913216,"answer_id":8767568,"question_id":8767549,"body_markdown":"Homework, right?\r\n\r\nCalling `input.nextInt()` in the while loop condition and also to fill in `int inp` means that each trip through the loop is reading two numbers (one of which is ignored). You need to figure out a way to only read one number per loop iteration and use it for both the `== 0` comparison as well as for `inp`.\r\n\r\nAdditionally, you&#39;ve done the right thing having `h` outside the while loop, but I think you&#39;re confusing yourself with `j` and `i` inside the loop. You might consider slightly more descriptive names--which will make your code much easier to reason about.","title":"Average of n numbers in java","body":"<p>Homework, right?</p>\n\n<p>Calling <code>input.nextInt()</code> in the while loop condition and also to fill in <code>int inp</code> means that each trip through the loop is reading two numbers (one of which is ignored). You need to figure out a way to only read one number per loop iteration and use it for both the <code>== 0</code> comparison as well as for <code>inp</code>.</p>\n\n<p>Additionally, you've done the right thing having <code>h</code> outside the while loop, but I think you're confusing yourself with <code>j</code> and <code>i</code> inside the loop. You might consider slightly more descriptive names--which will make your code much easier to reason about.</p>\n"},{"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325913300,"creation_date":1325913300,"answer_id":8767574,"question_id":8767549,"body_markdown":"You need to keep a counter of how many numbers you read so you can divide the total by this number to get the average.","title":"Average of n numbers in java","body":"<p>You need to keep a counter of how many numbers you read so you can divide the total by this number to get the average.</p>\n"},{"tags":[],"owner":{"account_id":1066039,"reputation":516,"user_id":1066581,"display_name":"o_o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325913707,"creation_date":1325913707,"answer_id":8767607,"question_id":8767549,"body_markdown":"Edited the while loop:\r\n\r\n    while(true){\r\n        int e=input.nextInt();\r\n        if(e==0) break;\r\n        h+=e;\r\n        numberOfItems++;\r\n    }\r\n    \r\n\r\nYour original implementation called nextInt() twice, which has the effect of discarding every other number (which is definitely not what you intended to do).","title":"Average of n numbers in java","body":"<p>Edited the while loop:</p>\n\n<pre><code>while(true){\n    int e=input.nextInt();\n    if(e==0) break;\n    h+=e;\n    numberOfItems++;\n}\n</code></pre>\n\n<p>Your original implementation called nextInt() twice, which has the effect of discarding every other number (which is definitely not what you intended to do).</p>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1325914517,"creation_date":1325914517,"answer_id":8767668,"question_id":8767549,"body_markdown":" * Don&#39;t name the sum h, but sum.\r\n * The while-condition is wrong\r\n * Why do you use inp and j and i? \r\n * There is an unconditional break - why?\r\n * You talk about the average. Do you know what the average is? \r\n * Your output message is not about average - it is about the sum. ","title":"Average of n numbers in java","body":"<ul>\n<li>Don't name the sum h, but sum.</li>\n<li>The while-condition is wrong</li>\n<li>Why do you use inp and j and i? </li>\n<li>There is an unconditional break - why?</li>\n<li>You talk about the average. Do you know what the average is? </li>\n<li>Your output message is not about average - it is about the sum. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325922675,"creation_date":1325922675,"answer_id":8768207,"question_id":8767549,"body_markdown":"Assuming that you asking the user only once, to enter and if the number if zero you simply want to display the average. you need a variable declared outside the while loop that will keep adding different numbers entered by the user, along with a second variable which track the number of cases entered by the user and keep incrementing itself by one till number is not zero as entered by the user. And as the user Enters 0, the loop will break and here our Average will be displayed.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class LoopAverage\r\n    {\r\n       \tpublic static void main(String[] args0)\r\n\t    {\r\n\t  \t   Scanner scan = new Scanner(System.in);\r\n\t\t   System.out.println(&quot;Enter any Integer value : &quot;);\r\n\t\t   int value = -1, sum = 0, count = 0;\r\n\t\t   while((value = scan.nextInt()) != 0)\r\n\t\t   {\r\n\t\t \t count++;\r\n\t\t\t sum = sum + value;\r\n\t\t   }\r\n\t\t   System.out.println(&quot;Average : &quot; + (sum / count));\r\n\t   }\r\n    }\r\n\r\nHope that might help,\r\n\r\nRegards","title":"Average of n numbers in java","body":"<p>Assuming that you asking the user only once, to enter and if the number if zero you simply want to display the average. you need a variable declared outside the while loop that will keep adding different numbers entered by the user, along with a second variable which track the number of cases entered by the user and keep incrementing itself by one till number is not zero as entered by the user. And as the user Enters 0, the loop will break and here our Average will be displayed.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class LoopAverage\n{\n    public static void main(String[] args0)\n    {\n       Scanner scan = new Scanner(System.in);\n       System.out.println(\"Enter any Integer value : \");\n       int value = -1, sum = 0, count = 0;\n       while((value = scan.nextInt()) != 0)\n       {\n         count++;\n         sum = sum + value;\n       }\n       System.out.println(\"Average : \" + (sum / count));\n   }\n}\n</code></pre>\n\n<p>Hope that might help,</p>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":453409,"reputation":797,"user_id":850379,"accept_rate":73,"display_name":"gebuh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325926429,"creation_date":1325926429,"answer_id":8768478,"question_id":8767549,"body_markdown":"yes, oodles of logical errors.\r\n\r\n - your while loop condition is wrong, you&#39;re consuming the first value\r\n   you enter and unless that number is 0 you never enter the loop at all\r\n - i var has no purpose\r\n - you&#39;re breaking after one iteration\r\n - you&#39;re not calculating a running total\r\n - you&#39;re not incrementing a count for the average dividend\r\n - you&#39;re not calculating an average\r\n - This looks like you threw some code together and posted it.  The most\r\n   glaring errors would have been found just by attempting to run it.\r\n\r\nSome other things to consider:\r\n\r\n - Make sure to check for divide by 0\r\n - If you do an integer division, you might end up with an incorrect\r\n   average, as it will be rounded.  Best to cast either the divisor or\r\n   dividend to a float\r\n - variable names should be helpful, get into the habit of using them","title":"Average of n numbers in java","body":"<p>yes, oodles of logical errors.</p>\n\n<ul>\n<li>your while loop condition is wrong, you're consuming the first value\nyou enter and unless that number is 0 you never enter the loop at all</li>\n<li>i var has no purpose</li>\n<li>you're breaking after one iteration</li>\n<li>you're not calculating a running total</li>\n<li>you're not incrementing a count for the average dividend</li>\n<li>you're not calculating an average</li>\n<li>This looks like you threw some code together and posted it.  The most\nglaring errors would have been found just by attempting to run it.</li>\n</ul>\n\n<p>Some other things to consider:</p>\n\n<ul>\n<li>Make sure to check for divide by 0</li>\n<li>If you do an integer division, you might end up with an incorrect\naverage, as it will be rounded.  Best to cast either the divisor or\ndividend to a float</li>\n<li>variable names should be helpful, get into the habit of using them</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1144124,"reputation":370,"user_id":1127270,"accept_rate":100,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325933087,"creation_date":1325933087,"answer_id":8769072,"question_id":8767549,"body_markdown":"I recommend you to refer to the condition of &quot;while&quot; loop: if condition meets, what would the program do?\r\n(If you know a little bit VB, what is the difference between do...until... and do...while...?)\r\n\r\nAlso, when you call scanner.nextInt(), what does the program do? For each input, how should you call it?\r\n\r\nLast but not least, when should you use &quot;break&quot; or &quot;continue&quot;?\r\n\r\nFor the fundamentals, if you are in a course, recommend you to understand the notes. Or you can find some good books explaining details of Java. e.g. Thinking in Java\r\n\r\nEnjoy learning Java.","title":"Average of n numbers in java","body":"<p>I recommend you to refer to the condition of \"while\" loop: if condition meets, what would the program do?\n(If you know a little bit VB, what is the difference between do...until... and do...while...?)</p>\n\n<p>Also, when you call scanner.nextInt(), what does the program do? For each input, how should you call it?</p>\n\n<p>Last but not least, when should you use \"break\" or \"continue\"?</p>\n\n<p>For the fundamentals, if you are in a course, recommend you to understand the notes. Or you can find some good books explaining details of Java. e.g. Thinking in Java</p>\n\n<p>Enjoy learning Java.</p>\n"}],"owner":{"account_id":1097675,"reputation":23,"user_id":1109475,"accept_rate":25,"display_name":"Bluetooth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4537,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":8,"score":1,"last_activity_date":1682928699,"creation_date":1325912942,"question_id":8767549,"body_markdown":"Using loop I want to calculate the average of n numbers in Java and when user enters 0 the loop ends.\r\nHere is the code that I have written:\r\n\r\n    public class start {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Enter an int value, the program exits if the input is 0&quot;);\r\n    \t\tScanner input = new Scanner (System.in);\r\n    \t\tint h = 0;\r\n    \t\twhile (input.nextInt() == 0){\r\n    \t\t\tint inp = input.nextInt();\r\n    \t\t    int j = inp;\r\n    \t\t\tint i = 0;\r\n    \t\t\th = j + i;\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\t\r\n    \t    System.out.println(&quot;The total is: &quot;+ h);\r\n    \t}\r\n    }\r\n\r\nAm I making any logical error?","title":"Average of n numbers in java","body":"<p>Using loop I want to calculate the average of n numbers in Java and when user enters 0 the loop ends.\nHere is the code that I have written:</p>\n\n<pre><code>public class start {\n    public static void main(String[] args) {\n        System.out.println(\"Enter an int value, the program exits if the input is 0\");\n        Scanner input = new Scanner (System.in);\n        int h = 0;\n        while (input.nextInt() == 0){\n            int inp = input.nextInt();\n            int j = inp;\n            int i = 0;\n            h = j + i;\n            break;\n        }\n\n        System.out.println(\"The total is: \"+ h);\n    }\n}\n</code></pre>\n\n<p>Am I making any logical error?</p>\n"},{"tags":["java","spring-boot","tomcat","ehcache"],"answers":[{"tags":[],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682928351,"creation_date":1682928351,"answer_id":76145514,"question_id":76060698,"body_markdown":"Removing\r\n\r\n```\r\n&lt;offheap unit=&quot;MB&quot;&gt;50&lt;/offheap&gt; \r\n```\r\n\r\nfrom ehcache.xml seems to resolve the issue.","title":"ehcache with &#39;attempted VM halt&#39; on re-deploy since upgrade to Tomcat 9","body":"<p>Removing</p>\n<pre><code>&lt;offheap unit=&quot;MB&quot;&gt;50&lt;/offheap&gt; \n</code></pre>\n<p>from ehcache.xml seems to resolve the issue.</p>\n"}],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682928351,"creation_date":1681966831,"question_id":76060698,"body_markdown":"We&#39;ve recently upgraded our Tomcat 8 to Tomcat 9.0.31. Since then, re-deploying our Spring Boot application brings down the entire JVM (it seems). The culprit seems to be ehCache, but I can&#39;t find any references, nobody else seems to be having the same problem.\r\n\r\nTomcat 9.0.31 is running two Spring Boot web applications (one for testing, one for demos), same application, but possibly on different versions. On the earlier Tomcat 8.5.47 version, re-deployments didn&#39;t cause any problem.\r\n\r\nThe error I get is\r\n\r\n```\r\n[2023-04-11 16:23:29] [info] 14:23:28.917 [ajp-nio-127.0.0.1-8009-exec-22] INFO ch.want.myapp.MyappApp - Starting MyappApp\r\n[2023-04-11 16:23:37] [info]   .   ____          _            __ _ _\r\n[2023-04-11 16:23:37] [info]  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n[2023-04-11 16:23:37] [info] ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n[2023-04-11 16:23:37] [info]  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n[2023-04-11 16:23:37] [info]   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n[2023-04-11 16:23:37] [info]  =========|_|==============|___/=/_/_/_/\r\n[2023-04-11 16:23:37] [info]  :: Spring Boot ::                (v2.4.2)\r\n[2023-04-11 16:32:04] [info] Pausing ProtocolHandler [&quot;http-nio-8089&quot;]\r\n[2023-04-11 16:32:05] [info] Pausing ProtocolHandler [&quot;https-openssl-nio-8443&quot;]\r\n[2023-04-11 16:32:05] [info] Pausing ProtocolHandler [&quot;ajp-nio-127.0.0.1-8009&quot;]\r\n[2023-04-11 16:32:05] [crit] Error deploying web application archive [/var/lib/tomcat9/webapps/purple.war]\r\n[2023-04-11 16:32:05] [crit] java.lang.IllegalStateException: Error starting child\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:720)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:977)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:493)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1641)\r\n[2023-04-11 16:32:05] [crit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[2023-04-11 16:32:05] [crit]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n[2023-04-11 16:32:05] [crit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[2023-04-11 16:32:05] [crit]     at java.lang.reflect.Method.invoke(Method.java:498)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\r\n[2023-04-11 16:32:05] [crit]     at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n[2023-04-11 16:32:05] [crit]     at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1590)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:846)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.manager.ManagerServlet.doPut(ManagerServlet.java:454)\r\n[2023-04-11 16:32:05] [crit]     at javax.servlet.http.HttpServlet.service(HttpServlet.java:663)\r\n[2023-04-11 16:32:05] [crit]     at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:666)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.coyote.ajp.AjpProcessor.service(AjpProcessor.java:415)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n[2023-04-11 16:32:05] [crit]     at java.lang.Thread.run(Thread.java:750)\r\n[2023-04-11 16:32:05] [crit] Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/purple]]\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\r\n[2023-04-11 16:32:05] [crit]     ... 39 more\r\n[2023-04-11 16:32:05] [crit] Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;adminToolsController&#39;: Unsatisfied dependency expressed through field &#39;cacheManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jCacheCacheManager&#39; defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.cache.CacheManager]: Factory method &#39;jCacheCacheManager&#39; threw exception; nested exception is org.ehcache.StateTransitionException: Cache &#39;getAccountSettingByState&#39; creation in EhcacheManager failed.\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:923)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.SpringApplication.run(SpringApplication.java:326)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:173)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:153)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:95)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\r\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n[2023-04-11 16:32:05] [crit]     ... 40 more\r\n[2023-04-11 16:32:05] [crit] Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jCacheCacheManager&#39; defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.cache.CacheManager]: Factory method &#39;jCacheCacheManager&#39; threw exception; nested exception is org.ehcache.StateTransitionException: Cache &#39;getAccountSettingByState&#39; creation in EhcacheManager failed.\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n[2023-04-11 16:32:05] [crit]     ... 63 more\r\n[2023-04-11 16:32:05] [crit] Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.cache.CacheManager]: Factory method &#39;jCacheCacheManager&#39; threw exception; nested exception is org.ehcache.StateTransitionException: Cache &#39;getAccountSettingByState&#39; creation in EhcacheManager failed.\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.ConstructorResolver.lambda$instantiate$2(ConstructorResolver.java:648)\r\n[2023-04-11 16:32:05] [crit]     at java.security.AccessController.doPrivileged(Native Method)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:647)\r\n[2023-04-11 16:32:05] [crit]     ... 76 more\r\n[2023-04-11 16:32:05] [crit] Caused by: org.ehcache.StateTransitionException: Cache &#39;getAccountSettingByState&#39; creation in EhcacheManager failed.\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.StatusTransitioner$Transition.failed(StatusTransitioner.java:235)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheManager.init(EhcacheManager.java:605)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.jsr107.EhcacheCachingProvider.createCacheManager(EhcacheCachingProvider.java:159)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.jsr107.EhcacheCachingProvider.getCacheManager(EhcacheCachingProvider.java:134)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.jsr107.EhcacheCachingProvider.getCacheManager(EhcacheCachingProvider.java:85)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.autoconfigure.cache.JCacheCacheConfiguration.createCacheManager(JCacheCacheConfiguration.java:101)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.autoconfigure.cache.JCacheCacheConfiguration.jCacheCacheManager(JCacheCacheConfiguration.java:83)\r\n[2023-04-11 16:32:05] [crit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[2023-04-11 16:32:05] [crit]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n[2023-04-11 16:32:05] [crit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[2023-04-11 16:32:05] [crit]     at java.lang.reflect.Method.invoke(Method.java:498)\r\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n[2023-04-11 16:32:05] [crit]     ... 79 more\r\n[2023-04-11 16:32:05] [crit] Caused by: java.lang.IllegalStateException: Cache &#39;getAccountSettingByState&#39; creation in EhcacheManager failed.\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheManager.createCache(EhcacheManager.java:302)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheManager.init(EhcacheManager.java:584)\r\n[2023-04-11 16:32:05] [crit]     ... 89 more\r\n[2023-04-11 16:32:05] [crit] Caused by: org.ehcache.StateTransitionException: java.util.concurrent.ExecutionException: java.lang.Error: attempted VM halt\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.StatusTransitioner$Transition.succeeded(StatusTransitioner.java:209)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheBase.init(EhcacheBase.java:569)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheManager.createCache(EhcacheManager.java:275)\r\n[2023-04-11 16:32:05] [crit]     ... 90 more\r\n[2023-04-11 16:32:05] [crit] Caused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.Error: attempted VM halt\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.uninterruptibleGet(UpfrontAllocatingPageSource.java:602)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.allocateBackingBuffers(UpfrontAllocatingPageSource.java:525)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.&lt;init&gt;(UpfrontAllocatingPageSource.java:152)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.&lt;init&gt;(UpfrontAllocatingPageSource.java:119)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.offheap.OffHeapStore.createBackingMap(OffHeapStore.java:103)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.offheap.OffHeapStore.access$500(OffHeapStore.java:69)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.offheap.OffHeapStore$Provider.init(OffHeapStore.java:222)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.offheap.OffHeapStore$Provider.initStore(OffHeapStore.java:218)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.offheap.OffHeapStore$Provider.initAuthoritativeTier(OffHeapStore.java:254)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.tiering.TieredStore$Provider.initStore(TieredStore.java:544)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheManager$7.init(EhcacheManager.java:509)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.StatusTransitioner.runInitHooks(StatusTransitioner.java:135)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.StatusTransitioner.access$000(StatusTransitioner.java:33)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.StatusTransitioner$Transition.succeeded(StatusTransitioner.java:194)\r\n[2023-04-11 16:32:05] [crit]     ... 92 more\r\n[2023-04-11 16:32:05] [crit] Caused by: java.util.concurrent.ExecutionException: java.lang.Error: attempted VM halt\r\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.uninterruptibleGet(UpfrontAllocatingPageSource.java:597)\r\n[2023-04-11 16:32:05] [crit]     ... 105 more\r\n[2023-04-11 16:32:05] [crit] Caused by: java.lang.Error: attempted VM halt\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.buffersource.TimingBufferSource.commitSuicide(TimingBufferSource.java:88)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.buffersource.TimingBufferSource.allocateBuffer(TimingBufferSource.java:51)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.bufferAllocation(UpfrontAllocatingPageSource.java:559)\r\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.lambda$allocateBackingBuffers$1(UpfrontAllocatingPageSource.java:513)\r\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n[2023-04-11 16:32:05] [crit]     ... 1 more\r\n[2023-04-11 16:32:05] [info] Deployment of web application archive [/var/lib/tomcat9/webapps/purple.war] has finished in [560,726] ms\r\n[2023-04-11 16:32:06] [info] Stopping service [Catalina]\r\n```\r\n\r\nThe ehcache (3.9.0) configuration is rather simple\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;config xmlns=&#39;http://www.ehcache.org/v3&#39;  \r\n    xmlns:xsi=&#39;http://www.w3.org/2001/XMLSchema-instance&#39;\r\n    xmlns:jsr107=&#39;http://www.ehcache.org/v3/jsr107&#39;&gt;  \r\n\r\n  &lt;service&gt;\r\n    &lt;jsr107:defaults enable-statistics=&quot;true&quot; /&gt;\r\n  &lt;/service&gt;\r\n\r\n  &lt;cache alias=&quot;countryByCode&quot; uses-template=&quot;staticDataCache&quot;/&gt;\r\n  &lt;cache alias=&quot;countrySearch&quot; uses-template=&quot;staticDataCache&quot;/&gt;\r\n  &lt;cache alias=&quot;locationByCode&quot; uses-template=&quot;staticDataCache&quot;/&gt;\r\n  &lt;cache alias=&quot;getBestFit&quot; uses-template=&quot;staticDataCache&quot;/&gt;\r\n  &lt;cache alias=&quot;PropertySecurityManager.unwriteableProperties&quot; uses-template=&quot;staticDataCache&quot;/&gt;\r\n  &lt;cache alias=&quot;PropertySecurityManager.serverSideProperties&quot; uses-template=&quot;staticDataCache&quot;/&gt;\r\n  \r\n  &lt;cache alias=&quot;getSystemSettings&quot; uses-template=&quot;oneDayCache&quot;/&gt;\r\n  &lt;cache alias=&quot;getSystemSettingsFeatures&quot; uses-template=&quot;oneDayCache&quot;/&gt;\r\n  &lt;cache alias=&quot;getSystemSettingsByKey&quot; uses-template=&quot;oneDayCache&quot;/&gt;\r\n  &lt;cache alias=&quot;getExchangeRate&quot; uses-template=&quot;oneDayCache&quot;/&gt;\r\n  \r\n  &lt;cache alias=&quot;loadUserByUsername&quot; uses-template=&quot;dynamicCache&quot;/&gt;\r\n  &lt;cache alias=&quot;getChildOrganizationUuids&quot; uses-template=&quot;dynamicCache&quot;/&gt;\r\n  &lt;cache alias=&quot;getParentOrganizationUuids&quot; uses-template=&quot;dynamicCache&quot;/&gt;\r\n  &lt;cache alias=&quot;getAllOrganizations&quot; uses-template=&quot;dynamicCache&quot;/&gt;\r\n  &lt;cache alias=&quot;getAccountSettingByState&quot; uses-template=&quot;dynamicCache&quot;/&gt;\r\n  &lt;cache alias=&quot;getAccountSettingByMetadata&quot; uses-template=&quot;dynamicCache&quot;/&gt;\r\n  &lt;cache alias=&quot;locationSearch&quot; uses-template=&quot;dynamicCache&quot;/&gt;\r\n  \r\n  &lt;cache-template name=&quot;staticDataCache&quot;&gt;\r\n  \t&lt;expiry&gt;\r\n      &lt;none /&gt;\r\n    &lt;/expiry&gt;\r\n    &lt;heap unit=&quot;entries&quot;&gt;100&lt;/heap&gt;\r\n  &lt;/cache-template&gt;\r\n  \r\n  &lt;cache-template name=&quot;oneDayCache&quot;&gt;\r\n    &lt;expiry&gt;\r\n      &lt;ttl unit=&quot;hours&quot;&gt;24&lt;/ttl&gt;\r\n    &lt;/expiry&gt;\r\n    &lt;heap unit=&quot;entries&quot;&gt;50&lt;/heap&gt;\r\n  &lt;/cache-template&gt;\r\n\r\n  &lt;cache-template name=&quot;dynamicCache&quot;&gt;\r\n  \t&lt;expiry&gt;\r\n      &lt;ttl unit=&quot;minutes&quot;&gt;10&lt;/ttl&gt;\r\n    &lt;/expiry&gt;\r\n    &lt;resources&gt;\r\n      &lt;heap unit=&quot;entries&quot;&gt;100&lt;/heap&gt; \r\n      &lt;offheap unit=&quot;MB&quot;&gt;50&lt;/offheap&gt; \r\n    &lt;/resources&gt;\r\n  &lt;/cache-template&gt;\r\n&lt;/config&gt;\r\n```\r\n\r\nBased on the fact that it only happens on re-deploy I assume the cause is somewhere in resources not being closed. If this is a known issue with ehCache + Tomcat9, there must be a bug report out there somewhere. ","title":"ehcache with &#39;attempted VM halt&#39; on re-deploy since upgrade to Tomcat 9","body":"<p>We've recently upgraded our Tomcat 8 to Tomcat 9.0.31. Since then, re-deploying our Spring Boot application brings down the entire JVM (it seems). The culprit seems to be ehCache, but I can't find any references, nobody else seems to be having the same problem.</p>\n<p>Tomcat 9.0.31 is running two Spring Boot web applications (one for testing, one for demos), same application, but possibly on different versions. On the earlier Tomcat 8.5.47 version, re-deployments didn't cause any problem.</p>\n<p>The error I get is</p>\n<pre><code>[2023-04-11 16:23:29] [info] 14:23:28.917 [ajp-nio-127.0.0.1-8009-exec-22] INFO ch.want.myapp.MyappApp - Starting MyappApp\n[2023-04-11 16:23:37] [info]   .   ____          _            __ _ _\n[2023-04-11 16:23:37] [info]  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n[2023-04-11 16:23:37] [info] ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n[2023-04-11 16:23:37] [info]  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n[2023-04-11 16:23:37] [info]   '  |____| .__|_| |_|_| |_\\__, | / / / /\n[2023-04-11 16:23:37] [info]  =========|_|==============|___/=/_/_/_/\n[2023-04-11 16:23:37] [info]  :: Spring Boot ::                (v2.4.2)\n[2023-04-11 16:32:04] [info] Pausing ProtocolHandler [&quot;http-nio-8089&quot;]\n[2023-04-11 16:32:05] [info] Pausing ProtocolHandler [&quot;https-openssl-nio-8443&quot;]\n[2023-04-11 16:32:05] [info] Pausing ProtocolHandler [&quot;ajp-nio-127.0.0.1-8009&quot;]\n[2023-04-11 16:32:05] [crit] Error deploying web application archive [/var/lib/tomcat9/webapps/purple.war]\n[2023-04-11 16:32:05] [crit] java.lang.IllegalStateException: Error starting child\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:720)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:977)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:493)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1641)\n[2023-04-11 16:32:05] [crit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[2023-04-11 16:32:05] [crit]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[2023-04-11 16:32:05] [crit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[2023-04-11 16:32:05] [crit]     at java.lang.reflect.Method.invoke(Method.java:498)\n[2023-04-11 16:32:05] [crit]     at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\n[2023-04-11 16:32:05] [crit]     at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n[2023-04-11 16:32:05] [crit]     at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1590)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:846)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.manager.ManagerServlet.doPut(ManagerServlet.java:454)\n[2023-04-11 16:32:05] [crit]     at javax.servlet.http.HttpServlet.service(HttpServlet.java:663)\n[2023-04-11 16:32:05] [crit]     at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n[2023-04-11 16:32:05] [crit]     at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:666)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n[2023-04-11 16:32:05] [crit]     at org.apache.coyote.ajp.AjpProcessor.service(AjpProcessor.java:415)\n[2023-04-11 16:32:05] [crit]     at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n[2023-04-11 16:32:05] [crit]     at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n[2023-04-11 16:32:05] [crit]     at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n[2023-04-11 16:32:05] [crit]     at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[2023-04-11 16:32:05] [crit]     at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n[2023-04-11 16:32:05] [crit]     at java.lang.Thread.run(Thread.java:750)\n[2023-04-11 16:32:05] [crit] Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/purple]]\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\n[2023-04-11 16:32:05] [crit]     ... 39 more\n[2023-04-11 16:32:05] [crit] Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminToolsController': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jCacheCacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.cache.CacheManager]: Factory method 'jCacheCacheManager' threw exception; nested exception is org.ehcache.StateTransitionException: Cache 'getAccountSettingByState' creation in EhcacheManager failed.\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\n[2023-04-11 16:32:05] [crit]     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:923)\n[2023-04-11 16:32:05] [crit]     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588)\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767)\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.SpringApplication.run(SpringApplication.java:326)\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:173)\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:153)\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:95)\n[2023-04-11 16:32:05] [crit]     at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\n[2023-04-11 16:32:05] [crit]     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n[2023-04-11 16:32:05] [crit]     ... 40 more\n[2023-04-11 16:32:05] [crit] Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jCacheCacheManager' defined in class path resource [org/springframework/boot/autoconfigure/cache/JCacheCacheConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.cache.CacheManager]: Factory method 'jCacheCacheManager' threw exception; nested exception is org.ehcache.StateTransitionException: Cache 'getAccountSettingByState' creation in EhcacheManager failed.\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\n[2023-04-11 16:32:05] [crit]     ... 63 more\n[2023-04-11 16:32:05] [crit] Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.cache.CacheManager]: Factory method 'jCacheCacheManager' threw exception; nested exception is org.ehcache.StateTransitionException: Cache 'getAccountSettingByState' creation in EhcacheManager failed.\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.ConstructorResolver.lambda$instantiate$2(ConstructorResolver.java:648)\n[2023-04-11 16:32:05] [crit]     at java.security.AccessController.doPrivileged(Native Method)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:647)\n[2023-04-11 16:32:05] [crit]     ... 76 more\n[2023-04-11 16:32:05] [crit] Caused by: org.ehcache.StateTransitionException: Cache 'getAccountSettingByState' creation in EhcacheManager failed.\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.StatusTransitioner$Transition.failed(StatusTransitioner.java:235)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheManager.init(EhcacheManager.java:605)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.jsr107.EhcacheCachingProvider.createCacheManager(EhcacheCachingProvider.java:159)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.jsr107.EhcacheCachingProvider.getCacheManager(EhcacheCachingProvider.java:134)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.jsr107.EhcacheCachingProvider.getCacheManager(EhcacheCachingProvider.java:85)\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.autoconfigure.cache.JCacheCacheConfiguration.createCacheManager(JCacheCacheConfiguration.java:101)\n[2023-04-11 16:32:05] [crit]     at org.springframework.boot.autoconfigure.cache.JCacheCacheConfiguration.jCacheCacheManager(JCacheCacheConfiguration.java:83)\n[2023-04-11 16:32:05] [crit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[2023-04-11 16:32:05] [crit]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[2023-04-11 16:32:05] [crit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[2023-04-11 16:32:05] [crit]     at java.lang.reflect.Method.invoke(Method.java:498)\n[2023-04-11 16:32:05] [crit]     at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n[2023-04-11 16:32:05] [crit]     ... 79 more\n[2023-04-11 16:32:05] [crit] Caused by: java.lang.IllegalStateException: Cache 'getAccountSettingByState' creation in EhcacheManager failed.\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheManager.createCache(EhcacheManager.java:302)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheManager.init(EhcacheManager.java:584)\n[2023-04-11 16:32:05] [crit]     ... 89 more\n[2023-04-11 16:32:05] [crit] Caused by: org.ehcache.StateTransitionException: java.util.concurrent.ExecutionException: java.lang.Error: attempted VM halt\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.StatusTransitioner$Transition.succeeded(StatusTransitioner.java:209)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheBase.init(EhcacheBase.java:569)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheManager.createCache(EhcacheManager.java:275)\n[2023-04-11 16:32:05] [crit]     ... 90 more\n[2023-04-11 16:32:05] [crit] Caused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.Error: attempted VM halt\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.uninterruptibleGet(UpfrontAllocatingPageSource.java:602)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.allocateBackingBuffers(UpfrontAllocatingPageSource.java:525)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.&lt;init&gt;(UpfrontAllocatingPageSource.java:152)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.&lt;init&gt;(UpfrontAllocatingPageSource.java:119)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.offheap.OffHeapStore.createBackingMap(OffHeapStore.java:103)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.offheap.OffHeapStore.access$500(OffHeapStore.java:69)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.offheap.OffHeapStore$Provider.init(OffHeapStore.java:222)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.offheap.OffHeapStore$Provider.initStore(OffHeapStore.java:218)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.offheap.OffHeapStore$Provider.initAuthoritativeTier(OffHeapStore.java:254)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.impl.internal.store.tiering.TieredStore$Provider.initStore(TieredStore.java:544)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.EhcacheManager$7.init(EhcacheManager.java:509)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.StatusTransitioner.runInitHooks(StatusTransitioner.java:135)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.StatusTransitioner.access$000(StatusTransitioner.java:33)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.core.StatusTransitioner$Transition.succeeded(StatusTransitioner.java:194)\n[2023-04-11 16:32:05] [crit]     ... 92 more\n[2023-04-11 16:32:05] [crit] Caused by: java.util.concurrent.ExecutionException: java.lang.Error: attempted VM halt\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.uninterruptibleGet(UpfrontAllocatingPageSource.java:597)\n[2023-04-11 16:32:05] [crit]     ... 105 more\n[2023-04-11 16:32:05] [crit] Caused by: java.lang.Error: attempted VM halt\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.buffersource.TimingBufferSource.commitSuicide(TimingBufferSource.java:88)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.buffersource.TimingBufferSource.allocateBuffer(TimingBufferSource.java:51)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.bufferAllocation(UpfrontAllocatingPageSource.java:559)\n[2023-04-11 16:32:05] [crit]     at org.ehcache.shadow.org.terracotta.offheapstore.paging.UpfrontAllocatingPageSource.lambda$allocateBackingBuffers$1(UpfrontAllocatingPageSource.java:513)\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[2023-04-11 16:32:05] [crit]     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[2023-04-11 16:32:05] [crit]     ... 1 more\n[2023-04-11 16:32:05] [info] Deployment of web application archive [/var/lib/tomcat9/webapps/purple.war] has finished in [560,726] ms\n[2023-04-11 16:32:06] [info] Stopping service [Catalina]\n</code></pre>\n<p>The ehcache (3.9.0) configuration is rather simple</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;config xmlns='http://www.ehcache.org/v3'  \n    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'\n    xmlns:jsr107='http://www.ehcache.org/v3/jsr107'&gt;  \n\n  &lt;service&gt;\n    &lt;jsr107:defaults enable-statistics=&quot;true&quot; /&gt;\n  &lt;/service&gt;\n\n  &lt;cache alias=&quot;countryByCode&quot; uses-template=&quot;staticDataCache&quot;/&gt;\n  &lt;cache alias=&quot;countrySearch&quot; uses-template=&quot;staticDataCache&quot;/&gt;\n  &lt;cache alias=&quot;locationByCode&quot; uses-template=&quot;staticDataCache&quot;/&gt;\n  &lt;cache alias=&quot;getBestFit&quot; uses-template=&quot;staticDataCache&quot;/&gt;\n  &lt;cache alias=&quot;PropertySecurityManager.unwriteableProperties&quot; uses-template=&quot;staticDataCache&quot;/&gt;\n  &lt;cache alias=&quot;PropertySecurityManager.serverSideProperties&quot; uses-template=&quot;staticDataCache&quot;/&gt;\n  \n  &lt;cache alias=&quot;getSystemSettings&quot; uses-template=&quot;oneDayCache&quot;/&gt;\n  &lt;cache alias=&quot;getSystemSettingsFeatures&quot; uses-template=&quot;oneDayCache&quot;/&gt;\n  &lt;cache alias=&quot;getSystemSettingsByKey&quot; uses-template=&quot;oneDayCache&quot;/&gt;\n  &lt;cache alias=&quot;getExchangeRate&quot; uses-template=&quot;oneDayCache&quot;/&gt;\n  \n  &lt;cache alias=&quot;loadUserByUsername&quot; uses-template=&quot;dynamicCache&quot;/&gt;\n  &lt;cache alias=&quot;getChildOrganizationUuids&quot; uses-template=&quot;dynamicCache&quot;/&gt;\n  &lt;cache alias=&quot;getParentOrganizationUuids&quot; uses-template=&quot;dynamicCache&quot;/&gt;\n  &lt;cache alias=&quot;getAllOrganizations&quot; uses-template=&quot;dynamicCache&quot;/&gt;\n  &lt;cache alias=&quot;getAccountSettingByState&quot; uses-template=&quot;dynamicCache&quot;/&gt;\n  &lt;cache alias=&quot;getAccountSettingByMetadata&quot; uses-template=&quot;dynamicCache&quot;/&gt;\n  &lt;cache alias=&quot;locationSearch&quot; uses-template=&quot;dynamicCache&quot;/&gt;\n  \n  &lt;cache-template name=&quot;staticDataCache&quot;&gt;\n    &lt;expiry&gt;\n      &lt;none /&gt;\n    &lt;/expiry&gt;\n    &lt;heap unit=&quot;entries&quot;&gt;100&lt;/heap&gt;\n  &lt;/cache-template&gt;\n  \n  &lt;cache-template name=&quot;oneDayCache&quot;&gt;\n    &lt;expiry&gt;\n      &lt;ttl unit=&quot;hours&quot;&gt;24&lt;/ttl&gt;\n    &lt;/expiry&gt;\n    &lt;heap unit=&quot;entries&quot;&gt;50&lt;/heap&gt;\n  &lt;/cache-template&gt;\n\n  &lt;cache-template name=&quot;dynamicCache&quot;&gt;\n    &lt;expiry&gt;\n      &lt;ttl unit=&quot;minutes&quot;&gt;10&lt;/ttl&gt;\n    &lt;/expiry&gt;\n    &lt;resources&gt;\n      &lt;heap unit=&quot;entries&quot;&gt;100&lt;/heap&gt; \n      &lt;offheap unit=&quot;MB&quot;&gt;50&lt;/offheap&gt; \n    &lt;/resources&gt;\n  &lt;/cache-template&gt;\n&lt;/config&gt;\n</code></pre>\n<p>Based on the fact that it only happens on re-deploy I assume the cause is somewhere in resources not being closed. If this is a known issue with ehCache + Tomcat9, there must be a bug report out there somewhere.</p>\n"},{"tags":["java","kubernetes","garbage-collection","heap-memory","g1gc"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1682328408,"post_id":76090228,"comment_id":134192123,"body_markdown":"IIRC, G1GC needs to be explicitly configured to return memory, so by default once it has claimed memory, it will hold on to it. There is obviously also the possibility that you have a memory leak, otherwise you wouldn&#39;t get a &quot;slowness&quot; (usually caused by excessive full GCs) leading to an OOM.","body":"IIRC, G1GC needs to be explicitly configured to return memory, so by default once it has claimed memory, it will hold on to it. There is obviously also the possibility that you have a memory leak, otherwise you wouldn&#39;t get a &quot;slowness&quot; (usually caused by excessive full GCs) leading to an OOM."},{"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"score":0,"creation_date":1682333711,"post_id":76090228,"comment_id":134193242,"body_markdown":"I dont think it has to be configured to return memory back to OS . as per this JEP https://openjdk.org/jeps/346 it will automatically do it","body":"I dont think it has to be configured to return memory back to OS . as per this JEP <a href=\"https://openjdk.org/jeps/346\" rel=\"nofollow noreferrer\">openjdk.org/jeps/346</a> it will automatically do it"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682333768,"post_id":76090228,"comment_id":134193250,"body_markdown":"Then you probably have a memory leak","body":"Then you probably have a memory leak"},{"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"score":0,"creation_date":1682334140,"post_id":76090228,"comment_id":134193322,"body_markdown":"memory leak i checked is not there in whats happening is memory release is happening very slowly i noticed for around 6-7 hrs the committed heap was high and shown on datadog too in","body":"memory leak i checked is not there in whats happening is memory release is happening very slowly i noticed for around 6-7 hrs the committed heap was high and shown on datadog too in"},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":1,"creation_date":1682457940,"post_id":76090228,"comment_id":134218519,"body_markdown":"idle GC has been implemented but is not necessarily enabled by default. `$ java -XX:+UseG1GC  -XX:+PrintFlagsFinal 2&gt;&amp;1 | grep G1PeriodicGCInterval\n    uintx G1PeriodicGCInterval                     = 0                                      {manageable} {default}\n`","body":"idle GC has been implemented but is not necessarily enabled by default. <code>$ java -XX:+UseG1GC  -XX:+PrintFlagsFinal 2&gt;&amp;1 | grep G1PeriodicGCInterval     uintx G1PeriodicGCInterval                     = 0                                      {manageable} {default} </code>"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682928228,"creation_date":1682326848,"question_id":76090228,"body_markdown":"I am running application in java17 on kubernetes with rollingUpdate deployment.\r\n\r\nThe JVM properties are as follows:\r\n\r\n            - name: InitialRAMPercentage\r\n              value: &#39;-XX:InitialRAMPercentage=40&#39;\r\n            - name: MaxRAMPercentage\r\n              value: &#39;-XX:MaxRAMPercentage=80&#39;\r\n            - name: GC_OPTS\r\n              value: &#39; -XX:+UseStringDeduplication -XX:CICompilerCount=10 -XX:ConcGCThreads=3 -XX:G1ConcRefinementThreads=6 -XX:ParallelGCThreads=10 -XX:MaxGCPauseMillis=500 -XX:InitiatingHeapOccupancyPercent=30&#39;\r\n            - name: JAVA_OPTS\r\n\r\nThe memory and CPU limits are set as \r\n\r\n              resources:\r\n            requests:\r\n              memory: &quot;10Gi&quot;\r\n              ephemeral-storage:  2Gi\r\n              cpu: 50m\r\n            limits:\r\n              memory: &quot;12Gi&quot;\r\n              ephemeral-storage:  5Gi\r\n              cpu: 5\r\n\r\nThe problem which is seen is that committed heap usage is becoming quite high memory is not getting evicted and returned back to OS, thats where eventually application is leading to slowness and eventually OOM.\r\n\r\nAny idea why is this happening in committed heap when seen using datadog is almost twice as heap usage in so lots of space jVM is reserving in for committed heap.\r\n\r\nCan you please suggest whats causing this set in config. \r\n\r\n","title":"java 17 on kubernetes committed heap not reducing in","body":"<p>I am running application in java17 on kubernetes with rollingUpdate deployment.</p>\n<p>The JVM properties are as follows:</p>\n<pre><code>        - name: InitialRAMPercentage\n          value: '-XX:InitialRAMPercentage=40'\n        - name: MaxRAMPercentage\n          value: '-XX:MaxRAMPercentage=80'\n        - name: GC_OPTS\n          value: ' -XX:+UseStringDeduplication -XX:CICompilerCount=10 -XX:ConcGCThreads=3 -XX:G1ConcRefinementThreads=6 -XX:ParallelGCThreads=10 -XX:MaxGCPauseMillis=500 -XX:InitiatingHeapOccupancyPercent=30'\n        - name: JAVA_OPTS\n</code></pre>\n<p>The memory and CPU limits are set as</p>\n<pre><code>          resources:\n        requests:\n          memory: &quot;10Gi&quot;\n          ephemeral-storage:  2Gi\n          cpu: 50m\n        limits:\n          memory: &quot;12Gi&quot;\n          ephemeral-storage:  5Gi\n          cpu: 5\n</code></pre>\n<p>The problem which is seen is that committed heap usage is becoming quite high memory is not getting evicted and returned back to OS, thats where eventually application is leading to slowness and eventually OOM.</p>\n<p>Any idea why is this happening in committed heap when seen using datadog is almost twice as heap usage in so lots of space jVM is reserving in for committed heap.</p>\n<p>Can you please suggest whats causing this set in config.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":3,"creation_date":1682926327,"post_id":76145362,"comment_id":134285035,"body_markdown":"It&#39;s a race condition. The daemon thread will not keep the application alive, but it isn&#39;t terminated immediately.","body":"It&#39;s a race condition. The daemon thread will not keep the application alive, but it isn&#39;t terminated immediately."},{"owner":{"account_id":18517249,"reputation":9,"user_id":13491127,"display_name":"Deepak kumar soni"},"score":0,"creation_date":1682926448,"post_id":76145362,"comment_id":134285051,"body_markdown":"@matt What does it mean?? I am just starting with it.","body":"@matt What does it mean?? I am just starting with it."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1682927125,"post_id":76145362,"comment_id":134285139,"body_markdown":"Essentially, you&#39;ve told java to start a thread, and it goes through the process of starting the thread, then the main loop finishes, and jvm starts to tear down. The thread you started starts doing what it has been instructed to do. By the time the jvm instructs the thread to stop, the thread might have done some work.","body":"Essentially, you&#39;ve told java to start a thread, and it goes through the process of starting the thread, then the main loop finishes, and jvm starts to tear down. The thread you started starts doing what it has been instructed to do. By the time the jvm instructs the thread to stop, the thread might have done some work."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1682928479,"post_id":76145362,"comment_id":134285280,"body_markdown":"@Mar-Z Did you not see `System.out.println(count++);` ?","body":"@Mar-Z Did you not see <code>System.out.println(count++);</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682927954,"creation_date":1682927954,"answer_id":76145487,"question_id":76145362,"body_markdown":"As said already in the comments, the observed behaviour is due to a race condition: who is faster – the main thread or the deamon thread?\r\n\r\nFor the CPU, the few milliseconds (or nanoseconds?) between the execution of `d.start()` and the end of `main()` are eons – not to mention that the main thread is probably suspended after the execution of `d.start()`. This may give the deamon thread enough time to terminate *regularly* before it will be killed in the second case. \r\n\r\nIn case of the `while` loop, the thread may be suspended itself after the first `System.out.println` and then it will be killed while suspended, because the program is terminated. Obviously the buffers for `System.out` will not be flushed before the termination of the program (although `println()` should flush always).\r\n\r\nBut it is always difficult to say exactly when a task switch occurs; maybe you get some output even from the while loop when you just try often enough.","title":"Daemon thread with loop in Java","body":"<p>As said already in the comments, the observed behaviour is due to a race condition: who is faster – the main thread or the deamon thread?</p>\n<p>For the CPU, the few milliseconds (or nanoseconds?) between the execution of <code>d.start()</code> and the end of <code>main()</code> are eons – not to mention that the main thread is probably suspended after the execution of <code>d.start()</code>. This may give the deamon thread enough time to terminate <em>regularly</em> before it will be killed in the second case.</p>\n<p>In case of the <code>while</code> loop, the thread may be suspended itself after the first <code>System.out.println</code> and then it will be killed while suspended, because the program is terminated. Obviously the buffers for <code>System.out</code> will not be flushed before the termination of the program (although <code>println()</code> should flush always).</p>\n<p>But it is always difficult to say exactly when a task switch occurs; maybe you get some output even from the while loop when you just try often enough.</p>\n"}],"owner":{"account_id":18517249,"reputation":9,"user_id":13491127,"display_name":"Deepak kumar soni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682927954,"creation_date":1682926217,"question_id":76145362,"body_markdown":"As soon as the main() thread ends then the Daemon thread should also end. In the case of simple if-else, it is printing the value but in the case of a while loop, it is not printing any value.\r\n\r\nIn both cases, it shouldn&#39;t print anything because the main() thread ends so the Daemon thread shouldn&#39;t execute.\r\n\r\n```\r\nclass MyThread extends Thread{\r\n    public void run(){\r\n        // In case of while loop it is not printing anything\r\n        /*\r\n        int count = 1;\r\n        while(count&lt;=20){\r\n            System.out.println(count++);\r\n        }\r\n        */\r\n\r\n        //In this case it is printing &quot;It is Daemon&quot;  WHY ???\r\n        if(Thread.currentThread().isDaemon()){\r\n            System.out.println(&quot;It is Daemon&quot;);\r\n        }else{\r\n            System.out.println(&quot;it is not Daemon&quot;);\r\n        }\r\n    }\r\n}\r\npublic class Main {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        MyThread d = new MyThread();\r\n        d.setDaemon(true);\r\n        d.start();\r\n    }\r\n}\r\n```\r\nWhy it is working differently in both cases ??\r\n\r\n\r\nNot able to understand why it is working different in both the cases ","title":"Daemon thread with loop in Java","body":"<p>As soon as the main() thread ends then the Daemon thread should also end. In the case of simple if-else, it is printing the value but in the case of a while loop, it is not printing any value.</p>\n<p>In both cases, it shouldn't print anything because the main() thread ends so the Daemon thread shouldn't execute.</p>\n<pre><code>class MyThread extends Thread{\n    public void run(){\n        // In case of while loop it is not printing anything\n        /*\n        int count = 1;\n        while(count&lt;=20){\n            System.out.println(count++);\n        }\n        */\n\n        //In this case it is printing &quot;It is Daemon&quot;  WHY ???\n        if(Thread.currentThread().isDaemon()){\n            System.out.println(&quot;It is Daemon&quot;);\n        }else{\n            System.out.println(&quot;it is not Daemon&quot;);\n        }\n    }\n}\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        MyThread d = new MyThread();\n        d.setDaemon(true);\n        d.start();\n    }\n}\n</code></pre>\n<p>Why it is working differently in both cases ??</p>\n<p>Not able to understand why it is working different in both the cases</p>\n"},{"tags":["java","apache-camel"],"owner":{"account_id":15856667,"reputation":1,"user_id":11440899,"display_name":"Seazor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682927854,"creation_date":1682515240,"question_id":76111258,"body_markdown":"I&#39;m in migration of a program Came 2.25 to 3.20.4, and there is something i can&#39;t fix.\r\n\r\nIt seems like camel-spring-main &amp; addRoutesBuilder can&#39;t work together...\r\n\r\nspringcontext.xml\r\n```\r\n&lt;camel:camelContext id=&quot;camel&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\r\n&lt;/camel:camelContext&gt;\r\n```\r\n\r\nMyMain.java (part)\r\n```\r\n    public static void main(String[] args) throws Exception {\r\n        Main main = new org.apache.camel.spring.Main();\r\n        main.setApplicationContextUri(&quot;springcontext.xml&quot;);\r\n        main.configure().addRoutesBuilder(new Route1());\r\n        main.configure().addRoutesBuilder(new Route2());\r\n        if (condition3)\r\n            main.configure().addRoutesBuilder(new Route3());\r\n        if (condition4)\r\n            main.configure().addRoutesBuilder(new Route4());\r\n        main.run();\r\n```\r\n\r\nBehavior with 2.25 : the log says `Total 0 routes, of which 0 are started` and just after, i see the routes in my classes Route1..Route4 start (seen by `Route: Route1 started and consuming from:...` ) &lt;br&gt;and only the wanted routes depending on the conditions.\r\n\r\nBehavior with 3.20.4 : when i start my app, i see `Routes startup (started:0)`, and nothing after that.\r\n\r\nI also tested to add `&lt;packageScan&gt;` in the camelContext, With that, all the routes starts OK, but no conditions possible...\r\n\r\nHow can i have a situation like old 2.25 ?\r\n","title":"camel 3 : addRoutesBuilder &amp; spring-main incompatible?","body":"<p>I'm in migration of a program Came 2.25 to 3.20.4, and there is something i can't fix.</p>\n<p>It seems like camel-spring-main &amp; addRoutesBuilder can't work together...</p>\n<p>springcontext.xml</p>\n<pre><code>&lt;camel:camelContext id=&quot;camel&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\n&lt;/camel:camelContext&gt;\n</code></pre>\n<p>MyMain.java (part)</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        Main main = new org.apache.camel.spring.Main();\n        main.setApplicationContextUri(&quot;springcontext.xml&quot;);\n        main.configure().addRoutesBuilder(new Route1());\n        main.configure().addRoutesBuilder(new Route2());\n        if (condition3)\n            main.configure().addRoutesBuilder(new Route3());\n        if (condition4)\n            main.configure().addRoutesBuilder(new Route4());\n        main.run();\n</code></pre>\n<p>Behavior with 2.25 : the log says <code>Total 0 routes, of which 0 are started</code> and just after, i see the routes in my classes Route1..Route4 start (seen by <code>Route: Route1 started and consuming from:...</code> ) <br>and only the wanted routes depending on the conditions.</p>\n<p>Behavior with 3.20.4 : when i start my app, i see <code>Routes startup (started:0)</code>, and nothing after that.</p>\n<p>I also tested to add <code>&lt;packageScan&gt;</code> in the camelContext, With that, all the routes starts OK, but no conditions possible...</p>\n<p>How can i have a situation like old 2.25 ?</p>\n"},{"tags":["java","swing","user-interface","jscrollpane","jlist"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682922186,"post_id":76144814,"comment_id":134284620,"body_markdown":"I just want to point out the obvious that *&quot;only three of those items need to be visible&quot;* is problematic, as the first three values might be larger or smaller then the following items or with different data you&#39;ll get different, and sometimes, results","body":"I just want to point out the obvious that <i>&quot;only three of those items need to be visible&quot;</i> is problematic, as the first three values might be larger or smaller then the following items or with different data you&#39;ll get different, and sometimes, results"},{"owner":{"account_id":28468602,"reputation":13,"user_id":21784270,"display_name":"Obaraten64"},"score":0,"creation_date":1682922719,"post_id":76144814,"comment_id":134284676,"body_markdown":"@Abra, of course i tried setVisibleRowCount it is shown in my code. however, this method works vertically but not horizontally","body":"@Abra, of course i tried setVisibleRowCount it is shown in my code. however, this method works vertically but not horizontally"},{"owner":{"account_id":28468602,"reputation":13,"user_id":21784270,"display_name":"Obaraten64"},"score":0,"creation_date":1682923335,"post_id":76144814,"comment_id":134284731,"body_markdown":"@MadProgrammer, yeah I undestand, but if I don&#39;t scale down to at least about that amount i end up with a long line of items all the way to the end of the screen as shown in the second image","body":"@MadProgrammer, yeah I undestand, but if I don&#39;t scale down to at least about that amount i end up with a long line of items all the way to the end of the screen as shown in the second image"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682924347,"creation_date":1682924347,"answer_id":76145227,"question_id":76144814,"body_markdown":"I just want to point out the obvious that *&quot;only three of those items need to be visible&quot;* is problematic, as the first three values might be larger or smaller then the following items or with different data you&#39;ll get different, and sometimes, weird results.\r\n\r\nDo we make use of a &quot;prototype&quot; value, the model&#39;s first element or try and get the first `n` items from the model to calculate the &quot;desirable viewable width&quot;?  What happens when the model contains less then `n` elements or no elements at all?\r\n\r\nThe point is, there&#39;s a &quot;lot&quot; to think about.  If you just want to reduce the horizontal size of the component, you could just override the `getPreferredScrollableViewportSize` and return a &quot;desirable&quot; width based on you needs, but just remember that this not likely to be `n` columns.\r\n\r\nThe following example basically demonstrates this concept (as best as I can without trying to figure out each and every possible edge case).\r\n\r\nIt extends `JList` and overrides the `getPreferredScrollableViewportSize` method.\r\n\r\n* if the `visibleColumnCount` is 0 or less, it will operate as normal\r\n* If the `fixedCellWidth` is defined, this is multiplied by `visibleColumnCount`\r\n* If the `prototypeCellValue` is set, the rendered values width is multiplied by `visibleColumnCount`\r\n* If the mode doesn&#39;t contain any elements, then we &quot;guess&quot; and use a default width of `256` (just pick a number)\r\n* If the number of elements is less then `visibleColumnCount`, it sums the preferred width of each element, averages the amount and fills in the remaining columns with the average ... if that sounds confusing, you should have tried coming up with it &#128563;\r\n* Otherwise, we take the first `n` columns and calculate their preferred widths\r\n\r\nFor example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.util.Vector;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.ListModel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                String[] items = {&quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;, &quot;Item 4&quot;, &quot;Item 5&quot;, &quot;Item 6&quot;, &quot;Item 7&quot;, &quot;Item 8&quot;, &quot;Item 9&quot;, &quot;Item 10&quot;};\r\n                FixedColumnWidthList&lt;String&gt; list = new FixedColumnWidthList&lt;&gt;(items);\r\n                list.setVisibleColumnCount(3);\r\n\r\n                JScrollPane scrollPane = new JScrollPane(list);\r\n                add(scrollPane);\r\n            }\r\n        }\r\n\r\n        public class FixedColumnWidthList&lt;T&gt; extends JList&lt;T&gt; {\r\n\r\n            private int visibleColumnCount = -1;\r\n\r\n            public FixedColumnWidthList() {\r\n                configureDefaults();\r\n            }\r\n\r\n            public FixedColumnWidthList(ListModel&lt;T&gt; dataModel) {\r\n                super(dataModel);\r\n                configureDefaults();\r\n            }\r\n\r\n            public FixedColumnWidthList(T[] listData) {\r\n                super(listData);\r\n                configureDefaults();\r\n            }\r\n\r\n            public FixedColumnWidthList(Vector&lt;T&gt; listData) {\r\n                super(listData);\r\n                configureDefaults();\r\n            }\r\n\r\n            protected void configureDefaults() {\r\n                setLayoutOrientation(JList.HORIZONTAL_WRAP);\r\n                setVisibleRowCount(1);\r\n            }\r\n\r\n            public int getVisibleColumnCount() {\r\n                return visibleColumnCount;\r\n            }\r\n\r\n            public void setVisibleColumnCount(int visibleColumnCount) {\r\n                if (this.visibleColumnCount == visibleColumnCount) {\r\n                    return;\r\n                }\r\n                this.visibleColumnCount = visibleColumnCount;\r\n                revalidate();\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredScrollableViewportSize() {\r\n                int visibleColumnCount = getVisibleColumnCount();\r\n                Dimension original = super.getPreferredScrollableViewportSize();\r\n                if (visibleColumnCount &lt;= 0) {\r\n                    return original;\r\n                }\r\n                ListModel&lt;T&gt; model = getModel();\r\n                int desirableWidth = getFixedCellWidth();\r\n                if (desirableWidth &lt;= 0) {\r\n                    T testValue = getPrototypeCellValue();\r\n                    if (testValue != null) {\r\n                        desirableWidth = getCellRenderer().getListCellRendererComponent(this, testValue, 0, false, false).getPreferredSize().width;\r\n                        desirableWidth *= visibleColumnCount;\r\n                    } else if (getModel().getSize() == 0) {\r\n                        desirableWidth = 256; // Just pick a number :/\r\n                    } else {\r\n                        desirableWidth = 0;\r\n                        // You could, instead, just take the first value and mutiply\r\n                        // it&#39;s rendered width by the number of visible columns,\r\n                        // but this could mean you&#39;re not actually getting the\r\n                        // first three columns ... but this whole thing is a bag\r\n                        // of ambiguity\r\n                        for (int column = 0; column &lt; visibleColumnCount &amp;&amp; column &lt; model.getSize(); column++) {\r\n                            int width = getCellRenderer().getListCellRendererComponent(this, model.getElementAt(column), column, false, false).getPreferredSize().width;\r\n                            System.out.println(column + &quot; = &quot; + width);\r\n                            desirableWidth += width;\r\n                        }\r\n                        // I can&#39;t find the &quot;horizontal insets&quot;, so I&#39;m guessing...\r\n                        desirableWidth += (8 * (visibleColumnCount - 1));\r\n                        // If we have less data then visible columns, just\r\n                        // average the available information and multiply it by\r\n                        // the remaining number of columns as a guess\r\n                        if (visibleColumnCount &gt; model.getSize()) {\r\n                            int averageWidth = desirableWidth / model.getSize();\r\n                            desirableWidth += (visibleColumnCount - model.getSize());\r\n                        }\r\n                    }\r\n                } else {\r\n                    desirableWidth *= visibleColumnCount;\r\n                }\r\n\r\n                return new Dimension(desirableWidth, original.height);\r\n            }\r\n        }\r\n    }\r\n\r\nI should not that the JavaDocs talk about *&quot;horizontal insets&quot;* but I can&#39;t find anywhere that it&#39;s accessible/available, so I made a guess.  I suspect that this is probably a UI delegate option, so if you really want to make use of this example, I&#39;d encourage you to experiment with it.\r\n\r\nNow, having said all this, just override the `getPreferredScrollableViewportSize` method and return a `width` which otherwise meets your desirable result, messing about with &quot;visible columns&quot; is ambiguous and problematic\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qxMi5.png","title":"JList - Horizontal list, visible amount of values","body":"<p>I just want to point out the obvious that <em>&quot;only three of those items need to be visible&quot;</em> is problematic, as the first three values might be larger or smaller then the following items or with different data you'll get different, and sometimes, weird results.</p>\n<p>Do we make use of a &quot;prototype&quot; value, the model's first element or try and get the first <code>n</code> items from the model to calculate the &quot;desirable viewable width&quot;?  What happens when the model contains less then <code>n</code> elements or no elements at all?</p>\n<p>The point is, there's a &quot;lot&quot; to think about.  If you just want to reduce the horizontal size of the component, you could just override the <code>getPreferredScrollableViewportSize</code> and return a &quot;desirable&quot; width based on you needs, but just remember that this not likely to be <code>n</code> columns.</p>\n<p>The following example basically demonstrates this concept (as best as I can without trying to figure out each and every possible edge case).</p>\n<p>It extends <code>JList</code> and overrides the <code>getPreferredScrollableViewportSize</code> method.</p>\n<ul>\n<li>if the <code>visibleColumnCount</code> is 0 or less, it will operate as normal</li>\n<li>If the <code>fixedCellWidth</code> is defined, this is multiplied by <code>visibleColumnCount</code></li>\n<li>If the <code>prototypeCellValue</code> is set, the rendered values width is multiplied by <code>visibleColumnCount</code></li>\n<li>If the mode doesn't contain any elements, then we &quot;guess&quot; and use a default width of <code>256</code> (just pick a number)</li>\n<li>If the number of elements is less then <code>visibleColumnCount</code>, it sums the preferred width of each element, averages the amount and fills in the remaining columns with the average ... if that sounds confusing, you should have tried coming up with it 😳</li>\n<li>Otherwise, we take the first <code>n</code> columns and calculate their preferred widths</li>\n</ul>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/qxMi5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qxMi5.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.util.Vector;\nimport javax.swing.JFrame;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.ListModel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new BorderLayout());\n            String[] items = {&quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;, &quot;Item 4&quot;, &quot;Item 5&quot;, &quot;Item 6&quot;, &quot;Item 7&quot;, &quot;Item 8&quot;, &quot;Item 9&quot;, &quot;Item 10&quot;};\n            FixedColumnWidthList&lt;String&gt; list = new FixedColumnWidthList&lt;&gt;(items);\n            list.setVisibleColumnCount(3);\n\n            JScrollPane scrollPane = new JScrollPane(list);\n            add(scrollPane);\n        }\n    }\n\n    public class FixedColumnWidthList&lt;T&gt; extends JList&lt;T&gt; {\n\n        private int visibleColumnCount = -1;\n\n        public FixedColumnWidthList() {\n            configureDefaults();\n        }\n\n        public FixedColumnWidthList(ListModel&lt;T&gt; dataModel) {\n            super(dataModel);\n            configureDefaults();\n        }\n\n        public FixedColumnWidthList(T[] listData) {\n            super(listData);\n            configureDefaults();\n        }\n\n        public FixedColumnWidthList(Vector&lt;T&gt; listData) {\n            super(listData);\n            configureDefaults();\n        }\n\n        protected void configureDefaults() {\n            setLayoutOrientation(JList.HORIZONTAL_WRAP);\n            setVisibleRowCount(1);\n        }\n\n        public int getVisibleColumnCount() {\n            return visibleColumnCount;\n        }\n\n        public void setVisibleColumnCount(int visibleColumnCount) {\n            if (this.visibleColumnCount == visibleColumnCount) {\n                return;\n            }\n            this.visibleColumnCount = visibleColumnCount;\n            revalidate();\n            repaint();\n        }\n\n        @Override\n        public Dimension getPreferredScrollableViewportSize() {\n            int visibleColumnCount = getVisibleColumnCount();\n            Dimension original = super.getPreferredScrollableViewportSize();\n            if (visibleColumnCount &lt;= 0) {\n                return original;\n            }\n            ListModel&lt;T&gt; model = getModel();\n            int desirableWidth = getFixedCellWidth();\n            if (desirableWidth &lt;= 0) {\n                T testValue = getPrototypeCellValue();\n                if (testValue != null) {\n                    desirableWidth = getCellRenderer().getListCellRendererComponent(this, testValue, 0, false, false).getPreferredSize().width;\n                    desirableWidth *= visibleColumnCount;\n                } else if (getModel().getSize() == 0) {\n                    desirableWidth = 256; // Just pick a number :/\n                } else {\n                    desirableWidth = 0;\n                    // You could, instead, just take the first value and mutiply\n                    // it's rendered width by the number of visible columns,\n                    // but this could mean you're not actually getting the\n                    // first three columns ... but this whole thing is a bag\n                    // of ambiguity\n                    for (int column = 0; column &lt; visibleColumnCount &amp;&amp; column &lt; model.getSize(); column++) {\n                        int width = getCellRenderer().getListCellRendererComponent(this, model.getElementAt(column), column, false, false).getPreferredSize().width;\n                        System.out.println(column + &quot; = &quot; + width);\n                        desirableWidth += width;\n                    }\n                    // I can't find the &quot;horizontal insets&quot;, so I'm guessing...\n                    desirableWidth += (8 * (visibleColumnCount - 1));\n                    // If we have less data then visible columns, just\n                    // average the available information and multiply it by\n                    // the remaining number of columns as a guess\n                    if (visibleColumnCount &gt; model.getSize()) {\n                        int averageWidth = desirableWidth / model.getSize();\n                        desirableWidth += (visibleColumnCount - model.getSize());\n                    }\n                }\n            } else {\n                desirableWidth *= visibleColumnCount;\n            }\n\n            return new Dimension(desirableWidth, original.height);\n        }\n    }\n}\n</code></pre>\n<p>I should not that the JavaDocs talk about <em>&quot;horizontal insets&quot;</em> but I can't find anywhere that it's accessible/available, so I made a guess.  I suspect that this is probably a UI delegate option, so if you really want to make use of this example, I'd encourage you to experiment with it.</p>\n<p>Now, having said all this, just override the <code>getPreferredScrollableViewportSize</code> method and return a <code>width</code> which otherwise meets your desirable result, messing about with &quot;visible columns&quot; is ambiguous and problematic</p>\n"}],"owner":{"account_id":28468602,"reputation":13,"user_id":21784270,"display_name":"Obaraten64"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76145227,"answer_count":1,"score":1,"last_activity_date":1682927745,"creation_date":1682917370,"question_id":76144814,"body_markdown":"I&#39;m trying to create a horizontal JList with seven items inside a JScrollPane and only three of those items need to be visible and the others accessible via a scrollbar. Here&#39;s an example of what I&#39;m trying to do:\r\n\r\n[![image of desired result][1]][1]\r\n\r\nThis is what I tried to do:\r\n\r\n```\r\n        JFrame frame = new JFrame(&quot;JList Example&quot;);\r\n\r\n        String[] items = {&quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;, &quot;Item 4&quot;, &quot;Item 5&quot;, &quot;Item 6&quot;, &quot;Item 7&quot;, &quot;Item 8&quot;, &quot;Item 9&quot;, &quot;Item 10&quot;};\r\n        JList&lt;String&gt; list = new JList&lt;&gt;(items);\r\n        list.setLayoutOrientation(JList.HORIZONTAL_WRAP);\r\n        list.setVisibleRowCount(1);\r\n\r\n        JScrollPane scrollPane = new JScrollPane(list);\r\n        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n\r\n        frame.add(scrollPane);\r\n```\r\nAnd this is what I got:\r\n\r\n[![Image of actual result][2]][2]\r\n\r\nSo I can&#39;t find a way to limit the number of visible items other than one way to setPreferredSize of the JScrollPane. Which is not a very good way as described [here](https://stackoverflow.com/questions/26826365/why-setting-setpreferredsize-on-jframe-is-bad), and it doesn&#39;t really work for me. Is there another way to do what I want?\r\n\r\n\r\nP.S. I&#39;m not good at English, so sorry if you misunderstood what I want. Trying my best\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/huOBw.png\r\n  [2]: https://i.stack.imgur.com/eGmwH.png","title":"JList - Horizontal list, visible amount of values","body":"<p>I'm trying to create a horizontal JList with seven items inside a JScrollPane and only three of those items need to be visible and the others accessible via a scrollbar. Here's an example of what I'm trying to do:</p>\n<p><a href=\"https://i.stack.imgur.com/huOBw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/huOBw.png\" alt=\"image of desired result\" /></a></p>\n<p>This is what I tried to do:</p>\n<pre><code>        JFrame frame = new JFrame(&quot;JList Example&quot;);\n\n        String[] items = {&quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;, &quot;Item 4&quot;, &quot;Item 5&quot;, &quot;Item 6&quot;, &quot;Item 7&quot;, &quot;Item 8&quot;, &quot;Item 9&quot;, &quot;Item 10&quot;};\n        JList&lt;String&gt; list = new JList&lt;&gt;(items);\n        list.setLayoutOrientation(JList.HORIZONTAL_WRAP);\n        list.setVisibleRowCount(1);\n\n        JScrollPane scrollPane = new JScrollPane(list);\n        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n\n        frame.add(scrollPane);\n</code></pre>\n<p>And this is what I got:</p>\n<p><a href=\"https://i.stack.imgur.com/eGmwH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eGmwH.png\" alt=\"Image of actual result\" /></a></p>\n<p>So I can't find a way to limit the number of visible items other than one way to setPreferredSize of the JScrollPane. Which is not a very good way as described <a href=\"https://stackoverflow.com/questions/26826365/why-setting-setpreferredsize-on-jframe-is-bad\">here</a>, and it doesn't really work for me. Is there another way to do what I want?</p>\n<p>P.S. I'm not good at English, so sorry if you misunderstood what I want. Trying my best</p>\n"},{"tags":["java","intellij-idea","junit5"],"answers":[{"tags":[],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682927706,"creation_date":1682927706,"answer_id":76145471,"question_id":76143045,"body_markdown":"One way of migration multiple Junit4 tests to Junit5 is [OpenRewrite][1].\r\n\r\nIt will have multiple predefined recipes for common tasks like [ Migrating Junit4 to Junit5][2].\r\n\r\nIf you have a maven project without spring, you can add the following to your `pom.xml`.\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;4.44.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;activeRecipes&gt;\r\n                &lt;recipe&gt;org.openrewrite.java.testing.junit5.JUnit5BestPractices&lt;/recipe&gt;\r\n            &lt;/activeRecipes&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n              &lt;artifactId&gt;rewrite-testing-frameworks&lt;/artifactId&gt;\r\n              &lt;version&gt;1.36.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nQuick explanation:\r\n\r\n    &lt;activeRecipes&gt;\r\n       &lt;recipe&gt;org.openrewrite.java.testing.junit5.JUnit5BestPractices&lt;/recipe&gt;\r\n    &lt;/activeRecipes&gt;\r\n\r\nThis part activates the rewrite junit recipe, which is in the dependency `org.openrewrite.recipe:rewrite-testing-frameworks`.\r\n\r\nIf you are using Spring or Spring-Boot you will need the active recipe `org.openrewrite.java.spring.boot2.SpringBoot2JUnit4to5Migration` and the following dependency.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rewrite-spring&lt;/artifactId&gt;\r\n      &lt;version&gt;4.35.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nIf you are using Gradle, you should check out the [offical documenation][2].\r\n\r\nVia `mvn rewrite:dryRun` you can see the results in a `.patch` file.\r\n\r\nVia `mvn rewrite:run` the migration will be done. If you have a VCS, you can always run without doing a dry run, because you can see the diff in your VCS&#39; diff tool. \r\n\r\n\r\n  [1]: https://docs.openrewrite.org\r\n  [2]: https://docs.openrewrite.org/running-recipes/popular-recipe-guides/migrate-from-junit-4-to-junit-5","title":"How do you create a Live Template for Assertions.assertThrows?","body":"<p>One way of migration multiple Junit4 tests to Junit5 is <a href=\"https://docs.openrewrite.org\" rel=\"nofollow noreferrer\">OpenRewrite</a>.</p>\n<p>It will have multiple predefined recipes for common tasks like <a href=\"https://docs.openrewrite.org/running-recipes/popular-recipe-guides/migrate-from-junit-4-to-junit-5\" rel=\"nofollow noreferrer\"> Migrating Junit4 to Junit5</a>.</p>\n<p>If you have a maven project without spring, you can add the following to your <code>pom.xml</code>.</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;4.44.0&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;activeRecipes&gt;\n            &lt;recipe&gt;org.openrewrite.java.testing.junit5.JUnit5BestPractices&lt;/recipe&gt;\n        &lt;/activeRecipes&gt;\n      &lt;/configuration&gt;\n      &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n          &lt;artifactId&gt;rewrite-testing-frameworks&lt;/artifactId&gt;\n          &lt;version&gt;1.36.0&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Quick explanation:</p>\n<pre><code>&lt;activeRecipes&gt;\n   &lt;recipe&gt;org.openrewrite.java.testing.junit5.JUnit5BestPractices&lt;/recipe&gt;\n&lt;/activeRecipes&gt;\n</code></pre>\n<p>This part activates the rewrite junit recipe, which is in the dependency <code>org.openrewrite.recipe:rewrite-testing-frameworks</code>.</p>\n<p>If you are using Spring or Spring-Boot you will need the active recipe <code>org.openrewrite.java.spring.boot2.SpringBoot2JUnit4to5Migration</code> and the following dependency.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n  &lt;artifactId&gt;rewrite-spring&lt;/artifactId&gt;\n  &lt;version&gt;4.35.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you are using Gradle, you should check out the <a href=\"https://docs.openrewrite.org/running-recipes/popular-recipe-guides/migrate-from-junit-4-to-junit-5\" rel=\"nofollow noreferrer\">offical documenation</a>.</p>\n<p>Via <code>mvn rewrite:dryRun</code> you can see the results in a <code>.patch</code> file.</p>\n<p>Via <code>mvn rewrite:run</code> the migration will be done. If you have a VCS, you can always run without doing a dry run, because you can see the diff in your VCS' diff tool.</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76145471,"answer_count":1,"score":4,"last_activity_date":1682927706,"creation_date":1682881536,"question_id":76143045,"body_markdown":"I am converting somewhere around 1000 JUnit tests with \r\n\r\n```\r\n@Test(expected=SomeException.class)\r\npublic void testIt() throws SomeException {\r\n  doSomeStuff();\r\n}\r\n```\r\n\r\nto JUnit Jupiter API&#39;s \r\n\r\n```\r\n@Test\r\nvoid testIt() {\r\n  Assertions.assertThrows(SomeException.class, () -&gt; {\r\n    doSomeStuff();    \r\n  });\r\n}\r\n```\r\n\r\nIn Intellij, I know there is some &quot;Surround With&quot; magic, Live Templates, or something that can make this process a little more automated? \r\n\r\nI could always write a script or something, but I figure there&#39;s probably a way to utilize Intellij&#39;s built-in functionality to make this easier. \r\n\r\nAny ideas?","title":"How do you create a Live Template for Assertions.assertThrows?","body":"<p>I am converting somewhere around 1000 JUnit tests with</p>\n<pre><code>@Test(expected=SomeException.class)\npublic void testIt() throws SomeException {\n  doSomeStuff();\n}\n</code></pre>\n<p>to JUnit Jupiter API's</p>\n<pre><code>@Test\nvoid testIt() {\n  Assertions.assertThrows(SomeException.class, () -&gt; {\n    doSomeStuff();    \n  });\n}\n</code></pre>\n<p>In Intellij, I know there is some &quot;Surround With&quot; magic, Live Templates, or something that can make this process a little more automated?</p>\n<p>I could always write a script or something, but I figure there's probably a way to utilize Intellij's built-in functionality to make this easier.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","android","exception","htmlunit"],"comments":[{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1670264715,"post_id":74685244,"comment_id":131831489,"body_markdown":"Please open an issue on github - https://github.com/HtmlUnit/htmlunit-android","body":"Please open an issue on github - <a href=\"https://github.com/HtmlUnit/htmlunit-android\" rel=\"nofollow noreferrer\">github.com/HtmlUnit/htmlunit-android</a>"},{"owner":{"account_id":14628192,"reputation":191,"user_id":10564900,"display_name":"DeborahAnn"},"score":0,"creation_date":1670266257,"post_id":74685244,"comment_id":131831941,"body_markdown":"@RBRi but I am not sure it&#39;s an issue of HtmlUnit since the error seems to be with the class imageIO in the DexPathList.","body":"@RBRi but I am not sure it&#39;s an issue of HtmlUnit since the error seems to be with the class imageIO in the DexPathList."},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1670267859,"post_id":74685244,"comment_id":131832432,"body_markdown":"Yes the imageio stuff is not available on Android - i will try to make the call a noop when using HtmlUnit on Android.","body":"Yes the imageio stuff is not available on Android - i will try to make the call a noop when using HtmlUnit on Android."},{"owner":{"account_id":14628192,"reputation":191,"user_id":10564900,"display_name":"DeborahAnn"},"score":0,"creation_date":1670318538,"post_id":74685244,"comment_id":131842887,"body_markdown":"Okay! Will you let me know when it&#39;s fixed?","body":"Okay! Will you let me know when it&#39;s fixed?"},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1670335152,"post_id":74685244,"comment_id":131848978,"body_markdown":"maybe :-) - of course i will and there is also a twitter account if you like to be on track (https://twitter.com/htmlunit)","body":"maybe :-) - of course i will and there is also a twitter account if you like to be on track (<a href=\"https://twitter.com/htmlunit\" rel=\"nofollow noreferrer\">twitter.com/htmlunit</a>)"},{"owner":{"account_id":14628192,"reputation":191,"user_id":10564900,"display_name":"DeborahAnn"},"score":0,"creation_date":1670429067,"post_id":74685244,"comment_id":131875606,"body_markdown":"Thanks! :) From which version did you start using imageIO? Because with 2.15 there was no issue with imageIO. My app, as a matter of fact, was built with 2.15 but stopped working few months ago and thought to update htmlunit :)","body":"Thanks! :) From which version did you start using imageIO? Because with 2.15 there was no issue with imageIO. My app, as a matter of fact, was built with 2.15 but stopped working few months ago and thought to update htmlunit :)"},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1670485851,"post_id":74685244,"comment_id":131887442,"body_markdown":"still waiting for the issue....","body":"still waiting for the issue...."},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1670486428,"post_id":74685244,"comment_id":131887606,"body_markdown":"ImageIO usage was there also in 2.12 but maybe the web page has changed or we have done some other fixes that forcing the image resolution now.\nPlease open the issue and let it discuss there.","body":"ImageIO usage was there also in 2.12 but maybe the web page has changed or we have done some other fixes that forcing the image resolution now. Please open the issue and let it discuss there."},{"owner":{"account_id":14628192,"reputation":191,"user_id":10564900,"display_name":"DeborahAnn"},"score":0,"creation_date":1670512598,"post_id":74685244,"comment_id":131896356,"body_markdown":"Posted the issue on github!","body":"Posted the issue on github!"}],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682927308,"creation_date":1682927308,"answer_id":76145441,"question_id":74685244,"body_markdown":"There is now a new android version of HtmlUnit (https://github.com/HtmlUnit/htmlunit-android) that should solve most of the issues related to not existing classes in the android jdk (including this imageio problem).\r\n\r\nThis also requires to update your sources to HtmlUnit3 - see https://www.htmlunit.org/migration.html.","title":"HtmlUnit - ScriptException: Exception invoking drawImage","body":"<p>There is now a new android version of HtmlUnit (<a href=\"https://github.com/HtmlUnit/htmlunit-android\" rel=\"nofollow noreferrer\">https://github.com/HtmlUnit/htmlunit-android</a>) that should solve most of the issues related to not existing classes in the android jdk (including this imageio problem).</p>\n<p>This also requires to update your sources to HtmlUnit3 - see <a href=\"https://www.htmlunit.org/migration.html\" rel=\"nofollow noreferrer\">https://www.htmlunit.org/migration.html</a>.</p>\n"}],"owner":{"account_id":14628192,"reputation":191,"user_id":10564900,"display_name":"DeborahAnn"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682927308,"creation_date":1670228829,"question_id":74685244,"body_markdown":"I am using HtmlUnit on my android project:\r\n\r\n    implementation group: &#39;net.sourceforge.htmlunit&#39;, name: &#39;htmlunit-android&#39;, version: &#39;2.67.0&#39;\r\n\r\n\r\nI am simply try to get a webpage:\r\n\r\n    private final static String LOGIN_URL = &quot;https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin&quot;;\r\n        private final static WebClient webClient = new WebClient(BrowserVersion.FIREFOX);\r\n        java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\r\n        java.util.logging.Logger.getLogger(&quot;org.apache.http&quot;).setLevel(java.util.logging.Level.OFF);\r\n        final HtmlPage page = webClient.getPage(LOGIN_URL);\r\n\r\nHowever this is the exception I get at runtime:\r\n\r\n      ======= EXCEPTION START ========\r\n        Exception class=[java.lang.RuntimeException]\r\n        com.gargoylesoftware.htmlunit.ScriptException: Exception invoking drawImage\r\n            at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:1001)\r\n            at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\r\n            at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\r\n            at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\r\n            at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:928)\r\n            at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:900)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2620)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2613)\r\n            at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeEventListeners(EventListenersContainer.java:342)\r\n            at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeAtTargetListeners(EventListenersContainer.java:379)\r\n            at com.gargoylesoftware.htmlunit.javascript.host.event.EventTarget.fireEvent(EventTarget.java:173)\r\n            at com.gargoylesoftware.htmlunit.html.DomElement.lambda$fireEvent$0(DomElement.java:1496)\r\n            at com.gargoylesoftware.htmlunit.html.DomElement$$ExternalSyntheticLambda0.run(Unknown Source:4)\r\n            at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\r\n            at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\r\n            at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\r\n            at com.gargoylesoftware.htmlunit.html.DomElement.fireEvent(DomElement.java:1496)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage.fireEvent(HtmlImage.java:949)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage.doOnLoad(HtmlImage.java:319)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage$1.execute(HtmlImage.java:165)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlPage.initialize(HtmlPage.java:342)\r\n            at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:710)\r\n            at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:592)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:510)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:417)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:555)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:537)\r\n            at com.test.xxx.thread.PTCThread.run(PTCThread.java:58)\r\n         Caused by: java.lang.RuntimeException: Exception invoking drawImage\r\n            at net.sourceforge.htmlunit.corejs.javascript.MemberBox.invoke(MemberBox.java:238)\r\n            at net.sourceforge.htmlunit.corejs.javascript.FunctionObject.call(FunctionObject.java:405)\r\n            at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1876)\r\n            at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:1053)\r\n            at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:89)\r\n            at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:392)\r\n            at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:335)\r\n            at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3916)\r\n            at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$3.doRun(JavaScriptEngine.java:921)\r\n            at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\r\n            at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)&#160;\r\n            at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)&#160;\r\n            at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)&#160;\r\n            at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:928)&#160;\r\n            at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:900)&#160;\r\n            at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2620)&#160;\r\n            at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2613)&#160;\r\n            at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeEventListeners(EventListenersContainer.java:342)&#160;\r\n            at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeAtTargetListeners(EventListenersContainer.java:379)&#160;\r\n            at com.gargoylesoftware.htmlunit.javascript.host.event.EventTarget.fireEvent(EventTarget.java:173)&#160;\r\n            at com.gargoylesoftware.htmlunit.html.DomElement.lambda$fireEvent$0(DomElement.java:1496)&#160;\r\n            at com.gargoylesoftware.htmlunit.html.DomElement$$ExternalSyntheticLambda0.run(Unknown Source:4)&#160;\r\n            at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)&#160;\r\n            at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)&#160;\r\n            at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)&#160;\r\n            at com.gargoylesoftware.htmlunit.html.DomElement.fireEvent(DomElement.java:1496)&#160;\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage.fireEvent(HtmlImage.java:949)&#160;\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage.doOnLoad(HtmlImage.java:319)&#160;\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage$1.execute(HtmlImage.java:165)&#160;\r\n            at com.gargoylesoftware.htmlunit.html.HtmlPage.initialize(HtmlPage.java:342)&#160;\r\n            at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:710)&#160;\r\n            at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:592)&#160;\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:510)&#160;\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:417)&#160;\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:555)&#160;\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:537)&#160;\r\n            at com.test.xxx.thread.PTCThread.run(PTCThread.java:58)&#160;\r\n         Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljavax/imageio/ImageIO;\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage.readImageIfNeeded(HtmlImage.java:702)\r\n    2022-12-05 08:28:08.823 14255-14815/com.test.xxx E/JavaScriptErrorListener:     at com.gargoylesoftware.htmlunit.html.HtmlImage.getImageReader(HtmlImage.java:619)\r\n            at com.gargoylesoftware.htmlunit.javascript.host.canvas.CanvasRenderingContext2D.drawImage(CanvasRenderingContext2D.java:410)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at net.sourceforge.htmlunit.corejs.javascript.MemberBox.invoke(MemberBox.java:215)\r\n            \t... 36 more\r\n         Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;javax.imageio.ImageIO&quot; on path: DexPathList[[zip file &quot;/data/app/~~uPm2D4x2H8UJPMnJkCz-fQ==/com.test.xxx-7vAaguDgQshpcmtUKuBo6g==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~uPm2D4x2H8UJPMnJkCz-fQ==/com.test.xxx-7vAaguDgQshpcmtUKuBo6g==/lib/arm64, /system/lib64]]\r\n            at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n            \t... 41 more\r\n        Enclosed exception: \r\n        java.lang.RuntimeException: Exception invoking drawImage\r\n            at net.sourceforge.htmlunit.corejs.javascript.MemberBox.invoke(MemberBox.java:238)\r\n            at net.sourceforge.htmlunit.corejs.javascript.FunctionObject.call(FunctionObject.java:405)\r\n            at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1876)\r\n            at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:1053)\r\n            at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:89)\r\n            at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:392)\r\n            at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:335)\r\n            at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3916)\r\n            at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$3.doRun(JavaScriptEngine.java:921)\r\n            at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\r\n            at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\r\n            at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\r\n            at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\r\n            at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:928)\r\n            at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:900)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2620)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2613)\r\n            at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeEventListeners(EventListenersContainer.java:342)\r\n            at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeAtTargetListeners(EventListenersContainer.java:379)\r\n            at com.gargoylesoftware.htmlunit.javascript.host.event.EventTarget.fireEvent(EventTarget.java:173)\r\n            at com.gargoylesoftware.htmlunit.html.DomElement.lambda$fireEvent$0(DomElement.java:1496)\r\n            at com.gargoylesoftware.htmlunit.html.DomElement$$ExternalSyntheticLambda0.run(Unknown Source:4)\r\n            at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\r\n            at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\r\n            at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\r\n            at com.gargoylesoftware.htmlunit.html.DomElement.fireEvent(DomElement.java:1496)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage.fireEvent(HtmlImage.java:949)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage.doOnLoad(HtmlImage.java:319)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage$1.execute(HtmlImage.java:165)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlPage.initialize(HtmlPage.java:342)\r\n            at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:710)\r\n    2022-12-05 08:28:08.823 14255-14815/com.test.xxx E/JavaScriptErrorListener:     at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:592)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:510)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:417)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:555)\r\n            at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:537)\r\n            at com.test.xxx.thread.PTCThread.run(PTCThread.java:58)\r\n         Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljavax/imageio/ImageIO;\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage.readImageIfNeeded(HtmlImage.java:702)\r\n            at com.gargoylesoftware.htmlunit.html.HtmlImage.getImageReader(HtmlImage.java:619)\r\n            at com.gargoylesoftware.htmlunit.javascript.host.canvas.CanvasRenderingContext2D.drawImage(CanvasRenderingContext2D.java:410)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at net.sourceforge.htmlunit.corejs.javascript.MemberBox.invoke(MemberBox.java:215)\r\n            \t... 36 more\r\n         Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;javax.imageio.ImageIO&quot; on path: DexPathList[[zip file &quot;/data/app/~~uPm2D4x2H8UJPMnJkCz-fQ==/com.test.xxx-7vAaguDgQshpcmtUKuBo6g==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~uPm2D4x2H8UJPMnJkCz-fQ==/com.test.xxx-7vAaguDgQshpcmtUKuBo6g==/lib/arm64, /system/lib64]]\r\n            at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n            \t... 41 more\r\n        == CALLING JAVASCRIPT ==\r\n          function () {\r\n              c.drawImage(a, 0, 0), Modernizr.addTest(&quot;todataurljpeg&quot;, function () {\r\n                  return b.toDataURL(&quot;image/jpeg&quot;).indexOf(&quot;data:image/jpeg&quot;) === 0;\r\n              }), Modernizr.addTest(&quot;todataurlwebp&quot;, function () {\r\n                  return b.toDataURL(&quot;image/webp&quot;).indexOf(&quot;data:image/webp&quot;) === 0;\r\n              });\r\n          }\r\n        ======= EXCEPTION END ========\r\n\r\n\r\nThe issue seems to be the fact that it&#39;s not able to find the class imageIO in the DexPathList, am I correct? If so, how to fix this?\r\n\r\nI am also getting a few warnings regarding the CSS parser but I don&#39;t think are relevant:\r\n\r\n    022-12-05 08:27:55.668 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.679 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.701 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.706 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.718 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.721 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.736 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.740 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.763 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.766 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.782 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.786 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.803 14255-14731/com.test.xxx I/rt.xxx: Background concurrent copying GC freed 345290(15MB) AllocSpace objects, 32(2284KB) LOS objects, 49% free, 9852KB/19MB, paused 101us total 147.448ms\r\n    2022-12-05 08:27:55.806 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.806 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.819 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.820 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.824 14255-14735/com.test.xxx W/System: A resource failed to call dispose. \r\n    2022-12-05 08:27:55.829 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.831 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.840 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.842 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.852 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.853 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.862 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.864 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.873 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.875 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.901 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.901 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.904 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.905 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.922 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.922 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.923 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.923 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.930 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.931 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.941 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.942 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.949 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.953 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.961 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.963 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.973 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.974 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.983 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.984 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.994 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:55.996 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.003 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.005 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.014 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.015 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.025 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.026 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.037 14255-14815/com.test.xxx W/DefaultCssErrorHandler: CSS error: &#39;https://assets.pokemon.com/static2/_ui/css/main.css&#39; [1:42772] Error in declaration. &#39;*&#39; is not allowed as first char of a property.\r\n    2022-12-05 08:27:56.042 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.046 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.061 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.061 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.068 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.071 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.079 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.081 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\r\n    2022-12-05 08:27:56.193 14255-14815/com.test.xxx W/DefaultCssErrorHandler: CSS error: &#39;https://assets.pokemon.com/static2/_ui/css/main.css&#39; [1:65685] Error in declaration. &#39;*&#39; is not allowed as first char of a property.","title":"HtmlUnit - ScriptException: Exception invoking drawImage","body":"<p>I am using HtmlUnit on my android project:</p>\n<pre><code>implementation group: 'net.sourceforge.htmlunit', name: 'htmlunit-android', version: '2.67.0'\n</code></pre>\n<p>I am simply try to get a webpage:</p>\n<pre><code>private final static String LOGIN_URL = &quot;https://sso.pokemon.com/sso/login?locale=en&amp;service=https://www.pokemon.com/us/pokemon-trainer-club/caslogin&quot;;\n    private final static WebClient webClient = new WebClient(BrowserVersion.FIREFOX);\n    java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\n    java.util.logging.Logger.getLogger(&quot;org.apache.http&quot;).setLevel(java.util.logging.Level.OFF);\n    final HtmlPage page = webClient.getPage(LOGIN_URL);\n</code></pre>\n<p>However this is the exception I get at runtime:</p>\n<pre><code>  ======= EXCEPTION START ========\n    Exception class=[java.lang.RuntimeException]\n    com.gargoylesoftware.htmlunit.ScriptException: Exception invoking drawImage\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:1001)\n        at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\n        at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\n        at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:928)\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:900)\n        at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2620)\n        at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2613)\n        at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeEventListeners(EventListenersContainer.java:342)\n        at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeAtTargetListeners(EventListenersContainer.java:379)\n        at com.gargoylesoftware.htmlunit.javascript.host.event.EventTarget.fireEvent(EventTarget.java:173)\n        at com.gargoylesoftware.htmlunit.html.DomElement.lambda$fireEvent$0(DomElement.java:1496)\n        at com.gargoylesoftware.htmlunit.html.DomElement$$ExternalSyntheticLambda0.run(Unknown Source:4)\n        at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\n        at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\n        at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\n        at com.gargoylesoftware.htmlunit.html.DomElement.fireEvent(DomElement.java:1496)\n        at com.gargoylesoftware.htmlunit.html.HtmlImage.fireEvent(HtmlImage.java:949)\n        at com.gargoylesoftware.htmlunit.html.HtmlImage.doOnLoad(HtmlImage.java:319)\n        at com.gargoylesoftware.htmlunit.html.HtmlImage$1.execute(HtmlImage.java:165)\n        at com.gargoylesoftware.htmlunit.html.HtmlPage.initialize(HtmlPage.java:342)\n        at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:710)\n        at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:592)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:510)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:417)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:555)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:537)\n        at com.test.xxx.thread.PTCThread.run(PTCThread.java:58)\n     Caused by: java.lang.RuntimeException: Exception invoking drawImage\n        at net.sourceforge.htmlunit.corejs.javascript.MemberBox.invoke(MemberBox.java:238)\n        at net.sourceforge.htmlunit.corejs.javascript.FunctionObject.call(FunctionObject.java:405)\n        at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1876)\n        at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:1053)\n        at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:89)\n        at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:392)\n        at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:335)\n        at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3916)\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$3.doRun(JavaScriptEngine.java:921)\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\n        at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590) \n        at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484) \n        at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349) \n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:928) \n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:900) \n        at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2620) \n        at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2613) \n        at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeEventListeners(EventListenersContainer.java:342) \n        at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeAtTargetListeners(EventListenersContainer.java:379) \n        at com.gargoylesoftware.htmlunit.javascript.host.event.EventTarget.fireEvent(EventTarget.java:173) \n        at com.gargoylesoftware.htmlunit.html.DomElement.lambda$fireEvent$0(DomElement.java:1496) \n        at com.gargoylesoftware.htmlunit.html.DomElement$$ExternalSyntheticLambda0.run(Unknown Source:4) \n        at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590) \n        at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484) \n        at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349) \n        at com.gargoylesoftware.htmlunit.html.DomElement.fireEvent(DomElement.java:1496) \n        at com.gargoylesoftware.htmlunit.html.HtmlImage.fireEvent(HtmlImage.java:949) \n        at com.gargoylesoftware.htmlunit.html.HtmlImage.doOnLoad(HtmlImage.java:319) \n        at com.gargoylesoftware.htmlunit.html.HtmlImage$1.execute(HtmlImage.java:165) \n        at com.gargoylesoftware.htmlunit.html.HtmlPage.initialize(HtmlPage.java:342) \n        at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:710) \n        at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:592) \n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:510) \n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:417) \n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:555) \n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:537) \n        at com.test.xxx.thread.PTCThread.run(PTCThread.java:58) \n     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljavax/imageio/ImageIO;\n        at com.gargoylesoftware.htmlunit.html.HtmlImage.readImageIfNeeded(HtmlImage.java:702)\n2022-12-05 08:28:08.823 14255-14815/com.test.xxx E/JavaScriptErrorListener:     at com.gargoylesoftware.htmlunit.html.HtmlImage.getImageReader(HtmlImage.java:619)\n        at com.gargoylesoftware.htmlunit.javascript.host.canvas.CanvasRenderingContext2D.drawImage(CanvasRenderingContext2D.java:410)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at net.sourceforge.htmlunit.corejs.javascript.MemberBox.invoke(MemberBox.java:215)\n            ... 36 more\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;javax.imageio.ImageIO&quot; on path: DexPathList[[zip file &quot;/data/app/~~uPm2D4x2H8UJPMnJkCz-fQ==/com.test.xxx-7vAaguDgQshpcmtUKuBo6g==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~uPm2D4x2H8UJPMnJkCz-fQ==/com.test.xxx-7vAaguDgQshpcmtUKuBo6g==/lib/arm64, /system/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n            ... 41 more\n    Enclosed exception: \n    java.lang.RuntimeException: Exception invoking drawImage\n        at net.sourceforge.htmlunit.corejs.javascript.MemberBox.invoke(MemberBox.java:238)\n        at net.sourceforge.htmlunit.corejs.javascript.FunctionObject.call(FunctionObject.java:405)\n        at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpretLoop(Interpreter.java:1876)\n        at net.sourceforge.htmlunit.corejs.javascript.Interpreter.interpret(Interpreter.java:1053)\n        at net.sourceforge.htmlunit.corejs.javascript.InterpretedFunction.call(InterpretedFunction.java:89)\n        at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.doTopCall(ContextFactory.java:392)\n        at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.doTopCall(HtmlUnitContextFactory.java:335)\n        at net.sourceforge.htmlunit.corejs.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3916)\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$3.doRun(JavaScriptEngine.java:921)\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\n        at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\n        at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\n        at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:928)\n        at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.callFunction(JavaScriptEngine.java:900)\n        at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2620)\n        at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScriptFunction(HtmlPage.java:2613)\n        at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeEventListeners(EventListenersContainer.java:342)\n        at com.gargoylesoftware.htmlunit.javascript.host.event.EventListenersContainer.executeAtTargetListeners(EventListenersContainer.java:379)\n        at com.gargoylesoftware.htmlunit.javascript.host.event.EventTarget.fireEvent(EventTarget.java:173)\n        at com.gargoylesoftware.htmlunit.html.DomElement.lambda$fireEvent$0(DomElement.java:1496)\n        at com.gargoylesoftware.htmlunit.html.DomElement$$ExternalSyntheticLambda0.run(Unknown Source:4)\n        at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\n        at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\n        at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\n        at com.gargoylesoftware.htmlunit.html.DomElement.fireEvent(DomElement.java:1496)\n        at com.gargoylesoftware.htmlunit.html.HtmlImage.fireEvent(HtmlImage.java:949)\n        at com.gargoylesoftware.htmlunit.html.HtmlImage.doOnLoad(HtmlImage.java:319)\n        at com.gargoylesoftware.htmlunit.html.HtmlImage$1.execute(HtmlImage.java:165)\n        at com.gargoylesoftware.htmlunit.html.HtmlPage.initialize(HtmlPage.java:342)\n        at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:710)\n2022-12-05 08:28:08.823 14255-14815/com.test.xxx E/JavaScriptErrorListener:     at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:592)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:510)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:417)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:555)\n        at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:537)\n        at com.test.xxx.thread.PTCThread.run(PTCThread.java:58)\n     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljavax/imageio/ImageIO;\n        at com.gargoylesoftware.htmlunit.html.HtmlImage.readImageIfNeeded(HtmlImage.java:702)\n        at com.gargoylesoftware.htmlunit.html.HtmlImage.getImageReader(HtmlImage.java:619)\n        at com.gargoylesoftware.htmlunit.javascript.host.canvas.CanvasRenderingContext2D.drawImage(CanvasRenderingContext2D.java:410)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at net.sourceforge.htmlunit.corejs.javascript.MemberBox.invoke(MemberBox.java:215)\n            ... 36 more\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;javax.imageio.ImageIO&quot; on path: DexPathList[[zip file &quot;/data/app/~~uPm2D4x2H8UJPMnJkCz-fQ==/com.test.xxx-7vAaguDgQshpcmtUKuBo6g==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~uPm2D4x2H8UJPMnJkCz-fQ==/com.test.xxx-7vAaguDgQshpcmtUKuBo6g==/lib/arm64, /system/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n            ... 41 more\n    == CALLING JAVASCRIPT ==\n      function () {\n          c.drawImage(a, 0, 0), Modernizr.addTest(&quot;todataurljpeg&quot;, function () {\n              return b.toDataURL(&quot;image/jpeg&quot;).indexOf(&quot;data:image/jpeg&quot;) === 0;\n          }), Modernizr.addTest(&quot;todataurlwebp&quot;, function () {\n              return b.toDataURL(&quot;image/webp&quot;).indexOf(&quot;data:image/webp&quot;) === 0;\n          });\n      }\n    ======= EXCEPTION END ========\n</code></pre>\n<p>The issue seems to be the fact that it's not able to find the class imageIO in the DexPathList, am I correct? If so, how to fix this?</p>\n<p>I am also getting a few warnings regarding the CSS parser but I don't think are relevant:</p>\n<pre><code>022-12-05 08:27:55.668 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.679 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.701 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.706 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.718 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.721 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.736 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.740 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.763 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.766 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.782 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.786 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.803 14255-14731/com.test.xxx I/rt.xxx: Background concurrent copying GC freed 345290(15MB) AllocSpace objects, 32(2284KB) LOS objects, 49% free, 9852KB/19MB, paused 101us total 147.448ms\n2022-12-05 08:27:55.806 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.806 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.819 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.820 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.824 14255-14735/com.test.xxx W/System: A resource failed to call dispose. \n2022-12-05 08:27:55.829 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.831 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.840 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.842 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.852 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.853 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.862 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.864 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.873 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.875 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.901 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.901 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.904 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.905 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.922 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.922 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.923 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.923 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.930 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.931 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.941 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.942 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.949 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.953 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.961 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.963 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.973 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.974 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.983 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.984 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.994 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:55.996 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.003 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.005 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.014 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.015 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.025 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.026 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.037 14255-14815/com.test.xxx W/DefaultCssErrorHandler: CSS error: 'https://assets.pokemon.com/static2/_ui/css/main.css' [1:42772] Error in declaration. '*' is not allowed as first char of a property.\n2022-12-05 08:27:56.042 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.046 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.061 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.061 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.068 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.071 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.079 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.081 14255-14730/com.test.xxx I/rt.xxx: Method exceeds compiler instruction limit: 46318 in int com.gargoylesoftware.css.parser.javacc.CSS3ParserTokenManager.jjMoveNfa_0(int, int)\n2022-12-05 08:27:56.193 14255-14815/com.test.xxx W/DefaultCssErrorHandler: CSS error: 'https://assets.pokemon.com/static2/_ui/css/main.css' [1:65685] Error in declaration. '*' is not allowed as first char of a property.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","graphql","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":434696,"reputation":334,"user_id":820838,"display_name":"Claus Nielsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682927268,"creation_date":1682927268,"answer_id":76145435,"question_id":76128830,"body_markdown":"I finally found out how to use localContext to pass tenantId down to the userName method, so just in case others have the same issue, here is what I added:\r\n\r\n    @SchemaMapping\r\n    DataFetcherResult&lt;List&lt;SubResource&gt;&gt; subResources(Resource resource) {\r\n          return DataFetcherResult.&lt;List&lt;SubResource&gt;&gt;newResult()\r\n                .data(resource.getSubResources())\r\n                .localContext(GraphQLContext.newContext()\r\n                      .of(&quot;tenantId&quot;, resource.getTenantId())\r\n                      .build())\r\n                .build();\r\n    }\r\n\r\nand then the userName method can have tenantId injected like this:\r\n\r\n    @SchemaMapping\r\n    public CompletableFuture&lt;String&gt; userName(SubResource subResource, @LocalContextValue(&quot;tenantId&quot;) UUID tenantId, DataLoader&lt;TenantAndUserId, User&gt; loader) {\r\n        // TenantAndUserId just holds tenantId and userId properties\r\n        var key = new TenantAndUserId(tenantId, subResource.getUserId()); \r\n        return loader.load(key).thenApply(User::getName);\r\n    }\r\n\r\n","title":"Accessing grandparent (source of source) in Spring for GraphQL @SchemaMapping","body":"<p>I finally found out how to use localContext to pass tenantId down to the userName method, so just in case others have the same issue, here is what I added:</p>\n<pre><code>@SchemaMapping\nDataFetcherResult&lt;List&lt;SubResource&gt;&gt; subResources(Resource resource) {\n      return DataFetcherResult.&lt;List&lt;SubResource&gt;&gt;newResult()\n            .data(resource.getSubResources())\n            .localContext(GraphQLContext.newContext()\n                  .of(&quot;tenantId&quot;, resource.getTenantId())\n                  .build())\n            .build();\n}\n</code></pre>\n<p>and then the userName method can have tenantId injected like this:</p>\n<pre><code>@SchemaMapping\npublic CompletableFuture&lt;String&gt; userName(SubResource subResource, @LocalContextValue(&quot;tenantId&quot;) UUID tenantId, DataLoader&lt;TenantAndUserId, User&gt; loader) {\n    // TenantAndUserId just holds tenantId and userId properties\n    var key = new TenantAndUserId(tenantId, subResource.getUserId()); \n    return loader.load(key).thenApply(User::getName);\n}\n</code></pre>\n"}],"owner":{"account_id":434696,"reputation":334,"user_id":820838,"display_name":"Claus Nielsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76145435,"answer_count":1,"score":0,"last_activity_date":1682927268,"creation_date":1682678976,"question_id":76128830,"body_markdown":"I can&#39;t find out how I can load a referenced resource, identified by a deeply nestet property in combination with a property higher up in a nested data structure.\r\n\r\nGiven these classes (getters and setters etc. omitted, but you get the idea):\r\n\r\n```\r\nclass Resource {\r\n    int tenantId;\r\n    List&lt;SubResource&gt; subResources;\r\n}\r\n\r\nclass SubResource {\r\n    String name;\r\n    int userId;\r\n}\r\n\r\nclass Tenant {\r\n    int id;\r\n    String name;\r\n}\r\n\r\nclass User {\r\n    int id;\r\n    String name;\r\n}\r\n\r\n```\r\n\r\nAnd this GraphQL schema:\r\n\r\n```\r\ntype Resource {\r\n    tenantName: String\r\n    subResources: [SubResource]\r\n}\r\n\r\ntype SubResource {\r\n   userName\r\n}\r\n```\r\n\r\nI can resolve the Resource.tenantName property in my ResourceController with a method like this:\r\n\r\n```\r\n@SchemaMapping\r\npublic CompletableFuture&lt;String&gt; tenantName(Resource resource, DataLoader&lt;Integer, Tenant&gt; loader) {\r\n    return loader.load(resource.getTenantId()).thenApply(User::getName);\r\n}\r\n\r\n```\r\nBut SubResource.userName... how do I do that, when I need both tenantId and userId to look up userName?\r\nThis is as far as I got so far :-/\r\n\r\n```\r\n@SchemaMapping\r\npublic CompletableFuture&lt;String&gt; userName(SubResource subResource, DataLoader&lt;TenantAndUserId, User&gt; loader) {\r\n    // Look up tenant id - but how?\r\n    int tenantId = ???;\r\n    // TenantAndUserId just holds tenantId and userId properties\r\n    var key = new TenantAndUserId(tenantId, subResource.getUserId()); \r\n    return loader.load(key).thenApply(User::getName);\r\n}\r\n\r\n```\r\n","title":"Accessing grandparent (source of source) in Spring for GraphQL @SchemaMapping","body":"<p>I can't find out how I can load a referenced resource, identified by a deeply nestet property in combination with a property higher up in a nested data structure.</p>\n<p>Given these classes (getters and setters etc. omitted, but you get the idea):</p>\n<pre><code>class Resource {\n    int tenantId;\n    List&lt;SubResource&gt; subResources;\n}\n\nclass SubResource {\n    String name;\n    int userId;\n}\n\nclass Tenant {\n    int id;\n    String name;\n}\n\nclass User {\n    int id;\n    String name;\n}\n\n</code></pre>\n<p>And this GraphQL schema:</p>\n<pre><code>type Resource {\n    tenantName: String\n    subResources: [SubResource]\n}\n\ntype SubResource {\n   userName\n}\n</code></pre>\n<p>I can resolve the Resource.tenantName property in my ResourceController with a method like this:</p>\n<pre><code>@SchemaMapping\npublic CompletableFuture&lt;String&gt; tenantName(Resource resource, DataLoader&lt;Integer, Tenant&gt; loader) {\n    return loader.load(resource.getTenantId()).thenApply(User::getName);\n}\n\n</code></pre>\n<p>But SubResource.userName... how do I do that, when I need both tenantId and userId to look up userName?\nThis is as far as I got so far :-/</p>\n<pre><code>@SchemaMapping\npublic CompletableFuture&lt;String&gt; userName(SubResource subResource, DataLoader&lt;TenantAndUserId, User&gt; loader) {\n    // Look up tenant id - but how?\n    int tenantId = ???;\n    // TenantAndUserId just holds tenantId and userId properties\n    var key = new TenantAndUserId(tenantId, subResource.getUserId()); \n    return loader.load(key).thenApply(User::getName);\n}\n\n</code></pre>\n"},{"tags":["java","google-cloud-platform","future","google-cloud-pubsub","google-api-java-client"],"comments":[{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":1,"creation_date":1635270432,"post_id":69707846,"comment_id":123250605,"body_markdown":"Can you please try using the latest version (v1.114.7) of [Java client](https://mvnrepository.com/artifact/com.google.cloud/google-cloud-pubsub/1.114.7) for Google Cloud Pub/Sub?","body":"Can you please try using the latest version (v1.114.7) of <a href=\"https://mvnrepository.com/artifact/com.google.cloud/google-cloud-pubsub/1.114.7\" rel=\"nofollow noreferrer\">Java client</a> for Google Cloud Pub/Sub?"}],"answers":[{"tags":[],"owner":{"account_id":8973377,"reputation":105,"user_id":7096378,"display_name":"Amit Tiwary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638944107,"creation_date":1638944107,"answer_id":70270715,"question_id":69707846,"body_markdown":"Upgrading to the latest version of the Java Client Library for Cloud Pub/Sub worked.","title":"How to publish messages to Cloud Pub/Sub via the JAVA Client using a dependency?","body":"<p>Upgrading to the latest version of the Java Client Library for Cloud Pub/Sub worked.</p>\n"},{"tags":[],"owner":{"account_id":2377658,"reputation":1,"user_id":4585410,"display_name":"Tariqul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682926949,"creation_date":1682926672,"answer_id":76145400,"question_id":69707846,"body_markdown":"To publish a message to a Google Cloud Pub/Sub topic using Java with credentials, follow these steps:\r\n\r\n1.Add maven dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\r\n    &lt;version&gt;1.123.2&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n2. Sample code to create publisher and publish message.\r\n\r\n       CredentialsProvider credentialsProvider = null;\r\n\r\n       try {\r\n         credentialsProvider = FixedCredentialsProvider\r\n        .create(ServiceAccountCredentials\r\n            .fromStream(new ByteArrayInputStream(\r\n                StandardCharsets.UTF_8.encode(&quot;AccountCredential&quot;).array()\r\n            )));\r\n\r\n       } catch (Exception e) {}\r\n\r\n       ProjectTopicName topic = ProjectTopicName.of(&quot;ProjectId&quot;, &quot;Topic&quot;); \r\n       Publisher publisher = Publisher.newBuilder(topic)\r\n                    .setCredentialsProvider(credentialsProvider)\r\n                    .build();\r\n       ByteString data = ByteString.copyFromUtf8(&quot;Message Content&quot;);\r\n       PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(data).build();\r\n\r\n       try {\r\n                    ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\r\n                    String messageId = messageIdFuture.get();\r\n                    ApiFutures.addCallback(messageIdFuture, new ApiFutureCallback&lt;String&gt;() {\r\n                       public void onSuccess(String messageId) {\r\n                        }\r\n                       public void onFailure(Throwable t) {\r\n                       }\r\n                     }, MoreExecutors.directExecutor());\r\n                 } catch (Exception e) {\r\n                 } \r\n       try {\r\n                 publisher.shutdown();\r\n                 publisher.awaitTermination(1, TimeUnit.MINUTES);\r\n           } catch (Exception e) {\r\n           } \r\nReplace AccountCredential, ProjectId, Topic and Message Content with your data.\r\n\r\nCheck below GitHub repo link for reusable publisher component and use any where.\r\n\r\n[Reusable gcloud message publisher custom library][1] \r\n\r\n\r\n  [1]: https://github.com/tariqulgithub/gcloud-pubsub\r\nThis answer may be help some one who want to publish message in gcloud using java client.\r\nThanks","title":"How to publish messages to Cloud Pub/Sub via the JAVA Client using a dependency?","body":"<p>To publish a message to a Google Cloud Pub/Sub topic using Java with credentials, follow these steps:</p>\n<p>1.Add maven dependency</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n&lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\n&lt;version&gt;1.123.2&lt;/version&gt;\n</code></pre>\n  \n<ol start=\"2\">\n<li><p>Sample code to create publisher and publish message.</p>\n<pre><code>CredentialsProvider credentialsProvider = null;\n\ntry {\n  credentialsProvider = FixedCredentialsProvider\n .create(ServiceAccountCredentials\n     .fromStream(new ByteArrayInputStream(\n         StandardCharsets.UTF_8.encode(&quot;AccountCredential&quot;).array()\n     )));\n\n} catch (Exception e) {}\n\nProjectTopicName topic = ProjectTopicName.of(&quot;ProjectId&quot;, &quot;Topic&quot;); \nPublisher publisher = Publisher.newBuilder(topic)\n             .setCredentialsProvider(credentialsProvider)\n             .build();\nByteString data = ByteString.copyFromUtf8(&quot;Message Content&quot;);\nPubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(data).build();\n\ntry {\n             ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\n             String messageId = messageIdFuture.get();\n             ApiFutures.addCallback(messageIdFuture, new ApiFutureCallback&lt;String&gt;() {\n                public void onSuccess(String messageId) {\n                 }\n                public void onFailure(Throwable t) {\n                }\n              }, MoreExecutors.directExecutor());\n          } catch (Exception e) {\n          } \ntry {\n          publisher.shutdown();\n          publisher.awaitTermination(1, TimeUnit.MINUTES);\n    } catch (Exception e) {\n    } \n</code></pre>\n</li>\n</ol>\n<p>Replace AccountCredential, ProjectId, Topic and Message Content with your data.</p>\n<p>Check below GitHub repo link for reusable publisher component and use any where.</p>\n<p><a href=\"https://github.com/tariqulgithub/gcloud-pubsub\" rel=\"nofollow noreferrer\">Reusable gcloud message publisher custom library</a></p>\n<p>This answer may be help some one who want to publish message in gcloud using java client.\nThanks</p>\n"}],"owner":{"account_id":8973377,"reputation":105,"user_id":7096378,"display_name":"Amit Tiwary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70270715,"answer_count":2,"score":1,"last_activity_date":1682926949,"creation_date":1635163895,"question_id":69707846,"body_markdown":"I have written the following method inside a maven package:\r\n```\r\npublic static void publishMessage(Publisher publisher, String message) throws ExecutionException, InterruptedException, TimeoutException {\r\n    ByteString data = ByteString.copyFromUtf8(message);\r\n    PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(data).build();\r\n    ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\r\n    String messageId = messageIdFuture.get(10L, TimeUnit.SECONDS);\r\n    LOG.info(&quot;Message Published! ID: {} Message: {}&quot;, messageId, message);\r\n}\r\n```\r\nWhen I call this method from a Runner main class within the maven package, I am able to publish messages to the Pub/Sub without any issues. When I load this maven project as a dependency within an SBT project and try calling this method, the execution gets timed out at the line: `messageIdFuture.get(10L, TimeUnit.SECONDS);` or gets stuck indefinitely if I use the statement without a timeout config.\r\n\r\nI am building the publisher in this fashion:\r\n```\r\npublic static Publisher getPublisher(String projectId, String topicId) throws IOException {\r\n    TopicName topicName = TopicName.of(projectId, topicId);\r\n    return Publisher.newBuilder(topicName).build();\r\n}\r\n```\r\nI have a hunch that the issue is related to executors and thread pools, wherein the control is not flowing in a way that I intend it to.\r\n\r\n\r\nOther Experiments: I&#39;ve tried avoiding the `future.get()` by running `publisher.publish(pubsubMessage);` followed by `publisher.shutdown();` as the shutdown publishes all locally queued messages. Even then, the message is published via the Runner class and the SBT application execution gets stuck indefinitely at `publisher.shutdown();` which internally uses a `wait()` inside the `messagesWaiter.waitComplete();`\r\n\r\nPlease note:\r\n* I am using authentication via end-user credentials locally, but even in my deployed application (SBT, Play) which uses a service account, the code gets timed out.\r\n* I am shutting down the publisher (as mentioned in the documentation) separately after these ops (in any case that shouldn&#39;t be an issue, since it&#39;s working with the Runner class).\r\n\r\nJAVA Client Version being used: 1.108.1\r\n\r\nI have majorly followed the JAVA Client documentation itself. Link: https://cloud.google.com/pubsub/docs/samples/pubsub-quickstart-publisher\r\n","title":"How to publish messages to Cloud Pub/Sub via the JAVA Client using a dependency?","body":"<p>I have written the following method inside a maven package:</p>\n<pre><code>public static void publishMessage(Publisher publisher, String message) throws ExecutionException, InterruptedException, TimeoutException {\n    ByteString data = ByteString.copyFromUtf8(message);\n    PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(data).build();\n    ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\n    String messageId = messageIdFuture.get(10L, TimeUnit.SECONDS);\n    LOG.info(&quot;Message Published! ID: {} Message: {}&quot;, messageId, message);\n}\n</code></pre>\n<p>When I call this method from a Runner main class within the maven package, I am able to publish messages to the Pub/Sub without any issues. When I load this maven project as a dependency within an SBT project and try calling this method, the execution gets timed out at the line: <code>messageIdFuture.get(10L, TimeUnit.SECONDS);</code> or gets stuck indefinitely if I use the statement without a timeout config.</p>\n<p>I am building the publisher in this fashion:</p>\n<pre><code>public static Publisher getPublisher(String projectId, String topicId) throws IOException {\n    TopicName topicName = TopicName.of(projectId, topicId);\n    return Publisher.newBuilder(topicName).build();\n}\n</code></pre>\n<p>I have a hunch that the issue is related to executors and thread pools, wherein the control is not flowing in a way that I intend it to.</p>\n<p>Other Experiments: I've tried avoiding the <code>future.get()</code> by running <code>publisher.publish(pubsubMessage);</code> followed by <code>publisher.shutdown();</code> as the shutdown publishes all locally queued messages. Even then, the message is published via the Runner class and the SBT application execution gets stuck indefinitely at <code>publisher.shutdown();</code> which internally uses a <code>wait()</code> inside the <code>messagesWaiter.waitComplete();</code></p>\n<p>Please note:</p>\n<ul>\n<li>I am using authentication via end-user credentials locally, but even in my deployed application (SBT, Play) which uses a service account, the code gets timed out.</li>\n<li>I am shutting down the publisher (as mentioned in the documentation) separately after these ops (in any case that shouldn't be an issue, since it's working with the Runner class).</li>\n</ul>\n<p>JAVA Client Version being used: 1.108.1</p>\n<p>I have majorly followed the JAVA Client documentation itself. Link: <a href=\"https://cloud.google.com/pubsub/docs/samples/pubsub-quickstart-publisher\" rel=\"nofollow noreferrer\">https://cloud.google.com/pubsub/docs/samples/pubsub-quickstart-publisher</a></p>\n"},{"tags":["java","spring","oop","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682926757,"creation_date":1682926757,"answer_id":76145405,"question_id":76140338,"body_markdown":"You can hold the reference in the parent class and inject it from the Spring context from the child class. Would something like this work?\r\n```java\r\nabstract class TeslaServiceCenter {\r\n\tprivate final Tesla tesla;\r\n\r\n\tprotected TeslaServiceCenter(Tesla tesla) {\r\n\t\tthis.tesla = tesla;\r\n\t}\r\n}\r\n\r\n@Component\r\nclass OhioServiceCenter extends TeslaServiceCenter {\r\n\tpublic OhioServiceCenter(Tesla tesla) {\r\n\t\tsuper(tesla);\r\n\t}\r\n}\r\n\r\n@Component\r\nclass FloridaServiceCenter extends TeslaServiceCenter {\r\n\tpublic FloridaServiceCenter(Tesla tesla) {\r\n\t\tsuper(tesla);\r\n\t}\r\n}\r\n```\r\nBy the way, if Tesla is defined as a bean in the context and it has singleton scope (which is configured by default, if you don&#39;t change it), you&#39;ll have the same Tesla instance when you autowire in different components - essentially, it doesn&#39;t have to be in the parent class.","title":"How to utilize the object updated by first child class into parent class into second child class","body":"<p>You can hold the reference in the parent class and inject it from the Spring context from the child class. Would something like this work?</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class TeslaServiceCenter {\n    private final Tesla tesla;\n\n    protected TeslaServiceCenter(Tesla tesla) {\n        this.tesla = tesla;\n    }\n}\n\n@Component\nclass OhioServiceCenter extends TeslaServiceCenter {\n    public OhioServiceCenter(Tesla tesla) {\n        super(tesla);\n    }\n}\n\n@Component\nclass FloridaServiceCenter extends TeslaServiceCenter {\n    public FloridaServiceCenter(Tesla tesla) {\n        super(tesla);\n    }\n}\n</code></pre>\n<p>By the way, if Tesla is defined as a bean in the context and it has singleton scope (which is configured by default, if you don't change it), you'll have the same Tesla instance when you autowire in different components - essentially, it doesn't have to be in the parent class.</p>\n"}],"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1682926757,"creation_date":1682844800,"question_id":76140338,"body_markdown":"I have a use case related to spring applications.\r\nI have 2 child classes consider it as\r\n```\r\n@Component\r\npublic class OhioServiceCenter extends TeslaServiceCenter\r\n@Component\r\npublic class FloridaServiceCenter extends TeslaServiceCenter\r\n\r\n```\r\nNow as we can see we have 2 child classes both of which are extending one parent abstract class.\r\nNow I have one bean which I am auto-wiring into both of the child classes which returns me an inventory, you can consider it a list of items. Let&#39;s for the sake of consideration say this bean is `Tesla` and have one method in `Tesla` called `getCars` this method returns me a `List&lt;Car&gt;`. Now both of the the child classes implmenting a parent abstract methods called `doService` both of them have different implementations. But both of them have same dependency on the `List&lt;Cars`.\r\n\r\nNow as per my usecase. I don&#39;t want both of the child classes holding the `List&lt;Cars` because its a memory problem both of the child classes holding same inventory is memeory wastage.(**NOTE - that `getCars` will return new List everytime means to say there content will be same but in memory there will be new list created everytime and that can&#39;t be changed**). \r\nWhat I expect is that parent class should hold the inventory and then both of the child class should be able to operate over it .\r\n\r\n\r\n**APPROACHES I TRIED**\r\n\r\n 1. I tried to kept the parent class as an abstract class and have abstract method `getCars` which is being implemented by both the child classes. My thinking was I could autowire the `Tesla` object in child classes and could maintain a inventory in abstract class but the problem is for both of the child classes there are different memories are allocated for parent classes too so even if first child class could update the parent object second wont be able to access it.\r\n2. Also one another problem is abstract classes can&#39;t autowire things so I can&#39;t also controll the part of getting inventory directly into abstract class\r\n3. I tried to create parent class as a normal class  but then the problem is `doService`\r\ncan&#39;t be abstracted as java don&#39;t allows the abstract method in normal classes\r\n\r\n**PROBLEM IN SHORT SUMMARY**\r\nI want 2 child classes to be able to share the same memory references of a parent class so that both the parent classes could access and update the same object in parent class.\r\n","title":"How to utilize the object updated by first child class into parent class into second child class","body":"<p>I have a use case related to spring applications.\nI have 2 child classes consider it as</p>\n<pre><code>@Component\npublic class OhioServiceCenter extends TeslaServiceCenter\n@Component\npublic class FloridaServiceCenter extends TeslaServiceCenter\n\n</code></pre>\n<p>Now as we can see we have 2 child classes both of which are extending one parent abstract class.\nNow I have one bean which I am auto-wiring into both of the child classes which returns me an inventory, you can consider it a list of items. Let's for the sake of consideration say this bean is <code>Tesla</code> and have one method in <code>Tesla</code> called <code>getCars</code> this method returns me a <code>List&lt;Car&gt;</code>. Now both of the the child classes implmenting a parent abstract methods called <code>doService</code> both of them have different implementations. But both of them have same dependency on the <code>List&lt;Cars</code>.</p>\n<p>Now as per my usecase. I don't want both of the child classes holding the <code>List&lt;Cars</code> because its a memory problem both of the child classes holding same inventory is memeory wastage.(<strong>NOTE - that <code>getCars</code> will return new List everytime means to say there content will be same but in memory there will be new list created everytime and that can't be changed</strong>).\nWhat I expect is that parent class should hold the inventory and then both of the child class should be able to operate over it .</p>\n<p><strong>APPROACHES I TRIED</strong></p>\n<ol>\n<li>I tried to kept the parent class as an abstract class and have abstract method <code>getCars</code> which is being implemented by both the child classes. My thinking was I could autowire the <code>Tesla</code> object in child classes and could maintain a inventory in abstract class but the problem is for both of the child classes there are different memories are allocated for parent classes too so even if first child class could update the parent object second wont be able to access it.</li>\n<li>Also one another problem is abstract classes can't autowire things so I can't also controll the part of getting inventory directly into abstract class</li>\n<li>I tried to create parent class as a normal class  but then the problem is <code>doService</code>\ncan't be abstracted as java don't allows the abstract method in normal classes</li>\n</ol>\n<p><strong>PROBLEM IN SHORT SUMMARY</strong>\nI want 2 child classes to be able to share the same memory references of a parent class so that both the parent classes could access and update the same object in parent class.</p>\n"},{"tags":["java","spring","spring-boot","netty","reactor-netty"],"owner":{"account_id":543997,"reputation":332,"user_id":913297,"accept_rate":56,"display_name":"Lynx777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682926510,"creation_date":1682926510,"question_id":76145382,"body_markdown":"I cloned the UDP Tutorial from [here][1], with purpose of creating a simple junit test for:\r\n\r\n1. Accept Datagram Packet and decode it into some type (currently is simple string)\r\n2. Then after decode, it will append a string and try to send it back as response; \r\n\r\nThis is my main class\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    import io.netty.channel.ChannelOption;\r\n    import reactor.netty.udp.UdpServer;\r\n\r\n    public class CustomUdpServer {\r\n\r\n\tprivate static final int PORT = Integer.parseInt(System.getProperty(&quot;port&quot;, &quot;7686&quot;));\r\n\tprivate static final boolean WIRETAP = System.getProperty(&quot;wiretap&quot;) != null;\r\n\r\n\t@Test\r\n\tpublic void build() throws Exception {\r\n\t\tUdpServer server =\r\n\t\t\t\tUdpServer.create()\r\n\t\t\t\t         .port(PORT)\r\n\t\t\t\t         .wiretap(WIRETAP)\r\n\t\t\t\t         .option(ChannelOption.SO_BROADCAST, true)\r\n\t\t\t\t         .doOnBound(conn -&gt; conn.addHandlerLast(new SimpleRequestDecoder())) \r\n\t\t\t\t         .doOnChannelInit((observer, channel, remoteAddress) -&gt;\r\n\t\t\t\t         \tchannel.pipeline()\r\n\t\t\t                    .addFirst(new SimpleResponseHandler()));    \r\n\t\tserver.bindNow()\r\n\t\t      .onDispose()\r\n\t\t      .block();\r\n\t}\r\n    }\r\n\r\n\r\nThis is my decoder\r\n\r\n    import java.util.List;\r\n    \r\n    import io.netty.buffer.ByteBuf;\r\n    import io.netty.buffer.Unpooled;\r\n    import io.netty.channel.ChannelHandlerContext;\r\n    import io.netty.handler.codec.ByteToMessageDecoder;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    @NoArgsConstructor\r\n    public class SimpleRequestDecoder extends ByteToMessageDecoder {\r\n    \t@Override\r\n    \tprotected void decode(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out) throws Exception {\r\n    \t\tByteBuf buf = Unpooled.copiedBuffer(in);\r\n    \t\tbyte[] bytes = new byte[in.readableBytes()];\r\n    \t\tbuf.readBytes(bytes);\r\n    \t\tString content = new String(bytes) + &quot; decoded&quot;;\r\n    \t\tlog.info(&quot;--&gt; &quot; + content);\r\n    \t\tout.add(content);\r\n    \t}\r\n    }\r\n\r\nAnd this is my response handler\r\n\r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    import io.netty.channel.ChannelHandlerContext;\r\n    import io.netty.channel.SimpleChannelInboundHandler;\r\n    import io.netty.channel.socket.DatagramPacket;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class SimpleResponseHandler extends SimpleChannelInboundHandler&lt;Object&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic void channelActive(ChannelHandlerContext ctx) throws Exception {\r\n    \t\tlog.info(this.getClass().getSimpleName()+&quot; started -&gt; &quot;+ctx.channel());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void channelInactive(ChannelHandlerContext ctx) throws Exception {\r\n    \t\tif (ctx.channel() != null) {\r\n    \t\t\tlog.info(this.getClass().getSimpleName()+&quot; inactive -&gt; &quot;+ctx.channel());\r\n    \t\t}\r\n    \t\tctx.close();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void channelRead0(ChannelHandlerContext ctx, Object msg) throws Exception {\r\n    \t\tString content = String.valueOf(msg);\r\n    \t\t\r\n    \t\tif(msg instanceof DatagramPacket) {\r\n    \t\t\t  DatagramPacket packet = (DatagramPacket) msg;\r\n                  content = packet.content().toString(StandardCharsets.UTF_8);\r\n    \t\t}\r\n    \t\t\r\n    \t\tcontent += &quot; responsed&quot;;\r\n    \t\tlog.info(&quot;-&gt; &quot; + content);\r\n    \t\t\r\n    \t\tctx.writeAndFlush(content);\r\n    \t\tsuper.channelRead(ctx, content);\r\n    \t}\r\n    }\r\n\r\nI used same UDP Client as in Github, but when i try to emit message, the attached decoder and response handler seems not invoked,\r\n\r\nAnyone can give me suggestions or pointer ? \r\n\r\n  [1]: https://github.com/reactor/reactor-netty/blob/main/reactor-netty-examples/src/main/java/reactor/netty/examples/udp/qotm/QuoteOfTheMomentServer.java\r\n\r\n","title":"Reactor Netty custom channel handlers are not invoked","body":"<p>I cloned the UDP Tutorial from <a href=\"https://github.com/reactor/reactor-netty/blob/main/reactor-netty-examples/src/main/java/reactor/netty/examples/udp/qotm/QuoteOfTheMomentServer.java\" rel=\"nofollow noreferrer\">here</a>, with purpose of creating a simple junit test for:</p>\n<ol>\n<li>Accept Datagram Packet and decode it into some type (currently is simple string)</li>\n<li>Then after decode, it will append a string and try to send it back as response;</li>\n</ol>\n<p>This is my main class</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport io.netty.channel.ChannelOption;\nimport reactor.netty.udp.UdpServer;\n\npublic class CustomUdpServer {\n\nprivate static final int PORT = Integer.parseInt(System.getProperty(&quot;port&quot;, &quot;7686&quot;));\nprivate static final boolean WIRETAP = System.getProperty(&quot;wiretap&quot;) != null;\n\n@Test\npublic void build() throws Exception {\n    UdpServer server =\n            UdpServer.create()\n                     .port(PORT)\n                     .wiretap(WIRETAP)\n                     .option(ChannelOption.SO_BROADCAST, true)\n                     .doOnBound(conn -&gt; conn.addHandlerLast(new SimpleRequestDecoder())) \n                     .doOnChannelInit((observer, channel, remoteAddress) -&gt;\n                        channel.pipeline()\n                            .addFirst(new SimpleResponseHandler()));    \n    server.bindNow()\n          .onDispose()\n          .block();\n}\n}\n</code></pre>\n<p>This is my decoder</p>\n<pre><code>import java.util.List;\n\nimport io.netty.buffer.ByteBuf;\nimport io.netty.buffer.Unpooled;\nimport io.netty.channel.ChannelHandlerContext;\nimport io.netty.handler.codec.ByteToMessageDecoder;\nimport lombok.NoArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\n@NoArgsConstructor\npublic class SimpleRequestDecoder extends ByteToMessageDecoder {\n    @Override\n    protected void decode(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out) throws Exception {\n        ByteBuf buf = Unpooled.copiedBuffer(in);\n        byte[] bytes = new byte[in.readableBytes()];\n        buf.readBytes(bytes);\n        String content = new String(bytes) + &quot; decoded&quot;;\n        log.info(&quot;--&gt; &quot; + content);\n        out.add(content);\n    }\n}\n</code></pre>\n<p>And this is my response handler</p>\n<pre><code>import java.nio.charset.StandardCharsets;\n\nimport io.netty.channel.ChannelHandlerContext;\nimport io.netty.channel.SimpleChannelInboundHandler;\nimport io.netty.channel.socket.DatagramPacket;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class SimpleResponseHandler extends SimpleChannelInboundHandler&lt;Object&gt; {\n\n    @Override\n    public void channelActive(ChannelHandlerContext ctx) throws Exception {\n        log.info(this.getClass().getSimpleName()+&quot; started -&gt; &quot;+ctx.channel());\n    }\n\n    @Override\n    public void channelInactive(ChannelHandlerContext ctx) throws Exception {\n        if (ctx.channel() != null) {\n            log.info(this.getClass().getSimpleName()+&quot; inactive -&gt; &quot;+ctx.channel());\n        }\n        ctx.close();\n    }\n\n    @Override\n    protected void channelRead0(ChannelHandlerContext ctx, Object msg) throws Exception {\n        String content = String.valueOf(msg);\n        \n        if(msg instanceof DatagramPacket) {\n              DatagramPacket packet = (DatagramPacket) msg;\n              content = packet.content().toString(StandardCharsets.UTF_8);\n        }\n        \n        content += &quot; responsed&quot;;\n        log.info(&quot;-&gt; &quot; + content);\n        \n        ctx.writeAndFlush(content);\n        super.channelRead(ctx, content);\n    }\n}\n</code></pre>\n<p>I used same UDP Client as in Github, but when i try to emit message, the attached decoder and response handler seems not invoked,</p>\n<p>Anyone can give me suggestions or pointer ?</p>\n"},{"tags":["java","swagger","jax-rs","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682324431,"creation_date":1682324431,"answer_id":76089928,"question_id":76073580,"body_markdown":"https://www.david-merrick.com/2017/11/15/useful-regexes-for-transitioning-swagger-2-0-to-3-0-annotations/\r\n\r\nTurns out something else still included the old annotations, so my IDE and maven didn&#39;t complain at all. \r\n\r\nStrange. This is a lot of work, but I think, within the scope of this question, is the solution. ","title":"Generate jakarta swagger-ui compatible JSON from source code using maven","body":"<p><a href=\"https://www.david-merrick.com/2017/11/15/useful-regexes-for-transitioning-swagger-2-0-to-3-0-annotations/\" rel=\"nofollow noreferrer\">https://www.david-merrick.com/2017/11/15/useful-regexes-for-transitioning-swagger-2-0-to-3-0-annotations/</a></p>\n<p>Turns out something else still included the old annotations, so my IDE and maven didn't complain at all.</p>\n<p>Strange. This is a lot of work, but I think, within the scope of this question, is the solution.</p>\n"},{"tags":[],"owner":{"account_id":10749828,"reputation":1,"user_id":7909708,"display_name":"anilv0001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682926116,"creation_date":1682926116,"answer_id":76145354,"question_id":76073580,"body_markdown":"To generate Jakarta Swagger-UI compatible JSON from source code using Maven, you can use the Swagger Maven plugin. Here are the steps:\r\n\r\n1. Add the Swagger Maven plugin to your pom.xml file:\r\n\r\n     &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n          &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.1.7&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;compile&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n            &lt;outputFileName&gt;openapi&lt;/outputFileName&gt;\r\n            &lt;outputPath&gt;${project.build.directory}&lt;/outputPath&gt;\r\n            &lt;outputFormat&gt;JSON&lt;/outputFormat&gt;\r\n            &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n            &lt;resourcePackages&gt;\r\n              &lt;package&gt;com.example.api&lt;/package&gt;\r\n            &lt;/resourcePackages&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n 2. Modify the resourcePackages value to point to your API&#39;s package.\r\n\r\n 3. Run the Maven compile goal to generate the JSON file:\r\n\r\n    mvn compile\r\n 4. The generated JSON file will be located in the target directory, with the name openapi.json\r\n\r\n\r\nWith these steps, you should now have a Jakarta Swagger-UI compatible JSON file generated from your source code using Maven.\r\n\r\n","title":"Generate jakarta swagger-ui compatible JSON from source code using maven","body":"<p>To generate Jakarta Swagger-UI compatible JSON from source code using Maven, you can use the Swagger Maven plugin. Here are the steps:</p>\n<ol>\n<li><p>Add the Swagger Maven plugin to your pom.xml file:</p>\n  \n   \n     \n       io.swagger.core.v3\n       swagger-maven-plugin\n       2.1.7\n       \n         \n           compile\n           \n             generate\n           \n         \n       \n       \n         openapi\n         ${project.build.directory}\n         JSON\n         true\n         \n           com.example.api\n         \n       \n     \n   \n \n</li>\n<li><p>Modify the resourcePackages value to point to your API's package.</p>\n</li>\n<li><p>Run the Maven compile goal to generate the JSON file:</p>\n<p>mvn compile</p>\n</li>\n<li><p>The generated JSON file will be located in the target directory, with the name openapi.json</p>\n</li>\n</ol>\n<p>With these steps, you should now have a Jakarta Swagger-UI compatible JSON file generated from your source code using Maven.</p>\n"}],"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1898,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76089928,"answer_count":2,"score":0,"last_activity_date":1682926116,"creation_date":1682083342,"question_id":76073580,"body_markdown":"Lots of similar, but outdated answers here. I&#39;ve recently been migrating JavaEE -&gt; Jakarta of an old project when I get the chance. Noticed that all my swagger related profiles stopped generating the expected JSON/YAML.\r\n\r\nSo, how it worked before, is that it would use com.github.kongchen -&gt; swagger-maven-plugin.  It would do its black magic, and generate a json that swagger-ui could easily draw. \r\n\r\n\r\n    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.github.kongchen&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${swagger.maven-plugin.version}&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;apiSources&gt;\r\n                                &lt;apiSource&gt;\r\n                                    &lt;springmvc&gt;false&lt;/springmvc&gt;\r\n                                    &lt;locations&gt;\r\n                                        &lt;location&gt;path.to.source&lt;/location&gt;\r\n                                    &lt;/locations&gt;\r\n                                    &lt;schemes&gt;\r\n                                        &lt;sheme&gt;http&lt;/sheme&gt;\r\n                                    &lt;/schemes&gt;\r\n                                    &lt;host&gt;${swagger.api.host}&lt;/host&gt;\r\n                                    &lt;basePath&gt;${swagger.api.basePath}&lt;/basePath&gt;\r\n                                    &lt;info&gt;\r\n                                        &lt;title&gt;Specs&lt;/title&gt;\r\n                                        &lt;version&gt;v1&lt;/version&gt;\r\n                                        &lt;description&gt;${swagger.api.header.description}&lt;/description&gt;                                  \r\n                                    &lt;/info&gt;                            \r\n                                    &lt;templatePath&gt;${apisource.templatePath}&lt;/templatePath&gt;\r\n                                    &lt;outputPath&gt;${apisource.outputPath}&lt;/outputPath&gt;\r\n                                    &lt;swaggerDirectory&gt;${apisource.swaggerDirectory}&lt;/swaggerDirectory&gt;                                    \r\n                                &lt;/apiSource&gt;\r\n                            &lt;/apiSources&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;generate&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n \r\n\r\nThe JSON it generated looked like this:\r\n\r\n        {\r\n      &quot;swagger&quot; : &quot;2.0&quot;,\r\n      &quot;info&quot; : {\r\n        &quot;description&quot; : &quot;some description&quot;\r\n        &quot;version&quot; : &quot;v1&quot;,\r\n        &quot;title&quot; : &quot;Title&quot;\r\n      },\r\n      &quot;host&quot; : &quot;localhost:8080&quot;,\r\n      &quot;basePath&quot; : &quot;/path/rest&quot;,\r\n      &quot;tags&quot; : [ {\r\n        &quot;name&quot; : &quot;Service 1&quot;\r\n      }, {\r\n        &quot;name&quot; : &quot;Service 2&quot;\r\n        ...\r\n\r\n\r\nThe requests, responses models etc. were generated alright. Basically what I&#39;m trying to do is, have this, but compatible with Jakarta namespace.\r\n\r\nMigrating this, I had to use a different plugin, since kongchen doesn&#39;t support jakarta.\r\n\r\nThe resulting profile looks like this\r\n\r\n    &lt;profile&gt;\r\n            &lt;id&gt;new-generate-api-doc&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;swagger-jaxrs2-jakarta&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.2.8&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;swagger-ui&lt;/artifactId&gt;\r\n                    &lt;version&gt;${swagger-ui.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;swagger-integration-jakarta&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.2.8&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;swagger-annotations-jakarta&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.2.8&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n\r\n            &lt;/dependencies&gt;\r\n            &lt;properties&gt;\r\n                &lt;swagger.api.version&gt;v1&lt;/swagger.api.version&gt;\r\n            &lt;/properties&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;swagger-maven-plugin-jakarta&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.2.8&lt;/version&gt;\r\n\r\n                        &lt;configuration&gt;\r\n                            &lt;outputFileName&gt;swagger&lt;/outputFileName&gt;\r\n                            &lt;outputPath&gt;${apisource.swaggerDirectory}&lt;/outputPath&gt;\r\n                            &lt;outputFormat&gt;JSONANDYAML&lt;/outputFormat&gt;\r\n                            &lt;resourcePackages&gt;\r\n                                &lt;package&gt;com.packages.source&lt;/package&gt;\r\n                            &lt;/resourcePackages&gt;\r\n                            &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\r\n                            &lt;ignoredRoutes&gt;&lt;/ignoredRoutes&gt;\r\n                            &lt;configurationFilePath&gt;${apisource.swaggerDirectory}/openapi-configuration.yaml&lt;/configurationFilePath&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;resolve&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\nSomeone&#39;s going to ask, so here&#39;s the openapi-configuration.yaml:\r\n\r\n    resourcePackages:\r\n    - io.swagger.sample.resource\r\n    prettyPrint: true\r\n    cacheTTL: 0\r\n    openAPI:\r\n      info:\r\n        version: &#39;1.0&#39;\r\n        title: API services specification\r\n        description: Desc\r\n        termsOfService: http://swagger.io/terms/\r\n\r\nBut the resolved JSON looks nothing like the one before. No tags, no responses. I&#39;m clearly doing something very wrong. \r\n\r\n\r\nExample:\r\n\r\n  \r\n\r\n      {\r\n      &quot;openapi&quot; : &quot;3.0.1&quot;,\r\n      &quot;info&quot; : {\r\n        &quot;title&quot; : &quot;services specification&quot;,\r\n        &quot;termsOfService&quot; : &quot;http://swagger.io/terms/&quot;,\r\n        &quot;version&quot; : &quot;1.0&quot;\r\n      },\r\n      &quot;paths&quot; : {\r\n        &quot;/path/ann&quot; : {\r\n          &quot;get&quot; : {\r\n            &quot;operationId&quot; : &quot;getAnn&quot;,\r\n            &quot;parameters&quot; : [ {\r\n              &quot;name&quot; : &quot;type&quot;,\r\n              &quot;in&quot; : &quot;query&quot;,\r\n              &quot;schema&quot; : {\r\n                &quot;type&quot; : &quot;string&quot;\r\n              }\r\n            }, {\r\n              &quot;name&quot; : &quot;orderby&quot;,\r\n              &quot;in&quot; : &quot;query&quot;,\r\n              &quot;schema&quot; : {\r\n                &quot;type&quot; : &quot;string&quot;\r\n              }\r\n            } ],\r\n            **&quot;responses&quot; : {\r\n              &quot;default&quot; : {\r\n                &quot;description&quot; : &quot;default response&quot;,\r\n                &quot;content&quot; : {\r\n                  &quot;application/json&quot; : { }\r\n                }\r\n              }**\r\n            }\r\n          },\r\n    ...\r\n        &quot;/api/v1/asset&quot; : {\r\n          &quot;get&quot; : {\r\n            &quot;operationId&quot; : &quot;getAllAssetsFromAssetIndex&quot;,\r\n            &quot;parameters&quot; : [ {\r\n              &quot;name&quot; : &quot;regnumber&quot;,\r\n              &quot;in&quot; : &quot;query&quot;,\r\n              &quot;schema&quot; : {\r\n                &quot;type&quot; : &quot;string&quot;\r\n              }\r\n            }, {\r\n              &quot;name&quot; : &quot;vinnumber&quot;,\r\n              &quot;in&quot; : &quot;query&quot;,\r\n              &quot;schema&quot; : {\r\n                &quot;type&quot; : &quot;string&quot;\r\n              }\r\n            }, {\r\n              &quot;name&quot; : &quot;orderby&quot;,\r\n              &quot;in&quot; : &quot;query&quot;,\r\n              &quot;schema&quot; : {\r\n                &quot;type&quot; : &quot;string&quot;\r\n              }\r\n            } ],\r\n            &quot;responses&quot; : {\r\n              &quot;default&quot; : {\r\n                &quot;description&quot; : &quot;default response&quot;,\r\n                &quot;content&quot; : {\r\n                  &quot;application/json&quot; : { }\r\n                }\r\n              }\r\n            }\r\n          },\r\n\r\nNotice the empty &quot;content&quot; field, no tags, etc. The code remained the same in this case, so the same annotations as before are used. \r\n\r\nRequests are properly generated, so are the namespaces. But it&#39;s noticeable that I&#39;m generating a completely different JSON, which is then reflected in the display.\r\n\r\nExample of a service&#39;s annotations:\r\n\r\n        @Stateless\r\n    @Path(AssetServiceApiV1.BASE_URL)\r\n    @Api(value = &quot;/&quot; + AssetServiceApiV1.BASE_URL, tags = {AssetServiceApiV1.ASSET_SERVICE_TAG})\r\n    public class AssetServiceApiV1 extends RestServiceBaseApiV1 {\r\n    \r\n        public static final String BASE_URL = &quot;api/v1/asset&quot;;\r\n        public static final String ASSET_SERVICE_TAG = &quot;Asset service&quot;;\r\n    \r\n        @GET\r\n        @ApiOperation(\r\n                httpMethod = &quot;GET&quot;,\r\n                value = &quot;Get assets&quot; + BEGIN_PARENS + APIFunctionalities.API_ASSET_READ + END_PARENS,\r\n                notes = &quot;Returns active assets with basic data. Various optional parameters are available.&quot;,\r\n                response = AssetListV1Dto.class,\r\n                responseContainer = OBJECT,\r\n                produces = MediaType.APPLICATION_JSON,\r\n                tags = {ASSET_SERVICE_TAG},\r\n                code = 207\r\n        )\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public Response getAllAssetsFromAssetIndex(\r\n                @ApiParam(value = &quot;Registration number&quot;) @QueryParam(&quot;regnumber&quot;) String registrationNumber,\r\n                @ApiParam(value = &quot;...&quot;) @QueryParam(&quot;...&quot;) String ...,\r\n                @ApiParam(value = &quot;Available order by parameters are id, ..., ...&quot;) @QueryParam(&quot;orderby&quot;) String orderBy) {\r\n    ...\r\n        }\r\n\r\nAnd here&#39;s the response object:\r\n\r\n     @ApiModel(value = &quot;Asset List Resource&quot;, description = &quot;Asset list resource representation&quot;)\r\n        public static class AssetListV1Dto {\r\n    \r\n            @ApiModelProperty(value = &quot;List of assets&quot;, required = true)\r\n            public List&lt;AssetV1Dto&gt; assetList;\r\n            @ApiModelProperty(value = &quot;List size&quot;, required = true)\r\n            public int size;\r\n    ...\r\n\r\n        }\r\n\r\nI could be just miles away from the right solution, and am generating something completely different. Anything helps. Not using Spring here, btw. \r\n\r\n\r\nBut I&#39;m absolutely stuck, I have no idea what to use to generate a json similar to the one that the old plugin generated, and I&#39;ve been using swagger-editor on the cloud to verify the output. ","title":"Generate jakarta swagger-ui compatible JSON from source code using maven","body":"<p>Lots of similar, but outdated answers here. I've recently been migrating JavaEE -&gt; Jakarta of an old project when I get the chance. Noticed that all my swagger related profiles stopped generating the expected JSON/YAML.</p>\n<p>So, how it worked before, is that it would use com.github.kongchen -&gt; swagger-maven-plugin.  It would do its black magic, and generate a json that swagger-ui could easily draw.</p>\n<pre><code>&lt;plugin&gt;\n                    &lt;groupId&gt;com.github.kongchen&lt;/groupId&gt;\n                    &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${swagger.maven-plugin.version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;apiSources&gt;\n                            &lt;apiSource&gt;\n                                &lt;springmvc&gt;false&lt;/springmvc&gt;\n                                &lt;locations&gt;\n                                    &lt;location&gt;path.to.source&lt;/location&gt;\n                                &lt;/locations&gt;\n                                &lt;schemes&gt;\n                                    &lt;sheme&gt;http&lt;/sheme&gt;\n                                &lt;/schemes&gt;\n                                &lt;host&gt;${swagger.api.host}&lt;/host&gt;\n                                &lt;basePath&gt;${swagger.api.basePath}&lt;/basePath&gt;\n                                &lt;info&gt;\n                                    &lt;title&gt;Specs&lt;/title&gt;\n                                    &lt;version&gt;v1&lt;/version&gt;\n                                    &lt;description&gt;${swagger.api.header.description}&lt;/description&gt;                                  \n                                &lt;/info&gt;                            \n                                &lt;templatePath&gt;${apisource.templatePath}&lt;/templatePath&gt;\n                                &lt;outputPath&gt;${apisource.outputPath}&lt;/outputPath&gt;\n                                &lt;swaggerDirectory&gt;${apisource.swaggerDirectory}&lt;/swaggerDirectory&gt;                                    \n                            &lt;/apiSource&gt;\n                        &lt;/apiSources&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>The JSON it generated looked like this:</p>\n<pre><code>    {\n  &quot;swagger&quot; : &quot;2.0&quot;,\n  &quot;info&quot; : {\n    &quot;description&quot; : &quot;some description&quot;\n    &quot;version&quot; : &quot;v1&quot;,\n    &quot;title&quot; : &quot;Title&quot;\n  },\n  &quot;host&quot; : &quot;localhost:8080&quot;,\n  &quot;basePath&quot; : &quot;/path/rest&quot;,\n  &quot;tags&quot; : [ {\n    &quot;name&quot; : &quot;Service 1&quot;\n  }, {\n    &quot;name&quot; : &quot;Service 2&quot;\n    ...\n</code></pre>\n<p>The requests, responses models etc. were generated alright. Basically what I'm trying to do is, have this, but compatible with Jakarta namespace.</p>\n<p>Migrating this, I had to use a different plugin, since kongchen doesn't support jakarta.</p>\n<p>The resulting profile looks like this</p>\n<pre><code>&lt;profile&gt;\n        &lt;id&gt;new-generate-api-doc&lt;/id&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-jaxrs2-jakarta&lt;/artifactId&gt;\n                &lt;version&gt;2.2.8&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-ui&lt;/artifactId&gt;\n                &lt;version&gt;${swagger-ui.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-integration-jakarta&lt;/artifactId&gt;\n                &lt;version&gt;2.2.8&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-annotations-jakarta&lt;/artifactId&gt;\n                &lt;version&gt;2.2.8&lt;/version&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n        &lt;properties&gt;\n            &lt;swagger.api.version&gt;v1&lt;/swagger.api.version&gt;\n        &lt;/properties&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n                    &lt;artifactId&gt;swagger-maven-plugin-jakarta&lt;/artifactId&gt;\n                    &lt;version&gt;2.2.8&lt;/version&gt;\n\n                    &lt;configuration&gt;\n                        &lt;outputFileName&gt;swagger&lt;/outputFileName&gt;\n                        &lt;outputPath&gt;${apisource.swaggerDirectory}&lt;/outputPath&gt;\n                        &lt;outputFormat&gt;JSONANDYAML&lt;/outputFormat&gt;\n                        &lt;resourcePackages&gt;\n                            &lt;package&gt;com.packages.source&lt;/package&gt;\n                        &lt;/resourcePackages&gt;\n                        &lt;prettyPrint&gt;true&lt;/prettyPrint&gt;\n                        &lt;ignoredRoutes&gt;&lt;/ignoredRoutes&gt;\n                        &lt;configurationFilePath&gt;${apisource.swaggerDirectory}/openapi-configuration.yaml&lt;/configurationFilePath&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;resolve&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>Someone's going to ask, so here's the openapi-configuration.yaml:</p>\n<pre><code>resourcePackages:\n- io.swagger.sample.resource\nprettyPrint: true\ncacheTTL: 0\nopenAPI:\n  info:\n    version: '1.0'\n    title: API services specification\n    description: Desc\n    termsOfService: http://swagger.io/terms/\n</code></pre>\n<p>But the resolved JSON looks nothing like the one before. No tags, no responses. I'm clearly doing something very wrong.</p>\n<p>Example:</p>\n<pre><code>  {\n  &quot;openapi&quot; : &quot;3.0.1&quot;,\n  &quot;info&quot; : {\n    &quot;title&quot; : &quot;services specification&quot;,\n    &quot;termsOfService&quot; : &quot;http://swagger.io/terms/&quot;,\n    &quot;version&quot; : &quot;1.0&quot;\n  },\n  &quot;paths&quot; : {\n    &quot;/path/ann&quot; : {\n      &quot;get&quot; : {\n        &quot;operationId&quot; : &quot;getAnn&quot;,\n        &quot;parameters&quot; : [ {\n          &quot;name&quot; : &quot;type&quot;,\n          &quot;in&quot; : &quot;query&quot;,\n          &quot;schema&quot; : {\n            &quot;type&quot; : &quot;string&quot;\n          }\n        }, {\n          &quot;name&quot; : &quot;orderby&quot;,\n          &quot;in&quot; : &quot;query&quot;,\n          &quot;schema&quot; : {\n            &quot;type&quot; : &quot;string&quot;\n          }\n        } ],\n        **&quot;responses&quot; : {\n          &quot;default&quot; : {\n            &quot;description&quot; : &quot;default response&quot;,\n            &quot;content&quot; : {\n              &quot;application/json&quot; : { }\n            }\n          }**\n        }\n      },\n...\n    &quot;/api/v1/asset&quot; : {\n      &quot;get&quot; : {\n        &quot;operationId&quot; : &quot;getAllAssetsFromAssetIndex&quot;,\n        &quot;parameters&quot; : [ {\n          &quot;name&quot; : &quot;regnumber&quot;,\n          &quot;in&quot; : &quot;query&quot;,\n          &quot;schema&quot; : {\n            &quot;type&quot; : &quot;string&quot;\n          }\n        }, {\n          &quot;name&quot; : &quot;vinnumber&quot;,\n          &quot;in&quot; : &quot;query&quot;,\n          &quot;schema&quot; : {\n            &quot;type&quot; : &quot;string&quot;\n          }\n        }, {\n          &quot;name&quot; : &quot;orderby&quot;,\n          &quot;in&quot; : &quot;query&quot;,\n          &quot;schema&quot; : {\n            &quot;type&quot; : &quot;string&quot;\n          }\n        } ],\n        &quot;responses&quot; : {\n          &quot;default&quot; : {\n            &quot;description&quot; : &quot;default response&quot;,\n            &quot;content&quot; : {\n              &quot;application/json&quot; : { }\n            }\n          }\n        }\n      },\n</code></pre>\n<p>Notice the empty &quot;content&quot; field, no tags, etc. The code remained the same in this case, so the same annotations as before are used.</p>\n<p>Requests are properly generated, so are the namespaces. But it's noticeable that I'm generating a completely different JSON, which is then reflected in the display.</p>\n<p>Example of a service's annotations:</p>\n<pre><code>    @Stateless\n@Path(AssetServiceApiV1.BASE_URL)\n@Api(value = &quot;/&quot; + AssetServiceApiV1.BASE_URL, tags = {AssetServiceApiV1.ASSET_SERVICE_TAG})\npublic class AssetServiceApiV1 extends RestServiceBaseApiV1 {\n\n    public static final String BASE_URL = &quot;api/v1/asset&quot;;\n    public static final String ASSET_SERVICE_TAG = &quot;Asset service&quot;;\n\n    @GET\n    @ApiOperation(\n            httpMethod = &quot;GET&quot;,\n            value = &quot;Get assets&quot; + BEGIN_PARENS + APIFunctionalities.API_ASSET_READ + END_PARENS,\n            notes = &quot;Returns active assets with basic data. Various optional parameters are available.&quot;,\n            response = AssetListV1Dto.class,\n            responseContainer = OBJECT,\n            produces = MediaType.APPLICATION_JSON,\n            tags = {ASSET_SERVICE_TAG},\n            code = 207\n    )\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getAllAssetsFromAssetIndex(\n            @ApiParam(value = &quot;Registration number&quot;) @QueryParam(&quot;regnumber&quot;) String registrationNumber,\n            @ApiParam(value = &quot;...&quot;) @QueryParam(&quot;...&quot;) String ...,\n            @ApiParam(value = &quot;Available order by parameters are id, ..., ...&quot;) @QueryParam(&quot;orderby&quot;) String orderBy) {\n...\n    }\n</code></pre>\n<p>And here's the response object:</p>\n<pre><code> @ApiModel(value = &quot;Asset List Resource&quot;, description = &quot;Asset list resource representation&quot;)\n    public static class AssetListV1Dto {\n\n        @ApiModelProperty(value = &quot;List of assets&quot;, required = true)\n        public List&lt;AssetV1Dto&gt; assetList;\n        @ApiModelProperty(value = &quot;List size&quot;, required = true)\n        public int size;\n...\n\n    }\n</code></pre>\n<p>I could be just miles away from the right solution, and am generating something completely different. Anything helps. Not using Spring here, btw.</p>\n<p>But I'm absolutely stuck, I have no idea what to use to generate a json similar to the one that the old plugin generated, and I've been using swagger-editor on the cloud to verify the output.</p>\n"},{"tags":["java","garbage-collection","jvm","g1gc"],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1609186085,"creation_date":1609186085,"answer_id":65483460,"question_id":65475533,"body_markdown":"Let&#39;s first put some things in correct order. A `Card Table` shows were there _might_ be incoming references into this region. It does sort of a &quot;hash&quot;. For a single byte in the card table - there are _many_ bytes in the old region. It&#39;s like saying that if (in theory) you have a card table that looks like this (a single card is marked as &quot;dirty&quot;)\r\n\r\n    0 1 0 0 0 0\r\n\r\nFor that `1` (dirty card) there is a certain mapping in the old region that needs to be scanned also, when scanning the young regions.\r\n\r\n\r\n          0          1      0     .....\r\n  \r\n        0 - 512   512-1024  ...........\r\n\r\nSo that dirty card corresponds to a certain portion (from 512 to 1024 bytes) in the old generation, that will be scanned also, as part of the young generation scanning. \r\n    \r\n---\r\n\r\nG1 has regions and now you need to understand how `CT` and `RS` work in tandem. Let&#39;s say GC scans `Region1` at this point in time, it takes everything that is alive from this region and copies into `Region2`. At the same time `Region2` has references to `Region3`. If we use `CT`, `Region2` will be marked as &quot;dirty&quot; (by placing the specific card in the card table). \r\n\r\nNext cycle wants to scan `Region3`. How does `Region3` knows if there are _other_ regions that might point into it? And indeed there are such cases: `Region2` has references into `Region3`. Well, it could look into the `CT` and check every single dirty card (and thus every region that these dirty cards corresponds to) and see if there are references from any of those regions in here. Think about it: in order to clear `Region3`, `G1` has to look at the _entire_ `CT`. In the worst case scenario, it should be scanning the entire heap - for a single region.\r\n\r\nThus: `Remembered Sets`. These data structures are populated based on what `CT` knows about, by an asynchronous thread. When `Region2` is marked as dirty, an asynchronous thread will start computing its `RS`. When `Region3` needs to be scanned, its `RS` will only have an entry with `Region2`.\r\n\r\nThus, in order to scan a single region, `G1` _only_ needs to look into that particular `RS`.","title":"Java G1GC - Card Table (CT) vs Remembered Set (RS)","body":"<p>Let's first put some things in correct order. A <code>Card Table</code> shows were there <em>might</em> be incoming references into this region. It does sort of a &quot;hash&quot;. For a single byte in the card table - there are <em>many</em> bytes in the old region. It's like saying that if (in theory) you have a card table that looks like this (a single card is marked as &quot;dirty&quot;)</p>\n<pre><code>0 1 0 0 0 0\n</code></pre>\n<p>For that <code>1</code> (dirty card) there is a certain mapping in the old region that needs to be scanned also, when scanning the young regions.</p>\n<pre><code>      0          1      0     .....\n\n    0 - 512   512-1024  ...........\n</code></pre>\n<p>So that dirty card corresponds to a certain portion (from 512 to 1024 bytes) in the old generation, that will be scanned also, as part of the young generation scanning.</p>\n<hr />\n<p>G1 has regions and now you need to understand how <code>CT</code> and <code>RS</code> work in tandem. Let's say GC scans <code>Region1</code> at this point in time, it takes everything that is alive from this region and copies into <code>Region2</code>. At the same time <code>Region2</code> has references to <code>Region3</code>. If we use <code>CT</code>, <code>Region2</code> will be marked as &quot;dirty&quot; (by placing the specific card in the card table).</p>\n<p>Next cycle wants to scan <code>Region3</code>. How does <code>Region3</code> knows if there are <em>other</em> regions that might point into it? And indeed there are such cases: <code>Region2</code> has references into <code>Region3</code>. Well, it could look into the <code>CT</code> and check every single dirty card (and thus every region that these dirty cards corresponds to) and see if there are references from any of those regions in here. Think about it: in order to clear <code>Region3</code>, <code>G1</code> has to look at the <em>entire</em> <code>CT</code>. In the worst case scenario, it should be scanning the entire heap - for a single region.</p>\n<p>Thus: <code>Remembered Sets</code>. These data structures are populated based on what <code>CT</code> knows about, by an asynchronous thread. When <code>Region2</code> is marked as dirty, an asynchronous thread will start computing its <code>RS</code>. When <code>Region3</code> needs to be scanned, its <code>RS</code> will only have an entry with <code>Region2</code>.</p>\n<p>Thus, in order to scan a single region, <code>G1</code> <em>only</em> needs to look into that particular <code>RS</code>.</p>\n"},{"tags":[],"owner":{"account_id":3597289,"reputation":639,"user_id":3001591,"display_name":"dknight"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682925138,"creation_date":1682925138,"answer_id":76145282,"question_id":65475533,"body_markdown":"Let&#39;s look at the below picture:\r\n[![enter image description here][1]][1]\r\n\r\nDuring the young GC, the E and G objects are not reachable from GC Roots. So they might be remarked as &#39;dead&#39; objects. If that happened, it will cause unpredictable problem. \r\n\r\nConsidering scanning the whole heap is too time-consuming, JVM use rememberSet\r\n(RSet) to store all the locations which has a pointers to objects within this region. The follow-up image show a example RSet of Region 5.\r\n[![enter image description here][2]][2]\r\n\r\nThere&#39;re different implemtations dependig on various granularity of the RSet.\r\nFor simplicity, if the RSet just record the reference Region index. \r\nRSet of Region 5 = {Region7, Region3}. \r\n\r\nTo check object liveness, GC is still need to scan two entire Region. The easiest optimization should be that GC divide a Region into serveral small areas/pages. Every areas has a flag in card table(CT).  Assuming the area contains objects pointer to outside region, the corresponding flag is marked as  *dirty* value. \r\n\r\nSo card table is used to indicate whether it contaion a pointer from old generation to young generation. It&#39;s particular type of RSet.\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pxfki.jpg\r\n  [2]: https://i.stack.imgur.com/J6Jds.png","title":"Java G1GC - Card Table (CT) vs Remembered Set (RS)","body":"<p>Let's look at the below picture:\n<a href=\"https://i.stack.imgur.com/Pxfki.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pxfki.jpg\" alt=\"enter image description here\" /></a></p>\n<p>During the young GC, the E and G objects are not reachable from GC Roots. So they might be remarked as 'dead' objects. If that happened, it will cause unpredictable problem.</p>\n<p>Considering scanning the whole heap is too time-consuming, JVM use rememberSet\n(RSet) to store all the locations which has a pointers to objects within this region. The follow-up image show a example RSet of Region 5.\n<a href=\"https://i.stack.imgur.com/J6Jds.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J6Jds.png\" alt=\"enter image description here\" /></a></p>\n<p>There're different implemtations dependig on various granularity of the RSet.\nFor simplicity, if the RSet just record the reference Region index.\nRSet of Region 5 = {Region7, Region3}.</p>\n<p>To check object liveness, GC is still need to scan two entire Region. The easiest optimization should be that GC divide a Region into serveral small areas/pages. Every areas has a flag in card table(CT).  Assuming the area contains objects pointer to outside region, the corresponding flag is marked as  <em>dirty</em> value.</p>\n<p>So card table is used to indicate whether it contaion a pointer from old generation to young generation. It's particular type of RSet.</p>\n"}],"owner":{"account_id":15128202,"reputation":847,"user_id":10916892,"display_name":"user10916892"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1186,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65483460,"answer_count":2,"score":3,"last_activity_date":1682925138,"creation_date":1609147948,"question_id":65475533,"body_markdown":"Why g1 needs both of these data structures ?\r\n\r\nMy understanding is:\r\n1. CT holds the information about references&#39; actual location in old generation.\r\n2. RS is specific to each region, each region has one RS associated with it, it stores info about \r\n   outside references which points to objects in this region. So while navigating RS, actual location\r\n   of reference can be found using CT.\r\n \r\n\r\nWhy can&#39;t RS hold all of the information instead of using CT ?\r\n\r\nIs it because otherwise there would be too much of duplicate data stored in different RSs ?\r\nFor example - Young generation has regions A and B, objects in both these regions have same outside reference from old generation.\r\nIn this case both RSs associated with region A and B will store this information which is redundant, is this explanation correct ?\r\n","title":"Java G1GC - Card Table (CT) vs Remembered Set (RS)","body":"<p>Why g1 needs both of these data structures ?</p>\n<p>My understanding is:</p>\n<ol>\n<li>CT holds the information about references' actual location in old generation.</li>\n<li>RS is specific to each region, each region has one RS associated with it, it stores info about\noutside references which points to objects in this region. So while navigating RS, actual location\nof reference can be found using CT.</li>\n</ol>\n<p>Why can't RS hold all of the information instead of using CT ?</p>\n<p>Is it because otherwise there would be too much of duplicate data stored in different RSs ?\nFor example - Young generation has regions A and B, objects in both these regions have same outside reference from old generation.\nIn this case both RSs associated with region A and B will store this information which is redundant, is this explanation correct ?</p>\n"},{"tags":["java","android","android-linearlayout","android-constraintlayout"],"comments":[{"owner":{"account_id":19108179,"reputation":184,"user_id":13954798,"display_name":"Mimimishkin"},"score":0,"creation_date":1682888778,"post_id":76143314,"comment_id":134282000,"body_markdown":"Why do you use `Gravity.CENTER` at the same time as margins? I also don&#39;t understand why you need a `LinearLayout` if it&#39;s only used as a `FrameLayout`. And it also seems to me that x is confused with y.","body":"Why do you use <code>Gravity.CENTER</code> at the same time as margins? I also don&#39;t understand why you need a <code>LinearLayout</code> if it&#39;s only used as a <code>FrameLayout</code>. And it also seems to me that x is confused with y."}],"answers":[{"tags":[],"owner":{"account_id":26204745,"reputation":11,"user_id":19884490,"display_name":"Pintu Parikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682925108,"creation_date":1682925108,"answer_id":76145279,"question_id":76143314,"body_markdown":"You can use this lib as a solution.\r\n\r\n[https://github.com/ogaclejapan/ArcLayout][1]\r\n\r\n\r\n  [1]: https://ArcLayout\r\n\r\nBut you have to make some customisation. By defalut open the Arc view and set name of players around the center View.","title":"Programatically adding rotated TextViews around a circle in android (Java)","body":"<p>You can use this lib as a solution.</p>\n<p><a href=\"https://ArcLayout\" rel=\"nofollow noreferrer\">https://github.com/ogaclejapan/ArcLayout</a></p>\n<p>But you have to make some customisation. By defalut open the Arc view and set name of players around the center View.</p>\n"}],"owner":{"account_id":27622539,"reputation":1,"user_id":21083239,"display_name":"Atilla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682925108,"creation_date":1682885452,"question_id":76143314,"body_markdown":"I&#39;m making a game. In the game, I would like to display player names around a circle as if they are sitting around a table. I&#39;m using vertical Linear Layout as the table and Constraint Layout as the main layout. I&#39;m trying to add the TextViews **programatically.**\r\n\r\nI tried various solutions including calculating the positions of the player names with trigonometric functions and radius. I asked GPT a couple of times but it kept failing, either TextViews didn&#39;t get displayed or they stacked on each other in the middle of the table rather than being displayed around it.  \r\nI also tried the solution at https://stackoverflow.com/questions/14173012/android-layout-views-rotated-and-spaced-around-a-circle, but it didn&#39;t work.\r\n\r\n    package com.example.puzzlegame;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity; import androidx.constraintlayout.widget.ConstraintLayout;\r\n    \r\n    import android.graphics.Color; import android.graphics.drawable.GradientDrawable; import android.os.Bundle; import android.util.Log; import android.view.Gravity; import android.view.View; import android.view.ViewGroup; import android.widget.Button; import android.widget.ImageView; import android.widget.LinearLayout; import android.widget.TextView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class GameActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_game);\r\n    \r\n        ArrayList\\&lt;Player\\&gt; players = Player.getPlayers();\r\n        int numberOfPlayers = players.size();\r\n    \r\n        LinearLayout tableLayout = findViewById(R.id.table_layout);\r\n        tableLayout.setBackgroundResource(R.drawable.round_table);\r\n        tableLayout.setGravity(Gravity.CENTER);\r\n    \r\n        // Calculate the angle between each player\r\n        double angle = 2 \\* Math.PI / numberOfPlayers;\r\n    \r\n        // Calculate the radius of the circular arrangement\r\n        int radius = Math.min(tableLayout.getWidth(), tableLayout.getHeight()) / 2;\r\n    \r\n        // Clear any existing views in the tableLayout\r\n        tableLayout.removeAllViews();\r\n    \r\n        // Add rotated TextViews for each player\r\n        for (int i = 0; i \\&lt; numberOfPlayers; i++) {\r\n            TextView playerNameTextView = new TextView(this);\r\n            playerNameTextView.setText(players.get(i).getName());\r\n            playerNameTextView.setTextColor(Color.WHITE);\r\n            playerNameTextView.setGravity(Gravity.CENTER);\r\n    \r\n            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\r\n                    ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                    ViewGroup.LayoutParams.WRAP_CONTENT\r\n            );\r\n    \r\n            // Calculate the coordinates of the TextView based on the angle and radius\r\n            int x = (int) (radius \\* Math.sin(i \\* angle));\r\n            int y = (int) (radius \\* Math.cos(i \\* angle));\r\n            params.setMargins(x, y, 0, 0);\r\n    \r\n            playerNameTextView.setLayoutParams(params);\r\n            tableLayout.addView(playerNameTextView);\r\n        }\r\n    }\r\n\r\n}","title":"Programatically adding rotated TextViews around a circle in android (Java)","body":"<p>I'm making a game. In the game, I would like to display player names around a circle as if they are sitting around a table. I'm using vertical Linear Layout as the table and Constraint Layout as the main layout. I'm trying to add the TextViews <strong>programatically.</strong></p>\n<p>I tried various solutions including calculating the positions of the player names with trigonometric functions and radius. I asked GPT a couple of times but it kept failing, either TextViews didn't get displayed or they stacked on each other in the middle of the table rather than being displayed around it.<br />\nI also tried the solution at <a href=\"https://stackoverflow.com/questions/14173012/android-layout-views-rotated-and-spaced-around-a-circle\">Android Layout views rotated and spaced around a circle?</a>, but it didn't work.</p>\n<pre><code>package com.example.puzzlegame;\n\nimport androidx.appcompat.app.AppCompatActivity; import androidx.constraintlayout.widget.ConstraintLayout;\n\nimport android.graphics.Color; import android.graphics.drawable.GradientDrawable; import android.os.Bundle; import android.util.Log; import android.view.Gravity; import android.view.View; import android.view.ViewGroup; import android.widget.Button; import android.widget.ImageView; import android.widget.LinearLayout; import android.widget.TextView;\n\nimport java.util.ArrayList;\n\npublic class GameActivity extends AppCompatActivity {\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_game);\n\n    ArrayList\\&lt;Player\\&gt; players = Player.getPlayers();\n    int numberOfPlayers = players.size();\n\n    LinearLayout tableLayout = findViewById(R.id.table_layout);\n    tableLayout.setBackgroundResource(R.drawable.round_table);\n    tableLayout.setGravity(Gravity.CENTER);\n\n    // Calculate the angle between each player\n    double angle = 2 \\* Math.PI / numberOfPlayers;\n\n    // Calculate the radius of the circular arrangement\n    int radius = Math.min(tableLayout.getWidth(), tableLayout.getHeight()) / 2;\n\n    // Clear any existing views in the tableLayout\n    tableLayout.removeAllViews();\n\n    // Add rotated TextViews for each player\n    for (int i = 0; i \\&lt; numberOfPlayers; i++) {\n        TextView playerNameTextView = new TextView(this);\n        playerNameTextView.setText(players.get(i).getName());\n        playerNameTextView.setTextColor(Color.WHITE);\n        playerNameTextView.setGravity(Gravity.CENTER);\n\n        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\n                ViewGroup.LayoutParams.WRAP_CONTENT,\n                ViewGroup.LayoutParams.WRAP_CONTENT\n        );\n\n        // Calculate the coordinates of the TextView based on the angle and radius\n        int x = (int) (radius \\* Math.sin(i \\* angle));\n        int y = (int) (radius \\* Math.cos(i \\* angle));\n        params.setMargins(x, y, 0, 0);\n\n        playerNameTextView.setLayoutParams(params);\n        tableLayout.addView(playerNameTextView);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1609591187,"post_id":65538972,"comment_id":115872087,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":20330677,"reputation":43,"user_id":14912757,"display_name":"Francesco Bottiglia"},"score":0,"creation_date":1609592885,"post_id":65538972,"comment_id":115872505,"body_markdown":"I tried this https://www.youtube.com/watch?v=EM2x33g4syY and https://www.youtube.com/watch?v=iy6WexahCdY and others, but nothig works @Alex Mamo","body":"I tried this <a href=\"https://www.youtube.com/watch?v=EM2x33g4syY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=EM2x33g4syY</a> and <a href=\"https://www.youtube.com/watch?v=iy6WexahCdY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=iy6WexahCdY</a> and others, but nothig works @Alex Mamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1609593323,"post_id":65538972,"comment_id":115872615,"body_markdown":"I&#39;ve asked what have **you** tried, not what tutorials you watched.","body":"I&#39;ve asked what have <b>you</b> tried, not what tutorials you watched."},{"owner":{"account_id":20330677,"reputation":43,"user_id":14912757,"display_name":"Francesco Bottiglia"},"score":0,"creation_date":1609593545,"post_id":65538972,"comment_id":115872663,"body_markdown":"Sorry for the misunderstanding. I added the code in the question.","body":"Sorry for the misunderstanding. I added the code in the question."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1609594586,"post_id":65538972,"comment_id":115872936,"body_markdown":"Have you tried to attach a listener to the setValue() operation to see if something is wrong? Besides that, is the onComplete() even triggered?","body":"Have you tried to attach a listener to the setValue() operation to see if something is wrong? Besides that, is the onComplete() even triggered?"},{"owner":{"account_id":20330677,"reputation":43,"user_id":14912757,"display_name":"Francesco Bottiglia"},"score":0,"creation_date":1609594882,"post_id":65538972,"comment_id":115873024,"body_markdown":"I haven&#39;t tried adding the listener to setValue (). The onComplete does not generate any errors, in fact in the console there are no traces of errors nor the application crushes.","body":"I haven&#39;t tried adding the listener to setValue (). The onComplete does not generate any errors, in fact in the console there are no traces of errors nor the application crushes."},{"owner":{"account_id":17414030,"reputation":190,"user_id":12620736,"display_name":"Suvajit Patra"},"score":0,"creation_date":1609595101,"post_id":65538972,"comment_id":115873086,"body_markdown":"@FrancescoBottiglia please send your User class and check the firebase realtime database rules.","body":"@FrancescoBottiglia please send your User class and check the firebase realtime database rules."},{"owner":{"account_id":20330677,"reputation":43,"user_id":14912757,"display_name":"Francesco Bottiglia"},"score":0,"creation_date":1609595402,"post_id":65538972,"comment_id":115873179,"body_markdown":"I added my User class code and this are the firebase realtime rules: {\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n  }\n} @Suvajit Patra","body":"I added my User class code and this are the firebase realtime rules: {   &quot;rules&quot;: {     &quot;.read&quot;: true,     &quot;.write&quot;: true   } } @Suvajit Patra"},{"owner":{"account_id":17414030,"reputation":190,"user_id":12620736,"display_name":"Suvajit Patra"},"score":0,"creation_date":1609596317,"post_id":65538972,"comment_id":115873490,"body_markdown":"Don&#39;t insert class objects insert hashmap object.","body":"Don&#39;t insert class objects insert hashmap object."},{"owner":{"account_id":17414030,"reputation":190,"user_id":12620736,"display_name":"Suvajit Patra"},"score":0,"creation_date":1609596481,"post_id":65538972,"comment_id":115873529,"body_markdown":"make a new hashmap insert the username, email into that and then use `reff.child(tableName).child(mAuth.getCurrentUser.getUid()).setValue(userHashmap)`;","body":"make a new hashmap insert the username, email into that and then use <code>reff.child(tableName).child(mAuth.getCurrentUser.getUid()).s&zwnj;&#8203;etValue(userHashmap)</code>&zwnj;&#8203;;"},{"owner":{"account_id":20330677,"reputation":43,"user_id":14912757,"display_name":"Francesco Bottiglia"},"score":0,"creation_date":1609597588,"post_id":65538972,"comment_id":115873879,"body_markdown":"@Suvajit Patra  I&#39;ve tried also your solution but it doesn&#39;t work :(.... i&#39;ve added this after creating tableName, Map&lt;String, String&gt; userMap = new HashMap&lt;String, String&gt;(); then in onComplete method i&#39;ve added: userMap.put(fullName, email);\n                    String currentUser = mAuth.getCurrentUser().getUid();\n\n                    reff.child(tableName).child(currentUser).setValue(userMap);","body":"@Suvajit Patra  I&#39;ve tried also your solution but it doesn&#39;t work :(.... i&#39;ve added this after creating tableName, Map&lt;String, String&gt; userMap = new HashMap&lt;String, String&gt;(); then in onComplete method i&#39;ve added: userMap.put(fullName, email);                     String currentUser = mAuth.getCurrentUser().getUid();                      reff.child(tableName).child(currentUser).setValue(userMap);"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1609597932,"post_id":65538972,"comment_id":115873999,"body_markdown":"@FrancescoBottiglia If you haven&#39;t, then you should attach the complete listener. I wasn&#39;t asking if the onComple() generates an error, I have asked if it&#39;s triggered. Is that Toast message displayed?","body":"@FrancescoBottiglia If you haven&#39;t, then you should attach the complete listener. I wasn&#39;t asking if the onComple() generates an error, I have asked if it&#39;s triggered. Is that Toast message displayed?"},{"owner":{"account_id":20330677,"reputation":43,"user_id":14912757,"display_name":"Francesco Bottiglia"},"score":0,"creation_date":1609598063,"post_id":65538972,"comment_id":115874031,"body_markdown":"@Alex Mamo yes it&#39;s triggered and starts new activity","body":"@Alex Mamo yes it&#39;s triggered and starts new activity"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1609599119,"post_id":65538972,"comment_id":115874335,"body_markdown":"@FrancescoBottiglia Try to attach the listener and see what you get.","body":"@FrancescoBottiglia Try to attach the listener and see what you get."},{"owner":{"account_id":20330677,"reputation":43,"user_id":14912757,"display_name":"Francesco Bottiglia"},"score":0,"creation_date":1609599825,"post_id":65538972,"comment_id":115874582,"body_markdown":"@Alex Mamo I&#39;ve tried to attach listener and now i get this:    com.google.firebase.database.DatabaseException: Failed to parse node with class CLASSNAME","body":"@Alex Mamo I&#39;ve tried to attach listener and now i get this:    com.google.firebase.database.DatabaseException: Failed to parse node with class CLASSNAME"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1609600012,"post_id":65538972,"comment_id":115874641,"body_markdown":"So you found the problem. Please edit your question and add the error message and indicate the exact line at which it occurs. Please respond with @AlexMamo","body":"So you found the problem. Please edit your question and add the error message and indicate the exact line at which it occurs. Please respond with @AlexMamo"},{"owner":{"account_id":20330677,"reputation":43,"user_id":14912757,"display_name":"Francesco Bottiglia"},"score":0,"creation_date":1609600481,"post_id":65538972,"comment_id":115874801,"body_markdown":"@AlexMamo I edited my question adding error message and I&#39;ve indicated the exact line which cause error","body":"@AlexMamo I edited my question adding error message and I&#39;ve indicated the exact line which cause error"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1609600744,"post_id":65538972,"comment_id":115874900,"body_markdown":"What version of Firebase Realtime Database are you using?","body":"What version of Firebase Realtime Database are you using?"},{"owner":{"account_id":20330677,"reputation":43,"user_id":14912757,"display_name":"Francesco Bottiglia"},"score":0,"creation_date":1609600924,"post_id":65538972,"comment_id":115874965,"body_markdown":"@AlexMamo I&#39;m using version 19.6.0","body":"@AlexMamo I&#39;m using version 19.6.0"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1609601672,"post_id":65538972,"comment_id":115875264,"body_markdown":"@FrancescoBottiglia Ok, please try my answer below, and tell me if it works.","body":"@FrancescoBottiglia Ok, please try my answer below, and tell me if it works."}],"answers":[{"tags":[],"owner":{"account_id":17414030,"reputation":190,"user_id":12620736,"display_name":"Suvajit Patra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609606624,"creation_date":1609598507,"answer_id":65540319,"question_id":65538972,"body_markdown":"Your `DatabaseReference` is not initialized, so use the below code on top.\r\n\r\n    mAuth = FirebaseAuth.getInstance();\r\n    mDatabase = FirebaseDatabase.getInstance();\r\n    DatabaseReference reff = mDatabase.getReference();\r\n\r\nAnd add `onComplete` listener to setValue().\r\n\r\n    reff.child(tableName)\r\n    .child(currentUser)\r\n    .setValue(userMap, new Firebase.CompletionListener() {\r\n        @Override\r\n        public void onComplete(FirebaseError firebaseError, Firebase firebase) {\r\n            if (firebaseError != null) {\r\n                System.out.println(&quot;User data save failure.&quot; + firebaseError.getMessage());\r\n            } else {\r\n                System.out.println(&quot;User data save successful.&quot;);\r\n                progressDialog.dismiss();\r\n                startActivity(new Intent(getApplicationContext(), MenuActivity.class));\r\n                finish();\r\n            }\r\n        }\r\n    });\r\n\r\n","title":"Storing data in Firebase Realtime Database","body":"<p>Your <code>DatabaseReference</code> is not initialized, so use the below code on top.</p>\n<pre><code>mAuth = FirebaseAuth.getInstance();\nmDatabase = FirebaseDatabase.getInstance();\nDatabaseReference reff = mDatabase.getReference();\n</code></pre>\n<p>And add <code>onComplete</code> listener to setValue().</p>\n<pre><code>reff.child(tableName)\n.child(currentUser)\n.setValue(userMap, new Firebase.CompletionListener() {\n    @Override\n    public void onComplete(FirebaseError firebaseError, Firebase firebase) {\n        if (firebaseError != null) {\n            System.out.println(&quot;User data save failure.&quot; + firebaseError.getMessage());\n        } else {\n            System.out.println(&quot;User data save successful.&quot;);\n            progressDialog.dismiss();\n            startActivity(new Intent(getApplicationContext(), MenuActivity.class));\n            finish();\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14739590,"reputation":454,"user_id":10644546,"display_name":"Kidus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609599897,"creation_date":1609599897,"answer_id":65540562,"question_id":65538972,"body_markdown":"So in your code:\r\n\r\n`reff.child(tableName).setValue(user)`\r\n\r\nHere you are trying to set a value for a node that already has branches and Firebase database does not allow that, so what you can do is create another node in the &quot;Users&quot; table to store users. For example:\r\n\r\n`reff.child(tableName).child(&quot;User1&quot;). setValue(user);`\r\n\r\nHere &quot;User1&quot; is just to label the field and can be a simple integer such as &quot;1&quot; too.\r\n\r\n","title":"Storing data in Firebase Realtime Database","body":"<p>So in your code:</p>\n<p><code>reff.child(tableName).setValue(user)</code></p>\n<p>Here you are trying to set a value for a node that already has branches and Firebase database does not allow that, so what you can do is create another node in the &quot;Users&quot; table to store users. For example:</p>\n<p><code>reff.child(tableName).child(&quot;User1&quot;). setValue(user);</code></p>\n<p>Here &quot;User1&quot; is just to label the field and can be a simple integer such as &quot;1&quot; too.</p>\n"},{"tags":[],"owner":{"account_id":14739590,"reputation":454,"user_id":10644546,"display_name":"Kidus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609601608,"creation_date":1609601307,"answer_id":65540807,"question_id":65538972,"body_markdown":"Your code:\r\n`reff.setValue(userMap, new Firebase.CompletionListener()`\r\n\r\nAgain, you are trying to set a value of a node with branches which in your case it&#39;s the main branch and Firebase database don&#39;t allow that. So what you can do is create another node in the reff.\r\n\r\n`reff.child(tableName).child(YOUR_DESIRED_CHILD).setValue(userMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;()`\r\n\r\nHere `YOUR_DESIRED_CHILD` is field name for your `Users` childs.\r\n\r\nAnd it should work just fine.","title":"Storing data in Firebase Realtime Database","body":"<p>Your code:\n<code>reff.setValue(userMap, new Firebase.CompletionListener()</code></p>\n<p>Again, you are trying to set a value of a node with branches which in your case it's the main branch and Firebase database don't allow that. So what you can do is create another node in the reff.</p>\n<p><code>reff.child(tableName).child(YOUR_DESIRED_CHILD).setValue(userMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;()</code></p>\n<p>Here <code>YOUR_DESIRED_CHILD</code> is field name for your <code>Users</code> childs.</p>\n<p>And it should work just fine.</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609601628,"creation_date":1609601628,"answer_id":65540862,"question_id":65538972,"body_markdown":"You are passing to the &quot;setValue()&quot; method a CompletionListener object, an option which is not available anymore. To add the user, please use the following lines of code:\r\n\r\n    reff.setValue(userMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                Log.d(&quot;TAG&quot;, &quot;User added successfully!&quot;);\r\n            } else {\r\n                Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don&#39;t ignore potential errors!\r\n            }\r\n        }\r\n    });\r\n\r\nAnd comment or remove the lines that you are using now.","title":"Storing data in Firebase Realtime Database","body":"<p>You are passing to the &quot;setValue()&quot; method a CompletionListener object, an option which is not available anymore. To add the user, please use the following lines of code:</p>\n<pre><code>reff.setValue(userMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n        if (task.isSuccessful()) {\n            Log.d(&quot;TAG&quot;, &quot;User added successfully!&quot;);\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Don't ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>And comment or remove the lines that you are using now.</p>\n"},{"tags":[],"owner":{"account_id":26947577,"reputation":11,"user_id":20517322,"display_name":"Dalpatsinh Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682924379,"creation_date":1682924379,"answer_id":76145228,"question_id":65538972,"body_markdown":"Create Instance of this:\r\n\r\n    FirebaseDatabase firebaseDatabase;\r\n    DatabaseReference databaseReference;\r\n    SetDataFirebaseModel model;\r\n\r\nin oncreateMethod :-\r\n\r\n     firebaseDatabase = FirebaseDatabase.getInstance();\r\n        databaseReference = firebaseDatabase.getReference(&quot;MessageInfo&quot;);\r\n        model = new SetDataFirebaseModel();\r\n    \r\nTo add data to firebase:\r\n\r\nprivate void addDatabseToFirebase(String msg) {\r\n\r\n        model.setMsg(msg);\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                databaseReference.setValue(model);\r\n\r\n                Toast.makeText(MainActivity.this, &quot;data added&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MainActivity.this, &quot;Fail to add data &quot; + error, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\nThis is fro retrive data:-\r\n\r\n    private void getData() {\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) snapshot.getValue();\r\n                //String value = snapshot.getValue(String.class);\r\n                Log.d(&quot;TAG&quot;, &quot;Value is: &quot; + map);\r\n                tvMsg.setText(map.get(&quot;msg&quot;).toString());\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }","title":"Storing data in Firebase Realtime Database","body":"<p>Create Instance of this:</p>\n<pre><code>FirebaseDatabase firebaseDatabase;\nDatabaseReference databaseReference;\nSetDataFirebaseModel model;\n</code></pre>\n<p>in oncreateMethod :-</p>\n<pre><code> firebaseDatabase = FirebaseDatabase.getInstance();\n    databaseReference = firebaseDatabase.getReference(&quot;MessageInfo&quot;);\n    model = new SetDataFirebaseModel();\n</code></pre>\n<p>To add data to firebase:</p>\n<p>private void addDatabseToFirebase(String msg) {</p>\n<pre><code>    model.setMsg(msg);\n\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            databaseReference.setValue(model);\n\n            Toast.makeText(MainActivity.this, &quot;data added&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            Toast.makeText(MainActivity.this, &quot;Fail to add data &quot; + error, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n<p>This is fro retrive data:-</p>\n<pre><code>private void getData() {\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) snapshot.getValue();\n            //String value = snapshot.getValue(String.class);\n            Log.d(&quot;TAG&quot;, &quot;Value is: &quot; + map);\n            tvMsg.setText(map.get(&quot;msg&quot;).toString());\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":20330677,"reputation":43,"user_id":14912757,"display_name":"Francesco Bottiglia"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1682924379,"creation_date":1609589661,"question_id":65538972,"body_markdown":"I have a problem with storing data in the Firebase Realtime Database. There are no errors but nothing is stored in the database. I have tried with different guides, tutorial (on yt) posts (found here) but none of them worked. Is there a working way that allows me to solve this problem? Thanks in advance everyone and sorry if my English is not perfect.\r\n\r\n```\r\npublic void registration() {\r\n\r\n        if(!validation())\r\n            return;\r\n\r\n        final ProgressDialog progressDialog = new ProgressDialog(RegisterActivity.this,\r\n                R.style.AppTheme_Dark_Dialog);\r\n        progressDialog.setIndeterminate(true);\r\n        progressDialog.setMessage(&quot;Creating account...&quot;);\r\n        progressDialog.show();\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        mDatabase = FirebaseDatabase.getInstance();\r\n        DatabaseReference reff = mDatabase.getReference();\r\n\r\n        user = new User();\r\n        String tableName = &quot;Users&quot;;\r\n\r\n        Map&lt;String, String&gt; userMap = new HashMap&lt;String, String&gt;();\r\n\r\n        //register user in firebase\r\n        mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                if(task.isSuccessful()) {\r\n\r\n                    user.setUser(mFullName.getText().toString().trim());\r\n                    user.setEmail(mEmail.getText().toString().trim());\r\n\r\n                    userMap.put(fullName, email);\r\n                    String currentUser = mAuth.getCurrentUser().getUid();\r\n\r\n                    reff.child(tableName).child(currentUser).setValue(userMap);\r\n//The following line make app crush\r\n\r\n                    reff.setValue(userMap, new Firebase.CompletionListener() {\r\n                        @Override\r\n                        public void onComplete(FirebaseError firebaseError, Firebase firebase) {\r\n                            if (firebaseError != null) {\r\n                                System.out.println(&quot;Data could not be saved. &quot; + firebaseError.getMessage());\r\n                            } else {\r\n                                System.out.println(&quot;Data saved successfully.&quot;);\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    Toast.makeText(RegisterActivity.this, &quot;User successful created&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    startActivity(new Intent(getApplicationContext(), MenuActivity.class));\r\n                    finish();\r\n                    progressDialog.dismiss();\r\n                }\r\n                else {\r\n                    Toast.makeText(RegisterActivity.this, &quot;Error! &quot; +\r\n                            task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\nUser.java\r\n\r\n```\r\npublic class User {\r\n\r\n    private String user, email, photoUrl, Uid;\r\n\r\n    public User() { }\r\n\r\n    public User(String uid, String user) {\r\n        Uid = uid;\r\n        this.user = user;\r\n    }\r\n\r\n    public User(String user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public User(String user, String email, String photoUrl, String uid) {\r\n        this.user = user;\r\n        this.email = email;\r\n        this.photoUrl = photoUrl;\r\n        Uid = uid;\r\n    }\r\n\r\n    public String getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(String user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPhotoUrl() {\r\n        return photoUrl;\r\n    }\r\n\r\n    public void setPhotoUrl(String photoUrl) {\r\n        this.photoUrl = photoUrl;\r\n    }\r\n\r\n    public String getUid() {\r\n        return Uid;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n        Uid = uid;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe error is:\r\n\r\n```\r\ncom.google.firebase.database.DatabaseException: Failed to parse node with class class com.example.xxxxxxxx.activities.RegisterActivity$4$1\r\n        at com.google.firebase.database.snapshot.NodeUtilities.NodeFromJSON(NodeUtilities.java:103)\r\n        at com.google.firebase.database.snapshot.NodeUtilities.NodeFromJSON(NodeUtilities.java:28)\r\n        at com.google.firebase.database.snapshot.PriorityUtilities.parsePriority(PriorityUtilities.java:39)\r\n        at com.google.firebase.database.DatabaseReference.setValue(DatabaseReference.java:199)\r\n        at com.example.xxxxxxxx.activities.RegisterActivity$4.onComplete(RegisterActivity.java:160)\r\n        at com.google.android.gms.tasks.zzj.run(Unknown Source)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n\r\n```\r\n\r\nlogcat:\r\n\r\n```\r\n2021-01-02 17:07:36.549 20191-20213/com.example.inbioaiqua W/System: Ignoring header X-Firebase-Locale because its value was null.\r\n2021-01-02 17:07:36.557 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.562 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.574 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.580 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.592 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.601 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.611 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.617 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.625 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.631 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.639 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.645 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.657 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.663 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.673 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.680 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.689 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.693 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.706 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.713 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.722 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.729 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.738 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:36.849 20191-20213/com.example.inbioaiqua D/FirebaseAuth: Notifying id token listeners about user ( 7LOLWRPcBhVqHm98BVHzpI5FkDG2 ).\r\n2021-01-02 17:07:36.849 20191-20213/com.example.inbioaiqua D/FirebaseAuth: Notifying auth state listeners about user ( 7LOLWRPcBhVqHm98BVHzpI5FkDG2 ).\r\n2021-01-02 17:07:36.874 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:37.046 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:37.260 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\r\n2021-01-02 17:07:37.260 20191-20214/com.example.inbioaiqua W/OpenGLRenderer: Points are too far apart 4.000001\r\n```","title":"Storing data in Firebase Realtime Database","body":"<p>I have a problem with storing data in the Firebase Realtime Database. There are no errors but nothing is stored in the database. I have tried with different guides, tutorial (on yt) posts (found here) but none of them worked. Is there a working way that allows me to solve this problem? Thanks in advance everyone and sorry if my English is not perfect.</p>\n<pre><code>public void registration() {\n\n        if(!validation())\n            return;\n\n        final ProgressDialog progressDialog = new ProgressDialog(RegisterActivity.this,\n                R.style.AppTheme_Dark_Dialog);\n        progressDialog.setIndeterminate(true);\n        progressDialog.setMessage(&quot;Creating account...&quot;);\n        progressDialog.show();\n\n        mAuth = FirebaseAuth.getInstance();\n        mDatabase = FirebaseDatabase.getInstance();\n        DatabaseReference reff = mDatabase.getReference();\n\n        user = new User();\n        String tableName = &quot;Users&quot;;\n\n        Map&lt;String, String&gt; userMap = new HashMap&lt;String, String&gt;();\n\n        //register user in firebase\n        mAuth.createUserWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                if(task.isSuccessful()) {\n\n                    user.setUser(mFullName.getText().toString().trim());\n                    user.setEmail(mEmail.getText().toString().trim());\n\n                    userMap.put(fullName, email);\n                    String currentUser = mAuth.getCurrentUser().getUid();\n\n                    reff.child(tableName).child(currentUser).setValue(userMap);\n//The following line make app crush\n\n                    reff.setValue(userMap, new Firebase.CompletionListener() {\n                        @Override\n                        public void onComplete(FirebaseError firebaseError, Firebase firebase) {\n                            if (firebaseError != null) {\n                                System.out.println(&quot;Data could not be saved. &quot; + firebaseError.getMessage());\n                            } else {\n                                System.out.println(&quot;Data saved successfully.&quot;);\n                            }\n                        }\n                    });\n\n                    Toast.makeText(RegisterActivity.this, &quot;User successful created&quot;, Toast.LENGTH_SHORT).show();\n\n                    startActivity(new Intent(getApplicationContext(), MenuActivity.class));\n                    finish();\n                    progressDialog.dismiss();\n                }\n                else {\n                    Toast.makeText(RegisterActivity.this, &quot;Error! &quot; +\n                            task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n    }\n</code></pre>\n<p>User.java</p>\n<pre><code>public class User {\n\n    private String user, email, photoUrl, Uid;\n\n    public User() { }\n\n    public User(String uid, String user) {\n        Uid = uid;\n        this.user = user;\n    }\n\n    public User(String user) {\n        this.user = user;\n    }\n\n    public User(String user, String email, String photoUrl, String uid) {\n        this.user = user;\n        this.email = email;\n        this.photoUrl = photoUrl;\n        Uid = uid;\n    }\n\n    public String getUser() {\n        return user;\n    }\n\n    public void setUser(String user) {\n        this.user = user;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPhotoUrl() {\n        return photoUrl;\n    }\n\n    public void setPhotoUrl(String photoUrl) {\n        this.photoUrl = photoUrl;\n    }\n\n    public String getUid() {\n        return Uid;\n    }\n\n    public void setUid(String uid) {\n        Uid = uid;\n    }\n}\n\n</code></pre>\n<p>The error is:</p>\n<pre><code>com.google.firebase.database.DatabaseException: Failed to parse node with class class com.example.xxxxxxxx.activities.RegisterActivity$4$1\n        at com.google.firebase.database.snapshot.NodeUtilities.NodeFromJSON(NodeUtilities.java:103)\n        at com.google.firebase.database.snapshot.NodeUtilities.NodeFromJSON(NodeUtilities.java:28)\n        at com.google.firebase.database.snapshot.PriorityUtilities.parsePriority(PriorityUtilities.java:39)\n        at com.google.firebase.database.DatabaseReference.setValue(DatabaseReference.java:199)\n        at com.example.xxxxxxxx.activities.RegisterActivity$4.onComplete(RegisterActivity.java:160)\n        at com.google.android.gms.tasks.zzj.run(Unknown Source)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n\n</code></pre>\n<p>logcat:</p>\n<pre><code>2021-01-02 17:07:36.549 20191-20213/com.example.inbioaiqua W/System: Ignoring header X-Firebase-Locale because its value was null.\n2021-01-02 17:07:36.557 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.562 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.574 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.580 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.592 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.601 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.611 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.617 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.625 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.631 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.639 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.645 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.657 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.663 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.673 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.680 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.689 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.693 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.706 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.713 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.722 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.729 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.738 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:36.849 20191-20213/com.example.inbioaiqua D/FirebaseAuth: Notifying id token listeners about user ( 7LOLWRPcBhVqHm98BVHzpI5FkDG2 ).\n2021-01-02 17:07:36.849 20191-20213/com.example.inbioaiqua D/FirebaseAuth: Notifying auth state listeners about user ( 7LOLWRPcBhVqHm98BVHzpI5FkDG2 ).\n2021-01-02 17:07:36.874 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:37.046 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:37.260 20191-20214/com.example.inbioaiqua D/EGL_emulation: eglMakeCurrent: 0x9eb85360: ver 2 0 (tinfo 0x9eb831a0)\n2021-01-02 17:07:37.260 20191-20214/com.example.inbioaiqua W/OpenGLRenderer: Points are too far apart 4.000001\n</code></pre>\n"},{"tags":["java","json","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682923770,"creation_date":1682923770,"answer_id":76145183,"question_id":76143716,"body_markdown":"The reason is because of your annotations:\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private EquipmentModel equipmentModel;\r\n\r\n`cascade = CascadeType.ALL` is getting all actions from one entity to another. That means deletes, persists (what you are trying) and many more.\r\n\r\nYou might want to change your annotation to\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    private EquipmentModel equipmentModel;\r\n\r\nThis means, that there are no cascade types, because the default value is an empty array. That means it will not try to save anything from your `EquipmentModel` while also trying to save your `Equipment`.\r\n","title":"Error in save method Hibernate with relation ManyToOne","body":"<p>The reason is because of your annotations:</p>\n<pre><code>@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\nprivate EquipmentModel equipmentModel;\n</code></pre>\n<p><code>cascade = CascadeType.ALL</code> is getting all actions from one entity to another. That means deletes, persists (what you are trying) and many more.</p>\n<p>You might want to change your annotation to</p>\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\nprivate EquipmentModel equipmentModel;\n</code></pre>\n<p>This means, that there are no cascade types, because the default value is an empty array. That means it will not try to save anything from your <code>EquipmentModel</code> while also trying to save your <code>Equipment</code>.</p>\n"}],"owner":{"account_id":28159868,"reputation":3,"user_id":21520012,"display_name":"Jamil Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76145183,"answer_count":1,"score":0,"last_activity_date":1682923770,"creation_date":1682891472,"question_id":76143716,"body_markdown":"i&#39;m trying save a class Equipment, howhever when i&#39;m using save method in Service, i&#39;m having an error:\r\n\r\n*&quot; ERROR 14620 --- \\[nio-8080-exec-2\\] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;name_model&quot; of relation &quot;equipment_model&quot; does not exist &quot;*\r\n\r\nmore specifically, the problem is in SQL command: &#39;Hibernate: insert into operation.equipment_model (name, id) values (?, ?)&#39;\r\n\r\nHaving this problem, I have a doubt, to create a new Equipment, I really need create a EquipmentModel too? Because in my SQL &quot;EquipmentModel&quot; have only 2 rows: id, name.\r\n\r\n**EQUIPMENT**\r\n\r\n    @Entity\r\n    @Table(name=&quot;equipment&quot;)\r\n    public class Equipment implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        public Equipment(){\r\n            equipmentModel = new EquipmentModel();\r\n            this.equipment_model_id = equipmentModel.getId();\r\n        }\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    \r\n    @Column(nullable = false)\r\n    private String name;\r\n    \r\n    @Column(insertable = false, updatable = false, name=&quot;equipment_model_id&quot;)\r\n    private UUID equipment_model_id;\r\n    \r\n    \r\n    @NotNull\r\n    @ManyToOne( fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JsonIgnore\r\n    private EquipmentModel equipmentModel;\r\n    \r\n    //Getters and Setters }\r\n\r\n**EQUIPMENT MODEL**\r\n\r\n    @Entity\r\n    @Table(name=&quot;equipment_model&quot;)\r\n    public class EquipmentModel implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    \r\n    @Column(nullable = false)\r\n    private String nameModel;\r\n    \r\n    @OneToMany(mappedBy = &quot;equipmentModel&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;Equipment&gt; equipments;\r\n    \r\n          // Getters Setters }\r\n\r\n**EQUIPMENT SERVICE:**\r\n\r\n    @Service\r\n     public class EquipmentService { final EquipmentRepository equipmentRepository;\r\n    public EquipmentService(EquipmentRepository equipmentRepository)\r\n    {\r\n        this.equipmentRepository = equipmentRepository;\r\n    }\r\n    \r\n    \r\n    @Transactional\r\n    public Equipment save(Equipment equipment)\r\n    { return equipmentRepository.save(equipment);    }\r\n\r\n}","title":"Error in save method Hibernate with relation ManyToOne","body":"<p>i'm trying save a class Equipment, howhever when i'm using save method in Service, i'm having an error:</p>\n<p><em>&quot; ERROR 14620 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;name_model&quot; of relation &quot;equipment_model&quot; does not exist &quot;</em></p>\n<p>more specifically, the problem is in SQL command: 'Hibernate: insert into operation.equipment_model (name, id) values (?, ?)'</p>\n<p>Having this problem, I have a doubt, to create a new Equipment, I really need create a EquipmentModel too? Because in my SQL &quot;EquipmentModel&quot; have only 2 rows: id, name.</p>\n<p><strong>EQUIPMENT</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;equipment&quot;)\npublic class Equipment implements Serializable {\n    private static final long serialVersionUID = 1L;\n    public Equipment(){\n        equipmentModel = new EquipmentModel();\n        this.equipment_model_id = equipmentModel.getId();\n    }\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate UUID id;\n\n@Column(nullable = false)\nprivate String name;\n\n@Column(insertable = false, updatable = false, name=&quot;equipment_model_id&quot;)\nprivate UUID equipment_model_id;\n\n\n@NotNull\n@ManyToOne( fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n@JsonIgnore\nprivate EquipmentModel equipmentModel;\n\n//Getters and Setters }\n</code></pre>\n<p><strong>EQUIPMENT MODEL</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;equipment_model&quot;)\npublic class EquipmentModel implements Serializable {\n    private static final long serialVersionUID = 1L;\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate UUID id;\n\n@Column(nullable = false)\nprivate String nameModel;\n\n@OneToMany(mappedBy = &quot;equipmentModel&quot;, cascade = CascadeType.ALL)\nprivate List&lt;Equipment&gt; equipments;\n\n      // Getters Setters }\n</code></pre>\n<p><strong>EQUIPMENT SERVICE:</strong></p>\n<pre><code>@Service\n public class EquipmentService { final EquipmentRepository equipmentRepository;\npublic EquipmentService(EquipmentRepository equipmentRepository)\n{\n    this.equipmentRepository = equipmentRepository;\n}\n\n\n@Transactional\npublic Equipment save(Equipment equipment)\n{ return equipmentRepository.save(equipment);    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682922469,"creation_date":1682922469,"answer_id":76145098,"question_id":76136272,"body_markdown":"The current (jOOQ 3.18) implementation of jOOQ&#39;s [`LiquibaseDatabase`][1] uses an in-memory H2 database to [simulate a migration][2] prior to generating code from that database. In H2, identifiers are in upper case by default, whereas in PostgreSQL, they&#39;re in lower case by default.\r\n\r\nThe simplest way to prevent this mismatch is to prevent generating quoted identifiers at runtime, using [`Settings.renderQuotedNames`][3], setting it to `RenderQuotedNames.EXPLICIT_DEFAULT_UNQUOTED`.\r\n\r\nSince you&#39;re using Spring Boot, [here&#39;s how to inject a custom configuration of the jOOQ `DSLContext`][4]\r\n\r\n```java\r\nimport org.jooq.conf.RenderQuotedNames;\r\nimport org.jooq.impl.DefaultConfiguration;\r\nimport org.springframework.boot.autoconfigure.jooq.*;\r\nimport org.springframework.context.annotation.*;\r\n \r\n@Configuration\r\npublic class Config {\r\n    @Bean\r\n    public DefaultConfigurationCustomizer configurationCustomiser() {\r\n        return (DefaultConfiguration c) -&gt; c.settings()\r\n            .withRenderQuotedNames(\r\n                RenderQuotedNames.EXPLICIT_DEFAULT_UNQUOTED\r\n            );\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-liquibase/\r\n  [2]: https://blog.jooq.org/how-to-simulate-a-liquibase-migration-using-h2/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-name-style/\r\n  [4]: https://blog.jooq.org/how-to-customise-a-jooq-configuration-that-is-injected-using-spring-boot/","title":"JOOQ BadSqlGrammarException","body":"<p>The current (jOOQ 3.18) implementation of jOOQ's <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-liquibase/\" rel=\"nofollow noreferrer\"><code>LiquibaseDatabase</code></a> uses an in-memory H2 database to <a href=\"https://blog.jooq.org/how-to-simulate-a-liquibase-migration-using-h2/\" rel=\"nofollow noreferrer\">simulate a migration</a> prior to generating code from that database. In H2, identifiers are in upper case by default, whereas in PostgreSQL, they're in lower case by default.</p>\n<p>The simplest way to prevent this mismatch is to prevent generating quoted identifiers at runtime, using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-name-style/\" rel=\"nofollow noreferrer\"><code>Settings.renderQuotedNames</code></a>, setting it to <code>RenderQuotedNames.EXPLICIT_DEFAULT_UNQUOTED</code>.</p>\n<p>Since you're using Spring Boot, <a href=\"https://blog.jooq.org/how-to-customise-a-jooq-configuration-that-is-injected-using-spring-boot/\" rel=\"nofollow noreferrer\">here's how to inject a custom configuration of the jOOQ <code>DSLContext</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jooq.conf.RenderQuotedNames;\nimport org.jooq.impl.DefaultConfiguration;\nimport org.springframework.boot.autoconfigure.jooq.*;\nimport org.springframework.context.annotation.*;\n \n@Configuration\npublic class Config {\n    @Bean\n    public DefaultConfigurationCustomizer configurationCustomiser() {\n        return (DefaultConfiguration c) -&gt; c.settings()\n            .withRenderQuotedNames(\n                RenderQuotedNames.EXPLICIT_DEFAULT_UNQUOTED\n            );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24193369,"reputation":63,"user_id":18152301,"display_name":"Alexender"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76145098,"answer_count":1,"score":1,"last_activity_date":1682922469,"creation_date":1682771946,"question_id":76136272,"body_markdown":"I want to make a repository that makes requests using JOOQ for my spring boot app. To do this, I generated the necessary code and wrote a function. But when calling the function, an error occurs about an invalid request.\r\n\r\nI generated the code using the following code.\r\n\r\n```\r\npackage com.example.jooccodegen;\r\n\r\nimport org.jooq.codegen.GenerationTool;\r\nimport org.jooq.meta.jaxb.*;\r\n\r\n\r\npublic class JoocCodeGenApplication {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Database database = new Database()\r\n                .withName(&quot;org.jooq.meta.extensions.liquibase.LiquibaseDatabase&quot;)\r\n                .withProperties(\r\n                        new Property().withKey(&quot;rootPath&quot;).withValue(&quot;migrations&quot;),\r\n                        new Property().withKey(&quot;scripts&quot;).withValue(&quot;master.xml&quot;)\r\n                );\r\n\r\n        Generate options = new Generate()\r\n                .withGeneratedAnnotation(true)\r\n                .withGeneratedAnnotationDate(false)\r\n                .withNullableAnnotation(true)\r\n                .withNullableAnnotationType(&quot;org.jetbrains.annotations.Nullable&quot;)\r\n                .withNonnullAnnotation(true)\r\n                .withNonnullAnnotationType(&quot;org.jetbrains.annotations.NotNull&quot;)\r\n                .withJpaAnnotations(false)\r\n                .withValidationAnnotations(true)\r\n                .withSpringAnnotations(true)\r\n                .withConstructorPropertiesAnnotation(true)\r\n                .withConstructorPropertiesAnnotationOnPojos(true)\r\n                .withConstructorPropertiesAnnotationOnRecords(true)\r\n                .withFluentSetters(false)\r\n                .withDaos(false)\r\n                .withPojos(true)\r\n                .withJooqVersionReference(false);\r\n\r\n        Target target = new Target()\r\n                .withPackageName(&quot;scrapper.domains.jooq&quot;)\r\n                .withDirectory(&quot;scrapper/src/main/java/ru/tinkoff&quot;);\r\n\r\n        Configuration configuration = new Configuration()\r\n                .withGenerator(\r\n                        new Generator()\r\n                                .withDatabase(database)\r\n                                .withGenerate(options)\r\n                                .withTarget(target)\r\n                )\r\n                .withJdbc(new Jdbc()\r\n                        .withDriver(&quot;org.postgresql.Driver&quot;)\r\n                        .withUrl(&quot;jdbc:postgresql://localhost:5432/link_bot&quot;)\r\n                        .withUser(&quot;postgres&quot;)\r\n                        .withPassword(&quot;123&quot;));\r\n\r\n        GenerationTool.generate(configuration);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIt was generated according to the following DB scheme\r\n\r\n```\r\n\r\nCREATE TABLE chat_link\r\n(\r\n    chat_id BIGINT NOT NULL,\r\n    link_id BIGINT NOT NULL,\r\n    PRIMARY KEY (chat_id, link_id),\r\n    FOREIGN KEY (chat_id) REFERENCES chat (chat_id),\r\n    FOREIGN KEY (link_id) REFERENCES link (link_id)\r\n);\r\n\r\nCREATE TABLE chat\r\n(\r\n    chat_id    BIGINT GENERATED ALWAYS AS IDENTITY NOT NULL,\r\n    tg_chat_id BIGINT                           NOT NULL UNIQUE,\r\n\r\n\r\n    CONSTRAINT PK_chat_chat_id PRIMARY KEY (chat_id)\r\n);\r\n\r\nCREATE TABLE link\r\n(\r\n    link_id     BIGINT       NOT NULL GENERATED ALWAYS AS IDENTITY,\r\n    url        varchar(255) NOT NULL UNIQUE,\r\n    last_update TIMESTAMP    NOT NULL,\r\n\r\n    CONSTRAINT PK_link_link_id PRIMARY KEY (link_id)\r\n);\r\n```\r\n\r\nbut when I try to use the following function\r\n\r\n```\r\npackage ru.tinkoff.scrapper.repository.JOOQ;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.jooq.Batch;\r\nimport org.jooq.DSLContext;\r\nimport org.jooq.impl.DSL;\r\nimport org.springframework.stereotype.Repository;\r\nimport ru.tinkoff.scrapper.enyity.LinkEntity;\r\nimport ru.tinkoff.scrapper.repository.LinkRepository;\r\nimport static scrapper.domains.jooq.tables.Link.LINK;\r\nimport static scrapper.domains.jooq.tables.Chat.CHAT;\r\nimport static scrapper.domains.jooq.tables.ChatLink.CHAT_LINK;\r\nimport scrapper.domains.jooq.tables.records.LinkRecord;\r\n\r\n\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.sql.Timestamp;\r\nimport java.time.LocalDateTime;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport static org.jooq.impl.DSL.count;\r\n\r\n@Repository\r\n@RequiredArgsConstructor\r\npublic class LinkJOOQRepository implements LinkRepository {\r\n    private final DSLContext create; \r\npublic List&lt;LinkEntity&gt; findAllOrderByDate() {\r\n\r\n        var res = create\r\n                .selectFrom(LINK)\r\n                .orderBy(LINK.LAST_UPDATE)\r\n                .fetch();\r\n        \r\n        return res.stream().map(this::fromTableToEntity).collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n\r\nthe following error occurs\r\n\r\n```\r\n2023-04-29T12:22:00.851+03:00 ERROR 21212 --- [   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\r\n\r\norg.springframework.jdbc.BadSqlGrammarException: jOOQ; bad SQL grammar [select &quot;LINK&quot;.&quot;LINK_ID&quot;, &quot;LINK&quot;.&quot;URL&quot;, &quot;LINK&quot;.&quot;LAST_UPDATE&quot; from &quot;LINK&quot;]\r\n\tat org.jooq_3.17.12.POSTGRES.debug(Unknown Source) ~[na:na]\r\n\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:245) ~[spring-jdbc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70) ~[spring-jdbc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.translate(JooqExceptionTranslator.java:94) ~[spring-boot-autoconfigure-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.handle(JooqExceptionTranslator.java:81) ~[spring-boot-autoconfigure-3.0.1.jar:3.0.1]\r\n\tat org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.exception(JooqExceptionTranslator.java:55) ~[spring-boot-autoconfigure-3.0.1.jar:3.0.1]\r\n\tat org.jooq.impl.ExecuteListeners.exception(ExecuteListeners.java:276) ~[jooq-3.17.12.jar:na]\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:356) ~[jooq-3.17.12.jar:na]\r\n\tat org.jooq.impl.AbstractResultQuery.fetch(AbstractResultQuery.java:290) ~[jooq-3.17.12.jar:na]\r\n\tat org.jooq.impl.SelectImpl.fetch(SelectImpl.java:2837) ~[jooq-3.17.12.jar:na]\r\n\tat ru.tinkoff.scrapper.repository.JOOQ.LinkJOOQRepository.findAllOrderByDate(LinkJOOQRepository.java:61) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat ru.tinkoff.scrapper.repository.JOOQ.LinkJOOQRepository$$SpringCGLIB$$0.findAllOrderByDate(&lt;generated&gt;) ~[classes/:na]\r\n\tat ru.tinkoff.scrapper.service.LinkUpdateService.update(LinkUpdateService.java:43) ~[classes/:na]\r\n\tat ru.tinkoff.scrapper.service.LinkUpdaterScheduler.update(LinkUpdaterScheduler.java:21) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-6.0.3.jar:6.0.3]\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.3.jar:6.0.3]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\nCaused by: org.postgresql.util.PSQLException: ERROR: The &quot;LINK&quot; relation does not exist\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:177) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.jooq.tools.jdbc.DefaultPreparedStatement.execute(DefaultPreparedStatement.java:219) ~[jooq-3.17.12.jar:na]\r\n\tat org.jooq.impl.Tools.executeStatementAndGetFirstResultSet(Tools.java:4590) ~[jooq-3.17.12.jar:na]\r\n\tat org.jooq.impl.AbstractResultQuery.execute(AbstractResultQuery.java:236) ~[jooq-3.17.12.jar:na]\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:341) ~[jooq-3.17.12.jar:na]\r\n\t... 26 common frames omitted\r\n```","title":"JOOQ BadSqlGrammarException","body":"<p>I want to make a repository that makes requests using JOOQ for my spring boot app. To do this, I generated the necessary code and wrote a function. But when calling the function, an error occurs about an invalid request.</p>\n<p>I generated the code using the following code.</p>\n<pre><code>package com.example.jooccodegen;\n\nimport org.jooq.codegen.GenerationTool;\nimport org.jooq.meta.jaxb.*;\n\n\npublic class JoocCodeGenApplication {\n\n    public static void main(String[] args) throws Exception {\n        Database database = new Database()\n                .withName(&quot;org.jooq.meta.extensions.liquibase.LiquibaseDatabase&quot;)\n                .withProperties(\n                        new Property().withKey(&quot;rootPath&quot;).withValue(&quot;migrations&quot;),\n                        new Property().withKey(&quot;scripts&quot;).withValue(&quot;master.xml&quot;)\n                );\n\n        Generate options = new Generate()\n                .withGeneratedAnnotation(true)\n                .withGeneratedAnnotationDate(false)\n                .withNullableAnnotation(true)\n                .withNullableAnnotationType(&quot;org.jetbrains.annotations.Nullable&quot;)\n                .withNonnullAnnotation(true)\n                .withNonnullAnnotationType(&quot;org.jetbrains.annotations.NotNull&quot;)\n                .withJpaAnnotations(false)\n                .withValidationAnnotations(true)\n                .withSpringAnnotations(true)\n                .withConstructorPropertiesAnnotation(true)\n                .withConstructorPropertiesAnnotationOnPojos(true)\n                .withConstructorPropertiesAnnotationOnRecords(true)\n                .withFluentSetters(false)\n                .withDaos(false)\n                .withPojos(true)\n                .withJooqVersionReference(false);\n\n        Target target = new Target()\n                .withPackageName(&quot;scrapper.domains.jooq&quot;)\n                .withDirectory(&quot;scrapper/src/main/java/ru/tinkoff&quot;);\n\n        Configuration configuration = new Configuration()\n                .withGenerator(\n                        new Generator()\n                                .withDatabase(database)\n                                .withGenerate(options)\n                                .withTarget(target)\n                )\n                .withJdbc(new Jdbc()\n                        .withDriver(&quot;org.postgresql.Driver&quot;)\n                        .withUrl(&quot;jdbc:postgresql://localhost:5432/link_bot&quot;)\n                        .withUser(&quot;postgres&quot;)\n                        .withPassword(&quot;123&quot;));\n\n        GenerationTool.generate(configuration);\n    }\n\n}\n</code></pre>\n<p>It was generated according to the following DB scheme</p>\n<pre><code>\nCREATE TABLE chat_link\n(\n    chat_id BIGINT NOT NULL,\n    link_id BIGINT NOT NULL,\n    PRIMARY KEY (chat_id, link_id),\n    FOREIGN KEY (chat_id) REFERENCES chat (chat_id),\n    FOREIGN KEY (link_id) REFERENCES link (link_id)\n);\n\nCREATE TABLE chat\n(\n    chat_id    BIGINT GENERATED ALWAYS AS IDENTITY NOT NULL,\n    tg_chat_id BIGINT                           NOT NULL UNIQUE,\n\n\n    CONSTRAINT PK_chat_chat_id PRIMARY KEY (chat_id)\n);\n\nCREATE TABLE link\n(\n    link_id     BIGINT       NOT NULL GENERATED ALWAYS AS IDENTITY,\n    url        varchar(255) NOT NULL UNIQUE,\n    last_update TIMESTAMP    NOT NULL,\n\n    CONSTRAINT PK_link_link_id PRIMARY KEY (link_id)\n);\n</code></pre>\n<p>but when I try to use the following function</p>\n<pre><code>package ru.tinkoff.scrapper.repository.JOOQ;\n\nimport lombok.RequiredArgsConstructor;\nimport org.jooq.Batch;\nimport org.jooq.DSLContext;\nimport org.jooq.impl.DSL;\nimport org.springframework.stereotype.Repository;\nimport ru.tinkoff.scrapper.enyity.LinkEntity;\nimport ru.tinkoff.scrapper.repository.LinkRepository;\nimport static scrapper.domains.jooq.tables.Link.LINK;\nimport static scrapper.domains.jooq.tables.Chat.CHAT;\nimport static scrapper.domains.jooq.tables.ChatLink.CHAT_LINK;\nimport scrapper.domains.jooq.tables.records.LinkRecord;\n\n\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.sql.Timestamp;\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport static org.jooq.impl.DSL.count;\n\n@Repository\n@RequiredArgsConstructor\npublic class LinkJOOQRepository implements LinkRepository {\n    private final DSLContext create; \npublic List&lt;LinkEntity&gt; findAllOrderByDate() {\n\n        var res = create\n                .selectFrom(LINK)\n                .orderBy(LINK.LAST_UPDATE)\n                .fetch();\n        \n        return res.stream().map(this::fromTableToEntity).collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>the following error occurs</p>\n<pre><code>2023-04-29T12:22:00.851+03:00 ERROR 21212 --- [   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task\n\norg.springframework.jdbc.BadSqlGrammarException: jOOQ; bad SQL grammar [select &quot;LINK&quot;.&quot;LINK_ID&quot;, &quot;LINK&quot;.&quot;URL&quot;, &quot;LINK&quot;.&quot;LAST_UPDATE&quot; from &quot;LINK&quot;]\n    at org.jooq_3.17.12.POSTGRES.debug(Unknown Source) ~[na:na]\n    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:245) ~[spring-jdbc-6.0.3.jar:6.0.3]\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70) ~[spring-jdbc-6.0.3.jar:6.0.3]\n    at org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.translate(JooqExceptionTranslator.java:94) ~[spring-boot-autoconfigure-3.0.1.jar:3.0.1]\n    at org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.handle(JooqExceptionTranslator.java:81) ~[spring-boot-autoconfigure-3.0.1.jar:3.0.1]\n    at org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.exception(JooqExceptionTranslator.java:55) ~[spring-boot-autoconfigure-3.0.1.jar:3.0.1]\n    at org.jooq.impl.ExecuteListeners.exception(ExecuteListeners.java:276) ~[jooq-3.17.12.jar:na]\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:356) ~[jooq-3.17.12.jar:na]\n    at org.jooq.impl.AbstractResultQuery.fetch(AbstractResultQuery.java:290) ~[jooq-3.17.12.jar:na]\n    at org.jooq.impl.SelectImpl.fetch(SelectImpl.java:2837) ~[jooq-3.17.12.jar:na]\n    at ru.tinkoff.scrapper.repository.JOOQ.LinkJOOQRepository.findAllOrderByDate(LinkJOOQRepository.java:61) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.3.jar:6.0.3]\n    at ru.tinkoff.scrapper.repository.JOOQ.LinkJOOQRepository$$SpringCGLIB$$0.findAllOrderByDate(&lt;generated&gt;) ~[classes/:na]\n    at ru.tinkoff.scrapper.service.LinkUpdateService.update(LinkUpdateService.java:43) ~[classes/:na]\n    at ru.tinkoff.scrapper.service.LinkUpdaterScheduler.update(LinkUpdaterScheduler.java:21) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.3.jar:6.0.3]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\nCaused by: org.postgresql.util.PSQLException: ERROR: The &quot;LINK&quot; relation does not exist\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:177) ~[postgresql-42.5.1.jar:42.5.1]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.jooq.tools.jdbc.DefaultPreparedStatement.execute(DefaultPreparedStatement.java:219) ~[jooq-3.17.12.jar:na]\n    at org.jooq.impl.Tools.executeStatementAndGetFirstResultSet(Tools.java:4590) ~[jooq-3.17.12.jar:na]\n    at org.jooq.impl.AbstractResultQuery.execute(AbstractResultQuery.java:236) ~[jooq-3.17.12.jar:na]\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:341) ~[jooq-3.17.12.jar:na]\n    ... 26 common frames omitted\n</code></pre>\n"},{"tags":["java","mysql","hibernate","jpa","rollback"],"owner":{"account_id":25248998,"reputation":11,"user_id":19081773,"display_name":"Abhinav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682922007,"creation_date":1682922007,"question_id":76145071,"body_markdown":"I was trying to create a database to perform CRUD operations using hibernate. But I am getting this error, no matter how many changes I have done in the code. I am new to Hibernate. So, please someone help me. This is my code.\r\n\r\nApplication.java\r\n```\r\npackage com.hibernate;\r\n\r\nimport com.hibernate.dao.ProductDao;\r\nimport com.hibernate.model.Product;\r\n\r\npublic class Application {\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tProduct product = new Product(&quot;Mobile&quot;, 20000);\r\n\t\tProductDao productDao = new ProductDao();\r\n\t\t\r\n\t\tproductDao.saveProduct(product);\r\n\t\t\r\n\t\tProduct product1 = productDao.getProductById(product.getId());\r\n\t\t\r\n\t\tSystem.out.println(product1.getName()+&quot; saved successfully in the database&quot;);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nDao class\r\n```\r\npackage com.hibernate.dao;\r\n\r\nimport com.hibernate.model.Product;\r\nimport com.hibernate.util.*;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.Transaction;\r\n\r\n\r\npublic class ProductDao {\r\n\r\n\t//save product\r\n\t\r\n\tpublic void saveProduct(Product product) {\r\n\t\tTransaction transaction = null;\r\n\t\ttry(Session session = HibernateUtil.getSessionFactory().openSession()) {\r\n\t\t\ttransaction = session.beginTransaction();\r\n\t\t\t\r\n\t\t\tsession.save(product);\r\n\t\t\tSystem.out.println(&quot;Product saved successfully&quot;);\r\n\t\t\t\r\n\t\t\ttransaction.commit();\r\n\t\t}catch(Exception e) {\r\n\t\t\tif(transaction!=null) {\r\n\t\t\t\ttransaction.rollback();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//get all products\r\n\t//get product by id\r\n\t\r\n\tpublic Product getProductById(long id) {\r\n\t\tTransaction transaction = null;\r\n\t\tProduct product = null;\r\n\t\ttry(Session session = HibernateUtil.getSessionFactory().openSession()) {\r\n\t\t\ttransaction = session.beginTransaction();\r\n\t\t\t\r\n\t\t\tproduct = session.get(Product.class, id);\r\n\t\t\t\r\n\t\t\ttransaction.commit();\r\n\t\t}catch(Exception e) {\r\n\t\t\tif(transaction!=null) {\r\n\t\t\t\ttransaction.rollback();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn product;\r\n\t}\r\n\t//update product\r\n\t//delete product\r\n\t\r\n\t\r\n}\r\n\r\n```\r\napplication properties\r\n\r\n```\r\nProperties settings = new Properties();\r\nsettings.put(Environment.DRIVER, &quot;com.mysql.cj.jdbc.Driver&quot;);\r\nsettings.put(Environment.URL, &quot;jdbc:mysql://localhost:3306/product?createDatabaseIfNotExists=true&quot;);\r\nsettings.put(Environment.USER , &quot;root&quot;);\r\nsettings.put(Environment.PASS, &quot;root&quot;);\r\nsettings.put(Environment.DIALECT, &quot;org.hibernate.dialect.MySQL8Dialect&quot;);\r\nsettings.put(Environment.SHOW_SQL, &quot;true&quot;);\r\nsettings.put(Environment.CURRENT_SESSION_CONTEXT_CLASS, &quot;thread&quot;);\r\nsettings.put(Environment.HBM2DDL_AUTO, &quot;create-drop&quot;);\r\n```\r\n\r\n\r\n\r\nThis is the error I am getting.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@61e3cf4d is closed\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.errorIfClosed(AbstractLogicalConnectionImplementor.java:37)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:137)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:276)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:121)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:304)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:142)\r\n\tat com.hibernate.dao.ProductDao.saveProduct(ProductDao.java:25)\r\n\tat com.hibernate.Application.main(Application.java:12)\r\n\r\n```\r\n","title":"org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@61e3cf4d is closed","body":"<p>I was trying to create a database to perform CRUD operations using hibernate. But I am getting this error, no matter how many changes I have done in the code. I am new to Hibernate. So, please someone help me. This is my code.</p>\n<p>Application.java</p>\n<pre><code>package com.hibernate;\n\nimport com.hibernate.dao.ProductDao;\nimport com.hibernate.model.Product;\n\npublic class Application {\n    public static void main(String args[]) {\n        \n        Product product = new Product(&quot;Mobile&quot;, 20000);\n        ProductDao productDao = new ProductDao();\n        \n        productDao.saveProduct(product);\n        \n        Product product1 = productDao.getProductById(product.getId());\n        \n        System.out.println(product1.getName()+&quot; saved successfully in the database&quot;);\n    }\n\n}\n\n</code></pre>\n<p>Dao class</p>\n<pre><code>package com.hibernate.dao;\n\nimport com.hibernate.model.Product;\nimport com.hibernate.util.*;\n\nimport org.hibernate.Session;\nimport org.hibernate.Transaction;\n\n\npublic class ProductDao {\n\n    //save product\n    \n    public void saveProduct(Product product) {\n        Transaction transaction = null;\n        try(Session session = HibernateUtil.getSessionFactory().openSession()) {\n            transaction = session.beginTransaction();\n            \n            session.save(product);\n            System.out.println(&quot;Product saved successfully&quot;);\n            \n            transaction.commit();\n        }catch(Exception e) {\n            if(transaction!=null) {\n                transaction.rollback();\n            }\n        }\n    }\n    //get all products\n    //get product by id\n    \n    public Product getProductById(long id) {\n        Transaction transaction = null;\n        Product product = null;\n        try(Session session = HibernateUtil.getSessionFactory().openSession()) {\n            transaction = session.beginTransaction();\n            \n            product = session.get(Product.class, id);\n            \n            transaction.commit();\n        }catch(Exception e) {\n            if(transaction!=null) {\n                transaction.rollback();\n            }\n        }\n        return product;\n    }\n    //update product\n    //delete product\n    \n    \n}\n\n</code></pre>\n<p>application properties</p>\n<pre><code>Properties settings = new Properties();\nsettings.put(Environment.DRIVER, &quot;com.mysql.cj.jdbc.Driver&quot;);\nsettings.put(Environment.URL, &quot;jdbc:mysql://localhost:3306/product?createDatabaseIfNotExists=true&quot;);\nsettings.put(Environment.USER , &quot;root&quot;);\nsettings.put(Environment.PASS, &quot;root&quot;);\nsettings.put(Environment.DIALECT, &quot;org.hibernate.dialect.MySQL8Dialect&quot;);\nsettings.put(Environment.SHOW_SQL, &quot;true&quot;);\nsettings.put(Environment.CURRENT_SESSION_CONTEXT_CLASS, &quot;thread&quot;);\nsettings.put(Environment.HBM2DDL_AUTO, &quot;create-drop&quot;);\n</code></pre>\n<p>This is the error I am getting.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl@61e3cf4d is closed\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.errorIfClosed(AbstractLogicalConnectionImplementor.java:37)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:137)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:276)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:121)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:304)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:142)\n    at com.hibernate.dao.ProductDao.saveProduct(ProductDao.java:25)\n    at com.hibernate.Application.main(Application.java:12)\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data-rest"],"answers":[{"tags":[],"owner":{"account_id":23052384,"reputation":44,"user_id":17168995,"display_name":"Alpha Momin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682920210,"creation_date":1682920210,"answer_id":76144963,"question_id":76144153,"body_markdown":"well I think you are first not passing the referencedColumnName what it does is it denotes the relationship between the associated table(department) and current table(comment) in the current table current entity is commentId which is basically a foreign key and an associated table(department) you have your primary key which is missing but I think it is not going to impact this much if you forgot to mention it if they both have the same name\r\n\r\n**//Entity layer**\r\n\r\n**//like for instance here is an example associated table(categories)**\r\n\r\n    @Table(name = &quot;categories&quot;)\r\n    public class Categories \r\n    {\r\n\t@Id\r\n\t@Column(name = &quot;cat_id&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\t@NotBlank\r\n\t@Column(name = &quot;cat_name&quot;)\r\n\tprivate String catName;\r\n    }\r\n\r\n\r\n**//and this is current table(subcategories)**\r\n\r\n    @Table(name = &quot;subcategories&quot;)\r\n    public class SubCategories \r\n    {\r\n\t@Id\r\n\t@Column(name = &quot;sub_cat_id&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\t@NotBlank\r\n\t@Column(name = &quot;sub_cat_name&quot;)\r\n\tprivate String subCatName;\r\n\t\r\n    //it denotes the relationship between current entity(name = &quot;cat_id&quot;) in \r\n    present table(Sub_category) with the  referencedColumnName = &quot;cat_id&quot;\r\n    present in associated table(Categories)\r\n\t@JoinColumn(name = &quot;cat_id&quot;, referencedColumnName = &quot;cat_id&quot;) \r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\tprivate Categories categories;\r\n    }\r\n\r\n\r\n**//Repository layer**\r\n\r\n**//Categories**\r\n\r\n    public interface CategoriesRepository extends JpaRepository&lt;Categories, \r\n    Long&gt;\r\n    {\r\n\t\r\n    }\r\n\r\n\r\n**//SubCategories**\r\n\r\n    public interface SubCategoriesRepository extends \r\n    JpaRepository&lt;SubCategories, Long&gt;\r\n    {\r\n\r\n    }\r\n\r\n\r\n**//Service layer logic**\r\n\r\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; \r\n    addSubCategory(AddSubCategoryRequest addSubCategoryRequest)\r\n\t{\r\n\t\tSubCategories newSubCategoryCategories = new SubCategories();\r\n        newSubCategoryCategories.setSubCatName(addSubCategoryRequest.\r\n                                               getSubCatName());\r\n\t \r\n        newSubCategoryCategories.setCategories(addSubCategoryRequest.\r\n                                               getCategories());\r\n\t\tMap&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n\t\tmap.put(&quot;data&quot;, \r\n                subCategoriesRepository.save(newSubCategoryCategories));\r\n\t\tmap.put(sts, true);\r\n\t\tmap.put(msg, &quot;Sub-Category added success&quot;);\r\n\t\treturn ResponseEntity.ok().body(map);\r\n\t}\r\n\r\n\r\n**//Controller layer**\r\n\r\n    @PostMapping(&quot;/admin/add/sub/category&quot;)\r\n\tpublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; addSubCategory(@RequestBody \r\n    @Valid AddSubCategoryRequest subCategory)\r\n\t{\r\n\t\treturn service.addSubCategory(subCategory);\r\n\t}\r\n\r\n\r\n**//PostMan Request**\r\n\r\n    {\r\n    &quot;subCatName&quot;:&quot;T-shirts&quot;,\r\n    &quot;categories&quot;:{\r\n        &quot;id&quot;:1,\r\n        &quot;catName&quot;:&quot;Clothing and fashion&quot;\r\n    }\r\n    }\r\n\r\n\r\nand I can see one more thing here you are just passing departmentId not other values of the department table hope this example will solve your problem if not then let me know ","title":"Spring Data Rest - Post Request failing with Null Pointer Foreign Key Exception","body":"<p>well I think you are first not passing the referencedColumnName what it does is it denotes the relationship between the associated table(department) and current table(comment) in the current table current entity is commentId which is basically a foreign key and an associated table(department) you have your primary key which is missing but I think it is not going to impact this much if you forgot to mention it if they both have the same name</p>\n<p><strong>//Entity layer</strong></p>\n<p><strong>//like for instance here is an example associated table(categories)</strong></p>\n<pre><code>@Table(name = &quot;categories&quot;)\npublic class Categories \n{\n@Id\n@Column(name = &quot;cat_id&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@NotBlank\n@Column(name = &quot;cat_name&quot;)\nprivate String catName;\n}\n</code></pre>\n<p><strong>//and this is current table(subcategories)</strong></p>\n<pre><code>@Table(name = &quot;subcategories&quot;)\npublic class SubCategories \n{\n@Id\n@Column(name = &quot;sub_cat_id&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@NotBlank\n@Column(name = &quot;sub_cat_name&quot;)\nprivate String subCatName;\n\n//it denotes the relationship between current entity(name = &quot;cat_id&quot;) in \npresent table(Sub_category) with the  referencedColumnName = &quot;cat_id&quot;\npresent in associated table(Categories)\n@JoinColumn(name = &quot;cat_id&quot;, referencedColumnName = &quot;cat_id&quot;) \n@ManyToOne(fetch = FetchType.LAZY)\nprivate Categories categories;\n}\n</code></pre>\n<p><strong>//Repository layer</strong></p>\n<p><strong>//Categories</strong></p>\n<pre><code>public interface CategoriesRepository extends JpaRepository&lt;Categories, \nLong&gt;\n{\n\n}\n</code></pre>\n<p><strong>//SubCategories</strong></p>\n<pre><code>public interface SubCategoriesRepository extends \nJpaRepository&lt;SubCategories, Long&gt;\n{\n\n}\n</code></pre>\n<p><strong>//Service layer logic</strong></p>\n<pre><code>public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; \naddSubCategory(AddSubCategoryRequest addSubCategoryRequest)\n{\n    SubCategories newSubCategoryCategories = new SubCategories();\n    newSubCategoryCategories.setSubCatName(addSubCategoryRequest.\n                                           getSubCatName());\n \n    newSubCategoryCategories.setCategories(addSubCategoryRequest.\n                                           getCategories());\n    Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n    map.put(&quot;data&quot;, \n            subCategoriesRepository.save(newSubCategoryCategories));\n    map.put(sts, true);\n    map.put(msg, &quot;Sub-Category added success&quot;);\n    return ResponseEntity.ok().body(map);\n}\n</code></pre>\n<p><strong>//Controller layer</strong></p>\n<pre><code>@PostMapping(&quot;/admin/add/sub/category&quot;)\npublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; addSubCategory(@RequestBody \n@Valid AddSubCategoryRequest subCategory)\n{\n    return service.addSubCategory(subCategory);\n}\n</code></pre>\n<p><strong>//PostMan Request</strong></p>\n<pre><code>{\n&quot;subCatName&quot;:&quot;T-shirts&quot;,\n&quot;categories&quot;:{\n    &quot;id&quot;:1,\n    &quot;catName&quot;:&quot;Clothing and fashion&quot;\n}\n}\n</code></pre>\n<p>and I can see one more thing here you are just passing departmentId not other values of the department table hope this example will solve your problem if not then let me know</p>\n"}],"owner":{"account_id":17933035,"reputation":255,"user_id":13029949,"display_name":"Saimuga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682921612,"creation_date":1682900390,"question_id":76144153,"body_markdown":"I am having a Spring Data rest API where I am trying to save a new record in Entity named comment.\r\nThis entity has a many to one relationship with another entity named department.\r\n\r\nWhen I call the post api for this entity , I am getting below null pointer error but I am passing the department foreign key as part of the postman request. I am not sure why it is not getting received in the server side. Can someone please throw some light on it.\r\n\r\n**Error**\r\n\r\n \r\n\r\n       &quot;cause&quot;: {\r\n            &quot;cause&quot;: {\r\n                &quot;cause&quot;: null,\r\n                &quot;message&quot;: &quot;ERROR: null value in column \\&quot;department_id\\&quot; of relation \\&quot;comments\\&quot; violates not-null constraint\\n  Detail: Failing row contains (32, null, null, null, null, null).&quot;\r\n            },\r\n            &quot;message&quot;: &quot;could not execute statement&quot;\r\n    }\r\n\r\n**Comment Entity (Removed getters and setters for saving lines**\r\n\r\n    @Table(name=&quot;comments&quot;)\r\n    public class Comment implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\r\n    \t@Id\r\n    \t@SequenceGenerator(name=&quot;SEQUENCE_FOR_COMMENTS&quot;, sequenceName=&quot;SEQUENCE_FOR_COMMENTS&quot;,allocationSize = 1 )\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO, generator=&quot;SEQUENCE_FOR_COMMENTS&quot;)\r\n    \t@Column(name=&quot;comment_id&quot;)\r\n    \tprivate Integer commentId;\r\n    \r\n    \tprivate String comment;\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinColumn(name=&quot;department_id&quot;)\r\n    \tprivate Department department;\r\n    \r\n    \r\n    }\r\n\r\n**Department Entity (Removed getters and setters for saving lines**\r\n\r\npublic class Department implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO, generator=&quot;SEQUENCE_FOR_Department&quot; )\r\n\t@Column(name=&quot;department_id&quot;)\r\n\tprivate Long departmentId;\r\n\r\n}\r\n\r\n**Postman Request** \r\n\r\n    {\r\n    &quot;departmentv1&quot;:{\r\n        &quot;departmentId&quot;:163\r\n    },\r\n    &quot;comment&quot;:&quot;Apr292023&quot;\r\n    \r\n    }\r\n\r\n","title":"Spring Data Rest - Post Request failing with Null Pointer Foreign Key Exception","body":"<p>I am having a Spring Data rest API where I am trying to save a new record in Entity named comment.\nThis entity has a many to one relationship with another entity named department.</p>\n<p>When I call the post api for this entity , I am getting below null pointer error but I am passing the department foreign key as part of the postman request. I am not sure why it is not getting received in the server side. Can someone please throw some light on it.</p>\n<p><strong>Error</strong></p>\n<pre><code>   &quot;cause&quot;: {\n        &quot;cause&quot;: {\n            &quot;cause&quot;: null,\n            &quot;message&quot;: &quot;ERROR: null value in column \\&quot;department_id\\&quot; of relation \\&quot;comments\\&quot; violates not-null constraint\\n  Detail: Failing row contains (32, null, null, null, null, null).&quot;\n        },\n        &quot;message&quot;: &quot;could not execute statement&quot;\n}\n</code></pre>\n<p><strong>Comment Entity (Removed getters and setters for saving lines</strong></p>\n<pre><code>@Table(name=&quot;comments&quot;)\npublic class Comment implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    \n    @Id\n    @SequenceGenerator(name=&quot;SEQUENCE_FOR_COMMENTS&quot;, sequenceName=&quot;SEQUENCE_FOR_COMMENTS&quot;,allocationSize = 1 )\n    @GeneratedValue(strategy=GenerationType.AUTO, generator=&quot;SEQUENCE_FOR_COMMENTS&quot;)\n    @Column(name=&quot;comment_id&quot;)\n    private Integer commentId;\n\n    private String comment;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;department_id&quot;)\n    private Department department;\n\n\n}\n</code></pre>\n<p><strong>Department Entity (Removed getters and setters for saving lines</strong></p>\n<p>public class Department implements Serializable {\nprivate static final long serialVersionUID = 1L;</p>\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.AUTO, generator=&quot;SEQUENCE_FOR_Department&quot; )\n@Column(name=&quot;department_id&quot;)\nprivate Long departmentId;\n</code></pre>\n<p>}</p>\n<p><strong>Postman Request</strong></p>\n<pre><code>{\n&quot;departmentv1&quot;:{\n    &quot;departmentId&quot;:163\n},\n&quot;comment&quot;:&quot;Apr292023&quot;\n\n}\n</code></pre>\n"},{"tags":["java","httpclient","java-http-client"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1682885270,"post_id":76143285,"comment_id":134281588,"body_markdown":"Please elaborate on “doesn’t work”.","body":"Please elaborate on “doesn’t work”."},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1682885735,"post_id":76143285,"comment_id":134281629,"body_markdown":"It doesn&#39;t compile. Also, this is using Raw Types.","body":"It doesn&#39;t compile. Also, this is using Raw Types."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682888205,"post_id":76143285,"comment_id":134281914,"body_markdown":"At the very least, I believe it would be better to do the status code check inside the `apply` method of your `JsonBodyHandler` class.","body":"At the very least, I believe it would be better to do the status code check inside the <code>apply</code> method of your <code>JsonBodyHandler</code> class."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1682888574,"post_id":76143285,"comment_id":134281968,"body_markdown":"Then I would try to unify the result type, maybe behind an interface. If using Java 17+ I might even try to implement this using a [sealed interface](https://openjdk.org/jeps/409), then have two [records](https://openjdk.org/jeps/395) to describe the result as a success or a failure. The `Success` record could hold the real object (of type `R` in your example), and the `Failure` record could just carry an error message as a `String`. If allowed to use preview features, then perhaps [pattern matching for switch](https://openjdk.org/jeps/433) (currently its 4th preview in Java 20) [cont.]","body":"Then I would try to unify the result type, maybe behind an interface. If using Java 17+ I might even try to implement this using a <a href=\"https://openjdk.org/jeps/409\" rel=\"nofollow noreferrer\">sealed interface</a>, then have two <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a> to describe the result as a success or a failure. The <code>Success</code> record could hold the real object (of type <code>R</code> in your example), and the <code>Failure</code> record could just carry an error message as a <code>String</code>. If allowed to use preview features, then perhaps <a href=\"https://openjdk.org/jeps/433\" rel=\"nofollow noreferrer\">pattern matching for switch</a> (currently its 4th preview in Java 20) [cont.]"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1682888745,"post_id":76143285,"comment_id":134281992,"body_markdown":"[cont.] could be used to process the result. Though a basic `instanceof` check could work instead (also see [pattern matching for instanceof](https://openjdk.org/jeps/394)). Note I&#39;m mostly just musing here. There are likely some details that would need to be worked out. But this is a pattern I&#39;ve seen in Kotlin quite a few times (i.e., sealed class/interface, limited number of `data class` and/or `object` implementations, using a `when` expression to process the result).","body":"[cont.] could be used to process the result. Though a basic <code>instanceof</code> check could work instead (also see <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">pattern matching for instanceof</a>). Note I&#39;m mostly just musing here. There are likely some details that would need to be worked out. But this is a pattern I&#39;ve seen in Kotlin quite a few times (i.e., sealed class/interface, limited number of <code>data class</code> and/or <code>object</code> implementations, using a <code>when</code> expression to process the result)."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682889977,"post_id":76143285,"comment_id":134282150,"body_markdown":"&quot;Doesn&#39;t compile&quot;is not helpful. Provide the exact error and Java version at the least.","body":"&quot;Doesn&#39;t compile&quot;is not helpful. Provide the exact error and Java version at the least."},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1682920263,"post_id":76143285,"comment_id":134284468,"body_markdown":"@Aled, I have updated the question and added the Java version as well as the compile-time errors.","body":"@Aled, I have updated the question and added the Java version as well as the compile-time errors."},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1682920335,"post_id":76143285,"comment_id":134284475,"body_markdown":"@Slaw I&#39;m using Java 11 and cannot upgrade it.","body":"@Slaw I&#39;m using Java 11 and cannot upgrade it."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682920983,"post_id":76143285,"comment_id":134284519,"body_markdown":"Well, most of what I said only makes the implementation somewhat more straightforward. You should be able to implement something similar to what I described in Java 11 as well.","body":"Well, most of what I said only makes the implementation somewhat more straightforward. You should be able to implement something similar to what I described in Java 11 as well."},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1682924626,"post_id":76143285,"comment_id":134284860,"body_markdown":"@Slaw The `apply` method expects `BodySubscriber&lt;Supplier&lt;R&gt;&gt;`, if I have a check there and return `BodySubscriber&lt;Supplier&lt;ExceptionModel&gt;&gt;` I&#39;ll still get a compile-time error. Also, the JsonBodyHandler is used to map n number of Responses and I cannot unify them using a single interface.","body":"@Slaw The <code>apply</code> method expects <code>BodySubscriber&lt;Supplier&lt;R&gt;&gt;</code>, if I have a check there and return <code>BodySubscriber&lt;Supplier&lt;ExceptionModel&gt;&gt;</code> I&#39;ll still get a compile-time error. Also, the JsonBodyHandler is used to map n number of Responses and I cannot unify them using a single interface."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682972873,"post_id":76143285,"comment_id":134293195,"body_markdown":"What about something like this? https://gitlab.com/-/snippets/2535393 (it doesn&#39;t make use of a `Supplier`, but adapting the code should be relatively easy)","body":"What about something like this? <a href=\"https://gitlab.com/-/snippets/2535393\" rel=\"nofollow noreferrer\">gitlab.com/-/snippets/2535393</a> (it doesn&#39;t make use of a <code>Supplier</code>, but adapting the code should be relatively easy)"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1682920168,"creation_date":1682885022,"question_id":76143285,"body_markdown":"Currently, I have this `JsonBodyHandler` used to parse the response body if the response is successful. I also have a model defined if the request is not successful. So based on the status code, I need to map the response to either the expected or exception model classes.\r\n```java\r\n  private static class JsonBodyHandler&lt;R&gt; implements HttpResponse.BodyHandler&lt;Supplier&lt;R&gt;&gt; {\r\n\r\n    private final Class&lt;R&gt; returnClz;\r\n\r\n    public JsonBodyHandler(Class&lt;R&gt; returnClz) {\r\n      this.returnClz = returnClz;\r\n    }\r\n\r\n    private static &lt;R&gt; HttpResponse.BodySubscriber&lt;Supplier&lt;R&gt;&gt; asJson(Class&lt;R&gt; returnClz) {\r\n      HttpResponse.BodySubscriber&lt;InputStream&gt; upstream =\r\n          HttpResponse.BodySubscribers.ofInputStream();\r\n\r\n      return HttpResponse.BodySubscribers.mapping(\r\n          upstream, inputStream -&gt; toSupplierOfType(inputStream, returnClz));\r\n    }\r\n\r\n    private static &lt;R&gt; Supplier&lt;R&gt; toSupplierOfType(InputStream inputStream, Class&lt;R&gt; returnClz) {\r\n      return () -&gt; {\r\n        try (InputStream stream = inputStream) {\r\n          ObjectMapper objectMapper = new ObjectMapper();\r\n          return objectMapper.readValue(stream, returnClz);\r\n        } catch (IOException e) {\r\n          throw new UncheckedIOException(e);\r\n        }\r\n      };\r\n    }\r\n\r\n    @Override\r\n    public HttpResponse.BodySubscriber&lt;Supplier&lt;R&gt;&gt; apply(HttpResponse.ResponseInfo responseInfo) {\r\n      return asJson(returnClz);\r\n    }\r\n  }\r\n```\r\n\r\nI&#39;m sending requests as follows:\r\n\r\n```java\r\n  &lt;B, R&gt; R exchange(URI uri, String method, B body, Class&lt;R&gt; returnClz) {\r\n    Builder httpRequestBuilder = HttpRequest.newBuilder().uri(uri);\r\n    addHeaders(httpRequestBuilder);\r\n\r\n    var httpRequest =\r\n        &quot;GET&quot;.equals(method)\r\n            ? httpRequestBuilder.GET().build()\r\n            : httpRequestBuilder.method(method, getBodyPublisher(body)).build();\r\n\r\n    var httpClient = HttpClient.newHttpClient();\r\n    JsonBodyHandler&lt;R&gt; bodyHandler = new JsonBodyHandler&lt;&gt;(returnClz);\r\n    Supplier&lt;R&gt; responseSupplier = httpClient.send(httpRequest, bodyHandler).body();\r\n    return responseSupplier.get();\r\n  }\r\n```\r\n\r\nWhat I want to do is something as follows:\r\n\r\n```java\r\n    BodySubscriber&lt;Supplier&lt;R&gt;&gt; successBodySubscriber = JsonBodyHandler.asJson(returnClz);\r\n    BodySubscriber&lt;Supplier&lt;ExceptionModel&gt;&gt; failureBodySubscriber =\r\n        JsonBodyHandler.asJson(ExceptionModel.class);\r\n    BodyHandler&lt;Supplier&gt; jsonBodyHandler =\r\n        (rspInfo) -&gt; rspInfo.statusCode() == 200 ? successBodySubscriber : failureBodySubscriber;\r\n\r\n    HttpResponse&lt;Supplier&gt; httpResponse = httpClient.send(httpRequest, jsonBodyHandler);\r\n    if (httpResponse.statusCode() != 200) {\r\n      Supplier&lt;ExceptionModel&gt; responseSupplier = httpResponse.body();\r\n      throw ClientServiceError.invalidResponse(responseSupplier.get());\r\n    }\r\n\r\n    Supplier&lt;R&gt; responseSupplier = httpResponse.body();\r\n    return responseSupplier.get();\r\n```\r\n\r\nThis doesn&#39;t work, I get compile time error at line `BodyHandler&lt;Supplier&gt; jsonBodyHandler =\r\n        (rspInfo) -&gt; rspInfo.statusCode() == 200 ? successBodySubscriber : failureBodySubscriber;`:\r\n\r\n&gt; Incompatible types. Found: &#39;java.net.http.HttpResponse.BodySubscriber&lt;java.util.function.Supplier&lt;R&gt;&gt;&#39;, required: &#39;java.net.http.HttpResponse.BodySubscriber&lt;java.util.function.Supplier&gt;&#39;\r\n\r\n&gt; Incompatible types. Found: &#39;java.net.http.HttpResponse.BodySubscriber&lt;java.util.function.Supplier&lt;com.project.proxy.impl.ExceptionModel&gt;&gt;&#39;, required: &#39;java.net.http.HttpResponse.BodySubscriber&lt;java.util.function.Supplier&gt;&#39;\r\n\r\n\r\nI am using Java 11. Cannot upgrade the version. I believe there should be a better way to do this. Any suggestions will be appreciated.","title":"java.net.http.HttpClient Error Handling with different BodySubscribers","body":"<p>Currently, I have this <code>JsonBodyHandler</code> used to parse the response body if the response is successful. I also have a model defined if the request is not successful. So based on the status code, I need to map the response to either the expected or exception model classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private static class JsonBodyHandler&lt;R&gt; implements HttpResponse.BodyHandler&lt;Supplier&lt;R&gt;&gt; {\n\n    private final Class&lt;R&gt; returnClz;\n\n    public JsonBodyHandler(Class&lt;R&gt; returnClz) {\n      this.returnClz = returnClz;\n    }\n\n    private static &lt;R&gt; HttpResponse.BodySubscriber&lt;Supplier&lt;R&gt;&gt; asJson(Class&lt;R&gt; returnClz) {\n      HttpResponse.BodySubscriber&lt;InputStream&gt; upstream =\n          HttpResponse.BodySubscribers.ofInputStream();\n\n      return HttpResponse.BodySubscribers.mapping(\n          upstream, inputStream -&gt; toSupplierOfType(inputStream, returnClz));\n    }\n\n    private static &lt;R&gt; Supplier&lt;R&gt; toSupplierOfType(InputStream inputStream, Class&lt;R&gt; returnClz) {\n      return () -&gt; {\n        try (InputStream stream = inputStream) {\n          ObjectMapper objectMapper = new ObjectMapper();\n          return objectMapper.readValue(stream, returnClz);\n        } catch (IOException e) {\n          throw new UncheckedIOException(e);\n        }\n      };\n    }\n\n    @Override\n    public HttpResponse.BodySubscriber&lt;Supplier&lt;R&gt;&gt; apply(HttpResponse.ResponseInfo responseInfo) {\n      return asJson(returnClz);\n    }\n  }\n</code></pre>\n<p>I'm sending requests as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  &lt;B, R&gt; R exchange(URI uri, String method, B body, Class&lt;R&gt; returnClz) {\n    Builder httpRequestBuilder = HttpRequest.newBuilder().uri(uri);\n    addHeaders(httpRequestBuilder);\n\n    var httpRequest =\n        &quot;GET&quot;.equals(method)\n            ? httpRequestBuilder.GET().build()\n            : httpRequestBuilder.method(method, getBodyPublisher(body)).build();\n\n    var httpClient = HttpClient.newHttpClient();\n    JsonBodyHandler&lt;R&gt; bodyHandler = new JsonBodyHandler&lt;&gt;(returnClz);\n    Supplier&lt;R&gt; responseSupplier = httpClient.send(httpRequest, bodyHandler).body();\n    return responseSupplier.get();\n  }\n</code></pre>\n<p>What I want to do is something as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    BodySubscriber&lt;Supplier&lt;R&gt;&gt; successBodySubscriber = JsonBodyHandler.asJson(returnClz);\n    BodySubscriber&lt;Supplier&lt;ExceptionModel&gt;&gt; failureBodySubscriber =\n        JsonBodyHandler.asJson(ExceptionModel.class);\n    BodyHandler&lt;Supplier&gt; jsonBodyHandler =\n        (rspInfo) -&gt; rspInfo.statusCode() == 200 ? successBodySubscriber : failureBodySubscriber;\n\n    HttpResponse&lt;Supplier&gt; httpResponse = httpClient.send(httpRequest, jsonBodyHandler);\n    if (httpResponse.statusCode() != 200) {\n      Supplier&lt;ExceptionModel&gt; responseSupplier = httpResponse.body();\n      throw ClientServiceError.invalidResponse(responseSupplier.get());\n    }\n\n    Supplier&lt;R&gt; responseSupplier = httpResponse.body();\n    return responseSupplier.get();\n</code></pre>\n<p>This doesn't work, I get compile time error at line <code>BodyHandler&lt;Supplier&gt; jsonBodyHandler = (rspInfo) -&gt; rspInfo.statusCode() == 200 ? successBodySubscriber : failureBodySubscriber;</code>:</p>\n<blockquote>\n<p>Incompatible types. Found: 'java.net.http.HttpResponse.BodySubscriber&lt;java.util.function.Supplier&gt;', required: 'java.net.http.HttpResponse.BodySubscriber&lt;java.util.function.Supplier&gt;'</p>\n</blockquote>\n<blockquote>\n<p>Incompatible types. Found: 'java.net.http.HttpResponse.BodySubscriber&lt;java.util.function.Supplier&lt;com.project.proxy.impl.ExceptionModel&gt;&gt;', required: 'java.net.http.HttpResponse.BodySubscriber&lt;java.util.function.Supplier&gt;'</p>\n</blockquote>\n<p>I am using Java 11. Cannot upgrade the version. I believe there should be a better way to do this. Any suggestions will be appreciated.</p>\n"},{"tags":["java","cryptography","digital-signature","sunpkcs11"],"comments":[{"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"score":0,"creation_date":1682525639,"post_id":76111439,"comment_id":134231171,"body_markdown":"Are you sure your token sign with SHA256 and PKCS#1 padding?\nJava Signature output is PKCS#1 signature.\nTo generate a PKCS#7 signature in Java, you would typically use the CMSSignedData class in the Bouncy Castle library or the SignedData class in the Java Security API.","body":"Are you sure your token sign with SHA256 and PKCS#1 padding? Java Signature output is PKCS#1 signature. To generate a PKCS#7 signature in Java, you would typically use the CMSSignedData class in the Bouncy Castle library or the SignedData class in the Java Security API."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682525735,"post_id":76111439,"comment_id":134231198,"body_markdown":"Yes _that_ signature scheme (RSASSA-PKCS1-v1_5) is deterministic and two signing operations on the same data with the same key(pair) should produce the same signature. (This is not true of many other signature schemes.) Since I obviously can&#39;t reproduce the problem, I don&#39;t know what else to tell you. PS: rahat.key (like most but not all files used by OpenSSL) is PEM format, which is not _just_ base64, it is base64 with linebreaks and begin/end lines -- those matter; see wikipedia or rfc7468.","body":"Yes <i>that</i> signature scheme (RSASSA-PKCS1-v1_5) is deterministic and two signing operations on the same data with the same key(pair) should produce the same signature. (This is not true of many other signature schemes.) Since I obviously can&#39;t reproduce the problem, I don&#39;t know what else to tell you. PS: rahat.key (like most but not all files used by OpenSSL) is PEM format, which is not <i>just</i> base64, it is base64 with linebreaks and begin/end lines -- those matter; see wikipedia or rfc7468."},{"owner":{"account_id":28423054,"reputation":1,"user_id":21744842,"display_name":"RAHAT"},"score":0,"creation_date":1682549457,"post_id":76111439,"comment_id":134235650,"body_markdown":"About rahat.key, yes you are right. I removed all CRs and made a string, I uploaded the public key to a website, and the combincation of both private and public key on the website works fine, and I was able to get some information, especially I could login to the website. The problem is when I use actual TOKEN and sign. That is why I used the two methods on a &quot;Hello World&quot; and I saw the resulting System.out.println(Base64.getEncoder().encodeToString(signedData)); are different.","body":"About rahat.key, yes you are right. I removed all CRs and made a string, I uploaded the public key to a website, and the combincation of both private and public key on the website works fine, and I was able to get some information, especially I could login to the website. The problem is when I use actual TOKEN and sign. That is why I used the two methods on a &quot;Hello World&quot; and I saw the resulting System.out.println(Base64.getEncoder().encodeToString(signed&zwnj;&#8203;Data)); are different."},{"owner":{"account_id":28423054,"reputation":1,"user_id":21744842,"display_name":"RAHAT"},"score":0,"creation_date":1682934497,"post_id":76111439,"comment_id":134286015,"body_markdown":"Hi @Ziv, thanks for the comment. Would you please explain a little bit more. The PKC8 code , I can&#39;t do anything about it. But the code for the Token I can.  What is this pkcs#1 padding?","body":"Hi @Ziv, thanks for the comment. Would you please explain a little bit more. The PKC8 code , I can&#39;t do anything about it. But the code for the Token I can.  What is this pkcs#1 padding?"}],"owner":{"account_id":28423054,"reputation":1,"user_id":21744842,"display_name":"RAHAT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682920116,"creation_date":1682516215,"question_id":76111439,"body_markdown":"I created a CSR file and a private key PEM file used the following command in openSSL\r\n\r\nopenssl req -new -utf8 -nameopt multiline,utf8 -config rahat.cnf -newkey rsa:2048 -nodes -keyout rahat.key -out rahat.Csr\r\n\r\nThen I got the certificate from authorities in the form of a crt file. I converted to cer and then extract the public key with the following command in OpenSSL\r\n\r\nopenssl x509 -pubkey -noout -in rahat.cer &gt; pubkey.txt\r\n\r\nThen I created a p12 file containing the certificate and also both the public and private keys using the following OpenSSL command:\r\n\r\nopenssl pkcs12 -export -out rahat.p12 -inkey rahat.key -in rahat.cer\r\n\r\nI have a physical actual ePass3003Auto token. I imported the p12 file into this Token used ePassManagerAdm_3003.exe application to create a signature. Then extracted the cer file and extracted the public key and compared with the pubkey.txt above and both were identical.\r\n\r\nNow the problem:\r\n\r\nI used the actual token to sign a &quot;Hello World&quot; string in java.\r\nIt worked and then I could verify the signed data using certificate and public key again in java.\r\n\r\nOn the other hand I used contents of the rahat.key file that is actually Base64 private key, and with the following lines in java I signed &quot;Hello World&quot; again.\r\n\r\nSuppose PRIVATE_KEY is the private key string.\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.InputStream;\r\n    import java.security.KeyStore;\r\n    import java.security.PrivateKey;\r\n    import java.security.Signature;\r\n    import java.security.cert.X509Certificate;\r\n    import java.security.cert.Certificate;\r\n    import java.security.Provider;\r\n    import java.security.Security;\r\n    import java.util.Base64;\r\n\r\n    import java.security.KeyFactory;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.PKCS8EncodedKeySpec;\r\n\r\n\r\n    public byte[] signData(byte[] data, String PRIVATE_KEY) throws Exception {\r\n\r\n        byte[] encoded = Base64.getDecoder().decode(PRIVATE_KEY);\r\n\r\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PrivateKey pk = kf.generatePrivate(keySpec);\r\n        \r\n        Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n        signature.initSign(pk);\r\n        signature.update(data);\r\n\r\n        byte[] signedData = signature.sign();\r\n\r\n        return signedData;\r\n    }`\r\n\r\n\r\nWHY the result are different? Shouldn&#39;t be the resulting signed data from two methods be identical?\r\n \r\n\r\nHere are the signing code with the actual Token:\r\n\r\n\r\n        Provider p = Security.getProvider(&quot;SunPKCS11&quot;);\r\n        p = p.configure(&quot;config.cfg&quot;);\r\n    \tSecurity.addProvider(p);\r\n\t    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS11&quot;, p);\r\n\r\n        char[] pin = &quot;4321&quot;.toCharArray();\r\n        keyStore.load(null, pin);\r\n\r\n        java.util.Enumeration&lt;String&gt; aliases = keyStore.aliases();\r\n        String alias = aliases.nextElement();\r\n\r\n        PrivateKey pk = (PrivateKey)keyStore.getKey(alias, &quot;4321&quot;.toCharArray());\r\n        Certificate[] chain = keyStore.getCertificateChain(alias);\r\n        X509Certificate cert = (X509Certificate)chain[0];\r\n \r\n        Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n        signature.initSign(pk);\r\n        signature.update(data);\r\n\r\n        byte[] signedData = signature.sign();\r\n\r\n        signature.initVerify(cert.getPublicKey());\r\n        signature.update(data);\r\n        boolean verified = signature.verify(signedData);\r\n        System.out.println(&quot;Verified: &quot; + verified);\r\n        return signedData;\r\n\r\n\r\nPlease check the second part of the code &quot;signing with token&quot;. What changes should I make?\r\n\r\nI can do nothing about the first part of code. What I am concerned is regarding the second part of code when signing with the Token.\r\n\r\n\r\nAny comment on this matter is appreciated.\r\n\r\n\r\n","title":"Why signed data using two methods do not match?","body":"<p>I created a CSR file and a private key PEM file used the following command in openSSL</p>\n<p>openssl req -new -utf8 -nameopt multiline,utf8 -config rahat.cnf -newkey rsa:2048 -nodes -keyout rahat.key -out rahat.Csr</p>\n<p>Then I got the certificate from authorities in the form of a crt file. I converted to cer and then extract the public key with the following command in OpenSSL</p>\n<p>openssl x509 -pubkey -noout -in rahat.cer &gt; pubkey.txt</p>\n<p>Then I created a p12 file containing the certificate and also both the public and private keys using the following OpenSSL command:</p>\n<p>openssl pkcs12 -export -out rahat.p12 -inkey rahat.key -in rahat.cer</p>\n<p>I have a physical actual ePass3003Auto token. I imported the p12 file into this Token used ePassManagerAdm_3003.exe application to create a signature. Then extracted the cer file and extracted the public key and compared with the pubkey.txt above and both were identical.</p>\n<p>Now the problem:</p>\n<p>I used the actual token to sign a &quot;Hello World&quot; string in java.\nIt worked and then I could verify the signed data using certificate and public key again in java.</p>\n<p>On the other hand I used contents of the rahat.key file that is actually Base64 private key, and with the following lines in java I signed &quot;Hello World&quot; again.</p>\n<p>Suppose PRIVATE_KEY is the private key string.</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.InputStream;\nimport java.security.KeyStore;\nimport java.security.PrivateKey;\nimport java.security.Signature;\nimport java.security.cert.X509Certificate;\nimport java.security.cert.Certificate;\nimport java.security.Provider;\nimport java.security.Security;\nimport java.util.Base64;\n\nimport java.security.KeyFactory;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.PKCS8EncodedKeySpec;\n\n\npublic byte[] signData(byte[] data, String PRIVATE_KEY) throws Exception {\n\n    byte[] encoded = Base64.getDecoder().decode(PRIVATE_KEY);\n\n    PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n    PrivateKey pk = kf.generatePrivate(keySpec);\n    \n    Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\n    signature.initSign(pk);\n    signature.update(data);\n\n    byte[] signedData = signature.sign();\n\n    return signedData;\n}`\n</code></pre>\n<p>WHY the result are different? Shouldn't be the resulting signed data from two methods be identical?</p>\n<p>Here are the signing code with the actual Token:</p>\n<pre><code>    Provider p = Security.getProvider(&quot;SunPKCS11&quot;);\n    p = p.configure(&quot;config.cfg&quot;);\n    Security.addProvider(p);\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS11&quot;, p);\n\n    char[] pin = &quot;4321&quot;.toCharArray();\n    keyStore.load(null, pin);\n\n    java.util.Enumeration&lt;String&gt; aliases = keyStore.aliases();\n    String alias = aliases.nextElement();\n\n    PrivateKey pk = (PrivateKey)keyStore.getKey(alias, &quot;4321&quot;.toCharArray());\n    Certificate[] chain = keyStore.getCertificateChain(alias);\n    X509Certificate cert = (X509Certificate)chain[0];\n\n    Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\n    signature.initSign(pk);\n    signature.update(data);\n\n    byte[] signedData = signature.sign();\n\n    signature.initVerify(cert.getPublicKey());\n    signature.update(data);\n    boolean verified = signature.verify(signedData);\n    System.out.println(&quot;Verified: &quot; + verified);\n    return signedData;\n</code></pre>\n<p>Please check the second part of the code &quot;signing with token&quot;. What changes should I make?</p>\n<p>I can do nothing about the first part of code. What I am concerned is regarding the second part of code when signing with the Token.</p>\n<p>Any comment on this matter is appreciated.</p>\n"},{"tags":["java","swing","model-view-controller","user-interface","javabeans"],"comments":[{"owner":{"account_id":1902446,"reputation":2942,"user_id":1718013,"accept_rate":65,"display_name":"Hoody"},"score":1,"creation_date":1358364297,"post_id":14366001,"comment_id":19976637,"body_markdown":"@RomanC have a database table which holds Events (eventId,name,date.etc), so DTO and MVC, same or different?","body":"@RomanC have a database table which holds Events (eventId,name,date.etc), so DTO and MVC, same or different?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1358364437,"post_id":14366001,"comment_id":19976701,"body_markdown":"At the database you haven&#39;t DTO but database objects.","body":"At the database you haven&#39;t DTO but database objects."},{"owner":{"account_id":1902446,"reputation":2942,"user_id":1718013,"accept_rate":65,"display_name":"Hoody"},"score":0,"creation_date":1358364567,"post_id":14366001,"comment_id":19976754,"body_markdown":"@RomanC in the Java classes sorry, using DTO/DAO structure or should be using MVC? what is the difference","body":"@RomanC in the Java classes sorry, using DTO/DAO structure or should be using MVC? what is the difference"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1358364761,"post_id":14366001,"comment_id":19976861,"body_markdown":"read [this](http://en.wikipedia.org/wiki/Data_Transfer_Object) and [that](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) check the difference","body":"read <a href=\"http://en.wikipedia.org/wiki/Data_Transfer_Object\" rel=\"nofollow noreferrer\">this</a> and <a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">that</a> check the difference"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1358364910,"post_id":14366001,"comment_id":19976931,"body_markdown":"did you read about database at the second def?","body":"did you read about database at the second def?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1358365256,"post_id":14366001,"comment_id":19977144,"body_markdown":"if not, the second question about if you use a second choice how it would be related to the first one?","body":"if not, the second question about if you use a second choice how it would be related to the first one?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1358366097,"post_id":14366001,"comment_id":19977583,"body_markdown":"if couldn&#39;t find answer check [this](http://en.wikipedia.org/wiki/Value_object#Value_Objects_in_Java) too for easy explanation.","body":"if couldn&#39;t find answer check <a href=\"http://en.wikipedia.org/wiki/Value_object#Value_Objects_in_Java\" rel=\"nofollow noreferrer\">this</a> too for easy explanation."},{"owner":{"account_id":211181,"reputation":6023,"user_id":463196,"accept_rate":78,"display_name":"Philip Tenn"},"score":1,"creation_date":1358367032,"post_id":14366001,"comment_id":19978017,"body_markdown":"1) Seems like you have a lot of different concepts and patterns that, while are often used together in applications, should be tackled one-by-one.  DTO and DAO are quite different concepts, and it&#39;s really not an &quot;either/or&quot; when contrasted with MVC.","body":"1) Seems like you have a lot of different concepts and patterns that, while are often used together in applications, should be tackled one-by-one.  DTO and DAO are quite different concepts, and it&#39;s really not an &quot;either/or&quot; when contrasted with MVC."},{"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1558602713,"post_id":14366001,"comment_id":99158483,"body_markdown":"related https://stackoverflow.com/questions/1612334/difference-between-dto-vo-pojo-javabeans","body":"related <a href=\"https://stackoverflow.com/questions/1612334/difference-between-dto-vo-pojo-javabeans\" title=\"difference between dto vo pojo javabeans\">stackoverflow.com/questions/1612334/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2172565,"reputation":6019,"user_id":1924141,"display_name":"Petr"},"down_vote_count":3,"up_vote_count":375,"is_accepted":true,"score":372,"last_activity_date":1558602642,"creation_date":1358365244,"answer_id":14366441,"question_id":14366001,"body_markdown":"`DTO` is an abbreviation for **Data Transfer Object**, so it is used to transfer the data between classes and modules of your application.  \r\n\r\n - `DTO` should only contain private fields for your data, getters, setters, and constructors.\r\n - `DTO` is not recommended to add business logic methods to such classes, but it is OK to add some util methods.\r\n\r\n  \r\n \r\n\r\n`DAO` is an abbreviation for **Data Access Object**, so it should encapsulate the logic for retrieving, saving and updating data in your data storage (a database, a file-system, whatever).  \r\n  \r\n  \r\n\r\nHere is an example of how the DAO and DTO interfaces would look like:\r\n\r\n    interface PersonDTO {\r\n        String getName();\r\n        void setName(String name);\r\n        //.....\r\n    }\r\n\r\n    interface PersonDAO {\r\n        PersonDTO findById(long id);\r\n        void save(PersonDTO person);\r\n        //.....\r\n    }\r\n\r\nThe `MVC` is a wider pattern. The DTO/DAO would be your model in the MVC pattern.  \r\nIt tells you how to organize the whole application, not just the part responsible for data retrieval.\r\n\r\nAs for the second question, if you have a small application it is completely OK, however, if you want to follow the MVC pattern it would be **better to have a separate controller**, which would contain the business logic for your frame in a separate class and dispatch messages to this controller from the event handlers.  \r\nThis would separate your business logic from the view. ","title":"DTO and DAO concepts and MVC","body":"<p><code>DTO</code> is an abbreviation for <strong>Data Transfer Object</strong>, so it is used to transfer the data between classes and modules of your application.  </p>\n\n<ul>\n<li><code>DTO</code> should only contain private fields for your data, getters, setters, and constructors.</li>\n<li><code>DTO</code> is not recommended to add business logic methods to such classes, but it is OK to add some util methods.</li>\n</ul>\n\n<p><code>DAO</code> is an abbreviation for <strong>Data Access Object</strong>, so it should encapsulate the logic for retrieving, saving and updating data in your data storage (a database, a file-system, whatever).  </p>\n\n<p>Here is an example of how the DAO and DTO interfaces would look like:</p>\n\n<pre><code>interface PersonDTO {\n    String getName();\n    void setName(String name);\n    //.....\n}\n\ninterface PersonDAO {\n    PersonDTO findById(long id);\n    void save(PersonDTO person);\n    //.....\n}\n</code></pre>\n\n<p>The <code>MVC</code> is a wider pattern. The DTO/DAO would be your model in the MVC pattern.<br>\nIt tells you how to organize the whole application, not just the part responsible for data retrieval.</p>\n\n<p>As for the second question, if you have a small application it is completely OK, however, if you want to follow the MVC pattern it would be <strong>better to have a separate controller</strong>, which would contain the business logic for your frame in a separate class and dispatch messages to this controller from the event handlers.<br>\nThis would separate your business logic from the view. </p>\n"}],"owner":{"account_id":1902446,"reputation":2942,"user_id":1718013,"accept_rate":65,"display_name":"Hoody"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215292,"favorite_count":0,"down_vote_count":5,"up_vote_count":189,"closed_date":1358395613,"accepted_answer_id":14366441,"answer_count":1,"score":184,"last_activity_date":1682919476,"creation_date":1358363742,"question_id":14366001,"body_markdown":"1) Why do we use DTO and DAO, and when should we use them. I am developing a GUI Java software to do with inserting, editing, deleting data. But I am struggling to distinguish between DTO/DAO and Model, View, Controller (MVC) structure? Are they similar, which is better to use when interacting with database through Java GUI. \r\n\r\n2) One thing I&#39;m really curious about is whether it is a good practice to have View and Controller in one class. If we think about NetBeans, you can create GUI `Frame` class and add components like `JButton` onto the frame, double clicking the button will take you to the `actionListener` method (Controller) which appears to be in the frame the data is to be displayed to the user (View). So they&#39;re in the same class. Is that completely going against the concept then or not?  \r\n\r\n\r\n &lt;a href=&quot;http://www.youtube.com/watch?v=Iwwznm9XSME&quot;&gt;Here&lt;/a&gt; is what I&#39;m talking about\r\n\r\nIs it bad practice to have view and controller in one class? ","title":"DTO and DAO concepts and MVC","body":"<ol>\n<li><p>Why do we use DTO and DAO, and when should we use them. I am developing a GUI Java software to do with inserting, editing, deleting data. But I am struggling to distinguish between DTO/DAO and Model, View, Controller (MVC) structure? Are they similar, which is better to use when interacting with database through Java GUI.</p>\n</li>\n<li><p>One thing I'm really curious about is whether it is a good practice to have View and Controller in one class. If we think about NetBeans, you can create GUI <code>Frame</code> class and add components like <code>JButton</code> onto the frame, double clicking the button will take you to the <code>actionListener</code> method (Controller) which appears to be in the frame the data is to be displayed to the user (View). So they're in the same class. Is that completely going against the concept then or not?</p>\n</li>\n</ol>\n<p><a href=\"http://www.youtube.com/watch?v=Iwwznm9XSME\" rel=\"nofollow noreferrer\">Here</a> is what I'm talking about</p>\n<p>Is it bad practice to have view and controller in one class?</p>\n"},{"tags":["java","eclipse","maven","eclipse-plugin","maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682930304,"post_id":76144845,"comment_id":134285488,"body_markdown":"Where is this plugin: `ejbgen-maven-plugin` coming from? Does not exist in central repository... does your build work on plain command line??","body":"Where is this plugin: <code>ejbgen-maven-plugin</code> coming from? Does not exist in central repository... does your build work on plain command line??"}],"owner":{"account_id":8238840,"reputation":637,"user_id":6197069,"display_name":"Hanamant Jadhav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682917880,"creation_date":1682917880,"question_id":76144845,"body_markdown":"I am facing issue while importing maven project in eclipse. I have already added maven plugin/software in eclipse. Please let me know if I am missing anything here. \r\n\r\n1. ejbgen-maven-plugin:1.0.0:ejbgen\r\n2. maven-dependency-plugin:3.1.1:properties\r\n\r\n[![Issue importing projects in eclipse][1]][1]\r\n\r\n\r\n[![Added following software in eclipse][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D7lbc.png\r\n  [2]: https://i.stack.imgur.com/q15uJ.png\r\n","title":"How to resolve Maven Plugin connectors issue in eclipse?","body":"<p>I am facing issue while importing maven project in eclipse. I have already added maven plugin/software in eclipse. Please let me know if I am missing anything here.</p>\n<ol>\n<li>ejbgen-maven-plugin:1.0.0:ejbgen</li>\n<li>maven-dependency-plugin:3.1.1:properties</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/D7lbc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D7lbc.png\" alt=\"Issue importing projects in eclipse\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/q15uJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q15uJ.png\" alt=\"Added following software in eclipse\" /></a></p>\n"},{"tags":["java","mariadb","jooq"],"comments":[{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1682879979,"post_id":76142850,"comment_id":134280955,"body_markdown":"very sad that jOOQ isn&#39;t just using json_arrayagg.  are you certain that is the complete error message?   does it work if you disable the @@group_concat_max_len stuff? (see https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-group-concat/)","body":"very sad that jOOQ isn&#39;t just using json_arrayagg.  are you certain that is the complete error message?   does it work if you disable the @@group_concat_max_len stuff? (see <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-group-concat/\" rel=\"nofollow noreferrer\">jooq.org/doc/latest/manual/sql-building/dsl-context/&hellip;</a>)"},{"owner":{"account_id":2611233,"reputation":53,"user_id":2261302,"display_name":"deniro.wang"},"score":0,"creation_date":1682880490,"post_id":76142850,"comment_id":134281014,"body_markdown":"Yes,that is all error message,and I have set group_concat_max_len in my.cnf","body":"Yes,that is all error message,and I have set group_concat_max_len in my.cnf"},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":1,"creation_date":1682883319,"post_id":76142850,"comment_id":134281353,"body_markdown":"yes, but jooq doesn&#39;t know you have set group_concat_max_len, so it is trying to temporarily set it for the select.  set the withRenderGroupConcatMaxLenSessionVariable setting to false so it doesn&#39;t try to do that, and verify the generated sql is just a select statement, and see if that resolves the problem.  if it does, allowMultiQueries wasn&#39;t being effective for some reason.","body":"yes, but jooq doesn&#39;t know you have set group_concat_max_len, so it is trying to temporarily set it for the select.  set the withRenderGroupConcatMaxLenSessionVariable setting to false so it doesn&#39;t try to do that, and verify the generated sql is just a select statement, and see if that resolves the problem.  if it does, allowMultiQueries wasn&#39;t being effective for some reason."},{"owner":{"account_id":2611233,"reputation":53,"user_id":2261302,"display_name":"deniro.wang"},"score":0,"creation_date":1682910302,"post_id":76142850,"comment_id":134283761,"body_markdown":"It&#39;s working when I set withRenderGroupConcatMaxLenSessionVariable  to false, you saved my day!\nbut I still don&#39;t realize what problem is. \nmy jooq maven config is like \n&lt;jdbcUrl&gt;jdbc:mysql://${db.ip}:${db.port}/${db.schema}?useSSL=true&amp;amp;allowMultiQueries=true&lt;/jdbcUrl&gt;","body":"It&#39;s working when I set withRenderGroupConcatMaxLenSessionVariable  to false, you saved my day! but I still don&#39;t realize what problem is.  my jooq maven config is like  &lt;jdbcUrl&gt;jdbc:mysql://${db.ip}:${db.port}/${db.schema}?useSS&zwnj;&#8203;L=true&amp;amp;allowMult&zwnj;&#8203;iQueries=true&lt;/jdbcU&zwnj;&#8203;rl&gt;"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1682939210,"post_id":76142850,"comment_id":134286712,"body_markdown":"@ysth: There was a time when jOOQ couldn&#39;t just use `JSON_ARRAYAGG`: https://github.com/jOOQ/jOOQ/issues/12169. May be worth reviewing. But these things don&#39;t lead to any issues in jOOQ&#39;s integration tests","body":"@ysth: There was a time when jOOQ couldn&#39;t just use <code>JSON_ARRAYAGG</code>: <a href=\"https://github.com/jOOQ/jOOQ/issues/12169\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/12169</a>. May be worth reviewing. But these things don&#39;t lead to any issues in jOOQ&#39;s integration tests"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":2,"creation_date":1682941081,"post_id":76142850,"comment_id":134286994,"body_markdown":"@ysth: I just tried generating `JSON_ARRAYAGG()` calls again from jOOQ&#39;s internals (assuming neither `FILTER` nor `ABSENT ON NULL` clauses are used. Still no success, found yet another bug: https://jira.mariadb.org/browse/MDEV-31159. MariaDB&#39;s JSON support has been bug ridden for many years now, which is why jOOQ works around things in such cumbersome ways.","body":"@ysth: I just tried generating <code>JSON_ARRAYAGG()</code> calls again from jOOQ&#39;s internals (assuming neither <code>FILTER</code> nor <code>ABSENT ON NULL</code> clauses are used. Still no success, found yet another bug: <a href=\"https://jira.mariadb.org/browse/MDEV-31159\" rel=\"nofollow noreferrer\">jira.mariadb.org/browse/MDEV-31159</a>. MariaDB&#39;s JSON support has been bug ridden for many years now, which is why jOOQ works around things in such cumbersome ways."}],"owner":{"account_id":2611233,"reputation":53,"user_id":2261302,"display_name":"deniro.wang"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682916038,"creation_date":1682878787,"question_id":76142850,"body_markdown":"If my SQL statement has the jsonArrayAgg command, jOOQ always raises an error:\r\n\r\n&quot;You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near&quot;.\r\n\r\nHowever, when I turn on &quot;general_log&quot; in MariaDB and copy/post the jooq generate SQL statement to query the database, everything is fine, and the result is what I want.\r\n\r\nMy code simply like\r\n\r\n```\r\n     list = ctx.select(\r\n                MAIN.KEYID,\r\n                field(\r\n                select(jsonArrayAgg(\r\n                    jsonObject(\r\n                        key(&quot;id&quot;).value(CONNECTOR.ID),\r\n                        key(&quot;standard&quot;).value(CONNECTOR.STANDARD)\r\n                ))).from(CONNECTOR)\r\n                .where(CONNECTOR.MAINKEYID.eq(MAIN.KEYID))).as(&quot;connectors&quot;)                                \r\n            ).from(MAIN)           \r\n            .fetchInto(JSON_POJO.class);\r\n```\r\n\r\njooq log\r\n\r\n```\r\nat org.jooq_3.15.12.MARIADB.debug(Unknown Source) ~[?:?]\r\n\tat org.jooq.impl.Tools.translate(Tools.java:2997) ~[jooq-3.15.12.jar:?]\r\n\tat org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:639) ~[jooq-3.15.12.jar:?]\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:354) ~[jooq-3.15.12.jar:?]\r\n\tat org.jooq.impl.AbstractResultQuery.fetchLazy(AbstractResultQuery.java:295) ~[jooq-3.15.12.jar:?]\r\n\tat org.jooq.impl.AbstractResultQuery.fetchLazyNonAutoClosing(AbstractResultQuery.java:316) ~[jooq-3.15.12.jar:?]\r\n\tat org.jooq.impl.SelectImpl.fetchLazyNonAutoClosing(SelectImpl.java:2866) ~[jooq-3.15.12.jar:?]\r\n\tat org.jooq.impl.ResultQueryTrait.collect(ResultQueryTrait.java:357) ~[jooq-3.15.12.jar:?]\r\n\tat org.jooq.impl.ResultQueryTrait.fetchInto(ResultQueryTrait.java:1423) ~[jooq-3.15.12.jar:?]\r\n```\r\n\r\njooq generate sql code simply like this\r\n\r\n```\r\nset @t = @@group_concat_max_len; set @@group_concat_max_len = 4294967295; \r\nselect `mydb`.`main`.`keyid`, \r\n(select json_merge_preserve(&#39;[]&#39;, concat(&#39;[&#39;, group_concat(json_merge_preserve(&#39;{}&#39;, json_object(&#39;id&#39;, `mydb`.`Connector`.`id`), json_object(&#39;standard&#39;, `mydb`.`Connector`.`standard`)) separator &#39;,&#39;), &#39;]&#39;)) \r\nfrom `mydb`.`Connector` where `mydb`.`Connector`.`mainKeyid` = `mydb`.`main`.`keyid`) as `connectors` from `mydb`.`main`; \r\nset @@group_concat_max_len = @t\r\n```\r\n\r\nI have try jooq version from 3.12 \\~ 3.16,\r\n\r\nMariaDB 10.3 and upgrade to 10.11,\r\n\r\nJava 11.0.18\r\n\r\n[allowMultiQueries = true](https://stackoverflow.com/questions/70351547/jooq-multiset-throwing-syntax-exception) \r\n\r\nbut none of them worked.\r\nHow can I overcome this problem or find a workaround?","title":"jooq jsonArrayAgg query mariadb/mysql always get &quot;an error in your SQL syntax&quot; exception","body":"<p>If my SQL statement has the jsonArrayAgg command, jOOQ always raises an error:</p>\n<p>&quot;You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near&quot;.</p>\n<p>However, when I turn on &quot;general_log&quot; in MariaDB and copy/post the jooq generate SQL statement to query the database, everything is fine, and the result is what I want.</p>\n<p>My code simply like</p>\n<pre><code>     list = ctx.select(\n                MAIN.KEYID,\n                field(\n                select(jsonArrayAgg(\n                    jsonObject(\n                        key(&quot;id&quot;).value(CONNECTOR.ID),\n                        key(&quot;standard&quot;).value(CONNECTOR.STANDARD)\n                ))).from(CONNECTOR)\n                .where(CONNECTOR.MAINKEYID.eq(MAIN.KEYID))).as(&quot;connectors&quot;)                                \n            ).from(MAIN)           \n            .fetchInto(JSON_POJO.class);\n</code></pre>\n<p>jooq log</p>\n<pre><code>at org.jooq_3.15.12.MARIADB.debug(Unknown Source) ~[?:?]\n    at org.jooq.impl.Tools.translate(Tools.java:2997) ~[jooq-3.15.12.jar:?]\n    at org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:639) ~[jooq-3.15.12.jar:?]\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:354) ~[jooq-3.15.12.jar:?]\n    at org.jooq.impl.AbstractResultQuery.fetchLazy(AbstractResultQuery.java:295) ~[jooq-3.15.12.jar:?]\n    at org.jooq.impl.AbstractResultQuery.fetchLazyNonAutoClosing(AbstractResultQuery.java:316) ~[jooq-3.15.12.jar:?]\n    at org.jooq.impl.SelectImpl.fetchLazyNonAutoClosing(SelectImpl.java:2866) ~[jooq-3.15.12.jar:?]\n    at org.jooq.impl.ResultQueryTrait.collect(ResultQueryTrait.java:357) ~[jooq-3.15.12.jar:?]\n    at org.jooq.impl.ResultQueryTrait.fetchInto(ResultQueryTrait.java:1423) ~[jooq-3.15.12.jar:?]\n</code></pre>\n<p>jooq generate sql code simply like this</p>\n<pre><code>set @t = @@group_concat_max_len; set @@group_concat_max_len = 4294967295; \nselect `mydb`.`main`.`keyid`, \n(select json_merge_preserve('[]', concat('[', group_concat(json_merge_preserve('{}', json_object('id', `mydb`.`Connector`.`id`), json_object('standard', `mydb`.`Connector`.`standard`)) separator ','), ']')) \nfrom `mydb`.`Connector` where `mydb`.`Connector`.`mainKeyid` = `mydb`.`main`.`keyid`) as `connectors` from `mydb`.`main`; \nset @@group_concat_max_len = @t\n</code></pre>\n<p>I have try jooq version from 3.12 ~ 3.16,</p>\n<p>MariaDB 10.3 and upgrade to 10.11,</p>\n<p>Java 11.0.18</p>\n<p><a href=\"https://stackoverflow.com/questions/70351547/jooq-multiset-throwing-syntax-exception\">allowMultiQueries = true</a></p>\n<p>but none of them worked.\nHow can I overcome this problem or find a workaround?</p>\n"},{"tags":["java","flutter"],"comments":[{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1625668177,"post_id":68287913,"comment_id":120689005,"body_markdown":"Do you use Gradle? It might be the Gradle daemon running in the background.","body":"Do you use Gradle? It might be the Gradle daemon running in the background."},{"owner":{"account_id":18135309,"reputation":243,"user_id":13189920,"display_name":"hakanAkdogan"},"score":0,"creation_date":1625668702,"post_id":68287913,"comment_id":120689246,"body_markdown":"The project that i created with vscode &quot;flutter new aplication project&quot; has a gradle file in it but i don&#39;t really know.","body":"The project that i created with vscode &quot;flutter new aplication project&quot; has a gradle file in it but i don&#39;t really know."}],"answers":[{"tags":[],"owner":{"account_id":1996387,"reputation":1169,"user_id":1789281,"display_name":"Mohamed AMAZIRH"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1625677170,"creation_date":1625670951,"answer_id":68288697,"question_id":68287913,"body_markdown":"This is a documented behaviour of gradle. You can see this stackoverflow [answer][1] and this [closed issue][2] in the flutter github project.\r\n\r\n&gt; Daemon processes will automatically terminate themselves after 3 hours\r\n&gt; of inactivity. If you wish to stop a Daemon process before this, **you\r\n&gt; can either kill the process via your operating system or run the\r\n&gt; `gradle --stop` command**. The `--stop` switch causes Gradle to request that\r\n&gt; all running Daemon processes, of the same Gradle version used to run\r\n&gt; the command, terminate themselves.\r\n\r\nYou can disable it permanently by following [these steps][3] : \r\n\r\n&gt; The Gradle Daemon is enabled by default, and we recommend always\r\n&gt; enabling it. You can disable the long-lived Gradle daemon via the\r\n&gt; `--no-daemon` command-line option, or by adding `org.gradle.daemon=false` to your `gradle.properties` file. You can find details of other ways to\r\n&gt; disable (and enable) the Daemon in Daemon FAQ further down.\r\n\r\nYou can find an explanation [here][4] about why the daemon is important for performance  : \r\n\r\n&gt; Why the Gradle Daemon is important for performance\r\n&gt; \r\n&gt; The Daemon is a long-lived process, so not only are we able to avoid\r\n&gt; the cost of JVM startup for every build, but we are able to cache\r\n&gt; information about project structure, files, tasks, and more in memory.\r\n&gt; \r\n&gt; The reasoning is simple: improve build speed by reusing computations\r\n&gt; from previous builds. However, the benefits are dramatic: we typically\r\n&gt; measure build times reduced by 15-75% on subsequent builds. We\r\n&gt; recommend profiling your build by using --profile to get a sense of\r\n&gt; how much impact the Gradle Daemon can have for you.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32300184/gradle-leaves-java-as-a-process-even-after-closing-android-studio/32300657#32300657\r\n  [2]: https://github.com/flutter/flutter/issues/63945\r\n  [3]: https://docs.gradle.org/current/userguide/gradle_daemon.html#sec:ways_to_disable_gradle_daemon\r\n  [4]: https://docs.gradle.org/current/userguide/gradle_daemon.html#sec:why_the_daemon","title":"Why does OpenJDK Platform Binary stucks open and use too much ram?","body":"<p>This is a documented behaviour of gradle. You can see this stackoverflow <a href=\"https://stackoverflow.com/questions/32300184/gradle-leaves-java-as-a-process-even-after-closing-android-studio/32300657#32300657\">answer</a> and this <a href=\"https://github.com/flutter/flutter/issues/63945\" rel=\"noreferrer\">closed issue</a> in the flutter github project.</p>\n<blockquote>\n<p>Daemon processes will automatically terminate themselves after 3 hours\nof inactivity. If you wish to stop a Daemon process before this, <strong>you\ncan either kill the process via your operating system or run the\n<code>gradle --stop</code> command</strong>. The <code>--stop</code> switch causes Gradle to request that\nall running Daemon processes, of the same Gradle version used to run\nthe command, terminate themselves.</p>\n</blockquote>\n<p>You can disable it permanently by following <a href=\"https://docs.gradle.org/current/userguide/gradle_daemon.html#sec:ways_to_disable_gradle_daemon\" rel=\"noreferrer\">these steps</a> :</p>\n<blockquote>\n<p>The Gradle Daemon is enabled by default, and we recommend always\nenabling it. You can disable the long-lived Gradle daemon via the\n<code>--no-daemon</code> command-line option, or by adding <code>org.gradle.daemon=false</code> to your <code>gradle.properties</code> file. You can find details of other ways to\ndisable (and enable) the Daemon in Daemon FAQ further down.</p>\n</blockquote>\n<p>You can find an explanation <a href=\"https://docs.gradle.org/current/userguide/gradle_daemon.html#sec:why_the_daemon\" rel=\"noreferrer\">here</a> about why the daemon is important for performance  :</p>\n<blockquote>\n<p>Why the Gradle Daemon is important for performance</p>\n<p>The Daemon is a long-lived process, so not only are we able to avoid\nthe cost of JVM startup for every build, but we are able to cache\ninformation about project structure, files, tasks, and more in memory.</p>\n<p>The reasoning is simple: improve build speed by reusing computations\nfrom previous builds. However, the benefits are dramatic: we typically\nmeasure build times reduced by 15-75% on subsequent builds. We\nrecommend profiling your build by using --profile to get a sense of\nhow much impact the Gradle Daemon can have for you.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17613638,"reputation":184,"user_id":12781179,"display_name":"Harry Potter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682915213,"creation_date":1678787003,"answer_id":75731405,"question_id":68287913,"body_markdown":" - **Solution 1**\r\n\r\nIf your mobile hotspot is on in your PC then turn it off. And restart your PC. I think your problem will be solved. \r\n\r\n*If it does not work then follow the below code ↓ ↓ ↓ ↓ ↓*\r\n\r\n - **Solution 2**\r\n\r\n**Step 1: Run the SFC.**\r\n\r\n1. Click on the Start button, and Type CMD.\r\n\r\n2. Right-click on CMD and select Run as Administrator.\r\n\r\n3. Type “***sfc /scannow***” without quotes and hit Enter.\r\n\r\n4. After the scan, restart the computer.\r\n\r\nNow check for the issue.\r\n\r\n \r\n\r\n**Step 2: Run the DISM Tool.**\r\n\r\n1. Click on the Start button, and Type CMD.\r\n\r\n2. Right-click on CMD and select Run as Administrator.\r\n\r\n3. In the Administrator: Command Prompt window, type the following commands. Press the Enter key after each command:\r\n\r\n   a) ***DISM.exe /Online /Cleanup-image /Scanhealth*** \r\n\r\n   b) ***DISM.exe /Online /Cleanup-image /Restorehealth***\r\n\r\n4. To close the Administrator: Command Prompt window, type Exit, and then press Enter.\r\n\r\n*Restart your PC. Your problem will be fixed*\r\n\r\nAlso, you can follow this reference [Link][1]\r\n\r\n\r\n  [1]: https://answers.microsoft.com/en-us/windows/forum/all/openjdk-platfrom-binary-almost-taking-up-90-memory/b86fc2de-7975-4b48-a2a9-4e5ebaec547a","title":"Why does OpenJDK Platform Binary stucks open and use too much ram?","body":"<ul>\n<li><strong>Solution 1</strong></li>\n</ul>\n<p>If your mobile hotspot is on in your PC then turn it off. And restart your PC. I think your problem will be solved.</p>\n<p><em>If it does not work then follow the below code ↓ ↓ ↓ ↓ ↓</em></p>\n<ul>\n<li><strong>Solution 2</strong></li>\n</ul>\n<p><strong>Step 1: Run the SFC.</strong></p>\n<ol>\n<li><p>Click on the Start button, and Type CMD.</p>\n</li>\n<li><p>Right-click on CMD and select Run as Administrator.</p>\n</li>\n<li><p>Type “<em><strong>sfc /scannow</strong></em>” without quotes and hit Enter.</p>\n</li>\n<li><p>After the scan, restart the computer.</p>\n</li>\n</ol>\n<p>Now check for the issue.</p>\n<p><strong>Step 2: Run the DISM Tool.</strong></p>\n<ol>\n<li><p>Click on the Start button, and Type CMD.</p>\n</li>\n<li><p>Right-click on CMD and select Run as Administrator.</p>\n</li>\n<li><p>In the Administrator: Command Prompt window, type the following commands. Press the Enter key after each command:</p>\n<p>a) <em><strong>DISM.exe /Online /Cleanup-image /Scanhealth</strong></em></p>\n<p>b) <em><strong>DISM.exe /Online /Cleanup-image /Restorehealth</strong></em></p>\n</li>\n<li><p>To close the Administrator: Command Prompt window, type Exit, and then press Enter.</p>\n</li>\n</ol>\n<p><em>Restart your PC. Your problem will be fixed</em></p>\n<p>Also, you can follow this reference <a href=\"https://answers.microsoft.com/en-us/windows/forum/all/openjdk-platfrom-binary-almost-taking-up-90-memory/b86fc2de-7975-4b48-a2a9-4e5ebaec547a\" rel=\"nofollow noreferrer\">Link</a></p>\n"}],"owner":{"account_id":18135309,"reputation":243,"user_id":13189920,"display_name":"hakanAkdogan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28979,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":68288697,"answer_count":2,"score":9,"last_activity_date":1682915213,"creation_date":1625667996,"question_id":68287913,"body_markdown":"I started learning flutter recently and i noticed even if vscode closed OpenJDK Platform Binary stays open and uses too much ram. Should i force close it on task manager everytime i finished working on vscode? Is there any way to automatically close it? [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tn84i.png","title":"Why does OpenJDK Platform Binary stucks open and use too much ram?","body":"<p>I started learning flutter recently and i noticed even if vscode closed OpenJDK Platform Binary stays open and uses too much ram. Should i force close it on task manager everytime i finished working on vscode? Is there any way to automatically close it? <a href=\"https://i.stack.imgur.com/tn84i.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tn84i.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","pdf","ms-word"],"answers":[{"tags":[],"owner":{"account_id":110937,"reputation":10882,"user_id":293330,"display_name":"Kaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304687891,"creation_date":1304687891,"answer_id":5912010,"question_id":5911903,"body_markdown":"I haven&#39;t used it, but you could try JODConverter","title":"Library that can convert Word documents doc(x) to pdf","body":"<p>I haven't used it, but you could try JODConverter</p>\n"},{"tags":[],"owner":{"account_id":254774,"reputation":6357,"user_id":534406,"accept_rate":100,"display_name":"BoffinBrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304692278,"creation_date":1304692278,"answer_id":5912891,"question_id":5911903,"body_markdown":"Most people on StackOverflow recommend [Apache POI][1] which can convert most Microsoft Office formats into PDF and vice-versa. It&#39;s open-source.\r\n\r\n\r\n  [1]: http://poi.apache.org/","title":"Library that can convert Word documents doc(x) to pdf","body":"<p>Most people on StackOverflow recommend <a href=\"http://poi.apache.org/\" rel=\"nofollow\">Apache POI</a> which can convert most Microsoft Office formats into PDF and vice-versa. It's open-source.</p>\n"},{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304729775,"creation_date":1304729775,"answer_id":5918441,"question_id":5911903,"body_markdown":"@BoffinbraiN, POI doesn&#39;t do much to help you to convert Office documents to PDF.\r\n\r\nApache FOP can be used to do this, but if you want to use FOP, first you need to convert the Office document to XSL-FO.\r\n\r\nHere, docx4j can help, as it generates the XSL-FO, and uses FOP 1.0 to create the PDF.\r\n\r\nAssuming OutputStream os and a loaded WordprocessingMLPackage wordMLPackage: \r\n\r\n    PdfConversion c = new org.docx4j.convert.out.pdf.viaXSLFO.Conversion(wordMLPackage);\r\n    c.output(os);\r\n\r\nSee further the docx4j sample CreatePdf.java.\r\n","title":"Library that can convert Word documents doc(x) to pdf","body":"<p>@BoffinbraiN, POI doesn't do much to help you to convert Office documents to PDF.</p>\n\n<p>Apache FOP can be used to do this, but if you want to use FOP, first you need to convert the Office document to XSL-FO.</p>\n\n<p>Here, docx4j can help, as it generates the XSL-FO, and uses FOP 1.0 to create the PDF.</p>\n\n<p>Assuming OutputStream os and a loaded WordprocessingMLPackage wordMLPackage: </p>\n\n<pre><code>PdfConversion c = new org.docx4j.convert.out.pdf.viaXSLFO.Conversion(wordMLPackage);\nc.output(os);\n</code></pre>\n\n<p>See further the docx4j sample CreatePdf.java.</p>\n"},{"tags":[],"owner":{"account_id":29410,"reputation":2772,"user_id":79448,"accept_rate":88,"display_name":"Jeroen Ritmeijer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304868226,"creation_date":1304868226,"answer_id":5928341,"question_id":5911903,"body_markdown":"There are a couple of open source solutions available, but none keep the formatting of the source document completely.\r\n\r\nGive the [Muhimbi PDF Converter Services][1] a look. It installs in your environment as a scalable and robust Windows Service and has specifically been designed for use from server based applications such as Java and ASP.NET.\r\n\r\nIt comes with a [friendly web services based interface][2] that allows it to be used from most modern environments such as Java and .NET. It supports all common as well as some not so common file formats. [Watermarking][3] and PDF Security is included as well. \r\n\r\nDisclaimer, I have worked on this product so the usual disclaimers apply. Having said that, it works great.\r\n\r\n  [1]: http://www.muhimbi.com/Products/PDF-Converter-Services/summary.aspx\r\n  [2]: http://blog.muhimbi.com/2010/04/convert-office-files-to-pdf-format-from.html\r\n  [3]: http://blog.muhimbi.com/2010/06/using-pdf-watermarking-features-from.html","title":"Library that can convert Word documents doc(x) to pdf","body":"<p>There are a couple of open source solutions available, but none keep the formatting of the source document completely.</p>\n\n<p>Give the <a href=\"http://www.muhimbi.com/Products/PDF-Converter-Services/summary.aspx\" rel=\"nofollow\">Muhimbi PDF Converter Services</a> a look. It installs in your environment as a scalable and robust Windows Service and has specifically been designed for use from server based applications such as Java and ASP.NET.</p>\n\n<p>It comes with a <a href=\"http://blog.muhimbi.com/2010/04/convert-office-files-to-pdf-format-from.html\" rel=\"nofollow\">friendly web services based interface</a> that allows it to be used from most modern environments such as Java and .NET. It supports all common as well as some not so common file formats. <a href=\"http://blog.muhimbi.com/2010/06/using-pdf-watermarking-features-from.html\" rel=\"nofollow\">Watermarking</a> and PDF Security is included as well. </p>\n\n<p>Disclaimer, I have worked on this product so the usual disclaimers apply. Having said that, it works great.</p>\n"},{"tags":[],"owner":{"account_id":1837113,"reputation":1796,"user_id":1667241,"display_name":"Al Johri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582011645,"creation_date":1582011645,"answer_id":60275977,"question_id":5911903,"body_markdown":"`docx2pdf` is a command line tool and python library that can achieve this on macOS and Windows. From Java, you should be able to call the tool using the command line. Internally, this python library calls an AppleScript from the command line in order to get it to work on macOS.\r\n\r\nhttps://github.com/AlJohri/docx2pdf/\r\n\r\nThe benefit to this approach is that it uses Word&#39;s own APIs to create a pixel perfect conversion.\r\n\r\nDisclaimer: I wrote this tool.","title":"Library that can convert Word documents doc(x) to pdf","body":"<p><code>docx2pdf</code> is a command line tool and python library that can achieve this on macOS and Windows. From Java, you should be able to call the tool using the command line. Internally, this python library calls an AppleScript from the command line in order to get it to work on macOS.</p>\n\n<p><a href=\"https://github.com/AlJohri/docx2pdf/\" rel=\"nofollow noreferrer\">https://github.com/AlJohri/docx2pdf/</a></p>\n\n<p>The benefit to this approach is that it uses Word's own APIs to create a pixel perfect conversion.</p>\n\n<p>Disclaimer: I wrote this tool.</p>\n"},{"tags":[],"owner":{"account_id":16317937,"reputation":229,"user_id":11784490,"display_name":"Donnie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682915032,"creation_date":1682915032,"answer_id":76144716,"question_id":5911903,"body_markdown":"You can use [apache-poi][1] in tandem with [opensagres-xdocreport][2].\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;fr.opensagres.xdocreport.document&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Code example - Java**\r\n\r\n    try (XWPFDocument mailMergedXwpfDocument = PoiMailMerge.perform(templatePath, bodyMap);\r\n\t ByteArrayOutputStream out = new ByteArrayOutputStream()) {\r\n\r\n\tif (null == toFormat || &quot;&quot;.equals(toFormat)) {\r\n\t\tmailMergedXwpfDocument.write(out);\r\n\t} else if (&quot;pdf&quot;.equalsIgnoreCase(toFormat)){\r\n\t\ttry {\r\n\t\t\tPdfOptions pdfOptions = PdfOptions.create();\r\n            // HERE convert docx as xwpf document into PDF\r\n\t\t\tPdfConverter.getInstance().convert(mailMergedXwpfDocument, out, pdfOptions);\r\n\t\t\tresultFileName = FilenameUtils.removeExtension(filename) + &quot;.pdf&quot;;\r\n\t\t} catch (IOException e) {\r\n\t\t\t// ...\r\n\t\t} catch (XWPFConverterException e) {\r\n\t\t\t// ...\r\n\t\t}\r\n\t}\r\n    // here is the PDF as byte array\r\n\tbyte[] bytes = out.toByteArray();\r\n\r\n**Complete Code as Azure Function**\r\n\r\nI will put a complete working code on github [https://github.com/donniexyz/ms-donniexyz-poi-azure-function][3]\r\n\r\n\r\n  [1]: https://github.com/apache/poi\r\n  [2]: https://github.com/opensagres/xdocreport\r\n  [3]: https://github.com/donniexyz/ms-donniexyz-poi-azure-function","title":"Library that can convert Word documents doc(x) to pdf","body":"<p>You can use <a href=\"https://github.com/apache/poi\" rel=\"nofollow noreferrer\">apache-poi</a> in tandem with <a href=\"https://github.com/opensagres/xdocreport\" rel=\"nofollow noreferrer\">opensagres-xdocreport</a>.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n    &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n    &lt;artifactId&gt;fr.opensagres.xdocreport.document&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Code example - Java</strong></p>\n<pre><code>try (XWPFDocument mailMergedXwpfDocument = PoiMailMerge.perform(templatePath, bodyMap);\n ByteArrayOutputStream out = new ByteArrayOutputStream()) {\n\nif (null == toFormat || &quot;&quot;.equals(toFormat)) {\n    mailMergedXwpfDocument.write(out);\n} else if (&quot;pdf&quot;.equalsIgnoreCase(toFormat)){\n    try {\n        PdfOptions pdfOptions = PdfOptions.create();\n        // HERE convert docx as xwpf document into PDF\n        PdfConverter.getInstance().convert(mailMergedXwpfDocument, out, pdfOptions);\n        resultFileName = FilenameUtils.removeExtension(filename) + &quot;.pdf&quot;;\n    } catch (IOException e) {\n        // ...\n    } catch (XWPFConverterException e) {\n        // ...\n    }\n}\n// here is the PDF as byte array\nbyte[] bytes = out.toByteArray();\n</code></pre>\n<p><strong>Complete Code as Azure Function</strong></p>\n<p>I will put a complete working code on github <a href=\"https://github.com/donniexyz/ms-donniexyz-poi-azure-function\" rel=\"nofollow noreferrer\">https://github.com/donniexyz/ms-donniexyz-poi-azure-function</a></p>\n"}],"owner":{"account_id":749144,"reputation":49,"user_id":741816,"display_name":"AlgolDocks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6453,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":6,"score":4,"last_activity_date":1682915032,"creation_date":1304687314,"question_id":5911903,"body_markdown":"I&#39;m working on a software that should be able to automatically convert Word documents to pdfs. Is there any library that supports Java preferably that can achieve this? It can be either free or commercial, it doesn&#39;t matter.\r\n\r\n\r\nThanks","title":"Library that can convert Word documents doc(x) to pdf","body":"<p>I'm working on a software that should be able to automatically convert Word documents to pdfs. Is there any library that supports Java preferably that can achieve this? It can be either free or commercial, it doesn't matter.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","maven","owasp","maven-dependency-plugin","owasp-dependency-check"],"comments":[{"owner":{"account_id":1109015,"reputation":1359,"user_id":1099819,"accept_rate":75,"display_name":"Mirko Ebert"},"score":0,"creation_date":1575889588,"post_id":57551288,"comment_id":104705033,"body_markdown":"Are the version of the plugin and the cmd line tool the same?","body":"Are the version of the plugin and the cmd line tool the same?"}],"answers":[{"tags":[],"owner":{"account_id":324211,"reputation":508,"user_id":644662,"accept_rate":67,"display_name":"Jhack"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660747051,"creation_date":1660747051,"answer_id":73390389,"question_id":57551288,"body_markdown":"From https://github.com/jeremylong/DependencyCheck/issues/3729, the author of the plugin says:\r\n\r\n&quot;The report from the Maven plugin is likely the most accurate. With the CLI it is only scanning the build artifacts.&quot;\r\n\r\nSo, when you use dependency-check-maven plugin the pom.xml are used, while using the CLI only what is found in the target(s) is checked.","title":"OWASP dependency-check maven vs command line not same results","body":"<p>From <a href=\"https://github.com/jeremylong/DependencyCheck/issues/3729\" rel=\"nofollow noreferrer\">https://github.com/jeremylong/DependencyCheck/issues/3729</a>, the author of the plugin says:</p>\n<p>&quot;The report from the Maven plugin is likely the most accurate. With the CLI it is only scanning the build artifacts.&quot;</p>\n<p>So, when you use dependency-check-maven plugin the pom.xml are used, while using the CLI only what is found in the target(s) is checked.</p>\n"}],"owner":{"account_id":2165267,"reputation":696,"user_id":1918516,"accept_rate":88,"display_name":"Stephan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1453,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1682914976,"creation_date":1566195207,"question_id":57551288,"body_markdown":"On a Maven project, I am running both the OWASP dependency-check-maven plugin as also the OWASP command line tool in order to generate a report with dependencies having vulnerabilities. \r\n\r\nWhat I cannot understand, is how those two tools operate. In detail,\r\nI noticed that the Maven plugin (dependency-check-maven) , reports 45 vulnerable dependencies, while the command line tool 34. \r\n\r\nFor example, the Maven plugin reports the `undertow-core-1.2.9.Final.jar` (which is provided by the `undertow-servlet` dependency) as having a critical vulnerability, while with the command line check, this dependency does not appear at all in the list.  I am running the command line tool with the following command: \r\n\r\n```\r\ndependency-check --project &quot;myProject&quot; --scan &quot;C:\\path\\myProject&quot; --disableRetireJS\r\n```\r\n\r\nCould it be that the command line tool scans for existing jar files in the projects directory while the Maven plugin goes through the defined dependency in the `pom.xml`?","title":"OWASP dependency-check maven vs command line not same results","body":"<p>On a Maven project, I am running both the OWASP dependency-check-maven plugin as also the OWASP command line tool in order to generate a report with dependencies having vulnerabilities.</p>\n<p>What I cannot understand, is how those two tools operate. In detail,\nI noticed that the Maven plugin (dependency-check-maven) , reports 45 vulnerable dependencies, while the command line tool 34.</p>\n<p>For example, the Maven plugin reports the <code>undertow-core-1.2.9.Final.jar</code> (which is provided by the <code>undertow-servlet</code> dependency) as having a critical vulnerability, while with the command line check, this dependency does not appear at all in the list.  I am running the command line tool with the following command:</p>\n<pre><code>dependency-check --project &quot;myProject&quot; --scan &quot;C:\\path\\myProject&quot; --disableRetireJS\n</code></pre>\n<p>Could it be that the command line tool scans for existing jar files in the projects directory while the Maven plugin goes through the defined dependency in the <code>pom.xml</code>?</p>\n"},{"tags":["java","python","image","gdal","geotiff"],"answers":[{"tags":[],"owner":{"account_id":12693930,"reputation":4790,"user_id":9222967,"display_name":"the_cheff"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1594885821,"creation_date":1525728656,"answer_id":50222735,"question_id":50207292,"body_markdown":"You can use `gdal.Translate` for this.\r\n\r\nYou can read the documentation [here](http://www.gdal.org/gdal_translate.html)\r\n\r\n```py\r\nfrom osgeo import gdal\r\n    \r\noptions_list = [\r\n    &#39;-ot Byte&#39;,\r\n    &#39;-of JPEG&#39;,\r\n    &#39;-b 1&#39;,\r\n    &#39;-scale&#39;\r\n]           \r\n\r\noptions_string = &quot; &quot;.join(options_list)\r\n    \r\ngdal.Translate(\r\n    &#39;save_image_path.jpg&#39;,\r\n    &#39;image_path.tif&#39;,\r\n    options=options_string\r\n)\r\n```\r\n\r\nThe above code simply create a jpg file with band 1 scaled into byte range. You could add more bands by adding, `&#39;-b 2&#39;` etc. Also notice that scale automatically wraps the entire range into byte range. If you like something else you could use `&#39;-scale min_val max_val&#39;` in order to specify the range you like, since often you have no need of either the lowest or highest values available.","title":"how to convert geotiff to jpg in python or java?","body":"<p>You can use <code>gdal.Translate</code> for this.</p>\n<p>You can read the documentation <a href=\"http://www.gdal.org/gdal_translate.html\" rel=\"noreferrer\">here</a></p>\n<pre class=\"lang-py prettyprint-override\"><code>from osgeo import gdal\n    \noptions_list = [\n    '-ot Byte',\n    '-of JPEG',\n    '-b 1',\n    '-scale'\n]           \n\noptions_string = &quot; &quot;.join(options_list)\n    \ngdal.Translate(\n    'save_image_path.jpg',\n    'image_path.tif',\n    options=options_string\n)\n</code></pre>\n<p>The above code simply create a jpg file with band 1 scaled into byte range. You could add more bands by adding, <code>'-b 2'</code> etc. Also notice that scale automatically wraps the entire range into byte range. If you like something else you could use <code>'-scale min_val max_val'</code> in order to specify the range you like, since often you have no need of either the lowest or highest values available.</p>\n"},{"tags":[],"owner":{"account_id":11956230,"reputation":113,"user_id":8748502,"display_name":"Overture"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563536455,"creation_date":1563536455,"answer_id":57111797,"question_id":50207292,"body_markdown":"The above worked well for me except the JPEG resolution wasn&#39;t great. Swapping JPEG to PNG worked better. ","title":"how to convert geotiff to jpg in python or java?","body":"<p>The above worked well for me except the JPEG resolution wasn't great. Swapping JPEG to PNG worked better. </p>\n"},{"tags":[],"owner":{"account_id":15814187,"reputation":159,"user_id":11410413,"display_name":"Sheykhmousa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682912808,"creation_date":1682912808,"answer_id":76144623,"question_id":50207292,"body_markdown":"I have written the following module and more of that can be found on my [GitHub][1]:\r\n\r\n\r\n    import os\r\n    from osgeo import gdal\r\n\r\n    def geotiff_to_png(input_path, output_path=None, return_object=False):\r\n    &quot;&quot;&quot;\r\n    Converts a GeoTIFF file to a PNG file or object. Specific to Skysatimages with 4 bands (blue, green, red, nir).\r\n\r\n    Args:\r\n        input_path (str): The file path of the input GeoTIFF file.\r\n        output_path (str, optional): The file path of the output PNG file. If not provided, PNG object is returned. Defaults to None.\r\n        return_object (bool, optional): Whether to return the PNG data as an object. If True, the output_path parameter will be ignored. Defaults to False.\r\n\r\n    Returns:\r\n        numpy.ndarray or None: If output_path is not provided and return_object is True, returns a 3D numpy array representing the PNG image. Otherwise, returns None.\r\n\r\n    &quot;&quot;&quot;\r\n    # Open input file\r\n    dataset = gdal.Open(input_path)\r\n    output_types = [gdal.GDT_Byte, gdal.GDT_UInt16, gdal.GDT_Float32]\r\n    \r\n    # Define output format and options\r\n    options = gdal.TranslateOptions(format=&#39;PNG&#39;, bandList=[3,2,1], creationOptions=[&#39;WORLDFILE=YES&#39;], outputType=output_types[0])\r\n    \r\n    # Translate to PNG\r\n    if output_path is not None:\r\n        gdal.Translate(output_path, dataset, options=options)\r\n        print(f&#39;Successfully saved PNG file to {output_path}&#39;)\r\n    \r\n    # Return PNG object\r\n    if return_object:\r\n        mem_driver = gdal.GetDriverByName(&#39;MEM&#39;)\r\n        mem_dataset = mem_driver.CreateCopy(&#39;&#39;, dataset, 0)\r\n        png_data = mem_dataset.ReadAsArray()\r\n        return png_data\r\n\r\n\r\n  [1]: https://github.com/mohammadreza-sheykhmousa/Geo-tools/tree/main/src/main","title":"how to convert geotiff to jpg in python or java?","body":"<p>I have written the following module and more of that can be found on my <a href=\"https://github.com/mohammadreza-sheykhmousa/Geo-tools/tree/main/src/main\" rel=\"nofollow noreferrer\">GitHub</a>:</p>\n<pre><code>import os\nfrom osgeo import gdal\n\ndef geotiff_to_png(input_path, output_path=None, return_object=False):\n&quot;&quot;&quot;\nConverts a GeoTIFF file to a PNG file or object. Specific to Skysatimages with 4 bands (blue, green, red, nir).\n\nArgs:\n    input_path (str): The file path of the input GeoTIFF file.\n    output_path (str, optional): The file path of the output PNG file. If not provided, PNG object is returned. Defaults to None.\n    return_object (bool, optional): Whether to return the PNG data as an object. If True, the output_path parameter will be ignored. Defaults to False.\n\nReturns:\n    numpy.ndarray or None: If output_path is not provided and return_object is True, returns a 3D numpy array representing the PNG image. Otherwise, returns None.\n\n&quot;&quot;&quot;\n# Open input file\ndataset = gdal.Open(input_path)\noutput_types = [gdal.GDT_Byte, gdal.GDT_UInt16, gdal.GDT_Float32]\n\n# Define output format and options\noptions = gdal.TranslateOptions(format='PNG', bandList=[3,2,1], creationOptions=['WORLDFILE=YES'], outputType=output_types[0])\n\n# Translate to PNG\nif output_path is not None:\n    gdal.Translate(output_path, dataset, options=options)\n    print(f'Successfully saved PNG file to {output_path}')\n\n# Return PNG object\nif return_object:\n    mem_driver = gdal.GetDriverByName('MEM')\n    mem_dataset = mem_driver.CreateCopy('', dataset, 0)\n    png_data = mem_dataset.ReadAsArray()\n    return png_data\n</code></pre>\n"}],"owner":{"account_id":12368697,"reputation":1001,"user_id":9019755,"display_name":"송준석"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9241,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":50222735,"answer_count":3,"score":5,"last_activity_date":1682912808,"creation_date":1525668851,"question_id":50207292,"body_markdown":"i have a geotiff images that have 3bands.\r\n\r\nband1,2 is a actual image values and band3 is a instance angle value.\r\n\r\nband1,2 is float32 data type\r\n\r\nunder code is that i try before.\r\n\r\nbut it doesn&#39;t work. \r\n\r\ni think band data&#39;s range is too large, so it doesn&#39;t \r\n\r\n    from osgeo import gdal, osr, ogr\r\n    from PIL import Image\r\n    import numpy as np\r\n    \r\n    \r\n    ds = gdal.Open(&#39;image path&#39;, gdal.GA_ReadOnly)\r\n    rb = ds.GetRasterBand(1)\r\n    test = rb.ReadAsArray()\r\n    rb2 = ds.GetRasterBand(2)\r\n    test2 = rb2.ReadAsArray()\r\n    rb3 = ds.GetRasterBand(3)\r\n    test3 = rb3.ReadAsArray()\r\n    slice56 = test2\r\n    formatted = (slice56 * 255 / np.max(slice56)).astype(&#39;uint8&#39;)\r\n    img = Image.fromarray(formatted)\r\n    img.save(&#39;save image path&#39;)\r\n\r\nhow can i solve this problem??\r\n\r\n\r\n","title":"how to convert geotiff to jpg in python or java?","body":"<p>i have a geotiff images that have 3bands.</p>\n\n<p>band1,2 is a actual image values and band3 is a instance angle value.</p>\n\n<p>band1,2 is float32 data type</p>\n\n<p>under code is that i try before.</p>\n\n<p>but it doesn't work. </p>\n\n<p>i think band data's range is too large, so it doesn't </p>\n\n<pre><code>from osgeo import gdal, osr, ogr\nfrom PIL import Image\nimport numpy as np\n\n\nds = gdal.Open('image path', gdal.GA_ReadOnly)\nrb = ds.GetRasterBand(1)\ntest = rb.ReadAsArray()\nrb2 = ds.GetRasterBand(2)\ntest2 = rb2.ReadAsArray()\nrb3 = ds.GetRasterBand(3)\ntest3 = rb3.ReadAsArray()\nslice56 = test2\nformatted = (slice56 * 255 / np.max(slice56)).astype('uint8')\nimg = Image.fromarray(formatted)\nimg.save('save image path')\n</code></pre>\n\n<p>how can i solve this problem??</p>\n"},{"tags":["java","jpa","spring-data-jpa","orm"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":2,"creation_date":1682898982,"post_id":76143928,"comment_id":134282972,"body_markdown":"use @Embedded annotation for Header and Footer class","body":"use @Embedded annotation for Header and Footer class"}],"answers":[{"tags":[],"owner":{"account_id":1060789,"reputation":360,"user_id":1062463,"display_name":"danieldestro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682912370,"creation_date":1682912370,"answer_id":76144607,"question_id":76143928,"body_markdown":"Annotation `@Embedded` worked like a charm.\r\n\r\nMessageRequest.java\r\n```\r\n@Entity\r\npublic class MessageRequest {\r\n  ...\r\n  @Embedded\r\n  private Header header;\r\n  @Embedded\r\n  private Footer footer;\r\n}\r\n```\r\nHeader.java\r\n```\r\n@Embeddable\r\npublic class Header {\r\n  @Column(name = &quot;header_parameter&quot;)\r\n  private String parameter;\r\n}\r\n```\r\nFooter.java\r\n```\r\n@Embeddable\r\npublic class Footer {\r\n  @Column(name = &quot;button_parameter&quot;)\r\n  private String buttonParameter;\r\n}\r\n```","title":"Map JPA entity with relationships to a flat database table","body":"<p>Annotation <code>@Embedded</code> worked like a charm.</p>\n<p>MessageRequest.java</p>\n<pre><code>@Entity\npublic class MessageRequest {\n  ...\n  @Embedded\n  private Header header;\n  @Embedded\n  private Footer footer;\n}\n</code></pre>\n<p>Header.java</p>\n<pre><code>@Embeddable\npublic class Header {\n  @Column(name = &quot;header_parameter&quot;)\n  private String parameter;\n}\n</code></pre>\n<p>Footer.java</p>\n<pre><code>@Embeddable\npublic class Footer {\n  @Column(name = &quot;button_parameter&quot;)\n  private String buttonParameter;\n}\n</code></pre>\n"}],"owner":{"account_id":1060789,"reputation":360,"user_id":1062463,"display_name":"danieldestro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682912370,"creation_date":1682895746,"question_id":76143928,"body_markdown":"Assume I have a simple database table which I cannot change its definition, but on the other hand I want to take advantage of object oriented programming to implement new APIs.\r\n\r\nHere is an example of the postgresql DB table represantation:\r\n\r\n    create table message_request (\r\n      id int primary key,\r\n      recipient varchar(100) not null,\r\n      message TEXT not null,\r\n      parameters TEXT[],\r\n      header_parameter varchar(100),\r\n      button_parameter varchar(100),\r\n      created_at timestamp not null\r\n    );\r\n\r\nIn the Java application I want to have an API with the following code:\r\n\r\nMessageRequest.java\r\n```\r\n@Entity\r\npublic class MessageRequest {\r\n  private Integer id;\r\n  private LocalDateTime createdAt;\r\n  private String recipient;\r\n  private String message;\r\n  @Type(ListArrayType.class)\r\n  private List&lt;String&gt; parameters;\r\n  private Header header;\r\n  private Footer footer;\r\n}\r\n```\r\nHeader.java\r\n```\r\npublic class Header {\r\n  private String parameter;\r\n}\r\n```\r\nFooter.java\r\n```\r\npublic class Footer {\r\n  private String buttonParameter;\r\n}\r\n```\r\nI have no problems mapping the `MessageRequest` fields to the DB table, except for the `Header` and `Footer` classes which I want to map to the respective fields in the same table.\r\n\r\nHow is that possible?\r\n","title":"Map JPA entity with relationships to a flat database table","body":"<p>Assume I have a simple database table which I cannot change its definition, but on the other hand I want to take advantage of object oriented programming to implement new APIs.</p>\n<p>Here is an example of the postgresql DB table represantation:</p>\n<pre><code>create table message_request (\n  id int primary key,\n  recipient varchar(100) not null,\n  message TEXT not null,\n  parameters TEXT[],\n  header_parameter varchar(100),\n  button_parameter varchar(100),\n  created_at timestamp not null\n);\n</code></pre>\n<p>In the Java application I want to have an API with the following code:</p>\n<p>MessageRequest.java</p>\n<pre><code>@Entity\npublic class MessageRequest {\n  private Integer id;\n  private LocalDateTime createdAt;\n  private String recipient;\n  private String message;\n  @Type(ListArrayType.class)\n  private List&lt;String&gt; parameters;\n  private Header header;\n  private Footer footer;\n}\n</code></pre>\n<p>Header.java</p>\n<pre><code>public class Header {\n  private String parameter;\n}\n</code></pre>\n<p>Footer.java</p>\n<pre><code>public class Footer {\n  private String buttonParameter;\n}\n</code></pre>\n<p>I have no problems mapping the <code>MessageRequest</code> fields to the DB table, except for the <code>Header</code> and <code>Footer</code> classes which I want to map to the respective fields in the same table.</p>\n<p>How is that possible?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":439593,"reputation":15022,"user_id":828625,"accept_rate":88,"display_name":"Kazekage Gaara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348386043,"creation_date":1348385588,"answer_id":12550562,"question_id":12550548,"body_markdown":"It is a method of the `AWTEvent` Class. It is used to consume `this` event, if it can be consumed.\r\n\r\nDid you check [`AWTEvent.consume()`][1]?\r\n\r\nFurthermore, look at [How Does consume() Work?][2] for explanation about what exactly consume does.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/AWTEvent.html#consume%28%29\r\n  [2]: http://mindprod.com/jgloss/event11.html#CONSUME","title":"What does e.consume() do in java","body":"<p>It is a method of the <code>AWTEvent</code> Class. It is used to consume <code>this</code> event, if it can be consumed.</p>\n\n<p>Did you check <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/AWTEvent.html#consume%28%29\" rel=\"nofollow\"><code>AWTEvent.consume()</code></a>?</p>\n\n<p>Furthermore, look at <a href=\"http://mindprod.com/jgloss/event11.html#CONSUME\" rel=\"nofollow\">How Does consume() Work?</a> for explanation about what exactly consume does.</p>\n"},{"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1348385606,"creation_date":1348385606,"answer_id":12550563,"question_id":12550548,"body_markdown":"Look at the [documentation][1]: The `KeyEvent` inherits `consume` method from [InputEvent][2] class. The consume method consumes this event so that it **will not be processed in the default manner by the source which originated it**.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/awt/event/InputEvent.html#consume()\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/awt/event/InputEvent.html","title":"What does e.consume() do in java","body":"<p>Look at the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/event/InputEvent.html#consume%28%29\" rel=\"nofollow\">documentation</a>: The <code>KeyEvent</code> inherits <code>consume</code> method from <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/event/InputEvent.html\" rel=\"nofollow\">InputEvent</a> class. The consume method consumes this event so that it <strong>will not be processed in the default manner by the source which originated it</strong>.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1682911628,"creation_date":1348385789,"answer_id":12550579,"question_id":12550548,"body_markdown":"From the [JavaDocs](http://docs.oracle.com/javase/7/docs/api/java/awt/event/InputEvent.html#consume())\r\n\r\n&gt; Consumes this event so that it will not be processed in the default\r\n&gt; manner by the source which originated it.\r\n\r\nEssentially what it means is, if you don&#39;t want the event to be dispatched to or handled by any further event listeners.\r\n\r\nAlthough, generally speaking, this is dependent on the implementation of the individual listeners\r\n","title":"What does e.consume() do in java","body":"<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/InputEvent.html#consume()\" rel=\"nofollow noreferrer\">JavaDocs</a></p>\n<blockquote>\n<p>Consumes this event so that it will not be processed in the default\nmanner by the source which originated it.</p>\n</blockquote>\n<p>Essentially what it means is, if you don't want the event to be dispatched to or handled by any further event listeners.</p>\n<p>Although, generally speaking, this is dependent on the implementation of the individual listeners</p>\n"},{"tags":[],"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1348385792,"creation_date":1348385792,"answer_id":12550580,"question_id":12550548,"body_markdown":"Consume function is responsible for not processing the `KeyListeners` code during some specific kind of events happen. For example : If i want to make a `textfield` in java such that it will only respond when digits are pressed, then I can use the consume method to consume (Not process the keyevents which were not caused due to the pressing of digits) such events.","title":"What does e.consume() do in java","body":"<p>Consume function is responsible for not processing the <code>KeyListeners</code> code during some specific kind of events happen. For example : If i want to make a <code>textfield</code> in java such that it will only respond when digits are pressed, then I can use the consume method to consume (Not process the keyevents which were not caused due to the pressing of digits) such events.</p>\n"},{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623053920,"creation_date":1623053920,"answer_id":67868163,"question_id":12550548,"body_markdown":"When the event is consumed, the source of the event (for example the JTextField which had the focus when the key was typed) will ignore the event.\r\n\r\nIf you look at the `processKeyEvent` method of the `JComponent` class:\r\n\r\n    protected void processKeyEvent(KeyEvent e) {\r\n        boolean result;\r\n        boolean shouldProcessKey;\r\n\t\r\n        // This gives the key event listeners a crack at the event\r\n        super.processKeyEvent(e);\r\n\t\r\n        // give the component itself a crack at the event\r\n        if (! e.isConsumed()) {\r\n            processComponentKeyEvent(e);\r\n        }\r\n\r\nYou can see that `super.processKeyEvent(e)` is called first, this dispatches the event to the listeners that were registered with `component.addKeyListener()`. The listeners are notified in the order they were originally registered, and they are all notified even if one of them consumes the event. The only thing that can stop an event from being processed by the remaining listeners is an uncaught exception.\r\n\r\nAfter the listeners were notified, the component itself will process the event, but only if it hasn&#39;t been consumed by one of the listeners. For a JTextField, if a listener consumed the key typed event the field won&#39;t be updated (but consuming the key pressed event will have no effect).\r\n\r\nNote that mouse events behave differently, an event consumed by one of the listeners is still processed by the component.\r\n","title":"What does e.consume() do in java","body":"<p>When the event is consumed, the source of the event (for example the JTextField which had the focus when the key was typed) will ignore the event.</p>\n<p>If you look at the <code>processKeyEvent</code> method of the <code>JComponent</code> class:</p>\n<pre><code>protected void processKeyEvent(KeyEvent e) {\n    boolean result;\n    boolean shouldProcessKey;\n\n    // This gives the key event listeners a crack at the event\n    super.processKeyEvent(e);\n\n    // give the component itself a crack at the event\n    if (! e.isConsumed()) {\n        processComponentKeyEvent(e);\n    }\n</code></pre>\n<p>You can see that <code>super.processKeyEvent(e)</code> is called first, this dispatches the event to the listeners that were registered with <code>component.addKeyListener()</code>. The listeners are notified in the order they were originally registered, and they are all notified even if one of them consumes the event. The only thing that can stop an event from being processed by the remaining listeners is an uncaught exception.</p>\n<p>After the listeners were notified, the component itself will process the event, but only if it hasn't been consumed by one of the listeners. For a JTextField, if a listener consumed the key typed event the field won't be updated (but consuming the key pressed event will have no effect).</p>\n<p>Note that mouse events behave differently, an event consumed by one of the listeners is still processed by the component.</p>\n"}],"owner":{"account_id":1567769,"reputation":155,"user_id":1456170,"accept_rate":17,"display_name":"user1456170"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41720,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":5,"score":15,"last_activity_date":1682911628,"creation_date":1348385428,"question_id":12550548,"body_markdown":"I search online and get no clear explaination about the use of e.consume() which is often used in java KeyEvent Handle.Like the follow Code.\r\n\r\n    public void keyTyped( KeyEvent e ) {\r\n        char c = e.getKeyChar();\r\n        if ( c != KeyEvent.CHAR_UNDEFINED ) {\r\n\t\t\ts = s + c; \r\n\t\t\trepaint();\r\n\t\t\te.consume();\r\n        } \r\n    }","title":"What does e.consume() do in java","body":"<p>I search online and get no clear explaination about the use of e.consume() which is often used in java KeyEvent Handle.Like the follow Code.</p>\n\n<pre><code>public void keyTyped( KeyEvent e ) {\n    char c = e.getKeyChar();\n    if ( c != KeyEvent.CHAR_UNDEFINED ) {\n        s = s + c; \n        repaint();\n        e.consume();\n    } \n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682869912,"creation_date":1682798372,"answer_id":76138159,"question_id":76137888,"body_markdown":"# `RowSet`\r\n\r\nThe [`javax.sql.rowset`][1] package extends `ResultSet`, adding various features. \r\n\r\nIn particular, [`CachedRowSet`][2] copies the rows’ data into memory. To quote the documentation:\r\n\r\n&gt; A `CachedRowSet` object is a container for rows of data that caches its rows in memory, which makes it possible to operate without always being connected to its data source. \r\n&gt; \r\n&gt;…\r\n&gt;\r\n&gt; A `CachedRowSet` object is a disconnected rowset, which means that it makes use of a connection to its data source only briefly. \r\n\r\n\r\nThe trick is finding a capable concrete implementation of the interface. Oracle provides an open-source reference implementation from the days of Sun. But, as I recall (and I may be wrong), that implementation had some limitations or flaws that went unaddressed. Be sure to test thoroughly. \r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n[1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql.rowset/javax/sql/rowset/package-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql.rowset/javax/sql/rowset/CachedRowSet.html","title":"Caching data from database using JDBC","body":"<h1><code>RowSet</code></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql.rowset/javax/sql/rowset/package-summary.html\" rel=\"nofollow noreferrer\"><code>javax.sql.rowset</code></a> package extends <code>ResultSet</code>, adding various features.</p>\n<p>In particular, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql.rowset/javax/sql/rowset/CachedRowSet.html\" rel=\"nofollow noreferrer\"><code>CachedRowSet</code></a> copies the rows’ data into memory. To quote the documentation:</p>\n<blockquote>\n<p>A <code>CachedRowSet</code> object is a container for rows of data that caches its rows in memory, which makes it possible to operate without always being connected to its data source.</p>\n<p>…</p>\n<p>A <code>CachedRowSet</code> object is a disconnected rowset, which means that it makes use of a connection to its data source only briefly.</p>\n</blockquote>\n<p>The trick is finding a capable concrete implementation of the interface. Oracle provides an open-source reference implementation from the days of Sun. But, as I recall (and I may be wrong), that implementation had some limitations or flaws that went unaddressed. Be sure to test thoroughly.</p>\n"},{"tags":[],"owner":{"account_id":13840921,"reputation":31,"user_id":9991282,"display_name":"SvenJu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682802333,"creation_date":1682802333,"answer_id":76138414,"question_id":76137888,"body_markdown":"To fill the blanks in your snippet with a minimalistic approach:\r\n\r\n    \r\n        final var rowLength =\r\n                result_set\r\n                    .getMetaData()\r\n                    .getColumnCount();\r\n\r\n        final var resultCache = Stream.&lt;Object[]&gt;builder();\r\n\r\n        while ( result_set.next() )\r\n        {\r\n            final var row = new Object[ rowLength ];\r\n            for ( int index=1; index&lt;=rowLength; index++ )\r\n            {\r\n                row[index] = result_set.getObject( index );\r\n            }\r\n            \r\n            resultCache.accept( row );\r\n        }\r\n\r\n        record MyData( Integer value, String text )\r\n        {\r\n            // ... transformation could be placed in here with alternative constructor\r\n        }\r\n            \r\n        final var results =\r\n                resultCache.build()\r\n                        .map( row -&gt; new MyData( (Integer) row[0],\r\n                                                 (String)  row[1] ) )\r\n                        .toList();\r\n\r\nThis assumes you know the ordering in the returned data and the types to do the &#39;parsing&#39; / etc later on.\r\nThinking about the computationtime needed for the &#39;parsing&#39; and the memoryfootprint and so on is a good way to become familiar with the behavior of the framework. I recommend trying out diffent sizes of resultsets (in number and rows) and the complexity of the parsing/ transformation. Maybe a look at a jpa-implementation helps to understand the possible solutions.\r\n\r\nIn this post more details regarding result-extraction can be found: [How to fetch entire row as array of objects with JDBC][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11826814/9991282","title":"Caching data from database using JDBC","body":"<p>To fill the blanks in your snippet with a minimalistic approach:</p>\n<pre><code>    final var rowLength =\n            result_set\n                .getMetaData()\n                .getColumnCount();\n\n    final var resultCache = Stream.&lt;Object[]&gt;builder();\n\n    while ( result_set.next() )\n    {\n        final var row = new Object[ rowLength ];\n        for ( int index=1; index&lt;=rowLength; index++ )\n        {\n            row[index] = result_set.getObject( index );\n        }\n        \n        resultCache.accept( row );\n    }\n\n    record MyData( Integer value, String text )\n    {\n        // ... transformation could be placed in here with alternative constructor\n    }\n        \n    final var results =\n            resultCache.build()\n                    .map( row -&gt; new MyData( (Integer) row[0],\n                                             (String)  row[1] ) )\n                    .toList();\n</code></pre>\n<p>This assumes you know the ordering in the returned data and the types to do the 'parsing' / etc later on.\nThinking about the computationtime needed for the 'parsing' and the memoryfootprint and so on is a good way to become familiar with the behavior of the framework. I recommend trying out diffent sizes of resultsets (in number and rows) and the complexity of the parsing/ transformation. Maybe a look at a jpa-implementation helps to understand the possible solutions.</p>\n<p>In this post more details regarding result-extraction can be found: <a href=\"https://stackoverflow.com/a/11826814/9991282\">How to fetch entire row as array of objects with JDBC</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682911011,"creation_date":1682870889,"answer_id":76142249,"question_id":76137888,"body_markdown":"# `record`\r\n\r\n[Java 16][1] gained the important new feature of [records][2]. \r\n\r\nWhen the main purpose of your class is to communicate data transparently and immutably, define that class as a `record`. \r\n\r\nA record is brief. At a minimum, you merely declare the name and type of each member field. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\n    record Person ( long id , String name ) {}\r\n\r\nConveniently, a record can be declared locally, within a method, as an alternative to declaring nested within a class or as a separate class. (Ditto for enums and interfaces now!)\r\n\r\nSo as part of your JDBC code, you can define a `record` with fields to match the raw data of your rows returned by your `ResultSet`. Quickly loop the rows, passing the fields of the database row to the constructor of the Java `record`. \r\n\r\nThen close your `ResultSet`, to free up resources on the database server. Proceed with the work of processing the data of those Java `record` objects that now cache the data in memory of your [JVM][3]. \r\n\r\nIn this example code, we use [try-with-resources][4] syntax to automatically close the `ResultSet` object. Then we move on to process the data cached in `record` objects. \r\n\r\n```java\r\nList &lt; Person &gt; persons = new ArrayList&lt;&gt;() ;\r\ntry (\r\n    ResultSet resultSet = … ;  // A resource to be automatically closed.\r\n){\r\n    while( rs.next() ) \r\n    {\r\n        long id = resultSet.getLong( &quot;id_&quot; );\r\n        String name = resultSet.getString( &quot;name_&quot; );\r\n        Person person = new Person( id , name ) ;\r\n        persons.add( person ) ;\r\n    }\r\n}  \r\n// The `ResultSet` is implicitly closed by exiting the try-with-resources.\r\nthis.processPersons( persons ) ;  \r\n```\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Java_version_history#Java_16\r\n  [2]: https://openjdk.org/jeps/395\r\n  [3]: https://en.m.wikipedia.org/wiki/Java_virtual_machine\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Caching data from database using JDBC","body":"<h1><code>record</code></h1>\n<p><a href=\"https://en.m.wikipedia.org/wiki/Java_version_history#Java_16\" rel=\"nofollow noreferrer\">Java 16</a> gained the important new feature of <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a>.</p>\n<p>When the main purpose of your class is to communicate data transparently and immutably, define that class as a <code>record</code>.</p>\n<p>A record is brief. At a minimum, you merely declare the name and type of each member field. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<pre><code>record Person ( long id , String name ) {}\n</code></pre>\n<p>Conveniently, a record can be declared locally, within a method, as an alternative to declaring nested within a class or as a separate class. (Ditto for enums and interfaces now!)</p>\n<p>So as part of your JDBC code, you can define a <code>record</code> with fields to match the raw data of your rows returned by your <code>ResultSet</code>. Quickly loop the rows, passing the fields of the database row to the constructor of the Java <code>record</code>.</p>\n<p>Then close your <code>ResultSet</code>, to free up resources on the database server. Proceed with the work of processing the data of those Java <code>record</code> objects that now cache the data in memory of your <a href=\"https://en.m.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a>.</p>\n<p>In this example code, we use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> syntax to automatically close the <code>ResultSet</code> object. Then we move on to process the data cached in <code>record</code> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Person &gt; persons = new ArrayList&lt;&gt;() ;\ntry (\n    ResultSet resultSet = … ;  // A resource to be automatically closed.\n){\n    while( rs.next() ) \n    {\n        long id = resultSet.getLong( &quot;id_&quot; );\n        String name = resultSet.getString( &quot;name_&quot; );\n        Person person = new Person( id , name ) ;\n        persons.add( person ) ;\n    }\n}  \n// The `ResultSet` is implicitly closed by exiting the try-with-resources.\nthis.processPersons( persons ) ;  \n</code></pre>\n"}],"owner":{"account_id":25316176,"reputation":23,"user_id":19138273,"display_name":"mikrovalovna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76138159,"answer_count":3,"score":2,"last_activity_date":1682911011,"creation_date":1682794359,"question_id":76137888,"body_markdown":"When using JDBC to retrieve query results I use ResultSet like:\r\n`ResultSet result_set = statement.executeQuery(query);`\r\nIn documentation it says: &quot;A ResultSet object maintains a cursor pointing to its current row of data.&quot; meaning that if I do `result_set.close()` before I parse the query results I loose them. If I parse data in ResultSet right away I&#39;am maintaining connection to the database during parsing process. I want to minimize time, I want to parse query result without being connected to the DB.\r\n\r\nIs there a way to store query data in such way that I can close connection to the database before I parse the results?\r\n\r\nfor example something like this:\r\n\r\n```java\r\nConnection connection = DriverManager.getConnection(url, username, password);\r\nStatement statement = connection.createStatement();\r\nResultSet result_set = statement.executeQuery(query);\r\n// store data retrieved from query\r\nresult_set.close();\r\nstatement.close();\r\nconnection.close();\r\n// do something with stored data\r\n```\r\n","title":"Caching data from database using JDBC","body":"<p>When using JDBC to retrieve query results I use ResultSet like:\n<code>ResultSet result_set = statement.executeQuery(query);</code>\nIn documentation it says: &quot;A ResultSet object maintains a cursor pointing to its current row of data.&quot; meaning that if I do <code>result_set.close()</code> before I parse the query results I loose them. If I parse data in ResultSet right away I'am maintaining connection to the database during parsing process. I want to minimize time, I want to parse query result without being connected to the DB.</p>\n<p>Is there a way to store query data in such way that I can close connection to the database before I parse the results?</p>\n<p>for example something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection connection = DriverManager.getConnection(url, username, password);\nStatement statement = connection.createStatement();\nResultSet result_set = statement.executeQuery(query);\n// store data retrieved from query\nresult_set.close();\nstatement.close();\nconnection.close();\n// do something with stored data\n</code></pre>\n"},{"tags":["java","arrays","loops","methods"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682899516,"creation_date":1682899516,"answer_id":76144110,"question_id":76144091,"body_markdown":"You should create the array based on the `numVals` from the input. Currently, your array is larger than the actual number of inputs, so you get a lot of trailing zeros.\r\n\r\n```java\r\nint numVals = scnr.nextInt();\r\nint[] userValues = new int[numVals];\r\n```\r\n\r\n","title":"After reading in values from an array, I must output the values less than or equal to a threshold. But it prints extra characters","body":"<p>You should create the array based on the <code>numVals</code> from the input. Currently, your array is larger than the actual number of inputs, so you get a lot of trailing zeros.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int numVals = scnr.nextInt();\nint[] userValues = new int[numVals];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25893824,"reputation":22,"user_id":19620771,"display_name":"tech-kz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682910309,"creation_date":1682910309,"answer_id":76144534,"question_id":76144091,"body_markdown":"You defined an array with a fixed size. So after inserting all your input values, the rest of the positions will be filled with trailing zeros. To avoid this, dynamic array maybe an option. Please check the following code snippet:\r\n```\r\nclass LabProgram {\r\n    public static void getUserValues(ArrayList&lt;Integer&gt; myArr, int arrSize, Scanner scnr) {\r\n    \twhile(myArr.size() &lt; arrSize){\r\n    \t\tmyArr.add(scnr.nextInt());\r\n\t    }\r\n    }   \r\n    \r\n    public static void outputIntsLessThanOrEqualToThreshold(ArrayList&lt;Integer&gt; userValues, int userValsSize, int upperThreshold){\r\n    \t\r\n    \tfor(int i = 0; i&lt;userValsSize; i++) {\r\n            if(upperThreshold &gt;=userValues.get(i)) {\r\n               System.out.print(userValues.get(i)+ &quot; &quot;);\r\n          }\r\n       }\t\r\n    \r\n   }    \r\n   \r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n       ArrayList&lt;Integer&gt; userValues = new ArrayList&lt;&gt;();\r\n       int upperThreshold;\r\n       int numVals;\r\n \r\n       numVals = scnr.nextInt();\r\n       getUserValues(userValues, numVals, scnr);\r\n\r\n       upperThreshold = scnr.nextInt();\r\n       outputIntsLessThanOrEqualToThreshold(userValues, numVals, upperThreshold);\r\n    }\r\n}\r\n```","title":"After reading in values from an array, I must output the values less than or equal to a threshold. But it prints extra characters","body":"<p>You defined an array with a fixed size. So after inserting all your input values, the rest of the positions will be filled with trailing zeros. To avoid this, dynamic array maybe an option. Please check the following code snippet:</p>\n<pre><code>class LabProgram {\n    public static void getUserValues(ArrayList&lt;Integer&gt; myArr, int arrSize, Scanner scnr) {\n        while(myArr.size() &lt; arrSize){\n            myArr.add(scnr.nextInt());\n        }\n    }   \n    \n    public static void outputIntsLessThanOrEqualToThreshold(ArrayList&lt;Integer&gt; userValues, int userValsSize, int upperThreshold){\n        \n        for(int i = 0; i&lt;userValsSize; i++) {\n            if(upperThreshold &gt;=userValues.get(i)) {\n               System.out.print(userValues.get(i)+ &quot; &quot;);\n          }\n       }    \n    \n   }    \n   \n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n\n       ArrayList&lt;Integer&gt; userValues = new ArrayList&lt;&gt;();\n       int upperThreshold;\n       int numVals;\n \n       numVals = scnr.nextInt();\n       getUserValues(userValues, numVals, scnr);\n\n       upperThreshold = scnr.nextInt();\n       outputIntsLessThanOrEqualToThreshold(userValues, numVals, upperThreshold);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28467469,"reputation":1,"user_id":21783326,"display_name":"Jackie Morataya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1682910309,"creation_date":1682899045,"question_id":76144091,"body_markdown":"I will provide my code below, however I needed to create an array based on the size that the user inputs. \r\nExample, if the user inputs &quot;5&quot; I know that I have to make an array of size &quot;5.&quot;\r\nAfter that, I have to call a method that will read &quot;5&quot; numbers into an array.\r\nThen the user will input a threshold number. I need to use that threshold to output any number that is less than or equal to that number.\r\nExample, If the user inputs &quot;100&quot; I know that I have to input all numbers in the array that are less than or equal to &quot;100.&quot;\r\n\r\nFinal example all put together:\r\n\r\nUser input: 5 //length of array\r\nUser input: 100 //I will have to print all numbers in the array that are &lt; or = to 100\r\n\r\narray name: myArr[]\r\n\r\n5 numbers that will go into myArr[]: 50 60 140 200 75\r\n\r\nI need to print: 50 60 75\r\n\r\nwhat my code actually prints: 50 60 75 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 \r\n\r\nThis is my code. It prints out the correct numbers however it also adds a bunch of zeros at the end\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n\r\n    public static void getUserValues(int[] myArr, int arrSize, Scanner scnr){\r\n        for(int i=0; i&lt; arrSize; i++){\r\n        myArr[i]=scnr.nextInt(); \r\n     }\r\n      \r\n   }\r\n   \r\n    public static void outputIntsLessThanOrEqualToThreshold( int[] userValues, int userValsSize, int upperThreshold){\r\n     \r\n        for(int i = 0; i&lt;userValues.length; i++) {\r\n           if(upperThreshold &gt;=userValues[i]) {\r\n              System.out.print(userValues[i]+ &quot; &quot;);\r\n         }\r\n      }\r\n      \r\n   }\r\n   \r\n   \r\n    public static void main(String[] args) {\r\n       Scanner scnr = new Scanner(System.in);\r\n       int[] userValues = new int[20];\r\n       int upperThreshold;\r\n       int numVals;\r\n \r\n       numVals = scnr.nextInt();\r\n       getUserValues(userValues, numVals, scnr);\r\n\r\n       upperThreshold = scnr.nextInt();\r\n       outputIntsLessThanOrEqualToThreshold(userValues, numVals, upperThreshold);\r\n   }\r\n}\r\n```","title":"After reading in values from an array, I must output the values less than or equal to a threshold. But it prints extra characters","body":"<p>I will provide my code below, however I needed to create an array based on the size that the user inputs.\nExample, if the user inputs &quot;5&quot; I know that I have to make an array of size &quot;5.&quot;\nAfter that, I have to call a method that will read &quot;5&quot; numbers into an array.\nThen the user will input a threshold number. I need to use that threshold to output any number that is less than or equal to that number.\nExample, If the user inputs &quot;100&quot; I know that I have to input all numbers in the array that are less than or equal to &quot;100.&quot;</p>\n<p>Final example all put together:</p>\n<p>User input: 5 //length of array\nUser input: 100 //I will have to print all numbers in the array that are &lt; or = to 100</p>\n<p>array name: myArr[]</p>\n<p>5 numbers that will go into myArr[]: 50 60 140 200 75</p>\n<p>I need to print: 50 60 75</p>\n<p>what my code actually prints: 50 60 75 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</p>\n<p>This is my code. It prints out the correct numbers however it also adds a bunch of zeros at the end</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n\n    public static void getUserValues(int[] myArr, int arrSize, Scanner scnr){\n        for(int i=0; i&lt; arrSize; i++){\n        myArr[i]=scnr.nextInt(); \n     }\n      \n   }\n   \n    public static void outputIntsLessThanOrEqualToThreshold( int[] userValues, int userValsSize, int upperThreshold){\n     \n        for(int i = 0; i&lt;userValues.length; i++) {\n           if(upperThreshold &gt;=userValues[i]) {\n              System.out.print(userValues[i]+ &quot; &quot;);\n         }\n      }\n      \n   }\n   \n   \n    public static void main(String[] args) {\n       Scanner scnr = new Scanner(System.in);\n       int[] userValues = new int[20];\n       int upperThreshold;\n       int numVals;\n \n       numVals = scnr.nextInt();\n       getUserValues(userValues, numVals, scnr);\n\n       upperThreshold = scnr.nextInt();\n       outputIntsLessThanOrEqualToThreshold(userValues, numVals, upperThreshold);\n   }\n}\n</code></pre>\n"},{"tags":["java","method-reference"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1682844888,"post_id":76140314,"comment_id":134276663,"body_markdown":"`StringBuilder::reverse` is not a *function that takes and returns a string*. So why would you expect it to be usable as a `UnaryOperator&lt;String&gt;`?","body":"<code>StringBuilder::reverse</code> is not a <i>function that takes and returns a string</i>. So why would you expect it to be usable as a <code>UnaryOperator&lt;String&gt;</code>?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682845728,"post_id":76140314,"comment_id":134276746,"body_markdown":"And from an intuitive perspective, `reverse` is not a method of `String` ... so why would you can call it on a `String` object ... by any means?","body":"And from an intuitive perspective, <code>reverse</code> is not a method of <code>String</code> ... so why would you can call it on a <code>String</code> object ... by any means?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682909912,"creation_date":1682844828,"answer_id":76140340,"question_id":76140314,"body_markdown":"You can only add [`UnaryOperator&lt;String&gt;`][1] instances to the `operators` [`List`][2]. This means you need a method that accepts a [`String`][3] and returns a `String`.\r\n\r\nBut you try to add the method reference - [`StringBuilder::reverse`][4] - which is a method that accepts a `StringBuilder` and returns a [`StringBuilder`][5], and therefore conforms with `UnaryOperator&lt;StringBuilder&gt;`.\r\n\r\nYou can still use that method with a lambda expression, that will accept a `String`, convert it to `StringBuilder`, reverse it, and convert back to `String`:\r\n\r\n    operators.add(s -&gt; new StringBuilder(s).reverse ().toString ());\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/UnaryOperator.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#reverse()\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html","title":"Why i cant use StringBuilder::reverse in as method reference to reverse a string?","body":"<p>You can only add <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/UnaryOperator.html\" rel=\"nofollow noreferrer\"><code>UnaryOperator&lt;String&gt;</code></a> instances to the <code>operators</code> <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a>. This means you need a method that accepts a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> and returns a <code>String</code>.</p>\n<p>But you try to add the method reference - <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#reverse()\" rel=\"nofollow noreferrer\"><code>StringBuilder::reverse</code></a> - which is a method that accepts a <code>StringBuilder</code> and returns a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a>, and therefore conforms with <code>UnaryOperator&lt;StringBuilder&gt;</code>.</p>\n<p>You can still use that method with a lambda expression, that will accept a <code>String</code>, convert it to <code>StringBuilder</code>, reverse it, and convert back to <code>String</code>:</p>\n<pre><code>operators.add(s -&gt; new StringBuilder(s).reverse ().toString ());\n</code></pre>\n"}],"owner":{"account_id":26125672,"reputation":61,"user_id":19817126,"display_name":"LakshayGMZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"accepted_answer_id":76140340,"answer_count":1,"score":-1,"last_activity_date":1682909912,"creation_date":1682844352,"question_id":76140314,"body_markdown":"Why i cant use StringBuilder::reverse in as method reference to reverse a string?\r\nplease help make me understand whats going on under the hood.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.function.UnaryOperator;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Random random = new Random();\r\n\r\n        String[] names = {\r\n                &quot;MEmarGya&quot;, &quot;KaandHoGYa&quot;,\r\n                &quot;lmaodEd&quot;, &quot;OmFOOF&quot;,\r\n                &quot;lakshayGulatiOP&quot;, &quot;deEpAkKaLaL&quot;\r\n        };\r\n\r\n        List&lt;String&gt; namesList = Arrays.asList(names);\r\n\r\n        ArrayList&lt;UnaryOperator&lt;String&gt;&gt; operators = new ArrayList&lt;&gt;();\r\n        operators.add(s -&gt; s.toUpperCase());\r\n        operators.add(String::toUpperCase);\r\n\r\n        operators.add(s -&gt; s + s.charAt(random.nextInt(0, s.length())));\r\n\r\n        operators.add(s -&gt; s + &#39; &#39; + new StringBuilder(s).reverse());\r\n        operators.add(StringBuilder::reverse); //&lt;------ Here\r\n\r\n        for (UnaryOperator&lt;String&gt; operator: operators) {\r\n            namesList.replaceAll(operator);\r\n            System.out.println(Arrays.toString(names));\r\n\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nerr occured:\r\n\r\njava: incompatible types: invalid method reference\r\n    method reverse in class java.lang.StringBuilder cannot be applied to given types\r\n      required: no arguments\r\n      found:    java.lang.String\r\n      reason: actual and formal argument lists differ in length\r\n","title":"Why i cant use StringBuilder::reverse in as method reference to reverse a string?","body":"<p>Why i cant use StringBuilder::reverse in as method reference to reverse a string?\nplease help make me understand whats going on under the hood.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.function.UnaryOperator;\n\npublic class Main {\n    public static void main(String[] args) {\n        Random random = new Random();\n\n        String[] names = {\n                &quot;MEmarGya&quot;, &quot;KaandHoGYa&quot;,\n                &quot;lmaodEd&quot;, &quot;OmFOOF&quot;,\n                &quot;lakshayGulatiOP&quot;, &quot;deEpAkKaLaL&quot;\n        };\n\n        List&lt;String&gt; namesList = Arrays.asList(names);\n\n        ArrayList&lt;UnaryOperator&lt;String&gt;&gt; operators = new ArrayList&lt;&gt;();\n        operators.add(s -&gt; s.toUpperCase());\n        operators.add(String::toUpperCase);\n\n        operators.add(s -&gt; s + s.charAt(random.nextInt(0, s.length())));\n\n        operators.add(s -&gt; s + ' ' + new StringBuilder(s).reverse());\n        operators.add(StringBuilder::reverse); //&lt;------ Here\n\n        for (UnaryOperator&lt;String&gt; operator: operators) {\n            namesList.replaceAll(operator);\n            System.out.println(Arrays.toString(names));\n\n        }\n\n\n    }\n}\n</code></pre>\n<p>err occured:</p>\n<p>java: incompatible types: invalid method reference\nmethod reverse in class java.lang.StringBuilder cannot be applied to given types\nrequired: no arguments\nfound:    java.lang.String\nreason: actual and formal argument lists differ in length</p>\n"},{"tags":["java","android","configuration-files"],"comments":[{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":1,"creation_date":1682354680,"post_id":76094171,"comment_id":134198465,"body_markdown":"why text file instead of shared preferences?","body":"why text file instead of shared preferences?"},{"owner":{"account_id":21007611,"reputation":27,"user_id":15437005,"display_name":"Pierre Tremblay"},"score":0,"creation_date":1682376334,"post_id":76094171,"comment_id":134202626,"body_markdown":"Thank you @MarcinOrlowski. I added shared preferences and it works well. But is it possible to locate the preferences xml file in a folder that is easier to access, such as /storage/emulated/0/Download ?","body":"Thank you @MarcinOrlowski. I added shared preferences and it works well. But is it possible to locate the preferences xml file in a folder that is easier to access, such as /storage/emulated/0/Download ?"},{"owner":{"account_id":9998366,"reputation":2256,"user_id":7395227,"accept_rate":100,"display_name":"Andreas moved to Codidact"},"score":0,"creation_date":1682909975,"post_id":76094171,"comment_id":134283737,"body_markdown":"You&#39;re free to post a link to a tutorial in a comment, though. And if the tutorial did help you solve the issue, you can quote the relevant parts, and explain what you changed. That makes for a good answer.","body":"You&#39;re free to post a link to a tutorial in a comment, though. And if the tutorial did help you solve the issue, you can quote the relevant parts, and explain what you changed. That makes for a good answer."}],"owner":{"account_id":21007611,"reputation":27,"user_id":15437005,"display_name":"Pierre Tremblay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682908617,"creation_date":1682354511,"question_id":76094171,"body_markdown":"Working through java/android learning curve... I created a text file where I want to keep all the settings for my app. Reading these from the file is working OK. Now, how could I simply use these three values in other classes? Thanks in advance!\r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        bind = ActivityHomeBinding.inflate(getLayoutInflater());\r\n        setContentView(bind.getRoot());\r\n        ReadConfigFile();\r\n        initView();\r\n    }\r\n\r\n    public static void ReadConfigFile() {\r\n        try (FileInputStream fis = new FileInputStream(&quot;/storage/emulated/0/Download/suivicourse.cfg&quot;)) {\r\n            Properties prop = new Properties();\r\n            prop.load(fis);\r\n            String sc_url = prop.getProperty(&quot;database.url&quot;);\r\n            String sc_user = prop.getProperty(&quot;database.username&quot;);\r\n            String sc_pswd = prop.getProperty(&quot;database.password&quot;);\r\n            System.out.println(sc_url);\r\n            System.out.println(sc_user);\r\n            System.out.println(sc_pswd);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"How do I share application settings with other classes java android","body":"<p>Working through java/android learning curve... I created a text file where I want to keep all the settings for my app. Reading these from the file is working OK. Now, how could I simply use these three values in other classes? Thanks in advance!</p>\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    bind = ActivityHomeBinding.inflate(getLayoutInflater());\n    setContentView(bind.getRoot());\n    ReadConfigFile();\n    initView();\n}\n\npublic static void ReadConfigFile() {\n    try (FileInputStream fis = new FileInputStream(&quot;/storage/emulated/0/Download/suivicourse.cfg&quot;)) {\n        Properties prop = new Properties();\n        prop.load(fis);\n        String sc_url = prop.getProperty(&quot;database.url&quot;);\n        String sc_user = prop.getProperty(&quot;database.username&quot;);\n        String sc_pswd = prop.getProperty(&quot;database.password&quot;);\n        System.out.println(sc_url);\n        System.out.println(sc_user);\n        System.out.println(sc_pswd);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","encryption","rsa"],"comments":[{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":0,"creation_date":1399448970,"post_id":23511758,"comment_id":36060713,"body_markdown":"Do you know what is binary and decimal representation of number and relation between them?","body":"Do you know what is binary and decimal representation of number and relation between them?"},{"owner":{"account_id":4132077,"reputation":185,"user_id":3389702,"accept_rate":47,"display_name":"Speaky"},"score":0,"creation_date":1399450415,"post_id":23511758,"comment_id":36061455,"body_markdown":"@OlegEstekhin Do you mean how to convert decimal to binary number and vice versa?","body":"@OlegEstekhin Do you mean how to convert decimal to binary number and vice versa?"},{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":4,"creation_date":1399450563,"post_id":23511758,"comment_id":36061527,"body_markdown":"Yes. The number that has 1024 digits in base 2 (binary) will have 128 digits in base 256, 256 digits in base 16 (hexadecimal) and about 309 digits in base 10 (decimal).","body":"Yes. The number that has 1024 digits in base 2 (binary) will have 128 digits in base 256, 256 digits in base 16 (hexadecimal) and about 309 digits in base 10 (decimal)."},{"owner":{"account_id":4132077,"reputation":185,"user_id":3389702,"accept_rate":47,"display_name":"Speaky"},"score":0,"creation_date":1399451109,"post_id":23511758,"comment_id":36061823,"body_markdown":"@OlegEstekhin I&#39;m not so familiar with hexadecimal, but I know the relation between binary and decimal. So, what&#39;s the priority? In base 2 or base 10?","body":"@OlegEstekhin I&#39;m not so familiar with hexadecimal, but I know the relation between binary and decimal. So, what&#39;s the priority? In base 2 or base 10?"},{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":2,"creation_date":1399452443,"post_id":23511758,"comment_id":36062645,"body_markdown":"It **does not matter**, it is the same number, just written differently.","body":"It <b>does not matter</b>, it is the same number, just written differently."},{"owner":{"account_id":928106,"reputation":11298,"user_id":958464,"accept_rate":97,"display_name":"Gianluca Ghettini"},"score":0,"creation_date":1399452685,"post_id":23511758,"comment_id":36062790,"body_markdown":"base10 for a RSA key printout... what a shame java... what a shame... :-)","body":"base10 for a RSA key printout... what a shame java... what a shame... :-)"},{"owner":{"account_id":154880,"reputation":12730,"user_id":371137,"accept_rate":65,"display_name":"Perseids"},"score":1,"creation_date":1399453781,"post_id":23511758,"comment_id":36063511,"body_markdown":"Characters ≠ decimal digits. When you calculate &quot;1024/8 = 128 characters&quot; then these characters/bytes are allowed to have any possible value in the range 0...255 and not only the 10 decimal ASCII characters.","body":"Characters ≠ decimal digits. When you calculate &quot;1024/8 = 128 characters&quot; then these characters/bytes are allowed to have any possible value in the range 0...255 and not only the 10 decimal ASCII characters."}],"answers":[{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1399452333,"creation_date":1399452333,"answer_id":23512966,"question_id":23511758,"body_markdown":"The [example][1] saves the key as Object Stream, which is java serialized object stream, it has some metainfo about javatypes and special format to encode binary data. To see genuine size of the number try &quot;pub.getModulus().bitLength()&quot;. For me it prints 1024.\r\n\r\n\r\n  [1]: http://eureka.ykyuen.info/2010/04/24/java-creating-an-rsa-key-pair-in-java/","title":"real means of 1024 bit key length in RSA","body":"<p>The <a href=\"http://eureka.ykyuen.info/2010/04/24/java-creating-an-rsa-key-pair-in-java/\" rel=\"nofollow\">example</a> saves the key as Object Stream, which is java serialized object stream, it has some metainfo about javatypes and special format to encode binary data. To see genuine size of the number try \"pub.getModulus().bitLength()\". For me it prints 1024.</p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682906929,"creation_date":1648906863,"answer_id":71718043,"question_id":23511758,"body_markdown":"The important parameter is &quot;greater than 2^1023&quot;. This means, the raw RSA encryption algorithm can represent arbitrary numbers from 0 to 2^1013-1, but not numbers greater or equal to the modulus. By Key Design the Modulus is the product of two different prime numbers and will never meet a power of 2, like 2^1024. \r\n\r\nSo the maximum number of bits you can represent is key-length-1, which are floor((key length -1)/8) complete bytes; in the best case you loose one bit of the key length.\r\n\r\nAs the PKCS-standard for mapping text to numbers considers complete bytes, you always need one more byte for representing the equivalent number; for a 1024-bit-key the maximum length of text to be encoded is 127 bytes.\r\n\r\nThe other number &quot;309 bytes&quot; comes from the X.509-Standard for storing/exchanging keys, a dialect of the ASN.1-Protocol; it includes RSA-type information, the modulus and the public exponent.","title":"real means of 1024 bit key length in RSA","body":"<p>The important parameter is &quot;greater than 2^1023&quot;. This means, the raw RSA encryption algorithm can represent arbitrary numbers from 0 to 2^1013-1, but not numbers greater or equal to the modulus. By Key Design the Modulus is the product of two different prime numbers and will never meet a power of 2, like 2^1024.</p>\n<p>So the maximum number of bits you can represent is key-length-1, which are floor((key length -1)/8) complete bytes; in the best case you loose one bit of the key length.</p>\n<p>As the PKCS-standard for mapping text to numbers considers complete bytes, you always need one more byte for representing the equivalent number; for a 1024-bit-key the maximum length of text to be encoded is 127 bytes.</p>\n<p>The other number &quot;309 bytes&quot; comes from the X.509-Standard for storing/exchanging keys, a dialect of the ASN.1-Protocol; it includes RSA-type information, the modulus and the public exponent.</p>\n"}],"owner":{"account_id":4132077,"reputation":185,"user_id":3389702,"accept_rate":47,"display_name":"Speaky"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8541,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1682906929,"creation_date":1399448667,"question_id":23511758,"body_markdown":"I&#39;m learning about RSA cryptography, so I must understand about ke length.\r\n[Here][1], I found explanation about key length means. \r\n\r\nThere said:\r\n\r\n&gt; When we say a &quot;1024-bit RSA key&quot;, we mean that the modulus has length\r\n&gt; 1024 bits, i.e. is an integer greater than 2^1023 but lower than 2^1024.\r\n&gt; Such an integer could be encoded as a sequence of 1024 bits, i.e. 128\r\n&gt; bytes.\r\n\r\nWhat I&#39;ve got from there, 1024 bit key means the key has 1024 binary number sequence int it.\r\n\r\nWe all know, 1 byte = 8 bits. So, `1024 bits  = 128 bytes`. Okay, it&#39;s in binary. How about in character?\r\n\r\nAccording to ASCII binary code [here][2], each character has 8 bits binary number. So, in my mind, if key has 1024 bit length, it means the key contains of 1024/8 = 128 characters. So, I created a java program to generate prime number that has **128** numbers length. So far, the program works well.\r\n\r\nBut again, I rethought the real meaning of RSA 1024-bit. So, I googled and found [this][3]. I tested it and I get that the bit length of public key modulus is 1024. But, the public key has **309** numbers length. \r\n\r\nNow, I really confuse. \r\n\r\nMy question: what&#39;s the real means of 1024-bit key length in RSA? As I thought or as I found [here][4]?\r\n\r\n \r\n \r\n\r\n\r\n  [1]: https://security.stackexchange.com/questions/8912/what-does-key-with-length-of-x-bits-mean?answertab=votes#tab-top\r\n  [2]: http://www3.amherst.edu/~jcook15/binarycode.html\r\n  [3]: http://eureka.ykyuen.info/2010/04/24/java-creating-an-rsa-key-pair-in-java/\r\n  [4]: http://eureka.ykyuen.info/2010/04/24/java-creating-an-rsa-key-pair-in-java/","title":"real means of 1024 bit key length in RSA","body":"<p>I'm learning about RSA cryptography, so I must understand about ke length.\n<a href=\"https://security.stackexchange.com/questions/8912/what-does-key-with-length-of-x-bits-mean?answertab=votes#tab-top\">Here</a>, I found explanation about key length means. </p>\n\n<p>There said:</p>\n\n<blockquote>\n  <p>When we say a \"1024-bit RSA key\", we mean that the modulus has length\n  1024 bits, i.e. is an integer greater than 2^1023 but lower than 2^1024.\n  Such an integer could be encoded as a sequence of 1024 bits, i.e. 128\n  bytes.</p>\n</blockquote>\n\n<p>What I've got from there, 1024 bit key means the key has 1024 binary number sequence int it.</p>\n\n<p>We all know, 1 byte = 8 bits. So, <code>1024 bits  = 128 bytes</code>. Okay, it's in binary. How about in character?</p>\n\n<p>According to ASCII binary code <a href=\"http://www3.amherst.edu/~jcook15/binarycode.html\" rel=\"nofollow noreferrer\">here</a>, each character has 8 bits binary number. So, in my mind, if key has 1024 bit length, it means the key contains of 1024/8 = 128 characters. So, I created a java program to generate prime number that has <strong>128</strong> numbers length. So far, the program works well.</p>\n\n<p>But again, I rethought the real meaning of RSA 1024-bit. So, I googled and found <a href=\"http://eureka.ykyuen.info/2010/04/24/java-creating-an-rsa-key-pair-in-java/\" rel=\"nofollow noreferrer\">this</a>. I tested it and I get that the bit length of public key modulus is 1024. But, the public key has <strong>309</strong> numbers length. </p>\n\n<p>Now, I really confuse. </p>\n\n<p>My question: what's the real means of 1024-bit key length in RSA? As I thought or as I found <a href=\"http://eureka.ykyuen.info/2010/04/24/java-creating-an-rsa-key-pair-in-java/\" rel=\"nofollow noreferrer\">here</a>?</p>\n"},{"tags":["java","json","serialization","jackson","nullpointerexception"],"comments":[{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1682920604,"post_id":76144380,"comment_id":134284496,"body_markdown":"Maybe you could serialize &quot;null&quot; integer to a special int value such as &quot;0&quot; and deserialize it back to &quot;null&quot;.","body":"Maybe you could serialize &quot;null&quot; integer to a special int value such as &quot;0&quot; and deserialize it back to &quot;null&quot;."}],"owner":{"account_id":27871500,"reputation":1,"user_id":21281918,"display_name":"Dlcdoee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682906426,"creation_date":1682906191,"question_id":76144380,"body_markdown":"So I made this problem up and it&#39;s essentially the same problem I&#39;m having at work. I have a dependency on an object and I don&#39;t have access to the source code for the getter. The field is an Integer but the getter returns an in. The worst part is that he initialized the Integer as null in the constructor. How do I serialize this so that it may return the object with the value a null?\r\n\r\n```\r\npublic class TestObject {\r\n\t\r\n\tprivate Integer a;\r\n\t\r\n\tTestObject(){\r\n\t\ta = null;\r\n\t}\r\n\r\n\tpublic int getA() {\r\n\t\treturn a;\r\n\t}\r\n\r\n\tpublic void setA(int a) {\r\n\t\tthis.a = a;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n```\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tTestObject a = new TestObject();\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tSimpleModule simpleModule = new SimpleModule();\r\n\t\tmapper.registerModule(simpleModule);\r\n\t\ttry {\r\n\t\t\tSystem.out.println(mapper.writeValueAsString(a));\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n```\r\npublic class TestSerializer extends JsonSerializer&lt;Integer&gt; {\r\n\t@Override\r\n    public void serialize(Integer tmpInt, \r\n                          JsonGenerator jsonGenerator, \r\n                          SerializerProvider serializerProvider) \r\n                          throws IOException, JsonProcessingException {\r\n        jsonGenerator.writeObject(tmpInt.toString());\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n\r\ncom.fasterxml.jackson.databind.JsonMappingException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.a&quot; is null (through reference chain: TestObject[&quot;a&quot;])\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:402)\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:361)\r\n\tat com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:323)\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:780)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)\r\n\tat Test.main(Test.java:12)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.a&quot; is null\r\n\tat TestObject.getA(TestObject.java:11)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:688)\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)\r\n\t... 6 more","title":"com.fasterxml.jackson.databind.JsonMappingException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.a&quot; is null","body":"<p>So I made this problem up and it's essentially the same problem I'm having at work. I have a dependency on an object and I don't have access to the source code for the getter. The field is an Integer but the getter returns an in. The worst part is that he initialized the Integer as null in the constructor. How do I serialize this so that it may return the object with the value a null?</p>\n<pre><code>public class TestObject {\n    \n    private Integer a;\n    \n    TestObject(){\n        a = null;\n    }\n\n    public int getA() {\n        return a;\n    }\n\n    public void setA(int a) {\n        this.a = a;\n    }\n    \n    \n}\n</code></pre>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        TestObject a = new TestObject();\n        ObjectMapper mapper = new ObjectMapper();\n        SimpleModule simpleModule = new SimpleModule();\n        mapper.registerModule(simpleModule);\n        try {\n            System.out.println(mapper.writeValueAsString(a));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<pre><code>public class TestSerializer extends JsonSerializer&lt;Integer&gt; {\n    @Override\n    public void serialize(Integer tmpInt, \n                          JsonGenerator jsonGenerator, \n                          SerializerProvider serializerProvider) \n                          throws IOException, JsonProcessingException {\n        jsonGenerator.writeObject(tmpInt.toString());\n    }\n}\n</code></pre>\n<p>Error:</p>\n<p>com.fasterxml.jackson.databind.JsonMappingException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.a&quot; is null (through reference chain: TestObject[&quot;a&quot;])\nat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:402)\nat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:361)\nat com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:323)\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:780)\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)\nat com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)\nat com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)\nat Test.main(Test.java:12)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;this.a&quot; is null\nat TestObject.getA(TestObject.java:11)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:688)\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)\n... 6 more</p>\n"},{"tags":["java","string","class","coldfusion","normalization"],"answers":[{"tags":[],"owner":{"account_id":1281557,"reputation":13320,"user_id":1235565,"accept_rate":62,"display_name":"Jirka Hanika"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1343126174,"creation_date":1343126174,"answer_id":11629028,"question_id":11626050,"body_markdown":"In ColdFusion, unlike in Java, you don&#39;t need to escape backslashes in string literals.  Your current regex will not match anything that does not start with a backslash, so no replacement happens.\r\n\r\nOther than that, your code is perfectly correct and you can see that the length of the string is 8, not 4, at the time of the output.  This is an effect of the `normalize` call.\r\n\r\nHowever, remember that it is still an equivalent representation of the original string, and so it is not surprising that you cannot tell the difference visually.  This is correct Unicode rendering in action.","title":"Normalize String in ColdFusion","body":"<p>In ColdFusion, unlike in Java, you don't need to escape backslashes in string literals.  Your current regex will not match anything that does not start with a backslash, so no replacement happens.</p>\n\n<p>Other than that, your code is perfectly correct and you can see that the length of the string is 8, not 4, at the time of the output.  This is an effect of the <code>normalize</code> call.</p>\n\n<p>However, remember that it is still an equivalent representation of the original string, and so it is not surprising that you cannot tell the difference visually.  This is correct Unicode rendering in action.</p>\n"},{"tags":[],"owner":{"account_id":1048688,"reputation":8206,"user_id":1053103,"display_name":"Mike Causer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682905983,"creation_date":1343186437,"answer_id":11642205,"question_id":11626050,"body_markdown":"Your `&quot;\\\\p&quot;` should have simply been `&quot;\\p&quot;`. Cf&#39;s ReReplace() automatically escapes backslashes for you, so your `&quot;\\\\p&quot;` is interpreted java side as `&quot;\\\\\\\\p&quot;`\r\n\r\nOne liner:\r\n\r\n    &lt;cfscript&gt;\r\n    var k = &quot;mike&#39;s caf&#233;&quot;;\r\n    k = createObject( &#39;java&#39;, &#39;java.text.Normalizer&#39; ).normalize( k, createObject( &#39;java&#39;, &#39;java.text.Normalizer$Form&#39; ).valueOf(&#39;NFD&#39;) ).replaceAll(&#39;\\p{InCombiningDiacriticalMarks}+&#39;,&#39;&#39;).replaceAll(&#39;[^\\p{ASCII}]+&#39;,&#39;&#39;);\r\n    // k is now &quot;mike&#39;s cafe&quot;\r\n    &lt;/cfscript&gt;\r\n\r\nhttp://www.cfquickdocs.com/cf9/#rereplace\r\n\r\n(Edit: Broken cfquickdocs link. Domain registration expired)\r\n","title":"Normalize String in ColdFusion","body":"<p>Your <code>&quot;\\\\p&quot;</code> should have simply been <code>&quot;\\p&quot;</code>. Cf's ReReplace() automatically escapes backslashes for you, so your <code>&quot;\\\\p&quot;</code> is interpreted java side as <code>&quot;\\\\\\\\p&quot;</code></p>\n<p>One liner:</p>\n<pre><code>&lt;cfscript&gt;\nvar k = &quot;mike's café&quot;;\nk = createObject( 'java', 'java.text.Normalizer' ).normalize( k, createObject( 'java', 'java.text.Normalizer$Form' ).valueOf('NFD') ).replaceAll('\\p{InCombiningDiacriticalMarks}+','').replaceAll('[^\\p{ASCII}]+','');\n// k is now &quot;mike's cafe&quot;\n&lt;/cfscript&gt;\n</code></pre>\n<p><a href=\"http://www.cfquickdocs.com/cf9/#rereplace\" rel=\"nofollow noreferrer\">http://www.cfquickdocs.com/cf9/#rereplace</a></p>\n<p>(Edit: Broken cfquickdocs link. Domain registration expired)</p>\n"},{"tags":[],"owner":{"account_id":354610,"reputation":4370,"user_id":693068,"display_name":"James Moberg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596649841,"creation_date":1560524320,"answer_id":56600717,"question_id":11626050,"body_markdown":"I recommend using a Java library like Junidecode.\r\nhttps://github.com/gcardone/junidecode\r\n\r\nIt converts UTF8 &amp; UTF16 strings to ASCII7.  Examples:\r\n\r\n - &#228;&#233;&#246;&#232; = aeoe\r\n - mike&#39;s caf&#233; = mike&#39;s cafe\r\n - ℡ = TEL\r\n - 北亰 = Bei Jing\r\n - Mr. まさゆき たけだ = Mr. masayuki takeda\r\n - ⠏⠗⠑⠍⠊⠑⠗ = premier\r\n - ราชอาณาจักรไทย = raach`aanaacchakraithy\r\n - Ελληνικά = Ellenika\r\n - Москвa = Moskva\r\n - Հայաստան = Hayastan\r\n - ℰ&#119987;&#119964;ℳ&#120031;ℒℰ = EXAMPLE\r\n\r\nI&#39;ve shared a full ColdFusion-based demo (which requires the Junidecode JAR file):\r\nhttps://dev.to/gamesover/convert-unicode-strings-to-ascii-with-coldfusion-junidecode-lhf\r\n\r\nHere&#39;s the code function:\r\n\r\n    &lt;cfscript&gt;\r\n    function JUnidecode(inputString){\r\n    \tvar JUnidecodeLib = &quot;&quot;;\r\n    \tvar response = &quot;&quot;;\r\n    \tvar temp = {};\r\n    \ttemp.encoder = createObject(&quot;java&quot;, &quot;java.nio.charset.Charset&quot;).forName(&quot;utf-8&quot;).newEncoder();\r\n    \ttemp.isUTF = temp.encoder.canEncode(arguments.inputString);\r\n    \tif (temp.isUTF){\r\n    \t\t/* NFKC: UTF Compatibility Decomposition, followed by Canonical Composition */\r\n    \t\ttemp.normalizer = createObject( &quot;java&quot;, &quot;java.text.Normalizer&quot; );\r\n    \t\ttemp.normalizerForm = createObject( &quot;java&quot;, &quot;java.text.Normalizer$Form&quot; );\r\n    \t\targuments.inputString = temp.normalizer.normalize( javaCast( &quot;string&quot;, arguments.inputString ), temp.normalizerForm.NFKC );\r\n    \t}\r\n    \ttry {\r\n    \t\tJUnidecodeLib = createObject(&quot;java&quot;, &quot;net.gcardone.junidecode.Junidecode&quot;);\r\n    \t\tresponse = JUnidecodeLib.unidecode( javacast(&quot;string&quot;, arguments.inputString) );\r\n    \t} catch (any e) {\r\n    \t\tresponse = &quot;ERROR: JUnidecode is not installed&quot;;\r\n    \t}\r\n    \treturn trim(Response.replaceAll(&quot;\\[\\?\\]&quot;, &quot;&quot;));\r\n    }\r\n    function isDiff(compareArr, val, pos){\r\n    \treturn (pos GT arrayLen(comparearr) OR comparearr[pos] neq val);\r\n    }\r\n    &lt;/cfscript&gt;","title":"Normalize String in ColdFusion","body":"<p>I recommend using a Java library like Junidecode.\n<a href=\"https://github.com/gcardone/junidecode\" rel=\"nofollow noreferrer\">https://github.com/gcardone/junidecode</a></p>\n<p>It converts UTF8 &amp; UTF16 strings to ASCII7.  Examples:</p>\n<ul>\n<li>äéöè = aeoe</li>\n<li>mike's café = mike's cafe</li>\n<li>℡ = TEL</li>\n<li>北亰 = Bei Jing</li>\n<li>Mr. まさゆき たけだ = Mr. masayuki takeda</li>\n<li>⠏⠗⠑⠍⠊⠑⠗ = premier</li>\n<li>ราชอาณาจักรไทย = raach`aanaacchakraithy</li>\n<li>Ελληνικά = Ellenika</li>\n<li>Москвa = Moskva</li>\n<li>Հայաստան = Hayastan</li>\n<li>ℰ𝒳𝒜ℳ𝓟ℒℰ = EXAMPLE</li>\n</ul>\n<p>I've shared a full ColdFusion-based demo (which requires the Junidecode JAR file):\n<a href=\"https://dev.to/gamesover/convert-unicode-strings-to-ascii-with-coldfusion-junidecode-lhf\" rel=\"nofollow noreferrer\">https://dev.to/gamesover/convert-unicode-strings-to-ascii-with-coldfusion-junidecode-lhf</a></p>\n<p>Here's the code function:</p>\n<pre><code>&lt;cfscript&gt;\nfunction JUnidecode(inputString){\n    var JUnidecodeLib = &quot;&quot;;\n    var response = &quot;&quot;;\n    var temp = {};\n    temp.encoder = createObject(&quot;java&quot;, &quot;java.nio.charset.Charset&quot;).forName(&quot;utf-8&quot;).newEncoder();\n    temp.isUTF = temp.encoder.canEncode(arguments.inputString);\n    if (temp.isUTF){\n        /* NFKC: UTF Compatibility Decomposition, followed by Canonical Composition */\n        temp.normalizer = createObject( &quot;java&quot;, &quot;java.text.Normalizer&quot; );\n        temp.normalizerForm = createObject( &quot;java&quot;, &quot;java.text.Normalizer$Form&quot; );\n        arguments.inputString = temp.normalizer.normalize( javaCast( &quot;string&quot;, arguments.inputString ), temp.normalizerForm.NFKC );\n    }\n    try {\n        JUnidecodeLib = createObject(&quot;java&quot;, &quot;net.gcardone.junidecode.Junidecode&quot;);\n        response = JUnidecodeLib.unidecode( javacast(&quot;string&quot;, arguments.inputString) );\n    } catch (any e) {\n        response = &quot;ERROR: JUnidecode is not installed&quot;;\n    }\n    return trim(Response.replaceAll(&quot;\\[\\?\\]&quot;, &quot;&quot;));\n}\nfunction isDiff(compareArr, val, pos){\n    return (pos GT arrayLen(comparearr) OR comparearr[pos] neq val);\n}\n&lt;/cfscript&gt;\n</code></pre>\n"}],"owner":{"account_id":1302946,"reputation":58,"user_id":1254982,"display_name":"patrickruetter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":11629028,"answer_count":3,"score":4,"last_activity_date":1682905983,"creation_date":1343114838,"question_id":11626050,"body_markdown":"I&#39;m trying to normalize a string in ColdFusion.\r\n\r\nI want to use the Java class `java.text.Normalizer` for this, as CF doesn&#39;t have any similar functions as far as I know.\r\n\r\nHere&#39;s my current code:\r\n\r\n    &lt;cfset normalizer = createObject( &quot;java&quot;, &quot;java.text.Normalizer&quot; ) /&gt;\r\n    &lt;cfset string = &quot;&#228;&#233;&#246;&#232;&quot; /&gt;\r\n    &lt;cfset string = normalizer.normalize(string, createObject( &quot;java&quot;, &quot;java.text.Normalizer$Form&quot; ).NFD) /&gt;\r\n    &lt;cfset string = ReReplace(string, &quot;\\\\p{InCombiningDiacriticalMarks}+&quot;, &quot;&quot;) /&gt;\r\n    &lt;cfoutput&gt;#string#&lt;/cfoutput&gt;\r\n\r\nAny ideas why it always outputs `&#228;&#233;&#246;&#232;` and not a normalized string?","title":"Normalize String in ColdFusion","body":"<p>I'm trying to normalize a string in ColdFusion.</p>\n\n<p>I want to use the Java class <code>java.text.Normalizer</code> for this, as CF doesn't have any similar functions as far as I know.</p>\n\n<p>Here's my current code:</p>\n\n<pre><code>&lt;cfset normalizer = createObject( \"java\", \"java.text.Normalizer\" ) /&gt;\n&lt;cfset string = \"äéöè\" /&gt;\n&lt;cfset string = normalizer.normalize(string, createObject( \"java\", \"java.text.Normalizer$Form\" ).NFD) /&gt;\n&lt;cfset string = ReReplace(string, \"\\\\p{InCombiningDiacriticalMarks}+\", \"\") /&gt;\n&lt;cfoutput&gt;#string#&lt;/cfoutput&gt;\n</code></pre>\n\n<p>Any ideas why it always outputs <code>äéöè</code> and not a normalized string?</p>\n"},{"tags":["javascript","java","velo"],"answers":[{"tags":[],"owner":{"account_id":2635876,"reputation":1216,"user_id":2280574,"accept_rate":44,"display_name":"Mellet"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1613232154,"creation_date":1613232154,"answer_id":66187100,"question_id":66187019,"body_markdown":"Looks like your error is in how you find your element.  \r\nYou could try console.log(tx) and see what you get.  \r\n\r\nSeems to work:\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const box = document.getElementById(&quot;box&quot;)\r\n\r\n    function getRandomColor() {\r\n        var letters = &#39;0123456789ABCDEF&#39;;\r\n        var color = &#39;#&#39;;\r\n        for (var i = 0; i &lt; 6; i++ ) {\r\n            color += letters[Math.floor(Math.random() * 16)];\r\n        }\r\n        return color;\r\n    }\r\n\r\n    function changeColor(){\r\n      box.style.color = getRandomColor();\r\n    }\r\n\r\n    setInterval(changeColor,1000);\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div id=&quot;box&quot;&gt;\r\n    Hello World\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Change color every second of a wix text box element","body":"<p>Looks like your error is in how you find your element.<br />\nYou could try console.log(tx) and see what you get.</p>\n<p>Seems to work:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const box = document.getElementById(\"box\")\n\nfunction getRandomColor() {\n    var letters = '0123456789ABCDEF';\n    var color = '#';\n    for (var i = 0; i &lt; 6; i++ ) {\n        color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n}\n\nfunction changeColor(){\n  box.style.color = getRandomColor();\n}\n\nsetInterval(changeColor,1000);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"box\"&gt;\nHello World\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":12591652,"reputation":896,"user_id":9158089,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613304011,"creation_date":1613304011,"answer_id":66195210,"question_id":66187019,"body_markdown":"In Velo, the text element does not have a `style` property. The only way to currently change the text color is to set the text using the `html` property and adding inline styling.","title":"Change color every second of a wix text box element","body":"<p>In Velo, the text element does not have a <code>style</code> property. The only way to currently change the text color is to set the text using the <code>html</code> property and adding inline styling.</p>\n"},{"tags":[],"owner":{"account_id":28467596,"reputation":1,"user_id":21783428,"display_name":"Andrei Shevtcov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682900175,"creation_date":1682900175,"answer_id":76144142,"question_id":66187019,"body_markdown":"You can try this one - make sure your original html matches, though.\r\n\r\n```\r\nconst changeColor = (element, color) =&gt; {\r\n    if (element.type !== &#39;$w.Text&#39;) {\r\n        return;\r\n    }\r\n\r\n    const { html } = element;\r\n    const newHtml = html.indexOf(&#39;color:&#39;) &gt; -1 \r\n        ? html.replace(/color:\\s{0,2}[^ ;&quot;&#39;]+/g, `color: ${color}`)\r\n        : html.replace(/style=&quot;/g, `style=&quot;color: ${color}; `);\r\n\r\n    element.html = newHtml;\r\n};\r\n```","title":"Change color every second of a wix text box element","body":"<p>You can try this one - make sure your original html matches, though.</p>\n<pre><code>const changeColor = (element, color) =&gt; {\n    if (element.type !== '$w.Text') {\n        return;\n    }\n\n    const { html } = element;\n    const newHtml = html.indexOf('color:') &gt; -1 \n        ? html.replace(/color:\\s{0,2}[^ ;&quot;']+/g, `color: ${color}`)\n        : html.replace(/style=&quot;/g, `style=&quot;color: ${color}; `);\n\n    element.html = newHtml;\n};\n</code></pre>\n"}],"owner":{"account_id":20323124,"reputation":13,"user_id":14907259,"display_name":"Rishabh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":861,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682900175,"creation_date":1613231709,"question_id":66187019,"body_markdown":"\r\n\r\nI tried to use the code below to change text color to random colors every second but it didn&#39;t work, and it&#39;s giving and error &#39;tx.style is undefined&#39;. The same code worked in atom text editor. why?\r\n\r\n    const tx = $w(&#39;#text16&#39;);\r\n    \r\n    function getRandomColor() {\r\n        var letters = &#39;0123456789ABCDEF&#39;;\r\n        var color = &#39;#&#39;;\r\n        for (var i = 0; i &lt; 6; i++ ) {\r\n            color += letters[Math.floor(Math.random() * 16)];\r\n        }\r\n        return color;\r\n    }\r\n    \r\n    function changeColor(){\r\n      tx.style.color= getRandomColor();\r\n    }\r\n    \r\n    setInterval(changeColor,1000);\r\n\r\n","title":"Change color every second of a wix text box element","body":"<p>I tried to use the code below to change text color to random colors every second but it didn't work, and it's giving and error 'tx.style is undefined'. The same code worked in atom text editor. why?</p>\n<pre><code>const tx = $w('#text16');\n\nfunction getRandomColor() {\n    var letters = '0123456789ABCDEF';\n    var color = '#';\n    for (var i = 0; i &lt; 6; i++ ) {\n        color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n}\n\nfunction changeColor(){\n  tx.style.color= getRandomColor();\n}\n\nsetInterval(changeColor,1000);\n</code></pre>\n"},{"tags":["javascript","java","node.js","postman","openapi"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1678360676,"post_id":75683470,"comment_id":133519035,"body_markdown":"Can you post a sample input OpenAPI file so that others can reproduce the issue?","body":"Can you post a sample input OpenAPI file so that others can reproduce the issue?"}],"answers":[{"tags":[],"owner":{"account_id":14166099,"reputation":141,"user_id":10234021,"display_name":"houssem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678366965,"creation_date":1678359502,"answer_id":75683657,"question_id":75683470,"body_markdown":"You don&#39;t have to manually convert your open Api specifications because postman already supports them.\r\n\r\n 1. go to postman and click import\r\n 2. choose your open api file\r\n 3. you will have all your apis ready to be used and tested on the APIs tab !\r\n\r\nsource and more details : [Postman Supports OpenAPI 3.0][1]\r\n\r\nEDIT :\r\n\r\nIf you have to do it programmatically you can try postman&#39;s collection sdk [Collection SDK][2]\r\n\r\n - Load the OpenAPI specification file into your Node.js application\r\n - Create a new Postman collection\r\n - Map the OpenAPI paths and operations to Postman requests and add them to the collection\r\n - Write the Postman collection to a file\r\n\r\nthis way you have the file in the format you want, and you can do whatever post or pre processing you need.\r\n\r\n  [1]: https://blog.postman.com/postman-supports-openapi-3-0/\r\n  [2]: https://learning.postman.com/docs/developer/collection-sdk/","title":"Convert Open Api specification to postman collection programmatically","body":"<p>You don't have to manually convert your open Api specifications because postman already supports them.</p>\n<ol>\n<li>go to postman and click import</li>\n<li>choose your open api file</li>\n<li>you will have all your apis ready to be used and tested on the APIs tab !</li>\n</ol>\n<p>source and more details : <a href=\"https://blog.postman.com/postman-supports-openapi-3-0/\" rel=\"nofollow noreferrer\">Postman Supports OpenAPI 3.0</a></p>\n<p>EDIT :</p>\n<p>If you have to do it programmatically you can try postman's collection sdk <a href=\"https://learning.postman.com/docs/developer/collection-sdk/\" rel=\"nofollow noreferrer\">Collection SDK</a></p>\n<ul>\n<li>Load the OpenAPI specification file into your Node.js application</li>\n<li>Create a new Postman collection</li>\n<li>Map the OpenAPI paths and operations to Postman requests and add them to the collection</li>\n<li>Write the Postman collection to a file</li>\n</ul>\n<p>this way you have the file in the format you want, and you can do whatever post or pre processing you need.</p>\n"},{"tags":[],"owner":{"account_id":17767926,"reputation":11,"user_id":12902317,"display_name":"Mustaque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682899634,"creation_date":1682899634,"answer_id":76144117,"question_id":75683470,"body_markdown":"You actually don&#39;t need to do anything. When you will create a collection in the Postman, Postman runner will automatically interpret \r\n`path&quot;:[&quot;student&quot;, &quot;:studentId&quot;]` as `&quot;{{baseUrl}}/student/:studentId&quot;`\r\n\r\nOr probably you can explain what exactly you&#39;re trying to acheive with the raw URL? How will it help you? \r\n\r\nI&#39;m converting the OpenAPI to Postman using `openapi-to-postmanv2` npm package and later I make an API call to create/update/delete the collection by hitting Postman API and it is working out of the box. ","title":"Convert Open Api specification to postman collection programmatically","body":"<p>You actually don't need to do anything. When you will create a collection in the Postman, Postman runner will automatically interpret\n<code>path&quot;:[&quot;student&quot;, &quot;:studentId&quot;]</code> as <code>&quot;{{baseUrl}}/student/:studentId&quot;</code></p>\n<p>Or probably you can explain what exactly you're trying to acheive with the raw URL? How will it help you?</p>\n<p>I'm converting the OpenAPI to Postman using <code>openapi-to-postmanv2</code> npm package and later I make an API call to create/update/delete the collection by hitting Postman API and it is working out of the box.</p>\n"}],"owner":{"account_id":21884076,"reputation":107,"user_id":16171930,"display_name":"Aniket Thorat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1880,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1682899634,"creation_date":1678358454,"question_id":75683470,"body_markdown":"I am typing to convert open Api specification to postman collection I have tried using node module \r\n\r\n`openapi-to-postmanv2` \r\n\r\nbut its creating URLs in list  like\r\n\r\n`path&quot;:[&quot;student&quot;, &quot;:studentId&quot;]`  \r\n\r\nwhat I want URLs like. \r\n\r\n `&quot;raw&quot;: &quot;{{baseUrl}}/student/:studentId&quot;`\r\n\r\nIf any other approach of conversion in different language","title":"Convert Open Api specification to postman collection programmatically","body":"<p>I am typing to convert open Api specification to postman collection I have tried using node module</p>\n<p><code>openapi-to-postmanv2</code></p>\n<p>but its creating URLs in list  like</p>\n<p><code>path&quot;:[&quot;student&quot;, &quot;:studentId&quot;]</code></p>\n<p>what I want URLs like.</p>\n<p><code>&quot;raw&quot;: &quot;{{baseUrl}}/student/:studentId&quot;</code></p>\n<p>If any other approach of conversion in different language</p>\n"},{"tags":["java","tomcat","jakarta-ee","catalina"],"answers":[{"tags":[],"owner":{"account_id":6699038,"reputation":90,"user_id":5166194,"accept_rate":100,"display_name":"SargeOrona"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506208771,"creation_date":1506208771,"answer_id":46385135,"question_id":46373309,"body_markdown":"I found my issue.&lt;br&gt;\r\nMy lib folder was outside the WebContent folder...&lt;br&gt;\r\nI copied it inside `WebContent/WEB-INF` and everything is working now","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]] - tomcat 8.5","body":"<p>I found my issue.<br>\nMy lib folder was outside the WebContent folder...<br>\nI copied it inside <code>WebContent/WEB-INF</code> and everything is working now</p>\n"}],"owner":{"account_id":6699038,"reputation":90,"user_id":5166194,"accept_rate":100,"display_name":"SargeOrona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11847,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46385135,"answer_count":1,"score":1,"last_activity_date":1682897170,"creation_date":1506114957,"question_id":46373309,"body_markdown":"I am trying to get my tomcat 8.5 to start on my eclipse.\r\nEverytime I get this error.\r\n\r\nI already tried the below fixes but nothing seems to work:\r\n\r\n - Added log4j.jar to my classpath \r\n - cleaned Tomcat Directory\r\n - My JDK is 1.8\r\n - My JRE is 1.8 \r\n\r\nAny idea what else to try?\r\n\r\n&gt; org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:752)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1144)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1878)\r\n&gt; \tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown\r\n&gt; Source) \tat java.util.concurrent.FutureTask.run(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) \tat\r\n&gt; java.lang.Thread.run(Unknown Source) Caused by:\r\n&gt; java.lang.NoClassDefFoundError: Lorg/apache/logging/log4j/Logger; \tat\r\n&gt; java.lang.Class.getDeclaredFields0(Native Method) \tat\r\n&gt; java.lang.Class.privateGetDeclaredFields(Unknown Source) \tat\r\n&gt; java.lang.Class.getDeclaredFields(Unknown Source) \tat\r\n&gt; org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:110)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:262)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.WebAnnotationSet.loadApplicationFilterAnnotations(WebAnnotationSet.java:108)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:65)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:328)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:778)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5105)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]] - tomcat 8.5","body":"<p>I am trying to get my tomcat 8.5 to start on my eclipse.\nEverytime I get this error.</p>\n\n<p>I already tried the below fixes but nothing seems to work:</p>\n\n<ul>\n<li>Added log4j.jar to my classpath </li>\n<li>cleaned Tomcat Directory</li>\n<li>My JDK is 1.8</li>\n<li>My JRE is 1.8 </li>\n</ul>\n\n<p>Any idea what else to try?</p>\n\n<blockquote>\n  <p>org.apache.catalina.LifecycleException: Failed to start component\n  [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at\n  org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:752)\n    at\n  org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\n    at\n  org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at\n  org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1144)\n    at\n  org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1878)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown\n  Source)   at java.util.concurrent.FutureTask.run(Unknown Source)  at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)     at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)    at\n  java.lang.Thread.run(Unknown Source) Caused by:\n  java.lang.NoClassDefFoundError: Lorg/apache/logging/log4j/Logger;     at\n  java.lang.Class.getDeclaredFields0(Native Method)     at\n  java.lang.Class.privateGetDeclaredFields(Unknown Source)  at\n  java.lang.Class.getDeclaredFields(Unknown Source)     at\n  org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:110)\n    at\n  org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:262)\n    at\n  org.apache.catalina.startup.WebAnnotationSet.loadApplicationFilterAnnotations(WebAnnotationSet.java:108)\n    at\n  org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:65)\n    at\n  org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:328)\n    at\n  org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:778)\n    at\n  org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\n    at\n  org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\n    at\n  org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5105)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)</p>\n</blockquote>\n"},{"tags":["java","mysql","hibernate","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682891360,"creation_date":1682891360,"answer_id":76143708,"question_id":76142890,"body_markdown":"I&#39;m not sure about it and I&#39;m absolutely no hibernate expert but I think you could give it a try.\r\n\r\n    public void save(Room room, User user) {\r\n            Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n            try {\r\n                Transaction tx = session.beginTransaction();\r\n                room.getUsers().add(user); //it shouldn&#39;t be needed to add the room to the users rooms\r\n                session.merge(room);//the save operation should be cascaded, so the user should be automatically saved as well\r\n                tx.commit();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                session.close();\r\n            }\r\n    }","title":"Hibernate error: object references an unsaved transient instance - save the transient instance before flushing: model.Room","body":"<p>I'm not sure about it and I'm absolutely no hibernate expert but I think you could give it a try.</p>\n<pre><code>public void save(Room room, User user) {\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n        try {\n            Transaction tx = session.beginTransaction();\n            room.getUsers().add(user); //it shouldn't be needed to add the room to the users rooms\n            session.merge(room);//the save operation should be cascaded, so the user should be automatically saved as well\n            tx.commit();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            session.close();\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":28465580,"reputation":3,"user_id":21781698,"display_name":"dg0mezm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76143708,"answer_count":1,"score":0,"last_activity_date":1682897154,"creation_date":1682879267,"question_id":76142890,"body_markdown":"# Solved - Updated\r\nI deleted merge user method and adding room to room list from the user.\r\n\r\n    public void save(Room room, User user) {\r\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        try {\r\n            session.beginTransaction();\r\n            room.getUsers().add(user);\r\n            session.merge(room);\r\n            session.getTransaction().commit();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            session.close();\r\n        }\r\n    }\r\n\r\nAnd updating the user instance out the RoomRepository to get the updated User instance:\r\n\r\n    public void updateUser() {\r\n        this.user = userRepository.updateUser(user);\r\n    }\r\n\r\nOn UserRepository:\r\n\r\n    public User updateUser(User user) {\r\n        User result = null;\r\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        try {\r\n            session.beginTransaction();\r\n            result = session.get(User.class, user.getId());\r\n            session.getTransaction().commit();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            session.close();\r\n        }\r\n        return result;\r\n    }\r\n\r\nProbably this is a bad practise, so I&#39;ll have to think how to refactor this.\r\n\r\n&lt;hr/&gt;\r\n\r\n# Problem\r\nI have class Room and class User with a ManyToMany association.\r\n## User\r\n```\r\n@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;users&quot;)\r\npublic Set&lt;Room&gt; rooms = new HashSet&lt;&gt;();\r\n```\r\n\r\n## Room\r\n\r\n```\r\n@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n@JoinTable(name = &quot;sala_usuario&quot;,\r\n      joinColumns = @JoinColumn(name = &quot;id_salas&quot;),\r\n      inverseJoinColumns = @JoinColumn(name = &quot;cod_user&quot;))\r\nprivate Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n```\r\n\r\nThis is the exception&#39;s trace:\r\n\r\n```\r\njava.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: model.Room\r\nat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:161)\r\nat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:374)\r\nat org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073)\r\nat org.hibernate.query.Query.getResultList(Query.java:94)\r\nat repository.MessageRepository.findRoomMessages(MessageRepository.java:41)\r\nat app.ChatController.loadMessages(ChatController.java:123)\r\nat app.ChatController.lambda$initialize$0(ChatController.java:45)\r\n```\r\n\r\nThis is the save method in RoomRepository:\r\n\r\n```\r\npublic void save(Room room, User user) {\r\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        try {\r\n            session.beginTransaction();\r\n            user.getRooms().add(room);\r\n            room.getUsers().add(user);\r\n            session.merge(room);\r\n            session.merge(user);\r\n            session.getTransaction().commit();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            session.close();\r\n        }\r\n}\r\n```\r\n\r\nThe error happens when a Room is opened by the user and try to get the messages with OneToMany association because the instance of Room is not persisted on Hibernate, but it is:\r\n\r\n```\r\npublic List&lt;Message&gt; findRoomMessages(Room room) {\r\n        List&lt;Message&gt; result = null;\r\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        try {\r\n            session.beginTransaction();\r\n            CriteriaBuilder cb = session.getCriteriaBuilder();\r\n            CriteriaQuery&lt;Message&gt; query = cb.createQuery(Message.class);\r\n            Root&lt;Message&gt; root = query.from(Message.class);\r\n            query.select(root).where(cb.equal(root.get(&quot;room&quot;), room));\r\n            result = session.createQuery(query).getResultList();\r\n            session.getTransaction().commit();\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n        } finally {\r\n            session.close();\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nI&#39;ve solved making this, but I want to use ORM:\r\n\r\n```\r\npublic List&lt;Message&gt; findRoomMessages(Room room) {\r\n        List&lt;Message&gt; result = null;\r\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        try {\r\n            session.beginTransaction();\r\n            result = session.createNativeQuery(&quot;SELECT * FROM mensajes WHERE id_sala = :pid_sala&quot;, Message.class)\r\n                            .setParameter(&quot;pid_sala&quot;, room.getId()).list();\r\n            session.getTransaction().commit();\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n        } finally {\r\n            session.close();\r\n        }\r\n        return result;\r\n}\r\n```","title":"Hibernate error: object references an unsaved transient instance - save the transient instance before flushing: model.Room","body":"<h1>Solved - Updated</h1>\n<p>I deleted merge user method and adding room to room list from the user.</p>\n<pre><code>public void save(Room room, User user) {\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    try {\n        session.beginTransaction();\n        room.getUsers().add(user);\n        session.merge(room);\n        session.getTransaction().commit();\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        session.close();\n    }\n}\n</code></pre>\n<p>And updating the user instance out the RoomRepository to get the updated User instance:</p>\n<pre><code>public void updateUser() {\n    this.user = userRepository.updateUser(user);\n}\n</code></pre>\n<p>On UserRepository:</p>\n<pre><code>public User updateUser(User user) {\n    User result = null;\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    try {\n        session.beginTransaction();\n        result = session.get(User.class, user.getId());\n        session.getTransaction().commit();\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        session.close();\n    }\n    return result;\n}\n</code></pre>\n<p>Probably this is a bad practise, so I'll have to think how to refactor this.</p>\n<hr/>\n<h1>Problem</h1>\n<p>I have class Room and class User with a ManyToMany association.</p>\n<h2>User</h2>\n<pre><code>@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;users&quot;)\npublic Set&lt;Room&gt; rooms = new HashSet&lt;&gt;();\n</code></pre>\n<h2>Room</h2>\n<pre><code>@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinTable(name = &quot;sala_usuario&quot;,\n      joinColumns = @JoinColumn(name = &quot;id_salas&quot;),\n      inverseJoinColumns = @JoinColumn(name = &quot;cod_user&quot;))\nprivate Set&lt;User&gt; users = new HashSet&lt;&gt;();\n</code></pre>\n<p>This is the exception's trace:</p>\n<pre><code>java.lang.IllegalStateException: org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: model.Room\nat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:161)\nat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:374)\nat org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073)\nat org.hibernate.query.Query.getResultList(Query.java:94)\nat repository.MessageRepository.findRoomMessages(MessageRepository.java:41)\nat app.ChatController.loadMessages(ChatController.java:123)\nat app.ChatController.lambda$initialize$0(ChatController.java:45)\n</code></pre>\n<p>This is the save method in RoomRepository:</p>\n<pre><code>public void save(Room room, User user) {\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n        try {\n            session.beginTransaction();\n            user.getRooms().add(room);\n            room.getUsers().add(user);\n            session.merge(room);\n            session.merge(user);\n            session.getTransaction().commit();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            session.close();\n        }\n}\n</code></pre>\n<p>The error happens when a Room is opened by the user and try to get the messages with OneToMany association because the instance of Room is not persisted on Hibernate, but it is:</p>\n<pre><code>public List&lt;Message&gt; findRoomMessages(Room room) {\n        List&lt;Message&gt; result = null;\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n        try {\n            session.beginTransaction();\n            CriteriaBuilder cb = session.getCriteriaBuilder();\n            CriteriaQuery&lt;Message&gt; query = cb.createQuery(Message.class);\n            Root&lt;Message&gt; root = query.from(Message.class);\n            query.select(root).where(cb.equal(root.get(&quot;room&quot;), room));\n            result = session.createQuery(query).getResultList();\n            session.getTransaction().commit();\n        } catch (Exception e){\n            e.printStackTrace();\n        } finally {\n            session.close();\n        }\n        return result;\n    }\n</code></pre>\n<p>I've solved making this, but I want to use ORM:</p>\n<pre><code>public List&lt;Message&gt; findRoomMessages(Room room) {\n        List&lt;Message&gt; result = null;\n        Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n        try {\n            session.beginTransaction();\n            result = session.createNativeQuery(&quot;SELECT * FROM mensajes WHERE id_sala = :pid_sala&quot;, Message.class)\n                            .setParameter(&quot;pid_sala&quot;, room.getId()).list();\n            session.getTransaction().commit();\n        } catch (Exception e){\n            e.printStackTrace();\n        } finally {\n            session.close();\n        }\n        return result;\n}\n</code></pre>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":3,"creation_date":1633686630,"post_id":5270272,"comment_id":122831506,"body_markdown":"If you&#39;re reading this, please skip ahead/down to the answers using the current methodology of java.time! The Calendar-based answers are fine, but outdated now.","body":"If you&#39;re reading this, please skip ahead/down to the answers using the current methodology of java.time! The Calendar-based answers are fine, but outdated now."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":403,"is_accepted":true,"score":403,"last_activity_date":1581526173,"creation_date":1299829635,"answer_id":5270292,"question_id":5270272,"body_markdown":"Yes.  Depending on your exact case:\r\n\r\n- You can use `java.util.Calendar`:\r\n\r\n        Calendar c = Calendar.getInstance();\r\n        c.setTime(yourDate);\r\n        int dayOfWeek = c.get(Calendar.DAY_OF_WEEK);\r\n\r\n- if you need the output to be `Tue` rather than 3 (Days of week are indexed starting at 1 for Sunday, see Calendar.SUNDAY), instead of going through a calendar, just reformat the string:  `new SimpleDateFormat(&quot;EE&quot;).format(date)` (`EE` meaning &quot;day of week, short version&quot;)\r\n\r\n\r\n- if you have your input as string, rather than `Date`, you should use `SimpleDateFormat` to parse it: `new SimpleDateFormat(&quot;dd/M/yyyy&quot;).parse(dateString)`\r\n\r\n- you can use joda-time&#39;s `DateTime` and call `dateTime.dayOfWeek()` and/or `DateTimeFormat`.\r\n\r\n- edit: since Java 8 you can now use java.time package instead of joda-time\r\n\r\n","title":"How to determine day of week by passing specific date?","body":"<p>Yes.  Depending on your exact case:</p>\n\n<ul>\n<li><p>You can use <code>java.util.Calendar</code>:</p>\n\n<pre><code>Calendar c = Calendar.getInstance();\nc.setTime(yourDate);\nint dayOfWeek = c.get(Calendar.DAY_OF_WEEK);\n</code></pre></li>\n<li><p>if you need the output to be <code>Tue</code> rather than 3 (Days of week are indexed starting at 1 for Sunday, see Calendar.SUNDAY), instead of going through a calendar, just reformat the string:  <code>new SimpleDateFormat(\"EE\").format(date)</code> (<code>EE</code> meaning \"day of week, short version\")</p></li>\n<li><p>if you have your input as string, rather than <code>Date</code>, you should use <code>SimpleDateFormat</code> to parse it: <code>new SimpleDateFormat(\"dd/M/yyyy\").parse(dateString)</code></p></li>\n<li><p>you can use joda-time's <code>DateTime</code> and call <code>dateTime.dayOfWeek()</code> and/or <code>DateTimeFormat</code>.</p></li>\n<li><p>edit: since Java 8 you can now use java.time package instead of joda-time</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1299488,"reputation":6269,"user_id":1249710,"display_name":"JDGuide"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1634134973,"creation_date":1343819542,"answer_id":11758013,"question_id":5270272,"body_markdown":"                        \r\n      String inputDate = &quot;01/08/2012&quot;;\r\n      SimpleDateFormat format1 = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n      Date dt1 = format1.parse(input_date);\r\n      DateFormat format2 = new SimpleDateFormat(&quot;EEEE&quot;); \r\n      String finalDay = format2.format(dt1);\r\n\r\nUse this code for find the day name from a input date.Simple and well tested.","title":"How to determine day of week by passing specific date?","body":"<pre><code>  String inputDate = &quot;01/08/2012&quot;;\n  SimpleDateFormat format1 = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n  Date dt1 = format1.parse(input_date);\n  DateFormat format2 = new SimpleDateFormat(&quot;EEEE&quot;); \n  String finalDay = format2.format(dt1);\n</code></pre>\n<p>Use this code for find the day name from a input date.Simple and well tested.</p>\n"},{"tags":[],"owner":{"account_id":2840964,"reputation":21,"user_id":2440597,"display_name":"Sandeep.N"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551873036,"creation_date":1370007248,"answer_id":16858565,"question_id":5270272,"body_markdown":"    import java.text.SimpleDateFormat;\r\n    import java.util.Scanner;\r\n    \r\n    class DayFromDate {\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            System.out.println(&quot;Enter the date(dd/mm/yyyy):&quot;);\r\n    \t    Scanner scan = new Scanner(System.in);\r\n    \t    String Date = scan.nextLine();\r\n\r\n    \t    try {\r\n    \t\t    boolean dateValid = dateValidate(Date);\r\n\r\n    \t\t    if(dateValid == true) {\r\n                    SimpleDateFormat df = new SimpleDateFormat( &quot;dd/MM/yy&quot; );  \r\n    \t\t\t    java.util.Date date = df.parse( Date );   \r\n    \t\t\t    df.applyPattern( &quot;EEE&quot; );  \r\n    \t\t\t    String day= df.format( date ); \r\n\r\n    \t\t\t    if(day.compareTo(&quot;Sat&quot;) == 0 || day.compareTo(&quot;Sun&quot;) == 0) {\r\n    \t\t\t\t    System.out.println(day + &quot;: Weekend&quot;);\r\n    \t\t\t    } else {\r\n    \t\t\t\t    System.out.println(day + &quot;: Weekday&quot;);\r\n    \t\t\t    }\r\n    \t\t    } else {\r\n    \t\t\t    System.out.println(&quot;Invalid Date!!!&quot;);\r\n    \t\t    }\r\n    \t    } catch(Exception e) {\r\n    \t\t    System.out.println(&quot;Invalid Date Formats!!!&quot;);\r\n    \t    }\r\n         }\r\n    \r\n        static public boolean dateValidate(String d) {\r\n    \r\n            String dateArray[] = d.split(&quot;/&quot;);\r\n    \t    int day = Integer.parseInt(dateArray[0]);\r\n    \t    int month = Integer.parseInt(dateArray[1]);\r\n    \t    int year = Integer.parseInt(dateArray[2]);\r\n    \t    System.out.print(day + &quot;\\n&quot; + month + &quot;\\n&quot; + year + &quot;\\n&quot;);\r\n    \t    boolean leapYear = false;\r\n    \t\r\n    \t    if((year % 4 == 0) &amp;&amp; (year % 100 != 0) || (year % 400 == 0)) {\r\n    \t\t    leapYear = true;\r\n            }\r\n    \t\r\n    \t    if(year &gt; 2099 || year &lt; 1900)\r\n                return false;\r\n    \t\r\n            if(month &lt; 13) {\r\n                if(month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {\r\n    \t\t\t    if(day &gt; 31)\r\n    \t\t\t\t    return false;\r\n                } else if(month == 4 || month == 6 || month == 9 || month == 11) {\r\n    \t\t\t    if(day &gt; 30)\r\n    \t\t\t\t    return false;\r\n    \t\t    } else if(leapYear == true &amp;&amp; month == 2) {\r\n    \t\t\t    if(day &gt; 29)\r\n                        return false;\r\n    \t\t    } else if(leapYear == false &amp;&amp; month == 2) {\r\n                    if(day &gt; 28)\r\n                        return false;\r\n    \t\t    }\r\n\r\n    \t\t    return true;\t\r\n    \t    } else return false;\r\n        }\r\n    }","title":"How to determine day of week by passing specific date?","body":"<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Scanner;\n\nclass DayFromDate {\n\n    public static void main(String args[]) {\n\n        System.out.println(\"Enter the date(dd/mm/yyyy):\");\n        Scanner scan = new Scanner(System.in);\n        String Date = scan.nextLine();\n\n        try {\n            boolean dateValid = dateValidate(Date);\n\n            if(dateValid == true) {\n                SimpleDateFormat df = new SimpleDateFormat( \"dd/MM/yy\" );  \n                java.util.Date date = df.parse( Date );   \n                df.applyPattern( \"EEE\" );  \n                String day= df.format( date ); \n\n                if(day.compareTo(\"Sat\") == 0 || day.compareTo(\"Sun\") == 0) {\n                    System.out.println(day + \": Weekend\");\n                } else {\n                    System.out.println(day + \": Weekday\");\n                }\n            } else {\n                System.out.println(\"Invalid Date!!!\");\n            }\n        } catch(Exception e) {\n            System.out.println(\"Invalid Date Formats!!!\");\n        }\n     }\n\n    static public boolean dateValidate(String d) {\n\n        String dateArray[] = d.split(\"/\");\n        int day = Integer.parseInt(dateArray[0]);\n        int month = Integer.parseInt(dateArray[1]);\n        int year = Integer.parseInt(dateArray[2]);\n        System.out.print(day + \"\\n\" + month + \"\\n\" + year + \"\\n\");\n        boolean leapYear = false;\n\n        if((year % 4 == 0) &amp;&amp; (year % 100 != 0) || (year % 400 == 0)) {\n            leapYear = true;\n        }\n\n        if(year &gt; 2099 || year &lt; 1900)\n            return false;\n\n        if(month &lt; 13) {\n            if(month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {\n                if(day &gt; 31)\n                    return false;\n            } else if(month == 4 || month == 6 || month == 9 || month == 11) {\n                if(day &gt; 30)\n                    return false;\n            } else if(leapYear == true &amp;&amp; month == 2) {\n                if(day &gt; 29)\n                    return false;\n            } else if(leapYear == false &amp;&amp; month == 2) {\n                if(day &gt; 28)\n                    return false;\n            }\n\n            return true;    \n        } else return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2934859,"reputation":1622,"user_id":2514069,"display_name":"Nikolay Hristov"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1531758763,"creation_date":1388242491,"answer_id":20815893,"question_id":5270272,"body_markdown":"Simply use [SimpleDateFormat][1].\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, java.util.Locale.ENGLISH);\r\n    Date myDate = sdf.parse(&quot;28/12/2013&quot;);\r\n    sdf.applyPattern(&quot;EEE, d MMM yyyy&quot;);\r\n    String sMyDate = sdf.format(myDate);\r\n\r\nThe result is:  **Sat, 28 Dec 2013**\r\n\r\nThe default constructor is taking &quot;the default&quot; [Locale][2], so be careful using it when you need a specific pattern.\r\n\r\n    public SimpleDateFormat(String pattern) {\r\n        this(pattern, Locale.getDefault(Locale.Category.FORMAT));\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Locale.html","title":"How to determine day of week by passing specific date?","body":"<p>Simply use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a>.</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\", java.util.Locale.ENGLISH);\nDate myDate = sdf.parse(\"28/12/2013\");\nsdf.applyPattern(\"EEE, d MMM yyyy\");\nString sMyDate = sdf.format(myDate);\n</code></pre>\n\n<p>The result is:  <strong>Sat, 28 Dec 2013</strong></p>\n\n<p>The default constructor is taking \"the default\" <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Locale.html\" rel=\"noreferrer\">Locale</a>, so be careful using it when you need a specific pattern.</p>\n\n<pre><code>public SimpleDateFormat(String pattern) {\n    this(pattern, Locale.getDefault(Locale.Category.FORMAT));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1412842680,"creation_date":1412777798,"answer_id":26259185,"question_id":5270272,"body_markdown":"Another &quot;fun&quot; way is to use [Doomsday algorithm][1]. It&#39;s a way longer method but it&#39;s also faster if you don&#39;t need to create a Calendar object with a given date.\r\n\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Calendar;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Random;\r\n    \r\n    /**\r\n     *\r\n     * @author alain.janinmanificat\r\n     */\r\n    public class Doomsday {\r\n    \r\n        public static HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; anchorDaysMap = new HashMap&lt;&gt;();\r\n        public static HashMap&lt;Integer, Integer&gt; doomsdayDate = new HashMap&lt;&gt;();\r\n        public static String weekdays[] = new DateFormatSymbols(Locale.FRENCH).getWeekdays();\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) throws ParseException, ParseException {\r\n    \r\n            // Map is fed manually but we can use this to calculate it : http://en.wikipedia.org/wiki/Doomsday_rule#Finding_a_century.27s_anchor_day\r\n            anchorDaysMap.put(Integer.valueOf(0), new ArrayList&lt;Integer&gt;() {\r\n                {\r\n                    add(Integer.valueOf(1700));\r\n                    add(Integer.valueOf(2100));\r\n                    add(Integer.valueOf(2500));\r\n                }\r\n            });\r\n    \r\n            anchorDaysMap.put(Integer.valueOf(2), new ArrayList&lt;Integer&gt;() {\r\n                {\r\n                    add(Integer.valueOf(1600));\r\n                    add(Integer.valueOf(2000));\r\n                    add(Integer.valueOf(2400));\r\n                }\r\n            });\r\n    \r\n            anchorDaysMap.put(Integer.valueOf(3), new ArrayList&lt;Integer&gt;() {\r\n                {\r\n                    add(Integer.valueOf(1500));\r\n                    add(Integer.valueOf(1900));\r\n                    add(Integer.valueOf(2300));\r\n                }\r\n            });\r\n    \r\n            anchorDaysMap.put(Integer.valueOf(5), new ArrayList&lt;Integer&gt;() {\r\n                {\r\n                    add(Integer.valueOf(1800));\r\n                    add(Integer.valueOf(2200));\r\n                    add(Integer.valueOf(2600));\r\n                }\r\n            });\r\n    \r\n            //Some reference date that always land on Doomsday\r\n            doomsdayDate.put(Integer.valueOf(1), Integer.valueOf(3));\r\n            doomsdayDate.put(Integer.valueOf(2), Integer.valueOf(14));\r\n            doomsdayDate.put(Integer.valueOf(3), Integer.valueOf(14));\r\n            doomsdayDate.put(Integer.valueOf(4), Integer.valueOf(4));\r\n            doomsdayDate.put(Integer.valueOf(5), Integer.valueOf(9));\r\n            doomsdayDate.put(Integer.valueOf(6), Integer.valueOf(6));\r\n            doomsdayDate.put(Integer.valueOf(7), Integer.valueOf(4));\r\n            doomsdayDate.put(Integer.valueOf(8), Integer.valueOf(8));\r\n            doomsdayDate.put(Integer.valueOf(9), Integer.valueOf(5));\r\n            doomsdayDate.put(Integer.valueOf(10), Integer.valueOf(10));\r\n            doomsdayDate.put(Integer.valueOf(11), Integer.valueOf(7));\r\n            doomsdayDate.put(Integer.valueOf(12), Integer.valueOf(12));\r\n    \r\n            long time = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                \r\n                //Get a random date\r\n                int year = 1583 + new Random().nextInt(500);\r\n                int month = 1 + new Random().nextInt(12);\r\n                int day = 1 + new Random().nextInt(7);\r\n                \r\n                //Get anchor day and DoomsDay for current date\r\n                int twoDigitsYear = (year % 100);\r\n                int century = year - twoDigitsYear;\r\n                int adForCentury = getADCentury(century);\r\n                int dd = ((int) twoDigitsYear / 12) + twoDigitsYear % 12 + (int) ((twoDigitsYear % 12) / 4);\r\n    \r\n                //Get the gap between current date and a reference DoomsDay date\r\n                int referenceDay = doomsdayDate.get(month);\r\n                int gap = (day - referenceDay) % 7;\r\n\r\n                int result = (gap + adForCentury + dd) % 7;\r\n\r\n                if(result&lt;0){\r\n                    result*=-1;\r\n                }\r\n                String dayDate= weekdays[(result + 1) % 8];\r\n                //System.out.println(&quot;day:&quot; + dayDate);\r\n            }\r\n            System.out.println(&quot;time (ms) : &quot; + (System.currentTimeMillis() - time)); //time (ms) : 80\r\n    \r\n             time = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                Calendar c = Calendar.getInstance();\r\n                //I should have used random date here too, but it&#39;s already slower this way\r\n                c.setTime(new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(&quot;12/04/1861&quot;));\r\n    //            System.out.println(new SimpleDateFormat(&quot;EE&quot;).format(c.getTime()));\r\n                int result2 = c.get(Calendar.DAY_OF_WEEK);\r\n    //            System.out.println(&quot;day idx :&quot;+ result2);\r\n            }\r\n            System.out.println(&quot;time (ms) : &quot; + (System.currentTimeMillis() - time)); //time (ms) : 884\r\n        }\r\n    \r\n        public static int getADCentury(int century) {\r\n            for (Map.Entry&lt;Integer, ArrayList&lt;Integer&gt;&gt; entry : anchorDaysMap.entrySet()) {\r\n                if (entry.getValue().contains(Integer.valueOf(century))) {\r\n                    return entry.getKey();\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Doomsday_rule","title":"How to determine day of week by passing specific date?","body":"<p>Another \"fun\" way is to use <a href=\"http://en.wikipedia.org/wiki/Doomsday_rule\" rel=\"nofollow\">Doomsday algorithm</a>. It's a way longer method but it's also faster if you don't need to create a Calendar object with a given date.</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Random;\n\n/**\n *\n * @author alain.janinmanificat\n */\npublic class Doomsday {\n\n    public static HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; anchorDaysMap = new HashMap&lt;&gt;();\n    public static HashMap&lt;Integer, Integer&gt; doomsdayDate = new HashMap&lt;&gt;();\n    public static String weekdays[] = new DateFormatSymbols(Locale.FRENCH).getWeekdays();\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) throws ParseException, ParseException {\n\n        // Map is fed manually but we can use this to calculate it : http://en.wikipedia.org/wiki/Doomsday_rule#Finding_a_century.27s_anchor_day\n        anchorDaysMap.put(Integer.valueOf(0), new ArrayList&lt;Integer&gt;() {\n            {\n                add(Integer.valueOf(1700));\n                add(Integer.valueOf(2100));\n                add(Integer.valueOf(2500));\n            }\n        });\n\n        anchorDaysMap.put(Integer.valueOf(2), new ArrayList&lt;Integer&gt;() {\n            {\n                add(Integer.valueOf(1600));\n                add(Integer.valueOf(2000));\n                add(Integer.valueOf(2400));\n            }\n        });\n\n        anchorDaysMap.put(Integer.valueOf(3), new ArrayList&lt;Integer&gt;() {\n            {\n                add(Integer.valueOf(1500));\n                add(Integer.valueOf(1900));\n                add(Integer.valueOf(2300));\n            }\n        });\n\n        anchorDaysMap.put(Integer.valueOf(5), new ArrayList&lt;Integer&gt;() {\n            {\n                add(Integer.valueOf(1800));\n                add(Integer.valueOf(2200));\n                add(Integer.valueOf(2600));\n            }\n        });\n\n        //Some reference date that always land on Doomsday\n        doomsdayDate.put(Integer.valueOf(1), Integer.valueOf(3));\n        doomsdayDate.put(Integer.valueOf(2), Integer.valueOf(14));\n        doomsdayDate.put(Integer.valueOf(3), Integer.valueOf(14));\n        doomsdayDate.put(Integer.valueOf(4), Integer.valueOf(4));\n        doomsdayDate.put(Integer.valueOf(5), Integer.valueOf(9));\n        doomsdayDate.put(Integer.valueOf(6), Integer.valueOf(6));\n        doomsdayDate.put(Integer.valueOf(7), Integer.valueOf(4));\n        doomsdayDate.put(Integer.valueOf(8), Integer.valueOf(8));\n        doomsdayDate.put(Integer.valueOf(9), Integer.valueOf(5));\n        doomsdayDate.put(Integer.valueOf(10), Integer.valueOf(10));\n        doomsdayDate.put(Integer.valueOf(11), Integer.valueOf(7));\n        doomsdayDate.put(Integer.valueOf(12), Integer.valueOf(12));\n\n        long time = System.currentTimeMillis();\n        for (int i = 0; i &lt; 100000; i++) {\n\n            //Get a random date\n            int year = 1583 + new Random().nextInt(500);\n            int month = 1 + new Random().nextInt(12);\n            int day = 1 + new Random().nextInt(7);\n\n            //Get anchor day and DoomsDay for current date\n            int twoDigitsYear = (year % 100);\n            int century = year - twoDigitsYear;\n            int adForCentury = getADCentury(century);\n            int dd = ((int) twoDigitsYear / 12) + twoDigitsYear % 12 + (int) ((twoDigitsYear % 12) / 4);\n\n            //Get the gap between current date and a reference DoomsDay date\n            int referenceDay = doomsdayDate.get(month);\n            int gap = (day - referenceDay) % 7;\n\n            int result = (gap + adForCentury + dd) % 7;\n\n            if(result&lt;0){\n                result*=-1;\n            }\n            String dayDate= weekdays[(result + 1) % 8];\n            //System.out.println(\"day:\" + dayDate);\n        }\n        System.out.println(\"time (ms) : \" + (System.currentTimeMillis() - time)); //time (ms) : 80\n\n         time = System.currentTimeMillis();\n        for (int i = 0; i &lt; 100000; i++) {\n            Calendar c = Calendar.getInstance();\n            //I should have used random date here too, but it's already slower this way\n            c.setTime(new SimpleDateFormat(\"dd/MM/yyyy\").parse(\"12/04/1861\"));\n//            System.out.println(new SimpleDateFormat(\"EE\").format(c.getTime()));\n            int result2 = c.get(Calendar.DAY_OF_WEEK);\n//            System.out.println(\"day idx :\"+ result2);\n        }\n        System.out.println(\"time (ms) : \" + (System.currentTimeMillis() - time)); //time (ms) : 884\n    }\n\n    public static int getADCentury(int century) {\n        for (Map.Entry&lt;Integer, ArrayList&lt;Integer&gt;&gt; entry : anchorDaysMap.entrySet()) {\n            if (entry.getValue().contains(Integer.valueOf(century))) {\n                return entry.getKey();\n            }\n        }\n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1509746309,"creation_date":1412799627,"answer_id":26265701,"question_id":5270272,"body_markdown":"# tl;dr\r\n\r\nUsing [java.time][1]…\r\n\r\n    LocalDate.parse(                               // Generate `LocalDate` object from String input.\r\n                 &quot;23/2/2010&quot; ,\r\n                 DateTimeFormatter.ofPattern( &quot;d/M/uuuu&quot; ) \r\n             )                                    \r\n             .getDayOfWeek()                       // Get `DayOfWeek` enum object.\r\n             .getDisplayName(                      // Localize. Generate a String to represent this day-of-week.\r\n                 TextStyle.SHORT_STANDALONE ,      // How long or abbreviated. Some languages have an alternate spelling for &quot;standalone&quot; use (not so in English).\r\n                 Locale.US                         // Or Locale.CANADA_FRENCH and such. Specify a `Locale` to determine (1) human language for translation, and (2) cultural norms for abbreviation, punctuation, etc.\r\n             ) \r\n\r\n&gt;Tue\r\n\r\nSee this [code run live at IdeOne.com][2] (but only `Locale.US` works there).\r\n\r\n\r\n# java.time\r\n\r\nSee my example code above, and see the [correct Answer for java.time by Przemek](https://stackoverflow.com/a/33895008/642706).\r\n\r\n\r\n## Ordinal number\r\n\r\n&gt;if just the day ordinal is desired, how can that be retrieved?\r\n\r\nFor ordinal number, consider passing around the [`DayOfWeek`][4] enum object instead such as [`DayOfWeek.TUESDAY`][5]. Keep in mind that a `DayOfWeek` is a smart object, not just a string or mere integer number. [Using those enum objects][6] makes your code more self-documenting, ensures valid values, and provides [type-safety][7]. \r\n\r\nBut if you insist, [ask `DayOfWeek` for a number][8]. You get 1-7 for Monday-Sunday per the [ISO 8601][3] standard.\r\n\r\n    int ordinal = myLocalDate.getDayOfWeek().getValue() ;\r\n\r\n\r\n----------\r\n\r\n\r\n# Joda-Time\r\n\r\n**UPDATE:** The Joda-Time project is now in maintenance mode. The team advises migrating to the java.time classes. The java.time framework is built into Java 8 (as well as [back-ported to Java 6 &amp; 7][9] and [further adapted to Android][10]). \r\n\r\nHere is example code using the [Joda-Time][11] library version 2.4, as mentioned in the [accepted answer by Bozho][12]. Joda-Time is far superior to the java.util.Date/.Calendar classes bundled with Java.\r\n\r\n## `LocalDate`\r\n\r\nJoda-Time offers the [`LocalDate`][13] class to represent a date-only without any time-of-day or time zone. Just what this Question calls for. The old java.util.Date/.Calendar classes bundled with Java lack this concept.\r\n\r\n## Parse\r\n\r\nParse the string into a date value.\r\n\r\n    String input = &quot;23/2/2010&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormat.forPattern( &quot;d/M/yyyy&quot; );\r\n    LocalDate localDate = formatter.parseLocalDate( input );\r\n\r\n## Extract \r\n\r\nExtract from the date value the day of week number and name. \r\n\r\n    int dayOfWeek = localDate.getDayOfWeek(); // Follows ISO 8601 standard, where Monday = 1, Sunday = 7.\r\n    Locale locale = Locale.US;  // Locale specifies the human language to use in determining day-of-week name (Tuesday in English versus Mardi in French).\r\n    DateTimeFormatter formatterOutput = DateTimeFormat.forPattern( &quot;E&quot; ).withLocale( locale );\r\n    String output = formatterOutput.print( localDate ); // &#39;E&#39; is code for abbreviation of day-of-week name. See Joda-Time doc.\r\n    String outputQu&#233;b&#233;cois = formatterOutput.withLocale( Locale.CANADA_FRENCH ).print( localDate );\r\n\r\n\r\n## Dump\r\n\r\nDump to console.\r\n\r\n    System.out.println( &quot;input: &quot; + input );\r\n    System.out.println( &quot;localDate: &quot; + localDate ); // Defaults to ISO 8601 formatted strings.\r\n    System.out.println( &quot;dayOfWeek: &quot; + dayOfWeek );\r\n    System.out.println( &quot;output: &quot; + output );\r\n    System.out.println( &quot;outputQu&#233;b&#233;cois: &quot; + outputQu&#233;b&#233;cois );\r\n\r\n## Run\r\n\r\nWhen run.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    input: 23/2/2010\r\n    localDate: 2010-02-23\r\n    dayOfWeek: 2\r\n    output: Tue\r\n    outputQu&#233;b&#233;cois: mar.\r\n\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\r\n  [2]: https://www.ideone.com/YZoZHd\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/time/DayOfWeek.html\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/time/DayOfWeek.html#TUESDAY\r\n  [6]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [7]: https://en.wikipedia.org/wiki/Type_safety\r\n  [8]: https://docs.oracle.com/javase/9/docs/api/java/time/DayOfWeek.html#valueOf-java.lang.String-\r\n  [9]: http://www.threeten.org/threetenbp/\r\n  [10]: https://github.com/JakeWharton/ThreeTenABP\r\n  [11]: http://www.joda.org/joda-time/\r\n  [12]: https://stackoverflow.com/a/5270292/642706\r\n  [13]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html","title":"How to determine day of week by passing specific date?","body":"<h1>tl;dr</h1>\n\n<p>Using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a>…</p>\n\n<pre><code>LocalDate.parse(                               // Generate `LocalDate` object from String input.\n             \"23/2/2010\" ,\n             DateTimeFormatter.ofPattern( \"d/M/uuuu\" ) \n         )                                    \n         .getDayOfWeek()                       // Get `DayOfWeek` enum object.\n         .getDisplayName(                      // Localize. Generate a String to represent this day-of-week.\n             TextStyle.SHORT_STANDALONE ,      // How long or abbreviated. Some languages have an alternate spelling for \"standalone\" use (not so in English).\n             Locale.US                         // Or Locale.CANADA_FRENCH and such. Specify a `Locale` to determine (1) human language for translation, and (2) cultural norms for abbreviation, punctuation, etc.\n         ) \n</code></pre>\n\n<blockquote>\n  <p>Tue</p>\n</blockquote>\n\n<p>See this <a href=\"https://www.ideone.com/YZoZHd\" rel=\"noreferrer\">code run live at IdeOne.com</a> (but only <code>Locale.US</code> works there).</p>\n\n<h1>java.time</h1>\n\n<p>See my example code above, and see the <a href=\"https://stackoverflow.com/a/33895008/642706\">correct Answer for java.time by Przemek</a>.</p>\n\n<h2>Ordinal number</h2>\n\n<blockquote>\n  <p>if just the day ordinal is desired, how can that be retrieved?</p>\n</blockquote>\n\n<p>For ordinal number, consider passing around the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/DayOfWeek.html\" rel=\"noreferrer\"><code>DayOfWeek</code></a> enum object instead such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/DayOfWeek.html#TUESDAY\" rel=\"noreferrer\"><code>DayOfWeek.TUESDAY</code></a>. Keep in mind that a <code>DayOfWeek</code> is a smart object, not just a string or mere integer number. <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"noreferrer\">Using those enum objects</a> makes your code more self-documenting, ensures valid values, and provides <a href=\"https://en.wikipedia.org/wiki/Type_safety\" rel=\"noreferrer\">type-safety</a>. </p>\n\n<p>But if you insist, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/DayOfWeek.html#valueOf-java.lang.String-\" rel=\"noreferrer\">ask <code>DayOfWeek</code> for a number</a>. You get 1-7 for Monday-Sunday per the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> standard.</p>\n\n<pre><code>int ordinal = myLocalDate.getDayOfWeek().getValue() ;\n</code></pre>\n\n<hr>\n\n<h1>Joda-Time</h1>\n\n<p><strong>UPDATE:</strong> The Joda-Time project is now in maintenance mode. The team advises migrating to the java.time classes. The java.time framework is built into Java 8 (as well as <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">back-ported to Java 6 &amp; 7</a> and <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">further adapted to Android</a>). </p>\n\n<p>Here is example code using the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> library version 2.4, as mentioned in the <a href=\"https://stackoverflow.com/a/5270292/642706\">accepted answer by Bozho</a>. Joda-Time is far superior to the java.util.Date/.Calendar classes bundled with Java.</p>\n\n<h2><code>LocalDate</code></h2>\n\n<p>Joda-Time offers the <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class to represent a date-only without any time-of-day or time zone. Just what this Question calls for. The old java.util.Date/.Calendar classes bundled with Java lack this concept.</p>\n\n<h2>Parse</h2>\n\n<p>Parse the string into a date value.</p>\n\n<pre><code>String input = \"23/2/2010\";\nDateTimeFormatter formatter = DateTimeFormat.forPattern( \"d/M/yyyy\" );\nLocalDate localDate = formatter.parseLocalDate( input );\n</code></pre>\n\n<h2>Extract</h2>\n\n<p>Extract from the date value the day of week number and name. </p>\n\n<pre><code>int dayOfWeek = localDate.getDayOfWeek(); // Follows ISO 8601 standard, where Monday = 1, Sunday = 7.\nLocale locale = Locale.US;  // Locale specifies the human language to use in determining day-of-week name (Tuesday in English versus Mardi in French).\nDateTimeFormatter formatterOutput = DateTimeFormat.forPattern( \"E\" ).withLocale( locale );\nString output = formatterOutput.print( localDate ); // 'E' is code for abbreviation of day-of-week name. See Joda-Time doc.\nString outputQuébécois = formatterOutput.withLocale( Locale.CANADA_FRENCH ).print( localDate );\n</code></pre>\n\n<h2>Dump</h2>\n\n<p>Dump to console.</p>\n\n<pre><code>System.out.println( \"input: \" + input );\nSystem.out.println( \"localDate: \" + localDate ); // Defaults to ISO 8601 formatted strings.\nSystem.out.println( \"dayOfWeek: \" + dayOfWeek );\nSystem.out.println( \"output: \" + output );\nSystem.out.println( \"outputQuébécois: \" + outputQuébécois );\n</code></pre>\n\n<h2>Run</h2>\n\n<p>When run.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>input: 23/2/2010\nlocalDate: 2010-02-23\ndayOfWeek: 2\noutput: Tue\noutputQuébécois: mar.\n</code></pre>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1428495162,"creation_date":1428495162,"answer_id":29514282,"question_id":5270272,"body_markdown":"    private String getDay(Date date){\r\n\t\t\r\n\t\tSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;EEEE&quot;);\r\n\t\t//System.out.println(&quot;DAY &quot;+simpleDateFormat.format(date).toUpperCase());\t\t\t\t\t\t\r\n\t\treturn simpleDateFormat.format(date).toUpperCase();\r\n\t}\r\n\t\r\n\tprivate String getDay(String dateStr){\r\n\t\t//dateStr must be in DD-MM-YYYY Formate\r\n\t\tDate date = null;\r\n\t\tString day=null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tdate = new SimpleDateFormat(&quot;DD-MM-YYYY&quot;).parse(dateStr);\r\n\t\t\t\r\n\t\t\tSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;EEEE&quot;);\r\n\t\t\t//System.out.println(&quot;DAY &quot;+simpleDateFormat.format(date).toUpperCase());\r\n\t\t\tday = simpleDateFormat.format(date).toUpperCase();\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (ParseException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn day;\r\n\t}","title":"How to determine day of week by passing specific date?","body":"<pre><code>private String getDay(Date date){\n\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"EEEE\");\n    //System.out.println(\"DAY \"+simpleDateFormat.format(date).toUpperCase());                       \n    return simpleDateFormat.format(date).toUpperCase();\n}\n\nprivate String getDay(String dateStr){\n    //dateStr must be in DD-MM-YYYY Formate\n    Date date = null;\n    String day=null;\n\n    try {\n        date = new SimpleDateFormat(\"DD-MM-YYYY\").parse(dateStr);\n\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"EEEE\");\n        //System.out.println(\"DAY \"+simpleDateFormat.format(date).toUpperCase());\n        day = simpleDateFormat.format(date).toUpperCase();\n\n\n    } catch (ParseException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n\n    return day;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2248845,"reputation":7211,"user_id":1981559,"accept_rate":100,"display_name":"Przemek"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1535439499,"creation_date":1448371790,"answer_id":33895008,"question_id":5270272,"body_markdown":"# java.time\r\n\r\nUsing [`java.time`][1] framework built into Java 8 and later.\r\n\r\nThe [`DayOfWeek`][2] [enum][3] can generate a String of the day’s name automatically localized to the human language and cultural norms of a [`Locale`][4]. Specify a [`TextStyle`][5] to indicate you want long form or abbreviated name.\r\n\r\n    import java.time.LocalDate\r\n    import java.time.format.DateTimeFormatter\r\n    import java.time.format.TextStyle\r\n    import java.util.Locale\r\n    import java.time.DayOfWeek;\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;d/M/yyyy&quot;);\r\n    LocalDate date = LocalDate.parse(&quot;23/2/2010&quot;, formatter); // LocalDate = 2010-02-23\r\n    DayOfWeek dow = date.getDayOfWeek();  // Extracts a `DayOfWeek` enum object.\r\n    String output = dow.getDisplayName(TextStyle.SHORT, Locale.US); // String = Tue\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\r\n  [3]: http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/format/TextStyle.html","title":"How to determine day of week by passing specific date?","body":"<h1>java.time</h1>\n\n<p>Using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><code>java.time</code></a> framework built into Java 8 and later.</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\" rel=\"noreferrer\"><code>DayOfWeek</code></a> <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"noreferrer\">enum</a> can generate a String of the day’s name automatically localized to the human language and cultural norms of a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"noreferrer\"><code>Locale</code></a>. Specify a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/TextStyle.html\" rel=\"noreferrer\"><code>TextStyle</code></a> to indicate you want long form or abbreviated name.</p>\n\n<pre><code>import java.time.LocalDate\nimport java.time.format.DateTimeFormatter\nimport java.time.format.TextStyle\nimport java.util.Locale\nimport java.time.DayOfWeek;\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"d/M/yyyy\");\nLocalDate date = LocalDate.parse(\"23/2/2010\", formatter); // LocalDate = 2010-02-23\nDayOfWeek dow = date.getDayOfWeek();  // Extracts a `DayOfWeek` enum object.\nString output = dow.getDisplayName(TextStyle.SHORT, Locale.US); // String = Tue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":375312,"reputation":91,"user_id":726062,"accept_rate":0,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455113380,"creation_date":1451131233,"answer_id":34471142,"question_id":5270272,"body_markdown":"    Calendar cal = Calendar.getInstance(desired date);\r\n    cal.setTimeInMillis(System.currentTimeMillis());\r\n    int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);\r\n\r\nGet the day value by providing the current time stamp.","title":"How to determine day of week by passing specific date?","body":"<pre><code>Calendar cal = Calendar.getInstance(desired date);\ncal.setTimeInMillis(System.currentTimeMillis());\nint dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);\n</code></pre>\n\n<p>Get the day value by providing the current time stamp.</p>\n"},{"tags":[],"owner":{"account_id":7199332,"reputation":29,"user_id":5497006,"display_name":"Ayarnish "},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1455188240,"creation_date":1455188240,"answer_id":35337438,"question_id":5270272,"body_markdown":"    LocalDate date=LocalDate.now();\r\n    \r\n    System.out.println(date.getDayOfWeek());//prints THURSDAY\r\n    System.out.println(date.getDayOfWeek().getDisplayName(TextStyle.SHORT, Locale.US) );  //prints Thu   \r\n    java.time.DayOfWeek is a enum which returns the singleton instance for the day-of-week of the weekday of the date.","title":"How to determine day of week by passing specific date?","body":"<pre><code>LocalDate date=LocalDate.now();\n\nSystem.out.println(date.getDayOfWeek());//prints THURSDAY\nSystem.out.println(date.getDayOfWeek().getDisplayName(TextStyle.SHORT, Locale.US) );  //prints Thu   \njava.time.DayOfWeek is a enum which returns the singleton instance for the day-of-week of the weekday of the date.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3202129,"reputation":585,"user_id":2703995,"accept_rate":43,"display_name":"SHB"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1466728197,"creation_date":1466719524,"answer_id":38002671,"question_id":5270272,"body_markdown":"You can try the following code:\r\n\r\n    import java.time.*;\r\n\r\n    public class Test{\r\n       public static void main(String[] args) {\r\n\t      DayOfWeek dow = LocalDate.of(2010,Month.FEBRUARY,23).getDayOfWeek();\r\n\t      String s = String.valueOf(dow);\r\n\t      System.out.println(String.format(&quot;%.3s&quot;,s));\r\n       }\r\n    }","title":"How to determine day of week by passing specific date?","body":"<p>You can try the following code:</p>\n\n<pre><code>import java.time.*;\n\npublic class Test{\n   public static void main(String[] args) {\n      DayOfWeek dow = LocalDate.of(2010,Month.FEBRUARY,23).getDayOfWeek();\n      String s = String.valueOf(dow);\n      System.out.println(String.format(\"%.3s\",s));\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1432011,"reputation":91,"user_id":1354230,"display_name":"hitesh"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1473315950,"creation_date":1473315950,"answer_id":39383891,"question_id":5270272,"body_markdown":"    public class TryDateFormats {\r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\tString month = &quot;08&quot;;\r\n    \t\tString day = &quot;05&quot;;\r\n    \t\tString year = &quot;2015&quot;;\r\n    \t\tString inputDateStr = String.format(&quot;%s/%s/%s&quot;, day, month, year);\r\n    \t\tDate inputDate = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(inputDateStr);\r\n    \t\tCalendar calendar = Calendar.getInstance();\r\n    \t\tcalendar.setTime(inputDate);\r\n    \t\tString dayOfWeek = calendar.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.US).toUpperCase();\r\n    \t\tSystem.out.println(dayOfWeek);\r\n    \t}\r\n    }\r\n\r\n","title":"How to determine day of week by passing specific date?","body":"<pre><code>public class TryDateFormats {\n    public static void main(String[] args) throws ParseException {\n        String month = \"08\";\n        String day = \"05\";\n        String year = \"2015\";\n        String inputDateStr = String.format(\"%s/%s/%s\", day, month, year);\n        Date inputDate = new SimpleDateFormat(\"dd/MM/yyyy\").parse(inputDateStr);\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(inputDate);\n        String dayOfWeek = calendar.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.US).toUpperCase();\n        System.out.println(dayOfWeek);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9883946,"reputation":69,"user_id":7319069,"display_name":"Ramesh Thoutam"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1483086728,"creation_date":1483086728,"answer_id":41393098,"question_id":5270272,"body_markdown":"    ...\r\n    import java.time.LocalDate;\r\n    ...\r\n    //String month = in.next();\r\n    int mm = in.nextInt();\r\n    //String day = in.next();\r\n    int dd = in.nextInt();\r\n    //String year = in.next();\r\n    int yy = in.nextInt();\r\n    in.close();\r\n    LocalDate dt = LocalDate.of(yy, mm, dd);\r\n    System.out.print(dt.getDayOfWeek());","title":"How to determine day of week by passing specific date?","body":"<pre><code>...\nimport java.time.LocalDate;\n...\n//String month = in.next();\nint mm = in.nextInt();\n//String day = in.next();\nint dd = in.nextInt();\n//String year = in.next();\nint yy = in.nextInt();\nin.close();\nLocalDate dt = LocalDate.of(yy, mm, dd);\nSystem.out.print(dt.getDayOfWeek());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6413483,"reputation":1053,"user_id":4972367,"display_name":"Hardik Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509644469,"creation_date":1509643908,"answer_id":47081345,"question_id":5270272,"body_markdown":"You can use below method to get Day of the Week by passing a specific date,\r\n\r\n **Here for the set method of Calendar class, Tricky part is the index for the month parameter will starts from 0**.\r\n\r\n    public static String getDay(int day, int month, int year) {\r\n    \r\n            Calendar cal = Calendar.getInstance();\r\n            \r\n            if(month==1){\r\n                cal.set(year,0,day);\r\n            }else{\r\n                cal.set(year,month-1,day);\r\n            }\r\n            \r\n            int dow = cal.get(Calendar.DAY_OF_WEEK);\r\n            \r\n            switch (dow) {\r\n    \t\tcase 1:\r\n    \t\t\treturn &quot;SUNDAY&quot;;\r\n    \t\tcase 2:\r\n    \t\t\treturn &quot;MONDAY&quot;;\r\n    \t\tcase 3:\r\n    \t\t\treturn &quot;TUESDAY&quot;;\r\n    \t\tcase 4:\r\n    \t\t\treturn &quot;WEDNESDAY&quot;;\r\n    \t\tcase 5:\r\n    \t\t\treturn &quot;THURSDAY&quot;;\r\n    \t\tcase 6:\r\n    \t\t\treturn &quot;FRIDAY&quot;;\r\n    \t\tcase 7:\r\n    \t\t\treturn &quot;SATURDAY&quot;;\r\n    \t\tdefault:\r\n    \t\t\tSystem.out.println(&quot;GO To Hell....&quot;);\r\n    \t\t}\r\n            \r\n            return null;\r\n        }","title":"How to determine day of week by passing specific date?","body":"<p>You can use below method to get Day of the Week by passing a specific date,</p>\n\n<p><strong>Here for the set method of Calendar class, Tricky part is the index for the month parameter will starts from 0</strong>.</p>\n\n<pre><code>public static String getDay(int day, int month, int year) {\n\n        Calendar cal = Calendar.getInstance();\n\n        if(month==1){\n            cal.set(year,0,day);\n        }else{\n            cal.set(year,month-1,day);\n        }\n\n        int dow = cal.get(Calendar.DAY_OF_WEEK);\n\n        switch (dow) {\n        case 1:\n            return \"SUNDAY\";\n        case 2:\n            return \"MONDAY\";\n        case 3:\n            return \"TUESDAY\";\n        case 4:\n            return \"WEDNESDAY\";\n        case 5:\n            return \"THURSDAY\";\n        case 6:\n            return \"FRIDAY\";\n        case 7:\n            return \"SATURDAY\";\n        default:\n            System.out.println(\"GO To Hell....\");\n        }\n\n        return null;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12165811,"reputation":31,"user_id":8882162,"display_name":"Noone"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551882432,"creation_date":1509731154,"answer_id":47101682,"question_id":5270272,"body_markdown":"Program to find the day of the week by giving user input date month and year using `java.util.scanner` package:\r\n   \r\n    import java.util.Scanner;\r\n\r\n    public class Calender {\r\n        public static String getDay(String day, String month, String year) {\r\n\r\n            int ym, yp, d, ay, a = 0;\r\n            int by = 20;\r\n            int[] y = new int[]{6, 4, 2, 0};\r\n            int[] m = new int []{0, 3, 3, 6, 1, 4, 6, 2, 5, 0, 3, 5};\r\n\r\n            String[] wd = {&quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;};\r\n\r\n            int gd = Integer.parseInt(day);\r\n            int gm = Integer.parseInt(month);\r\n            int gy = Integer.parseInt(year);\r\n\r\n            ym = gy % 100;\r\n            yp = ym / 4;\r\n            ay = gy / 100;\r\n\r\n            while (ay != by) {\r\n                by = by + 1;\r\n                a = a + 1;\r\n\r\n                if(a == 4) {\r\n                    a = 0;\r\n                }\r\n            }\r\n\r\n            if ((ym % 4 == 0) &amp;&amp; (gm == 2)) {\r\n                d = (gd + m[gm - 1] + ym + yp + y[a] - 1) % 7;\r\n            } else\r\n                d = (gd + m[gm - 1] + ym + yp + y[a]) % 7;\r\n\r\n            return wd[d];\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n\r\n            Scanner in = new Scanner(System.in);\r\n\r\n            String day = in.next();\r\n            String month = in.next();\r\n            String year = in.next();\r\n         \r\n            System.out.println(getDay(day, month, year));\r\n        }\r\n    }","title":"How to determine day of week by passing specific date?","body":"<p>Program to find the day of the week by giving user input date month and year using <code>java.util.scanner</code> package:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Calender {\n    public static String getDay(String day, String month, String year) {\n\n        int ym, yp, d, ay, a = 0;\n        int by = 20;\n        int[] y = new int[]{6, 4, 2, 0};\n        int[] m = new int []{0, 3, 3, 6, 1, 4, 6, 2, 5, 0, 3, 5};\n\n        String[] wd = {\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"};\n\n        int gd = Integer.parseInt(day);\n        int gm = Integer.parseInt(month);\n        int gy = Integer.parseInt(year);\n\n        ym = gy % 100;\n        yp = ym / 4;\n        ay = gy / 100;\n\n        while (ay != by) {\n            by = by + 1;\n            a = a + 1;\n\n            if(a == 4) {\n                a = 0;\n            }\n        }\n\n        if ((ym % 4 == 0) &amp;&amp; (gm == 2)) {\n            d = (gd + m[gm - 1] + ym + yp + y[a] - 1) % 7;\n        } else\n            d = (gd + m[gm - 1] + ym + yp + y[a]) % 7;\n\n        return wd[d];\n    }\n\n    public static void main(String[] args) {\n\n        Scanner in = new Scanner(System.in);\n\n        String day = in.next();\n        String month = in.next();\n        String year = in.next();\n\n        System.out.println(getDay(day, month, year));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3023899,"reputation":207,"user_id":2564329,"display_name":"rab"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1513652319,"creation_date":1513652319,"answer_id":47879419,"question_id":5270272,"body_markdown":"Can use the following code snippet for input like (day = &quot;08&quot;,  month = &quot;05&quot;, year = &quot;2015&quot; and output will be &quot;WEDNESDAY&quot;)\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.set(Calendar.DAY_OF_MONTH, Integer.parseInt(day));\r\n    calendar.set(Calendar.MONTH, (Integer.parseInt(month)-1));\r\n    calendar.set(Calendar.YEAR, Integer.parseInt(year));\r\n    String dayOfWeek = calendar.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.US).toUpperCase();","title":"How to determine day of week by passing specific date?","body":"<p>Can use the following code snippet for input like (day = \"08\",  month = \"05\", year = \"2015\" and output will be \"WEDNESDAY\")</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.set(Calendar.DAY_OF_MONTH, Integer.parseInt(day));\ncalendar.set(Calendar.MONTH, (Integer.parseInt(month)-1));\ncalendar.set(Calendar.YEAR, Integer.parseInt(year));\nString dayOfWeek = calendar.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.US).toUpperCase();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6413483,"reputation":1053,"user_id":4972367,"display_name":"Hardik Patel"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1514131532,"creation_date":1514131532,"answer_id":47962135,"question_id":5270272,"body_markdown":"**Below is the two line of snippet using Java 1.8 Time API for your Requirement.**\r\n\r\n    LocalDate localDate = LocalDate.of(Integer.valueOf(year),Integer.valueOf(month),Integer.valueOf(day));\r\n    String dayOfWeek = String.valueOf(localDate.getDayOfWeek());","title":"How to determine day of week by passing specific date?","body":"<p><strong>Below is the two line of snippet using Java 1.8 Time API for your Requirement.</strong></p>\n\n<pre><code>LocalDate localDate = LocalDate.of(Integer.valueOf(year),Integer.valueOf(month),Integer.valueOf(day));\nString dayOfWeek = String.valueOf(localDate.getDayOfWeek());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517933331,"creation_date":1517933331,"answer_id":48647232,"question_id":5270272,"body_markdown":"One line answer:\r\n\r\n    return LocalDate.parse(&quot;06/02/2018&quot;,DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)).getDayOfWeek().name();\r\n    \r\n\r\nUsage Example:\r\n\r\n    public static String getDayOfWeek(String date){\r\n      return LocalDate.parse(date, DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)).getDayOfWeek().name();\r\n    }\r\n\r\n    public static void callerMethod(){\r\n       System.out.println(getDayOfWeek(&quot;06/02/2018&quot;)); //TUESDAY\r\n    }","title":"How to determine day of week by passing specific date?","body":"<p>One line answer:</p>\n\n<pre><code>return LocalDate.parse(\"06/02/2018\",DateTimeFormatter.ofPattern(\"dd/MM/yyyy\")).getDayOfWeek().name();\n</code></pre>\n\n<p>Usage Example:</p>\n\n<pre><code>public static String getDayOfWeek(String date){\n  return LocalDate.parse(date, DateTimeFormatter.ofPattern(\"dd/MM/yyyy\")).getDayOfWeek().name();\n}\n\npublic static void callerMethod(){\n   System.out.println(getDayOfWeek(\"06/02/2018\")); //TUESDAY\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2079767,"reputation":6300,"user_id":1852033,"accept_rate":77,"display_name":"Leo Ufimtsev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524164596,"creation_date":1524164596,"answer_id":49928433,"question_id":5270272,"body_markdown":"Calendar class has build-in displayName functionality:\r\n\r\n\r\n    Calendar.getInstance().getDisplayName(Calendar.DAY_OF_WEEK, Calendar.SHORT, Locale.getDefault()); // Thu   \r\n\r\n    Calendar.SHORT -&gt; Thu\r\n    Calendar.LONG_FORMAT -&gt; Thursday\r\n   \r\nAvailable since Java 1.6.  See also [Oracle documentation][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html#getDisplayName-int-int-java.util.Locale-","title":"How to determine day of week by passing specific date?","body":"<p>Calendar class has build-in displayName functionality:</p>\n\n<pre><code>Calendar.getInstance().getDisplayName(Calendar.DAY_OF_WEEK, Calendar.SHORT, Locale.getDefault()); // Thu   \n\nCalendar.SHORT -&gt; Thu\nCalendar.LONG_FORMAT -&gt; Thursday\n</code></pre>\n\n<p>Available since Java 1.6.  See also <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html#getDisplayName-int-int-java.util.Locale-\" rel=\"nofollow noreferrer\">Oracle documentation</a></p>\n"},{"tags":[],"owner":{"account_id":13947020,"reputation":11,"user_id":10071531,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531408986,"creation_date":1531408986,"answer_id":51309369,"question_id":5270272,"body_markdown":"    //to get day of any date\r\n    \r\n    import java.util.Scanner; \r\n    import java.util.Calendar; \r\n    import java.util.Date;\r\n    \r\n    public class Show {\r\n    \r\n    \tpublic static String getDay(String day,String month, String year){\r\n    \r\n    \r\n        \t\tString input_date = month+&quot;/&quot;+day+&quot;/&quot;+year;\r\n    \r\n        \t\tDate now = new Date(input_date);\r\n        \t\tCalendar calendar = Calendar.getInstance();\r\n        \t\tcalendar.setTime(now);\r\n        \t\tint final_day = (calendar.get(Calendar.DAY_OF_WEEK));\r\n    \r\n        \t\tString finalDay[]={&quot;SUNDAY&quot;,&quot;MONDAY&quot;,&quot;TUESDAY&quot;,&quot;WEDNESDAY&quot;,&quot;THURSDAY&quot;,&quot;FRIDAY&quot;,&quot;SATURDAY&quot;};\r\n    \r\n        \t\tSystem.out.println(finalDay[final_day-1]);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) { \r\n        \t\tScanner in = new Scanner(System.in); \r\n        \t\tString month = in.next(); \r\n    \t\tString day = in.next();\r\n        \t\tString year = in.next();\r\n    \r\n        \t\tgetDay(day, month, year);\r\n    \t}\r\n    \r\n    }","title":"How to determine day of week by passing specific date?","body":"<pre><code>//to get day of any date\n\nimport java.util.Scanner; \nimport java.util.Calendar; \nimport java.util.Date;\n\npublic class Show {\n\n    public static String getDay(String day,String month, String year){\n\n\n            String input_date = month+\"/\"+day+\"/\"+year;\n\n            Date now = new Date(input_date);\n            Calendar calendar = Calendar.getInstance();\n            calendar.setTime(now);\n            int final_day = (calendar.get(Calendar.DAY_OF_WEEK));\n\n            String finalDay[]={\"SUNDAY\",\"MONDAY\",\"TUESDAY\",\"WEDNESDAY\",\"THURSDAY\",\"FRIDAY\",\"SATURDAY\"};\n\n            System.out.println(finalDay[final_day-1]);\n\n    }\n\n    public static void main(String[] args) { \n            Scanner in = new Scanner(System.in); \n            String month = in.next(); \n        String day = in.next();\n            String year = in.next();\n\n            getDay(day, month, year);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9444600,"reputation":107,"user_id":7203730,"display_name":"Spriha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1551789742,"creation_date":1531649303,"answer_id":51347348,"question_id":5270272,"body_markdown":"Adding another way of doing it exactly what the OP asked for, without using latest inbuilt methods:\r\n\r\n\r\n    public static String getDay(String inputDate) {\r\n        String dayOfWeek = null;\r\n        String[] days = new String[]{&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;};\r\n\r\n        try {\r\n            SimpleDateFormat format1 = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n            Date dt1 = format1.parse(inputDate);\r\n            dayOfWeek = days[dt1.getDay() - 1];\r\n        } catch(Exception e) {\r\n            System.out.println(e);\r\n        }\r\n\r\n        return dayOfWeek;\r\n    }","title":"How to determine day of week by passing specific date?","body":"<p>Adding another way of doing it exactly what the OP asked for, without using latest inbuilt methods:</p>\n\n<pre><code>public static String getDay(String inputDate) {\n    String dayOfWeek = null;\n    String[] days = new String[]{\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"};\n\n    try {\n        SimpleDateFormat format1 = new SimpleDateFormat(\"dd/MM/yyyy\");\n        Date dt1 = format1.parse(inputDate);\n        dayOfWeek = days[dt1.getDay() - 1];\n    } catch(Exception e) {\n        System.out.println(e);\n    }\n\n    return dayOfWeek;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9366175,"reputation":189,"user_id":8151896,"display_name":"Ravi Solanki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538292048,"creation_date":1538292048,"answer_id":52575601,"question_id":5270272,"body_markdown":"There is a challenge on hackerrank [Java Date and Time ][1]\n\npersonally, I prefer the LocalDate class.\n\n 1. Import java.time.LocalDate\n 2. Retrieve localDate by using &quot;of&quot; method which takes 3 arguments in\n    &quot;int&quot; format.\n 3. finally, get the name of that day using &quot;getDayOfWeek&quot; method.\n\nThere is one video on this challenge. \n\n [Java Date and Time Hackerrank solution][2]\n\nI hope it will help :)\n\n  [1]: https://www.hackerrank.com/challenges/java-date-and-time/problem\n  [2]: https://www.youtube.com/watch?v=6eiN_1P0Hk8&amp;lc=Ugxd6MOR80mcO7XjU_R4AaABAg","title":"How to determine day of week by passing specific date?","body":"<p>There is a challenge on hackerrank <a href=\"https://www.hackerrank.com/challenges/java-date-and-time/problem\" rel=\"nofollow noreferrer\">Java Date and Time </a></p>\n<p>personally, I prefer the LocalDate class.</p>\n<ol>\n<li>Import java.time.LocalDate</li>\n<li>Retrieve localDate by using &quot;of&quot; method which takes 3 arguments in\n&quot;int&quot; format.</li>\n<li>finally, get the name of that day using &quot;getDayOfWeek&quot; method.</li>\n</ol>\n<p>There is one video on this challenge.</p>\n<p><a href=\"https://www.youtube.com/watch?v=6eiN_1P0Hk8&amp;lc=Ugxd6MOR80mcO7XjU_R4AaABAg\" rel=\"nofollow noreferrer\">Java Date and Time Hackerrank solution</a></p>\n<p>I hope it will help :)</p>\n"},{"tags":[],"owner":{"account_id":11897952,"reputation":1170,"user_id":8706759,"display_name":"Ganesh Chowdhary Sadanala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551698187,"creation_date":1542524536,"answer_id":53358627,"question_id":5270272,"body_markdown":"This works correctly...\r\n\r\n    java.time.LocalDate; //package related to time and date\r\n\r\nIt provides inbuilt method getDayOfWeek() to get the day of a particular week:\r\n\r\n    int t;\r\n    Scanner s = new Scanner(System.in);\r\n    t = s.nextInt();\r\n    s.nextLine();\r\n     while(t--&gt;0) { \r\n        int d, m, y;\r\n        String ss = s.nextLine();\r\n        String []sss = ss.split(&quot; &quot;);\r\n        d=Integer.parseInt(sss[0]);\r\n        m = Integer.parseInt(sss[1]);\r\n        y = Integer.parseInt(sss[2]);\r\n\r\n        LocalDate l = LocalDate.of(y, m, d); //method to get the localdate instance\r\n        System.out.println(l.getDayOfWeek()); //this returns the enum DayOfWeek\r\n\t\t        \r\nTo assign the value of enum `l.getDayOfWeek()` to a string, you could probably use the method of Enum called `name()` that returns the value of enum object.                        ","title":"How to determine day of week by passing specific date?","body":"<p>This works correctly...</p>\n\n<pre><code>java.time.LocalDate; //package related to time and date\n</code></pre>\n\n<p>It provides inbuilt method getDayOfWeek() to get the day of a particular week:</p>\n\n<pre><code>int t;\nScanner s = new Scanner(System.in);\nt = s.nextInt();\ns.nextLine();\n while(t--&gt;0) { \n    int d, m, y;\n    String ss = s.nextLine();\n    String []sss = ss.split(\" \");\n    d=Integer.parseInt(sss[0]);\n    m = Integer.parseInt(sss[1]);\n    y = Integer.parseInt(sss[2]);\n\n    LocalDate l = LocalDate.of(y, m, d); //method to get the localdate instance\n    System.out.println(l.getDayOfWeek()); //this returns the enum DayOfWeek\n</code></pre>\n\n<p>To assign the value of enum <code>l.getDayOfWeek()</code> to a string, you could probably use the method of Enum called <code>name()</code> that returns the value of enum object.                        </p>\n"},{"tags":[],"owner":{"account_id":10716441,"reputation":587,"user_id":7886891,"display_name":"masokaya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560365934,"creation_date":1560365621,"answer_id":56568673,"question_id":5270272,"body_markdown":"  method below retrieves seven days and return short name of days in List Array in Kotlin though, you can just reformat then in Java format, just presenting idea how Calendar  can return short name\r\n   \r\n\r\n    private fun getDayDisplayName():List&lt;String&gt;{\r\n            val calendar = Calendar.getInstance()\r\n            val dates= mutableListOf&lt;String&gt;()\r\n            dates.clear()\r\n            val s=   calendar.getDisplayName(DAY_OF_WEEK, SHORT, Locale.US)\r\n            dates.add(s)\r\n            for(i in 0..5){\r\n                calendar.roll( Calendar.DATE, -1)\r\n                dates.add(calendar.getDisplayName(DAY_OF_WEEK, SHORT, Locale.US))\r\n            }\r\n            return dates.toList()\r\n        }\r\n\r\nout put results like\r\n\r\n    I/System.out: Wed\r\n        Tue\r\n        Mon\r\n        Sun\r\n    I/System.out: Sat\r\n        Fri\r\n        Thu","title":"How to determine day of week by passing specific date?","body":"<p>method below retrieves seven days and return short name of days in List Array in Kotlin though, you can just reformat then in Java format, just presenting idea how Calendar  can return short name</p>\n\n<pre><code>private fun getDayDisplayName():List&lt;String&gt;{\n        val calendar = Calendar.getInstance()\n        val dates= mutableListOf&lt;String&gt;()\n        dates.clear()\n        val s=   calendar.getDisplayName(DAY_OF_WEEK, SHORT, Locale.US)\n        dates.add(s)\n        for(i in 0..5){\n            calendar.roll( Calendar.DATE, -1)\n            dates.add(calendar.getDisplayName(DAY_OF_WEEK, SHORT, Locale.US))\n        }\n        return dates.toList()\n    }\n</code></pre>\n\n<p>out put results like</p>\n\n<pre><code>I/System.out: Wed\n    Tue\n    Mon\n    Sun\nI/System.out: Sat\n    Fri\n    Thu\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8108093,"reputation":2413,"user_id":6109034,"display_name":"Mimu Saha Tishan"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1589469125,"creation_date":1585040709,"answer_id":60827857,"question_id":5270272,"body_markdown":"For **Java 8 or Later**, **Localdate** is preferable\r\n\r\n    import java.time.LocalDate;\r\n\r\n    public static String findDay(int month, int day, int year) {\r\n\r\n\t    LocalDate localDate = LocalDate.of(year, month, day);\r\n\r\n        java.time.DayOfWeek dayOfWeek = localDate.getDayOfWeek();\r\n        System.out.println(dayOfWeek);\r\n        \r\n        return dayOfWeek.toString();\r\n    }\r\n\r\n**Note :** if input is String/User defined, then you should parse it into **int**. ","title":"How to determine day of week by passing specific date?","body":"<p>For <strong>Java 8 or Later</strong>, <strong>Localdate</strong> is preferable</p>\n\n<pre><code>import java.time.LocalDate;\n\npublic static String findDay(int month, int day, int year) {\n\n    LocalDate localDate = LocalDate.of(year, month, day);\n\n    java.time.DayOfWeek dayOfWeek = localDate.getDayOfWeek();\n    System.out.println(dayOfWeek);\n\n    return dayOfWeek.toString();\n}\n</code></pre>\n\n<p><strong>Note :</strong> if input is String/User defined, then you should parse it into <strong>int</strong>. </p>\n"},{"tags":[],"owner":{"account_id":14659943,"reputation":124,"user_id":10587465,"display_name":"Waheed Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637760187,"creation_date":1637760187,"answer_id":70096882,"question_id":5270272,"body_markdown":"Get a Date for Today and then Find a week Day from it. \r\n\r\n\t\r\n\r\n    \tLocalDate d = java.time.LocalDate.now();\r\n\t\tSystem.out.println(java.time.LocalDate.now()); \r\n\t\t\r\n\t\tCalendar c = Calendar.getInstance();\r\n\t\tint dayOfWeek = c.get(Calendar.DAY_OF_WEEK);\r\n\t\tSystem.out.println(dayOfWeek);","title":"How to determine day of week by passing specific date?","body":"<p>Get a Date for Today and then Find a week Day from it.</p>\n<pre><code>    LocalDate d = java.time.LocalDate.now();\n    System.out.println(java.time.LocalDate.now()); \n    \n    Calendar c = Calendar.getInstance();\n    int dayOfWeek = c.get(Calendar.DAY_OF_WEEK);\n    System.out.println(dayOfWeek);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11041894,"reputation":81,"user_id":8109482,"display_name":"imok1948"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650888345,"creation_date":1650888345,"answer_id":71999278,"question_id":5270272,"body_markdown":"I use this \r\n\r\n        String[] weekdays = &quot;Sunday Monday Tuesday Wednesday Thursday Friday Saturday&quot;.split(&quot; &quot;);\r\nAnd then \r\n\r\n    weekdays[calendar.get(Calendar.DAY_OF_WEEK) - 1]\r\nTo get the particular weekday\r\n\r\n","title":"How to determine day of week by passing specific date?","body":"<p>I use this</p>\n<pre><code>    String[] weekdays = &quot;Sunday Monday Tuesday Wednesday Thursday Friday Saturday&quot;.split(&quot; &quot;);\n</code></pre>\n<p>And then</p>\n<pre><code>weekdays[calendar.get(Calendar.DAY_OF_WEEK) - 1]\n</code></pre>\n<p>To get the particular weekday</p>\n"},{"tags":[],"owner":{"account_id":15794034,"reputation":91,"user_id":11396463,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653848807,"creation_date":1653848807,"answer_id":72426251,"question_id":5270272,"body_markdown":"    import java.time.*;\r\n    \r\n    public static String findDay(int month, int day, int year) {\r\n        LocalDate localDate = LocalDate.of(year, month, day);\r\n        DayOfWeek dayOfWeek = localDate.getDayOfWeek();\r\n        return dayOfWeek.name();\r\n    }","title":"How to determine day of week by passing specific date?","body":"<pre><code>import java.time.*;\n\npublic static String findDay(int month, int day, int year) {\n    LocalDate localDate = LocalDate.of(year, month, day);\n    DayOfWeek dayOfWeek = localDate.getDayOfWeek();\n    return dayOfWeek.name();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682897029,"creation_date":1682897029,"answer_id":76143998,"question_id":5270272,"body_markdown":"Using `LocalDate`, here is the class `DayOfWeekConverter`:\r\n\r\n    public class DayOfWeekConverter {\r\n    \r\n        public static String getDayOfWeekShort(String dateInput) {\r\n            DayOfWeek dayOfWeek = getDayOfWeek(dateInput);\r\n            return dayOfWeek.getDisplayName(TextStyle.SHORT, Locale.US);\r\n        }\r\n    \r\n        private static DayOfWeek getDayOfWeek(String dateInput) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/M/yyyy&quot;);\r\n            LocalDate localDate = LocalDate.parse(dateInput, formatter);\r\n            return localDate.getDayOfWeek();\r\n        }\r\n    \r\n        public static int getDayOfWeekOrdinal(String dateInput) {\r\n            DayOfWeek dayOfWeek = getDayOfWeek(dateInput);\r\n            return dayOfWeek.getValue();\r\n        }\r\n    }\r\n\r\nTests class `DayOfWeekConverterTest`:\r\n\r\n    class DayOfWeekConverterTest {\r\n    \r\n        @Test\r\n        void givenStringDate_whenGetDayOfWeekShort_thenReturnTue() {\r\n            assertEquals(&quot;Tue&quot;, DayOfWeekConverter.getDayOfWeekShort(&quot;23/2/2010&quot;));\r\n        }\r\n    \r\n        @Test\r\n        void givenStringDate_whenGetDayOfWeekOrdinal_thenReturnTue() {\r\n            assertEquals(2, DayOfWeekConverter.getDayOfWeekOrdinal(&quot;23/2/2010&quot;));\r\n        }\r\n    }","title":"How to determine day of week by passing specific date?","body":"<p>Using <code>LocalDate</code>, here is the class <code>DayOfWeekConverter</code>:</p>\n<pre><code>public class DayOfWeekConverter {\n\n    public static String getDayOfWeekShort(String dateInput) {\n        DayOfWeek dayOfWeek = getDayOfWeek(dateInput);\n        return dayOfWeek.getDisplayName(TextStyle.SHORT, Locale.US);\n    }\n\n    private static DayOfWeek getDayOfWeek(String dateInput) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/M/yyyy&quot;);\n        LocalDate localDate = LocalDate.parse(dateInput, formatter);\n        return localDate.getDayOfWeek();\n    }\n\n    public static int getDayOfWeekOrdinal(String dateInput) {\n        DayOfWeek dayOfWeek = getDayOfWeek(dateInput);\n        return dayOfWeek.getValue();\n    }\n}\n</code></pre>\n<p>Tests class <code>DayOfWeekConverterTest</code>:</p>\n<pre><code>class DayOfWeekConverterTest {\n\n    @Test\n    void givenStringDate_whenGetDayOfWeekShort_thenReturnTue() {\n        assertEquals(&quot;Tue&quot;, DayOfWeekConverter.getDayOfWeekShort(&quot;23/2/2010&quot;));\n    }\n\n    @Test\n    void givenStringDate_whenGetDayOfWeekOrdinal_thenReturnTue() {\n        assertEquals(2, DayOfWeekConverter.getDayOfWeekOrdinal(&quot;23/2/2010&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":45699,"reputation":19649,"user_id":134824,"accept_rate":93,"display_name":"evilReiko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626571,"favorite_count":0,"down_vote_count":0,"up_vote_count":228,"accepted_answer_id":5270292,"answer_count":29,"score":228,"last_activity_date":1682897029,"creation_date":1299829464,"question_id":5270272,"body_markdown":"For Example I have the date: &quot;23/2/2010&quot; (23th Feb 2010). I want to pass it to a function which would return the **day of week**. How can I do this?\r\n\r\nIn this example, the function should return `String` &quot;Tue&quot;.\r\n\r\nAdditionally, if just the day ordinal is desired, how can that be retrieved?\r\n","title":"How to determine day of week by passing specific date?","body":"<p>For Example I have the date: \"23/2/2010\" (23th Feb 2010). I want to pass it to a function which would return the <strong>day of week</strong>. How can I do this?</p>\n\n<p>In this example, the function should return <code>String</code> \"Tue\".</p>\n\n<p>Additionally, if just the day ordinal is desired, how can that be retrieved?</p>\n"},{"tags":["java","spring-boot","maven","buildpack"],"comments":[{"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"score":0,"creation_date":1603645449,"post_id":62865594,"comment_id":114095929,"body_markdown":"Found this in buildpacks repo: https://github.com/buildpacks/rfcs/pull/50/files with link to https://reproducible-builds.org/docs/source-date-epoch/ . Still not sure how it&#39;s related to building an image.","body":"Found this in buildpacks repo: <a href=\"https://github.com/buildpacks/rfcs/pull/50/files\" rel=\"nofollow noreferrer\">github.com/buildpacks/rfcs/pull/50/files</a> with link to <a href=\"https://reproducible-builds.org/docs/source-date-epoch/\" rel=\"nofollow noreferrer\">reproducible-builds.org/docs/source-date-epoch</a> . Still not sure how it&#39;s related to building an image."}],"answers":[{"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1655995242,"creation_date":1594591406,"answer_id":62866908,"question_id":62865594,"body_markdown":"This is by design. In order to create reproducible builds (i.e. so that layers can be reused) the buildpack must create layers with a fixed time stamp. Otherwise, you wouldn’t be able to reuse the layers you created in previous builds because they would have different time stamps. ","title":"Spring Boot 2.3.0 buildpack builds image with creation date 40 years ago","body":"<p>This is by design. In order to create reproducible builds (i.e. so that layers can be reused) the buildpack must create layers with a fixed time stamp. Otherwise, you wouldn’t be able to reuse the layers you created in previous builds because they would have different time stamps.</p>\n"},{"tags":[],"owner":{"account_id":1601812,"reputation":1854,"user_id":1482700,"accept_rate":72,"display_name":"kozla13"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682896093,"creation_date":1682896093,"answer_id":76143949,"question_id":62865594,"body_markdown":"In the new version you can set it.\r\nHier is the gradle example \r\n\r\n    bootBuildImage {\r\n          imageName = &quot;docker.io/ringo&quot;\r\n          createdDate = &quot;now&quot;\r\n    }","title":"Spring Boot 2.3.0 buildpack builds image with creation date 40 years ago","body":"<p>In the new version you can set it.\nHier is the gradle example</p>\n<pre><code>bootBuildImage {\n      imageName = &quot;docker.io/ringo&quot;\n      createdDate = &quot;now&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4622,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":62866908,"answer_count":2,"score":23,"last_activity_date":1682896093,"creation_date":1594581963,"question_id":62865594,"body_markdown":"I&#39;ve tried to use buildpack in a maven project with Spring Boot 2.3.0 running:\r\n\r\n```\r\nmvn spring-boot:build-image\r\n```\r\n\r\nImage was created just fine, but I see the following info for it:\r\n\r\n```\r\nREPOSITORY                                    TAG                     IMAGE ID            CREATED             SIZE\r\ngcr.io/paketo-buildpacks/builder              base-platform-api-0.3   daceb4f909b7        40 years ago        690MB\r\nmyimage                                       master                  a482a4a34379        40 years ago        285MB\r\n```\r\n\r\nWhy does it say the image (along with the builder) was created 40 years ago?","title":"Spring Boot 2.3.0 buildpack builds image with creation date 40 years ago","body":"<p>I've tried to use buildpack in a maven project with Spring Boot 2.3.0 running:</p>\n<pre><code>mvn spring-boot:build-image\n</code></pre>\n<p>Image was created just fine, but I see the following info for it:</p>\n<pre><code>REPOSITORY                                    TAG                     IMAGE ID            CREATED             SIZE\ngcr.io/paketo-buildpacks/builder              base-platform-api-0.3   daceb4f909b7        40 years ago        690MB\nmyimage                                       master                  a482a4a34379        40 years ago        285MB\n</code></pre>\n<p>Why does it say the image (along with the builder) was created 40 years ago?</p>\n"},{"tags":["java","arrays","list","primitive"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1682880629,"post_id":76142948,"comment_id":134281030,"body_markdown":"@AnthonyAccioly the answers to that question were all written before Java streams came into being. Edit: Whoops. Closed before I could post the comment. I&#39;m not sure that that is a correct duplicate, to be honest.","body":"@AnthonyAccioly the answers to that question were all written before Java streams came into being. Edit: Whoops. Closed before I could post the comment. I&#39;m not sure that that is a correct duplicate, to be honest."},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1682892476,"post_id":76142948,"comment_id":134282456,"body_markdown":"@HovercraftFullOfEels, have a look at the accept answer: https://stackoverflow.com/a/4837580/664577. It does cover streams as well (although I like the OP&#39;s title better).","body":"@HovercraftFullOfEels, have a look at the accept answer: <a href=\"https://stackoverflow.com/a/4837580/664577\">stackoverflow.com/a/4837580/664577</a>. It does cover streams as well (although I like the OP&#39;s title better)."},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1682892822,"post_id":76142948,"comment_id":134282492,"body_markdown":"Another Java 8+ duplicate: https://stackoverflow.com/q/46160126/664577","body":"Another Java 8+ duplicate: <a href=\"https://stackoverflow.com/q/46160126/664577\">stackoverflow.com/q/46160126/664577</a>"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682880573,"answer_count":0,"score":0,"last_activity_date":1682896084,"creation_date":1682880055,"question_id":76142948,"body_markdown":"Given a [`List`][1] of [`Float`][2] objects:\r\n\r\n    List&lt; Float &gt; floatObjects = List.of( 7F , 42F , 99F ) ;  // Auto-boxing produces a `List&lt; Float &gt;`. \r\n\r\n… how does one easily get an array of `double` primitive values?\r\n\r\n    float[] floatPrimitives = floatObjects … ??? ;\r\n\r\n\r\n----------\r\n\r\n\r\nI thought of making a [`Stream`][3] from our `List` of `Float` objects, converted to a `FloatStream`. But strangely, there is no `FloatStream` class. We have [`IntStream`][4], [`LongStream`][5], and [`DoubleStream`][6], but no `FloatStream`. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/LongStream.html\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/DoubleStream.html","title":"Convert list of Float objects to an array of float primitives in Java","body":"<p>Given a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a> of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html\" rel=\"nofollow noreferrer\"><code>Float</code></a> objects:</p>\n<pre><code>List&lt; Float &gt; floatObjects = List.of( 7F , 42F , 99F ) ;  // Auto-boxing produces a `List&lt; Float &gt;`. \n</code></pre>\n<p>… how does one easily get an array of <code>double</code> primitive values?</p>\n<pre><code>float[] floatPrimitives = floatObjects … ??? ;\n</code></pre>\n<hr />\n<p>I thought of making a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code></a> from our <code>List</code> of <code>Float</code> objects, converted to a <code>FloatStream</code>. But strangely, there is no <code>FloatStream</code> class. We have <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/LongStream.html\" rel=\"nofollow noreferrer\"><code>LongStream</code></a>, and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/DoubleStream.html\" rel=\"nofollow noreferrer\"><code>DoubleStream</code></a>, but no <code>FloatStream</code>.</p>\n"},{"tags":["java","spring-boot","foreign-keys","relation"],"comments":[{"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"score":0,"creation_date":1682895606,"post_id":76143904,"comment_id":134282720,"body_markdown":"this feels more like Inheritance with [Joined Table Strategy](https://www.baeldung.com/hibernate-inheritance#joined-table)","body":"this feels more like Inheritance with <a href=\"https://www.baeldung.com/hibernate-inheritance#joined-table\" rel=\"nofollow noreferrer\">Joined Table Strategy</a>"},{"owner":{"account_id":25275672,"reputation":45,"user_id":19104352,"display_name":"Gustav Henriksson"},"score":0,"creation_date":1682923456,"post_id":76143904,"comment_id":134284744,"body_markdown":"@galalem Interesting. Thank you for sharing. Do you know if it&#39;s bad practice to use the joined table strategy in this case? never see an example before.","body":"@galalem Interesting. Thank you for sharing. Do you know if it&#39;s bad practice to use the joined table strategy in this case? never see an example before."}],"owner":{"account_id":25275672,"reputation":45,"user_id":19104352,"display_name":"Gustav Henriksson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682895237,"creation_date":1682895237,"question_id":76143904,"body_markdown":"I have the following entities in a spring boot project:\r\n\r\n```\r\npublic class User implements UserDetails {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String email;\r\n    private String password;\r\n\r\n    @OneToOne\r\n    private UserInfo info;\r\n\r\n}\r\n\r\npublic class UserInfo {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String birthDay;\r\n}\r\n```\r\nAnd would like to be able to save a new user like this\r\n```\r\nUser user = User.builder()\r\n        .email(&quot;example@email.se&quot;)\r\n        .password(&quot;password&quot;)\r\n        .build();\r\nUserInfo userInfo = UserInfo.builder()\r\n        .firstName(&quot;foo&quot;)\r\n        .lastName(&quot;oof&quot;)\r\n        .birthDate(&quot;ofo&quot;)\r\n        .build();\r\nuser.setInfo(userInfo);\r\nrepository.save(user);\r\n```\r\n\r\nI&#39;ve only been working directly with SQL before and in my head i would like to have a table structure that looks like follow:\r\n```\r\nUSER TABLE\r\nid\r\nemail\r\npassword\r\n```\r\n```\r\nUSER INFO TABLE\r\nuser_id\r\nfirstname\r\nlastname\r\nbirthday\r\n```\r\n\r\nI&#39;ve tried a few annotations but my boostrapping only works if i use annotations that would make the USER TABLE have a FK to the USER INFO TABLE instead. I&#39;m i missing something here or should i think in another way now when i use spring boot to build my database?","title":"How do i make a one to one relation where tableB holds the foreign key of tableA and where tableA holds a tableB object in spring boot","body":"<p>I have the following entities in a spring boot project:</p>\n<pre><code>public class User implements UserDetails {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String email;\n    private String password;\n\n    @OneToOne\n    private UserInfo info;\n\n}\n\npublic class UserInfo {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String birthDay;\n}\n</code></pre>\n<p>And would like to be able to save a new user like this</p>\n<pre><code>User user = User.builder()\n        .email(&quot;example@email.se&quot;)\n        .password(&quot;password&quot;)\n        .build();\nUserInfo userInfo = UserInfo.builder()\n        .firstName(&quot;foo&quot;)\n        .lastName(&quot;oof&quot;)\n        .birthDate(&quot;ofo&quot;)\n        .build();\nuser.setInfo(userInfo);\nrepository.save(user);\n</code></pre>\n<p>I've only been working directly with SQL before and in my head i would like to have a table structure that looks like follow:</p>\n<pre><code>USER TABLE\nid\nemail\npassword\n</code></pre>\n<pre><code>USER INFO TABLE\nuser_id\nfirstname\nlastname\nbirthday\n</code></pre>\n<p>I've tried a few annotations but my boostrapping only works if i use annotations that would make the USER TABLE have a FK to the USER INFO TABLE instead. I'm i missing something here or should i think in another way now when i use spring boot to build my database?</p>\n"},{"tags":["java","android","canvas","drawing","ondraw"],"answers":[{"tags":[],"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682894559,"creation_date":1682890587,"answer_id":76143663,"question_id":76143527,"body_markdown":"I just copied your code and it works.\r\n\r\nCan you attach the code which you use to call `DrawGrid.setCurrentColor(color)`? I bet you just pass to it the value different from (0,1,2) and visually nothing changes. Even if you pass the correct value, the problem is not in the `DrawGrid` class, because it works properly.\r\n\r\nIf you will pass there 0,1 or 2, then the View will be redrawn with passed color.\r\n\r\nWhy don&#39;t you just provide to this method color. And the caller side will determine which color it wants to use. Something like that:\r\n\r\n    public void setCurrentColor(@ColorInt int color) {\r\n            this.currentColor = color;\r\n            paint.setColor(color);\r\n            invalidate();\r\n            Log.d(&quot;DrawGrid&quot;, &quot;currentColor is now1 &quot; + currentColor);\r\n    }\r\n\r\n","title":"Can&#39;t change color of drawing","body":"<p>I just copied your code and it works.</p>\n<p>Can you attach the code which you use to call <code>DrawGrid.setCurrentColor(color)</code>? I bet you just pass to it the value different from (0,1,2) and visually nothing changes. Even if you pass the correct value, the problem is not in the <code>DrawGrid</code> class, because it works properly.</p>\n<p>If you will pass there 0,1 or 2, then the View will be redrawn with passed color.</p>\n<p>Why don't you just provide to this method color. And the caller side will determine which color it wants to use. Something like that:</p>\n<pre><code>public void setCurrentColor(@ColorInt int color) {\n        this.currentColor = color;\n        paint.setColor(color);\n        invalidate();\n        Log.d(&quot;DrawGrid&quot;, &quot;currentColor is now1 &quot; + currentColor);\n}\n</code></pre>\n"}],"owner":{"account_id":28381767,"reputation":1,"user_id":21708938,"display_name":"T1D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682894559,"creation_date":1682888555,"question_id":76143527,"body_markdown":"I&#39;m creating camera app with grids and I want user to be able to change color of the grid by clicking button of the color he wants to use. The grids are created using onDraw, which is in DrawGrid class and this class is called from GridMenuFragment fragment, whereas color buttons are in ColorFragment fragment.\r\n\r\nRight now, I successfully pass the color I want to use to the DrawGrid, yet it doesn&#39;t update and the color of the grid doesn&#39;t change. I use invalidate() in setCurrentColor method. I tried doing color change the same way I change the grid, yet it doesn&#39;t work. Any help will be appreciated.\r\n\r\nHere&#39;s DrawGird.java code:\r\n\r\n```\r\npublic class DrawGrid extends View {\r\n    int whichGrid;\r\n    Paint paint;\r\n    int currentColor=Color.WHITE;\r\n\r\n    public DrawGrid(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        paint = new Paint();\r\n        paint.setColor(currentColor);\r\n        paint.setStrokeWidth(5);\r\n        paint.setStyle(Paint.Style.STROKE);\r\n    }\r\n    \r\n    public void setWhichGrid(int number) {\r\n        whichGrid = number;\r\n        invalidate();\r\n    }\r\n\r\n    public void setCurrentColor(int color) {\r\n        switch(color){\r\n            case 0:\r\n                currentColor=Color.WHITE;\r\n                break;\r\n            case 1:\r\n                currentColor=Color.RED;\r\n                break;\r\n            case 2:\r\n                currentColor=Color.BLUE;\r\n                break;\r\n        }\r\n        paint.setColor(currentColor);\r\n        invalidate();\r\n        Log.d(&quot;DrawGrid&quot;, &quot;currentColor is now1 &quot; + currentColor);\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        Path path = new Path();\r\n        int width = getWidth();\r\n        int height = getHeight();\r\n        switch (whichGrid) {\r\n            case 1:\r\n                float lineV1 = width / 3f;\r\n                float lineV2 = (width / 3f) * 2f;\r\n                float lineH1 = height / 3f;\r\n                float lineH2 = (height / 3f) * 2f;\r\n                Log.d(&quot;DrawGrid&quot;, &quot;currentColor is now3 &quot; + currentColor);\r\n                canvas.drawLine(lineV1, 0, lineV1, height, paint);\r\n                canvas.drawLine(lineV2, 0, lineV2, height, paint);\r\n                canvas.drawLine(0, lineH1, width, lineH1, paint);\r\n                canvas.drawLine(0, lineH2, width, lineH2, paint);\r\n                break;\r\n            case 2:\r\n                float lineV = width / 3f;\r\n                float lineH = height / 3f;\r\n                canvas.drawLine(lineV, 0, lineV, height, paint);\r\n                canvas.drawLine(0, lineH, width, lineH, paint);\r\n                break;\r\n            \r\n        }\r\n    }\r\n}\r\n```\r\nEdit: adding OnCreateView from ColorFragment where I call DrawGrid.setCurrentColor():\r\n```\r\n@Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_color, container, false);\r\n\r\n        drawGrid=new DrawGrid(getContext(), null);\r\n        FrameLayout mainLayout = ((MainActivity)getActivity()).getRelativeLayout();\r\n        mainLayout.removeView(drawGrid);\r\n        mainLayout.addView(drawGrid);\r\n\r\n        Button red = view.findViewById(R.id.button1);\r\n        Button blue = view.findViewById(R.id.button2);\r\n        red.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(&quot;ColorClass&quot;, &quot;Button clicked&quot;);\r\n                drawGrid.setCurrentColor(Color.RED);\r\n                FragmentManager fragmentManager = requireActivity().getSupportFragmentManager();\r\n                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n                fragmentTransaction.hide(ColorFragment.this).commit();\r\n            }\r\n        });\r\n\r\n        blue.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                drawGrid.setCurrentColor(Color.BLUE);\r\n                FragmentManager fragmentManager = requireActivity().getSupportFragmentManager();\r\n                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n                fragmentTransaction.hide(ColorFragment.this).commit();\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n```","title":"Can&#39;t change color of drawing","body":"<p>I'm creating camera app with grids and I want user to be able to change color of the grid by clicking button of the color he wants to use. The grids are created using onDraw, which is in DrawGrid class and this class is called from GridMenuFragment fragment, whereas color buttons are in ColorFragment fragment.</p>\n<p>Right now, I successfully pass the color I want to use to the DrawGrid, yet it doesn't update and the color of the grid doesn't change. I use invalidate() in setCurrentColor method. I tried doing color change the same way I change the grid, yet it doesn't work. Any help will be appreciated.</p>\n<p>Here's DrawGird.java code:</p>\n<pre><code>public class DrawGrid extends View {\n    int whichGrid;\n    Paint paint;\n    int currentColor=Color.WHITE;\n\n    public DrawGrid(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        paint = new Paint();\n        paint.setColor(currentColor);\n        paint.setStrokeWidth(5);\n        paint.setStyle(Paint.Style.STROKE);\n    }\n    \n    public void setWhichGrid(int number) {\n        whichGrid = number;\n        invalidate();\n    }\n\n    public void setCurrentColor(int color) {\n        switch(color){\n            case 0:\n                currentColor=Color.WHITE;\n                break;\n            case 1:\n                currentColor=Color.RED;\n                break;\n            case 2:\n                currentColor=Color.BLUE;\n                break;\n        }\n        paint.setColor(currentColor);\n        invalidate();\n        Log.d(&quot;DrawGrid&quot;, &quot;currentColor is now1 &quot; + currentColor);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n        Path path = new Path();\n        int width = getWidth();\n        int height = getHeight();\n        switch (whichGrid) {\n            case 1:\n                float lineV1 = width / 3f;\n                float lineV2 = (width / 3f) * 2f;\n                float lineH1 = height / 3f;\n                float lineH2 = (height / 3f) * 2f;\n                Log.d(&quot;DrawGrid&quot;, &quot;currentColor is now3 &quot; + currentColor);\n                canvas.drawLine(lineV1, 0, lineV1, height, paint);\n                canvas.drawLine(lineV2, 0, lineV2, height, paint);\n                canvas.drawLine(0, lineH1, width, lineH1, paint);\n                canvas.drawLine(0, lineH2, width, lineH2, paint);\n                break;\n            case 2:\n                float lineV = width / 3f;\n                float lineH = height / 3f;\n                canvas.drawLine(lineV, 0, lineV, height, paint);\n                canvas.drawLine(0, lineH, width, lineH, paint);\n                break;\n            \n        }\n    }\n}\n</code></pre>\n<p>Edit: adding OnCreateView from ColorFragment where I call DrawGrid.setCurrentColor():</p>\n<pre><code>@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_color, container, false);\n\n        drawGrid=new DrawGrid(getContext(), null);\n        FrameLayout mainLayout = ((MainActivity)getActivity()).getRelativeLayout();\n        mainLayout.removeView(drawGrid);\n        mainLayout.addView(drawGrid);\n\n        Button red = view.findViewById(R.id.button1);\n        Button blue = view.findViewById(R.id.button2);\n        red.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Log.d(&quot;ColorClass&quot;, &quot;Button clicked&quot;);\n                drawGrid.setCurrentColor(Color.RED);\n                FragmentManager fragmentManager = requireActivity().getSupportFragmentManager();\n                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n                fragmentTransaction.hide(ColorFragment.this).commit();\n            }\n        });\n\n        blue.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                drawGrid.setCurrentColor(Color.BLUE);\n                FragmentManager fragmentManager = requireActivity().getSupportFragmentManager();\n                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n                fragmentTransaction.hide(ColorFragment.this).commit();\n            }\n        });\n        return view;\n    }\n</code></pre>\n"},{"tags":["java","android","webview"],"answers":[{"tags":[],"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682817688,"creation_date":1682817688,"answer_id":76139165,"question_id":76136414,"body_markdown":"This is because the Activity _state_ is not saved by default, and an orientation change recreates the Activity.\r\n\r\nThere is a way to handle this via saving the Bundle and then setting it back on rotation but an easy way to sidestep this hassle would be to add this to the ```AndroidManifest.xml``` target ```&lt;activity&gt;``` tag\r\n\r\n```\r\nandroid:configChanges=&quot;orientation|screenSize&quot;\r\n```\r\nor handling the thing in the target Activity&#39;s Java/ Kotlin code\r\n```\r\n@Override\r\npublic void onConfigurationChanged(Configuration conf)\r\n{\r\n\tsuper.onConfigurationChanged(conf);\r\n\tif(conf.orientation == Configuration.ORIENTATION_LANDSCAPE)\r\n\t{\r\n\t\t// Landscape mode\r\n\t}\r\n\telse if(conf.orientation == Configuration.ORIENTATION_PORTRAIT)\r\n\t{\r\n\t\t// Portrait mode\r\n\t}\r\n}\r\n```","title":"Webview when I rotate the screen it goes back to the previous page","body":"<p>This is because the Activity <em>state</em> is not saved by default, and an orientation change recreates the Activity.</p>\n<p>There is a way to handle this via saving the Bundle and then setting it back on rotation but an easy way to sidestep this hassle would be to add this to the <code>AndroidManifest.xml</code> target <code>&lt;activity&gt;</code> tag</p>\n<pre><code>android:configChanges=&quot;orientation|screenSize&quot;\n</code></pre>\n<p>or handling the thing in the target Activity's Java/ Kotlin code</p>\n<pre><code>@Override\npublic void onConfigurationChanged(Configuration conf)\n{\n    super.onConfigurationChanged(conf);\n    if(conf.orientation == Configuration.ORIENTATION_LANDSCAPE)\n    {\n        // Landscape mode\n    }\n    else if(conf.orientation == Configuration.ORIENTATION_PORTRAIT)\n    {\n        // Portrait mode\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17114658,"reputation":11,"user_id":13290036,"display_name":"Henrique Lucas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682894229,"creation_date":1682773820,"question_id":76136414,"body_markdown":"I have a Webview that when I rotate the cell phone screen it goes back to the previous page and I would like to remain on the same screen. I would like to make it stay only on the current page. What can I do to get around this issue.\r\n\r\nEvery WebView works perfectly, just this detail I need to fix.\r\n****MainActivit**y**\r\n```\r\npackage com.example.agoraplay;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.FrameLayout;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    // on below line creating a variable for web view.\r\n    private WebView webView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // on below line initializing web view with id.\r\n        webView = findViewById(R.id.webView);\r\n\r\n        // on below line setting web view client.\r\n        webView.setWebViewClient(new WebClient());\r\n\r\n        // on below line setting web chrome client for web view.\r\n        webView.setWebChromeClient(new WebChromeClient());\r\n\r\n        // on below line getting web settings.\r\n        WebSettings webSettings = webView.getSettings();\r\n\r\n        // on below line setting java script enabled to true.\r\n        webSettings.setJavaScriptEnabled(true);\r\n\r\n        // on below line setting file access to true.\r\n        webSettings.setAllowFileAccess(true);\r\n\r\n        // on below line setting url for the web page which we have to load in our web view.\r\n        webView.loadUrl(&quot;https://siteexemplo.com&quot;);\r\n    }\r\n\r\n    // on below line creating a class for web chrome client.\r\n    class WebChromeClient extends android.webkit.WebChromeClient {\r\n        // on below line creating variables.\r\n        private View customView;\r\n        private android.webkit.WebChromeClient.CustomViewCallback customViewCallback;\r\n        private int originalOrientation;\r\n        private int originalSystemVisibility;\r\n\r\n        WebChromeClient() {\r\n        }\r\n\r\n        @Nullable\r\n        @Override\r\n        public Bitmap getDefaultVideoPoster() {\r\n\r\n            // on below line returning our resource from bitmap factory.\r\n            if (customView == null) {\r\n                return null;\r\n            }\r\n            return BitmapFactory.decodeResource(getApplicationContext().getResources(), 2130837573);\r\n        }\r\n\r\n        @Override\r\n        public void onHideCustomView() {\r\n\r\n            // on below line removing our custom view and setting it to null.\r\n            ((FrameLayout) getWindow().getDecorView()).removeView(customView);\r\n            this.customView = null;\r\n\r\n            // on below line setting system ui visibility to original one and setting orientation for it.\r\n            getWindow().getDecorView().setSystemUiVisibility(this.originalSystemVisibility);\r\n            setRequestedOrientation(this.originalOrientation);\r\n\r\n            // on below line setting custom view call back to null.\r\n            this.customViewCallback.onCustomViewHidden();\r\n            this.customViewCallback = null;\r\n        }\r\n\r\n        @Override\r\n        public void onShowCustomView(View view, CustomViewCallback callback) {\r\n            if (this.customView != null) {\r\n                onHideCustomView();\r\n                return;\r\n            }\r\n            // on below line initializing all variables.\r\n            this.customView = view;\r\n            this.originalSystemVisibility = getWindow().getDecorView().getSystemUiVisibility();\r\n            this.originalOrientation = getRequestedOrientation();\r\n            this.customViewCallback = callback;\r\n            FrameLayout decorView = (FrameLayout) getWindow().getDecorView();decorView.addView(this.customView, new FrameLayout.LayoutParams(-1, -1));\r\n            getWindow().getDecorView().setSystemUiVisibility(3846);\r\n        }\r\n    }\r\n    // on below line creating a class for Web Client.\r\n    class WebClient extends WebViewClient {\r\n        @Override\r\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n            super.onPageStarted(view, url, favicon);\r\n        }\r\n\r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            super.onPageFinished(view, url);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if(webView.canGoBack()) {\r\n            webView.goBack();\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried deleting some classes to try to solve the problem, but without success.","title":"Webview when I rotate the screen it goes back to the previous page","body":"<p>I have a Webview that when I rotate the cell phone screen it goes back to the previous page and I would like to remain on the same screen. I would like to make it stay only on the current page. What can I do to get around this issue.</p>\n<p>Every WebView works perfectly, just this detail I need to fix.\n****MainActivit<strong>y</strong></p>\n<pre><code>package com.example.agoraplay;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.FrameLayout;\n\npublic class MainActivity extends AppCompatActivity {\n    // on below line creating a variable for web view.\n    private WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // on below line initializing web view with id.\n        webView = findViewById(R.id.webView);\n\n        // on below line setting web view client.\n        webView.setWebViewClient(new WebClient());\n\n        // on below line setting web chrome client for web view.\n        webView.setWebChromeClient(new WebChromeClient());\n\n        // on below line getting web settings.\n        WebSettings webSettings = webView.getSettings();\n\n        // on below line setting java script enabled to true.\n        webSettings.setJavaScriptEnabled(true);\n\n        // on below line setting file access to true.\n        webSettings.setAllowFileAccess(true);\n\n        // on below line setting url for the web page which we have to load in our web view.\n        webView.loadUrl(&quot;https://siteexemplo.com&quot;);\n    }\n\n    // on below line creating a class for web chrome client.\n    class WebChromeClient extends android.webkit.WebChromeClient {\n        // on below line creating variables.\n        private View customView;\n        private android.webkit.WebChromeClient.CustomViewCallback customViewCallback;\n        private int originalOrientation;\n        private int originalSystemVisibility;\n\n        WebChromeClient() {\n        }\n\n        @Nullable\n        @Override\n        public Bitmap getDefaultVideoPoster() {\n\n            // on below line returning our resource from bitmap factory.\n            if (customView == null) {\n                return null;\n            }\n            return BitmapFactory.decodeResource(getApplicationContext().getResources(), 2130837573);\n        }\n\n        @Override\n        public void onHideCustomView() {\n\n            // on below line removing our custom view and setting it to null.\n            ((FrameLayout) getWindow().getDecorView()).removeView(customView);\n            this.customView = null;\n\n            // on below line setting system ui visibility to original one and setting orientation for it.\n            getWindow().getDecorView().setSystemUiVisibility(this.originalSystemVisibility);\n            setRequestedOrientation(this.originalOrientation);\n\n            // on below line setting custom view call back to null.\n            this.customViewCallback.onCustomViewHidden();\n            this.customViewCallback = null;\n        }\n\n        @Override\n        public void onShowCustomView(View view, CustomViewCallback callback) {\n            if (this.customView != null) {\n                onHideCustomView();\n                return;\n            }\n            // on below line initializing all variables.\n            this.customView = view;\n            this.originalSystemVisibility = getWindow().getDecorView().getSystemUiVisibility();\n            this.originalOrientation = getRequestedOrientation();\n            this.customViewCallback = callback;\n            FrameLayout decorView = (FrameLayout) getWindow().getDecorView();decorView.addView(this.customView, new FrameLayout.LayoutParams(-1, -1));\n            getWindow().getDecorView().setSystemUiVisibility(3846);\n        }\n    }\n    // on below line creating a class for Web Client.\n    class WebClient extends WebViewClient {\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\n            super.onPageStarted(view, url, favicon);\n        }\n\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            super.onPageFinished(view, url);\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        if(webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p>I tried deleting some classes to try to solve the problem, but without success.</p>\n"},{"tags":["java","user-interface","swing"],"comments":[{"owner":{"account_id":83469,"reputation":9224,"user_id":234009,"display_name":"robert_x44"},"score":0,"creation_date":1293846246,"post_id":4572896,"comment_id":5018454,"body_markdown":"I&#39;m not entirely sure what you&#39;re trying to accomplish.  Are you just trying to have a button with text next to it?","body":"I&#39;m not entirely sure what you&#39;re trying to accomplish.  Are you just trying to have a button with text next to it?"},{"owner":{"account_id":259665,"reputation":307,"user_id":542719,"accept_rate":48,"display_name":"user542719"},"score":0,"creation_date":1293849177,"post_id":4572896,"comment_id":5018557,"body_markdown":"No I have button inside textfeild but have above problem","body":"No I have button inside textfeild but have above problem"}],"answers":[{"tags":[],"owner":{"account_id":66851,"reputation":1778,"user_id":195912,"accept_rate":70,"display_name":"Uhlen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1293846278,"creation_date":1293846278,"answer_id":4572930,"question_id":4572896,"body_markdown":"Try a BorderLayout and add the textfield at BorderLayout.CENTER and the button at BorderLayout.EAST.","title":"Button inside text box","body":"<p>Try a BorderLayout and add the textfield at BorderLayout.CENTER and the button at BorderLayout.EAST.</p>\n"},{"tags":[],"owner":{"account_id":37951,"reputation":3615,"user_id":108685,"accept_rate":68,"display_name":"waqasahmed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1293846841,"creation_date":1293846841,"answer_id":4572940,"question_id":4572896,"body_markdown":"Use a different Layout, or try absolute positioning","title":"Button inside text box","body":"<p>Use a different Layout, or try absolute positioning</p>\n"},{"tags":[],"owner":{"account_id":269864,"reputation":2160,"user_id":559467,"accept_rate":100,"display_name":"D.N."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1293848751,"creation_date":1293848751,"answer_id":4572997,"question_id":4572896,"body_markdown":"I tried your code, and it seemed to work fine for me, with a slight modification.  It may be that panel is resizing itself, not textField.  Try wrapping panel in another JPanel to force its shape.\r\n&lt;pre&gt;&lt;code&gt;JPanel panel      = new JPanel();\r\nJPanel outerPanel = new JPanel();\r\npanel.setLayout( new FlowLayout(FlowLayout.CENTER, 0, 0) );\r\npanel.add(textField);\r\npanel.add(button);\r\npanel.setBackground( textField.getBackground() );\r\npanel.setBorder( textField.getBorder() );\r\ntextField.setBorder(null);\r\nouterPanel.add(panel);&lt;/code&gt;&lt;/pre&gt;\r\n","title":"Button inside text box","body":"<p>I tried your code, and it seemed to work fine for me, with a slight modification.  It may be that panel is resizing itself, not textField.  Try wrapping panel in another JPanel to force its shape.</p>\n\n<pre><code>JPanel panel      = new JPanel();\nJPanel outerPanel = new JPanel();\npanel.setLayout( new FlowLayout(FlowLayout.CENTER, 0, 0) );\npanel.add(textField);\npanel.add(button);\npanel.setBackground( textField.getBackground() );\npanel.setBorder( textField.getBorder() );\ntextField.setBorder(null);\nouterPanel.add(panel);</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293852530,"creation_date":1293852530,"answer_id":4573092,"question_id":4572896,"body_markdown":"Your example appears to be the second alternative discussed in the article [*Component Border*][1]. Instead, you may want to `install()` a [`ComponentBorder`][2], a third alterative described later in the same article.\r\n\r\n[1]:http://tips4java.wordpress.com/2009/09/27/component-border/\r\n[2]:http://www.camick.com/java/source/ComponentBorder.java","title":"Button inside text box","body":"<p>Your example appears to be the second alternative discussed in the article <a href=\"http://tips4java.wordpress.com/2009/09/27/component-border/\" rel=\"nofollow\"><em>Component Border</em></a>. Instead, you may want to <code>install()</code> a <a href=\"http://www.camick.com/java/source/ComponentBorder.java\" rel=\"nofollow\"><code>ComponentBorder</code></a>, a third alterative described later in the same article.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293863179,"creation_date":1293863179,"answer_id":4573353,"question_id":4572896,"body_markdown":"&gt; Is there any solution such that the textbox size remains fixed?\r\n\r\nI&#39;m guessing you are creating the JTextField like:\r\n\r\n    JTextField textField = new JTextField();\r\n\r\nIn this case the text field size changes as you add text to it.\r\n\r\nInstead you should use:\r\n\r\n    JTextField textField = new JTextField(10);\r\n\r\nand the text field will remain a constant size an hold a minimum of 10 characters before scrolling.\r\n\r\n\r\n","title":"Button inside text box","body":"<blockquote>\n  <p>Is there any solution such that the textbox size remains fixed?</p>\n</blockquote>\n\n<p>I'm guessing you are creating the JTextField like:</p>\n\n<pre><code>JTextField textField = new JTextField();\n</code></pre>\n\n<p>In this case the text field size changes as you add text to it.</p>\n\n<p>Instead you should use:</p>\n\n<pre><code>JTextField textField = new JTextField(10);\n</code></pre>\n\n<p>and the text field will remain a constant size an hold a minimum of 10 characters before scrolling.</p>\n"}],"owner":{"account_id":259665,"reputation":307,"user_id":542719,"accept_rate":48,"display_name":"user542719"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1682892676,"creation_date":1293845068,"question_id":4572896,"body_markdown":"My code shows a button inside a text box; but when the input value changes, the size of the text box also changes.  That I don&#39;t like.  Is there any solution such that the textbox size remains fixed?  Or any other idea on how to create a button inside textbox? The following is code from the article [_Component Border_][1]:\r\n\r\n    JPanel panel = new JPanel();\r\n    panel.setLayout( new FlowLayout(FlowLayout.CENTER, 0, 0) );\r\n    panel.add(textField);\r\n    panel.add(button);\r\n    panel.setBackground( textField.getBackground() );\r\n    panel.setBorder( textField.getBorder() );\r\n    textField.setBorder(null);\r\n\r\n\r\n  [1]: https://tips4java.wordpress.com/2009/09/27/component-border/","title":"Button inside text box","body":"<p>My code shows a button inside a text box; but when the input value changes, the size of the text box also changes.  That I don't like.  Is there any solution such that the textbox size remains fixed?  Or any other idea on how to create a button inside textbox? The following is code from the article <a href=\"https://tips4java.wordpress.com/2009/09/27/component-border/\" rel=\"nofollow noreferrer\"><em>Component Border</em></a>:</p>\n<pre><code>JPanel panel = new JPanel();\npanel.setLayout( new FlowLayout(FlowLayout.CENTER, 0, 0) );\npanel.add(textField);\npanel.add(button);\npanel.setBackground( textField.getBackground() );\npanel.setBorder( textField.getBorder() );\ntextField.setBorder(null);\n</code></pre>\n"},{"tags":["javascript","java","jsp","netbeans","netbeans-8"],"comments":[{"owner":{"account_id":1107950,"reputation":238,"user_id":1098953,"display_name":"premek.v"},"score":0,"creation_date":1682110633,"post_id":76076607,"comment_id":134169776,"body_markdown":"what errors are you getting?","body":"what errors are you getting?"},{"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"score":0,"creation_date":1682110693,"post_id":76076607,"comment_id":134169781,"body_markdown":"On those two lines, I&#39;ll update question, they are IDE errors that are failing to compile the .war because it&#39;s treating those lines as Java rather than JavaScript (I think)","body":"On those two lines, I&#39;ll update question, they are IDE errors that are failing to compile the .war because it&#39;s treating those lines as Java rather than JavaScript (I think)"},{"owner":{"account_id":1107950,"reputation":238,"user_id":1098953,"display_name":"premek.v"},"score":1,"creation_date":1682110791,"post_id":76076607,"comment_id":134169796,"body_markdown":"you can try to put the script in a separate .js file instead of the jsp directly and link it using: `&lt;script type=&quot;module&quot; src=&quot;script.js&quot;&gt;&lt;/script&gt;`","body":"you can try to put the script in a separate .js file instead of the jsp directly and link it using: <code>&lt;script type=&quot;module&quot; src=&quot;script.js&quot;&gt;&lt;&#47;script&gt;</code>"},{"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"score":0,"creation_date":1682111416,"post_id":76076607,"comment_id":134169894,"body_markdown":"That is a very good simplistic idea @premek.v that strangely never entered my mind. Let me give that a go now, that is highly likely to solve the problem. That being said... It actually isn&#39;t going to solve the full issue since I need to dynamically insert the data into the JavaScript that is required for the chart to load (i.e. from the DB). But I&#39;ll give the external stuff a go now out of interest to see if this static example works with that.","body":"That is a very good simplistic idea @premek.v that strangely never entered my mind. Let me give that a go now, that is highly likely to solve the problem. That being said... It actually isn&#39;t going to solve the full issue since I need to dynamically insert the data into the JavaScript that is required for the chart to load (i.e. from the DB). But I&#39;ll give the external stuff a go now out of interest to see if this static example works with that."},{"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"score":0,"creation_date":1682112228,"post_id":76076607,"comment_id":134170022,"body_markdown":"@premek.v I&#39;ve just added Update 2 in the original question. Think you might be on to something there. I&#39;m just not familiar with JavaScript Modules (first I&#39;d actually heard of them when playing with this!). So I&#39;ve got a bit of learning to do on these things. Got a different error, but certainly feels as though you may be along the right lines in your thinking. What do you think the next thing to try is?","body":"@premek.v I&#39;ve just added Update 2 in the original question. Think you might be on to something there. I&#39;m just not familiar with JavaScript Modules (first I&#39;d actually heard of them when playing with this!). So I&#39;ve got a bit of learning to do on these things. Got a different error, but certainly feels as though you may be along the right lines in your thinking. What do you think the next thing to try is?"},{"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"score":0,"creation_date":1682112398,"post_id":76076607,"comment_id":134170035,"body_markdown":"To add, the above Update 2 has resulted in the IDE Console stopping throwing the errors I mentioned. Hence why it feels like this is in the right direction of travel.","body":"To add, the above Update 2 has resulted in the IDE Console stopping throwing the errors I mentioned. Hence why it feels like this is in the right direction of travel."},{"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"score":0,"creation_date":1682113372,"post_id":76076607,"comment_id":134170191,"body_markdown":"Reading around, feels like this may be something ES6 related that I don&#39;t quite understand yet.","body":"Reading around, feels like this may be something ES6 related that I don&#39;t quite understand yet."},{"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"score":0,"creation_date":1682116969,"post_id":76076607,"comment_id":134170595,"body_markdown":"@kingdaro Based on your answer in https://stackoverflow.com/questions/49338193/how-to-use-code-from-script-with-type-module - I feel like you probably know the answer to this challenge?","body":"@kingdaro Based on your answer in <a href=\"https://stackoverflow.com/questions/49338193/how-to-use-code-from-script-with-type-module\" title=\"how to use code from script with type module\">stackoverflow.com/questions/49338193/&hellip;</a> - I feel like you probably know the answer to this challenge?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1682125191,"post_id":76076607,"comment_id":134171308,"body_markdown":"JavaScript interprets `${...}` as a placeholder inside a JS template literal. JSP interprets `${...}` as a JSP EL expression. I think that is why your template literal works in a plain HTML page (no JSP), but why it gets hijacked in a JSP page - and throws a **Java** error. Try replacing your JavaScript template literals with strings - for example, try this: `const uid2 = &quot;O-&quot; + Math.random().toString(16).slice(2);`. See what happens...","body":"JavaScript interprets <code>${...}</code> as a placeholder inside a JS template literal. JSP interprets <code>${...}</code> as a JSP EL expression. I think that is why your template literal works in a plain HTML page (no JSP), but why it gets hijacked in a JSP page - and throws a <b>Java</b> error. Try replacing your JavaScript template literals with strings - for example, try this: <code>const uid2 = &quot;O-&quot; + Math.random().toString(16).slice(2);</code>. See what happens..."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1682146127,"post_id":76076607,"comment_id":134172539,"body_markdown":"According to https://stackoverflow.com/questions/8271033/how-to-escape-el-dollar-signs you can probably leave the JavaScript code in the JSP template if in the JavaScript code you replace `${` with `\\${` which escapes it for the JSP processor.","body":"According to <a href=\"https://stackoverflow.com/questions/8271033/how-to-escape-el-dollar-signs\" title=\"how to escape el dollar signs\">stackoverflow.com/questions/8271033/&hellip;</a> you can probably leave the JavaScript code in the JSP template if in the JavaScript code you replace <code>${</code> with <code>\\${</code> which escapes it for the JSP processor."},{"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"score":0,"creation_date":1682371874,"post_id":76076607,"comment_id":134202059,"body_markdown":"Good suggestion @ThomasKl&#228;ger with the \\$ I&#39;ve tried that, but no luck unfortunately. It seems to try to render but doesn&#39;t work properly. At least from the testing I&#39;ve tried.","body":"Good suggestion @ThomasKl&#228;ger with the \\$ I&#39;ve tried that, but no luck unfortunately. It seems to try to render but doesn&#39;t work properly. At least from the testing I&#39;ve tried."},{"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"score":0,"creation_date":1682372950,"post_id":76076607,"comment_id":134202197,"body_markdown":"@andrewJames You are most likely correct here. I&#39;m struggling to actually implement this though. The JavaScript code is from the D3 JavaScript library which has awful documentation, extremely cryptic naming conventions and no comments in their code snippets so even with a lot of playing trying to convert their half baked code snippets from JavaScript Template Literals to Strings, I can&#39;t get the thing to work when I&#39;m trying to convert this. It&#39;s all a best guest.","body":"@andrewJames You are most likely correct here. I&#39;m struggling to actually implement this though. The JavaScript code is from the D3 JavaScript library which has awful documentation, extremely cryptic naming conventions and no comments in their code snippets so even with a lot of playing trying to convert their half baked code snippets from JavaScript Template Literals to Strings, I can&#39;t get the thing to work when I&#39;m trying to convert this. It&#39;s all a best guest."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682375954,"post_id":76076607,"comment_id":134202583,"body_markdown":"Probably too late, but a suggestion: If you try any suggested fixes, then maybe you can edit your question to show what you tried and what happened when you tried it. Maybe you got a new, different error. That could be a sign of progress. Maybe next time... But I guess you have a different way forward now. Good luck!","body":"Probably too late, but a suggestion: If you try any suggested fixes, then maybe you can edit your question to show what you tried and what happened when you tried it. Maybe you got a new, different error. That could be a sign of progress. Maybe next time... But I guess you have a different way forward now. Good luck!"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682459710,"creation_date":1682459710,"answer_id":76105713,"question_id":76076607,"body_markdown":"I was able to make your HTML page work as JSP. For this it was necessary to replace each and every instance of `${` in your page with `\\${` (10 times in total). Maybe in your test you forgot one of them.\r\n\r\nThe converted template is\r\n\r\n```JSP\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;script type=&quot;module&quot;&gt;\r\n\r\n    import * as d3 from &quot;https://cdn.jsdelivr.net/npm/d3@7/+esm&quot;;\r\n\r\n    const svg = BubbleChart([[&quot;Hello&quot;, 10], [&quot;World&quot;, 20]]);\r\n    document.body.appendChild(svg);\r\n\r\n    // Copyright 2021 Observable, Inc.\r\n    // Released under the ISC license.\r\n    // https://observablehq.com/@d3/bubble-chart\r\n    function BubbleChart(data, {\r\n        name = ([x]) =&gt; x, // alias for label\r\n        label = name, // given d in data, returns text to display on the bubble\r\n        value = ([, y]) =&gt; y, // given d in data, returns a quantitative size\r\n        group, // given d in data, returns a categorical value for color\r\n        title, // given d in data, returns text to show on hover\r\n        link, // given a node d, its link (if any)\r\n        linkTarget = &quot;_blank&quot;, // the target attribute for links, if any\r\n        width = 640, // outer width, in pixels\r\n        height = width, // outer height, in pixels\r\n        padding = 3, // padding between circles\r\n        margin = 1, // default margins\r\n        marginTop = margin, // top margin, in pixels\r\n        marginRight = margin, // right margin, in pixels\r\n        marginBottom = margin, // bottom margin, in pixels\r\n        marginLeft = margin, // left margin, in pixels\r\n        groups, // array of group names (the domain of the color scale)\r\n        colors = d3.schemeTableau10, // an array of colors (for groups)\r\n        fill = &quot;#ccc&quot;, // a static fill color, if no group channel is specified\r\n        fillOpacity = 0.7, // the fill opacity of the bubbles\r\n        stroke, // a static stroke around the bubbles\r\n        strokeWidth, // the stroke width around the bubbles, if any\r\n        strokeOpacity, // the stroke opacity around the bubbles, if any\r\n    } = {}) {\r\n        // Compute the values.\r\n        const D = d3.map(data, d =&gt; d);\r\n        const V = d3.map(data, value);\r\n        const G = group == null ? null : d3.map(data, group);\r\n        const I = d3.range(V.length).filter(i =&gt; V[i] &gt; 0);\r\n\r\n        // Unique the groups.\r\n        if (G &amp;&amp; groups === undefined) groups = I.map(i =&gt; G[i]);\r\n        groups = G &amp;&amp; new d3.InternSet(groups);\r\n\r\n        // Construct scales.\r\n        const color = G &amp;&amp; d3.scaleOrdinal(groups, colors);\r\n\r\n        // Compute labels and titles.\r\n        const L = label == null ? null : d3.map(data, label);\r\n        const T = title === undefined ? L : title == null ? null : d3.map(data, title);\r\n\r\n        // Compute layout: create a 1-deep hierarchy, and pack it.\r\n        const root = d3.pack()\r\n            .size([width - marginLeft - marginRight, height - marginTop - marginBottom])\r\n            .padding(padding)\r\n            (d3.hierarchy({children: I})\r\n                .sum(i =&gt; V[i]));\r\n\r\n        const svg = d3.create(&quot;svg&quot;)\r\n            .attr(&quot;width&quot;, width)\r\n            .attr(&quot;height&quot;, height)\r\n            .attr(&quot;viewBox&quot;, [-marginLeft, -marginTop, width, height])\r\n            .attr(&quot;style&quot;, &quot;max-width: 100%; height: auto; height: intrinsic;&quot;)\r\n            .attr(&quot;fill&quot;, &quot;currentColor&quot;)\r\n            .attr(&quot;font-size&quot;, 10)\r\n            .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)\r\n            .attr(&quot;text-anchor&quot;, &quot;middle&quot;);\r\n\r\n        const leaf = svg.selectAll(&quot;a&quot;)\r\n            .data(root.leaves())\r\n            .join(&quot;a&quot;)\r\n            .attr(&quot;xlink:href&quot;, link == null ? null : (d, i) =&gt; link(D[d.data], i, data))\r\n            .attr(&quot;target&quot;, link == null ? null : linkTarget)\r\n            .attr(&quot;transform&quot;, d =&gt; `translate(\\${d.x},\\${d.y})`);\r\n\r\n        leaf.append(&quot;circle&quot;)\r\n            .attr(&quot;stroke&quot;, stroke)\r\n            .attr(&quot;stroke-width&quot;, strokeWidth)\r\n            .attr(&quot;stroke-opacity&quot;, strokeOpacity)\r\n            .attr(&quot;fill&quot;, G ? d =&gt; color(G[d.data]) : fill == null ? &quot;none&quot; : fill)\r\n            .attr(&quot;fill-opacity&quot;, fillOpacity)\r\n            .attr(&quot;r&quot;, d =&gt; d.r);\r\n\r\n        if (T) leaf.append(&quot;title&quot;)\r\n            .text(d =&gt; T[d.data]);\r\n\r\n        if (L) {\r\n            // A unique identifier for clip paths (to avoid conflicts).\r\n            const uid = `O-\\${Math.random().toString(16).slice(2)}`;\r\n\r\n            leaf.append(&quot;clipPath&quot;)\r\n                .attr(&quot;id&quot;, d =&gt; `\\${uid}-clip-\\${d.data}`)\r\n                .append(&quot;circle&quot;)\r\n                .attr(&quot;r&quot;, d =&gt; d.r);\r\n\r\n            leaf.append(&quot;text&quot;)\r\n                .attr(&quot;clip-path&quot;, d =&gt; `url(\\${new URL(`#\\${uid}-clip-\\${d.data}`, location)})`)\r\n                .selectAll(&quot;tspan&quot;)\r\n                .data(d =&gt; `\\${L[d.data]}`.split(/\\n/g))\r\n                .join(&quot;tspan&quot;)\r\n                .attr(&quot;x&quot;, 0)\r\n                .attr(&quot;y&quot;, (d, i, D) =&gt; `\\${i - D.length / 2 + 0.85}em`)\r\n                .attr(&quot;fill-opacity&quot;, (d, i, D) =&gt; i === D.length - 1 ? 0.7 : null)\r\n                .text(d =&gt; d);\r\n        }\r\n\r\n        return Object.assign(svg.node(), {scales: {color}});\r\n    }\r\n\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI tested this locally with Tomcat 10.1.8 by adding this page to the example webapp and then entering the URL in a webbrowser.","title":"JSP Struggling with JavaScript Module Syntax","body":"<p>I was able to make your HTML page work as JSP. For this it was necessary to replace each and every instance of <code>${</code> in your page with <code>\\${</code> (10 times in total). Maybe in your test you forgot one of them.</p>\n<p>The converted template is</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;script type=&quot;module&quot;&gt;\n\n    import * as d3 from &quot;https://cdn.jsdelivr.net/npm/d3@7/+esm&quot;;\n\n    const svg = BubbleChart([[&quot;Hello&quot;, 10], [&quot;World&quot;, 20]]);\n    document.body.appendChild(svg);\n\n    // Copyright 2021 Observable, Inc.\n    // Released under the ISC license.\n    // https://observablehq.com/@d3/bubble-chart\n    function BubbleChart(data, {\n        name = ([x]) =&gt; x, // alias for label\n        label = name, // given d in data, returns text to display on the bubble\n        value = ([, y]) =&gt; y, // given d in data, returns a quantitative size\n        group, // given d in data, returns a categorical value for color\n        title, // given d in data, returns text to show on hover\n        link, // given a node d, its link (if any)\n        linkTarget = &quot;_blank&quot;, // the target attribute for links, if any\n        width = 640, // outer width, in pixels\n        height = width, // outer height, in pixels\n        padding = 3, // padding between circles\n        margin = 1, // default margins\n        marginTop = margin, // top margin, in pixels\n        marginRight = margin, // right margin, in pixels\n        marginBottom = margin, // bottom margin, in pixels\n        marginLeft = margin, // left margin, in pixels\n        groups, // array of group names (the domain of the color scale)\n        colors = d3.schemeTableau10, // an array of colors (for groups)\n        fill = &quot;#ccc&quot;, // a static fill color, if no group channel is specified\n        fillOpacity = 0.7, // the fill opacity of the bubbles\n        stroke, // a static stroke around the bubbles\n        strokeWidth, // the stroke width around the bubbles, if any\n        strokeOpacity, // the stroke opacity around the bubbles, if any\n    } = {}) {\n        // Compute the values.\n        const D = d3.map(data, d =&gt; d);\n        const V = d3.map(data, value);\n        const G = group == null ? null : d3.map(data, group);\n        const I = d3.range(V.length).filter(i =&gt; V[i] &gt; 0);\n\n        // Unique the groups.\n        if (G &amp;&amp; groups === undefined) groups = I.map(i =&gt; G[i]);\n        groups = G &amp;&amp; new d3.InternSet(groups);\n\n        // Construct scales.\n        const color = G &amp;&amp; d3.scaleOrdinal(groups, colors);\n\n        // Compute labels and titles.\n        const L = label == null ? null : d3.map(data, label);\n        const T = title === undefined ? L : title == null ? null : d3.map(data, title);\n\n        // Compute layout: create a 1-deep hierarchy, and pack it.\n        const root = d3.pack()\n            .size([width - marginLeft - marginRight, height - marginTop - marginBottom])\n            .padding(padding)\n            (d3.hierarchy({children: I})\n                .sum(i =&gt; V[i]));\n\n        const svg = d3.create(&quot;svg&quot;)\n            .attr(&quot;width&quot;, width)\n            .attr(&quot;height&quot;, height)\n            .attr(&quot;viewBox&quot;, [-marginLeft, -marginTop, width, height])\n            .attr(&quot;style&quot;, &quot;max-width: 100%; height: auto; height: intrinsic;&quot;)\n            .attr(&quot;fill&quot;, &quot;currentColor&quot;)\n            .attr(&quot;font-size&quot;, 10)\n            .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)\n            .attr(&quot;text-anchor&quot;, &quot;middle&quot;);\n\n        const leaf = svg.selectAll(&quot;a&quot;)\n            .data(root.leaves())\n            .join(&quot;a&quot;)\n            .attr(&quot;xlink:href&quot;, link == null ? null : (d, i) =&gt; link(D[d.data], i, data))\n            .attr(&quot;target&quot;, link == null ? null : linkTarget)\n            .attr(&quot;transform&quot;, d =&gt; `translate(\\${d.x},\\${d.y})`);\n\n        leaf.append(&quot;circle&quot;)\n            .attr(&quot;stroke&quot;, stroke)\n            .attr(&quot;stroke-width&quot;, strokeWidth)\n            .attr(&quot;stroke-opacity&quot;, strokeOpacity)\n            .attr(&quot;fill&quot;, G ? d =&gt; color(G[d.data]) : fill == null ? &quot;none&quot; : fill)\n            .attr(&quot;fill-opacity&quot;, fillOpacity)\n            .attr(&quot;r&quot;, d =&gt; d.r);\n\n        if (T) leaf.append(&quot;title&quot;)\n            .text(d =&gt; T[d.data]);\n\n        if (L) {\n            // A unique identifier for clip paths (to avoid conflicts).\n            const uid = `O-\\${Math.random().toString(16).slice(2)}`;\n\n            leaf.append(&quot;clipPath&quot;)\n                .attr(&quot;id&quot;, d =&gt; `\\${uid}-clip-\\${d.data}`)\n                .append(&quot;circle&quot;)\n                .attr(&quot;r&quot;, d =&gt; d.r);\n\n            leaf.append(&quot;text&quot;)\n                .attr(&quot;clip-path&quot;, d =&gt; `url(\\${new URL(`#\\${uid}-clip-\\${d.data}`, location)})`)\n                .selectAll(&quot;tspan&quot;)\n                .data(d =&gt; `\\${L[d.data]}`.split(/\\n/g))\n                .join(&quot;tspan&quot;)\n                .attr(&quot;x&quot;, 0)\n                .attr(&quot;y&quot;, (d, i, D) =&gt; `\\${i - D.length / 2 + 0.85}em`)\n                .attr(&quot;fill-opacity&quot;, (d, i, D) =&gt; i === D.length - 1 ? 0.7 : null)\n                .text(d =&gt; d);\n        }\n\n        return Object.assign(svg.node(), {scales: {color}});\n    }\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I tested this locally with Tomcat 10.1.8 by adding this page to the example webapp and then entering the URL in a webbrowser.</p>\n"}],"owner":{"account_id":7372094,"reputation":900,"user_id":5611967,"accept_rate":32,"display_name":"Michael Cropper"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76105713,"answer_count":1,"score":1,"last_activity_date":1682891985,"creation_date":1682110078,"question_id":76076607,"body_markdown":"Bit confused by this one. \r\n\r\nSample: HelloBubble.html\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;script type=&quot;module&quot;&gt;\r\n\r\nimport * as d3 from &quot;https://cdn.jsdelivr.net/npm/d3@7/+esm&quot;;\r\n\r\nconst svg = BubbleChart([[&quot;Hello&quot;, 10], [&quot;World&quot;, 20]]);\r\ndocument.body.appendChild(svg);\r\n\r\n// Copyright 2021 Observable, Inc.\r\n// Released under the ISC license.\r\n// https://observablehq.com/@d3/bubble-chart\r\nfunction BubbleChart(data, {\r\n  name = ([x]) =&gt; x, // alias for label\r\n  label = name, // given d in data, returns text to display on the bubble\r\n  value = ([, y]) =&gt; y, // given d in data, returns a quantitative size\r\n  group, // given d in data, returns a categorical value for color\r\n  title, // given d in data, returns text to show on hover\r\n  link, // given a node d, its link (if any)\r\n  linkTarget = &quot;_blank&quot;, // the target attribute for links, if any\r\n  width = 640, // outer width, in pixels\r\n  height = width, // outer height, in pixels\r\n  padding = 3, // padding between circles\r\n  margin = 1, // default margins\r\n  marginTop = margin, // top margin, in pixels\r\n  marginRight = margin, // right margin, in pixels\r\n  marginBottom = margin, // bottom margin, in pixels\r\n  marginLeft = margin, // left margin, in pixels\r\n  groups, // array of group names (the domain of the color scale)\r\n  colors = d3.schemeTableau10, // an array of colors (for groups)\r\n  fill = &quot;#ccc&quot;, // a static fill color, if no group channel is specified\r\n  fillOpacity = 0.7, // the fill opacity of the bubbles\r\n  stroke, // a static stroke around the bubbles\r\n  strokeWidth, // the stroke width around the bubbles, if any\r\n  strokeOpacity, // the stroke opacity around the bubbles, if any\r\n} = {}) {\r\n  // Compute the values.\r\n  const D = d3.map(data, d =&gt; d);\r\n  const V = d3.map(data, value);\r\n  const G = group == null ? null : d3.map(data, group);\r\n  const I = d3.range(V.length).filter(i =&gt; V[i] &gt; 0);\r\n\r\n  // Unique the groups.\r\n  if (G &amp;&amp; groups === undefined) groups = I.map(i =&gt; G[i]);\r\n  groups = G &amp;&amp; new d3.InternSet(groups);\r\n\r\n  // Construct scales.\r\n  const color = G &amp;&amp; d3.scaleOrdinal(groups, colors);\r\n\r\n  // Compute labels and titles.\r\n  const L = label == null ? null : d3.map(data, label);\r\n  const T = title === undefined ? L : title == null ? null : d3.map(data, title);\r\n\r\n  // Compute layout: create a 1-deep hierarchy, and pack it.\r\n  const root = d3.pack()\r\n      .size([width - marginLeft - marginRight, height - marginTop - marginBottom])\r\n      .padding(padding)\r\n    (d3.hierarchy({children: I})\r\n      .sum(i =&gt; V[i]));\r\n\r\n  const svg = d3.create(&quot;svg&quot;)\r\n      .attr(&quot;width&quot;, width)\r\n      .attr(&quot;height&quot;, height)\r\n      .attr(&quot;viewBox&quot;, [-marginLeft, -marginTop, width, height])\r\n      .attr(&quot;style&quot;, &quot;max-width: 100%; height: auto; height: intrinsic;&quot;)\r\n      .attr(&quot;fill&quot;, &quot;currentColor&quot;)\r\n      .attr(&quot;font-size&quot;, 10)\r\n      .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)\r\n      .attr(&quot;text-anchor&quot;, &quot;middle&quot;);\r\n\r\n  const leaf = svg.selectAll(&quot;a&quot;)\r\n    .data(root.leaves())\r\n    .join(&quot;a&quot;)\r\n      .attr(&quot;xlink:href&quot;, link == null ? null : (d, i) =&gt; link(D[d.data], i, data))\r\n      .attr(&quot;target&quot;, link == null ? null : linkTarget)\r\n      .attr(&quot;transform&quot;, d =&gt; `translate(${d.x},${d.y})`);\r\n\r\n  leaf.append(&quot;circle&quot;)\r\n      .attr(&quot;stroke&quot;, stroke)\r\n      .attr(&quot;stroke-width&quot;, strokeWidth)\r\n      .attr(&quot;stroke-opacity&quot;, strokeOpacity)\r\n      .attr(&quot;fill&quot;, G ? d =&gt; color(G[d.data]) : fill == null ? &quot;none&quot; : fill)\r\n      .attr(&quot;fill-opacity&quot;, fillOpacity)\r\n      .attr(&quot;r&quot;, d =&gt; d.r);\r\n\r\n  if (T) leaf.append(&quot;title&quot;)\r\n      .text(d =&gt; T[d.data]);\r\n\r\n  if (L) {\r\n    // A unique identifier for clip paths (to avoid conflicts).\r\n    const uid = `O-${Math.random().toString(16).slice(2)}`;\r\n\r\n    leaf.append(&quot;clipPath&quot;)\r\n        .attr(&quot;id&quot;, d =&gt; `${uid}-clip-${d.data}`)\r\n      .append(&quot;circle&quot;)\r\n        .attr(&quot;r&quot;, d =&gt; d.r);\r\n\r\n    leaf.append(&quot;text&quot;)\r\n        .attr(&quot;clip-path&quot;, d =&gt; `url(${new URL(`#${uid}-clip-${d.data}`, location)})`)\r\n      .selectAll(&quot;tspan&quot;)\r\n      .data(d =&gt; `${L[d.data]}`.split(/\\n/g))\r\n      .join(&quot;tspan&quot;)\r\n        .attr(&quot;x&quot;, 0)\r\n        .attr(&quot;y&quot;, (d, i, D) =&gt; `${i - D.length / 2 + 0.85}em`)\r\n        .attr(&quot;fill-opacity&quot;, (d, i, D) =&gt; i === D.length - 1 ? 0.7 : null)\r\n        .text(d =&gt; d);\r\n  }\r\n\r\n  return Object.assign(svg.node(), {scales: {color}});\r\n}\r\n\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nNow I put the exact same content inside a JSP, and I have problems, specifically with these couple of lines;\r\n\r\n```\r\n.attr(&quot;clip-path&quot;, d =&gt; `url(${new URL(`#${uid}-clip-${d.data}`, location)})`)\r\n```\r\n\r\nand \r\n\r\n```\r\nconst uid = `O-${Math.random().toString(16).slice(2)}`;\r\n```\r\n\r\nShould say that this is a copy and paste JavaScript example from the docs of D3 (give or take...)\r\n\r\nI&#39;m just confused why this works fine in a basic .html file, but I get errors failing to compile the .war file when I&#39;m using NetBeans IDE 8.2 (yes, I know, it&#39;s old... I like it) with a Java Maven Web App Project. \r\n\r\nI&#39;m not a JavaScript guru. But what is very apparent in those two lines I&#39;m getting errors on is that this looks extremely similar to Java syntax. Feels as though JavaScript is perhaps getting a bit too big for it&#39;s boots here and is confusing the IDE. \r\n\r\nIn addition, I also have no idea what this code actually does at the minute either. Took me a few weeks to get a working example from D3 that I could actually get working with the docs being so poor. Hence I&#39;m assuming the root cause is highly likely more modern JavaScript syntax (and modules) and an older NetBeans getting a bit confused. \r\n\r\nI&#39;d just prefer not to upgrade my local development environment because of one library (although I&#39;m probably going to have to test this while working through this question on StackOverflow to rule that out...)\r\n\r\n**Update 1 - Errors in IDE when Running JSP in Web Browser**\r\n\r\nError being caused by the two lines above. \r\n\r\nIn IDE on compile is - Technically not on compile, but has a big red line saying &quot;Encoutered &quot;URL&quot; at line 1, column 7. Was expecting one of; {loads of different types of opening/closing brackets, about 20 of them}&quot;;\r\n\r\nThen when I run the JSP I get this error appearing in the IDE console (the page fails to load in the web browser);\r\n\r\n```\r\n***lots of other stuff***\r\n\r\n javax.el.MethodNotFoundException: Method not found: class java.lang.String.slice(java.lang.Long)\r\n\r\n415: \r\n416:             if (L) {\r\n417:             // A unique identifier for clip paths (to avoid conflicts).\r\n418:             const uid = `O-${Math.random().toString(16).slice(2)}`;\r\n419: \r\n420:             leaf.append(&quot;clipPath&quot;)\r\n421:             .attr(&quot;id&quot;, d =&gt; `${uid}-clip-${d.data}`)\r\n\r\n***lots of other stuff***\r\n\r\nStacktrace:] with root cause\r\n javax.el.MethodNotFoundException: Method not found: class java.lang.String.slice(java.lang.Long)\r\n```\r\n\r\nThen I delete that line causing the error and get a different error;\r\n\r\n```\r\n21-Apr-2023 22:05:24.783 SEVERE [http-nio-8084-exec-295] org.apache.catalina.core.ApplicationDispatcher.invoke Servlet.service() for servlet jsp threw exception\r\n javax.el.ELException: The identifier [new] is not a valid Java identifier as required by section 1.19 of the EL specification (Identifier ::= Java language identifier). This check can be disabled by setting the system property org.apache.el.parser.SKIP_IDENTIFIER_CHECK to true.\r\n\r\n***lots of other stuff***\r\n\r\n423:             .attr(&quot;r&quot;, d =&gt; d.r);\r\n424: \r\n425:             leaf.append(&quot;text&quot;)\r\n426:             .attr(&quot;clip-path&quot;, d =&gt; `url(${new URL(`#${uid}-clip-${d.data}`, location)})`)\r\n427:             .selectAll(&quot;tspan&quot;)\r\n428:             .data(d =&gt; `${L[d.data]}`.split(/\\n/g))\r\n429:             .join(&quot;tspan&quot;)\r\n\r\n\r\nStacktrace:] with root cause\r\n javax.el.ELException: The identifier [new] is not a valid Java identifier as required by section 1.19 of the EL specification (Identifier ::= Java language identifier). This check can be disabled by setting the system property org.apache.el.parser.SKIP_IDENTIFIER_CHECK to true.\r\n```\r\n\r\n**Update 2 - Trying with JavaScript in External .js File**\r\nWe may be onto something here. So what I have just tried... is splitting this out as suggested. \r\n\r\nSo we now have;\r\n - HelloBubble.jsp\r\n - /JavaScript/HelloBubble.js\r\n\r\nJSP;\r\n```\r\n&lt;script src=&quot;/JavaScript/HelloBubble.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script type=&quot;module&quot;&gt;\r\n            import * as d3 from &quot;https://cdn.jsdelivr.net/npm/d3@7/+esm&quot;;\r\n\r\n            const svg = BubbleChart([[&quot;Hello&quot;, 10], [&quot;World&quot;, 20]]);\r\n            document.body.appendChild(svg);\r\n        &lt;/script&gt;\r\n```\r\n\r\nJavaScript;\r\n```\r\nRest of code from earlier, excluding for ease\r\n```\r\n\r\nWhen I do this, this is the error I&#39;m getting in the Web Browser Console when loading the page - Seems like it is a step in the right direction though;\r\n\r\n```\r\ncaught TypeError: svg.selectAll(...).data(...).join is not a function\r\n    at BubbleChart (HelloBubble.js:73:14)\r\n    at HelloBubble**[.jsp]**:524:25\r\n```\r\n\r\nAdded the **[.jsp]** bit above for ease of understanding.\r\n\r\nThis is feeling to me that the two bits of JavaScript (the data in the JSP, and the core function in the .js file) aren&#39;t quite talking to each other. \r\n\r\nFor completeness, this is now the complete contents of the HelloBubble.js file;\r\n\r\n```\r\n// Copyright 2021 Observable, Inc.\r\n// Released under the ISC license.\r\n// https://observablehq.com/@d3/bubble-chart\r\nfunction BubbleChart(data, {\r\nname = ([x]) =&gt; x, // alias for label\r\n        label = name, // given d in data, returns text to display on the bubble\r\n        value = ([, y]) =&gt; y, // given d in data, returns a quantitative size\r\n        group, // given d in data, returns a categorical value for color\r\n        title, // given d in data, returns text to show on hover\r\n        link, // given a node d, its link (if any)\r\n        linkTarget = &quot;_blank&quot;, // the target attribute for links, if any\r\n        width = 640, // outer width, in pixels\r\n        height = width, // outer height, in pixels\r\n        padding = 3, // padding between circles\r\n        margin = 1, // default margins\r\n        marginTop = margin, // top margin, in pixels\r\n        marginRight = margin, // right margin, in pixels\r\n        marginBottom = margin, // bottom margin, in pixels\r\n        marginLeft = margin, // left margin, in pixels\r\n        groups, // array of group names (the domain of the color scale)\r\n        colors = d3.schemeTableau10, // an array of colors (for groups)\r\n        fill = &quot;#ccc&quot;, // a static fill color, if no group channel is specified\r\n        fillOpacity = 0.7, // the fill opacity of the bubbles\r\n        stroke, // a static stroke around the bubbles\r\n        strokeWidth, // the stroke width around the bubbles, if any\r\n        strokeOpacity, // the stroke opacity around the bubbles, if any\r\n} = {}) {\r\n    // Compute the values.\r\n    const D = d3.map(data, d =&gt; d);\r\n    const V = d3.map(data, value);\r\n    const G = group == null ? null : d3.map(data, group);\r\n    const I = d3.range(V.length).filter(i =&gt; V[i] &gt; 0);\r\n\r\n    // Unique the groups.\r\n    if (G &amp;&amp; groups === undefined)\r\n        groups = I.map(i =&gt; G[i]);\r\n    groups = G &amp;&amp; new d3.InternSet(groups);\r\n\r\n    // Construct scales.\r\n    const color = G &amp;&amp; d3.scaleOrdinal(groups, colors);\r\n\r\n    // Compute labels and titles.\r\n    const L = label == null ? null : d3.map(data, label);\r\n    const T = title === undefined ? L : title == null ? null : d3.map(data, title);\r\n\r\n    // Compute layout: create a 1-deep hierarchy, and pack it.\r\n    const root = d3.pack()\r\n            .size([width - marginLeft - marginRight, height - marginTop - marginBottom])\r\n            .padding(padding)\r\n            (d3.hierarchy({children: I})\r\n                    .sum(i =&gt; V[i]));\r\n\r\n    const svg = d3.create(&quot;svg&quot;)\r\n            .attr(&quot;width&quot;, width)\r\n            .attr(&quot;height&quot;, height)\r\n            .attr(&quot;viewBox&quot;, [-marginLeft, -marginTop, width, height])\r\n            .attr(&quot;style&quot;, &quot;max-width: 100%; height: auto; height: intrinsic;&quot;)\r\n            .attr(&quot;fill&quot;, &quot;currentColor&quot;)\r\n            .attr(&quot;font-size&quot;, 10)\r\n            .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)\r\n            .attr(&quot;text-anchor&quot;, &quot;middle&quot;);\r\n\r\n    const leaf = svg.selectAll(&quot;a&quot;)\r\n            .data(root.leaves())\r\n            .join(&quot;a&quot;)\r\n            .attr(&quot;xlink:href&quot;, link == null ? null : (d, i) =&gt; link(D[d.data], i, data))\r\n            .attr(&quot;target&quot;, link == null ? null : linkTarget)\r\n            .attr(&quot;transform&quot;, d =&gt; `translate(${d.x},${d.y})`);\r\n\r\n    leaf.append(&quot;circle&quot;)\r\n            .attr(&quot;stroke&quot;, stroke)\r\n            .attr(&quot;stroke-width&quot;, strokeWidth)\r\n            .attr(&quot;stroke-opacity&quot;, strokeOpacity)\r\n            .attr(&quot;fill&quot;, G ? d =&gt; color(G[d.data]) : fill == null ? &quot;none&quot; : fill)\r\n            .attr(&quot;fill-opacity&quot;, fillOpacity)\r\n            .attr(&quot;r&quot;, d =&gt; d.r);\r\n\r\n    if (T)\r\n        leaf.append(&quot;title&quot;)\r\n                .text(d =&gt; T[d.data]);\r\n\r\n    if (L) {\r\n        // A unique identifier for clip paths (to avoid conflicts).\r\n\r\n\r\n        leaf.append(&quot;clipPath&quot;)\r\n                .attr(&quot;id&quot;, d =&gt; `${uid}-clip-${d.data}`)\r\n                .append(&quot;circle&quot;)\r\n                .attr(&quot;r&quot;, d =&gt; d.r);\r\n\r\n        leaf.append(&quot;text&quot;)\r\n                .attr(&quot;clip-path&quot;, d =&gt; `url(${new URL(`#${uid}-clip-${d.data}`, location)})`)\r\n                .selectAll(&quot;tspan&quot;)\r\n                .data(d =&gt; `${L[d.data]}`.split(/\\n/g))\r\n                .join(&quot;tspan&quot;)\r\n                .attr(&quot;x&quot;, 0)\r\n                .attr(&quot;y&quot;, (d, i, D) =&gt; `${i - D.length / 2 + 0.85}em`)\r\n                .attr(&quot;fill-opacity&quot;, (d, i, D) =&gt; i === D.length - 1 ? 0.7 : null)\r\n                .text(d =&gt; d);\r\n    }\r\n\r\n    return Object.assign(svg.node(), {scales: {color}});\r\n}\r\n```","title":"JSP Struggling with JavaScript Module Syntax","body":"<p>Bit confused by this one.</p>\n<p>Sample: HelloBubble.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;script type=&quot;module&quot;&gt;\n\nimport * as d3 from &quot;https://cdn.jsdelivr.net/npm/d3@7/+esm&quot;;\n\nconst svg = BubbleChart([[&quot;Hello&quot;, 10], [&quot;World&quot;, 20]]);\ndocument.body.appendChild(svg);\n\n// Copyright 2021 Observable, Inc.\n// Released under the ISC license.\n// https://observablehq.com/@d3/bubble-chart\nfunction BubbleChart(data, {\n  name = ([x]) =&gt; x, // alias for label\n  label = name, // given d in data, returns text to display on the bubble\n  value = ([, y]) =&gt; y, // given d in data, returns a quantitative size\n  group, // given d in data, returns a categorical value for color\n  title, // given d in data, returns text to show on hover\n  link, // given a node d, its link (if any)\n  linkTarget = &quot;_blank&quot;, // the target attribute for links, if any\n  width = 640, // outer width, in pixels\n  height = width, // outer height, in pixels\n  padding = 3, // padding between circles\n  margin = 1, // default margins\n  marginTop = margin, // top margin, in pixels\n  marginRight = margin, // right margin, in pixels\n  marginBottom = margin, // bottom margin, in pixels\n  marginLeft = margin, // left margin, in pixels\n  groups, // array of group names (the domain of the color scale)\n  colors = d3.schemeTableau10, // an array of colors (for groups)\n  fill = &quot;#ccc&quot;, // a static fill color, if no group channel is specified\n  fillOpacity = 0.7, // the fill opacity of the bubbles\n  stroke, // a static stroke around the bubbles\n  strokeWidth, // the stroke width around the bubbles, if any\n  strokeOpacity, // the stroke opacity around the bubbles, if any\n} = {}) {\n  // Compute the values.\n  const D = d3.map(data, d =&gt; d);\n  const V = d3.map(data, value);\n  const G = group == null ? null : d3.map(data, group);\n  const I = d3.range(V.length).filter(i =&gt; V[i] &gt; 0);\n\n  // Unique the groups.\n  if (G &amp;&amp; groups === undefined) groups = I.map(i =&gt; G[i]);\n  groups = G &amp;&amp; new d3.InternSet(groups);\n\n  // Construct scales.\n  const color = G &amp;&amp; d3.scaleOrdinal(groups, colors);\n\n  // Compute labels and titles.\n  const L = label == null ? null : d3.map(data, label);\n  const T = title === undefined ? L : title == null ? null : d3.map(data, title);\n\n  // Compute layout: create a 1-deep hierarchy, and pack it.\n  const root = d3.pack()\n      .size([width - marginLeft - marginRight, height - marginTop - marginBottom])\n      .padding(padding)\n    (d3.hierarchy({children: I})\n      .sum(i =&gt; V[i]));\n\n  const svg = d3.create(&quot;svg&quot;)\n      .attr(&quot;width&quot;, width)\n      .attr(&quot;height&quot;, height)\n      .attr(&quot;viewBox&quot;, [-marginLeft, -marginTop, width, height])\n      .attr(&quot;style&quot;, &quot;max-width: 100%; height: auto; height: intrinsic;&quot;)\n      .attr(&quot;fill&quot;, &quot;currentColor&quot;)\n      .attr(&quot;font-size&quot;, 10)\n      .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)\n      .attr(&quot;text-anchor&quot;, &quot;middle&quot;);\n\n  const leaf = svg.selectAll(&quot;a&quot;)\n    .data(root.leaves())\n    .join(&quot;a&quot;)\n      .attr(&quot;xlink:href&quot;, link == null ? null : (d, i) =&gt; link(D[d.data], i, data))\n      .attr(&quot;target&quot;, link == null ? null : linkTarget)\n      .attr(&quot;transform&quot;, d =&gt; `translate(${d.x},${d.y})`);\n\n  leaf.append(&quot;circle&quot;)\n      .attr(&quot;stroke&quot;, stroke)\n      .attr(&quot;stroke-width&quot;, strokeWidth)\n      .attr(&quot;stroke-opacity&quot;, strokeOpacity)\n      .attr(&quot;fill&quot;, G ? d =&gt; color(G[d.data]) : fill == null ? &quot;none&quot; : fill)\n      .attr(&quot;fill-opacity&quot;, fillOpacity)\n      .attr(&quot;r&quot;, d =&gt; d.r);\n\n  if (T) leaf.append(&quot;title&quot;)\n      .text(d =&gt; T[d.data]);\n\n  if (L) {\n    // A unique identifier for clip paths (to avoid conflicts).\n    const uid = `O-${Math.random().toString(16).slice(2)}`;\n\n    leaf.append(&quot;clipPath&quot;)\n        .attr(&quot;id&quot;, d =&gt; `${uid}-clip-${d.data}`)\n      .append(&quot;circle&quot;)\n        .attr(&quot;r&quot;, d =&gt; d.r);\n\n    leaf.append(&quot;text&quot;)\n        .attr(&quot;clip-path&quot;, d =&gt; `url(${new URL(`#${uid}-clip-${d.data}`, location)})`)\n      .selectAll(&quot;tspan&quot;)\n      .data(d =&gt; `${L[d.data]}`.split(/\\n/g))\n      .join(&quot;tspan&quot;)\n        .attr(&quot;x&quot;, 0)\n        .attr(&quot;y&quot;, (d, i, D) =&gt; `${i - D.length / 2 + 0.85}em`)\n        .attr(&quot;fill-opacity&quot;, (d, i, D) =&gt; i === D.length - 1 ? 0.7 : null)\n        .text(d =&gt; d);\n  }\n\n  return Object.assign(svg.node(), {scales: {color}});\n}\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Now I put the exact same content inside a JSP, and I have problems, specifically with these couple of lines;</p>\n<pre><code>.attr(&quot;clip-path&quot;, d =&gt; `url(${new URL(`#${uid}-clip-${d.data}`, location)})`)\n</code></pre>\n<p>and</p>\n<pre><code>const uid = `O-${Math.random().toString(16).slice(2)}`;\n</code></pre>\n<p>Should say that this is a copy and paste JavaScript example from the docs of D3 (give or take...)</p>\n<p>I'm just confused why this works fine in a basic .html file, but I get errors failing to compile the .war file when I'm using NetBeans IDE 8.2 (yes, I know, it's old... I like it) with a Java Maven Web App Project.</p>\n<p>I'm not a JavaScript guru. But what is very apparent in those two lines I'm getting errors on is that this looks extremely similar to Java syntax. Feels as though JavaScript is perhaps getting a bit too big for it's boots here and is confusing the IDE.</p>\n<p>In addition, I also have no idea what this code actually does at the minute either. Took me a few weeks to get a working example from D3 that I could actually get working with the docs being so poor. Hence I'm assuming the root cause is highly likely more modern JavaScript syntax (and modules) and an older NetBeans getting a bit confused.</p>\n<p>I'd just prefer not to upgrade my local development environment because of one library (although I'm probably going to have to test this while working through this question on StackOverflow to rule that out...)</p>\n<p><strong>Update 1 - Errors in IDE when Running JSP in Web Browser</strong></p>\n<p>Error being caused by the two lines above.</p>\n<p>In IDE on compile is - Technically not on compile, but has a big red line saying &quot;Encoutered &quot;URL&quot; at line 1, column 7. Was expecting one of; {loads of different types of opening/closing brackets, about 20 of them}&quot;;</p>\n<p>Then when I run the JSP I get this error appearing in the IDE console (the page fails to load in the web browser);</p>\n<pre><code>***lots of other stuff***\n\n javax.el.MethodNotFoundException: Method not found: class java.lang.String.slice(java.lang.Long)\n\n415: \n416:             if (L) {\n417:             // A unique identifier for clip paths (to avoid conflicts).\n418:             const uid = `O-${Math.random().toString(16).slice(2)}`;\n419: \n420:             leaf.append(&quot;clipPath&quot;)\n421:             .attr(&quot;id&quot;, d =&gt; `${uid}-clip-${d.data}`)\n\n***lots of other stuff***\n\nStacktrace:] with root cause\n javax.el.MethodNotFoundException: Method not found: class java.lang.String.slice(java.lang.Long)\n</code></pre>\n<p>Then I delete that line causing the error and get a different error;</p>\n<pre><code>21-Apr-2023 22:05:24.783 SEVERE [http-nio-8084-exec-295] org.apache.catalina.core.ApplicationDispatcher.invoke Servlet.service() for servlet jsp threw exception\n javax.el.ELException: The identifier [new] is not a valid Java identifier as required by section 1.19 of the EL specification (Identifier ::= Java language identifier). This check can be disabled by setting the system property org.apache.el.parser.SKIP_IDENTIFIER_CHECK to true.\n\n***lots of other stuff***\n\n423:             .attr(&quot;r&quot;, d =&gt; d.r);\n424: \n425:             leaf.append(&quot;text&quot;)\n426:             .attr(&quot;clip-path&quot;, d =&gt; `url(${new URL(`#${uid}-clip-${d.data}`, location)})`)\n427:             .selectAll(&quot;tspan&quot;)\n428:             .data(d =&gt; `${L[d.data]}`.split(/\\n/g))\n429:             .join(&quot;tspan&quot;)\n\n\nStacktrace:] with root cause\n javax.el.ELException: The identifier [new] is not a valid Java identifier as required by section 1.19 of the EL specification (Identifier ::= Java language identifier). This check can be disabled by setting the system property org.apache.el.parser.SKIP_IDENTIFIER_CHECK to true.\n</code></pre>\n<p><strong>Update 2 - Trying with JavaScript in External .js File</strong>\nWe may be onto something here. So what I have just tried... is splitting this out as suggested.</p>\n<p>So we now have;</p>\n<ul>\n<li>HelloBubble.jsp</li>\n<li>/JavaScript/HelloBubble.js</li>\n</ul>\n<p>JSP;</p>\n<pre><code>&lt;script src=&quot;/JavaScript/HelloBubble.js&quot;&gt;&lt;/script&gt;\n        &lt;script type=&quot;module&quot;&gt;\n            import * as d3 from &quot;https://cdn.jsdelivr.net/npm/d3@7/+esm&quot;;\n\n            const svg = BubbleChart([[&quot;Hello&quot;, 10], [&quot;World&quot;, 20]]);\n            document.body.appendChild(svg);\n        &lt;/script&gt;\n</code></pre>\n<p>JavaScript;</p>\n<pre><code>Rest of code from earlier, excluding for ease\n</code></pre>\n<p>When I do this, this is the error I'm getting in the Web Browser Console when loading the page - Seems like it is a step in the right direction though;</p>\n<pre><code>caught TypeError: svg.selectAll(...).data(...).join is not a function\n    at BubbleChart (HelloBubble.js:73:14)\n    at HelloBubble**[.jsp]**:524:25\n</code></pre>\n<p>Added the <strong>[.jsp]</strong> bit above for ease of understanding.</p>\n<p>This is feeling to me that the two bits of JavaScript (the data in the JSP, and the core function in the .js file) aren't quite talking to each other.</p>\n<p>For completeness, this is now the complete contents of the HelloBubble.js file;</p>\n<pre><code>// Copyright 2021 Observable, Inc.\n// Released under the ISC license.\n// https://observablehq.com/@d3/bubble-chart\nfunction BubbleChart(data, {\nname = ([x]) =&gt; x, // alias for label\n        label = name, // given d in data, returns text to display on the bubble\n        value = ([, y]) =&gt; y, // given d in data, returns a quantitative size\n        group, // given d in data, returns a categorical value for color\n        title, // given d in data, returns text to show on hover\n        link, // given a node d, its link (if any)\n        linkTarget = &quot;_blank&quot;, // the target attribute for links, if any\n        width = 640, // outer width, in pixels\n        height = width, // outer height, in pixels\n        padding = 3, // padding between circles\n        margin = 1, // default margins\n        marginTop = margin, // top margin, in pixels\n        marginRight = margin, // right margin, in pixels\n        marginBottom = margin, // bottom margin, in pixels\n        marginLeft = margin, // left margin, in pixels\n        groups, // array of group names (the domain of the color scale)\n        colors = d3.schemeTableau10, // an array of colors (for groups)\n        fill = &quot;#ccc&quot;, // a static fill color, if no group channel is specified\n        fillOpacity = 0.7, // the fill opacity of the bubbles\n        stroke, // a static stroke around the bubbles\n        strokeWidth, // the stroke width around the bubbles, if any\n        strokeOpacity, // the stroke opacity around the bubbles, if any\n} = {}) {\n    // Compute the values.\n    const D = d3.map(data, d =&gt; d);\n    const V = d3.map(data, value);\n    const G = group == null ? null : d3.map(data, group);\n    const I = d3.range(V.length).filter(i =&gt; V[i] &gt; 0);\n\n    // Unique the groups.\n    if (G &amp;&amp; groups === undefined)\n        groups = I.map(i =&gt; G[i]);\n    groups = G &amp;&amp; new d3.InternSet(groups);\n\n    // Construct scales.\n    const color = G &amp;&amp; d3.scaleOrdinal(groups, colors);\n\n    // Compute labels and titles.\n    const L = label == null ? null : d3.map(data, label);\n    const T = title === undefined ? L : title == null ? null : d3.map(data, title);\n\n    // Compute layout: create a 1-deep hierarchy, and pack it.\n    const root = d3.pack()\n            .size([width - marginLeft - marginRight, height - marginTop - marginBottom])\n            .padding(padding)\n            (d3.hierarchy({children: I})\n                    .sum(i =&gt; V[i]));\n\n    const svg = d3.create(&quot;svg&quot;)\n            .attr(&quot;width&quot;, width)\n            .attr(&quot;height&quot;, height)\n            .attr(&quot;viewBox&quot;, [-marginLeft, -marginTop, width, height])\n            .attr(&quot;style&quot;, &quot;max-width: 100%; height: auto; height: intrinsic;&quot;)\n            .attr(&quot;fill&quot;, &quot;currentColor&quot;)\n            .attr(&quot;font-size&quot;, 10)\n            .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)\n            .attr(&quot;text-anchor&quot;, &quot;middle&quot;);\n\n    const leaf = svg.selectAll(&quot;a&quot;)\n            .data(root.leaves())\n            .join(&quot;a&quot;)\n            .attr(&quot;xlink:href&quot;, link == null ? null : (d, i) =&gt; link(D[d.data], i, data))\n            .attr(&quot;target&quot;, link == null ? null : linkTarget)\n            .attr(&quot;transform&quot;, d =&gt; `translate(${d.x},${d.y})`);\n\n    leaf.append(&quot;circle&quot;)\n            .attr(&quot;stroke&quot;, stroke)\n            .attr(&quot;stroke-width&quot;, strokeWidth)\n            .attr(&quot;stroke-opacity&quot;, strokeOpacity)\n            .attr(&quot;fill&quot;, G ? d =&gt; color(G[d.data]) : fill == null ? &quot;none&quot; : fill)\n            .attr(&quot;fill-opacity&quot;, fillOpacity)\n            .attr(&quot;r&quot;, d =&gt; d.r);\n\n    if (T)\n        leaf.append(&quot;title&quot;)\n                .text(d =&gt; T[d.data]);\n\n    if (L) {\n        // A unique identifier for clip paths (to avoid conflicts).\n\n\n        leaf.append(&quot;clipPath&quot;)\n                .attr(&quot;id&quot;, d =&gt; `${uid}-clip-${d.data}`)\n                .append(&quot;circle&quot;)\n                .attr(&quot;r&quot;, d =&gt; d.r);\n\n        leaf.append(&quot;text&quot;)\n                .attr(&quot;clip-path&quot;, d =&gt; `url(${new URL(`#${uid}-clip-${d.data}`, location)})`)\n                .selectAll(&quot;tspan&quot;)\n                .data(d =&gt; `${L[d.data]}`.split(/\\n/g))\n                .join(&quot;tspan&quot;)\n                .attr(&quot;x&quot;, 0)\n                .attr(&quot;y&quot;, (d, i, D) =&gt; `${i - D.length / 2 + 0.85}em`)\n                .attr(&quot;fill-opacity&quot;, (d, i, D) =&gt; i === D.length - 1 ? 0.7 : null)\n                .text(d =&gt; d);\n    }\n\n    return Object.assign(svg.node(), {scales: {color}});\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1682792294,"post_id":76137590,"comment_id":134272164,"body_markdown":"Several issues are immediately visible: If you override a painting method, you should call the super&#39;s method in your override to allow the component to do housekeeping painting -- you don&#39;t do this. You should almost never paint directly in a paint method, but rather should paint in a JPanel&#39;s paintComponent method (and call super.paintComponent(g) in the override). If you&#39;re overriding a JLabel, don&#39;t override its paint or paintComponent. Perhaps override paintIcon. Never use a java.util.Timer for a Swing project as this isn&#39;t thread-safe. use a javax.swing.Timer.","body":"Several issues are immediately visible: If you override a painting method, you should call the super&#39;s method in your override to allow the component to do housekeeping painting -- you don&#39;t do this. You should almost never paint directly in a paint method, but rather should paint in a JPanel&#39;s paintComponent method (and call super.paintComponent(g) in the override). If you&#39;re overriding a JLabel, don&#39;t override its paint or paintComponent. Perhaps override paintIcon. Never use a java.util.Timer for a Swing project as this isn&#39;t thread-safe. use a javax.swing.Timer."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1682792325,"post_id":76137590,"comment_id":134272165,"body_markdown":"You also use null layout and set bounds,... not good","body":"You also use null layout and set bounds,... not good"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1682800301,"post_id":76137590,"comment_id":134273182,"body_markdown":"Oh, and this, `new Color(255, 255, 255, 50)` is valid Java but not well used by the Swing library. It does not work well with semi-opaque components.","body":"Oh, and this, <code>new Color(255, 255, 255, 50)</code> is valid Java but not well used by the Swing library. It does not work well with semi-opaque components."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1682809555,"post_id":76137590,"comment_id":134274141,"body_markdown":"Swing is also not thread safe. You should not be updating the UI or any state the UI relies on from outside the context of the Event Dispatching Thread","body":"Swing is also not thread safe. You should not be updating the UI or any state the UI relies on from outside the context of the Event Dispatching Thread"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1682809640,"post_id":76137590,"comment_id":134274151,"body_markdown":"`public static class JImage extends JLabel {` .... why?  `JLabel` already has icon support - this seems otherwise completely redudent","body":"<code>public static class JImage extends JLabel {</code> .... why?  <code>JLabel</code> already has icon support - this seems otherwise completely redudent"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682891340,"creation_date":1682823213,"answer_id":76139344,"question_id":76137590,"body_markdown":"&gt; What did I do wrong ?\r\n\r\nA lot of things (sorry).\r\n\r\nSwing is single threaded AND not thread safe.  This is means that you can&#39;t run blocking or long running operations on the Event Dispatching Thread, it also means that you shouldn&#39;t update the UI or the any state the UI relies on from out side the Event Dispatching Thread context.\r\n\r\nSo, your loop in your `main` method and the use of `java.util.Timer` are violating the thread safety rule.\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details.\r\n\r\nUsing `null` layouts.  This might not seem like a big deal to you, but it will become a massive headache as you progress further.  Take the time to learn and understand the various layout options available to you.\r\n\r\nSee [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for more details.\r\n\r\nYou&#39;re violating the painting process.\r\n\r\n    @Override\r\n    public void paint(Graphics g){\r\n        g.drawImage(image == null ? null : image.getImage(), 0, 0, this.getWidth(), this.getHeight(), null);\r\n     }\r\n\r\n`paint` is a very complex method which does a lot of work, as a generally recommendation, you should avoid overriding `paint` and instead override `paintComponent`, but you must ensure that you either call `super.paintComponent` or re-implement the functionality that the method does.\r\n\r\n`Graphics` is a shared context which is passed to each component during a paint process.  One of the jobs that the painting process does, is &quot;clear&quot; what was previously painted, this is why it&#39;s important to ensure that you&#39;re working within the painting process.\r\n\r\nI would suggest looking at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)\r\n\r\nThe `JImage` class doesn&#39;t really make sense. `JLabel` is already very good at rendering images.  If you wanted to make a simpler workflow (which you&#39;re not really doing), I might consider creating a factory method or utility class to create a `JLabel` with the configuration you want.\r\n\r\n`jProgressBar.setBackground(new Color(255, 255, 255, 50));` - Swing components doesn&#39;t support alpha based colors, they are either fully opaque or fully transparent.\r\n\r\nIMHO I&#39;d be wary of doing something like `public JImage(String path){`.  I mean, what does `String path` actually mean?  Is it a file path on the local disk?  Is it a named resource? Is it something else.  Generally speaking, I would recommend using `File` and `URL` as it&#39;s clear what the source should be - just saying.\r\n\r\n# So, what&#39;s the solution?\r\n\r\nMake use of a `SwingWorker` to perform long running operations, this allows you to easily sync updates back the Event Dispatching Thread.  For repeating operations, use a Swing `Timer`, the &quot;ticks&quot; will be updated in the context of the Event Dispatching Thread.\r\n\r\nInstead of `JImage`, I&#39;d just make use of `JLabel`, if required, making a factory method to create it with the configuration I needed.\r\n\r\nWith regards to the translucent background, that&#39;s a little more tricky, but I would be tempted to create a &quot;translucent pane&quot; and fake it.  I would then put the `JProgressBar` on this component.\r\n\r\nFor example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow, this might &quot;look&quot; complicated, but once you understand the basic principles, you can re-apply them to a lot of things you do.\r\n\r\nFirst, there&#39;s a custom component which renders a background image, this extends from `JPanel` and is important, as some solutions might suggest using a `JLabel`, but `JLabel` is a complex component and calculates it&#39;s preferred size based on the `icon` and `text` and not the child components, this can easily lead in you into no end of issues.\r\n\r\nWe start with the background pane, onto this, we add the logo and the &quot;progress content&quot;.  This is important, as we &quot;cheat&quot; a little here.  We add the logo and progress content in such away that they occupy the same space at the same time.  This allows the logo to appear centred on the screen and won&#39;t be affected by the other components.\r\n\r\nOn the &quot;progress content&quot;, we add a &quot;fill&quot; component, this will force the progress bar and label to occupy the lower half of the view.  Then we add the progress bar and label (wrapped in yet another component) to the &quot;progress content&quot;.\r\n\r\nThis will make the progress bar and label to appear in the lower half of the view.\r\n\r\nThis might &quot;seem&quot; complicated, but is a very flexible solution.  The size of the logo and font don&#39;t have adverse effects on each other, especially on systems where the font size might be larger then you original designed for.\r\n\r\nTranslucency is &quot;faked&quot; through another component, `TranslucentPane`.  You could create a custom `JProgressBar`, but this becomes more complicated as the paint process is more involved.\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JProgressBar;\r\n    import javax.swing.SwingConstants;\r\n    import javax.swing.Timer;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.plaf.basic.BasicProgressBarUI;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        SplashScreen splashScreen = new SplashScreen();\r\n                        frame.add(splashScreen);\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n\r\n                        // I&#39;m using a Timer here to simulate &quot;work&quot;\r\n                        // Depending on your needs, you might need to use\r\n                        // a SwingWorker instead.\r\n                        Timer timer = new Timer(100, new ActionListener() {\r\n                            private int progress = 0;\r\n\r\n                            @Override\r\n                            public void actionPerformed(ActionEvent e) {\r\n                                progress += 1;\r\n                                if (progress &gt;= 100) {\r\n                                    ((Timer) e.getSource()).stop();\r\n                                }\r\n                                splashScreen.setProgress(progress);\r\n                            }\r\n                        });\r\n                        timer.start();\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class SplashScreen extends JPanel {\r\n\r\n            private final JLabel dotLabel = new JLabel(&quot;&quot;);\r\n            private final JProgressBar progressBar = new JProgressBar(SwingConstants.HORIZONTAL, 0, 100);\r\n\r\n            private String message = &quot;&quot;;\r\n            private int dots = 0;\r\n\r\n            private Timer dotTimer;\r\n\r\n            public SplashScreen() throws IOException {\r\n                setLayout(new BorderLayout());\r\n\r\n                BackgroundPane backgroundPane = new BackgroundPane(ImageIO.read(getClass().getResource(&quot;/images/Mando01-50.png&quot;)));\r\n                backgroundPane.setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                backgroundPane.setLayout(new GridBagLayout());\r\n\r\n                add(backgroundPane);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.CENTER;\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n\r\n                JLabel logo = new JLabel(new ImageIcon(getClass().getResource(&quot;/images/Paw.png&quot;)));\r\n                backgroundPane.add(logo, gbc);\r\n\r\n                JPanel progressContentPane = new JPanel(new GridBagLayout());\r\n                progressContentPane.setOpaque(false);\r\n\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n                backgroundPane.add(progressContentPane, gbc);\r\n\r\n                // This just fills the top half of the view with an empty space\r\n                // forcing the progress view down to the bottom half the\r\n                // the screen.  This is done so we can &quot;fake&quot; the label position,\r\n                // allowing to appear in the center of the screen and it will\r\n                // be uneffected by the other elements ... tricky\r\n                JPanel fillerPane = new JPanel();\r\n                fillerPane.setOpaque(false);\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.anchor = GridBagConstraints.CENTER;\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 0.5;\r\n                gbc.fill = gbc.BOTH;\r\n\r\n                JPanel progressPane = new JPanel(new GridBagLayout());\r\n                progressPane.setOpaque(false);\r\n\r\n                progressContentPane.add(fillerPane, gbc);\r\n                progressContentPane.add(progressPane, gbc);\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.anchor = GridBagConstraints.CENTER;\r\n                gbc.weightx = 1;\r\n\r\n                TranslucentPane progressBackgroundPane = new TranslucentPane();\r\n                progressBackgroundPane.setLayout(new BorderLayout());\r\n                progressBackgroundPane.setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                progressBackgroundPane.setAlpha(0.5f);\r\n\r\n                progressBackgroundPane.add(progressBar);\r\n\r\n                progressPane.add(progressBackgroundPane, gbc);\r\n                progressPane.add(dotLabel, gbc);\r\n\r\n                progressBar.setStringPainted(true);\r\n                progressBar.setBorderPainted(false);\r\n                progressBar.setValue(0);\r\n                progressBar.setBounds(50, 270, 500, 30);\r\n                progressBar.setForeground(Color.WHITE);\r\n                progressBar.setUI(new BasicProgressBarUI() {\r\n                    protected Color getSelectionBackground() {\r\n                        return new Color(0x66, 0x10, 0xf2);\r\n                    }\r\n\r\n                    protected Color getSelectionForeground() {\r\n                        return new Color(0x6f, 0x42, 0xc1);\r\n                    }\r\n                });\r\n\r\n                dotTimer = new Timer(500, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        dots = Math.max(1, (dots + 1) % 5);\r\n                        dotLabel.setText(getMessage());\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                dotTimer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                dotTimer.stop();\r\n            }\r\n\r\n            public void setMessage(String message) {\r\n                this.message = message;\r\n                dotLabel.setText(getMessage());\r\n            }\r\n\r\n            public void setProgress(int progress) {\r\n                progressBar.setValue(progress);\r\n            }\r\n\r\n            private String getMessage() {\r\n                return this.message + new String(new char[this.dots]).replace(&quot;\\0&quot;, &quot;.&quot;);\r\n            }\r\n\r\n            public class BackgroundPane extends JPanel {\r\n\r\n                private BufferedImage backgroundImage;\r\n\r\n                public BackgroundPane(BufferedImage backgroundImage) {\r\n                    this.backgroundImage = backgroundImage;\r\n                }\r\n\r\n                public BufferedImage getBackgroundImage() {\r\n                    return backgroundImage;\r\n                }\r\n\r\n                @Override\r\n                public Dimension getPreferredSize() {\r\n                    BufferedImage backgroundImage = getBackgroundImage();\r\n                    if (backgroundImage == null) {\r\n                        return super.getPreferredSize();\r\n                    }\r\n                    return new Dimension(backgroundImage.getWidth(), backgroundImage.getHeight());\r\n                }\r\n\r\n                @Override\r\n                protected void paintComponent(Graphics g) {\r\n                    super.paintComponent(g);\r\n                    BufferedImage backgroundImage = getBackgroundImage();\r\n                    if (backgroundImage == null) {\r\n                        return;\r\n                    }\r\n                    int x = (getWidth() - backgroundImage.getWidth()) / 2;\r\n                    int y = (getHeight() - backgroundImage.getHeight()) / 2;\r\n                    g.drawImage(backgroundImage, x, y, this);\r\n                }\r\n            }\r\n\r\n            public class TranslucentPane extends JPanel {\r\n                private float alpha = 1f;\r\n\r\n                public TranslucentPane() {\r\n                    setOpaque(false);\r\n                }\r\n\r\n                public float getAlpha() {\r\n                    return alpha;\r\n                }\r\n\r\n                public void setAlpha(float alpha) {\r\n                    this.alpha = alpha;\r\n                }\r\n\r\n                @Override\r\n                protected void paintComponent(Graphics g) {\r\n                    super.paintComponent(g);\r\n                    Graphics2D g2d = (Graphics2D) g.create();\r\n                    g2d.setColor(getBackground());\r\n                    g2d.setComposite(AlphaComposite.SrcOver.derive(getAlpha()));\r\n                    g2d.fillRect(0, 0, getWidth(), getHeight());\r\n                    g2d.dispose();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/47aJa.gif\r\n\r\nRemember, this is just an example, and there are number ways you might achieve the same effect(s), but this addresses the core issues you&#39;ve presented.","title":"JLabel is re-rendered on JProgressBar","body":"<blockquote>\n<p>What did I do wrong ?</p>\n</blockquote>\n<p>A lot of things (sorry).</p>\n<p>Swing is single threaded AND not thread safe.  This is means that you can't run blocking or long running operations on the Event Dispatching Thread, it also means that you shouldn't update the UI or the any state the UI relies on from out side the Event Dispatching Thread context.</p>\n<p>So, your loop in your <code>main</code> method and the use of <code>java.util.Timer</code> are violating the thread safety rule.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n<p>Using <code>null</code> layouts.  This might not seem like a big deal to you, but it will become a massive headache as you progress further.  Take the time to learn and understand the various layout options available to you.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for more details.</p>\n<p>You're violating the painting process.</p>\n<pre><code>@Override\npublic void paint(Graphics g){\n    g.drawImage(image == null ? null : image.getImage(), 0, 0, this.getWidth(), this.getHeight(), null);\n }\n</code></pre>\n<p><code>paint</code> is a very complex method which does a lot of work, as a generally recommendation, you should avoid overriding <code>paint</code> and instead override <code>paintComponent</code>, but you must ensure that you either call <code>super.paintComponent</code> or re-implement the functionality that the method does.</p>\n<p><code>Graphics</code> is a shared context which is passed to each component during a paint process.  One of the jobs that the painting process does, is &quot;clear&quot; what was previously painted, this is why it's important to ensure that you're working within the painting process.</p>\n<p>I would suggest looking at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a></p>\n<p>The <code>JImage</code> class doesn't really make sense. <code>JLabel</code> is already very good at rendering images.  If you wanted to make a simpler workflow (which you're not really doing), I might consider creating a factory method or utility class to create a <code>JLabel</code> with the configuration you want.</p>\n<p><code>jProgressBar.setBackground(new Color(255, 255, 255, 50));</code> - Swing components doesn't support alpha based colors, they are either fully opaque or fully transparent.</p>\n<p>IMHO I'd be wary of doing something like <code>public JImage(String path){</code>.  I mean, what does <code>String path</code> actually mean?  Is it a file path on the local disk?  Is it a named resource? Is it something else.  Generally speaking, I would recommend using <code>File</code> and <code>URL</code> as it's clear what the source should be - just saying.</p>\n<h1>So, what's the solution?</h1>\n<p>Make use of a <code>SwingWorker</code> to perform long running operations, this allows you to easily sync updates back the Event Dispatching Thread.  For repeating operations, use a Swing <code>Timer</code>, the &quot;ticks&quot; will be updated in the context of the Event Dispatching Thread.</p>\n<p>Instead of <code>JImage</code>, I'd just make use of <code>JLabel</code>, if required, making a factory method to create it with the configuration I needed.</p>\n<p>With regards to the translucent background, that's a little more tricky, but I would be tempted to create a &quot;translucent pane&quot; and fake it.  I would then put the <code>JProgressBar</code> on this component.</p>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/47aJa.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/47aJa.gif\" alt=\"enter image description here\" /></a></p>\n<p>Now, this might &quot;look&quot; complicated, but once you understand the basic principles, you can re-apply them to a lot of things you do.</p>\n<p>First, there's a custom component which renders a background image, this extends from <code>JPanel</code> and is important, as some solutions might suggest using a <code>JLabel</code>, but <code>JLabel</code> is a complex component and calculates it's preferred size based on the <code>icon</code> and <code>text</code> and not the child components, this can easily lead in you into no end of issues.</p>\n<p>We start with the background pane, onto this, we add the logo and the &quot;progress content&quot;.  This is important, as we &quot;cheat&quot; a little here.  We add the logo and progress content in such away that they occupy the same space at the same time.  This allows the logo to appear centred on the screen and won't be affected by the other components.</p>\n<p>On the &quot;progress content&quot;, we add a &quot;fill&quot; component, this will force the progress bar and label to occupy the lower half of the view.  Then we add the progress bar and label (wrapped in yet another component) to the &quot;progress content&quot;.</p>\n<p>This will make the progress bar and label to appear in the lower half of the view.</p>\n<p>This might &quot;seem&quot; complicated, but is a very flexible solution.  The size of the logo and font don't have adverse effects on each other, especially on systems where the font size might be larger then you original designed for.</p>\n<p>Translucency is &quot;faked&quot; through another component, <code>TranslucentPane</code>.  You could create a custom <code>JProgressBar</code>, but this becomes more complicated as the paint process is more involved.</p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JProgressBar;\nimport javax.swing.SwingConstants;\nimport javax.swing.Timer;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.plaf.basic.BasicProgressBarUI;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    SplashScreen splashScreen = new SplashScreen();\n                    frame.add(splashScreen);\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n\n                    // I'm using a Timer here to simulate &quot;work&quot;\n                    // Depending on your needs, you might need to use\n                    // a SwingWorker instead.\n                    Timer timer = new Timer(100, new ActionListener() {\n                        private int progress = 0;\n\n                        @Override\n                        public void actionPerformed(ActionEvent e) {\n                            progress += 1;\n                            if (progress &gt;= 100) {\n                                ((Timer) e.getSource()).stop();\n                            }\n                            splashScreen.setProgress(progress);\n                        }\n                    });\n                    timer.start();\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class SplashScreen extends JPanel {\n\n        private final JLabel dotLabel = new JLabel(&quot;&quot;);\n        private final JProgressBar progressBar = new JProgressBar(SwingConstants.HORIZONTAL, 0, 100);\n\n        private String message = &quot;&quot;;\n        private int dots = 0;\n\n        private Timer dotTimer;\n\n        public SplashScreen() throws IOException {\n            setLayout(new BorderLayout());\n\n            BackgroundPane backgroundPane = new BackgroundPane(ImageIO.read(getClass().getResource(&quot;/images/Mando01-50.png&quot;)));\n            backgroundPane.setBorder(new EmptyBorder(8, 8, 8, 8));\n            backgroundPane.setLayout(new GridBagLayout());\n\n            add(backgroundPane);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.CENTER;\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n\n            JLabel logo = new JLabel(new ImageIcon(getClass().getResource(&quot;/images/Paw.png&quot;)));\n            backgroundPane.add(logo, gbc);\n\n            JPanel progressContentPane = new JPanel(new GridBagLayout());\n            progressContentPane.setOpaque(false);\n\n            gbc.fill = GridBagConstraints.BOTH;\n            backgroundPane.add(progressContentPane, gbc);\n\n            // This just fills the top half of the view with an empty space\n            // forcing the progress view down to the bottom half the\n            // the screen.  This is done so we can &quot;fake&quot; the label position,\n            // allowing to appear in the center of the screen and it will\n            // be uneffected by the other elements ... tricky\n            JPanel fillerPane = new JPanel();\n            fillerPane.setOpaque(false);\n\n            gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.anchor = GridBagConstraints.CENTER;\n            gbc.weightx = 1;\n            gbc.weighty = 0.5;\n            gbc.fill = gbc.BOTH;\n\n            JPanel progressPane = new JPanel(new GridBagLayout());\n            progressPane.setOpaque(false);\n\n            progressContentPane.add(fillerPane, gbc);\n            progressContentPane.add(progressPane, gbc);\n\n            gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.anchor = GridBagConstraints.CENTER;\n            gbc.weightx = 1;\n\n            TranslucentPane progressBackgroundPane = new TranslucentPane();\n            progressBackgroundPane.setLayout(new BorderLayout());\n            progressBackgroundPane.setBorder(new EmptyBorder(8, 8, 8, 8));\n            progressBackgroundPane.setAlpha(0.5f);\n\n            progressBackgroundPane.add(progressBar);\n\n            progressPane.add(progressBackgroundPane, gbc);\n            progressPane.add(dotLabel, gbc);\n\n            progressBar.setStringPainted(true);\n            progressBar.setBorderPainted(false);\n            progressBar.setValue(0);\n            progressBar.setBounds(50, 270, 500, 30);\n            progressBar.setForeground(Color.WHITE);\n            progressBar.setUI(new BasicProgressBarUI() {\n                protected Color getSelectionBackground() {\n                    return new Color(0x66, 0x10, 0xf2);\n                }\n\n                protected Color getSelectionForeground() {\n                    return new Color(0x6f, 0x42, 0xc1);\n                }\n            });\n\n            dotTimer = new Timer(500, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    dots = Math.max(1, (dots + 1) % 5);\n                    dotLabel.setText(getMessage());\n                }\n            });\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            dotTimer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            dotTimer.stop();\n        }\n\n        public void setMessage(String message) {\n            this.message = message;\n            dotLabel.setText(getMessage());\n        }\n\n        public void setProgress(int progress) {\n            progressBar.setValue(progress);\n        }\n\n        private String getMessage() {\n            return this.message + new String(new char[this.dots]).replace(&quot;\\0&quot;, &quot;.&quot;);\n        }\n\n        public class BackgroundPane extends JPanel {\n\n            private BufferedImage backgroundImage;\n\n            public BackgroundPane(BufferedImage backgroundImage) {\n                this.backgroundImage = backgroundImage;\n            }\n\n            public BufferedImage getBackgroundImage() {\n                return backgroundImage;\n            }\n\n            @Override\n            public Dimension getPreferredSize() {\n                BufferedImage backgroundImage = getBackgroundImage();\n                if (backgroundImage == null) {\n                    return super.getPreferredSize();\n                }\n                return new Dimension(backgroundImage.getWidth(), backgroundImage.getHeight());\n            }\n\n            @Override\n            protected void paintComponent(Graphics g) {\n                super.paintComponent(g);\n                BufferedImage backgroundImage = getBackgroundImage();\n                if (backgroundImage == null) {\n                    return;\n                }\n                int x = (getWidth() - backgroundImage.getWidth()) / 2;\n                int y = (getHeight() - backgroundImage.getHeight()) / 2;\n                g.drawImage(backgroundImage, x, y, this);\n            }\n        }\n\n        public class TranslucentPane extends JPanel {\n            private float alpha = 1f;\n\n            public TranslucentPane() {\n                setOpaque(false);\n            }\n\n            public float getAlpha() {\n                return alpha;\n            }\n\n            public void setAlpha(float alpha) {\n                this.alpha = alpha;\n            }\n\n            @Override\n            protected void paintComponent(Graphics g) {\n                super.paintComponent(g);\n                Graphics2D g2d = (Graphics2D) g.create();\n                g2d.setColor(getBackground());\n                g2d.setComposite(AlphaComposite.SrcOver.derive(getAlpha()));\n                g2d.fillRect(0, 0, getWidth(), getHeight());\n                g2d.dispose();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Remember, this is just an example, and there are number ways you might achieve the same effect(s), but this addresses the core issues you've presented.</p>\n"}],"owner":{"account_id":27784879,"reputation":389,"user_id":21212553,"display_name":"galalem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76139344,"answer_count":1,"score":-2,"last_activity_date":1682891340,"creation_date":1682790207,"question_id":76137590,"body_markdown":"I have a simple app which is basically a splash screen to start some programs. The whole app is just a single JFrame with 4 elements:\r\n+ Background image\r\n+ Logo image\r\n+ ProgressBar\r\n+ Text message to print current state.\r\n\r\nI&#39;ve create this class\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\nimport javax.swing.plaf.basic.BasicProgressBarUI;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.InputStream;\r\nimport java.util.TimerTask;\r\n\r\npublic class SplashScreen extends JFrame {\r\n\r\n    private final JPanel contentPane = new JPanel();\r\n    private final JLabel jLabel = new JLabel(&quot;&quot;);\r\n    private final JProgressBar jProgressBar = new JProgressBar(SwingConstants.HORIZONTAL, 0, 100);\r\n\r\n    private String message;\r\n    private int dots = 0;\r\n\r\n    public SplashScreen() {\r\n\r\n        setIconImage(Toolkit.getDefaultToolkit().getImage(SplashScreen.class.getResource(&quot;/favicon.png&quot;)));\r\n\r\n        Dimension dimension = new Dimension(600, 350);\r\n        this.setSize(dimension);\r\n        setLocationRelativeTo(null);\r\n        setUndecorated(true);\r\n        getRootPane().setWindowDecorationStyle(JRootPane.NONE);\r\n\r\n        contentPane.setLayout(null);\r\n        setContentPane(contentPane);\r\n\r\n\r\n        jProgressBar.setBackground(new Color(255, 255, 255, 50));\r\n        jProgressBar.setStringPainted(true);\r\n        jProgressBar.setBorderPainted(false);\r\n        jProgressBar.setValue(0);\r\n        jProgressBar.setBounds(50, 270, 500, 30);\r\n        jProgressBar.setForeground(Color.WHITE);\r\n        jProgressBar.setUI(new BasicProgressBarUI() {\r\n            protected Color getSelectionBackground() { return new Color(0x66,0x10,0xf2); }\r\n            protected Color getSelectionForeground() { return new Color(0x6f,0x42,0xc1); }\r\n        });\r\n        contentPane.add(jProgressBar);\r\n\r\n\r\n        jLabel.setForeground(Color.WHITE);\r\n        jLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\r\n        jLabel.setBounds(50, 200, 500, 30);\r\n        jLabel.setVerticalAlignment(SwingConstants.TOP);\r\n        jLabel.setLabelFor(jProgressBar);\r\n        contentPane.add(jLabel);\r\n\r\n        JImage logo = new JImage(&quot;images/logo.png&quot;);\r\n        logo.setBounds(141,50,318, 118);\r\n        contentPane.add(logo);\r\n\r\n        JImage background = new JImage(&quot;images/background.jpg&quot;);\r\n        background.setSize(dimension);\r\n        background.setLocation(0, 0);\r\n        contentPane.add(background);\r\n\r\n        contentPane.validate();\r\n\r\n        java.util.Timer timer = new java.util.Timer();\r\n        timer.scheduleAtFixedRate(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                dots = (dots + 1) % 4;\r\n                jLabel.setText(getMessage());\r\n                contentPane.validate();\r\n            }\r\n        }, 0, 300);\r\n\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n        jLabel.setText(getMessage());\r\n        contentPane.validate();\r\n    }\r\n    public void setProgress(int progress) {\r\n        jProgressBar.setValue(progress);\r\n        contentPane.validate();\r\n    }\r\n    private String getMessage() {\r\n        return this.message + new String(new char[this.dots]).replace(&quot;\\0&quot;, &quot;.&quot;);\r\n    }\r\n\r\n    public static class JImage extends JLabel {\r\n        private ImageIcon image;\r\n\r\n        public JImage(String path){\r\n            super();\r\n            setIcon(path);\r\n        }\r\n        public void setIcon(String path) {\r\n            image = load(path);\r\n            super.setIcon(image);\r\n        }\r\n\r\n        @Override\r\n        public void setIcon(Icon icon) {\r\n            super.setIcon(icon);\r\n            if (icon instanceof ImageIcon)\r\n                image = ((ImageIcon) icon);\r\n            else\r\n                image = null;\r\n        }\r\n\r\n        @Override\r\n        public void paint(Graphics g){\r\n            g.drawImage(image == null ? null : image.getImage(), 0, 0, this.getWidth(), this.getHeight(), null);\r\n        }\r\n\r\n        private ImageIcon load(String path) {\r\n            BufferedImage image = null;\r\n            try {\r\n                ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n                InputStream stream = loader.getResourceAsStream(path);\r\n                image = ImageIO.read(stream);\r\n                stream.close();\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;E/ Failed to load image&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            return new ImageIcon(image);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy main class just makes the frame visible and launches a list of programs sequentially in separate cmd windows\r\n\r\n```\r\npublic static void main(String[] args) throws IOException, InterruptedException {\r\n    SplashScreen window = new SplashScreen();\r\n    window.setVisible(true);\r\n\r\n    Runtime runtime = Runtime.getRuntime();\r\n    int percent = 0;\r\n\r\n    for (State state: cycle) {\r\n        window.setMessage(state.message);\r\n        runtime.exec(start(state.title, state.path, state.command));\r\n        TimeUnit.MILLISECONDS.sleep(state.timeout);\r\n        percent += state.progress;\r\n        window.setProgress(percent);\r\n    }\r\n    TimeUnit.MILLISECONDS.sleep(2000);\r\n    System.exit(0);\r\n}\r\n\r\nprivate static String start(String title, String path, String command){\r\n    return String.format(&quot;cmd /c start \\&quot;%s\\&quot; /d \\&quot;%s\\&quot; /min cmd.exe /k \\&quot;%s\\&quot;&quot;, title, path, command);\r\n}\r\n```\r\n\r\nSome how the splash screen renders the JLabel in the correct spot and re-render it on the JProgressBar.\r\n\r\nI tried moving the ProgressBar yet the text follows it. I tried removing the Label itself now the ProgressBar starts re-rendering on itself.\r\n\r\nWhat did I do wrong?","title":"JLabel is re-rendered on JProgressBar","body":"<p>I have a simple app which is basically a splash screen to start some programs. The whole app is just a single JFrame with 4 elements:</p>\n<ul>\n<li>Background image</li>\n<li>Logo image</li>\n<li>ProgressBar</li>\n<li>Text message to print current state.</li>\n</ul>\n<p>I've create this class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport javax.swing.plaf.basic.BasicProgressBarUI;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.InputStream;\nimport java.util.TimerTask;\n\npublic class SplashScreen extends JFrame {\n\n    private final JPanel contentPane = new JPanel();\n    private final JLabel jLabel = new JLabel(&quot;&quot;);\n    private final JProgressBar jProgressBar = new JProgressBar(SwingConstants.HORIZONTAL, 0, 100);\n\n    private String message;\n    private int dots = 0;\n\n    public SplashScreen() {\n\n        setIconImage(Toolkit.getDefaultToolkit().getImage(SplashScreen.class.getResource(&quot;/favicon.png&quot;)));\n\n        Dimension dimension = new Dimension(600, 350);\n        this.setSize(dimension);\n        setLocationRelativeTo(null);\n        setUndecorated(true);\n        getRootPane().setWindowDecorationStyle(JRootPane.NONE);\n\n        contentPane.setLayout(null);\n        setContentPane(contentPane);\n\n\n        jProgressBar.setBackground(new Color(255, 255, 255, 50));\n        jProgressBar.setStringPainted(true);\n        jProgressBar.setBorderPainted(false);\n        jProgressBar.setValue(0);\n        jProgressBar.setBounds(50, 270, 500, 30);\n        jProgressBar.setForeground(Color.WHITE);\n        jProgressBar.setUI(new BasicProgressBarUI() {\n            protected Color getSelectionBackground() { return new Color(0x66,0x10,0xf2); }\n            protected Color getSelectionForeground() { return new Color(0x6f,0x42,0xc1); }\n        });\n        contentPane.add(jProgressBar);\n\n\n        jLabel.setForeground(Color.WHITE);\n        jLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 20));\n        jLabel.setBounds(50, 200, 500, 30);\n        jLabel.setVerticalAlignment(SwingConstants.TOP);\n        jLabel.setLabelFor(jProgressBar);\n        contentPane.add(jLabel);\n\n        JImage logo = new JImage(&quot;images/logo.png&quot;);\n        logo.setBounds(141,50,318, 118);\n        contentPane.add(logo);\n\n        JImage background = new JImage(&quot;images/background.jpg&quot;);\n        background.setSize(dimension);\n        background.setLocation(0, 0);\n        contentPane.add(background);\n\n        contentPane.validate();\n\n        java.util.Timer timer = new java.util.Timer();\n        timer.scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n                dots = (dots + 1) % 4;\n                jLabel.setText(getMessage());\n                contentPane.validate();\n            }\n        }, 0, 300);\n\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n        jLabel.setText(getMessage());\n        contentPane.validate();\n    }\n    public void setProgress(int progress) {\n        jProgressBar.setValue(progress);\n        contentPane.validate();\n    }\n    private String getMessage() {\n        return this.message + new String(new char[this.dots]).replace(&quot;\\0&quot;, &quot;.&quot;);\n    }\n\n    public static class JImage extends JLabel {\n        private ImageIcon image;\n\n        public JImage(String path){\n            super();\n            setIcon(path);\n        }\n        public void setIcon(String path) {\n            image = load(path);\n            super.setIcon(image);\n        }\n\n        @Override\n        public void setIcon(Icon icon) {\n            super.setIcon(icon);\n            if (icon instanceof ImageIcon)\n                image = ((ImageIcon) icon);\n            else\n                image = null;\n        }\n\n        @Override\n        public void paint(Graphics g){\n            g.drawImage(image == null ? null : image.getImage(), 0, 0, this.getWidth(), this.getHeight(), null);\n        }\n\n        private ImageIcon load(String path) {\n            BufferedImage image = null;\n            try {\n                ClassLoader loader = Thread.currentThread().getContextClassLoader();\n                InputStream stream = loader.getResourceAsStream(path);\n                image = ImageIO.read(stream);\n                stream.close();\n            } catch (Exception e) {\n                System.out.println(&quot;E/ Failed to load image&quot;);\n                e.printStackTrace();\n            }\n            return new ImageIcon(image);\n        }\n    }\n}\n</code></pre>\n<p>My main class just makes the frame visible and launches a list of programs sequentially in separate cmd windows</p>\n<pre><code>public static void main(String[] args) throws IOException, InterruptedException {\n    SplashScreen window = new SplashScreen();\n    window.setVisible(true);\n\n    Runtime runtime = Runtime.getRuntime();\n    int percent = 0;\n\n    for (State state: cycle) {\n        window.setMessage(state.message);\n        runtime.exec(start(state.title, state.path, state.command));\n        TimeUnit.MILLISECONDS.sleep(state.timeout);\n        percent += state.progress;\n        window.setProgress(percent);\n    }\n    TimeUnit.MILLISECONDS.sleep(2000);\n    System.exit(0);\n}\n\nprivate static String start(String title, String path, String command){\n    return String.format(&quot;cmd /c start \\&quot;%s\\&quot; /d \\&quot;%s\\&quot; /min cmd.exe /k \\&quot;%s\\&quot;&quot;, title, path, command);\n}\n</code></pre>\n<p>Some how the splash screen renders the JLabel in the correct spot and re-render it on the JProgressBar.</p>\n<p>I tried moving the ProgressBar yet the text follows it. I tried removing the Label itself now the ProgressBar starts re-rendering on itself.</p>\n<p>What did I do wrong?</p>\n"},{"tags":["java","mysql","servlets","jooq"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682933801,"post_id":76143606,"comment_id":134285926,"body_markdown":"You have to load the driver **once** when the application starts. In a web application (at least on Tomcat), drivers located inside the WAR are not loaded automatically, you would need to put the driver in the `tomcat/lib` folder for automatic driver loading to work. As an aside, it is recommended to use a `DataSource` (preferably backed by a connection pool) in a web application.","body":"You have to load the driver <b>once</b> when the application starts. In a web application (at least on Tomcat), drivers located inside the WAR are not loaded automatically, you would need to put the driver in the <code>tomcat&#47;lib</code> folder for automatic driver loading to work. As an aside, it is recommended to use a <code>DataSource</code> (preferably backed by a connection pool) in a web application."}],"answers":[{"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682890271,"creation_date":1682890271,"answer_id":76143640,"question_id":76143606,"body_markdown":"Place the MySQL JDBC driver jar in the WEB-INF/lib folder of your web application. \r\nThen register the driver with the DriverManager once during the initialization of your application, for example, in a servlet context listener.\r\n\r\nHere&#39;s an example of how to register the driver:\r\n\r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    \r\n    public class CustomServletContextListener implements ServletContextListener {\r\n        public void contextInitialized(ServletContextEvent event) {\r\n            try {\r\n    \t\t\t//make sure that the class exists (should work like that, not 100% sure)\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            } catch (ClassNotFoundException e) {\r\n                throw new IllegalStateException(&quot;Could not load JDBC driver class&quot;, e);\r\n            }\r\n    \r\n            try {\r\n                DriverManager.registerDriver(new com.mysql.cj.jdbc.Driver());\r\n            } catch (SQLException e) {\r\n                throw new IllegalStateException(&quot;Could not register JDBC driver&quot;, e);\r\n            }\r\n        }\r\n    \r\n        public void contextDestroyed(ServletContextEvent event) {\r\n            // cleanup stuff\r\n        }\r\n    }","title":"Jooq and Mysql drivers not found","body":"<p>Place the MySQL JDBC driver jar in the WEB-INF/lib folder of your web application.\nThen register the driver with the DriverManager once during the initialization of your application, for example, in a servlet context listener.</p>\n<p>Here's an example of how to register the driver:</p>\n<pre><code>import javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class CustomServletContextListener implements ServletContextListener {\n    public void contextInitialized(ServletContextEvent event) {\n        try {\n            //make sure that the class exists (should work like that, not 100% sure)\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        } catch (ClassNotFoundException e) {\n            throw new IllegalStateException(&quot;Could not load JDBC driver class&quot;, e);\n        }\n\n        try {\n            DriverManager.registerDriver(new com.mysql.cj.jdbc.Driver());\n        } catch (SQLException e) {\n            throw new IllegalStateException(&quot;Could not register JDBC driver&quot;, e);\n        }\n    }\n\n    public void contextDestroyed(ServletContextEvent event) {\n        // cleanup stuff\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1004377,"reputation":137,"user_id":1018511,"display_name":"poldoj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1682933707,"accepted_answer_id":76143640,"answer_count":1,"score":1,"last_activity_date":1682890271,"creation_date":1682889762,"question_id":76143606,"body_markdown":" Every time I open a connection to mysql database to perform some query I have to put this code before:\r\n\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\notherwise I got this error:\r\n\r\n        java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/\r\n\r\nExample: \r\n\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n            try (Connection conn = DriverManager.getConnection(Data.URL.getValue(), Data.USER.getValue(), Data.PASS.getValue())) {\r\n            DSLContext create = DSL.using(conn, SQLDialect.MYSQL);\r\n\r\nMy j-connector jar is in the web-inf lib forlder already.\r\nDo I really have to load the drivers explicitally every time or there is a better way to do this?","title":"Jooq and Mysql drivers not found","body":"<p>Every time I open a connection to mysql database to perform some query I have to put this code before:</p>\n<pre><code>    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n</code></pre>\n<p>otherwise I got this error:</p>\n<pre><code>    java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/\n</code></pre>\n<p>Example:</p>\n<pre><code>        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n        try (Connection conn = DriverManager.getConnection(Data.URL.getValue(), Data.USER.getValue(), Data.PASS.getValue())) {\n        DSLContext create = DSL.using(conn, SQLDialect.MYSQL);\n</code></pre>\n<p>My j-connector jar is in the web-inf lib forlder already.\nDo I really have to load the drivers explicitally every time or there is a better way to do this?</p>\n"},{"tags":["java","elasticsearch","elastic-stack"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":1,"creation_date":1682876727,"post_id":76142650,"comment_id":134280543,"body_markdown":"queries above 30s is normal?  maybe it would be better to refactor the queries and have better performance.","body":"queries above 30s is normal?  maybe it would be better to refactor the queries and have better performance."},{"owner":{"account_id":14998174,"reputation":311,"user_id":10927368,"display_name":"Lightsong"},"score":0,"creation_date":1682877441,"post_id":76142650,"comment_id":134280631,"body_markdown":"@rabbitbr It&#39;s also part of what I am concerned about. It&#39;s only a phrase query (the longest being 13 terms), thrown at three text fields, each of them having a ngrams and keyword subfield. I have 22M documents which don&#39;t really have much text in them.","body":"@rabbitbr It&#39;s also part of what I am concerned about. It&#39;s only a phrase query (the longest being 13 terms), thrown at three text fields, each of them having a ngrams and keyword subfield. I have 22M documents which don&#39;t really have much text in them."},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1682883789,"post_id":76142650,"comment_id":134281411,"body_markdown":"Try this: https://stackoverflow.com/a/60086921/18778181","body":"Try this: <a href=\"https://stackoverflow.com/a/60086921/18778181\">stackoverflow.com/a/60086921/18778181</a>"},{"owner":{"account_id":14998174,"reputation":311,"user_id":10927368,"display_name":"Lightsong"},"score":0,"creation_date":1682888168,"post_id":76142650,"comment_id":134281908,"body_markdown":"@rabbitbr Thanks! Will check it. I managed to somewhat avoid it though....turns out the query times were NOT normal at all...the ngrams subfield made them jump from like twenty seconds to milliseconds...","body":"@rabbitbr Thanks! Will check it. I managed to somewhat avoid it though....turns out the query times were NOT normal at all...the ngrams subfield made them jump from like twenty seconds to milliseconds..."}],"owner":{"account_id":14998174,"reputation":311,"user_id":10927368,"display_name":"Lightsong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682888261,"creation_date":1682876143,"question_id":76142650,"body_markdown":"I&#39;m trying to avoid timeouts when running some queries in my local elastic 8.7.0 server. While most of them run without issues, some of them time out for whatever reason, throwing the following exception:\r\n\r\n```\r\njava.net.SocketTimeoutException: 30.000 milliseconds timeout on connection http-outgoing-3 [ACTIVE]\r\n        at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:915)\r\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:300)\r\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:288)\r\n        at co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:147)\r\n        at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1833)\r\n        at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1850)\r\n        at sid.EntitySearcher.ElasticEntitySearcher.executeElasticQuery(ElasticEntitySearcher.java:195)\r\n        at sid.EntitySearcher.ElasticEntitySearcher.getScoredElasticResults(ElasticEntitySearcher.java:242)\r\n        at sid.EntitySearcher.ElasticEntitySearcher.scoredSearch(ElasticEntitySearcher.java:54)\r\n        at sid.Evaluation.Evaluator.runQueriesAndSaveAsTRECResultsFile(Evaluator.java:81)\r\n        at sid.MetricsBulkTesting.testSingleEngine(MetricsBulkTesting.java:308)\r\n        at sid.MetricsBulkTesting.testSingleEngines(MetricsBulkTesting.java:430)\r\n        at sid.MetricsBulkTesting.main(MetricsBulkTesting.java:84)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: java.net.SocketTimeoutException: 30.000 milliseconds timeout on connection http-outgoing-3 [ACTIVE]\r\n        at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.timeout(HttpAsyncRequestExecutor.java:387)\r\n        at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:98)\r\n        at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:40)\r\n        at org.apache.http.impl.nio.reactor.AbstractIODispatch.timeout(AbstractIODispatch.java:175)\r\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.sessionTimedOut(BaseIOReactor.java:261)\r\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.timeoutCheck(AbstractIOReactor.java:502)\r\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.validate(BaseIOReactor.java:211)\r\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:280)\r\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\r\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591)\r\n        at java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\n```\r\n\r\nI have tried to tweak this timeout value, but nothing I try seems to work:\r\n\r\nI have built the client like this, tweaking the keepAlive values as per [this Github issue][1], although it has no effect:\r\n\r\n```\r\nRestClient restClient = RestClient\r\n                .builder(new HttpHost(host, port, &quot;https&quot;))\r\n                .setHttpClientConfigCallback(hc -&gt; hc\r\n                        .setSSLContext(sslContext)\r\n                        .setDefaultCredentialsProvider(credsProv)\r\n                        // Avoid timeout problems\r\n                        // https://github.com/elastic/elasticsearch/issues/65213\r\n                        .setKeepAliveStrategy((response, context) -&gt; 300000/* 5 minutes*/)\r\n                        .setDefaultIOReactorConfig(IOReactorConfig.custom().setSoKeepAlive(true).build())\r\n                )\r\n                .build();\r\n\r\n        // Create the transport and the API client\r\n        ElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\r\n```\r\n\r\n\r\nAlso, when searching, I have tried to tweak the search request&#39;s timeout value, but it also has no effect at all:\r\n\r\n```\r\nSearchResponse&lt;EntityDocument&gt; response = connector.getClient().search(s -&gt; s\r\n                            .index(connector.getIndexName())\r\n                            .timeout(&quot;180s&quot;)\r\n                            .query(q -&gt; q\r\n                                    .match(t -&gt; t\r\n                                            ...query stuff\r\n                                    )\r\n                            ),\r\n                    EntityDocument.class\r\n            );\r\n```\r\n\r\nI also reopen a fresh connection to the elastic server when timing out a search for the first time, with, again, no effect at all.\r\n\r\nIs the issue somewhere else? Did I miss a parameter somewhere?\r\n\r\nAnother issue would be the searches themselves, which are suspiciosly slow. When doing bulk indexes of thousands of documents per second on the same connection for ~5 hours, there are no issues at all.\r\n\r\n\r\nEDIT: Solved... the underlying culprit was querying n-gram subfields...now the queries take milliseconds, so it&#39;s not needed anymore\r\n\r\n  [1]: https://github.com/elastic/elasticsearch/issues/65213","title":"Trying to avoid search timeouts with the new Java elastic client","body":"<p>I'm trying to avoid timeouts when running some queries in my local elastic 8.7.0 server. While most of them run without issues, some of them time out for whatever reason, throwing the following exception:</p>\n<pre><code>java.net.SocketTimeoutException: 30.000 milliseconds timeout on connection http-outgoing-3 [ACTIVE]\n        at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:915)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:300)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:288)\n        at co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:147)\n        at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1833)\n        at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1850)\n        at sid.EntitySearcher.ElasticEntitySearcher.executeElasticQuery(ElasticEntitySearcher.java:195)\n        at sid.EntitySearcher.ElasticEntitySearcher.getScoredElasticResults(ElasticEntitySearcher.java:242)\n        at sid.EntitySearcher.ElasticEntitySearcher.scoredSearch(ElasticEntitySearcher.java:54)\n        at sid.Evaluation.Evaluator.runQueriesAndSaveAsTRECResultsFile(Evaluator.java:81)\n        at sid.MetricsBulkTesting.testSingleEngine(MetricsBulkTesting.java:308)\n        at sid.MetricsBulkTesting.testSingleEngines(MetricsBulkTesting.java:430)\n        at sid.MetricsBulkTesting.main(MetricsBulkTesting.java:84)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.net.SocketTimeoutException: 30.000 milliseconds timeout on connection http-outgoing-3 [ACTIVE]\n        at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.timeout(HttpAsyncRequestExecutor.java:387)\n        at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:98)\n        at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:40)\n        at org.apache.http.impl.nio.reactor.AbstractIODispatch.timeout(AbstractIODispatch.java:175)\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.sessionTimedOut(BaseIOReactor.java:261)\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.timeoutCheck(AbstractIOReactor.java:502)\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.validate(BaseIOReactor.java:211)\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:280)\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591)\n        at java.base/java.lang.Thread.run(Thread.java:1589)\n\n</code></pre>\n<p>I have tried to tweak this timeout value, but nothing I try seems to work:</p>\n<p>I have built the client like this, tweaking the keepAlive values as per <a href=\"https://github.com/elastic/elasticsearch/issues/65213\" rel=\"nofollow noreferrer\">this Github issue</a>, although it has no effect:</p>\n<pre><code>RestClient restClient = RestClient\n                .builder(new HttpHost(host, port, &quot;https&quot;))\n                .setHttpClientConfigCallback(hc -&gt; hc\n                        .setSSLContext(sslContext)\n                        .setDefaultCredentialsProvider(credsProv)\n                        // Avoid timeout problems\n                        // https://github.com/elastic/elasticsearch/issues/65213\n                        .setKeepAliveStrategy((response, context) -&gt; 300000/* 5 minutes*/)\n                        .setDefaultIOReactorConfig(IOReactorConfig.custom().setSoKeepAlive(true).build())\n                )\n                .build();\n\n        // Create the transport and the API client\n        ElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\n</code></pre>\n<p>Also, when searching, I have tried to tweak the search request's timeout value, but it also has no effect at all:</p>\n<pre><code>SearchResponse&lt;EntityDocument&gt; response = connector.getClient().search(s -&gt; s\n                            .index(connector.getIndexName())\n                            .timeout(&quot;180s&quot;)\n                            .query(q -&gt; q\n                                    .match(t -&gt; t\n                                            ...query stuff\n                                    )\n                            ),\n                    EntityDocument.class\n            );\n</code></pre>\n<p>I also reopen a fresh connection to the elastic server when timing out a search for the first time, with, again, no effect at all.</p>\n<p>Is the issue somewhere else? Did I miss a parameter somewhere?</p>\n<p>Another issue would be the searches themselves, which are suspiciosly slow. When doing bulk indexes of thousands of documents per second on the same connection for ~5 hours, there are no issues at all.</p>\n<p>EDIT: Solved... the underlying culprit was querying n-gram subfields...now the queries take milliseconds, so it's not needed anymore</p>\n"},{"tags":["java","arrays","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":5,"creation_date":1682812085,"post_id":76138924,"comment_id":134274298,"body_markdown":"`frame.setLayout(null);` bad start. `frame.setVisible(true);` make this the last thing you do","body":"<code>frame.setLayout(null);</code> bad start. <code>frame.setVisible(true);</code> make this the last thing you do"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":5,"creation_date":1682812141,"post_id":76138924,"comment_id":134274300,"body_markdown":"*&quot; I cannot get it to display on the JFrame&quot;* - move `frame.setVisible(true);` to the end of the constructor","body":"<i>&quot; I cannot get it to display on the JFrame&quot;</i> - move <code>frame.setVisible(true);</code> to the end of the constructor"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":5,"creation_date":1682812174,"post_id":76138924,"comment_id":134274303,"body_markdown":"Remove `frame.add(textArea);`, it&#39;s already contained within the scrollpane","body":"Remove <code>frame.add(textArea);</code>, it&#39;s already contained within the scrollpane"}],"answers":[{"tags":[],"owner":{"account_id":28465198,"reputation":57,"user_id":21781374,"display_name":"x444556"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682887569,"creation_date":1682887569,"answer_id":76143468,"question_id":76138924,"body_markdown":"You should probably change this line\r\n`textArea.append(row + &quot;\\n&quot;);`\r\nto this `textArea.append(String.join(&quot;,&quot;, row) + &quot;\\n&quot;);`\r\nbecause it does not know how to print an array of strings. The String.join combines the Strings in the Array into one string each separated by the first argument (in this case &quot;,&quot;). It&#39;s the same thing you did to print the lines to the console.","title":"Display the contents of a CSV File read by scanner into a JFrame","body":"<p>You should probably change this line\n<code>textArea.append(row + &quot;\\n&quot;);</code>\nto this <code>textArea.append(String.join(&quot;,&quot;, row) + &quot;\\n&quot;);</code>\nbecause it does not know how to print an array of strings. The String.join combines the Strings in the Array into one string each separated by the first argument (in this case &quot;,&quot;). It's the same thing you did to print the lines to the console.</p>\n"}],"owner":{"account_id":28458968,"reputation":3,"user_id":21775931,"display_name":"benandez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76143468,"answer_count":1,"score":-1,"last_activity_date":1682887569,"creation_date":1682811090,"question_id":76138924,"body_markdown":"I have a program that allows users to log in to a system, present them with various options for manipulating data that is held in a CSV file. This file is read by Scanner, split and stored in a variable.\r\n\r\nI want to display the entire file in a JFrame, I have some code below and would appreciate any guidance at all. The console prints the data as expected but I cannot get it to display on the JFrame.\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\npublic class AllLoanObjects implements ActionListener {\r\n\r\n    JFrame frame = new JFrame();\r\n    JLabel allLoanObjLabel = new JLabel(&quot;All Loan Objects&quot;);\r\n    JButton exitButton = new JButton(&quot;Close&quot;);\r\n    ArrayList&lt;String[]&gt; listFile = new ArrayList&lt;&gt;();\r\n    JTextArea textArea = new JTextArea();\r\n    JScrollPane scrollPane = new JScrollPane(textArea);\r\n\r\n    AllLoanObjects() throws IOException {\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(1200, 1000);\r\n        frame.setLayout(null);\r\n        frame.setVisible(true);\r\n        frame.setLocationRelativeTo(null);\r\n\r\n        allLoanObjLabel.setBounds(10, 10, 750, 35);\r\n        allLoanObjLabel.setFont(new Font(null, Font.PLAIN, 25));\r\n\r\n        textArea.setEditable(false);\r\n        listFile = new CSVReader().read(&quot;mortgageandloan.csv&quot;);\r\n        for (String[] row : listFile) {\r\n            textArea.append(row + &quot;\\n&quot;);\r\n            System.out.println(String.join(&quot;,&quot;, row));\r\n        }\r\n\r\n        exitButton.setBounds(900, 10, 80, 25);\r\n        exitButton.setFocusable(false);\r\n        exitButton.addActionListener(this);\r\n\r\n        frame.add(allLoanObjLabel);\r\n        frame.add(textArea);\r\n        frame.add(scrollPane);\r\n        frame.add(exitButton);\r\n\r\n        for (String[] row : listFile) {\r\n            System.out.println(String.join(&quot;,&quot;, row));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == exitButton) {\r\n            frame.dispose();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Display the contents of a CSV File read by scanner into a JFrame","body":"<p>I have a program that allows users to log in to a system, present them with various options for manipulating data that is held in a CSV file. This file is read by Scanner, split and stored in a variable.</p>\n<p>I want to display the entire file in a JFrame, I have some code below and would appreciate any guidance at all. The console prints the data as expected but I cannot get it to display on the JFrame.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\npublic class AllLoanObjects implements ActionListener {\n\n    JFrame frame = new JFrame();\n    JLabel allLoanObjLabel = new JLabel(&quot;All Loan Objects&quot;);\n    JButton exitButton = new JButton(&quot;Close&quot;);\n    ArrayList&lt;String[]&gt; listFile = new ArrayList&lt;&gt;();\n    JTextArea textArea = new JTextArea();\n    JScrollPane scrollPane = new JScrollPane(textArea);\n\n    AllLoanObjects() throws IOException {\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(1200, 1000);\n        frame.setLayout(null);\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n\n        allLoanObjLabel.setBounds(10, 10, 750, 35);\n        allLoanObjLabel.setFont(new Font(null, Font.PLAIN, 25));\n\n        textArea.setEditable(false);\n        listFile = new CSVReader().read(&quot;mortgageandloan.csv&quot;);\n        for (String[] row : listFile) {\n            textArea.append(row + &quot;\\n&quot;);\n            System.out.println(String.join(&quot;,&quot;, row));\n        }\n\n        exitButton.setBounds(900, 10, 80, 25);\n        exitButton.setFocusable(false);\n        exitButton.addActionListener(this);\n\n        frame.add(allLoanObjLabel);\n        frame.add(textArea);\n        frame.add(scrollPane);\n        frame.add(exitButton);\n\n        for (String[] row : listFile) {\n            System.out.println(String.join(&quot;,&quot;, row));\n        }\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == exitButton) {\n            frame.dispose();\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6440378,"reputation":184,"user_id":4990575,"display_name":"Kurojin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682886582,"creation_date":1682886188,"answer_id":76143365,"question_id":76142986,"body_markdown":"    return usersRepository.findAll(spec, pageable).stream()\r\n    //assuming usersRepository.findAll returns Collection&lt;T&gt;\r\n    .map(user -&gt; returnAssembler.fromAccount(user)\r\n    //assuming returnAssembler.fromAccount accepts T as parameter\r\n    .tolist(); //.collect(Collectors.toList()); if java version &lt; 17\r\n\r\nnote that usersRepository.findAll return type and returnAssembler.fromAccount parameter type should be the same for this to work, or else you will need an intermediate map operation to make returned type into something returnAssembler.fromAccount accepts as parameter.","title":"use streaming api to call method","body":"<pre><code>return usersRepository.findAll(spec, pageable).stream()\n//assuming usersRepository.findAll returns Collection&lt;T&gt;\n.map(user -&gt; returnAssembler.fromAccount(user)\n//assuming returnAssembler.fromAccount accepts T as parameter\n.tolist(); //.collect(Collectors.toList()); if java version &lt; 17\n</code></pre>\n<p>note that usersRepository.findAll return type and returnAssembler.fromAccount parameter type should be the same for this to work, or else you will need an intermediate map operation to make returned type into something returnAssembler.fromAccount accepts as parameter.</p>\n"}],"owner":{"account_id":28438015,"reputation":3,"user_id":21757821,"display_name":"Josh Helman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76143365,"answer_count":1,"score":-2,"last_activity_date":1682886582,"creation_date":1682880716,"question_id":76142986,"body_markdown":"I have a Paged object which I would like to filter using streaming API:\r\n\r\n\r\n    @Component\r\n    public class ReturnAssembler {  // code used to convert full object into return dto\r\n    \r\n        public ReturnResource fromAccount(Return return) {\r\n            ....\r\n            return ...;\r\n        }\r\n    }\r\n\r\n\r\n\r\nI want to use this code:\r\n\r\n    private ReturnAssembler returnAssembler;\r\n    \r\n    return usersRepository.findAll(spec, pageable).map(returnAssembler.fromAccount(??????));\r\n\r\nHow I can map the result from `findAll` using stream by using `returnAssembler.fromAccount`?\r\n\r\n\r\n    @Component\r\n    public class ReturnAssembler {  // code used to convert full object into return dto\r\n    \r\n        public ReturnResource fromAccount(Return return) {\r\n            ....\r\n            return ...;\r\n        }\r\n    }\r\n\r\n\r\n    private ReturnAssembler returnAssembler;\r\n    \r\n    return usersRepository.findAll(spec, pageable).map(returnAssembler.fromAccount(??????));","title":"use streaming api to call method","body":"<p>I have a Paged object which I would like to filter using streaming API:</p>\n<pre><code>@Component\npublic class ReturnAssembler {  // code used to convert full object into return dto\n\n    public ReturnResource fromAccount(Return return) {\n        ....\n        return ...;\n    }\n}\n</code></pre>\n<p>I want to use this code:</p>\n<pre><code>private ReturnAssembler returnAssembler;\n\nreturn usersRepository.findAll(spec, pageable).map(returnAssembler.fromAccount(??????));\n</code></pre>\n<p>How I can map the result from <code>findAll</code> using stream by using <code>returnAssembler.fromAccount</code>?</p>\n<pre><code>@Component\npublic class ReturnAssembler {  // code used to convert full object into return dto\n\n    public ReturnResource fromAccount(Return return) {\n        ....\n        return ...;\n    }\n}\n\n\nprivate ReturnAssembler returnAssembler;\n\nreturn usersRepository.findAll(spec, pageable).map(returnAssembler.fromAccount(??????));\n</code></pre>\n"},{"tags":["java","debezium","cdc"],"answers":[{"tags":[],"owner":{"account_id":5732619,"reputation":1701,"user_id":4527675,"display_name":"ChrisY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682885622,"creation_date":1682885622,"answer_id":76143328,"question_id":73059032,"body_markdown":"For me `database.include.list` config resulted in this behavior. \r\n\r\nBut most likely, if you are here, I could be anything else as well.\r\n\r\nI was able to find the problem when I:\r\n\r\n - increased the log level to DEBUG for debezium\r\n - debug the source - in my example `PostgresStreamingChangeEventSource` which was a output due to the debug log level","title":"Debezium notifying method never executes","body":"<p>For me <code>database.include.list</code> config resulted in this behavior.</p>\n<p>But most likely, if you are here, I could be anything else as well.</p>\n<p>I was able to find the problem when I:</p>\n<ul>\n<li>increased the log level to DEBUG for debezium</li>\n<li>debug the source - in my example <code>PostgresStreamingChangeEventSource</code> which was a output due to the debug log level</li>\n</ul>\n"}],"owner":{"account_id":7495940,"reputation":37,"user_id":5696211,"display_name":"Jes&#250;s Alberto Carrillo Garc&#237;a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682885622,"creation_date":1658358687,"question_id":73059032,"body_markdown":"I have a maven project. I want to do a CDC project Debezium + PostgreSQL but this is not working. Im using java 1.8 + maven with this dependences. Its appear there aren&#39;t errors but the notifying method never executes. \r\n\r\nI just create the maven project, config the connection like below and ran the program. Slot replication was created btw by the java program automatically.\r\n  \r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n    \t    &lt;groupId&gt;io.debezium&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;debezium-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.4.Final&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;io.debezium&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;debezium-embedded&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;1.9.4.Final&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;io.debezium&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;debezium-connector-postgres&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;1.9.4.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-alpha7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-alpha7&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMY APP CODE:\r\n\r\n    public class App \r\n    {\r\n        public static void main( String[] args ) throws IOException, InterruptedException\r\n        {\r\n            /**DatabaseChangeEventListener d = new DatabaseChangeEventListener();\r\n            System.out.println(&quot;Comenzando ejecuci&#243;n&quot;);\r\n            d.startEmbeddedEngine();*/\r\n        \tFile offsetStorageTempFile = File.createTempFile(&quot;offsets_&quot;, &quot;.dat&quot;);\r\n            File dbHistoryTempFile = File.createTempFile(&quot;dbhistory_&quot;, &quot;.dat&quot;);\r\n           Configuration config = Configuration.create()\r\n                .with(&quot;name&quot;, &quot;customer-postgresql-connector&quot;)\r\n                .with(&quot;connector.class&quot;, PostgresConnector.class)\r\n                .with(&quot;offset.storage&quot;, &quot;org.apache.kafka.connect.storage.FileOffsetBackingStore&quot;)\r\n                .with(&quot;offset.storage.file.filename&quot;, offsetStorageTempFile.getAbsolutePath())\r\n                .with(&quot;offset.flush.interval.ms&quot;, &quot;60000&quot;)\r\n                .with(&quot;database.hostname&quot;, &quot;localhost&quot;)\r\n                .with(&quot;database.port&quot;, 5432)\r\n                .with(&quot;database.user&quot;, &quot;postgres&quot;)\r\n                .with(&quot;database.password&quot;, &quot;admin&quot;)\r\n                .with(&quot;database.dbname&quot;, &quot;anotherdb&quot;)\r\n                .with(&quot;database.include.list&quot;, &quot;anotherdb&quot;)\r\n                .with(&quot;include.schema.changes&quot;, &quot;false&quot;)\r\n                .with(&quot;database.allowPublicKeyRetrieval&quot;, &quot;true&quot;)\r\n                .with(&quot;plugin.name&quot;, &quot;wal2json&quot;)\r\n                .with(&quot;schemas.enable&quot;, false)\r\n                .with(&quot;database.server.id&quot;, &quot;10181&quot;)\r\n                .with(&quot;database.server.name&quot;, &quot;localhost-postgresql&quot;)\r\n                .with(&quot;database.history&quot;, &quot;io.debezium.relational.history.FileDatabaseHistory&quot;)\r\n                .with(&quot;database.history.file.filename&quot;, dbHistoryTempFile.getAbsolutePath())\r\n                .build();\r\n           \r\n           try (DebeziumEngine&lt;ChangeEvent&lt;String, String&gt;&gt; engine = DebeziumEngine.create(Json.class)\r\n        \t        .using(config.asProperties())\r\n        \t        .notifying(record -&gt; {\r\n        \t            System.out.println(&quot;Record: &quot;+record);\r\n        \t        })\r\n        \t        .build()) {\r\n        \t   ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        \t   executor.execute(engine);\r\n        \t   engine.close();\r\n        \t   executor.shutdown();\r\n        \t    while (!executor.awaitTermination(10, TimeUnit.SECONDS)) {\r\n        \t        System.out.println(&quot;Waiting another 5 seconds for the embedded engine to shut down&quot;);\r\n        \t    }\r\n        \t}\r\n        }\r\n    }\r\n\r\nY console print this:\r\n\r\n    [main] INFO org.apache.kafka.connect.json.JsonConverterConfig - JsonConverterConfig values: \r\n    \tconverter.type = key\r\n    \tdecimal.format = BASE64\r\n    \tschemas.cache.size = 1000\r\n    \tschemas.enable = true\r\n    \r\n    [main] INFO org.apache.kafka.connect.json.JsonConverterConfig - JsonConverterConfig values: \r\n    \tconverter.type = value\r\n    \tdecimal.format = BASE64\r\n    \tschemas.cache.size = 1000\r\n    \tschemas.enable = false\r\n    \r\n    [main] INFO io.debezium.embedded.EmbeddedEngine$EmbeddedConfig - EmbeddedConfig values: \r\n    \taccess.control.allow.methods = \r\n    \taccess.control.allow.origin = \r\n    \tadmin.listeners = null\r\n    \tbootstrap.servers = [localhost:9092]\r\n    \tclient.dns.lookup = use_all_dns_ips\r\n    \tconfig.providers = []\r\n    \tconnector.client.config.override.policy = All\r\n    \theader.converter = class org.apache.kafka.connect.storage.SimpleHeaderConverter\r\n    \tkey.converter = class org.apache.kafka.connect.json.JsonConverter\r\n    \tlisteners = [http://:8083]\r\n    \tmetric.reporters = []\r\n    \tmetrics.num.samples = 2\r\n    \tmetrics.recording.level = INFO\r\n    \tmetrics.sample.window.ms = 30000\r\n    \toffset.flush.interval.ms = 60000\r\n    \toffset.flush.timeout.ms = 5000\r\n    \toffset.storage.file.filename = C:\\Users\\VASS\\AppData\\Local\\Temp\\offsets_4608803621683662537.dat\r\n    \toffset.storage.partitions = null\r\n    \toffset.storage.replication.factor = null\r\n    \toffset.storage.topic = \r\n    \tplugin.path = null\r\n    \tresponse.http.headers.config = \r\n    \trest.advertised.host.name = null\r\n    \trest.advertised.listener = null\r\n    \trest.advertised.port = null\r\n    \trest.extension.classes = []\r\n    \tssl.cipher.suites = null\r\n    \tssl.client.auth = none\r\n    \tssl.enabled.protocols = [TLSv1.2]\r\n    \tssl.endpoint.identification.algorithm = https\r\n    \tssl.engine.factory.class = null\r\n    \tssl.key.password = null\r\n    \tssl.keymanager.algorithm = SunX509\r\n    \tssl.keystore.certificate.chain = null\r\n    \tssl.keystore.key = null\r\n    \tssl.keystore.location = null\r\n    \tssl.keystore.password = null\r\n    \tssl.keystore.type = JKS\r\n    \tssl.protocol = TLSv1.2\r\n    \tssl.provider = null\r\n    \tssl.secure.random.implementation = null\r\n    \tssl.trustmanager.algorithm = PKIX\r\n    \tssl.truststore.certificates = null\r\n    \tssl.truststore.location = null\r\n    \tssl.truststore.password = null\r\n    \tssl.truststore.type = JKS\r\n    \ttask.shutdown.graceful.timeout.ms = 5000\r\n    \ttopic.creation.enable = true\r\n    \ttopic.tracking.allow.reset = true\r\n    \ttopic.tracking.enable = true\r\n    \tvalue.converter = class org.apache.kafka.connect.json.JsonConverter\r\n    \r\n    [main] WARN org.apache.kafka.connect.runtime.WorkerConfig - The worker has been configured with one or more internal converter properties ([internal.key.converter, internal.value.converter]). Support for these properties was deprecated in version 2.0 and removed in version 3.0, and specifying them will have no effect. Instead, an instance of the JsonConverter with schemas.enable set to false will be used. For more information, please visit http://kafka.apache.org/documentation/#upgrade and consult the upgrade notesfor the 3.0 release.\r\n    [main] WARN org.apache.kafka.connect.runtime.WorkerConfig - Variables cannot be used in the &#39;plugin.path&#39; property, since the property is used by plugin scanning before the config providers that replace the variables are initialized. The raw value &#39;null&#39; was used for plugin scanning, as opposed to the transformed value &#39;null&#39;, and this may cause unexpected results.\r\n    [main] INFO org.apache.kafka.connect.json.JsonConverterConfig - JsonConverterConfig values: \r\n    \tconverter.type = key\r\n    \tdecimal.format = BASE64\r\n    \tschemas.cache.size = 1000\r\n    \tschemas.enable = true\r\n    \r\n    [main] INFO org.apache.kafka.connect.json.JsonConverterConfig - JsonConverterConfig values: \r\n    \tconverter.type = value\r\n    \tdecimal.format = BASE64\r\n    \tschemas.cache.size = 1000\r\n    \tschemas.enable = true\r\n    \r\n    [main] INFO io.debezium.embedded.EmbeddedEngine - Stopping the embedded engine\r\n    [pool-1-thread-1] INFO org.apache.kafka.connect.storage.FileOffsetBackingStore - Starting FileOffsetBackingStore with file C:\\Users\\VASS\\AppData\\Local\\Temp\\offsets_4608803621683662537.dat\r\n    [pool-1-thread-1] WARN io.debezium.connector.postgresql.PostgresConnectorConfig - Logical decoder &#39;wal2json&#39; is deprecated and will be removed in future versions\r\n    [pool-1-thread-1] WARN io.debezium.connector.postgresql.PostgresConnectorConfig - Configuration property &#39;truncate.handling.mode&#39; is deprecated and will be removed in future versions. Please use &#39;skipped.operations&#39; instead.\r\n    [pool-1-thread-1] WARN io.debezium.connector.postgresql.PostgresConnectorConfig - Configuration property &#39;toasted.value.placeholder&#39; is deprecated and will be removed in future versions. Please use &#39;unavailable.value.placeholder&#39; instead.\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask - Starting PostgresConnectorTask with configuration:\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    connector.class = io.debezium.connector.postgresql.PostgresConnector\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.allowPublicKeyRetrieval = true\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.history.file.filename = C:\\Users\\VASS\\AppData\\Local\\Temp\\dbhistory_3035630169534300344.dat\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.user = postgres\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.dbname = anotherdb\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    offset.storage = org.apache.kafka.connect.storage.FileOffsetBackingStore\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.server.id = 10181\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.server.name = localhost-postgresql\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    offset.flush.timeout.ms = 5000\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    include.schema.changes = false\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.port = 5432\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    plugin.name = wal2json\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    offset.flush.interval.ms = 60000\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    internal.key.converter = org.apache.kafka.connect.json.JsonConverter\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    offset.storage.file.filename = C:\\Users\\VASS\\AppData\\Local\\Temp\\offsets_4608803621683662537.dat\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.hostname = localhost\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.password = ********\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    name = customer-postgresql-connector\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    internal.value.converter = org.apache.kafka.connect.json.JsonConverter\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    value.converter = org.apache.kafka.connect.json.JsonConverter\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    key.converter = org.apache.kafka.connect.json.JsonConverter\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.include.list = anotherdb\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.history = io.debezium.relational.history.FileDatabaseHistory\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    schemas.enable = false\r\n    [pool-2-thread-1] INFO io.debezium.jdbc.JdbcConnection - Connection gracefully closed\r\n    [pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask - No previous offsets found\r\n    [pool-1-thread-1] INFO io.debezium.connector.postgresql.PostgresConnectorTask - user &#39;postgres&#39; connected to database &#39;anotherdb&#39; on PostgreSQL 11.13, compiled by Visual C++ build 1914, 64-bit with roles:\r\n    \trole &#39;pg_read_all_settings&#39; [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\r\n    \trole &#39;pg_stat_scan_tables&#39; [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\r\n    \trole &#39;pg_write_server_files&#39; [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\r\n    \trole &#39;replicauser2&#39; [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: true]\r\n    \trole &#39;replicauser&#39; [superuser: false, replication: true, inherit: true, create role: false, create db: false, can log in: true]\r\n    \trole &#39;usuarioreplica4&#39; [superuser: false, replication: true, inherit: true, create role: false, create db: false, can log in: true]\r\n    \trole &#39;usuarioreplica2&#39; [superuser: false, replication: true, inherit: true, create role: false, create db: false, can log in: true]\r\n    \trole &#39;sysrnt&#39; [superuser: false, replication: true, inherit: true, create role: false, create db: false, can log in: true]\r\n    \trole &#39;pg_monitor&#39; [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\r\n    \trole &#39;pg_read_server_files&#39; [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\r\n    \trole &#39;pg_execute_server_program&#39; [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\r\n    \trole &#39;usuarioreplica&#39; [superuser: false, replication: true, inherit: false, create role: false, create db: false, can log in: true]\r\n    \trole &#39;pg_read_all_stats&#39; [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\r\n    \trole &#39;pg_signal_backend&#39; [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\r\n    \trole &#39;postgres&#39; [superuser: true, replication: true, inherit: true, create role: true, create db: true, can log in: true]\r\n    [pool-1-thread-1] INFO io.debezium.connector.postgresql.connection.PostgresConnection - Obtained valid replication slot ReplicationSlot [active=false, latestFlushedLsn=LSN{0/9999D438}, catalogXmin=3619]\r\n    [pool-1-thread-1] INFO io.debezium.connector.postgresql.PostgresConnectorTask - No previous offset found\r\n    [pool-1-thread-1] INFO io.debezium.connector.postgresql.snapshot.InitialSnapshotter - Taking initial snapshot for new datasource\r\n    [pool-1-thread-1] INFO io.debezium.util.Threads - Requested thread factory for connector PostgresConnector, id = localhost-postgresql named = change-event-source-coordinator\r\n    [pool-1-thread-1] INFO io.debezium.util.Threads - Creating thread debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.ChangeEventSourceCoordinator - Metrics registered\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.ChangeEventSourceCoordinator - Context created\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.snapshot.InitialSnapshotter - Taking initial snapshot for new datasource\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresSnapshotChangeEventSource - According to the connector configuration data will be snapshotted\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 1 - Preparing\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 2 - Determining captured tables\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Adding table public.animales to the list of capture schema tables\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 3 - Locking captured tables []\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 4 - Determining snapshot offset\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresSnapshotChangeEventSource - Creating initial offset context\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresSnapshotChangeEventSource - Read xlogStart at &#39;LSN{0/999A2398}&#39; from transaction &#39;3648&#39;\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresSnapshotChangeEventSource - Read xlogStart at &#39;LSN{0/999A2398}&#39; from transaction &#39;3648&#39;\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 5 - Reading structure of captured tables\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 6 - Persisting schema history\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 7 - Snapshotting data\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshotting contents of 0 tables while still in transaction\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.source.AbstractSnapshotChangeEventSource - Snapshot - Final stage\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.ChangeEventSourceCoordinator - Snapshot ended with SnapshotResult [status=COMPLETED, offset=PostgresOffsetContext [sourceInfoSchema=Schema{io.debezium.connector.postgresql.Source:STRUCT}, sourceInfo=source_info[server=&#39;localhost-postgresql&#39;db=&#39;anotherdb&#39;, lsn=LSN{0/999A2398}, txId=3648, timestamp=2022-07-20T22:58:38.570Z, snapshot=FALSE, schema=, table=], lastSnapshotRecord=true, lastCompletelyProcessedLsn=null, lastCommitLsn=null, streamingStoppingLsn=null, transactionContext=TransactionContext [currentTransactionId=null, perTableEventCount={}, totalEventCount=0], incrementalSnapshotContext=IncrementalSnapshotContext [windowOpened=false, chunkEndPosition=null, dataCollectionsToSnapshot=[], lastEventKeySent=null, maximumKey=null]]]\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] WARN io.debezium.relational.RelationalDatabaseSchema - After applying the include/exclude list filters, no changes will be captured. Please check your configuration!\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.ChangeEventSourceCoordinator - Connected metrics set to &#39;true&#39;\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.ChangeEventSourceCoordinator - Starting streaming\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresStreamingChangeEventSource - Retrieved latest position from stored offset &#39;LSN{0/999A2398}&#39;\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.connection.WalPositionLocator - Looking for WAL restart position for last commit LSN &#39;null&#39; and last change LSN &#39;LSN{0/999A2398}&#39;\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.connection.PostgresConnection - Obtained valid replication slot ReplicationSlot [active=false, latestFlushedLsn=LSN{0/9999D438}, catalogXmin=3619]\r\n    [pool-3-thread-1] INFO io.debezium.jdbc.JdbcConnection - Connection gracefully closed\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.util.Threads - Requested thread factory for connector PostgresConnector, id = localhost-postgresql named = keep-alive\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.util.Threads - Creating thread debezium-postgresconnector-localhost-postgresql-keep-alive\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresStreamingChangeEventSource - Searching for WAL resume position\r\n    Waiting another 5 seconds for the embedded engine to shut down\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.connection.WalPositionLocator - First LSN &#39;LSN{0/999A23F8}&#39; received\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresStreamingChangeEventSource - WAL resume position &#39;LSN{0/999A23F8}&#39; discovered\r\n    [pool-4-thread-1] INFO io.debezium.jdbc.JdbcConnection - Connection gracefully closed\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.util.Threads - Requested thread factory for connector PostgresConnector, id = localhost-postgresql named = keep-alive\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.util.Threads - Creating thread debezium-postgresconnector-localhost-postgresql-keep-alive\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresStreamingChangeEventSource - Processing messages\r\n    [debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.connection.WalPositionLocator - Message with LSN &#39;LSN{0/999A23F8}&#39; arrived, switching off the filtering\r\n    Waiting another 5 seconds for the embedded engine to shut down\r\n    Waiting another 5 seconds for the embedded engine to shut down\r\n    Waiting another 5 seconds for the embedded engine to shut down\r\n    Waiting another 5 seconds for the embedded engine to shut down\r\n    ...\r\n\r\n\r\nAs you can see, the print method of Notifying section has been never executed:\r\n\r\n    .notifying(record -&gt; {\r\n                        System.out.println(&quot;Record: &quot;+record);\r\n                    })\r\n    is not executing. Why?\r\n\r\nIm running the app and INSERT data in the table but it is appear nothing append. What is wrong?\r\n\r\n","title":"Debezium notifying method never executes","body":"<p>I have a maven project. I want to do a CDC project Debezium + PostgreSQL but this is not working. Im using java 1.8 + maven with this dependences. Its appear there aren't errors but the notifying method never executes.</p>\n<p>I just create the maven project, config the connection like below and ran the program. Slot replication was created btw by the java program automatically.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.debezium&lt;/groupId&gt;\n        &lt;artifactId&gt;debezium-api&lt;/artifactId&gt;\n    &lt;version&gt;1.9.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.debezium&lt;/groupId&gt;\n        &lt;artifactId&gt;debezium-embedded&lt;/artifactId&gt;\n        &lt;version&gt;1.9.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.debezium&lt;/groupId&gt;\n        &lt;artifactId&gt;debezium-connector-postgres&lt;/artifactId&gt;\n        &lt;version&gt;1.9.4.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-alpha7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-alpha7&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>MY APP CODE:</p>\n<pre><code>public class App \n{\n    public static void main( String[] args ) throws IOException, InterruptedException\n    {\n        /**DatabaseChangeEventListener d = new DatabaseChangeEventListener();\n        System.out.println(&quot;Comenzando ejecución&quot;);\n        d.startEmbeddedEngine();*/\n        File offsetStorageTempFile = File.createTempFile(&quot;offsets_&quot;, &quot;.dat&quot;);\n        File dbHistoryTempFile = File.createTempFile(&quot;dbhistory_&quot;, &quot;.dat&quot;);\n       Configuration config = Configuration.create()\n            .with(&quot;name&quot;, &quot;customer-postgresql-connector&quot;)\n            .with(&quot;connector.class&quot;, PostgresConnector.class)\n            .with(&quot;offset.storage&quot;, &quot;org.apache.kafka.connect.storage.FileOffsetBackingStore&quot;)\n            .with(&quot;offset.storage.file.filename&quot;, offsetStorageTempFile.getAbsolutePath())\n            .with(&quot;offset.flush.interval.ms&quot;, &quot;60000&quot;)\n            .with(&quot;database.hostname&quot;, &quot;localhost&quot;)\n            .with(&quot;database.port&quot;, 5432)\n            .with(&quot;database.user&quot;, &quot;postgres&quot;)\n            .with(&quot;database.password&quot;, &quot;admin&quot;)\n            .with(&quot;database.dbname&quot;, &quot;anotherdb&quot;)\n            .with(&quot;database.include.list&quot;, &quot;anotherdb&quot;)\n            .with(&quot;include.schema.changes&quot;, &quot;false&quot;)\n            .with(&quot;database.allowPublicKeyRetrieval&quot;, &quot;true&quot;)\n            .with(&quot;plugin.name&quot;, &quot;wal2json&quot;)\n            .with(&quot;schemas.enable&quot;, false)\n            .with(&quot;database.server.id&quot;, &quot;10181&quot;)\n            .with(&quot;database.server.name&quot;, &quot;localhost-postgresql&quot;)\n            .with(&quot;database.history&quot;, &quot;io.debezium.relational.history.FileDatabaseHistory&quot;)\n            .with(&quot;database.history.file.filename&quot;, dbHistoryTempFile.getAbsolutePath())\n            .build();\n       \n       try (DebeziumEngine&lt;ChangeEvent&lt;String, String&gt;&gt; engine = DebeziumEngine.create(Json.class)\n                .using(config.asProperties())\n                .notifying(record -&gt; {\n                    System.out.println(&quot;Record: &quot;+record);\n                })\n                .build()) {\n           ExecutorService executor = Executors.newSingleThreadExecutor();\n           executor.execute(engine);\n           engine.close();\n           executor.shutdown();\n            while (!executor.awaitTermination(10, TimeUnit.SECONDS)) {\n                System.out.println(&quot;Waiting another 5 seconds for the embedded engine to shut down&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Y console print this:</p>\n<pre><code>[main] INFO org.apache.kafka.connect.json.JsonConverterConfig - JsonConverterConfig values: \n    converter.type = key\n    decimal.format = BASE64\n    schemas.cache.size = 1000\n    schemas.enable = true\n\n[main] INFO org.apache.kafka.connect.json.JsonConverterConfig - JsonConverterConfig values: \n    converter.type = value\n    decimal.format = BASE64\n    schemas.cache.size = 1000\n    schemas.enable = false\n\n[main] INFO io.debezium.embedded.EmbeddedEngine$EmbeddedConfig - EmbeddedConfig values: \n    access.control.allow.methods = \n    access.control.allow.origin = \n    admin.listeners = null\n    bootstrap.servers = [localhost:9092]\n    client.dns.lookup = use_all_dns_ips\n    config.providers = []\n    connector.client.config.override.policy = All\n    header.converter = class org.apache.kafka.connect.storage.SimpleHeaderConverter\n    key.converter = class org.apache.kafka.connect.json.JsonConverter\n    listeners = [http://:8083]\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    offset.flush.interval.ms = 60000\n    offset.flush.timeout.ms = 5000\n    offset.storage.file.filename = C:\\Users\\VASS\\AppData\\Local\\Temp\\offsets_4608803621683662537.dat\n    offset.storage.partitions = null\n    offset.storage.replication.factor = null\n    offset.storage.topic = \n    plugin.path = null\n    response.http.headers.config = \n    rest.advertised.host.name = null\n    rest.advertised.listener = null\n    rest.advertised.port = null\n    rest.extension.classes = []\n    ssl.cipher.suites = null\n    ssl.client.auth = none\n    ssl.enabled.protocols = [TLSv1.2]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.2\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    task.shutdown.graceful.timeout.ms = 5000\n    topic.creation.enable = true\n    topic.tracking.allow.reset = true\n    topic.tracking.enable = true\n    value.converter = class org.apache.kafka.connect.json.JsonConverter\n\n[main] WARN org.apache.kafka.connect.runtime.WorkerConfig - The worker has been configured with one or more internal converter properties ([internal.key.converter, internal.value.converter]). Support for these properties was deprecated in version 2.0 and removed in version 3.0, and specifying them will have no effect. Instead, an instance of the JsonConverter with schemas.enable set to false will be used. For more information, please visit http://kafka.apache.org/documentation/#upgrade and consult the upgrade notesfor the 3.0 release.\n[main] WARN org.apache.kafka.connect.runtime.WorkerConfig - Variables cannot be used in the 'plugin.path' property, since the property is used by plugin scanning before the config providers that replace the variables are initialized. The raw value 'null' was used for plugin scanning, as opposed to the transformed value 'null', and this may cause unexpected results.\n[main] INFO org.apache.kafka.connect.json.JsonConverterConfig - JsonConverterConfig values: \n    converter.type = key\n    decimal.format = BASE64\n    schemas.cache.size = 1000\n    schemas.enable = true\n\n[main] INFO org.apache.kafka.connect.json.JsonConverterConfig - JsonConverterConfig values: \n    converter.type = value\n    decimal.format = BASE64\n    schemas.cache.size = 1000\n    schemas.enable = true\n\n[main] INFO io.debezium.embedded.EmbeddedEngine - Stopping the embedded engine\n[pool-1-thread-1] INFO org.apache.kafka.connect.storage.FileOffsetBackingStore - Starting FileOffsetBackingStore with file C:\\Users\\VASS\\AppData\\Local\\Temp\\offsets_4608803621683662537.dat\n[pool-1-thread-1] WARN io.debezium.connector.postgresql.PostgresConnectorConfig - Logical decoder 'wal2json' is deprecated and will be removed in future versions\n[pool-1-thread-1] WARN io.debezium.connector.postgresql.PostgresConnectorConfig - Configuration property 'truncate.handling.mode' is deprecated and will be removed in future versions. Please use 'skipped.operations' instead.\n[pool-1-thread-1] WARN io.debezium.connector.postgresql.PostgresConnectorConfig - Configuration property 'toasted.value.placeholder' is deprecated and will be removed in future versions. Please use 'unavailable.value.placeholder' instead.\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask - Starting PostgresConnectorTask with configuration:\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    connector.class = io.debezium.connector.postgresql.PostgresConnector\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.allowPublicKeyRetrieval = true\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.history.file.filename = C:\\Users\\VASS\\AppData\\Local\\Temp\\dbhistory_3035630169534300344.dat\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.user = postgres\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.dbname = anotherdb\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    offset.storage = org.apache.kafka.connect.storage.FileOffsetBackingStore\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.server.id = 10181\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.server.name = localhost-postgresql\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    offset.flush.timeout.ms = 5000\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    include.schema.changes = false\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.port = 5432\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    plugin.name = wal2json\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    offset.flush.interval.ms = 60000\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    internal.key.converter = org.apache.kafka.connect.json.JsonConverter\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    offset.storage.file.filename = C:\\Users\\VASS\\AppData\\Local\\Temp\\offsets_4608803621683662537.dat\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.hostname = localhost\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.password = ********\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    name = customer-postgresql-connector\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    internal.value.converter = org.apache.kafka.connect.json.JsonConverter\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    value.converter = org.apache.kafka.connect.json.JsonConverter\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    key.converter = org.apache.kafka.connect.json.JsonConverter\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.include.list = anotherdb\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    database.history = io.debezium.relational.history.FileDatabaseHistory\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask -    schemas.enable = false\n[pool-2-thread-1] INFO io.debezium.jdbc.JdbcConnection - Connection gracefully closed\n[pool-1-thread-1] INFO io.debezium.connector.common.BaseSourceTask - No previous offsets found\n[pool-1-thread-1] INFO io.debezium.connector.postgresql.PostgresConnectorTask - user 'postgres' connected to database 'anotherdb' on PostgreSQL 11.13, compiled by Visual C++ build 1914, 64-bit with roles:\n    role 'pg_read_all_settings' [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\n    role 'pg_stat_scan_tables' [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\n    role 'pg_write_server_files' [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\n    role 'replicauser2' [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: true]\n    role 'replicauser' [superuser: false, replication: true, inherit: true, create role: false, create db: false, can log in: true]\n    role 'usuarioreplica4' [superuser: false, replication: true, inherit: true, create role: false, create db: false, can log in: true]\n    role 'usuarioreplica2' [superuser: false, replication: true, inherit: true, create role: false, create db: false, can log in: true]\n    role 'sysrnt' [superuser: false, replication: true, inherit: true, create role: false, create db: false, can log in: true]\n    role 'pg_monitor' [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\n    role 'pg_read_server_files' [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\n    role 'pg_execute_server_program' [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\n    role 'usuarioreplica' [superuser: false, replication: true, inherit: false, create role: false, create db: false, can log in: true]\n    role 'pg_read_all_stats' [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\n    role 'pg_signal_backend' [superuser: false, replication: false, inherit: true, create role: false, create db: false, can log in: false]\n    role 'postgres' [superuser: true, replication: true, inherit: true, create role: true, create db: true, can log in: true]\n[pool-1-thread-1] INFO io.debezium.connector.postgresql.connection.PostgresConnection - Obtained valid replication slot ReplicationSlot [active=false, latestFlushedLsn=LSN{0/9999D438}, catalogXmin=3619]\n[pool-1-thread-1] INFO io.debezium.connector.postgresql.PostgresConnectorTask - No previous offset found\n[pool-1-thread-1] INFO io.debezium.connector.postgresql.snapshot.InitialSnapshotter - Taking initial snapshot for new datasource\n[pool-1-thread-1] INFO io.debezium.util.Threads - Requested thread factory for connector PostgresConnector, id = localhost-postgresql named = change-event-source-coordinator\n[pool-1-thread-1] INFO io.debezium.util.Threads - Creating thread debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.ChangeEventSourceCoordinator - Metrics registered\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.ChangeEventSourceCoordinator - Context created\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.snapshot.InitialSnapshotter - Taking initial snapshot for new datasource\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresSnapshotChangeEventSource - According to the connector configuration data will be snapshotted\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 1 - Preparing\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 2 - Determining captured tables\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Adding table public.animales to the list of capture schema tables\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 3 - Locking captured tables []\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 4 - Determining snapshot offset\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresSnapshotChangeEventSource - Creating initial offset context\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresSnapshotChangeEventSource - Read xlogStart at 'LSN{0/999A2398}' from transaction '3648'\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresSnapshotChangeEventSource - Read xlogStart at 'LSN{0/999A2398}' from transaction '3648'\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 5 - Reading structure of captured tables\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 6 - Persisting schema history\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshot step 7 - Snapshotting data\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.relational.RelationalSnapshotChangeEventSource - Snapshotting contents of 0 tables while still in transaction\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.source.AbstractSnapshotChangeEventSource - Snapshot - Final stage\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.ChangeEventSourceCoordinator - Snapshot ended with SnapshotResult [status=COMPLETED, offset=PostgresOffsetContext [sourceInfoSchema=Schema{io.debezium.connector.postgresql.Source:STRUCT}, sourceInfo=source_info[server='localhost-postgresql'db='anotherdb', lsn=LSN{0/999A2398}, txId=3648, timestamp=2022-07-20T22:58:38.570Z, snapshot=FALSE, schema=, table=], lastSnapshotRecord=true, lastCompletelyProcessedLsn=null, lastCommitLsn=null, streamingStoppingLsn=null, transactionContext=TransactionContext [currentTransactionId=null, perTableEventCount={}, totalEventCount=0], incrementalSnapshotContext=IncrementalSnapshotContext [windowOpened=false, chunkEndPosition=null, dataCollectionsToSnapshot=[], lastEventKeySent=null, maximumKey=null]]]\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] WARN io.debezium.relational.RelationalDatabaseSchema - After applying the include/exclude list filters, no changes will be captured. Please check your configuration!\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.ChangeEventSourceCoordinator - Connected metrics set to 'true'\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.pipeline.ChangeEventSourceCoordinator - Starting streaming\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresStreamingChangeEventSource - Retrieved latest position from stored offset 'LSN{0/999A2398}'\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.connection.WalPositionLocator - Looking for WAL restart position for last commit LSN 'null' and last change LSN 'LSN{0/999A2398}'\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.connection.PostgresConnection - Obtained valid replication slot ReplicationSlot [active=false, latestFlushedLsn=LSN{0/9999D438}, catalogXmin=3619]\n[pool-3-thread-1] INFO io.debezium.jdbc.JdbcConnection - Connection gracefully closed\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.util.Threads - Requested thread factory for connector PostgresConnector, id = localhost-postgresql named = keep-alive\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.util.Threads - Creating thread debezium-postgresconnector-localhost-postgresql-keep-alive\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresStreamingChangeEventSource - Searching for WAL resume position\nWaiting another 5 seconds for the embedded engine to shut down\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.connection.WalPositionLocator - First LSN 'LSN{0/999A23F8}' received\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresStreamingChangeEventSource - WAL resume position 'LSN{0/999A23F8}' discovered\n[pool-4-thread-1] INFO io.debezium.jdbc.JdbcConnection - Connection gracefully closed\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.util.Threads - Requested thread factory for connector PostgresConnector, id = localhost-postgresql named = keep-alive\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.util.Threads - Creating thread debezium-postgresconnector-localhost-postgresql-keep-alive\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.PostgresStreamingChangeEventSource - Processing messages\n[debezium-postgresconnector-localhost-postgresql-change-event-source-coordinator] INFO io.debezium.connector.postgresql.connection.WalPositionLocator - Message with LSN 'LSN{0/999A23F8}' arrived, switching off the filtering\nWaiting another 5 seconds for the embedded engine to shut down\nWaiting another 5 seconds for the embedded engine to shut down\nWaiting another 5 seconds for the embedded engine to shut down\nWaiting another 5 seconds for the embedded engine to shut down\n...\n</code></pre>\n<p>As you can see, the print method of Notifying section has been never executed:</p>\n<pre><code>.notifying(record -&gt; {\n                    System.out.println(&quot;Record: &quot;+record);\n                })\nis not executing. Why?\n</code></pre>\n<p>Im running the app and INSERT data in the table but it is appear nothing append. What is wrong?</p>\n"},{"tags":["java","ssl","keytool","java-16"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":8,"creation_date":1622429135,"post_id":67766268,"comment_id":119781968,"body_markdown":"It&#39;s a _change_ in keytool exposing a _bug_ (malformed PBKDF2) through 11.0.0 (including all 8) and a _limitation_ in 11.0.1-11. See [the release notes](https://www.oracle.com/java/technologies/javase/16-relnotes.html#JDK-8153005) and either (1) set the security properties as described in the file or (2) create with `-storetype jks` or `jceks` which are deprecated but still supported for compatibility, and alter your code accordingly.","body":"It&#39;s a <i>change</i> in keytool exposing a <i>bug</i> (malformed PBKDF2) through 11.0.0 (including all 8) and a <i>limitation</i> in 11.0.1-11. See <a href=\"https://www.oracle.com/java/technologies/javase/16-relnotes.html#JDK-8153005\" rel=\"nofollow noreferrer\">the release notes</a> and either (1) set the security properties as described in the file or (2) create with <code>-storetype jks</code> or <code>jceks</code> which are deprecated but still supported for compatibility, and alter your code accordingly."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1622429528,"post_id":67766268,"comment_id":119782024,"body_markdown":"Or of course use older keytool, or if for some reason you don&#39;t want multiple javas, you _can_ also use `openssl req -new -x509 ...; openssl pkcs12 -export ...` (as described in innumerable other Qs) to create a keypair and selfsigned cert in an old-style PKCS12. PS: the server does not need its own cert in its TrustManager, unless you are _also_ using it as a DIY CA to issue certs to clients.","body":"Or of course use older keytool, or if for some reason you don&#39;t want multiple javas, you <i>can</i> also use <code>openssl req -new -x509 ...; openssl pkcs12 -export ...</code> (as described in innumerable other Qs) to create a keypair and selfsigned cert in an old-style PKCS12. PS: the server does not need its own cert in its TrustManager, unless you are <i>also</i> using it as a DIY CA to issue certs to clients."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1622434548,"post_id":67766268,"comment_id":119782794,"body_markdown":"How is this ever going to work? Who is ever going to trust your certificate? How?","body":"How is this ever going to work? Who is ever going to trust your certificate? How?"},{"owner":{"account_id":11596040,"reputation":533,"user_id":8494773,"display_name":"Bertrand Martin"},"score":1,"creation_date":1622452145,"post_id":67766268,"comment_id":119788118,"body_markdown":"@dave_thompson_085 Thank you! Here is the [corresponding official issue](https://bugs.openjdk.java.net/browse/JDK-8228481). As this is a self-certificate, I don&#39;t need the extra security so I will use the `-J-Dkeystore.pkcs12.legacy` option with `keytool`.","body":"@dave_thompson_085 Thank you! Here is the <a href=\"https://bugs.openjdk.java.net/browse/JDK-8228481\" rel=\"nofollow noreferrer\">corresponding official issue</a>. As this is a self-certificate, I don&#39;t need the extra security so I will use the <code>-J-Dkeystore.pkcs12.legacy</code> option with <code>keytool</code>."},{"owner":{"account_id":11596040,"reputation":533,"user_id":8494773,"display_name":"Bertrand Martin"},"score":0,"creation_date":1622452235,"post_id":67766268,"comment_id":119788155,"body_markdown":"@dave_thompson_085 Good point about *TrustManager*, thank you again!","body":"@dave_thompson_085 Good point about <i>TrustManager</i>, thank you again!"},{"owner":{"account_id":11596040,"reputation":533,"user_id":8494773,"display_name":"Bertrand Martin"},"score":1,"creation_date":1622587793,"post_id":67766268,"comment_id":119833913,"body_markdown":"@dave_thompson_085 Please add your answer as a &quot;real&quot; answer so I can mark it as correct, thank you! :-) (or I&#39;ll just add the answer myself)","body":"@dave_thompson_085 Please add your answer as a &quot;real&quot; answer so I can mark it as correct, thank you! :-) (or I&#39;ll just add the answer myself)"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":2,"creation_date":1654715373,"post_id":67766268,"comment_id":128160527,"body_markdown":"I think all of this has been fixed in the most recent versions of all supported lines. For example, Java 1.80_333 seems able to read keystores of this type.","body":"I think all of this has been fixed in the most recent versions of all supported lines. For example, Java 1.80_333 seems able to read keystores of this type."},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1668776459,"post_id":67766268,"comment_id":131494484,"body_markdown":"See also this issue : [JDK-8153005](https://bugs.openjdk.org/browse/JDK-8153005)","body":"See also this issue : <a href=\"https://bugs.openjdk.org/browse/JDK-8153005\" rel=\"nofollow noreferrer\">JDK-8153005</a>"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682889906,"post_id":67766268,"comment_id":134282138,"body_markdown":"Update: my comment about `openssl pkcs12 -export` was true when written, but since then OpenSSL 3.0 (2021-09) and 3.1 (2023-03) have changed it to also be incompatible by default; in those versions you need `openssl pkcs12 -export -legacy` to be compatible with older versions of Java. @ChristopherSchultz: yes 8u301 (2021-07) up also have the fix.","body":"Update: my comment about <code>openssl pkcs12 -export</code> was true when written, but since then OpenSSL 3.0 (2021-09) and 3.1 (2023-03) have changed it to also be incompatible by default; in those versions you need <code>openssl pkcs12 -export -legacy</code> to be compatible with older versions of Java. @ChristopherSchultz: yes 8u301 (2021-07) up also have the fix."}],"answers":[{"tags":[],"owner":{"account_id":11596040,"reputation":533,"user_id":8494773,"display_name":"Bertrand Martin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1622658696,"creation_date":1622658696,"answer_id":67810654,"question_id":67766268,"body_markdown":"It&#39;s not a bug in `keytool` or *KeyStore*. `keytool` in [OpenJDK 16 has been improved](https://www.oracle.com/java/technologies/javase/16-relnotes.html#JDK-8153005) to use more secure algorithms by default, which are not supported with Java 8 and Java 11 (see [JDK-8228481](https://bugs.openjdk.java.net/browse/JDK-8228481)).\r\n\r\n2 options to solve the problem:\r\n\r\n* Use JKS instead of PKCS12 for the key store\r\n* Use the `-J-Dkeystore.pkcs12.legacy` option with `keytool` to set the `keystore.pkcs12.legacy` system property and force OpenJDK 16&#39;s `keytool` to use the older algorithms (which are supported by Java 8 and 11)\r\n\r\nFor the *keytool-maven-plugin* Maven plugin, use the below configuration:\r\n\r\n```xml\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;keytool-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;create-https-certificate&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generateKeyPair&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;alias&gt;https&lt;/alias&gt;\r\n\t\t\t\t\t\t\t&lt;dname&gt;CN=localhost, OU=${project.name}, O=Sentry Software, C=FR&lt;/dname&gt;\r\n\t\t\t\t\t\t\t&lt;keyalg&gt;RSA&lt;/keyalg&gt;\r\n\t\t\t\t\t\t\t&lt;keypass&gt;password&lt;/keypass&gt;\r\n\t\t\t\t\t\t\t&lt;keystore&gt;${project.build.outputDirectory}/keystore.p12&lt;/keystore&gt;\r\n\t\t\t\t\t\t\t&lt;sigalg&gt;SHA256withRSA&lt;/sigalg&gt;\r\n\t\t\t\t\t\t\t&lt;skipIfExist&gt;true&lt;/skipIfExist&gt;\r\n\t\t\t\t\t\t\t&lt;storepass&gt;password&lt;/storepass&gt;\r\n\t\t\t\t\t\t\t&lt;storetype&gt;PKCS12&lt;/storetype&gt;\r\n\t\t\t\t\t\t\t&lt;validity&gt;3650&lt;/validity&gt;\r\n\t\t\t\t\t\t\t&lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- Important! Use this to make sure the PKCS12 keystore can be used --&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- with Java 8 and 11 --&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- See https://bugs.openjdk.java.net/browse/JDK-8228481 --&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- See https://stackoverflow.com/questions/67766268/ --&gt;\r\n\t\t\t\t\t\t\t\t&lt;argument&gt;-J-Dkeystore.pkcs12.legacy&lt;/argument&gt;\r\n\t\t\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\n*Note: All credits go to @dave_thompson_085*","title":"IOException in Java 8 when reading PKCS12 keystore created with keytool from OpenJDK16","body":"<p>It's not a bug in <code>keytool</code> or <em>KeyStore</em>. <code>keytool</code> in <a href=\"https://www.oracle.com/java/technologies/javase/16-relnotes.html#JDK-8153005\" rel=\"noreferrer\">OpenJDK 16 has been improved</a> to use more secure algorithms by default, which are not supported with Java 8 and Java 11 (see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8228481\" rel=\"noreferrer\">JDK-8228481</a>).</p>\n<p>2 options to solve the problem:</p>\n<ul>\n<li>Use JKS instead of PKCS12 for the key store</li>\n<li>Use the <code>-J-Dkeystore.pkcs12.legacy</code> option with <code>keytool</code> to set the <code>keystore.pkcs12.legacy</code> system property and force OpenJDK 16's <code>keytool</code> to use the older algorithms (which are supported by Java 8 and 11)</li>\n</ul>\n<p>For the <em>keytool-maven-plugin</em> Maven plugin, use the below configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;keytool-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;create-https-certificate&lt;/id&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generateKeyPair&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;alias&gt;https&lt;/alias&gt;\n                            &lt;dname&gt;CN=localhost, OU=${project.name}, O=Sentry Software, C=FR&lt;/dname&gt;\n                            &lt;keyalg&gt;RSA&lt;/keyalg&gt;\n                            &lt;keypass&gt;password&lt;/keypass&gt;\n                            &lt;keystore&gt;${project.build.outputDirectory}/keystore.p12&lt;/keystore&gt;\n                            &lt;sigalg&gt;SHA256withRSA&lt;/sigalg&gt;\n                            &lt;skipIfExist&gt;true&lt;/skipIfExist&gt;\n                            &lt;storepass&gt;password&lt;/storepass&gt;\n                            &lt;storetype&gt;PKCS12&lt;/storetype&gt;\n                            &lt;validity&gt;3650&lt;/validity&gt;\n                            &lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\n                            &lt;arguments&gt;\n                                &lt;!-- Important! Use this to make sure the PKCS12 keystore can be used --&gt;\n                                &lt;!-- with Java 8 and 11 --&gt;\n                                &lt;!-- See https://bugs.openjdk.java.net/browse/JDK-8228481 --&gt;\n                                &lt;!-- See https://stackoverflow.com/questions/67766268/ --&gt;\n                                &lt;argument&gt;-J-Dkeystore.pkcs12.legacy&lt;/argument&gt;\n                            &lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p><em>Note: All credits go to @dave_thompson_085</em></p>\n"}],"owner":{"account_id":11596040,"reputation":533,"user_id":8494773,"display_name":"Bertrand Martin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20515,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":67810654,"answer_count":1,"score":15,"last_activity_date":1682885090,"creation_date":1622413500,"question_id":67766268,"body_markdown":"## TL;DR\r\n\r\n`keytool` from OpenJDK16 creates PKCS12 keystore files that cannot be read from Java 8, 9, 10 and 11. Is this a bug? How to create a PKCS12 keystore that works with Java 8?\r\n\r\n## Context\r\n\r\nI build a Maven project which produces an executable JAR file that must run on any JRE from version 8 to version 16. That JAR file spawns an HTTPS server (using *com.sun.net.httpserver.HttpsServer*).\r\n\r\nDuring the build, I use `keytool` to generate a key pair and store it in a PKCS12 keystore that is bundled in the JAR (actually, I&#39;m using [keytool-maven-plugin](https://www.mojohaus.org/keytool/keytool-maven-plugin/usage.html)):\r\n\r\n```bash\r\n$ /path/to/jdk16/bin/keytool -genkeypair -keystore /tmp/keystore.p12 -storepass password -storetype PKCS12 -alias https -dname &quot;CN=localhost, OU=My HTTP Server, O=Sentry Software, C=FR&quot; -keypass password -validity 3650 -keyalg RSA -sigalg SHA256withRSA\r\n```\r\n\r\nThe Java code uses this automatically-generated keystore to start the HTTPS server:\r\n\r\n```java\r\n// initialize the HTTPS server\r\nhttpsServer = HttpsServer.create(socketAddress, 0);\r\n\r\n// initialize the keystore\r\nKeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n\r\n// Load the self-certificate that is bundled with the JAR (see pom.xml)\r\nInputStream ksStream = this.getClass().getResourceAsStream(&quot;/keystore.p12&quot;);\r\nkeyStore.load(ksStream, &quot;password&quot;.toCharArray()); // Exception here\r\n\r\n// Rest of the code (only for context purpose)\r\n\r\n// setup the key manager factory\r\nString defaultKeyManagerAlgorithm = KeyManagerFactory.getDefaultAlgorithm();\r\nKeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(defaultKeyManagerAlgorithm);\r\nkeyManagerFactory.init(keyStore, &quot;password&quot;.toCharArray());\r\n\r\n// setup the trust manager factory\r\nString defaultTrustManagerAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\r\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(defaultTrustManagerAlgorithm);\r\ntrustManagerFactory.init(keyStore);\r\n\r\n// setup the HTTPS context and parameters\r\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\nsslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\r\n\r\n// Sets the default SSL configuration (no need for extra code here!)\r\nhttpsServer.setHttpsConfigurator(new HttpsConfigurator(sslContext));\r\n\r\n```\r\n\r\n## Problem\r\n\r\nWhen the JAR is build with a OpenJDK 16 JDK (and `keytool` from OpenJDK 16 is used) and then executed in a Java 8 JRE, we get this exception on `keyStore.load()`:\r\n\r\n```\r\nIOException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)\r\n```\r\n\r\nWhen the same JAR is executed in OpenJDK 11.0.7+10, we get this exception:\r\n\r\n```\r\nIOException: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\r\n```\r\n\r\nHowever, when the same JAR is executed with OpenJDK 14, 15 or 16, no exception and everything works.\r\n\r\nHere&#39;s a table that summarizes the versions of `keytool`, and whether the PKCS12 key store created with each version of `keytool` can be loaded in various JRE versions:\r\n\r\n| | JRE 8 | JRE 11 | JRE 14 | JRE 16 |\r\n|---|---|---|---|---|\r\n| keytool 8 | ✅ | ✅ | ✅ | ✅ |\r\n| keytool 11 | ✅ | ✅ | ✅ | ✅ |\r\n| keytool 14 | ✅ | ✅ | ✅ | ✅ |\r\n| keytool 15 | ✅ | ✅ | ✅ | ✅ |\r\n| keytool 16 | ⛔ | ⛔ | ✅ | ✅ |\r\n \r\n## Questions\r\n\r\nIs this a bug in `keytool`, or in the *KeyStore* class?\r\n\r\nHow to create a PKCS12 key store using OpenJDK16 that will work when loaded with JRE 8?\r\n\r\nWhat is *HmacPBESHA256*? I haven&#39;t specified this algorithm in my `keytool` command line.\r\n","title":"IOException in Java 8 when reading PKCS12 keystore created with keytool from OpenJDK16","body":"<h2>TL;DR</h2>\n<p><code>keytool</code> from OpenJDK16 creates PKCS12 keystore files that cannot be read from Java 8, 9, 10 and 11. Is this a bug? How to create a PKCS12 keystore that works with Java 8?</p>\n<h2>Context</h2>\n<p>I build a Maven project which produces an executable JAR file that must run on any JRE from version 8 to version 16. That JAR file spawns an HTTPS server (using <em>com.sun.net.httpserver.HttpsServer</em>).</p>\n<p>During the build, I use <code>keytool</code> to generate a key pair and store it in a PKCS12 keystore that is bundled in the JAR (actually, I'm using <a href=\"https://www.mojohaus.org/keytool/keytool-maven-plugin/usage.html\" rel=\"noreferrer\">keytool-maven-plugin</a>):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ /path/to/jdk16/bin/keytool -genkeypair -keystore /tmp/keystore.p12 -storepass password -storetype PKCS12 -alias https -dname &quot;CN=localhost, OU=My HTTP Server, O=Sentry Software, C=FR&quot; -keypass password -validity 3650 -keyalg RSA -sigalg SHA256withRSA\n</code></pre>\n<p>The Java code uses this automatically-generated keystore to start the HTTPS server:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// initialize the HTTPS server\nhttpsServer = HttpsServer.create(socketAddress, 0);\n\n// initialize the keystore\nKeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n\n// Load the self-certificate that is bundled with the JAR (see pom.xml)\nInputStream ksStream = this.getClass().getResourceAsStream(&quot;/keystore.p12&quot;);\nkeyStore.load(ksStream, &quot;password&quot;.toCharArray()); // Exception here\n\n// Rest of the code (only for context purpose)\n\n// setup the key manager factory\nString defaultKeyManagerAlgorithm = KeyManagerFactory.getDefaultAlgorithm();\nKeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(defaultKeyManagerAlgorithm);\nkeyManagerFactory.init(keyStore, &quot;password&quot;.toCharArray());\n\n// setup the trust manager factory\nString defaultTrustManagerAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(defaultTrustManagerAlgorithm);\ntrustManagerFactory.init(keyStore);\n\n// setup the HTTPS context and parameters\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\n\n// Sets the default SSL configuration (no need for extra code here!)\nhttpsServer.setHttpsConfigurator(new HttpsConfigurator(sslContext));\n\n</code></pre>\n<h2>Problem</h2>\n<p>When the JAR is build with a OpenJDK 16 JDK (and <code>keytool</code> from OpenJDK 16 is used) and then executed in a Java 8 JRE, we get this exception on <code>keyStore.load()</code>:</p>\n<pre><code>IOException: parseAlgParameters failed: ObjectIdentifier() -- data isn't an object ID (tag = 48)\n</code></pre>\n<p>When the same JAR is executed in OpenJDK 11.0.7+10, we get this exception:</p>\n<pre><code>IOException: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\n</code></pre>\n<p>However, when the same JAR is executed with OpenJDK 14, 15 or 16, no exception and everything works.</p>\n<p>Here's a table that summarizes the versions of <code>keytool</code>, and whether the PKCS12 key store created with each version of <code>keytool</code> can be loaded in various JRE versions:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th>JRE 8</th>\n<th>JRE 11</th>\n<th>JRE 14</th>\n<th>JRE 16</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>keytool 8</td>\n<td>✅</td>\n<td>✅</td>\n<td>✅</td>\n<td>✅</td>\n</tr>\n<tr>\n<td>keytool 11</td>\n<td>✅</td>\n<td>✅</td>\n<td>✅</td>\n<td>✅</td>\n</tr>\n<tr>\n<td>keytool 14</td>\n<td>✅</td>\n<td>✅</td>\n<td>✅</td>\n<td>✅</td>\n</tr>\n<tr>\n<td>keytool 15</td>\n<td>✅</td>\n<td>✅</td>\n<td>✅</td>\n<td>✅</td>\n</tr>\n<tr>\n<td>keytool 16</td>\n<td>⛔</td>\n<td>⛔</td>\n<td>✅</td>\n<td>✅</td>\n</tr>\n</tbody>\n</table>\n</div><h2>Questions</h2>\n<p>Is this a bug in <code>keytool</code>, or in the <em>KeyStore</em> class?</p>\n<p>How to create a PKCS12 key store using OpenJDK16 that will work when loaded with JRE 8?</p>\n<p>What is <em>HmacPBESHA256</em>? I haven't specified this algorithm in my <code>keytool</code> command line.</p>\n"},{"tags":["java","generics","binary-search-tree"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682884194,"post_id":76143191,"comment_id":134281457,"body_markdown":"Your BST consists of nodes, and each node holds a value - that&#39;s what the E is about. In your getup, you have a BST consisting of Node objects, and each Node object holds values, and those values are of type MazeNode. This is confusing - you have 2 __completely different__ concepts both called &#39;nodes&#39;. Step 1 is to rename MazeNode to anything else.","body":"Your BST consists of nodes, and each node holds a value - that&#39;s what the E is about. In your getup, you have a BST consisting of Node objects, and each Node object holds values, and those values are of type MazeNode. This is confusing - you have 2 <b>completely different</b> concepts both called &#39;nodes&#39;. Step 1 is to rename MazeNode to anything else."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1682895835,"post_id":76143191,"comment_id":134282735,"body_markdown":"It looks like the problem is in `preOrderIterator` which you haven’t shown. It must return `Iterator&lt;E&gt;` instead of `Iterator&lt;Node&gt;`","body":"It looks like the problem is in <code>preOrderIterator</code> which you haven’t shown. It must return <code>Iterator&lt;E&gt;</code> instead of <code>Iterator&lt;Node&gt;</code>"},{"owner":{"account_id":26760925,"reputation":9,"user_id":20358895,"display_name":"James Hou"},"score":0,"creation_date":1682923820,"post_id":76143191,"comment_id":134284777,"body_markdown":"@TimMoore project specifications require my Iterator to be generic.","body":"@TimMoore project specifications require my Iterator to be generic."}],"owner":{"account_id":26760925,"reputation":9,"user_id":20358895,"display_name":"James Hou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682883946,"creation_date":1682883575,"question_id":76143191,"body_markdown":"I have implemented a generic Binary Search Tree class that has a nested node class that looks like this:\r\n\r\n    public class BST&lt;E extends Comparable&lt;E&gt;&gt; implements Iterable&lt;E&gt; {\r\n\r\n    protected class Node {\r\n        E data;\r\n        Node leftChild;\r\n        Node rightChild;\r\n        int depth;\r\n\r\n        public Node(E data) {\r\n            this.data = data;\r\n            this.leftChild = null;\r\n            this.rightChild = null;\r\n            this.depth = 0;\r\n        }\r\n\r\n        public int getDepth(){\r\n            return this.depth;\r\n        }\r\n\r\n        public void setDepth(int depth){\r\n            this.depth = depth;\r\n        }\r\n    }\r\n\r\n    protected Node root;\r\n    \r\n    //methods are implemented past this point\r\n\r\nI also have a `MazeNode` object class that stores lifepoints and a label (just a letter):\r\n\r\n    public class MazeNode implements Comparable&lt;MazeNode&gt;{\r\n    private String label; // label of the node\r\n    private int lifePoints; // number of possible life points our hero can collect at this maze node\r\n\r\n    public MazeNode(String label, int lifePoints) {\r\n        this.label = label;\r\n        this.lifePoints = lifePoints;\r\n    }\r\n\r\n    public String getLabel() {\r\n        return label;\r\n    }\r\n\r\n    public int getLifePoints() {\r\n        return lifePoints;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(MazeNode o) {\r\n       return this.getLabel().compareTo(o.getLabel());\r\n    }\r\n\r\n    @Override\r\n    public String toString(){\r\n        return this.getLabel();\r\n    }\r\n\r\n}\r\n\r\nHere is my `Maze` class that does the iterating and finds a path down to the leaf nodes where my Hero has enough lifepoints to get down to the leaf node:\r\n\r\n    public class Maze extends BST&lt;MazeNode&gt; {\r\n\r\n    private int maxDepth = 0;\r\n\r\n    public void play(Hero hero) {\r\n        Iterator&lt;MazeNode&gt; pre1 = this.preOrderIterator();\r\n        Iterator&lt;MazeNode&gt; pre2 = this.preOrderIterator();\r\n        int maxDepth = 0;\r\n\r\n        while (pre1.hasNext()) {\r\n            MazeNode node = pre1.next();\r\n            if (node.leftChild == null &amp;&amp; node.rightChild == null) {\r\n                int x = node.getDepth();\r\n                if (maxDepth &lt; x) {\r\n                    maxDepth = x;\r\n                }\r\n            }\r\n\r\n            Stack&lt;MazeNode&gt; stack = new Stack&lt;MazeNode&gt;();\r\n            node = pre2.next();\r\n            while (pre2.hasNext()) {\r\n                if (node.leftChild == null &amp;&amp; node.rightChild == null) {\r\n                    int y = node.getDepth();\r\n                    if (y == maxDepth &amp;&amp; hero.getLives() &gt;= 0) {\r\n                        System.out.println(stack.toArray());\r\n                        while (node != stack.peek().leftChild || node != stack.peek().rightChild) {\r\n                            stack.pop();\r\n                            hero.editLife(-(node.getLifePoints()));\r\n                        }\r\n                    } else if (y &lt; maxDepth) {\r\n                        while (node != stack.peek().leftChild || node != stack.peek().rightChild) {\r\n                            stack.pop();\r\n                            hero.editLife(-(node.getLifePoints()));\r\n                        }\r\n                    }\r\n                } else {\r\n                    stack.push(node);\r\n                    hero.editLife(node.getLifePoints());\r\n                }\r\n                node = pre2.next();\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\nThe goal of the project is, given a `BST` with a label and `lifePoints` at each node, find all the paths in which my hero can exit from the highest depth nodes, but my hero can only exit if he has enough life points to get to the bottom.\r\n\r\nThe issue in my `play()` method is that my node variable is of type `MazeNode` and as a result cannot access the `leftChild`, `rightChild`, and depth fields that are in my BST&lt;E&gt; Node class. How can I make it so it can? I wrote the logic out just for context, but obviously it does not work because my node variable cannot access the aforementioned data. **I must keep the BST&lt;E&gt; Node class of type node, I cannot make it generic. I also cannot make a new class to try and put them together.**\r\n\r\n\r\n\r\nI&#39;ve tried type casting, but I&#39;m still new to generics so I haven&#39;t really been able to figure it out. As I mentioned, I&#39;m not allowed to make a new class or change my BST Node to a generic type. ","title":"Accessing a variable in a generic Node class from a specific Node variable...?","body":"<p>I have implemented a generic Binary Search Tree class that has a nested node class that looks like this:</p>\n<pre><code>public class BST&lt;E extends Comparable&lt;E&gt;&gt; implements Iterable&lt;E&gt; {\n\nprotected class Node {\n    E data;\n    Node leftChild;\n    Node rightChild;\n    int depth;\n\n    public Node(E data) {\n        this.data = data;\n        this.leftChild = null;\n        this.rightChild = null;\n        this.depth = 0;\n    }\n\n    public int getDepth(){\n        return this.depth;\n    }\n\n    public void setDepth(int depth){\n        this.depth = depth;\n    }\n}\n\nprotected Node root;\n\n//methods are implemented past this point\n</code></pre>\n<p>I also have a <code>MazeNode</code> object class that stores lifepoints and a label (just a letter):</p>\n<pre><code>public class MazeNode implements Comparable&lt;MazeNode&gt;{\nprivate String label; // label of the node\nprivate int lifePoints; // number of possible life points our hero can collect at this maze node\n\npublic MazeNode(String label, int lifePoints) {\n    this.label = label;\n    this.lifePoints = lifePoints;\n}\n\npublic String getLabel() {\n    return label;\n}\n\npublic int getLifePoints() {\n    return lifePoints;\n}\n\n@Override\npublic int compareTo(MazeNode o) {\n   return this.getLabel().compareTo(o.getLabel());\n}\n\n@Override\npublic String toString(){\n    return this.getLabel();\n}\n</code></pre>\n<p>}</p>\n<p>Here is my <code>Maze</code> class that does the iterating and finds a path down to the leaf nodes where my Hero has enough lifepoints to get down to the leaf node:</p>\n<pre><code>public class Maze extends BST&lt;MazeNode&gt; {\n\nprivate int maxDepth = 0;\n\npublic void play(Hero hero) {\n    Iterator&lt;MazeNode&gt; pre1 = this.preOrderIterator();\n    Iterator&lt;MazeNode&gt; pre2 = this.preOrderIterator();\n    int maxDepth = 0;\n\n    while (pre1.hasNext()) {\n        MazeNode node = pre1.next();\n        if (node.leftChild == null &amp;&amp; node.rightChild == null) {\n            int x = node.getDepth();\n            if (maxDepth &lt; x) {\n                maxDepth = x;\n            }\n        }\n\n        Stack&lt;MazeNode&gt; stack = new Stack&lt;MazeNode&gt;();\n        node = pre2.next();\n        while (pre2.hasNext()) {\n            if (node.leftChild == null &amp;&amp; node.rightChild == null) {\n                int y = node.getDepth();\n                if (y == maxDepth &amp;&amp; hero.getLives() &gt;= 0) {\n                    System.out.println(stack.toArray());\n                    while (node != stack.peek().leftChild || node != stack.peek().rightChild) {\n                        stack.pop();\n                        hero.editLife(-(node.getLifePoints()));\n                    }\n                } else if (y &lt; maxDepth) {\n                    while (node != stack.peek().leftChild || node != stack.peek().rightChild) {\n                        stack.pop();\n                        hero.editLife(-(node.getLifePoints()));\n                    }\n                }\n            } else {\n                stack.push(node);\n                hero.editLife(node.getLifePoints());\n            }\n            node = pre2.next();\n        }\n\n    }\n}\n</code></pre>\n<p>}\nThe goal of the project is, given a <code>BST</code> with a label and <code>lifePoints</code> at each node, find all the paths in which my hero can exit from the highest depth nodes, but my hero can only exit if he has enough life points to get to the bottom.</p>\n<p>The issue in my <code>play()</code> method is that my node variable is of type <code>MazeNode</code> and as a result cannot access the <code>leftChild</code>, <code>rightChild</code>, and depth fields that are in my BST Node class. How can I make it so it can? I wrote the logic out just for context, but obviously it does not work because my node variable cannot access the aforementioned data. <strong>I must keep the BST Node class of type node, I cannot make it generic. I also cannot make a new class to try and put them together.</strong></p>\n<p>I've tried type casting, but I'm still new to generics so I haven't really been able to figure it out. As I mentioned, I'm not allowed to make a new class or change my BST Node to a generic type.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":19,"creation_date":1473282473,"post_id":33537950,"comment_id":66085964,"body_markdown":"Apache Kafka never deletes a topic marked for deletion if that topic has producers still producing to it, or consumers still consuming from it, or messages left hanging out in the queue.  One way to try to try to force it is to restart Kafka.  Or if that doesn&#39;t work, go in under the hood and Delete the directory that is your topic name under /var/local/kafka/data and then restart Kafka then re-issue the delete command.  I wish Apache Kafka had a &quot;nuke the bleeping topic&quot; option so the developer can issue the command: &quot;Really, totes for real this time nuke the bleeping topic no sass please&quot;.","body":"Apache Kafka never deletes a topic marked for deletion if that topic has producers still producing to it, or consumers still consuming from it, or messages left hanging out in the queue.  One way to try to try to force it is to restart Kafka.  Or if that doesn&#39;t work, go in under the hood and Delete the directory that is your topic name under /var/local/kafka/data and then restart Kafka then re-issue the delete command.  I wish Apache Kafka had a &quot;nuke the bleeping topic&quot; option so the developer can issue the command: &quot;Really, totes for real this time nuke the bleeping topic no sass please&quot;."},{"owner":{"account_id":1253382,"reputation":718,"user_id":1213333,"accept_rate":25,"display_name":"Avinav Mishra"},"score":6,"creation_date":1487643386,"post_id":33537950,"comment_id":71865825,"body_markdown":"bin/kafka-topics.sh –delete –zookeeper localhost:2181 –topic &lt;topic-name&gt;","body":"bin/kafka-topics.sh –delete –zookeeper localhost:2181 –topic &lt;topic-name&gt;"},{"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"score":0,"creation_date":1657104050,"post_id":33537950,"comment_id":128728504,"body_markdown":"Option zookeeper is deprecated, use --bootstrap-server instead. https://stackoverflow.com/a/53429129/5456789","body":"Option zookeeper is deprecated, use --bootstrap-server instead. <a href=\"https://stackoverflow.com/a/53429129/5456789\">stackoverflow.com/a/53429129/5456789</a>"},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1669607194,"post_id":33537950,"comment_id":131672512,"body_markdown":"This worked for me (within docker): bin/kafka-topics --delete --topic DummyTopic   --bootstrap-server localhost:29092","body":"This worked for me (within docker): bin/kafka-topics --delete --topic DummyTopic   --bootstrap-server localhost:29092"}],"answers":[{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":1,"up_vote_count":140,"is_accepted":true,"score":139,"last_activity_date":1563912823,"creation_date":1446706334,"answer_id":33538299,"question_id":33537950,"body_markdown":"Deletion of a topic has been supported since 0.8.2.x version. You have to enable topic deletion (setting `delete.topic.enable` to true) on all brokers first. \r\n\r\nNote: Ever since 1.0.x, the functionality being stable, `delete.topic.enable` is by default `true`.\r\n\r\n\r\nFollow this step by step process for manual deletion of topics\r\n\r\n1. Stop *Kafka* server\r\n2. Delete the topic directory, on each *broker* (as defined in the `logs.dirs` and `log.dir` properties) with `rm -rf` command\r\n3. Connect to *Zookeeper* instance: `zookeeper-shell.sh host:port`\r\n4. From within the *Zookeeper* instance:\r\n   1. List the topics using: `ls /brokers/topics`\r\n   2. Remove the topic folder from *ZooKeeper* using: `rmr /brokers/topics/yourtopic`\r\n   3. Exit the Zookeeper instance (Ctrl+C)\r\n5. Restart *Kafka* server\r\n6. Confirm if it was deleted or not by using this command\r\n   `kafka-topics.sh --list --zookeeper host:port`","title":"How can I delete a topic in Apache Kafka?","body":"<p>Deletion of a topic has been supported since 0.8.2.x version. You have to enable topic deletion (setting <code>delete.topic.enable</code> to true) on all brokers first. </p>\n\n<p>Note: Ever since 1.0.x, the functionality being stable, <code>delete.topic.enable</code> is by default <code>true</code>.</p>\n\n<p>Follow this step by step process for manual deletion of topics</p>\n\n<ol>\n<li>Stop <em>Kafka</em> server</li>\n<li>Delete the topic directory, on each <em>broker</em> (as defined in the <code>logs.dirs</code> and <code>log.dir</code> properties) with <code>rm -rf</code> command</li>\n<li>Connect to <em>Zookeeper</em> instance: <code>zookeeper-shell.sh host:port</code></li>\n<li>From within the <em>Zookeeper</em> instance:\n\n<ol>\n<li>List the topics using: <code>ls /brokers/topics</code></li>\n<li>Remove the topic folder from <em>ZooKeeper</em> using: <code>rmr /brokers/topics/yourtopic</code></li>\n<li>Exit the Zookeeper instance (Ctrl+C)</li>\n</ol></li>\n<li>Restart <em>Kafka</em> server</li>\n<li>Confirm if it was deleted or not by using this command\n<code>kafka-topics.sh --list --zookeeper host:port</code></li>\n</ol>\n"}],"owner":{"account_id":6139346,"reputation":1723,"user_id":4787205,"accept_rate":44,"display_name":"Rishi Arora"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274792,"favorite_count":0,"down_vote_count":0,"up_vote_count":119,"closed_date":1487194608,"accepted_answer_id":33538299,"answer_count":1,"score":119,"last_activity_date":1682883023,"creation_date":1446704720,"question_id":33537950,"body_markdown":"I need to delete a topic in Kafka 0.8.2.2.3. I have used the below command for deleting the topic:\r\n\r\n```lang-none\r\nbin/kafka-topics.sh --zookeeper localhost:2181 --delete --topic DummyTopic\r\n```\r\n\r\nThe command executed successfully, but when I run a command to list the topics, I could see that the topic is still there and it shows **marked for deletion**.\r\n\r\n```lang-none\r\nbin/kafka-topics.sh --list --zookeeper localhost:2181\r\nDummyTopic - marked for deletion\r\n```\r\n\r\nAnd when I create the topic DummyTopic, it outputs the exception. The topic already exists, and below is the stack trace:\r\n\r\n```lang-none\r\nError while executing topic command Topic &quot;DummyTopic&quot; already exists.\r\nkafka.common.TopicExistsException: Topic &quot;DummyTopic&quot; already exists.\r\n    at kafka.admin.AdminUtils$.createOrUpdateTopicPartitionAssignmentPathInZK(AdminUtils.scala:248)\r\n    at kafka.admin.AdminUtils$.createTopic(AdminUtils.scala:233)\r\n    at kafka.admin.TopicCommand$.createTopic(TopicCommand.scala:92)\r\n    at kafka.admin.TopicCommand$.main(TopicCommand.scala:54)\r\n    at kafka.admin.TopicCommand.main(TopicCommand.scala)\r\n```\r\n\r\nHow can I delete this topic?\r\n\r\n\r\n\r\n\r\n","title":"How can I delete a topic in Apache Kafka?","body":"<p>I need to delete a topic in Kafka 0.8.2.2.3. I have used the below command for deleting the topic:</p>\n<pre class=\"lang-none prettyprint-override\"><code>bin/kafka-topics.sh --zookeeper localhost:2181 --delete --topic DummyTopic\n</code></pre>\n<p>The command executed successfully, but when I run a command to list the topics, I could see that the topic is still there and it shows <strong>marked for deletion</strong>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>bin/kafka-topics.sh --list --zookeeper localhost:2181\nDummyTopic - marked for deletion\n</code></pre>\n<p>And when I create the topic DummyTopic, it outputs the exception. The topic already exists, and below is the stack trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error while executing topic command Topic &quot;DummyTopic&quot; already exists.\nkafka.common.TopicExistsException: Topic &quot;DummyTopic&quot; already exists.\n    at kafka.admin.AdminUtils$.createOrUpdateTopicPartitionAssignmentPathInZK(AdminUtils.scala:248)\n    at kafka.admin.AdminUtils$.createTopic(AdminUtils.scala:233)\n    at kafka.admin.TopicCommand$.createTopic(TopicCommand.scala:92)\n    at kafka.admin.TopicCommand$.main(TopicCommand.scala:54)\n    at kafka.admin.TopicCommand.main(TopicCommand.scala)\n</code></pre>\n<p>How can I delete this topic?</p>\n"},{"tags":["java","spring-boot","docker","gradle","dockerfile"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682882966,"creation_date":1682882966,"answer_id":76143151,"question_id":76105109,"body_markdown":"You have two errors. \r\n\r\n1. `/gradlew` was not found. \r\n2. The JAR file in `/build` was not found; probably because the Gradle command could not be executed. \r\n\r\nRather than write your own Dockerfile and fiddle with running Gradle within it, I would highly recommend you use [jib-gradle-plugin](https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin)\r\n\r\nOtherwise, Spring Boot already has a gradle action for building a container using BuildPacks, and you don&#39;t need other plugins. \r\n\r\n```\r\n./gradlew bootBuildImage --imageName=media-service\r\n```","title":"Error building Docker image with bootJar task","body":"<p>You have two errors.</p>\n<ol>\n<li><code>/gradlew</code> was not found.</li>\n<li>The JAR file in <code>/build</code> was not found; probably because the Gradle command could not be executed.</li>\n</ol>\n<p>Rather than write your own Dockerfile and fiddle with running Gradle within it, I would highly recommend you use <a href=\"https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin\" rel=\"nofollow noreferrer\">jib-gradle-plugin</a></p>\n<p>Otherwise, Spring Boot already has a gradle action for building a container using BuildPacks, and you don't need other plugins.</p>\n<pre><code>./gradlew bootBuildImage --imageName=media-service\n</code></pre>\n"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76143151,"answer_count":1,"score":0,"last_activity_date":1682882966,"creation_date":1682453840,"question_id":76105109,"body_markdown":"I am trying to build a Docker image for my Java Spring Boot application. So I created a Docker file like this:\r\n\r\n```\r\nFROM openjdk:17-jdk-alpine\r\nVOLUME /tmp\r\nARG JAR_FILE\r\nCOPY ${JAR_FILE} media-service.jar\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/media-service.jar&quot;]\r\nFROM openjdk:17-jdk-alpine\r\nVOLUME /tmp\r\nWORKDIR /media-service\r\nCOPY build/libs/media-service-0.0.1-SNAPSHOT.jar media-service.jar\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;media-service.jar&quot;]\r\n# Run bootJar task to generate executable jar file\r\nRUN ./gradlew bootJar\r\n# Copy the generated jar file into the container\r\nCOPY build/libs/media-service-0.0.1-SNAPSHOT.jar media-service.jar\r\n```\r\nThen I realized when trying to run the image that I have to add the main classpath, so I added this in my build.gradle file:\r\n\r\n```\r\nbootJar {\r\n\tmainClass = &#39;com.emanuel.mediaservice.MediaServiceApplication&#39;\r\n}\r\n```\r\n\r\nTested the generated jar file with the command ```java -jar myJar.jar``` and it works fine.\r\nAfter adding the main classpath, I changed the docker file to run the bootJar task so I can have a functional jar.\r\n\r\nHere is the updated Dockerfile:\r\n```\r\nFROM openjdk:17-jdk-alpine\r\n\r\n# Set working directory to /media-service\r\nWORKDIR /media-service\r\n\r\n# Copy Gradle files\r\nCOPY build.gradle .\r\nCOPY gradlew .\r\nCOPY gradle gradle\r\n\r\n# Download dependencies\r\nRUN ./gradlew dependencies\r\n\r\n# Copy source code\r\nCOPY src/main src/main\r\nCOPY src/test src/test\r\n\r\n# Build executable jar file\r\nRUN ./gradlew bootJar\r\n\r\n# Copy executable jar file into container\r\nCOPY build/libs/media-service-0.0.1-SNAPSHOT.jar media-service.jar\r\n\r\n# Set command to run when the container starts\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;media-service.jar&quot;]\r\n```\r\n\r\nBut now unfortunatley **I get this errors**: https://pastebin.com/WJuBiVhD\r\n\r\nI will also like to mention that I use this plugin https://github.com/palantir/gradle-docker\r\nand I will also like to share how I use it in my build.gradle:\r\n\r\n```\r\nplugins {\r\n//...\r\n\tid &#39;com.palantir.docker&#39; version &#39;0.35.0&#39;\r\n}\r\n\r\ndocker {\r\n\tname &quot;media-service&quot;\r\n\tdockerfile file(&#39;src/main/docker/Dockerfile&#39;)\r\n\tcopySpec.from(jar).rename(&quot;.*&quot;, &quot;media-service.jar&quot;)\r\n\tbuildArgs([&#39;JAR_FILE&#39;: &quot;media-service.jar&quot;])\r\n}\r\n```\r\n\r\n","title":"Error building Docker image with bootJar task","body":"<p>I am trying to build a Docker image for my Java Spring Boot application. So I created a Docker file like this:</p>\n<pre><code>FROM openjdk:17-jdk-alpine\nVOLUME /tmp\nARG JAR_FILE\nCOPY ${JAR_FILE} media-service.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/media-service.jar&quot;]\nFROM openjdk:17-jdk-alpine\nVOLUME /tmp\nWORKDIR /media-service\nCOPY build/libs/media-service-0.0.1-SNAPSHOT.jar media-service.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;media-service.jar&quot;]\n# Run bootJar task to generate executable jar file\nRUN ./gradlew bootJar\n# Copy the generated jar file into the container\nCOPY build/libs/media-service-0.0.1-SNAPSHOT.jar media-service.jar\n</code></pre>\n<p>Then I realized when trying to run the image that I have to add the main classpath, so I added this in my build.gradle file:</p>\n<pre><code>bootJar {\n    mainClass = 'com.emanuel.mediaservice.MediaServiceApplication'\n}\n</code></pre>\n<p>Tested the generated jar file with the command <code>java -jar myJar.jar</code> and it works fine.\nAfter adding the main classpath, I changed the docker file to run the bootJar task so I can have a functional jar.</p>\n<p>Here is the updated Dockerfile:</p>\n<pre><code>FROM openjdk:17-jdk-alpine\n\n# Set working directory to /media-service\nWORKDIR /media-service\n\n# Copy Gradle files\nCOPY build.gradle .\nCOPY gradlew .\nCOPY gradle gradle\n\n# Download dependencies\nRUN ./gradlew dependencies\n\n# Copy source code\nCOPY src/main src/main\nCOPY src/test src/test\n\n# Build executable jar file\nRUN ./gradlew bootJar\n\n# Copy executable jar file into container\nCOPY build/libs/media-service-0.0.1-SNAPSHOT.jar media-service.jar\n\n# Set command to run when the container starts\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;media-service.jar&quot;]\n</code></pre>\n<p>But now unfortunatley <strong>I get this errors</strong>: <a href=\"https://pastebin.com/WJuBiVhD\" rel=\"nofollow noreferrer\">https://pastebin.com/WJuBiVhD</a></p>\n<p>I will also like to mention that I use this plugin <a href=\"https://github.com/palantir/gradle-docker\" rel=\"nofollow noreferrer\">https://github.com/palantir/gradle-docker</a>\nand I will also like to share how I use it in my build.gradle:</p>\n<pre><code>plugins {\n//...\n    id 'com.palantir.docker' version '0.35.0'\n}\n\ndocker {\n    name &quot;media-service&quot;\n    dockerfile file('src/main/docker/Dockerfile')\n    copySpec.from(jar).rename(&quot;.*&quot;, &quot;media-service.jar&quot;)\n    buildArgs(['JAR_FILE': &quot;media-service.jar&quot;])\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682582402,"post_id":76117853,"comment_id":134239514,"body_markdown":"I think you need to connect through IP (127.0.0.1) instead of localhost or `host.docker.internal`","body":"I think you need to connect through IP (127.0.0.1) instead of localhost or <code>host.docker.internal</code>"},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1682582741,"post_id":76117853,"comment_id":134239584,"body_markdown":"Do you mean the command ```docker run ..``` is wrong or that I should modify my spring boot config to accept 127.0.0.1 instead of localhost?","body":"Do you mean the command <code>docker run ..</code> is wrong or that I should modify my spring boot config to accept 127.0.0.1 instead of localhost?"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":2,"creation_date":1682583714,"post_id":76117853,"comment_id":134239805,"body_markdown":"I mean the connection string for your DB in spring config","body":"I mean the connection string for your DB in spring config"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1682589871,"post_id":76117853,"comment_id":134241169,"body_markdown":"Are you using Docker Desktop (on any platform) or some other VM-based Docker implementation?  `--network=host` doesn&#39;t work unless you&#39;re using Docker Engine directly on a native-Linux system.","body":"Are you using Docker Desktop (on any platform) or some other VM-based Docker implementation?  <code>--network=host</code> doesn&#39;t work unless you&#39;re using Docker Engine directly on a native-Linux system."},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":1,"creation_date":1682593094,"post_id":76117853,"comment_id":134241880,"body_markdown":"I have Docker Desktop, I am using Windows.","body":"I have Docker Desktop, I am using Windows."},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1682607435,"post_id":76117853,"comment_id":134245588,"body_markdown":"@grekier I tried to replace localhost with 127.0.0.1 in applcation.properties, but unfortunately, it did not work. I get the same behavior.","body":"@grekier I tried to replace localhost with 127.0.0.1 in applcation.properties, but unfortunately, it did not work. I get the same behavior."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682882462,"post_id":76117853,"comment_id":134281247,"body_markdown":"`127.0.0.1` and `localhost` are almost always the same thing. Neither are correct here","body":"<code>127.0.0.1</code> and <code>localhost</code> are almost always the same thing. Neither are correct here"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682882748,"creation_date":1682882413,"answer_id":76143106,"question_id":76117853,"body_markdown":"&gt; my container can&#39;t connect to my local Postgres database\r\n\r\nYour container isn&#39;t running Postgres, and `--network=host` doesn&#39;t work in Windows for accessing services running directly in Windows. \r\n\r\nBest option would be to run Postgres as its own container, then connect the two, such as using Docker Compose. \r\n\r\nOtherwise, without seeing your Spring Config, you should reference [Boot Configuration](https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.r2dbc) and use the address **other than** localhost, such as `postgresql://docker.host.internal`\r\n\r\nYou shouldn&#39;t need extra `--add-host` flags. ","title":"Docker image can&#39;t connect to localhost ports","body":"<blockquote>\n<p>my container can't connect to my local Postgres database</p>\n</blockquote>\n<p>Your container isn't running Postgres, and <code>--network=host</code> doesn't work in Windows for accessing services running directly in Windows.</p>\n<p>Best option would be to run Postgres as its own container, then connect the two, such as using Docker Compose.</p>\n<p>Otherwise, without seeing your Spring Config, you should reference <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.r2dbc\" rel=\"nofollow noreferrer\">Boot Configuration</a> and use the address <strong>other than</strong> localhost, such as <code>postgresql://docker.host.internal</code></p>\n<p>You shouldn't need extra <code>--add-host</code> flags.</p>\n"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682882748,"creation_date":1682580938,"question_id":76117853,"body_markdown":"I created a Docker image for my SpringBoot application with the Jib plugin and for some reason, I get errors because my container can&#39;t connect to my local Postgres database and my local Zipkin server.\r\n\r\nI tried to run the app like this:\r\n```\r\ndocker run --network host -p 8080:8080 media-service\r\ndocker run --network=host media-service\r\ndocker run --network=host --add-host host.docker.internal:host-gateway media-service\r\ndocker run --network host --add-host host.docker.internal:host-gateway media-service\r\ndocker run --add-host host.docker.internal:host-gateway media-service\r\n```\r\n\r\nAnd I also added this in my &quot;pg_hba.conf&quot; to allow docker connections:\r\n```\r\n# all connections from the Docker network subnet\r\nhost    all        all      172.16.0.0/12   trust\r\n```\r\n\r\nHere is a snippet of my log:\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name\r\n&#39;entityManagerFactory&#39; defined in class path resource\r\n[org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is\r\njavax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build \r\nHibernate SessionFactory\r\n...\r\nCaused by: org.hibernate.exception.JDBCConnectionException: \r\nUnable to open JDBC Connection for DDL execution\r\n...\r\nCaused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check\r\nthat the hostname and port are correct and that the postmaster is accepting TCP/IP\r\nconnections.\r\n...\r\nException in thread &quot;Thread-3&quot; zipkin2.reporter.ClosedSenderException\r\n\r\n```\r\n\r\nHere is the full log: https://pastebin.com/pMjcvyms\r\n","title":"Docker image can&#39;t connect to localhost ports","body":"<p>I created a Docker image for my SpringBoot application with the Jib plugin and for some reason, I get errors because my container can't connect to my local Postgres database and my local Zipkin server.</p>\n<p>I tried to run the app like this:</p>\n<pre><code>docker run --network host -p 8080:8080 media-service\ndocker run --network=host media-service\ndocker run --network=host --add-host host.docker.internal:host-gateway media-service\ndocker run --network host --add-host host.docker.internal:host-gateway media-service\ndocker run --add-host host.docker.internal:host-gateway media-service\n</code></pre>\n<p>And I also added this in my &quot;pg_hba.conf&quot; to allow docker connections:</p>\n<pre><code># all connections from the Docker network subnet\nhost    all        all      172.16.0.0/12   trust\n</code></pre>\n<p>Here is a snippet of my log:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name\n'entityManagerFactory' defined in class path resource\n[org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is\njavax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build \nHibernate SessionFactory\n...\nCaused by: org.hibernate.exception.JDBCConnectionException: \nUnable to open JDBC Connection for DDL execution\n...\nCaused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check\nthat the hostname and port are correct and that the postmaster is accepting TCP/IP\nconnections.\n...\nException in thread &quot;Thread-3&quot; zipkin2.reporter.ClosedSenderException\n\n</code></pre>\n<p>Here is the full log: <a href=\"https://pastebin.com/pMjcvyms\" rel=\"nofollow noreferrer\">https://pastebin.com/pMjcvyms</a></p>\n"},{"tags":["java","spring-boot","junit","ignite","java-17"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1682883352,"post_id":76143035,"comment_id":134281356,"body_markdown":"Did you follow the instructions at [https://ignite.apache.org/docs/latest/quick-start/java](https://ignite.apache.org/docs/latest/quick-start/java)?","body":"Did you follow the instructions at <a href=\"https://ignite.apache.org/docs/latest/quick-start/java\" rel=\"nofollow noreferrer\">https://ignite.apache.org/docs/latest/quick-start/java</a>?"},{"owner":{"account_id":6072540,"reputation":309,"user_id":4740856,"accept_rate":38,"display_name":"Bhavya Sharma"},"score":0,"creation_date":1682912979,"post_id":76143035,"comment_id":134283927,"body_markdown":"@JimGarrison Yes, it was working properly using Java 8 and Java 11","body":"@JimGarrison Yes, it was working properly using Java 8 and Java 11"},{"owner":{"account_id":3690305,"reputation":1896,"user_id":3073027,"accept_rate":25,"display_name":"solveMe"},"score":0,"creation_date":1683710825,"post_id":76143035,"comment_id":134407049,"body_markdown":"I guess that it was some lack of support for java 17, Ignite 2.15 was released recently I guess it should has better java 17 support, give it a try.","body":"I guess that it was some lack of support for java 17, Ignite 2.15 was released recently I guess it should has better java 17 support, give it a try."}],"owner":{"account_id":6072540,"reputation":309,"user_id":4740856,"accept_rate":38,"display_name":"Bhavya Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682881409,"creation_date":1682881409,"question_id":76143035,"body_markdown":"While running unit tests for my Springboot application, I am getting below error:\r\n```\r\njava.util.ServiceConfigurationError: javax.cache.spi.CachingProvider: Provider org.apache.ignite.cache.CachingProvider could not be instantiated\r\n  at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:586)\r\n  at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:813)\r\n  at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:729)\r\n  at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1403)\r\n  at javax.cache.Caching$CachingProviderRegistry$1.run(Caching.java:448)\r\n  at javax.cache.Caching$CachingProviderRegistry$1.run(Caching.java:442)\r\n  at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n  at javax.cache.Caching$CachingProviderRegistry.getCachingProviders(Caching.java:442)\r\n  at javax.cache.Caching$CachingProviderRegistry.getCachingProviders(Caching.java:410)\r\n  at javax.cache.Caching.getCachingProviders(Caching.java:187)\r\n  at org.springframework.boot.autoconfigure.cache.JCacheCacheConfiguration$JCacheProviderAvailableCondition.getMatchOutcome(JCacheCacheConfiguration.java:160)\r\n  at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.getConditionOutcome(AbstractNestedCondition.java:195)\r\n  at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.&lt;init&gt;(AbstractNestedCondition.java:189)\r\n  at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.lambda$getMatchOutcomes$0(AbstractNestedCondition.java:169)\r\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n  at java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n  at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n  at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n  at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n  at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n  at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n  at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class org.apache.ignite.cache.CachingProvider\r\n  at jdk.internal.reflect.GeneratedConstructorAccessor115.newInstance(Unknown Source)\r\n  at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n  at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n  at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n  at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:789)\r\n  ... 128 more\r\nCaused by: java.lang.ExceptionInInitializerError: Exception java.lang.ExceptionInInitializerError [in thread &quot;Test worker&quot;]\r\n  at org.apache.ignite.internal.util.IgniteUtils.&lt;clinit&gt;(IgniteUtils.java:888)\r\n  at org.apache.ignite.cache.CachingProvider.&lt;clinit&gt;(CachingProvider.java:53)\r\n  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n  ... 132 more\r\n```\r\n\r\nI am using Java 17, Springboot 3.0.3 and ignite 2.14.0\r\n\r\nTried adding below to build.gradle but still getting same error\r\n\r\n\t// https://mvnrepository.com/artifact/javax.cache/cache-api\r\n\ttestImplementation group: &#39;javax.cache&#39;, name: &#39;cache-api&#39;, version: &#39;1.1.1&#39;\r\n\r\nI would really appreciate any help here. Let me know what I am missing.","title":"Getting error &quot;Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.apache.ignite.cache.CachingProvider&quot;","body":"<p>While running unit tests for my Springboot application, I am getting below error:</p>\n<pre><code>java.util.ServiceConfigurationError: javax.cache.spi.CachingProvider: Provider org.apache.ignite.cache.CachingProvider could not be instantiated\n  at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:586)\n  at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:813)\n  at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:729)\n  at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1403)\n  at javax.cache.Caching$CachingProviderRegistry$1.run(Caching.java:448)\n  at javax.cache.Caching$CachingProviderRegistry$1.run(Caching.java:442)\n  at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n  at javax.cache.Caching$CachingProviderRegistry.getCachingProviders(Caching.java:442)\n  at javax.cache.Caching$CachingProviderRegistry.getCachingProviders(Caching.java:410)\n  at javax.cache.Caching.getCachingProviders(Caching.java:187)\n  at org.springframework.boot.autoconfigure.cache.JCacheCacheConfiguration$JCacheProviderAvailableCondition.getMatchOutcome(JCacheCacheConfiguration.java:160)\n  at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.getConditionOutcome(AbstractNestedCondition.java:195)\n  at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.&lt;init&gt;(AbstractNestedCondition.java:189)\n  at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.lambda$getMatchOutcomes$0(AbstractNestedCondition.java:169)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n  at java.base/java.util.Optional.orElseGet(Optional.java:364)\n  at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n  at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n  at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n  at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n  at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n  at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n  at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n  at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n  at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class org.apache.ignite.cache.CachingProvider\n  at jdk.internal.reflect.GeneratedConstructorAccessor115.newInstance(Unknown Source)\n  at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n  at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n  at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n  at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:789)\n  ... 128 more\nCaused by: java.lang.ExceptionInInitializerError: Exception java.lang.ExceptionInInitializerError [in thread &quot;Test worker&quot;]\n  at org.apache.ignite.internal.util.IgniteUtils.&lt;clinit&gt;(IgniteUtils.java:888)\n  at org.apache.ignite.cache.CachingProvider.&lt;clinit&gt;(CachingProvider.java:53)\n  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n  ... 132 more\n</code></pre>\n<p>I am using Java 17, Springboot 3.0.3 and ignite 2.14.0</p>\n<p>Tried adding below to build.gradle but still getting same error</p>\n<pre><code>// https://mvnrepository.com/artifact/javax.cache/cache-api\ntestImplementation group: 'javax.cache', name: 'cache-api', version: '1.1.1'\n</code></pre>\n<p>I would really appreciate any help here. Let me know what I am missing.</p>\n"},{"tags":["java","android","listview"],"comments":[{"owner":{"account_id":153997,"reputation":521,"user_id":369649,"accept_rate":75,"display_name":"Brayden"},"score":1,"creation_date":1337638392,"post_id":10693112,"comment_id":13880710,"body_markdown":"See this question: http://stackoverflow.com/questions/3014089/scroll-to-a-position-in-a-listview","body":"See this question: <a href=\"http://stackoverflow.com/questions/3014089/scroll-to-a-position-in-a-listview\" title=\"scroll to a position in a listview\">stackoverflow.com/questions/3014089/&hellip;</a>"},{"owner":{"account_id":478081,"reputation":9703,"user_id":889941,"accept_rate":100,"display_name":"Vladimir"},"score":0,"creation_date":1337680436,"post_id":10693112,"comment_id":13890401,"body_markdown":"Are you sure `btn_NextClick()` gets called? I&#39;ve just tried `int position = _listView.getFirstVisiblePosition();\ntry {\n    _listView.setSelection(position + 1);\n} catch (Exception e) {}` and it works perfectly","body":"Are you sure <code>btn_NextClick()</code> gets called? I&#39;ve just tried <code>int position = _listView.getFirstVisiblePosition(); try {     _listView.setSelection(position + 1); } catch (Exception e) {}</code> and it works perfectly"},{"owner":{"account_id":1335761,"reputation":5531,"user_id":1278561,"accept_rate":77,"display_name":"GPGVM"},"score":0,"creation_date":1337687453,"post_id":10693112,"comment_id":13893055,"body_markdown":"Yeah it does as the breakpoints get hit.","body":"Yeah it does as the breakpoints get hit."}],"answers":[{"tags":[],"owner":{"account_id":1335761,"reputation":5531,"user_id":1278561,"accept_rate":77,"display_name":"GPGVM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1337866633,"creation_date":1337866633,"answer_id":10738604,"question_id":10693112,"body_markdown":"I figured it out....but I don&#39;t know what to do about it. See not knowing what I am doing I shot myself. I ONLY want to see one item in the list at a time and I don&#39;t want the user to be able to scroll. Well what I did to accomplish that was to override getCount in the DataAdapter and return a 1. This SEEMED to be the answer as only one item displayed cool! But then overriding getCount also means there is only one item to display so we never advance...there&#39;s nothing to advance to.\r\n\r\nSo what I want to know is this. How do I keep the user from being able to scroll and force them to use the navigation button. Do I handle the scroll event and return null?\r\n","title":"Advance ListView next item / setSelectionFromTop not working / Inhibit user scrolling ListView","body":"<p>I figured it out....but I don't know what to do about it. See not knowing what I am doing I shot myself. I ONLY want to see one item in the list at a time and I don't want the user to be able to scroll. Well what I did to accomplish that was to override getCount in the DataAdapter and return a 1. This SEEMED to be the answer as only one item displayed cool! But then overriding getCount also means there is only one item to display so we never advance...there's nothing to advance to.</p>\n\n<p>So what I want to know is this. How do I keep the user from being able to scroll and force them to use the navigation button. Do I handle the scroll event and return null?</p>\n"}],"owner":{"account_id":1335761,"reputation":5531,"user_id":1278561,"accept_rate":77,"display_name":"GPGVM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10738604,"answer_count":1,"score":1,"last_activity_date":1682880981,"creation_date":1337636831,"question_id":10693112,"body_markdown":"I have a list view that show a list of items...well not all of them but they are all there. Rather than let the user scroll up / down the requirement asks for and up / down buttons. I have everything handled quite well EXCEPT how to advance the ListView. Say I&#39;m looking at item 3 in the list. The user hits next... I want to ListView to advance to item 4. I am keeping track internally of which page they are on for incrementing / decrementing. I was expecting to find something like this but no luck.\r\n\r\n    ListView.MoveNext();\r\nor\r\n\r\n    ListView.Move(int);\r\n\r\nPer Brayden&#39;s suggestion I tried the accepted solution here: https://stackoverflow.com/questions/3014089/scroll-to-a-position-in-a-listview and it did not APPEAR to scroll the list....i.e. it stayed on the first list item. I also tried setSelection.\r\n\r\nHere is my code:\r\n\r\n    public void btn_NextClick(View vw_Current) \r\n    {\r\n        //increment page count 1\r\n        i_PageTracker ++;\r\n\t\t\r\n        //advance to next record\r\n        //int x = lstvw_LiftData.getFirstVisiblePosition();\r\n        View v = lstvw_LiftData.getChildAt(0);\r\n        int top = (v == null) ? 0 : v.getTop();\r\n\r\n        lstvw_LiftData.setSelectionFromTop(i_PageTracker, top);\r\n        //lstvw_LiftData.setSelection(i_PageTracker);\r\n     }\r\n\r\nBased upon Vladimir&#39;s success and my lack thereof I wanted to provide some additional info that I thought irrelevant but....\r\n\r\nI&#39;ve extended the SimpleAedapter and override the getView. I also have a DataBinder to populate TextViews with certain data from the data object.\r\n\r\nInterestingly when I set a breakpoint in the getView of the DataAdapter and the setViewValue of the binder at load we hit them as appropriate. However when the next button is clicked we do not hit them which I would expect if the list was advancing to the next position....hmmmm I wonder....I have another Idea....be right back.\r\n\r\nI figured it out....but I don&#39;t know what to do about it. See not knowing what I am doing I shot myself. I ONLY want to see one item in the list at a time and I don&#39;t want the user to be able to scroll. Well what I did to accomplish that was to override getCount in the DataAdapter and return a 1. This SEEMED to be the answer as only one item displayed cool! But then overriding getCount also means there is only one item to display so we never advance...there&#39;s nothing to advance to.\r\n\r\nSo what I want to know is this. How do I keep the user from being able to scroll and force them to use the navigation button. Do I handle the scroll event and return null?","title":"Advance ListView next item / setSelectionFromTop not working / Inhibit user scrolling ListView","body":"<p>I have a list view that show a list of items...well not all of them but they are all there. Rather than let the user scroll up / down the requirement asks for and up / down buttons. I have everything handled quite well EXCEPT how to advance the ListView. Say I'm looking at item 3 in the list. The user hits next... I want to ListView to advance to item 4. I am keeping track internally of which page they are on for incrementing / decrementing. I was expecting to find something like this but no luck.</p>\n<pre><code>ListView.MoveNext();\n</code></pre>\n<p>or</p>\n<pre><code>ListView.Move(int);\n</code></pre>\n<p>Per Brayden's suggestion I tried the accepted solution here: <a href=\"https://stackoverflow.com/questions/3014089/scroll-to-a-position-in-a-listview\">Maintain/Save/Restore scroll position when returning to a ListView</a> and it did not APPEAR to scroll the list....i.e. it stayed on the first list item. I also tried setSelection.</p>\n<p>Here is my code:</p>\n<pre><code>public void btn_NextClick(View vw_Current) \n{\n    //increment page count 1\n    i_PageTracker ++;\n    \n    //advance to next record\n    //int x = lstvw_LiftData.getFirstVisiblePosition();\n    View v = lstvw_LiftData.getChildAt(0);\n    int top = (v == null) ? 0 : v.getTop();\n\n    lstvw_LiftData.setSelectionFromTop(i_PageTracker, top);\n    //lstvw_LiftData.setSelection(i_PageTracker);\n }\n</code></pre>\n<p>Based upon Vladimir's success and my lack thereof I wanted to provide some additional info that I thought irrelevant but....</p>\n<p>I've extended the SimpleAedapter and override the getView. I also have a DataBinder to populate TextViews with certain data from the data object.</p>\n<p>Interestingly when I set a breakpoint in the getView of the DataAdapter and the setViewValue of the binder at load we hit them as appropriate. However when the next button is clicked we do not hit them which I would expect if the list was advancing to the next position....hmmmm I wonder....I have another Idea....be right back.</p>\n<p>I figured it out....but I don't know what to do about it. See not knowing what I am doing I shot myself. I ONLY want to see one item in the list at a time and I don't want the user to be able to scroll. Well what I did to accomplish that was to override getCount in the DataAdapter and return a 1. This SEEMED to be the answer as only one item displayed cool! But then overriding getCount also means there is only one item to display so we never advance...there's nothing to advance to.</p>\n<p>So what I want to know is this. How do I keep the user from being able to scroll and force them to use the navigation button. Do I handle the scroll event and return null?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9528,"page":464,"page_size":100}
