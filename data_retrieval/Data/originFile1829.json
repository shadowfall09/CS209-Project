{"items":[{"tags":["java","spring","hibernate","mapping","dto"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637566636,"creation_date":1637565922,"answer_id":70062217,"question_id":70062148,"body_markdown":"About XML file mapping, I do not know any. But what I find really useful and very customizable is [MapStruct][1]. It is a very useful library and the docs and examples are very good.\r\n\r\nA simple example:\r\n\r\n```java\r\n@Mapper \r\npublic interface CarMapper {\r\n \r\n    CarMapper INSTANCE = Mappers.getMapper( CarMapper.class ); \r\n \r\n    @Mapping(source = &quot;numberOfSeats&quot;, target = &quot;seatCount&quot;) // Here is one of the functionalities that you wanted...\r\n    CarDto carToCarDto(Car car); \r\n}\r\n```\r\n\r\nAnd there is IDE and Lombok support also.\r\n\r\n\r\n  [1]: https://mapstruct.org/","title":"map DTO to Backend Entities","body":"<p>About XML file mapping, I do not know any. But what I find really useful and very customizable is <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a>. It is a very useful library and the docs and examples are very good.</p>\n<p>A simple example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper \npublic interface CarMapper {\n \n    CarMapper INSTANCE = Mappers.getMapper( CarMapper.class ); \n \n    @Mapping(source = &quot;numberOfSeats&quot;, target = &quot;seatCount&quot;) // Here is one of the functionalities that you wanted...\n    CarDto carToCarDto(Car car); \n}\n</code></pre>\n<p>And there is IDE and Lombok support also.</p>\n"}],"owner":{"account_id":3417936,"reputation":1904,"user_id":2866298,"accept_rate":63,"display_name":"osama yaccoub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637566636,"creation_date":1637565559,"question_id":70062148,"body_markdown":"I am developing a rest application where the data in DB is loaded in Entities then some transformations are made on the data while being filled in corresponding DTOs then returned back to the consumer.\r\n\r\nAccording to the consumer and some other parameters, a different subset of the data should be returned to the user, for example if user is inquiring on his personal info, level of details returning will be different than if a manager is inquiring on the data of his employees, etc ... \r\n\r\nMy question:\r\nIs there any framework to handle this custom mapping (i.e. an xml based file that determines which field in which BE Entity should be mapped to which DTO in which condition ? instead of making a custom code in each case? thanks in advance.\r\n\r\nI am using spring rest + hibernate","title":"map DTO to Backend Entities","body":"<p>I am developing a rest application where the data in DB is loaded in Entities then some transformations are made on the data while being filled in corresponding DTOs then returned back to the consumer.</p>\n<p>According to the consumer and some other parameters, a different subset of the data should be returned to the user, for example if user is inquiring on his personal info, level of details returning will be different than if a manager is inquiring on the data of his employees, etc ...</p>\n<p>My question:\nIs there any framework to handle this custom mapping (i.e. an xml based file that determines which field in which BE Entity should be mapped to which DTO in which condition ? instead of making a custom code in each case? thanks in advance.</p>\n<p>I am using spring rest + hibernate</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3068440,"reputation":7112,"user_id":2599647,"accept_rate":64,"display_name":"Amrit Pal Singh"},"score":0,"creation_date":1435068565,"post_id":31002764,"comment_id":50037666,"body_markdown":"On one of your images it says project with :scanLibrary could not be found in build path of :app, so my que. is have you imported scanlibrary? if so try cleaning &amp; rebuild your project. Let me know if you have any doubts.","body":"On one of your images it says project with :scanLibrary could not be found in build path of :app, so my que. is have you imported scanlibrary? if so try cleaning &amp; rebuild your project. Let me know if you have any doubts."},{"owner":{"account_id":2710453,"reputation":1317,"user_id":2339034,"accept_rate":67,"display_name":"PowerMan2015"},"score":0,"creation_date":1435077970,"post_id":31002764,"comment_id":50044457,"body_markdown":"I&#39;ve not imported the scan library just yet. In truth I need to figure out how it&#39;s done  do you think after I import the scan library that the structure will return to normal?","body":"I&#39;ve not imported the scan library just yet. In truth I need to figure out how it&#39;s done  do you think after I import the scan library that the structure will return to normal?"},{"owner":{"account_id":3068440,"reputation":7112,"user_id":2599647,"accept_rate":64,"display_name":"Amrit Pal Singh"},"score":0,"creation_date":1435130151,"post_id":31002764,"comment_id":50065466,"body_markdown":"Yes the structure will come to normal after you finished importing scan library, if you haven&#39;t done it earlier see my answer","body":"Yes the structure will come to normal after you finished importing scan library, if you haven&#39;t done it earlier see my answer"}],"answers":[{"tags":[],"owner":{"account_id":3068440,"reputation":7112,"user_id":2599647,"accept_rate":64,"display_name":"Amrit Pal Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435130158,"creation_date":1435130158,"answer_id":31020102,"question_id":31002764,"body_markdown":"You have to import scan library to bring project structure to normal. Follow these steps:\r\n\r\n1 - Download zip from [this link][1].\r\n\r\n2 - Extract it and copy location of scanlibrary project present inside ScanDemoExample. In my case it is like `(D:\\Amrit\\AndroidScannerDemo-master\\AndroidScannerDemo-master\\ScanDemoExample\\scanlibrary)`.\r\n\r\n3 - Now come back to Android Studio, select \r\n\r\n&gt; File -&gt; New -&gt; Import Module\r\n\r\n and paste copied location path from previous step in **source directory** which will result in **module name** `:scanlibrary`. Click on `Finish` to close the dialog.\r\n\r\n4 - Now your project structure will look like image below. (You can view it by selecting File -&gt; Project Structure).\r\n![project structure of scan library demo][2]\r\n\r\n5 - Don&#39;t forget to add dependency\r\n\r\n    compile project(&#39;:scanlibrary&#39;) \r\ninside **build.gradle** file.\r\n\r\n6 - Now your library is ready to use with your project. In case you are facing any errors try **cleaning &amp; rebuilding** your project. And more often errors are **import problem** so try including these imports :\r\n\r\n    import com.scanlibrary.ScanActivity;\r\n    import com.scanlibrary.ScanConstants;\r\n\r\nwhere **ScanActivity** &amp; **ScanConstants** are classes present inside scanlibrary.\r\n\r\nLet me know if you have any doubts. Happy coding!\r\n\r\n  [1]: https://github.com/jhansireddy/AndroidScannerDemo\r\n  [2]: http://i.stack.imgur.com/2Etfi.jpg\r\n\r\n","title":"Android Project Structure Changed After Gradle Sync","body":"<p>You have to import scan library to bring project structure to normal. Follow these steps:</p>\n\n<p>1 - Download zip from <a href=\"https://github.com/jhansireddy/AndroidScannerDemo\" rel=\"nofollow noreferrer\">this link</a>.</p>\n\n<p>2 - Extract it and copy location of scanlibrary project present inside ScanDemoExample. In my case it is like <code>(D:\\Amrit\\AndroidScannerDemo-master\\AndroidScannerDemo-master\\ScanDemoExample\\scanlibrary)</code>.</p>\n\n<p>3 - Now come back to Android Studio, select </p>\n\n<blockquote>\n  <p>File -> New -> Import Module</p>\n</blockquote>\n\n<p>and paste copied location path from previous step in <strong>source directory</strong> which will result in <strong>module name</strong> <code>:scanlibrary</code>. Click on <code>Finish</code> to close the dialog.</p>\n\n<p>4 - Now your project structure will look like image below. (You can view it by selecting File -> Project Structure).\n<img src=\"https://i.stack.imgur.com/2Etfi.jpg\" alt=\"project structure of scan library demo\"></p>\n\n<p>5 - Don't forget to add dependency</p>\n\n<pre><code>compile project(':scanlibrary') \n</code></pre>\n\n<p>inside <strong>build.gradle</strong> file.</p>\n\n<p>6 - Now your library is ready to use with your project. In case you are facing any errors try <strong>cleaning &amp; rebuilding</strong> your project. And more often errors are <strong>import problem</strong> so try including these imports :</p>\n\n<pre><code>import com.scanlibrary.ScanActivity;\nimport com.scanlibrary.ScanConstants;\n</code></pre>\n\n<p>where <strong>ScanActivity</strong> &amp; <strong>ScanConstants</strong> are classes present inside scanlibrary.</p>\n\n<p>Let me know if you have any doubts. Happy coding!</p>\n"},{"tags":[],"owner":{"account_id":17227271,"reputation":1,"user_id":12472608,"display_name":"shahzaib athar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637565894,"creation_date":1637565894,"answer_id":70062210,"question_id":31002764,"body_markdown":"add this depenedency in build.gradle\r\n\r\nimplementation &#39;com.github.neutrinosplatform:scanlibrary:3.3&#39;\r\n\r\nand add maven in repositories\r\n\r\nmaven { url &#39;https://jitpack.io&#39; }","title":"Android Project Structure Changed After Gradle Sync","body":"<p>add this depenedency in build.gradle</p>\n<p>implementation 'com.github.neutrinosplatform:scanlibrary:3.3'</p>\n<p>and add maven in repositories</p>\n<p>maven { url 'https://jitpack.io' }</p>\n"}],"owner":{"account_id":2710453,"reputation":1317,"user_id":2339034,"accept_rate":67,"display_name":"PowerMan2015"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1262,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1637565894,"creation_date":1435062328,"question_id":31002764,"body_markdown":"I am working with android studio attempting to implement the following github within my own application\r\n\r\nhttps://github.com/jhansireddy/AndroidScannerDemo\r\n\r\nWhen following the instructions I add the following line to the gradle\r\n\r\ncompile project(&#39;:scanlibrary&#39;)\r\n\r\nAfter adding the above i then sync the gradle and the whole project structure changes, to the point where i no longer recognise it\r\n\r\nOriginal Project Structure\r\n![Original project structure][1]\r\n\r\nNew Project Structure\r\n![New Project Structure][2]\r\n\r\nIf you havnt gathered i am fairly new to the whole android programming thing\r\n\r\nOne thought i had was that the git project uses OpenCV and it was related to this, however i have not manually installed OpenCV\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dFRqV.png\r\n  [2]: http://i.stack.imgur.com/8HoGo.png","title":"Android Project Structure Changed After Gradle Sync","body":"<p>I am working with android studio attempting to implement the following github within my own application</p>\n\n<p><a href=\"https://github.com/jhansireddy/AndroidScannerDemo\" rel=\"nofollow noreferrer\">https://github.com/jhansireddy/AndroidScannerDemo</a></p>\n\n<p>When following the instructions I add the following line to the gradle</p>\n\n<p>compile project(':scanlibrary')</p>\n\n<p>After adding the above i then sync the gradle and the whole project structure changes, to the point where i no longer recognise it</p>\n\n<p>Original Project Structure\n<img src=\"https://i.stack.imgur.com/dFRqV.png\" alt=\"Original project structure\"></p>\n\n<p>New Project Structure\n<img src=\"https://i.stack.imgur.com/8HoGo.png\" alt=\"New Project Structure\"></p>\n\n<p>If you havnt gathered i am fairly new to the whole android programming thing</p>\n\n<p>One thought i had was that the git project uses OpenCV and it was related to this, however i have not manually installed OpenCV</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":5543,"reputation":25609,"user_id":8976,"accept_rate":100,"display_name":"EricSchaefer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637565342,"creation_date":1637565342,"answer_id":70062121,"question_id":70061688,"body_markdown":"`method2()` does not belong to the type you mocked. It belongs to the type that is returned by `method1()`. You can only tell the mock what to return on calls to `method1()` (that&#39;s the reason for the `misusing` part in the exceptions package name).\r\n\r\nIn theory, you the create a mock for the type returned by `method1()` and instruct `mockedClass` to return that second mock and then tell the new mock to return `x` when `method2()` is called. But letting mocks return other mocks is usually a really bad idea for a multitude of reasons.\r\n\r\nWithout knowing your actual code and what you really want to achieve, it is really hard to give any advice on this. Therefore I can only offer some general hints, which might or might not apply to you situation.\r\n\r\nUsually, `object1.method1().method2()` call chain should be avoided. The &quot;Tell, don&#39;t ask&quot; principle says, that asking an object for *something* and then operating on that *something* should be avoided (**Tell** an object what to do, **instead of asking** it for things and do it yourself). The call chain implies that `method1()` is returning another object (`object2`) which is then used to call `method2()`. Instead of this, you should add a method to `object1` which is doing the call to `method2()` and returns its result. Simple example:\r\n\r\nThis is what you classes might look like\r\n```java\r\npublic class C1 {\r\n    private C2 o2;\r\n\r\n    public C2 method1() {\r\n        return o2;\r\n    }\r\n}\r\n\r\npublic class C2 {\r\n    public int method2() {\r\n        return computeValue();\r\n    }\r\n}\r\n\r\n// somewhere else:\r\nint value = object1.method1().method2();\r\n```\r\n\r\nInstead, you could design it like this:\r\n\r\n```java\r\npublic class C1 {\r\n    private C2 o2;\r\n\r\n    //public C2 method1() {\r\n    //    return o2;\r\n    //}\r\n    public int method3() {\r\n        return o2.method2();\r\n    }\r\n}\r\n\r\npublic class C2 {\r\n    public int method2() {\r\n        return computeValue();\r\n    }\r\n}\r\n\r\n// somewhere else:\r\n//int value = object1.method1().method2();\r\nint value = object1.method3();\r\n```\r\n\r\nThis way you avoid the call chain and `C1` does not have to reveal that it contains a value of type `C2` which means you could change that without the callers being aware of it.\r\n\r\nApart from the better design and the avoidance of the call chain (also called a &quot;train wreck&quot;), this allows you to do the following for your mocking situation:\r\n\r\n```java\r\n//when(mockedClass.method1().method2()).thenReturn(x);\r\nwhen(mockedClass.method3()).thenReturn(x);\r\n```\r\n","title":"How to call a method of a method of a mocked class?","body":"<p><code>method2()</code> does not belong to the type you mocked. It belongs to the type that is returned by <code>method1()</code>. You can only tell the mock what to return on calls to <code>method1()</code> (that's the reason for the <code>misusing</code> part in the exceptions package name).</p>\n<p>In theory, you the create a mock for the type returned by <code>method1()</code> and instruct <code>mockedClass</code> to return that second mock and then tell the new mock to return <code>x</code> when <code>method2()</code> is called. But letting mocks return other mocks is usually a really bad idea for a multitude of reasons.</p>\n<p>Without knowing your actual code and what you really want to achieve, it is really hard to give any advice on this. Therefore I can only offer some general hints, which might or might not apply to you situation.</p>\n<p>Usually, <code>object1.method1().method2()</code> call chain should be avoided. The &quot;Tell, don't ask&quot; principle says, that asking an object for <em>something</em> and then operating on that <em>something</em> should be avoided (<strong>Tell</strong> an object what to do, <strong>instead of asking</strong> it for things and do it yourself). The call chain implies that <code>method1()</code> is returning another object (<code>object2</code>) which is then used to call <code>method2()</code>. Instead of this, you should add a method to <code>object1</code> which is doing the call to <code>method2()</code> and returns its result. Simple example:</p>\n<p>This is what you classes might look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class C1 {\n    private C2 o2;\n\n    public C2 method1() {\n        return o2;\n    }\n}\n\npublic class C2 {\n    public int method2() {\n        return computeValue();\n    }\n}\n\n// somewhere else:\nint value = object1.method1().method2();\n</code></pre>\n<p>Instead, you could design it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class C1 {\n    private C2 o2;\n\n    //public C2 method1() {\n    //    return o2;\n    //}\n    public int method3() {\n        return o2.method2();\n    }\n}\n\npublic class C2 {\n    public int method2() {\n        return computeValue();\n    }\n}\n\n// somewhere else:\n//int value = object1.method1().method2();\nint value = object1.method3();\n</code></pre>\n<p>This way you avoid the call chain and <code>C1</code> does not have to reveal that it contains a value of type <code>C2</code> which means you could change that without the callers being aware of it.</p>\n<p>Apart from the better design and the avoidance of the call chain (also called a &quot;train wreck&quot;), this allows you to do the following for your mocking situation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//when(mockedClass.method1().method2()).thenReturn(x);\nwhen(mockedClass.method3()).thenReturn(x);\n</code></pre>\n"}],"owner":{"account_id":23354600,"reputation":43,"user_id":17427746,"display_name":"Tanaya Mitra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637565439,"creation_date":1637562515,"question_id":70061688,"body_markdown":"How to call a method of a method of a mocked class?\r\n\r\n```java\r\nwhen(mockedClass.method1().method2()).thenReturn(x);\r\n```\r\n\r\nThis line of code is throwing \r\n\r\n`org.mockito.exceptions.misusing.MissingMethodInvocationException`\r\n\r\nI am not able to call the 2nd method after mocking the class.\r\nI tried `doReturn`, spy but didn&#39;t work. \r\n\r\nAny solution is appreciated!","title":"How to call a method of a method of a mocked class?","body":"<p>How to call a method of a method of a mocked class?</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(mockedClass.method1().method2()).thenReturn(x);\n</code></pre>\n<p>This line of code is throwing</p>\n<p><code>org.mockito.exceptions.misusing.MissingMethodInvocationException</code></p>\n<p>I am not able to call the 2nd method after mocking the class.\nI tried <code>doReturn</code>, spy but didn't work.</p>\n<p>Any solution is appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637563697,"post_id":70061830,"comment_id":123850133,"body_markdown":"Your code would be a lot easier to read. a lot easier to find bugs and a lot easier to maintain if you moved code into methods.  `if (choice == 1)  { doCalculator (); } else ...`","body":"Your code would be a lot easier to read. a lot easier to find bugs and a lot easier to maintain if you moved code into methods.  <code>if (choice == 1)  { doCalculator (); } else ...</code>"},{"owner":{"account_id":17232762,"reputation":1,"user_id":12476939,"display_name":"Ban"},"score":0,"creation_date":1637563762,"post_id":70061830,"comment_id":123850146,"body_markdown":"i dont know how to use methods","body":"i dont know how to use methods"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1637563799,"post_id":70061830,"comment_id":123850162,"body_markdown":"&quot;i dont know how to use methods&quot; - in that case you might want to start learning about them as quickly as possible.","body":"&quot;i dont know how to use methods&quot; - in that case you might want to start learning about them as quickly as possible."}],"answers":[{"tags":[],"owner":{"account_id":1217327,"reputation":1,"user_id":1184650,"display_name":"saj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637565022,"creation_date":1637565022,"answer_id":70062063,"question_id":70061830,"body_markdown":"You could extract those reusable parts into smaller methods and reuse it.\r\nEg:\r\n\r\n    private void printMainMenu(){\r\n    \tSystem.out.print(&quot;Enter 1 - Simple Calculator, Enter 2 - Age Calculator: &quot;);\r\n    }\r\n    private void printSubMenu(){\r\n    \tSystem.out.println(&quot;*********************************************************&quot;);\r\n    \tSystem.out.println(&quot;*********************************************************&quot;);\r\n    \tSystem.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\r\n    }\r\n\r\netc....  and then call these methods at places where you are repeating them.\r\n\r\nNote: these are just hints to start thinking in the right direction. There are a lot of scope for refactoring in the piece of code you shared. \r\n","title":"repeat statement from first statement when a specific number is entered","body":"<p>You could extract those reusable parts into smaller methods and reuse it.\nEg:</p>\n<pre><code>private void printMainMenu(){\n    System.out.print(&quot;Enter 1 - Simple Calculator, Enter 2 - Age Calculator: &quot;);\n}\nprivate void printSubMenu(){\n    System.out.println(&quot;*********************************************************&quot;);\n    System.out.println(&quot;*********************************************************&quot;);\n    System.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\n}\n</code></pre>\n<p>etc....  and then call these methods at places where you are repeating them.</p>\n<p>Note: these are just hints to start thinking in the right direction. There are a lot of scope for refactoring in the piece of code you shared.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637565279,"creation_date":1637565279,"answer_id":70062112,"question_id":70061830,"body_markdown":"Given your code snippet I assume you have another loop around this so I try to keep your code structure. There are for sure better ways to design the code but since you seem to just have started learning I&#39;ll stick to the constructs you seem to know already.\r\n\r\nTry moving the calculations and the &quot;sub menu&quot; (continue, menu, end) into separate blocks, e.g. like this (also try to use more meaningful names for your variables):\r\n\r\n    System.out.print(&quot;Enter 1 - Simple Calculator, Enter 2 - Age Calculator: &quot;);\r\n    int calculatorChoice = mexam.nextInt();\r\n\r\n    while( calculatorChoice == 1 || calculatorChoice == 2 ) {\r\n      if( calculatorChoice == 1) {\r\n        //simple calculator\r\n      } else { //calculator can only have value 2 as per while condition\r\n        //age calculator\r\n      }\r\n\r\n      //sub menu\r\n      System.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\r\n      int subMenuChoice = mexam.nextInt();\r\n \r\n      //subMenuChoice == 1 -&gt; nothing to do, just repeat loop\r\n      if(subMenuChoice == 2) {\r\n        //break out of loop \r\n      } else if (subMenuChoice == 3) {\r\n        //end program\r\n      }\r\n    }\r\n  \r\nAs you can see, your code could be simplified by using methods as per Scary Wombat&#39;s comment:\r\n\r\n    while(calculatorChoice == 1 || calculatorChoice == 2) {\r\n      if( calculatorChoice == 1) {\r\n        simpleCalculator();\r\n      } else { //calculator can only have value 2 as per while condition\r\n        ageCalculator();\r\n      }\r\n\r\n      calculatorChoice = subMenu(calculatorChoice );\r\n    }\r\n\r\nAnd `subMenu(...)` could look like this:\r\n\r\n\r\n    public int subMenu(int selectedCalculator) {      \r\n      System.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\r\n      int subMenuChoice = mexam.nextInt();\r\n       \r\n      if(subMenuChoice == 2) {\r\n        return 0; //no calculator selected\r\n      } else if (subMenuChoice == 3) {\r\n        System.exit(0); //end the program\r\n      }\r\n\r\n      //neither &quot;menu&quot; nor &quot;end&quot; selected, so keep the current calculator\r\n      return selectedCalculator;\r\n    }\r\n\r\nDepending on the rest of your program, you could even merge menu and sub menu:\r\n\r\n    public int menu(final int selectedCalculator) {      \r\n      int calculator = selectedCalculator;      \r\n\r\n      //display the sub menu as there already was a calculator selection\r\n      if(  selectedCalculator != 0 ) {\r\n         System.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\r\n         int subMenuChoice = mexam.nextInt();\r\n       \r\n         if (subMenuChoice == 2) {\r\n           //don&#39;t do anything but let the program &quot;flow&quot; to the menu\r\n         } else if (subMenuChoice == 3) {\r\n           System.exit(0); //end the program\r\n         } else {\r\n           return selectedCalculator; //assume &quot;continue&quot; was selected so keep the calculator\r\n         }\r\n      }\r\n       \r\n      //if we&#39;re here  &quot;selectedCalculator&quot; either was 0 or subMenuChoice was 2\r\n      System.out.print(&quot;Enter 1 - Simple Calculator, Enter 2 - Age Calculator: &quot;);\r\n      return mexam.nextInt();\r\n    }\r\n\r\nUsage:\r\n\r\n    int calculator = menu(0);\r\n\r\n    while(calculator != 0) {\r\n      if(calculator == 1) {\r\n        simpleCalculator();\r\n      } else if(calculator == 2) {\r\n        ageCalculator();\r\n      }      \r\n\r\n      calculator = menu(calculator);\r\n    }","title":"repeat statement from first statement when a specific number is entered","body":"<p>Given your code snippet I assume you have another loop around this so I try to keep your code structure. There are for sure better ways to design the code but since you seem to just have started learning I'll stick to the constructs you seem to know already.</p>\n<p>Try moving the calculations and the &quot;sub menu&quot; (continue, menu, end) into separate blocks, e.g. like this (also try to use more meaningful names for your variables):</p>\n<pre><code>System.out.print(&quot;Enter 1 - Simple Calculator, Enter 2 - Age Calculator: &quot;);\nint calculatorChoice = mexam.nextInt();\n\nwhile( calculatorChoice == 1 || calculatorChoice == 2 ) {\n  if( calculatorChoice == 1) {\n    //simple calculator\n  } else { //calculator can only have value 2 as per while condition\n    //age calculator\n  }\n\n  //sub menu\n  System.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\n  int subMenuChoice = mexam.nextInt();\n\n  //subMenuChoice == 1 -&gt; nothing to do, just repeat loop\n  if(subMenuChoice == 2) {\n    //break out of loop \n  } else if (subMenuChoice == 3) {\n    //end program\n  }\n}\n</code></pre>\n<p>As you can see, your code could be simplified by using methods as per Scary Wombat's comment:</p>\n<pre><code>while(calculatorChoice == 1 || calculatorChoice == 2) {\n  if( calculatorChoice == 1) {\n    simpleCalculator();\n  } else { //calculator can only have value 2 as per while condition\n    ageCalculator();\n  }\n\n  calculatorChoice = subMenu(calculatorChoice );\n}\n</code></pre>\n<p>And <code>subMenu(...)</code> could look like this:</p>\n<pre><code>public int subMenu(int selectedCalculator) {      \n  System.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\n  int subMenuChoice = mexam.nextInt();\n   \n  if(subMenuChoice == 2) {\n    return 0; //no calculator selected\n  } else if (subMenuChoice == 3) {\n    System.exit(0); //end the program\n  }\n\n  //neither &quot;menu&quot; nor &quot;end&quot; selected, so keep the current calculator\n  return selectedCalculator;\n}\n</code></pre>\n<p>Depending on the rest of your program, you could even merge menu and sub menu:</p>\n<pre><code>public int menu(final int selectedCalculator) {      \n  int calculator = selectedCalculator;      \n\n  //display the sub menu as there already was a calculator selection\n  if(  selectedCalculator != 0 ) {\n     System.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\n     int subMenuChoice = mexam.nextInt();\n   \n     if (subMenuChoice == 2) {\n       //don't do anything but let the program &quot;flow&quot; to the menu\n     } else if (subMenuChoice == 3) {\n       System.exit(0); //end the program\n     } else {\n       return selectedCalculator; //assume &quot;continue&quot; was selected so keep the calculator\n     }\n  }\n   \n  //if we're here  &quot;selectedCalculator&quot; either was 0 or subMenuChoice was 2\n  System.out.print(&quot;Enter 1 - Simple Calculator, Enter 2 - Age Calculator: &quot;);\n  return mexam.nextInt();\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>int calculator = menu(0);\n\nwhile(calculator != 0) {\n  if(calculator == 1) {\n    simpleCalculator();\n  } else if(calculator == 2) {\n    ageCalculator();\n  }      \n\n  calculator = menu(calculator);\n}\n</code></pre>\n"}],"owner":{"account_id":17232762,"reputation":1,"user_id":12476939,"display_name":"Ban"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637565279,"creation_date":1637563479,"question_id":70061830,"body_markdown":"How do I recall the (Enter 1 - Simple Calculator, Enter 2 - Age Calculator) when number 2 is entered from `choice1` and `choice2` without having code duplications? I can&#39;t seem to find do it unless I duplicate the whole code. Is there no other way unless I duplicate them?\r\n\r\n```java\r\nint choice, choice1, choice2;\r\nSystem.out.print(&quot;Enter 1 - Simple Calculator, Enter 2 - Age Calculator: &quot;);\r\nchoice = mexam.nextInt();\r\n        \r\nif (choice == 1) {\r\n    do {\r\n        System.out.println(&quot;********************Simple Calculator********************&quot;);\r\n        System.out.print(&quot;Enter first number: &quot;);\r\n        int firstNumber = mexam.nextInt();\r\n        System.out.print(&quot;Enter second number: &quot;);\r\n        int secondNumber = mexam.nextInt();\r\n        System.out.print(&quot;Enter operator: &quot;);\r\n        String operator = mexam.next();\r\n        int result;\r\n        switch (operator) {\r\n            case &quot;+&quot;:\r\n                result = firstNumber + secondNumber;\r\n                System.out.println(&quot;Sum: &quot; + result);\r\n                break;\r\n            case &quot;-&quot;:\r\n                result = firstNumber - secondNumber;\r\n                System.out.println(&quot;Difference: &quot; + result);\r\n                break;\r\n            case &quot;*&quot;:\r\n                result = firstNumber * secondNumber;\r\n                System.out.println(&quot;Product: &quot; + result);\r\n                break;\r\n            case &quot;/&quot;:\r\n                result = firstNumber / secondNumber;\r\n                System.out.println(&quot;Quotient: &quot; + result);\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Invalid Operator&quot;);\r\n        }\r\nSystem.out.println(&quot;*********************************************************&quot;);\r\n        System.out.println(&quot;*********************************************************&quot;);\r\n        System.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\r\n        choice1 = mexam.nextInt();\r\n    } while (choice1 == 1);\r\n} else if (choice == 2) {\r\n    do {\r\n        System.out.println(&quot;*********************Age Calculator**********************&quot;);\r\n        int year = 2021, result1;\r\n        System.out.print(&quot;Enter birth year: &quot;);\r\n        int birthyear = mexam.nextInt();\r\n        result1 = year % birthyear;\r\n        System.out.println(&quot;Age: &quot; + result1);\r\n        System.out.println(&quot;*********************************************************&quot;);\r\n        System.out.println(&quot;*********************************************************&quot;);\r\n        System.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\r\n        choice2 = mexam.nextInt();\r\n    } while (choice2 == 1);\r\n```","title":"repeat statement from first statement when a specific number is entered","body":"<p>How do I recall the (Enter 1 - Simple Calculator, Enter 2 - Age Calculator) when number 2 is entered from <code>choice1</code> and <code>choice2</code> without having code duplications? I can't seem to find do it unless I duplicate the whole code. Is there no other way unless I duplicate them?</p>\n<pre class=\"lang-java prettyprint-override\"><code>int choice, choice1, choice2;\nSystem.out.print(&quot;Enter 1 - Simple Calculator, Enter 2 - Age Calculator: &quot;);\nchoice = mexam.nextInt();\n        \nif (choice == 1) {\n    do {\n        System.out.println(&quot;********************Simple Calculator********************&quot;);\n        System.out.print(&quot;Enter first number: &quot;);\n        int firstNumber = mexam.nextInt();\n        System.out.print(&quot;Enter second number: &quot;);\n        int secondNumber = mexam.nextInt();\n        System.out.print(&quot;Enter operator: &quot;);\n        String operator = mexam.next();\n        int result;\n        switch (operator) {\n            case &quot;+&quot;:\n                result = firstNumber + secondNumber;\n                System.out.println(&quot;Sum: &quot; + result);\n                break;\n            case &quot;-&quot;:\n                result = firstNumber - secondNumber;\n                System.out.println(&quot;Difference: &quot; + result);\n                break;\n            case &quot;*&quot;:\n                result = firstNumber * secondNumber;\n                System.out.println(&quot;Product: &quot; + result);\n                break;\n            case &quot;/&quot;:\n                result = firstNumber / secondNumber;\n                System.out.println(&quot;Quotient: &quot; + result);\n                break;\n            default:\n                System.out.println(&quot;Invalid Operator&quot;);\n        }\nSystem.out.println(&quot;*********************************************************&quot;);\n        System.out.println(&quot;*********************************************************&quot;);\n        System.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\n        choice1 = mexam.nextInt();\n    } while (choice1 == 1);\n} else if (choice == 2) {\n    do {\n        System.out.println(&quot;*********************Age Calculator**********************&quot;);\n        int year = 2021, result1;\n        System.out.print(&quot;Enter birth year: &quot;);\n        int birthyear = mexam.nextInt();\n        result1 = year % birthyear;\n        System.out.println(&quot;Age: &quot; + result1);\n        System.out.println(&quot;*********************************************************&quot;);\n        System.out.println(&quot;*********************************************************&quot;);\n        System.out.print(&quot;Enter 1 - Continue, Enter 2 - Menu, Enter 3 - End: &quot;);\n        choice2 = mexam.nextInt();\n    } while (choice2 == 1);\n</code></pre>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1637565985,"post_id":70062051,"comment_id":123850724,"body_markdown":"It is most common not to unit-test generated code but to test it through using it in its intended application.","body":"It is most common not to unit-test generated code but to test it through using it in its intended application."},{"owner":{"account_id":492960,"reputation":10530,"user_id":914716,"display_name":"jpa"},"score":0,"creation_date":1637575833,"post_id":70062051,"comment_id":123853998,"body_markdown":"Improving coverage for the sake of coverage is just wasted time.","body":"Improving coverage for the sake of coverage is just wasted time."}],"owner":{"account_id":17289935,"reputation":11,"user_id":12521718,"display_name":"oliver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637564950,"creation_date":1637564950,"question_id":70062051,"body_markdown":"There generated some java files according to .proto in my code. How do I make a overall test of messages defined , since many odd classes and methods were generated.\r\n\r\nThe source code is generated automatically, the unit test code ,I think, can also be done.\r\nAll I can find is only cpp project, but I am using Spring framework.\r\n\r\n&lt;https://github.com/protocolbuffers/protobuf/tree/master/src/google/protobuf&gt;\r\n\r\nAll I need is to improve coverage. Thanks in advance.","title":"How do I make Unit Test of ProtocolBuffer to improve coverage?","body":"<p>There generated some java files according to .proto in my code. How do I make a overall test of messages defined , since many odd classes and methods were generated.</p>\n<p>The source code is generated automatically, the unit test code ,I think, can also be done.\nAll I can find is only cpp project, but I am using Spring framework.</p>\n<p><a href=\"https://github.com/protocolbuffers/protobuf/tree/master/src/google/protobuf\" rel=\"nofollow noreferrer\">https://github.com/protocolbuffers/protobuf/tree/master/src/google/protobuf</a></p>\n<p>All I need is to improve coverage. Thanks in advance.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1414566719,"post_id":26618400,"comment_id":41858719,"body_markdown":"You cannot as at that location only the system properties/environment is consulted the property placeholder doesn&#39;t replace placeholders in different locations. I would suggest instead of using your own property to use spring profiles or write an `ApplicationContextInitializer` to load the different property files.","body":"You cannot as at that location only the system properties/environment is consulted the property placeholder doesn&#39;t replace placeholders in different locations. I would suggest instead of using your own property to use spring profiles or write an <code>ApplicationContextInitializer</code> to load the different property files."}],"answers":[{"tags":[],"owner":{"account_id":2116093,"reputation":1547,"user_id":1880376,"accept_rate":50,"display_name":"Desorder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1414542062,"creation_date":1414542062,"answer_id":26620801,"question_id":26618400,"body_markdown":"You can do something like this\r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:file1.properties,classpath*:project-common.properties,classpath*:project-${spring.profiles.active}.properties&quot;/&gt;\r\n\r\nIn my case, it was a legacy system so property files didn&#39;t have some standard names but for sure you can use wildcards to reference your property files.\r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:*.properties&quot;/&gt;","title":"How to use multiple property-placeholder in a Spring xml file","body":"<p>You can do something like this</p>\n\n<pre><code>&lt;context:property-placeholder location=\"classpath:file1.properties,classpath*:project-common.properties,classpath*:project-${spring.profiles.active}.properties\"/&gt;\n</code></pre>\n\n<p>In my case, it was a legacy system so property files didn't have some standard names but for sure you can use wildcards to reference your property files.</p>\n\n<pre><code>&lt;context:property-placeholder location=\"classpath:*.properties\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414571598,"creation_date":1414571598,"answer_id":26625787,"question_id":26618400,"body_markdown":"You can use\r\n\r\n    &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n\t\t&lt;property name=&quot;location&quot;&gt;\r\n\t\t\t&lt;value&gt;classpath:file1.properties&lt;/value&gt;\r\n\t\t\t&lt;value&gt;classpath:file2.properties&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nor (comma separated) \r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:file1.properties,classpath:file2.properties&quot;/&gt;","title":"How to use multiple property-placeholder in a Spring xml file","body":"<p>You can use</p>\n\n<pre><code>&lt;bean class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"location\"&gt;\n        &lt;value&gt;classpath:file1.properties&lt;/value&gt;\n        &lt;value&gt;classpath:file2.properties&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>or (comma separated) </p>\n\n<pre><code>&lt;context:property-placeholder location=\"classpath:file1.properties,classpath:file2.properties\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165159,"reputation":379,"user_id":1784164,"display_name":"Cavva79"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538571057,"creation_date":1538571057,"answer_id":52627450,"question_id":26618400,"body_markdown":"Just 4 years late, but I found a way to do it in spring 4 (I&#39;m using 4.2.2).\r\n\r\nThe trick is to use util:properties to wrap the 2 property files, and access the value included in the first file with [SpEL][1]:\r\n\r\n    &lt;util:properties \r\n          id=&quot;specific&quot; \r\n          location=&quot;classpath:dir1/#{systemProperties[&#39;myapp.system.property&#39;]}.properties&quot;/&gt;\r\n    &lt;util:properties \r\n          id=&quot;devProperties&quot; \r\n          location=&quot;classpath:dir2/myapp-#{specific[&#39;myapp.environment&#39;]}.properties&quot;/&gt;\r\n    &lt;context:property-placeholder properties-ref=&quot;specific&quot; order=&quot;1&quot; ignore-unresolvable=&quot;true&quot; /&gt;\r\n    &lt;context:property-placeholder properties-ref=&quot;devProperties&quot; order=&quot;2&quot; ignore-unresolvable=&quot;true&quot; /&gt;\r\n\r\nUsing properties you have access to bean created.\r\n\r\nignore-unresolvable is the way to access both property-placeholders without having errors\r\n\r\nHope it helps someone from now on.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/4.2.2.RELEASE/spring-framework-reference/html/expressions.html","title":"How to use multiple property-placeholder in a Spring xml file","body":"<p>Just 4 years late, but I found a way to do it in spring 4 (I'm using 4.2.2).</p>\n\n<p>The trick is to use util:properties to wrap the 2 property files, and access the value included in the first file with <a href=\"https://docs.spring.io/spring-framework/docs/4.2.2.RELEASE/spring-framework-reference/html/expressions.html\" rel=\"nofollow noreferrer\">SpEL</a>:</p>\n\n<pre><code>&lt;util:properties \n      id=\"specific\" \n      location=\"classpath:dir1/#{systemProperties['myapp.system.property']}.properties\"/&gt;\n&lt;util:properties \n      id=\"devProperties\" \n      location=\"classpath:dir2/myapp-#{specific['myapp.environment']}.properties\"/&gt;\n&lt;context:property-placeholder properties-ref=\"specific\" order=\"1\" ignore-unresolvable=\"true\" /&gt;\n&lt;context:property-placeholder properties-ref=\"devProperties\" order=\"2\" ignore-unresolvable=\"true\" /&gt;\n</code></pre>\n\n<p>Using properties you have access to bean created.</p>\n\n<p>ignore-unresolvable is the way to access both property-placeholders without having errors</p>\n\n<p>Hope it helps someone from now on.</p>\n"}],"owner":{"account_id":205226,"reputation":6042,"user_id":978391,"accept_rate":35,"display_name":"Kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10090,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1637564929,"creation_date":1414530050,"question_id":26618400,"body_markdown":"I have a question related to how Spring handles multiple property-placeholder.\r\n\r\nI have this section of code:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:dir1/${myapp.system.property}.properties&quot;/&gt;\r\n\r\nThe property myapp.system.property is a defined System property. \r\n\r\nIf it is defined to &quot;devsystem&quot;, for example, all the properties defined in devsystem.properties are imported and are available to use in the code below.\r\n\r\nNow I wanted to have another property file whose name is defined by a properties in the devsystem.property file:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:dir1/${myapp.system.property}.properties&quot;/&gt;\r\n    &lt;context:property-placeholder location=&quot;classpath:dir2/myapp-${myapp.environment}.properties&quot;/&gt;\r\n\r\nmyapp.environment is a property defined in the devsystem.properties file. \r\n\r\nThis stopped working. Spring cannot resolve ${myapp.environment} and complains it cannot locate file  dir2/myapp-${myapp.environment}.properties.\r\n\r\nCan someone let me know what I did wrong and how can I make this working?\r\n\r\n","title":"How to use multiple property-placeholder in a Spring xml file","body":"<p>I have a question related to how Spring handles multiple property-placeholder.</p>\n<p>I have this section of code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;context:property-placeholder location=&quot;classpath:dir1/${myapp.system.property}.properties&quot;/&gt;\n</code></pre>\n<p>The property myapp.system.property is a defined System property.</p>\n<p>If it is defined to &quot;devsystem&quot;, for example, all the properties defined in devsystem.properties are imported and are available to use in the code below.</p>\n<p>Now I wanted to have another property file whose name is defined by a properties in the devsystem.property file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;context:property-placeholder location=&quot;classpath:dir1/${myapp.system.property}.properties&quot;/&gt;\n&lt;context:property-placeholder location=&quot;classpath:dir2/myapp-${myapp.environment}.properties&quot;/&gt;\n</code></pre>\n<p>myapp.environment is a property defined in the devsystem.properties file.</p>\n<p>This stopped working. Spring cannot resolve ${myapp.environment} and complains it cannot locate file  dir2/myapp-${myapp.environment}.properties.</p>\n<p>Can someone let me know what I did wrong and how can I make this working?</p>\n"},{"tags":["java","docker","performance","jmeter","rmi"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1637473356,"post_id":70052009,"comment_id":123832949,"body_markdown":"#1 In which of parameter of master docker run, are you setting the slave ip? #2 Master and client has different ips? Are these ips public or exist in the same network?","body":"#1 In which of parameter of master docker run, are you setting the slave ip? #2 Master and client has different ips? Are these ips public or exist in the same network?"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1637475109,"post_id":70052009,"comment_id":123833121,"body_markdown":"What jmeter docker image are you using?","body":"What jmeter docker image are you using?"},{"owner":{"account_id":4733102,"reputation":318,"user_id":3828146,"accept_rate":20,"display_name":"Svp57"},"score":0,"creation_date":1637483136,"post_id":70052009,"comment_id":123834164,"body_markdown":"@JRichardsz -R parameter is used to set slave IP.#2. Yes, both are in the same subnet.I&#39;ve also checked the network connectivity between master and slave on all used ports","body":"@JRichardsz -R parameter is used to set slave IP.#2. Yes, both are in the same subnet.I&#39;ve also checked the network connectivity between master and slave on all used ports"},{"owner":{"account_id":4733102,"reputation":318,"user_id":3828146,"accept_rate":20,"display_name":"Svp57"},"score":0,"creation_date":1637483293,"post_id":70052009,"comment_id":123834175,"body_markdown":"@JRichardsz I&#39;ve followed the Blazemeter blog https://www.blazemeter.com/blog/jmeter-distributed-testing-with-docker to create the image","body":"@JRichardsz I&#39;ve followed the Blazemeter blog <a href=\"https://www.blazemeter.com/blog/jmeter-distributed-testing-with-docker\" rel=\"nofollow noreferrer\">blazemeter.com/blog/jmeter-distributed-testing-with-docker</a> to create the image"}],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637476113,"creation_date":1637476113,"answer_id":70052343,"question_id":70052009,"body_markdown":"According to :\r\n\r\n- https://www.guru99.com/jmeter-distributed-testing.html\r\n- https://www.baeldung.com/jmeter-distributed-testing\r\n- https://stackoverflow.com/questions/11712080/jmeter-with-remote-servers/31021802\r\n- https://medium.com/@Muhammad.Ali.Nisar/jmeter-master-slave-configuration-fe38fc890ca\r\n- https://jmeter.apache.org/usermanual/remote-test.html\r\n\r\nJust we need:\r\n\r\n- configure the slave machine\r\n- configure the run machine\r\n- add the slave ip/ips on the master using the file **jmeter/bin/jmeter.properties**\r\n```\r\n  remote_hosts=192.165.0.10,192.165.0.20,192.165.0.30\r\n```\r\n- the main and slave ports are randomly assigned so you should use parameters: **client.rmi.localport and server.rmi.localport** respectively.\r\n- then start the master jmeter\r\n- then start the slave jmeter and the connection will be established.\r\n\r\n## advice\r\n\r\nEstablish the connection with docker, following and of the several tutorials on the internet. This will help you to detect errors like:\r\n\r\n- firewalls permissions\r\n- ports configuration on master and slave\r\n- public/private network restrictions\r\n- etc\r\n\r\nIf it works, then use docker to automate it.","title":"Connection refused error while connecting to jmeter slave docker container","body":"<p>According to :</p>\n<ul>\n<li><a href=\"https://www.guru99.com/jmeter-distributed-testing.html\" rel=\"nofollow noreferrer\">https://www.guru99.com/jmeter-distributed-testing.html</a></li>\n<li><a href=\"https://www.baeldung.com/jmeter-distributed-testing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jmeter-distributed-testing</a></li>\n<li><a href=\"https://stackoverflow.com/questions/11712080/jmeter-with-remote-servers/31021802\">JMeter with remote servers</a></li>\n<li><a href=\"https://medium.com/@Muhammad.Ali.Nisar/jmeter-master-slave-configuration-fe38fc890ca\" rel=\"nofollow noreferrer\">https://medium.com/@Muhammad.Ali.Nisar/jmeter-master-slave-configuration-fe38fc890ca</a></li>\n<li><a href=\"https://jmeter.apache.org/usermanual/remote-test.html\" rel=\"nofollow noreferrer\">https://jmeter.apache.org/usermanual/remote-test.html</a></li>\n</ul>\n<p>Just we need:</p>\n<ul>\n<li>configure the slave machine</li>\n<li>configure the run machine</li>\n<li>add the slave ip/ips on the master using the file <strong>jmeter/bin/jmeter.properties</strong></li>\n</ul>\n<pre><code>  remote_hosts=192.165.0.10,192.165.0.20,192.165.0.30\n</code></pre>\n<ul>\n<li>the main and slave ports are randomly assigned so you should use parameters: <strong>client.rmi.localport and server.rmi.localport</strong> respectively.</li>\n<li>then start the master jmeter</li>\n<li>then start the slave jmeter and the connection will be established.</li>\n</ul>\n<h2>advice</h2>\n<p>Establish the connection with docker, following and of the several tutorials on the internet. This will help you to detect errors like:</p>\n<ul>\n<li>firewalls permissions</li>\n<li>ports configuration on master and slave</li>\n<li>public/private network restrictions</li>\n<li>etc</li>\n</ul>\n<p>If it works, then use docker to automate it.</p>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637564340,"creation_date":1637564340,"answer_id":70061971,"question_id":70052009,"body_markdown":" 1. You&#39;re using `172.17.0.2` which is kind of local network address for [Class B networks][1] so your &quot;hosts&quot; might not be able to reach each other, try using [public IP addresses][2] instead\r\n 2. You will need to open the RMI ports in your OS [firewall][3] and in [EC2 security groups][4]\r\n 3. I fail to see why would you need docker there, it doesn&#39;t add any value and only making things more complicated and consumes resources\r\n 4. I fail to see the reason for going for the distributed testing there, one master and one slave is equal to one &quot;load generator&quot; machine which means that you can just [run your test in command-line non-GUI mode][5] from a single host and get the same results. \r\n   \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Classful_network#Classful_addressing_definition\r\n  [2]: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html\r\n  [3]: https://en.wikipedia.org/wiki/Firewall_(computing)\r\n  [4]: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-security-groups.html\r\n  [5]: https://www.blazemeter.com/blog/dear-abby-blazemeter-how-do-i-run-jmeter-non-gui-mode","title":"Connection refused error while connecting to jmeter slave docker container","body":"<ol>\n<li>You're using <code>172.17.0.2</code> which is kind of local network address for <a href=\"https://en.wikipedia.org/wiki/Classful_network#Classful_addressing_definition\" rel=\"nofollow noreferrer\">Class B networks</a> so your &quot;hosts&quot; might not be able to reach each other, try using <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html\" rel=\"nofollow noreferrer\">public IP addresses</a> instead</li>\n<li>You will need to open the RMI ports in your OS <a href=\"https://en.wikipedia.org/wiki/Firewall_(computing)\" rel=\"nofollow noreferrer\">firewall</a> and in <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-security-groups.html\" rel=\"nofollow noreferrer\">EC2 security groups</a></li>\n<li>I fail to see why would you need docker there, it doesn't add any value and only making things more complicated and consumes resources</li>\n<li>I fail to see the reason for going for the distributed testing there, one master and one slave is equal to one &quot;load generator&quot; machine which means that you can just <a href=\"https://www.blazemeter.com/blog/dear-abby-blazemeter-how-do-i-run-jmeter-non-gui-mode\" rel=\"nofollow noreferrer\">run your test in command-line non-GUI mode</a> from a single host and get the same results.</li>\n</ol>\n"}],"owner":{"account_id":4733102,"reputation":318,"user_id":3828146,"accept_rate":20,"display_name":"Svp57"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637564340,"creation_date":1637471970,"question_id":70052009,"body_markdown":"I&#39;m trying to implement Jmeter distributed framework with Docker. Master and slaves are running on different hosts in ec2. Ports have been opened to allow communication.\r\n\r\nMaster is stuck with the below message\r\n\r\n    Starting distributed test with remote engines: [slaveIP:1099] @ Sun Nov 21 04:50:29 GMT 2021 (1637470229447)\r\n    Remote engines have been started:[slaveIP:1099]\r\nOn the slave side, it is throwing me connection refused errors.\r\n\r\n    java.rmi.ConnectException: Connection refused to host: 172.17.0.2; nested exception is:\r\n\r\nCommand to start slave machine:\r\n\r\n    docker run \\\r\n            -dit \\\r\n            -p 6000:6000 \\\r\n            -p 1099:1099 \\\r\n            -v &quot;${volume_path}&quot;:${jmeter_path} \\\r\n            --rm \\\r\n            jmeter \\\r\n            -n -s \\\r\n            -Jclient.rmi.localport=3000 \\\r\n            -Jserver.rmi.localport=6000 \\\r\n            -Dserver_port=1099 \\\r\n            -Djava.rmi.server.hostname=&lt;HostIP&gt; \\\r\n            -Dserver.rmi.ssl.disable=true \\\r\n            -j ${jmeter_path}/server/slave_${timestamp}_${IP_ADD}.log\r\n\r\nCommand to start master\r\n\r\n    docker run \\\r\n      -v &quot;${volume_path}&quot;:${jmeter_path} \\\r\n      -p 3000:3000 \\\r\n      --rm \\\r\n      jmeternew \\\r\n      -n -X \\\r\n       -t ${jmeter_path}/$1 \\\r\n      -Dserver.rmi.ssl.disable=true \\\r\n      -Dclient.rmi.localport=3000 \\\r\n      -R slaveIP:1099 \\\r\n      -l ${jmeter_path}/client/result_${timestamp}.jtl \\\r\n      -j ${jmeter_path}/client/jmeter_${timestamp}.log\r\n\r\nThe same commands are working if I&#39;m running master and slave on the same machine.\r\nI tried changing the java.rmi.server.hostname=0.0.0.0.\r\nIt&#39;s also throwing me connection refused error","title":"Connection refused error while connecting to jmeter slave docker container","body":"<p>I'm trying to implement Jmeter distributed framework with Docker. Master and slaves are running on different hosts in ec2. Ports have been opened to allow communication.</p>\n<p>Master is stuck with the below message</p>\n<pre><code>Starting distributed test with remote engines: [slaveIP:1099] @ Sun Nov 21 04:50:29 GMT 2021 (1637470229447)\nRemote engines have been started:[slaveIP:1099]\n</code></pre>\n<p>On the slave side, it is throwing me connection refused errors.</p>\n<pre><code>java.rmi.ConnectException: Connection refused to host: 172.17.0.2; nested exception is:\n</code></pre>\n<p>Command to start slave machine:</p>\n<pre><code>docker run \\\n        -dit \\\n        -p 6000:6000 \\\n        -p 1099:1099 \\\n        -v &quot;${volume_path}&quot;:${jmeter_path} \\\n        --rm \\\n        jmeter \\\n        -n -s \\\n        -Jclient.rmi.localport=3000 \\\n        -Jserver.rmi.localport=6000 \\\n        -Dserver_port=1099 \\\n        -Djava.rmi.server.hostname=&lt;HostIP&gt; \\\n        -Dserver.rmi.ssl.disable=true \\\n        -j ${jmeter_path}/server/slave_${timestamp}_${IP_ADD}.log\n</code></pre>\n<p>Command to start master</p>\n<pre><code>docker run \\\n  -v &quot;${volume_path}&quot;:${jmeter_path} \\\n  -p 3000:3000 \\\n  --rm \\\n  jmeternew \\\n  -n -X \\\n   -t ${jmeter_path}/$1 \\\n  -Dserver.rmi.ssl.disable=true \\\n  -Dclient.rmi.localport=3000 \\\n  -R slaveIP:1099 \\\n  -l ${jmeter_path}/client/result_${timestamp}.jtl \\\n  -j ${jmeter_path}/client/jmeter_${timestamp}.log\n</code></pre>\n<p>The same commands are working if I'm running master and slave on the same machine.\nI tried changing the java.rmi.server.hostname=0.0.0.0.\nIt's also throwing me connection refused error</p>\n"},{"tags":["java","ebay-api","ebay-sdk"],"comments":[{"owner":{"account_id":23330487,"reputation":101,"user_id":17406948,"display_name":"Erin Parkinson"},"score":1,"creation_date":1637617653,"post_id":70061806,"comment_id":123870053,"body_markdown":"From my experience, EBay&#39;s API is hit or miss. Don&#39;t expect their API to work the way the say it does.","body":"From my experience, EBay&#39;s API is hit or miss. Don&#39;t expect their API to work the way the say it does."}],"owner":{"account_id":23415543,"reputation":109,"user_id":17476544,"display_name":"Levi Hibbitts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1637563292,"creation_date":1637563292,"question_id":70061806,"body_markdown":"I&#39;m using the `GetSellerTransactionsCall` from `eBay Trading API` to obtain transaction from an eBay Seller.\r\n\r\n\r\n\r\nAccording to [eBay Documentation][1] this call is suppose to return a `Seller` object which contains a `UserType` with the following data:\r\n\r\n\r\n[Seller Object][2]\r\n\r\n[User Type with Feedback Star Rating][3]\r\n\r\n\r\nI&#39;m using the code below to execute `Get Seller Transactions Call`:\r\n\r\n\tGetSellerTransactionsCall getSellerTransactionsCall = new GetSellerTransactionsCall();\r\n\tgetSellerTransactionsCall.setApiContext(ebayAPI.getAPIContext(profileID));\r\n\tDetailLevelCodeType[] detailsLevels = new DetailLevelCodeType[1];\r\n\tdetailsLevels[0] = DetailLevelCodeType.RETURN_ALL;\r\n\t\t\r\n\tgetSellerTransactionsCall.setDetailLevel(detailsLevels);\r\n\t\t\r\n\tgetSellerTransactionsCall.setIncludeFinalValueFee(true);\r\n\r\n\r\n\tTransactionType[] transactionTypes = getSellerTransactionsCall.getSellerTransactions();\r\n\r\n\r\n    UserType sellerAsUserType = getSellerTransactionsCall.getSeller();\r\n    System.out.println(&quot;Seller: &quot; +sellerAsUserType ); // Prints null\r\n\tFeedbackRatingStarCodeType feedbackRatingStarCodeType = sellerAsUserType.getFeedbackRatingStar();\r\n\tSystem.out.println(&quot;Feedback Rating Star Code: &quot; + feedbackRatingStarCodeType); // Prints null\r\n\r\nI know the call itself is successful as I am able to iterate through all transactions of the given seller - so this is not a question of whether the call was successful or not.\r\n\r\nWhy are  `sellerAsUserType` and `feedbackRatingStarCodeType` both null?\r\n\r\n\r\n  [1]: https://developer.ebay.com/devzone/xml/docs/reference/ebay/GetSellerTransactions.html#Response.Seller.FeedbackPrivate\r\n  [2]: https://i.stack.imgur.com/ysmgr.png\r\n  [3]: https://i.stack.imgur.com/kETGI.png","title":"EBay API Call Get Seller Transactions not Returning Seller Feedback Rating","body":"<p>I'm using the <code>GetSellerTransactionsCall</code> from <code>eBay Trading API</code> to obtain transaction from an eBay Seller.</p>\n<p>According to <a href=\"https://developer.ebay.com/devzone/xml/docs/reference/ebay/GetSellerTransactions.html#Response.Seller.FeedbackPrivate\" rel=\"nofollow noreferrer\">eBay Documentation</a> this call is suppose to return a <code>Seller</code> object which contains a <code>UserType</code> with the following data:</p>\n<p><a href=\"https://i.stack.imgur.com/ysmgr.png\" rel=\"nofollow noreferrer\">Seller Object</a></p>\n<p><a href=\"https://i.stack.imgur.com/kETGI.png\" rel=\"nofollow noreferrer\">User Type with Feedback Star Rating</a></p>\n<p>I'm using the code below to execute <code>Get Seller Transactions Call</code>:</p>\n<pre><code>GetSellerTransactionsCall getSellerTransactionsCall = new GetSellerTransactionsCall();\ngetSellerTransactionsCall.setApiContext(ebayAPI.getAPIContext(profileID));\nDetailLevelCodeType[] detailsLevels = new DetailLevelCodeType[1];\ndetailsLevels[0] = DetailLevelCodeType.RETURN_ALL;\n    \ngetSellerTransactionsCall.setDetailLevel(detailsLevels);\n    \ngetSellerTransactionsCall.setIncludeFinalValueFee(true);\n\n\nTransactionType[] transactionTypes = getSellerTransactionsCall.getSellerTransactions();\n\n\nUserType sellerAsUserType = getSellerTransactionsCall.getSeller();\nSystem.out.println(&quot;Seller: &quot; +sellerAsUserType ); // Prints null\nFeedbackRatingStarCodeType feedbackRatingStarCodeType = sellerAsUserType.getFeedbackRatingStar();\nSystem.out.println(&quot;Feedback Rating Star Code: &quot; + feedbackRatingStarCodeType); // Prints null\n</code></pre>\n<p>I know the call itself is successful as I am able to iterate through all transactions of the given seller - so this is not a question of whether the call was successful or not.</p>\n<p>Why are  <code>sellerAsUserType</code> and <code>feedbackRatingStarCodeType</code> both null?</p>\n"},{"tags":["java","android","camera","android-camera2"],"owner":{"account_id":11588805,"reputation":19,"user_id":8489951,"display_name":"Konrad Marzec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637562977,"creation_date":1503209232,"question_id":45779002,"body_markdown":"I have `phone` with `2` rear cameras. I tired to access both of using `android.hardware.camera2 CameraManager`.\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n        try {\r\n            String[] camerasIds = cameraManager.getCameraIdList();\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n`\r\n\r\nBut camerasIds array contains only 2 ids. What may cause this problem?","title":"android camera2 api access to my both rear camera","body":"<p>I have <code>phone</code> with <code>2</code> rear cameras. I tired to access both of using <code>android.hardware.camera2 CameraManager</code>.</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n    try {\n        String[] camerasIds = cameraManager.getCameraIdList();\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>`</p>\n\n<p>But camerasIds array contains only 2 ids. What may cause this problem?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","criteria-api"],"comments":[{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1636112754,"post_id":69852112,"comment_id":123475850,"body_markdown":"Should private C listOfC; not be private List&lt;C&gt; listOfC ?","body":"Should private C listOfC; not be private List&lt;C&gt; listOfC ?"},{"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"score":0,"creation_date":1636112952,"post_id":69852112,"comment_id":123475903,"body_markdown":"Thanks @Romain Hippeau, it was a typo. Updated the question accordingly.","body":"Thanks @Romain Hippeau, it was a typo. Updated the question accordingly."}],"answers":[{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637562785,"creation_date":1637562785,"answer_id":70061734,"question_id":69852112,"body_markdown":"As i mentioned in my question, there is no `renderJoins` call from inside of `renderFetches`, adding following at the end of the `renderFetches` solves the issue.\r\n\r\n```java\r\nif (fetch instanceof From) {\r\n    From from = (From) fetch;\r\n    renderJoins(jpaqlQuery, renderingContext, from.getJoins());\r\n}\r\n```\r\n\r\nI have given a [PR HHH-14916][1] in the [hibernate-orm][2].\r\n\r\nPR is merged will be available in the next **5.6.x release**.\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/pull/4365/files\r\n  [2]: https://github.com/hibernate/hibernate-orm/","title":"JPA Specification join on fetch is not working (Hibernate, Spring Data JPA)","body":"<p>As i mentioned in my question, there is no <code>renderJoins</code> call from inside of <code>renderFetches</code>, adding following at the end of the <code>renderFetches</code> solves the issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (fetch instanceof From) {\n    From from = (From) fetch;\n    renderJoins(jpaqlQuery, renderingContext, from.getJoins());\n}\n</code></pre>\n<p>I have given a <a href=\"https://github.com/hibernate/hibernate-orm/pull/4365/files\" rel=\"nofollow noreferrer\">PR HHH-14916</a> in the <a href=\"https://github.com/hibernate/hibernate-orm/\" rel=\"nofollow noreferrer\">hibernate-orm</a>.</p>\n<p>PR is merged will be available in the next <strong>5.6.x release</strong>.</p>\n"}],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70061734,"answer_count":1,"score":1,"last_activity_date":1637562785,"creation_date":1636109517,"question_id":69852112,"body_markdown":"I am using hibernate-orm with spring-data-jpa. I have three entities `A`, `B`, `C` declared as follows:\r\n\r\n```\r\n@Entity\r\npublic class A {\r\n    @OneToMany(....)\r\n    private List&lt;B&gt; listOfB;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class B {\r\n     @ManyToOne(...)\r\n     private A a;\r\n    @OneToMany(...)\r\n    private List&lt;C&gt; listOfC;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class C {\r\n    @ManyToOne(...)\r\n    private B b;\r\n}\r\n```\r\n\r\nMy objective is to get `A` and fetch `listOfB` as well, with some condition on entity `C` without fetching it. The following JPQL is working fine.\r\n\r\n```\r\nSELECT a FROM A a\r\nLEFT JOIN FETCH a.listOfB b\r\nLEFT JOIN b.listOfC c\r\nWHERE c.xyz = :xyz\r\n```\r\n\r\nWhen I tried using JPA Specification my Specification it looks like the following:\r\n\r\n```\r\n(rootA, query, builder) -&gt; {\r\n    Fetch fetch = rootA.fetch(A_.listOfB, JoinType.LEFT);\r\n    ListJoin listJoin = ((ListJoin)fetch).join(B_.listOfC)\r\n   return builder.equal(listJoin.get(C_.xyz), xyz);\r\n}\r\n```\r\n\r\nI am reusing the implicit join done by the fetch operation. This join is not working in specification. It&#39;s outputting the following JPQL.\r\n\r\n```\r\nSELECT a FROM A a\r\nLEFT JOIN FETCH a.listOfB b\r\nWHERE c.xyz = :xyz\r\n```\r\n\r\nSaying that, there is no `c` alias. \r\n\r\nI have looked into Hibernate GitHub source code. I found out that, there is a class named [`QueryStructure.java`][1] responsible for generating JPQL query from the criteria object. \r\n\r\nI found the function [renderFetches](https://github.com/hibernate/hibernate-orm/blob/e76241a3091078713dd4b57de085f5fadce5e0db/hibernate-core/src/main/java/org/hibernate/query/criteria/internal/QueryStructure.java#L471) which render the fetches.\r\n\r\n```\r\n@SuppressWarnings({ &quot;unchecked&quot; })\r\n\tprivate void renderFetches(\r\n\t\t\tStringBuilder jpaqlQuery,\r\n\t\t\tRenderingContext renderingContext,\r\n\t\t\tCollection&lt;? extends Fetch&gt; fetches) {\r\n\t\tif ( fetches == null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor ( Fetch fetch : fetches ) {\r\n\t\t\t( (FromImplementor) fetch ).prepareAlias( renderingContext );\r\n\t\t\tjpaqlQuery.append( renderJoinType( fetch.getJoinType() ) )\r\n\t\t\t\t\t.append( &quot;fetch &quot; )\r\n\t\t\t\t\t.append( ( (FromImplementor) fetch ).renderTableExpression( renderingContext ) );\r\n\r\n\t\t\trenderFetches( jpaqlQuery, renderingContext, fetch.getFetches() );\r\n\t\t}\r\n\t}\r\n```\r\n\r\nSimilarly there is a function [`renderJoins`](https://github.com/hibernate/hibernate-orm/blob/e76241a3091078713dd4b57de085f5fadce5e0db/hibernate-core/src/main/java/org/hibernate/query/criteria/internal/QueryStructure.java#L438) responsible for all the joins. \r\n\r\nThese two are recursive functions rendering the criteria object tree. \r\n\r\nIt&#39;s clear that all the joins inside the fetches are ignored. There is no call to function `renderJoins` inside from `renderFetches` which causes the generated query to be incomplete.\r\n\r\nIs there any in depth reason why we are not joining inside from a fetch? If yes then how could I reuse the existing implicit joins done by fetch?\r\n\r\nThis issue is re-generated using hibernate test case template.\r\n\r\n - [Regenerated Hibernate test case template][2]\r\n - [Specific test case file][3]\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/e76241a3091078713dd4b57de085f5fadce5e0db/hibernate-core/src/main/java/org/hibernate/query/criteria/internal/QueryStructure.java#L438\r\n  [2]: https://github.com/ratulSharker/hibernate-test-case-templates/tree/join-on-fetch-not-working\r\n  [3]: https://github.com/ratulSharker/hibernate-test-case-templates/blob/join-on-fetch-not-working/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java","title":"JPA Specification join on fetch is not working (Hibernate, Spring Data JPA)","body":"<p>I am using hibernate-orm with spring-data-jpa. I have three entities <code>A</code>, <code>B</code>, <code>C</code> declared as follows:</p>\n<pre><code>@Entity\npublic class A {\n    @OneToMany(....)\n    private List&lt;B&gt; listOfB;\n}\n</code></pre>\n<pre><code>@Entity\npublic class B {\n     @ManyToOne(...)\n     private A a;\n    @OneToMany(...)\n    private List&lt;C&gt; listOfC;\n}\n</code></pre>\n<pre><code>@Entity\npublic class C {\n    @ManyToOne(...)\n    private B b;\n}\n</code></pre>\n<p>My objective is to get <code>A</code> and fetch <code>listOfB</code> as well, with some condition on entity <code>C</code> without fetching it. The following JPQL is working fine.</p>\n<pre><code>SELECT a FROM A a\nLEFT JOIN FETCH a.listOfB b\nLEFT JOIN b.listOfC c\nWHERE c.xyz = :xyz\n</code></pre>\n<p>When I tried using JPA Specification my Specification it looks like the following:</p>\n<pre><code>(rootA, query, builder) -&gt; {\n    Fetch fetch = rootA.fetch(A_.listOfB, JoinType.LEFT);\n    ListJoin listJoin = ((ListJoin)fetch).join(B_.listOfC)\n   return builder.equal(listJoin.get(C_.xyz), xyz);\n}\n</code></pre>\n<p>I am reusing the implicit join done by the fetch operation. This join is not working in specification. It's outputting the following JPQL.</p>\n<pre><code>SELECT a FROM A a\nLEFT JOIN FETCH a.listOfB b\nWHERE c.xyz = :xyz\n</code></pre>\n<p>Saying that, there is no <code>c</code> alias.</p>\n<p>I have looked into Hibernate GitHub source code. I found out that, there is a class named <a href=\"https://github.com/hibernate/hibernate-orm/blob/e76241a3091078713dd4b57de085f5fadce5e0db/hibernate-core/src/main/java/org/hibernate/query/criteria/internal/QueryStructure.java#L438\" rel=\"nofollow noreferrer\"><code>QueryStructure.java</code></a> responsible for generating JPQL query from the criteria object.</p>\n<p>I found the function <a href=\"https://github.com/hibernate/hibernate-orm/blob/e76241a3091078713dd4b57de085f5fadce5e0db/hibernate-core/src/main/java/org/hibernate/query/criteria/internal/QueryStructure.java#L471\" rel=\"nofollow noreferrer\">renderFetches</a> which render the fetches.</p>\n<pre><code>@SuppressWarnings({ &quot;unchecked&quot; })\n    private void renderFetches(\n            StringBuilder jpaqlQuery,\n            RenderingContext renderingContext,\n            Collection&lt;? extends Fetch&gt; fetches) {\n        if ( fetches == null ) {\n            return;\n        }\n\n        for ( Fetch fetch : fetches ) {\n            ( (FromImplementor) fetch ).prepareAlias( renderingContext );\n            jpaqlQuery.append( renderJoinType( fetch.getJoinType() ) )\n                    .append( &quot;fetch &quot; )\n                    .append( ( (FromImplementor) fetch ).renderTableExpression( renderingContext ) );\n\n            renderFetches( jpaqlQuery, renderingContext, fetch.getFetches() );\n        }\n    }\n</code></pre>\n<p>Similarly there is a function <a href=\"https://github.com/hibernate/hibernate-orm/blob/e76241a3091078713dd4b57de085f5fadce5e0db/hibernate-core/src/main/java/org/hibernate/query/criteria/internal/QueryStructure.java#L438\" rel=\"nofollow noreferrer\"><code>renderJoins</code></a> responsible for all the joins.</p>\n<p>These two are recursive functions rendering the criteria object tree.</p>\n<p>It's clear that all the joins inside the fetches are ignored. There is no call to function <code>renderJoins</code> inside from <code>renderFetches</code> which causes the generated query to be incomplete.</p>\n<p>Is there any in depth reason why we are not joining inside from a fetch? If yes then how could I reuse the existing implicit joins done by fetch?</p>\n<p>This issue is re-generated using hibernate test case template.</p>\n<ul>\n<li><a href=\"https://github.com/ratulSharker/hibernate-test-case-templates/tree/join-on-fetch-not-working\" rel=\"nofollow noreferrer\">Regenerated Hibernate test case template</a></li>\n<li><a href=\"https://github.com/ratulSharker/hibernate-test-case-templates/blob/join-on-fetch-not-working/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">Specific test case file</a></li>\n</ul>\n"},{"tags":["java","integer","parseint"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1637551985,"post_id":70060604,"comment_id":123848189,"body_markdown":"Why do you append a `\\n` to your number?","body":"Why do you append a <code>\\n</code> to your number?"},{"owner":{"account_id":23360368,"reputation":3,"user_id":17432710,"display_name":"Viktor"},"score":0,"creation_date":1637552846,"post_id":70060604,"comment_id":123848329,"body_markdown":"The fact is that only when moving to the next line, I can again read the incoming data, since this piece of code is in a loop and receives numbers from the TCP client.","body":"The fact is that only when moving to the next line, I can again read the incoming data, since this piece of code is in a loop and receives numbers from the TCP client."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1637553485,"post_id":70060604,"comment_id":123848418,"body_markdown":"But what does that have to do with doing `txt = txt + &quot;\\n&quot;`? Try getting rid of that line of code.","body":"But what does that have to do with doing <code>txt = txt + &quot;\\n&quot;</code>? Try getting rid of that line of code."},{"owner":{"account_id":23360368,"reputation":3,"user_id":17432710,"display_name":"Viktor"},"score":0,"creation_date":1637554197,"post_id":70060604,"comment_id":123848517,"body_markdown":"If `txt = txt +&quot; \\ n &quot;` is left in the code, then after executing the line `int number = Integer.parseInt (txt);`, the value of number is passed to another class, and if I remove `txt = txt +&quot; \\ n &quot;`, then the loop just accepts the data, but does not pass it to another class.","body":"If <code>txt = txt +&quot; \\ n &quot;</code> is left in the code, then after executing the line <code>int number = Integer.parseInt (txt);</code>, the value of number is passed to another class, and if I remove <code>txt = txt +&quot; \\ n &quot;</code>, then the loop just accepts the data, but does not pass it to another class."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1637562225,"post_id":70060604,"comment_id":123849831,"body_markdown":"Your last comment makes no sense.","body":"Your last comment makes no sense."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637562706,"creation_date":1637562706,"answer_id":70061719,"question_id":70060604,"body_markdown":"# You pass invalid input\r\n\r\nAs the comments indicate, you add a [newline][1] to the text being parsed as an integer, thereby adulterating the input:\r\n\r\n    txt = txt + &quot;\\n&quot;;  \r\n\r\nSo you are violating the contract of [`Integer.parse`][2] method. To quote the Javadoc:\r\n\r\n&gt; … The characters in the string must all be decimal digits…\r\n\r\nYour attempt at parsing is throwing an `NumberFormatException` because you passed faulty input to that method.\r\n\r\n```java\r\nint good = Integer.parseInt( &quot;42&quot; ) ;\r\nint bad = Integer.parseInt( &quot;666&quot; + &quot;\\n&quot; ) ; // Throws a `NumberFormatException` because of the appended newline.\r\n```\r\n\r\nSee that [code run live at IdeOne.com][3].\r\n\r\nYou asked:\r\n\r\n&gt;Tell me how to solve this problem.\r\n\r\nPass valid input to the method, as documented: Text with only digits, and optional `-`/`+` in front.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Newline\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\r\n  [3]: https://ideone.com/OdESPw","title":"Integer.parseInt converts everything to zero","body":"<h1>You pass invalid input</h1>\n<p>As the comments indicate, you add a <a href=\"https://en.wikipedia.org/wiki/Newline\" rel=\"nofollow noreferrer\">newline</a> to the text being parsed as an integer, thereby adulterating the input:</p>\n<pre><code>txt = txt + &quot;\\n&quot;;  \n</code></pre>\n<p>So you are violating the contract of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Integer.parse</code></a> method. To quote the Javadoc:</p>\n<blockquote>\n<p>… The characters in the string must all be decimal digits…</p>\n</blockquote>\n<p>Your attempt at parsing is throwing an <code>NumberFormatException</code> because you passed faulty input to that method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int good = Integer.parseInt( &quot;42&quot; ) ;\nint bad = Integer.parseInt( &quot;666&quot; + &quot;\\n&quot; ) ; // Throws a `NumberFormatException` because of the appended newline.\n</code></pre>\n<p>See that <a href=\"https://ideone.com/OdESPw\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<p>You asked:</p>\n<blockquote>\n<p>Tell me how to solve this problem.</p>\n</blockquote>\n<p>Pass valid input to the method, as documented: Text with only digits, and optional <code>-</code>/<code>+</code> in front.</p>\n"}],"owner":{"account_id":23360368,"reputation":3,"user_id":17432710,"display_name":"Viktor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70061719,"answer_count":1,"score":-2,"last_activity_date":1637562706,"creation_date":1637551917,"question_id":70060604,"body_markdown":"Hello everyone i am new to java and i have a problem. I accept a number with the String type, then I write it to the txt variable, then I overwrite it and add &quot;\\n&quot;, and then I try to convert it to the int type, but no matter what number is, it always turns out to be zero.\r\n\r\n```\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(clientConn.getInputStream()));     \r\n        String txt = in.readLine();          \r\n        txt = txt + &quot;\\n&quot;;                \r\n        int number = Integer.parseInt(txt);\r\n```\r\n\r\nIf I try to run a separate class that contains these lines of code, an error is thrown.\r\n&gt;Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;1\r\n&quot;\r\n\r\nand so with any number that I send.Always swears at the line `int number = Integer.parseInt(txt);`.\r\nTell me how to solve this problem.","title":"Integer.parseInt converts everything to zero","body":"<p>Hello everyone i am new to java and i have a problem. I accept a number with the String type, then I write it to the txt variable, then I overwrite it and add &quot;\\n&quot;, and then I try to convert it to the int type, but no matter what number is, it always turns out to be zero.</p>\n<pre><code>        BufferedReader in = new BufferedReader(new InputStreamReader(clientConn.getInputStream()));     \n        String txt = in.readLine();          \n        txt = txt + &quot;\\n&quot;;                \n        int number = Integer.parseInt(txt);\n</code></pre>\n<p>If I try to run a separate class that contains these lines of code, an error is thrown.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;1\n&quot;</p>\n</blockquote>\n<p>and so with any number that I send.Always swears at the line <code>int number = Integer.parseInt(txt);</code>.\nTell me how to solve this problem.</p>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":14257522,"reputation":3554,"user_id":10299342,"display_name":"Arvid Heise"},"score":0,"creation_date":1637012556,"post_id":69969285,"comment_id":123706831,"body_markdown":"Are you sure your job finished? For me, it looks like the client is just waiting for the job to finish. You can check the logs of the job manager for more information or try to access the Web UI. Note that Flink usually restarts parts of the application when an exception occurs.","body":"Are you sure your job finished? For me, it looks like the client is just waiting for the job to finish. You can check the logs of the job manager for more information or try to access the Web UI. Note that Flink usually restarts parts of the application when an exception occurs."},{"owner":{"account_id":23339309,"reputation":1,"user_id":17414425,"display_name":"Damon Chen"},"score":0,"creation_date":1637561430,"post_id":69969285,"comment_id":123849669,"body_markdown":"@Arvid Heise Thanks for your reply. There are some gramma errors in the sql of that job. The exception is  `org.apache.flink.table.api.SqlParserException` and was throwed from `org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:56)`. So I think the client did not submit the job. This flink job was running on detached mode, so I think it should exit when exception happens. Actually, it blocked and did not exit.","body":"@Arvid Heise Thanks for your reply. There are some gramma errors in the sql of that job. The exception is  <code>org.apache.flink.table.api.SqlParserException</code> and was throwed from <code>org.apache.flink.table.planner.calcite.CalciteParser.parse(C&zwnj;&#8203;alciteParser.java:56&zwnj;&#8203;)</code>. So I think the client did not submit the job. This flink job was running on detached mode, so I think it should exit when exception happens. Actually, it blocked and did not exit."}],"owner":{"account_id":23339309,"reputation":1,"user_id":17414425,"display_name":"Damon Chen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637561815,"creation_date":1636948166,"question_id":69969285,"body_markdown":"I have a flink job which would cause exception because there are some gramma errors in the sql. \r\n```\r\norg.apache.flink.table.api.SqlParserException: SQL parse failed. Encountered &quot;timestamp&quot; at line 1, column 332.\r\nWas expecting one of:\r\n    &quot;)&quot; ...\r\n    &quot;,&quot; ...\r\n    \r\n\tat org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:56) ~[flink-table-blink_2.11-1.12.1.jar:1.12.1]\r\n\tat org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:74) ~[flink-table-blink_2.11-1.12.1.jar:1.12.1]\r\n\tat org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:660) ~[flink-table-blink_2.11-1.12.1.jar:1.12.1]\r\n```\r\nThe job was running on detach mode, but the flink client didn&#39;t exit when exception happened and blocked at printing stack trace. Here is the &quot;jstack&quot; output of the flink client process, and I can&#39;t figure out why it blocked at printing stack trace.\r\n\r\n```\r\n&quot;main&quot; #1 prio=5 os_prio=0 tid=0x00007ffa7800a800 nid=0x41f1c runnable [0x00007ffa81299000]\r\n   java.lang.Thread.State: RUNNABLE\r\n        at java.io.FileOutputStream.writeBytes(Native Method)\r\n        at java.io.FileOutputStream.write(FileOutputStream.java:326)\r\n        at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)\r\n        at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)\r\n        - locked &lt;0x00000006c00b26d0&gt; (a java.io.BufferedOutputStream)\r\n        at java.io.PrintStream.write(PrintStream.java:482)\r\n        - locked &lt;0x00000006c00b26b0&gt; (a java.io.PrintStream)\r\n        at sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221)\r\n        at sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:291)\r\n        at sun.nio.cs.StreamEncoder.flushBuffer(StreamEncoder.java:104)\r\n        - locked &lt;0x00000006c00b27f0&gt; (a java.io.OutputStreamWriter)\r\n        at java.io.OutputStreamWriter.flushBuffer(OutputStreamWriter.java:185)\r\n        at java.io.PrintStream.write(PrintStream.java:527)\r\n        - locked &lt;0x00000006c00b26b0&gt; (a java.io.PrintStream)\r\n        at java.io.PrintStream.print(PrintStream.java:669)\r\n        at java.io.PrintStream.println(PrintStream.java:823)\r\n        - locked &lt;0x00000006c00b26b0&gt; (a java.io.PrintStream)\r\n        at java.lang.Throwable$WrappedPrintStream.println(Throwable.java:748)\r\n        at java.lang.Throwable.printEnclosedStackTrace(Throwable.java:697)\r\n        at java.lang.Throwable.printEnclosedStackTrace(Throwable.java:709)\r\n        at java.lang.Throwable.printEnclosedStackTrace(Throwable.java:709)\r\n        at java.lang.Throwable.printEnclosedStackTrace(Throwable.java:709)\r\n        at java.lang.Throwable.printStackTrace(Throwable.java:667)\r\n        - locked &lt;0x00000006c00b26b0&gt; (a java.io.PrintStream)\r\n        at java.lang.Throwable.printStackTrace(Throwable.java:643)\r\n        at java.lang.Throwable.printStackTrace(Throwable.java:634)\r\n        at org.apache.flink.client.cli.CliFrontend.handleError(CliFrontend.java:945)\r\n        at org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1113)\r\n        at org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1139)\r\n        at org.apache.flink.client.cli.CliFrontend$$Lambda$69/2090991873.call(Unknown Source)\r\n        at org.apache.flink.runtime.security.contexts.HadoopSecurityContext$$Lambda$70/75470648.run(Unknown Source)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.security.auth.Subject.doAs(Subject.java:422)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1692)\r\n        at org.apache.flink.runtime.security.contexts.HadoopSecurityContext.runSecured(HadoopSecurityContext.java:41)\r\n        at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1139)\r\n```","title":"Flink client blocks at printing stack trace","body":"<p>I have a flink job which would cause exception because there are some gramma errors in the sql.</p>\n<pre><code>org.apache.flink.table.api.SqlParserException: SQL parse failed. Encountered &quot;timestamp&quot; at line 1, column 332.\nWas expecting one of:\n    &quot;)&quot; ...\n    &quot;,&quot; ...\n    \n    at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:56) ~[flink-table-blink_2.11-1.12.1.jar:1.12.1]\n    at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:74) ~[flink-table-blink_2.11-1.12.1.jar:1.12.1]\n    at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:660) ~[flink-table-blink_2.11-1.12.1.jar:1.12.1]\n</code></pre>\n<p>The job was running on detach mode, but the flink client didn't exit when exception happened and blocked at printing stack trace. Here is the &quot;jstack&quot; output of the flink client process, and I can't figure out why it blocked at printing stack trace.</p>\n<pre><code>&quot;main&quot; #1 prio=5 os_prio=0 tid=0x00007ffa7800a800 nid=0x41f1c runnable [0x00007ffa81299000]\n   java.lang.Thread.State: RUNNABLE\n        at java.io.FileOutputStream.writeBytes(Native Method)\n        at java.io.FileOutputStream.write(FileOutputStream.java:326)\n        at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)\n        at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)\n        - locked &lt;0x00000006c00b26d0&gt; (a java.io.BufferedOutputStream)\n        at java.io.PrintStream.write(PrintStream.java:482)\n        - locked &lt;0x00000006c00b26b0&gt; (a java.io.PrintStream)\n        at sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221)\n        at sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:291)\n        at sun.nio.cs.StreamEncoder.flushBuffer(StreamEncoder.java:104)\n        - locked &lt;0x00000006c00b27f0&gt; (a java.io.OutputStreamWriter)\n        at java.io.OutputStreamWriter.flushBuffer(OutputStreamWriter.java:185)\n        at java.io.PrintStream.write(PrintStream.java:527)\n        - locked &lt;0x00000006c00b26b0&gt; (a java.io.PrintStream)\n        at java.io.PrintStream.print(PrintStream.java:669)\n        at java.io.PrintStream.println(PrintStream.java:823)\n        - locked &lt;0x00000006c00b26b0&gt; (a java.io.PrintStream)\n        at java.lang.Throwable$WrappedPrintStream.println(Throwable.java:748)\n        at java.lang.Throwable.printEnclosedStackTrace(Throwable.java:697)\n        at java.lang.Throwable.printEnclosedStackTrace(Throwable.java:709)\n        at java.lang.Throwable.printEnclosedStackTrace(Throwable.java:709)\n        at java.lang.Throwable.printEnclosedStackTrace(Throwable.java:709)\n        at java.lang.Throwable.printStackTrace(Throwable.java:667)\n        - locked &lt;0x00000006c00b26b0&gt; (a java.io.PrintStream)\n        at java.lang.Throwable.printStackTrace(Throwable.java:643)\n        at java.lang.Throwable.printStackTrace(Throwable.java:634)\n        at org.apache.flink.client.cli.CliFrontend.handleError(CliFrontend.java:945)\n        at org.apache.flink.client.cli.CliFrontend.parseAndRun(CliFrontend.java:1113)\n        at org.apache.flink.client.cli.CliFrontend.lambda$main$10(CliFrontend.java:1139)\n        at org.apache.flink.client.cli.CliFrontend$$Lambda$69/2090991873.call(Unknown Source)\n        at org.apache.flink.runtime.security.contexts.HadoopSecurityContext$$Lambda$70/75470648.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1692)\n        at org.apache.flink.runtime.security.contexts.HadoopSecurityContext.runSecured(HadoopSecurityContext.java:41)\n        at org.apache.flink.client.cli.CliFrontend.main(CliFrontend.java:1139)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data","fail-fast"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1501485100,"post_id":45409196,"comment_id":77779128,"body_markdown":"This maybe fixed in a later Spring Boot release. According to https://github.com/spring-projects/spring-boot/issues/7589 try upgrading to at least 1.5.2?","body":"This maybe fixed in a later Spring Boot release. According to <a href=\"https://github.com/spring-projects/spring-boot/issues/7589\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/7589</a> try upgrading to at least 1.5.2?"},{"owner":{"account_id":5091817,"reputation":360,"user_id":4084636,"accept_rate":100,"display_name":"Adrian M."},"score":0,"creation_date":1544298283,"post_id":45409196,"comment_id":94229062,"body_markdown":"Could exception handling prove somewhat useful?","body":"Could exception handling prove somewhat useful?"}],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1633070426,"creation_date":1501487195,"answer_id":45410106,"question_id":45409196,"body_markdown":"You can set:\r\n\r\n    spring.sql.init.continue-on-error=true\r\nin your application.properties.\r\n\r\nAccording to the [Spring Boot 2.5.5 user guide](https://docs.spring.io/spring-boot/docs/2.5.5/reference/htmlsingle/#howto-initialize-a-database-using-spring-jdbc):\r\n\r\n&gt;By default, Spring Boot enables the fail-fast feature of its script-based database initializer. This means that, if the scripts cause exceptions, the application fails to start. You can tune that behavior by setting `spring.sql.init.continue-on-error`.\r\n\r\nP.S.: Before Spring Boot 2.5, the property was named `spring.datasource.continue-on-error`.","title":"How to make Spring server to start even if database is down?","body":"<p>You can set:</p>\n<pre><code>spring.sql.init.continue-on-error=true\n</code></pre>\n<p>in your application.properties.</p>\n<p>According to the <a href=\"https://docs.spring.io/spring-boot/docs/2.5.5/reference/htmlsingle/#howto-initialize-a-database-using-spring-jdbc\" rel=\"noreferrer\">Spring Boot 2.5.5 user guide</a>:</p>\n<blockquote>\n<p>By default, Spring Boot enables the fail-fast feature of its script-based database initializer. This means that, if the scripts cause exceptions, the application fails to start. You can tune that behavior by setting <code>spring.sql.init.continue-on-error</code>.</p>\n</blockquote>\n<p>P.S.: Before Spring Boot 2.5, the property was named <code>spring.datasource.continue-on-error</code>.</p>\n"},{"tags":[],"owner":{"account_id":9799780,"reputation":173,"user_id":7261482,"display_name":"Luca Carducci"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564610213,"creation_date":1564610213,"answer_id":57299344,"question_id":45409196,"body_markdown":"You need to add\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\r\n\r\nin order to make it works","title":"How to make Spring server to start even if database is down?","body":"<p>You need to add</p>\n\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n\n<p>in order to make it works</p>\n"},{"tags":[],"owner":{"account_id":14516429,"reputation":201,"user_id":10485407,"display_name":"Danny Wedul"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1582335210,"creation_date":1582335210,"answer_id":60348220,"question_id":45409196,"body_markdown":"I was able to solve this. One main difference between what I got working and the code in the question, though, is that I&#39;m using Hikari instead of Tomcat for the connection pool.\r\n\r\nThese were the key settings I had to make:\r\n```\r\nspring.datasource.hikari.minimum-idle: 0\r\nspring.datasource.hikari.initialization-fail-timeout: -1\r\nspring.datasource.continue-on-error: true\r\nspring.datasource.driver-class-name: org.postgresql.Driver\r\nspring.jpa.database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n```\r\n\r\nSetting `minimum-idle` to 0 allows Hikari to be happy without any connections.\r\n\r\nThe `initialization-fail-timeout` setting of -1 tells Hikari that I don&#39;t want it to get a connection when the pool fires up.\r\n\r\nFrom the [HikariCP documentation][1]:\r\n&gt; A value less than zero will bypass any initial connection attempt, and the pool will start immediately while trying to obtain connections in the background. Consequently, later efforts to obtain a connection may fail.\r\n\r\nThe `continue-on-error` setting `true` allows the service to continue even when encountering an error.\r\n\r\nBoth the `driver-class-name` and `database-platform` were required. Otherwise, Hikari tries to figure out those values by connecting to the database (during startup).\r\n\r\n----------\r\n\r\nJust in case I&#39;m missing something, though, here&#39;s my full Spring config:\r\n```\r\nspring:\r\n  application:\r\n    name: &lt;redacted&gt;\r\n  datasource:\r\n    url: &lt;redacted&gt;\r\n    username: &lt;redacted&gt;\r\n    password: &lt;redacted&gt;\r\n    driver-class-name: org.postgresql.Driver\r\n    hikari:\r\n      minimum-idle: 0\r\n      maximum-pool-size: 15\r\n      connection-timeout: 10000 #10s\r\n      idle-timeout: 300000 #5m\r\n      max-lifetime: 600000 #10m\r\n      initialization-fail-timeout: -1\r\n      validation-timeout: 1000 #1s\r\n    continue-on-error: true\r\n  jpa:\r\n    open-in-view: false\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n```\r\n\r\nAnd my project has the following Spring Boot dependencies:\r\n```\r\norg.springframework.boot:spring-boot\r\norg.springframework.boot:spring-boot-actuator\r\norg.springframework.boot:spring-boot-actuator-autoconfigure\r\norg.springframework.boot:spring-boot-autoconfigure\r\norg.springframework.boot:spring-boot-configuration-processor\r\norg.springframework.boot:spring-boot-devtools\r\norg.springframework.boot:spring-boot-starter\r\norg.springframework.boot:spring-boot-starter-actuator\r\norg.springframework.boot:spring-boot-starter-jdbc\r\norg.springframework.boot:spring-boot-starter-jooq\r\norg.springframework.boot:spring-boot-starter-json\r\norg.springframework.boot:spring-boot-starter-logging\r\norg.springframework.boot:spring-boot-starter-security\r\norg.springframework.boot:spring-boot-starter-test\r\norg.springframework.boot:spring-boot-starter-tomcat\r\norg.springframework.boot:spring-boot-starter-validation\r\norg.springframework.boot:spring-boot-starter-web\r\n```\r\n\r\n\r\n  [1]: https://github.com/brettwooldridge/HikariCP","title":"How to make Spring server to start even if database is down?","body":"<p>I was able to solve this. One main difference between what I got working and the code in the question, though, is that I'm using Hikari instead of Tomcat for the connection pool.</p>\n\n<p>These were the key settings I had to make:</p>\n\n<pre><code>spring.datasource.hikari.minimum-idle: 0\nspring.datasource.hikari.initialization-fail-timeout: -1\nspring.datasource.continue-on-error: true\nspring.datasource.driver-class-name: org.postgresql.Driver\nspring.jpa.database-platform: org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n\n<p>Setting <code>minimum-idle</code> to 0 allows Hikari to be happy without any connections.</p>\n\n<p>The <code>initialization-fail-timeout</code> setting of -1 tells Hikari that I don't want it to get a connection when the pool fires up.</p>\n\n<p>From the <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"noreferrer\">HikariCP documentation</a>:</p>\n\n<blockquote>\n  <p>A value less than zero will bypass any initial connection attempt, and the pool will start immediately while trying to obtain connections in the background. Consequently, later efforts to obtain a connection may fail.</p>\n</blockquote>\n\n<p>The <code>continue-on-error</code> setting <code>true</code> allows the service to continue even when encountering an error.</p>\n\n<p>Both the <code>driver-class-name</code> and <code>database-platform</code> were required. Otherwise, Hikari tries to figure out those values by connecting to the database (during startup).</p>\n\n<hr>\n\n<p>Just in case I'm missing something, though, here's my full Spring config:</p>\n\n<pre><code>spring:\n  application:\n    name: &lt;redacted&gt;\n  datasource:\n    url: &lt;redacted&gt;\n    username: &lt;redacted&gt;\n    password: &lt;redacted&gt;\n    driver-class-name: org.postgresql.Driver\n    hikari:\n      minimum-idle: 0\n      maximum-pool-size: 15\n      connection-timeout: 10000 #10s\n      idle-timeout: 300000 #5m\n      max-lifetime: 600000 #10m\n      initialization-fail-timeout: -1\n      validation-timeout: 1000 #1s\n    continue-on-error: true\n  jpa:\n    open-in-view: false\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n\n<p>And my project has the following Spring Boot dependencies:</p>\n\n<pre><code>org.springframework.boot:spring-boot\norg.springframework.boot:spring-boot-actuator\norg.springframework.boot:spring-boot-actuator-autoconfigure\norg.springframework.boot:spring-boot-autoconfigure\norg.springframework.boot:spring-boot-configuration-processor\norg.springframework.boot:spring-boot-devtools\norg.springframework.boot:spring-boot-starter\norg.springframework.boot:spring-boot-starter-actuator\norg.springframework.boot:spring-boot-starter-jdbc\norg.springframework.boot:spring-boot-starter-jooq\norg.springframework.boot:spring-boot-starter-json\norg.springframework.boot:spring-boot-starter-logging\norg.springframework.boot:spring-boot-starter-security\norg.springframework.boot:spring-boot-starter-test\norg.springframework.boot:spring-boot-starter-tomcat\norg.springframework.boot:spring-boot-starter-validation\norg.springframework.boot:spring-boot-starter-web\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13239720,"reputation":112,"user_id":9560693,"display_name":"Yehouda"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1614891545,"creation_date":1614891545,"answer_id":66482933,"question_id":45409196,"body_markdown":"When you build your app you can add that\r\n\r\n    mvn clean install -DskipTests\r\n\r\nit will skip the tests of database connection\r\n\r\n*(-D is used to define a system property)*","title":"How to make Spring server to start even if database is down?","body":"<p>When you build your app you can add that</p>\n<pre><code>mvn clean install -DskipTests\n</code></pre>\n<p>it will skip the tests of database connection</p>\n<p><em>(-D is used to define a system property)</em></p>\n"},{"tags":[],"owner":{"account_id":21417136,"reputation":2183,"user_id":15777370,"display_name":"vszholobov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633876654,"creation_date":1633876654,"answer_id":69516134,"question_id":45409196,"body_markdown":"If the tips above didn&#39;t help and you use jpa, then set \r\n```\r\nspring.jpa.hibernate.ddl-auto=none\r\n```\r\nit worked for me.","title":"How to make Spring server to start even if database is down?","body":"<p>If the tips above didn't help and you use jpa, then set</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=none\n</code></pre>\n<p>it worked for me.</p>\n"}],"owner":{"account_id":11449310,"reputation":443,"user_id":8392105,"display_name":"Cs lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30701,"favorite_count":0,"down_vote_count":1,"up_vote_count":44,"accepted_answer_id":45410106,"answer_count":5,"score":43,"last_activity_date":1637560869,"creation_date":1501484083,"question_id":45409196,"body_markdown":"I&#39;m using a Spring Boot(1.4.7) &amp; MyBatis.\r\n\r\n    spring.main1.datasource.url=jdbc:mariadb://192.168.0.11:3306/testdb?useUnicode=true&amp;characterEncoding=utf8&amp;autoReconnect=true&amp;socketTimeout=5000&amp;connectTimeout=3000\r\n    spring.main1.datasource.username=username\r\n    spring.main1.datasource.password=password\r\n    spring.main1.datasource.driverClassName=org.mariadb.jdbc.Driver\r\n    spring.main1.datasource.tomcat.test-on-borrow=true\r\n    spring.main1.datasource.tomcat.test-while-idle=true\r\n    spring.main1.datasource.tomcat.validation-query=SELECT 1\r\n    spring.main1.datasource.tomcat.validation-query-timeout=5000\r\n    spring.main1.datasource.tomcat.validation-interval=5000\r\n    spring.main1.datasource.tomcat.max-wait=5000\r\n    spring.main1.datasource.continue-on-error=true\r\n\r\nI cannot start program with errors when database is disconnected on Eclipse or Linux server.\r\n(Database is not located on localhost.)\r\n\r\nWhen I try to start program with disconnected database, \r\nprint this.\r\n\r\n    java.sql.SQLNonTransientConnectionException: Could not connect to address=(host=192.168.0.11)(port=3306)(type=master) : connect timed out\r\n    Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not connect to address=(host=192.168.0.11)(port=3306)(type=master) : connect timed out\r\n    Stopping service [Tomcat]\r\n    Application startup failed\r\n\r\n\r\nIs there any way?\r\n\r\nThanks","title":"How to make Spring server to start even if database is down?","body":"<p>I'm using a Spring Boot(1.4.7) &amp; MyBatis.</p>\n\n<pre><code>spring.main1.datasource.url=jdbc:mariadb://192.168.0.11:3306/testdb?useUnicode=true&amp;characterEncoding=utf8&amp;autoReconnect=true&amp;socketTimeout=5000&amp;connectTimeout=3000\nspring.main1.datasource.username=username\nspring.main1.datasource.password=password\nspring.main1.datasource.driverClassName=org.mariadb.jdbc.Driver\nspring.main1.datasource.tomcat.test-on-borrow=true\nspring.main1.datasource.tomcat.test-while-idle=true\nspring.main1.datasource.tomcat.validation-query=SELECT 1\nspring.main1.datasource.tomcat.validation-query-timeout=5000\nspring.main1.datasource.tomcat.validation-interval=5000\nspring.main1.datasource.tomcat.max-wait=5000\nspring.main1.datasource.continue-on-error=true\n</code></pre>\n\n<p>I cannot start program with errors when database is disconnected on Eclipse or Linux server.\n(Database is not located on localhost.)</p>\n\n<p>When I try to start program with disconnected database, \nprint this.</p>\n\n<pre><code>java.sql.SQLNonTransientConnectionException: Could not connect to address=(host=192.168.0.11)(port=3306)(type=master) : connect timed out\nCause: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is java.sql.SQLNonTransientConnectionException: Could not connect to address=(host=192.168.0.11)(port=3306)(type=master) : connect timed out\nStopping service [Tomcat]\nApplication startup failed\n</code></pre>\n\n<p>Is there any way?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","micronaut","micronaut-data","micronaut-client","micronaut-rest"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1637577034,"post_id":70061471,"comment_id":123854450,"body_markdown":"Where is the test fixture you are trying to run?","body":"Where is the test fixture you are trying to run?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1637592803,"post_id":70061471,"comment_id":123860646,"body_markdown":"Can you show what is in `micronautDataAcess.MicronautDataAcessTest`?","body":"Can you show what is in <code>micronautDataAcess.MicronautDataAcessTest</code>?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1637626164,"post_id":70061471,"comment_id":123871995,"body_markdown":"This is unrelated to the question but as an FYI, you probably don&#39;t need `@Bean` on  the `StudentServiceImpl` class.","body":"This is unrelated to the question but as an FYI, you probably don&#39;t need <code>@Bean</code> on  the <code>StudentServiceImpl</code> class."},{"owner":{"account_id":23374918,"reputation":1,"user_id":17445139,"display_name":"mehta aniket"},"score":0,"creation_date":1637684788,"post_id":70061471,"comment_id":123889901,"body_markdown":"We need @Bean in studentServiceImp file.","body":"We need @Bean in studentServiceImp file."},{"owner":{"account_id":23374918,"reputation":1,"user_id":17445139,"display_name":"mehta aniket"},"score":0,"creation_date":1637684826,"post_id":70061471,"comment_id":123889917,"body_markdown":"I got the solution for this problem. The error is running because of the package name. I named the package as Controller, Repository ...... etc, The Package name should be in lower case. For an example - repository, controller.","body":"I got the solution for this problem. The error is running because of the package name. I named the package as Controller, Repository ...... etc, The Package name should be in lower case. For an example - repository, controller."}],"owner":{"account_id":23374918,"reputation":1,"user_id":17445139,"display_name":"mehta aniket"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637560861,"creation_date":1637560861,"question_id":70061471,"body_markdown":"I am trying to do some crud operation using micornaut microservices in java.\r\nBut getting this error, Please if anyone can help me out.\r\n```\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.625 s &lt;&lt;&lt; FAILURE! - in micronautDataAcess.MicronautDataAcessTest\r\n[ERROR] micronautDataAcess.MicronautDataAcessTest Time elapsed: 0.623 s &lt;&lt;&lt; ERROR!\r\njava.lang.RuntimeException: Failed to load a service: Unexpected error loading bean definition [micronautDataAcess.$Repository.StudentRepository$Interce\r\npted$Definition]: failed to access class micronautDataAcess.Repository.StudentRepository$Intercepted from class micronautDataAcess.$Repository.StudentRe\r\npository$Intercepted$Definition$Reference (micronautDataAcess.Repository.StudentRepository$Intercepted and micronautDataAcess.$Repository.StudentReposit\r\nory$Intercepted$Definition$Reference are in unnamed module of loader &#39;app&#39;)\r\nCaused by: io.micronaut.context.exceptions.BeanContextException: Unexpected error loading bean definition [micronautDataAcess.$Repository.StudentReposit\r\nory$Intercepted$Definition]: failed to access class micronautDataAcess.Repository.StudentRepository$Intercepted from class micronautDataAcess.$Repositor\r\ny.StudentRepository$Intercepted$Definition$Reference (micronautDataAcess.Repository.StudentRepository$Intercepted and micronautDataAcess.$Repository.Stu\r\ndentRepository$Intercepted$Definition$Reference are in unnamed module of loader &#39;app&#39;)\r\nCaused by: java.lang.IllegalAccessError: failed to access class micronautDataAcess.Repository.StudentRepository$Intercepted from class micronautDataAces\r\ns.$Repository.StudentRepository$Intercepted$Definition$Reference (micronautDataAcess.Repository.StudentRepository$Intercepted and micronautDataAcess.$Re\r\npository.StudentRepository$Intercepted$Definition$Reference are in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nPOM FILE - \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;micronautDataAcess&lt;/groupId&gt;\r\n  &lt;artifactId&gt;micronautDataAcess&lt;/artifactId&gt;\r\n  &lt;version&gt;0.1&lt;/version&gt;\r\n  &lt;packaging&gt;${packaging}&lt;/packaging&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.3&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\r\n    &lt;!-- If you are building with JDK 9 or higher, you can uncomment the lines below to set the release version --&gt;\r\n    &lt;!-- &lt;release.version&gt;8&lt;/release.version&gt; --&gt;\r\n    &lt;micronaut.version&gt;3.1.3&lt;/micronaut.version&gt;\r\n    &lt;exec.mainClass&gt;micronautDataAcess.Application&lt;/exec.mainClass&gt;\r\n    &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;central&lt;/id&gt;\r\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-runtime&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-data-jdbc&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.sql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-jdbc-hikari&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-data-hibernate-jpa&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\r\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      \r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;!-- Uncomment to enable incremental compilation --&gt;\r\n          &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\r\n\r\n          &lt;annotationProcessorPaths combine.children=&quot;append&quot;&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-Amicronaut.processing.group=micronautDataAcess&lt;/arg&gt;\r\n            &lt;arg&gt;-Amicronaut.processing.module=micronautDataAcess&lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n       &lt;pluginRepository&gt;\r\n           &lt;id&gt;central&lt;/id&gt;\r\n           &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n       &lt;/pluginRepository&gt;\r\n       &lt;pluginRepository&gt;\r\n           &lt;id&gt;ossrh&lt;/id&gt;\r\n           &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\r\n           &lt;snapshots&gt;\r\n               &lt;enabled&gt;true&lt;/enabled&gt;\r\n           &lt;/snapshots&gt;\r\n       &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n```\r\nController File -\r\npackage micronautDataAcess.Controller;\r\nimport io.micronaut.core.annotation.NonNull;\r\nimport io.micronaut.http.HttpResponse;\r\nimport io.micronaut.http.annotation.*;\r\nimport jakarta.inject.Inject;\r\nimport micronautDataAcess.Model.StudentModel;\r\nimport micronautDataAcess.Services.StudentServiceInterface;\r\n\r\nimport java.util.Optional;\r\n\r\n@Controller(&quot;/crud&quot;)\r\npublic class StudentController {\r\n\r\n    @Inject\r\n    StudentServiceInterface studentServiceInterface;\r\n\r\n    /*Endpoint for the post method */\r\n    @Post(value = &quot;/add&quot;)\r\n    @Consumes(value = &quot;application/json&quot;)\r\n    public HttpResponse save(@Body StudentModel crudDemoModel){\r\n        StudentModel savedCrudDemoModel = studentServiceInterface.save(crudDemoModel);\r\n        return HttpResponse.created(savedCrudDemoModel);\r\n    }\r\n    /* Endpoint for the finding */\r\n    @Get(value = &quot;/find&quot;)\r\n    @Produces(value = &quot;application/json&quot;)\r\n    public HttpResponse findById(@NonNull Integer sid){\r\n        Optional&lt;StudentModel&gt; foundModelObject = studentServiceInterface.findById(sid);\r\n        if(foundModelObject.isPresent()){\r\n            return HttpResponse.ok(foundModelObject);\r\n        }\r\n        return HttpResponse.badRequest(&quot;\\&#39;Error\\&#39;:\\&#39;Id provied not found in the DB&#39;&quot; );\r\n    }\r\n}\r\n```\r\n\r\n```\r\nModel - \r\npackage micronautDataAcess.Model;\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;dummystudent&quot;)\r\n\r\npublic class StudentModel {\r\n    /*All the column data*/\r\n    /* Student id */\r\n    @Id\r\n    Integer sid;\r\n    /* Student name */\r\n    @Column(name = &quot;name&quot;, nullable = false, unique = false)\r\n    String name;\r\n    /* Getter method for sid */\r\n    public Integer getSid() {\r\n        return sid;\r\n    }\r\n    /* Setter method for the student id */\r\n    public void setSid(int sid) {\r\n        this.sid = sid;\r\n    }\r\n    /* Getter method for student name */\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    /* Setter method for student name */\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;StudentModel {&quot; +\r\n                &quot;sid&quot; + sid +\r\n                &quot;name&quot; + name + &quot;}&quot;;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\nRepository - \r\n    package micronautDataAcess.Repository;\r\n    \r\n    import io.micronaut.data.annotation.Repository;\r\n    import io.micronaut.data.repository.CrudRepository;\r\n    import micronautDataAcess.Model.StudentModel;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    @Repository\r\n    /* Curd repository -- will accept the 2 parameters\r\n        1. object, char, string etc.\r\n        2. Will accept the Integer -- that is no primitive data type.\r\n        Here we are passing studentModel - object and Integer\r\n     */\r\n    public interface StudentRepository extends CrudRepository&lt;StudentModel, Integer&gt; {\r\n    \r\n        /* Save method will return the student object on save*/\r\n        StudentModel save(StudentModel studentModel);\r\n    \r\n        /* Optional - if the entity is not found then it will return null otherwise it will return student\r\n           entity containing all the student column data.\r\n         */\r\n        Optional&lt;StudentModel&gt; findById(Integer sid);\r\n    \r\n        /* Excepted the void method for the delete operation -- */\r\n        void deleteById(Integer sid);\r\n    \r\n    \r\n    \r\n    }\r\n```\r\n\r\n\r\nServices - \r\nService Interface\r\n```\r\npackage micronautDataAcess.Services;\r\n\r\nimport micronautDataAcess.Model.StudentModel;\r\n\r\nimport java.util.Optional;\r\n\r\npublic interface StudentServiceInterface {\r\n\r\n    StudentModel save(StudentModel studentModel);\r\n\r\n    Optional&lt;StudentModel&gt; findById(Integer sid);\r\n\r\n    void deleteById(Integer sid);\r\n}\r\n```\r\n\r\nService Implementation\r\n```\r\npackage micronautDataAcess.Services;\r\nimport io.micronaut.context.annotation.Bean;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.inject.Singleton;\r\nimport micronautDataAcess.Model.StudentModel;\r\nimport micronautDataAcess.Repository.StudentRepository;\r\n\r\nimport java.util.Optional;\r\n\r\n/*Initialization of Bean and Indicating the Singleton instance */\r\n@Singleton\r\n@Bean\r\npublic class StudentServiceImpl implements StudentServiceInterface {\r\n    /* Injecting the Student repository here in the Service Implementation */\r\n    @Inject\r\n    StudentRepository studentRepository;\r\n\r\n    /*Here we are overriding the StudentModel object that save the method.*/\r\n    @Override\r\n    public StudentModel save(StudentModel studentModel) {\r\n        return studentRepository.save(studentModel);\r\n    }\r\n\r\n    /*Here we are overriding the StudentModel -- findbyid method.*/\r\n    @Override\r\n    public Optional&lt;StudentModel&gt; findById(Integer sid) {\r\n        return studentRepository.findById(sid);\r\n    }\r\n\r\n    /*Here we are overriding the StudentModel -- deleteById.*/\r\n    @Override\r\n    public void deleteById(Integer sid) {\r\n        studentRepository.deleteById(sid);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nApplication.yml file\r\n```\r\nmicronaut:\r\n  application:\r\n    name: micronautDataAcess\r\n\r\ndatasources:\r\n  default:\r\n    url: jdbc:mysql://localhost:3306/micronautspractises\r\n    user: root\r\n    password: &quot;&quot;\r\n    driverClassName: com.mysql.cj.jdbc.Driver\r\n    dialect: MYSQL\r\n\r\nflyway:\r\n  datasources:\r\n    packages-to-scan: &#39;StudentModel&#39;\r\n    default:\r\n      enabled: true\r\n\r\n```\r\n\r\nSo I have attached all the dependencies and other file used In program. If anyone can suggest a better way to resolve the issue.","title":"Here I am trying to do a simple CRUD operation using micronaut microservices. But getting some errors","body":"<p>I am trying to do some crud operation using micornaut microservices in java.\nBut getting this error, Please if anyone can help me out.</p>\n<pre><code>[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.625 s &lt;&lt;&lt; FAILURE! - in micronautDataAcess.MicronautDataAcessTest\n[ERROR] micronautDataAcess.MicronautDataAcessTest Time elapsed: 0.623 s &lt;&lt;&lt; ERROR!\njava.lang.RuntimeException: Failed to load a service: Unexpected error loading bean definition [micronautDataAcess.$Repository.StudentRepository$Interce\npted$Definition]: failed to access class micronautDataAcess.Repository.StudentRepository$Intercepted from class micronautDataAcess.$Repository.StudentRe\npository$Intercepted$Definition$Reference (micronautDataAcess.Repository.StudentRepository$Intercepted and micronautDataAcess.$Repository.StudentReposit\nory$Intercepted$Definition$Reference are in unnamed module of loader 'app')\nCaused by: io.micronaut.context.exceptions.BeanContextException: Unexpected error loading bean definition [micronautDataAcess.$Repository.StudentReposit\nory$Intercepted$Definition]: failed to access class micronautDataAcess.Repository.StudentRepository$Intercepted from class micronautDataAcess.$Repositor\ny.StudentRepository$Intercepted$Definition$Reference (micronautDataAcess.Repository.StudentRepository$Intercepted and micronautDataAcess.$Repository.Stu\ndentRepository$Intercepted$Definition$Reference are in unnamed module of loader 'app')\nCaused by: java.lang.IllegalAccessError: failed to access class micronautDataAcess.Repository.StudentRepository$Intercepted from class micronautDataAces\ns.$Repository.StudentRepository$Intercepted$Definition$Reference (micronautDataAcess.Repository.StudentRepository$Intercepted and micronautDataAcess.$Re\npository.StudentRepository$Intercepted$Definition$Reference are in unnamed module of loader 'app')\n</code></pre>\n<p>POM FILE -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;micronautDataAcess&lt;/groupId&gt;\n  &lt;artifactId&gt;micronautDataAcess&lt;/artifactId&gt;\n  &lt;version&gt;0.1&lt;/version&gt;\n  &lt;packaging&gt;${packaging}&lt;/packaging&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n    &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.3&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\n    &lt;!-- If you are building with JDK 9 or higher, you can uncomment the lines below to set the release version --&gt;\n    &lt;!-- &lt;release.version&gt;8&lt;/release.version&gt; --&gt;\n    &lt;micronaut.version&gt;3.1.3&lt;/micronaut.version&gt;\n    &lt;exec.mainClass&gt;micronautDataAcess.Application&lt;/exec.mainClass&gt;\n    &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\n  &lt;/properties&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-runtime&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-data-jdbc&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.sql&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-jdbc-hikari&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-data-hibernate-jpa&lt;/artifactId&gt;\n      &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      \n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;!-- Uncomment to enable incremental compilation --&gt;\n          &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\n\n          &lt;annotationProcessorPaths combine.children=&quot;append&quot;&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n          &lt;/annotationProcessorPaths&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;-Amicronaut.processing.group=micronautDataAcess&lt;/arg&gt;\n            &lt;arg&gt;-Amicronaut.processing.module=micronautDataAcess&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n    &lt;pluginRepositories&gt;\n       &lt;pluginRepository&gt;\n           &lt;id&gt;central&lt;/id&gt;\n           &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n       &lt;/pluginRepository&gt;\n       &lt;pluginRepository&gt;\n           &lt;id&gt;ossrh&lt;/id&gt;\n           &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\n           &lt;snapshots&gt;\n               &lt;enabled&gt;true&lt;/enabled&gt;\n           &lt;/snapshots&gt;\n       &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n<pre><code>Controller File -\npackage micronautDataAcess.Controller;\nimport io.micronaut.core.annotation.NonNull;\nimport io.micronaut.http.HttpResponse;\nimport io.micronaut.http.annotation.*;\nimport jakarta.inject.Inject;\nimport micronautDataAcess.Model.StudentModel;\nimport micronautDataAcess.Services.StudentServiceInterface;\n\nimport java.util.Optional;\n\n@Controller(&quot;/crud&quot;)\npublic class StudentController {\n\n    @Inject\n    StudentServiceInterface studentServiceInterface;\n\n    /*Endpoint for the post method */\n    @Post(value = &quot;/add&quot;)\n    @Consumes(value = &quot;application/json&quot;)\n    public HttpResponse save(@Body StudentModel crudDemoModel){\n        StudentModel savedCrudDemoModel = studentServiceInterface.save(crudDemoModel);\n        return HttpResponse.created(savedCrudDemoModel);\n    }\n    /* Endpoint for the finding */\n    @Get(value = &quot;/find&quot;)\n    @Produces(value = &quot;application/json&quot;)\n    public HttpResponse findById(@NonNull Integer sid){\n        Optional&lt;StudentModel&gt; foundModelObject = studentServiceInterface.findById(sid);\n        if(foundModelObject.isPresent()){\n            return HttpResponse.ok(foundModelObject);\n        }\n        return HttpResponse.badRequest(&quot;\\'Error\\':\\'Id provied not found in the DB'&quot; );\n    }\n}\n</code></pre>\n<pre><code>Model - \npackage micronautDataAcess.Model;\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;dummystudent&quot;)\n\npublic class StudentModel {\n    /*All the column data*/\n    /* Student id */\n    @Id\n    Integer sid;\n    /* Student name */\n    @Column(name = &quot;name&quot;, nullable = false, unique = false)\n    String name;\n    /* Getter method for sid */\n    public Integer getSid() {\n        return sid;\n    }\n    /* Setter method for the student id */\n    public void setSid(int sid) {\n        this.sid = sid;\n    }\n    /* Getter method for student name */\n    public String getName() {\n        return name;\n    }\n    /* Setter method for student name */\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;StudentModel {&quot; +\n                &quot;sid&quot; + sid +\n                &quot;name&quot; + name + &quot;}&quot;;\n    }\n\n\n}\n</code></pre>\n<pre><code>Repository - \n    package micronautDataAcess.Repository;\n    \n    import io.micronaut.data.annotation.Repository;\n    import io.micronaut.data.repository.CrudRepository;\n    import micronautDataAcess.Model.StudentModel;\n    \n    import java.util.Optional;\n    \n    @Repository\n    /* Curd repository -- will accept the 2 parameters\n        1. object, char, string etc.\n        2. Will accept the Integer -- that is no primitive data type.\n        Here we are passing studentModel - object and Integer\n     */\n    public interface StudentRepository extends CrudRepository&lt;StudentModel, Integer&gt; {\n    \n        /* Save method will return the student object on save*/\n        StudentModel save(StudentModel studentModel);\n    \n        /* Optional - if the entity is not found then it will return null otherwise it will return student\n           entity containing all the student column data.\n         */\n        Optional&lt;StudentModel&gt; findById(Integer sid);\n    \n        /* Excepted the void method for the delete operation -- */\n        void deleteById(Integer sid);\n    \n    \n    \n    }\n</code></pre>\n<p>Services -\nService Interface</p>\n<pre><code>package micronautDataAcess.Services;\n\nimport micronautDataAcess.Model.StudentModel;\n\nimport java.util.Optional;\n\npublic interface StudentServiceInterface {\n\n    StudentModel save(StudentModel studentModel);\n\n    Optional&lt;StudentModel&gt; findById(Integer sid);\n\n    void deleteById(Integer sid);\n}\n</code></pre>\n<p>Service Implementation</p>\n<pre><code>package micronautDataAcess.Services;\nimport io.micronaut.context.annotation.Bean;\nimport jakarta.inject.Inject;\nimport jakarta.inject.Singleton;\nimport micronautDataAcess.Model.StudentModel;\nimport micronautDataAcess.Repository.StudentRepository;\n\nimport java.util.Optional;\n\n/*Initialization of Bean and Indicating the Singleton instance */\n@Singleton\n@Bean\npublic class StudentServiceImpl implements StudentServiceInterface {\n    /* Injecting the Student repository here in the Service Implementation */\n    @Inject\n    StudentRepository studentRepository;\n\n    /*Here we are overriding the StudentModel object that save the method.*/\n    @Override\n    public StudentModel save(StudentModel studentModel) {\n        return studentRepository.save(studentModel);\n    }\n\n    /*Here we are overriding the StudentModel -- findbyid method.*/\n    @Override\n    public Optional&lt;StudentModel&gt; findById(Integer sid) {\n        return studentRepository.findById(sid);\n    }\n\n    /*Here we are overriding the StudentModel -- deleteById.*/\n    @Override\n    public void deleteById(Integer sid) {\n        studentRepository.deleteById(sid);\n    }\n}\n</code></pre>\n<p>Application.yml file</p>\n<pre><code>micronaut:\n  application:\n    name: micronautDataAcess\n\ndatasources:\n  default:\n    url: jdbc:mysql://localhost:3306/micronautspractises\n    user: root\n    password: &quot;&quot;\n    driverClassName: com.mysql.cj.jdbc.Driver\n    dialect: MYSQL\n\nflyway:\n  datasources:\n    packages-to-scan: 'StudentModel'\n    default:\n      enabled: true\n\n</code></pre>\n<p>So I have attached all the dependencies and other file used In program. If anyone can suggest a better way to resolve the issue.</p>\n"},{"tags":["java","database","transactions","db2","batch-processing"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1637566913,"post_id":70061444,"comment_id":123850990,"body_markdown":"Are you doing this in production environment or while developing?","body":"Are you doing this in production environment or while developing?"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1637567170,"post_id":70061444,"comment_id":123851057,"body_markdown":"If you are dividing the delete&#39;s in chunks, it&#39;s likely that the log size wont be affected. Usually you need to make a backup after some deletes, thus the log will be empty. Or increase the log file size, if that&#39;s an option.","body":"If you are dividing the delete&#39;s in chunks, it&#39;s likely that the log size wont be affected. Usually you need to make a backup after some deletes, thus the log will be empty. Or increase the log file size, if that&#39;s an option."},{"owner":{"account_id":1826220,"reputation":795,"user_id":1658941,"accept_rate":22,"display_name":"Naveen"},"score":0,"creation_date":1637569823,"post_id":70061444,"comment_id":123851828,"body_markdown":"we will do it in DEV first if works.. we will run it in PROD","body":"we will do it in DEV first if works.. we will run it in PROD"},{"owner":{"account_id":1826220,"reputation":795,"user_id":1658941,"accept_rate":22,"display_name":"Naveen"},"score":0,"creation_date":1637570078,"post_id":70061444,"comment_id":123851909,"body_markdown":"I think the transaction log file is getting filled up because all the deletes are happening in 1 transaction. If i do it in chunks after every batch commit or rollback, it will clean transaction log.","body":"I think the transaction log file is getting filled up because all the deletes are happening in 1 transaction. If i do it in chunks after every batch commit or rollback, it will clean transaction log."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1637571240,"post_id":70061444,"comment_id":123852290,"body_markdown":"I don&#39;t think that&#39;s how the log works. It should contain all changes after last backup, so it can be &quot;replayed&quot;. Otherwise you would loose changes.","body":"I don&#39;t think that&#39;s how the log works. It should contain all changes after last backup, so it can be &quot;replayed&quot;. Otherwise you would loose changes."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1637571372,"post_id":70061444,"comment_id":123852334,"body_markdown":"If this is a onetime task, create a service window, make a backup, run the deletes, make a backup again.","body":"If this is a onetime task, create a service window, make a backup, run the deletes, make a backup again."},{"owner":{"account_id":1826220,"reputation":795,"user_id":1658941,"accept_rate":22,"display_name":"Naveen"},"score":0,"creation_date":1637572352,"post_id":70061444,"comment_id":123852666,"body_markdown":"It is done through job which runs every day","body":"It is done through job which runs every day"},{"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"score":0,"creation_date":1637585956,"post_id":70061444,"comment_id":123857775,"body_markdown":"Does this answer your question? [how to make frequent commits so my sql delete query won&#39;t time out](https://stackoverflow.com/questions/64467564/how-to-make-frequent-commits-so-my-sql-delete-query-wont-time-out)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64467564/how-to-make-frequent-commits-so-my-sql-delete-query-wont-time-out\">how to make frequent commits so my sql delete query won&#39;t time out</a>"}],"owner":{"account_id":1826220,"reputation":795,"user_id":1658941,"accept_rate":22,"display_name":"Naveen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637560638,"creation_date":1637560638,"question_id":70061444,"body_markdown":"I am deleted records from a table using `JDBCTemplate` in DB2 which fills up transaction logs throwing error.\r\n\r\nDelete query:\r\n\r\n    delete from table \r\n    where col = &#39;A&#39;\r\n    and not exist (\r\n      select 1 from table2\r\n    )\r\n\r\nException:\r\n\r\n    The transaction log for the database is full.. SQLCODE=-964, SQLSTATE=57011, DRIVER=4.21.29\r\n\r\n\r\nThis will delete 2.5million records from the table.\r\n\r\nWhat is the best way to handle this exception from code. \r\n\r\nI am thinking about selecting the records into a Object in java then deleting in batches and commiting transaction after every delete batch execute.\r\n\r\n","title":"JDBCTemplate delete record in batches and commit transaction","body":"<p>I am deleted records from a table using <code>JDBCTemplate</code> in DB2 which fills up transaction logs throwing error.</p>\n<p>Delete query:</p>\n<pre><code>delete from table \nwhere col = 'A'\nand not exist (\n  select 1 from table2\n)\n</code></pre>\n<p>Exception:</p>\n<pre><code>The transaction log for the database is full.. SQLCODE=-964, SQLSTATE=57011, DRIVER=4.21.29\n</code></pre>\n<p>This will delete 2.5million records from the table.</p>\n<p>What is the best way to handle this exception from code.</p>\n<p>I am thinking about selecting the records into a Object in java then deleting in batches and commiting transaction after every delete batch execute.</p>\n"},{"tags":["java","jms"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1637534053,"post_id":70056502,"comment_id":123845522,"body_markdown":"What specifically do you mean by &quot;better&quot;? Are you looking at this from a performance perspective, resource utilization perspective, ease-of-programming or maintenance perspective, etc.?","body":"What specifically do you mean by &quot;better&quot;? Are you looking at this from a performance perspective, resource utilization perspective, ease-of-programming or maintenance perspective, etc.?"},{"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"score":0,"creation_date":1637546583,"post_id":70056502,"comment_id":123847418,"body_markdown":"Right @Justin Bertram, it&#39;s not clear. I mean from resource utilization and performance prospective","body":"Right @Justin Bertram, it&#39;s not clear. I mean from resource utilization and performance prospective"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637560290,"creation_date":1637556698,"answer_id":70061025,"question_id":70056502,"body_markdown":"Doing less is generally going to require fewer resources and be faster, relatively speaking, so creating the `JMSProducer` once and reusing it will almost certainly be &quot;better&quot; for your use-case than creating it every time.\r\n\r\nHowever, it&#39;s worth noting that for most JMS implementations the producer is a lightweight object so caching/reusing it isn&#39;t nearly as big of deal as it is for other objects (e.g. the `Connection` or `JMSContext`). This &quot;optimization&quot; may not have a statistically significant impact, but only careful testing would make that clear.","title":"JMS Producer Best Practices","body":"<p>Doing less is generally going to require fewer resources and be faster, relatively speaking, so creating the <code>JMSProducer</code> once and reusing it will almost certainly be &quot;better&quot; for your use-case than creating it every time.</p>\n<p>However, it's worth noting that for most JMS implementations the producer is a lightweight object so caching/reusing it isn't nearly as big of deal as it is for other objects (e.g. the <code>Connection</code> or <code>JMSContext</code>). This &quot;optimization&quot; may not have a statistically significant impact, but only careful testing would make that clear.</p>\n"}],"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637707816,"accepted_answer_id":70061025,"answer_count":1,"score":0,"last_activity_date":1637560290,"creation_date":1637512516,"question_id":70056502,"body_markdown":"I would like to send messages to a queue in a Filter in top of a servlet. \r\n```\r\npublic class Filter implements javax.servlet.Filter {\r\n\r\n\r\n    @Inject\r\n    JMSContext context;\r\n\r\n    @Resource\r\n    private Queue queue;\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        long start = new Date().getTime();\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n        JMSProducer producer = context.createProducer();\r\n\r\n...\r\n```\r\n\r\nThinking about performaces and resource utilization, it is better  to create it once in a `@PostConstruct` method or doesn&#39;t matter and I can create it in each request? ","title":"JMS Producer Best Practices","body":"<p>I would like to send messages to a queue in a Filter in top of a servlet.</p>\n<pre><code>public class Filter implements javax.servlet.Filter {\n\n\n    @Inject\n    JMSContext context;\n\n    @Resource\n    private Queue queue;\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        long start = new Date().getTime();\n        filterChain.doFilter(servletRequest, servletResponse);\n        JMSProducer producer = context.createProducer();\n\n...\n</code></pre>\n<p>Thinking about performaces and resource utilization, it is better  to create it once in a <code>@PostConstruct</code> method or doesn't matter and I can create it in each request?</p>\n"},{"tags":["java","swing","event-dispatch-thread"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":8,"creation_date":1637540429,"post_id":70059617,"comment_id":123846506,"body_markdown":"*I use wait() to stop the game from continuing until the player inputs an arrow.* - which is wrong. You should NOT be using wait(). A GUI is event driven and should respond to user events. So the natural state of the game should be to do nothing.  There is no need to synchronize anything. Swing is single threaded. All GUI events are generated on the `Event Dispatch Thread (EDT)` and are executed in order. Also you should be using `Key Bindings` NOT override the dispatchKeyEvent() method.","body":"<i>I use wait() to stop the game from continuing until the player inputs an arrow.</i> - which is wrong. You should NOT be using wait(). A GUI is event driven and should respond to user events. So the natural state of the game should be to do nothing.  There is no need to synchronize anything. Swing is single threaded. All GUI events are generated on the <code>Event Dispatch Thread (EDT)</code> and are executed in order. Also you should be using <code>Key Bindings</code> NOT override the dispatchKeyEvent() method."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":9,"creation_date":1637540464,"post_id":70059617,"comment_id":123846510,"body_markdown":"Read the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html). There are section on `Concurrency` and `How to Use Key Bindings` with more information.","body":"Read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a>. There are section on <code>Concurrency</code> and <code>How to Use Key Bindings</code> with more information."}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637560048,"creation_date":1637560048,"answer_id":70061363,"question_id":70059617,"body_markdown":"&gt; When sharedObject.wait(); is called, the JFrame turns blank and the whole application freezes\r\n\r\nThis is because calling `wait()` blocks all execution, including the built-in event handling mechanisms that you get from using Swing. You should learn about event handling in order to do what you want correctly.\r\n\r\nIn short, don&#39;t block the main thread. Only use `wait()` if you are spawing your own threads and actually need this behavior.","title":"JFrame is blank while using wait()","body":"<blockquote>\n<p>When sharedObject.wait(); is called, the JFrame turns blank and the whole application freezes</p>\n</blockquote>\n<p>This is because calling <code>wait()</code> blocks all execution, including the built-in event handling mechanisms that you get from using Swing. You should learn about event handling in order to do what you want correctly.</p>\n<p>In short, don't block the main thread. Only use <code>wait()</code> if you are spawing your own threads and actually need this behavior.</p>\n"}],"owner":{"account_id":20607060,"reputation":1,"user_id":15127054,"display_name":"bobk12l"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637560048,"creation_date":1637539254,"question_id":70059617,"body_markdown":"I&#39;m making a turn based game where the user moves a player with the arrow keys. I use wait() to stop the game from continuing until the player inputs an arrow.\r\nMy wait looks like this: \r\n\r\n    try {\r\n      synchronized(sharedObject) {\r\n        sharedObject.wait();\r\n      }\r\n    } catch(InterruptedException e) {\r\n      Thread.currentThread().interrupt();\r\n    }\r\n\r\nAnd my key input (in another class) looks like this: \r\n\r\n    KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(new KeyEventDispatcher() {\r\n      @Override\r\n      public boolean dispatchKeyEvent(KeyEvent ke) {\r\n        synchronized(lockObject) {\r\n        switch (ke.getID()) {\r\n          case KeyEvent.KEY_PRESSED:\r\n            if (ke.getKeyCode() == KeyEvent.VK_UP) {\r\n              playerInput = &quot;UP&quot;;\r\n              System.out.println(playerInput);\r\n              lockObject.notify();\r\n            }else if (ke.getKeyCode() == KeyEvent.VK_DOWN) {\r\n              playerInput = &quot;DOWN&quot;;\r\n              System.out.println(playerInput);\r\n              lockObject.notify();\r\n            }else if (ke.getKeyCode() == KeyEvent.VK_LEFT) {\r\n              playerInput = &quot;LEFT&quot;;\r\n              System.out.println(playerInput);\r\n              lockObject.notify();\r\n            }else if (ke.getKeyCode() == KeyEvent.VK_RIGHT) {\r\n              playerInput = &quot;RIGHT&quot;;\r\n              System.out.println(playerInput);\r\n              lockObject.notify();\r\n            }\r\n          break;\r\n          }\r\n        }\r\n          return true;\r\n        }\r\n    });\r\nWhen sharedObject.wait(); is called, the JFrame turns blank and the whole application freezes (I have to force close it everytime.) I&#39;ve tested the code before wait() is called and it works up until that point.\r\nI playerInput is a string that I have to see if the user inputs are being processed.\r\n\r\nAny help would be greatly appreciated.\r\n","title":"JFrame is blank while using wait()","body":"<p>I'm making a turn based game where the user moves a player with the arrow keys. I use wait() to stop the game from continuing until the player inputs an arrow.\nMy wait looks like this:</p>\n<pre><code>try {\n  synchronized(sharedObject) {\n    sharedObject.wait();\n  }\n} catch(InterruptedException e) {\n  Thread.currentThread().interrupt();\n}\n</code></pre>\n<p>And my key input (in another class) looks like this:</p>\n<pre><code>KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(new KeyEventDispatcher() {\n  @Override\n  public boolean dispatchKeyEvent(KeyEvent ke) {\n    synchronized(lockObject) {\n    switch (ke.getID()) {\n      case KeyEvent.KEY_PRESSED:\n        if (ke.getKeyCode() == KeyEvent.VK_UP) {\n          playerInput = &quot;UP&quot;;\n          System.out.println(playerInput);\n          lockObject.notify();\n        }else if (ke.getKeyCode() == KeyEvent.VK_DOWN) {\n          playerInput = &quot;DOWN&quot;;\n          System.out.println(playerInput);\n          lockObject.notify();\n        }else if (ke.getKeyCode() == KeyEvent.VK_LEFT) {\n          playerInput = &quot;LEFT&quot;;\n          System.out.println(playerInput);\n          lockObject.notify();\n        }else if (ke.getKeyCode() == KeyEvent.VK_RIGHT) {\n          playerInput = &quot;RIGHT&quot;;\n          System.out.println(playerInput);\n          lockObject.notify();\n        }\n      break;\n      }\n    }\n      return true;\n    }\n});\n</code></pre>\n<p>When sharedObject.wait(); is called, the JFrame turns blank and the whole application freezes (I have to force close it everytime.) I've tested the code before wait() is called and it works up until that point.\nI playerInput is a string that I have to see if the user inputs are being processed.</p>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","multithreading","scheduling","volatile","java-memory-model"],"comments":[{"owner":{"account_id":139001,"reputation":500,"user_id":4121151,"display_name":"Emmef"},"score":0,"creation_date":1637526926,"post_id":70058154,"comment_id":123843971,"body_markdown":"The compiler ensures that the compiled code on the platform - in this case the JVM - makes certain guarantees in terms of reordering of statements surrounding a volatile read/write, and about visibility between threads. On most platforms that have a JVM implementation, this can be done without the involvement of the operating system, and no scheduling is involved. On its own, a memory barrier is not an exclusion mechanism, you need something like Dekker&#39;s algorithm for that, or a simpler one if your hardware supports [CAS](https://en.wikipedia.org/wiki/Compare-and-swap) operations.","body":"The compiler ensures that the compiled code on the platform - in this case the JVM - makes certain guarantees in terms of reordering of statements surrounding a volatile read/write, and about visibility between threads. On most platforms that have a JVM implementation, this can be done without the involvement of the operating system, and no scheduling is involved. On its own, a memory barrier is not an exclusion mechanism, you need something like Dekker&#39;s algorithm for that, or a simpler one if your hardware supports <a href=\"https://en.wikipedia.org/wiki/Compare-and-swap\" rel=\"nofollow noreferrer\">CAS</a> operations."},{"owner":{"account_id":23408365,"reputation":3,"user_id":17470420,"display_name":"George"},"score":0,"creation_date":1637527968,"post_id":70058154,"comment_id":123844206,"body_markdown":"The implementation above is Dekker&#39;s algorithm using three volatiles. Still, my mind keeps thinking of how the java threads (which AFAIK are OS managed threads) could be paused (due to exhausting their quantum or due to other higher-priority threads being scheduled), so these visibility guarantees do not seem to be enough to hold the critical section safe if the two threads execute the logic above in a loop. I think I&#39;m on the same page with what you said, with the exception that I&#39;m not sure I understood what you meant by no scheduling is involved when JVM is put in the mix? @Emmef","body":"The implementation above is Dekker&#39;s algorithm using three volatiles. Still, my mind keeps thinking of how the java threads (which AFAIK are OS managed threads) could be paused (due to exhausting their quantum or due to other higher-priority threads being scheduled), so these visibility guarantees do not seem to be enough to hold the critical section safe if the two threads execute the logic above in a loop. I think I&#39;m on the same page with what you said, with the exception that I&#39;m not sure I understood what you meant by no scheduling is involved when JVM is put in the mix? @Emmef"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1637528165,"post_id":70058154,"comment_id":123844239,"body_markdown":"`The article mentions that since volatiles are sequentially consistent,` Careful, this is not strictly true.  https://stackoverflow.com/questions/69638262/is-it-guaranteed-that-volatile-field-would-be-properly-initialized","body":"<code>The article mentions that since volatiles are sequentially consistent,</code> Careful, this is not strictly true.  <a href=\"https://stackoverflow.com/questions/69638262/is-it-guaranteed-that-volatile-field-would-be-properly-initialized\" title=\"is it guaranteed that volatile field would be properly initialized\">stackoverflow.com/questions/69638262/&hellip;</a>"},{"owner":{"account_id":139001,"reputation":500,"user_id":4121151,"display_name":"Emmef"},"score":0,"creation_date":1637528400,"post_id":70058154,"comment_id":123844284,"body_markdown":"@George what I meant is that the underlying implementation that the JVM uses to make volatiles behave according to its specifications,  are handled on the compiler and instruction level: they do not at all involve the operating system. And thus, volatile behaviour has nothing to do with scheduling. (I do not know of a platform with a supported JVM that needs to use operating system features to implement volatiles)","body":"@George what I meant is that the underlying implementation that the JVM uses to make volatiles behave according to its specifications,  are handled on the compiler and instruction level: they do not at all involve the operating system. And thus, volatile behaviour has nothing to do with scheduling. (I do not know of a platform with a supported JVM that needs to use operating system features to implement volatiles)"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1637528441,"post_id":70058154,"comment_id":123844289,"body_markdown":"I don&#39;t see any way for Dekker&#39;s algorithm above to be wrong, but just saying &quot;volatile is sequentially consistent&quot; is overbroad and needs some qualification (see my comment above).  As Emmef points out below, this algorithm is pretty inefficient and there are much better options in Java.","body":"I don&#39;t see any way for Dekker&#39;s algorithm above to be wrong, but just saying &quot;volatile is sequentially consistent&quot; is overbroad and needs some qualification (see my comment above).  As Emmef points out below, this algorithm is pretty inefficient and there are much better options in Java."},{"owner":{"account_id":23408365,"reputation":3,"user_id":17470420,"display_name":"George"},"score":0,"creation_date":1637532821,"post_id":70058154,"comment_id":123845283,"body_markdown":"@markspace, the sequentially consistent statement is my blunt simplified interpretation of the beautiful article (I don&#39;t want to put incorrect statements). The main purpose was to centre the discussion around the above algorithm and whether it holds true in all cases in its current implementation. My imagination says it was used only for descriptive purposes but isn&#39;t actually correct when used in a real multi-threaded environment. At the same time, it may be a flaw in my understanding leading me to believe it&#39;s incorrect, in which case I&#39;d like to fix my gaps.","body":"@markspace, the sequentially consistent statement is my blunt simplified interpretation of the beautiful article (I don&#39;t want to put incorrect statements). The main purpose was to centre the discussion around the above algorithm and whether it holds true in all cases in its current implementation. My imagination says it was used only for descriptive purposes but isn&#39;t actually correct when used in a real multi-threaded environment. At the same time, it may be a flaw in my understanding leading me to believe it&#39;s incorrect, in which case I&#39;d like to fix my gaps."},{"owner":{"account_id":23408365,"reputation":3,"user_id":17470420,"display_name":"George"},"score":0,"creation_date":1637532847,"post_id":70058154,"comment_id":123845287,"body_markdown":"@markspace , many thanks for the additional stack; it was definitely an interesting and tricky one.","body":"@markspace , many thanks for the additional stack; it was definitely an interesting and tricky one."}],"answers":[{"tags":[],"owner":{"account_id":139001,"reputation":500,"user_id":4121151,"display_name":"Emmef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637529493,"creation_date":1637528177,"answer_id":70058535,"question_id":70058154,"body_markdown":"The compiler ensures that the compiled code on the platform - in this case the JVM - makes certain guarantees for volatile variables, in terms of [reordering of statements][1] (on many levels) and about visibility between threads. On most platforms that have a JVM implementation, this can be done without the involvement of the operating system, and no scheduling is involved. \r\n\r\nGuarantees about reordering and memory barriers are themselves no exclusion mechanism, needed to enter a critical section. These can be implemented in many different ways, for example by Dekker&#39;s algorithm. Dekker&#39;s algorithm is a so-called _busy_ algorithm, that needs the CPU to work for as long as it is not allowed into the critical section. On modern hardware, simpler algorithms are possible that can use [CAS][2] operations, for example \r\n\r\n    // declare an atomic boolean (package java.util.concurrent.atomic)\r\n    AtomicBoolean busyFlag = new AtomicBoolean(false);\r\n\r\n    // the part with the critical section, same for all threads\r\n    while (!busyFlag.compareAndSet(false, true)) { /* busy wait */ }\r\n    try {\r\n        criticalSection();\r\n    }\r\n    finally {\r\n        busyFlag.set(false);\r\n    }\r\n\r\nIn this case, `[compareAndSet][3]` ensures that the flag is _atomically set_ to true if and only if it is false, and returns true when that happens. \r\n\r\nHowever, just like the Dekker algorithm, this is still a busy mechanism that can cost you a lot of CPU if you are unlucky. A `synchronized` section or a [Lock][4] will ask the operating system to suspend the current thread when the lock cannot be obtained. But that has nothing to do with `volatile`.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Out-of-order_execution\r\n  [2]: https://en.wikipedia.org/wiki/Compare-and-swap\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicBoolean.html#compareAndSet(boolean,%20boolean)\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html","title":"Does the java memory model prevent interleaving writes from different threads between volatile variables?","body":"<p>The compiler ensures that the compiled code on the platform - in this case the JVM - makes certain guarantees for volatile variables, in terms of <a href=\"https://en.wikipedia.org/wiki/Out-of-order_execution\" rel=\"nofollow noreferrer\">reordering of statements</a> (on many levels) and about visibility between threads. On most platforms that have a JVM implementation, this can be done without the involvement of the operating system, and no scheduling is involved.</p>\n<p>Guarantees about reordering and memory barriers are themselves no exclusion mechanism, needed to enter a critical section. These can be implemented in many different ways, for example by Dekker's algorithm. Dekker's algorithm is a so-called <em>busy</em> algorithm, that needs the CPU to work for as long as it is not allowed into the critical section. On modern hardware, simpler algorithms are possible that can use <a href=\"https://en.wikipedia.org/wiki/Compare-and-swap\" rel=\"nofollow noreferrer\">CAS</a> operations, for example</p>\n<pre><code>// declare an atomic boolean (package java.util.concurrent.atomic)\nAtomicBoolean busyFlag = new AtomicBoolean(false);\n\n// the part with the critical section, same for all threads\nwhile (!busyFlag.compareAndSet(false, true)) { /* busy wait */ }\ntry {\n    criticalSection();\n}\nfinally {\n    busyFlag.set(false);\n}\n</code></pre>\n<p>In this case, <code>[compareAndSet][3]</code> ensures that the flag is <em>atomically set</em> to true if and only if it is false, and returns true when that happens.</p>\n<p>However, just like the Dekker algorithm, this is still a busy mechanism that can cost you a lot of CPU if you are unlucky. A <code>synchronized</code> section or a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\">Lock</a> will ask the operating system to suspend the current thread when the lock cannot be obtained. But that has nothing to do with <code>volatile</code>.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637560018,"creation_date":1637556229,"answer_id":70060976,"question_id":70058154,"body_markdown":"&gt; My understating is that the underlying OS scheduler may decide to\r\n&gt; pause the second thread in subsequent execution just before line 7 is\r\n&gt; executed and leave the first thread hit the critical section, and at\r\n&gt; the same moment, the OS resume the second thread and hit the critical\r\n&gt; section simultaneously.\r\n\r\nThis will not happen. If the second thread gets suspended and the first thread\r\nis in the critical section, the `intentFirst` is still true since this is only set to false after the first thread leaves the critical section. So if the second thread wakes up, the `intendSecond` is set to true, but the second thread will be stuck in the `while(intendedFirst)` loop and will delay entering the critical section till the first thread has excited.\r\n\r\nIMHO the most interesting part of Dekkers algorithm with respect to happens-before is here:\r\n```\r\nintentSecond=true; // volatile write\r\nwhile(intendFirst) // volatile read\r\n```\r\n\r\nModern processors have store buffers and this could lead to older stores being reordered with newer loads to a different address. That is why a [StoreLoad] is needed between the earlier store and the later load to ensure that they are sequentially consistent.\r\n\r\n","title":"Does the java memory model prevent interleaving writes from different threads between volatile variables?","body":"<blockquote>\n<p>My understating is that the underlying OS scheduler may decide to\npause the second thread in subsequent execution just before line 7 is\nexecuted and leave the first thread hit the critical section, and at\nthe same moment, the OS resume the second thread and hit the critical\nsection simultaneously.</p>\n</blockquote>\n<p>This will not happen. If the second thread gets suspended and the first thread\nis in the critical section, the <code>intentFirst</code> is still true since this is only set to false after the first thread leaves the critical section. So if the second thread wakes up, the <code>intendSecond</code> is set to true, but the second thread will be stuck in the <code>while(intendedFirst)</code> loop and will delay entering the critical section till the first thread has excited.</p>\n<p>IMHO the most interesting part of Dekkers algorithm with respect to happens-before is here:</p>\n<pre><code>intentSecond=true; // volatile write\nwhile(intendFirst) // volatile read\n</code></pre>\n<p>Modern processors have store buffers and this could lead to older stores being reordered with newer loads to a different address. That is why a [StoreLoad] is needed between the earlier store and the later load to ensure that they are sequentially consistent.</p>\n"}],"owner":{"account_id":23408365,"reputation":3,"user_id":17470420,"display_name":"George"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70060976,"answer_count":2,"score":0,"last_activity_date":1637560018,"creation_date":1637525134,"question_id":70058154,"body_markdown":"I was reading an interesting article about [the memory barriers and their role in JVM concurrency][1], and the example implementation of Dekker&#39;s algorithm took my attention\r\n\r\n```\r\n     volatile boolean intentFirst = false;\r\n     volatile boolean intentSecond = false;\r\n     volatile int turn = 0;\r\n\r\n\r\n     // code run by first thread   \t// code run by second thread\r\n\r\n 1    intentFirst = true;\t\t    intentSecond = true;\r\n 2\r\n 3    while (intentSecond) {\t\twhile (intentFirst) {     // volatile read\r\n 4    \tif (turn != 0) {\t\t\t   if (turn != 1) {       // volatile read\r\n 5    \t  intentFirst = false;\t\t\t     intentSecond = false;\r\n 6    \t  while (turn != 0) {}\t\t\t     while (turn != 1) {}\r\n 7    \t  intentFirst = true;\t\t\t     intentSecond = true;\r\n 8    \t}\t\t\t\t               }\r\n 9    }                             }\r\n10    criticalSection();\t\t\tcriticalSection();\r\n11\r\n12    turn = 1;\t\t\t\t\t    turn = 0;                 // volatile write\r\n13    intentFirst = false;\t\t\tintentSecond = false;     // volatile write\r\n```\r\nThe article mentions that since volatiles are sequentially consistent, the critical section is bound to be executed by one thread, which checks out with the happens-before guarantee. However, does that still hold if the two threads continue to execute the same logic in a loop? My understating is that the underlying OS scheduler may decide to pause the second thread in subsequent execution just before line 7 is executed and leave the first thread hit the critical section, and at the same moment, the OS resume the second thread and hit the critical section simultaneously. Is my understanding correct, and this example is given with the idea that this code is executed only once? If so, I&#39;d assume that the answer to my question is &quot;no&quot; since volatiles are used only for memory visibility guarantees.\r\n\r\n  [1]: https://www.infoq.com/articles/memory_barriers_jvm_concurrency/","title":"Does the java memory model prevent interleaving writes from different threads between volatile variables?","body":"<p>I was reading an interesting article about <a href=\"https://www.infoq.com/articles/memory_barriers_jvm_concurrency/\" rel=\"nofollow noreferrer\">the memory barriers and their role in JVM concurrency</a>, and the example implementation of Dekker's algorithm took my attention</p>\n<pre><code>     volatile boolean intentFirst = false;\n     volatile boolean intentSecond = false;\n     volatile int turn = 0;\n\n\n     // code run by first thread    // code run by second thread\n\n 1    intentFirst = true;           intentSecond = true;\n 2\n 3    while (intentSecond) {        while (intentFirst) {     // volatile read\n 4      if (turn != 0) {               if (turn != 1) {       // volatile read\n 5        intentFirst = false;               intentSecond = false;\n 6        while (turn != 0) {}               while (turn != 1) {}\n 7        intentFirst = true;                intentSecond = true;\n 8      }                              }\n 9    }                             }\n10    criticalSection();            criticalSection();\n11\n12    turn = 1;                     turn = 0;                 // volatile write\n13    intentFirst = false;          intentSecond = false;     // volatile write\n</code></pre>\n<p>The article mentions that since volatiles are sequentially consistent, the critical section is bound to be executed by one thread, which checks out with the happens-before guarantee. However, does that still hold if the two threads continue to execute the same logic in a loop? My understating is that the underlying OS scheduler may decide to pause the second thread in subsequent execution just before line 7 is executed and leave the first thread hit the critical section, and at the same moment, the OS resume the second thread and hit the critical section simultaneously. Is my understanding correct, and this example is given with the idea that this code is executed only once? If so, I'd assume that the answer to my question is &quot;no&quot; since volatiles are used only for memory visibility guarantees.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":6,"creation_date":1619611030,"post_id":67298679,"comment_id":118956127,"body_markdown":"Version `5.0.0` of `apache poi` cannot use `ooxml-schemas-1.4.jar` anymore. It needs `poi-ooxml-lite...jar` or `poi-ooxml-full...jar`. So make sure there is not  `ooxml-schemas-1.4.jar` in class path when `apache poi 5.0.0` is used.","body":"Version <code>5.0.0</code> of <code>apache poi</code> cannot use <code>ooxml-schemas-1.4.jar</code> anymore. It needs <code>poi-ooxml-lite...jar</code> or <code>poi-ooxml-full...jar</code>. So make sure there is not  <code>ooxml-schemas-1.4.jar</code> in class path when <code>apache poi 5.0.0</code> is used."}],"answers":[{"tags":[],"owner":{"account_id":2277794,"reputation":1044,"user_id":2003642,"accept_rate":75,"display_name":"Bhavik Patel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637559761,"creation_date":1637559761,"answer_id":70061331,"question_id":67298679,"body_markdown":"As per comments from @axel which worked, posting it as an answer for better reach.\r\n\r\nVersion `5.0.0` of apache poi cannot use `ooxml-schemas-1.4.jar` anymore. \r\n\r\nIt needs `poi-ooxml-lite...jar` or `poi-ooxml-full...jar`. So make sure there is not `ooxml-schemas-1.4.jar` in class path when `apache poi 5.0.0` is used","title":"java.lang.NoSuchMethodError: org.openxmlformats.schemas.spreadsheetml.x2006.main.CTFont.addNewFamily()","body":"<p>As per comments from @axel which worked, posting it as an answer for better reach.</p>\n<p>Version <code>5.0.0</code> of apache poi cannot use <code>ooxml-schemas-1.4.jar</code> anymore.</p>\n<p>It needs <code>poi-ooxml-lite...jar</code> or <code>poi-ooxml-full...jar</code>. So make sure there is not <code>ooxml-schemas-1.4.jar</code> in class path when <code>apache poi 5.0.0</code> is used</p>\n"}],"owner":{"account_id":2277794,"reputation":1044,"user_id":2003642,"accept_rate":75,"display_name":"Bhavik Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5660,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70061331,"answer_count":1,"score":5,"last_activity_date":1637559761,"creation_date":1619606533,"question_id":67298679,"body_markdown":"Upgraded poi to version and added the jar bundle from apache site. However getting below error :\r\n\r\n     java.lang.NoSuchMethodError: org.openxmlformats.schemas.spreadsheetml.x2006.main.CTFont.addNewFamily()\r\n\r\n\r\nHowever verified that the `JAR` is available in the project and accessible via code too.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AC6VZ.png\r\n  [2]: https://i.stack.imgur.com/Uywbh.png","title":"java.lang.NoSuchMethodError: org.openxmlformats.schemas.spreadsheetml.x2006.main.CTFont.addNewFamily()","body":"<p>Upgraded poi to version and added the jar bundle from apache site. However getting below error :</p>\n<pre><code> java.lang.NoSuchMethodError: org.openxmlformats.schemas.spreadsheetml.x2006.main.CTFont.addNewFamily()\n</code></pre>\n<p>However verified that the <code>JAR</code> is available in the project and accessible via code too.</p>\n<p><a href=\"https://i.stack.imgur.com/AC6VZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AC6VZ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Uywbh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Uywbh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","binary-search-tree","treenode"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":3,"creation_date":1434017348,"post_id":30777766,"comment_id":49605634,"body_markdown":"Like everything in a search tree, you should approach it recursively. Draw a tree on a piece of paper and traverse it using a pen, writing down all the node depths as you go. Once that&#39;s done, try to put into words how you did it. With any luck, an algorithm will be clear from there.","body":"Like everything in a search tree, you should approach it recursively. Draw a tree on a piece of paper and traverse it using a pen, writing down all the node depths as you go. Once that&#39;s done, try to put into words how you did it. With any luck, an algorithm will be clear from there."},{"owner":{"account_id":2180302,"reputation":3139,"user_id":1929959,"accept_rate":0,"display_name":"Mihai8"},"score":0,"creation_date":1434017416,"post_id":30777766,"comment_id":49605694,"body_markdown":"See http://www.geeksforgeeks.org/get-level-of-a-node-in-a-binary-tree/ or http://tekmarathon.com/2013/05/02/find-depth-of-binary-search-tree/.","body":"See <a href=\"http://www.geeksforgeeks.org/get-level-of-a-node-in-a-binary-tree/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/get-level-of-a-node-in-a-binary-tree</a> or <a href=\"http://tekmarathon.com/2013/05/02/find-depth-of-binary-search-tree/\" rel=\"nofollow noreferrer\">tekmarathon.com/2013/05/02/find-depth-of-binary-search-tree</a>."}],"answers":[{"tags":[],"owner":{"account_id":3710014,"reputation":5149,"user_id":3087601,"accept_rate":93,"display_name":"Zereges"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1434018037,"creation_date":1434018037,"answer_id":30778096,"question_id":30777766,"body_markdown":"    void updateDepth(Node node, int depth)\r\n    {\r\n        if (node != null)\r\n        {\r\n            node.depth = depth;\r\n            updateDepth(node.left, depth + 1); // left sub-tree\r\n            updateDepth(node.right, depth + 1); // right sub-tree\r\n        }\r\n    }\r\n\r\nCall with `updateDepth(root, 0);`\r\n","title":"How to calculate depth of each node in Binary Search Tree?","body":"<pre><code>void updateDepth(Node node, int depth)\n{\n    if (node != null)\n    {\n        node.depth = depth;\n        updateDepth(node.left, depth + 1); // left sub-tree\n        updateDepth(node.right, depth + 1); // right sub-tree\n    }\n}\n</code></pre>\n\n<p>Call with <code>updateDepth(root, 0);</code></p>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434018045,"creation_date":1434018045,"answer_id":30778100,"question_id":30777766,"body_markdown":"Most algorithms on binary trees work by recursion - you check a base condition to see if recursion should stop, and then you do your thing for the left and right children, possibly accumulating what you find. In this case,\r\n\r\n    static void addDepth(Node n, int currentDepth) {\r\n        if (n == null) return; // check base condition\r\n    \r\n        // store current depth in this node\r\n        n.setDepth(currentDepth);\r\n    \r\n        // recursion\r\n        addDepth(left, currentDepth+1);\r\n        addDepth(right, currentDepth+1);\r\n    }\r\n\r\nOr, alternatively (assuming that `addDepth` is part of your `Node` class):\r\n\r\n    void addDepth(int current) {\r\n         depth = current;\r\n         if (left != null) left.addDepth(current+1);\r\n         if (right != null) right.addDepth(current+1);\r\n    }\r\n\r\nBoth versions are equivalent. In the second, I am checking the base condition right before recursion, instead of (as is done in the 1st version) right before looking at the node.","title":"How to calculate depth of each node in Binary Search Tree?","body":"<p>Most algorithms on binary trees work by recursion - you check a base condition to see if recursion should stop, and then you do your thing for the left and right children, possibly accumulating what you find. In this case,</p>\n\n<pre><code>static void addDepth(Node n, int currentDepth) {\n    if (n == null) return; // check base condition\n\n    // store current depth in this node\n    n.setDepth(currentDepth);\n\n    // recursion\n    addDepth(left, currentDepth+1);\n    addDepth(right, currentDepth+1);\n}\n</code></pre>\n\n<p>Or, alternatively (assuming that <code>addDepth</code> is part of your <code>Node</code> class):</p>\n\n<pre><code>void addDepth(int current) {\n     depth = current;\n     if (left != null) left.addDepth(current+1);\n     if (right != null) right.addDepth(current+1);\n}\n</code></pre>\n\n<p>Both versions are equivalent. In the second, I am checking the base condition right before recursion, instead of (as is done in the 1st version) right before looking at the node.</p>\n"}],"owner":{"account_id":5442809,"reputation":125,"user_id":4330399,"accept_rate":82,"display_name":"Gregg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19114,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30778096,"answer_count":2,"score":3,"last_activity_date":1637556974,"creation_date":1434017219,"question_id":30777766,"body_markdown":"My task is to calculate depth of each node and store it in &#39;depth&#39; given in Node class. But I don&#39;t know how I should approach this task. I was looking for some example in the internet but haven&#39;t found any appropriate to my task.\r\nThis is the code of my given Node class:\r\n\r\n    Node\r\n    {int value; Node left, right; int depth;}\r\n\r\nI thought I could use a similar method to counting height of a tree but it didn&#39;t work out. Any help?","title":"How to calculate depth of each node in Binary Search Tree?","body":"<p>My task is to calculate depth of each node and store it in 'depth' given in Node class. But I don't know how I should approach this task. I was looking for some example in the internet but haven't found any appropriate to my task.\nThis is the code of my given Node class:</p>\n\n<pre><code>Node\n{int value; Node left, right; int depth;}\n</code></pre>\n\n<p>I thought I could use a similar method to counting height of a tree but it didn't work out. Any help?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14007891,"reputation":1959,"user_id":10117433,"display_name":"TBA"},"score":0,"creation_date":1637493845,"post_id":70054008,"comment_id":123835950,"body_markdown":"Does this answer your question? [How do I resolve ClassNotFoundException?](https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception\">How do I resolve ClassNotFoundException?</a>"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1637493952,"post_id":70054008,"comment_id":123835974,"body_markdown":"No, it did not answer my question.@TBA","body":"No, it did not answer my question.@TBA"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":2,"creation_date":1637518016,"post_id":70054008,"comment_id":123841784,"body_markdown":"It sounds like your dependency versions are not what you expect them to be. `ConfigurationBeanFactoryMetadata` was removed in Spring Boot 2.4.0-M4: https://github.com/spring-projects/spring-boot/commit/35d41e4ae266c257596f54395b5b403f1ee705ab#diff-c5adb3edfdcff4635dcd621bbc1b6d9b7770d87595257c5bae24206961f1b8c5. Spring Cloud 2020.0.x does not depend upon it so it sounds like you may have some dependencies from Spring Cloud Hoxton on the classpath too.","body":"It sounds like your dependency versions are not what you expect them to be. <code>ConfigurationBeanFactoryMetadata</code> was removed in Spring Boot 2.4.0-M4: <a href=\"https://github.com/spring-projects/spring-boot/commit/35d41e4ae266c257596f54395b5b403f1ee705ab#diff-c5adb3edfdcff4635dcd621bbc1b6d9b7770d87595257c5bae24206961f1b8c5\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/commit/&hellip;</a>. Spring Cloud 2020.0.x does not depend upon it so it sounds like you may have some dependencies from Spring Cloud Hoxton on the classpath too."},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1637549772,"post_id":70054008,"comment_id":123847869,"body_markdown":"I searched in Intellij Idea and did not found this class in any dependencies contains class `ConfigurationBeanFactoryMetadata`. @AndyWilkinson","body":"I searched in Intellij Idea and did not found this class in any dependencies contains class <code>ConfigurationBeanFactoryMetadata</code>. @AndyWilkinson"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1637580967,"post_id":70054008,"comment_id":123855922,"body_markdown":"It has been removed so I would not expect your IDE to be able to find it.","body":"It has been removed so I would not expect your IDE to be able to find it."}],"answers":[{"tags":[],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637494622,"creation_date":1637494622,"answer_id":70054158,"question_id":70054008,"body_markdown":"seems Spring Boot remove the class `ConfigurationBeanFactoryMetadata` from version 2.4.1, I downgrade the version to 2.4.0 avoid the problem.\r\n","title":"java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata","body":"<p>seems Spring Boot remove the class <code>ConfigurationBeanFactoryMetadata</code> from version 2.4.1, I downgrade the version to 2.4.0 avoid the problem.</p>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637556456,"creation_date":1637493494,"question_id":70054008,"body_markdown":"Today I upgraded my Spring Cloud to version 2020.0.3 and Spring Boot version to 2.4.9. When I run the app shows error like this:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:605) ~[?:?]\r\n    at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:1183) ~[?:?]\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:1098) ~[?:?]\r\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151) ~[dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:1081) ~[?:?]\r\n    at java.lang.Class.getDeclaredMethodsImpl(Native Method) ~[?:?]\r\n    at java.lang.Class.getDeclaredMethods(Class.java:1146) ~[?:?]\r\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:232) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:210) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:149) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:294) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1098) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n    ... 41 more\r\n\r\n    \r\n\r\n\r\nI&#39;ve searched the internet and this told me this problem is caused by a version incompatibility. The version is compatible right now, I read the official [document][1], why does it still show this error? What should I do to fix it? I found the `org.springframework.boot:spring-boot-starter-data-redis` using `org.springframework:spring-beans:5.3.9`, is there possible to fix?\r\n\r\n\r\n\r\n    $ ./script/dependencies.sh                                                                                                                                                           ‹ruby-2.7.2›\r\n    + ./gradlew :dolphin-gateway:dependencies --configuration runtimeClasspath\r\n    + grep -v &#39;(*)&#39;\r\n    + grep -C 10 spring-beans\r\n    |    |    +--- org.apache.commons:commons-collections4:4.4\r\n    |    |    +--- org.apache.commons:commons-lang3:3.9\r\n    |    |    +--- org.springframework.boot:spring-boot-starter-parent:2.4.9\r\n    |    |    +--- org.springframework.boot:spring-boot-starter-data-redis -&gt; 2.4.9\r\n    |    |    |    \\--- org.springframework.boot:spring-boot-starter:2.4.9\r\n    |    |    |         +--- org.springframework.boot:spring-boot:2.4.9\r\n    |    |    |         |    +--- org.springframework:spring-core:5.3.9\r\n    |    |    |         |    |    \\--- org.springframework:spring-jcl:5.3.9\r\n    |    |    |         |    \\--- org.springframework:spring-context:5.3.9\r\n    |    |    |         |         +--- org.springframework:spring-aop:5.3.9\r\n    |    |    |         |         |    +--- org.springframework:spring-beans:5.3.9\r\n    |    |    |         |         \\--- org.springframework:spring-expression:5.3.9\r\n    |    |    |         +--- org.springframework.boot:spring-boot-autoconfigure:2.4.9\r\n    |    |    |         +--- org.springframework.boot:spring-boot-starter-logging:2.4.9\r\n    |    |    |         |    \\--- org.slf4j:jul-to-slf4j:1.7.32\r\n    |    |    |         |         \\--- org.slf4j:slf4j-api:1.7.32\r\n    |    |    |         +--- jakarta.annotation:jakarta.annotation-api:1.3.5\r\n    |    |    |         \\--- org.yaml:snakeyaml:1.27\r\n    |    |    +--- org.springframework.data:spring-data-redis:2.5.0\r\n    |    |    |    +--- org.springframework.data:spring-data-keyvalue:2.5.0 -&gt; 2.4.11\r\n    |    |    |    |    +--- org.springframework.data:spring-data-commons:2.4.11\r\n    (base)\r\n\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud\r\n\r\n\r\n","title":"java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata","body":"<p>Today I upgraded my Spring Cloud to version 2020.0.3 and Spring Boot version to 2.4.9. When I run the app shows error like this:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\nat java.net.URLClassLoader.findClass(URLClassLoader.java:605) ~[?:?]\nat java.lang.ClassLoader.loadClassHelper(ClassLoader.java:1183) ~[?:?]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:1098) ~[?:?]\nat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151) ~[dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\nat java.lang.ClassLoader.loadClass(ClassLoader.java:1081) ~[?:?]\nat java.lang.Class.getDeclaredMethodsImpl(Native Method) ~[?:?]\nat java.lang.Class.getDeclaredMethods(Class.java:1146) ~[?:?]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:463) ~[spring-core-5.3.9.jar!/:5.3.9]\nat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321) ~[spring-core-5.3.9.jar!/:5.3.9]\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:232) ~[spring-beans-5.3.9.jar!/:5.3.9]\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:210) ~[spring-beans-5.3.9.jar!/:5.3.9]\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:149) ~[spring-beans-5.3.9.jar!/:5.3.9]\nat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:294) ~[spring-context-5.3.9.jar!/:5.3.9]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1098) ~[spring-beans-5.3.9.jar!/:5.3.9]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576) ~[spring-beans-5.3.9.jar!/:5.3.9]\n... 41 more\n</code></pre>\n<p>I've searched the internet and this told me this problem is caused by a version incompatibility. The version is compatible right now, I read the official <a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">document</a>, why does it still show this error? What should I do to fix it? I found the <code>org.springframework.boot:spring-boot-starter-data-redis</code> using <code>org.springframework:spring-beans:5.3.9</code>, is there possible to fix?</p>\n<pre><code>$ ./script/dependencies.sh                                                                                                                                                           ‹ruby-2.7.2›\n+ ./gradlew :dolphin-gateway:dependencies --configuration runtimeClasspath\n+ grep -v '(*)'\n+ grep -C 10 spring-beans\n|    |    +--- org.apache.commons:commons-collections4:4.4\n|    |    +--- org.apache.commons:commons-lang3:3.9\n|    |    +--- org.springframework.boot:spring-boot-starter-parent:2.4.9\n|    |    +--- org.springframework.boot:spring-boot-starter-data-redis -&gt; 2.4.9\n|    |    |    \\--- org.springframework.boot:spring-boot-starter:2.4.9\n|    |    |         +--- org.springframework.boot:spring-boot:2.4.9\n|    |    |         |    +--- org.springframework:spring-core:5.3.9\n|    |    |         |    |    \\--- org.springframework:spring-jcl:5.3.9\n|    |    |         |    \\--- org.springframework:spring-context:5.3.9\n|    |    |         |         +--- org.springframework:spring-aop:5.3.9\n|    |    |         |         |    +--- org.springframework:spring-beans:5.3.9\n|    |    |         |         \\--- org.springframework:spring-expression:5.3.9\n|    |    |         +--- org.springframework.boot:spring-boot-autoconfigure:2.4.9\n|    |    |         +--- org.springframework.boot:spring-boot-starter-logging:2.4.9\n|    |    |         |    \\--- org.slf4j:jul-to-slf4j:1.7.32\n|    |    |         |         \\--- org.slf4j:slf4j-api:1.7.32\n|    |    |         +--- jakarta.annotation:jakarta.annotation-api:1.3.5\n|    |    |         \\--- org.yaml:snakeyaml:1.27\n|    |    +--- org.springframework.data:spring-data-redis:2.5.0\n|    |    |    +--- org.springframework.data:spring-data-keyvalue:2.5.0 -&gt; 2.4.11\n|    |    |    |    +--- org.springframework.data:spring-data-commons:2.4.11\n(base)\n</code></pre>\n"},{"tags":["java","authorization","xacml","abac","authzforce"],"comments":[{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":0,"creation_date":1637556297,"post_id":70031907,"comment_id":123848798,"body_markdown":"What is your error?","body":"What is your error?"},{"owner":{"account_id":7728304,"reputation":3488,"user_id":5852281,"display_name":"cdan"},"score":0,"creation_date":1638413890,"post_id":70031907,"comment_id":124084060,"body_markdown":"Looks like  XACML_1_0_SUBJECT_CONFLICTS is undefined. Have you defined this variable anywhere? It is certainly not defined in AuthzForce.","body":"Looks like  XACML_1_0_SUBJECT_CONFLICTS is undefined. Have you defined this variable anywhere? It is certainly not defined in AuthzForce."}],"owner":{"account_id":10484344,"reputation":27,"user_id":7728397,"display_name":"Steffinho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637556308,"creation_date":1637310722,"question_id":70031907,"body_markdown":"How can I use urn:oasis:names:tc:xacml:1.0:subject:subject-conflicts in a Authzforce request? The code below gives a red underline at XACML_1_0_SUBJECT_CONFLICTS. Do I miss an import or I&#39;m a just using it the wrong way?\r\n\r\n    final AttributeFqn subjectIdAttributeId = AttributeFqns.newInstance(XACML_1_0_ACCESS_SUBJECT.value(), Optional.empty(), XACML_1_0_SUBJECT_CONFLICTS);\r\n        final AttributeBag&lt;?&gt; subjectIdAttributeValues = Bags.singletonAttributeBag(StandardDatatypes.STRING, new StringValue(&quot;1&quot;));\r\n        requestBuilder.putNamedAttributeIfAbsent(subjectIdAttributeId, subjectIdAttributeValues);","title":"How can I use subject-conflicts in a Authzforce request?","body":"<p>How can I use urn:oasis:names:tc:xacml:1.0:subject:subject-conflicts in a Authzforce request? The code below gives a red underline at XACML_1_0_SUBJECT_CONFLICTS. Do I miss an import or I'm a just using it the wrong way?</p>\n<pre><code>final AttributeFqn subjectIdAttributeId = AttributeFqns.newInstance(XACML_1_0_ACCESS_SUBJECT.value(), Optional.empty(), XACML_1_0_SUBJECT_CONFLICTS);\n    final AttributeBag&lt;?&gt; subjectIdAttributeValues = Bags.singletonAttributeBag(StandardDatatypes.STRING, new StringValue(&quot;1&quot;));\n    requestBuilder.putNamedAttributeIfAbsent(subjectIdAttributeId, subjectIdAttributeValues);\n</code></pre>\n"},{"tags":["java","gradle","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":22064247,"reputation":11,"user_id":16326384,"display_name":"叁只仓鼠"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637555966,"creation_date":1637555966,"answer_id":70060954,"question_id":69217924,"body_markdown":"OK, I found the answer in another answer: https://stackoverflow.com/questions/20136214\r\n\r\nits\r\n\r\n    sourceSets.main {\r\n        java.srcDirs += [\r\n            project(&#39;:api-common&#39;).sourceSets.main.java,\r\n            project(&#39;:api-common-server&#39;).sourceSets.main.java\r\n        ]\r\n        resources.srcDirs += [\r\n            project(&#39;:api-common&#39;).sourceSets.main.resources,\r\n            project(&#39;:api-common-server&#39;).sourceSets.main.resources\r\n        ]\r\n    }","title":"how gradle add code and resources from another sub-project to the sub-project","body":"<p>OK, I found the answer in another answer: <a href=\"https://stackoverflow.com/questions/20136214\">Gradle: common resource dependency for multiple java projects</a></p>\n<p>its</p>\n<pre><code>sourceSets.main {\n    java.srcDirs += [\n        project(':api-common').sourceSets.main.java,\n        project(':api-common-server').sourceSets.main.java\n    ]\n    resources.srcDirs += [\n        project(':api-common').sourceSets.main.resources,\n        project(':api-common-server').sourceSets.main.resources\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":22064247,"reputation":11,"user_id":16326384,"display_name":"叁只仓鼠"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637555966,"creation_date":1631854307,"question_id":69217924,"body_markdown":"i have a minecraft fabric mod project\r\n\r\nthis is its struct\r\n```\r\nairgame-api-parent:\r\n    airgame-api-common:\r\n    airgame-api-client:\r\n    airgame-api-server:\r\n    airgame-api-all:\r\n```\r\n\r\n&gt; Initially, i build them as a single project, but with the increase of code and function, i added some another depend into my project. such as `mysql-connector` and `HikariCP`.  \r\n&gt; its only needed in server side because the client does not need to connect my sql.  \r\n&gt; but `mysql-connector` is too big. it caused my jar file size increase to 4MB+ from 100KB+.  \r\n&gt; I think it&#39;s unbearable.\r\n\r\nSo I disassembled my project.\r\n\r\nthe project `airgame-api-common` is universal environment code: it can be running with client and server.\r\n\r\nthe project `airgame-api-client` is client side only code. it just can be running with client. it depend with `api-common`.\r\n\r\nthe project `airgame-api-server` is server side only code. it just can be running with server. it depend with `api-common` too.\r\n\r\nthe `api-server` include some server-side code. example as `mysql-connector` and `HikariCP`.\r\n\r\nand finally, the `api-all` include all code of `api-common`, `api-client` and `api-server`. In this way, I don&#39;t need to import `api-client` and `api-server` at the same time when coding other projects. (Actually, I can&#39;t do that because `api-client` and `api-server` used the same `mod_id`. If I import them, when I execute the test, the running environment will contain both dependencies, and then crash due to `mod_id` conflict.)\r\n\r\nokay, first i try to use `api project(&quot;:airgame-api-common&quot;)` in the `api-client`, but it now work, other project that depend `api-client` still can not see `api-common`. i guess may plugin `fabric-loom` changed gradle&#39;s build or depend logic.\r\n\r\nthe `fabric-loom` [docs](https://fabricmc.net/wiki/documentation:fabric_loom) say that i need use `modApi`, i tried, but it look like cant be use to import self sub-project.\r\n\r\nOK, I&#39;m sorry to say a lot of things that have nothing to do with the problem, but I just want to show that I&#39;ve done my best to solve the problem.\r\n\r\n**So now I guess there&#39;s one way left: add classpath and resources from `api-common` to other projects before gradle starts compiling code. I think modifying `build.gradle` can do it, but I don&#39;t know what to do.**\r\n\r\nI tried to read gradle&#39;s documentation, but I really didn&#39;t know much about the software, so I couldn&#39;t find much useful information. Can someone tell me?\r\n\r\nI need the `api-client` compile file have both its own code and `api-common` code, and the `api-common` code needs to be visible to the projects that depend on the `api-client`.(This is also required for `api-server` and `api-all`. But I think if you teach me to configure `api-client`, I should be able to configure others.)\r\n\r\nFinally, my English is not very good, but I try my best to express my intention. I don&#39;t mean any harm to anyone. If I offend you, please forgive me.","title":"how gradle add code and resources from another sub-project to the sub-project","body":"<p>i have a minecraft fabric mod project</p>\n<p>this is its struct</p>\n<pre><code>airgame-api-parent:\n    airgame-api-common:\n    airgame-api-client:\n    airgame-api-server:\n    airgame-api-all:\n</code></pre>\n<blockquote>\n<p>Initially, i build them as a single project, but with the increase of code and function, i added some another depend into my project. such as <code>mysql-connector</code> and <code>HikariCP</code>.<br />\nits only needed in server side because the client does not need to connect my sql.<br />\nbut <code>mysql-connector</code> is too big. it caused my jar file size increase to 4MB+ from 100KB+.<br />\nI think it's unbearable.</p>\n</blockquote>\n<p>So I disassembled my project.</p>\n<p>the project <code>airgame-api-common</code> is universal environment code: it can be running with client and server.</p>\n<p>the project <code>airgame-api-client</code> is client side only code. it just can be running with client. it depend with <code>api-common</code>.</p>\n<p>the project <code>airgame-api-server</code> is server side only code. it just can be running with server. it depend with <code>api-common</code> too.</p>\n<p>the <code>api-server</code> include some server-side code. example as <code>mysql-connector</code> and <code>HikariCP</code>.</p>\n<p>and finally, the <code>api-all</code> include all code of <code>api-common</code>, <code>api-client</code> and <code>api-server</code>. In this way, I don't need to import <code>api-client</code> and <code>api-server</code> at the same time when coding other projects. (Actually, I can't do that because <code>api-client</code> and <code>api-server</code> used the same <code>mod_id</code>. If I import them, when I execute the test, the running environment will contain both dependencies, and then crash due to <code>mod_id</code> conflict.)</p>\n<p>okay, first i try to use <code>api project(&quot;:airgame-api-common&quot;)</code> in the <code>api-client</code>, but it now work, other project that depend <code>api-client</code> still can not see <code>api-common</code>. i guess may plugin <code>fabric-loom</code> changed gradle's build or depend logic.</p>\n<p>the <code>fabric-loom</code> <a href=\"https://fabricmc.net/wiki/documentation:fabric_loom\" rel=\"nofollow noreferrer\">docs</a> say that i need use <code>modApi</code>, i tried, but it look like cant be use to import self sub-project.</p>\n<p>OK, I'm sorry to say a lot of things that have nothing to do with the problem, but I just want to show that I've done my best to solve the problem.</p>\n<p><strong>So now I guess there's one way left: add classpath and resources from <code>api-common</code> to other projects before gradle starts compiling code. I think modifying <code>build.gradle</code> can do it, but I don't know what to do.</strong></p>\n<p>I tried to read gradle's documentation, but I really didn't know much about the software, so I couldn't find much useful information. Can someone tell me?</p>\n<p>I need the <code>api-client</code> compile file have both its own code and <code>api-common</code> code, and the <code>api-common</code> code needs to be visible to the projects that depend on the <code>api-client</code>.(This is also required for <code>api-server</code> and <code>api-all</code>. But I think if you teach me to configure <code>api-client</code>, I should be able to configure others.)</p>\n<p>Finally, my English is not very good, but I try my best to express my intention. I don't mean any harm to anyone. If I offend you, please forgive me.</p>\n"},{"tags":["java","mysql","swing","jframe","jcombobox"],"answers":[{"tags":[],"owner":{"account_id":22186584,"reputation":33,"user_id":16429395,"display_name":"Danu Pratama"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637555909,"creation_date":1637555909,"answer_id":70060945,"question_id":68343673,"body_markdown":"It&#39;s solved. This because i am using jpanel for customizing color for the frame. Its just so messed up with the stacking one panel on top of the other one. That&#39;s why my dropdown list get blocked. So what I did, removed all the panel. Custom and sorting it more carefully and tidy from the start.","title":"JComboBox error blocking another field display","body":"<p>It's solved. This because i am using jpanel for customizing color for the frame. Its just so messed up with the stacking one panel on top of the other one. That's why my dropdown list get blocked. So what I did, removed all the panel. Custom and sorting it more carefully and tidy from the start.</p>\n"}],"owner":{"account_id":22186584,"reputation":33,"user_id":16429395,"display_name":"Danu Pratama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70060945,"answer_count":1,"score":0,"last_activity_date":1637555909,"creation_date":1626075821,"question_id":68343673,"body_markdown":"I have a problem with `JComboBox`. It&#39;s blocking another field in a frame meant to display another value that is linked through a foreign key in a database, a value that depends on the combo box already pop out. But somehow, after the user clicks the combo box it is blocking another field. The app is using MySql. \r\n\r\nHere&#39;s the code:\r\n\r\n**ComboBox method to fill value from DB**\r\n```\r\npublic void comboBoxBerat(){\r\n        DbConnection DB = new DbConnection();\r\n        DB.DbConnection();\r\n        con = DB.con;\r\n        stat = DB.stmt;\r\n        try {\r\n            sql = &quot;SELECT * FROM weight_of_services&quot;;\r\n            rs = stat.executeQuery(sql);\r\n            \r\n            while (rs.next()) {\r\n                jComboBoxBerat.addItem(rs.getString(&quot;weight&quot;));\r\n            }\r\n            con.close();                      \r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(this, e.getMessage());\r\n        }\r\n    }\r\n```\r\n**Action when selection is made from combo box, its get the value that linked with foreign key**\r\n```\r\nprivate void jComboBoxBeratActionPerformed(java.awt.event.ActionEvent evt) {                                             \r\n        DbConnection DB = new DbConnection();\r\n        DB.DbConnection();\r\n        con = DB.con;\r\n        stat = DB.stmt;\r\n        \r\n        String item = (String)jComboBoxBerat.getSelectedItem();\r\n        String sql = &quot;SELECT price FROM weight_of_services WHERE weight = ?&quot;;\r\n        \r\n        try {\r\n            pst = con.prepareStatement(sql);\r\n            pst.setString(1, item);\r\n            rs = pst.executeQuery();\r\n            \r\n            if (rs.next()) {\r\n                String price = rs.getString(&quot;price&quot;);\r\n                txtHargaBerat.setText(price); //put value from combobox to txtField\r\n            }\r\n            con.close();\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n```                                              \r\nThe problem after I select from the box its blocking another field.\r\n\r\n\r\nThis is the combo box problem in the frame\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/5iT8u.png&quot;&gt;","title":"JComboBox error blocking another field display","body":"<p>I have a problem with <code>JComboBox</code>. It's blocking another field in a frame meant to display another value that is linked through a foreign key in a database, a value that depends on the combo box already pop out. But somehow, after the user clicks the combo box it is blocking another field. The app is using MySql.</p>\n<p>Here's the code:</p>\n<p><strong>ComboBox method to fill value from DB</strong></p>\n<pre><code>public void comboBoxBerat(){\n        DbConnection DB = new DbConnection();\n        DB.DbConnection();\n        con = DB.con;\n        stat = DB.stmt;\n        try {\n            sql = &quot;SELECT * FROM weight_of_services&quot;;\n            rs = stat.executeQuery(sql);\n            \n            while (rs.next()) {\n                jComboBoxBerat.addItem(rs.getString(&quot;weight&quot;));\n            }\n            con.close();                      \n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(this, e.getMessage());\n        }\n    }\n</code></pre>\n<p><strong>Action when selection is made from combo box, its get the value that linked with foreign key</strong></p>\n<pre><code>private void jComboBoxBeratActionPerformed(java.awt.event.ActionEvent evt) {                                             \n        DbConnection DB = new DbConnection();\n        DB.DbConnection();\n        con = DB.con;\n        stat = DB.stmt;\n        \n        String item = (String)jComboBoxBerat.getSelectedItem();\n        String sql = &quot;SELECT price FROM weight_of_services WHERE weight = ?&quot;;\n        \n        try {\n            pst = con.prepareStatement(sql);\n            pst.setString(1, item);\n            rs = pst.executeQuery();\n            \n            if (rs.next()) {\n                String price = rs.getString(&quot;price&quot;);\n                txtHargaBerat.setText(price); //put value from combobox to txtField\n            }\n            con.close();\n        } catch (Exception e) {\n        }\n    }\n</code></pre>\n<p>The problem after I select from the box its blocking another field.</p>\n<p>This is the combo box problem in the frame</p>\n<img src=\"https://i.stack.imgur.com/5iT8u.png\">\n"},{"tags":["java","json","tomcat","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":7998147,"reputation":41,"user_id":6033800,"display_name":"Antonio Mart&#237;nez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465831907,"creation_date":1465831907,"answer_id":37793745,"question_id":37793495,"body_markdown":"The Tomcat access log is defined as a valve in server.xml file, there you can set whatever pattern you like, even use another implementation of the valve for access logging.\r\n\r\nTake a look to this for more details: https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Access_Log_Valve\r\n\r\nRegards.","title":"Access.log with Log4j2 on tomcat as JSON","body":"<p>The Tomcat access log is defined as a valve in server.xml file, there you can set whatever pattern you like, even use another implementation of the valve for access logging.</p>\n\n<p>Take a look to this for more details: <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Access_Log_Valve\" rel=\"nofollow\">https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Access_Log_Valve</a></p>\n\n<p>Regards.</p>\n"}],"owner":{"account_id":8627732,"reputation":31,"user_id":6460421,"display_name":"Angelo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2846,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1637554442,"creation_date":1465831198,"question_id":37793495,"body_markdown":"I have tomcat 8 configured and running nicely with log4j2.\r\nAlso catalina spooling nice JSON log with JSONlayout.\r\nBut here is a thing. \r\n**Does anyone know how to switch to JSONlayout for Tomcat&#39;s access file or even address Tomcat accessfile with log4j2 and it&#39;s pattern?**\r\nTomcat still spooling localhost_access_log in default format.\r\n","title":"Access.log with Log4j2 on tomcat as JSON","body":"<p>I have tomcat 8 configured and running nicely with log4j2.\nAlso catalina spooling nice JSON log with JSONlayout.\nBut here is a thing.\n<strong>Does anyone know how to switch to JSONlayout for Tomcat's access file or even address Tomcat accessfile with log4j2 and it's pattern?</strong>\nTomcat still spooling localhost_access_log in default format.</p>\n"},{"tags":["java","callback","jna","futuretask"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1637554179,"post_id":70060678,"comment_id":123848515,"body_markdown":"`FutureTask` with a single argument is documented to take a `Callable` argument.  I don&#39;t see how your `Long` parameter implements the `Callable` interface.  What is the `call()` method implementation associated with this `FutureTask`?","body":"<code>FutureTask</code> with a single argument is documented to take a <code>Callable</code> argument.  I don&#39;t see how your <code>Long</code> parameter implements the <code>Callable</code> interface.  What is the <code>call()</code> method implementation associated with this <code>FutureTask</code>?"},{"owner":{"account_id":19778909,"reputation":1,"user_id":14484304,"display_name":"King K"},"score":0,"creation_date":1637581300,"post_id":70060678,"comment_id":123856040,"body_markdown":"`Callable&lt;Long&gt; callable = new Callable&lt;Long&gt;() {\n            @Override\n            public Long call() throws Exception {\n                return System.currentTimeMillis();\n            }\n        };\n`\n\n`FutureTask&lt;Long&gt; futureTask = new FutureTask&lt;&gt;(callable);\n`","body":"<code>Callable&lt;Long&gt; callable = new Callable&lt;Long&gt;() {             @Override             public Long call() throws Exception {                 return System.currentTimeMillis();             }         }; </code>  <code>FutureTask&lt;Long&gt; futureTask = new FutureTask&lt;&gt;(callable); </code>"}],"owner":{"account_id":19778909,"reputation":1,"user_id":14484304,"display_name":"King K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637553845,"creation_date":1637552712,"question_id":70060678,"body_markdown":"If I run like this, the callback block will not run so `future.get()` will block forever:\r\n\r\n```java\r\nFutureTask&lt;Long&gt; futureTask = new FutureTask&lt;&gt;(System::currentTimeMillis);\r\n\r\nboolean login = CameraSDk.login(ip, port, userName, password, \r\n       (lLoginID, pBuf, RevLen, EncodeType, CmdSerial, dwUser) -&gt; {\r\n    //do something\r\n    futureTask.run();\r\n});\r\n\r\ntry {\r\n    Long timestamp = futureTask.get();\r\n    System.out.println(&quot;timestamp = &quot; + timestamp);\r\n} catch (InterruptedException | ExecutionException | TimeoutException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nBut if I use this:\r\n```java\r\nLong timestamp = futureTask.get(1, TimeUnit.SECONDS);\r\n```\r\nThe callback block will be called when `futuretask.get()` times out.\r\n\r\nI don&#39;t know what happened, is this a dead lock or something else?","title":"JNA callback method wont be called until futureTask.get() timeout","body":"<p>If I run like this, the callback block will not run so <code>future.get()</code> will block forever:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FutureTask&lt;Long&gt; futureTask = new FutureTask&lt;&gt;(System::currentTimeMillis);\n\nboolean login = CameraSDk.login(ip, port, userName, password, \n       (lLoginID, pBuf, RevLen, EncodeType, CmdSerial, dwUser) -&gt; {\n    //do something\n    futureTask.run();\n});\n\ntry {\n    Long timestamp = futureTask.get();\n    System.out.println(&quot;timestamp = &quot; + timestamp);\n} catch (InterruptedException | ExecutionException | TimeoutException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>But if I use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Long timestamp = futureTask.get(1, TimeUnit.SECONDS);\n</code></pre>\n<p>The callback block will be called when <code>futuretask.get()</code> times out.</p>\n<p>I don't know what happened, is this a dead lock or something else?</p>\n"},{"tags":["java","android","string","nullpointerexception","type-conversion"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1356010407,"post_id":13973233,"comment_id":19278654,"body_markdown":"`deleteuserDetails.setCreatedBy(String.valueOf(result.getPropertyAsString(0));` will transform null into &quot;null&quot;.","body":"<code>deleteuserDetails.setCreatedBy(String.valueOf(result.getProp&zwnj;&#8203;ertyAsString(0));</code> will transform null into &quot;null&quot;."},{"owner":{"account_id":1874907,"reputation":4258,"user_id":1696314,"display_name":"NickL"},"score":2,"creation_date":1356011224,"post_id":13973233,"comment_id":19279056,"body_markdown":"This will still cause a NPE. Writing String.valueOf((Object)result.getPropertyAsString(0)) would probably work.","body":"This will still cause a NPE. Writing String.valueOf((Object)result.getPropertyAsString(0)) would probably work."}],"answers":[{"tags":[],"owner":{"account_id":890434,"reputation":7576,"user_id":928814,"accept_rate":98,"display_name":"Avadhani Y"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1356010163,"creation_date":1356010163,"answer_id":13973270,"question_id":13973233,"body_markdown":"Instead of that, place the condition `if(String!=null)`. ","title":"Convert null object to String","body":"<p>Instead of that, place the condition <code>if(String!=null)</code>. </p>\n"},{"tags":[],"owner":{"account_id":1164056,"reputation":6018,"user_id":1143026,"accept_rate":33,"display_name":"Kanaiya Katarmal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356010171,"creation_date":1356010171,"answer_id":13973273,"question_id":13973233,"body_markdown":"    if(result.getPropertyAsString(0)==null)\r\n    {\r\n    deleteuserDetails.setCreatedBy(&quot;&quot;);\r\n    }\r\n    else\r\n    {\r\n    deleteuserDetails.setCreatedBy(result.getPropertyAsString(0).toString());\r\n    }","title":"Convert null object to String","body":"<pre><code>if(result.getPropertyAsString(0)==null)\n{\ndeleteuserDetails.setCreatedBy(\"\");\n}\nelse\n{\ndeleteuserDetails.setCreatedBy(result.getPropertyAsString(0).toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":303612,"reputation":177,"user_id":612649,"display_name":"Igorry"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1356010182,"creation_date":1356010182,"answer_id":13973277,"question_id":13973233,"body_markdown":"Try this: \r\n\r\n    deleteuserDetails.setCreatedBy(result.getPropertyAsString(0) == null ? &quot;null&quot;: result.getPropertyAsString(0));","title":"Convert null object to String","body":"<p>Try this: </p>\n\n<pre><code>deleteuserDetails.setCreatedBy(result.getPropertyAsString(0) == null ? \"null\": result.getPropertyAsString(0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356010192,"creation_date":1356010192,"answer_id":13973281,"question_id":13973233,"body_markdown":"You can simply check if its null then set a string for it.\r\n\r\n    if(result.getPropertyAsString(0) == null){\r\n     deleteuserDetails.setCreatedBy(&quot;NULL&quot;);\r\n    }else{\r\n     deleteuserDetails.setCreatedBy(result.getPropertyAsString(0));\r\n    }","title":"Convert null object to String","body":"<p>You can simply check if its null then set a string for it.</p>\n\n<pre><code>if(result.getPropertyAsString(0) == null){\n deleteuserDetails.setCreatedBy(\"NULL\");\n}else{\n deleteuserDetails.setCreatedBy(result.getPropertyAsString(0));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2113991,"reputation":12074,"user_id":1878670,"accept_rate":66,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1637553451,"creation_date":1356010436,"answer_id":13973351,"question_id":13973233,"body_markdown":"Although it&#39;s not a good practice, you can concatenate the null value with &quot;&quot; to make it a String.\r\n\r\nFor example:\r\n\r\n```java\t\t\r\nString str=null;\r\nSystem.out.println((str+&quot;&quot;).length()); /// prints 4\r\n```\r\n","title":"Convert null object to String","body":"<p>Although it's not a good practice, you can concatenate the null value with &quot;&quot; to make it a String.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str=null;\nSystem.out.println((str+&quot;&quot;).length()); /// prints 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1785297,"reputation":11051,"user_id":1626878,"accept_rate":100,"display_name":"Sahil Mahajan Mj"},"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1356010444,"creation_date":1356010444,"answer_id":13973353,"question_id":13973233,"body_markdown":"Use this,\r\n\r\n    try {\r\n        deleteuserDetails.setCreatedBy(result.getPropertyAsString(0).toString());\r\n    }\r\n    catch(Exception e) {\r\n        deleteuserDetails.setCreatedBy(&quot;null&quot;);\r\n    }","title":"Convert null object to String","body":"<p>Use this,</p>\n\n<pre><code>try {\n    deleteuserDetails.setCreatedBy(result.getPropertyAsString(0).toString());\n}\ncatch(Exception e) {\n    deleteuserDetails.setCreatedBy(\"null\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1356012317,"creation_date":1356012317,"answer_id":13973901,"question_id":13973233,"body_markdown":"`result.getPropertyAsString(0)` alone will result in a NPE already when the property is internally null. Your stacktrace points to `SoapObject.getPropertyAsString(SoapObject.java:165)` which should be\r\n\r\n    public String getPropertyAsString(int index) {\r\n        PropertyInfo propertyInfo = (PropertyInfo) properties.elementAt(index);\r\n        return propertyInfo.getValue().toString();\r\n    }\r\n\r\n[source](https://github.com/mosabua/ksoap2-android/blob/master/ksoap2-base/src/main/java/org/ksoap2/serialization/SoapObject.java#L163)  - it will crash when `propertyInfo` or \r\n`propertyInfo.getValue()` is `null`.\r\n\r\nTo prevent that from happening you need to get the property not via `getPropertyAsString` but via `getProperty` and convert it manually to a `String`.\r\n\r\nYou can encapsulate that into some utility method\r\n\r\n    public static String getPropertyAsString(SoapObject object, int index) {\r\n        Object prop = object.getProperty(index);\r\n        if(prop instanceof PropertyInfo) {\r\n            prop = ((PropertyInfo)prop).getValue();\r\n        }\r\n        return String.valueOf(prop); // will make it &quot;null&quot; if it is null\r\n    }\r\n\r\n\r\nand then do\r\n\r\n    deleteuserDetails.setUserId(getPropertyAsString(result, getPropertyAsString(4)));\r\n    deleteuserDetails.setUserName(getPropertyAsString(result, getPropertyAsString(2)));\r\n    deleteuserDetails.setUserRole(getPropertyAsString(result, getPropertyAsString(3)));\r\n","title":"Convert null object to String","body":"<p><code>result.getPropertyAsString(0)</code> alone will result in a NPE already when the property is internally null. Your stacktrace points to <code>SoapObject.getPropertyAsString(SoapObject.java:165)</code> which should be</p>\n\n<pre><code>public String getPropertyAsString(int index) {\n    PropertyInfo propertyInfo = (PropertyInfo) properties.elementAt(index);\n    return propertyInfo.getValue().toString();\n}\n</code></pre>\n\n<p><a href=\"https://github.com/mosabua/ksoap2-android/blob/master/ksoap2-base/src/main/java/org/ksoap2/serialization/SoapObject.java#L163\">source</a>  - it will crash when <code>propertyInfo</code> or \n<code>propertyInfo.getValue()</code> is <code>null</code>.</p>\n\n<p>To prevent that from happening you need to get the property not via <code>getPropertyAsString</code> but via <code>getProperty</code> and convert it manually to a <code>String</code>.</p>\n\n<p>You can encapsulate that into some utility method</p>\n\n<pre><code>public static String getPropertyAsString(SoapObject object, int index) {\n    Object prop = object.getProperty(index);\n    if(prop instanceof PropertyInfo) {\n        prop = ((PropertyInfo)prop).getValue();\n    }\n    return String.valueOf(prop); // will make it \"null\" if it is null\n}\n</code></pre>\n\n<p>and then do</p>\n\n<pre><code>deleteuserDetails.setUserId(getPropertyAsString(result, getPropertyAsString(4)));\ndeleteuserDetails.setUserName(getPropertyAsString(result, getPropertyAsString(2)));\ndeleteuserDetails.setUserRole(getPropertyAsString(result, getPropertyAsString(3)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3025723,"reputation":879,"user_id":3318097,"display_name":"Prashant K"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1637553406,"creation_date":1420697412,"answer_id":27833975,"question_id":13973233,"body_markdown":"Instead of catching the exception or putting conditions, use \r\n`String.valueOf(result.getPropertyAsString(0));`\r\n\r\nIt will call **toString()** method of the argument and will convert it to String and if result.getPropertyAsString(0) is null, then it will change it to **&quot;null&quot;**.","title":"Convert null object to String","body":"<p>Instead of catching the exception or putting conditions, use\n<code>String.valueOf(result.getPropertyAsString(0));</code></p>\n<p>It will call <strong>toString()</strong> method of the argument and will convert it to String and if result.getPropertyAsString(0) is null, then it will change it to <strong>&quot;null&quot;</strong>.</p>\n"},{"tags":[],"owner":{"account_id":5642130,"reputation":3491,"user_id":4465605,"display_name":"HannahCarney"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500210290,"creation_date":1500210290,"answer_id":45128922,"question_id":13973233,"body_markdown":"`&quot;Hi this will be &quot; + null;`\r\n\r\nPrints out &quot;Hi this will be null&quot; in String\r\n                                       ","title":"Convert null object to String","body":"<p><code>\"Hi this will be \" + null;</code></p>\n\n<p>Prints out \"Hi this will be null\" in String</p>\n"},{"tags":[],"owner":{"account_id":11845388,"reputation":174,"user_id":8668031,"display_name":"Deshani Vimukthika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570608180,"creation_date":1570608180,"answer_id":58299589,"question_id":13973233,"body_markdown":"The error comes when you are trying to convert a null value to a String ( mostly it&#39;s BigDecimal)\r\n\r\nSo what you have to do is catch the exception when program tries to convert null to String and set the null value manually for the String variable.\r\n\r\n    try{\r\n        deleteuserDetails.setUserId(result.getPropertyAsString(4));\r\n    }catch (Exception e){\r\n        deleteuserDetails.setUserId(null);\r\n    }","title":"Convert null object to String","body":"<p>The error comes when you are trying to convert a null value to a String ( mostly it's BigDecimal)</p>\n\n<p>So what you have to do is catch the exception when program tries to convert null to String and set the null value manually for the String variable.</p>\n\n<pre><code>try{\n    deleteuserDetails.setUserId(result.getPropertyAsString(4));\n}catch (Exception e){\n    deleteuserDetails.setUserId(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13295436,"reputation":1,"user_id":9598600,"display_name":"krotsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571228408,"creation_date":1571228408,"answer_id":58413197,"question_id":13973233,"body_markdown":"to Piggybag ride on what @prateek said. \r\n\r\n     String str=null;\r\n        System.out.println((str+&quot;&quot;));\r\n\r\n\r\nDo it without the.length so you can actually just print out the string ","title":"Convert null object to String","body":"<p>to Piggybag ride on what @prateek said. </p>\n\n<pre><code> String str=null;\n    System.out.println((str+\"\"));\n</code></pre>\n\n<p>Do it without the.length so you can actually just print out the string </p>\n"}],"owner":{"account_id":2088470,"reputation":691,"user_id":1858826,"accept_rate":87,"display_name":"Vivek Shankar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86639,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":13973353,"answer_count":11,"score":19,"last_activity_date":1637553451,"creation_date":1356010021,"question_id":13973233,"body_markdown":"I have written an android program to load values to table-row from web service. But value comes null so I need to convert it into a string. Can someone tell me the method to do it?\r\n\r\n    try{    \t\t\t\t\r\n    \t\t\t\t\r\n    \tSoapObject request = service.getRequest();\r\n    \tSoapSerializationEnvelope envelope = service.getEnvelope(request);\r\n    \tSoapObject response = service.getResponse(envelope);\r\n    \tLog.i(&quot;Service Master&quot;, response.toString());\r\n    \tint count = response.getPropertyCount();\r\n    \tfor (int i = 0; i &lt; count; i++) {\r\n    \t\tSoapObject result = (SoapObject) response.getProperty(i);\r\n    \t\tDeleteuserDetails deleteuserDetails=new DeleteuserDetails();\r\n    \t\tdeleteuserDetails.setUserId(result.getPropertyAsString(4));\r\n    \t\tdeleteuserDetails.setUserName(result.getPropertyAsString(2));\r\n    \t\tdeleteuserDetails.setUserRole(result.getPropertyAsString(3));\r\n    \t\tdeleteuserDetails.setCreatedDate(result.getPropertyAsString(1));\r\n    \t\tdeleteuserDetails.setCreatedBy(result.getPropertyAsString(0));\r\n    \t\tuserdetail.add(deleteuserDetails);\r\n    \t}\r\n\r\nNow `deleteuserDetails.setCreatedBy(result.getPropertyAsString(0));` gets null value from webservice, so I need to convert it into  string `&quot;null&quot;`.\r\n\r\n**LogCat:**\r\n\r\n    12-20 18:48:52.608: W/System.err(2174): java.lang.NullPointerException\r\n    12-20 18:48:52.608: W/System.err(2174): \tat org.ksoap2.serialization.SoapObject.getPropertyAsString(SoapObject.java:165)\r\n    12-20 18:48:52.608: W/System.err(2174): \tat com.mvss.admin.Deleteuser$deteUserIdLoad.doInBackground(Deleteuser.java:81)\r\n    12-20 18:48:52.608: W/System.err(2174): \tat com.mvss.admin.Deleteuser$deteUserIdLoad.doInBackground(Deleteuser.java:1)\r\n    12-20 18:48:52.608: W/System.err(2174): \tat android.os.AsyncTask$2.call(AsyncTask.java:185)\r\n    12-20 18:48:52.608: W/System.err(2174): \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\r\n    12-20 18:48:52.608: W/System.err(2174): \tat java.util.concurrent.FutureTask.run(FutureTask.java:137)\r\n    12-20 18:48:52.608: W/System.err(2174): \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1068)\r\n    12-20 18:48:52.608: W/System.err(2174): \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:561)\r\n    12-20 18:48:52.608: W/System.err(2174): \tat java.lang.Thread.run(Thread.java:1096)\r\n\r\n\r\n","title":"Convert null object to String","body":"<p>I have written an android program to load values to table-row from web service. But value comes null so I need to convert it into a string. Can someone tell me the method to do it?</p>\n\n<pre><code>try{                    \n\n    SoapObject request = service.getRequest();\n    SoapSerializationEnvelope envelope = service.getEnvelope(request);\n    SoapObject response = service.getResponse(envelope);\n    Log.i(\"Service Master\", response.toString());\n    int count = response.getPropertyCount();\n    for (int i = 0; i &lt; count; i++) {\n        SoapObject result = (SoapObject) response.getProperty(i);\n        DeleteuserDetails deleteuserDetails=new DeleteuserDetails();\n        deleteuserDetails.setUserId(result.getPropertyAsString(4));\n        deleteuserDetails.setUserName(result.getPropertyAsString(2));\n        deleteuserDetails.setUserRole(result.getPropertyAsString(3));\n        deleteuserDetails.setCreatedDate(result.getPropertyAsString(1));\n        deleteuserDetails.setCreatedBy(result.getPropertyAsString(0));\n        userdetail.add(deleteuserDetails);\n    }\n</code></pre>\n\n<p>Now <code>deleteuserDetails.setCreatedBy(result.getPropertyAsString(0));</code> gets null value from webservice, so I need to convert it into  string <code>\"null\"</code>.</p>\n\n<p><strong>LogCat:</strong></p>\n\n<pre><code>12-20 18:48:52.608: W/System.err(2174): java.lang.NullPointerException\n12-20 18:48:52.608: W/System.err(2174):     at org.ksoap2.serialization.SoapObject.getPropertyAsString(SoapObject.java:165)\n12-20 18:48:52.608: W/System.err(2174):     at com.mvss.admin.Deleteuser$deteUserIdLoad.doInBackground(Deleteuser.java:81)\n12-20 18:48:52.608: W/System.err(2174):     at com.mvss.admin.Deleteuser$deteUserIdLoad.doInBackground(Deleteuser.java:1)\n12-20 18:48:52.608: W/System.err(2174):     at android.os.AsyncTask$2.call(AsyncTask.java:185)\n12-20 18:48:52.608: W/System.err(2174):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n12-20 18:48:52.608: W/System.err(2174):     at java.util.concurrent.FutureTask.run(FutureTask.java:137)\n12-20 18:48:52.608: W/System.err(2174):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1068)\n12-20 18:48:52.608: W/System.err(2174):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:561)\n12-20 18:48:52.608: W/System.err(2174):     at java.lang.Thread.run(Thread.java:1096)\n</code></pre>\n"},{"tags":["java","debugging","simulation","anylogic","agent-based-modeling"],"comments":[{"owner":{"account_id":4999683,"reputation":3818,"user_id":4019094,"display_name":"Jaco-Ben Vosloo"},"score":1,"creation_date":1637553477,"post_id":70060298,"comment_id":123848417,"body_markdown":"Hi &#214;sg&#252;r, and welcome to Stack Overflow. Please ask only 1 question per post. To read more about asking better questions https://stackoverflow.com/help/how-to-ask\n\nI have answered your second question as your first is just about an example model - which you can find here L https://anylogic.help/tutorials/gis/model.html","body":"Hi &#214;sg&#252;r, and welcome to Stack Overflow. Please ask only 1 question per post. To read more about asking better questions <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>  I have answered your second question as your first is just about an example model - which you can find here L <a href=\"https://anylogic.help/tutorials/gis/model.html\" rel=\"nofollow noreferrer\">anylogic.help/tutorials/gis/model.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":4999683,"reputation":3818,"user_id":4019094,"display_name":"Jaco-Ben Vosloo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637553260,"creation_date":1637553260,"answer_id":70060733,"question_id":70060298,"body_markdown":"AnyLogic has a standard debug feature like most Java IDEs.\r\n\r\nTo add a debug point simply double click inside the grey area on the left of any place where you can write code\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand then you can run the model in debug mode using the debug run mode icon (right next to the play icon)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nYou can read more about it here - https://anylogic.help/advanced/debug/launching-in-debug-mode.html\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hQUkP.png\r\n  [2]: https://i.stack.imgur.com/ARcPr.png","title":"How can I effectively debug Anylogic project?","body":"<p>AnyLogic has a standard debug feature like most Java IDEs.</p>\n<p>To add a debug point simply double click inside the grey area on the left of any place where you can write code</p>\n<p><a href=\"https://i.stack.imgur.com/hQUkP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hQUkP.png\" alt=\"enter image description here\" /></a></p>\n<p>and then you can run the model in debug mode using the debug run mode icon (right next to the play icon)</p>\n<p><a href=\"https://i.stack.imgur.com/ARcPr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ARcPr.png\" alt=\"enter image description here\" /></a></p>\n<p>You can read more about it here - <a href=\"https://anylogic.help/advanced/debug/launching-in-debug-mode.html\" rel=\"nofollow noreferrer\">https://anylogic.help/advanced/debug/launching-in-debug-mode.html</a></p>\n"}],"owner":{"account_id":2761681,"reputation":3,"user_id":2378455,"display_name":"&#214;zg&#252;r Ural"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70060733,"answer_count":1,"score":-1,"last_activity_date":1637553260,"creation_date":1637548357,"question_id":70060298,"body_markdown":"I am a newbie in Anylogic Simulation Software Tool and trying to do an agent-based simulation. \r\n\r\nI read the variables from an excel sheet and planning to use them for my agents. In the excel sheet, there are columns such as agent strategy(per agent), speed, map environment things, and so on. What I try to do is each agent created with these data specifically. \r\n\r\nQuestion 1: Is there any example project similar to my project explained above?\r\n\r\nI can read the data from excel and use some of them in my simulation. But at some point, I faced problems that I can not solve or debug.\r\n\r\nWhen I double-clicked or searched the problem in my project; there was nothing opened.\r\n\r\nQuestion 2: How can I effectively debug a problem in Anylogic? Can I debug it from its generated Java code as if a java project? Is there a better approach except for adding debug logs everywhere? \r\n\r\nThanks in advance.\r\n ","title":"How can I effectively debug Anylogic project?","body":"<p>I am a newbie in Anylogic Simulation Software Tool and trying to do an agent-based simulation.</p>\n<p>I read the variables from an excel sheet and planning to use them for my agents. In the excel sheet, there are columns such as agent strategy(per agent), speed, map environment things, and so on. What I try to do is each agent created with these data specifically.</p>\n<p>Question 1: Is there any example project similar to my project explained above?</p>\n<p>I can read the data from excel and use some of them in my simulation. But at some point, I faced problems that I can not solve or debug.</p>\n<p>When I double-clicked or searched the problem in my project; there was nothing opened.</p>\n<p>Question 2: How can I effectively debug a problem in Anylogic? Can I debug it from its generated Java code as if a java project? Is there a better approach except for adding debug logs everywhere?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","rest","derby"],"answers":[{"tags":[],"owner":{"account_id":22993668,"reputation":24,"user_id":17118780,"display_name":"Grzegorz Kossakowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637483966,"creation_date":1637483966,"answer_id":70053014,"question_id":70052812,"body_markdown":"In dependencies added is JPA and Derby. Delete them and see if it works now. The connection to the database must be configured.","title":"Spring Boot with Derby Rest API 404 Error","body":"<p>In dependencies added is JPA and Derby. Delete them and see if it works now. The connection to the database must be configured.</p>\n"},{"tags":[],"owner":{"account_id":13356416,"reputation":372,"user_id":9639790,"display_name":"shreeramaute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637553100,"creation_date":1637553100,"answer_id":70060718,"question_id":70052812,"body_markdown":"it worked for now, will be replying progress on this\r\n\r\nin my build.gradle, excluded tomcat related dependency from spring-web dependency and from configurations.all task as wanted to use jetty as embedded server\r\n\r\n    ...\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    {\r\n       exclude module: &#39;spring-boot-starter-tomcat&#39;\r\n    }\r\n    ...\r\n    configurations.all {\r\n      exclude module: &#39;spring-boot-starter-tomcat&#39;\r\n      exclude group: &#39;org.apache.tomcat&#39;\r\n    }","title":"Spring Boot with Derby Rest API 404 Error","body":"<p>it worked for now, will be replying progress on this</p>\n<p>in my build.gradle, excluded tomcat related dependency from spring-web dependency and from configurations.all task as wanted to use jetty as embedded server</p>\n<pre><code>...\nimplementation('org.springframework.boot:spring-boot-starter-web')\n{\n   exclude module: 'spring-boot-starter-tomcat'\n}\n...\nconfigurations.all {\n  exclude module: 'spring-boot-starter-tomcat'\n  exclude group: 'org.apache.tomcat'\n}\n</code></pre>\n"}],"owner":{"account_id":13356416,"reputation":372,"user_id":9639790,"display_name":"shreeramaute"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637553100,"creation_date":1637481640,"question_id":70052812,"body_markdown":"created simple spring boot rest api with gradle build tool\r\n\r\n    package com.example.demosb;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemosbApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemosbApplication.class, args);\r\n    \t}\t\r\n    \r\n    }\r\nmy controller class\r\n\r\n    package com.example.demosb;\r\n    \r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class demoSbController {\r\n    \t\r\n    \t@GetMapping(&quot;/welcome&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; welcome() {\r\n    \t\treturn ResponseEntity.ok(&quot;Welcome To demo !&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\ndependencies in build.gradle\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-jetty&#39;\r\n    runtimeOnly &#39;org.apache.derby:derby&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\r\non url : http://localhost:8888\r\na login page is shown where i provide username:user and password is the &lt;Using generated security password&gt; , which leads to 404 error as there is no request mapping on path &quot;/&quot; that is ok\r\n\r\nbut for url : http://localhost:8888/welcome , still getting 404 error where expected is response entity json object with message : &quot;Welcome To demo !&quot;","title":"Spring Boot with Derby Rest API 404 Error","body":"<p>created simple spring boot rest api with gradle build tool</p>\n<pre><code>package com.example.demosb;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemosbApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemosbApplication.class, args);\n    }   \n\n}\n</code></pre>\n<p>my controller class</p>\n<pre><code>package com.example.demosb;\n\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class demoSbController {\n    \n    @GetMapping(&quot;/welcome&quot;)\n    public ResponseEntity&lt;String&gt; welcome() {\n        return ResponseEntity.ok(&quot;Welcome To demo !&quot;);\n    }\n\n}\n</code></pre>\n<p>dependencies in build.gradle</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation 'org.springframework.boot:spring-boot-starter-data-jpa'\nimplementation 'org.springframework.boot:spring-boot-starter-jetty'\nruntimeOnly 'org.apache.derby:derby'\ndevelopmentOnly 'org.springframework.boot:spring-boot-devtools'\nimplementation 'org.springframework.boot:spring-boot-starter-security'\n</code></pre>\n<p>on url : http://localhost:8888\na login page is shown where i provide username:user and password is the  , which leads to 404 error as there is no request mapping on path &quot;/&quot; that is ok</p>\n<p>but for url : http://localhost:8888/welcome , still getting 404 error where expected is response entity json object with message : &quot;Welcome To demo !&quot;</p>\n"},{"tags":["java","garbage-collection","jvm"],"comments":[{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":1,"creation_date":1330091824,"post_id":9431888,"comment_id":11925917,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/895444/java-garbage-collection-log-messages","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/895444/java-garbage-collection-log-messages\" title=\"java garbage collection log messages\">stackoverflow.com/questions/895444/&hellip;</a>"},{"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"score":1,"creation_date":1330091977,"post_id":9431888,"comment_id":11925970,"body_markdown":"Have you read documentation on Oracle web-site? In particular, [this](http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html) article.","body":"Have you read documentation on Oracle web-site? In particular, <a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\" rel=\"nofollow noreferrer\">this</a> article."},{"owner":{"account_id":159942,"reputation":959,"user_id":379646,"accept_rate":86,"display_name":"snow8261"},"score":0,"creation_date":1330139317,"post_id":9431888,"comment_id":11939882,"body_markdown":"thanks i will read that.","body":"thanks i will read that."}],"answers":[{"tags":[],"owner":{"account_id":173196,"reputation":2231,"user_id":401727,"accept_rate":100,"display_name":"bchetty"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1330092146,"creation_date":1330092146,"answer_id":9432007,"question_id":9431888,"body_markdown":"&gt; PSYoungGen refers to the garbage collector in use for the minor\r\n&gt; collection. PS stands for Parallel Scavenge.\r\n\r\nRef: [Java Garbage Collection Log messages][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/895444/java-garbage-collection-log-messages","title":"Java GC log analysis","body":"<blockquote>\n  <p>PSYoungGen refers to the garbage collector in use for the minor\n  collection. PS stands for Parallel Scavenge.</p>\n</blockquote>\n\n<p>Ref: <a href=\"https://stackoverflow.com/questions/895444/java-garbage-collection-log-messages\">Java Garbage Collection Log messages</a></p>\n"},{"tags":[],"owner":{"account_id":1029088,"reputation":31784,"user_id":1037767,"display_name":"Alexander Pavlov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1330092216,"creation_date":1330092216,"answer_id":9432033,"question_id":9431888,"body_markdown":"An [excellent whitepaper](http://www.oracle.com/technetwork/java/javase/tech/memorymanagement-whitepaper-1-150020.pdf) on memory management in HotSpot JVM will answer most of the questions you might have on the topic.","title":"Java GC log analysis","body":"<p>An <a href=\"http://www.oracle.com/technetwork/java/javase/tech/memorymanagement-whitepaper-1-150020.pdf\" rel=\"nofollow\">excellent whitepaper</a> on memory management in HotSpot JVM will answer most of the questions you might have on the topic.</p>\n"},{"tags":[],"owner":{"account_id":1144634,"reputation":3197,"user_id":1127677,"accept_rate":79,"display_name":"radimpe"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1330092799,"creation_date":1330092799,"answer_id":9432147,"question_id":9431888,"body_markdown":"A picture can tell a thousand words. It will be a lot easier to interpret your GC logs visually. I&#39;ve found [GCViewer][1] very useful in the past, including its references to related topics.\r\n\r\n\r\n  [1]: http://www.tagtraum.com/gcviewer.html","title":"Java GC log analysis","body":"<p>A picture can tell a thousand words. It will be a lot easier to interpret your GC logs visually. I've found <a href=\"http://www.tagtraum.com/gcviewer.html\" rel=\"noreferrer\">GCViewer</a> very useful in the past, including its references to related topics.</p>\n"},{"tags":[],"owner":{"account_id":15754,"reputation":8442,"user_id":33622,"accept_rate":88,"display_name":"fglez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1330092812,"creation_date":1330092812,"answer_id":9432151,"question_id":9431888,"body_markdown":"I would use a graphical tool to analyze the file. It&#39;s difficult to extract conclusions from raw data. See [Know of any garbage collection log analysis tools?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/541832/know-of-any-java-garbage-collection-log-analysis-tools","title":"Java GC log analysis","body":"<p>I would use a graphical tool to analyze the file. It's difficult to extract conclusions from raw data. See <a href=\"https://stackoverflow.com/questions/541832/know-of-any-java-garbage-collection-log-analysis-tools\">Know of any garbage collection log analysis tools?</a></p>\n"},{"tags":[],"owner":{"account_id":15369721,"reputation":101,"user_id":11531849,"display_name":"Jim T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561611301,"creation_date":1561611301,"answer_id":56784123,"question_id":9431888,"body_markdown":"GC logs are vital artifacts to troubleshoot memory/CPU related problems and optimize applications performance.\r\n\r\n**Enable java 9 GC Logs**\r\n\r\nTo enable GC logging in Java 9, a new system property has been introduced. You need to pass this system property during application startup:\r\n\r\n-Xlog:gc*:file=&lt;gc-log-file-path&gt;\r\n\r\nExample:\r\n\r\n-Xlog:gc*:file=/tmp/logs/gc.log\r\n\r\n**Tools to analyze**\r\n\r\nGC log format is completely changed in Java 9. To analyze Java 9 GC logs, it’s highly recommended to use GC log analysis tools like GCeasy, HPJmeter. These tools parse java 9 GC logs and generate great graphical visualizations of the data, reports Key Performance Indicators and several other useful metrics.","title":"Java GC log analysis","body":"<p>GC logs are vital artifacts to troubleshoot memory/CPU related problems and optimize applications performance.</p>\n\n<p><strong>Enable java 9 GC Logs</strong></p>\n\n<p>To enable GC logging in Java 9, a new system property has been introduced. You need to pass this system property during application startup:</p>\n\n<p>-Xlog:gc*:file=</p>\n\n<p>Example:</p>\n\n<p>-Xlog:gc*:file=/tmp/logs/gc.log</p>\n\n<p><strong>Tools to analyze</strong></p>\n\n<p>GC log format is completely changed in Java 9. To analyze Java 9 GC logs, it’s highly recommended to use GC log analysis tools like GCeasy, HPJmeter. These tools parse java 9 GC logs and generate great graphical visualizations of the data, reports Key Performance Indicators and several other useful metrics.</p>\n"},{"tags":[],"owner":{"account_id":1865925,"reputation":393,"user_id":1689494,"display_name":"Ishara Samantha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588925956,"creation_date":1588925956,"answer_id":61674937,"question_id":9431888,"body_markdown":"Try Online GC Log analyzer , This is based on GC Viewer\r\nhttp://gcloganalyzer.com","title":"Java GC log analysis","body":"<p>Try Online GC Log analyzer , This is based on GC Viewer\n<a href=\"http://gcloganalyzer.com\" rel=\"nofollow noreferrer\">http://gcloganalyzer.com</a></p>\n"},{"tags":[],"owner":{"account_id":215757,"reputation":14141,"user_id":470583,"accept_rate":55,"display_name":"Tagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637552630,"creation_date":1637552630,"answer_id":70060666,"question_id":9431888,"body_markdown":"https://jxray.com/ is one of the best out there that I used, as it can provide some additional metrics and automatically roll up some commonly found metrics into actionable insights - \r\n\r\n&gt; Unlike most other tools, JXRay proactively looks for all kinds of known, well understood Java memory problems and gives you concrete, actionable findings. These results are carefully aggregated, so that all bad objects managed by the same code are clearly visible. Thus, you see immediately what code you need to change to save the maximum amount of memory.","title":"Java GC log analysis","body":"<p><a href=\"https://jxray.com/\" rel=\"nofollow noreferrer\">https://jxray.com/</a> is one of the best out there that I used, as it can provide some additional metrics and automatically roll up some commonly found metrics into actionable insights -</p>\n<blockquote>\n<p>Unlike most other tools, JXRay proactively looks for all kinds of known, well understood Java memory problems and gives you concrete, actionable findings. These results are carefully aggregated, so that all bad objects managed by the same code are clearly visible. Thus, you see immediately what code you need to change to save the maximum amount of memory.</p>\n</blockquote>\n"}],"owner":{"account_id":159942,"reputation":959,"user_id":379646,"accept_rate":86,"display_name":"snow8261"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42939,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":9432007,"answer_count":7,"score":9,"last_activity_date":1637552630,"creation_date":1330091687,"question_id":9431888,"body_markdown":"I am new to gc log.\r\n\r\nWhat is the meaning of the following gc log. Does it imply some useful information?\r\n\r\n    16960.890: [GC [PSYoungGen: 111960K-&gt;36400K(523584K)] 845053K-&gt;770190K(1286720K), 0.0270419 secs] [Times: user=0.13 sys=0.00, real=0.03 secs] \r\n    16960.917: [Full GC (System) [PSYoungGen: 36400K-&gt;0K(523584K)] [PSOldGen: 733789K-&gt;714479K(763136K)] 770190K-&gt;714479K(1286720K) [PSPermGen: 34154K-&gt;34154K(38208K)], 1.0982179 secs] [Times: user=1.09 sys=0.00, real=1.09 secs] \r\n\r\nwhat does PSYoundGen  mean? what does the Full GC line mean? i search it in google ,but does not understand it clearly.\r\nthanks for the reply!\r\n\r\n","title":"Java GC log analysis","body":"<p>I am new to gc log.</p>\n\n<p>What is the meaning of the following gc log. Does it imply some useful information?</p>\n\n<pre><code>16960.890: [GC [PSYoungGen: 111960K-&gt;36400K(523584K)] 845053K-&gt;770190K(1286720K), 0.0270419 secs] [Times: user=0.13 sys=0.00, real=0.03 secs] \n16960.917: [Full GC (System) [PSYoungGen: 36400K-&gt;0K(523584K)] [PSOldGen: 733789K-&gt;714479K(763136K)] 770190K-&gt;714479K(1286720K) [PSPermGen: 34154K-&gt;34154K(38208K)], 1.0982179 secs] [Times: user=1.09 sys=0.00, real=1.09 secs] \n</code></pre>\n\n<p>what does PSYoundGen  mean? what does the Full GC line mean? i search it in google ,but does not understand it clearly.\nthanks for the reply!</p>\n"},{"tags":["java","arrays","for-loop","methods","return"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1392477237,"post_id":21799367,"comment_id":32985588,"body_markdown":"Compiler error apart, what&#39;s the point of those `for` loops?","body":"Compiler error apart, what&#39;s the point of those <code>for</code> loops?"},{"owner":{"account_id":3596153,"reputation":303,"user_id":3000794,"accept_rate":67,"display_name":"Insederec"},"score":0,"creation_date":1392477289,"post_id":21799367,"comment_id":32985607,"body_markdown":"I want it to return 64 values, 8 in the y direction, and 8 in the x direction.","body":"I want it to return 64 values, 8 in the y direction, and 8 in the x direction."},{"owner":{"account_id":3778110,"reputation":1048,"user_id":3138305,"display_name":"Epiglottal Axolotl"},"score":0,"creation_date":1392477332,"post_id":21799367,"comment_id":32985622,"body_markdown":"You can only return one value from a function. Why not just have it return the array?","body":"You can only return one value from a function. Why not just have it return the array?"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":4,"creation_date":1392477338,"post_id":21799367,"comment_id":32985624,"body_markdown":"A method returns only once. If you want to return `64` values, then you perhaps need to create an array, and return an array of those 64 values.","body":"A method returns only once. If you want to return <code>64</code> values, then you perhaps need to create an array, and return an array of those 64 values."}],"answers":[{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392477841,"creation_date":1392477411,"answer_id":21799412,"question_id":21799367,"body_markdown":"because return statement is under `for` block. \r\n\r\nAs you have mentioned return type is String and your method has to have return tye. But with your program compiler does not know in advance that flow does not go under for loop and no return is possible. So compiler is extra smart. Is n&#39;t it :)\r\n\r\n\r\n\r\nTry\r\n\r\n\r\n    public static String getPieces(){\r\n           String result = null;\r\n            for(int y=0; y&lt;=7; y++)\r\n                for(int x=0; x&lt;=7; x++)\r\n                    result= piece[x][y];\r\n             \r\n            return result;\r\n    }\r\n\r\nit will work\r\n","title":"Missing return statement in for loop","body":"<p>because return statement is under <code>for</code> block. </p>\n\n<p>As you have mentioned return type is String and your method has to have return tye. But with your program compiler does not know in advance that flow does not go under for loop and no return is possible. So compiler is extra smart. Is n't it :)</p>\n\n<p>Try</p>\n\n<pre><code>public static String getPieces(){\n       String result = null;\n        for(int y=0; y&lt;=7; y++)\n            for(int x=0; x&lt;=7; x++)\n                result= piece[x][y];\n\n        return result;\n}\n</code></pre>\n\n<p>it will work</p>\n"},{"tags":[],"owner":{"account_id":2698226,"reputation":560,"user_id":2329661,"display_name":"Joseph Boyle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637551489,"creation_date":1392477427,"answer_id":21799417,"question_id":21799367,"body_markdown":"Besides the `loop` being completely pointless (because it will return piece[0][0]), adding an extra return line might help you:\r\n\r\n    public static String getPieces() {\r\n        for (int y = 0; y &lt;= 7; y++) {\r\n            for (int x = 0; x &lt;= 7; x++) {\r\n                return piece[x][y];\r\n            }\r\n        }     \r\n    }\r\n\r\nSince you stated that you want to return 64 values, you&#39;ll have to return an array.\r\n\r\n    public static ArrayList&lt;String&gt; getPieces() {\r\n        ArrayList&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n        for (int y = 0; y &lt;= 7; y++) {\r\n            for (int x = 0; x &lt;= 7; x++) {\r\n                strings.add(piece[x][y]);\r\n            }\r\n        }\r\n        return strings;\r\n    }","title":"Missing return statement in for loop","body":"<p>Besides the <code>loop</code> being completely pointless (because it will return piece[0][0]), adding an extra return line might help you:</p>\n<pre><code>public static String getPieces() {\n    for (int y = 0; y &lt;= 7; y++) {\n        for (int x = 0; x &lt;= 7; x++) {\n            return piece[x][y];\n        }\n    }     \n}\n</code></pre>\n<p>Since you stated that you want to return 64 values, you'll have to return an array.</p>\n<pre><code>public static ArrayList&lt;String&gt; getPieces() {\n    ArrayList&lt;String&gt; strings = new ArrayList&lt;String&gt;();\n    for (int y = 0; y &lt;= 7; y++) {\n        for (int x = 0; x &lt;= 7; x++) {\n            strings.add(piece[x][y]);\n        }\n    }\n    return strings;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1392480912,"creation_date":1392480608,"answer_id":21800057,"question_id":21799367,"body_markdown":"**[JLS &#167;8.4.7. Method Body][1]** says this:\r\n\r\n &gt; **If a method is declared to have a return type, then a compile-time error occurs if the body of the method can complete normally ([&#167;14.1][2]).**\r\n\r\nWhere the definition of *complete normally* is *not competing abruptly*. A `return` statement is something that completes *abruptly*.\r\n\r\nNext, assuming this syntax for a `for` statement:\r\n\r\n    for ( ForInit_opt ; Expression_opt ; ForUpdate_opt ) Statement\r\n\r\nThe **[JLS &#167;14.14.1.2. Iteration of for Statement][3]** states this :\r\n\r\n&gt;Next, a for iteration step is performed, as follows:\r\n\r\n&gt; - If the *Expression* is present, it is evaluated. If the result is of type `Boolean`, it is subject to unboxing conversion (&#167;5.1.8).\r\n\r\n&gt;       - If evaluation of the *Expression* or the subsequent unboxing conversion (if any) **completes abruptly, the `for` statement completes abruptly for the same reason**.\r\n\r\n\r\nSo, the fact that the *Expression* might complete abruptly means that the for loop will complete abruptly as well, for the same reason, which is of course not &quot;returning&quot;. So, the `return` statement might be unreachable.\r\n\r\nHowever, we both know that it will be always reached. But that is a shortcoming of the compiler intelligence. If you remove the *Expressions* (they are optional), or replace them with `true`, the compiler doesn&#39;t complain. Your code is basically this:\r\n\r\n    // This snippet won&#39;t work as method body\r\n    for (int i = 0; i &lt; 10; ++i)\r\n    {\r\n        return &quot;Hello&quot;; \r\n    }\r\n\r\nIn comparison with this:\r\n\r\n    // This snippet compiles fine\r\n    for (int i = 0; true; ++i)\r\n    {\r\n        return &quot;Hello&quot;;\r\n    }\r\n\r\nThis means that there are two options:\r\n\r\n - `i &lt; 10` can complete abruptly\r\n - the compiler can&#39;t determine wether `i &lt;= 10` evaluates to true or not, even if you declared `int i = 0`. \r\n\r\nI went searching through the JLS and didn&#39;t find anything about abrupt completion of a simple `i &lt; 10` statement. So, I guess that the reason why this happens is actually the second one: he can&#39;t be sure that `i &lt; 10` will evaluate to `true` for at least once.\r\n\r\n---\r\n\r\nSo, in order to make the compiler shut up about the fact that he is not certain about the return statement actually being called, you can let the method complete *abruptly*  by yourself:\r\n\r\n    for (int i = 0; i &lt; 10; ++i)\r\n    {\r\n        return &quot;Hello&quot;; \r\n    }\r\n    throw new RuntimeException(&quot;Should never, ever, reach this point!&quot;);\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.7\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.1\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.1.2","title":"Missing return statement in for loop","body":"<p><strong><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.7\" rel=\"nofollow\">JLS §8.4.7. Method Body</a></strong> says this:</p>\n\n<blockquote>\n  <p><strong>If a method is declared to have a return type, then a compile-time error occurs if the body of the method can complete normally (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.1\" rel=\"nofollow\">§14.1</a>).</strong></p>\n</blockquote>\n\n<p>Where the definition of <em>complete normally</em> is <em>not competing abruptly</em>. A <code>return</code> statement is something that completes <em>abruptly</em>.</p>\n\n<p>Next, assuming this syntax for a <code>for</code> statement:</p>\n\n<pre><code>for ( ForInit_opt ; Expression_opt ; ForUpdate_opt ) Statement\n</code></pre>\n\n<p>The <strong><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.1.2\" rel=\"nofollow\">JLS §14.14.1.2. Iteration of for Statement</a></strong> states this :</p>\n\n<blockquote>\n  <p>Next, a for iteration step is performed, as follows:</p>\n  \n  <ul>\n  <li><p>If the <em>Expression</em> is present, it is evaluated. If the result is of type <code>Boolean</code>, it is subject to unboxing conversion (§5.1.8).</p>\n  \n  <ul>\n  <li>If evaluation of the <em>Expression</em> or the subsequent unboxing conversion (if any) <strong>completes abruptly, the <code>for</code> statement completes abruptly for the same reason</strong>.</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>So, the fact that the <em>Expression</em> might complete abruptly means that the for loop will complete abruptly as well, for the same reason, which is of course not \"returning\". So, the <code>return</code> statement might be unreachable.</p>\n\n<p>However, we both know that it will be always reached. But that is a shortcoming of the compiler intelligence. If you remove the <em>Expressions</em> (they are optional), or replace them with <code>true</code>, the compiler doesn't complain. Your code is basically this:</p>\n\n<pre><code>// This snippet won't work as method body\nfor (int i = 0; i &lt; 10; ++i)\n{\n    return \"Hello\"; \n}\n</code></pre>\n\n<p>In comparison with this:</p>\n\n<pre><code>// This snippet compiles fine\nfor (int i = 0; true; ++i)\n{\n    return \"Hello\";\n}\n</code></pre>\n\n<p>This means that there are two options:</p>\n\n<ul>\n<li><code>i &lt; 10</code> can complete abruptly</li>\n<li>the compiler can't determine wether <code>i &lt;= 10</code> evaluates to true or not, even if you declared <code>int i = 0</code>. </li>\n</ul>\n\n<p>I went searching through the JLS and didn't find anything about abrupt completion of a simple <code>i &lt; 10</code> statement. So, I guess that the reason why this happens is actually the second one: he can't be sure that <code>i &lt; 10</code> will evaluate to <code>true</code> for at least once.</p>\n\n<hr>\n\n<p>So, in order to make the compiler shut up about the fact that he is not certain about the return statement actually being called, you can let the method complete <em>abruptly</em>  by yourself:</p>\n\n<pre><code>for (int i = 0; i &lt; 10; ++i)\n{\n    return \"Hello\"; \n}\nthrow new RuntimeException(\"Should never, ever, reach this point!\");\n</code></pre>\n"}],"owner":{"account_id":3596153,"reputation":303,"user_id":3000794,"accept_rate":67,"display_name":"Insederec"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8238,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":21799417,"answer_count":3,"score":2,"last_activity_date":1637551489,"creation_date":1392477149,"question_id":21799367,"body_markdown":"I have a `for` loop that returns values from an array. \r\n\r\n    public static String getPieces(){\r\n        \tfor(int y=0; y&lt;=7; y++)\r\n    \t\t\tfor(int x=0; x&lt;=7; x++)\r\n    \t\t\t\treturn piece[x][y];\r\n    }\r\n\r\nThere is a return statement clearly in the method that will return every time it is called. Why does it say `missing return statement`?","title":"Missing return statement in for loop","body":"<p>I have a <code>for</code> loop that returns values from an array. </p>\n\n<pre><code>public static String getPieces(){\n        for(int y=0; y&lt;=7; y++)\n            for(int x=0; x&lt;=7; x++)\n                return piece[x][y];\n}\n</code></pre>\n\n<p>There is a return statement clearly in the method that will return every time it is called. Why does it say <code>missing return statement</code>?</p>\n"},{"tags":["java","multidimensional-array","traversal"],"comments":[{"owner":{"account_id":23339242,"reputation":31,"user_id":17414367,"display_name":"tutorguru"},"score":0,"creation_date":1637545873,"post_id":70060084,"comment_id":123847318,"body_markdown":"No they are in right orderm v[i][j], will simply print row wise.","body":"No they are in right orderm v[i][j], will simply print row wise."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637546943,"post_id":70060084,"comment_id":123847458,"body_markdown":"typo : should be `int[][] v = {{1,2,3}, {4,5}, {6,4,3,}, {1}, {7,8,9}};`","body":"typo : should be <code>int[][] v = {{1,2,3}, {4,5}, {6,4,3,}, {1}, {7,8,9}};</code>"},{"owner":{"account_id":2338271,"reputation":57,"user_id":2050133,"display_name":"Goet"},"score":0,"creation_date":1637547668,"post_id":70060084,"comment_id":123847560,"body_markdown":"typo again, should be `int[][] v = {{1,2,3}, {4,5}, {6,4,3}, {1}, {7,8,9}};` ;)","body":"typo again, should be <code>int[][] v = {{1,2,3}, {4,5}, {6,4,3}, {1}, {7,8,9}};</code> ;)"}],"answers":[{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Purić"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1637545853,"creation_date":1637545853,"answer_id":70060118,"question_id":70060084,"body_markdown":"Here is a simple solution that works, if you need clarification let me know\r\n\r\n    public static void test(int[][] arr) {\r\n        int i = 0;\r\n        boolean found = true;\r\n        while(found){\r\n            found = false;\r\n            for(int j = 0; j &lt; arr.length; j++){\r\n                if(arr[j].length-1 &gt;= i){\r\n                    System.out.println(arr[j][i]);\r\n                    found = true;\r\n                }\r\n            }\r\n            i++;\r\n        }\r\n    }","title":"Traverse 2d array for variable size column wise","body":"<p>Here is a simple solution that works, if you need clarification let me know</p>\n<pre><code>public static void test(int[][] arr) {\n    int i = 0;\n    boolean found = true;\n    while(found){\n        found = false;\n        for(int j = 0; j &lt; arr.length; j++){\n            if(arr[j].length-1 &gt;= i){\n                System.out.println(arr[j][i]);\n                found = true;\n            }\n        }\n        i++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637546868,"creation_date":1637546868,"answer_id":70060192,"question_id":70060084,"body_markdown":"here is a stream based solution:\r\n\r\n        IntStream.iterate(0, i -&gt; i + 1)\r\n                .mapToObj(i -&gt; IntStream.range(0, v.length)\r\n                        .flatMap(j -&gt; i &lt; v[j].length ? IntStream.of(v[j][i]) : IntStream.empty())\r\n                        .boxed().toList())\r\n                .takeWhile(l -&gt; !l.isEmpty())\r\n                .flatMap(List::stream)","title":"Traverse 2d array for variable size column wise","body":"<p>here is a stream based solution:</p>\n<pre><code>    IntStream.iterate(0, i -&gt; i + 1)\n            .mapToObj(i -&gt; IntStream.range(0, v.length)\n                    .flatMap(j -&gt; i &lt; v[j].length ? IntStream.of(v[j][i]) : IntStream.empty())\n                    .boxed().toList())\n            .takeWhile(l -&gt; !l.isEmpty())\n            .flatMap(List::stream)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20744319,"reputation":115,"user_id":15233212,"display_name":"Reed Thorngag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637547466,"creation_date":1637547466,"answer_id":70060232,"question_id":70060084,"body_markdown":"I think the code is pretty self explanatory, but if you do have questions, feel free to ask them\r\n```\r\npublic static void printColumns(int[][] array) {\r\n    int largest = 0;\r\n    for (int[] i:array) {\r\n        if (i.length&gt;largest) { // find the largest element in array\r\n            largest = i.length;\r\n        }\r\n    }\r\n    for (int i=0;i&lt;largest;i++) {\r\n        for (int[] intArray : array) {\r\n            if (i &lt; intArray.length) {  // check that you won&#39;t get an IndexOutOfBounds exception\r\n                System.out.print(intArray[i]+&quot;,&quot;);\r\n            }\r\n        }\r\n    }\r\n    System.out.println(&quot;\\b&quot;);  // removes last &quot;,&quot; printed\r\n}\r\n```\r\nwith input of \r\n```\r\n{{1,2,3}, {4,5}, {6,4,3,}, {1}, {7,8,9}}\r\n```\r\noutputs: \r\n```\r\n1,4,6,1,7,2,5,4,8,3,3,9 \r\n```","title":"Traverse 2d array for variable size column wise","body":"<p>I think the code is pretty self explanatory, but if you do have questions, feel free to ask them</p>\n<pre><code>public static void printColumns(int[][] array) {\n    int largest = 0;\n    for (int[] i:array) {\n        if (i.length&gt;largest) { // find the largest element in array\n            largest = i.length;\n        }\n    }\n    for (int i=0;i&lt;largest;i++) {\n        for (int[] intArray : array) {\n            if (i &lt; intArray.length) {  // check that you won't get an IndexOutOfBounds exception\n                System.out.print(intArray[i]+&quot;,&quot;);\n            }\n        }\n    }\n    System.out.println(&quot;\\b&quot;);  // removes last &quot;,&quot; printed\n}\n</code></pre>\n<p>with input of</p>\n<pre><code>{{1,2,3}, {4,5}, {6,4,3,}, {1}, {7,8,9}}\n</code></pre>\n<p>outputs:</p>\n<pre><code>1,4,6,1,7,2,5,4,8,3,3,9 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2338271,"reputation":57,"user_id":2050133,"display_name":"Goet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637548503,"creation_date":1637548503,"answer_id":70060316,"question_id":70060084,"body_markdown":"Here&#39;s my proposal based on the idea that if you know the length of the longest array, everything get simpler : )\r\n\r\n    int[][] v = {{1,2,3}, {4,5}, {6,4,3}, {1}, {7,8,9}};\r\n\r\n    int maxLength = 0;\r\n    for(int i = 0; i &lt; v.length; i++){\r\n\t    maxLength = v[i].length &gt; maxLength ? v[i].length : maxLength;\r\n    }\r\n\r\n    for(int i = 0; i &lt; maxLength; i++){\r\n\t    for(int j = 0; j &lt; v.length; j++){\r\n\t\t    if(i &lt; v[j].length){\r\n\t\t\t    System.out.print(v[j][i]+&quot;,&quot;);\r\n\t\t    }\r\n\t    }\r\n    }","title":"Traverse 2d array for variable size column wise","body":"<p>Here's my proposal based on the idea that if you know the length of the longest array, everything get simpler : )</p>\n<pre><code>int[][] v = {{1,2,3}, {4,5}, {6,4,3}, {1}, {7,8,9}};\n\nint maxLength = 0;\nfor(int i = 0; i &lt; v.length; i++){\n    maxLength = v[i].length &gt; maxLength ? v[i].length : maxLength;\n}\n\nfor(int i = 0; i &lt; maxLength; i++){\n    for(int j = 0; j &lt; v.length; j++){\n        if(i &lt; v[j].length){\n            System.out.print(v[j][i]+&quot;,&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637551488,"creation_date":1637551488,"answer_id":70060572,"question_id":70060084,"body_markdown":"Try this.\r\n\r\n    public static void main(String[] args) {\r\n        int[][] v = {{1, 2, 3}, {4, 5}, {6, 4, 3}, {1}, {7, 8, 9}};\r\n        boolean moreColumns = true;\r\n        String sep = &quot;&quot;;\r\n        for (int c = 0, rows = v.length; moreColumns; ++c) {\r\n            moreColumns = false;\r\n            for (int r = 0; r &lt; rows; ++r) {\r\n                if (c &lt; v[r].length) {\r\n                    System.out.print(sep + v[r][c]);\r\n                    sep = &quot;, &quot;;\r\n                    moreColumns = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n    1, 4, 6, 1, 7, 2, 5, 4, 8, 3, 3, 9","title":"Traverse 2d array for variable size column wise","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) {\n    int[][] v = {{1, 2, 3}, {4, 5}, {6, 4, 3}, {1}, {7, 8, 9}};\n    boolean moreColumns = true;\n    String sep = &quot;&quot;;\n    for (int c = 0, rows = v.length; moreColumns; ++c) {\n        moreColumns = false;\n        for (int r = 0; r &lt; rows; ++r) {\n            if (c &lt; v[r].length) {\n                System.out.print(sep + v[r][c]);\n                sep = &quot;, &quot;;\n                moreColumns = true;\n            }\n        }\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>1, 4, 6, 1, 7, 2, 5, 4, 8, 3, 3, 9\n</code></pre>\n"}],"owner":{"account_id":23339242,"reputation":31,"user_id":17414367,"display_name":"tutorguru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1637551488,"creation_date":1637545288,"question_id":70060084,"body_markdown":"I have 2d array like this \r\n\r\n    int[][] v = {{1,2,3}, {4,5}, {6,4,3,}, {1}, {7,8,9};\r\n\r\nI want it to be printed it like \r\n\r\n    1,4,6,1,7,2,5,4,8,3,3,9 \r\n\r\nI understand that we have to traverse column wise, but the size of columns are not fixed. So how can I achieve the above ?\r\n\r\nI have tried the below, but it gives IndexArrayOutOfBoundException\r\n\r\n    for(int i = 0; i &lt; v.length; i++){\r\n          for(int j = 0; j&lt; v[i].length; j++) {\r\n        \r\n              System.out.println(v[j][i]);\r\n          \r\n          }\r\n        }\r\n\r\nHow to achieve this ?","title":"Traverse 2d array for variable size column wise","body":"<p>I have 2d array like this</p>\n<pre><code>int[][] v = {{1,2,3}, {4,5}, {6,4,3,}, {1}, {7,8,9};\n</code></pre>\n<p>I want it to be printed it like</p>\n<pre><code>1,4,6,1,7,2,5,4,8,3,3,9 \n</code></pre>\n<p>I understand that we have to traverse column wise, but the size of columns are not fixed. So how can I achieve the above ?</p>\n<p>I have tried the below, but it gives IndexArrayOutOfBoundException</p>\n<pre><code>for(int i = 0; i &lt; v.length; i++){\n      for(int j = 0; j&lt; v[i].length; j++) {\n    \n          System.out.println(v[j][i]);\n      \n      }\n    }\n</code></pre>\n<p>How to achieve this ?</p>\n"},{"tags":["java","spring-boot","testing","mockito"],"comments":[{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":3,"creation_date":1637327240,"post_id":70034925,"comment_id":123803187,"body_markdown":"Can you also add the source code for your class under test? Otherwise it&#39;s hard to give suggestions on what and how to mock.","body":"Can you also add the source code for your class under test? Otherwise it&#39;s hard to give suggestions on what and how to mock."}],"owner":{"account_id":14638583,"reputation":387,"user_id":10571898,"display_name":"Rakshan Premsagar Kapikad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637550841,"creation_date":1637325253,"question_id":70034925,"body_markdown":"In one of my tests, I need to evaluate a logical expression. For example `(A&amp;&amp;B)||C` . I am using Mockito for testing and the sample is shown below\r\n\r\n```java\r\n@Test\r\npublic void test() {\r\n Item item = new Item();\r\n    item.setUid(&quot;fc_uf_wzdf_0018&quot;);\r\n    item.setDeviceName(&quot;test&quot;);\r\n    item.setDeviceId(&quot;devID&quot;);\r\n    Aggregation aggregation =\r\n        new Aggregation(&quot;1&quot;, &quot;(fc_uf_wzdf_0021 &amp;&amp; fc_uf_wzdf_0025)||fc_uf_wzdf_0027)&quot;);\r\n    List&lt;Aggregation&gt; aggregationList = new ArrayList&lt;Aggregation&gt;();\r\n    aggregationList.add(aggregation);\r\n    item.setAggregation(aggregationList);\r\n    Runner underTest =\r\n        new Runner(applicationEventPublisher, applicationCacheHandler, item);\r\n    underTest.run();\r\n}\r\n```\r\nIn the above chunk of code, this item which I have defined here, is evaluating an expression defined in aggregation. To test it. I need to pass values for individual ID`s. Any suggestion, please?\r\n\r\nPS: first time with Mockito.","title":"Set value for variable in Mockito","body":"<p>In one of my tests, I need to evaluate a logical expression. For example <code>(A&amp;&amp;B)||C</code> . I am using Mockito for testing and the sample is shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test() {\n Item item = new Item();\n    item.setUid(&quot;fc_uf_wzdf_0018&quot;);\n    item.setDeviceName(&quot;test&quot;);\n    item.setDeviceId(&quot;devID&quot;);\n    Aggregation aggregation =\n        new Aggregation(&quot;1&quot;, &quot;(fc_uf_wzdf_0021 &amp;&amp; fc_uf_wzdf_0025)||fc_uf_wzdf_0027)&quot;);\n    List&lt;Aggregation&gt; aggregationList = new ArrayList&lt;Aggregation&gt;();\n    aggregationList.add(aggregation);\n    item.setAggregation(aggregationList);\n    Runner underTest =\n        new Runner(applicationEventPublisher, applicationCacheHandler, item);\n    underTest.run();\n}\n</code></pre>\n<p>In the above chunk of code, this item which I have defined here, is evaluating an expression defined in aggregation. To test it. I need to pass values for individual ID`s. Any suggestion, please?</p>\n<p>PS: first time with Mockito.</p>\n"},{"tags":["java","netbeans","printing"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1637031812,"post_id":69983232,"comment_id":123710660,"body_markdown":"Due to buffering of the output?  Use System.out.flush();","body":"Due to buffering of the output?  Use System.out.flush();"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1637362447,"post_id":69983232,"comment_id":123815163,"body_markdown":"You can use java.io.Console which allows more, and does these kind of no-newline prompts.","body":"You can use java.io.Console which allows more, and does these kind of no-newline prompts."}],"owner":{"account_id":12206129,"reputation":1,"user_id":17423221,"display_name":"AlejandroLL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637550236,"creation_date":1637031235,"question_id":69983232,"body_markdown":"all the code that is attached has been tested in both NetBeans and Eclipse on two different computers, running perfectly in Eclipse without problems.\r\n\r\nIf I write the following code everything runs correctly in both NetBeans and Eclipse:\r\n\r\n```java\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            Scanner sc = new Scanner(System.in);\r\n            \r\n            System.out.println( &quot;Write something: &quot; );\r\n            String text = sc.nextLine();\r\n            System.out.println(&quot;text -&gt; &quot; + text);\r\n            \r\n        }\r\n        \r\n    }\r\n```\r\n\r\nOutput writting &quot;hello&quot;:\r\n\r\n    Write something: \r\n    hello\r\n    text -&gt; hello\r\n\r\n\r\nThe problem is with the following code running on NetBeans:\r\n\r\n\r\nIn this example instead of using println() we are using only print().\r\n\r\n```java\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            Scanner sc = new Scanner(System.in);\r\n             \r\n            System.out.print( &quot;Write something: &quot; );\r\n            String text = sc.nextLine();\r\n            System.out.print(&quot;text -&gt; &quot; + text);\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n```\r\n\r\nRunning this on NetBeans perpetually will show absolutely nothing until we write something.\r\n\r\nNetbeans output writting &quot;hello&quot;:\r\n\r\n    hello\r\n    Write something: text -&gt; hello\r\n\r\n\r\nEclipse output writting &quot;hello&quot;:\r\n\r\n    Write something: hello\r\n    text -&gt; hello\r\n\r\nDoes anyone have a clue as to why and how to fix this? I don&#39;t want use Eclipse.\r\n\r\n-----\r\n\r\nUsing System.out.flush() does nothing to this problem.\r\n\r\n```java\r\n            Scanner sc = new Scanner(System.in);\r\n             \r\n            System.out.print( &quot;Write something: &quot; );\r\n            System.out.flush();\r\n            String text = sc.nextLine();\r\n            System.out.print(&quot;text -&gt; &quot; + text);\r\n```\r\n\r\n\r\n[link to a gif showing the original problem](https://gyazo.com/edaaba3942420007d65ea86113098a8a)\r\n\r\n[link to a gif showing the problem using System.out.flush()](https://gyazo.com/edaaba3942420007d65ea86113098a8a)","title":"Problem with NetBeans 12.5 Java System.out.print() and reading text from console","body":"<p>all the code that is attached has been tested in both NetBeans and Eclipse on two different computers, running perfectly in Eclipse without problems.</p>\n<p>If I write the following code everything runs correctly in both NetBeans and Eclipse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.Scanner;\n    \n    public class Main {\n    \n        public static void main(String[] args) {\n            \n            Scanner sc = new Scanner(System.in);\n            \n            System.out.println( &quot;Write something: &quot; );\n            String text = sc.nextLine();\n            System.out.println(&quot;text -&gt; &quot; + text);\n            \n        }\n        \n    }\n</code></pre>\n<p>Output writting &quot;hello&quot;:</p>\n<pre><code>Write something: \nhello\ntext -&gt; hello\n</code></pre>\n<p>The problem is with the following code running on NetBeans:</p>\n<p>In this example instead of using println() we are using only print().</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    import java.util.Scanner;\n    \n    public class Main {\n    \n        public static void main(String[] args) {\n            \n            Scanner sc = new Scanner(System.in);\n             \n            System.out.print( &quot;Write something: &quot; );\n            String text = sc.nextLine();\n            System.out.print(&quot;text -&gt; &quot; + text);\n            \n        }\n        \n    }\n\n</code></pre>\n<p>Running this on NetBeans perpetually will show absolutely nothing until we write something.</p>\n<p>Netbeans output writting &quot;hello&quot;:</p>\n<pre><code>hello\nWrite something: text -&gt; hello\n</code></pre>\n<p>Eclipse output writting &quot;hello&quot;:</p>\n<pre><code>Write something: hello\ntext -&gt; hello\n</code></pre>\n<p>Does anyone have a clue as to why and how to fix this? I don't want use Eclipse.</p>\n<hr />\n<p>Using System.out.flush() does nothing to this problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            Scanner sc = new Scanner(System.in);\n             \n            System.out.print( &quot;Write something: &quot; );\n            System.out.flush();\n            String text = sc.nextLine();\n            System.out.print(&quot;text -&gt; &quot; + text);\n</code></pre>\n<p><a href=\"https://gyazo.com/edaaba3942420007d65ea86113098a8a\" rel=\"nofollow noreferrer\">link to a gif showing the original problem</a></p>\n<p><a href=\"https://gyazo.com/edaaba3942420007d65ea86113098a8a\" rel=\"nofollow noreferrer\">link to a gif showing the problem using System.out.flush()</a></p>\n"},{"tags":["java","javafx","tabs","hbox","vbox"],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637548841,"creation_date":1637548841,"answer_id":70060342,"question_id":70060264,"body_markdown":"Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) to showcase the issue. That way someone can spot the issue and give you the fix more quickly.\r\n\r\nHaving said that, based on the info/image you gave, it looks like you are setting the HBox as the content to your tab. So to access that you can directly get the content and cast it to HBox.\r\n\r\n\r\nSomething like:\r\n\r\n    selTab = tabPane.getSelectionModel().getSelectedItem();\r\n    HBox hbox = (HBox)selTab.getContent();\r\n    hbox.getChildren().add(...);\r\n\r\n \r\n","title":"How to access my HBox inside a tab in JavaFX?","body":"<p>Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to showcase the issue. That way someone can spot the issue and give you the fix more quickly.</p>\n<p>Having said that, based on the info/image you gave, it looks like you are setting the HBox as the content to your tab. So to access that you can directly get the content and cast it to HBox.</p>\n<p>Something like:</p>\n<pre><code>selTab = tabPane.getSelectionModel().getSelectedItem();\nHBox hbox = (HBox)selTab.getContent();\nhbox.getChildren().add(...);\n</code></pre>\n"}],"owner":{"account_id":21056351,"reputation":61,"user_id":15475534,"display_name":"Shenavyre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70060342,"answer_count":1,"score":-1,"last_activity_date":1637549374,"creation_date":1637547911,"question_id":70060264,"body_markdown":"I have a tabPane with many tabs and each of those tabs has a HBox with many VBox in the HBox.\r\n\r\nThe tabs and their HBox load at the start by looping through a database and creating them for each row and once done I want to add more VBoxs into the HBox, via a button in the menu at the top of the program. The program prompts the user for a tab and then I set the selectedTab (this.selTab) I&#39;m adding VBox&#39;s to via this code, so I can access it as I insert them:\r\n```\r\ntabPane.getSelectionModel().select(defaultNum);\t\t\t\t\t\t\t\r\nselTab = tabPane.getSelectionModel().getSelectedItem();\r\n```\r\n\r\nI also have a HBox I keep in context. When I tell the system I want to add a VBox to a HBox, the in context HBox is still set to the final HBox made for the final line of the database back when the program started. For example, if I try and put a VBox into tab 3 of 5, it will do everything fine, except it puts the VBox into tab 5 of 5 (the final tab/HBox it made on bootup). I want to change the in context HBox to the one found inside the selectedTab, so that I can direct the system to put the VBox in the correct HBox but I don&#39;t know how to access it. I thought it might have been\r\n\r\n```\r\ncurHbox = selTab.getContext().getChildren();\r\n```\r\nor\r\n```\r\ncurHbox = selTab.getContext().getValue();\r\n```\r\n\r\nBut I got this error for either: &quot;The method getChildren() is undefined for the type Node&quot;\r\n\r\nSee below screenshot of the in context selectedTab, how do I access the HBox which you can see in value?\r\n\r\n![tab](https://i.stack.imgur.com/uV82U.png)\r\n\r\nI feel it&#39;s something obvious I&#39;m missing, but I&#39;m new to JavaFX and everything I searched for on here wasn&#39;t what I was looking for. Also I feel like I&#39;ve just said box a lot, so I hope this makes sense!","title":"How to access my HBox inside a tab in JavaFX?","body":"<p>I have a tabPane with many tabs and each of those tabs has a HBox with many VBox in the HBox.</p>\n<p>The tabs and their HBox load at the start by looping through a database and creating them for each row and once done I want to add more VBoxs into the HBox, via a button in the menu at the top of the program. The program prompts the user for a tab and then I set the selectedTab (this.selTab) I'm adding VBox's to via this code, so I can access it as I insert them:</p>\n<pre><code>tabPane.getSelectionModel().select(defaultNum);                         \nselTab = tabPane.getSelectionModel().getSelectedItem();\n</code></pre>\n<p>I also have a HBox I keep in context. When I tell the system I want to add a VBox to a HBox, the in context HBox is still set to the final HBox made for the final line of the database back when the program started. For example, if I try and put a VBox into tab 3 of 5, it will do everything fine, except it puts the VBox into tab 5 of 5 (the final tab/HBox it made on bootup). I want to change the in context HBox to the one found inside the selectedTab, so that I can direct the system to put the VBox in the correct HBox but I don't know how to access it. I thought it might have been</p>\n<pre><code>curHbox = selTab.getContext().getChildren();\n</code></pre>\n<p>or</p>\n<pre><code>curHbox = selTab.getContext().getValue();\n</code></pre>\n<p>But I got this error for either: &quot;The method getChildren() is undefined for the type Node&quot;</p>\n<p>See below screenshot of the in context selectedTab, how do I access the HBox which you can see in value?</p>\n<p><img src=\"https://i.stack.imgur.com/uV82U.png\" alt=\"tab\" /></p>\n<p>I feel it's something obvious I'm missing, but I'm new to JavaFX and everything I searched for on here wasn't what I was looking for. Also I feel like I've just said box a lot, so I hope this makes sense!</p>\n"},{"tags":["javascript","java","jquery","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":22873466,"reputation":5410,"user_id":17016144,"display_name":"ProDec"},"score":0,"creation_date":1637549166,"post_id":70060331,"comment_id":123847791,"body_markdown":"`display: none`  and `visibility: hidden`","body":"<code>display: none</code>  and <code>visibility: hidden</code>"},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1637555127,"post_id":70060331,"comment_id":123848629,"body_markdown":"@ProGu that hid the form. Thanks. Now how do I show it on clicking the link?","body":"@ProGu that hid the form. Thanks. Now how do I show it on clicking the link?"},{"owner":{"account_id":22873466,"reputation":5410,"user_id":17016144,"display_name":"ProDec"},"score":0,"creation_date":1637560218,"post_id":70060331,"comment_id":123849418,"body_markdown":"It&#39;s a pure js/css problem, https://stackoverflow.com/questions/6242976/javascript-hide-show-element","body":"It&#39;s a pure js/css problem, <a href=\"https://stackoverflow.com/questions/6242976/javascript-hide-show-element\" title=\"javascript hide show element\">stackoverflow.com/questions/6242976/&hellip;</a>"},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1637561893,"post_id":70060331,"comment_id":123849771,"body_markdown":"Is it possible to do using thymeleaf? I can use js/jquery but my preference is thymeleaf.","body":"Is it possible to do using thymeleaf? I can use js/jquery but my preference is thymeleaf."},{"owner":{"account_id":22873466,"reputation":5410,"user_id":17016144,"display_name":"ProDec"},"score":0,"creation_date":1637562478,"post_id":70060331,"comment_id":123849880,"body_markdown":"thymeleaf is at server side, I don&#39;t think you want to reload entire page from server to show/hide an element.","body":"thymeleaf is at server side, I don&#39;t think you want to reload entire page from server to show/hide an element."}],"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637548923,"creation_date":1637548731,"question_id":70060331,"body_markdown":"I am struggling with a problem to show a form conditionally using Thymeleaf. I want to show a form as in the image below: Hide form using Thymeleaf\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInitially the pick up id column should show some text like &#39;edit&#39; or &#39;n/a&#39; with a link and when the user clicks on the link(or button) then only the edit box should be visible as in the image. \r\n\r\nAs you can see I have already created the form but I am having trouble with hiding the form and showing it only upon clicking a link or button and when user clicks on save, the id is saved to database(already done) and the entered id should be shown instead of the form.\r\nI searched a lot about it but could not find anything using thymeleaf. I had found some related answers using JavaScript/jQuery but I need Thymeleaf.\r\n\r\nThe relevant part of the code \r\n```xml\r\n    &lt;td&gt;\r\n      &lt;a&gt;&lt;span th:if=&quot;${ticket.pickedUp} ? ${ticket.pickUpId} : &#39;N/A&#39;&quot;&gt;&lt;/span&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t&lt;form th:action=&quot;@{/updatePickupId/{id}(id=${ticket.id})}&quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\tth:method=&quot;post&quot; th:style=&quot;&#39;display: hidden&#39;&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;div class=&quot;checkbox-list w-150px&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; name=&quot;pId&quot; value=&quot;&quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=&quot;Pick Up Id&quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tth:classappend=&quot;${ticket.pickedUp} ? &#39;required&#39; : &#39;&#39;&quot;&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Save&quot;/&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t&lt;/form&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&lt;/a&gt;\r\n    &lt;/td&gt;\r\n\r\n```\r\n    \r\nAs you can see I have used `th:style=&quot;&#39;display: hidden&#39;&quot;` in the form but I don&#39;t know why its not working and the form is visible all the time.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vn8ei.png","title":"How to show a form conditionally using Thymeleaf?","body":"<p>I am struggling with a problem to show a form conditionally using Thymeleaf. I want to show a form as in the image below: Hide form using Thymeleaf</p>\n<p><a href=\"https://i.stack.imgur.com/vn8ei.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vn8ei.png\" alt=\"enter image description here\" /></a></p>\n<p>Initially the pick up id column should show some text like 'edit' or 'n/a' with a link and when the user clicks on the link(or button) then only the edit box should be visible as in the image.</p>\n<p>As you can see I have already created the form but I am having trouble with hiding the form and showing it only upon clicking a link or button and when user clicks on save, the id is saved to database(already done) and the entered id should be shown instead of the form.\nI searched a lot about it but could not find anything using thymeleaf. I had found some related answers using JavaScript/jQuery but I need Thymeleaf.</p>\n<p>The relevant part of the code</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;td&gt;\n      &lt;a&gt;&lt;span th:if=&quot;${ticket.pickedUp} ? ${ticket.pickUpId} : 'N/A'&quot;&gt;&lt;/span&gt;\n                                                        &lt;form th:action=&quot;@{/updatePickupId/{id}(id=${ticket.id})}&quot;\n                                                            th:method=&quot;post&quot; th:style=&quot;'display: hidden'&quot;&gt;\n                                                            &lt;div class=&quot;checkbox-list w-150px&quot;&gt;\n                                                                &lt;input type=&quot;text&quot; name=&quot;pId&quot; value=&quot;&quot;\n                                                                    placeholder=&quot;Pick Up Id&quot;\n                                                                    th:classappend=&quot;${ticket.pickedUp} ? 'required' : ''&quot;&gt;\n                                                                &lt;input type=&quot;submit&quot; value=&quot;Save&quot;/&gt;\n                                                            &lt;/div&gt;\n                                                        &lt;/form&gt;\n                                                    &lt;/a&gt;\n    &lt;/td&gt;\n\n</code></pre>\n<p>As you can see I have used <code>th:style=&quot;'display: hidden'&quot;</code> in the form but I don't know why its not working and the form is visible all the time.</p>\n"},{"tags":["java","gradle","junit","junit5"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1626881441,"post_id":68465659,"comment_id":121011593,"body_markdown":"First guess: lib versions that don’t fit. Can you show your build.gradle file?","body":"First guess: lib versions that don’t fit. Can you show your build.gradle file?"},{"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"score":0,"creation_date":1627308241,"post_id":68465659,"comment_id":121114340,"body_markdown":"have same issue","body":"have same issue"},{"owner":{"account_id":182171,"reputation":370,"user_id":416688,"display_name":"Jordan Gee"},"score":0,"creation_date":1632598541,"post_id":68465659,"comment_id":122538086,"body_markdown":"have the same issue","body":"have the same issue"}],"answers":[{"tags":[],"owner":{"account_id":22645505,"reputation":1,"user_id":16820924,"display_name":"Ania"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1630653671,"creation_date":1630652961,"answer_id":69040823,"question_id":68465659,"body_markdown":"I think the potential solution is adding static import:\r\n\r\n    import static org.mockito.Mockito.when;\r\n\r\nIt resolves the problem in my code.","title":"What causes a junit warning org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7","body":"<p>I think the potential solution is adding static import:</p>\n<pre><code>import static org.mockito.Mockito.when;\n</code></pre>\n<p>It resolves the problem in my code.</p>\n"},{"tags":[],"owner":{"account_id":22923569,"reputation":101,"user_id":17059035,"display_name":"kohei.okamoto"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1634034380,"creation_date":1633187264,"answer_id":69418157,"question_id":68465659,"body_markdown":"If your are using Intellij, this might help you.\r\n\r\nPreferences &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle\r\nSet &quot;Build and run using:&quot; and &quot;Run tests using&quot; to &quot;Intellij IDEA&quot;","title":"What causes a junit warning org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7","body":"<p>If your are using Intellij, this might help you.</p>\n<p>Preferences &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle\nSet &quot;Build and run using:&quot; and &quot;Run tests using&quot; to &quot;Intellij IDEA&quot;</p>\n"},{"tags":[],"owner":{"account_id":15623839,"reputation":816,"user_id":16932810,"display_name":"jeff pentagon"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1637548851,"creation_date":1637548851,"answer_id":70060347,"question_id":68465659,"body_markdown":"When you have multiple test methods in 1 class and execute only one of them, that warning appears. if you run all the test methods in that class, it doesn&#39;t appear. Judging from the warning message, you have made 4 @Test methods in a class and executed only one of it. The warning message is complaining that 3 other test methods were excluded from execution. If you execute all 4 test methods (Done by running the whole class), that message would disappear. In other words, it is a pointless warning and you can just ignore it.","title":"What causes a junit warning org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7","body":"<p>When you have multiple test methods in 1 class and execute only one of them, that warning appears. if you run all the test methods in that class, it doesn't appear. Judging from the warning message, you have made 4 @Test methods in a class and executed only one of it. The warning message is complaining that 3 other test methods were excluded from execution. If you execute all 4 test methods (Done by running the whole class), that message would disappear. In other words, it is a pointless warning and you can just ignore it.</p>\n"}],"owner":{"account_id":16761201,"reputation":425,"user_id":12469177,"display_name":"bohdan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11067,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":3,"score":22,"last_activity_date":1637548851,"creation_date":1626853053,"question_id":68465659,"body_markdown":"I have a gradle-based java testing framework. \r\n\r\nAfter updating junit to 5.7.2 this warning started appearing for every test:\r\n\r\n    Jul 21, 2021 10:23:45 AM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\r\n    INFO: 0 containers and 3 tests were Method or class mismatch\r\n\r\nThe junit dependencies in use are: `junit-jupiter-api`, `junit-jupiter-engine`, `junit-jupiter-params`.\r\n\r\nWhat may be causing it and what are the potential solutions?","title":"What causes a junit warning org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7","body":"<p>I have a gradle-based java testing framework.</p>\n<p>After updating junit to 5.7.2 this warning started appearing for every test:</p>\n<pre><code>Jul 21, 2021 10:23:45 AM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\nINFO: 0 containers and 3 tests were Method or class mismatch\n</code></pre>\n<p>The junit dependencies in use are: <code>junit-jupiter-api</code>, <code>junit-jupiter-engine</code>, <code>junit-jupiter-params</code>.</p>\n<p>What may be causing it and what are the potential solutions?</p>\n"},{"tags":["java","android","pocketsphinx","pocketsphinx-android"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1637561365,"post_id":70060239,"comment_id":123849655,"body_markdown":"Possibly related: [Access microphone in android 9 while the app is in the background](https://stackoverflow.com/q/63130222/295004)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/63130222/295004\">Access microphone in android 9 while the app is in the background</a>"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1637581705,"post_id":70060239,"comment_id":123856201,"body_markdown":"@MorrisonChang thanks for this info, you are right! I have allowed the permission manually but now I get some weird logs (the same as https://stackoverflow.com/questions/47961483/what-is-the-meaning-of-these-logs-which-are-the-results-of-kws-test-py-in-pocket). I am using the virtual device Pixel 2 API 30 with Android 11.0. How can I find out that my microphone is the problem?","body":"@MorrisonChang thanks for this info, you are right! I have allowed the permission manually but now I get some weird logs (the same as <a href=\"https://stackoverflow.com/questions/47961483/what-is-the-meaning-of-these-logs-which-are-the-results-of-kws-test-py-in-pocket\" title=\"what is the meaning of these logs which are the results of kws test py in pocket\">stackoverflow.com/questions/47961483/&hellip;</a>). I am using the virtual device Pixel 2 API 30 with Android 11.0. How can I find out that my microphone is the problem?"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637547593,"creation_date":1637547593,"question_id":70060239,"body_markdown":"I would like to implement the library PocketSphinx in my Android project but I fail with it since nothing happens. It doesn&#39;t work and I don&#39;t get any errors.\r\n\r\nThis is how I tried it:\r\n\r\n 1. Added [pocketsphinx-android-5prealpha-release.aar][1] to `/app/libs`\r\n 2. Added [assets.xml][2] to `/app`\r\n 3. Aded the following to `/app/build.gradle`:\r\n```\r\nant.importBuild &#39;assets.xml&#39;\r\npreBuild.dependsOn(list, checksum)\r\nclean.dependsOn(clean_assets)\r\n```\r\n 4. Added [sync][3] (with all sub-files) into `/app/assets`\r\n 5. Cloned the following repos into my root-directory:\r\n```\r\ngit clone https://github.com/cmusphinx/sphinxbase\r\ngit clone https://github.com/cmusphinx/pocketsphinx\r\ngit clone https://github.com/cmusphinx/pocketsphinx-android\r\n```\r\n 6. Executed `gradle build`\r\n\r\nThis is how my code looks like:\r\n``` java\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.os.AsyncTask;\r\nimport android.os.IBinder;\r\nimport android.util.Log;\r\nimport androidx.annotation.Nullable;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.lang.ref.WeakReference;\r\nimport java.util.HashMap;\r\n\r\nimport ch.yourclick.kitt.R;\r\nimport edu.cmu.pocketsphinx.Assets;\r\nimport edu.cmu.pocketsphinx.Hypothesis;\r\nimport edu.cmu.pocketsphinx.RecognitionListener;\r\nimport edu.cmu.pocketsphinx.SpeechRecognizer;\r\nimport edu.cmu.pocketsphinx.SpeechRecognizerSetup;\r\n\r\npublic class SttService extends Service implements RecognitionListener {\r\n    private static final String TAG = &quot;SstService&quot;;\r\n\r\n    /* Named searches allow to quickly reconfigure the decoder */\r\n    private static final String KWS_SEARCH = &quot;wakeup&quot;;\r\n    private static final String FORECAST_SEARCH = &quot;forecast&quot;;\r\n    private static final String DIGITS_SEARCH = &quot;digits&quot;;\r\n    private static final String PHONE_SEARCH = &quot;phones&quot;;\r\n    private static final String MENU_SEARCH = &quot;menu&quot;;\r\n\r\n    /* Keyword we are looking for to activate menu */\r\n    private static final String KEYPHRASE = &quot;oh mighty computer&quot;;\r\n\r\n    /* Used to handle permission request */\r\n    private static final int PERMISSIONS_REQUEST_RECORD_AUDIO = 1;\r\n\r\n    private SpeechRecognizer recognizer;\r\n    private HashMap&lt;String, Integer&gt; captions;\r\n\r\n    public SttService() {\r\n        // Prepare the data for UI\r\n        captions = new HashMap&lt;&gt;();\r\n        captions.put(KWS_SEARCH, R.string.kws_caption);\r\n        captions.put(MENU_SEARCH, R.string.menu_caption);\r\n        captions.put(DIGITS_SEARCH, R.string.digits_caption);\r\n        captions.put(PHONE_SEARCH, R.string.phone_caption);\r\n        captions.put(FORECAST_SEARCH, R.string.forecast_caption);\r\n        Log.e(TAG, &quot;SttService: Preparing the recognition&quot;);\r\n\r\n        // Recognizer initialization is a time-consuming and it involves IO,\r\n        // so we execute it in async task\r\n        new SetupTask(this).execute();\r\n    }\r\n\r\n    private static class SetupTask extends AsyncTask&lt;Void, Void, Exception&gt; {\r\n        WeakReference&lt;SttService&gt; activityReference;\r\n        SetupTask(SttService activity) {\r\n            this.activityReference = new WeakReference&lt;&gt;(activity);\r\n        }\r\n        @Override\r\n        protected Exception doInBackground(Void... params) {\r\n            try {\r\n                Assets assets = new Assets(activityReference.get());\r\n                File assetDir = assets.syncAssets();\r\n                activityReference.get().setupRecognizer(assetDir);\r\n            } catch (IOException e) {\r\n                return e;\r\n            }\r\n            return null;\r\n        }\r\n        @Override\r\n        protected void onPostExecute(Exception result) {\r\n            if (result != null) {\r\n                Log.e(TAG, &quot;onPostExecute: Failed to init recognizer &quot; + result);\r\n            } else {\r\n                activityReference.get().switchSearch(KWS_SEARCH);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        if (recognizer != null) {\r\n            recognizer.cancel();\r\n            recognizer.shutdown();\r\n        }\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * In partial result we get quick updates about current hypothesis. In\r\n     * keyword spotting mode we can react here, in other modes we need to wait\r\n     * for final result in onResult.\r\n     */\r\n    @Override\r\n    public void onPartialResult(Hypothesis hypothesis) {\r\n        if (hypothesis == null)\r\n            return;\r\n\r\n        String text = hypothesis.getHypstr();\r\n        if (text.equals(KEYPHRASE))\r\n            switchSearch(MENU_SEARCH);\r\n        else if (text.equals(DIGITS_SEARCH))\r\n            switchSearch(DIGITS_SEARCH);\r\n        else if (text.equals(PHONE_SEARCH))\r\n            switchSearch(PHONE_SEARCH);\r\n        else if (text.equals(FORECAST_SEARCH))\r\n            switchSearch(FORECAST_SEARCH);\r\n        else\r\n            Log.e(TAG, &quot;onPartialResult: &quot; + text);\r\n    }\r\n\r\n    /**\r\n     * This callback is called when we stop the recognizer.\r\n     */\r\n    @Override\r\n    public void onResult(Hypothesis hypothesis) {\r\n        if (hypothesis != null) {\r\n            String text = hypothesis.getHypstr();\r\n            Log.e(TAG, &quot;onResult: &quot; + text);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBeginningOfSpeech() {\r\n    }\r\n\r\n    /**\r\n     * We stop recognizer here to get a final result\r\n     */\r\n    @Override\r\n    public void onEndOfSpeech() {\r\n        if (!recognizer.getSearchName().equals(KWS_SEARCH))\r\n            switchSearch(KWS_SEARCH);\r\n    }\r\n\r\n    private void switchSearch(String searchName) {\r\n        recognizer.stop();\r\n\r\n        // If we are not spotting, start listening with timeout (10000 ms or 10 seconds).\r\n        if (searchName.equals(KWS_SEARCH))\r\n            recognizer.startListening(searchName);\r\n        else\r\n            recognizer.startListening(searchName, 10000);\r\n\r\n        String caption = getResources().getString(captions.get(searchName));\r\n        Log.e(TAG, &quot;switchSearch: &quot;+ caption);\r\n    }\r\n\r\n    private void setupRecognizer(File assetsDir) throws IOException {\r\n        // The recognizer can be configured to perform multiple searches\r\n        // of different kind and switch between them\r\n\r\n        recognizer = SpeechRecognizerSetup.defaultSetup()\r\n                .setAcousticModel(new File(assetsDir, &quot;en-us-ptm&quot;))\r\n                .setDictionary(new File(assetsDir, &quot;cmudict-en-us.dict&quot;))\r\n\r\n                .setRawLogDir(assetsDir) // To disable logging of raw audio comment out this call (takes a lot of space on the device)\r\n\r\n                .getRecognizer();\r\n        recognizer.addListener(this);\r\n\r\n        /* In your application you might not need to add all those searches.\r\n          They are added here for demonstration. You can leave just one.\r\n         */\r\n\r\n        // Create keyword-activation search.\r\n        recognizer.addKeyphraseSearch(KWS_SEARCH, KEYPHRASE);\r\n\r\n        // Create grammar-based search for selection between demos\r\n        File menuGrammar = new File(assetsDir, &quot;menu.gram&quot;);\r\n        recognizer.addGrammarSearch(MENU_SEARCH, menuGrammar);\r\n\r\n        // Create grammar-based search for digit recognition\r\n        File digitsGrammar = new File(assetsDir, &quot;digits.gram&quot;);\r\n        recognizer.addGrammarSearch(DIGITS_SEARCH, digitsGrammar);\r\n\r\n        // Create language model search\r\n        File languageModel = new File(assetsDir, &quot;weather.dmp&quot;);\r\n        recognizer.addNgramSearch(FORECAST_SEARCH, languageModel);\r\n\r\n        // Phonetic search\r\n        File phoneticModel = new File(assetsDir, &quot;en-phone.dmp&quot;);\r\n        recognizer.addAllphoneSearch(PHONE_SEARCH, phoneticModel);\r\n    }\r\n\r\n    @Override\r\n    public void onError(Exception error) {\r\n        Log.e(TAG, &quot;onError: &quot; + error.getMessage());\r\n    }\r\n\r\n    @Override\r\n    public void onTimeout() {\r\n        switchSearch(KWS_SEARCH);\r\n    }\r\n}\r\n```\r\nMy code is almost the same as [pocketsphinx-android-demo][4]. The only differences are that I am doing this in a service class, instead of an Activity and I am not asking the user for microphone permission since I do that in the MainActity already. Well, my code has some warnings but no errors.\r\n\r\nWhen I run my app, I get this message (see the full [stack trace][5]):\r\n\r\n&gt; E/SstService: switchSearch: To start demonstration say &quot;oh mighty\r\n&gt; computer&quot;.\r\n\r\nBut when I say &quot;oh mighty computer&quot; (or anything else), nothing happens. I don&#39;t even get an error. So I have no idea where I am stuck and what I am doing wrong.\r\n\r\nIf there is someone familiar with that library, any help will be appreciated!\r\n\r\n\r\n  [1]: https://github.com/cmusphinx/pocketsphinx-android-demo/blob/8f5ccb88eb24eb5155f52a7366911e5c615e254e/aars/pocketsphinx-android-5prealpha-release.aar\r\n  [2]: https://github.com/cmusphinx/pocketsphinx-android-demo/blob/8f5ccb88eb24eb5155f52a7366911e5c615e254e/models/assets.xml\r\n  [3]: https://github.com/cmusphinx/pocketsphinx-android-demo/tree/8f5ccb88eb24eb5155f52a7366911e5c615e254e/models/src/main/assets/sync\r\n  [4]: https://github.com/cmusphinx/pocketsphinx-android-demo/blob/8f5ccb88eb24eb5155f52a7366911e5c615e254e/app/src/main/java/edu/cmu/pocketsphinx/demo/PocketSphinxActivity.java\r\n  [5]: https://gist.github.com/RezaS/e85fcc559ce329cb9b3cd1f629239fc5","title":"PocketSphinx is not listening","body":"<p>I would like to implement the library PocketSphinx in my Android project but I fail with it since nothing happens. It doesn't work and I don't get any errors.</p>\n<p>This is how I tried it:</p>\n<ol>\n<li>Added <a href=\"https://github.com/cmusphinx/pocketsphinx-android-demo/blob/8f5ccb88eb24eb5155f52a7366911e5c615e254e/aars/pocketsphinx-android-5prealpha-release.aar\" rel=\"nofollow noreferrer\">pocketsphinx-android-5prealpha-release.aar</a> to <code>/app/libs</code></li>\n<li>Added <a href=\"https://github.com/cmusphinx/pocketsphinx-android-demo/blob/8f5ccb88eb24eb5155f52a7366911e5c615e254e/models/assets.xml\" rel=\"nofollow noreferrer\">assets.xml</a> to <code>/app</code></li>\n<li>Aded the following to <code>/app/build.gradle</code>:</li>\n</ol>\n<pre><code>ant.importBuild 'assets.xml'\npreBuild.dependsOn(list, checksum)\nclean.dependsOn(clean_assets)\n</code></pre>\n<ol start=\"4\">\n<li>Added <a href=\"https://github.com/cmusphinx/pocketsphinx-android-demo/tree/8f5ccb88eb24eb5155f52a7366911e5c615e254e/models/src/main/assets/sync\" rel=\"nofollow noreferrer\">sync</a> (with all sub-files) into <code>/app/assets</code></li>\n<li>Cloned the following repos into my root-directory:</li>\n</ol>\n<pre><code>git clone https://github.com/cmusphinx/sphinxbase\ngit clone https://github.com/cmusphinx/pocketsphinx\ngit clone https://github.com/cmusphinx/pocketsphinx-android\n</code></pre>\n<ol start=\"6\">\n<li>Executed <code>gradle build</code></li>\n</ol>\n<p>This is how my code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.app.Service;\nimport android.content.Intent;\nimport android.os.AsyncTask;\nimport android.os.IBinder;\nimport android.util.Log;\nimport androidx.annotation.Nullable;\nimport java.io.File;\nimport java.io.IOException;\nimport java.lang.ref.WeakReference;\nimport java.util.HashMap;\n\nimport ch.yourclick.kitt.R;\nimport edu.cmu.pocketsphinx.Assets;\nimport edu.cmu.pocketsphinx.Hypothesis;\nimport edu.cmu.pocketsphinx.RecognitionListener;\nimport edu.cmu.pocketsphinx.SpeechRecognizer;\nimport edu.cmu.pocketsphinx.SpeechRecognizerSetup;\n\npublic class SttService extends Service implements RecognitionListener {\n    private static final String TAG = &quot;SstService&quot;;\n\n    /* Named searches allow to quickly reconfigure the decoder */\n    private static final String KWS_SEARCH = &quot;wakeup&quot;;\n    private static final String FORECAST_SEARCH = &quot;forecast&quot;;\n    private static final String DIGITS_SEARCH = &quot;digits&quot;;\n    private static final String PHONE_SEARCH = &quot;phones&quot;;\n    private static final String MENU_SEARCH = &quot;menu&quot;;\n\n    /* Keyword we are looking for to activate menu */\n    private static final String KEYPHRASE = &quot;oh mighty computer&quot;;\n\n    /* Used to handle permission request */\n    private static final int PERMISSIONS_REQUEST_RECORD_AUDIO = 1;\n\n    private SpeechRecognizer recognizer;\n    private HashMap&lt;String, Integer&gt; captions;\n\n    public SttService() {\n        // Prepare the data for UI\n        captions = new HashMap&lt;&gt;();\n        captions.put(KWS_SEARCH, R.string.kws_caption);\n        captions.put(MENU_SEARCH, R.string.menu_caption);\n        captions.put(DIGITS_SEARCH, R.string.digits_caption);\n        captions.put(PHONE_SEARCH, R.string.phone_caption);\n        captions.put(FORECAST_SEARCH, R.string.forecast_caption);\n        Log.e(TAG, &quot;SttService: Preparing the recognition&quot;);\n\n        // Recognizer initialization is a time-consuming and it involves IO,\n        // so we execute it in async task\n        new SetupTask(this).execute();\n    }\n\n    private static class SetupTask extends AsyncTask&lt;Void, Void, Exception&gt; {\n        WeakReference&lt;SttService&gt; activityReference;\n        SetupTask(SttService activity) {\n            this.activityReference = new WeakReference&lt;&gt;(activity);\n        }\n        @Override\n        protected Exception doInBackground(Void... params) {\n            try {\n                Assets assets = new Assets(activityReference.get());\n                File assetDir = assets.syncAssets();\n                activityReference.get().setupRecognizer(assetDir);\n            } catch (IOException e) {\n                return e;\n            }\n            return null;\n        }\n        @Override\n        protected void onPostExecute(Exception result) {\n            if (result != null) {\n                Log.e(TAG, &quot;onPostExecute: Failed to init recognizer &quot; + result);\n            } else {\n                activityReference.get().switchSearch(KWS_SEARCH);\n            }\n        }\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        if (recognizer != null) {\n            recognizer.cancel();\n            recognizer.shutdown();\n        }\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    /**\n     * In partial result we get quick updates about current hypothesis. In\n     * keyword spotting mode we can react here, in other modes we need to wait\n     * for final result in onResult.\n     */\n    @Override\n    public void onPartialResult(Hypothesis hypothesis) {\n        if (hypothesis == null)\n            return;\n\n        String text = hypothesis.getHypstr();\n        if (text.equals(KEYPHRASE))\n            switchSearch(MENU_SEARCH);\n        else if (text.equals(DIGITS_SEARCH))\n            switchSearch(DIGITS_SEARCH);\n        else if (text.equals(PHONE_SEARCH))\n            switchSearch(PHONE_SEARCH);\n        else if (text.equals(FORECAST_SEARCH))\n            switchSearch(FORECAST_SEARCH);\n        else\n            Log.e(TAG, &quot;onPartialResult: &quot; + text);\n    }\n\n    /**\n     * This callback is called when we stop the recognizer.\n     */\n    @Override\n    public void onResult(Hypothesis hypothesis) {\n        if (hypothesis != null) {\n            String text = hypothesis.getHypstr();\n            Log.e(TAG, &quot;onResult: &quot; + text);\n        }\n    }\n\n    @Override\n    public void onBeginningOfSpeech() {\n    }\n\n    /**\n     * We stop recognizer here to get a final result\n     */\n    @Override\n    public void onEndOfSpeech() {\n        if (!recognizer.getSearchName().equals(KWS_SEARCH))\n            switchSearch(KWS_SEARCH);\n    }\n\n    private void switchSearch(String searchName) {\n        recognizer.stop();\n\n        // If we are not spotting, start listening with timeout (10000 ms or 10 seconds).\n        if (searchName.equals(KWS_SEARCH))\n            recognizer.startListening(searchName);\n        else\n            recognizer.startListening(searchName, 10000);\n\n        String caption = getResources().getString(captions.get(searchName));\n        Log.e(TAG, &quot;switchSearch: &quot;+ caption);\n    }\n\n    private void setupRecognizer(File assetsDir) throws IOException {\n        // The recognizer can be configured to perform multiple searches\n        // of different kind and switch between them\n\n        recognizer = SpeechRecognizerSetup.defaultSetup()\n                .setAcousticModel(new File(assetsDir, &quot;en-us-ptm&quot;))\n                .setDictionary(new File(assetsDir, &quot;cmudict-en-us.dict&quot;))\n\n                .setRawLogDir(assetsDir) // To disable logging of raw audio comment out this call (takes a lot of space on the device)\n\n                .getRecognizer();\n        recognizer.addListener(this);\n\n        /* In your application you might not need to add all those searches.\n          They are added here for demonstration. You can leave just one.\n         */\n\n        // Create keyword-activation search.\n        recognizer.addKeyphraseSearch(KWS_SEARCH, KEYPHRASE);\n\n        // Create grammar-based search for selection between demos\n        File menuGrammar = new File(assetsDir, &quot;menu.gram&quot;);\n        recognizer.addGrammarSearch(MENU_SEARCH, menuGrammar);\n\n        // Create grammar-based search for digit recognition\n        File digitsGrammar = new File(assetsDir, &quot;digits.gram&quot;);\n        recognizer.addGrammarSearch(DIGITS_SEARCH, digitsGrammar);\n\n        // Create language model search\n        File languageModel = new File(assetsDir, &quot;weather.dmp&quot;);\n        recognizer.addNgramSearch(FORECAST_SEARCH, languageModel);\n\n        // Phonetic search\n        File phoneticModel = new File(assetsDir, &quot;en-phone.dmp&quot;);\n        recognizer.addAllphoneSearch(PHONE_SEARCH, phoneticModel);\n    }\n\n    @Override\n    public void onError(Exception error) {\n        Log.e(TAG, &quot;onError: &quot; + error.getMessage());\n    }\n\n    @Override\n    public void onTimeout() {\n        switchSearch(KWS_SEARCH);\n    }\n}\n</code></pre>\n<p>My code is almost the same as <a href=\"https://github.com/cmusphinx/pocketsphinx-android-demo/blob/8f5ccb88eb24eb5155f52a7366911e5c615e254e/app/src/main/java/edu/cmu/pocketsphinx/demo/PocketSphinxActivity.java\" rel=\"nofollow noreferrer\">pocketsphinx-android-demo</a>. The only differences are that I am doing this in a service class, instead of an Activity and I am not asking the user for microphone permission since I do that in the MainActity already. Well, my code has some warnings but no errors.</p>\n<p>When I run my app, I get this message (see the full <a href=\"https://gist.github.com/RezaS/e85fcc559ce329cb9b3cd1f629239fc5\" rel=\"nofollow noreferrer\">stack trace</a>):</p>\n<blockquote>\n<p>E/SstService: switchSearch: To start demonstration say &quot;oh mighty\ncomputer&quot;.</p>\n</blockquote>\n<p>But when I say &quot;oh mighty computer&quot; (or anything else), nothing happens. I don't even get an error. So I have no idea where I am stuck and what I am doing wrong.</p>\n<p>If there is someone familiar with that library, any help will be appreciated!</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1637540805,"post_id":70059720,"comment_id":123846570,"body_markdown":"Apparently you are supposed to do something like `width=ne.x-sw.x;` and `height=ne.y-sw.y;`, and later reconstruct `ne` when needed.","body":"Apparently you are supposed to do something like <code>width=ne.x-sw.x;</code> and <code>height=ne.y-sw.y;</code>, and later reconstruct <code>ne</code> when needed."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637540766,"creation_date":1637540766,"answer_id":70059741,"question_id":70059720,"body_markdown":"One way is to create a new instance variable.  But it seems you don&#39;t want to do that due to the assignment.\r\n\r\nThe other way is to calculate it in the getter.  You have the SW point, the width, and the height.  So you can either add or subtract the width and height to figure out the NE point.  Whether you add or subtract would depend on where the origin is, you didn&#39;t specify.","title":"How can i setup a variable inside a constructor and use a &quot;getter&quot; method later on in the program on it? (Java)","body":"<p>One way is to create a new instance variable.  But it seems you don't want to do that due to the assignment.</p>\n<p>The other way is to calculate it in the getter.  You have the SW point, the width, and the height.  So you can either add or subtract the width and height to figure out the NE point.  Whether you add or subtract would depend on where the origin is, you didn't specify.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637541448,"creation_date":1637540819,"answer_id":70059743,"question_id":70059720,"body_markdown":"So you have N/E (top/right) and S/W (bottom/left), N/W (top/left) is a combination of these two, for example\r\n\r\n    public Point getPointNW() {\r\n        return new Point(_sw.x, _ne.y);\r\n    }","title":"How can i setup a variable inside a constructor and use a &quot;getter&quot; method later on in the program on it? (Java)","body":"<p>So you have N/E (top/right) and S/W (bottom/left), N/W (top/left) is a combination of these two, for example</p>\n<pre><code>public Point getPointNW() {\n    return new Point(_sw.x, _ne.y);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637546403,"creation_date":1637546403,"answer_id":70060158,"question_id":70059720,"body_markdown":"I think the idea of the assignment is to create a getter for the NE point without storing.  That means you will have to store the information you need to calculate that point in the getter.  You can use height and width to do this:\r\n\r\n```\r\nimport java.awt.Point;\r\npublic class RectangleA {\r\n    private int _width;\r\n    private int _height;\r\n    private Point _pointSW;   \r\n\r\n    public RectangleA(Point sw, Point ne) {\r\n        // This assumes (0,0) is in the nw corner\r\n        this._pointSW = new Point(sw); // Save the coordinates of the sw point\r\n        this._width = ne.x - sw.x; // Save the width based on the difference between the two points&#39; x values\r\n        this._height = sw.y - ne.y; // Save the height based on the difference in y values\r\n    }\r\n    public Point getPointNE() {\r\n        // We don&#39;t store the ne point so we calculate it based on the sw point and the height and width\r\n        int neX = this._pointSW.x + this._width; // The sw x + width is the ne X coordinate\r\n        int neY = this._pointSW.y - this._height; // The sw y - height is the ne Y coordinate\r\n        Point result = new Point( neX, neY ); // construct that point and return it\r\n        return result;\r\n    }\r\n}\r\n```","title":"How can i setup a variable inside a constructor and use a &quot;getter&quot; method later on in the program on it? (Java)","body":"<p>I think the idea of the assignment is to create a getter for the NE point without storing.  That means you will have to store the information you need to calculate that point in the getter.  You can use height and width to do this:</p>\n<pre><code>import java.awt.Point;\npublic class RectangleA {\n    private int _width;\n    private int _height;\n    private Point _pointSW;   \n\n    public RectangleA(Point sw, Point ne) {\n        // This assumes (0,0) is in the nw corner\n        this._pointSW = new Point(sw); // Save the coordinates of the sw point\n        this._width = ne.x - sw.x; // Save the width based on the difference between the two points' x values\n        this._height = sw.y - ne.y; // Save the height based on the difference in y values\n    }\n    public Point getPointNE() {\n        // We don't store the ne point so we calculate it based on the sw point and the height and width\n        int neX = this._pointSW.x + this._width; // The sw x + width is the ne X coordinate\n        int neY = this._pointSW.y - this._height; // The sw y - height is the ne Y coordinate\n        Point result = new Point( neX, neY ); // construct that point and return it\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23413265,"reputation":25,"user_id":17474577,"display_name":"Dima Tkachuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70060158,"answer_count":3,"score":0,"last_activity_date":1637546403,"creation_date":1637540521,"question_id":70059720,"body_markdown":"I am stuck on my assignment and could use some help\r\n\r\nIn the instance variables section we are only allowed to use the following:\r\n```java\r\nprivate int _width;\r\nprivate int _height;\r\nprivate Point _pointSW; // point is basically (x,y)\r\n```\r\n\r\nI have created a constructor but I am now confused on how can I create a _pointNW variable inside the constructor that I can later use in a &quot;getter&quot; method, here is my constructor, do note that I am not sure how to create _pointNW properly since its the first time I have no private variable to connect them so I am clueless on how exactly to do this properly and I was also worried about aliasing so I&#39;m not sure if I had to use new here:\r\n\r\n```java\r\npublic RectangleA(Point sw, Point ne) {\r\n    _pointSW = new Point(sw);\r\n    Point _pointNW = new Point(ne);\r\n}\r\n```\r\nI am not allowed to add `_pointNW` to the private section so it also confused me how exactly do I set it up in the constructor so I can in the end use it in a getter?\r\n\r\nin the end I am supposed to retrieve that `_pointNW` to be used in the following &quot;getter&quot; :\r\n```java\r\npublic Point getPointNE(){ }\r\n```\r\n\r\nAnyone can help? been trying stuff out for an hour and can&#39;t figure out how to do this...","title":"How can i setup a variable inside a constructor and use a &quot;getter&quot; method later on in the program on it? (Java)","body":"<p>I am stuck on my assignment and could use some help</p>\n<p>In the instance variables section we are only allowed to use the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int _width;\nprivate int _height;\nprivate Point _pointSW; // point is basically (x,y)\n</code></pre>\n<p>I have created a constructor but I am now confused on how can I create a _pointNW variable inside the constructor that I can later use in a &quot;getter&quot; method, here is my constructor, do note that I am not sure how to create _pointNW properly since its the first time I have no private variable to connect them so I am clueless on how exactly to do this properly and I was also worried about aliasing so I'm not sure if I had to use new here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public RectangleA(Point sw, Point ne) {\n    _pointSW = new Point(sw);\n    Point _pointNW = new Point(ne);\n}\n</code></pre>\n<p>I am not allowed to add <code>_pointNW</code> to the private section so it also confused me how exactly do I set it up in the constructor so I can in the end use it in a getter?</p>\n<p>in the end I am supposed to retrieve that <code>_pointNW</code> to be used in the following &quot;getter&quot; :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Point getPointNE(){ }\n</code></pre>\n<p>Anyone can help? been trying stuff out for an hour and can't figure out how to do this...</p>\n"},{"tags":["java","user-input","bufferedreader","readline"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637545060,"post_id":70060040,"comment_id":123847195,"body_markdown":"`if (readline == 1) { ... } else if (readline == 2) {...}`, the problem is, your first `if` statement is stopping to read the input from the buffer and `2` does not match `1` so it drops to the `else if` which waits for input from both again.  Do single readline and then check the results.  I&#39;d also consider using `Scanner` for simplicity","body":"<code>if (readline == 1) { ... } else if (readline == 2) {...}</code>, the problem is, your first <code>if</code> statement is stopping to read the input from the buffer and <code>2</code> does not match <code>1</code> so it drops to the <code>else if</code> which waits for input from both again.  Do single readline and then check the results.  I&#39;d also consider using <code>Scanner</code> for simplicity"},{"owner":{"account_id":17952716,"reputation":51,"user_id":13045500,"display_name":"Albert Yang"},"score":0,"creation_date":1637545383,"post_id":70060040,"comment_id":123847251,"body_markdown":"Yes, I&#39;ve found the problem. Was using ```Scanner``` before but messed up a little, so tried some ```BufferedReader``` instead.","body":"Yes, I&#39;ve found the problem. Was using <code>Scanner</code> before but messed up a little, so tried some <code>BufferedReader</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":22383200,"reputation":525,"user_id":16596445,"display_name":"Ryan Millares"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637545222,"creation_date":1637545066,"answer_id":70060064,"question_id":70060040,"body_markdown":"Because you are calling &quot;readline()&quot; in both your &quot;if&quot; and &quot;else-if&quot;, it will call readline() twice each time it tries to check for the condition: once when it runs the &quot;if&quot; condition, then a second time when running the else-if. When you place a function in the conditional statement like:\r\n\r\n    if(myFunction() == true){}\r\nit will ALWAYS run that function before comparing its return value to the condition. So when you have:\r\n\r\n    if (Integer.parseInt(lineOfText.readLine()) == 1) {\r\n            System.out.println(&quot;1 recieved&quot;);\r\n        } else if (Integer.parseInt(lineOfText.readLine()) == 2) {\r\n            System.out.println(&quot;2 recieved&quot;);\r\n        } else {\r\n            return;\r\n        }\r\nIt will call readLine() both when it checks the &quot;if&quot;, and again at the &quot;else-if&quot;.\r\n\r\nYou should call readline BEFORE you begin checking it against conditions to ensure it is only ran once:\r\n\r\n    import java.io.*;\r\n    public class test {\r\n\r\n    private static BufferedReader lineOfText = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n    public test() throws NumberFormatException, IOException {\r\n        \r\n        System.out.println(&quot;1 to create an auction, 2 to close an auction&quot;);\r\n        String myLine = lineOfText.readLine(); //call readLine() before checking conditions so it only runs once\r\n        if (Integer.parseInt(myLine) == 1) {\r\n            System.out.println(&quot;1 recieved&quot;);\r\n        } else if (Integer.parseInt(myLine) == 2) {\r\n            System.out.println(&quot;2 recieved&quot;);\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n    public static void main(String[] args) throws NumberFormatException, IOException {\r\n        test t = new test();\r\n    }\r\n}","title":"Java BufferedReader.readLine() Skipped One Line","body":"<p>Because you are calling &quot;readline()&quot; in both your &quot;if&quot; and &quot;else-if&quot;, it will call readline() twice each time it tries to check for the condition: once when it runs the &quot;if&quot; condition, then a second time when running the else-if. When you place a function in the conditional statement like:</p>\n<pre><code>if(myFunction() == true){}\n</code></pre>\n<p>it will ALWAYS run that function before comparing its return value to the condition. So when you have:</p>\n<pre><code>if (Integer.parseInt(lineOfText.readLine()) == 1) {\n        System.out.println(&quot;1 recieved&quot;);\n    } else if (Integer.parseInt(lineOfText.readLine()) == 2) {\n        System.out.println(&quot;2 recieved&quot;);\n    } else {\n        return;\n    }\n</code></pre>\n<p>It will call readLine() both when it checks the &quot;if&quot;, and again at the &quot;else-if&quot;.</p>\n<p>You should call readline BEFORE you begin checking it against conditions to ensure it is only ran once:</p>\n<pre><code>import java.io.*;\npublic class test {\n\nprivate static BufferedReader lineOfText = new BufferedReader(new InputStreamReader(System.in));\n\npublic test() throws NumberFormatException, IOException {\n    \n    System.out.println(&quot;1 to create an auction, 2 to close an auction&quot;);\n    String myLine = lineOfText.readLine(); //call readLine() before checking conditions so it only runs once\n    if (Integer.parseInt(myLine) == 1) {\n        System.out.println(&quot;1 recieved&quot;);\n    } else if (Integer.parseInt(myLine) == 2) {\n        System.out.println(&quot;2 recieved&quot;);\n    } else {\n        return;\n    }\n}\npublic static void main(String[] args) throws NumberFormatException, IOException {\n    test t = new test();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":18335265,"reputation":219,"user_id":13352796,"display_name":"vhthanh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637545329,"creation_date":1637545180,"answer_id":70060070,"question_id":70060040,"body_markdown":"When you input &lt;code&gt;2&lt;/code&gt;, the first if statement read the number and it doesn&#39;t equal to &lt;code&gt;1&lt;/code&gt; of course, then the next if statement won&#39;t provide you the last input &lt;code&gt;2&lt;/code&gt;\r\n\r\nYou need to put the&lt;code&gt;readLine()&lt;/code&gt; outside the if to make it only read once.\r\n\r\n    public class test {\r\n    \r\n        private static BufferedReader lineOfText = new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n        public test() throws NumberFormatException, IOException {\r\n            System.out.println(&quot;1 to create an auction, 2 to close an auction&quot;);\r\n            \r\n            int choice = Integer.parseInt(lineOfText.readLine());\r\n            \r\n            if (choice == 1) {\r\n                System.out.println(&quot;1 recieved&quot;);\r\n            } else if (choice == 2) {\r\n                System.out.println(&quot;2 recieved&quot;);\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n        public static void main(String[] args) throws NumberFormatException, IOException {\r\n            test t = new test();\r\n        }\r\n    }","title":"Java BufferedReader.readLine() Skipped One Line","body":"<p>When you input <code>2</code>, the first if statement read the number and it doesn't equal to <code>1</code> of course, then the next if statement won't provide you the last input <code>2</code></p>\n<p>You need to put the<code>readLine()</code> outside the if to make it only read once.</p>\n<pre><code>public class test {\n\n    private static BufferedReader lineOfText = new BufferedReader(new InputStreamReader(System.in));\n\n    public test() throws NumberFormatException, IOException {\n        System.out.println(&quot;1 to create an auction, 2 to close an auction&quot;);\n        \n        int choice = Integer.parseInt(lineOfText.readLine());\n        \n        if (choice == 1) {\n            System.out.println(&quot;1 recieved&quot;);\n        } else if (choice == 2) {\n            System.out.println(&quot;2 recieved&quot;);\n        } else {\n            return;\n        }\n    }\n    public static void main(String[] args) throws NumberFormatException, IOException {\n        test t = new test();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17952716,"reputation":51,"user_id":13045500,"display_name":"Albert Yang"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1637545750,"accepted_answer_id":70060064,"answer_count":2,"score":-1,"last_activity_date":1637545453,"creation_date":1637544809,"question_id":70060040,"body_markdown":"I&#39;m trying to make some distributed java RMI program, where I encountered a problem when I need to take input from the user. In the following code snippet, entering ```1``` seems to be good, but entering ```2``` first time cause nothing to print, when I entered ```2``` again, then it worked.\r\n\r\nHow did that happened? Checked the ```BufferedReader.readLine()``` function documentation but didn&#39;t find anything relate to this. Does this have anything to do with ```else if```?\r\n\r\n```\r\nimport java.io.*;\r\npublic class test {\r\n\r\n    private static BufferedReader lineOfText = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n    public test() throws NumberFormatException, IOException {\r\n        System.out.println(&quot;1 to create an auction, 2 to close an auction&quot;);\r\n        if (Integer.parseInt(lineOfText.readLine()) == 1) {\r\n            System.out.println(&quot;1 recieved&quot;);\r\n        } else if (Integer.parseInt(lineOfText.readLine()) == 2) {\r\n            System.out.println(&quot;2 recieved&quot;);\r\n        } else {\r\n            return;\r\n        }\r\n    }\r\n    public static void main(String[] args) throws NumberFormatException, IOException {\r\n        test t = new test();\r\n    }\r\n}\r\n```\r\ninput ```1```:\r\n```\r\n1 to create an auction, 2 to close an auction\r\n1 //&lt;- that&#39;s the input\r\n1 recieved\r\n```\r\ninput ```2```:\r\n```\r\n1 to create an auction, 2 to close an auction\r\n2 //&lt;- that&#39;s the input yet nothing happened\r\n2 //&lt;- input again\r\n2 recieved\r\n```\r\n\r\n\r\nAlso tried the code snippet on some online compiler and the result is the same as my VSCode. This might be a simply problem but I don&#39;t know what happened ;\\","title":"Java BufferedReader.readLine() Skipped One Line","body":"<p>I'm trying to make some distributed java RMI program, where I encountered a problem when I need to take input from the user. In the following code snippet, entering <code>1</code> seems to be good, but entering <code>2</code> first time cause nothing to print, when I entered <code>2</code> again, then it worked.</p>\n<p>How did that happened? Checked the <code>BufferedReader.readLine()</code> function documentation but didn't find anything relate to this. Does this have anything to do with <code>else if</code>?</p>\n<pre><code>import java.io.*;\npublic class test {\n\n    private static BufferedReader lineOfText = new BufferedReader(new InputStreamReader(System.in));\n\n    public test() throws NumberFormatException, IOException {\n        System.out.println(&quot;1 to create an auction, 2 to close an auction&quot;);\n        if (Integer.parseInt(lineOfText.readLine()) == 1) {\n            System.out.println(&quot;1 recieved&quot;);\n        } else if (Integer.parseInt(lineOfText.readLine()) == 2) {\n            System.out.println(&quot;2 recieved&quot;);\n        } else {\n            return;\n        }\n    }\n    public static void main(String[] args) throws NumberFormatException, IOException {\n        test t = new test();\n    }\n}\n</code></pre>\n<p>input <code>1</code>:</p>\n<pre><code>1 to create an auction, 2 to close an auction\n1 //&lt;- that's the input\n1 recieved\n</code></pre>\n<p>input <code>2</code>:</p>\n<pre><code>1 to create an auction, 2 to close an auction\n2 //&lt;- that's the input yet nothing happened\n2 //&lt;- input again\n2 recieved\n</code></pre>\n<p>Also tried the code snippet on some online compiler and the result is the same as my VSCode. This might be a simply problem but I don't know what happened ;\\</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1637542819,"post_id":70059844,"comment_id":123846872,"body_markdown":"Look at the contents of the first line that your program prints. If that doesn&#39;t answer your question, step through your program with the debugger. (you can pass 1 for `lines` to make it easier to see what&#39;s happening)","body":"Look at the contents of the first line that your program prints. If that doesn&#39;t answer your question, step through your program with the debugger. (you can pass 1 for <code>lines</code> to make it easier to see what&#39;s happening)"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1637544895,"post_id":70059844,"comment_id":123847176,"body_markdown":"If the last line ends with `\\n` then you get 9. You should handle both: last byte LF or not.","body":"If the last line ends with <code>\\n</code> then you get 9. You should handle both: last byte LF or not."},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1637545447,"post_id":70059844,"comment_id":123847266,"body_markdown":"Anything known about the character encoding?","body":"Anything known about the character encoding?"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1637553075,"post_id":70059844,"comment_id":123848365,"body_markdown":"See [How to read file from end to start (in reverse order) in Java? - Stack Overflow](https://stackoverflow.com/questions/8664705/how-to-read-file-from-end-to-start-in-reverse-order-in-java).","body":"See <a href=\"https://stackoverflow.com/questions/8664705/how-to-read-file-from-end-to-start-in-reverse-order-in-java\">How to read file from end to start (in reverse order) in Java? - Stack Overflow</a>."}],"answers":[{"tags":[],"owner":{"account_id":16632079,"reputation":2166,"user_id":16547945,"display_name":"Vojin Purić"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637544651,"creation_date":1637544651,"answer_id":70060030,"question_id":70059844,"body_markdown":"Your code is fine. I am pretty sure it is reading 1 more line than it should, not 1 less. You are probably reading file that does not have enough lines?\r\n\r\nIf you want to correct it remove +1 from `if (readLines == lines + 1){` and it will be fine. \r\n\r\n\r\nAlso a tip instead of setting StringBuilder to null and creating it again you can use\r\n\r\n    bulder.setLength(0);\r\n\r\nit is a bit cleaner","title":"Read last n lines in reverse order","body":"<p>Your code is fine. I am pretty sure it is reading 1 more line than it should, not 1 less. You are probably reading file that does not have enough lines?</p>\n<p>If you want to correct it remove +1 from <code>if (readLines == lines + 1){</code> and it will be fine.</p>\n<p>Also a tip instead of setting StringBuilder to null and creating it again you can use</p>\n<pre><code>bulder.setLength(0);\n</code></pre>\n<p>it is a bit cleaner</p>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637544651,"creation_date":1637542180,"question_id":70059844,"body_markdown":"I am trying to read last n lines of a file in reverse order. Is this the most efficient way to do it? My file is not big but it could eventually grow to several GB. Also, I am trying to read last 10 lines but this one only returns last 9. Anything I am missing?\r\n\r\n    // Read n lines from the end of the file\r\n\tpublic void readFromLast(File file, int lines) {\r\n\t\tint readLines = 0;\r\n\t\tStringBuilder builder = new StringBuilder();\r\n\t\tRandomAccessFile randomAccessFile = null;\r\n\t\ttry {\r\n\t\t\trandomAccessFile = new RandomAccessFile(file, &quot;r&quot;);\r\n\t\t\tlong fileLength = file.length() - 1;\r\n\t\t\t// Set the pointer at the last of the file\r\n\t\t\trandomAccessFile.seek(fileLength);\r\n\t\t\tfor (long pointer = fileLength; pointer &gt;= 0; pointer--) {\r\n\t\t\t\trandomAccessFile.seek(pointer);\r\n\t\t\t\tchar c = (char) randomAccessFile.read();\r\n\t\t\t\tbuilder.append(c);\r\n\t\t\t\tif(c == &#39;\\n&#39;){\r\n\t                builder = builder.reverse();\r\n\t                System.out.print(builder.toString());\r\n\t                readLines++;\r\n\t                builder = null;\r\n\t                builder = new StringBuilder();\r\n\t                if (readLines == lines + 1){\r\n\t                    break;\r\n\t                }\r\n\t            }\r\n\t\t\t}\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tlog.info(&quot;FileNotFound &quot; +e.getMessage()+ &quot;occured while reading last n lines&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.info(&quot;IOException&quot; + e.getMessage() +&quot; occured while reading last n lines&quot;);\r\n\t\t} finally {\r\n\t\t\tif (randomAccessFile != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\trandomAccessFile.close();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tlog.info(&quot;IOException&quot; + e.getMessage() +&quot; occured while closing the file reading last n lines&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Read last n lines in reverse order","body":"<p>I am trying to read last n lines of a file in reverse order. Is this the most efficient way to do it? My file is not big but it could eventually grow to several GB. Also, I am trying to read last 10 lines but this one only returns last 9. Anything I am missing?</p>\n<pre><code>// Read n lines from the end of the file\npublic void readFromLast(File file, int lines) {\n    int readLines = 0;\n    StringBuilder builder = new StringBuilder();\n    RandomAccessFile randomAccessFile = null;\n    try {\n        randomAccessFile = new RandomAccessFile(file, &quot;r&quot;);\n        long fileLength = file.length() - 1;\n        // Set the pointer at the last of the file\n        randomAccessFile.seek(fileLength);\n        for (long pointer = fileLength; pointer &gt;= 0; pointer--) {\n            randomAccessFile.seek(pointer);\n            char c = (char) randomAccessFile.read();\n            builder.append(c);\n            if(c == '\\n'){\n                builder = builder.reverse();\n                System.out.print(builder.toString());\n                readLines++;\n                builder = null;\n                builder = new StringBuilder();\n                if (readLines == lines + 1){\n                    break;\n                }\n            }\n        }\n    } catch (FileNotFoundException e) {\n        log.info(&quot;FileNotFound &quot; +e.getMessage()+ &quot;occured while reading last n lines&quot;);\n        e.printStackTrace();\n    } catch (IOException e) {\n        log.info(&quot;IOException&quot; + e.getMessage() +&quot; occured while reading last n lines&quot;);\n    } finally {\n        if (randomAccessFile != null) {\n            try {\n                randomAccessFile.close();\n            } catch (IOException e) {\n                log.info(&quot;IOException&quot; + e.getMessage() +&quot; occured while closing the file reading last n lines&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","netbeans"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1637538709,"post_id":70058614,"comment_id":123846247,"body_markdown":"You need to select the individual buttons rather than the custom jPanel. Then you will be able to create an event for each one. When working with custom components, or extending/overriding classes/methods you really can&#39;t rely on the GUI designer, I suggest adding the button events manually to the `CustomComponent` class.","body":"You need to select the individual buttons rather than the custom jPanel. Then you will be able to create an event for each one. When working with custom components, or extending/overriding classes/methods you really can&#39;t rely on the GUI designer, I suggest adding the button events manually to the <code>CustomComponent</code> class."},{"owner":{"account_id":19264602,"reputation":165,"user_id":14079792,"display_name":"dins88"},"score":0,"creation_date":1637542069,"post_id":70058614,"comment_id":123846746,"body_markdown":"there is no way to select an individual button on the designer for the custom component. No matter where we click it only selects the whole panel. if you can show me how to add events manually it will be helpful to me.","body":"there is no way to select an individual button on the designer for the custom component. No matter where we click it only selects the whole panel. if you can show me how to add events manually it will be helpful to me."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1637543851,"post_id":70058614,"comment_id":123847043,"body_markdown":"You can add events to your buttons manually as shown here: https://stackoverflow.com/questions/284899/how-do-you-add-an-actionlistener-onto-a-jbutton-in-java and also see the tutorial here on creating an action listener/event: https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html","body":"You can add events to your buttons manually as shown here: <a href=\"https://stackoverflow.com/questions/284899/how-do-you-add-an-actionlistener-onto-a-jbutton-in-java\" title=\"how do you add an actionlistener onto a jbutton in java\">stackoverflow.com/questions/284899/&hellip;</a> and also see the tutorial here on creating an action listener/event: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/events/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637544416,"creation_date":1637544416,"answer_id":70060017,"question_id":70058614,"body_markdown":"As per the links above, you can add an action listener like below. This example is for a generic `ActionEvent`, but you can modify the code to other types of events as well:\r\n\r\n    //The button to add an event to\r\n\tJButton test = new JButton();\r\n\r\n    //The first option\r\n\ttest.addActionListener(new ActionListener(){\r\n\t    public void actionPerformed(ActionEvent e){\r\n\t\t    System.out.println(&quot;Action performed&quot;);\r\n\t    }\r\n\t});\r\n\r\n\t//The second option. This only works on Java 8 and newer\r\n    test.addActionListener((ActionEvent e) -&gt;\r\n\t{\r\n\t    System.out.println(&quot;Action performed&quot;);\r\n\t});\r\n\r\n    //Or a simplified form for a single call\r\n\ttest.addActionListener(e -&gt; System.out.println(&quot;Action performed&quot;));\r\n\r\nAnd a working example in your case:\r\n\r\n    public CustomComponent() {\r\n        \r\n        setLayout(new FlowLayout());\r\n        add(button1);\r\n        add(button2);\r\n\r\n        button1.setSize(100, 30);\r\n        button2.setSize(100, 30);\r\n        \r\n        //Add events\r\n        button1.addActionListener(e -&gt; System.out.println(&quot;Button 1 action performed&quot;));\r\n        button2.addActionListener(e -&gt; System.out.println(&quot;Button 2 action performed&quot;));\r\n    }","title":"Show custom component action event in NetBeans event list","body":"<p>As per the links above, you can add an action listener like below. This example is for a generic <code>ActionEvent</code>, but you can modify the code to other types of events as well:</p>\n<pre><code>//The button to add an event to\nJButton test = new JButton();\n\n//The first option\ntest.addActionListener(new ActionListener(){\n    public void actionPerformed(ActionEvent e){\n        System.out.println(&quot;Action performed&quot;);\n    }\n});\n\n//The second option. This only works on Java 8 and newer\ntest.addActionListener((ActionEvent e) -&gt;\n{\n    System.out.println(&quot;Action performed&quot;);\n});\n\n//Or a simplified form for a single call\ntest.addActionListener(e -&gt; System.out.println(&quot;Action performed&quot;));\n</code></pre>\n<p>And a working example in your case:</p>\n<pre><code>public CustomComponent() {\n    \n    setLayout(new FlowLayout());\n    add(button1);\n    add(button2);\n\n    button1.setSize(100, 30);\n    button2.setSize(100, 30);\n    \n    //Add events\n    button1.addActionListener(e -&gt; System.out.println(&quot;Button 1 action performed&quot;));\n    button2.addActionListener(e -&gt; System.out.println(&quot;Button 2 action performed&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19264602,"reputation":165,"user_id":14079792,"display_name":"dins88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637544492,"creation_date":1637544492,"answer_id":70060022,"question_id":70058614,"body_markdown":"instead of passing listeners through the constructor, I have created another setter, because the GUI does not support that.\r\n\r\n    public void setListners(ActionListener btn1ActionListner, ActionListener btn2ActionListner){\r\n            button1.addActionListener(btn1ActionListner);\r\n            button2.addActionListener(btn2ActionListner);\r\n        }\r\n\r\n\r\n\r\non the other project\r\n\r\n      public NewJFrame() {\r\n            initComponents();\r\n    \r\n            ActionListener al1 = new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Button 1&quot;);\r\n                }\r\n            };\r\n    \r\n            ActionListener al2 = new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Button 2&quot;);\r\n                }\r\n            };\r\n    \r\n            customComponent1.setListners(al1, al2);\r\n        }","title":"Show custom component action event in NetBeans event list","body":"<p>instead of passing listeners through the constructor, I have created another setter, because the GUI does not support that.</p>\n<pre><code>public void setListners(ActionListener btn1ActionListner, ActionListener btn2ActionListner){\n        button1.addActionListener(btn1ActionListner);\n        button2.addActionListener(btn2ActionListner);\n    }\n</code></pre>\n<p>on the other project</p>\n<pre><code>  public NewJFrame() {\n        initComponents();\n\n        ActionListener al1 = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(null, &quot;Button 1&quot;);\n            }\n        };\n\n        ActionListener al2 = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(null, &quot;Button 2&quot;);\n            }\n        };\n\n        customComponent1.setListners(al1, al2);\n    }\n</code></pre>\n"}],"owner":{"account_id":19264602,"reputation":165,"user_id":14079792,"display_name":"dins88"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637544492,"creation_date":1637528871,"question_id":70058614,"body_markdown":"I&#39;m trying to create a custom component in NetBeans which contains 2 buttons on a panel.\r\n\r\n    import java.awt.FlowLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class CustomComponent extends JPanel {\r\n    \r\n        JButton button1 = new JButton(&quot;Button 1&quot;);\r\n        JButton button2 = new JButton(&quot;Button 2&quot;);\r\n    \r\n        public CustomComponent() {\r\n            \r\n            setLayout(new FlowLayout());\r\n            add(button1);\r\n            add(button2);\r\n    \r\n            button1.setSize(100, 30);\r\n            button2.setSize(100, 30);\r\n        }\r\n    \r\n    }\r\n\r\nWhen I use this custom component on another project&#39;s JFrame (using GUI designer), those two buttons need to have two different `ActionPerformed` events and those events must be shown in the Netbean&#39;s event list. is that possible to do?\r\n\r\n(Currently, I only see the events owned by the JPanel.)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FPhuO.png","title":"Show custom component action event in NetBeans event list","body":"<p>I'm trying to create a custom component in NetBeans which contains 2 buttons on a panel.</p>\n<pre><code>import java.awt.FlowLayout;\nimport javax.swing.JButton;\nimport javax.swing.JPanel;\n\npublic class CustomComponent extends JPanel {\n\n    JButton button1 = new JButton(&quot;Button 1&quot;);\n    JButton button2 = new JButton(&quot;Button 2&quot;);\n\n    public CustomComponent() {\n        \n        setLayout(new FlowLayout());\n        add(button1);\n        add(button2);\n\n        button1.setSize(100, 30);\n        button2.setSize(100, 30);\n    }\n\n}\n</code></pre>\n<p>When I use this custom component on another project's JFrame (using GUI designer), those two buttons need to have two different <code>ActionPerformed</code> events and those events must be shown in the Netbean's event list. is that possible to do?</p>\n<p>(Currently, I only see the events owned by the JPanel.)</p>\n<p><a href=\"https://i.stack.imgur.com/FPhuO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FPhuO.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","html","mysql","tomcat9"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637543807,"post_id":70059946,"comment_id":123847034,"body_markdown":"Find out which day of the week 11/23/2021 is.","body":"Find out which day of the week 11/23/2021 is."},{"owner":{"account_id":23349356,"reputation":3,"user_id":17423128,"display_name":"DEBAMITA SAHA"},"score":0,"creation_date":1637547674,"post_id":70059946,"comment_id":123847561,"body_markdown":"Yes, I can’t figure out a way to program that in sql given the user’s input.","body":"Yes, I can’t figure out a way to program that in sql given the user’s input."}],"owner":{"account_id":23349356,"reputation":3,"user_id":17423128,"display_name":"DEBAMITA SAHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637543496,"creation_date":1637543496,"question_id":70059946,"body_markdown":"```\r\nCREATE TABLE `FlightOperatedby` (\r\n  `2-let ID` char(2) NOT NULL DEFAULT &#39;&#39;,\r\n  `flight #` int DEFAULT 0,\r\n  `departing airport` char(3),\r\n  `arriving airport` char(3),\r\n  `a. time` time,\r\n  `d. time` time,\r\n`duration` varchar(100),\r\n  `number of stops` int,\r\n    `isinternational` boolean,\r\n  `isdomestic` boolean,\r\n  `fare_first` double,\r\n`fare_business` double,\r\n`fare_economy` double,\r\n  PRIMARY KEY (`2-let ID`,`flight #`),\r\n   FOREIGN KEY (`departing airport`) REFERENCES Airport(`3-let ID`) ON UPDATE CASCADE,\r\n   FOREIGN KEY (`arriving airport`) REFERENCES Airport(`3-let ID`) ON UPDATE CASCADE\r\n) \r\nCREATE TABLE `AircraftFlightDates` (\r\n\t`2-let ID` char(2),\r\n    `aircraft #` int,\r\n    `operating day` varchar(100),\r\n    PRIMARY KEY (`2-let ID`, `aircraft #`, `operating day`),\r\n    FOREIGN KEY (`2-let ID`, `aircraft #`) REFERENCES Aircraft(`2-let ID`, `aircraft #`) ON UPDATE CASCADE\r\n```\r\n\r\nI am creating a flight reservation system where a customer logs in and searches for a one-way flight on a specific date. Right now, for the sql command, I have \r\n ```\r\nString searchOneWay = \r\n&quot;SELECT flight #, a. time, d. time, departing airport, arriving airport, 2-let id&quot; \r\n+ &quot;FROM FlightOperatedby join AircraftFlightDates using(flight #, 2-let id)&quot; \r\n+ &quot;WHERE &quot;;\r\n```\r\nIf the customer searches for a flight on 11/23/2021, I have to match the flights that operate on that day (Tuesday) to the flights that the customer wants, but I can&#39;t figure out a way to connect the operating days of the aircrafts to actual real life dates so that the customer can actually select a date.","title":"Mysql search for one way flight on specific date","body":"<pre><code>CREATE TABLE `FlightOperatedby` (\n  `2-let ID` char(2) NOT NULL DEFAULT '',\n  `flight #` int DEFAULT 0,\n  `departing airport` char(3),\n  `arriving airport` char(3),\n  `a. time` time,\n  `d. time` time,\n`duration` varchar(100),\n  `number of stops` int,\n    `isinternational` boolean,\n  `isdomestic` boolean,\n  `fare_first` double,\n`fare_business` double,\n`fare_economy` double,\n  PRIMARY KEY (`2-let ID`,`flight #`),\n   FOREIGN KEY (`departing airport`) REFERENCES Airport(`3-let ID`) ON UPDATE CASCADE,\n   FOREIGN KEY (`arriving airport`) REFERENCES Airport(`3-let ID`) ON UPDATE CASCADE\n) \nCREATE TABLE `AircraftFlightDates` (\n    `2-let ID` char(2),\n    `aircraft #` int,\n    `operating day` varchar(100),\n    PRIMARY KEY (`2-let ID`, `aircraft #`, `operating day`),\n    FOREIGN KEY (`2-let ID`, `aircraft #`) REFERENCES Aircraft(`2-let ID`, `aircraft #`) ON UPDATE CASCADE\n</code></pre>\n<p>I am creating a flight reservation system where a customer logs in and searches for a one-way flight on a specific date. Right now, for the sql command, I have</p>\n<pre><code>String searchOneWay = \n&quot;SELECT flight #, a. time, d. time, departing airport, arriving airport, 2-let id&quot; \n+ &quot;FROM FlightOperatedby join AircraftFlightDates using(flight #, 2-let id)&quot; \n+ &quot;WHERE &quot;;\n</code></pre>\n<p>If the customer searches for a flight on 11/23/2021, I have to match the flights that operate on that day (Tuesday) to the flights that the customer wants, but I can't figure out a way to connect the operating days of the aircrafts to actual real life dates so that the customer can actually select a date.</p>\n"},{"tags":["java","intellij-idea","javafx","java-11","javafx-11"],"answers":[{"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1620010297,"creation_date":1569589543,"answer_id":58135195,"question_id":58133725,"body_markdown":"If you are running a non modular project (you don&#39;t have `module-info.java`), to include the VM arguments in your run task, all you need to add to your `build.gradle` file is:\r\n\r\n``` groovy\r\nrun {\r\n  jvmArgs = [\r\n    &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=ALL-UNNAMED&quot;,\r\n    &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=ALL-UNNAMED&quot;,\r\n    &quot;--add-exports=javafx.base/com.sun.javafx.binding=ALL-UNNAMED&quot;,\r\n    &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=ALL-UNNAMED&quot;,\r\n    &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=ALL-UNNAMED&quot;\r\n  ]\r\n}\r\n```\r\n\r\nNote that in this case, you can&#39;t use `--add-exports=...=com.jfoenix`.\r\n\r\nIf you run a modular project, with a module descriptor like:\r\n\r\n```\r\nmodule hellofx {     \r\n    requires javafx.controls;     \r\n    requires javafx.fxml;     \r\n    requires com.jfoenix;      \r\n    opens org.openjfx to javafx.fxml;     \r\n    exports org.openjfx; \r\n}\r\n```\r\n\r\nnow these are the VM arguments that you will have to include in your build file:\r\n\r\n```\r\nrun {\r\n     jvmArgs = [ \r\n        &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;, \r\n        &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix&quot;, \r\n        &quot;--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\r\n        &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\r\n        &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;\r\n    ]\r\n }\r\n```\r\n","title":"How to fix jvm options exports javafx 11 to com.jfoenix on gradle idea?","body":"<p>If you are running a non modular project (you don't have <code>module-info.java</code>), to include the VM arguments in your run task, all you need to add to your <code>build.gradle</code> file is:</p>\n<pre><code>run {\n  jvmArgs = [\n    &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=ALL-UNNAMED&quot;,\n    &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=ALL-UNNAMED&quot;,\n    &quot;--add-exports=javafx.base/com.sun.javafx.binding=ALL-UNNAMED&quot;,\n    &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=ALL-UNNAMED&quot;,\n    &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=ALL-UNNAMED&quot;\n  ]\n}\n</code></pre>\n<p>Note that in this case, you can't use <code>--add-exports=...=com.jfoenix</code>.</p>\n<p>If you run a modular project, with a module descriptor like:</p>\n<pre><code>module hellofx {     \n    requires javafx.controls;     \n    requires javafx.fxml;     \n    requires com.jfoenix;      \n    opens org.openjfx to javafx.fxml;     \n    exports org.openjfx; \n}\n</code></pre>\n<p>now these are the VM arguments that you will have to include in your build file:</p>\n<pre><code>run {\n     jvmArgs = [ \n        &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;, \n        &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix&quot;, \n        &quot;--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\n        &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\n        &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;\n    ]\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39203,"reputation":63039,"user_id":112955,"accept_rate":67,"display_name":"sakra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616007568,"creation_date":1616007568,"answer_id":66679551,"question_id":58133725,"body_markdown":"For newer versions of Gradle (6.x) the following worked for me:\r\n\r\n    compileJava {\r\n        options.compilerArgs.add(&#39;--add-exports=java.base/jdk.internal.vm.annotation=ALL-UNNAMED&#39;)\r\n    }\r\n\r\nFor Java test code:\r\n\r\n    compileTestJava {\r\n        options.compilerArgs.add(&#39;--add-exports=java.base/jdk.internal.vm.annotation=ALL-UNNAMED&#39;)\r\n    }\r\n\r\n","title":"How to fix jvm options exports javafx 11 to com.jfoenix on gradle idea?","body":"<p>For newer versions of Gradle (6.x) the following worked for me:</p>\n<pre><code>compileJava {\n    options.compilerArgs.add('--add-exports=java.base/jdk.internal.vm.annotation=ALL-UNNAMED')\n}\n</code></pre>\n<p>For Java test code:</p>\n<pre><code>compileTestJava {\n    options.compilerArgs.add('--add-exports=java.base/jdk.internal.vm.annotation=ALL-UNNAMED')\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9421107,"reputation":33,"user_id":7007482,"display_name":"Satsrag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628064078,"creation_date":1628064078,"answer_id":68647540,"question_id":58133725,"body_markdown":"* Compile-time following: \r\n\r\n``` groovy\r\ncompileJava {\r\n    options.compilerArgs.add(&#39;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&#39;)\r\n    options.compilerArgs.add(&#39;--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix&#39;)\r\n    options.compilerArgs.add(&#39;--add-exports=--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix&#39;)\r\n    options.compilerArgs.add(&#39;--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix&#39;)\r\n}\r\n```\r\n\r\n* Run-time following\r\n\r\n``` groovy\r\nrun {\r\n     jvmArgs = [ \r\n        &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;, \r\n        &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix&quot;, \r\n        &quot;--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\r\n        &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;\r\n    ]\r\n }\r\n```\r\n\r\nWe must set both of them. If we only set the first one idea can compile, however  at the run time throw exception. Thanks @sakra @Jos&#233; Pereda","title":"How to fix jvm options exports javafx 11 to com.jfoenix on gradle idea?","body":"<ul>\n<li>Compile-time following:</li>\n</ul>\n<pre><code>compileJava {\n    options.compilerArgs.add('--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix')\n    options.compilerArgs.add('--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix')\n    options.compilerArgs.add('--add-exports=--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix')\n    options.compilerArgs.add('--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix')\n}\n</code></pre>\n<ul>\n<li>Run-time following</li>\n</ul>\n<pre><code>run {\n     jvmArgs = [ \n        &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;, \n        &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix&quot;, \n        &quot;--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\n        &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;\n    ]\n }\n</code></pre>\n<p>We must set both of them. If we only set the first one idea can compile, however  at the run time throw exception. Thanks @sakra @José Pereda</p>\n"},{"tags":[],"owner":{"account_id":22365443,"reputation":396,"user_id":16581317,"display_name":"Youssef Idraiss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637543429,"creation_date":1637543429,"answer_id":70059942,"question_id":58133725,"body_markdown":"this didn&#39;t work for me in JDK 16:\r\n\r\n    run {\r\n        jvmArgs = [\r\n                &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\r\n        ]\r\n    }   \r\n\r\nwhat worked instead is \r\n\r\n \r\n\r\n    run {\r\n        jvmArgs = [\r\n                &quot;--add-opens=java.base/java.lang.reflect=com.jfoenix&quot;,\r\n                &quot;--add-opens=java.base/java.lang.reflect=com.jfoenix&quot;,\r\n                &quot;--add-opens=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\r\n                &quot;--add-opens=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\r\n                &quot;--add-opens=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\r\n                &quot;--add-opens=javafx.base/com.sun.javafx.event=com.jfoenix&quot;,\r\n        ]\r\n    }","title":"How to fix jvm options exports javafx 11 to com.jfoenix on gradle idea?","body":"<p>this didn't work for me in JDK 16:</p>\n<pre><code>run {\n    jvmArgs = [\n            &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\n            &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix&quot;,\n            &quot;--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\n            &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\n            &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\n    ]\n}   \n</code></pre>\n<p>what worked instead is</p>\n<pre><code>run {\n    jvmArgs = [\n            &quot;--add-opens=java.base/java.lang.reflect=com.jfoenix&quot;,\n            &quot;--add-opens=java.base/java.lang.reflect=com.jfoenix&quot;,\n            &quot;--add-opens=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\n            &quot;--add-opens=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\n            &quot;--add-opens=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\n            &quot;--add-opens=javafx.base/com.sun.javafx.event=com.jfoenix&quot;,\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":16779707,"reputation":55,"user_id":12130193,"display_name":"Yanis Boukir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4178,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58135195,"answer_count":4,"score":5,"last_activity_date":1637543429,"creation_date":1569583924,"question_id":58133725,"body_markdown":"It&#39;s been 3 days that I look on the internet how to fix this on gradle \r\n\r\n    Caused by: java.lang.IllegalAccessError: class com.jfoenix.skins.JFXTabPaneSkin (in module com.jfoenix) cannot access class com.sun.javafx.scene.control.behavior.TabPaneBehavior (in module javafx.controls) because module javafx.controls does not export com.sun.javafx.scene.control.behavior to module com.jfoenix\r\n\r\nOn simple idea projects I was adding \r\n\r\n    --add-exports javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix --add-exports javafx.controls/com.sun.javafx.scene.control=com.jfoenix --add-exports javafx.base/com.sun.javafx.binding=com.jfoenix --add-exports javafx.graphics/com.sun.javafx.stage=com.jfoenix --add-exports javafx.base/com.sun.javafx.event=com.jfoenix \r\n\r\nI know, I have to add jvm options but how do I ? \r\n\r\nI&#39;m using  gradle javafx 11.0.2, java 11, on intellij idea,\r\n\r\nthis is the build.gradle \r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.8&#39;\r\n}\r\n\r\ncompileJava.options.encoding = &#39;UTF-8&#39;\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    //     https://mvnrepository.com/artifact/com.jfoenix/jfoenix\r\n    compile group: &#39;com.jfoenix&#39;, name: &#39;jfoenix&#39;, version: &#39;9.0.9&#39;\r\n    compile group: &#39;de.jensd&#39;, name: &#39;fontawesomefx-fontawesome&#39;, version: &#39;4.7.0-9.1.2&#39;\r\n    // https://mvnrepository.com/artifact/de.jensd/fontawesomefx-commons\r\n    runtime group: &#39;de.jensd&#39;, name: &#39;fontawesomefx-commons&#39;, version: &#39;9.1.2&#39;\r\n// https://mvnrepository.com/artifact/com.h2database/h2\r\n    compile group: &#39;com.h2database&#39;, name: &#39;h2&#39;, version: &#39;1.4.199&#39;\r\n}\r\n\r\njavafx {\r\n    version = &quot;11.0.2&quot;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39;,&#39;javafx.graphics&#39;,&#39;javafx.base&#39; ]\r\n}\r\n\r\nmainClassName = &#39;org.yanisboukir.agence.Main&#39;\r\n```\r\nThanks","title":"How to fix jvm options exports javafx 11 to com.jfoenix on gradle idea?","body":"<p>It's been 3 days that I look on the internet how to fix this on gradle </p>\n\n<pre><code>Caused by: java.lang.IllegalAccessError: class com.jfoenix.skins.JFXTabPaneSkin (in module com.jfoenix) cannot access class com.sun.javafx.scene.control.behavior.TabPaneBehavior (in module javafx.controls) because module javafx.controls does not export com.sun.javafx.scene.control.behavior to module com.jfoenix\n</code></pre>\n\n<p>On simple idea projects I was adding </p>\n\n<pre><code>--add-exports javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix --add-exports javafx.controls/com.sun.javafx.scene.control=com.jfoenix --add-exports javafx.base/com.sun.javafx.binding=com.jfoenix --add-exports javafx.graphics/com.sun.javafx.stage=com.jfoenix --add-exports javafx.base/com.sun.javafx.event=com.jfoenix \n</code></pre>\n\n<p>I know, I have to add jvm options but how do I ? </p>\n\n<p>I'm using  gradle javafx 11.0.2, java 11, on intellij idea,</p>\n\n<p>this is the build.gradle </p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.8'\n}\n\ncompileJava.options.encoding = 'UTF-8'\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    //     https://mvnrepository.com/artifact/com.jfoenix/jfoenix\n    compile group: 'com.jfoenix', name: 'jfoenix', version: '9.0.9'\n    compile group: 'de.jensd', name: 'fontawesomefx-fontawesome', version: '4.7.0-9.1.2'\n    // https://mvnrepository.com/artifact/de.jensd/fontawesomefx-commons\n    runtime group: 'de.jensd', name: 'fontawesomefx-commons', version: '9.1.2'\n// https://mvnrepository.com/artifact/com.h2database/h2\n    compile group: 'com.h2database', name: 'h2', version: '1.4.199'\n}\n\njavafx {\n    version = \"11.0.2\"\n    modules = [ 'javafx.controls', 'javafx.fxml','javafx.graphics','javafx.base' ]\n}\n\nmainClassName = 'org.yanisboukir.agence.Main'\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","json","rest-assured","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637543194,"creation_date":1637543194,"answer_id":70059926,"question_id":70054965,"body_markdown":"If you want to manipulate json in Rest-Assured JsonPath, then the answer is No. You can&#39;t do that. JsonPath help you to extract value from json, that&#39;s it, no more.\r\n\r\nYou have to use different libraries to remove key-value pair. \r\n\r\nFor example: using [JsonPath Jayway][1]\r\n\r\n```\r\nDocumentContext parse = JsonPath.parse(body);\r\nparse.delete(&quot;$..itemsProperties..code&quot;);\r\nSystem.out.println(parse.jsonString());\r\n```\r\n\r\n\r\n  [1]: https://github.com/lucas-nguyen-17/JsonPath/tree/master","title":"How to remove an attribute from RequestSpecification/FilterableRequestSpecification body?","body":"<p>If you want to manipulate json in Rest-Assured JsonPath, then the answer is No. You can't do that. JsonPath help you to extract value from json, that's it, no more.</p>\n<p>You have to use different libraries to remove key-value pair.</p>\n<p>For example: using <a href=\"https://github.com/lucas-nguyen-17/JsonPath/tree/master\" rel=\"nofollow noreferrer\">JsonPath Jayway</a></p>\n<pre><code>DocumentContext parse = JsonPath.parse(body);\nparse.delete(&quot;$..itemsProperties..code&quot;);\nSystem.out.println(parse.jsonString());\n</code></pre>\n"}],"owner":{"account_id":19500330,"reputation":23,"user_id":14266587,"display_name":"Bartosz Olczak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70059926,"answer_count":1,"score":2,"last_activity_date":1637543194,"creation_date":1637501234,"question_id":70054965,"body_markdown":"Dears,\r\n\r\nI am working on creating a simple method which will take String argument which will be a path or other kind &quot;pointer&quot; to attribute/s in JSON and this method will remove those attribute/s.\r\n\r\n\r\nMy problem is I can find values of those attribute/s using JsonPath, but I can&#39;t find methods in rest assured (or other libraries) which could remove/delete attributes by given path.\r\nJSON is already added earlier so i need to pull him from RequestSpecification or FilterableRequestSpecification object ex.&lt;br&gt;&lt;br&gt;\r\n```\r\nRequestSpecification rs = *objFromContext*;\r\nFilterableRequestSpecification frs= (FilterableRequestSpecification) rs;\r\nfrs.getBody();\r\n```\r\nI&#39;ve tried to work with JSONObject class and remove() but it doesn&#39;t work on complex JSONs.\r\n\r\ngiven example JSON\r\n```\r\n{\r\n\t&quot;created&quot;: &quot;string&quot;,\r\n\t&quot;updated&quot;: &quot;string&quot;,\r\n\t&quot;items&quot;: [\r\n\t\t{\r\n\t\t\t&quot;code&quot;: &quot;TEST&quot;,\r\n\t\t\t&quot;nested&quot;: {\r\n\t\t\t\t&quot;code&quot;: &quot;test&quot;,\r\n\t\t\t\t&quot;name&quot;: &quot;name&quot;,\r\n\t\t\t\t&quot;other&quot;: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;code&quot;: &quot;TEST&quot;,\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;myName&quot;,\r\n\t\t\t\t\t\t&quot;quantity&quot;: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t&quot;itemsProperties&quot;: [\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;code&quot;: &quot;value1&quot;,\r\n\t\t\t\t\t&quot;name&quot;: &quot;name&quot;,\r\n\t\t\t\t\t&quot;value&quot;: 123\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;code&quot;: &quot;TEST&quot;,\r\n\t\t\t&quot;nested&quot;: {\r\n\t\t\t\t&quot;code&quot;: &quot;test&quot;,\r\n\t\t\t\t&quot;name&quot;: &quot;name&quot;,\r\n\t\t\t\t&quot;other&quot;: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;code&quot;: &quot;TEST&quot;,\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;myName&quot;,\r\n\t\t\t\t\t\t&quot;quantity&quot;: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t&quot;itemsProperties&quot;: [\r\n\t\t\t\t{\r\n\t\t\t\t\t&quot;code&quot;: &quot;value2&quot;,\r\n\t\t\t\t\t&quot;name&quot;: &quot;name&quot;,\r\n\t\t\t\t\t&quot;value&quot;: 123\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t],\r\n\t&quot;timer&quot;: {\r\n\t\t&quot;startDate&quot;: &quot;2015-01-01&quot;,\r\n\t\t&quot;endDate&quot;: &quot;2021-01-02&quot;\r\n\t},\r\n\t&quot;id&quot;: &quot;myId&quot;\r\n}\r\n```\r\nusing ```JsonPath jp = JsonPath.from(httpRequest.getBody().toString());```\r\nand then ```jp.get(items.itemsproperties.code)``` i can find value1 and value2.&lt;br&gt;\r\n**I stuck in this point: How to remove those attributes from sended body?** &lt;br&gt;\r\nI know i can convert body into JSONObject and then go field after field conversion between getJSONArray and GetJSONOBject and remove those fields, but i would like to make this metod much more universal. &lt;br&gt;&lt;br&gt;\r\nIs this possible?\r\n","title":"How to remove an attribute from RequestSpecification/FilterableRequestSpecification body?","body":"<p>Dears,</p>\n<p>I am working on creating a simple method which will take String argument which will be a path or other kind &quot;pointer&quot; to attribute/s in JSON and this method will remove those attribute/s.</p>\n<p>My problem is I can find values of those attribute/s using JsonPath, but I can't find methods in rest assured (or other libraries) which could remove/delete attributes by given path.\nJSON is already added earlier so i need to pull him from RequestSpecification or FilterableRequestSpecification object ex.<br><br></p>\n<pre><code>RequestSpecification rs = *objFromContext*;\nFilterableRequestSpecification frs= (FilterableRequestSpecification) rs;\nfrs.getBody();\n</code></pre>\n<p>I've tried to work with JSONObject class and remove() but it doesn't work on complex JSONs.</p>\n<p>given example JSON</p>\n<pre><code>{\n    &quot;created&quot;: &quot;string&quot;,\n    &quot;updated&quot;: &quot;string&quot;,\n    &quot;items&quot;: [\n        {\n            &quot;code&quot;: &quot;TEST&quot;,\n            &quot;nested&quot;: {\n                &quot;code&quot;: &quot;test&quot;,\n                &quot;name&quot;: &quot;name&quot;,\n                &quot;other&quot;: [\n                    {\n                        &quot;code&quot;: &quot;TEST&quot;,\n                        &quot;name&quot;: &quot;myName&quot;,\n                        &quot;quantity&quot;: 1\n                    }\n                ]\n            },\n            &quot;itemsProperties&quot;: [\n                {\n                    &quot;code&quot;: &quot;value1&quot;,\n                    &quot;name&quot;: &quot;name&quot;,\n                    &quot;value&quot;: 123\n                }\n            ]\n        },\n        {\n            &quot;code&quot;: &quot;TEST&quot;,\n            &quot;nested&quot;: {\n                &quot;code&quot;: &quot;test&quot;,\n                &quot;name&quot;: &quot;name&quot;,\n                &quot;other&quot;: [\n                    {\n                        &quot;code&quot;: &quot;TEST&quot;,\n                        &quot;name&quot;: &quot;myName&quot;,\n                        &quot;quantity&quot;: 1\n                    }\n                ]\n            },\n            &quot;itemsProperties&quot;: [\n                {\n                    &quot;code&quot;: &quot;value2&quot;,\n                    &quot;name&quot;: &quot;name&quot;,\n                    &quot;value&quot;: 123\n                }\n            ]\n        }\n    ],\n    &quot;timer&quot;: {\n        &quot;startDate&quot;: &quot;2015-01-01&quot;,\n        &quot;endDate&quot;: &quot;2021-01-02&quot;\n    },\n    &quot;id&quot;: &quot;myId&quot;\n}\n</code></pre>\n<p>using <code>JsonPath jp = JsonPath.from(httpRequest.getBody().toString());</code>\nand then <code>jp.get(items.itemsproperties.code)</code> i can find value1 and value2.<br>\n<strong>I stuck in this point: How to remove those attributes from sended body?</strong> <br>\nI know i can convert body into JSONObject and then go field after field conversion between getJSONArray and GetJSONOBject and remove those fields, but i would like to make this metod much more universal. <br><br>\nIs this possible?</p>\n"},{"tags":["java","picocli"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637542719,"creation_date":1572052618,"answer_id":58567306,"question_id":58560951,"body_markdown":"Update: from picocli 4.6, this can be accomplished by specifying a [mapFallbackValue][1] in the option or positional parameter.\r\n\r\n```java\r\n@Option(names = {&quot;-P&quot;, &quot;--properties&quot;}, mapFallbackValue = Option.NULL_VALUE)\r\nMap&lt;String, Optional&lt;Integer&gt;&gt; properties;\r\n\r\n@Parameters(mapFallbackValue= &quot;INFO&quot;, description= &quot;... ${MAP-FALLBACK-VALUE} ...&quot;)\r\nMap&lt;Class&lt;?&gt;, LogLevel&gt; logLevels;\r\n```\r\n\r\nThe value type may be wrapped in a `java.util.Optional`. (If it isn&#39;t, and the fallback value is `Option.NULL_VALUE`, picocli will put the value `null` in the map for the specified key.)\r\n\r\n----\r\n*(Original answer follows below):*\r\n\r\nThis can be accomplished with a [custom parameterConsumer][2]. For example:\r\n\r\n```java\r\n/* A list of defines provided by the user. */\r\n@Option(names = &quot;-D&quot;, parameterConsumer = MyMapParameterConsumer.class,\r\n  description = &quot;Define a symbol.&quot;)\r\nMap&lt;String, String&gt; defines = new LinkedHashMap&lt;String, String&gt;();\r\n```\r\n\r\n... where `MyMapParameterConsumer` can look something like this:\r\n\r\n```java\r\n\r\nclass MyMapParameterConsumer implements IParameterConsumer {\r\n    @Override\r\n    public void consumeParameters(\r\n            Stack&lt;String&gt; args, \r\n            ArgSpec argSpec, \r\n            CommandSpec commandSpec) {\r\n\r\n        if (args.isEmpty()) {\r\n            throw new ParameterException(commandSpec.commandLine(), \r\n                    &quot;Missing required parameter&quot;);\r\n        }\r\n        String parameter = args.pop();\r\n        String[] keyValue = parameter.split(&quot;=&quot;, 1);\r\n        String key = keyValue[0];\r\n        String value = keyValue.length &gt; 1 \r\n                ? keyValue[1]\r\n                : &quot;MY_DEFAULT&quot;;\r\n        Map&lt;String, String&gt; map = argSpec.getValue();\r\n        map.put(key, value);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://picocli.info/#_key_only_map_parameters\r\n  [2]: https://picocli.info/#_custom_parameter_processing","title":"Picocli: Specify default value for an option which has a type of Map","body":"<p>Update: from picocli 4.6, this can be accomplished by specifying a <a href=\"https://picocli.info/#_key_only_map_parameters\" rel=\"nofollow noreferrer\">mapFallbackValue</a> in the option or positional parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Option(names = {&quot;-P&quot;, &quot;--properties&quot;}, mapFallbackValue = Option.NULL_VALUE)\nMap&lt;String, Optional&lt;Integer&gt;&gt; properties;\n\n@Parameters(mapFallbackValue= &quot;INFO&quot;, description= &quot;... ${MAP-FALLBACK-VALUE} ...&quot;)\nMap&lt;Class&lt;?&gt;, LogLevel&gt; logLevels;\n</code></pre>\n<p>The value type may be wrapped in a <code>java.util.Optional</code>. (If it isn't, and the fallback value is <code>Option.NULL_VALUE</code>, picocli will put the value <code>null</code> in the map for the specified key.)</p>\n<hr />\n<p><em>(Original answer follows below):</em></p>\n<p>This can be accomplished with a <a href=\"https://picocli.info/#_custom_parameter_processing\" rel=\"nofollow noreferrer\">custom parameterConsumer</a>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* A list of defines provided by the user. */\n@Option(names = &quot;-D&quot;, parameterConsumer = MyMapParameterConsumer.class,\n  description = &quot;Define a symbol.&quot;)\nMap&lt;String, String&gt; defines = new LinkedHashMap&lt;String, String&gt;();\n</code></pre>\n<p>... where <code>MyMapParameterConsumer</code> can look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass MyMapParameterConsumer implements IParameterConsumer {\n    @Override\n    public void consumeParameters(\n            Stack&lt;String&gt; args, \n            ArgSpec argSpec, \n            CommandSpec commandSpec) {\n\n        if (args.isEmpty()) {\n            throw new ParameterException(commandSpec.commandLine(), \n                    &quot;Missing required parameter&quot;);\n        }\n        String parameter = args.pop();\n        String[] keyValue = parameter.split(&quot;=&quot;, 1);\n        String key = keyValue[0];\n        String value = keyValue.length &gt; 1 \n                ? keyValue[1]\n                : &quot;MY_DEFAULT&quot;;\n        Map&lt;String, String&gt; map = argSpec.getValue();\n        map.put(key, value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2183431,"reputation":3745,"user_id":1932405,"accept_rate":96,"display_name":"Har"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2005,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58567306,"answer_count":1,"score":3,"last_activity_date":1637542719,"creation_date":1572015393,"question_id":58560951,"body_markdown":"I have an option like so\r\n\r\n        @CommandLine.Option(names = &quot;-D&quot;, description = &quot;Define a symbol.&quot;)\r\n        /* A list of defines provided by the user. */\r\n        Map&lt;String, String&gt; defines = new LinkedHashMap&lt;String, String&gt;();\r\n\r\nThis does work when I do the following:\r\n\r\n    -Dkey=value\r\n\r\nhowever when I do this\r\n\r\n    -Dkey\r\n\r\nit does not work. Is there a way to add in a default value for keys which do not have a value associated with them?\r\n\r\n\r\n\r\n\r\n","title":"Picocli: Specify default value for an option which has a type of Map","body":"<p>I have an option like so</p>\n\n<pre><code>    @CommandLine.Option(names = \"-D\", description = \"Define a symbol.\")\n    /* A list of defines provided by the user. */\n    Map&lt;String, String&gt; defines = new LinkedHashMap&lt;String, String&gt;();\n</code></pre>\n\n<p>This does work when I do the following:</p>\n\n<pre><code>-Dkey=value\n</code></pre>\n\n<p>however when I do this</p>\n\n<pre><code>-Dkey\n</code></pre>\n\n<p>it does not work. Is there a way to add in a default value for keys which do not have a value associated with them?</p>\n"},{"tags":["java","spring","transactions","spring-transactions","java-ee-7"],"answers":[{"tags":[],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637542261,"creation_date":1637542261,"answer_id":70059854,"question_id":68934609,"body_markdown":"The question has been left unanswered for a while so posting the walkaround here:\r\n\r\nYou can fix it by doing one of following before exiting `createUser`\r\n\r\nMerge the wallet again so that the object is managed again, OR\r\nget the newly created wallet from DB again and attach it to user. So that when exiting createUser, it knows wallet is not a new entity but already persisted.","title":"Persisting detached object got error &quot;during synchronization a new object was found through a relationship that was not marked cascade PERSIST&quot;","body":"<p>The question has been left unanswered for a while so posting the walkaround here:</p>\n<p>You can fix it by doing one of following before exiting <code>createUser</code></p>\n<p>Merge the wallet again so that the object is managed again, OR\nget the newly created wallet from DB again and attach it to user. So that when exiting createUser, it knows wallet is not a new entity but already persisted.</p>\n"}],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70059854,"answer_count":1,"score":0,"last_activity_date":1637542261,"creation_date":1629964267,"question_id":68934609,"body_markdown":"I&#39;m getting error `during synchronization a new object was found through a relationship that was not marked cascade PERSIST: Wallet ...`  \r\nI know the error is normally due to you don&#39;t have `CascadeType.PERSIST` and don&#39;t persist that entity specifically, but my story might be different as I did persist the entity. \r\n\r\nI&#39;m creating User in a transaction, then pass the User to a new transaction, in which wallet is created and attached to User.  \r\nThe error occurs when exiting `createUser` function.  \r\nWhile I&#39;m aware it&#39;s a bad idea passing a managed object to new transaction and make changes there, I expect the code to work if in Spring context. But I&#39;m not sure why it throws error in J2EE.  \r\n\r\nI&#39;ve also found out you can fix it by doing one of following before exiting `createUser` \r\n1. Merge the wallet again so that the object is managed again, OR\r\n2. get the newly created wallet from DB again and attach it to user. So that when exiting `createUser`, it knows wallet is not a new entity but already persisted.\r\n\r\nAppreciate it if someone can tell me what&#39;s different between J2EE and Spring that this code doesn&#39;t work in the former one.\r\n\r\n```java\r\n// existing transaction \r\npublic void createUser(){\r\n\t\tUser user = userRepo.createUser();\r\n\t\twalletService.createAndAttachWalletToUser(user);\r\n\t\t// add to fix\r\n\t\t// user.setWallet(walletService.merge(user.getWallet())); OR\r\n\t\t// user.setWallet(walletService.getWallet(user.getWallet().getId()));\r\n}\r\n\r\n// WalletService class\r\n@TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)\r\npublic void createAndAttachWalletToUser(User user){\r\n\t\tWallet wallet = walletRepo.createWallet();\r\n\t\tuser.setWallet(wallet);\r\n}\r\n```","title":"Persisting detached object got error &quot;during synchronization a new object was found through a relationship that was not marked cascade PERSIST&quot;","body":"<p>I'm getting error <code>during synchronization a new object was found through a relationship that was not marked cascade PERSIST: Wallet ...</code><br />\nI know the error is normally due to you don't have <code>CascadeType.PERSIST</code> and don't persist that entity specifically, but my story might be different as I did persist the entity.</p>\n<p>I'm creating User in a transaction, then pass the User to a new transaction, in which wallet is created and attached to User.<br />\nThe error occurs when exiting <code>createUser</code> function.<br />\nWhile I'm aware it's a bad idea passing a managed object to new transaction and make changes there, I expect the code to work if in Spring context. But I'm not sure why it throws error in J2EE.</p>\n<p>I've also found out you can fix it by doing one of following before exiting <code>createUser</code></p>\n<ol>\n<li>Merge the wallet again so that the object is managed again, OR</li>\n<li>get the newly created wallet from DB again and attach it to user. So that when exiting <code>createUser</code>, it knows wallet is not a new entity but already persisted.</li>\n</ol>\n<p>Appreciate it if someone can tell me what's different between J2EE and Spring that this code doesn't work in the former one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// existing transaction \npublic void createUser(){\n        User user = userRepo.createUser();\n        walletService.createAndAttachWalletToUser(user);\n        // add to fix\n        // user.setWallet(walletService.merge(user.getWallet())); OR\n        // user.setWallet(walletService.getWallet(user.getWallet().getId()));\n}\n\n// WalletService class\n@TransactionAttribute(TransactionAttributeType.REQUIRES_NEW)\npublic void createAndAttachWalletToUser(User user){\n        Wallet wallet = walletRepo.createWallet();\n        user.setWallet(wallet);\n}\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","java-11","javafx-11"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1569620827,"post_id":58141582,"comment_id":102669421,"body_markdown":"Did you consider using the `module-info.java` file in the project for the proper modules support without the JVM options hacks? https://stackoverflow.com/a/57897944/104891","body":"Did you consider using the <code>module-info.java</code> file in the project for the proper modules support without the JVM options hacks? <a href=\"https://stackoverflow.com/a/57897944/104891\">stackoverflow.com/a/57897944/104891</a>"},{"owner":{"account_id":16779707,"reputation":55,"user_id":12130193,"display_name":"Yanis Boukir"},"score":0,"creation_date":1569621582,"post_id":58141582,"comment_id":102669559,"body_markdown":"This is my module-info.java\nmodule com.fthdgn.app {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires transitive com.jfoenix;\n    opens com.fthdgn.app to javafx.graphics;\n    opens com.fthdgn.app.controller to javafx.fxml;\n}","body":"This is my module-info.java module com.fthdgn.app {     requires javafx.controls;     requires javafx.fxml;     requires transitive com.jfoenix;     opens com.fthdgn.app to javafx.graphics;     opens com.fthdgn.app.controller to javafx.fxml; }"}],"answers":[{"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1569700647,"creation_date":1569700647,"answer_id":58149852,"question_id":58141582,"body_markdown":"You can follow the [documentation](https://openjfx.io/openjfx-docs/#IDE-Intellij) for JavaFX 11+, section Modular with Gradle.\r\n\r\nThere is a [sample](https://github.com/openjfx/samples/tree/master/IDE/IntelliJ/Modular/Gradle/hellofx) that makes use of the JavaFX gradle plugin, to deal with the JavaFX dependencies and the build and run tasks, and the [Jlink](https://github.com/beryx/badass-jlink-plugin) plugin, to deal with deployment of a custom image runtime.\r\n\r\nAll you have to do is add the Jfoenix dependency to that project, modify its source code accordingly, and finally include the required `jvmArgs` in both `run` and `jlink` tasks, like this:\r\n\r\n```\r\nplugins {\r\n  id &#39;application&#39;\r\n  id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.8&#39;\r\n  id &#39;org.beryx.jlink&#39; version &#39;2.15.1&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation group: &#39;com.jfoenix&#39;, name: &#39;jfoenix&#39;, version: &#39;9.0.9&#39;\r\n}\r\n\r\njavafx {\r\n    version = &quot;13&quot;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n}\r\n\r\nrun {\r\n    jvmArgs = [\r\n            &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\r\n            &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix&quot;,\r\n            &quot;--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\r\n            &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\r\n            &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\r\n    ]\r\n}\r\n\r\njlink {\r\n    launcher {\r\n        name = &#39;hellofx&#39;\r\n        jvmArgs = [\r\n                &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\r\n        ]\r\n    }\r\n}\r\n\r\nmainClassName = &quot;$moduleName/org.openjfx.MainApp&quot;\r\n```\r\n\r\nNow you can run your project with:\r\n\r\n    ./gradlew run\r\n\r\nand create the runtime image with:\r\n\r\n    ./gradlew jlink\r\n\r\nOnce it has finished building, you can run it from the script:\r\n\r\n    build/image/bin/hellofx\r\n\r\n","title":"Gradle how to add VM option to run and deploy jfoenix on javafx 11 idea?","body":"<p>You can follow the <a href=\"https://openjfx.io/openjfx-docs/#IDE-Intellij\" rel=\"nofollow noreferrer\">documentation</a> for JavaFX 11+, section Modular with Gradle.</p>\n\n<p>There is a <a href=\"https://github.com/openjfx/samples/tree/master/IDE/IntelliJ/Modular/Gradle/hellofx\" rel=\"nofollow noreferrer\">sample</a> that makes use of the JavaFX gradle plugin, to deal with the JavaFX dependencies and the build and run tasks, and the <a href=\"https://github.com/beryx/badass-jlink-plugin\" rel=\"nofollow noreferrer\">Jlink</a> plugin, to deal with deployment of a custom image runtime.</p>\n\n<p>All you have to do is add the Jfoenix dependency to that project, modify its source code accordingly, and finally include the required <code>jvmArgs</code> in both <code>run</code> and <code>jlink</code> tasks, like this:</p>\n\n<pre><code>plugins {\n  id 'application'\n  id 'org.openjfx.javafxplugin' version '0.0.8'\n  id 'org.beryx.jlink' version '2.15.1'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation group: 'com.jfoenix', name: 'jfoenix', version: '9.0.9'\n}\n\njavafx {\n    version = \"13\"\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n}\n\nrun {\n    jvmArgs = [\n            \"--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix\",\n            \"--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix\",\n            \"--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix\",\n            \"--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix\",\n            \"--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix\",\n    ]\n}\n\njlink {\n    launcher {\n        name = 'hellofx'\n        jvmArgs = [\n                \"--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix\",\n                \"--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix\",\n                \"--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix\",\n                \"--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix\",\n                \"--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix\",\n        ]\n    }\n}\n\nmainClassName = \"$moduleName/org.openjfx.MainApp\"\n</code></pre>\n\n<p>Now you can run your project with:</p>\n\n<pre><code>./gradlew run\n</code></pre>\n\n<p>and create the runtime image with:</p>\n\n<pre><code>./gradlew jlink\n</code></pre>\n\n<p>Once it has finished building, you can run it from the script:</p>\n\n<pre><code>build/image/bin/hellofx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22365443,"reputation":396,"user_id":16581317,"display_name":"Youssef Idraiss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637541823,"creation_date":1637541823,"answer_id":70059811,"question_id":58141582,"body_markdown":"this didn&#39;t work for me in JDK 16:\r\n\r\n    run {\r\n        jvmArgs = [\r\n                &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\r\n                &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\r\n        ]\r\n    }   \r\n\r\nwhat worked instead is \r\n\r\n \r\n\r\n    run {\r\n        jvmArgs = [\r\n                &quot;--add-opens=java.base/java.lang.reflect=com.jfoenix&quot;,\r\n                &quot;--add-opens=java.base/java.lang.reflect=com.jfoenix&quot;,\r\n                &quot;--add-opens=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\r\n                &quot;--add-opens=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\r\n                &quot;--add-opens=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\r\n                &quot;--add-opens=javafx.base/com.sun.javafx.event=com.jfoenix&quot;,\r\n        ]\r\n    }\r\n\r\n\r\nthe same thing with Jlink VM args","title":"Gradle how to add VM option to run and deploy jfoenix on javafx 11 idea?","body":"<p>this didn't work for me in JDK 16:</p>\n<pre><code>run {\n    jvmArgs = [\n            &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\n            &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control=com.jfoenix&quot;,\n            &quot;--add-exports=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\n            &quot;--add-exports=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\n            &quot;--add-exports=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\n    ]\n}   \n</code></pre>\n<p>what worked instead is</p>\n<pre><code>run {\n    jvmArgs = [\n            &quot;--add-opens=java.base/java.lang.reflect=com.jfoenix&quot;,\n            &quot;--add-opens=java.base/java.lang.reflect=com.jfoenix&quot;,\n            &quot;--add-opens=javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&quot;,\n            &quot;--add-opens=javafx.base/com.sun.javafx.binding=com.jfoenix&quot;,\n            &quot;--add-opens=javafx.graphics/com.sun.javafx.stage=com.jfoenix&quot;,\n            &quot;--add-opens=javafx.base/com.sun.javafx.event=com.jfoenix&quot;,\n    ]\n}\n</code></pre>\n<p>the same thing with Jlink VM args</p>\n"}],"owner":{"account_id":16779707,"reputation":55,"user_id":12130193,"display_name":"Yanis Boukir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58149852,"answer_count":2,"score":0,"last_activity_date":1637541823,"creation_date":1569620168,"question_id":58141582,"body_markdown":"I&#39;m using javafx 11.0.2 and java 11.0.3 \r\nIn order to discover &#39;gradle&#39; I downloaded this project https://github.com/fthdgn/java11-javafx-demo and when I add jfoenix controls in main.fxml like this \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n&lt;?import com.jfoenix.controls.JFXTextField?&gt;\r\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\r\n&lt;?import com.jfoenix.controls.JFXTabPane?&gt;\r\n&lt;?import javafx.scene.control.Tab?&gt;\r\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx/8.0.121&quot;\r\n            xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.fthdgn.app.controller.MainController&quot;&gt;\r\n    &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;10.0&quot; AnchorPane.bottomAnchor=&quot;10&quot;\r\n          AnchorPane.leftAnchor=&quot;10.0&quot; AnchorPane.rightAnchor=&quot;10.0&quot; AnchorPane.topAnchor=&quot;10&quot; fx:id=&quot;vbox&quot;&gt;\r\n        &lt;TextField fx:id=&quot;inputTextField&quot;/&gt;\r\n        &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#reveseButtonClicked&quot; text=&quot;Reverse&quot;/&gt;\r\n        &lt;TextField fx:id=&quot;outputTextField&quot;/&gt;\r\n        &lt;JFXTextField fx:id=&quot;tf&quot;/&gt;\r\n        &lt;JFXButton text=&quot;AZUL&quot; fx:id=&quot;button&quot;/&gt;\r\n        &lt;JFXTabPane&gt;\r\n            &lt;Tab&gt;\r\n            &lt;/Tab&gt;\r\n        &lt;/JFXTabPane&gt;\r\n\r\n    &lt;/VBox&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\nI got this famous error\r\n\r\n```\r\nCaused by: java.lang.IllegalAccessError: class com.jfoenix.skins.JFXTabPaneSkin (in module com.jfoenix) cannot access class com.sun.javafx.scene.control.behavior.TabPaneBehavior (in module javafx.controls) because module javafx.controls does not export com.sun.javafx.scene.control.behavior to module com.jfoenix\r\n\r\n```\r\n I have edited the build.gradle to add some jvm options( for module app ) like this \r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;com.zyxist.chainsaw&#39; version &#39;0.3.1&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.15.1&#39;\r\n}\r\ncompileJava.options.encoding = &#39;UTF-8&#39;\r\n\r\nimport org.gradle.internal.jvm.Jvm\r\nimport org.gradle.internal.os.OperatingSystem\r\n\r\ngroup &#39;com.fthdgn&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nsourceCompatibility = 11\r\ntargetCompatibility = 11\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nmainClassName = mainClass\r\n\r\ndef currentOS = OperatingSystem.current()\r\ndef platform\r\nif (currentOS.isWindows()) {\r\n    platform = &#39;win&#39;\r\n} else if (currentOS.isLinux()) {\r\n    platform = &#39;linux&#39;\r\n} else if (currentOS.isMacOsX()) {\r\n    platform = &#39;mac&#39;\r\n}\r\n\r\njlink {\r\n    javaHome.set(Jvm.current().getJavaHome().getAbsolutePath())\r\n    \r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.openjfx:javafx-base:11:${platform}&quot;\r\n    implementation &quot;org.openjfx:javafx-graphics:11:${platform}&quot;\r\n    implementation &quot;org.openjfx:javafx-controls:11:${platform}&quot;\r\n    implementation &quot;org.openjfx:javafx-fxml:11:${platform}&quot;\r\n    compile group: &#39;com.jfoenix&#39;, name: &#39;jfoenix&#39;, version: &#39;9.0.9&#39;\r\n    \r\n\r\n}\r\n\r\nrun {\r\n    jvmArgs += [&#39;--add-exports&#39;, &#39;javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&#39;]\r\n    jvmArgs += [&#39;--add-exports&#39;, &#39;javafx.controls/com.sun.javafx.scene.control=com.jfoenix&#39;]\r\n    jvmArgs += [&#39;--add-exports&#39;, &#39;javafx.base/com.sun.javafx.binding=com.jfoenix&#39;]\r\n    jvmArgs += [&#39;--add-exports&#39;, &#39;javafx.graphics/com.sun.javafx.stage=com.jfoenix&#39;]\r\n    jvmArgs += [&#39;--add-exports&#39;, &#39;javafx.base/com.sun.javafx.event=com.jfoenix&#39;]\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nI just added \r\n\r\n```\r\nrun {\r\n    jvmArgs += [&#39;--add-exports&#39;, &#39;javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix&#39;]\r\n    jvmArgs += [&#39;--add-exports&#39;, &#39;javafx.controls/com.sun.javafx.scene.control=com.jfoenix&#39;]\r\n    jvmArgs += [&#39;--add-exports&#39;, &#39;javafx.base/com.sun.javafx.binding=com.jfoenix&#39;]\r\n    jvmArgs += [&#39;--add-exports&#39;, &#39;javafx.graphics/com.sun.javafx.stage=com.jfoenix&#39;]\r\n    jvmArgs += [&#39;--add-exports&#39;, &#39;javafx.base/com.sun.javafx.event=com.jfoenix&#39;]\r\n\r\n}\r\n\r\n\r\n```\r\nAnd run like a charm but this is do anything for deploying , how do I do to set this jvmArgs for all task to use jfoenix in gradle with javafx 11 and java 11 ?\r\n```\r\nmodule com.fthdgn.app {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires transitive com.jfoenix;\r\n    opens com.fthdgn.app to javafx.graphics;\r\n    opens com.fthdgn.app.controller to javafx.fxml;\r\n}\r\n```\r\n","title":"Gradle how to add VM option to run and deploy jfoenix on javafx 11 idea?","body":"<p>I'm using javafx 11.0.2 and java 11.0.3 \nIn order to discover 'gradle' I downloaded this project <a href=\"https://github.com/fthdgn/java11-javafx-demo\" rel=\"nofollow noreferrer\">https://github.com/fthdgn/java11-javafx-demo</a> and when I add jfoenix controls in main.fxml like this </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import com.jfoenix.controls.JFXTextField?&gt;\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\n&lt;?import com.jfoenix.controls.JFXTabPane?&gt;\n&lt;?import javafx.scene.control.Tab?&gt;\n&lt;AnchorPane xmlns=\"http://javafx.com/javafx/8.0.121\"\n            xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"com.fthdgn.app.controller.MainController\"&gt;\n    &lt;VBox alignment=\"CENTER\" spacing=\"10.0\" AnchorPane.bottomAnchor=\"10\"\n          AnchorPane.leftAnchor=\"10.0\" AnchorPane.rightAnchor=\"10.0\" AnchorPane.topAnchor=\"10\" fx:id=\"vbox\"&gt;\n        &lt;TextField fx:id=\"inputTextField\"/&gt;\n        &lt;Button mnemonicParsing=\"false\" onAction=\"#reveseButtonClicked\" text=\"Reverse\"/&gt;\n        &lt;TextField fx:id=\"outputTextField\"/&gt;\n        &lt;JFXTextField fx:id=\"tf\"/&gt;\n        &lt;JFXButton text=\"AZUL\" fx:id=\"button\"/&gt;\n        &lt;JFXTabPane&gt;\n            &lt;Tab&gt;\n            &lt;/Tab&gt;\n        &lt;/JFXTabPane&gt;\n\n    &lt;/VBox&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n\n<p>I got this famous error</p>\n\n<pre><code>Caused by: java.lang.IllegalAccessError: class com.jfoenix.skins.JFXTabPaneSkin (in module com.jfoenix) cannot access class com.sun.javafx.scene.control.behavior.TabPaneBehavior (in module javafx.controls) because module javafx.controls does not export com.sun.javafx.scene.control.behavior to module com.jfoenix\n\n</code></pre>\n\n<p>I have edited the build.gradle to add some jvm options( for module app ) like this </p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'com.zyxist.chainsaw' version '0.3.1'\n    id 'org.beryx.jlink' version '2.15.1'\n}\ncompileJava.options.encoding = 'UTF-8'\n\nimport org.gradle.internal.jvm.Jvm\nimport org.gradle.internal.os.OperatingSystem\n\ngroup 'com.fthdgn'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 11\ntargetCompatibility = 11\n\nrepositories {\n    mavenCentral()\n}\n\nmainClassName = mainClass\n\ndef currentOS = OperatingSystem.current()\ndef platform\nif (currentOS.isWindows()) {\n    platform = 'win'\n} else if (currentOS.isLinux()) {\n    platform = 'linux'\n} else if (currentOS.isMacOsX()) {\n    platform = 'mac'\n}\n\njlink {\n    javaHome.set(Jvm.current().getJavaHome().getAbsolutePath())\n\n}\n\ndependencies {\n    implementation \"org.openjfx:javafx-base:11:${platform}\"\n    implementation \"org.openjfx:javafx-graphics:11:${platform}\"\n    implementation \"org.openjfx:javafx-controls:11:${platform}\"\n    implementation \"org.openjfx:javafx-fxml:11:${platform}\"\n    compile group: 'com.jfoenix', name: 'jfoenix', version: '9.0.9'\n\n\n}\n\nrun {\n    jvmArgs += ['--add-exports', 'javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix']\n    jvmArgs += ['--add-exports', 'javafx.controls/com.sun.javafx.scene.control=com.jfoenix']\n    jvmArgs += ['--add-exports', 'javafx.base/com.sun.javafx.binding=com.jfoenix']\n    jvmArgs += ['--add-exports', 'javafx.graphics/com.sun.javafx.stage=com.jfoenix']\n    jvmArgs += ['--add-exports', 'javafx.base/com.sun.javafx.event=com.jfoenix']\n\n}\n\n\n</code></pre>\n\n<p>I just added </p>\n\n<pre><code>run {\n    jvmArgs += ['--add-exports', 'javafx.controls/com.sun.javafx.scene.control.behavior=com.jfoenix']\n    jvmArgs += ['--add-exports', 'javafx.controls/com.sun.javafx.scene.control=com.jfoenix']\n    jvmArgs += ['--add-exports', 'javafx.base/com.sun.javafx.binding=com.jfoenix']\n    jvmArgs += ['--add-exports', 'javafx.graphics/com.sun.javafx.stage=com.jfoenix']\n    jvmArgs += ['--add-exports', 'javafx.base/com.sun.javafx.event=com.jfoenix']\n\n}\n\n\n</code></pre>\n\n<p>And run like a charm but this is do anything for deploying , how do I do to set this jvmArgs for all task to use jfoenix in gradle with javafx 11 and java 11 ?</p>\n\n<pre><code>module com.fthdgn.app {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires transitive com.jfoenix;\n    opens com.fthdgn.app to javafx.graphics;\n    opens com.fthdgn.app.controller to javafx.fxml;\n}\n</code></pre>\n"},{"tags":["java","spring","alibaba-cloud","rsocket"],"answers":[{"tags":[],"owner":{"account_id":131237,"reputation":11,"user_id":331088,"display_name":"linux_china"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637541654,"creation_date":1637541654,"answer_id":70059802,"question_id":69837617,"body_markdown":"Yes, this is a bug caused by InvocationHandler that ignores hashCode, equals, toString methods. \r\n\r\n\r\n&gt; An invocation of the hashCode, equals, or toString methods declared in java.lang.Object on a proxy instance will be encoded and dispatched to the invocation handler&#39;s invoke method in the same manner as interface method invocations are encoded and dispatched, as described above. The declaring class of the Method object passed to invoke will be java.lang.Object. Other public methods of a proxy instance inherited from java.lang.Object are not overridden by a proxy class, so invocations of those methods behave like they do for instances of java.lang.Object.\r\n\r\n\r\nIt&#39;s have been fixed with 1.1.2 version, please refer \r\n https://github.com/alibaba/alibaba-rsocket-broker/issues/174  for details.","title":"Alibaba Rsocket - MonoContextWrite cannot be cast to class java.lang.Integer","body":"<p>Yes, this is a bug caused by InvocationHandler that ignores hashCode, equals, toString methods.</p>\n<blockquote>\n<p>An invocation of the hashCode, equals, or toString methods declared in java.lang.Object on a proxy instance will be encoded and dispatched to the invocation handler's invoke method in the same manner as interface method invocations are encoded and dispatched, as described above. The declaring class of the Method object passed to invoke will be java.lang.Object. Other public methods of a proxy instance inherited from java.lang.Object are not overridden by a proxy class, so invocations of those methods behave like they do for instances of java.lang.Object.</p>\n</blockquote>\n<p>It's have been fixed with 1.1.2 version, please refer\n<a href=\"https://github.com/alibaba/alibaba-rsocket-broker/issues/174\" rel=\"nofollow noreferrer\">https://github.com/alibaba/alibaba-rsocket-broker/issues/174</a>  for details.</p>\n"}],"owner":{"account_id":15455822,"reputation":25,"user_id":11149927,"display_name":"user11149927"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637541654,"creation_date":1636021129,"question_id":69837617,"body_markdown":"I used Alibaba Rsocket. I have broker service with code:\r\n\r\n\r\n    public interface ExampleService {\r\n        Mono&lt;String&gt; getMessage();\r\n    }\r\n\r\nand implementation:\r\n\r\n    @RSocketService(serviceInterface = ExampleService.class, encoding = &quot;json&quot;)\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ExampleServiceImpl implements ExampleService {\r\n    \r\n        @Override\r\n        public Mono&lt;String&gt; getMessage() {\r\n            return Mono.just(response);\r\n        }\r\n    }\r\n\r\nand client service (other spring app):\r\n\r\n    public interface ExampleService {\r\n            Mono&lt;String&gt; getMessage();\r\n    }\r\n\r\n    @Configuration\r\n    public class RSocketConfig {\r\n    \r\n        @Bean\r\n        public ExampleService exampleService(@Autowired UpstreamManager upstreamManager) {\r\n            return RSocketRemoteServiceBuilder\r\n                    .client(ExampleService.class)\r\n                    .service(&quot;com.example.rsocket.ExampleService&quot;)\r\n                    .upstreamManager(upstreamManager)\r\n                    .acceptEncodingType(RSocketMimeType.Json)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nWhen I inject Bean of ExampleService in Controller and use getMessage() method I get the exception:\r\n\r\n    Caused by: java.lang.ClassCastException: class reactor.core.publisher.MonoContextWrite cannot be cast to class java.lang.Integer (reactor.core.publisher.MonoContextWrite is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;) \r\n\r\nWhat&#39;s the cause?","title":"Alibaba Rsocket - MonoContextWrite cannot be cast to class java.lang.Integer","body":"<p>I used Alibaba Rsocket. I have broker service with code:</p>\n<pre><code>public interface ExampleService {\n    Mono&lt;String&gt; getMessage();\n}\n</code></pre>\n<p>and implementation:</p>\n<pre><code>@RSocketService(serviceInterface = ExampleService.class, encoding = &quot;json&quot;)\n@Service\n@RequiredArgsConstructor\npublic class ExampleServiceImpl implements ExampleService {\n\n    @Override\n    public Mono&lt;String&gt; getMessage() {\n        return Mono.just(response);\n    }\n}\n</code></pre>\n<p>and client service (other spring app):</p>\n<pre><code>public interface ExampleService {\n        Mono&lt;String&gt; getMessage();\n}\n\n@Configuration\npublic class RSocketConfig {\n\n    @Bean\n    public ExampleService exampleService(@Autowired UpstreamManager upstreamManager) {\n        return RSocketRemoteServiceBuilder\n                .client(ExampleService.class)\n                .service(&quot;com.example.rsocket.ExampleService&quot;)\n                .upstreamManager(upstreamManager)\n                .acceptEncodingType(RSocketMimeType.Json)\n                .build();\n    }\n}\n</code></pre>\n<p>When I inject Bean of ExampleService in Controller and use getMessage() method I get the exception:</p>\n<pre><code>Caused by: java.lang.ClassCastException: class reactor.core.publisher.MonoContextWrite cannot be cast to class java.lang.Integer (reactor.core.publisher.MonoContextWrite is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap') \n</code></pre>\n<p>What's the cause?</p>\n"},{"tags":["java","scala","interface","scala-java-interop"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1637442456,"post_id":70046507,"comment_id":123829037,"body_markdown":"Can you share the whole code, there&#39;s some missing stuff that makes your question hard to understand.","body":"Can you share the whole code, there&#39;s some missing stuff that makes your question hard to understand."}],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637540491,"creation_date":1637540491,"answer_id":70059718,"question_id":70046507,"body_markdown":"Your definition of `testComponent` has type `Unit` because it&#39;s defined using the (deprecated in recent versions of Scala) procedure syntax of `def name(args) { }` (i.e. no `= {`).  It first passes compilation because Scala allows a value to be discarded when `Unit` is expected (that behavior can be made a warning with the compiler option `-Ywarn-value-discard`).  You can solve this by being explicit that you want this method to be called for value by including the `=`.\r\n\r\n```scala\r\noverride def testComponent(input: java.util.Map[String, Object], metadata: java.util.Map[String, Object]) = {\r\n  val list: util.List[Map[String, AnyRef]] = new util.ArrayList[Map[String, AnyRef]]\r\n  list  // return should be avoided in Scala: it&#39;s not necessary and can introduce some really subtle bugs\r\n}\r\n```\r\n\r\nIt&#39;s generally a good idea to be explicit about the result type of a public method.  Alternatively, this should also work:\r\n\r\n```scala\r\noverride def testComponent(input: java.util.Map[String, Object], metadata: java.util.Map[String, Object]) =\r\n  new ArrayList[Map[String, AnyRef]]\r\n```","title":"Implementing Java interface in Scala results in incompatible type map","body":"<p>Your definition of <code>testComponent</code> has type <code>Unit</code> because it's defined using the (deprecated in recent versions of Scala) procedure syntax of <code>def name(args) { }</code> (i.e. no <code>= {</code>).  It first passes compilation because Scala allows a value to be discarded when <code>Unit</code> is expected (that behavior can be made a warning with the compiler option <code>-Ywarn-value-discard</code>).  You can solve this by being explicit that you want this method to be called for value by including the <code>=</code>.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>override def testComponent(input: java.util.Map[String, Object], metadata: java.util.Map[String, Object]) = {\n  val list: util.List[Map[String, AnyRef]] = new util.ArrayList[Map[String, AnyRef]]\n  list  // return should be avoided in Scala: it's not necessary and can introduce some really subtle bugs\n}\n</code></pre>\n<p>It's generally a good idea to be explicit about the result type of a public method.  Alternatively, this should also work:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>override def testComponent(input: java.util.Map[String, Object], metadata: java.util.Map[String, Object]) =\n  new ArrayList[Map[String, AnyRef]]\n</code></pre>\n"}],"owner":{"account_id":9241669,"reputation":53,"user_id":6864801,"display_name":"kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70059718,"answer_count":1,"score":1,"last_activity_date":1637540491,"creation_date":1637416135,"question_id":70046507,"body_markdown":"I have a Java interface that I want to implement in Scala. The interface contains the following method-declaration: \r\n\r\n     List&lt;Map&lt;String, Object&gt;&gt; xyz(Map&lt;String, Object&gt; var1, Map&lt;String, Object&gt; var2);\r\n\r\nMy Scala implementation is:\r\n\r\n    override def testComponent( input: java.util.Map[String, Object], metadata: java.util.Map[String, Object] )\r\n      {\r\n    \r\n        val list: util.List[Map[String, AnyRef]] = new util.ArrayList[Map[String, AnyRef]]\r\n    \r\n         return list\r\n      }\r\n\r\nERROR : overriding method xyz in trait ITester of type (x$1: java.util.Map[String,Object], x$2: java.util.Map[String,Object])java.util.List[java.util.Map[String,Object]];\r\n method testComponent has incompatible type\r\n  override def testComponent( input: java.util.Map[String, Object], metadata: java.util.Map[String, Object] )\r\n\r\nI don&#39;t know what exactly the issue is.\r\n\r\n\r\n\r\n","title":"Implementing Java interface in Scala results in incompatible type map","body":"<p>I have a Java interface that I want to implement in Scala. The interface contains the following method-declaration:</p>\n<pre><code> List&lt;Map&lt;String, Object&gt;&gt; xyz(Map&lt;String, Object&gt; var1, Map&lt;String, Object&gt; var2);\n</code></pre>\n<p>My Scala implementation is:</p>\n<pre><code>override def testComponent( input: java.util.Map[String, Object], metadata: java.util.Map[String, Object] )\n  {\n\n    val list: util.List[Map[String, AnyRef]] = new util.ArrayList[Map[String, AnyRef]]\n\n     return list\n  }\n</code></pre>\n<p>ERROR : overriding method xyz in trait ITester of type (x$1: java.util.Map[String,Object], x$2: java.util.Map[String,Object])java.util.List[java.util.Map[String,Object]];\nmethod testComponent has incompatible type\noverride def testComponent( input: java.util.Map[String, Object], metadata: java.util.Map[String, Object] )</p>\n<p>I don't know what exactly the issue is.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1637539093,"post_id":70059587,"comment_id":123846304,"body_markdown":"Seeing as the field isn&#39;t final, you can just assign it again in the child class constructor. That&#39;s not &quot;changing the type&quot; though. You&#39;d just be overwriting the previously initialized value with another one.","body":"Seeing as the field isn&#39;t final, you can just assign it again in the child class constructor. That&#39;s not &quot;changing the type&quot; though. You&#39;d just be overwriting the previously initialized value with another one."},{"owner":{"account_id":16641125,"reputation":35,"user_id":15585458,"display_name":"Alen"},"score":0,"creation_date":1637539228,"post_id":70059587,"comment_id":123846324,"body_markdown":"@Michael then if I use that property in the overridden function will it use the property defined in the child class constructor instead of the parent class?","body":"@Michael then if I use that property in the overridden function will it use the property defined in the child class constructor instead of the parent class?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1637539228,"post_id":70059587,"comment_id":123846325,"body_markdown":"You&#39;d want to specify the field as a `Collection&lt;String&gt;`, since those are the only common interfaces. Unfortunately you lose the advantage of a `Set` or `List` reference. Rather than have the parent class declare the field, you could simply leave it up to the base class and then each class can use `List` or `Set` accordingly.","body":"You&#39;d want to specify the field as a <code>Collection&lt;String&gt;</code>, since those are the only common interfaces. Unfortunately you lose the advantage of a <code>Set</code> or <code>List</code> reference. Rather than have the parent class declare the field, you could simply leave it up to the base class and then each class can use <code>List</code> or <code>Set</code> accordingly."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1637540565,"post_id":70059587,"comment_id":123846528,"body_markdown":"&quot;How to change the type of a parent class&#39; property in a child class?&quot; You can&#39;t.","body":"&quot;How to change the type of a parent class&#39; property in a child class?&quot; You can&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637540280,"creation_date":1637540280,"answer_id":70059697,"question_id":70059587,"body_markdown":"You can provide a constructor overload for the child to specify its own collection type:\r\n\r\n    public class ParentClass {\r\n      protected Collection&lt;String&gt; property = null;\r\n    \r\n      public ParentClass() {\r\n        this(new LinkedList&lt;&gt;());\r\n      }\r\n    \r\n      protected ParentClass(Collection&lt;String&gt; property) {\r\n        this.property = property;\r\n      }\r\n    }\r\n    \r\n    public class ChildClass extends ParentClass {\r\n      public ChildClass() {\r\n        super(new HashSet&lt;&gt;());\r\n      }\r\n    }","title":"How to change the type of a parent class&#39; property in a child class?","body":"<p>You can provide a constructor overload for the child to specify its own collection type:</p>\n<pre><code>public class ParentClass {\n  protected Collection&lt;String&gt; property = null;\n\n  public ParentClass() {\n    this(new LinkedList&lt;&gt;());\n  }\n\n  protected ParentClass(Collection&lt;String&gt; property) {\n    this.property = property;\n  }\n}\n\npublic class ChildClass extends ParentClass {\n  public ChildClass() {\n    super(new HashSet&lt;&gt;());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":16641125,"reputation":35,"user_id":15585458,"display_name":"Alen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637540280,"creation_date":1637538902,"question_id":70059587,"body_markdown":"I have a parent class as follows:\r\n```java\r\npublic class ParentClass {\r\n  protected List&lt;String&gt; property = null;\r\n  public ParentClass() {\r\n    this.property = new LinkedList&lt;String&gt;();\r\n  }\r\n    //property gets populated here\r\n  public boolean parentClassFunc(String where){\r\n    assert property != null;\r\n    for(String it : property) \r\n        { \r\n            if(where.equals(it))return true; \r\n        }\r\n        return false ;\r\n  }\r\n}\r\n```\r\n\r\nAnd I want to speed up this Class by extending it and making some changes, one change includes changing the type of `property` from `LinkedList` to `HashSet` to take advantage of O(1) `.contains` on that type.\r\n\r\nThis is what the `ChildClass` would look like:\r\n```java\r\npublic class ChildClass extends ParentClass {\r\n\r\n  //make property a HashSet instead of LinkedList\r\n\r\n  @Override\r\n  public boolean parentClassFunc(String where){\r\n    assert property != null;\r\n    return property.contains(where);\r\n  }\r\n}\r\n```\r\n\r\nHow can I change the property type in a `ChildClass` in Java?","title":"How to change the type of a parent class&#39; property in a child class?","body":"<p>I have a parent class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ParentClass {\n  protected List&lt;String&gt; property = null;\n  public ParentClass() {\n    this.property = new LinkedList&lt;String&gt;();\n  }\n    //property gets populated here\n  public boolean parentClassFunc(String where){\n    assert property != null;\n    for(String it : property) \n        { \n            if(where.equals(it))return true; \n        }\n        return false ;\n  }\n}\n</code></pre>\n<p>And I want to speed up this Class by extending it and making some changes, one change includes changing the type of <code>property</code> from <code>LinkedList</code> to <code>HashSet</code> to take advantage of O(1) <code>.contains</code> on that type.</p>\n<p>This is what the <code>ChildClass</code> would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ChildClass extends ParentClass {\n\n  //make property a HashSet instead of LinkedList\n\n  @Override\n  public boolean parentClassFunc(String where){\n    assert property != null;\n    return property.contains(where);\n  }\n}\n</code></pre>\n<p>How can I change the property type in a <code>ChildClass</code> in Java?</p>\n"},{"tags":["java","class","object"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1637535175,"post_id":70059236,"comment_id":123845722,"body_markdown":"Remove all `static`s from your class `Usuarios`, create an instance of `Usuarios` in your `main` and call `addUser` for each of your `Usuario` instances. Also, you&#39;re asking *&quot;How can I create a reference to an object in my main function&quot;*, but you&#39;re already creating instances of other objects. It&#39;s no different for the `Usuarios` class.","body":"Remove all <code>static</code>s from your class <code>Usuarios</code>, create an instance of <code>Usuarios</code> in your <code>main</code> and call <code>addUser</code> for each of your <code>Usuario</code> instances. Also, you&#39;re asking <i>&quot;How can I create a reference to an object in my main function&quot;</i>, but you&#39;re already creating instances of other objects. It&#39;s no different for the <code>Usuarios</code> class."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637539312,"creation_date":1637539312,"answer_id":70059623,"question_id":70059236,"body_markdown":"You need to do a couple of changes to your code. First, remove the static variable in `Usuarios` and make it an instance variable:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Usuarios {\r\n    private List&lt;Usuario&gt; usersList = new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;Usuario&gt; getUsuarios(){\r\n        return usersList;\r\n    }\r\n\r\n    public void addUser(Usuario u){\r\n        usersList.add(u);\r\n    }\r\n}\r\n```\r\n\r\nAdditionally, remove the line `Usuarios.addUser(this);` in `Usuario` as follows:\r\n```java\r\npublic class Usuario {\r\n\r\n    private static int indexes = 0;\r\n    private int index;\r\n    private String nome;\r\n    private String email;\r\n\r\n    public Usuario(){\r\n    }\r\n\r\n    public Usuario(String nome, String email){\r\n        this.nome = nome;\r\n        this.email = email;\r\n        this.index = indexes;\r\n        indexes++;\r\n    }\r\n    public String getNome(){\r\n        return nome;\r\n    }\r\n\r\n    public String getEmail(){\r\n        return email;\r\n    }\r\n\r\n    public int getIndex(){\r\n        return index;\r\n    }\r\n\r\n    public String getString(){\r\n        return &quot;Nome : &quot; + this.nome + &quot; E-mail : &quot; + this.email + &quot; index:&quot; + this.index;\r\n    }\r\n}\r\n```\r\n\r\nAnd finally, the most important thing, change your main class so that you create an instance of `Usuarios` and add each and every `Usuario` that you create to that `Usuarios` instance as follows:\r\n```java\r\nimport java.util.*;\r\n\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        Usuarios users = new Usuarios();\r\n        Usuario user0 = new Usuario(&quot;None&quot;, &quot;None&quot;);\r\n        users.addUser(user0);\r\n        Usuario user1 = new Usuario(&quot;Thomas&quot;, &quot;anotheremail@hotmail.com&quot;);\r\n        users.addUser(user1);\r\n        Usuario user2 = new Usuario(&quot;juao&quot;, &quot;juaozinhogeimepleis@hotmail.com&quot;);\r\n        users.addUser(user2);\r\n        Usuario user3 = new Usuario(&quot;marcia&quot;, &quot;jooj@hotmail.com&quot;);\r\n        users.addUser(user3);\r\n        Usuario user4 = new Usuario(&quot;Ednaldo&quot;, &quot;valenada@hotmail.com&quot;);\r\n        users.addUser(user4);\r\n        Usuario user5 = new Usuario(&quot;Fausto&quot;, &quot;olokobixo@hotmail.com&quot;);\r\n        users.addUser(user5);\r\n\r\n        Usuario usuario_logado = new Usuario();\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Login \\n Username :&quot;);\r\n        String nome = input.next();\r\n\r\n        for(Usuario user : users.getUsuarios()){\r\n            if(user.getNome().equals(nome)){\r\n                usuario_logado = user;\r\n            }\r\n        }\r\n        System.out.println(usuario_logado.getString());\r\n    }\r\n}\r\n```","title":"How can I create a reference to an object in my main function (given the user input) (Java)?","body":"<p>You need to do a couple of changes to your code. First, remove the static variable in <code>Usuarios</code> and make it an instance variable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Usuarios {\n    private List&lt;Usuario&gt; usersList = new ArrayList&lt;&gt;();\n\n    public List&lt;Usuario&gt; getUsuarios(){\n        return usersList;\n    }\n\n    public void addUser(Usuario u){\n        usersList.add(u);\n    }\n}\n</code></pre>\n<p>Additionally, remove the line <code>Usuarios.addUser(this);</code> in <code>Usuario</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Usuario {\n\n    private static int indexes = 0;\n    private int index;\n    private String nome;\n    private String email;\n\n    public Usuario(){\n    }\n\n    public Usuario(String nome, String email){\n        this.nome = nome;\n        this.email = email;\n        this.index = indexes;\n        indexes++;\n    }\n    public String getNome(){\n        return nome;\n    }\n\n    public String getEmail(){\n        return email;\n    }\n\n    public int getIndex(){\n        return index;\n    }\n\n    public String getString(){\n        return &quot;Nome : &quot; + this.nome + &quot; E-mail : &quot; + this.email + &quot; index:&quot; + this.index;\n    }\n}\n</code></pre>\n<p>And finally, the most important thing, change your main class so that you create an instance of <code>Usuarios</code> and add each and every <code>Usuario</code> that you create to that <code>Usuarios</code> instance as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class App {\n    public static void main(String[] args) {\n        Usuarios users = new Usuarios();\n        Usuario user0 = new Usuario(&quot;None&quot;, &quot;None&quot;);\n        users.addUser(user0);\n        Usuario user1 = new Usuario(&quot;Thomas&quot;, &quot;anotheremail@hotmail.com&quot;);\n        users.addUser(user1);\n        Usuario user2 = new Usuario(&quot;juao&quot;, &quot;juaozinhogeimepleis@hotmail.com&quot;);\n        users.addUser(user2);\n        Usuario user3 = new Usuario(&quot;marcia&quot;, &quot;jooj@hotmail.com&quot;);\n        users.addUser(user3);\n        Usuario user4 = new Usuario(&quot;Ednaldo&quot;, &quot;valenada@hotmail.com&quot;);\n        users.addUser(user4);\n        Usuario user5 = new Usuario(&quot;Fausto&quot;, &quot;olokobixo@hotmail.com&quot;);\n        users.addUser(user5);\n\n        Usuario usuario_logado = new Usuario();\n\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(&quot;Login \\n Username :&quot;);\n        String nome = input.next();\n\n        for(Usuario user : users.getUsuarios()){\n            if(user.getNome().equals(nome)){\n                usuario_logado = user;\n            }\n        }\n        System.out.println(usuario_logado.getString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23047931,"reputation":1,"user_id":17165236,"display_name":"thomasmelison"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70059623,"answer_count":1,"score":-2,"last_activity_date":1637539312,"creation_date":1637535014,"question_id":70059236,"body_markdown":"I&#39;m making a class `Usuario` which is stored in an `ArrayList` in another class called `Usuarios` and I&#39;m trying to make a code that allows the user to type his name and the object of the class `Usuario` is stored in a variable called `usuario_logado` for further occasions.\r\n \r\nHere is my `Usuarios` class:\r\n\r\n    import java.util.ArrayList; \r\n    public class Usuarios {\r\n        private static ArrayList&lt;Usuario&gt; UsersList = new ArrayList&lt;Usuario&gt;();\r\n    \r\n        public static ArrayList&lt;Usuario&gt; getUsuarios(){\r\n            return Usuarios.UsersList;\r\n        }\r\n    \r\n        public static void addUser(Usuario u){\r\n            UsersList.add(u);\r\n        } \r\n    }\r\n\r\n\r\nHere is my `Usuario` class:\r\n\r\n    import java.util.ArrayList; \r\n    /**\r\n     * Usuario\r\n     */\r\n    public class Usuario {\r\n    \r\n        private static int indexes = 0;\r\n        private int index;\r\n        private String nome;\r\n        private String email;\r\n    \r\n        public Usuario(){\r\n        }\r\n        \r\n        public Usuario(String nome, String email){\r\n           \r\n            this.nome = nome;\r\n            this.email = email;\r\n            Usuarios.addUser(this);\r\n            this.index = indexes;\r\n            indexes++;\r\n        }\r\n        public String getNome(){\r\n            return nome;\r\n        }\r\n    \r\n        public String getEmail(){\r\n            return email;\r\n        }\r\n    \r\n        public int getIndex(){\r\n            return index;\r\n        }\r\n    \r\n        public String getString(){\r\n            return &quot;Nome : &quot; + this.nome + &quot; E-mail : &quot; + this.email + &quot; index:&quot; + this.index; \r\n        }\r\n    }\r\n\r\nAnd here is the main function in the class app:\r\n\r\n    import java.util.ArrayList; \r\n    import java.util.Scanner;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n    \r\n            Usuario user0 = new Usuario(&quot;None&quot;, &quot;None&quot;);\r\n            Usuario user1 = new Usuario(&quot;Thomas&quot;, &quot;anotheremail@hotmail.com&quot;);\r\n            Usuario user2 = new Usuario(&quot;juao&quot;, &quot;juaozinhogeimepleis@hotmail.com&quot;);\r\n            Usuario user3 = new Usuario(&quot;marcia&quot;, &quot;jooj@hotmail.com&quot;);\r\n            Usuario user4 = new Usuario(&quot;Ednaldo&quot;, &quot;valenada@hotmail.com&quot;);\r\n            Usuario user5 = new Usuario(&quot;Fausto&quot;, &quot;olokobixo@hotmail.com&quot;);\r\n           \r\n            Usuario usuario_logado = new Usuario();\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Login \\n Username :&quot;);\r\n            String nome = input.next();\r\n    \r\n            for(Usuario user : Usuarios.getUsuarios()){\r\n                if(user.getNome().equals(nome)){\r\n                    usuario_logado = user;\r\n                }\r\n            }\r\n            usuario_logado.getString(); \r\n        }\r\n    }\r\n\r\nIs there any way that I can store the usuario(user) in the main function?","title":"How can I create a reference to an object in my main function (given the user input) (Java)?","body":"<p>I'm making a class <code>Usuario</code> which is stored in an <code>ArrayList</code> in another class called <code>Usuarios</code> and I'm trying to make a code that allows the user to type his name and the object of the class <code>Usuario</code> is stored in a variable called <code>usuario_logado</code> for further occasions.</p>\n<p>Here is my <code>Usuarios</code> class:</p>\n<pre><code>import java.util.ArrayList; \npublic class Usuarios {\n    private static ArrayList&lt;Usuario&gt; UsersList = new ArrayList&lt;Usuario&gt;();\n\n    public static ArrayList&lt;Usuario&gt; getUsuarios(){\n        return Usuarios.UsersList;\n    }\n\n    public static void addUser(Usuario u){\n        UsersList.add(u);\n    } \n}\n</code></pre>\n<p>Here is my <code>Usuario</code> class:</p>\n<pre><code>import java.util.ArrayList; \n/**\n * Usuario\n */\npublic class Usuario {\n\n    private static int indexes = 0;\n    private int index;\n    private String nome;\n    private String email;\n\n    public Usuario(){\n    }\n    \n    public Usuario(String nome, String email){\n       \n        this.nome = nome;\n        this.email = email;\n        Usuarios.addUser(this);\n        this.index = indexes;\n        indexes++;\n    }\n    public String getNome(){\n        return nome;\n    }\n\n    public String getEmail(){\n        return email;\n    }\n\n    public int getIndex(){\n        return index;\n    }\n\n    public String getString(){\n        return &quot;Nome : &quot; + this.nome + &quot; E-mail : &quot; + this.email + &quot; index:&quot; + this.index; \n    }\n}\n</code></pre>\n<p>And here is the main function in the class app:</p>\n<pre><code>import java.util.ArrayList; \nimport java.util.Scanner;\n\npublic class App {\n    public static void main(String[] args) {\n\n        Usuario user0 = new Usuario(&quot;None&quot;, &quot;None&quot;);\n        Usuario user1 = new Usuario(&quot;Thomas&quot;, &quot;anotheremail@hotmail.com&quot;);\n        Usuario user2 = new Usuario(&quot;juao&quot;, &quot;juaozinhogeimepleis@hotmail.com&quot;);\n        Usuario user3 = new Usuario(&quot;marcia&quot;, &quot;jooj@hotmail.com&quot;);\n        Usuario user4 = new Usuario(&quot;Ednaldo&quot;, &quot;valenada@hotmail.com&quot;);\n        Usuario user5 = new Usuario(&quot;Fausto&quot;, &quot;olokobixo@hotmail.com&quot;);\n       \n        Usuario usuario_logado = new Usuario();\n\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(&quot;Login \\n Username :&quot;);\n        String nome = input.next();\n\n        for(Usuario user : Usuarios.getUsuarios()){\n            if(user.getNome().equals(nome)){\n                usuario_logado = user;\n            }\n        }\n        usuario_logado.getString(); \n    }\n}\n</code></pre>\n<p>Is there any way that I can store the usuario(user) in the main function?</p>\n"},{"tags":["java","while-loop","duplicates","system.out"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":1,"creation_date":1637514602,"post_id":70056720,"comment_id":123840817,"body_markdown":"bring your print for loop out of while loop.","body":"bring your print for loop out of while loop."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1637514669,"post_id":70056720,"comment_id":123840830,"body_markdown":"You may substitute the results array by `Set&lt;Integer&gt;` and apply [contains](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html#contains(java.lang.Object)) .","body":"You may substitute the results array by <code>Set&lt;Integer&gt;</code> and apply <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\">contains</a> ."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637537136,"creation_date":1637515276,"answer_id":70056914,"question_id":70056720,"body_markdown":"You can do this simpler, relying on the fact that a `Set` does not have duplicate objects in it.\r\n```java\r\npublic static void main(String[] args) {\r\n    Random rand = new Random();\r\n    Set&lt;Integer&gt; winningNumbers = new HashSet&lt;&gt;();\r\n\r\n    while (winningNumbers.size() &lt; 9) {\r\n        int randNumber = rand.nextInt(99) + 1;\r\n        winningNumbers.add(randNumber);\r\n    }\r\n\r\n    System.out.print(&quot;The Lottery Numbers are: &quot;);\r\n    for (Integer number : winningNumbers) {\r\n        //add a 0 in front of the number is it&#39;s less that 10\r\n        if (number &lt; 10) {\r\n            System.out.print(&quot;0&quot; + number + &quot; &quot;);\r\n        } else {\r\n            System.out.print(number + &quot; &quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou can even simplify the way you are printing the numbers, relying on `printf()` and `%02d`, which means that 0 paddings are used being the maximum width of the printed numbers 2:\r\n```java\r\npublic static void main(String[] args) {\r\n    Random rand = new Random();\r\n    Set&lt;Integer&gt; winningNumbers = new HashSet&lt;&gt;();\r\n\r\n    while (winningNumbers.size() &lt; 9) {\r\n        int randNumber = rand.nextInt(99) + 1;\r\n        winningNumbers.add(randNumber);\r\n    }\r\n\r\n    System.out.print(&quot;The Lottery Numbers are: &quot;);\r\n    System.out.printf(&quot;%02d %02d %02d %02d %02d %02d %02d %02d %02d&quot;, winningNumbers.toArray());\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nIn your code, just move the line `System.out.print(&quot;The Lottery Numbers are: &quot;);` to before the while loop and the loop `for (int i=0; i&lt;10; i++)` to after the while loop as follows:\r\n```java\r\nSystem.out.print(&quot;The Lottery Numbers are: &quot;);\r\nwhile (numCount&lt;=9) {\r\n    int randNumber = rand.nextInt(99)+1;\r\n    if (results[0] == randNumber || results[1] == randNumber || results[2] == randNumber || results[3] == randNumber ||\r\n            results[4] == randNumber || results[5] == randNumber || results[6] == randNumber || results[7] == randNumber\r\n            || results[8] == randNumber || results[9] == randNumber) {\r\n        \r\n    } else {\r\n        Array.setInt(results, numCount, randNumber);\r\n        numCount++;\r\n    }\r\n}\r\n\r\nfor (int i=0; i&lt;10; i++)\r\n    //add a 0 in front of the number is it&#39;s less that 10\r\n    if (results[i] &lt;10) {\r\n        System.out.print(&quot;0&quot;+results[i]+&quot; &quot;);\r\n    }\r\n```","title":"System.out.print the winning line only","body":"<p>You can do this simpler, relying on the fact that a <code>Set</code> does not have duplicate objects in it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Random rand = new Random();\n    Set&lt;Integer&gt; winningNumbers = new HashSet&lt;&gt;();\n\n    while (winningNumbers.size() &lt; 9) {\n        int randNumber = rand.nextInt(99) + 1;\n        winningNumbers.add(randNumber);\n    }\n\n    System.out.print(&quot;The Lottery Numbers are: &quot;);\n    for (Integer number : winningNumbers) {\n        //add a 0 in front of the number is it's less that 10\n        if (number &lt; 10) {\n            System.out.print(&quot;0&quot; + number + &quot; &quot;);\n        } else {\n            System.out.print(number + &quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p>You can even simplify the way you are printing the numbers, relying on <code>printf()</code> and <code>%02d</code>, which means that 0 paddings are used being the maximum width of the printed numbers 2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Random rand = new Random();\n    Set&lt;Integer&gt; winningNumbers = new HashSet&lt;&gt;();\n\n    while (winningNumbers.size() &lt; 9) {\n        int randNumber = rand.nextInt(99) + 1;\n        winningNumbers.add(randNumber);\n    }\n\n    System.out.print(&quot;The Lottery Numbers are: &quot;);\n    System.out.printf(&quot;%02d %02d %02d %02d %02d %02d %02d %02d %02d&quot;, winningNumbers.toArray());\n}\n</code></pre>\n<hr />\n<p>In your code, just move the line <code>System.out.print(&quot;The Lottery Numbers are: &quot;);</code> to before the while loop and the loop <code>for (int i=0; i&lt;10; i++)</code> to after the while loop as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.print(&quot;The Lottery Numbers are: &quot;);\nwhile (numCount&lt;=9) {\n    int randNumber = rand.nextInt(99)+1;\n    if (results[0] == randNumber || results[1] == randNumber || results[2] == randNumber || results[3] == randNumber ||\n            results[4] == randNumber || results[5] == randNumber || results[6] == randNumber || results[7] == randNumber\n            || results[8] == randNumber || results[9] == randNumber) {\n        \n    } else {\n        Array.setInt(results, numCount, randNumber);\n        numCount++;\n    }\n}\n\nfor (int i=0; i&lt;10; i++)\n    //add a 0 in front of the number is it's less that 10\n    if (results[i] &lt;10) {\n        System.out.print(&quot;0&quot;+results[i]+&quot; &quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":23006108,"reputation":13,"user_id":17129373,"display_name":"Leanne Graham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70056914,"answer_count":1,"score":1,"last_activity_date":1637537136,"creation_date":1637513956,"question_id":70056720,"body_markdown":"I have a java lottery game assignment and where I am running a while loop to prevent duplication of numbers in the result.\r\nI am getting a list of numbers with no duplicates, however the `System.out.print` is returning all lines until I get the final one with no duplicates. Is there a way to only print the final &quot;winning&quot; line?\r\n\r\nCode below\r\n```java\r\nwhile (numCount&lt;=9) {\r\n  int randNumber = rand.nextInt(99)+1;\r\n  if (results[0] == randNumber || results[1] == randNumber || results[2] == randNumber || results[3] == randNumber ||\r\n        results[4] == randNumber || results[5] == randNumber || results[6] == randNumber || results[7] == randNumber \r\n        || results[8] == randNumber || results[9] == randNumber) {\r\n    \r\n  } else {\r\n    Array.setInt(results, numCount, randNumber);\r\n    numCount++;\r\n  }\r\n    \r\n  System.out.print(&quot;The Lottery Numbers are: &quot;);\r\n    \r\n  for (int i=0; i&lt;10; i++)\r\n      //add a 0 in front of the number is it&#39;s less that 10\r\n    if (results[i] &lt;10) {\r\n      System.out.print(&quot;0&quot;+results[i]+&quot; &quot;);\r\n    }\r\n}\r\n```","title":"System.out.print the winning line only","body":"<p>I have a java lottery game assignment and where I am running a while loop to prevent duplication of numbers in the result.\nI am getting a list of numbers with no duplicates, however the <code>System.out.print</code> is returning all lines until I get the final one with no duplicates. Is there a way to only print the final &quot;winning&quot; line?</p>\n<p>Code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (numCount&lt;=9) {\n  int randNumber = rand.nextInt(99)+1;\n  if (results[0] == randNumber || results[1] == randNumber || results[2] == randNumber || results[3] == randNumber ||\n        results[4] == randNumber || results[5] == randNumber || results[6] == randNumber || results[7] == randNumber \n        || results[8] == randNumber || results[9] == randNumber) {\n    \n  } else {\n    Array.setInt(results, numCount, randNumber);\n    numCount++;\n  }\n    \n  System.out.print(&quot;The Lottery Numbers are: &quot;);\n    \n  for (int i=0; i&lt;10; i++)\n      //add a 0 in front of the number is it's less that 10\n    if (results[i] &lt;10) {\n      System.out.print(&quot;0&quot;+results[i]+&quot; &quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","command-line-interface","decompiler"],"comments":[{"owner":{"account_id":1405229,"reputation":8733,"user_id":1333133,"accept_rate":51,"display_name":"Satya"},"score":0,"creation_date":1377767182,"post_id":18506443,"comment_id":27210564,"body_markdown":"why not try javap command available with java itself","body":"why not try javap command available with java itself"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1377768281,"post_id":18506443,"comment_id":27211232,"body_markdown":"@Satya - because it doesn&#39;t convert bytecodes to Java ...","body":"@Satya - because it doesn&#39;t convert bytecodes to Java ..."}],"answers":[{"tags":[],"owner":{"account_id":2674704,"reputation":7701,"user_id":2311362,"accept_rate":78,"display_name":"OlivierBlanvillain"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637535224,"creation_date":1377767211,"answer_id":18506602,"question_id":18506443,"body_markdown":"Here are a few open-source actively developed CLI decompilers:\r\n\r\n - [Procyon](https://github.com/mstrobel/procyon)\r\n - [Krakatau](https://github.com/Storyyeller/Krakatau)\r\n - [CFR](http://www.benf.org/other/cfr/)","title":"cli decompiler for java .class file","body":"<p>Here are a few open-source actively developed CLI decompilers:</p>\n<ul>\n<li><a href=\"https://github.com/mstrobel/procyon\" rel=\"nofollow noreferrer\">Procyon</a></li>\n<li><a href=\"https://github.com/Storyyeller/Krakatau\" rel=\"nofollow noreferrer\">Krakatau</a></li>\n<li><a href=\"http://www.benf.org/other/cfr/\" rel=\"nofollow noreferrer\">CFR</a></li>\n</ul>\n"}],"owner":{"account_id":3051303,"reputation":61,"user_id":2585780,"display_name":"pikachu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2136,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":18506602,"answer_count":1,"score":4,"last_activity_date":1637535224,"creation_date":1377766731,"question_id":18506443,"body_markdown":"I am currently developing a program to analyse java source code. However I couldn&#39;t find any CLI decompilers to convert the .class files to java. Are there such programs? I have currently only found GUI based decompilers.","title":"cli decompiler for java .class file","body":"<p>I am currently developing a program to analyse java source code. However I couldn't find any CLI decompilers to convert the .class files to java. Are there such programs? I have currently only found GUI based decompilers.</p>\n"},{"tags":["java","maven","bazel"],"comments":[{"owner":{"account_id":3527329,"reputation":2062,"user_id":4249576,"display_name":"D&#225;rio"},"score":0,"creation_date":1637570432,"post_id":60379915,"comment_id":123852017,"body_markdown":"Hi @Blaine Buxton, I bumped into the same issue. Have you found the solution? HTTP gives the same issue. I tried .netrc and ~/.config/coursier/credentials.properties as well.","body":"Hi @Blaine Buxton, I bumped into the same issue. Have you found the solution? HTTP gives the same issue. I tried .netrc and ~/.config/coursier/credentials.properties as well."}],"answers":[{"tags":[],"owner":{"account_id":3219350,"reputation":187,"user_id":2717156,"display_name":"Joel Small"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611794793,"creation_date":1611794793,"answer_id":65929498,"question_id":60379915,"body_markdown":"This may not have been the issue at the time of your question, but latest github docs point out basic auth for private repos is over HTTP not HTTPS\r\n\r\nhttps://github.com/bazelbuild/rules_jvm_external","title":"How to debug jvm_maven_import_external rule in bazel?","body":"<p>This may not have been the issue at the time of your question, but latest github docs point out basic auth for private repos is over HTTP not HTTPS</p>\n<p><a href=\"https://github.com/bazelbuild/rules_jvm_external\" rel=\"nofollow noreferrer\">https://github.com/bazelbuild/rules_jvm_external</a></p>\n"}],"owner":{"account_id":17732003,"reputation":31,"user_id":12874371,"display_name":"Blaine Buxton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637534982,"creation_date":1582560848,"question_id":60379915,"body_markdown":"Using bazel 1.0.0 and having some issues with downloading jars from a private maven repository.\r\n\r\nHere&#39;s the code (updated from maven java example: https://github.com/bazelbuild/examples/tree/master/java-maven):\r\n```\r\nrepositories = [&quot;https://USER:PASSWORD@nexus-proxy-prd.soma.salesforce.com/nexus/content/groups/public&quot;]\r\njvm_maven_import_external(name=&#39;junit_junit&#39;,artifact=&quot;junit:junit:4.12&quot;,server_urls=repositories)\r\njvm_maven_import_external(name=&#39;com_google_guava_guava&#39;,artifact=&quot;com.google.guava:guava:28.0-jre&quot;,server_urls=repositories)\r\n```\r\nUSER/PASSWORD are nexus tokens. I&#39;m getting &quot;401&quot; errors and jars can be downloaded with curl using the URL that jvm_maven_import_external tries in the log.\r\n\r\nI attempted to remove USER/PASSWORD and putting it into a ~/.netrc file, but get the same &quot;401&quot; error from jvm_maven_import_external. If I attempt the URL in the logs with curl -n, then resource downloads.\r\n\r\nMy question is how can I debug what the rule is doing so that I can see where the problem lies?","title":"How to debug jvm_maven_import_external rule in bazel?","body":"<p>Using bazel 1.0.0 and having some issues with downloading jars from a private maven repository.</p>\n\n<p>Here's the code (updated from maven java example: <a href=\"https://github.com/bazelbuild/examples/tree/master/java-maven\" rel=\"nofollow noreferrer\">https://github.com/bazelbuild/examples/tree/master/java-maven</a>):</p>\n\n<pre><code>repositories = [\"https://USER:PASSWORD@nexus-proxy-prd.soma.salesforce.com/nexus/content/groups/public\"]\njvm_maven_import_external(name='junit_junit',artifact=\"junit:junit:4.12\",server_urls=repositories)\njvm_maven_import_external(name='com_google_guava_guava',artifact=\"com.google.guava:guava:28.0-jre\",server_urls=repositories)\n</code></pre>\n\n<p>USER/PASSWORD are nexus tokens. I'm getting \"401\" errors and jars can be downloaded with curl using the URL that jvm_maven_import_external tries in the log.</p>\n\n<p>I attempted to remove USER/PASSWORD and putting it into a ~/.netrc file, but get the same \"401\" error from jvm_maven_import_external. If I attempt the URL in the logs with curl -n, then resource downloads.</p>\n\n<p>My question is how can I debug what the rule is doing so that I can see where the problem lies?</p>\n"},{"tags":["java","mysql","netbeans","glassfish","asadmin"],"answers":[{"tags":[],"owner":{"account_id":15870293,"reputation":150,"user_id":11451151,"display_name":"anas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637534239,"creation_date":1637534239,"answer_id":70059164,"question_id":68349270,"body_markdown":"just add the resource on glassfish admin console.. Possible duplicate of  [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51029558/11451151","title":"new data source and connection pool are not displayed in the JDBC resources and Connection pool","body":"<p>just add the resource on glassfish admin console.. Possible duplicate of  <a href=\"https://stackoverflow.com/a/51029558/11451151\">here</a></p>\n"}],"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637534239,"creation_date":1626100594,"question_id":68349270,"body_markdown":"I&#39;m creating a system using netbeans IDE at some point I had to set up the data source and connection pool. I did that well but when I deploy the project the new data source and connection pool are not displayed on the JDBC resources and connection pool. I have figured I should add the reources by using the as admin command.\r\n\r\nasadmin&gt; add-resources c:\\tmp\\resource.xml\r\n\r\nCommand : JDBC resource jdbc1 created successfully.\r\n\r\nCommand : JDBC connection pool poolA created successfully.\r\n\r\nCommand add-resources executed successfully.\r\n\r\nBut I don&#39;t know where exactly do I write this code. Please will someone tell me where do I write the given glassfish asadmin command so that  I can add the resources.","title":"new data source and connection pool are not displayed in the JDBC resources and Connection pool","body":"<p>I'm creating a system using netbeans IDE at some point I had to set up the data source and connection pool. I did that well but when I deploy the project the new data source and connection pool are not displayed on the JDBC resources and connection pool. I have figured I should add the reources by using the as admin command.</p>\n<p>asadmin&gt; add-resources c:\\tmp\\resource.xml</p>\n<p>Command : JDBC resource jdbc1 created successfully.</p>\n<p>Command : JDBC connection pool poolA created successfully.</p>\n<p>Command add-resources executed successfully.</p>\n<p>But I don't know where exactly do I write this code. Please will someone tell me where do I write the given glassfish asadmin command so that  I can add the resources.</p>\n"},{"tags":["java","jsp","web-applications"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1637537918,"post_id":70059153,"comment_id":123846165,"body_markdown":"MVC - Model, View, Controller.  You can just use Servlets for the Controlller, and JSP for the view.  Other frameworks exist like Struts and Spring.","body":"MVC - Model, View, Controller.  You can just use Servlets for the Controlller, and JSP for the view.  Other frameworks exist like Struts and Spring."},{"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"score":0,"creation_date":1637686072,"post_id":70059153,"comment_id":123890382,"body_markdown":"Check this example https://www.javaguides.net/2019/01/jsp-jdbc-mysql-example.html","body":"Check this example <a href=\"https://www.javaguides.net/2019/01/jsp-jdbc-mysql-example.html\" rel=\"nofollow noreferrer\">javaguides.net/2019/01/jsp-jdbc-mysql-example.html</a>"},{"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"score":0,"creation_date":1637686175,"post_id":70059153,"comment_id":123890438,"body_markdown":"You gonna add what is called a `Data Access Layer` where you put your Database logic, and you use it in upper layer/s","body":"You gonna add what is called a <code>Data Access Layer</code> where you put your Database logic, and you use it in upper layer/s"}],"owner":{"account_id":19507141,"reputation":3,"user_id":14271884,"display_name":"Amon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637534101,"creation_date":1637534101,"question_id":70059153,"body_markdown":"I have an assignment that wants me to use 3-tier-architecture, which basically means the ui/presentation-tier can&#39;t speak directly with the database tier.\r\n\r\nI get the connection to the database through a class called &quot;ConnectionDB&quot; that&#39;s part of the database package.\r\n\r\n[Basic structure][1]\r\n\r\nSay you want to create a webshop that shows the user some items that you have in your database, following this specific architecture, how is the right way to get the contents from the database into the JSP that displays them to the user?\r\n\r\nThanks.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4SF0R.png","title":"How to print contents from MySQL database to website using JSP and 3-tier architecture?","body":"<p>I have an assignment that wants me to use 3-tier-architecture, which basically means the ui/presentation-tier can't speak directly with the database tier.</p>\n<p>I get the connection to the database through a class called &quot;ConnectionDB&quot; that's part of the database package.</p>\n<p><a href=\"https://i.stack.imgur.com/4SF0R.png\" rel=\"nofollow noreferrer\">Basic structure</a></p>\n<p>Say you want to create a webshop that shows the user some items that you have in your database, following this specific architecture, how is the right way to get the contents from the database into the JSP that displays them to the user?</p>\n<p>Thanks.</p>\n"},{"tags":["java","oracle","jdbc","type-conversion"],"answers":[{"tags":[],"owner":{"account_id":3028916,"reputation":35508,"user_id":2568341,"accept_rate":57,"display_name":"krokodilko"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1389450437,"creation_date":1389450437,"answer_id":21063438,"question_id":21061890,"body_markdown":"I am not quite sure what are you trying to do.&lt;br&gt;\r\nOracle has default mappings between java clases and SQL types, &lt;br&gt;\r\nplease take a look at this table: http://docs.oracle.com/cd/E11882_01/java.112/e16548/apxref.htm#JJDBC28906\r\n&lt;br&gt;&lt;br&gt;\r\nFor example there are valid conversions from a `NUMBER` type to java types:\r\n\r\n    +---------------+--------------------+\r\n    | SQL data type | Java types         |\r\n    +---------------+--------------------+\r\n    |   NUMBER      |boolean             |\r\n    |               |char                |   \r\n    |               |byte                |\r\n    |               |short               |\r\n    |               |int                 |\r\n    |               |long                |\r\n    |               |float               |\r\n    |               |double              |\r\n    |               |java.lang.Byte      |\r\n    |               |java.lang.Short     |\r\n    |               |java.lang.Integer   |\r\n    |               |java.lang.Long      |\r\n    |               |java.lang.Float     |\r\n    |               |java.lang.Double    |\r\n    |               |java.math.BigDecimal|\r\n    |               |oracle.sql.NUMBER   |\r\n    +---------------+--------------------+\r\n\r\nIf we want to get a `NUMBER` as a specific java type, we need to use an appriopriate `getXXX` method from the `ResultSet` interface, for example:&lt;br&gt;&lt;br&gt;\r\n**getInt** retrieves the number as java int--&gt; http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getInt%28int%29&lt;br&gt;\r\n&lt;br&gt;**getLong** retrieves the number as java long --&gt; http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getLong%28int%29&lt;br&gt;\r\n&lt;br&gt;**getDouble** retrieves the number as java long --&gt; http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getDouble%28int%29&lt;br&gt;\r\n&lt;br&gt;**getBigDecimal** retrieves the number as java BigDecimal --&gt; http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getBigDecimal%28java.lang.String,%20int%29\r\n&lt;br&gt;&lt;br&gt;\r\nThis is your - the developer - responsibility to choose the proper method for your data.","title":"How to map oracle dataType to java dataType?","body":"<p>I am not quite sure what are you trying to do.<br>\nOracle has default mappings between java clases and SQL types, <br>\nplease take a look at this table: <a href=\"http://docs.oracle.com/cd/E11882_01/java.112/e16548/apxref.htm#JJDBC28906\" rel=\"noreferrer\">http://docs.oracle.com/cd/E11882_01/java.112/e16548/apxref.htm#JJDBC28906</a>\n<br><br>\nFor example there are valid conversions from a <code>NUMBER</code> type to java types:</p>\n\n<pre><code>+---------------+--------------------+\n| SQL data type | Java types         |\n+---------------+--------------------+\n|   NUMBER      |boolean             |\n|               |char                |   \n|               |byte                |\n|               |short               |\n|               |int                 |\n|               |long                |\n|               |float               |\n|               |double              |\n|               |java.lang.Byte      |\n|               |java.lang.Short     |\n|               |java.lang.Integer   |\n|               |java.lang.Long      |\n|               |java.lang.Float     |\n|               |java.lang.Double    |\n|               |java.math.BigDecimal|\n|               |oracle.sql.NUMBER   |\n+---------------+--------------------+\n</code></pre>\n\n<p>If we want to get a <code>NUMBER</code> as a specific java type, we need to use an appriopriate <code>getXXX</code> method from the <code>ResultSet</code> interface, for example:<br><br>\n<strong>getInt</strong> retrieves the number as java int--> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getInt%28int%29\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getInt%28int%29</a><br>\n<br><strong>getLong</strong> retrieves the number as java long --> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getLong%28int%29\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getLong%28int%29</a><br>\n<br><strong>getDouble</strong> retrieves the number as java long --> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getDouble%28int%29\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getDouble%28int%29</a><br>\n<br><strong>getBigDecimal</strong> retrieves the number as java BigDecimal --> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getBigDecimal%28java.lang.String,%20int%29\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getBigDecimal%28java.lang.String,%20int%29</a>\n<br><br>\nThis is your - the developer - responsibility to choose the proper method for your data.</p>\n"}],"owner":{"account_id":3842054,"reputation":61,"user_id":3184842,"display_name":"user3184842"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28603,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1637533784,"creation_date":1389441161,"question_id":21061890,"body_markdown":"how can mapping oracle dataType to java dataType?\r\n\r\nI tried as below but Not accurate .\r\n\r\n     DatabaseMetaData databaseMetaData = this.getConnection().getMetaData(); \r\n     ResultSet rs = databaseMetaData.getColumns(catalog, schema, tableName, columnName);\r\n    \r\n     while (rs.next()) {\r\n         if ( rs.getString(&quot;data_type&quot;).equals(Types.NUMERIC)){\r\n               javaDataType = &quot;java.math.BigDecimal&quot;;\r\n         } }\r\n\r\n\r\nfor example :\r\noracle =&gt; number(2,3) =&gt; javaDataType = BigDecimal;\r\noracle =&gt; number(15) =&gt; javaDataType = BigDecimal;\r\n\r\n\r\nBest way to convert oracle `dataType` to java `dataType`?\r\n","title":"How to map oracle dataType to java dataType?","body":"<p>how can mapping oracle dataType to java dataType?</p>\n\n<p>I tried as below but Not accurate .</p>\n\n<pre><code> DatabaseMetaData databaseMetaData = this.getConnection().getMetaData(); \n ResultSet rs = databaseMetaData.getColumns(catalog, schema, tableName, columnName);\n\n while (rs.next()) {\n     if ( rs.getString(\"data_type\").equals(Types.NUMERIC)){\n           javaDataType = \"java.math.BigDecimal\";\n     } }\n</code></pre>\n\n<p>for example :\noracle => number(2,3) => javaDataType = BigDecimal;\noracle => number(15) => javaDataType = BigDecimal;</p>\n\n<p>Best way to convert oracle <code>dataType</code> to java <code>dataType</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1637518106,"post_id":70057273,"comment_id":123841802,"body_markdown":"Queston about optimizing working code should be asked at [codereview.SE]","body":"Queston about optimizing working code should be asked at <a href=\"https://codereview.stackexchange.com\">Code Review</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1637518109,"post_id":70057273,"comment_id":123841803,"body_markdown":"We could use [`Stream::flatMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)) to flatten the inner lists down to the level we need.","body":"We could use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Stream::flatMap</code></a> to flatten the inner lists down to the level we need."},{"owner":{"account_id":15741938,"reputation":25,"user_id":17012602,"display_name":"Ravi"},"score":0,"creation_date":1637518252,"post_id":70057273,"comment_id":123841827,"body_markdown":"would be very great @Turing85, if you can comment as an complete answer :) though i am trying what you said","body":"would be very great @Turing85, if you can comment as an complete answer :) though i am trying what you said"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1637522493,"post_id":70057273,"comment_id":123842884,"body_markdown":"@Ravi [There  you are](https://stackoverflow.com/a/70057671/4216641).","body":"@Ravi <a href=\"https://stackoverflow.com/a/70057671/4216641\">There  you are</a>."}],"answers":[{"tags":[],"owner":{"account_id":10871958,"reputation":193,"user_id":7993564,"display_name":"Jo&#227;o Sim&#245;es"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637520403,"creation_date":1637519009,"answer_id":70057411,"question_id":70057273,"body_markdown":"It&#39;s hard to tell by your original question if you need the lists on the top layer.\r\nIf all you need is the list of dataChildSubList3 you could do this: \r\n\r\n    List&lt;Model1&gt; listModel1 = getDataForModel1(......);\r\n    listModel1.getSubList1()\r\n    .stream()\r\n    .flatMap(dataSubList1 -&gt; dataSubList1.getChildSublList2().stream())\r\n    .flatMap(dataSubList2 -&gt; dataSubList2.getChildSublList3().stream())\r\n    .filter(dataSubList3::getIsValid)\r\n    .forEach(dataChildSubList3 -&gt; {\r\n              // Setting my required data in this dataChildSubList3 all \r\n        })","title":"Java Lists alternate for nested forEach","body":"<p>It's hard to tell by your original question if you need the lists on the top layer.\nIf all you need is the list of dataChildSubList3 you could do this:</p>\n<pre><code>List&lt;Model1&gt; listModel1 = getDataForModel1(......);\nlistModel1.getSubList1()\n.stream()\n.flatMap(dataSubList1 -&gt; dataSubList1.getChildSublList2().stream())\n.flatMap(dataSubList2 -&gt; dataSubList2.getChildSublList3().stream())\n.filter(dataSubList3::getIsValid)\n.forEach(dataChildSubList3 -&gt; {\n          // Setting my required data in this dataChildSubList3 all \n    })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637521803,"creation_date":1637521191,"answer_id":70057671,"question_id":70057273,"body_markdown":"This answer should be seen as a sketch. Since the code does not explicitly define the return types, the code might not work 1:1.\r\n\r\n---\r\nIn the following, I assume that:\r\n- `listModel1.getSubList1()` returns a `List&lt;Data1&gt;`,\r\n- `dataSubList1.getChildSublList2()` returns a `List&lt;Data2&gt;`, and\r\n- `dataSubList2.getChildSublList3()` returns a `List&lt;Data3&gt;`.\r\n\r\n---\r\nIf we use Java 8+, we can utilize the [`stream` API][streamApi]:\r\n\r\n    List&lt;Model1&gt; listModel1 = getDataForModel1(......);\r\n    listModel1.getSubList1().stream()\r\n\r\n        // 1st block replaces 1st foreach:\r\n        .filter(Objects::nonNull)  // remove nulls, just to be safe\r\n        .map(Data1::getChildSublList2) // transform each Data1-object to its list of \r\n                                       // Data2-objects\r\n        .flatMap(List::stream) // flatten: transform each list in a stream of its \r\n                               // elements\r\n\r\n        // 2nd block replaces 2nd foreach:\r\n        .filter(Objects::nonNull) // remove nulls, just to be safe\r\n        .map(Data2::getChildSublList3) // transform each Data2-object to its list of \r\n                                       // Data3-objects\r\n        .flatMap(List::stream) // flatten: transform each list in a stream of its \r\n                               // elements\r\n\r\n        // 3rd block replaces 3rd foreach:\r\n        .filter(Objects::nonNull) // remove nulls, just to be safe\r\n        .filter(Data3::getIsValid) // move if-condition to here\r\n        .forEach(dataChildSubList3 -&gt; {\r\n            // Setting my required data in this dataChildSubList3 all properties\r\n        });\r\n\r\nIt would be even better if we move the lambda-body of the `forEach`-lambda in a separate method (e.g. named `foo`) that takes a `Data3` as parameter and does the processing, this would simplify the `forEach(...)` to:\r\n\r\n    listModel1.getSubList1().stream()\r\n        ...\r\n        .forEach(this::foo);\r\n\r\n[streamApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html ","title":"Java Lists alternate for nested forEach","body":"<p>This answer should be seen as a sketch. Since the code does not explicitly define the return types, the code might not work 1:1.</p>\n<hr />\n<p>In the following, I assume that:</p>\n<ul>\n<li><code>listModel1.getSubList1()</code> returns a <code>List&lt;Data1&gt;</code>,</li>\n<li><code>dataSubList1.getChildSublList2()</code> returns a <code>List&lt;Data2&gt;</code>, and</li>\n<li><code>dataSubList2.getChildSublList3()</code> returns a <code>List&lt;Data3&gt;</code>.</li>\n</ul>\n<hr />\n<p>If we use Java 8+, we can utilize the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>stream</code> API</a>:</p>\n<pre><code>List&lt;Model1&gt; listModel1 = getDataForModel1(......);\nlistModel1.getSubList1().stream()\n\n    // 1st block replaces 1st foreach:\n    .filter(Objects::nonNull)  // remove nulls, just to be safe\n    .map(Data1::getChildSublList2) // transform each Data1-object to its list of \n                                   // Data2-objects\n    .flatMap(List::stream) // flatten: transform each list in a stream of its \n                           // elements\n\n    // 2nd block replaces 2nd foreach:\n    .filter(Objects::nonNull) // remove nulls, just to be safe\n    .map(Data2::getChildSublList3) // transform each Data2-object to its list of \n                                   // Data3-objects\n    .flatMap(List::stream) // flatten: transform each list in a stream of its \n                           // elements\n\n    // 3rd block replaces 3rd foreach:\n    .filter(Objects::nonNull) // remove nulls, just to be safe\n    .filter(Data3::getIsValid) // move if-condition to here\n    .forEach(dataChildSubList3 -&gt; {\n        // Setting my required data in this dataChildSubList3 all properties\n    });\n</code></pre>\n<p>It would be even better if we move the lambda-body of the <code>forEach</code>-lambda in a separate method (e.g. named <code>foo</code>) that takes a <code>Data3</code> as parameter and does the processing, this would simplify the <code>forEach(...)</code> to:</p>\n<pre><code>listModel1.getSubList1().stream()\n    ...\n    .forEach(this::foo);\n</code></pre>\n"}],"owner":{"account_id":15741938,"reputation":25,"user_id":17012602,"display_name":"Ravi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70057671,"answer_count":2,"score":0,"last_activity_date":1637533344,"creation_date":1637517888,"question_id":70057273,"body_markdown":"Below is my working code set of nested `forEach`. Looking for the best alternate to make code clean. Looks to be a very complex set of code\r\n\r\nThis `Model1` is a `List` containing various `SubList` and other few elements\r\n\r\n```java\r\nList&lt;Model1&gt; listModel1 = getDataForModel1(......);\r\nlistModel1.getSubList1().forEach(dataSubList1 -&gt; {\r\n    dataSubList1.getChildSublList2().forEach(dataChildSubList2 -&gt; {\r\n        dataChildSubList2.getChildSubList3().forEach(dataChildSubList3 -&gt; {\r\n          if (dataChildSubList3.getIsValid()) {\r\n              // Setting my required data in this dataChildSubList3 all properties\r\n            }\r\n        })\r\n    })\r\n})\r\n```\r\n\r\nThe above code is working as expected but Looking for an alternate to `forEach`. Thus making the above code less complex. Thanks in advance","title":"Java Lists alternate for nested forEach","body":"<p>Below is my working code set of nested <code>forEach</code>. Looking for the best alternate to make code clean. Looks to be a very complex set of code</p>\n<p>This <code>Model1</code> is a <code>List</code> containing various <code>SubList</code> and other few elements</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Model1&gt; listModel1 = getDataForModel1(......);\nlistModel1.getSubList1().forEach(dataSubList1 -&gt; {\n    dataSubList1.getChildSublList2().forEach(dataChildSubList2 -&gt; {\n        dataChildSubList2.getChildSubList3().forEach(dataChildSubList3 -&gt; {\n          if (dataChildSubList3.getIsValid()) {\n              // Setting my required data in this dataChildSubList3 all properties\n            }\n        })\n    })\n})\n</code></pre>\n<p>The above code is working as expected but Looking for an alternate to <code>forEach</code>. Thus making the above code less complex. Thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1637531653,"post_id":70058834,"comment_id":123845016,"body_markdown":"`map()` won&#39;t throw an NPE unless your lambda does. It won&#39;t be invoked on a null object.","body":"<code>map()</code> won&#39;t throw an NPE unless your lambda does. It won&#39;t be invoked on a null object."},{"owner":{"account_id":10871958,"reputation":193,"user_id":7993564,"display_name":"Jo&#227;o Sim&#245;es"},"score":0,"creation_date":1637533153,"post_id":70058834,"comment_id":123845364,"body_markdown":"`map()` will be invoked on a null object. `map()` won&#39;t be invoked on an empty `Optional`.","body":"<code>map()</code> will be invoked on a null object. <code>map()</code> won&#39;t be invoked on an empty <code>Optional</code>."}],"answers":[{"tags":[],"owner":{"account_id":10871958,"reputation":193,"user_id":7993564,"display_name":"Jo&#227;o Sim&#245;es"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637532228,"creation_date":1637531759,"answer_id":70058915,"question_id":70058834,"body_markdown":"You can use `.findFirst().map(ans -&gt; ...)`.\r\n`map` will never throw a NPE in your context.\r\n\r\nFrom the documentation:\r\n\r\n&gt; If a value is present, apply the provided mapping function to it, and if the result is non-null, return an Optional describing the result. Otherwise return an empty Optional.\r\n\r\nSo you can do:\r\n\r\n    Double result = answers\r\n    \t\t\t\t.stream()\r\n    \t\t\t\t.filter(ans -&gt; ans.getQuestionId() == MY_QUESTION_ID)\r\n    \t\t\t\t.findFirst()\r\n    \t\t\t\t.map(Answer::getAnswerNumericVal)\r\n    \t\t\t\t.orElse(null);\r\n","title":"Java Lambda: Quickly check if 0 or 1 result from Filter and map to result variable, using findFirst/ifPresentOrElse","body":"<p>You can use <code>.findFirst().map(ans -&gt; ...)</code>.\n<code>map</code> will never throw a NPE in your context.</p>\n<p>From the documentation:</p>\n<blockquote>\n<p>If a value is present, apply the provided mapping function to it, and if the result is non-null, return an Optional describing the result. Otherwise return an empty Optional.</p>\n</blockquote>\n<p>So you can do:</p>\n<pre><code>Double result = answers\n                .stream()\n                .filter(ans -&gt; ans.getQuestionId() == MY_QUESTION_ID)\n                .findFirst()\n                .map(Answer::getAnswerNumericVal)\n                .orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637531886,"creation_date":1637531886,"answer_id":70058925,"question_id":70058834,"body_markdown":"It&#39;s safe to call `map()` on empty streams or optionals. Just do that and then `orElse(null)`:\r\n\r\n    Double result = answers.stream()\r\n            .filter(ans -&gt; ans.getQuestionId() == MY_QUESTION_ID)\r\n            .map(ans -&gt; ans.getAnswerNumericVal())\r\n            .findFirst()\r\n            .orElse(null);\r\n\r\nI moved the `map()` to the stream to avoid the extra `Optional` instantiation, but either way works.","title":"Java Lambda: Quickly check if 0 or 1 result from Filter and map to result variable, using findFirst/ifPresentOrElse","body":"<p>It's safe to call <code>map()</code> on empty streams or optionals. Just do that and then <code>orElse(null)</code>:</p>\n<pre><code>Double result = answers.stream()\n        .filter(ans -&gt; ans.getQuestionId() == MY_QUESTION_ID)\n        .map(ans -&gt; ans.getAnswerNumericVal())\n        .findFirst()\n        .orElse(null);\n</code></pre>\n<p>I moved the <code>map()</code> to the stream to avoid the extra <code>Optional</code> instantiation, but either way works.</p>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70058915,"answer_count":2,"score":0,"last_activity_date":1637532228,"creation_date":1637531012,"question_id":70058834,"body_markdown":"I need to filter a list of `answers` where there is either 0 or 1 result, and quickly return either (1) that result or (2) NULL as the value of my `Double result`.\r\n\r\n    // Should be set to either (1) matching ans.getAnswerNumericVal() or (2) NULL\r\n    Double result = answers.stream().filter(ans -&gt; ans.getQuestionId()) == MY_QUESTION_ID)\r\n                                    .findFirst().ifPresentOrElse(ans -&gt; ans.getAnswerNumericVal(), \r\n                                                                 () -&gt; null);\r\n\r\nBut this is a syntactically incorrect expression. I don&#39;t want to perform logic inside the `ifPresentOrElse`, I want to map it to either a field or NULL.\r\n\r\nOr should I use `.findFirst().map(ans -&gt; ...)` ? There may be 0 results, so `map(..)` can throw an NPE.\r\n","title":"Java Lambda: Quickly check if 0 or 1 result from Filter and map to result variable, using findFirst/ifPresentOrElse","body":"<p>I need to filter a list of <code>answers</code> where there is either 0 or 1 result, and quickly return either (1) that result or (2) NULL as the value of my <code>Double result</code>.</p>\n<pre><code>// Should be set to either (1) matching ans.getAnswerNumericVal() or (2) NULL\nDouble result = answers.stream().filter(ans -&gt; ans.getQuestionId()) == MY_QUESTION_ID)\n                                .findFirst().ifPresentOrElse(ans -&gt; ans.getAnswerNumericVal(), \n                                                             () -&gt; null);\n</code></pre>\n<p>But this is a syntactically incorrect expression. I don't want to perform logic inside the <code>ifPresentOrElse</code>, I want to map it to either a field or NULL.</p>\n<p>Or should I use <code>.findFirst().map(ans -&gt; ...)</code> ? There may be 0 results, so <code>map(..)</code> can throw an NPE.</p>\n"},{"tags":["java","lambda"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637531820,"creation_date":1637531820,"answer_id":70058919,"question_id":70058697,"body_markdown":"Assuming `List&lt;InscricaoTipoTrabalhoAvaliador&gt; jobs`, the following should work:\r\n```java\r\nMap&lt;AvaliadorEvento, List&lt;InscricaoTipoTrabalhoAvaliador&gt;&gt; grouped =\r\n  jobs.stream().collect(Collectors.groupingBy(InscricaoTipoTrabalhoAvaliador::getAvaliadorEvento));\r\n```\r\n\r\nUsing this map you can easily create your `InscricaoTipoTrabalhoAvaliadorDTO` assuming you have a constructor taking both `AvaliadorEvento` and `List&lt;InscricaoTipoTrabalhoAvaliador&gt;`:\r\n```java\r\nList&lt;InscricaoTipoTrabalhoAvaliadorDTO&gt; dtos = grouped.entrySet().stream()\r\n  .map(entry -&gt; new InscricaoTipoTrabalhoAvaliadorDTO(entry.getKey(), entry.getValue()))\r\n  .collect(Collectors.toList());\r\n```","title":"Group List to List DTO using Java 8","body":"<p>Assuming <code>List&lt;InscricaoTipoTrabalhoAvaliador&gt; jobs</code>, the following should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;AvaliadorEvento, List&lt;InscricaoTipoTrabalhoAvaliador&gt;&gt; grouped =\n  jobs.stream().collect(Collectors.groupingBy(InscricaoTipoTrabalhoAvaliador::getAvaliadorEvento));\n</code></pre>\n<p>Using this map you can easily create your <code>InscricaoTipoTrabalhoAvaliadorDTO</code> assuming you have a constructor taking both <code>AvaliadorEvento</code> and <code>List&lt;InscricaoTipoTrabalhoAvaliador&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;InscricaoTipoTrabalhoAvaliadorDTO&gt; dtos = grouped.entrySet().stream()\n  .map(entry -&gt; new InscricaoTipoTrabalhoAvaliadorDTO(entry.getKey(), entry.getValue()))\n  .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":21094536,"reputation":95,"user_id":15505795,"display_name":"Romeu Fernandes Bessa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70058919,"answer_count":1,"score":-1,"last_activity_date":1637531820,"creation_date":1637529705,"question_id":70058697,"body_markdown":"I would like to group a list of `InscricaoTipoTrabalhoAvaliador` in a DTO by equal `AvaliadorEvento` using JAVA 8. Could someone help?\r\n\r\nBank query returns 4 lines, where ID 10 and ID 13 have the same `AvaliadorEventoId`, I would like to group them in the DTO:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BHmKk.png\r\n\r\n`InscricaoTipoTrabalhoAvaliador`\r\n```java\r\n@Entity\r\n@Table(name = &quot;inscricao_tipo_trab_aval&quot;)\r\n@Getter\r\n@Setter\r\npublic class InscricaoTipoTrabalhoAvaliador implements Entidade{\r\n  \r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n\r\n  @ManyToOne(fetch=FetchType.LAZY)\r\n  @JoinColumn(name=&quot;inscricao_tipo_trabalho_id&quot;)\r\n  private InscricaoTipoTrabalho inscricaoTipoTrabalho;\r\n    \r\n  @OneToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;avaliador_evento_id&quot;)\r\n  private AvaliadorEvento avaliadorEvento;\r\n    \r\n  @Enumerated(EnumType.STRING)\r\n  @Column(name = &quot;situacao_avaliador&quot;)\r\n  private SituacaoTrabalho situacaoTrabalho;\r\n\r\n  @Transient\r\n  private List&lt;InscricaoTipoTrabalho&gt; inscricaoTipoTrabalhos = new ArrayList&lt;InscricaoTipoTrabalho&gt;();\r\n    \r\n  public InscricaoTipoTrabalhoAvaliador() {\r\n    super();\t\r\n  }\r\n}\r\n```\r\n\r\n`InscricaoTipoTrabalhoAvaliadorDTO`\r\n```java\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\npublic class InscricaoTipoTrabalhoAvaliadorDTO {\r\n\r\n  private AvaliadorEvento avaliadorEvento;\r\n  \r\n  private List&lt;InscricaoTipoTrabalhoAvaliador&gt; trabalhos;\r\n  \r\n}\r\n```","title":"Group List to List DTO using Java 8","body":"<p>I would like to group a list of <code>InscricaoTipoTrabalhoAvaliador</code> in a DTO by equal <code>AvaliadorEvento</code> using JAVA 8. Could someone help?</p>\n<p>Bank query returns 4 lines, where ID 10 and ID 13 have the same <code>AvaliadorEventoId</code>, I would like to group them in the DTO:\n<a href=\"https://i.stack.imgur.com/BHmKk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BHmKk.png\" alt=\"enter image description here\" /></a></p>\n<p><code>InscricaoTipoTrabalhoAvaliador</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;inscricao_tipo_trab_aval&quot;)\n@Getter\n@Setter\npublic class InscricaoTipoTrabalhoAvaliador implements Entidade{\n  \n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @ManyToOne(fetch=FetchType.LAZY)\n  @JoinColumn(name=&quot;inscricao_tipo_trabalho_id&quot;)\n  private InscricaoTipoTrabalho inscricaoTipoTrabalho;\n    \n  @OneToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;avaliador_evento_id&quot;)\n  private AvaliadorEvento avaliadorEvento;\n    \n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;situacao_avaliador&quot;)\n  private SituacaoTrabalho situacaoTrabalho;\n\n  @Transient\n  private List&lt;InscricaoTipoTrabalho&gt; inscricaoTipoTrabalhos = new ArrayList&lt;InscricaoTipoTrabalho&gt;();\n    \n  public InscricaoTipoTrabalhoAvaliador() {\n    super();    \n  }\n}\n</code></pre>\n<p><code>InscricaoTipoTrabalhoAvaliadorDTO</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@AllArgsConstructor\npublic class InscricaoTipoTrabalhoAvaliadorDTO {\n\n  private AvaliadorEvento avaliadorEvento;\n  \n  private List&lt;InscricaoTipoTrabalhoAvaliador&gt; trabalhos;\n  \n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1637529563,"post_id":70058344,"comment_id":123844567,"body_markdown":"Hi there. This should help https://developer.android.com/reference/java/util/TimeZone","body":"Hi there. This should help <a href=\"https://developer.android.com/reference/java/util/TimeZone\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/util/TimeZone</a>"},{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1637529716,"post_id":70058344,"comment_id":123844602,"body_markdown":"And this https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html","body":"And this <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1637529791,"post_id":70058344,"comment_id":123844624,"body_markdown":"And definately this https://developer.android.com/reference/java/time/ZonedDateTime","body":"And definately this <a href=\"https://developer.android.com/reference/java/time/ZonedDateTime\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/time/ZonedDateTime</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1637530234,"post_id":70058344,"comment_id":123844716,"body_markdown":"Are you trying to show a single moment as seen in two different time zones?","body":"Are you trying to show a single moment as seen in two different time zones?"}],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637529994,"creation_date":1637529994,"answer_id":70058726,"question_id":70058344,"body_markdown":"There are plenty of different ways to obtain it, this would be just two of them:\r\n\r\n```java\r\nLocalDateTime.now().atOffset(ZoneOffset.of(&quot;-05:00&quot;)).toZonedDateTime();\r\nLocalDateTime.now().atZone(ZoneId.of(&quot;Asia/Kuala_Lumpur&quot;))\r\n```\r\n\r\n","title":"Determining the actual calendar date (day)","body":"<p>There are plenty of different ways to obtain it, this would be just two of them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime.now().atOffset(ZoneOffset.of(&quot;-05:00&quot;)).toZonedDateTime();\nLocalDateTime.now().atZone(ZoneId.of(&quot;Asia/Kuala_Lumpur&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637531050,"creation_date":1637530660,"answer_id":70058792,"question_id":70058344,"body_markdown":"Your question is not clear, but it seems you want to represent a single moment as viewed in two different time zones. \r\n\r\nCapture the current moment as seen in UTC (with an offset of zero hours-minutes-seconds).\r\n\r\n    Instant instant = Instant.now() ;\r\n\r\nGenerally best to do your thinking, debugging, logging, storage, data-exchange, and most of your business logic in UTC. Adjust to a time zone mainly just for presentation to the user, and for particular business rules as required. \r\n\r\nAdjust into one time zone. \r\n\r\n    ZoneId zEdmonton = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\n    ZonedDateTime zdtEdmonton = instant.atZone( zEdmonton ) ;\r\n\r\nAdjust to another time zone.\r\n\r\n    ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdtTokyo = instant.atZone( zTokyo ) ;\r\n\r\nOur three objects, the `Instant` and the pair of `ZonedDateTime` objects, all represent the very same moment, the same point on the timeline. \r\n\r\nFor a particular moment, the date in Tokyo may be “tomorrow” while still “yesterday” in Edmonton. \r\n\r\n","title":"Determining the actual calendar date (day)","body":"<p>Your question is not clear, but it seems you want to represent a single moment as viewed in two different time zones.</p>\n<p>Capture the current moment as seen in UTC (with an offset of zero hours-minutes-seconds).</p>\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n<p>Generally best to do your thinking, debugging, logging, storage, data-exchange, and most of your business logic in UTC. Adjust to a time zone mainly just for presentation to the user, and for particular business rules as required.</p>\n<p>Adjust into one time zone.</p>\n<pre><code>ZoneId zEdmonton = ZoneId.of( &quot;America/Edmonton&quot; ) ;\nZonedDateTime zdtEdmonton = instant.atZone( zEdmonton ) ;\n</code></pre>\n<p>Adjust to another time zone.</p>\n<pre><code>ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdtTokyo = instant.atZone( zTokyo ) ;\n</code></pre>\n<p>Our three objects, the <code>Instant</code> and the pair of <code>ZonedDateTime</code> objects, all represent the very same moment, the same point on the timeline.</p>\n<p>For a particular moment, the date in Tokyo may be “tomorrow” while still “yesterday” in Edmonton.</p>\n"}],"owner":{"account_id":23320695,"reputation":17,"user_id":17398644,"display_name":"JaloliddinPage"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1637531050,"creation_date":1637526694,"question_id":70058344,"body_markdown":"Please read to the end‚ I will try to explain in detail.\r\n\r\nI have one program‚ it only works for locals‚ in one country. Specifically, it is for one country but can be used for another. However, all hours, minutes and dates are adapted to one country. That&#39;s why I think the program should run on the date of that country‚ the date of the program should be taken from the actual date in that country, not from the calendar on the phone.\r\n\r\nUser open app:\r\nApp show 21-November. (Date in that country)\r\nPhone data 20-November. (In his home country, the date is still November 20)\r\n\r\n(the app should display the exact date of that country et regardless of my phone calendar.)\r\n\r\nDon&#39;t you understand? Then leave your question as a comment‚ please help.","title":"Determining the actual calendar date (day)","body":"<p>Please read to the end‚ I will try to explain in detail.</p>\n<p>I have one program‚ it only works for locals‚ in one country. Specifically, it is for one country but can be used for another. However, all hours, minutes and dates are adapted to one country. That's why I think the program should run on the date of that country‚ the date of the program should be taken from the actual date in that country, not from the calendar on the phone.</p>\n<p>User open app:\nApp show 21-November. (Date in that country)\nPhone data 20-November. (In his home country, the date is still November 20)</p>\n<p>(the app should display the exact date of that country et regardless of my phone calendar.)</p>\n<p>Don't you understand? Then leave your question as a comment‚ please help.</p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":3044796,"reputation":3439,"user_id":2580773,"display_name":"David SN"},"score":0,"creation_date":1637528429,"post_id":70058351,"comment_id":123844288,"body_markdown":"Your code seems to be printing lines from the file line by line for each Enter. Do you have more than one line in your file or it is a big excerpt in a single line?","body":"Your code seems to be printing lines from the file line by line for each Enter. Do you have more than one line in your file or it is a big excerpt in a single line?"},{"owner":{"account_id":22287889,"reputation":7,"user_id":16515227,"display_name":"Willardino"},"score":0,"creation_date":1637533412,"post_id":70058351,"comment_id":123845414,"body_markdown":"i have a super long exceprt","body":"i have a super long exceprt"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1637560116,"post_id":70058351,"comment_id":123849405,"body_markdown":"What do you mean by &quot;super long excerpt&quot;? How long are the text lines in your excerpt? What is the output of `byte[] b = Files.readAllBytes(Paths.get(&quot;excerpt.txt&quot;)); for (int i = 0; i &lt; b.length; i++) { if (b[i] == 10 || b[i] == 13) { System.out.println(i); break; } }`? Note that `reader.readLine()` reads a complete line until the first line break character, it doesn&#39;t to any &quot;softwrap&quot; like some text editors can do.","body":"What do you mean by &quot;super long excerpt&quot;? How long are the text lines in your excerpt? What is the output of <code>byte[] b = Files.readAllBytes(Paths.get(&quot;excerpt.txt&quot;)); for (int i = 0; i &lt; b.length; i++) { if (b[i] == 10 || b[i] == 13) { System.out.println(i); break; } }</code>? Note that <code>reader.readLine()</code> reads a complete line until the first line break character, it doesn&#39;t to any &quot;softwrap&quot; like some text editors can do."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637530879,"creation_date":1637528733,"answer_id":70058598,"question_id":70058351,"body_markdown":"If line is null you&#39;ll loop forever; the nested if statements.\r\n\r\nI did it in the new Stream style, without the ubiquitous but needless Scanner on System.in.\r\n\r\n    private void dump(String file) {\r\n        Path path = Paths.get(file);\r\n        BufferedReader con = new BufferedReader(new InputStreamReader(System.in));\r\n        try (Stream&lt;String&gt; in = Files.lines(path, Charset.defaultCharset())) {\r\n            AtomicInteger lineCounter = new AtomicInteger();\r\n            in.forEach(line -&gt; {\r\n                System.out.println(line);\r\n\r\n                if (lineCounter.get() == 0) {\r\n                    String input = null;\r\n                    try {\r\n                        input = con.readLine();\r\n                    } catch (IOException e) {\r\n                    }\r\n                    if (input == null) {\r\n                        throw new IndexOutOfBoundsException();\r\n                    } else if (input.equals(&quot; &quot;)) {\r\n                        lineCounter.set(10);\r\n                    }\r\n                } else {\r\n                    lineCounter.decrementAndGet();\r\n                }\r\n            });\r\n        } catch (IndexOutOfBoundsException e) {\r\n            System.out.println(&quot;&lt; Stopped.&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nWith &lt;kbd&gt;Ctrl&lt;/kbd&gt;&lt;kbd&gt;D&lt;/kbd&gt; you can exit on Windows I believe.\r\nI have added that a line with a &lt;kbd&gt;Space&lt;/kbd&gt; will dump the next 10 lines.\r\n\r\nThe ugly thing are the user input lines.\r\n\r\n-------------------\r\nWith [`java.io.Console`][1] one can ask input with a String prompt, which then can be used to print the file&#39;s line as prompt.\r\n\r\n    private void dump(String file) {\r\n        Path path = Paths.get(file);\r\n        Console con = System.console();\r\n        try (Stream&lt;String&gt; in = Files.lines(path, Charset.defaultCharset())) {\r\n            AtomicInteger lineCounter = new AtomicInteger();\r\n            in.forEach(line -&gt; {\r\n                if (lineCounter.get() == 0) {\r\n                    //String input = con.readLine(&quot;%s |&quot;, line);\r\n                    String input = new String(con.readPassword(&quot;%s&quot;, line));\r\n                    if (input == null) {\r\n                        throw new IndexOutOfBoundsException();\r\n                    } else if (input.equals(&quot; &quot;)) {\r\n                        lineCounter.set(10);\r\n                    }\r\n                } else {\r\n                    System.out.println(line);\r\n                    lineCounter.decrementAndGet();\r\n                }\r\n            });\r\n        } catch (IndexOutOfBoundsException e) {\r\n            System.out.println(&quot;&lt; Stopped.&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nUsing a prompt with the file&#39;s line, and asking a non-echoed &quot;password&quot; will be sufficient okay. You still need the &lt;kbd&gt;Enter&lt;/kbd&gt;.\r\n\r\nThere is one problem: you must run this as real command line. The &quot;console&quot; in the IDE uses `System.setIn` which will cause a null Console. I simply create a .bat/.sh file. Otherwise `System.out.print(line); System.out.flush();` might work on some operating system.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/io/Console.html","title":"File copier is printing out my whole excerpt, I want it to do it line by line with user input between","body":"<p>If line is null you'll loop forever; the nested if statements.</p>\n<p>I did it in the new Stream style, without the ubiquitous but needless Scanner on System.in.</p>\n<pre><code>private void dump(String file) {\n    Path path = Paths.get(file);\n    BufferedReader con = new BufferedReader(new InputStreamReader(System.in));\n    try (Stream&lt;String&gt; in = Files.lines(path, Charset.defaultCharset())) {\n        AtomicInteger lineCounter = new AtomicInteger();\n        in.forEach(line -&gt; {\n            System.out.println(line);\n\n            if (lineCounter.get() == 0) {\n                String input = null;\n                try {\n                    input = con.readLine();\n                } catch (IOException e) {\n                }\n                if (input == null) {\n                    throw new IndexOutOfBoundsException();\n                } else if (input.equals(&quot; &quot;)) {\n                    lineCounter.set(10);\n                }\n            } else {\n                lineCounter.decrementAndGet();\n            }\n        });\n    } catch (IndexOutOfBoundsException e) {\n        System.out.println(&quot;&lt; Stopped.&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>With <kbd>Ctrl</kbd><kbd>D</kbd> you can exit on Windows I believe.\nI have added that a line with a <kbd>Space</kbd> will dump the next 10 lines.</p>\n<p>The ugly thing are the user input lines.</p>\n<hr />\n<p>With <a href=\"https://docs.oracle.com/javase/10/docs/api/java/io/Console.html\" rel=\"nofollow noreferrer\"><code>java.io.Console</code></a> one can ask input with a String prompt, which then can be used to print the file's line as prompt.</p>\n<pre><code>private void dump(String file) {\n    Path path = Paths.get(file);\n    Console con = System.console();\n    try (Stream&lt;String&gt; in = Files.lines(path, Charset.defaultCharset())) {\n        AtomicInteger lineCounter = new AtomicInteger();\n        in.forEach(line -&gt; {\n            if (lineCounter.get() == 0) {\n                //String input = con.readLine(&quot;%s |&quot;, line);\n                String input = new String(con.readPassword(&quot;%s&quot;, line));\n                if (input == null) {\n                    throw new IndexOutOfBoundsException();\n                } else if (input.equals(&quot; &quot;)) {\n                    lineCounter.set(10);\n                }\n            } else {\n                System.out.println(line);\n                lineCounter.decrementAndGet();\n            }\n        });\n    } catch (IndexOutOfBoundsException e) {\n        System.out.println(&quot;&lt; Stopped.&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Using a prompt with the file's line, and asking a non-echoed &quot;password&quot; will be sufficient okay. You still need the <kbd>Enter</kbd>.</p>\n<p>There is one problem: you must run this as real command line. The &quot;console&quot; in the IDE uses <code>System.setIn</code> which will cause a null Console. I simply create a .bat/.sh file. Otherwise <code>System.out.print(line); System.out.flush();</code> might work on some operating system.</p>\n"}],"owner":{"account_id":22287889,"reputation":7,"user_id":16515227,"display_name":"Willardino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70058598,"answer_count":1,"score":-1,"last_activity_date":1637530879,"creation_date":1637526753,"question_id":70058351,"body_markdown":"I need my program to print this file line by line, waiting for the user to press enter between each one. My code keeps printing the whole excerpt. What do I need to change?\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    public class NoteCopier {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \tSystem.out.println(&quot;Hello! I copy an excerpt to the screen line for line&quot;\r\n    \t\t\t\t\t\t+ &quot; just press enter when you want a new line!&quot;);\r\n    \ttry {\r\n    \t\tFile file = new File(&quot;excerpt.txt&quot;);\r\n    \t\tFileInputStream fis = new FileInputStream(file);\r\n    \t\tInputStreamReader inreader = new InputStreamReader(fis);\r\n    \t\tBufferedReader reader = new BufferedReader(inreader);\r\n    \t\tString line = reader.readLine();\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\t\r\n    \t\twhile(true) {\r\n    \t\t\t\tString scanString = scan.nextLine();\r\n    \t\t\t\tif(line != null) {\r\n    \t\t\t\tif(scanString.isEmpty()){\r\n    \t\t\t\t\tSystem.out.println(line);\r\n    \t\t\t\t\tline = reader.readLine();\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tscanString = null;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\t\r\n    \tcatch(IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t}\r\n    }","title":"File copier is printing out my whole excerpt, I want it to do it line by line with user input between","body":"<p>I need my program to print this file line by line, waiting for the user to press enter between each one. My code keeps printing the whole excerpt. What do I need to change?</p>\n<pre><code>import java.io.*;\nimport java.util.*;\npublic class NoteCopier {\n    public static void main(String[] args) throws IOException {\n    System.out.println(&quot;Hello! I copy an excerpt to the screen line for line&quot;\n                        + &quot; just press enter when you want a new line!&quot;);\n    try {\n        File file = new File(&quot;excerpt.txt&quot;);\n        FileInputStream fis = new FileInputStream(file);\n        InputStreamReader inreader = new InputStreamReader(fis);\n        BufferedReader reader = new BufferedReader(inreader);\n        String line = reader.readLine();\n        Scanner scan = new Scanner(System.in);\n        \n        while(true) {\n                String scanString = scan.nextLine();\n                if(line != null) {\n                if(scanString.isEmpty()){\n                    System.out.println(line);\n                    line = reader.readLine();\n                }\n                else {\n                    scanString = null;\n                    break;\n                }\n            \n            }\n        }\n    }\n        \n    catch(IOException e) {\n        e.printStackTrace();\n    }\n    }\n}\n</code></pre>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1637002087,"post_id":69979280,"comment_id":123703371,"body_markdown":"Why do you keep the indexes around? You could just replace them as found, and that way you&#39;d only need the one stream.","body":"Why do you keep the indexes around? You could just replace them as found, and that way you&#39;d only need the one stream."},{"owner":{"account_id":23346327,"reputation":21,"user_id":17420565,"display_name":"dave smith"},"score":0,"creation_date":1637003299,"post_id":69979280,"comment_id":123703808,"body_markdown":"No reason other......\n\nOriginally I made 2 predicates...\n\n    static BiPredicate&lt;Integer, Integer&gt; shouldReplace = (pos, lastFound) -&gt; {\n        if ((lastFound + pos) == interPos) {\n            System.out.println(&quot;FOUND&quot;);\n        }\n\n        return true;\n    };\n\n    static BiPredicate&lt;Character, Character&gt; foundReplaceChar = (c, oldValue) -&gt; c.equals(oldValue);\n\nand tried to use one loop, but it didn&#39;t make anything easier to read or less complicated. \n\nHowever, I may have just been doing things badly.","body":"No reason other......  Originally I made 2 predicates...      static BiPredicate&lt;Integer, Integer&gt; shouldReplace = (pos, lastFound) -&gt; {         if ((lastFound + pos) == interPos) {             System.out.println(&quot;FOUND&quot;);         }          return true;     };      static BiPredicate&lt;Character, Character&gt; foundReplaceChar = (c, oldValue) -&gt; c.equals(oldValue);  and tried to use one loop, but it didn&#39;t make anything easier to read or less complicated.   However, I may have just been doing things badly."},{"owner":{"account_id":23346327,"reputation":21,"user_id":17420565,"display_name":"dave smith"},"score":0,"creation_date":1637003305,"post_id":69979280,"comment_id":123703812,"body_markdown":"I had hoped to try to make something like:\nreturn Stream.doSomething(predicate).dosomethingelse(whatever);","body":"I had hoped to try to make something like: return Stream.doSomething(predicate).dosomethingelse(whatever);"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1637003598,"post_id":69979280,"comment_id":123703906,"body_markdown":"You can&#39;t filter your chars stream with a predicate, because you need even the chars that don&#39;t equal to old value to end up in the resulting string. To replace chars, you can `.map()` every char with a unary op, that&#39;s some sort of a &quot;function-based&quot; solution.","body":"You can&#39;t filter your chars stream with a predicate, because you need even the chars that don&#39;t equal to old value to end up in the resulting string. To replace chars, you can <code>.map()</code> every char with a unary op, that&#39;s some sort of a &quot;function-based&quot; solution."},{"owner":{"account_id":16859879,"reputation":206,"user_id":12190935,"display_name":"ajz"},"score":0,"creation_date":1637006515,"post_id":69979280,"comment_id":123704917,"body_markdown":"The way you&#39;re approaching it isn&#39;t very functional. One sign is that you&#39;re using mutable data (StringBuilder).  One &quot;more functional&quot; approach would be to 1. split the string by oldValue (&quot;a&quot;), 2. create a sequence of separators (&#39;a&#39;, &#39;o&#39;, &#39;a&#39;, &#39;o&#39;, etc.), and finally 3. then join the pieces together again alternating the split values with the sequence.  Each step above could be its own function (perhaps an already given one like String.split)","body":"The way you&#39;re approaching it isn&#39;t very functional. One sign is that you&#39;re using mutable data (StringBuilder).  One &quot;more functional&quot; approach would be to 1. split the string by oldValue (&quot;a&quot;), 2. create a sequence of separators (&#39;a&#39;, &#39;o&#39;, &#39;a&#39;, &#39;o&#39;, etc.), and finally 3. then join the pieces together again alternating the split values with the sequence.  Each step above could be its own function (perhaps an already given one like String.split)"},{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1637007094,"post_id":69979280,"comment_id":123705131,"body_markdown":"@ajz &quot;*The way you&#39;re approaching it isn&#39;t very functional.*&quot; quite right. It&#39;s imperative/procedural but with `.forEach()` thrown in.","body":"@ajz &quot;<i>The way you&#39;re approaching it isn&#39;t very functional.</i>&quot; quite right. It&#39;s imperative/procedural but with <code>.forEach()</code> thrown in."},{"owner":{"account_id":23346327,"reputation":21,"user_id":17420565,"display_name":"dave smith"},"score":0,"creation_date":1637036226,"post_id":69979280,"comment_id":123711331,"body_markdown":"I&#39;m trying to get me head around functional coding,  i completely agree it&#39;s not functional,  I&#39;m trying to figure out how to make it functional so i appreciate the help.       Can go into a little more detail.  Ajz?  I&#39;m not quit following but I&#39;ll try to split it as you suggest","body":"I&#39;m trying to get me head around functional coding,  i completely agree it&#39;s not functional,  I&#39;m trying to figure out how to make it functional so i appreciate the help.       Can go into a little more detail.  Ajz?  I&#39;m not quit following but I&#39;ll try to split it as you suggest"},{"owner":{"account_id":23346327,"reputation":21,"user_id":17420565,"display_name":"dave smith"},"score":0,"creation_date":1637090640,"post_id":69979280,"comment_id":123731811,"body_markdown":"@ajz I edited the main doc with a new method that uses a single loop, it&#39;s very java 1.4ish. Not sure if that what you had pictured?","body":"@ajz I edited the main doc with a new method that uses a single loop, it&#39;s very java 1.4ish. Not sure if that what you had pictured?"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637007777,"creation_date":1637007777,"answer_id":69980404,"question_id":69979280,"body_markdown":"Not sure if the regular expression approach may be used here but generally a parameterized pattern may be created to replace each N-th occurrence of `oldValue` with `newValue`:\r\n\r\n`&quot;(oldValue)([^oldValue]*(oldValue[^oldValue]*){occurrence - 2})(oldValueToReplace)&quot;`  \r\nHere 3 groups are used:\r\n1. `(oldValue)` - the first occurrence\r\n2. `([^oldValue]*(oldValue[^oldValue]*){occurrence - 2})` - zero or more entries of non-oldValue, followed by `oldValue` with a suffix which should appear `occurrence - 2` times\r\n3. `(oldValueToReplace)` - the N-th occurrence to be replaced.\r\n\r\nAlso, the values outside character class `[]` should be escaped.\r\n\r\nExample implementation:\r\n```java\r\npublic static String replaceNth(String text, int n, char oldValue, char newValue) {\r\n    String pattern = String.format(&quot;(%2$s)([^%1$s]*(%2$s[^%1$s]*){%3$d})(%2$s)&quot;, oldValue, Pattern.quote(String.valueOf(oldValue)), n - 2);\r\n    \r\n    return text.replaceAll(pattern, &quot;$1$2&quot; + newValue);\r\n}    \r\n```\r\nTests:\r\n```java\r\nSystem.out.println(replaceNth(&quot;Vader said: No, I am your father!&quot;, 2, &#39;a&#39;, &#39;o&#39;));\r\n\r\nSystem.out.println(replaceNth(&quot;... .... ..... .... ... &quot;, 3, &#39;.&#39;, &#39;x&#39;));\r\n\r\nSystem.out.println(replaceNth(&quot;xxxx abcd x dbca xxxx&quot;, 5, &#39;x&#39;, &#39;O&#39;));\r\n\r\nSystem.out.println(replaceNth(&quot;+---------------------&quot;, 7, &#39;-&#39;, &#39;+&#39;));\r\n```\r\nOutput:\r\n```\r\nVader soid: No, I am your fother!\r\n..x ..x. .x..x ..x. .x. \r\nxxxx abcd O dbca xxxx\r\n+------+------+------+\r\n```","title":"A better Functional solutions to this Java Kata","body":"<p>Not sure if the regular expression approach may be used here but generally a parameterized pattern may be created to replace each N-th occurrence of <code>oldValue</code> with <code>newValue</code>:</p>\n<p><code>&quot;(oldValue)([^oldValue]*(oldValue[^oldValue]*){occurrence - 2})(oldValueToReplace)&quot;</code><br />\nHere 3 groups are used:</p>\n<ol>\n<li><code>(oldValue)</code> - the first occurrence</li>\n<li><code>([^oldValue]*(oldValue[^oldValue]*){occurrence - 2})</code> - zero or more entries of non-oldValue, followed by <code>oldValue</code> with a suffix which should appear <code>occurrence - 2</code> times</li>\n<li><code>(oldValueToReplace)</code> - the N-th occurrence to be replaced.</li>\n</ol>\n<p>Also, the values outside character class <code>[]</code> should be escaped.</p>\n<p>Example implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String replaceNth(String text, int n, char oldValue, char newValue) {\n    String pattern = String.format(&quot;(%2$s)([^%1$s]*(%2$s[^%1$s]*){%3$d})(%2$s)&quot;, oldValue, Pattern.quote(String.valueOf(oldValue)), n - 2);\n    \n    return text.replaceAll(pattern, &quot;$1$2&quot; + newValue);\n}    \n</code></pre>\n<p>Tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(replaceNth(&quot;Vader said: No, I am your father!&quot;, 2, 'a', 'o'));\n\nSystem.out.println(replaceNth(&quot;... .... ..... .... ... &quot;, 3, '.', 'x'));\n\nSystem.out.println(replaceNth(&quot;xxxx abcd x dbca xxxx&quot;, 5, 'x', 'O'));\n\nSystem.out.println(replaceNth(&quot;+---------------------&quot;, 7, '-', '+'));\n</code></pre>\n<p>Output:</p>\n<pre><code>Vader soid: No, I am your fother!\n..x ..x. .x..x ..x. .x. \nxxxx abcd O dbca xxxx\n+------+------+------+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16859879,"reputation":206,"user_id":12190935,"display_name":"ajz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637110716,"creation_date":1637110716,"answer_id":69997774,"question_id":69979280,"body_markdown":"Dave, I&#39;ve put together something that I think is more functional (I&#39;m no functional programming expert and my Java is a bit rusty).  I think that I went too far with &quot;having fun&quot; rather than more directly answering your question, so I&#39;m sorry about that.\r\n\r\nFrom what I&#39;ve read one of the keys to functional programming is identifying &quot;pure functions&quot; (ones that have no side effects) and building on those.  Almost all useful code will have impure functions too, but by moving as much logic as possible into pure functions helps concentrate the impure stuff in hopefully well contained areas.\r\n\r\nWhat I did is I broke the problem down into a few different general purpose functions and used those to solve the problem at hand.  I didn&#39;t get to this solution right away.  I started breaking things down and as I worked I tweaked the functions to be more and more general purpose.  It took me several iterations to get to what you see below.  The early iterations were kind of ugly but as I worked through things I was pleasantly surprised that I was able to get it to the point where it is now.\r\n\r\nThank you for asking this question.  I learned a lot trying to answer it.  I hope that in turn I was able to help you out too.\r\n\r\n    // Splits a string by the given character into a list of sub-strings\r\n    public static List&lt;String&gt; splitBy(String text, Character splitValue) {\r\n        return Arrays.stream(text.split(Pattern.quote(splitValue.toString()), -1)).toList();\r\n    }\r\n\r\n    // Generates an infinite sequence where every Nth item is one value\r\n    // and all other values are another\r\n    // generateEveryNthSequence(3, &#39;A&#39;, &#39;B&#39;) =? [&#39;B&#39;, &#39;B&#39;, &#39;A&#39;, &#39;B&#39;, &#39;B&#39;, &#39;A&#39;, ...]\r\n    public static &lt;T&gt; Stream&lt;T&gt; generateEveryNthSequence(int n, T everyNthValue, T everyOtherValue) {\r\n        return Stream.iterate(1, i -&gt; i + 1).map(i -&gt; i % n == 0 ? everyNthValue : everyOtherValue);\r\n    }\r\n\r\n    // Combines two sequences by alternating the values\r\n    // [&#39;A&#39;,&#39;B&#39;,&#39;C&#39;] and [&#39;1&#39;,&#39;2&#39;,&#39;3&#39;] =&gt; [&#39;A&#39;, &#39;1&#39;, &#39;B, &#39;2&#39;, &#39;C&#39;, &#39;3&#39;]\r\n    public static &lt;T&gt; Stream&lt;T&gt; alternateValues(Stream&lt;T&gt; stream1, Stream&lt;T&gt; stream2) {\r\n        Iterator&lt;T&gt; iterator1 = stream1.iterator();\r\n        Iterator&lt;T&gt; iterator2 = stream2.iterator();\r\n        return Stream.iterate(iterator1, t -&gt; t == iterator1 ? iterator2 : iterator1)\r\n                .takeWhile(t -&gt; t.hasNext())\r\n                .map(t -&gt; t.next());\r\n    }\r\n\r\n    public static String replaceNth(String text, Integer n, Character oldValue, Character newValue){\r\n        // &quot;V&quot;, &quot;der s&quot;, &quot;id: No, I &quot;, &quot;m your f&quot;, &quot;ther!&quot;\r\n        List&lt;String&gt; segments = splitBy(text, oldValue);\r\n        // &quot;a&quot;, &quot;o&quot;, &quot;a&quot;, &quot;o&quot;, ...\r\n        Stream&lt;String&gt; separators = generateEveryNthSequence(n, newValue.toString(), oldValue.toString());\r\n        // &quot;V&quot;, &quot;a&quot;, &quot;der s&quot;, &quot;o&quot;, &quot;id: No, I &quot;, &quot;a&quot;, &quot;m your f&quot;, &quot;o&quot;, &quot;ther!&quot;, &quot;a&quot;\r\n        Stream&lt;String&gt; alternatingItems = alternateValues(segments.stream(), separators);\r\n        // &quot;V&quot;, &quot;a&quot;, &quot;der s&quot;, &quot;o&quot;, &quot;id: No, I &quot;, &quot;a&quot;, &quot;m your f&quot;, &quot;o&quot;, &quot;ther!&quot;\r\n        Stream&lt;String&gt; alternatingItemsTrimmed = alternatingItems.limit(segments.size() * 2 - 1);\r\n        // &quot;Vader soid: No, I am your fother!&quot;\r\n        return alternatingItemsTrimmed.collect(Collectors.joining());\r\n    }\r\n","title":"A better Functional solutions to this Java Kata","body":"<p>Dave, I've put together something that I think is more functional (I'm no functional programming expert and my Java is a bit rusty).  I think that I went too far with &quot;having fun&quot; rather than more directly answering your question, so I'm sorry about that.</p>\n<p>From what I've read one of the keys to functional programming is identifying &quot;pure functions&quot; (ones that have no side effects) and building on those.  Almost all useful code will have impure functions too, but by moving as much logic as possible into pure functions helps concentrate the impure stuff in hopefully well contained areas.</p>\n<p>What I did is I broke the problem down into a few different general purpose functions and used those to solve the problem at hand.  I didn't get to this solution right away.  I started breaking things down and as I worked I tweaked the functions to be more and more general purpose.  It took me several iterations to get to what you see below.  The early iterations were kind of ugly but as I worked through things I was pleasantly surprised that I was able to get it to the point where it is now.</p>\n<p>Thank you for asking this question.  I learned a lot trying to answer it.  I hope that in turn I was able to help you out too.</p>\n<pre><code>// Splits a string by the given character into a list of sub-strings\npublic static List&lt;String&gt; splitBy(String text, Character splitValue) {\n    return Arrays.stream(text.split(Pattern.quote(splitValue.toString()), -1)).toList();\n}\n\n// Generates an infinite sequence where every Nth item is one value\n// and all other values are another\n// generateEveryNthSequence(3, 'A', 'B') =? ['B', 'B', 'A', 'B', 'B', 'A', ...]\npublic static &lt;T&gt; Stream&lt;T&gt; generateEveryNthSequence(int n, T everyNthValue, T everyOtherValue) {\n    return Stream.iterate(1, i -&gt; i + 1).map(i -&gt; i % n == 0 ? everyNthValue : everyOtherValue);\n}\n\n// Combines two sequences by alternating the values\n// ['A','B','C'] and ['1','2','3'] =&gt; ['A', '1', 'B, '2', 'C', '3']\npublic static &lt;T&gt; Stream&lt;T&gt; alternateValues(Stream&lt;T&gt; stream1, Stream&lt;T&gt; stream2) {\n    Iterator&lt;T&gt; iterator1 = stream1.iterator();\n    Iterator&lt;T&gt; iterator2 = stream2.iterator();\n    return Stream.iterate(iterator1, t -&gt; t == iterator1 ? iterator2 : iterator1)\n            .takeWhile(t -&gt; t.hasNext())\n            .map(t -&gt; t.next());\n}\n\npublic static String replaceNth(String text, Integer n, Character oldValue, Character newValue){\n    // &quot;V&quot;, &quot;der s&quot;, &quot;id: No, I &quot;, &quot;m your f&quot;, &quot;ther!&quot;\n    List&lt;String&gt; segments = splitBy(text, oldValue);\n    // &quot;a&quot;, &quot;o&quot;, &quot;a&quot;, &quot;o&quot;, ...\n    Stream&lt;String&gt; separators = generateEveryNthSequence(n, newValue.toString(), oldValue.toString());\n    // &quot;V&quot;, &quot;a&quot;, &quot;der s&quot;, &quot;o&quot;, &quot;id: No, I &quot;, &quot;a&quot;, &quot;m your f&quot;, &quot;o&quot;, &quot;ther!&quot;, &quot;a&quot;\n    Stream&lt;String&gt; alternatingItems = alternateValues(segments.stream(), separators);\n    // &quot;V&quot;, &quot;a&quot;, &quot;der s&quot;, &quot;o&quot;, &quot;id: No, I &quot;, &quot;a&quot;, &quot;m your f&quot;, &quot;o&quot;, &quot;ther!&quot;\n    Stream&lt;String&gt; alternatingItemsTrimmed = alternatingItems.limit(segments.size() * 2 - 1);\n    // &quot;Vader soid: No, I am your fother!&quot;\n    return alternatingItemsTrimmed.collect(Collectors.joining());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20418426,"reputation":56,"user_id":14980014,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637530559,"creation_date":1637530153,"answer_id":70058743,"question_id":69979280,"body_markdown":"I would like to present an alternative solution\r\n\r\n    public class App {\r\n\r\n    public static void main(String[] args) {\r\n        String input = &quot;Vader said: No, I am your father!&quot;;\r\n        String result = replacenth(input, &#39;a&#39;, &#39;o&#39;, 2);\r\n        System.out.println(input);\r\n        System.out.println(result);\r\n        System.out.println(result.equalsIgnoreCase(&quot;Vader soid: No, I am your fother!&quot;));\r\n    }\r\n\r\n    private static String replacenth(String input, char search, char replace, int n) {\r\n        return IntStream.range(1, input.length() + 1)\r\n                .mapToObj(i -&gt; input.substring(0, i))\r\n                .map(s -&gt; shouldReplace(s, search, n)\r\n                        ? replace : s.charAt(s.length() - 1))\r\n                .collect(Collector.of(\r\n                        StringBuilder::new,\r\n                        StringBuilder::append,\r\n                        StringBuilder::append,\r\n                        StringBuilder::toString));\r\n    }\r\n\r\n    private static boolean isEqual(String s, char c) {\r\n        return s.charAt(s.length() -1) == c;\r\n    }\r\n    private static Long countOccurences(String s, char c){ \r\n        return s.chars().filter(x -&gt; x == c).count();\r\n    }\r\n    private static boolean shouldReplace(String s, char search, int n) {\r\n        return isEqual(s, search) &amp;&amp; countOccurences(s, search) % n == 0;\r\n    }\r\n}\r\n\r\n","title":"A better Functional solutions to this Java Kata","body":"<p>I would like to present an alternative solution</p>\n<pre><code>public class App {\n\npublic static void main(String[] args) {\n    String input = &quot;Vader said: No, I am your father!&quot;;\n    String result = replacenth(input, 'a', 'o', 2);\n    System.out.println(input);\n    System.out.println(result);\n    System.out.println(result.equalsIgnoreCase(&quot;Vader soid: No, I am your fother!&quot;));\n}\n\nprivate static String replacenth(String input, char search, char replace, int n) {\n    return IntStream.range(1, input.length() + 1)\n            .mapToObj(i -&gt; input.substring(0, i))\n            .map(s -&gt; shouldReplace(s, search, n)\n                    ? replace : s.charAt(s.length() - 1))\n            .collect(Collector.of(\n                    StringBuilder::new,\n                    StringBuilder::append,\n                    StringBuilder::append,\n                    StringBuilder::toString));\n}\n\nprivate static boolean isEqual(String s, char c) {\n    return s.charAt(s.length() -1) == c;\n}\nprivate static Long countOccurences(String s, char c){ \n    return s.chars().filter(x -&gt; x == c).count();\n}\nprivate static boolean shouldReplace(String s, char search, int n) {\n    return isEqual(s, search) &amp;&amp; countOccurences(s, search) % n == 0;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23346327,"reputation":21,"user_id":17420565,"display_name":"dave smith"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1637530559,"creation_date":1637001510,"question_id":69979280,"body_markdown":"I&#39;m trying to learn more about functional programing. I did some training vids, and I thought I would do a Kata. \r\n\r\nMaybe I just picked a bad one, I tried to make predicates to do the filter but it seemed to add more code than seemed needed. I&#39;m sure there is a better way.\r\n\r\nThank you!\r\n\r\n    \r\nKATA -------\r\n\r\n    n:         2\r\n    oldValue: &#39;a&#39;\r\n    newValue: &#39;o&#39;\r\n    &quot;Vader said: No, I am your father!&quot; -&gt; &quot;Vader soid: No, I am your fother!&quot;\r\n      1     2          3        4       -&gt; 2nd and 4th occurence are replaced\r\n    \r\n------\r\n\r\n```\r\n    package kata;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import java.util.function.BiPredicate;\r\n    \r\n    public class ReplaceEveryNth {\r\n        public static Integer interPos = 0;\r\n        \r\n        //works but isn&#39;t great. How do you make this functional?\r\n\r\n        public static String replaceNth(String text, Integer n, Character oldValue, Character newValue){\r\n            //String builder allows for the setCharAt Function to swap char\r\n            StringBuilder sb = new StringBuilder(text);\r\n    \r\n            //make an array of all the positions the char is found at.\r\n            ArrayList&lt;Integer&gt; foundAt = new ArrayList&lt;&gt;();\r\n            sb.toString().chars().forEach( c -&gt; {\r\n                interPos++;\r\n                if (c == oldValue) foundAt.add(interPos);\r\n            });\r\n    \r\n            //need to for mod div\r\n            AtomicInteger index = new AtomicInteger();\r\n            index.set(1);\r\n    \r\n            //if mod this pos is 0, then swap it.\r\n            foundAt.forEach(pos -&gt; {\r\n                System.out.println(&quot;pos Mods: &quot; + pos + &quot; &quot; + index);\r\n                if (index.get() % n == 0) {\r\n                    sb.setCharAt(pos-1, newValue);\r\n                }\r\n                index.getAndIncrement();\r\n            });\r\n    \r\n            return sb.toString();\r\n        }\r\n    \r\n    }\r\n```\r\n\r\n\r\n\r\nEdit this this updated method, it&#39;s not really functional? But it uses a single loop.\r\n\r\n```\r\n    public static String replaceNth(String text, Integer n, Character oldValue, Character newValue){\r\n        char[] chars = text.toCharArray();\r\n        char[] ret = new char[chars.length];\r\n        int counter = 1;\r\n\r\n        for (int i = 0; i &lt; chars.length; ++i)\r\n        {\r\n            ret[i] = chars[i];\r\n            if (chars[i] == oldValue) {\r\n                    if (counter % n == 0) {\r\n                        ret[i] = newValue;\r\n                        counter = 0;\r\n                    }\r\n                counter++;\r\n            }\r\n        }\r\n        return new String(ret);\r\n    }\r\n ```\r\n   ","title":"A better Functional solutions to this Java Kata","body":"<p>I'm trying to learn more about functional programing. I did some training vids, and I thought I would do a Kata.</p>\n<p>Maybe I just picked a bad one, I tried to make predicates to do the filter but it seemed to add more code than seemed needed. I'm sure there is a better way.</p>\n<p>Thank you!</p>\n<p>KATA -------</p>\n<pre><code>n:         2\noldValue: 'a'\nnewValue: 'o'\n&quot;Vader said: No, I am your father!&quot; -&gt; &quot;Vader soid: No, I am your fother!&quot;\n  1     2          3        4       -&gt; 2nd and 4th occurence are replaced\n</code></pre>\n<hr />\n<pre><code>    package kata;\n    \n    import java.util.ArrayList;\n    import java.util.concurrent.atomic.AtomicInteger;\n    import java.util.function.BiPredicate;\n    \n    public class ReplaceEveryNth {\n        public static Integer interPos = 0;\n        \n        //works but isn't great. How do you make this functional?\n\n        public static String replaceNth(String text, Integer n, Character oldValue, Character newValue){\n            //String builder allows for the setCharAt Function to swap char\n            StringBuilder sb = new StringBuilder(text);\n    \n            //make an array of all the positions the char is found at.\n            ArrayList&lt;Integer&gt; foundAt = new ArrayList&lt;&gt;();\n            sb.toString().chars().forEach( c -&gt; {\n                interPos++;\n                if (c == oldValue) foundAt.add(interPos);\n            });\n    \n            //need to for mod div\n            AtomicInteger index = new AtomicInteger();\n            index.set(1);\n    \n            //if mod this pos is 0, then swap it.\n            foundAt.forEach(pos -&gt; {\n                System.out.println(&quot;pos Mods: &quot; + pos + &quot; &quot; + index);\n                if (index.get() % n == 0) {\n                    sb.setCharAt(pos-1, newValue);\n                }\n                index.getAndIncrement();\n            });\n    \n            return sb.toString();\n        }\n    \n    }\n</code></pre>\n<p>Edit this this updated method, it's not really functional? But it uses a single loop.</p>\n<pre><code>    public static String replaceNth(String text, Integer n, Character oldValue, Character newValue){\n        char[] chars = text.toCharArray();\n        char[] ret = new char[chars.length];\n        int counter = 1;\n\n        for (int i = 0; i &lt; chars.length; ++i)\n        {\n            ret[i] = chars[i];\n            if (chars[i] == oldValue) {\n                    if (counter % n == 0) {\n                        ret[i] = newValue;\n                        counter = 0;\n                    }\n                counter++;\n            }\n        }\n        return new String(ret);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","rest","encoding","arabic"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1637350130,"post_id":70039979,"comment_id":123811838,"body_markdown":"It&#39;s mostly a matter of having the correct font.","body":"It&#39;s mostly a matter of having the correct font."},{"owner":{"account_id":14009760,"reputation":3,"user_id":10118746,"display_name":"Shubham Jain"},"score":0,"creation_date":1637350631,"post_id":70039979,"comment_id":123811976,"body_markdown":"Can you please explain ? @user16632363","body":"Can you please explain ? @user16632363"},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1637351609,"post_id":70039979,"comment_id":123812311,"body_markdown":"Output devices use a font to display characters. If the font you&#39;re using doesn&#39;t contain a particular character, it can&#39;t display it.  In such a case it will generally display some substitute such as a question mark or a &#39;box&#39; shape.","body":"Output devices use a font to display characters. If the font you&#39;re using doesn&#39;t contain a particular character, it can&#39;t display it.  In such a case it will generally display some substitute such as a question mark or a &#39;box&#39; shape."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1637353941,"post_id":70039979,"comment_id":123813015,"body_markdown":"How are you receiving this content? Please post a [mcve].","body":"How are you receiving this content? Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":14009760,"reputation":3,"user_id":10118746,"display_name":"Shubham Jain"},"score":0,"creation_date":1637436813,"post_id":70039979,"comment_id":123827835,"body_markdown":"I have edited my question @SotiriosDelimanolis .\nPlease have a look","body":"I have edited my question @SotiriosDelimanolis . Please have a look"},{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1637578484,"post_id":70039979,"comment_id":123854984,"body_markdown":"@ShubhamJain check the updated answer and let me know if you still facing issues","body":"@ShubhamJain check the updated answer and let me know if you still facing issues"}],"answers":[{"tags":[],"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637529250,"creation_date":1637352167,"answer_id":70040356,"question_id":70039979,"body_markdown":"try to convert it to a UTF-8 compatible string and then try to print it in console\r\n\r\n    String str = new String(&quot;رائد ابو زيدsss&quot;.getBytes(), &quot;UTF-8&quot;);\r\nnow print this string in console or log. You can replace the Arabic string as per your input \r\n\r\n\r\n===========================================================\r\n\r\n**UPDATE 1**\r\n\r\nI have done a sample example based on the code you have given. You may change the request processing part as per your need.\r\n\r\n**Make sure** you have changed the text file encoding for your **project to UTF-8**. I have used STS (you will get it in Project &gt; Properties)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Code**\r\n\r\n        @RestController\r\n        public class MainController {\r\n        \t\r\n        \t@GetMapping(value=&quot;/test&quot;, consumes = &quot;application/json&quot;, produces =&quot;application/json&quot; )\r\n        \tpublic void getData(@RequestBody String body) throws \r\n    UnsupportedEncodingException { // I have accepted it as String, you can accept as per your requirement like any Object\r\n        \t\tSystem.out.println(&quot;Request Body: &quot; +body);\r\n        \t\tJSONObject jsonObject = (JSONObject) JSONValue.parse(body); //This is just to replicate your code\r\n        \t\tSystem.out.print(&quot;holder sponsor name: &quot; +jsonObject.get(&quot;holder sponsor name&quot;));\r\n        \t}\r\n        \r\n        }\r\n\r\n**Request**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Result**\r\n\r\n      /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n    [32m :: Spring Boot :: [39m              [2m (v2.6.0)[0;39m\r\n    \r\n    Request Body: {\r\n        &quot;holder passport expiry date&quot;: &quot;10/09/2021&quot;,\r\n        &quot;holder passport issue date&quot;: &quot;11/09/2011&quot;,\r\n        &quot;holder sponsor name&quot;: &quot;رائد ابو زيدsss&quot;,\r\n        &quot;holder occupation code&quot;: 8\r\n    }\r\n    holder sponsor name: رائد ابو زيدsss\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4dHzj.png\r\n  [2]: https://i.stack.imgur.com/qnc09.png","title":"Unable to print arabic characters on console coming in request in spring boot","body":"<p>try to convert it to a UTF-8 compatible string and then try to print it in console</p>\n<pre><code>String str = new String(&quot;رائد ابو زيدsss&quot;.getBytes(), &quot;UTF-8&quot;);\n</code></pre>\n<p>now print this string in console or log. You can replace the Arabic string as per your input</p>\n<p>===========================================================</p>\n<p><strong>UPDATE 1</strong></p>\n<p>I have done a sample example based on the code you have given. You may change the request processing part as per your need.</p>\n<p><strong>Make sure</strong> you have changed the text file encoding for your <strong>project to UTF-8</strong>. I have used STS (you will get it in Project &gt; Properties)</p>\n<p><a href=\"https://i.stack.imgur.com/4dHzj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4dHzj.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Code</strong></p>\n<pre><code>    @RestController\n    public class MainController {\n        \n        @GetMapping(value=&quot;/test&quot;, consumes = &quot;application/json&quot;, produces =&quot;application/json&quot; )\n        public void getData(@RequestBody String body) throws \nUnsupportedEncodingException { // I have accepted it as String, you can accept as per your requirement like any Object\n            System.out.println(&quot;Request Body: &quot; +body);\n            JSONObject jsonObject = (JSONObject) JSONValue.parse(body); //This is just to replicate your code\n            System.out.print(&quot;holder sponsor name: &quot; +jsonObject.get(&quot;holder sponsor name&quot;));\n        }\n    \n    }\n</code></pre>\n<p><strong>Request</strong></p>\n<p><a href=\"https://i.stack.imgur.com/qnc09.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qnc09.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Result</strong></p>\n<pre><code>  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m              [2m (v2.6.0)[0;39m\n\nRequest Body: {\n    &quot;holder passport expiry date&quot;: &quot;10/09/2021&quot;,\n    &quot;holder passport issue date&quot;: &quot;11/09/2011&quot;,\n    &quot;holder sponsor name&quot;: &quot;رائد ابو زيدsss&quot;,\n    &quot;holder occupation code&quot;: 8\n}\nholder sponsor name: رائد ابو زيدsss\n</code></pre>\n"}],"owner":{"account_id":14009760,"reputation":3,"user_id":10118746,"display_name":"Shubham Jain"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637529250,"creation_date":1637349907,"question_id":70039979,"body_markdown":"I am trying to hit request from postman consisting of arabic characters:\r\n\r\n`{\r\n    &quot;data&quot;: &quot;{\\&quot;holder passport expiry date\\&quot;:\\&quot;10/09/2021\\&quot;,\\&quot;holder passport issue date\\&quot;:\\&quot;11/09/2011\\&quot;,\\&quot;holder sponsor name\\&quot;:\\&quot;رائد ابو زيدsss\\&quot;,\\&quot;holder occupation code\\&quot;:8}&quot;\r\n}`\r\n\r\n\r\nWhile I am trying to print the request in console using logger.info or System.out.println like this: \r\n\r\n    public void printRecord(RequestBodyy requestBody) throws UnsupportedEncodingException, JSONException {\r\n\t\tJSONObject jsonObject = new JSONObject(requestBody.getData());\r\n\t\tSystem.out.println(jsonObject);\r\n\t\t\r\n\t\tSystem.out.print(jsonObject.get(&quot;holder passport expiry date&quot;));\r\n\t\t\r\n\t\tString str2 = new String(&quot;رائد ابو زيدsss&quot;);//.getBytes(), &quot;UTF-8&quot;);\r\n\t\tSystem.out.println(str2);\r\n\t\tString str = new String(jsonObject.get(&quot;holder sponsor name&quot;).toString());//.getBytes(),&quot;UTF-8&quot;);\r\n\t\tSystem.out.println(str);\r\n\t\t\r\n\t\tString data = &quot;{\\&quot;eidaID\\&quot;:\\&quot;حسن\\&quot;}&quot;; JSONObject obj = new JSONObject(data); \r\n\t\tSystem.out.println(obj.get(&quot;eidaID&quot;).toString());\r\n\t}\r\n\r\nOutput:\r\n\r\n    {&quot;holder sponsor name&quot;:&quot;???? ??? ???sss&quot;,&quot;holder passport expiry date&quot;:&quot;10/09/2021&quot;,&quot;holder occupation code&quot;:8,&quot;holder passport issue date&quot;:&quot;11/09/2011&quot;}\r\n    10/09/2021???? ??? ???sss\r\n    ???? ??? ???sss\r\n    ???\r\n\r\n\r\nI am receiving  ???? instead of those arabic characters. \r\n\r\nHow will I able to do that ?\r\n\r\nHowever, I am able to store these characters in DB coming from API request.\r\n\r\n\r\nMy application.properties :\r\n\r\n    server.port = 8076\r\n    spring.http.encoding.charset=UTF-8\r\n    spring.http.encoding.enabled=true\r\n    spring.http.encoding.force=true\r\n    spring.jpa.properties.hibernate.connection.characterEncoding=utf-8\r\n    spring.jpa.properties.hibernate.connection.CharSet=utf-8\r\n    spring.jpa.properties.hibernate.connection.useUnicode=true\r\n    server.tomcat.uri-encoding=UTF-8\r\n\r\n\r\nIn pom.xml, I added:\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\nPlease help!\r\n\r\n","title":"Unable to print arabic characters on console coming in request in spring boot","body":"<p>I am trying to hit request from postman consisting of arabic characters:</p>\n<p><code>{ &quot;data&quot;: &quot;{\\&quot;holder passport expiry date\\&quot;:\\&quot;10/09/2021\\&quot;,\\&quot;holder passport issue date\\&quot;:\\&quot;11/09/2011\\&quot;,\\&quot;holder sponsor name\\&quot;:\\&quot;رائد ابو زيدsss\\&quot;,\\&quot;holder occupation code\\&quot;:8}&quot; }</code></p>\n<p>While I am trying to print the request in console using logger.info or System.out.println like this:</p>\n<pre><code>public void printRecord(RequestBodyy requestBody) throws UnsupportedEncodingException, JSONException {\n    JSONObject jsonObject = new JSONObject(requestBody.getData());\n    System.out.println(jsonObject);\n    \n    System.out.print(jsonObject.get(&quot;holder passport expiry date&quot;));\n    \n    String str2 = new String(&quot;رائد ابو زيدsss&quot;);//.getBytes(), &quot;UTF-8&quot;);\n    System.out.println(str2);\n    String str = new String(jsonObject.get(&quot;holder sponsor name&quot;).toString());//.getBytes(),&quot;UTF-8&quot;);\n    System.out.println(str);\n    \n    String data = &quot;{\\&quot;eidaID\\&quot;:\\&quot;حسن\\&quot;}&quot;; JSONObject obj = new JSONObject(data); \n    System.out.println(obj.get(&quot;eidaID&quot;).toString());\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{&quot;holder sponsor name&quot;:&quot;???? ??? ???sss&quot;,&quot;holder passport expiry date&quot;:&quot;10/09/2021&quot;,&quot;holder occupation code&quot;:8,&quot;holder passport issue date&quot;:&quot;11/09/2011&quot;}\n10/09/2021???? ??? ???sss\n???? ??? ???sss\n???\n</code></pre>\n<p>I am receiving  ???? instead of those arabic characters.</p>\n<p>How will I able to do that ?</p>\n<p>However, I am able to store these characters in DB coming from API request.</p>\n<p>My application.properties :</p>\n<pre><code>server.port = 8076\nspring.http.encoding.charset=UTF-8\nspring.http.encoding.enabled=true\nspring.http.encoding.force=true\nspring.jpa.properties.hibernate.connection.characterEncoding=utf-8\nspring.jpa.properties.hibernate.connection.CharSet=utf-8\nspring.jpa.properties.hibernate.connection.useUnicode=true\nserver.tomcat.uri-encoding=UTF-8\n</code></pre>\n<p>In pom.xml, I added:</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Please help!</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":5487213,"reputation":121,"user_id":7076139,"display_name":"Ankush"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637529244,"creation_date":1637507482,"answer_id":70055777,"question_id":70055579,"body_markdown":"From your question I am assuming that **keys** under **produit** are random. \r\nSo when you will retrieve order details **produit** will be a Hashmap. Declare **produit** as Hashmap&lt;String,String&gt; in **Order** class.\r\n\r\nYou can print those keys and values.\r\n \r\n\r\n    for(Map.Entry&lt;String, String&gt; e : clickedDataItem.getproduit().entrySet()) {\r\n          \r\n          //  print  e.getKey() e.getValue()\r\n        }\r\n\r\n","title":"How to retrieve data from database using hashmap?","body":"<p>From your question I am assuming that <strong>keys</strong> under <strong>produit</strong> are random.\nSo when you will retrieve order details <strong>produit</strong> will be a Hashmap. Declare <strong>produit</strong> as Hashmap&lt;String,String&gt; in <strong>Order</strong> class.</p>\n<p>You can print those keys and values.</p>\n<pre><code>for(Map.Entry&lt;String, String&gt; e : clickedDataItem.getproduit().entrySet()) {\n      \n      //  print  e.getKey() e.getValue()\n    }\n</code></pre>\n"}],"owner":{"account_id":19594677,"reputation":37,"user_id":14340995,"display_name":"Mohamed Yacine Zouaoui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70055777,"answer_count":1,"score":0,"last_activity_date":1637529244,"creation_date":1637505999,"question_id":70055579,"body_markdown":"I have this [recyclerview][1], when I click on an item I want to get the data in the red square from database.\r\n\r\n [![enter image description here][2]][2]\r\n\r\nAnd I want to show it like that \r\n\r\n[![enter image description here][3]][3]\r\n\r\nThis is how I save it : \r\n\r\n     Save.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.GINGERBREAD)\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                String refernce = TextRef.getEditText().getText().toString();\r\n                String nompdv = textNomPdv.getEditText().getText().toString();\r\n                String etat = textEtatCommande.getEditText().getText().toString();\r\n                String datecommande = TextDateCommande.getEditText().getText().toString();\r\n                String produitcommande = textProduit.getEditText().getText().toString();\r\n                String qntcommande = editTextProduitQnt.getEditText().getText().toString();\r\n\r\n\r\n                DatabaseReference newPost = reference.child(refernce);\r\n                newPost.child(&quot;refernce&quot;).setValue(refernce);\r\n                newPost.child(&quot;nompdv&quot;).setValue(nompdv);\r\n                newPost.child(&quot;etat&quot;).setValue(etat);\r\n                newPost.child(&quot;datecommande&quot;).setValue(datecommande);\r\n                newPost.child(&quot;user_id&quot;).setValue(uid);\r\n              \r\n                Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\r\n                values.put(produitcommande, qntcommande);\r\n\r\n                DatabaseReference produitRef = reference.child(refernce).child(&quot;produit&quot;);\r\n                produitRef.updateChildren(values);\r\n\r\nThis is how I send data from first activity (recyclerview) : \r\n\r\n    v.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(view.getContext(), Order_detail.class);\r\n                int pos = v.getAdapterPosition();\r\n                if (pos != RecyclerView.NO_POSITION) {\r\n                    Order clickedDataItem = listArray.get(pos);\r\n\r\n                    intent.putExtra(&quot;nompdv&quot;, clickedDataItem.getNompdv());\r\n                    intent.putExtra(&quot;reference&quot;, clickedDataItem.getRefernce());\r\n                    intent.putExtra(&quot;datecommande&quot;, clickedDataItem.getDatecommande());\r\n                    intent.putExtra(&quot;etat&quot;, clickedDataItem.getEtat());\r\n                 }\r\n\r\n                view.getContext().startActivity(intent);\r\n            }\r\n        });\r\n\r\n**How to do to get the products and their quantities when clicking on an item in recyclerview?**  \r\n\r\nUpdate : This my Order class : \r\n\r\n```\r\npublic class Order implements Serializable {\r\n    public  String refernce, nompdv, etat, datecommande, produitcommande, qntcommande;\r\n     String user_id;\r\n\r\n    public Order(){}\r\n\r\n    public Order(String refernce, String nompdv, String etat, String datecommande, String produitcommande, String qntcommande, String user_id) {\r\n        this.refernce = refernce;\r\n        this.nompdv = nompdv;\r\n        this.etat = etat;\r\n        this.datecommande = datecommande;\r\n        this.produitcommande = produitcommande;\r\n        this.qntcommande = qntcommande;\r\n        this.user_id = user_id;\r\n\r\n    }\r\n\r\n    public String getRefernce() {\r\n        return refernce;\r\n    }\r\n\r\n    public void setRefernce(String refernce) {\r\n        this.refernce = refernce;\r\n    }\r\n\r\n    public String getNompdv() {\r\n        return nompdv;\r\n    }\r\n\r\n    public void setNompdv(String nompdv) {\r\n        this.nompdv = nompdv;\r\n    }\r\n\r\n    public String getEtat() {\r\n        return etat;\r\n    }\r\n\r\n    public void setEtat(String etat) {\r\n        this.etat = etat;\r\n    }\r\n\r\n    public String getDatecommande() {\r\n        return datecommande;\r\n    }\r\n\r\n    public void setDatecommande(String datecommande) {\r\n        this.datecommande = datecommande;\r\n    }\r\n\r\n    public String getProduitcommande() {\r\n        return produitcommande;\r\n    }\r\n\r\n    public void setProduitcommande(String produitcommande) {\r\n        this.produitcommande = produitcommande;\r\n    }\r\n\r\n    public String getQntcommande() {\r\n        return qntcommande;\r\n    }\r\n\r\n    public void setQntcommande(String qntcommande) {\r\n        this.qntcommande = qntcommande;\r\n    }\r\n\r\n    public String getUser_id() {\r\n        return user_id;\r\n    }\r\n\r\n    public void setUser_id(String user_id) {\r\n        this.user_id = user_id;\r\n    }\r\n\r\n}\r\n```\r\n[The form][4] how I save data\r\n\r\nUpdate 2 :\r\n\r\nThis the Adapter for the recyclerview : \r\n\r\n\r\n    public class CommandeAdapter extends \r\n    RecyclerView.Adapter&lt;CommandeAdapter.CommandeViewHolder&gt; {\r\n    List&lt;Order&gt; listArray;\r\n\r\n    public CommandeAdapter(List&lt;Order&gt; List) {\r\n        this.listArray = List;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CommandeAdapter.CommandeViewHolder onCreateViewHolder(@NonNull @NotNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.commande_model, parent, false);\r\n\r\n        return new CommandeViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull @NotNull CommandeAdapter.CommandeViewHolder holder, int position) {\r\n\r\n        CommandeViewHolder v = (CommandeViewHolder) holder;\r\n        final Order dataa = listArray.get(position);\r\n        v.nom_pdv.setText(dataa.getNompdv());\r\n        v.date.setText(dataa.getDatecommande());\r\n        v.etat.setText(dataa.getEtat());\r\n\r\n        v.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(view.getContext(), Order_detail.class);\r\n                int pos = v.getAdapterPosition();\r\n                if (pos != RecyclerView.NO_POSITION) {\r\n                    Order clickedDataItem = listArray.get(pos);\r\n\r\n                    intent.putExtra(&quot;nompdv&quot;, clickedDataItem.getNompdv());\r\n                    intent.putExtra(&quot;reference&quot;, clickedDataItem.getRefernce());\r\n                    intent.putExtra(&quot;datecommande&quot;, clickedDataItem.getDatecommande());\r\n                    intent.putExtra(&quot;etat&quot;, clickedDataItem.getEtat());\r\n                    \r\n                    }\r\n                 }\r\n\r\n                view.getContext().startActivity(intent);\r\n            }\r\n        });\r\n      }\r\n\r\n    public class CommandeViewHolder extends RecyclerView.ViewHolder {\r\n        TextView nom_pdv, date, etat;\r\n\r\n        public CommandeViewHolder(@NonNull @NotNull View itemView) {\r\n            super(itemView);\r\n\r\n            nom_pdv = itemView.findViewById(R.id.namepdv);\r\n            date = itemView.findViewById(R.id.dateliv);\r\n            etat = itemView.findViewById(R.id.etat);\r\n         }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return listArray.size();\r\n    }}\r\n\r\nAnd this is activity detail :\r\n\r\n    public class Order_detail extends AppCompatActivity {\r\n    \r\n    TextView namepdv, refcommande, datecommande, etat, produitcmnd, qnt;\r\n \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_commande_detail2);\r\n  \r\n        namepdv = findViewById(R.id.nompdv);\r\n        refcommande = findViewById(R.id.refcommande);\r\n        datecommande = findViewById(R.id.datecommande);\r\n        etat = findViewById(R.id.etatcommande);\r\n         //  --------------------- //\r\n        namepdv.setText(getIntent().getStringExtra(&quot;nompdv&quot;));\r\n        refcommande.setText(getIntent().getStringExtra(&quot;reference&quot;));\r\n        datecommande.setText(getIntent().getStringExtra(&quot;datecommande&quot;));\r\n        etat.setText(getIntent().getStringExtra(&quot;etat&quot;));\r\n     }}\r\n\r\n  [1]: https://i.stack.imgur.com/c7Wyb.jpg\r\n  [2]: https://i.stack.imgur.com/9JSwc.png\r\n  [3]: https://i.stack.imgur.com/eZJbm.png\r\n  [4]: https://i.stack.imgur.com/poMgd.png","title":"How to retrieve data from database using hashmap?","body":"<p>I have this <a href=\"https://i.stack.imgur.com/c7Wyb.jpg\" rel=\"nofollow noreferrer\">recyclerview</a>, when I click on an item I want to get the data in the red square from database.</p>\n<p><a href=\"https://i.stack.imgur.com/9JSwc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9JSwc.png\" alt=\"enter image description here\" /></a></p>\n<p>And I want to show it like that</p>\n<p><a href=\"https://i.stack.imgur.com/eZJbm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eZJbm.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how I save it :</p>\n<pre><code> Save.setOnClickListener(new View.OnClickListener() {\n        @RequiresApi(api = Build.VERSION_CODES.GINGERBREAD)\n        @Override\n        public void onClick(View v) {\n\n            String refernce = TextRef.getEditText().getText().toString();\n            String nompdv = textNomPdv.getEditText().getText().toString();\n            String etat = textEtatCommande.getEditText().getText().toString();\n            String datecommande = TextDateCommande.getEditText().getText().toString();\n            String produitcommande = textProduit.getEditText().getText().toString();\n            String qntcommande = editTextProduitQnt.getEditText().getText().toString();\n\n\n            DatabaseReference newPost = reference.child(refernce);\n            newPost.child(&quot;refernce&quot;).setValue(refernce);\n            newPost.child(&quot;nompdv&quot;).setValue(nompdv);\n            newPost.child(&quot;etat&quot;).setValue(etat);\n            newPost.child(&quot;datecommande&quot;).setValue(datecommande);\n            newPost.child(&quot;user_id&quot;).setValue(uid);\n          \n            Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\n            values.put(produitcommande, qntcommande);\n\n            DatabaseReference produitRef = reference.child(refernce).child(&quot;produit&quot;);\n            produitRef.updateChildren(values);\n</code></pre>\n<p>This is how I send data from first activity (recyclerview) :</p>\n<pre><code>v.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(view.getContext(), Order_detail.class);\n            int pos = v.getAdapterPosition();\n            if (pos != RecyclerView.NO_POSITION) {\n                Order clickedDataItem = listArray.get(pos);\n\n                intent.putExtra(&quot;nompdv&quot;, clickedDataItem.getNompdv());\n                intent.putExtra(&quot;reference&quot;, clickedDataItem.getRefernce());\n                intent.putExtra(&quot;datecommande&quot;, clickedDataItem.getDatecommande());\n                intent.putExtra(&quot;etat&quot;, clickedDataItem.getEtat());\n             }\n\n            view.getContext().startActivity(intent);\n        }\n    });\n</code></pre>\n<p><strong>How to do to get the products and their quantities when clicking on an item in recyclerview?</strong></p>\n<p>Update : This my Order class :</p>\n<pre><code>public class Order implements Serializable {\n    public  String refernce, nompdv, etat, datecommande, produitcommande, qntcommande;\n     String user_id;\n\n    public Order(){}\n\n    public Order(String refernce, String nompdv, String etat, String datecommande, String produitcommande, String qntcommande, String user_id) {\n        this.refernce = refernce;\n        this.nompdv = nompdv;\n        this.etat = etat;\n        this.datecommande = datecommande;\n        this.produitcommande = produitcommande;\n        this.qntcommande = qntcommande;\n        this.user_id = user_id;\n\n    }\n\n    public String getRefernce() {\n        return refernce;\n    }\n\n    public void setRefernce(String refernce) {\n        this.refernce = refernce;\n    }\n\n    public String getNompdv() {\n        return nompdv;\n    }\n\n    public void setNompdv(String nompdv) {\n        this.nompdv = nompdv;\n    }\n\n    public String getEtat() {\n        return etat;\n    }\n\n    public void setEtat(String etat) {\n        this.etat = etat;\n    }\n\n    public String getDatecommande() {\n        return datecommande;\n    }\n\n    public void setDatecommande(String datecommande) {\n        this.datecommande = datecommande;\n    }\n\n    public String getProduitcommande() {\n        return produitcommande;\n    }\n\n    public void setProduitcommande(String produitcommande) {\n        this.produitcommande = produitcommande;\n    }\n\n    public String getQntcommande() {\n        return qntcommande;\n    }\n\n    public void setQntcommande(String qntcommande) {\n        this.qntcommande = qntcommande;\n    }\n\n    public String getUser_id() {\n        return user_id;\n    }\n\n    public void setUser_id(String user_id) {\n        this.user_id = user_id;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/poMgd.png\" rel=\"nofollow noreferrer\">The form</a> how I save data</p>\n<p>Update 2 :</p>\n<p>This the Adapter for the recyclerview :</p>\n<pre><code>public class CommandeAdapter extends \nRecyclerView.Adapter&lt;CommandeAdapter.CommandeViewHolder&gt; {\nList&lt;Order&gt; listArray;\n\npublic CommandeAdapter(List&lt;Order&gt; List) {\n    this.listArray = List;\n}\n\n@NonNull\n@Override\npublic CommandeAdapter.CommandeViewHolder onCreateViewHolder(@NonNull @NotNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.commande_model, parent, false);\n\n    return new CommandeViewHolder(v);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull @NotNull CommandeAdapter.CommandeViewHolder holder, int position) {\n\n    CommandeViewHolder v = (CommandeViewHolder) holder;\n    final Order dataa = listArray.get(position);\n    v.nom_pdv.setText(dataa.getNompdv());\n    v.date.setText(dataa.getDatecommande());\n    v.etat.setText(dataa.getEtat());\n\n    v.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(view.getContext(), Order_detail.class);\n            int pos = v.getAdapterPosition();\n            if (pos != RecyclerView.NO_POSITION) {\n                Order clickedDataItem = listArray.get(pos);\n\n                intent.putExtra(&quot;nompdv&quot;, clickedDataItem.getNompdv());\n                intent.putExtra(&quot;reference&quot;, clickedDataItem.getRefernce());\n                intent.putExtra(&quot;datecommande&quot;, clickedDataItem.getDatecommande());\n                intent.putExtra(&quot;etat&quot;, clickedDataItem.getEtat());\n                \n                }\n             }\n\n            view.getContext().startActivity(intent);\n        }\n    });\n  }\n\npublic class CommandeViewHolder extends RecyclerView.ViewHolder {\n    TextView nom_pdv, date, etat;\n\n    public CommandeViewHolder(@NonNull @NotNull View itemView) {\n        super(itemView);\n\n        nom_pdv = itemView.findViewById(R.id.namepdv);\n        date = itemView.findViewById(R.id.dateliv);\n        etat = itemView.findViewById(R.id.etat);\n     }\n}\n\n@Override\npublic int getItemCount() {\n    return listArray.size();\n}}\n</code></pre>\n<p>And this is activity detail :</p>\n<pre><code>public class Order_detail extends AppCompatActivity {\n\nTextView namepdv, refcommande, datecommande, etat, produitcmnd, qnt;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_commande_detail2);\n\n    namepdv = findViewById(R.id.nompdv);\n    refcommande = findViewById(R.id.refcommande);\n    datecommande = findViewById(R.id.datecommande);\n    etat = findViewById(R.id.etatcommande);\n     //  --------------------- //\n    namepdv.setText(getIntent().getStringExtra(&quot;nompdv&quot;));\n    refcommande.setText(getIntent().getStringExtra(&quot;reference&quot;));\n    datecommande.setText(getIntent().getStringExtra(&quot;datecommande&quot;));\n    etat.setText(getIntent().getStringExtra(&quot;etat&quot;));\n }}\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor","reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627156005,"post_id":68505640,"comment_id":121083224,"body_markdown":"i dont really understand your user case. What do you mean by `I would like it to accept only one subscriber, so following subscribers are hold until first completes.` please describe your actual user case.","body":"i dont really understand your user case. What do you mean by <code>I would like it to accept only one subscriber, so following subscribers are hold until first completes.</code> please describe your actual user case."},{"owner":{"account_id":1036563,"reputation":1678,"user_id":1043677,"accept_rate":61,"display_name":"lqbweb"},"score":0,"creation_date":1627156477,"post_id":68505640,"comment_id":121083331,"body_markdown":"So, if you see the example that i provide, i would like to serialize (sequentially with concurrency 1) all the GET request that are done from different places in my application.","body":"So, if you see the example that i provide, i would like to serialize (sequentially with concurrency 1) all the GET request that are done from different places in my application."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627161115,"post_id":68505640,"comment_id":121084175,"body_markdown":"i can read your code, but i dont care about your code, i want to know the user case. What is your intention, what are you building, what are you trying to do. Because in reactive we usually dont use `Thread` and the code is messy, so i dont understand what it is you are trying to do. If i unerstand what it is you want to do, maybe we can help you build it in a more correct reactive way.","body":"i can read your code, but i dont care about your code, i want to know the user case. What is your intention, what are you building, what are you trying to do. Because in reactive we usually dont use <code>Thread</code> and the code is messy, so i dont understand what it is you are trying to do. If i unerstand what it is you want to do, maybe we can help you build it in a more correct reactive way."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627161383,"post_id":68505640,"comment_id":121084217,"body_markdown":"there are several very strange things with your code, why the `latestOrDefault` of a boolean? why are you `flatMap`ing over `monoC` and not using the boolean? you code is way off, in how to use sinks","body":"there are several very strange things with your code, why the <code>latestOrDefault</code> of a boolean? why are you <code>flatMap</code>ing over <code>monoC</code> and not using the boolean? you code is way off, in how to use sinks"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627161414,"post_id":68505640,"comment_id":121084224,"body_markdown":"i suggest you read the sink part in reactor documentation, which describes how to use a sink. https://projectreactor.io/docs/core/release/reference/#processors","body":"i suggest you read the sink part in reactor documentation, which describes how to use a sink. <a href=\"https://projectreactor.io/docs/core/release/reference/#processors\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/reference/#processors</a>"},{"owner":{"account_id":1036563,"reputation":1678,"user_id":1043677,"accept_rate":61,"display_name":"lqbweb"},"score":0,"creation_date":1627162071,"post_id":68505640,"comment_id":121084329,"body_markdown":"I have updated the question, with a more detailed explanation on the real case. Hope it can be understood, otherwise please let me know.","body":"I have updated the question, with a more detailed explanation on the real case. Hope it can be understood, otherwise please let me know."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627207534,"post_id":68505640,"comment_id":121090480,"body_markdown":"what you want is a queue, most likely not a sink.","body":"what you want is a queue, most likely not a sink."},{"owner":{"account_id":1036563,"reputation":1678,"user_id":1043677,"accept_rate":61,"display_name":"lqbweb"},"score":0,"creation_date":1627212307,"post_id":68505640,"comment_id":121091460,"body_markdown":"You mean a workqueueprocessor? Are they not getting deprecated in favor of Sinks? Can you please give me more hints on how to implement this? Thanks!","body":"You mean a workqueueprocessor? Are they not getting deprecated in favor of Sinks? Can you please give me more hints on how to implement this? Thanks!"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627220848,"post_id":68505640,"comment_id":121093338,"body_markdown":"No just a plain old queue. You place things in a queue, and the server takes from the queue in its own pace. There are 1000s of different queues out there.","body":"No just a plain old queue. You place things in a queue, and the server takes from the queue in its own pace. There are 1000s of different queues out there."},{"owner":{"account_id":1036563,"reputation":1678,"user_id":1043677,"accept_rate":61,"display_name":"lqbweb"},"score":0,"creation_date":1627225423,"post_id":68505640,"comment_id":121094389,"body_markdown":"Ah, alright, i was trying to do this 100% reactive, but I am starting to give up yeah. Problem i think is that the publisher is not aware of the onComplete of the subscribers right? Perhaps with the delaySubscription(publisher) i can try something....","body":"Ah, alright, i was trying to do this 100% reactive, but I am starting to give up yeah. Problem i think is that the publisher is not aware of the onComplete of the subscribers right? Perhaps with the delaySubscription(publisher) i can try something...."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627225737,"post_id":68505640,"comment_id":121094464,"body_markdown":"I have no idea what you mean with `Problem i think is that the publisher is not aware of the onComplete of the subscribers right?` that statement.","body":"I have no idea what you mean with <code>Problem i think is that the publisher is not aware of the onComplete of the subscribers right?</code> that statement."},{"owner":{"account_id":1036563,"reputation":1678,"user_id":1043677,"accept_rate":61,"display_name":"lqbweb"},"score":0,"creation_date":1627342893,"post_id":68505640,"comment_id":121125796,"body_markdown":"I meant, that there is no way for a publisher to know when the subscriber is disposed right?","body":"I meant, that there is no way for a publisher to know when the subscriber is disposed right?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627343754,"post_id":68505640,"comment_id":121125899,"body_markdown":"Still dont understand what you are asking for. Your problem seems convoluted and unecassary complicated. If you have a service that has bad performance. You set up a queue so that service A places something in the queue. Service B reads off the queue in the pace it can handle.","body":"Still dont understand what you are asking for. Your problem seems convoluted and unecassary complicated. If you have a service that has bad performance. You set up a queue so that service A places something in the queue. Service B reads off the queue in the pace it can handle."}],"answers":[{"tags":[],"owner":{"account_id":7023642,"reputation":131,"user_id":5381942,"display_name":"Andrey Novikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637528119,"creation_date":1637528119,"answer_id":70058529,"question_id":68505640,"body_markdown":"As soon as I understood your issue correctly, you want the requests to B being  processed sequentially. In that case you should have a look at https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#flatMap-java.util.function.Function-int-\r\n\r\n```\r\npublic final &lt;V&gt; Flux&lt;V&gt; flatMap(Function&lt;? super T, ? extends Publisher&lt;? extends V&gt;&gt; mapper, int concurrency)\r\n```\r\n\r\nI think your case should look like\r\n\r\n```\r\n//sinks should be global variable for your controller, initialized in @PostConstruct\r\n        var sinks = Sinks\r\n                //unsafe is required for multithreading\r\n                .unsafe()\r\n                .many()\r\n                .replay()\r\n                .latest();\r\n        sinks.asFlux()\r\n                .doOnNext(it -&gt; System.out.printf(&quot;%s is emitting %s\\n&quot;, Thread.currentThread().getName(), it))\r\n                .flatMap(counter -&gt; {\r\n                    return webClientBuilder.build()\r\n                            .get()\r\n                            .uri(&quot;https://www.google.com&quot;)\r\n                            .retrieve()\r\n                            .toEntityFlux(String.class)\r\n                            .doOnSuccess(stringResponseEntity -&gt; {\r\n                                System.out.println(counter + &quot; &quot; + new Date() + &quot; - &quot; + Thread.currentThread().getName() + &quot;    finished processing with &quot; + stringResponseEntity.getStatusCode());\r\n                            })\r\n                            .then(Mono.just(counter));\r\n                    //concurrency = 1 causes the flatMap being handled only once in parallel\r\n                }, 1)\r\n                .doOnError(Throwable::printStackTrace)\r\n                //this subscription also must be done in @PostConstruct\r\n                .subscribe(counter -&gt; System.out.printf(&quot;%s completed in %s\\n&quot;, counter, Thread.currentThread().getName()));\r\n\r\n        //and this is your endpoint method\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int counter = i;\r\n            new Thread(() -&gt; {\r\n                var result = sinks.tryEmitNext(counter);\r\n                if (result.isFailure()) {\r\n                    //mb in that case you should retry\r\n                    System.out.printf(&quot;%s emitted %s. with fail: %s\\n&quot;, Thread.currentThread().getName(), counter, result);\r\n                } else {\r\n                    System.out.printf(&quot;%s successfully emitted %s\\n&quot;, Thread.currentThread().getName(), counter);\r\n                }\r\n            }).start();\r\n        }\r\n```","title":"Reactor Sink that emits only 1 event at a time?","body":"<p>As soon as I understood your issue correctly, you want the requests to B being  processed sequentially. In that case you should have a look at <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#flatMap-java.util.function.Function-int-\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#flatMap-java.util.function.Function-int-</a></p>\n<pre><code>public final &lt;V&gt; Flux&lt;V&gt; flatMap(Function&lt;? super T, ? extends Publisher&lt;? extends V&gt;&gt; mapper, int concurrency)\n</code></pre>\n<p>I think your case should look like</p>\n<pre><code>//sinks should be global variable for your controller, initialized in @PostConstruct\n        var sinks = Sinks\n                //unsafe is required for multithreading\n                .unsafe()\n                .many()\n                .replay()\n                .latest();\n        sinks.asFlux()\n                .doOnNext(it -&gt; System.out.printf(&quot;%s is emitting %s\\n&quot;, Thread.currentThread().getName(), it))\n                .flatMap(counter -&gt; {\n                    return webClientBuilder.build()\n                            .get()\n                            .uri(&quot;https://www.google.com&quot;)\n                            .retrieve()\n                            .toEntityFlux(String.class)\n                            .doOnSuccess(stringResponseEntity -&gt; {\n                                System.out.println(counter + &quot; &quot; + new Date() + &quot; - &quot; + Thread.currentThread().getName() + &quot;    finished processing with &quot; + stringResponseEntity.getStatusCode());\n                            })\n                            .then(Mono.just(counter));\n                    //concurrency = 1 causes the flatMap being handled only once in parallel\n                }, 1)\n                .doOnError(Throwable::printStackTrace)\n                //this subscription also must be done in @PostConstruct\n                .subscribe(counter -&gt; System.out.printf(&quot;%s completed in %s\\n&quot;, counter, Thread.currentThread().getName()));\n\n        //and this is your endpoint method\n        for (int i = 0; i &lt; 5; i++) {\n            int counter = i;\n            new Thread(() -&gt; {\n                var result = sinks.tryEmitNext(counter);\n                if (result.isFailure()) {\n                    //mb in that case you should retry\n                    System.out.printf(&quot;%s emitted %s. with fail: %s\\n&quot;, Thread.currentThread().getName(), counter, result);\n                } else {\n                    System.out.printf(&quot;%s successfully emitted %s\\n&quot;, Thread.currentThread().getName(), counter);\n                }\n            }).start();\n        }\n</code></pre>\n"}],"owner":{"account_id":1036563,"reputation":1678,"user_id":1043677,"accept_rate":61,"display_name":"lqbweb"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2836,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70058529,"answer_count":1,"score":0,"last_activity_date":1637528119,"creation_date":1627079978,"question_id":68505640,"body_markdown":"I am playing with Replaying Reactor Sinks, I am trying to achieve a mix of a unicast and a replay processor. I would like it to emit to only one subscriber at the same (UnicastProcessor), but that it can also emit a default value on subscribe (ReplayProcessor). Here is something similar to the real case:\r\n\r\n    Flux&lt;Boolean&gt; monoC = Sinks.many().replay().latestOrDefault(true).asFlux().doOnNext(integer -&gt; System.out.println(new Date() + &quot; - &quot; + Thread.currentThread().getName() + &quot;    emiting next&quot;));\r\n    for(int i = 0; i &lt; 5; i++) {\r\n        new Thread(() -&gt; {\r\n            monoC.flatMap(unused -&gt;\r\n                    webClientBuilder.build()\r\n                            .get()\r\n                            .uri(&quot;https://www.google.com&quot;)\r\n                            .retrieve()\r\n                            .toEntityFlux(String.class)\r\n                            .doOnSuccess(stringResponseEntity -&gt; {\r\n                                System.out.println(new Date() + &quot; - &quot; + Thread.currentThread().getName() + &quot;    finished processing&quot;);\r\n                            })\r\n            ).subscribe();\r\n        }).start();\r\n    }\r\n\r\nThat is printing:\r\n\r\n    emiting next\r\n    ...\r\n    emiting next\r\n    finished processing\r\n    ...\r\n    finished processing\r\n\r\nInstead, I would like it to print:\r\n\r\n    emiting next\r\n    finished processing\r\n    ...\r\n    emiting next\r\n    finished processing\r\n\r\n**Update**, some more clarifications on the real case scenario:\r\n\r\nThe real case scenario is: I have a Spring WebFlux application that acts like a relay, it receives a request on a specific endpoint A, and it relays it to another microservice B. This microservice can then reply with a 429 if I go too fast, and in a header with how long I have to wait before retrying again. The retrying thing I have already achieved it with a .retry operator and a Mono.delay, but in the meantime, I can receive another request on my first endpoint A which will have to be blocked until the Mono.delay finishes.\r\n\r\nI am trying to achieve this with a Replay Sink, so that after receiving a 429, I emit a &quot;false&quot; to the sink and after Mono.delay is over, it emits a true to the sink, so if in the mean time I receive any further request on A it can filter out all the falses and wait for a true to be emitted.\r\n\r\nThe problem i have on top of that is that, when I receive too many request to relay on A, microservice B starts responding slow, and getting overloaded. Therefore, i would like to limit the rate that the Sink is emitting. To be precise, i would like the publisher to emit a value, but don&#39;t emit any more until the subscriber hits onCompleted.\r\n","title":"Reactor Sink that emits only 1 event at a time?","body":"<p>I am playing with Replaying Reactor Sinks, I am trying to achieve a mix of a unicast and a replay processor. I would like it to emit to only one subscriber at the same (UnicastProcessor), but that it can also emit a default value on subscribe (ReplayProcessor). Here is something similar to the real case:</p>\n<pre><code>Flux&lt;Boolean&gt; monoC = Sinks.many().replay().latestOrDefault(true).asFlux().doOnNext(integer -&gt; System.out.println(new Date() + &quot; - &quot; + Thread.currentThread().getName() + &quot;    emiting next&quot;));\nfor(int i = 0; i &lt; 5; i++) {\n    new Thread(() -&gt; {\n        monoC.flatMap(unused -&gt;\n                webClientBuilder.build()\n                        .get()\n                        .uri(&quot;https://www.google.com&quot;)\n                        .retrieve()\n                        .toEntityFlux(String.class)\n                        .doOnSuccess(stringResponseEntity -&gt; {\n                            System.out.println(new Date() + &quot; - &quot; + Thread.currentThread().getName() + &quot;    finished processing&quot;);\n                        })\n        ).subscribe();\n    }).start();\n}\n</code></pre>\n<p>That is printing:</p>\n<pre><code>emiting next\n...\nemiting next\nfinished processing\n...\nfinished processing\n</code></pre>\n<p>Instead, I would like it to print:</p>\n<pre><code>emiting next\nfinished processing\n...\nemiting next\nfinished processing\n</code></pre>\n<p><strong>Update</strong>, some more clarifications on the real case scenario:</p>\n<p>The real case scenario is: I have a Spring WebFlux application that acts like a relay, it receives a request on a specific endpoint A, and it relays it to another microservice B. This microservice can then reply with a 429 if I go too fast, and in a header with how long I have to wait before retrying again. The retrying thing I have already achieved it with a .retry operator and a Mono.delay, but in the meantime, I can receive another request on my first endpoint A which will have to be blocked until the Mono.delay finishes.</p>\n<p>I am trying to achieve this with a Replay Sink, so that after receiving a 429, I emit a &quot;false&quot; to the sink and after Mono.delay is over, it emits a true to the sink, so if in the mean time I receive any further request on A it can filter out all the falses and wait for a true to be emitted.</p>\n<p>The problem i have on top of that is that, when I receive too many request to relay on A, microservice B starts responding slow, and getting overloaded. Therefore, i would like to limit the rate that the Sink is emitting. To be precise, i would like the publisher to emit a value, but don't emit any more until the subscriber hits onCompleted.</p>\n"},{"tags":["java","swing","javafx","netbeans","netbeans-platform"],"answers":[{"tags":[],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637527997,"creation_date":1610562802,"answer_id":65707864,"question_id":65698853,"body_markdown":"There is an embedded dark LAF in the platform (at least in NB12 which I use) called FlatDarkLaf, it looks nice.\r\n\r\nIn order to use it, you need to add the following code in the `validate()` method of a `ModuleInstall` subclass, so that it&#39;s done very early during the startup process.\r\n\r\n    NbPreferences.root().node(&quot;laf&quot;).put(&quot;laf&quot;, &quot;com.formdev.flatlaf.FlatDarkLaf&quot;);\r\n    UIManager.installLookAndFeel(new UIManager.LookAndFeelInfo(&quot;FlatLaf Dark&quot;, latDarkLaf.class.getName()));  \r\n\r\n  \r\nTo switch back to the default theme:\r\n\r\n    NbPreferences.root().node(&quot;laf&quot;).remove(&quot;laf&quot;);\r\n\r\n\r\nI&#39;m not aware of a (simple) way of changing the LAF without restarting.\r\n\r\nFor a more complete sample code have a look at my application JJazzLab-X on [GitHub][1], in the `UISettings` Netbeans module.\r\n\r\n**EDIT for Netbeans 12.5**\r\n\r\nNo need to call `installLookAndFeel()`, updating `NbPreferences` is enough. \r\n\r\nThe module which updates `NbPreferences` should also have a dependency on the **non-API** Netbeans platform module `FlatLaf Look and Feel`.\r\n\r\nIf your Netbeans platform app uses Netbeans branding (for ex. to customize icon and splash screen), it creates files such as `frame.gif` in your branding directory. But at runtime, if you run a dark theme like FlatDarkLaf, Netbeans will expect the icon to be named `frame_dark.gif`, so you should rename them. See the javadoc of `ImageUtilities.loadImage()` for more information.\r\n\r\n\r\n  [1]: https://github.com/jjazzboss/JJazzLab-X","title":"NetBeans Platform: How to style the Swing based GUI components programmatically?","body":"<p>There is an embedded dark LAF in the platform (at least in NB12 which I use) called FlatDarkLaf, it looks nice.</p>\n<p>In order to use it, you need to add the following code in the <code>validate()</code> method of a <code>ModuleInstall</code> subclass, so that it's done very early during the startup process.</p>\n<pre><code>NbPreferences.root().node(&quot;laf&quot;).put(&quot;laf&quot;, &quot;com.formdev.flatlaf.FlatDarkLaf&quot;);\nUIManager.installLookAndFeel(new UIManager.LookAndFeelInfo(&quot;FlatLaf Dark&quot;, latDarkLaf.class.getName()));  \n</code></pre>\n<p>To switch back to the default theme:</p>\n<pre><code>NbPreferences.root().node(&quot;laf&quot;).remove(&quot;laf&quot;);\n</code></pre>\n<p>I'm not aware of a (simple) way of changing the LAF without restarting.</p>\n<p>For a more complete sample code have a look at my application JJazzLab-X on <a href=\"https://github.com/jjazzboss/JJazzLab-X\" rel=\"nofollow noreferrer\">GitHub</a>, in the <code>UISettings</code> Netbeans module.</p>\n<p><strong>EDIT for Netbeans 12.5</strong></p>\n<p>No need to call <code>installLookAndFeel()</code>, updating <code>NbPreferences</code> is enough.</p>\n<p>The module which updates <code>NbPreferences</code> should also have a dependency on the <strong>non-API</strong> Netbeans platform module <code>FlatLaf Look and Feel</code>.</p>\n<p>If your Netbeans platform app uses Netbeans branding (for ex. to customize icon and splash screen), it creates files such as <code>frame.gif</code> in your branding directory. But at runtime, if you run a dark theme like FlatDarkLaf, Netbeans will expect the icon to be named <code>frame_dark.gif</code>, so you should rename them. See the javadoc of <code>ImageUtilities.loadImage()</code> for more information.</p>\n"},{"tags":[],"owner":{"account_id":18637040,"reputation":518,"user_id":13583700,"display_name":"Dawid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613042124,"creation_date":1611038104,"answer_id":65786535,"question_id":65698853,"body_markdown":"For the sake of completeness I add the code fragment that solved my problem:\r\n```java\r\n    private void toggleLookAndFeel() {\r\n        final boolean darkModeEnabled = UIManager.getLookAndFeel().getName().equals(&quot;Flat Dark&quot;);\r\n        final String darkLookAndFeel = &quot;com.formdev.flatlaf.FlatDarkLaf&quot;;\r\n        final String defaultLookAndFeel = UIManager.getSystemLookAndFeelClassName();\r\n        try {\r\n            if (darkModeEnabled) {\r\n                // set laf of swing components\r\n                UIManager.setLookAndFeel(defaultLookAndFeel);\r\n                // use default css file for javafx components\r\n                this.fxPanel.getScene().getStylesheets().remove(0);\r\n            } else {\r\n                // set laf of swing components\r\n                UIManager.setLookAndFeel(darkLookAndFeel);\r\n                // use app.css file for javafx components\r\n                this.fxPanel.getScene().getStylesheets().add(0, getClass().getResource(&quot;app.css&quot;).toExternalForm());\r\n            }\r\n        } catch (IllegalAccessException | InstantiationException | UnsupportedLookAndFeelException | ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        triggerSwingComponentUpdate();\r\n    }\r\n\r\n    private static void triggerSwingComponentUpdate() {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            for (final Window w : Window.getWindows()) {\r\n                SwingUtilities.updateComponentTreeUI(w);\r\n            }\r\n        });\r\n    }","title":"NetBeans Platform: How to style the Swing based GUI components programmatically?","body":"<p>For the sake of completeness I add the code fragment that solved my problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void toggleLookAndFeel() {\n        final boolean darkModeEnabled = UIManager.getLookAndFeel().getName().equals(&quot;Flat Dark&quot;);\n        final String darkLookAndFeel = &quot;com.formdev.flatlaf.FlatDarkLaf&quot;;\n        final String defaultLookAndFeel = UIManager.getSystemLookAndFeelClassName();\n        try {\n            if (darkModeEnabled) {\n                // set laf of swing components\n                UIManager.setLookAndFeel(defaultLookAndFeel);\n                // use default css file for javafx components\n                this.fxPanel.getScene().getStylesheets().remove(0);\n            } else {\n                // set laf of swing components\n                UIManager.setLookAndFeel(darkLookAndFeel);\n                // use app.css file for javafx components\n                this.fxPanel.getScene().getStylesheets().add(0, getClass().getResource(&quot;app.css&quot;).toExternalForm());\n            }\n        } catch (IllegalAccessException | InstantiationException | UnsupportedLookAndFeelException | ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        triggerSwingComponentUpdate();\n    }\n\n    private static void triggerSwingComponentUpdate() {\n        SwingUtilities.invokeLater(() -&gt; {\n            for (final Window w : Window.getWindows()) {\n                SwingUtilities.updateComponentTreeUI(w);\n            }\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":18637040,"reputation":518,"user_id":13583700,"display_name":"Dawid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65707864,"answer_count":2,"score":0,"last_activity_date":1637527997,"creation_date":1610529415,"question_id":65698853,"body_markdown":"# Intro\r\nI have to program a fat client using NetBeans Platform and JavaFX 11. One of the requirements is to offer a default and dark theme for the application. So if the user of the application press the dark mode button, the application&#39;s GUI has to use the dark theme.\r\n# Problem\r\nWhile it&#39;s obvious to me how to style the JFX components (via a CSS file), the CSS file doesn&#39;t have an impact on the NetBeans Platform&#39;s components like the menu bar, because they are Swing based. For instance the JavaFX components inside a scene object got a dark styling, but the NetBeans menu bar is still light. \r\n# Question\r\nHow its possible to change the style of NetBeans Platform&#39;s components programmatically (just as you would have done with CSS in web development or with the CSS support in JavaFX)?","title":"NetBeans Platform: How to style the Swing based GUI components programmatically?","body":"<h1>Intro</h1>\n<p>I have to program a fat client using NetBeans Platform and JavaFX 11. One of the requirements is to offer a default and dark theme for the application. So if the user of the application press the dark mode button, the application's GUI has to use the dark theme.</p>\n<h1>Problem</h1>\n<p>While it's obvious to me how to style the JFX components (via a CSS file), the CSS file doesn't have an impact on the NetBeans Platform's components like the menu bar, because they are Swing based. For instance the JavaFX components inside a scene object got a dark styling, but the NetBeans menu bar is still light.</p>\n<h1>Question</h1>\n<p>How its possible to change the style of NetBeans Platform's components programmatically (just as you would have done with CSS in web development or with the CSS support in JavaFX)?</p>\n"},{"tags":["java","html","url","file-io"],"comments":[{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1454497540,"post_id":11087163,"comment_id":58067659,"body_markdown":"`String content = org.apache.commons.io.IOUtils.toString(new Url(&quot;https://localhost:9443/genesis/Receipt/Receipt.html&quot;), &quot;utf8&quot;);`","body":"<code>String content = org.apache.commons.io.IOUtils.toString(new Url(&quot;https:&#47;&#47;localhost:9443&#47;genesis&#47;Receipt&#47;Receipt.html&quot;), &quot;utf8&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340038533,"creation_date":1340037320,"answer_id":11087208,"question_id":11087163,"body_markdown":"For exemple :\r\n\r\n            URL url = new URL(&quot;https://localhost:9443/genesis/Receipt/Receipt.html&quot;);\r\n    \t\tURLConnection con = url.openConnection();\r\n    \t\tBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n    \t\tString l;\r\n    \t\twhile ((l=in.readLine())!=null) {\r\n    \t\t\tSystem.out.println(l);\r\n    \t\t}\r\n\r\nYou could use the inputstream in other ways, not just printing it.\r\n\r\n\r\nOf course if you have the path to the local file, you can also do \r\n\r\n\r\n      InputStream in = new FileInputStream(new File(yourPath));","title":"how to get url html contents to string in java","body":"<p>For exemple :</p>\n\n<pre><code>        URL url = new URL(\"https://localhost:9443/genesis/Receipt/Receipt.html\");\n        URLConnection con = url.openConnection();\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        String l;\n        while ((l=in.readLine())!=null) {\n            System.out.println(l);\n        }\n</code></pre>\n\n<p>You could use the inputstream in other ways, not just printing it.</p>\n\n<p>Of course if you have the path to the local file, you can also do </p>\n\n<pre><code>  InputStream in = new FileInputStream(new File(yourPath));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340037475,"creation_date":1340037475,"answer_id":11087245,"question_id":11087163,"body_markdown":"    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    //...\r\n    \r\n    URL url = new URL(&quot;https://localhost:9443/genesis/Receipt/Receipt.html&quot;);\r\n    url.openConnection();\r\n    InputStream reader = url.openStream();","title":"how to get url html contents to string in java","body":"<pre><code>import java.net.*;\nimport java.io.*;\n\n//...\n\nURL url = new URL(\"https://localhost:9443/genesis/Receipt/Receipt.html\");\nurl.openConnection();\nInputStream reader = url.openStream();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1507125,"reputation":393,"user_id":1410256,"accept_rate":56,"display_name":"Peyush Goel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340128895,"creation_date":1340128895,"answer_id":11106666,"question_id":11087163,"body_markdown":"Resolved it using spring \r\nadded the bean to the spring config file\r\n\r\n      &lt;bean id = &quot;receiptTemplate&quot; class=&quot;org.springframework.core.io.ClassPathResource&quot;&gt;\r\n        &lt;constructor-arg value=&quot;/WEB-INF/Receipt/Receipt.html&quot;&gt;&lt;/constructor-arg&gt;\r\n      &lt;/bean&gt;\r\n\r\n\r\n\r\nthen read it in my method\r\n\r\n            // read the file into a resource\r\n            ClassPathResource fileResource =\r\n                (ClassPathResource)context.getApplicationContext().getBean(&quot;receiptTemplate&quot;);\r\n            BufferedReader br = new BufferedReader(new FileReader(fileResource.getFile()));\r\n            String line;\r\n            StringBuffer sb =\r\n                new StringBuffer();\r\n\r\n            // read contents line by line and store in the string\r\n            while ((line =\r\n                br.readLine()) != null) {\r\n                sb.append(line);\r\n            }\r\n            br.close();\r\n            return sb.toString();","title":"how to get url html contents to string in java","body":"<p>Resolved it using spring \nadded the bean to the spring config file</p>\n\n<pre><code>  &lt;bean id = \"receiptTemplate\" class=\"org.springframework.core.io.ClassPathResource\"&gt;\n    &lt;constructor-arg value=\"/WEB-INF/Receipt/Receipt.html\"&gt;&lt;/constructor-arg&gt;\n  &lt;/bean&gt;\n</code></pre>\n\n<p>then read it in my method</p>\n\n<pre><code>        // read the file into a resource\n        ClassPathResource fileResource =\n            (ClassPathResource)context.getApplicationContext().getBean(\"receiptTemplate\");\n        BufferedReader br = new BufferedReader(new FileReader(fileResource.getFile()));\n        String line;\n        StringBuffer sb =\n            new StringBuffer();\n\n        // read contents line by line and store in the string\n        while ((line =\n            br.readLine()) != null) {\n            sb.append(line);\n        }\n        br.close();\n        return sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1303659,"reputation":2036,"user_id":1253088,"display_name":"Vaibs"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1637527858,"creation_date":1359980385,"answer_id":14686684,"question_id":11087163,"body_markdown":"    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n     \r\n    public class URLContent {\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\t// get URL content\r\n    \t\t\t\r\n    \t\t\tString a = &quot;http://localhost:8080//TestWeb/index.jsp&quot;;\r\n    \t\t\tURL url = new URL(a);\r\n    \t\t\tURLConnection conn = url.openConnection();\r\n     \r\n    \t\t\t// open the stream and put it into BufferedReader\r\n    \t\t\tBufferedReader br = new BufferedReader(\r\n                                   new InputStreamReader(conn.getInputStream()));\r\n     \r\n    \t\t\tString inputLine;\r\n    \t\t\twhile ((inputLine = br.readLine()) != null) {\r\n    \t\t\t\tSystem.out.println(inputLine);\r\n    \t\t\t}\r\n    \t\t\tbr.close();\r\n     \r\n    \t\t\tSystem.out.println(&quot;Done&quot;);\r\n\r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }","title":"how to get url html contents to string in java","body":"<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLConnection;\n \npublic class URLContent {\n    public static void main(String[] args) {\n        try {\n            // get URL content\n            \n            String a = &quot;http://localhost:8080//TestWeb/index.jsp&quot;;\n            URL url = new URL(a);\n            URLConnection conn = url.openConnection();\n \n            // open the stream and put it into BufferedReader\n            BufferedReader br = new BufferedReader(\n                               new InputStreamReader(conn.getInputStream()));\n \n            String inputLine;\n            while ((inputLine = br.readLine()) != null) {\n                System.out.println(inputLine);\n            }\n            br.close();\n \n            System.out.println(&quot;Done&quot;);\n\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4370619,"reputation":2406,"user_id":3565132,"display_name":"Haris Bouchlis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609086276,"creation_date":1609086276,"answer_id":65467876,"question_id":11087163,"body_markdown":"Simplest way in my opinion is to use `IOUtils`\r\n\r\n    import com.amazonaws.util.IOUtils;\r\n    ...\r\n\r\n    String uri = &quot;https://localhost:9443/genesis/Receipt/Receipt.html&quot;;\r\n    String fileContents = IOUtils.toString(new URL(uri).openStream());\r\n    System.out.println(fileContents);","title":"how to get url html contents to string in java","body":"<p>Simplest way in my opinion is to use <code>IOUtils</code></p>\n<pre><code>import com.amazonaws.util.IOUtils;\n...\n\nString uri = &quot;https://localhost:9443/genesis/Receipt/Receipt.html&quot;;\nString fileContents = IOUtils.toString(new URL(uri).openStream());\nSystem.out.println(fileContents);\n</code></pre>\n"}],"owner":{"account_id":1507125,"reputation":393,"user_id":1410256,"accept_rate":56,"display_name":"Peyush Goel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46996,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":11106666,"answer_count":5,"score":10,"last_activity_date":1637527858,"creation_date":1340037180,"question_id":11087163,"body_markdown":"I have a html file stored on the server. I have the URL path something like this: `&lt;https://localhost:9443/genesis/Receipt/Receipt.html &gt;`\r\n\r\nI want to read the contents of this html file which would contain tags, from the url i.e. the source code of the html file.\r\n\r\nHow am I supposed to do this? This is a server side code and can&#39;t have a browser object and I am not sure using a URLConnection would be a good option. \r\n\r\nWhat should be the best solution now?","title":"how to get url html contents to string in java","body":"<p>I have a html file stored on the server. I have the URL path something like this: <code>&lt;https://localhost:9443/genesis/Receipt/Receipt.html &gt;</code></p>\n\n<p>I want to read the contents of this html file which would contain tags, from the url i.e. the source code of the html file.</p>\n\n<p>How am I supposed to do this? This is a server side code and can't have a browser object and I am not sure using a URLConnection would be a good option. </p>\n\n<p>What should be the best solution now?</p>\n"},{"tags":["java","integration-testing","spring-test"],"comments":[{"owner":{"account_id":8104896,"reputation":110,"user_id":6106795,"display_name":"Tacolibre"},"score":0,"creation_date":1634249757,"post_id":69577790,"comment_id":122981769,"body_markdown":"Is it Always false or only during your tests?","body":"Is it Always false or only during your tests?"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1634264895,"post_id":69577790,"comment_id":122984189,"body_markdown":"Where in your code you are using `ServletFileUpload`?","body":"Where in your code you are using <code>ServletFileUpload</code>?"},{"owner":{"account_id":19290598,"reputation":61,"user_id":14282419,"display_name":"handsome16"},"score":0,"creation_date":1634279291,"post_id":69577790,"comment_id":122986540,"body_markdown":"Tacolibre, Its false only during tests, If interact with the server through the frontend, everything is OK.","body":"Tacolibre, Its false only during tests, If interact with the server through the frontend, everything is OK."},{"owner":{"account_id":19290598,"reputation":61,"user_id":14282419,"display_name":"handsome16"},"score":0,"creation_date":1634279438,"post_id":69577790,"comment_id":122986575,"body_markdown":"Harry Coder, I get `iterStream`, via request, using `ServletFileUpload`","body":"Harry Coder, I get <code>iterStream</code>, via request, using <code>ServletFileUpload</code>"}],"answers":[{"tags":[],"owner":{"account_id":19290598,"reputation":61,"user_id":14282419,"display_name":"handsome16"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637527823,"creation_date":1637527823,"answer_id":70058489,"question_id":69577790,"body_markdown":"I figured it out, my mistake was the value of boundary\r\nboundary=----WebKitFormBoundarylRihI4R4f6S5eHA2 -was wrong\r\nboundary like = q1w2e3r4t5y6u7i8o9 -right\r\n\r\nRight test code:\r\n\r\n                @Test\r\n            public void when_creating_document_expect_created_doc() throws Exception {\r\n                FileInputStream dataFile = new FileInputStream(resourceLoader.getResource(&quot;classpath:data/fakeload/test.pdf&quot;).getFile());\r\n                byte[] dataBytes = dataFile.readAllBytes();\r\n\r\n                postCreateDocument(USER_NAME, 1L, 1L, dataBytes)\r\n                        .andExpect(status().isOk())\r\n                        .andExpect(jsonPath(&quot;$.id&quot;).value(3))\r\n                        .andDo(print());\r\n                ;\r\n\r\n            }\r\n\r\n            private ResultActions postCreateDocument(String username, Long projectOtherId, Long propertyId,\r\n                                                     byte[] bytes) throws Exception {\r\n\r\n                String boundary = &quot;q1w2e3r4t5y6u7i8o9&quot;;\r\n\r\n                var request = MockMvcRequestBuilders\r\n                        .multipart(&quot;/api/project-others/documents&quot;)\r\n                        .content(createFileContent(bytes, boundary, MediaType.APPLICATION_PDF_VALUE, &quot;test.pdf&quot;))\r\n                        .param(&quot;projectOtherId&quot;, String.valueOf(projectOtherId))\r\n                        .param(&quot;docTypeId&quot;, String.valueOf(propertyId))\r\n                        .contentType(&quot;multipart/form-data; boundary=&quot; + boundary)\r\n                        .accept(MediaType.APPLICATION_JSON);\r\n\r\n                if (username != null) {\r\n                    request.with(getAuthentication(username));\r\n                }\r\n\r\n                return mockMvc.perform(request);\r\n            }\r\n\r\n            public byte[] createFileContent(byte[] data, String boundary, String contentType, String fileName) {\r\n                String start = &quot;--&quot; + boundary + &quot;\\r\\n Content-Disposition: form-data; name=\\&quot;file\\&quot;; filename=\\&quot;&quot; + fileName + &quot;\\&quot;\\r\\n&quot;\r\n                        + &quot;Content-type: &quot; + contentType + &quot;\\r\\n\\r\\n&quot;;\r\n                String end = &quot;\\r\\n--&quot; + boundary + &quot;--&quot;;\r\n                return ArrayUtils.addAll(start.getBytes(), ArrayUtils.addAll(data, end.getBytes()));\r\n            }\r\n\r\n        }","title":"Spring Tests: sending multipart for data file","body":"<p>I figured it out, my mistake was the value of boundary\nboundary=----WebKitFormBoundarylRihI4R4f6S5eHA2 -was wrong\nboundary like = q1w2e3r4t5y6u7i8o9 -right</p>\n<p>Right test code:</p>\n<pre><code>            @Test\n        public void when_creating_document_expect_created_doc() throws Exception {\n            FileInputStream dataFile = new FileInputStream(resourceLoader.getResource(&quot;classpath:data/fakeload/test.pdf&quot;).getFile());\n            byte[] dataBytes = dataFile.readAllBytes();\n\n            postCreateDocument(USER_NAME, 1L, 1L, dataBytes)\n                    .andExpect(status().isOk())\n                    .andExpect(jsonPath(&quot;$.id&quot;).value(3))\n                    .andDo(print());\n            ;\n\n        }\n\n        private ResultActions postCreateDocument(String username, Long projectOtherId, Long propertyId,\n                                                 byte[] bytes) throws Exception {\n\n            String boundary = &quot;q1w2e3r4t5y6u7i8o9&quot;;\n\n            var request = MockMvcRequestBuilders\n                    .multipart(&quot;/api/project-others/documents&quot;)\n                    .content(createFileContent(bytes, boundary, MediaType.APPLICATION_PDF_VALUE, &quot;test.pdf&quot;))\n                    .param(&quot;projectOtherId&quot;, String.valueOf(projectOtherId))\n                    .param(&quot;docTypeId&quot;, String.valueOf(propertyId))\n                    .contentType(&quot;multipart/form-data; boundary=&quot; + boundary)\n                    .accept(MediaType.APPLICATION_JSON);\n\n            if (username != null) {\n                request.with(getAuthentication(username));\n            }\n\n            return mockMvc.perform(request);\n        }\n\n        public byte[] createFileContent(byte[] data, String boundary, String contentType, String fileName) {\n            String start = &quot;--&quot; + boundary + &quot;\\r\\n Content-Disposition: form-data; name=\\&quot;file\\&quot;; filename=\\&quot;&quot; + fileName + &quot;\\&quot;\\r\\n&quot;\n                    + &quot;Content-type: &quot; + contentType + &quot;\\r\\n\\r\\n&quot;;\n            String end = &quot;\\r\\n--&quot; + boundary + &quot;--&quot;;\n            return ArrayUtils.addAll(start.getBytes(), ArrayUtils.addAll(data, end.getBytes()));\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":19290598,"reputation":61,"user_id":14282419,"display_name":"handsome16"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70058489,"answer_count":1,"score":0,"last_activity_date":1637527823,"creation_date":1634248530,"question_id":69577790,"body_markdown":"In our Spring Boot App we are getting a multipart-form data file from request like this:\r\n \r\n\r\n      ServletFileUpload upload = new ServletFileUpload();\r\n            try {\r\n                FileItemIterator iterStream = upload.getItemIterator(request);\r\n                while (iterStream.hasNext()) {\r\n                    FileItemStream item = iterStream.next();\r\n                    if (item.getFieldName().equals(&quot;file&quot;)) {\r\n                        return upload(\r\n                                item.getName(),\r\n                                item.getContentType(),\r\n                                item.openStream()\r\n                        );\r\n                    }\r\n                }\r\n\r\n\r\nNow I am writting an Integration Test for downloading file. I use `mockMvc` to send a request. I&#39;ve tried a lot of different options:\r\n\r\n       File dataFile = resourceLoader.getResource(&quot;classpath:data/fakeload/test.pdf&quot;).getFile();\r\n                    MockMultipartFile file = new MockMultipartFile(&quot;test&quot;, &quot;test.pdf&quot;,MediaType.APPLICATION_PDF_VALUE, FileUtils.readFileToByteArray(dataFile));\r\n                    \r\n    \r\n                    mockMvc.perform(multipart(&quot;/api/project-others/documents&quot;)/*.file(&quot;test.pdf&quot;,FileUtils.readFileToByteArray(dataFile))*/.file(file)\r\n                            .with(getAuthentication(&quot;AUTH&quot;))\r\n                                            .contentType(MediaType.MULTIPART_FORM_DATA_VALUE+&quot;;boundary=----WebKitFormBoundarylRihI4R4f6S5eHA2&quot;)\r\n                                    .requestAttr(&quot;file&quot;,FileUtils.readFileToByteArray(dataFile))\r\n                                    //.content(createFileContent(FileUtils.readFileToByteArray(dataFile),&quot;WebKitFormBoundarylRihI4R4f6S5eHA2&quot;,MediaType.APPLICATION_PDF_VALUE,&quot;test.pdf&quot;))\r\n                                    .content(file.getBytes())\r\n                                            .param(&quot;projectId&quot;,&quot;1&quot;)\r\n                                    .param(&quot;docId&quot;,&quot;1&quot;)\r\n    \r\n                            )\r\n                            .andExpect(status().isOk())\r\n                            .andDo(print());\r\n    \r\n                }\r\n                private byte[] createFileContent(byte[] data, String boundary, String contentType, String fileName){\r\n                    String start = &quot;--&quot; + boundary + &quot;\\r\\n Content-Disposition: form-data; name=\\&quot;file\\&quot;; filename=\\&quot;&quot;+fileName+&quot;\\&quot;\\r\\n&quot;\r\n                            + &quot;Content-type: &quot;+contentType+&quot;\\r\\n\\r\\n&quot;;;\r\n    \r\n                    String end = &quot;\\r\\n--&quot; + boundary + &quot;--&quot;; // correction suggested @butfly\r\n                    return ArrayUtils.addAll(start.getBytes(),ArrayUtils.addAll(data,end.getBytes()));\r\n                }\r\n\r\n\r\nBut `iterStream.hasNext()` is always `false` (iterStream is empty). What I missing? Whats wrong?","title":"Spring Tests: sending multipart for data file","body":"<p>In our Spring Boot App we are getting a multipart-form data file from request like this:</p>\n<pre><code>  ServletFileUpload upload = new ServletFileUpload();\n        try {\n            FileItemIterator iterStream = upload.getItemIterator(request);\n            while (iterStream.hasNext()) {\n                FileItemStream item = iterStream.next();\n                if (item.getFieldName().equals(&quot;file&quot;)) {\n                    return upload(\n                            item.getName(),\n                            item.getContentType(),\n                            item.openStream()\n                    );\n                }\n            }\n</code></pre>\n<p>Now I am writting an Integration Test for downloading file. I use <code>mockMvc</code> to send a request. I've tried a lot of different options:</p>\n<pre><code>   File dataFile = resourceLoader.getResource(&quot;classpath:data/fakeload/test.pdf&quot;).getFile();\n                MockMultipartFile file = new MockMultipartFile(&quot;test&quot;, &quot;test.pdf&quot;,MediaType.APPLICATION_PDF_VALUE, FileUtils.readFileToByteArray(dataFile));\n                \n\n                mockMvc.perform(multipart(&quot;/api/project-others/documents&quot;)/*.file(&quot;test.pdf&quot;,FileUtils.readFileToByteArray(dataFile))*/.file(file)\n                        .with(getAuthentication(&quot;AUTH&quot;))\n                                        .contentType(MediaType.MULTIPART_FORM_DATA_VALUE+&quot;;boundary=----WebKitFormBoundarylRihI4R4f6S5eHA2&quot;)\n                                .requestAttr(&quot;file&quot;,FileUtils.readFileToByteArray(dataFile))\n                                //.content(createFileContent(FileUtils.readFileToByteArray(dataFile),&quot;WebKitFormBoundarylRihI4R4f6S5eHA2&quot;,MediaType.APPLICATION_PDF_VALUE,&quot;test.pdf&quot;))\n                                .content(file.getBytes())\n                                        .param(&quot;projectId&quot;,&quot;1&quot;)\n                                .param(&quot;docId&quot;,&quot;1&quot;)\n\n                        )\n                        .andExpect(status().isOk())\n                        .andDo(print());\n\n            }\n            private byte[] createFileContent(byte[] data, String boundary, String contentType, String fileName){\n                String start = &quot;--&quot; + boundary + &quot;\\r\\n Content-Disposition: form-data; name=\\&quot;file\\&quot;; filename=\\&quot;&quot;+fileName+&quot;\\&quot;\\r\\n&quot;\n                        + &quot;Content-type: &quot;+contentType+&quot;\\r\\n\\r\\n&quot;;;\n\n                String end = &quot;\\r\\n--&quot; + boundary + &quot;--&quot;; // correction suggested @butfly\n                return ArrayUtils.addAll(start.getBytes(),ArrayUtils.addAll(data,end.getBytes()));\n            }\n</code></pre>\n<p>But <code>iterStream.hasNext()</code> is always <code>false</code> (iterStream is empty). What I missing? Whats wrong?</p>\n"},{"tags":["java","json","tree","traversal"],"comments":[{"owner":{"account_id":8125310,"reputation":2565,"user_id":6120487,"display_name":"Lev Leontev"},"score":0,"creation_date":1637521396,"post_id":70057582,"comment_id":123842591,"body_markdown":"Can the results contain self-references?","body":"Can the results contain self-references?"},{"owner":{"account_id":17987597,"reputation":105,"user_id":13072490,"display_name":"jenny"},"score":0,"creation_date":1637523390,"post_id":70057582,"comment_id":123843083,"body_markdown":"no, they do not","body":"no, they do not"}],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637527655,"creation_date":1637524634,"answer_id":70058093,"question_id":70057582,"body_markdown":"You can use streams\r\n\r\nHere is my recursive version for mapping list of rules to stream of results\r\n\r\n```\r\n  private Stream&lt;String&gt; mapToRules(List&lt;Rule&gt; rules) {\r\n    return Stream.concat(rules.stream()\r\n            .map(Rule::getResult)\r\n            .flatMap(List::stream),\r\n        rules.stream()\r\n            .map(Rule::getRules)\r\n            .flatMap(this::mapToRules));\r\n  }\r\n```\r\n\r\nVersion for a single root\r\n```\r\n  private Stream&lt;String&gt; mapToRules(Rule rule) {\r\n    return Stream.concat(rule\r\n            .getResult()\r\n            .stream(),\r\n        rule.getRules()\r\n            .stream()\r\n            .flatMap(this::mapToRules));\r\n  }\r\n```\r\n\r\nYou can then collect this stream to a list\r\n\r\n```\r\nmapToRules(list).collect(Collectors.toList());\r\n```","title":"Traverse through linked objects","body":"<p>You can use streams</p>\n<p>Here is my recursive version for mapping list of rules to stream of results</p>\n<pre><code>  private Stream&lt;String&gt; mapToRules(List&lt;Rule&gt; rules) {\n    return Stream.concat(rules.stream()\n            .map(Rule::getResult)\n            .flatMap(List::stream),\n        rules.stream()\n            .map(Rule::getRules)\n            .flatMap(this::mapToRules));\n  }\n</code></pre>\n<p>Version for a single root</p>\n<pre><code>  private Stream&lt;String&gt; mapToRules(Rule rule) {\n    return Stream.concat(rule\n            .getResult()\n            .stream(),\n        rule.getRules()\n            .stream()\n            .flatMap(this::mapToRules));\n  }\n</code></pre>\n<p>You can then collect this stream to a list</p>\n<pre><code>mapToRules(list).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":17987597,"reputation":105,"user_id":13072490,"display_name":"jenny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70058093,"answer_count":1,"score":0,"last_activity_date":1637527655,"creation_date":1637520398,"question_id":70057582,"body_markdown":"I have this object, where each Rule stores a list of Rules:\r\n\r\n    public class Rule {\r\n    \r\n        private String name;\r\n        private String condition;\r\n        private List&lt;String&gt; result;\r\n        private List&lt;Rule&gt; rules;\r\n        private Map&lt;String, List&lt;String&gt;&gt; aliases = Maps.newHashMap();\r\n        private boolean last = false;\r\n    \r\n    }\r\n\r\nWhat is the smartest and most efficient way to traverse through all the linked objects, and insert all the &quot;results&quot; field into a list, regardless the object on which they came from? eventually I&#39;d like to have a list:\r\n\r\n`List&lt;String&gt; results` containing all the results from all the objects.\r\n\r\nI&#39;ve been trying for hours and I&#39;d appreciate your help. To get a list of all the objects themselves will also help me, like flatten the tree.\r\n","title":"Traverse through linked objects","body":"<p>I have this object, where each Rule stores a list of Rules:</p>\n<pre><code>public class Rule {\n\n    private String name;\n    private String condition;\n    private List&lt;String&gt; result;\n    private List&lt;Rule&gt; rules;\n    private Map&lt;String, List&lt;String&gt;&gt; aliases = Maps.newHashMap();\n    private boolean last = false;\n\n}\n</code></pre>\n<p>What is the smartest and most efficient way to traverse through all the linked objects, and insert all the &quot;results&quot; field into a list, regardless the object on which they came from? eventually I'd like to have a list:</p>\n<p><code>List&lt;String&gt; results</code> containing all the results from all the objects.</p>\n<p>I've been trying for hours and I'd appreciate your help. To get a list of all the objects themselves will also help me, like flatten the tree.</p>\n"},{"tags":["java","json","spring-boot","rest","maven"],"comments":[{"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"score":0,"creation_date":1637407552,"post_id":70045365,"comment_id":123821371,"body_markdown":"Can you share the repo?","body":"Can you share the repo?"},{"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"score":0,"creation_date":1637408126,"post_id":70045365,"comment_id":123821469,"body_markdown":"It looks like a lazy initialization of the members field on your Team entity, but need more context. Do you use database and Hibernate?","body":"It looks like a lazy initialization of the members field on your Team entity, but need more context. Do you use database and Hibernate?"},{"owner":{"account_id":13832329,"reputation":9,"user_id":9984833,"display_name":"Safir Jameel"},"score":0,"creation_date":1637418863,"post_id":70045365,"comment_id":123823609,"body_markdown":"@VitalyKolesnikov Yes, fetch type is = Lazy, and I&#39;m using Mysql and Spring Hibernate.","body":"@VitalyKolesnikov Yes, fetch type is = Lazy, and I&#39;m using Mysql and Spring Hibernate."},{"owner":{"account_id":13832329,"reputation":9,"user_id":9984833,"display_name":"Safir Jameel"},"score":0,"creation_date":1637419111,"post_id":70045365,"comment_id":123823686,"body_markdown":"` @Entity\n@Data\n@Table(name = &quot;teams&quot;)\npublic class Team {\n\t@Id\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\n\t@Column(name = &quot;team_id&quot;)\n\tprivate Long id;\n\n\t@Column(name = &quot;team_name&quot;)\n\tString teamName;\n\t@ManyToMany(cascade = {CascadeType.DETACH,CascadeType.MERGE, CascadeType.REFRESH,CascadeType.PERSIST},fetch = FetchType.LAZY)\n\t@JoinTable(name = &quot;member_teams&quot;, joinColumns = @JoinColumn(name = &quot;team_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;member_id&quot;))\n\t//@JsonIgnore\n\tprivate List&lt;Member&gt; members;\n}\n `","body":"` @Entity @Data @Table(name = &quot;teams&quot;) public class Team { \t@Id \t@GeneratedValue(strategy = GenerationType.IDENTITY) \t@Column(name = &quot;team_id&quot;) \tprivate Long id;  \t@Column(name = &quot;team_name&quot;) \tString teamName; \t@ManyToMany(cascade = {CascadeType.DETACH,CascadeType.MERGE, CascadeType.REFRESH,CascadeType.PERSIST},fetch = FetchType.LAZY) \t@JoinTable(name = &quot;member_teams&quot;, joinColumns = @JoinColumn(name = &quot;team_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;member_id&quot;)) \t//@JsonIgnore \tprivate List&lt;Member&gt; members; }  `"},{"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"score":0,"creation_date":1637420383,"post_id":70045365,"comment_id":123824010,"body_markdown":"Writing code in comments section is not a good idea. Please upload your project to Github and give a link. So everybody could see the whole project in the IDE and find the problem.","body":"Writing code in comments section is not a good idea. Please upload your project to Github and give a link. So everybody could see the whole project in the IDE and find the problem."},{"owner":{"account_id":13832329,"reputation":9,"user_id":9984833,"display_name":"Safir Jameel"},"score":0,"creation_date":1637424185,"post_id":70045365,"comment_id":123824956,"body_markdown":"Thanks @VitalyKolesnikov , Sure I&#39;ll share the project link, meanwhile I&#39;ll test your query.","body":"Thanks @VitalyKolesnikov , Sure I&#39;ll share the project link, meanwhile I&#39;ll test your query."},{"owner":{"account_id":13832329,"reputation":9,"user_id":9984833,"display_name":"Safir Jameel"},"score":0,"creation_date":1637427584,"post_id":70045365,"comment_id":123825684,"body_markdown":"Adding Project Links:[link](https://github.com/SJMcode/idara/blob/a069b3ef8a3284568a775df0bc659b4eb3ef35c0/src/main/java/org/itpn/web/endpoints/TeamEndPoint.java)","body":"Adding Project Links:<a href=\"https://github.com/SJMcode/idara/blob/a069b3ef8a3284568a775df0bc659b4eb3ef35c0/src/main/java/org/itpn/web/endpoints/TeamEndPoint.java\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"score":0,"creation_date":1637499265,"post_id":70045365,"comment_id":123837046,"body_markdown":"Above link leads to 404 :/","body":"Above link leads to 404 :/"},{"owner":{"account_id":13832329,"reputation":9,"user_id":9984833,"display_name":"Safir Jameel"},"score":0,"creation_date":1637510119,"post_id":70045365,"comment_id":123839647,"body_markdown":"Here is the correct link : https://github.com/SJMcode/Test.git","body":"Here is the correct link : <a href=\"https://github.com/SJMcode/Test.git\" rel=\"nofollow noreferrer\">github.com/SJMcode/Test.git</a>"}],"answers":[{"tags":[],"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637420530,"creation_date":1637420530,"answer_id":70047108,"question_id":70045365,"body_markdown":"As by information given so far I suggest to create a method getTeamWithMembers(Long id) in repository with HQL query like this:\r\n\r\n    select t from Team t left join fetch t.members","title":"SpringBoot REST API many-to-many, I want to fetch all members in Team","body":"<p>As by information given so far I suggest to create a method getTeamWithMembers(Long id) in repository with HQL query like this:</p>\n<pre><code>select t from Team t left join fetch t.members\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14507362,"reputation":137,"user_id":10478797,"display_name":"Vince D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637437425,"creation_date":1637437425,"answer_id":70049312,"question_id":70045365,"body_markdown":"try fetch type - eager as fetch = FetchType.EAGER","title":"SpringBoot REST API many-to-many, I want to fetch all members in Team","body":"<p>try fetch type - eager as fetch = FetchType.EAGER</p>\n"},{"tags":[],"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637527622,"creation_date":1637527266,"answer_id":70058417,"question_id":70045365,"body_markdown":"Ok, it`s too many questions. \r\n\r\nIt&#39;s ridiculous how you uploaded your code (all classes in one file) and it doesn`t look as Spring applocation at all.\r\n\r\nWhy do you have repository dependencies in your controller and not service?\r\n\r\nWhy do you need MemberVO (I suppose it is DTO?) if your controller method returns List of Member entity?\r\n\r\nSo anyway, I created a test project and made a refactoring and uploaded it to Github. It works and returns teams with members. You can download it and change whatever you need.\r\n\r\nhttps://github.com/VitalyKolesnikov/Teams","title":"SpringBoot REST API many-to-many, I want to fetch all members in Team","body":"<p>Ok, it`s too many questions.</p>\n<p>It's ridiculous how you uploaded your code (all classes in one file) and it doesn`t look as Spring applocation at all.</p>\n<p>Why do you have repository dependencies in your controller and not service?</p>\n<p>Why do you need MemberVO (I suppose it is DTO?) if your controller method returns List of Member entity?</p>\n<p>So anyway, I created a test project and made a refactoring and uploaded it to Github. It works and returns teams with members. You can download it and change whatever you need.</p>\n<p><a href=\"https://github.com/VitalyKolesnikov/Teams\" rel=\"nofollow noreferrer\">https://github.com/VitalyKolesnikov/Teams</a></p>\n"}],"owner":{"account_id":13832329,"reputation":9,"user_id":9984833,"display_name":"Safir Jameel"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1637527622,"creation_date":1637406800,"question_id":70045365,"body_markdown":"My &quot;team&quot; endpoint is working fine , I&#39;m getting response from rest client, however I&#39;m not able to retrieve members inside each team.\r\n    \r\nMy Json File looks something like this:\r\n    \r\n    {\r\n        &quot;id&quot;: 5,\r\n        &quot;teamName&quot;: &quot;OUTLIERS&quot;,\r\n        &quot;year&quot;: 2021,\r\n        &quot;teamLead&quot;: {\r\n                  &quot;name&quot;:&quot;bbb&quot;,\r\n                   &quot;status&quot;:&quot;ABC&quot;\r\n    }, &quot;members&quot;:[\r\n    {},{},{}\r\n    ]\r\n    \r\nTeam End Point :\r\n\r\n        @GetMapping(path = **&quot;/{id}/members&quot;)**\r\n        public List&lt;Member&gt; getTeamMembers(@PathVariable Long id) {\r\n    \r\n            //System.out.println(team.getMembers().size());\r\n            List&lt;Member&gt; members = teamRepo.getOne(id).getMembers();\r\n            return members;\r\n        }\r\n    \r\n    // ----- Member Pojos ---\r\n    \r\n    package org.itpn.web.pojos;\r\n    \r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class MemberVO {\r\n    \r\n    private Long memberId;\r\n\r\n    String firstName;\r\n    \r\n    String lastName;\r\n    \r\n    String membershipId;\r\n    \r\n    Long primaryPhone;\r\n    \r\n    String whatsappPhone;\r\n    \r\n    String emailAddress;\r\n    \r\n    boolean active;\r\n        \r\n    }\r\n\r\nIn the above code root directory is &quot;/teams&quot; , I&#39;m trying to fetch members from teams/id/members resource.","title":"SpringBoot REST API many-to-many, I want to fetch all members in Team","body":"<p>My &quot;team&quot; endpoint is working fine , I'm getting response from rest client, however I'm not able to retrieve members inside each team.</p>\n<p>My Json File looks something like this:</p>\n<pre><code>{\n    &quot;id&quot;: 5,\n    &quot;teamName&quot;: &quot;OUTLIERS&quot;,\n    &quot;year&quot;: 2021,\n    &quot;teamLead&quot;: {\n              &quot;name&quot;:&quot;bbb&quot;,\n               &quot;status&quot;:&quot;ABC&quot;\n}, &quot;members&quot;:[\n{},{},{}\n]\n</code></pre>\n<p>Team End Point :</p>\n<pre><code>    @GetMapping(path = **&quot;/{id}/members&quot;)**\n    public List&lt;Member&gt; getTeamMembers(@PathVariable Long id) {\n\n        //System.out.println(team.getMembers().size());\n        List&lt;Member&gt; members = teamRepo.getOne(id).getMembers();\n        return members;\n    }\n\n// ----- Member Pojos ---\n\npackage org.itpn.web.pojos;\n\nimport lombok.Data;\n\n@Data\npublic class MemberVO {\n\nprivate Long memberId;\n\nString firstName;\n\nString lastName;\n\nString membershipId;\n\nLong primaryPhone;\n\nString whatsappPhone;\n\nString emailAddress;\n\nboolean active;\n    \n}\n</code></pre>\n<p>In the above code root directory is &quot;/teams&quot; , I'm trying to fetch members from teams/id/members resource.</p>\n"},{"tags":["java","eclipse","if-statement"],"comments":[{"owner":{"account_id":10081074,"reputation":1138,"user_id":9040373,"display_name":"whatamidoingwithmylife"},"score":0,"creation_date":1514228297,"post_id":47971245,"comment_id":82912067,"body_markdown":"And what exactly is conditionXYZ ?","body":"And what exactly is conditionXYZ ?"},{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":0,"creation_date":1514228325,"post_id":47971245,"comment_id":82912069,"body_markdown":"think about additional `{ }` in the middle. Sorry, i cant understand algoritjhm","body":"think about additional <code>{ }</code> in the middle. Sorry, i cant understand algoritjhm"}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1514229462,"creation_date":1514228385,"answer_id":47971270,"question_id":47971245,"body_markdown":"Java syntax doesn&#39;t allow you to have statements between chains of if/else (that&#39;s not in their respective blocks).\r\n\r\nYou can execute your third condition in the `else if` condition:\r\n\r\n \r\n\r\n    if (conditionX) {\r\n        doX();\r\n    } else if (conditionY) {\r\n        boolean isSomethingTrue = findOutIfSomethingIsTrue();\r\n        if (anotherConditionIsTrue) {\r\n            doY();\r\n        }\r\n    } else {\r\n        XYZPojo xyzPOJO = getXYZPOJO();\r\n        if (xyzPOJO.getValueX().contains(&quot;xyz&quot;)) {\r\n            doXYZ();\r\n        }\r\n        //reuse xyzPOJO\r\n    }\r\n\r\nAlternatively, the last `else` can still look like:\r\n\r\n    } else if (getXYZPOJO().getValueX().contains(&quot;xyz&quot;)){\r\n        doXYZ();\r\n    }","title":"Execute Code Between If and Else-if Statement in Java","body":"<p>Java syntax doesn't allow you to have statements between chains of if/else (that's not in their respective blocks).</p>\n\n<p>You can execute your third condition in the <code>else if</code> condition:</p>\n\n<pre><code>if (conditionX) {\n    doX();\n} else if (conditionY) {\n    boolean isSomethingTrue = findOutIfSomethingIsTrue();\n    if (anotherConditionIsTrue) {\n        doY();\n    }\n} else {\n    XYZPojo xyzPOJO = getXYZPOJO();\n    if (xyzPOJO.getValueX().contains(\"xyz\")) {\n        doXYZ();\n    }\n    //reuse xyzPOJO\n}\n</code></pre>\n\n<p>Alternatively, the last <code>else</code> can still look like:</p>\n\n<pre><code>} else if (getXYZPOJO().getValueX().contains(\"xyz\")){\n    doXYZ();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20773189,"reputation":11,"user_id":15255359,"display_name":"CarnageChaos420"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637526980,"creation_date":1613939150,"answer_id":66306776,"question_id":47971245,"body_markdown":"I know this is pretty old, but seeing as no one gave the answer I would have, I figured I would post my answer incase anyone else finds their way here looking for options.\r\n\r\n\r\n&gt; The problem is I don&#39;t want conditionXYZ to be evaluated if conditionY is true.\r\n\r\nYou could use a ternary operator to check that conditionX and conditionY are false before evaluating conditionXYZ above the if/else statements.\r\n\r\n    //Evaluates xyzPOJO only if conditionX and conditionY aren&#39;t true, otherwise set xyzPOJO to null\r\n    XYZPojo xyzPOJO = conditionX==false &amp;&amp; conditionY==false ? getXYZPOJO() : null;\r\n\r\n    if (conditionX) {\r\n        doX();\r\n    }\r\n    else if (conditionY) {\r\n        boolean isSomethingTrue = findOutIfSomethingIsTrue();\r\n        if (anotherConditionIsTrue) {\r\n            doY();\r\n        }\r\n    }\r\n    else if (xyzPOJO.getValueX().contains(&quot;xyz&quot;)) {\r\n        doXYZ();\r\n    }","title":"Execute Code Between If and Else-if Statement in Java","body":"<p>I know this is pretty old, but seeing as no one gave the answer I would have, I figured I would post my answer incase anyone else finds their way here looking for options.</p>\n<blockquote>\n<p>The problem is I don't want conditionXYZ to be evaluated if conditionY is true.</p>\n</blockquote>\n<p>You could use a ternary operator to check that conditionX and conditionY are false before evaluating conditionXYZ above the if/else statements.</p>\n<pre><code>//Evaluates xyzPOJO only if conditionX and conditionY aren't true, otherwise set xyzPOJO to null\nXYZPojo xyzPOJO = conditionX==false &amp;&amp; conditionY==false ? getXYZPOJO() : null;\n\nif (conditionX) {\n    doX();\n}\nelse if (conditionY) {\n    boolean isSomethingTrue = findOutIfSomethingIsTrue();\n    if (anotherConditionIsTrue) {\n        doY();\n    }\n}\nelse if (xyzPOJO.getValueX().contains(&quot;xyz&quot;)) {\n    doXYZ();\n}\n</code></pre>\n"}],"owner":{"account_id":11901135,"reputation":165,"user_id":8828911,"accept_rate":25,"display_name":"Amit Asaf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1983,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1637526980,"creation_date":1514228097,"question_id":47971245,"body_markdown":"I got this code:\r\n\r\n    \r\n    if (conditionX) {\r\n        \t\t\t\t\r\n        \t\t\t\tdoX();\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\t\r\n        \t\t\t\r\n    else if (conditionY) {\r\n        \t\t\t\tboolean isSomethingTrue = findOutIfSomethingIsTrue();\r\n        \t\t\t\tif (anotherConditionIsTrue)\t{\r\n        \t\t\t\t\tdoY();\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \r\n    XYZPojo xyzPOJO = getXYZPOJO();    \r\n        \t\t\t\r\n    else if (xyzPOJO.getValueX().contains(&quot;xyz&quot;)) {  // &lt;- eclipse wants me to delete this &#39;else&#39; statement\r\n        \r\n        \t\t\t\tdoXYZ();\r\n        \r\n        \t\t\t}\r\n    \t\t\t\r\n\t\t\t\r\nWhen I run this code eclipse complains that `&quot;Syntax error on token &quot;else&quot;, delete this token&quot;`. I understand this is because I have the code:\r\n\t\t\t\r\n\r\n    boolean conditionXYZ = checkIfXYZIsTrue();\r\n\t\t\t\r\nbetween both `else if` statements. But I cannot check the value of `conditionXYZ` unless I set the value of `conditionXYZ` in between both `else if` statements.\r\n\t\t\t\r\n\t\t\t\r\nThe only other similar question I found on SO is [this one][1] and it suggests to use two if statements. The problem is I don&#39;t want `conditionXYZ` to be evaluated if `conditionY` is true. \r\n\t\t\t\r\n\t\t\t\r\nMy other option is to use two `if statements` and add a return statement for each if statement. But I do not find this solution to be elegant in terms of code design.\r\n\t\t\t\r\n\t\t\t\r\nMy third option is to  `checkIfXYZIsTrue()` before executing any of the if statements but this is not efficient because if `conditionY` is true we don&#39;t need to check `conditionXYZ`.\r\n\r\nAny ideas?\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36076569/how-can-you-put-something-in-between-an-if-else-statement-in-java","title":"Execute Code Between If and Else-if Statement in Java","body":"<p>I got this code:</p>\n\n<pre><code>if (conditionX) {\n\n                    doX();\n                }\n\n\n\nelse if (conditionY) {\n                    boolean isSomethingTrue = findOutIfSomethingIsTrue();\n                    if (anotherConditionIsTrue) {\n                        doY();\n                    }\n                }\n\nXYZPojo xyzPOJO = getXYZPOJO();    \n\nelse if (xyzPOJO.getValueX().contains(\"xyz\")) {  // &lt;- eclipse wants me to delete this 'else' statement\n\n                    doXYZ();\n\n                }\n</code></pre>\n\n<p>When I run this code eclipse complains that <code>\"Syntax error on token \"else\", delete this token\"</code>. I understand this is because I have the code:</p>\n\n<pre><code>boolean conditionXYZ = checkIfXYZIsTrue();\n</code></pre>\n\n<p>between both <code>else if</code> statements. But I cannot check the value of <code>conditionXYZ</code> unless I set the value of <code>conditionXYZ</code> in between both <code>else if</code> statements.</p>\n\n<p>The only other similar question I found on SO is <a href=\"https://stackoverflow.com/questions/36076569/how-can-you-put-something-in-between-an-if-else-statement-in-java\">this one</a> and it suggests to use two if statements. The problem is I don't want <code>conditionXYZ</code> to be evaluated if <code>conditionY</code> is true. </p>\n\n<p>My other option is to use two <code>if statements</code> and add a return statement for each if statement. But I do not find this solution to be elegant in terms of code design.</p>\n\n<p>My third option is to  <code>checkIfXYZIsTrue()</code> before executing any of the if statements but this is not efficient because if <code>conditionY</code> is true we don't need to check <code>conditionXYZ</code>.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","android","video","srt","video-subtitles"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637806943,"post_id":70057888,"comment_id":123926768,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10309800,"reputation":72,"user_id":7605998,"display_name":"david-1160"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637526730,"creation_date":1637526730,"answer_id":70058349,"question_id":70057888,"body_markdown":"Ignore this answer if you expect specific code, I am just telling how I would approach it. I&#39;d create a srt. file for easement, where the text and time to display the text is defined. [srt file][1]\r\n\r\nFor the GUI I would want to stack a video layer on top of the existing video player, where the Text will be displayed.\r\n\r\nThen I would make and event listener on the time slider on the video,\r\nwhen ever it changes read the exact time, find the next text to display in the .srt file and calculate the time difference.\r\nWith the difference a ScheduledExecutorService will be used to display the next text after a given time and that periodically.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SubRip","title":"How to implement subtitles in Video Player Using Java","body":"<p>Ignore this answer if you expect specific code, I am just telling how I would approach it. I'd create a srt. file for easement, where the text and time to display the text is defined. <a href=\"https://en.wikipedia.org/wiki/SubRip\" rel=\"nofollow noreferrer\">srt file</a></p>\n<p>For the GUI I would want to stack a video layer on top of the existing video player, where the Text will be displayed.</p>\n<p>Then I would make and event listener on the time slider on the video,\nwhen ever it changes read the exact time, find the next text to display in the .srt file and calculate the time difference.\nWith the difference a ScheduledExecutorService will be used to display the next text after a given time and that periodically.</p>\n"}],"owner":{"account_id":23411609,"reputation":1,"user_id":17473196,"display_name":"Henry Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637526730,"creation_date":1637522789,"question_id":70057888,"body_markdown":"Please Who knows how to implement subtitles in an already made video player?\r\nI have created a video player but I just don&#39;t know the code for subtitle implementation in a Video player.I am working with java.","title":"How to implement subtitles in Video Player Using Java","body":"<p>Please Who knows how to implement subtitles in an already made video player?\nI have created a video player but I just don't know the code for subtitle implementation in a Video player.I am working with java.</p>\n"},{"tags":["java","optaplanner"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1519630904,"post_id":48983572,"comment_id":84971838,"body_markdown":"Possible duplicate of [Convert java.util.Date to java.time.LocalDate](https://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate\">Convert java.util.Date to java.time.LocalDate</a>"},{"owner":{"account_id":12944998,"reputation":156,"user_id":9359607,"display_name":"Muthu"},"score":1,"creation_date":1519631871,"post_id":48983572,"comment_id":84972205,"body_markdown":"@Convert(converter = LocalDateTimeConverter.class) try it","body":"@Convert(converter = LocalDateTimeConverter.class) try it"}],"answers":[{"tags":[],"owner":{"account_id":5749872,"reputation":1997,"user_id":4539906,"display_name":"Asad Shakeel"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1547805514,"creation_date":1547805514,"answer_id":54251505,"question_id":48983572,"body_markdown":"I have tried the following code to get the **LocalDate** from **Calendar**\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    TimeZone tz = calendar.getTimeZone();\r\n    ZoneId zid = tz == null ? ZoneId.systemDefault() : tz.toZoneId();\r\n    LocalDate localDate = LocalDateTime.ofInstant(calendar.toInstant(), zid).LocalDate();\r\nor simply in one line:\r\n\r\n    LocalDate localDate = LocalDateTime.ofInstant(calendar.toInstant(), calendar.getTimeZone().toZoneId()).toLocalDate();\r\n\r\nI have followed these steps from this link [Convert Calendar to LocalDateTime][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://www.logicbig.com/how-to/java-8-date-time-api/calender-to-localdatetime.html","title":"Convert Calendar to LocalDate","body":"<p>I have tried the following code to get the <strong>LocalDate</strong> from <strong>Calendar</strong></p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\nTimeZone tz = calendar.getTimeZone();\nZoneId zid = tz == null ? ZoneId.systemDefault() : tz.toZoneId();\nLocalDate localDate = LocalDateTime.ofInstant(calendar.toInstant(), zid).LocalDate();\n</code></pre>\n\n<p>or simply in one line:</p>\n\n<pre><code>LocalDate localDate = LocalDateTime.ofInstant(calendar.toInstant(), calendar.getTimeZone().toZoneId()).toLocalDate();\n</code></pre>\n\n<p>I have followed these steps from this link <a href=\"https://www.logicbig.com/how-to/java-8-date-time-api/calender-to-localdatetime.html\" rel=\"noreferrer\">Convert Calendar to LocalDateTime</a></p>\n"},{"tags":[],"owner":{"account_id":9088275,"reputation":691,"user_id":6765336,"display_name":"dilanSachi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596697705,"creation_date":1557066484,"answer_id":55992999,"question_id":48983572,"body_markdown":"The following code probably works too.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    Date input = cal.getTime();\r\n    LocalDate da = input.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n\r\nThis first gets the date in **Date** type and then converts it to **LocalDate** format as far as I know.","title":"Convert Calendar to LocalDate","body":"<p>The following code probably works too.</p>\n<pre><code>Calendar cal = Calendar.getInstance();\nDate input = cal.getTime();\nLocalDate da = input.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n</code></pre>\n<p>This first gets the date in <strong>Date</strong> type and then converts it to <strong>LocalDate</strong> format as far as I know.</p>\n"},{"tags":[],"owner":{"account_id":1568829,"reputation":121,"user_id":1659811,"display_name":"Volker Bach"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1598541537,"creation_date":1598438587,"answer_id":63595899,"question_id":48983572,"body_markdown":"In Java 8 you can just do\r\n\r\n```\r\nLocalDateTime.ofInstant(cal.toInstant(), ZoneId.systemDefault())\r\n```","title":"Convert Calendar to LocalDate","body":"<p>In Java 8 you can just do</p>\n<pre><code>LocalDateTime.ofInstant(cal.toInstant(), ZoneId.systemDefault())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598520332,"creation_date":1598520332,"answer_id":63613017,"question_id":48983572,"body_markdown":"If you&#39;re reading the LocalDate(Time) from your SQL database and is the only API connection point (so Calendar isn&#39;t exposed anywhere), then **don&#39;t use Calendar at all**.\r\n\r\nUse a Hibernate/JPA or JDBC version that supports LocalDate(Time) and read that directly from the database. They&#39;ve been supporting it for years, but your hibernate/JPA or JDBC version connecting to MySQL might be older.\r\n\r\nIt is *error prone* to read a date from the database as a Calendar and then convert the Calendar into a LocalDate(Time). `java.util.Calendar` is inherently broken, that&#39;s why LocalDate(Time) was created. IIRC, errors included dependence on OS settings (timezone, DST rules, etc), making it&#39;s behavior machine dependent.\r\n\r\nIf Calendar is exposed in your API, then this answer won&#39;t work, of course.","title":"Convert Calendar to LocalDate","body":"<p>If you're reading the LocalDate(Time) from your SQL database and is the only API connection point (so Calendar isn't exposed anywhere), then <strong>don't use Calendar at all</strong>.</p>\n<p>Use a Hibernate/JPA or JDBC version that supports LocalDate(Time) and read that directly from the database. They've been supporting it for years, but your hibernate/JPA or JDBC version connecting to MySQL might be older.</p>\n<p>It is <em>error prone</em> to read a date from the database as a Calendar and then convert the Calendar into a LocalDate(Time). <code>java.util.Calendar</code> is inherently broken, that's why LocalDate(Time) was created. IIRC, errors included dependence on OS settings (timezone, DST rules, etc), making it's behavior machine dependent.</p>\n<p>If Calendar is exposed in your API, then this answer won't work, of course.</p>\n"},{"tags":[],"owner":{"account_id":9330948,"reputation":2699,"user_id":7179509,"accept_rate":78,"display_name":"Maksym"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1610748201,"creation_date":1603372580,"answer_id":64483109,"question_id":48983572,"body_markdown":"Java 9\r\n\r\n    import java.util.Calendar;\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    \r\n    LocalDate.ofInstant(calendar.toInstant(), ZoneId.systemDefault());","title":"Convert Calendar to LocalDate","body":"<p>Java 9</p>\n<pre><code>import java.util.Calendar;\nimport java.time.LocalDate;\nimport java.time.ZoneId;\n\nLocalDate.ofInstant(calendar.toInstant(), ZoneId.systemDefault());\n</code></pre>\n"}],"owner":{"account_id":12706860,"reputation":141,"user_id":9231830,"display_name":"Rod182211"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46824,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1637526499,"creation_date":1519630771,"question_id":48983572,"body_markdown":"I decided to upgrade from 5.5 to Optaplanner 7.5 Nurseroster but have run into a number of silly issues. Below is one. The routine I previously used is below. Now however the new version requires LocalDate. I have an MySql database back-end and the users select the roster schedule planner via a calendar. Any suggestions will be appreciated.\r\n\r\n \r\n\r\n    int shiftDateSize = maxDayIndex + 1;\r\n            List&lt;ShiftDate&gt; shiftDateList = new ArrayList&lt;ShiftDate&gt;(shiftDateSize);\r\n            //shiftDateMap = new HashMap&lt;String, ShiftDate&gt;(shiftDateSize);\r\n            long id = 0L;\r\n            int dayIndex = 0;\r\n            calendar.setTime(startDate);\r\n            for (int i = 0; i &lt; shiftDateSize; i++) {\r\n                ShiftDate shiftDate = new ShiftDate();\r\n                shiftDate.setId(id);\r\n                shiftDate.setDayIndex(dayIndex);\r\n                **String dateString = dateFormat.format(calendar.getTime());**\r\n                shiftDate.setDateString(dateString);\r\n                **shiftDate.setDayOfWeek(DayOfWeek.valueOfCalendar(calendar.get(Calendar.DAY_OF_WEEK)));**\r\n                shiftDate.setShiftList(new ArrayList&lt;Shift&gt;());\r\n                shiftDateList.add(shiftDate);\r\n                shiftDateMap.put(dateString, shiftDate);\r\n                id++;\r\n                dayIndex++;\r\n                calendar.add(Calendar.DAY_OF_YEAR, 1);\r\n            }\r\n            nurseRoster.setShiftDateList(shiftDateList);\r\n        } ","title":"Convert Calendar to LocalDate","body":"<p>I decided to upgrade from 5.5 to Optaplanner 7.5 Nurseroster but have run into a number of silly issues. Below is one. The routine I previously used is below. Now however the new version requires LocalDate. I have an MySql database back-end and the users select the roster schedule planner via a calendar. Any suggestions will be appreciated.</p>\n\n<pre><code>int shiftDateSize = maxDayIndex + 1;\n        List&lt;ShiftDate&gt; shiftDateList = new ArrayList&lt;ShiftDate&gt;(shiftDateSize);\n        //shiftDateMap = new HashMap&lt;String, ShiftDate&gt;(shiftDateSize);\n        long id = 0L;\n        int dayIndex = 0;\n        calendar.setTime(startDate);\n        for (int i = 0; i &lt; shiftDateSize; i++) {\n            ShiftDate shiftDate = new ShiftDate();\n            shiftDate.setId(id);\n            shiftDate.setDayIndex(dayIndex);\n            **String dateString = dateFormat.format(calendar.getTime());**\n            shiftDate.setDateString(dateString);\n            **shiftDate.setDayOfWeek(DayOfWeek.valueOfCalendar(calendar.get(Calendar.DAY_OF_WEEK)));**\n            shiftDate.setShiftList(new ArrayList&lt;Shift&gt;());\n            shiftDateList.add(shiftDate);\n            shiftDateMap.put(dateString, shiftDate);\n            id++;\n            dayIndex++;\n            calendar.add(Calendar.DAY_OF_YEAR, 1);\n        }\n        nurseRoster.setShiftDateList(shiftDateList);\n    } \n</code></pre>\n"},{"tags":["java","authentication","kerberos","jaas","gssapi"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494995930,"creation_date":1494995930,"answer_id":44015727,"question_id":43984609,"body_markdown":" 1. I don&#39;t think you need the quotation marks around paths and this `FILE:` bit is not required as well, like:\r\n    \r\n        ticketCache=/path/to/your/krb.cache\r\n  \r\n 2. Why you are using both ticket cache and keytabs, one should be enough (unless you need to test fallback scenario)\r\n 3. What operating system you are using?\r\n\r\nI recall solving the problem with something like:\r\n\r\n    com.sun.security.jgss.krb5.initiate {\r\n        com.sun.security.auth.module.Krb5LoginModule required\r\n        debug=true\r\n        doNotPrompt=true\r\n        useTicketCache=true        \r\n    };\r\n\r\nAnd setting the following registry key (Windows 7)\r\n\r\n    HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Control\\Lsa\\Kerberos\\Parameters\r\n    Value Name: allowtgtsessionkey\r\n    Value Type: REG_DWORD\r\n    Value: 0x01  ( default is 0 )\r\n\r\nReferences:\r\n\r\n \r\n - [JSch And Kerberos Authentication][1]\r\n - [JGSS Troubleshooting][2]\r\n - [Windows Authentication with Apache JMeter][3]\r\n\r\n\r\n  [1]: https://aholzner.wordpress.com/2009/10/17/jsch-and-kerberos-authentication/\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/guides/security/jgss/tutorials/Troubleshooting.html\r\n  [3]: https://www.blazemeter.com/blog/windows-authentication-apache-jmeter","title":"Java client and Kerberos / SSO - Krb5LoginModule - not re-using tickets","body":"<ol>\n<li><p>I don't think you need the quotation marks around paths and this <code>FILE:</code> bit is not required as well, like:</p>\n\n<pre><code>ticketCache=/path/to/your/krb.cache\n</code></pre></li>\n<li><p>Why you are using both ticket cache and keytabs, one should be enough (unless you need to test fallback scenario)</p></li>\n<li>What operating system you are using?</li>\n</ol>\n\n<p>I recall solving the problem with something like:</p>\n\n<pre><code>com.sun.security.jgss.krb5.initiate {\n    com.sun.security.auth.module.Krb5LoginModule required\n    debug=true\n    doNotPrompt=true\n    useTicketCache=true        \n};\n</code></pre>\n\n<p>And setting the following registry key (Windows 7)</p>\n\n<pre><code>HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Control\\Lsa\\Kerberos\\Parameters\nValue Name: allowtgtsessionkey\nValue Type: REG_DWORD\nValue: 0x01  ( default is 0 )\n</code></pre>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://aholzner.wordpress.com/2009/10/17/jsch-and-kerberos-authentication/\" rel=\"nofollow noreferrer\">JSch And Kerberos Authentication</a></li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/jgss/tutorials/Troubleshooting.html\" rel=\"nofollow noreferrer\">JGSS Troubleshooting</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/windows-authentication-apache-jmeter\" rel=\"nofollow noreferrer\">Windows Authentication with Apache JMeter</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1048391,"reputation":3074,"user_id":1052899,"display_name":"Fabiano Tarlao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502902576,"creation_date":1502878860,"answer_id":45710971,"question_id":43984609,"body_markdown":"Jaas is not going to persist the ticket into the cache, it is only able to acquire already saved tickets.\r\nMore info in my question/answer [here][1] \r\n\r\nYou need to use `kinit` tool (bundled with Java distribution or the Linux tool) in order to persist tickets into a cache file, you can also rewrite your own `Krb5LoginManger` in order to perform this (hard way).\r\n\r\nBut I suppose there is something broken in the Adam workflow, in my understating of GSS, for the same session, both server and client, have to refer always to the same `GSSContext` object that they created during initialization. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45463635/jaas-fails-to-persist-kerberos-ticket-to-cache-file-and-unable-to-create-cach","title":"Java client and Kerberos / SSO - Krb5LoginModule - not re-using tickets","body":"<p>Jaas is not going to persist the ticket into the cache, it is only able to acquire already saved tickets.\nMore info in my question/answer <a href=\"https://stackoverflow.com/questions/45463635/jaas-fails-to-persist-kerberos-ticket-to-cache-file-and-unable-to-create-cach\">here</a> </p>\n\n<p>You need to use <code>kinit</code> tool (bundled with Java distribution or the Linux tool) in order to persist tickets into a cache file, you can also rewrite your own <code>Krb5LoginManger</code> in order to perform this (hard way).</p>\n\n<p>But I suppose there is something broken in the Adam workflow, in my understating of GSS, for the same session, both server and client, have to refer always to the same <code>GSSContext</code> object that they created during initialization. </p>\n"},{"tags":[],"owner":{"account_id":19868807,"reputation":11,"user_id":14555457,"display_name":"tritbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637525568,"creation_date":1636676226,"answer_id":69936498,"question_id":43984609,"body_markdown":"You must divide your issue to 2 parts.\r\n1. infinite TGT. If you use native jaas so this module ignores Linux or Windows gss library and tries to re-initiate using keytab defined in jaas.conf. For KDC it means DDoS. If you use your application like gateway between user and target service so your service becomes intermediate initiator and it needs to re-initiate own TGT for TGS. It can be solved by adding useTicketCache to jaas.conf. However it doesn&#39;t solve TGS DDoS -&gt; TGS amount can be much more than TGT.\r\n\r\n2. infinite TGS. Oracle wrote native library for own ecosystem and they aren&#39;t interested of your optimization. If you want one ticket per day - pay Oracle to develop exclusive library.\r\nHowever there is classic lifehack that break Oracle weather by the way there is on Oracle doc website. It&#39;s called native JGSS over external MIT/MS Kerberos gss library. \r\n\r\nYou only need to add 2 -D arguments after java command or to use JAVA_OPTS\r\n\r\nhttps://docs.oracle.com/en/java/javase/15/security/jaas-authentication.html#GUID-EF86E769-AFAF-4341-B9B0-4E122A0BFCEC","title":"Java client and Kerberos / SSO - Krb5LoginModule - not re-using tickets","body":"<p>You must divide your issue to 2 parts.</p>\n<ol>\n<li><p>infinite TGT. If you use native jaas so this module ignores Linux or Windows gss library and tries to re-initiate using keytab defined in jaas.conf. For KDC it means DDoS. If you use your application like gateway between user and target service so your service becomes intermediate initiator and it needs to re-initiate own TGT for TGS. It can be solved by adding useTicketCache to jaas.conf. However it doesn't solve TGS DDoS -&gt; TGS amount can be much more than TGT.</p>\n</li>\n<li><p>infinite TGS. Oracle wrote native library for own ecosystem and they aren't interested of your optimization. If you want one ticket per day - pay Oracle to develop exclusive library.\nHowever there is classic lifehack that break Oracle weather by the way there is on Oracle doc website. It's called native JGSS over external MIT/MS Kerberos gss library.</p>\n</li>\n</ol>\n<p>You only need to add 2 -D arguments after java command or to use JAVA_OPTS</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/15/security/jaas-authentication.html#GUID-EF86E769-AFAF-4341-B9B0-4E122A0BFCEC\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/15/security/jaas-authentication.html#GUID-EF86E769-AFAF-4341-B9B0-4E122A0BFCEC</a></p>\n"}],"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1637525568,"creation_date":1494865943,"question_id":43984609,"body_markdown":"I&#39;m running JMeter which depends on `JDK 1.8`&#39;s `Krb5LoginModule`.\r\n\r\nIt seems to me that the `Krb5LoginModule` can&#39;t maintain a kerberos session across multiple requests. This results in a `HTTP 401` and renewed handshaking before every request. \r\n\r\nI&#39;m trying to reproduce a production environment which has severe intermittent performance issues and I would like to include the Kerberos / SSO authentication in my testing but I can&#39;t set it up to run like the Windows clients that use my REST server. \r\n\r\nThe REST server provides data to hundreds of Excel add-in clients, which are set up to authenticate with Kerberos. In the access logs, I see each client initially triggers an HTTP status 401 response, followed by a 200, and further 200s for the duration of the client&#39;s activity. \r\n\r\nJust to avoid confusion, the server is handling the Kerberos hand-shaking and is *NOT* using servlet container sessions. \r\n\r\nWhen my test runs though, I see that every request is rejected by a 401 from the server, Java goes off to the Kerberos KDC to get another ticket, and then resubmits it. While this works, my KDC server can&#39;t handle more than a couple of requests every second and times out the requests, so I can&#39;t ramp up my load test very much.\r\n\r\nSo why isn&#39;t Krb5LoginModule keeping the kerberos ticket it gets from the KDC and pre-authenticating every call, like Excel does? \r\n\r\nThis is what I&#39;ve tried for the config:\r\n\r\n\r\n\r\n    JMeter {\r\n        com.sun.security.auth.module.Krb5LoginModule required\r\n            useTicketCache=true\r\n            ticketCache=&quot;FILE:krb.cache&quot;\r\n            useKeyTab=true\r\n            keyTab=&quot;FILE:krb.keytab&quot;\r\n            storeKey=true\r\n            principal=&quot;-tsk-thing-ldap-dev@DO.AD.DUM.COM&quot;\r\n            debug=true;\r\n    };\r\n\r\n\r\nI&#39;ve tried with keytabs and without, with ticket caching and without. I hope I&#39;m just doing the config wrong, but I can&#39;t see how.\r\n\r\nThis is what I&#39;m basing my assumption on: [Oracle: Single sign-on using Kerberos][1]\r\n\r\nand the API: [Krb5LoginModule - Oracle JDK 1.8 API docs][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/security/jgss/single-signon.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/jre/api/security/jaas/spec/com/sun/security/auth/module/Krb5LoginModule.html","title":"Java client and Kerberos / SSO - Krb5LoginModule - not re-using tickets","body":"<p>I'm running JMeter which depends on <code>JDK 1.8</code>'s <code>Krb5LoginModule</code>.</p>\n\n<p>It seems to me that the <code>Krb5LoginModule</code> can't maintain a kerberos session across multiple requests. This results in a <code>HTTP 401</code> and renewed handshaking before every request. </p>\n\n<p>I'm trying to reproduce a production environment which has severe intermittent performance issues and I would like to include the Kerberos / SSO authentication in my testing but I can't set it up to run like the Windows clients that use my REST server. </p>\n\n<p>The REST server provides data to hundreds of Excel add-in clients, which are set up to authenticate with Kerberos. In the access logs, I see each client initially triggers an HTTP status 401 response, followed by a 200, and further 200s for the duration of the client's activity. </p>\n\n<p>Just to avoid confusion, the server is handling the Kerberos hand-shaking and is <em>NOT</em> using servlet container sessions. </p>\n\n<p>When my test runs though, I see that every request is rejected by a 401 from the server, Java goes off to the Kerberos KDC to get another ticket, and then resubmits it. While this works, my KDC server can't handle more than a couple of requests every second and times out the requests, so I can't ramp up my load test very much.</p>\n\n<p>So why isn't Krb5LoginModule keeping the kerberos ticket it gets from the KDC and pre-authenticating every call, like Excel does? </p>\n\n<p>This is what I've tried for the config:</p>\n\n<pre><code>JMeter {\n    com.sun.security.auth.module.Krb5LoginModule required\n        useTicketCache=true\n        ticketCache=\"FILE:krb.cache\"\n        useKeyTab=true\n        keyTab=\"FILE:krb.keytab\"\n        storeKey=true\n        principal=\"-tsk-thing-ldap-dev@DO.AD.DUM.COM\"\n        debug=true;\n};\n</code></pre>\n\n<p>I've tried with keytabs and without, with ticket caching and without. I hope I'm just doing the config wrong, but I can't see how.</p>\n\n<p>This is what I'm basing my assumption on: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/jgss/single-signon.html\" rel=\"nofollow noreferrer\">Oracle: Single sign-on using Kerberos</a></p>\n\n<p>and the API: <a href=\"https://docs.oracle.com/javase/7/docs/jre/api/security/jaas/spec/com/sun/security/auth/module/Krb5LoginModule.html\" rel=\"nofollow noreferrer\">Krb5LoginModule - Oracle JDK 1.8 API docs</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1637522761,"post_id":70057864,"comment_id":123842943,"body_markdown":"Ah yeah. Good old [Collatz](https://en.wikipedia.org/wiki/Collatz_conjecture). Anyway... you forgot to ask an actual question. Please [edit] the post, format the code properly and ask a specific question.","body":"Ah yeah. Good old <a href=\"https://en.wikipedia.org/wiki/Collatz_conjecture\" rel=\"nofollow noreferrer\">Collatz</a>. Anyway... you forgot to ask an actual question. Please <a href=\"https://stackoverflow.com/posts/70057864/edit\">edit</a> the post, format the code properly and ask a specific question."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1637522815,"post_id":70057864,"comment_id":123842953,"body_markdown":"Take care of java naming conventions. Class names should start with upper case letter.","body":"Take care of java naming conventions. Class names should start with upper case letter."}],"answers":[{"tags":[],"owner":{"account_id":10871958,"reputation":193,"user_id":7993564,"display_name":"Jo&#227;o Sim&#245;es"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637523301,"creation_date":1637523301,"answer_id":70057950,"question_id":70057864,"body_markdown":"It&#39;s not working because you keep re-assigining the variable `temp` to the initially scanned `num`.\r\n\r\nYou keep checking if the initially scanned `num` is odd or even, when you should check if `temp` is odd or even.\r\n\r\nYou also `break` out of the loop for no reason.\r\n\r\nAnd finally, you&#39;re not saving the result of the operations, you&#39;re only printing out the result.\r\n\r\nTry to understand the points I mentioned above by noticing the differences between your code and the following:\r\n\r\n    while(temp!=1){\r\n       if (temp%2==0){\r\n         temp = temp/2;\r\n       }\r\n       else {\r\n         temp = temp*3+1;\r\n       }\r\n       System.out.println(temp);\r\n    }","title":"Trying to print out some sequence of numbers","body":"<p>It's not working because you keep re-assigining the variable <code>temp</code> to the initially scanned <code>num</code>.</p>\n<p>You keep checking if the initially scanned <code>num</code> is odd or even, when you should check if <code>temp</code> is odd or even.</p>\n<p>You also <code>break</code> out of the loop for no reason.</p>\n<p>And finally, you're not saving the result of the operations, you're only printing out the result.</p>\n<p>Try to understand the points I mentioned above by noticing the differences between your code and the following:</p>\n<pre><code>while(temp!=1){\n   if (temp%2==0){\n     temp = temp/2;\n   }\n   else {\n     temp = temp*3+1;\n   }\n   System.out.println(temp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23198485,"reputation":51,"user_id":17293733,"display_name":"brighthammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637523393,"creation_date":1637523393,"answer_id":70057957,"question_id":70057864,"body_markdown":"You are not updating the value of temp. You are just printing it. Take the following statement\r\n\r\n       if (num%2==0){\r\n         temp=num;\r\n         System.out.println(temp/2);\r\n         break ;\r\n       }\r\n\r\nHere you are setting temp to num and just printing temp/2 and never setting a value. \r\n\r\nI wrote my version of it which is a bit more simpler. I hope this will help you. You can create a string to get a better output of course.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number:&quot;);\r\n            int number = scan.nextInt();\r\n    \r\n            while (number != 1) {\r\n                number = number % 2 == 0 ? number / 2 : ((number * 3) + 1);\r\n                System.out.println(&quot;Number became &quot; + number);\r\n            }\r\n        }\r\n    }","title":"Trying to print out some sequence of numbers","body":"<p>You are not updating the value of temp. You are just printing it. Take the following statement</p>\n<pre><code>   if (num%2==0){\n     temp=num;\n     System.out.println(temp/2);\n     break ;\n   }\n</code></pre>\n<p>Here you are setting temp to num and just printing temp/2 and never setting a value.</p>\n<p>I wrote my version of it which is a bit more simpler. I hope this will help you. You can create a string to get a better output of course.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter a number:&quot;);\n        int number = scan.nextInt();\n\n        while (number != 1) {\n            number = number % 2 == 0 ? number / 2 : ((number * 3) + 1);\n            System.out.println(&quot;Number became &quot; + number);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23388665,"reputation":41,"user_id":17453599,"display_name":"user17453599"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637525497,"creation_date":1637525497,"answer_id":70058197,"question_id":70057864,"body_markdown":"Try this:\n\n```\npublic class Main\n{\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tSystem.out.println(&quot;Starting...&quot;);\n\t\t\n\t\t//Lets start the program, first we need\n\t\t//the Scanner class to access to the input\n\t\tScanner stdin = new Scanner(System.in);\n\t\t\n\t\tSystem.out.print(&quot;Type a num: &quot;);\n\t\t//I dont use: nextInt() because when asking for another input, will scan only\n\t\t//the rest of the line (Maybe just \\n - line break )\n\t\tint num = Integer.parseInt(stdin.nextLine());\n\t\t\n\t\t//Optional \n\t\tint loops = 0;\n\t\t\n\t\twhile(num!=1){\n\t\t\t\n\t\t\t//Pair, so num/2\n\t\t\tif ( num %2 == 0){\n\t\t\t\tnum/=2;\n\t\t\t}\n\t\t\telse{\n\t\t\t\t//num*3 +1\n\t\t\t\t\n\t\t\t\tnum=num*3 +1;\n\t\t\t\t//Note that:\n\t\t\t\t//1 + num*3\n\t\t\t\t//Doesnt alter the result\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(&quot;num: &quot;+num);\n\t\t\tloops++;\n\t\t}\n\t\t\n\t\tSystem.out.println(&quot;total loops: &quot;+loops);\n\t}\n}\n```","title":"Trying to print out some sequence of numbers","body":"<p>Try this:</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) throws Exception\n    {\n        System.out.println(&quot;Starting...&quot;);\n        \n        //Lets start the program, first we need\n        //the Scanner class to access to the input\n        Scanner stdin = new Scanner(System.in);\n        \n        System.out.print(&quot;Type a num: &quot;);\n        //I dont use: nextInt() because when asking for another input, will scan only\n        //the rest of the line (Maybe just \\n - line break )\n        int num = Integer.parseInt(stdin.nextLine());\n        \n        //Optional \n        int loops = 0;\n        \n        while(num!=1){\n            \n            //Pair, so num/2\n            if ( num %2 == 0){\n                num/=2;\n            }\n            else{\n                //num*3 +1\n                \n                num=num*3 +1;\n                //Note that:\n                //1 + num*3\n                //Doesnt alter the result\n            }\n            \n            System.out.println(&quot;num: &quot;+num);\n            loops++;\n        }\n        \n        System.out.println(&quot;total loops: &quot;+loops);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21543816,"reputation":9,"user_id":15881049,"display_name":"Edith Stark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1637536747,"answer_count":3,"score":-1,"last_activity_date":1637525497,"creation_date":1637522640,"question_id":70057864,"body_markdown":"I want to print out a sequence of numbers using this formula\r\n- Enter a number\r\n- if number is even divide number by 2.\r\n- But if number is odd multiply number by 3 and add 1\r\n- continue doing this until number becomes 1\r\n\r\n\r\nsample input=3  \r\nSample output=10 5 16 8 4 2  \r\nthis is what I tried but still not getting it  \r\n\r\n```java\r\npackage victor;\r\n\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class proj {\r\n\r\n  public static void main(String[] args) {\r\n   Scanner put=new Scanner(System.in);\r\n   int temp=0;\r\n   boolean notOne=true;\r\n   System.out.println(&quot;input::: &quot;);\r\n   int num=put.nextInt();\r\n   while(temp!=1){\r\n   if (num%2==0){\r\n     temp=num;\r\n     System.out.println(temp/2);\r\n     break ;\r\n   }\r\n   else {\r\n   temp=num;\r\n     System.out.println(temp*3+1);\r\n     break;\r\n   }\r\n   }\r\n   if(temp!=1){\r\n     notOne=false;\r\n   }\r\n  }\r\n  \r\n}\r\n","title":"Trying to print out some sequence of numbers","body":"<p>I want to print out a sequence of numbers using this formula</p>\n<ul>\n<li>Enter a number</li>\n<li>if number is even divide number by 2.</li>\n<li>But if number is odd multiply number by 3 and add 1</li>\n<li>continue doing this until number becomes 1</li>\n</ul>\n<p>sample input=3<br />\nSample output=10 5 16 8 4 2<br />\nthis is what I tried but still not getting it</p>\n<pre class=\"lang-java prettyprint-override\"><code>package victor;\n\nimport java.util.Scanner;\n\n\npublic class proj {\n\n  public static void main(String[] args) {\n   Scanner put=new Scanner(System.in);\n   int temp=0;\n   boolean notOne=true;\n   System.out.println(&quot;input::: &quot;);\n   int num=put.nextInt();\n   while(temp!=1){\n   if (num%2==0){\n     temp=num;\n     System.out.println(temp/2);\n     break ;\n   }\n   else {\n   temp=num;\n     System.out.println(temp*3+1);\n     break;\n   }\n   }\n   if(temp!=1){\n     notOne=false;\n   }\n  }\n  \n}\n</code></pre>\n"},{"tags":["java","maven","build-tools","arch"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":2,"creation_date":1622126931,"post_id":67724086,"comment_id":119706823,"body_markdown":"Looks like you are trying to use an experimental goal which is meant for the upcoming version 4.0.0 of Maven.","body":"Looks like you are trying to use an experimental goal which is meant for the upcoming version 4.0.0 of Maven."},{"owner":{"account_id":21742623,"reputation":31,"user_id":16049765,"display_name":"Angel Gruevski"},"score":0,"creation_date":1622128786,"post_id":67724086,"comment_id":119707864,"body_markdown":"@JFabianMeier according to Maven,  Maven 3.7 should Include Default Wrapper.","body":"@JFabianMeier according to Maven,  Maven 3.7 should Include Default Wrapper."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":2,"creation_date":1622128925,"post_id":67724086,"comment_id":119707948,"body_markdown":"There is no Maven 3.7. There is Maven 3.6.3 and Maven 3.8.1. AFAIK they both do not contain it.","body":"There is no Maven 3.7. There is Maven 3.6.3 and Maven 3.8.1. AFAIK they both do not contain it."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1622129014,"post_id":67724086,"comment_id":119707999,"body_markdown":"see https://maven.apache.org/docs/history.html","body":"see <a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">maven.apache.org/docs/history.html</a>"},{"owner":{"account_id":21742623,"reputation":31,"user_id":16049765,"display_name":"Angel Gruevski"},"score":0,"creation_date":1622131401,"post_id":67724086,"comment_id":119709158,"body_markdown":"You are right, then it seems their Docs are not correct and outdated.","body":"You are right, then it seems their Docs are not correct and outdated."}],"answers":[{"tags":[],"owner":{"account_id":21742623,"reputation":31,"user_id":16049765,"display_name":"Angel Gruevski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1622132039,"creation_date":1622132039,"answer_id":67726086,"question_id":67724086,"body_markdown":"Sometimes the answer is in front of us, but tired eyes can make us blind :D \r\n\r\nAs @JFabianMeier said, there is no Maven 3.7 and Maven wrapper scripts are included starting from Maven 4.0\r\n\r\nhttps://maven.apache.org/plugins/maven-wrapper-plugin/","title":"wrapperVersion not supported for Maven 3.8.1, it must be at least 4","body":"<p>Sometimes the answer is in front of us, but tired eyes can make us blind :D</p>\n<p>As @JFabianMeier said, there is no Maven 3.7 and Maven wrapper scripts are included starting from Maven 4.0</p>\n<p><a href=\"https://maven.apache.org/plugins/maven-wrapper-plugin/\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-wrapper-plugin/</a></p>\n"},{"tags":[],"owner":{"account_id":434060,"reputation":654,"user_id":2708444,"display_name":"vbg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637525387,"creation_date":1637525387,"answer_id":70058179,"question_id":67724086,"body_markdown":"For your project you can still use [Takari Maven Wrapper plugin][1]. It is needed for any project with Maven version before 4.0.0.\r\n\r\n\r\n  [1]: https://github.com/takari/takari-maven-plugin","title":"wrapperVersion not supported for Maven 3.8.1, it must be at least 4","body":"<p>For your project you can still use <a href=\"https://github.com/takari/takari-maven-plugin\" rel=\"nofollow noreferrer\">Takari Maven Wrapper plugin</a>. It is needed for any project with Maven version before 4.0.0.</p>\n"}],"owner":{"account_id":21742623,"reputation":31,"user_id":16049765,"display_name":"Angel Gruevski"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67726086,"answer_count":2,"score":1,"last_activity_date":1637525387,"creation_date":1622125195,"question_id":67724086,"body_markdown":"I am using Maven for a new Java project. After generating the project using one of the Maven artifacts, I&#39;ve tried to generate Maven wrapper scripts inside the project. For this purpose I am using the new Maven plugin and goal wrapper:wrapper, however I am getting the following error:\r\nwrapperVersion not supported for Maven 3.8.1, it must be at least 4\r\n\r\n    mvn wrapper:wrapper                                                                                                                      ⇣82.8 KiB/s ⇡2.76 KiB/s 192.168.2.110   77.29.199.151   100%  ─╯\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ---------------------------&lt; com.angel:demo &gt;---------------------------\r\n    [INFO] Building demo 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-wrapper-plugin:3.0.2:wrapper (default-cli) @ demo ---\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.897 s\r\n    [INFO] Finished at: 2021-05-27T16:14:23+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-wrapper-plugin:3.0.2:wrapper (default-cli) on project demo: wrapperVersion not supported for Maven 3.8.1, it must be at least 4. -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\nJava Version: \r\n\r\n&gt; openjdk 11.0.11 2021-04-20 OpenJDK Runtime Environment (build\r\n&gt; 11.0.11+9) OpenJDK 64-Bit Server VM (build 11.0.11+9, mixed mode)\r\n\r\nMaven version:\r\n\r\n&gt; Apache Maven 3.8.1 (NON-CANONICAL_2021-04-26T21:52:54Z_root) Maven\r\n&gt; home: /opt/maven Java version: 11.0.11, vendor: Oracle Corporation,\r\n&gt; runtime: /usr/lib/jvm/java-11-openjdk Default locale: en_US, platform\r\n&gt; encoding: UTF-8 OS name: &quot;linux&quot;, version: &quot;5.12.4-arch1-2&quot;, arch:\r\n&gt; &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\nOS version: Arch Linux\r\nMaven should contain the wrapper script starting from Maven 3.7, which shouldn&#39;t be a problem because I am using Maven 3.8, but the error message for version 4 is confusing for me and I have no idea where to look for answers.\r\n","title":"wrapperVersion not supported for Maven 3.8.1, it must be at least 4","body":"<p>I am using Maven for a new Java project. After generating the project using one of the Maven artifacts, I've tried to generate Maven wrapper scripts inside the project. For this purpose I am using the new Maven plugin and goal wrapper:wrapper, however I am getting the following error:\nwrapperVersion not supported for Maven 3.8.1, it must be at least 4</p>\n<pre><code>mvn wrapper:wrapper                                                                                                                      ⇣82.8 KiB/s ⇡2.76 KiB/s 192.168.2.110   77.29.199.151   100%  ─╯\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ---------------------------&lt; com.angel:demo &gt;---------------------------\n[INFO] Building demo 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-wrapper-plugin:3.0.2:wrapper (default-cli) @ demo ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.897 s\n[INFO] Finished at: 2021-05-27T16:14:23+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-wrapper-plugin:3.0.2:wrapper (default-cli) on project demo: wrapperVersion not supported for Maven 3.8.1, it must be at least 4. -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>Java Version:</p>\n<blockquote>\n<p>openjdk 11.0.11 2021-04-20 OpenJDK Runtime Environment (build\n11.0.11+9) OpenJDK 64-Bit Server VM (build 11.0.11+9, mixed mode)</p>\n</blockquote>\n<p>Maven version:</p>\n<blockquote>\n<p>Apache Maven 3.8.1 (NON-CANONICAL_2021-04-26T21:52:54Z_root) Maven\nhome: /opt/maven Java version: 11.0.11, vendor: Oracle Corporation,\nruntime: /usr/lib/jvm/java-11-openjdk Default locale: en_US, platform\nencoding: UTF-8 OS name: &quot;linux&quot;, version: &quot;5.12.4-arch1-2&quot;, arch:\n&quot;amd64&quot;, family: &quot;unix&quot;</p>\n</blockquote>\n<p>OS version: Arch Linux\nMaven should contain the wrapper script starting from Maven 3.7, which shouldn't be a problem because I am using Maven 3.8, but the error message for version 4 is confusing for me and I have no idea where to look for answers.</p>\n"},{"tags":["java","apache"],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":118,"is_accepted":true,"score":118,"last_activity_date":1426079302,"creation_date":1380968328,"answer_id":19196621,"question_id":19196292,"body_markdown":"If you read the docs carefully, you&#39;ll notice that you should use [`MultipartEntityBuilder`][1] as an alternative.\r\n\r\nFor example:\r\n\r\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();        \r\n    \r\n    /* example for setting a HttpMultipartMode */\r\n    builder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\r\n\r\n    /* example for adding an image part */\r\n    FileBody fileBody = new FileBody(new File(image)); //image should be a String\r\n    builder.addPart(&quot;my_file&quot;, fileBody); \r\n    //and so on\r\n\r\nNote that there are several constructors for the [`FileBody`][2] class, by which you can provide *mimeType*, *content type*, etc.\r\n\r\nAfter you&#39;re done with passing *build instructions* to the builder, you can get the built [`HttpEntity`][3] by invoking the [`MultipartEntityBuilder#build()`][4] method:\r\n\r\n    HttpEntity entity = builder.build();\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/MultipartEntityBuilder.html\r\n  [2]: http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/content/FileBody.html\r\n  [3]: http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/HttpEntity.html?is-external=true\r\n  [4]: http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/MultipartEntityBuilder.html","title":"The type MultipartEntity is deprecated","body":"<p>If you read the docs carefully, you'll notice that you should use <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/MultipartEntityBuilder.html\" rel=\"noreferrer\"><code>MultipartEntityBuilder</code></a> as an alternative.</p>\n\n<p>For example:</p>\n\n<pre><code>MultipartEntityBuilder builder = MultipartEntityBuilder.create();        \n\n/* example for setting a HttpMultipartMode */\nbuilder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\n\n/* example for adding an image part */\nFileBody fileBody = new FileBody(new File(image)); //image should be a String\nbuilder.addPart(\"my_file\", fileBody); \n//and so on\n</code></pre>\n\n<p>Note that there are several constructors for the <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/content/FileBody.html\" rel=\"noreferrer\"><code>FileBody</code></a> class, by which you can provide <em>mimeType</em>, <em>content type</em>, etc.</p>\n\n<p>After you're done with passing <em>build instructions</em> to the builder, you can get the built <a href=\"http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/HttpEntity.html?is-external=true\" rel=\"noreferrer\"><code>HttpEntity</code></a> by invoking the <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/MultipartEntityBuilder.html\" rel=\"noreferrer\"><code>MultipartEntityBuilder#build()</code></a> method:</p>\n\n<pre><code>HttpEntity entity = builder.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5123878,"reputation":4700,"user_id":4106653,"accept_rate":100,"display_name":"Neo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1494455375,"creation_date":1494455375,"answer_id":43903688,"question_id":19196292,"body_markdown":"I still see so many tutorials still using the deprecated APIs which is what lead me to this post. For the benefit of future visitors (until this API gets deprecated ;) )\r\n\r\n      \r\n    File image = &quot;....&quot;; \r\n    FileBody fileBody = new FileBody(image);\r\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create()\r\n                             .setMode(HttpMultipartMode.BROWSER_COMPATIBLE)\r\n                             .addTextBody(&quot;params&quot;, &quot;{....}&quot;)\r\n                             .addPart(&quot;my_file&quot;, fileBody);\r\n    HttpEntity multiPartEntity = builder.build();\r\n\r\n    String url = &quot;....&quot;;\r\n    HttpPost httpPost = new HttpPost(url);\r\n    httpPost.setEntity(multiPartEntity);\r\n    ...\r\n","title":"The type MultipartEntity is deprecated","body":"<p>I still see so many tutorials still using the deprecated APIs which is what lead me to this post. For the benefit of future visitors (until this API gets deprecated ;) )</p>\n\n<pre><code>File image = \"....\"; \nFileBody fileBody = new FileBody(image);\nMultipartEntityBuilder builder = MultipartEntityBuilder.create()\n                         .setMode(HttpMultipartMode.BROWSER_COMPATIBLE)\n                         .addTextBody(\"params\", \"{....}\")\n                         .addPart(\"my_file\", fileBody);\nHttpEntity multiPartEntity = builder.build();\n\nString url = \"....\";\nHttpPost httpPost = new HttpPost(url);\nhttpPost.setEntity(multiPartEntity);\n...\n</code></pre>\n"}],"owner":{"account_id":1773296,"reputation":1169,"user_id":2550391,"accept_rate":65,"display_name":"nullUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63252,"favorite_count":0,"down_vote_count":1,"up_vote_count":54,"accepted_answer_id":19196621,"answer_count":2,"score":53,"last_activity_date":1637525235,"creation_date":1380966370,"question_id":19196292,"body_markdown":"The documentation says the [`org.apache.http.entity.mime.MultipartEntity`][1]  class is deprecated. Could anybody please suggest me an alternative ?\r\n\r\nI am using this in my code like this:\r\n\r\n    entity.addPart(&quot;params&quot;, new StringBody(&quot;{\\&quot;auth\\&quot;:{\\&quot;key\\&quot;:\\&quot;&quot;\r\n\t\t\t\t+ authKey + &quot;\\&quot;},\\&quot;template_id\\&quot;:\\&quot;&quot; + templateId + &quot;\\&quot;}&quot;));\r\n    entity.addPart(&quot;my_file&quot;, new FileBody(image));\r\n    httppost.setEntity(entity);\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/MultipartEntity.html","title":"The type MultipartEntity is deprecated","body":"<p>The documentation says the <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/MultipartEntity.html\" rel=\"noreferrer\"><code>org.apache.http.entity.mime.MultipartEntity</code></a>  class is deprecated. Could anybody please suggest me an alternative ?</p>\n\n<p>I am using this in my code like this:</p>\n\n<pre><code>entity.addPart(\"params\", new StringBody(\"{\\\"auth\\\":{\\\"key\\\":\\\"\"\n            + authKey + \"\\\"},\\\"template_id\\\":\\\"\" + templateId + \"\\\"}\"));\nentity.addPart(\"my_file\", new FileBody(image));\nhttppost.setEntity(entity);\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1637520411,"post_id":70057518,"comment_id":123842345,"body_markdown":"The next question is if you&#39;re _updating_ this entity, it implies it is already coming from the database.  If so, this implies that these non nullable fields should have non null values.  What is responsible for nulling out certain of the fields?","body":"The next question is if you&#39;re <i>updating</i> this entity, it implies it is already coming from the database.  If so, this implies that these non nullable fields should have non null values.  What is responsible for nulling out certain of the fields?"},{"owner":{"account_id":19646528,"reputation":120,"user_id":15196929,"display_name":"Shai Ace"},"score":0,"creation_date":1637521325,"post_id":70057518,"comment_id":123842575,"body_markdown":"@TimBiegeleisen passing the whole entity is responsible for that. since JPA automatically assigns null values to unmodified attributes. is there a way to tell it to leave it as it is if un-touched? sorry still new to this.","body":"@TimBiegeleisen passing the whole entity is responsible for that. since JPA automatically assigns null values to unmodified attributes. is there a way to tell it to leave it as it is if un-touched? sorry still new to this."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637524813,"creation_date":1637522596,"answer_id":70057856,"question_id":70057518,"body_markdown":"The controller is binding the values you pass in to a new Company entity. The new entity is not attached to the persistence context, it does not have the state of the pre-existing entity. When you save it JPA thinks you want to null out all the fields you don&#39;t have values for. \r\n\r\nInstead, you could have the controller bind its arguments to a DTO. Then in the service you look up the existing Customer, using findById, and copy the fields you want updated from the DTO to the entity. Then call saveAndFlush passing in the updated entity. \r\n\r\nIt looks like there&#39;s an improvement over the DTO, you can use aJsonPatch to hold the updates passed in, see https://www.baeldung.com/spring-rest-json-patch. The patch method seems like a better match for what you&#39;re doing anyway. \r\n\r\nOn the server the important thing is to look up the existing entity so that you have an entity that is attached to the persistence context and has all its fields current. ","title":"Spring boot JPA update to update only specific fields","body":"<p>The controller is binding the values you pass in to a new Company entity. The new entity is not attached to the persistence context, it does not have the state of the pre-existing entity. When you save it JPA thinks you want to null out all the fields you don't have values for.</p>\n<p>Instead, you could have the controller bind its arguments to a DTO. Then in the service you look up the existing Customer, using findById, and copy the fields you want updated from the DTO to the entity. Then call saveAndFlush passing in the updated entity.</p>\n<p>It looks like there's an improvement over the DTO, you can use aJsonPatch to hold the updates passed in, see <a href=\"https://www.baeldung.com/spring-rest-json-patch\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-rest-json-patch</a>. The patch method seems like a better match for what you're doing anyway.</p>\n<p>On the server the important thing is to look up the existing entity so that you have an entity that is attached to the persistence context and has all its fields current.</p>\n"}],"owner":{"account_id":19646528,"reputation":120,"user_id":15196929,"display_name":"Shai Ace"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4068,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637524813,"creation_date":1637519923,"question_id":70057518,"body_markdown":"So I encountered this issue with updating an entity in DB. while Passing a whole entity and updating only specific fields it treats untouched fields as null, as a result I get an exception since those fields are `@Not-Null`,\r\n\r\nI have tried looking for similar problems but could not fix my problem.\r\n\r\n**Company ENTITY:**\r\n\r\n    @Entity\r\n    @Table (name = &quot;companies&quot;)\r\n    @Data\r\n    @ToString(exclude = &quot;perfumes&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class Company {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n    \r\n        @NotNull\r\n        private String name;\r\n    \r\n        @NotNull\r\n        @Email(message = &quot;Wrong input. please enter a VALID email address&quot;)\r\n        private String email;\r\n    \r\n        @NotNull\r\n        @Size(min = 4, max = 14, message = &quot;Password range must be between 4 - 14 digits&quot;)\r\n        private String password;\r\n    \r\n        @NotNull\r\n        @Enumerated(EnumType.STRING)\r\n        private Country country;\r\n    \r\n        @Singular\r\n        @OneToMany(mappedBy = &quot;company&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        private List&lt;Perfume&gt; perfumes = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nMost fields are `@NotNull` for creation, however, I need to update the entity, sometimes only specific fields.\r\n\r\n**Service:**\r\n\r\n    @Override\r\n    public String updateCompany(int id, Company company) throws DoesNotExistException {\r\n        if(!companyRepository.existsById(id))\r\n        {\r\n            throw new DoesNotExistException(id);\r\n        }\r\n\r\n        companyRepository.saveAndFlush(company);\r\n        return company.getName() + &quot; has been UPDATED&quot;;\r\n    }\r\n\r\nas you can see an `ENTITY` has been passed which causes rest of attributes to be automatically null if not modified.\r\n\r\n\r\n**Controller:**\r\n\r\n      @PutMapping(&quot;/updateCompany/{id}&quot;)\r\n        @ResponseStatus(HttpStatus.ACCEPTED)\r\n        public String updateCompany(@PathVariable int id, @RequestBody Company company) throws DoesNotExistException {\r\n            return admin.updateCompany(id,company);\r\n        }\r\n\r\n**EXCEPTION:**\r\n\r\n    Validation failed for classes [com.golden.scent.beans.Company] during update time for groups [javax.validation.groups.Default, ]\r\n    List of constraint violations:[\r\n    \tConstraintViolationImpl{interpolatedMessage=&#39;must not be null&#39;, propertyPath=password, rootBeanClass=class com.golden.scent.beans.Company, messageTemplate=&#39;{javax.validation.constraints.NotNull.message}&#39;}\r\n    ]\r\n\r\n\r\n\r\nThanks.\r\n\r\n\r\n","title":"Spring boot JPA update to update only specific fields","body":"<p>So I encountered this issue with updating an entity in DB. while Passing a whole entity and updating only specific fields it treats untouched fields as null, as a result I get an exception since those fields are <code>@Not-Null</code>,</p>\n<p>I have tried looking for similar problems but could not fix my problem.</p>\n<p><strong>Company ENTITY:</strong></p>\n<pre><code>@Entity\n@Table (name = &quot;companies&quot;)\n@Data\n@ToString(exclude = &quot;perfumes&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class Company {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @NotNull\n    private String name;\n\n    @NotNull\n    @Email(message = &quot;Wrong input. please enter a VALID email address&quot;)\n    private String email;\n\n    @NotNull\n    @Size(min = 4, max = 14, message = &quot;Password range must be between 4 - 14 digits&quot;)\n    private String password;\n\n    @NotNull\n    @Enumerated(EnumType.STRING)\n    private Country country;\n\n    @Singular\n    @OneToMany(mappedBy = &quot;company&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private List&lt;Perfume&gt; perfumes = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Most fields are <code>@NotNull</code> for creation, however, I need to update the entity, sometimes only specific fields.</p>\n<p><strong>Service:</strong></p>\n<pre><code>@Override\npublic String updateCompany(int id, Company company) throws DoesNotExistException {\n    if(!companyRepository.existsById(id))\n    {\n        throw new DoesNotExistException(id);\n    }\n\n    companyRepository.saveAndFlush(company);\n    return company.getName() + &quot; has been UPDATED&quot;;\n}\n</code></pre>\n<p>as you can see an <code>ENTITY</code> has been passed which causes rest of attributes to be automatically null if not modified.</p>\n<p><strong>Controller:</strong></p>\n<pre><code>  @PutMapping(&quot;/updateCompany/{id}&quot;)\n    @ResponseStatus(HttpStatus.ACCEPTED)\n    public String updateCompany(@PathVariable int id, @RequestBody Company company) throws DoesNotExistException {\n        return admin.updateCompany(id,company);\n    }\n</code></pre>\n<p><strong>EXCEPTION:</strong></p>\n<pre><code>Validation failed for classes [com.golden.scent.beans.Company] during update time for groups [javax.validation.groups.Default, ]\nList of constraint violations:[\n    ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=password, rootBeanClass=class com.golden.scent.beans.Company, messageTemplate='{javax.validation.constraints.NotNull.message}'}\n]\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":23388665,"reputation":41,"user_id":17453599,"display_name":"user17453599"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637524751,"creation_date":1637524061,"answer_id":70058026,"question_id":70057988,"body_markdown":"To update your view you must call the ```invalidate()``` method\n\n**Warning**:\nAdd a thread in the constructor of the view, to update your view:\n\n```\nnew Thread(() -&gt; {\n   while (true){\n      try{\n\n         //Sleep 100 millis\n         sleep(100);\n\n         invalidate();\n   \n      }catch(Throwable ex){\n         //Handle the exception here\n         ex.printStackTrace();\n      }\n\n   }\n}.start());\n```\n\nBut why aren&#39;t you using a game framework?","title":"Android Studio updating View- moving game object","body":"<p>To update your view you must call the <code>invalidate()</code> method</p>\n<p><strong>Warning</strong>:\nAdd a thread in the constructor of the view, to update your view:</p>\n<pre><code>new Thread(() -&gt; {\n   while (true){\n      try{\n\n         //Sleep 100 millis\n         sleep(100);\n\n         invalidate();\n   \n      }catch(Throwable ex){\n         //Handle the exception here\n         ex.printStackTrace();\n      }\n\n   }\n}.start());\n</code></pre>\n<p>But why aren't you using a game framework?</p>\n"}],"owner":{"account_id":23238197,"reputation":1,"user_id":17327930,"display_name":"tako"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637524751,"creation_date":1637523679,"question_id":70057988,"body_markdown":"I&#39;m working on a maze game in android studio. I want to create enemy (rectangle for now) which will move randomly in a maze, but I can&#39;t update a view. I tried creating a TimerTask, but it doesn&#39;t work and I&#39;m not sure what I&#39;m doing wrong. \r\n\r\nonDraw method\r\n```\r\n @Override\r\n    protected void onDraw (Canvas canvas){\r\n    enemy = cells[(COLS - 1) / 2][(ROWS - 1) / 2];\r\n    canvas.drawRect(\r\n        enemy.col * cellSize + margin,\r\n        enemy.row * cellSize + margin,\r\n        (enemy.col + 1) * cellSize - margin,\r\n        (enemy.row + 1) * cellSize - margin,\r\n        enemyPaint);\r\n}\r\n\r\n    updateEnemyTask = new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n            moveEnemy();\r\n        }\r\n    };\r\n\r\n```\r\n\r\n```\r\npublic void updateEnemy() {\r\n    Timer timer = new Timer();\r\n    timer.scheduleAtFixedRate(updateEnemyTask, startTime, offsetTime);\r\n\r\n}\r\n```\r\n\r\n```\r\nprivate void moveEnemy () {\r\n\r\n    Direction direction;\r\n    random = new Random();\r\n    int randomDirection = random.nextInt(Direction.values().length);\r\n    direction = Direction.values()[randomDirection];\r\n\r\n    switch (direction) {\r\n        case UP:\r\n            if (!enemy.topWall)\r\n                enemy = cells[enemy.col][enemy.row - 1];\r\n                break;\r\n        case DOWN:\r\n            if (!enemy.bottomWall)\r\n               enemy = cells[enemy.col][enemy.row + 1];\r\n               break;\r\n        case LEFT:\r\n            if (!enemy.leftWall)\r\n               enemy = cells[enemy.col - 1][enemy.row];\r\n               break;\r\n        case RIGHT:\r\n            if (!enemy.rightWall)\r\n               enemy = cells[enemy.col + 1][enemy.row];\r\n               break;\r\n    }\r\n}\r\n```\r\n","title":"Android Studio updating View- moving game object","body":"<p>I'm working on a maze game in android studio. I want to create enemy (rectangle for now) which will move randomly in a maze, but I can't update a view. I tried creating a TimerTask, but it doesn't work and I'm not sure what I'm doing wrong.</p>\n<p>onDraw method</p>\n<pre><code> @Override\n    protected void onDraw (Canvas canvas){\n    enemy = cells[(COLS - 1) / 2][(ROWS - 1) / 2];\n    canvas.drawRect(\n        enemy.col * cellSize + margin,\n        enemy.row * cellSize + margin,\n        (enemy.col + 1) * cellSize - margin,\n        (enemy.row + 1) * cellSize - margin,\n        enemyPaint);\n}\n\n    updateEnemyTask = new TimerTask() {\n        @Override\n        public void run() {\n            moveEnemy();\n        }\n    };\n\n</code></pre>\n<pre><code>public void updateEnemy() {\n    Timer timer = new Timer();\n    timer.scheduleAtFixedRate(updateEnemyTask, startTime, offsetTime);\n\n}\n</code></pre>\n<pre><code>private void moveEnemy () {\n\n    Direction direction;\n    random = new Random();\n    int randomDirection = random.nextInt(Direction.values().length);\n    direction = Direction.values()[randomDirection];\n\n    switch (direction) {\n        case UP:\n            if (!enemy.topWall)\n                enemy = cells[enemy.col][enemy.row - 1];\n                break;\n        case DOWN:\n            if (!enemy.bottomWall)\n               enemy = cells[enemy.col][enemy.row + 1];\n               break;\n        case LEFT:\n            if (!enemy.leftWall)\n               enemy = cells[enemy.col - 1][enemy.row];\n               break;\n        case RIGHT:\n            if (!enemy.rightWall)\n               enemy = cells[enemy.col + 1][enemy.row];\n               break;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","appium"],"owner":{"account_id":19571807,"reputation":133,"user_id":14322804,"display_name":"nuzooo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637524282,"creation_date":1637524282,"question_id":70058053,"body_markdown":"I have base class that have an Url url without instantiation, than I have and class that inherit it and in the before method of it (TestNG) I have statement : \r\n\r\n     url = new URL(props.getProperty(“appiumURL”));\r\nthe URL is 127.0.0.0\r\nafterwards I have :\r\n\r\n    desiredCapabilities.setCapability(“automationName”, props.getProperty(“iOSAutomationName”));\r\n    String iOSAppUrl = getClass().getResource(props.getProperty(“iOSAppLocation”)).getFile();\r\n    utils.log().info(“appUrl is” + iOSAppUrl);\r\n    desiredCapabilities.setCapability(“bundleId”, props.getProperty(“iOSBundleId”));\r\n    desiredCapabilities.setCapability(“wdaLocalPort”, wdaLocalPort);\r\n    desiredCapabilities.setCapability(“webkitDebugProxyPort”, webkitDebugProxyPort);\r\n    //desiredCapabilities.setCapability(“app”, iOSAppUrl);\r\n    driver = new IOSDriver(url, desiredCapabilities);\r\n\r\nthe value of the url is : http://0.0.0.0:4723/wd/hub\r\nthan after the line of the “driver = new IOSDriver(url, desiredCapabilities);” I get an exception that the url is null,\r\nthan BuildInfo class is opened :\r\n\r\n     package org.openqa.selenium;\r\n\r\n     import java.io.File;\r\n     import java.io.IOException;\r\n     import java.io.InputStream;\r\n     import java.net.URISyntaxException;\r\n     import java.net.URL;\r\n     import java.util.Map.Entry;\r\n     import java.util.Properties;\r\n     import java.util.Set;\r\n     import java.util.jar.Attributes;\r\n     import java.util.jar.JarFile;\r\n     import java.util.jar.Manifest;\r\n     import java.util.zip.ZipEntry;\r\n\r\n    /**\r\n    * Reads information about how the current application was built from the Build-Info section of \r\n    the\r\n    * manifest in the jar file, which contains this class.\r\n    */\r\n    public class BuildInfo {\r\n\r\n    private static final Properties BUILD_PROPERTIES = loadBuildProperties();\r\n\r\n    private static Properties loadBuildProperties() {\r\n    Properties properties = new Properties();\r\n\r\n    Manifest manifest = null;\r\n    JarFile jar = null;\r\n    try {\r\n     URL url = BuildInfo.class.getProtectionDomain().getCodeSource().getLocation();\r\n     File file = new File(url.toURI());\r\n     jar = new JarFile(file);\r\n     ZipEntry entry = jar.getEntry(&quot;META-INF/build-stamp.properties&quot;);\r\n     if (entry != null) {\r\n      try (InputStream stream = jar.getInputStream(entry)) {\r\n        properties.load(stream);\r\n      }\r\n     }\r\n\r\n     manifest = jar.getManifest();\r\n     } catch (\r\n       IllegalArgumentException |\r\n       IOException |\r\n       NullPointerException |\r\n       URISyntaxException ignored) {\r\n      } finally {\r\n       if (jar != null) {\r\n         try {\r\n          jar.close();\r\n         } catch (IOException e) {\r\n           // ignore\r\n       }\r\n     }\r\n    }\r\n\r\n     if (manifest == null) {\r\n       return properties;\r\n      }\r\n\r\n     try {\r\n       Attributes attributes = manifest.getAttributes(&quot;Build-Info&quot;);\r\n       Set&lt;Entry&lt;Object, Object&gt;&gt; entries = attributes.entrySet();\r\n       for (Entry&lt;Object, Object&gt; e : entries) {\r\n       properties.put(String.valueOf(e.getKey()), String.valueOf(e.getValue()));\r\n     }\r\n\r\n     attributes = manifest.getAttributes(&quot;Selenium&quot;);\r\n     entries = attributes.entrySet();\r\n     for (Entry&lt;Object, Object&gt; e : entries) {\r\n       properties.put(String.valueOf(e.getKey()), String.valueOf(e.getValue()));\r\n        }\r\n       } catch (NullPointerException e) {\r\n          // Fall through\r\n       }\r\n\r\n       return properties;\r\n     }\r\n\r\n       /** @return The embedded release label or &quot;unknown&quot;. */\r\n       public String getReleaseLabel() {\r\n       return BUILD_PROPERTIES.getProperty(&quot;Selenium-Version&quot;, &quot;unknown&quot;).trim();\r\n     }\r\n\r\n     /** @return The embedded build revision or &quot;unknown&quot;. */\r\n      public String getBuildRevision() {\r\n       return BUILD_PROPERTIES.getProperty(&quot;Build-Revision&quot;, &quot;unknown&quot;);\r\n      }\r\n\r\n     /** @return The embedded build time or &quot;unknown&quot;. */\r\n      public String getBuildTime() {\r\n      return BUILD_PROPERTIES.getProperty(&quot;Build-Time&quot;, &quot;unknown&quot;);\r\n     }\r\n\r\n      @Override\r\n      public String toString() {\r\n       return String.format(&quot;Build info: version: &#39;%s&#39;, revision: &#39;%s&#39;, time: &#39;%s&#39;&quot;,\r\n        getReleaseLabel(), getBuildRevision(), getBuildTime());\r\n     }\r\n\r\n\r\nthe thing is that :\r\n\r\n      attributes = manifest.getAttributes(&quot;Selenium&quot;);\r\n      entries = attributes.entrySet();\r\nthe attribute is null .\r\n\r\nwhat I’m doing wrong?\r\nThank you","title":"Got an error that attribute value is missing","body":"<p>I have base class that have an Url url without instantiation, than I have and class that inherit it and in the before method of it (TestNG) I have statement :</p>\n<pre><code> url = new URL(props.getProperty(“appiumURL”));\n</code></pre>\n<p>the URL is 127.0.0.0\nafterwards I have :</p>\n<pre><code>desiredCapabilities.setCapability(“automationName”, props.getProperty(“iOSAutomationName”));\nString iOSAppUrl = getClass().getResource(props.getProperty(“iOSAppLocation”)).getFile();\nutils.log().info(“appUrl is” + iOSAppUrl);\ndesiredCapabilities.setCapability(“bundleId”, props.getProperty(“iOSBundleId”));\ndesiredCapabilities.setCapability(“wdaLocalPort”, wdaLocalPort);\ndesiredCapabilities.setCapability(“webkitDebugProxyPort”, webkitDebugProxyPort);\n//desiredCapabilities.setCapability(“app”, iOSAppUrl);\ndriver = new IOSDriver(url, desiredCapabilities);\n</code></pre>\n<p>the value of the url is : <a href=\"http://0.0.0.0:4723/wd/hub\" rel=\"nofollow noreferrer\">http://0.0.0.0:4723/wd/hub</a>\nthan after the line of the “driver = new IOSDriver(url, desiredCapabilities);” I get an exception that the url is null,\nthan BuildInfo class is opened :</p>\n<pre><code> package org.openqa.selenium;\n\n import java.io.File;\n import java.io.IOException;\n import java.io.InputStream;\n import java.net.URISyntaxException;\n import java.net.URL;\n import java.util.Map.Entry;\n import java.util.Properties;\n import java.util.Set;\n import java.util.jar.Attributes;\n import java.util.jar.JarFile;\n import java.util.jar.Manifest;\n import java.util.zip.ZipEntry;\n\n/**\n* Reads information about how the current application was built from the Build-Info section of \nthe\n* manifest in the jar file, which contains this class.\n*/\npublic class BuildInfo {\n\nprivate static final Properties BUILD_PROPERTIES = loadBuildProperties();\n\nprivate static Properties loadBuildProperties() {\nProperties properties = new Properties();\n\nManifest manifest = null;\nJarFile jar = null;\ntry {\n URL url = BuildInfo.class.getProtectionDomain().getCodeSource().getLocation();\n File file = new File(url.toURI());\n jar = new JarFile(file);\n ZipEntry entry = jar.getEntry(&quot;META-INF/build-stamp.properties&quot;);\n if (entry != null) {\n  try (InputStream stream = jar.getInputStream(entry)) {\n    properties.load(stream);\n  }\n }\n\n manifest = jar.getManifest();\n } catch (\n   IllegalArgumentException |\n   IOException |\n   NullPointerException |\n   URISyntaxException ignored) {\n  } finally {\n   if (jar != null) {\n     try {\n      jar.close();\n     } catch (IOException e) {\n       // ignore\n   }\n }\n}\n\n if (manifest == null) {\n   return properties;\n  }\n\n try {\n   Attributes attributes = manifest.getAttributes(&quot;Build-Info&quot;);\n   Set&lt;Entry&lt;Object, Object&gt;&gt; entries = attributes.entrySet();\n   for (Entry&lt;Object, Object&gt; e : entries) {\n   properties.put(String.valueOf(e.getKey()), String.valueOf(e.getValue()));\n }\n\n attributes = manifest.getAttributes(&quot;Selenium&quot;);\n entries = attributes.entrySet();\n for (Entry&lt;Object, Object&gt; e : entries) {\n   properties.put(String.valueOf(e.getKey()), String.valueOf(e.getValue()));\n    }\n   } catch (NullPointerException e) {\n      // Fall through\n   }\n\n   return properties;\n }\n\n   /** @return The embedded release label or &quot;unknown&quot;. */\n   public String getReleaseLabel() {\n   return BUILD_PROPERTIES.getProperty(&quot;Selenium-Version&quot;, &quot;unknown&quot;).trim();\n }\n\n /** @return The embedded build revision or &quot;unknown&quot;. */\n  public String getBuildRevision() {\n   return BUILD_PROPERTIES.getProperty(&quot;Build-Revision&quot;, &quot;unknown&quot;);\n  }\n\n /** @return The embedded build time or &quot;unknown&quot;. */\n  public String getBuildTime() {\n  return BUILD_PROPERTIES.getProperty(&quot;Build-Time&quot;, &quot;unknown&quot;);\n }\n\n  @Override\n  public String toString() {\n   return String.format(&quot;Build info: version: '%s', revision: '%s', time: '%s'&quot;,\n    getReleaseLabel(), getBuildRevision(), getBuildTime());\n }\n</code></pre>\n<p>the thing is that :</p>\n<pre><code>  attributes = manifest.getAttributes(&quot;Selenium&quot;);\n  entries = attributes.entrySet();\n</code></pre>\n<p>the attribute is null .</p>\n<p>what I’m doing wrong?\nThank you</p>\n"},{"tags":["java","ubuntu","jvm"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637579582,"post_id":70057805,"comment_id":123855448,"body_markdown":"The options `-Xverify:none` and `-noverify` should not be needed and the fix is to remove them from the start configuration. If a software needs them to run, that software is broken and should be fixed. But the warning is entirely unrelated to the `UnsatisfiedLinkError` that prevents the application from running.","body":"The options <code>-Xverify:none</code> and <code>-noverify</code> should not be needed and the fix is to remove them from the start configuration. If a software needs them to run, that software is broken and should be fixed. But the warning is entirely unrelated to the <code>UnsatisfiedLinkError</code> that prevents the application from running."}],"answers":[{"tags":[],"owner":{"account_id":5574723,"reputation":31,"user_id":6365443,"display_name":"Houssam bourr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637523910,"creation_date":1637523910,"answer_id":70058014,"question_id":70057805,"body_markdown":"Seems you have to install and use the previous version of the java like JDK 11\r\n\r\n    sudo apt install openjdk-11-jdk","title":"OpenJDK 64-Bit Server VM warning:Options -Xverify:none and -noverify were deprecated in JDK 13","body":"<p>Seems you have to install and use the previous version of the java like JDK 11</p>\n<pre><code>sudo apt install openjdk-11-jdk\n</code></pre>\n"}],"owner":{"display_name":"user5964692"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637523910,"creation_date":1637522129,"question_id":70057805,"body_markdown":"i tried to install sqldev tools in **ubuntu** and i got many problem even i have the **jdk java-17-openjdk-amd64**\r\nalso java is installed well \r\nthe error message showed in terminal :\r\n\r\n    Oracle SQL Developer\r\n    Copyright (c) 2005, 2020, Oracle and/or its affiliates. All rights reserved.\r\n    \r\n    OpenJDK 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /usr/lib/jvm/java-17-openjdk-amd64/lib/libawt_xawt.so\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\r\n    \tat java.base/java.lang.Runtime.load0(Runtime.java:755)\r\n    \tat java.base/java.lang.System.load(System.java:1953)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:384)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:228)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:170)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:311)\r\n    \tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:281)\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2398)\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n    \tat java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1392)\r\n    \tat java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1390)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n    \tat java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1389)\r\n    \tat java.desktop/java.awt.Toolkit.initStatic(Toolkit.java:1427)\r\n    \tat java.desktop/java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1401)\r\n    \tat java.desktop/java.awt.Component.&lt;clinit&gt;(Component.java:624)\r\n    \tat oracle.ide.osgi.boot.LauncherUtil.verifyJdkVersion(LauncherUtil.java:173)\r\n    \tat oracle.ide.osgi.boot.LauncherUtil.checkLaunchPrerequisites(LauncherUtil.java:129)\r\n    \tat oracle.ide.osgi.boot.LauncherUtil.initialize(LauncherUtil.java:101)\r\n    \tat oracle.ide.osgi.boot.OracleIdeLauncher.main(OracleIdeLauncher.java:80)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P9Sfw.png\r\n  [2]: https://i.stack.imgur.com/zw2ck.png","title":"OpenJDK 64-Bit Server VM warning:Options -Xverify:none and -noverify were deprecated in JDK 13","body":"<p>i tried to install sqldev tools in <strong>ubuntu</strong> and i got many problem even i have the <strong>jdk java-17-openjdk-amd64</strong>\nalso java is installed well\nthe error message showed in terminal :</p>\n<pre><code>Oracle SQL Developer\nCopyright (c) 2005, 2020, Oracle and/or its affiliates. All rights reserved.\n\nOpenJDK 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can't load library: /usr/lib/jvm/java-17-openjdk-amd64/lib/libawt_xawt.so\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\n    at java.base/java.lang.Runtime.load0(Runtime.java:755)\n    at java.base/java.lang.System.load(System.java:1953)\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:384)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:228)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:170)\n    at java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:311)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:281)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2398)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n    at java.base/java.lang.System.loadLibrary(System.java:1989)\n    at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1392)\n    at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1390)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1389)\n    at java.desktop/java.awt.Toolkit.initStatic(Toolkit.java:1427)\n    at java.desktop/java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1401)\n    at java.desktop/java.awt.Component.&lt;clinit&gt;(Component.java:624)\n    at oracle.ide.osgi.boot.LauncherUtil.verifyJdkVersion(LauncherUtil.java:173)\n    at oracle.ide.osgi.boot.LauncherUtil.checkLaunchPrerequisites(LauncherUtil.java:129)\n    at oracle.ide.osgi.boot.LauncherUtil.initialize(LauncherUtil.java:101)\n    at oracle.ide.osgi.boot.OracleIdeLauncher.main(OracleIdeLauncher.java:80)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/P9Sfw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P9Sfw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zw2ck.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zw2ck.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-data-jpa","swagger-ui","springfox"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1574115537,"post_id":58923282,"comment_id":104108933,"body_markdown":"you should in general not expose your database entities in the rest api. You have separate entities for the rest api, and separate for the database.","body":"you should in general not expose your database entities in the rest api. You have separate entities for the rest api, and separate for the database."},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1574118581,"post_id":58923282,"comment_id":104110048,"body_markdown":"Whether or not to use Dto model is a matter of opinion.","body":"Whether or not to use Dto model is a matter of opinion."},{"owner":{"account_id":13565163,"reputation":79,"user_id":9785476,"display_name":"KENUBBE"},"score":0,"creation_date":1574149716,"post_id":58923282,"comment_id":104118051,"body_markdown":"Im aware of that I should not expose PK but this case is just for learning purpose. I mean, do I need to end up with one DTO for POST Clinic and one for POST Patient?","body":"Im aware of that I should not expose PK but this case is just for learning purpose. I mean, do I need to end up with one DTO for POST Clinic and one for POST Patient?"},{"owner":{"account_id":539871,"reputation":183,"user_id":907867,"accept_rate":0,"display_name":"Bojan Kraut"},"score":0,"creation_date":1637523906,"post_id":58923282,"comment_id":123843211,"body_markdown":"I have the same question - and I think it is really unnecessary write mapping from ObjectRequest or to Object o like o.setName(o.getName());\nI have no idea why Laravel can do it - expose database object like this.","body":"I have the same question - and I think it is really unnecessary write mapping from ObjectRequest or to Object o like o.setName(o.getName()); I have no idea why Laravel can do it - expose database object like this."}],"owner":{"account_id":13565163,"reputation":79,"user_id":9785476,"display_name":"KENUBBE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637523868,"creation_date":1574112990,"question_id":58923282,"body_markdown":"Is there anyone out there that knows how to hide a certain property of relational/nested object in swagger-ui (springfox)?\r\n\r\nLets say that I have this two classes: \r\n\r\n&lt;b&gt;Patient Entity&lt;/b&gt;\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Patient&quot;)\r\npublic class Patient extends BaseEntity {\r\n\r\n    @Column(name = &quot;firstName&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;lastName&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;personalNumber&quot;, unique = true)\r\n    private String personalNumber;\r\n\r\n    @ApiModelProperty(hidden=true)\r\n    @Column(name = &quot;startDate&quot;)\r\n    private String startDate = new DateTime().toDateTimeISO().toString();\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;clinicId&quot;)\r\n    private Clinic clinic;\r\n```\r\n\r\n&lt;b&gt;Clinic Entity&lt;/b&gt;\r\n\r\n```@Entity\r\n@Table(name = &quot;Clinic&quot;)\r\npublic class Clinic extends BaseEntity {\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ApiModelProperty(hidden=true)\r\n    @Column(name = &quot;clinicNumber&quot;, unique = true)\r\n    private String clinicNumber = UUID.randomUUID().toString();\r\n\r\n    @ApiModelProperty(hidden=true)\r\n    @Column(name = &quot;created&quot;)\r\n    private String created = new DateTime().toDateTimeISO().toString();\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;clinic&quot;, cascade = CascadeType.MERGE)\r\n    private Set&lt;Patient&gt; patients = new HashSet&lt;&gt;();\r\n```\r\n\r\nIf I look on swagger POST clinic the model looks like this (which is awesome):\r\n\r\n[![clinic model][1]][1]\r\n\r\n\r\nBut when I look at POST patient, the model looks like this: \r\n\r\n[![patient model][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KL5W4.png\r\n  [2]: https://i.stack.imgur.com/2ZVpM.png\r\n\r\nAlright, so basically my question is, is it possible to hide the &quot;name&quot; property of clinic in the POST patient model? But on the POST clinic model I want to show the name property.\r\n\r\nWhat i&#39;m looking for is someway to traverse down into the clinic object in the patient entity and ignore certain properties.\r\n\r\nThanks in advance!","title":"How to hide property of relational/nested object in swagger-ui?","body":"<p>Is there anyone out there that knows how to hide a certain property of relational/nested object in swagger-ui (springfox)?</p>\n\n<p>Lets say that I have this two classes: </p>\n\n<p><b>Patient Entity</b></p>\n\n<pre><code>@Entity\n@Table(name = \"Patient\")\npublic class Patient extends BaseEntity {\n\n    @Column(name = \"firstName\")\n    private String firstName;\n\n    @Column(name = \"lastName\")\n    private String lastName;\n\n    @Column(name = \"personalNumber\", unique = true)\n    private String personalNumber;\n\n    @ApiModelProperty(hidden=true)\n    @Column(name = \"startDate\")\n    private String startDate = new DateTime().toDateTimeISO().toString();\n\n    @ManyToOne\n    @JoinColumn(name = \"clinicId\")\n    private Clinic clinic;\n</code></pre>\n\n<p><b>Clinic Entity</b></p>\n\n<pre><code>@Table(name = \"Clinic\")\npublic class Clinic extends BaseEntity {\n\n    @Column(name = \"name\")\n    private String name;\n\n    @ApiModelProperty(hidden=true)\n    @Column(name = \"clinicNumber\", unique = true)\n    private String clinicNumber = UUID.randomUUID().toString();\n\n    @ApiModelProperty(hidden=true)\n    @Column(name = \"created\")\n    private String created = new DateTime().toDateTimeISO().toString();\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"clinic\", cascade = CascadeType.MERGE)\n    private Set&lt;Patient&gt; patients = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>If I look on swagger POST clinic the model looks like this (which is awesome):</p>\n\n<p><a href=\"https://i.stack.imgur.com/KL5W4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KL5W4.png\" alt=\"clinic model\"></a></p>\n\n<p>But when I look at POST patient, the model looks like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/2ZVpM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ZVpM.png\" alt=\"patient model\"></a></p>\n\n<p>Alright, so basically my question is, is it possible to hide the \"name\" property of clinic in the POST patient model? But on the POST clinic model I want to show the name property.</p>\n\n<p>What i'm looking for is someway to traverse down into the clinic object in the patient entity and ignore certain properties.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1637429193,"post_id":70048125,"comment_id":123826064,"body_markdown":"You&#39;ve included a picture of the JSON tree in your question. Please replace that with the actual JSON as text, which you can easily get by clicking the Export JSON link in the overflow menu (⠇) of [your Firebase Database console](https://console.firebase.google.com/project/_/database/data/). Having the JSON as text makes it searchable, allows us to easily use it to test with your actual data and use it in our answer and in general is just a Good Thing to do.","body":"You&#39;ve included a picture of the JSON tree in your question. Please replace that with the actual JSON as text, which you can easily get by clicking the Export JSON link in the overflow menu (⠇) of <a href=\"https://console.firebase.google.com/project/_/database/data/\" rel=\"nofollow noreferrer\">your Firebase Database console</a>. Having the JSON as text makes it searchable, allows us to easily use it to test with your actual data and use it in our answer and in general is just a Good Thing to do."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1637429311,"post_id":70048125,"comment_id":123826087,"body_markdown":"It is normal that the first data load takes longer than subsequent data loads, as the SDK needs to find the server and establish the connection to the server. If you think you&#39;re seeing unreasonable load times beyond that, please edit your question to show what you measured.","body":"It is normal that the first data load takes longer than subsequent data loads, as the SDK needs to find the server and establish the connection to the server. If you think you&#39;re seeing unreasonable load times beyond that, please edit your question to show what you measured."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1637453353,"post_id":70048125,"comment_id":123830920,"body_markdown":"1) Instead of telling is that it takes a minute, measure the exact time in your code and then log it. If you then include both the updated code and its output in your question, we&#39;ll all be looking at the same thing. 2) Also make sure to include other details that we can&#39;t know. How much JSON data is being loaded? What is the bandwidth of the device that you test this on? How much faster is it when you retrieve the same data the second time? Are there any relevant message showing in your logcat output when the data is being loaded?","body":"1) Instead of telling is that it takes a minute, measure the exact time in your code and then log it. If you then include both the updated code and its output in your question, we&#39;ll all be looking at the same thing. 2) Also make sure to include other details that we can&#39;t know. How much JSON data is being loaded? What is the bandwidth of the device that you test this on? How much faster is it when you retrieve the same data the second time? Are there any relevant message showing in your logcat output when the data is being loaded?"},{"owner":{"account_id":22923883,"reputation":1,"user_id":17059304,"display_name":"Ibrahim Abdo"},"score":0,"creation_date":1637521064,"post_id":70048125,"comment_id":123842515,"body_markdown":"Hi, In fact the application is installed at 60 users and they are using it  and complain from the duration of the load,! &gt;&gt;&gt;Data is often downloaded quickly","body":"Hi, In fact the application is installed at 60 users and they are using it  and complain from the duration of the load,! &gt;&gt;&gt;Data is often downloaded quickly"},{"owner":{"account_id":22923883,"reputation":1,"user_id":17059304,"display_name":"Ibrahim Abdo"},"score":0,"creation_date":1637523975,"post_id":70048125,"comment_id":123843232,"body_markdown":"see the question i edited it.","body":"see the question i edited it."},{"owner":{"account_id":22923883,"reputation":1,"user_id":17059304,"display_name":"Ibrahim Abdo"},"score":0,"creation_date":1637526723,"post_id":70048125,"comment_id":123843914,"body_markdown":"i found this message:         2021-11-21 23:26:36.393 20414-22248/com.ibkh.contactsapp W/PersistentConnection: pc_0 - Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding &#39;&quot;.indexOn&quot;: &quot;name&quot;&#39; at contacts/-MojA-Y5-7QzeH6Olmqs to your security and Firebase Database rules for better performance","body":"i found this message:         2021-11-21 23:26:36.393 20414-22248/com.ibkh.contactsapp W/PersistentConnection: pc_0 - Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding &#39;&quot;.indexOn&quot;: &quot;name&quot;&#39; at contacts/-MojA-Y5-7QzeH6Olmqs to your security and Firebase Database rules for better performance"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1637528549,"post_id":70048125,"comment_id":123844314,"body_markdown":"So, did you add that `.indexOn` yet? Or [search for the message](https://stackoverflow.com/search?q=%5Bfirebase-realtime-database%5D+Using+an+unspecified+index.+Your+data+will+be+downloaded+and+filtered+on+the+client.+Consider+adding+%27%22.indexOn%22), which should quickly lead you to a solution, such as: https://stackoverflow.com/a/50469625","body":"So, did you add that <code>.indexOn</code> yet? Or <a href=\"https://stackoverflow.com/search?q=%5Bfirebase-realtime-database%5D+Using+an+unspecified+index.+Your+data+will+be+downloaded+and+filtered+on+the+client.+Consider+adding+%27%22.indexOn%22\">search for the message</a>, which should quickly lead you to a solution, such as: <a href=\"https://stackoverflow.com/a/50469625\">stackoverflow.com/a/50469625</a>"},{"owner":{"account_id":22923883,"reputation":1,"user_id":17059304,"display_name":"Ibrahim Abdo"},"score":0,"creation_date":1637590053,"post_id":70048125,"comment_id":123859389,"body_markdown":"I added it, But nothing has changed, query become fast when i use  . LimitToFirst(5), i need to query all not limited.","body":"I added it, But nothing has changed, query become fast when i use  . LimitToFirst(5), i need to query all not limited."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1637593934,"post_id":70048125,"comment_id":123861173,"body_markdown":"If loading the data still takes long even after adding the index, you&#39;re loading too much data for the connection speed.","body":"If loading the data still takes long even after adding the index, you&#39;re loading too much data for the connection speed."}],"owner":{"account_id":22923883,"reputation":1,"user_id":17059304,"display_name":"Ibrahim Abdo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637528562,"answer_count":0,"score":0,"last_activity_date":1637523866,"creation_date":1637428126,"question_id":70048125,"body_markdown":"i have 30000 data in my realtime database ,the query takes a long time in first after that it being  fast.\r\n\r\nmy rules:\r\n\r\n    {\r\n      &quot;rules&quot;: {\r\n        &quot;iBkHop2321&quot;:{\r\n          &quot;$uid&quot;:{\r\n            &quot;.read&quot;: &quot;false&quot;,\r\n              &quot;.write&quot;: &quot;true&quot;\r\n          }\r\n        },\r\n          &quot;contacts&quot;:{\r\n            &quot;.read&quot;:&quot;root.child(&#39;iBkHop2321&#39;).child(auth.uid).val() === true&quot;,\r\n              &quot;.write&quot;:&quot;root.child(&#39;iBkHop2321&#39;).child(auth.uid).val() === true&quot;\r\n          }   \r\n    }\r\n    } \r\n\r\nmy data:\r\n\r\n    {\r\n      &quot;contacts&quot; : {\r\n        &quot;-Moj9LK306LUDCXIbypG&quot; : {\r\n             &quot;-Moj9LK5rgNYVcD1PJ2S&quot; : {\r\n              &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\r\n              &quot;mobile&quot; : &quot;770966855&quot;,\r\n              &quot;name&quot; : &quot;عبدالله سيلان / فرع اب الشركة&quot;\r\n              },\r\n             &quot;-Moj9LKEZgZqu8tyW-4c&quot; : {\r\n              &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\r\n              &quot;mobile&quot; : &quot;711237507&quot;,\r\n              &quot;name&quot; : &quot;عبد الملك عمر / الهلال للصرافة تعز&quot;\r\n             },\r\n             &quot;-Moj9LKFmA0E6jJMuWfD&quot; : {\r\n              &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\r\n              &quot;mobile&quot; : &quot;711290007&quot;,\r\n              &quot;name&quot; : &quot;احمد هاشم /ايتي عدن للصرافة&quot;\r\n             },\r\n    \t     .\r\n    \t     .\r\n    \t     .\r\n    \t&quot;-MopGM8c8Fosxb0WKJpx&quot; : {\r\n    \t     .\r\n    \t\t . \r\n    \t}\r\n    \t.\r\n    \t.\r\n      &quot;iBkHop2321&quot; : {\r\n        &quot;026Z0V8ad8MnJtnfn9qt6atgMWS2&quot; : true,\r\n        &quot;0CDjvZBoWNO0zAxg8qt9M4n4Lgg2&quot; : true,\r\n        &quot;10sILZEGXnP4v1kYwaeiFUZ1Ziw2&quot; : true,\r\n        &quot;1QBZjbO5vmSNmmYwDcNmmpJ0AdN2&quot; : true,\r\n        &quot;1p0dUGTEChXIqk0PfSZYVcPsSRD3&quot; : true,\r\n        &quot;1ur5x65ZIeUpT38FTt1oZ6ICG383&quot; : true,\r\n         .\r\n         .\r\n         .\r\n         .\t\r\n    }\r\n\r\n\r\n  \r\n\r\nand this the query:\r\n\r\n    public void newSearch(String mobile){\r\n        ListView listView = findViewById(R.id.contactsList);\r\n        ArrayList&lt;Contacts&gt; arrayList = new ArrayList&lt;&gt;();\r\n        ArrayContacts arrayContacts = new ArrayContacts(MainActivity.this, arrayList);\r\n        listView.setAdapter(arrayContacts);\r\n        showProgressDialogWithTitle(&quot;يرجى الانتظار&quot;);\r\n        myRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                arrayList.clear();\r\n                for(DataSnapshot ds : snapshot.getChildren()){\r\n                    String uidKey  = ds.getKey();\r\n                    assert uidKey != null;\r\n                    DatabaseReference ref = myRef.child(uidKey);\r\n                    Query query=ref.orderByChild(&quot;mobile&quot;).startAt(mobile).endAt(mobile+&quot;\\uf8ff&quot;).limitToFirst(20);\r\n                    query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            if (snapshot.exists()) {\r\n\r\n                                for (DataSnapshot snapshot1 : snapshot.getChildren()) {\r\n                                    Contacts value = snapshot1.getValue(Contacts.class);\r\n                                    arrayList.add(value);\r\n                                }\r\n                                ArrayContacts arrayContacts = new ArrayContacts(MainActivity.this, arrayList);\r\n                                listView.setAdapter(arrayContacts);\r\n                                hideProgressDialogWithTitle();\r\n\r\n                            }\r\n                            else {\r\n                                hideProgressDialogWithTitle();\r\n                            }\r\n\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n                            Toast.makeText(MainActivity.this, &quot;children cancel&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MainActivity.this, &quot;parent cancel&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nwhen i lunch the app the Query is very slow after that the Query becomes very fast!\r\n\r\nplease help me  \r\n\r\n**Edit:**\r\nthe first data load takes longer than one min is this normal?\r\nIs my tree good and my rules?\r\n","title":"query in firebase realtime database is very slow","body":"<p>i have 30000 data in my realtime database ,the query takes a long time in first after that it being  fast.</p>\n<p>my rules:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;iBkHop2321&quot;:{\n      &quot;$uid&quot;:{\n        &quot;.read&quot;: &quot;false&quot;,\n          &quot;.write&quot;: &quot;true&quot;\n      }\n    },\n      &quot;contacts&quot;:{\n        &quot;.read&quot;:&quot;root.child('iBkHop2321').child(auth.uid).val() === true&quot;,\n          &quot;.write&quot;:&quot;root.child('iBkHop2321').child(auth.uid).val() === true&quot;\n      }   \n}\n} \n</code></pre>\n<p>my data:</p>\n<pre><code>{\n  &quot;contacts&quot; : {\n    &quot;-Moj9LK306LUDCXIbypG&quot; : {\n         &quot;-Moj9LK5rgNYVcD1PJ2S&quot; : {\n          &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\n          &quot;mobile&quot; : &quot;770966855&quot;,\n          &quot;name&quot; : &quot;عبدالله سيلان / فرع اب الشركة&quot;\n          },\n         &quot;-Moj9LKEZgZqu8tyW-4c&quot; : {\n          &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\n          &quot;mobile&quot; : &quot;711237507&quot;,\n          &quot;name&quot; : &quot;عبد الملك عمر / الهلال للصرافة تعز&quot;\n         },\n         &quot;-Moj9LKFmA0E6jJMuWfD&quot; : {\n          &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\n          &quot;mobile&quot; : &quot;711290007&quot;,\n          &quot;name&quot; : &quot;احمد هاشم /ايتي عدن للصرافة&quot;\n         },\n         .\n         .\n         .\n    &quot;-MopGM8c8Fosxb0WKJpx&quot; : {\n         .\n         . \n    }\n    .\n    .\n  &quot;iBkHop2321&quot; : {\n    &quot;026Z0V8ad8MnJtnfn9qt6atgMWS2&quot; : true,\n    &quot;0CDjvZBoWNO0zAxg8qt9M4n4Lgg2&quot; : true,\n    &quot;10sILZEGXnP4v1kYwaeiFUZ1Ziw2&quot; : true,\n    &quot;1QBZjbO5vmSNmmYwDcNmmpJ0AdN2&quot; : true,\n    &quot;1p0dUGTEChXIqk0PfSZYVcPsSRD3&quot; : true,\n    &quot;1ur5x65ZIeUpT38FTt1oZ6ICG383&quot; : true,\n     .\n     .\n     .\n     .  \n}\n</code></pre>\n<p>and this the query:</p>\n<pre><code>public void newSearch(String mobile){\n    ListView listView = findViewById(R.id.contactsList);\n    ArrayList&lt;Contacts&gt; arrayList = new ArrayList&lt;&gt;();\n    ArrayContacts arrayContacts = new ArrayContacts(MainActivity.this, arrayList);\n    listView.setAdapter(arrayContacts);\n    showProgressDialogWithTitle(&quot;يرجى الانتظار&quot;);\n    myRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            arrayList.clear();\n            for(DataSnapshot ds : snapshot.getChildren()){\n                String uidKey  = ds.getKey();\n                assert uidKey != null;\n                DatabaseReference ref = myRef.child(uidKey);\n                Query query=ref.orderByChild(&quot;mobile&quot;).startAt(mobile).endAt(mobile+&quot;\\uf8ff&quot;).limitToFirst(20);\n                query.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        if (snapshot.exists()) {\n\n                            for (DataSnapshot snapshot1 : snapshot.getChildren()) {\n                                Contacts value = snapshot1.getValue(Contacts.class);\n                                arrayList.add(value);\n                            }\n                            ArrayContacts arrayContacts = new ArrayContacts(MainActivity.this, arrayList);\n                            listView.setAdapter(arrayContacts);\n                            hideProgressDialogWithTitle();\n\n                        }\n                        else {\n                            hideProgressDialogWithTitle();\n                        }\n\n\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n                        Toast.makeText(MainActivity.this, &quot;children cancel&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n\n            }\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            Toast.makeText(MainActivity.this, &quot;parent cancel&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n<p>when i lunch the app the Query is very slow after that the Query becomes very fast!</p>\n<p>please help me</p>\n<p><strong>Edit:</strong>\nthe first data load takes longer than one min is this normal?\nIs my tree good and my rules?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1637513140,"post_id":70056571,"comment_id":123840437,"body_markdown":"This kind of questions is about optimizing running code. That&#39;s why it is better aked at [codereview.SE]","body":"This kind of questions is about optimizing running code. That&#39;s why it is better aked at <a href=\"https://codereview.stackexchange.com\">Code Review</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1637513155,"post_id":70056571,"comment_id":123840441,"body_markdown":"Add a method to `DreamObjects` that takes a `player` instance. Move this logic to that new method. `DreamObjects` should be responsible for the logic that happens based on the `DreamObjects` type.","body":"Add a method to <code>DreamObjects</code> that takes a <code>player</code> instance. Move this logic to that new method. <code>DreamObjects</code> should be responsible for the logic that happens based on the <code>DreamObjects</code> type."},{"owner":{"account_id":15611817,"reputation":27,"user_id":11263029,"display_name":"Diyon335"},"score":0,"creation_date":1637516444,"post_id":70056571,"comment_id":123841352,"body_markdown":"Ah thank you for letting me know @Jens. I will post there next time","body":"Ah thank you for letting me know @Jens. I will post there next time"}],"answers":[{"tags":[],"owner":{"account_id":41263,"reputation":3490,"user_id":119855,"accept_rate":96,"display_name":"Georg Leber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637513975,"creation_date":1637513975,"answer_id":70056721,"question_id":70056571,"body_markdown":"I would extract just the indices in the switch and put everything else in a generic method. You have to define valid initial values for playerX/playerY and dreamLocationX/dreamLocationY:\r\n\r\n    //returns location as [row, col]\r\n    int[] tempLocation = player.getObjectLocation();\r\n\r\n    int playerX = -1;\r\n    int playerY = -1;\r\n    int dreamLocationX = -1;\r\n    int dreamLocationY = -1;\r\n\r\n    switch (direction) {\r\n        case NORTH:\r\n            playerX = tempLocation[0] - 1;\r\n            playerY = tempLocation[1];\r\n            dreamLocationX = -1;\r\n            dreamLocationY = 0;\r\n            break;\r\n        case EAST:\r\n            playerX = tempLocation[0];\r\n            playerY = tempLocation[1] + 1;\r\n            dreamLocationX = 0;\r\n            dreamLocationY = 1;\r\n            break;\r\n        case SOUTH:\r\n            playerX = tempLocation[0] + 1;\r\n            playerY = tempLocation[1];\r\n            dreamLocationX = 1;\r\n            dreamLocationY = 0;\r\n            break;\r\n        case WEST:\r\n            playerX = tempLocation[0];\r\n            playerY = tempLocation[1] - 1;\r\n            dreamLocationX = 0;\r\n            dreamLocationY = -1;\r\n            break;\r\n    }\r\n\r\n    if (getObjectAt(playerX, playerY) instanceof Space) {\r\n        this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\r\n        this.world[playerX][playerY] = player;\r\n        player.changeDreamLocation(dreamLocationX, dreamLocationY);\r\n    }","title":"Is there an easier/generic way of implementing this switch statement?","body":"<p>I would extract just the indices in the switch and put everything else in a generic method. You have to define valid initial values for playerX/playerY and dreamLocationX/dreamLocationY:</p>\n<pre><code>//returns location as [row, col]\nint[] tempLocation = player.getObjectLocation();\n\nint playerX = -1;\nint playerY = -1;\nint dreamLocationX = -1;\nint dreamLocationY = -1;\n\nswitch (direction) {\n    case NORTH:\n        playerX = tempLocation[0] - 1;\n        playerY = tempLocation[1];\n        dreamLocationX = -1;\n        dreamLocationY = 0;\n        break;\n    case EAST:\n        playerX = tempLocation[0];\n        playerY = tempLocation[1] + 1;\n        dreamLocationX = 0;\n        dreamLocationY = 1;\n        break;\n    case SOUTH:\n        playerX = tempLocation[0] + 1;\n        playerY = tempLocation[1];\n        dreamLocationX = 1;\n        dreamLocationY = 0;\n        break;\n    case WEST:\n        playerX = tempLocation[0];\n        playerY = tempLocation[1] - 1;\n        dreamLocationX = 0;\n        dreamLocationY = -1;\n        break;\n}\n\nif (getObjectAt(playerX, playerY) instanceof Space) {\n    this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\n    this.world[playerX][playerY] = player;\n    player.changeDreamLocation(dreamLocationX, dreamLocationY);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637523616,"creation_date":1637522736,"answer_id":70057875,"question_id":70056571,"body_markdown":"Since your direction constants don&#39;t change, and you&#39;re already using an `enum`, why not just assign those constants for each `enum` value? Then you don&#39;t even need a switch statement.\r\n```\r\nenum Direction {NORTH(-1, 0), SOUTH(1,0), EAST(0, 1), WEST(0,-1);\r\n\tprivate int x;\r\n\tprivate int y;\r\n\tprivate Direction (int x, int y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\tpublic int getX() {\r\n\t\treturn x;\r\n\t}\r\n\tpublic int getY() {\r\n\t\treturn y;\r\n\t}\r\n}\r\n```\r\nAt this point you already have `direction` so `getX()` and `getY()` will have the appropriate offsets for the current direction.\r\n\r\n```\r\nint[] tempLocation = player.getObjectLocation();\r\nint playerX = tempLocation[0] + direction.getX();\r\nint playerY = tempLocation[1] + direction.getY();\r\nint dreamLocationX = direction.getX();\r\nint dreamLocationY = direction.getY();\r\n       \r\n\t\r\nif (getObjectAt(playerX, playerY) instanceof Space) {\r\n    this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\r\n    this.world[playerX][playerY] = player;\r\n    player.changeDreamLocation(dreamLocationX, dreamLocationY);\r\n}\r\n```\r\nIn the above example, all you need to do is add the x or y since they are signed values.  You should probably check my constant assignments in the enum, but you get the idea.       \r\n","title":"Is there an easier/generic way of implementing this switch statement?","body":"<p>Since your direction constants don't change, and you're already using an <code>enum</code>, why not just assign those constants for each <code>enum</code> value? Then you don't even need a switch statement.</p>\n<pre><code>enum Direction {NORTH(-1, 0), SOUTH(1,0), EAST(0, 1), WEST(0,-1);\n    private int x;\n    private int y;\n    private Direction (int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n    public int getX() {\n        return x;\n    }\n    public int getY() {\n        return y;\n    }\n}\n</code></pre>\n<p>At this point you already have <code>direction</code> so <code>getX()</code> and <code>getY()</code> will have the appropriate offsets for the current direction.</p>\n<pre><code>int[] tempLocation = player.getObjectLocation();\nint playerX = tempLocation[0] + direction.getX();\nint playerY = tempLocation[1] + direction.getY();\nint dreamLocationX = direction.getX();\nint dreamLocationY = direction.getY();\n       \n    \nif (getObjectAt(playerX, playerY) instanceof Space) {\n    this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\n    this.world[playerX][playerY] = player;\n    player.changeDreamLocation(dreamLocationX, dreamLocationY);\n}\n</code></pre>\n<p>In the above example, all you need to do is add the x or y since they are signed values.  You should probably check my constant assignments in the enum, but you get the idea.</p>\n"}],"owner":{"account_id":15611817,"reputation":27,"user_id":11263029,"display_name":"Diyon335"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70057875,"answer_count":2,"score":0,"last_activity_date":1637523616,"creation_date":1637512967,"question_id":70056571,"body_markdown":"I am making a small game in which a Player object is able to move around a 2x2 matrix of other objects (DreamObjects, in this context). The Player is able to move onto Space objects. I will later implement other objects; but all extend the parent DreamObject. Now, to implement movement of my Player, I have to always check if the object infront of it is an instance of a certain object. In the code shown below, for each direction the player intends to move in, I check if the object there is an instance of Space; if it is, I swap their locations and update the world. In the future I will add Monsters, stationary objects and etc. The problem I am encountering is the fact that I will repeat a lot of code with the only difference being how I apply arithmetic on the row and columns depending on direction of movement. I was thinking of applying a Generic class, but I am not seeing the implementation since the operation is different for each Direction enum. What do you think? Is there a better way I am not seeing?\r\n\r\n```\r\n//returns location as [row, col]\r\nint[] tempLocation = player.getObjectLocation();\r\n\r\nswitch (direction){\r\n                    case NORTH -&gt; {\r\n                        if (getObjectAt(tempLocation[0] - 1, tempLocation[1]) instanceof Space){\r\n                            this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\r\n                            this.world[tempLocation[0]-1][tempLocation[1]] = player;\r\n                            player.changeDreamLocation(-1,0);\r\n                        }\r\n                    }\r\n                    case EAST -&gt; {\r\n                        if (getObjectAt(tempLocation[0], tempLocation[1] + 1) instanceof Space){\r\n                            this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\r\n                            this.world[tempLocation[0]][tempLocation[1] + 1] = player;\r\n                            player.changeDreamLocation(0,1);\r\n                        }\r\n                    }\r\n                    case SOUTH -&gt; {\r\n                        if (getObjectAt(tempLocation[0] + 1, tempLocation[1]) instanceof Space){\r\n                            this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\r\n                            this.world[tempLocation[0] + 1][tempLocation[1]] = player;\r\n                            player.changeDreamLocation(1,0);\r\n                        }\r\n                    }\r\n                    case WEST -&gt; {\r\n                        if (getObjectAt(tempLocation[0], tempLocation[1] - 1) instanceof Space){\r\n                            this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\r\n                            this.world[tempLocation[0]][tempLocation[1] - 1] = player;\r\n                            player.changeDreamLocation(0,-1);\r\n                        }\r\n                    }\r\n                }\r\n``` ","title":"Is there an easier/generic way of implementing this switch statement?","body":"<p>I am making a small game in which a Player object is able to move around a 2x2 matrix of other objects (DreamObjects, in this context). The Player is able to move onto Space objects. I will later implement other objects; but all extend the parent DreamObject. Now, to implement movement of my Player, I have to always check if the object infront of it is an instance of a certain object. In the code shown below, for each direction the player intends to move in, I check if the object there is an instance of Space; if it is, I swap their locations and update the world. In the future I will add Monsters, stationary objects and etc. The problem I am encountering is the fact that I will repeat a lot of code with the only difference being how I apply arithmetic on the row and columns depending on direction of movement. I was thinking of applying a Generic class, but I am not seeing the implementation since the operation is different for each Direction enum. What do you think? Is there a better way I am not seeing?</p>\n<pre><code>//returns location as [row, col]\nint[] tempLocation = player.getObjectLocation();\n\nswitch (direction){\n                    case NORTH -&gt; {\n                        if (getObjectAt(tempLocation[0] - 1, tempLocation[1]) instanceof Space){\n                            this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\n                            this.world[tempLocation[0]-1][tempLocation[1]] = player;\n                            player.changeDreamLocation(-1,0);\n                        }\n                    }\n                    case EAST -&gt; {\n                        if (getObjectAt(tempLocation[0], tempLocation[1] + 1) instanceof Space){\n                            this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\n                            this.world[tempLocation[0]][tempLocation[1] + 1] = player;\n                            player.changeDreamLocation(0,1);\n                        }\n                    }\n                    case SOUTH -&gt; {\n                        if (getObjectAt(tempLocation[0] + 1, tempLocation[1]) instanceof Space){\n                            this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\n                            this.world[tempLocation[0] + 1][tempLocation[1]] = player;\n                            player.changeDreamLocation(1,0);\n                        }\n                    }\n                    case WEST -&gt; {\n                        if (getObjectAt(tempLocation[0], tempLocation[1] - 1) instanceof Space){\n                            this.world[tempLocation[0]][tempLocation[1]] = new Space(player.getDreamLocation());\n                            this.world[tempLocation[0]][tempLocation[1] - 1] = player;\n                            player.changeDreamLocation(0,-1);\n                        }\n                    }\n                }\n</code></pre>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":7808,"reputation":24390,"user_id":13687,"display_name":"John Gardner"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1377647687,"creation_date":1231931118,"answer_id":442599,"question_id":442463,"body_markdown":"IndexReader contains the methods you need, in particular, numDocs\r\n\r\nhttp://lucene.apache.org/core/3_6_0/api/all/org/apache/lucene/index/IndexReader.html#numDocs()\r\n\r\n","title":"Finding the number of documents in a Lucene index","body":"<p>IndexReader contains the methods you need, in particular, numDocs</p>\n\n<p><a href=\"http://lucene.apache.org/core/3_6_0/api/all/org/apache/lucene/index/IndexReader.html#numDocs()\" rel=\"noreferrer\">http://lucene.apache.org/core/3_6_0/api/all/org/apache/lucene/index/IndexReader.html#numDocs()</a></p>\n"},{"tags":[],"owner":{"account_id":1207,"reputation":19992,"user_id":1605,"accept_rate":100,"display_name":"Avi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1231932695,"creation_date":1231932695,"answer_id":442649,"question_id":442463,"body_markdown":"The official documentation:\r\n[http://lucene.apache.org/java/2_4_0/api/org/apache/lucene/index/IndexReader.html#numDocs()][1]\r\n\r\n\r\n  [1]: http://lucene.apache.org/java/2_4_0/api/org/apache/lucene/index/IndexReader.html#numDocs()","title":"Finding the number of documents in a Lucene index","body":"<p>The official documentation:\n<a href=\"http://lucene.apache.org/java/2_4_0/api/org/apache/lucene/index/IndexReader.html#numDocs()\" rel=\"nofollow noreferrer\">http://lucene.apache.org/java/2_4_0/api/org/apache/lucene/index/IndexReader.html#numDocs()</a></p>\n"},{"tags":[],"owner":{"account_id":2177723,"reputation":343,"user_id":1927997,"display_name":"userPS"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1356429265,"creation_date":1356429265,"answer_id":14029561,"question_id":442463,"body_markdown":"Using java you can find the number of documents like this : \r\n      \r\n    IndexReader reader = IndexReader.open(FSDirectory.open(indexDirectory));\r\n    System.out.println(reader.maxDoc()); //this will give ya what you need.","title":"Finding the number of documents in a Lucene index","body":"<p>Using java you can find the number of documents like this : </p>\n\n<pre><code>IndexReader reader = IndexReader.open(FSDirectory.open(indexDirectory));\nSystem.out.println(reader.maxDoc()); //this will give ya what you need.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1821852,"reputation":447,"user_id":1655737,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485922270,"creation_date":1485850036,"answer_id":41952546,"question_id":442463,"body_markdown":"When using Hibernate Search, it is possible to obtain a Lucene `IndexReader` instance through the Hibernate Search API and then use `reader.numDocs()` as already mentioned in previous answers.\r\n\r\n    FullTextEntityManager fullTextEntityManager = org.hibernate.search.jpa.Search.getFullTextEntityManager(get‌​EntityManager());\r\n    IndexReader reader = fullTextEntityManager.getSearchFactory().getIndexReaderAcces‌​sor().open(MyEntity1‌​.class, MyEntity2.class ...);\r\n    int numDocs = reader.numDocs();","title":"Finding the number of documents in a Lucene index","body":"<p>When using Hibernate Search, it is possible to obtain a Lucene <code>IndexReader</code> instance through the Hibernate Search API and then use <code>reader.numDocs()</code> as already mentioned in previous answers.</p>\n\n<pre><code>FullTextEntityManager fullTextEntityManager = org.hibernate.search.jpa.Search.getFullTextEntityManager(get‌​EntityManager());\nIndexReader reader = fullTextEntityManager.getSearchFactory().getIndexReaderAcces‌​sor().open(MyEntity1‌​.class, MyEntity2.class ...);\nint numDocs = reader.numDocs();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637498921,"creation_date":1637498921,"answer_id":70054671,"question_id":442463,"body_markdown":"With recent Lucene version using an [IndexReader][1] the following Kotlin snippet does the job:\r\n\r\n```kotlin\r\nDirectoryReader.open(directory).use { reader -&gt;\r\n    println(reader.numDocs())\r\n}\r\n```\r\n\r\nwhere `directory` is an instance of [Directory][2] containing the index.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://lucene.apache.org/core/8_11_0//core/index.html?org/apache/lucene/index/IndexReader.html\r\n  [2]: https://lucene.apache.org/core/8_11_0//core/org/apache/lucene/store/Directory.html","title":"Finding the number of documents in a Lucene index","body":"<p>With recent Lucene version using an <a href=\"https://lucene.apache.org/core/8_11_0//core/index.html?org/apache/lucene/index/IndexReader.html\" rel=\"nofollow noreferrer\">IndexReader</a> the following Kotlin snippet does the job:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>DirectoryReader.open(directory).use { reader -&gt;\n    println(reader.numDocs())\n}\n</code></pre>\n<p>where <code>directory</code> is an instance of <a href=\"https://lucene.apache.org/core/8_11_0//core/org/apache/lucene/store/Directory.html\" rel=\"nofollow noreferrer\">Directory</a> containing the index.</p>\n"}],"owner":{"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11354,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":442599,"answer_count":5,"score":12,"last_activity_date":1637523154,"creation_date":1231927205,"question_id":442463,"body_markdown":"Using the Java version of Lucene, how would you find out the number of documents in an index?","title":"Finding the number of documents in a Lucene index","body":"<p>Using the Java version of Lucene, how would you find out the number of documents in an index?</p>\n"},{"tags":["java","testng","dataprovider","testng-dataprovider","data-driven-tests"],"answers":[{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637312257,"creation_date":1637312257,"answer_id":70032204,"question_id":70031245,"body_markdown":"Your test method expects `UserData` as argument. But you dataprovider is providing `String, String, String`. In the data provider method, you are passing the values of the `UserData` into the object array instead of passing the `UserData` object itself.\r\n\r\nIn the data provider method, what you have to do is that, put each `UserData` object in a single `Object[]`, which would be combined to a `Object[][]`.\r\n\r\n```java\r\nreturn csv_objectList.stream()\r\n                     .map(user -&gt; new Object[]{ user }) // this array represents a single test case\r\n                     .toArray(Object[][]::new);\r\n```","title":"Csv data pass Test method","body":"<p>Your test method expects <code>UserData</code> as argument. But you dataprovider is providing <code>String, String, String</code>. In the data provider method, you are passing the values of the <code>UserData</code> into the object array instead of passing the <code>UserData</code> object itself.</p>\n<p>In the data provider method, what you have to do is that, put each <code>UserData</code> object in a single <code>Object[]</code>, which would be combined to a <code>Object[][]</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return csv_objectList.stream()\n                     .map(user -&gt; new Object[]{ user }) // this array represents a single test case\n                     .toArray(Object[][]::new);\n</code></pre>\n"}],"owner":{"account_id":12319927,"reputation":29,"user_id":8989471,"display_name":"lahiru dilruwan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70032204,"answer_count":1,"score":1,"last_activity_date":1637523114,"creation_date":1637306892,"question_id":70031245,"body_markdown":"I try to pass CSV data to my test method.\r\n\r\nThis is my code: CSV file has 3 columns:\r\n\r\n1. TestNumber\r\n2. email\r\n3. FirstName\r\n\r\nUserData.java\r\n\r\n    public class UserData {\r\n        private String TestNumber;\r\n        private String email;\r\n        private String FirstName;\r\n        \r\n        //Getters and Setters\r\n    \r\n    }\r\n\r\nDataprovider class:\r\n\r\n     @DataProvider(name = &quot;customer&quot; )\r\n       public static Object[][] getFilterValues() throws InvalidFormatException, IOException, InterruptedException, CsvException {\r\n            CSVReader reader= new CSVReaderBuilder(new FileReader(&quot;/home/dell/scripts/TEST/Automation - CSV/src/TestData/User.csv&quot;)).\r\n                    withSkipLines(1).\r\n                    build();\r\n    \r\n            List&lt;UserData&gt; csv_objectList=reader.readAll().stream().map(data-&gt; {\r\n                UserData csvObject= new UserData();\r\n                csvObject.setTestNumber(data[0]);\r\n                csvObject.setEmail(data[1]);\r\n                csvObject.setFirstName(data[2]);\r\n                return csvObject;\r\n            }).collect(Collectors.toList());\r\n    \r\n    \r\n            UserData[] cellData = csv_objectList.toArray(new UserData[csv_objectList.size()]);\r\n            Object[][] data = new Object[cellData.length][3];\r\n    \r\n            for(int i = 0; i &lt;cellData.length; i++) {\r\n    \r\n                data[i][0] = cellData[i].getTestNumber();\r\n                data[i][1] = cellData[i].getEmail();\r\n                data[i][2] = cellData[i].getFirstName();\r\n    \r\n    \r\n            }\r\n           \r\n            return data;\r\n        }\r\n\r\nTest method:\r\n\r\n```java\r\npublic class UserCreate extends Base {\r\n\r\n    @Test( dataProvider = &quot;customer&quot;, dataProviderClass = GetUserData.class)\r\n    public  void   UserCreate (UserData data) throws FileNotFoundException {\r\n\r\n        System.out.println(data.getTestNumber());\r\n    }\r\n}\r\n```\r\n\r\nI tried this way to pass data. But I get this error:    \r\n\r\n```\r\n[public void api.wapp.registation.UserCreate.UserCreate(utilities.UserData) throws java.io.FileNotFoundException] has no parameters defined but was found to be using a data provider (either explicitly specified or inherited from class level annotation).\r\nData provider mismatch\r\nMethod: UserCreate([Parameter{index=0, type=utilities.UserData, declaredAnnotations=[]}])\r\nArguments: [(utilities.UserData) utilities.UserData@301ec38b,null,null]\r\n```","title":"Csv data pass Test method","body":"<p>I try to pass CSV data to my test method.</p>\n<p>This is my code: CSV file has 3 columns:</p>\n<ol>\n<li>TestNumber</li>\n<li>email</li>\n<li>FirstName</li>\n</ol>\n<p>UserData.java</p>\n<pre><code>public class UserData {\n    private String TestNumber;\n    private String email;\n    private String FirstName;\n    \n    //Getters and Setters\n\n}\n</code></pre>\n<p>Dataprovider class:</p>\n<pre><code> @DataProvider(name = &quot;customer&quot; )\n   public static Object[][] getFilterValues() throws InvalidFormatException, IOException, InterruptedException, CsvException {\n        CSVReader reader= new CSVReaderBuilder(new FileReader(&quot;/home/dell/scripts/TEST/Automation - CSV/src/TestData/User.csv&quot;)).\n                withSkipLines(1).\n                build();\n\n        List&lt;UserData&gt; csv_objectList=reader.readAll().stream().map(data-&gt; {\n            UserData csvObject= new UserData();\n            csvObject.setTestNumber(data[0]);\n            csvObject.setEmail(data[1]);\n            csvObject.setFirstName(data[2]);\n            return csvObject;\n        }).collect(Collectors.toList());\n\n\n        UserData[] cellData = csv_objectList.toArray(new UserData[csv_objectList.size()]);\n        Object[][] data = new Object[cellData.length][3];\n\n        for(int i = 0; i &lt;cellData.length; i++) {\n\n            data[i][0] = cellData[i].getTestNumber();\n            data[i][1] = cellData[i].getEmail();\n            data[i][2] = cellData[i].getFirstName();\n\n\n        }\n       \n        return data;\n    }\n</code></pre>\n<p>Test method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserCreate extends Base {\n\n    @Test( dataProvider = &quot;customer&quot;, dataProviderClass = GetUserData.class)\n    public  void   UserCreate (UserData data) throws FileNotFoundException {\n\n        System.out.println(data.getTestNumber());\n    }\n}\n</code></pre>\n<p>I tried this way to pass data. But I get this error:</p>\n<pre><code>[public void api.wapp.registation.UserCreate.UserCreate(utilities.UserData) throws java.io.FileNotFoundException] has no parameters defined but was found to be using a data provider (either explicitly specified or inherited from class level annotation).\nData provider mismatch\nMethod: UserCreate([Parameter{index=0, type=utilities.UserData, declaredAnnotations=[]}])\nArguments: [(utilities.UserData) utilities.UserData@301ec38b,null,null]\n</code></pre>\n"},{"tags":["java","google-cloud-platform","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637505165,"post_id":70051320,"comment_id":123838374,"body_markdown":"The first looks like base64 data. The other is just a byte array... Have you tried using ByteArrayConverter instead of StringConverter? What about JSONConverter since that&#39;s the only converter with the schema enable property you&#39;ve added? (strings don&#39;t have schemas)","body":"The first looks like base64 data. The other is just a byte array... Have you tried using ByteArrayConverter instead of StringConverter? What about JSONConverter since that&#39;s the only converter with the schema enable property you&#39;ve added? (strings don&#39;t have schemas)"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1637506282,"post_id":70051320,"comment_id":123838666,"body_markdown":"I try with all converters(byte,string,Json) and with all of them I still receiving half of the time the proper byte array encoded, and the other time that class name, that I cannot deserialize. Don’t understand why, since I’m sending the same message all the time","body":"I try with all converters(byte,string,Json) and with all of them I still receiving half of the time the proper byte array encoded, and the other time that class name, that I cannot deserialize. Don’t understand why, since I’m sending the same message all the time"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637506564,"post_id":70051320,"comment_id":123838746,"body_markdown":"The json converter should at least return data adhering to the schema mentioned here https://docs.confluent.io/kafka-connect-gcp-pubsub/current/overview.html#record-schema","body":"The json converter should at least return data adhering to the schema mentioned here <a href=\"https://docs.confluent.io/kafka-connect-gcp-pubsub/current/overview.html#record-schema\" rel=\"nofollow noreferrer\">docs.confluent.io/kafka-connect-gcp-pubsub/current/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637506644,"post_id":70051320,"comment_id":123838770,"body_markdown":"Also, what exactly are you using to consume?","body":"Also, what exactly are you using to consume?"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1637506779,"post_id":70051320,"comment_id":123838810,"body_markdown":"Apache Kafka consumer with JsonConverter and also I tried with ByteArrayDeserializer","body":"Apache Kafka consumer with JsonConverter and also I tried with ByteArrayDeserializer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1637511778,"post_id":70051320,"comment_id":123840088,"body_markdown":"JSONConverter can&#39;t be used in consumers. ByteArrayDeserializer will definitely always show something like `[B@66976faa`. You should use StringDeserializer, at least, if you&#39;re using StringConverter or JSONConverter in Connect","body":"JSONConverter can&#39;t be used in consumers. ByteArrayDeserializer will definitely always show something like <code>[B@66976faa</code>. You should use StringDeserializer, at least, if you&#39;re using StringConverter or JSONConverter in Connect"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1637511845,"post_id":70051320,"comment_id":123840113,"body_markdown":"Thanks I will try both in Consumer","body":"Thanks I will try both in Consumer"}],"answers":[{"tags":[],"owner":{"account_id":21414747,"reputation":1040,"user_id":15774176,"display_name":"Divyani Yadav"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637523034,"creation_date":1637523034,"answer_id":70057908,"question_id":70051320,"body_markdown":"As mentioned by OneCricketeer :\r\n\r\n&gt; [JSONConverter][1] can&#39;t be used in consumers.\r\n&gt; [ByteArrayDeserializer][2] will definitely always show something like\r\n&gt; `[B@66976faa`. You should use StringDeserializer, at least, if you&#39;re\r\n&gt; using StringConverter or JSONConverter in Connect.\r\n\r\nFor more details on StringDeserializer, you can refer to this [documentation][3].\r\n\r\n\r\n  [1]: https://www.newtonsoft.com/json/help/html/CustomJsonConverter.htm\r\n  [2]: https://kafka.apache.org/0110/javadoc/org/apache/kafka/common/serialization/ByteArrayDeserializer.html\r\n[3]: https://kafka.apache.org/0102/javadoc/org/apache/kafka/common/serialization/StringDeserializer.html\r\n","title":"Google Cloud Platform send weird classes","body":"<p>As mentioned by OneCricketeer :</p>\n<blockquote>\n<p><a href=\"https://www.newtonsoft.com/json/help/html/CustomJsonConverter.htm\" rel=\"nofollow noreferrer\">JSONConverter</a> can't be used in consumers.\n<a href=\"https://kafka.apache.org/0110/javadoc/org/apache/kafka/common/serialization/ByteArrayDeserializer.html\" rel=\"nofollow noreferrer\">ByteArrayDeserializer</a> will definitely always show something like\n<code>[B@66976faa</code>. You should use StringDeserializer, at least, if you're\nusing StringConverter or JSONConverter in Connect.</p>\n</blockquote>\n<p>For more details on StringDeserializer, you can refer to this <a href=\"https://kafka.apache.org/0102/javadoc/org/apache/kafka/common/serialization/StringDeserializer.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637523034,"creation_date":1637460939,"question_id":70051320,"body_markdown":"I&#39;m using `CloudPubSubSourceConnector` to Subscribe to GCP and once I get an event I publish in the Kafka Topic\r\n\r\nHere my GCPKafkaConnect\r\n\r\n\r\n    {\r\n        &quot;connector.class&quot;: &quot;com.google.pubsub.kafka.source.CloudPubSubSourceConnector&quot;,\r\n        &quot;type&quot;: &quot;source&quot;,\r\n        &quot;kafka.topic&quot;: &quot;My-Updates&quot;,\r\n        &quot;key.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\r\n        &quot;value.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\r\n        &quot;value.converter.schemas.enable&quot;: false,\r\n        &quot;errors.tolerance&quot;: &quot;all&quot;,\r\n        &quot;errors.deadletterqueue.topic.name&quot;:&quot;Updates-Failed&quot;,\r\n        &quot;errors.deadletterqueue.context.headers.enable&quot;: true,\r\n        &quot;errors.log.enable&quot;: true,\r\n        &quot;errors.log.include.messages&quot;: true,\r\n        &quot;errors.retry.delay.max.ms&quot;: 60000,\r\n        &quot;errors.retry.timeout&quot;: 300000,\r\n        &quot;cps.subscription&quot;:&quot;hk_subscription&quot;,\r\n        &quot;cps.project&quot;:&quot;hub-dev&quot;,\r\n        &quot;gcp.credentials.file.path&quot;:&quot;/tmp/gcp/gcp.json&quot;,\r\n        &quot;gcp.credentials.json&quot;:&quot;gcp.json&quot;,\r\n        &quot;kafka.partition.count&quot;: 3\r\n      }\r\n\r\n\r\nAll the info that I send with `gcloud` command is encode\r\n\r\n     gcloud pubsub topics publish hk_subscription_pubsub_topic --message=&quot;aGVsbG8gd29ybGQ=&quot;\r\n\r\nThen when I subscribe to the Topic, I dont know why sometimes I receive the encoded text\r\n\r\n    Json encoded string aGVsbG8gd29ybGQ=\r\n\r\nAnd the half of the time,  like a class that cannot be decoded\r\n\r\n    Json encoded string [B@66976faa\r\n\r\nAny idea about this issue?\r\n\r\nRegards.\r\n\r\n\r\n","title":"Google Cloud Platform send weird classes","body":"<p>I'm using <code>CloudPubSubSourceConnector</code> to Subscribe to GCP and once I get an event I publish in the Kafka Topic</p>\n<p>Here my GCPKafkaConnect</p>\n<pre><code>{\n    &quot;connector.class&quot;: &quot;com.google.pubsub.kafka.source.CloudPubSubSourceConnector&quot;,\n    &quot;type&quot;: &quot;source&quot;,\n    &quot;kafka.topic&quot;: &quot;My-Updates&quot;,\n    &quot;key.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\n    &quot;value.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\n    &quot;value.converter.schemas.enable&quot;: false,\n    &quot;errors.tolerance&quot;: &quot;all&quot;,\n    &quot;errors.deadletterqueue.topic.name&quot;:&quot;Updates-Failed&quot;,\n    &quot;errors.deadletterqueue.context.headers.enable&quot;: true,\n    &quot;errors.log.enable&quot;: true,\n    &quot;errors.log.include.messages&quot;: true,\n    &quot;errors.retry.delay.max.ms&quot;: 60000,\n    &quot;errors.retry.timeout&quot;: 300000,\n    &quot;cps.subscription&quot;:&quot;hk_subscription&quot;,\n    &quot;cps.project&quot;:&quot;hub-dev&quot;,\n    &quot;gcp.credentials.file.path&quot;:&quot;/tmp/gcp/gcp.json&quot;,\n    &quot;gcp.credentials.json&quot;:&quot;gcp.json&quot;,\n    &quot;kafka.partition.count&quot;: 3\n  }\n</code></pre>\n<p>All the info that I send with <code>gcloud</code> command is encode</p>\n<pre><code> gcloud pubsub topics publish hk_subscription_pubsub_topic --message=&quot;aGVsbG8gd29ybGQ=&quot;\n</code></pre>\n<p>Then when I subscribe to the Topic, I dont know why sometimes I receive the encoded text</p>\n<pre><code>Json encoded string aGVsbG8gd29ybGQ=\n</code></pre>\n<p>And the half of the time,  like a class that cannot be decoded</p>\n<pre><code>Json encoded string [B@66976faa\n</code></pre>\n<p>Any idea about this issue?</p>\n<p>Regards.</p>\n"},{"tags":["java","kotlin","kotlin-coroutines","kotlin-flow"],"answers":[{"tags":[],"owner":{"account_id":1852692,"reputation":1963,"user_id":1678893,"display_name":"goedi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583785093,"creation_date":1583785093,"answer_id":60607772,"question_id":60605176,"body_markdown":"You don&#39;t need to create a interface in the Kotlin code. You can define bar like that: \r\n\r\n     fun bar(callback: (Int) -&gt; Unit) {\r\n         runBlocking {\r\n             foo().collect { callback(it) }\r\n         }\r\n     }\r\n\r\nFrom the Java code you can call the function like that:\r\n\r\n    public class JavaClass {\r\n    \r\n        public static void main(String[] args) {\r\n            KotlinClass libraryClass = new KotlinClass();\r\n            libraryClass.bar(v -&gt; { System.out.println(v); return Unit.INSTANCE; });\r\n        } \r\n    }","title":"Kotlin Flows Java Interop Callback","body":"<p>You don't need to create a interface in the Kotlin code. You can define bar like that: </p>\n\n<pre><code> fun bar(callback: (Int) -&gt; Unit) {\n     runBlocking {\n         foo().collect { callback(it) }\n     }\n }\n</code></pre>\n\n<p>From the Java code you can call the function like that:</p>\n\n<pre><code>public class JavaClass {\n\n    public static void main(String[] args) {\n        KotlinClass libraryClass = new KotlinClass();\n        libraryClass.bar(v -&gt; { System.out.println(v); return Unit.INSTANCE; });\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12602096,"reputation":5848,"user_id":9164471,"display_name":"Rene"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1583787503,"creation_date":1583787503,"answer_id":60608248,"question_id":60605176,"body_markdown":"I would give the Java client more control over the flow. I would add a `onStart` and `onCompletion` method to your callback interface. Beside this I would use an own `CoroutineScope` - maybe customizable from the Java client. And I would not block the calling thread from within the Kotlin function - no `runBlocking`.\r\n\r\n    @InternalCoroutinesApi\r\n    class KotlinClass {\r\n        val coroutineScope = CoroutineScope(Dispatchers.Default)\r\n    \r\n        interface FlowCallback {\r\n            @JvmDefault\r\n            fun onStart() = Unit\r\n    \r\n            @JvmDefault\r\n            fun onCompletion(thr: Throwable?) = Unit\r\n            fun onResult(result: Int)\r\n        }\r\n    \r\n        private fun foo() = flow {\r\n            for (i in 1..3) {\r\n                emit(i)\r\n            }\r\n        }\r\n    \r\n        fun bar(flowCallback: FlowCallback) {\r\n            coroutineScope.launch {\r\n                foo().onStart { flowCallback.onStart() }\r\n                    .onCompletion { flowCallback.onCompletion(it) }\r\n                    .collect { flowCallback.onResult(it) }\r\n            }\r\n        }\r\n    \r\n        fun close() {\r\n            coroutineScope.cancel()\r\n        }    \r\n    }\r\n\r\nNow the Java client is in full control how to start, collect and cancel the flow. For example you could use a latch to wait for completion, set an timeout and cancel the couroutine scope. This looks in the first place like a lot of code, but typically you will need this kind of flexibility.\r\n\r\n    public class JavaClass {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            CountDownLatch latch = new CountDownLatch(1);\r\n            KotlinClass libraryClass = new KotlinClass();\r\n            libraryClass.bar(new KotlinClass.FlowCallback() {\r\n                @Override\r\n                public void onCompletion(@Nullable Throwable thr) {\r\n                    latch.countDown();\r\n                }\r\n    \r\n    \r\n                @Override\r\n                public void onResult(int result) {\r\n                    System.out.println(result);\r\n                }\r\n            });\r\n    \r\n            try {\r\n                latch.await(5, TimeUnit.SECONDS);\r\n            } finally {\r\n                libraryClass.close();\r\n            }\r\n        }\r\n    }\r\n","title":"Kotlin Flows Java Interop Callback","body":"<p>I would give the Java client more control over the flow. I would add a <code>onStart</code> and <code>onCompletion</code> method to your callback interface. Beside this I would use an own <code>CoroutineScope</code> - maybe customizable from the Java client. And I would not block the calling thread from within the Kotlin function - no <code>runBlocking</code>.</p>\n\n<pre><code>@InternalCoroutinesApi\nclass KotlinClass {\n    val coroutineScope = CoroutineScope(Dispatchers.Default)\n\n    interface FlowCallback {\n        @JvmDefault\n        fun onStart() = Unit\n\n        @JvmDefault\n        fun onCompletion(thr: Throwable?) = Unit\n        fun onResult(result: Int)\n    }\n\n    private fun foo() = flow {\n        for (i in 1..3) {\n            emit(i)\n        }\n    }\n\n    fun bar(flowCallback: FlowCallback) {\n        coroutineScope.launch {\n            foo().onStart { flowCallback.onStart() }\n                .onCompletion { flowCallback.onCompletion(it) }\n                .collect { flowCallback.onResult(it) }\n        }\n    }\n\n    fun close() {\n        coroutineScope.cancel()\n    }    \n}\n</code></pre>\n\n<p>Now the Java client is in full control how to start, collect and cancel the flow. For example you could use a latch to wait for completion, set an timeout and cancel the couroutine scope. This looks in the first place like a lot of code, but typically you will need this kind of flexibility.</p>\n\n<pre><code>public class JavaClass {\n    public static void main(String[] args) throws InterruptedException {\n        CountDownLatch latch = new CountDownLatch(1);\n        KotlinClass libraryClass = new KotlinClass();\n        libraryClass.bar(new KotlinClass.FlowCallback() {\n            @Override\n            public void onCompletion(@Nullable Throwable thr) {\n                latch.countDown();\n            }\n\n\n            @Override\n            public void onResult(int result) {\n                System.out.println(result);\n            }\n        });\n\n        try {\n            latch.await(5, TimeUnit.SECONDS);\n        } finally {\n            libraryClass.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637522856,"creation_date":1637522052,"answer_id":70057798,"question_id":60605176,"body_markdown":"In case anyone wondering for a general solution. Here&#39;s our version of enhancement from [@rene answer here][1]. \r\n\r\n1. Accept a generic type\r\n1. A configurable `coroutineScope`\r\n\r\n```kotlin\r\n// JavaFlow.kt\r\nimport kotlinx.coroutines.CoroutineScope\r\nimport kotlinx.coroutines.Dispatchers\r\nimport kotlinx.coroutines.InternalCoroutinesApi\r\nimport kotlinx.coroutines.cancel\r\nimport kotlinx.coroutines.flow.Flow\r\nimport kotlinx.coroutines.flow.collect\r\nimport kotlinx.coroutines.flow.onCompletion\r\nimport kotlinx.coroutines.flow.onStart\r\nimport kotlinx.coroutines.launch\r\n\r\n@InternalCoroutinesApi\r\nclass JavaFlow&lt;T&gt;(\r\n    private val coroutineScope: CoroutineScope = CoroutineScope(Dispatchers.Default)\r\n) {\r\n\r\n    interface OperatorCallback &lt;T&gt; {\r\n        @JvmDefault\r\n        fun onStart() = Unit\r\n\r\n        @JvmDefault\r\n        fun onCompletion(thr: Throwable?) = Unit\r\n        fun onResult(result: T)\r\n    }\r\n\r\n    fun collect(\r\n        flow: Flow&lt;T&gt;,\r\n        operatorCallback: OperatorCallback&lt;T&gt;,\r\n    ) {\r\n        coroutineScope.launch {\r\n            flow\r\n                .onStart { operatorCallback.onStart() }\r\n                .onCompletion { operatorCallback.onCompletion(it) }\r\n                .collect { operatorCallback.onResult(it) }\r\n        }\r\n    }\r\n\r\n    fun close() {\r\n        coroutineScope.cancel()\r\n    }\r\n}\r\n```\r\n\r\nJava caller-side:\r\n\r\n```java\r\n// code omitted...\r\nnew JavaFlow&lt;File&gt;().collect(\r\n        // compressImageAsFlow is our actual kotlin flow extension\r\n        FileUtils.compressImageAsFlow(file, activity),\r\n        new JavaFlow.OperatorCallback&lt;File&gt;() {\r\n            @Override\r\n            public void onResult(File result) {\r\n                // do something with the result here\r\n                SafeSingleton.setFile(result);\r\n            }\r\n        }\r\n);\r\n\r\n\r\n// or using lambda with method references\r\n// new JavaFlow&lt;File&gt;().collect(\r\n//        FileUtils.compressImageAsFlow(file, activity),\r\n//        SafeSingleton::setFile\r\n// );\r\n\r\n// Change coroutineScope to Main\r\n// new JavaFlow&lt;File&gt;(CoroutineScopeKt.MainScope()).collect(\r\n//        FileUtils.compressImageAsFlow(file, activity),\r\n//        SafeSingleton::setFile\r\n// );\r\n```\r\n\r\n&gt; `OperatorCallback.onStart` and `OperatorCallback.onCompletion` is optional, override it as needed.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60608248/3763032","title":"Kotlin Flows Java Interop Callback","body":"<p>In case anyone wondering for a general solution. Here's our version of enhancement from <a href=\"https://stackoverflow.com/a/60608248/3763032\">@rene answer here</a>.</p>\n<ol>\n<li>Accept a generic type</li>\n<li>A configurable <code>coroutineScope</code></li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// JavaFlow.kt\nimport kotlinx.coroutines.CoroutineScope\nimport kotlinx.coroutines.Dispatchers\nimport kotlinx.coroutines.InternalCoroutinesApi\nimport kotlinx.coroutines.cancel\nimport kotlinx.coroutines.flow.Flow\nimport kotlinx.coroutines.flow.collect\nimport kotlinx.coroutines.flow.onCompletion\nimport kotlinx.coroutines.flow.onStart\nimport kotlinx.coroutines.launch\n\n@InternalCoroutinesApi\nclass JavaFlow&lt;T&gt;(\n    private val coroutineScope: CoroutineScope = CoroutineScope(Dispatchers.Default)\n) {\n\n    interface OperatorCallback &lt;T&gt; {\n        @JvmDefault\n        fun onStart() = Unit\n\n        @JvmDefault\n        fun onCompletion(thr: Throwable?) = Unit\n        fun onResult(result: T)\n    }\n\n    fun collect(\n        flow: Flow&lt;T&gt;,\n        operatorCallback: OperatorCallback&lt;T&gt;,\n    ) {\n        coroutineScope.launch {\n            flow\n                .onStart { operatorCallback.onStart() }\n                .onCompletion { operatorCallback.onCompletion(it) }\n                .collect { operatorCallback.onResult(it) }\n        }\n    }\n\n    fun close() {\n        coroutineScope.cancel()\n    }\n}\n</code></pre>\n<p>Java caller-side:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// code omitted...\nnew JavaFlow&lt;File&gt;().collect(\n        // compressImageAsFlow is our actual kotlin flow extension\n        FileUtils.compressImageAsFlow(file, activity),\n        new JavaFlow.OperatorCallback&lt;File&gt;() {\n            @Override\n            public void onResult(File result) {\n                // do something with the result here\n                SafeSingleton.setFile(result);\n            }\n        }\n);\n\n\n// or using lambda with method references\n// new JavaFlow&lt;File&gt;().collect(\n//        FileUtils.compressImageAsFlow(file, activity),\n//        SafeSingleton::setFile\n// );\n\n// Change coroutineScope to Main\n// new JavaFlow&lt;File&gt;(CoroutineScopeKt.MainScope()).collect(\n//        FileUtils.compressImageAsFlow(file, activity),\n//        SafeSingleton::setFile\n// );\n</code></pre>\n<blockquote>\n<p><code>OperatorCallback.onStart</code> and <code>OperatorCallback.onCompletion</code> is optional, override it as needed.</p>\n</blockquote>\n"}],"owner":{"account_id":3542830,"reputation":195,"user_id":2959479,"accept_rate":57,"display_name":"edhair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5765,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1637522856,"creation_date":1583773040,"question_id":60605176,"body_markdown":"I&#180;ve been looking for a suitable solution or best practice when I want to use Kotlin Flows with ordinary callbacks. My use case is that I write a kotlin library that uses Kotlin Flow internally and i have to assume that the users will use Java for instance. So I thought that the best solution is to overload a basic callback interface to my flow method and call it in `collect` something like this:\r\n\r\n    class KotlinClass {\r\n\r\n        interface Callback {\r\n            fun onResult(result: Int)\r\n        }\r\n\r\n        private fun foo() = flow {\r\n            for (i in 1..3) {\r\n                emit(i)\r\n            }\r\n        }\r\n\r\n        fun bar(callback: Callback) {\r\n            runBlocking {\r\n                foo().collect { callback.onResult(it) }\r\n            }\r\n        }\r\n\r\n      private fun main() {\r\n        bar(object : Callback {\r\n            override fun onResult(result: Int) {\r\n                TODO(&quot;Not yet implemented&quot;)\r\n            }\r\n        })\r\n    }\r\n\r\nand in my Java Application i can simply use it like that:\r\n\r\n    public class JavaClass {\r\n\r\n        public void main() {\r\n            KotlinClass libraryClass = new KotlinClass();\r\n            libraryClass.bar(new KotlinClass.Callback() {\r\n                @Override\r\n                public void onResult(int result) {\r\n                    // TODO(&quot;Not yet implemented&quot;)\r\n                }\r\n            });\r\n        } \r\n    }\r\n\r\nI am not sure whats the way to go because I would like to have my Kotlin library that uses Flows usable in a good fashion for Java and Kotlin. \r\n\r\nI came across `callbackFlow` but that seems to be only if I want to let&#180;s call it flow-ify a callback-based API? Because I am quite new to Kotlin and Flows please apologise if my question is flawed in cause of missing some basic concepts of kotlin.","title":"Kotlin Flows Java Interop Callback","body":"<p>I´ve been looking for a suitable solution or best practice when I want to use Kotlin Flows with ordinary callbacks. My use case is that I write a kotlin library that uses Kotlin Flow internally and i have to assume that the users will use Java for instance. So I thought that the best solution is to overload a basic callback interface to my flow method and call it in <code>collect</code> something like this:</p>\n\n<pre><code>class KotlinClass {\n\n    interface Callback {\n        fun onResult(result: Int)\n    }\n\n    private fun foo() = flow {\n        for (i in 1..3) {\n            emit(i)\n        }\n    }\n\n    fun bar(callback: Callback) {\n        runBlocking {\n            foo().collect { callback.onResult(it) }\n        }\n    }\n\n  private fun main() {\n    bar(object : Callback {\n        override fun onResult(result: Int) {\n            TODO(\"Not yet implemented\")\n        }\n    })\n}\n</code></pre>\n\n<p>and in my Java Application i can simply use it like that:</p>\n\n<pre><code>public class JavaClass {\n\n    public void main() {\n        KotlinClass libraryClass = new KotlinClass();\n        libraryClass.bar(new KotlinClass.Callback() {\n            @Override\n            public void onResult(int result) {\n                // TODO(\"Not yet implemented\")\n            }\n        });\n    } \n}\n</code></pre>\n\n<p>I am not sure whats the way to go because I would like to have my Kotlin library that uses Flows usable in a good fashion for Java and Kotlin. </p>\n\n<p>I came across <code>callbackFlow</code> but that seems to be only if I want to let´s call it flow-ify a callback-based API? Because I am quite new to Kotlin and Flows please apologise if my question is flawed in cause of missing some basic concepts of kotlin.</p>\n"},{"tags":["java","windows","loops","media-player","vlcj"],"comments":[{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1606984078,"post_id":65119730,"comment_id":115130582,"body_markdown":"Your posted code makes the common mistake of not keeping references to your media player objects - in this case &quot;mediaPlayer&quot; goes out of scope and becomes eligible for garbage collection when your QueueMonitor() constructor exits. You need to fix those issues first before it&#39;s possible to say why repeat-play isn&#39;t working.","body":"Your posted code makes the common mistake of not keeping references to your media player objects - in this case &quot;mediaPlayer&quot; goes out of scope and becomes eligible for garbage collection when your QueueMonitor() constructor exits. You need to fix those issues first before it&#39;s possible to say why repeat-play isn&#39;t working."},{"owner":{"account_id":17965218,"reputation":3,"user_id":13055242,"display_name":"jhustin angelo giron"},"score":0,"creation_date":1606985174,"post_id":65119730,"comment_id":115131035,"body_markdown":"what exactly do i need to do to keep reference to the media player objects?","body":"what exactly do i need to do to keep reference to the media player objects?"},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1606986545,"post_id":65119730,"comment_id":115131661,"body_markdown":"since this is not an answer to the posted question, i&#39;ll just drop a link https://capricasoftware.co.uk/projects/vlcj-4/tutorials/garbage-collection","body":"since this is not an answer to the posted question, i&#39;ll just drop a link <a href=\"https://capricasoftware.co.uk/projects/vlcj-4/tutorials/garbage-collection\" rel=\"nofollow noreferrer\">capricasoftware.co.uk/projects/vlcj-4/tutorials/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607002588,"creation_date":1607002588,"answer_id":65127053,"question_id":65119730,"body_markdown":"Here are some minimal examples of how to get repeat play working with vlcj.\r\n\r\nFor current versions of vlcj, 4.x and later:\r\n\r\n```\r\n// vlcj 4.x+\r\npublic class RepeatPlayer {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String mrl = &quot;some-cool-video.mp3&quot;;\r\n\r\n        EmbeddedMediaPlayerComponent mediaPlayerComponent = new EmbeddedMediaPlayerComponent();\r\n\r\n        JFrame f = new JFrame(&quot;Repeat Player&quot;);\r\n        f.setSize(800, 600);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                mediaPlayerComponent.release();\r\n            }\r\n        });\r\n        f.setContentPane(mediaPlayerComponent);\r\n        f.setVisible(true);\r\n\r\n        mediaPlayerComponent.mediaPlayer().controls().setRepeat(true);\r\n\r\n        mediaPlayerComponent.mediaPlayer().media().play(mrl);\r\n\r\n        Thread.currentThread().join();\r\n    }\r\n}\r\n```\r\n\r\nSince it looks like you&#39;re using an ancient version of vlcj, this is how it was done previously:\r\n\r\n```\r\n// vlcj 3.12.1\r\npublic class RepeatPlayer {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String mrl = &quot;some-cool-video.mp3&quot;;\r\n\r\n        final EmbeddedMediaPlayerComponent mediaPlayerComponent = new EmbeddedMediaPlayerComponent();\r\n\r\n        JFrame f = new JFrame(&quot;Repeat Player&quot;);\r\n        f.setSize(800, 600);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                mediaPlayerComponent.release();\r\n            }\r\n        });\r\n        f.setContentPane(mediaPlayerComponent);\r\n        f.setVisible(true);\r\n\r\n        mediaPlayerComponent.getMediaPlayer().setRepeat(true);\r\n\r\n        mediaPlayerComponent.getMediaPlayer().playMedia(mrl);\r\n\r\n        Thread.currentThread().join();\r\n    }\r\n}\r\n```\r\n\r\n----------\r\nThe code in the original question was therefore broadly correct at least with regards to the repeat-play functionality. The most likely problem with the original code is that the media player was garbage collected due to a failure to hold the object references.","title":"Video doesn&#39;t play on loop or repeat (vlcj-java)","body":"<p>Here are some minimal examples of how to get repeat play working with vlcj.</p>\n<p>For current versions of vlcj, 4.x and later:</p>\n<pre><code>// vlcj 4.x+\npublic class RepeatPlayer {\n\n    public static void main(String[] args) throws Exception {\n        String mrl = &quot;some-cool-video.mp3&quot;;\n\n        EmbeddedMediaPlayerComponent mediaPlayerComponent = new EmbeddedMediaPlayerComponent();\n\n        JFrame f = new JFrame(&quot;Repeat Player&quot;);\n        f.setSize(800, 600);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                mediaPlayerComponent.release();\n            }\n        });\n        f.setContentPane(mediaPlayerComponent);\n        f.setVisible(true);\n\n        mediaPlayerComponent.mediaPlayer().controls().setRepeat(true);\n\n        mediaPlayerComponent.mediaPlayer().media().play(mrl);\n\n        Thread.currentThread().join();\n    }\n}\n</code></pre>\n<p>Since it looks like you're using an ancient version of vlcj, this is how it was done previously:</p>\n<pre><code>// vlcj 3.12.1\npublic class RepeatPlayer {\n\n    public static void main(String[] args) throws Exception {\n        String mrl = &quot;some-cool-video.mp3&quot;;\n\n        final EmbeddedMediaPlayerComponent mediaPlayerComponent = new EmbeddedMediaPlayerComponent();\n\n        JFrame f = new JFrame(&quot;Repeat Player&quot;);\n        f.setSize(800, 600);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                mediaPlayerComponent.release();\n            }\n        });\n        f.setContentPane(mediaPlayerComponent);\n        f.setVisible(true);\n\n        mediaPlayerComponent.getMediaPlayer().setRepeat(true);\n\n        mediaPlayerComponent.getMediaPlayer().playMedia(mrl);\n\n        Thread.currentThread().join();\n    }\n}\n</code></pre>\n<hr />\n<p>The code in the original question was therefore broadly correct at least with regards to the repeat-play functionality. The most likely problem with the original code is that the media player was garbage collected due to a failure to hold the object references.</p>\n"},{"tags":[],"owner":{"account_id":23411771,"reputation":1,"user_id":17473340,"display_name":"Leonardo Rey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637522788,"creation_date":1637522788,"answer_id":70057887,"question_id":65119730,"body_markdown":"    public class Video extends javax.swing.JPanel\r\n    {\r\n    \r\n      private EmbeddedMediaPlayerComponent video;\r\n      private EmbeddedMediaPlayer mediaPlayer;\r\n     \r\n     public Video()\r\n      {\r\n    \tinitComponents();\r\n    \tinitVideo();\r\n      }\r\n    \r\n      private void initVideo()\r\n      {\r\n    \tvideo = new EmbeddedMediaPlayerComponent()\r\n    \t{\r\n    \t  @Override\r\n    \t  public void finished(MediaPlayer mediaPlayer)\r\n    \t  {\r\n    \t\tsuper.finished(mediaPlayer);\r\n    \t\tSystem.out.println(&quot;FINISHED&quot;);\r\n    \t\tnew Thread(() -&gt; {\r\n    \t\t  System.gc();\r\n    \t\t  mediaPlayer.controls().setTime(0);\r\n    \t\t  mediaPlayer.controls().play();\r\n    \t\t}).start();\r\n    \t  }\r\n    \t};\r\n    \tmediaPlayer = video.mediaPlayer();\r\n    \tmediaPlayer.input().enableKeyInputHandling(false);\r\n    \tmediaPlayer.input().enableMouseInputHandling(false);\r\n    \tadd(video, BorderLayout.CENTER);\r\n    \r\n      }\r\n      public void start(String path)\r\n      {\r\n    \tmediaPlayer.media().prepare(path);\r\n    \tmediaPlayer.controls().play();\r\n      }\r\n      public void stop()\r\n      {\r\n    \tmediaPlayer.controls().stop();\r\n    \tmediaPlayer.release();\r\n    \tvideo.release();\r\n      }\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      private void initComponents()\r\n      {\r\n        setLayout(new java.awt.BorderLayout());\r\n      }\r\n     }","title":"Video doesn&#39;t play on loop or repeat (vlcj-java)","body":"<pre><code>public class Video extends javax.swing.JPanel\n{\n\n  private EmbeddedMediaPlayerComponent video;\n  private EmbeddedMediaPlayer mediaPlayer;\n \n public Video()\n  {\n    initComponents();\n    initVideo();\n  }\n\n  private void initVideo()\n  {\n    video = new EmbeddedMediaPlayerComponent()\n    {\n      @Override\n      public void finished(MediaPlayer mediaPlayer)\n      {\n        super.finished(mediaPlayer);\n        System.out.println(&quot;FINISHED&quot;);\n        new Thread(() -&gt; {\n          System.gc();\n          mediaPlayer.controls().setTime(0);\n          mediaPlayer.controls().play();\n        }).start();\n      }\n    };\n    mediaPlayer = video.mediaPlayer();\n    mediaPlayer.input().enableKeyInputHandling(false);\n    mediaPlayer.input().enableMouseInputHandling(false);\n    add(video, BorderLayout.CENTER);\n\n  }\n  public void start(String path)\n  {\n    mediaPlayer.media().prepare(path);\n    mediaPlayer.controls().play();\n  }\n  public void stop()\n  {\n    mediaPlayer.controls().stop();\n    mediaPlayer.release();\n    video.release();\n  }\n  @SuppressWarnings(&quot;unchecked&quot;)\n  private void initComponents()\n  {\n    setLayout(new java.awt.BorderLayout());\n  }\n }\n</code></pre>\n"}],"owner":{"account_id":17965218,"reputation":3,"user_id":13055242,"display_name":"jhustin angelo giron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637522788,"creation_date":1606968165,"question_id":65119730,"body_markdown":"I am using vlcj on my java program. I need the video to play repeatedly. I&#39;ve used setRepeat(true); but it doesn&#39;t work for me. Is this any other to loop the video? Or am I doing it wrong? Please help me. Thanks a lot.\r\n\r\n     public QueueMonitor() {\r\n                        \r\n            initComponents();\r\n             \r\n            //VIDEO\r\n            chargerLibrairie();\r\n\r\n            Canvas c = new Canvas();\r\n            panel.add(c);\r\n            MediaPlayerFactory mediaPlayerFactory = new MediaPlayerFactory();\r\n            //Create a media player instance\r\n            EmbeddedMediaPlayer mediaPlayer = mediaPlayerFactory.newEmbeddedMediaPlayer();\r\n            mediaPlayer.setVideoSurface(mediaPlayerFactory.newVideoSurface(c));\r\n            \r\n            mediaPlayer.playMedia(&quot;Ospital1.mp4&quot;);\r\n            mediaPlayer.setRepeat(true);\r\n            mediaPlayer.setPlaySubItems(true);\r\n\r\n           \r\n        }\r\n    \r\n    \r\n        public static void chargerLibrairie(){\r\n            NativeLibrary.addSearchPath(\r\n            RuntimeUtil.getLibVlcLibraryName(), &quot;C:/Program Files/VideoLAN/VLC&quot;);\r\n            Native.loadLibrary(RuntimeUtil.getLibVlcLibraryName(), LibVlc.class);\r\n            LibXUtil.initialise();\r\n        }\r\n\r\n\r\nAlso, how can I put some functions like pause, play, lower volume while the program is running? Like how a normal video player is able to do.","title":"Video doesn&#39;t play on loop or repeat (vlcj-java)","body":"<p>I am using vlcj on my java program. I need the video to play repeatedly. I've used setRepeat(true); but it doesn't work for me. Is this any other to loop the video? Or am I doing it wrong? Please help me. Thanks a lot.</p>\n<pre><code> public QueueMonitor() {\n                    \n        initComponents();\n         \n        //VIDEO\n        chargerLibrairie();\n\n        Canvas c = new Canvas();\n        panel.add(c);\n        MediaPlayerFactory mediaPlayerFactory = new MediaPlayerFactory();\n        //Create a media player instance\n        EmbeddedMediaPlayer mediaPlayer = mediaPlayerFactory.newEmbeddedMediaPlayer();\n        mediaPlayer.setVideoSurface(mediaPlayerFactory.newVideoSurface(c));\n        \n        mediaPlayer.playMedia(&quot;Ospital1.mp4&quot;);\n        mediaPlayer.setRepeat(true);\n        mediaPlayer.setPlaySubItems(true);\n\n       \n    }\n\n\n    public static void chargerLibrairie(){\n        NativeLibrary.addSearchPath(\n        RuntimeUtil.getLibVlcLibraryName(), &quot;C:/Program Files/VideoLAN/VLC&quot;);\n        Native.loadLibrary(RuntimeUtil.getLibVlcLibraryName(), LibVlc.class);\n        LibXUtil.initialise();\n    }\n</code></pre>\n<p>Also, how can I put some functions like pause, play, lower volume while the program is running? Like how a normal video player is able to do.</p>\n"},{"tags":["java","networking","udp","broadcasting","mesh-network"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1637522851,"post_id":70057832,"comment_id":123842964,"body_markdown":"My reaction is &quot;why?&quot;.  First assumption - that you&#39;re running separate instances (separate JVMs, separate processes) since otherwise there&#39;s little point in using UDP multicast in a single address space.  Therefore, why not start each instance in a separate terminal to begin with?","body":"My reaction is &quot;why?&quot;.  First assumption - that you&#39;re running separate instances (separate JVMs, separate processes) since otherwise there&#39;s little point in using UDP multicast in a single address space.  Therefore, why not start each instance in a separate terminal to begin with?"},{"owner":{"account_id":23172111,"reputation":13,"user_id":17271198,"display_name":"venus kiani"},"score":0,"creation_date":1637568429,"post_id":70057832,"comment_id":123851423,"body_markdown":"Thanks for your reply, because I dont know when I run a new instance, how can I connect it to the network to start the communication. That is why I wanted to control it inside the code.","body":"Thanks for your reply, because I dont know when I run a new instance, how can I connect it to the network to start the communication. That is why I wanted to control it inside the code."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1637585670,"post_id":70057832,"comment_id":123857656,"body_markdown":"Conventionally, clients connect to servers.  Each client instance knows when it&#39;s been started because... it&#39;s been started. The client assigns itself an unused port. The server knows about the client and the client&#39;s port because the client connects to the server.   (I use &quot;connect&quot; loosely here, it&#39;s UDP.  &quot;Communicates with&quot; is more accurate).","body":"Conventionally, clients connect to servers.  Each client instance knows when it&#39;s been started because... it&#39;s been started. The client assigns itself an unused port. The server knows about the client and the client&#39;s port because the client connects to the server.   (I use &quot;connect&quot; loosely here, it&#39;s UDP.  &quot;Communicates with&quot; is more accurate)."},{"owner":{"account_id":23172111,"reputation":13,"user_id":17271198,"display_name":"venus kiani"},"score":0,"creation_date":1637599476,"post_id":70057832,"comment_id":123863622,"body_markdown":"sorry but its Mesh network and I should not have any server to control the netwotk. This is my problemm, because I dont know without server how can I manage peers??!!","body":"sorry but its Mesh network and I should not have any server to control the netwotk. This is my problemm, because I dont know without server how can I manage peers??!!"}],"owner":{"account_id":23172111,"reputation":13,"user_id":17271198,"display_name":"venus kiani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637522395,"creation_date":1637522395,"question_id":70057832,"body_markdown":"I want to immplement a Mesh network(each peer can be client and also server) based on UDP and broadcast in Java.\r\nI am working on my local system and try to run multiple instance from one class.\r\nBut I want to know is there any possibilies in java to run multiple console inside of the code and assign a port to each consol/terminal when they are runnig as a peer in the network?\r\n\r\nI mean I want to run multiple consols by Java code and assign a port number to each one for communicating.\r\n\r\nI have 2 arraylists to define the port numbers for sending and receiving.\r\n\r\nThanks for your help","title":"How to call and run consol or Terminal inside the Java code?","body":"<p>I want to immplement a Mesh network(each peer can be client and also server) based on UDP and broadcast in Java.\nI am working on my local system and try to run multiple instance from one class.\nBut I want to know is there any possibilies in java to run multiple console inside of the code and assign a port to each consol/terminal when they are runnig as a peer in the network?</p>\n<p>I mean I want to run multiple consols by Java code and assign a port number to each one for communicating.</p>\n<p>I have 2 arraylists to define the port numbers for sending and receiving.</p>\n<p>Thanks for your help</p>\n"},{"tags":["java","collections","sublist"],"answers":[{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611779765,"creation_date":1611779765,"answer_id":65926984,"question_id":65926838,"body_markdown":"You can do the following:\r\n\r\n    public static void main(String[] arg) {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(10);\r\n        list.add(20);\r\n        list.add(30);\r\n        list.add(40);\r\n        list.add(50);\r\n        System.out.println(Collections.max(list.subList(0, 3)));\r\n    }\r\n\r\nAs [ControlAltDel][1] have pointed out in the comments use the subList method to extract the part of the list that you want to calculate the max.\r\n\r\nFrom [source][2] one can read:\r\n\r\n&gt; List&lt;E&gt; subList(int fromIndex,  int toIndex) \r\n\r\n&gt; **Returns a view of the portion of this list between the specified fromIndex, inclusive, and toIndex,\r\n&gt; exclusive.** (...)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1291492/controlaltdel\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html","title":"How to get maximum value from of the first N values of an ArrayList?","body":"<p>You can do the following:</p>\n<pre><code>public static void main(String[] arg) {\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    list.add(10);\n    list.add(20);\n    list.add(30);\n    list.add(40);\n    list.add(50);\n    System.out.println(Collections.max(list.subList(0, 3)));\n}\n</code></pre>\n<p>As <a href=\"https://stackoverflow.com/users/1291492/controlaltdel\">ControlAltDel</a> have pointed out in the comments use the subList method to extract the part of the list that you want to calculate the max.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\">source</a> one can read:</p>\n<blockquote>\n<p>List subList(int fromIndex,  int toIndex)</p>\n</blockquote>\n<blockquote>\n<p><strong>Returns a view of the portion of this list between the specified fromIndex, inclusive, and toIndex,\nexclusive.</strong> (...)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20564788,"reputation":11,"user_id":15094461,"display_name":"rknob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611779865,"creation_date":1611779865,"answer_id":65927018,"question_id":65926838,"body_markdown":"You could make another array list in a method and store all the values you WANT so you could add 10, 20, 30 from the original array list, stop adding and then finding the max of that new array list with the 3 elements. \r\n\r\nHope this helped!","title":"How to get maximum value from of the first N values of an ArrayList?","body":"<p>You could make another array list in a method and store all the values you WANT so you could add 10, 20, 30 from the original array list, stop adding and then finding the max of that new array list with the 3 elements.</p>\n<p>Hope this helped!</p>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1637521824,"creation_date":1611779981,"answer_id":65927048,"question_id":65926838,"body_markdown":"`List` has a [subList][1] method that you can use:\r\n\r\n    Collections.max(arrayList.subList(0, 3))\r\n\r\nThere is no `subList` for `Collection`s in general, as not all collections are lists and, for some, the &quot;first N elements&quot; doesn&#39;t make a lot of sense, as they don&#39;t maintain any meaningful order (e.g. `HashSet`).\r\n\r\nYou can take the first three elements of any `Collection` (in whatever order the collection will provide), by iterating through it with a limit. It&#39;s probably best to use a stream for this:\r\n\r\n    yourCollection.stream().limit(3).collect(Collectors.toList());\r\n\r\nOr you can find what you&#39;re looking for directly on the stream, without collecting the elements in some collection:\r\n\r\n    Optional&lt;Integer&gt; max = yourCollection.stream()\r\n            .limit(3)\r\n            .max(Comparator.naturalOrder());\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#subList(int,int)","title":"How to get maximum value from of the first N values of an ArrayList?","body":"<p><code>List</code> has a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\">subList</a> method that you can use:</p>\n<pre><code>Collections.max(arrayList.subList(0, 3))\n</code></pre>\n<p>There is no <code>subList</code> for <code>Collection</code>s in general, as not all collections are lists and, for some, the &quot;first N elements&quot; doesn't make a lot of sense, as they don't maintain any meaningful order (e.g. <code>HashSet</code>).</p>\n<p>You can take the first three elements of any <code>Collection</code> (in whatever order the collection will provide), by iterating through it with a limit. It's probably best to use a stream for this:</p>\n<pre><code>yourCollection.stream().limit(3).collect(Collectors.toList());\n</code></pre>\n<p>Or you can find what you're looking for directly on the stream, without collecting the elements in some collection:</p>\n<pre><code>Optional&lt;Integer&gt; max = yourCollection.stream()\n        .limit(3)\n        .max(Comparator.naturalOrder());\n</code></pre>\n"}],"owner":{"account_id":18825575,"reputation":47,"user_id":13730557,"display_name":"Ron Mercer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":918,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65927048,"answer_count":3,"score":1,"last_activity_date":1637521824,"creation_date":1611779115,"question_id":65926838,"body_markdown":"There is an `ArrayList` which stores integer values. Suppose the arrayList stored values are: `10, 20, 30, 40, 50`. \r\n\r\nI know how to find the maximum value of the collection. I would have to do:\r\n\r\n    Collections.max(arrayList); \r\n\r\nBut what should I do to find the maximum of the first 3 elements of the collection? So in this example, it would be 30. Is there a sublist function for collections?","title":"How to get maximum value from of the first N values of an ArrayList?","body":"<p>There is an <code>ArrayList</code> which stores integer values. Suppose the arrayList stored values are: <code>10, 20, 30, 40, 50</code>.</p>\n<p>I know how to find the maximum value of the collection. I would have to do:</p>\n<pre><code>Collections.max(arrayList); \n</code></pre>\n<p>But what should I do to find the maximum of the first 3 elements of the collection? So in this example, it would be 30. Is there a sublist function for collections?</p>\n"},{"tags":["java","android","android-fragments","android-asynctask","fragment-oncreateview"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1637320566,"post_id":70033926,"comment_id":123800923,"body_markdown":"hint: onPostExecute + check documentation","body":"hint: onPostExecute + check documentation"},{"owner":{"account_id":8235550,"reputation":183,"user_id":8593349,"display_name":"lschmid"},"score":0,"creation_date":1637320934,"post_id":70033926,"comment_id":123801037,"body_markdown":"Ok, I got it working. I guess that was actually obvious I would need a callback on the async method completing. Calling get() must be similar to using .Result on a C# async method.","body":"Ok, I got it working. I guess that was actually obvious I would need a callback on the async method completing. Calling get() must be similar to using .Result on a C# async method."}],"answers":[{"tags":[],"owner":{"account_id":8235550,"reputation":183,"user_id":8593349,"display_name":"lschmid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637333200,"creation_date":1637322074,"answer_id":70034286,"question_id":70033926,"body_markdown":"Following Selvin&#39;s advice in the comment I have modified the code to use a callback delegate in the AsyncTask as follows:\r\n\r\n 1.\r\n```java\r\npublic interface AsyncResponse {\r\n    void processFinish(String output);\r\n}\r\n```\r\n\r\n2.\r\n```java\r\nclass GetWebsiteAsyncTask extends AsyncTask&lt;Void, Void, String&gt; {\r\n\r\n    public AsyncResponse delegate = null;\r\n\r\n    @Override\r\n    protected void onPostExecute(String result) {\r\n        delegate.processFinish(result);\r\n    }\r\n}\r\n```\r\n\r\n3.\r\n```java\r\npublic class WebsiteFragment extends Fragment implements AsyncResponse \r\n```\r\n\r\n4.\r\n```java\r\nGetWebsiteAsyncTask getWebsiteAsyncTask = new GetWebsiteAsyncTask();\r\ngetWebsiteAsyncTask.delegate = this;\r\ngetWebsiteAsyncTask.execute();\r\n```\r\n\r\n5.\r\n```java\r\n@Override\r\npublic void processFinish(String output) {\r\n    websiteViewModel.setTitle(output);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to define a callback for when an AsyncTask completes","body":"<p>Following Selvin's advice in the comment I have modified the code to use a callback delegate in the AsyncTask as follows:</p>\n<p>1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AsyncResponse {\n    void processFinish(String output);\n}\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class GetWebsiteAsyncTask extends AsyncTask&lt;Void, Void, String&gt; {\n\n    public AsyncResponse delegate = null;\n\n    @Override\n    protected void onPostExecute(String result) {\n        delegate.processFinish(result);\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class WebsiteFragment extends Fragment implements AsyncResponse \n</code></pre>\n<ol start=\"4\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>GetWebsiteAsyncTask getWebsiteAsyncTask = new GetWebsiteAsyncTask();\ngetWebsiteAsyncTask.delegate = this;\ngetWebsiteAsyncTask.execute();\n</code></pre>\n<ol start=\"5\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void processFinish(String output) {\n    websiteViewModel.setTitle(output);\n}\n</code></pre>\n"}],"owner":{"account_id":8235550,"reputation":183,"user_id":8593349,"display_name":"lschmid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70034286,"answer_count":1,"score":-1,"last_activity_date":1637518920,"creation_date":1637320307,"question_id":70033926,"body_markdown":"I have an Android fragment which requests a web page using an AsyncTask and retrieves the page title which should be displayed in a TextView. I invoke the AsyncTask in onCreateView().\r\n\r\nThe problem is there is a noticiable delay before the AsyncTask completes and the fragment view is created and displayed. It doesn&#39;t seem to be running asynchronously.\r\n\r\nThe code is as follows:\r\n\r\n```java\r\nGetWebsiteAsyncTask getWebsiteAsyncTask = new GetWebsiteAsyncTask();\r\nString websiteTitle = getWebsiteAsyncTask.execute().get();\r\nwebsiteViewModel.setTitle(websiteTitle);\r\n```\r\n\r\nWith the AsyncTask defined as:\r\n\r\n```java\r\nclass GetWebsiteAsyncTask extends AsyncTask&lt;Void, Void, String&gt; {\r\n\r\n    private static final String TAG = GetWebsiteAsyncTask.class.getName();\r\n\r\n    @Override\r\n    protected String doInBackground(Void... voids) {\r\n        try {\r\n            Document doc = Jsoup.connect(&quot;https://www.google.com&quot;).get();\r\n            return doc.title();\r\n        } catch (Exception e) {\r\n            Log.e(TAG, Log.getStackTraceString(e));\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n","title":"How to define a callback for when an AsyncTask completes","body":"<p>I have an Android fragment which requests a web page using an AsyncTask and retrieves the page title which should be displayed in a TextView. I invoke the AsyncTask in onCreateView().</p>\n<p>The problem is there is a noticiable delay before the AsyncTask completes and the fragment view is created and displayed. It doesn't seem to be running asynchronously.</p>\n<p>The code is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GetWebsiteAsyncTask getWebsiteAsyncTask = new GetWebsiteAsyncTask();\nString websiteTitle = getWebsiteAsyncTask.execute().get();\nwebsiteViewModel.setTitle(websiteTitle);\n</code></pre>\n<p>With the AsyncTask defined as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class GetWebsiteAsyncTask extends AsyncTask&lt;Void, Void, String&gt; {\n\n    private static final String TAG = GetWebsiteAsyncTask.class.getName();\n\n    @Override\n    protected String doInBackground(Void... voids) {\n        try {\n            Document doc = Jsoup.connect(&quot;https://www.google.com&quot;).get();\n            return doc.title();\n        } catch (Exception e) {\n            Log.e(TAG, Log.getStackTraceString(e));\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-layout","imageview","scrollview"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637517856,"creation_date":1637517856,"answer_id":70057270,"question_id":70056675,"body_markdown":"Take a look at [android:adjustViewBounds](https://developer.android.com/reference/android/widget/ImageView#xml-attributes_1). Even though you are changing the size of the _ImageView_, this attribute is changing it back. I think that you can just delete it.\r\n\r\nAlso, the size dimension in layoutparams is pixels and not _dp_. You are treating it like is is _dp_.","title":"How to Enlarge/change the child imageview dimensions to make the image full size in Scroll view with Android","body":"<p>Take a look at <a href=\"https://developer.android.com/reference/android/widget/ImageView#xml-attributes_1\" rel=\"nofollow noreferrer\">android:adjustViewBounds</a>. Even though you are changing the size of the <em>ImageView</em>, this attribute is changing it back. I think that you can just delete it.</p>\n<p>Also, the size dimension in layoutparams is pixels and not <em>dp</em>. You are treating it like is is <em>dp</em>.</p>\n"}],"owner":{"account_id":10553655,"reputation":13,"user_id":7775585,"display_name":"Naga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70057270,"answer_count":1,"score":1,"last_activity_date":1637517856,"creation_date":1637513635,"question_id":70056675,"body_markdown":"I have an ImageView inside a Scrollview, below is my fragment code, I need the image to be made full screen or change the width and height of the image view when the user clicks on the image, please help me how this can be achieved or any other better solution.\r\n\r\n```\r\nScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_gravity=&quot;center_horizontal&quot;\r\n    android:background=&quot;@color/white&quot;\r\n    android:gravity=&quot;center_horizontal&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/htab_toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            app:layout_scrollFlags=&quot;scroll|enterAlways|snap&quot;\r\n            app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/product_image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;192dp&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;3dp&quot;\r\n            android:adjustViewBounds=&quot;true&quot;\r\n            android:gravity=&quot;center_horizontal&quot;\r\n            android:scaleType=&quot;center&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/product_name&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:ellipsize=&quot;marquee&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:focusableInTouchMode=&quot;true&quot;\r\n            android:freezesText=&quot;true&quot;\r\n            android:gravity=&quot;center_horizontal&quot;\r\n            android:marqueeRepeatLimit=&quot;marquee_forever&quot;\r\n            android:scrollHorizontally=&quot;true&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:textColor=&quot;@color/holo_gray_dark&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/category_discount&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:ellipsize=&quot;marquee&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:focusableInTouchMode=&quot;true&quot;\r\n            android:freezesText=&quot;true&quot;\r\n            android:gravity=&quot;center_horizontal&quot;\r\n            android:marqueeRepeatLimit=&quot;marquee_forever&quot;\r\n            android:scrollHorizontally=&quot;true&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:textColor=&quot;@color/holo_gray_dark&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/product_description&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/product_name&quot;\r\n            android:layout_gravity=&quot;left&quot;\r\n            android:layout_marginBottom=&quot;5dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:ellipsize=&quot;marquee&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:focusableInTouchMode=&quot;true&quot;\r\n            android:freezesText=&quot;true&quot;\r\n            android:textColor=&quot;@android:color/background_dark&quot;\r\n            android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/remove_item&quot;\r\n                android:layout_width=&quot;45dp&quot;\r\n                android:layout_height=&quot;45dp&quot;\r\n                android:layout_gravity=&quot;center_vertical|center_horizontal&quot;\r\n                android:background=&quot;@color/red&quot;\r\n                android:gravity=&quot;center_vertical|center_horizontal&quot;\r\n                android:text=&quot;-&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/iteam_amount&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:ellipsize=&quot;marquee&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:focusableInTouchMode=&quot;true&quot;\r\n                android:freezesText=&quot;true&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:marqueeRepeatLimit=&quot;marquee_forever&quot;\r\n                android:minWidth=&quot;70dp&quot;\r\n                android:scrollHorizontally=&quot;true&quot;\r\n                android:singleLine=&quot;true&quot;\r\n                android:text=&quot;0&quot;\r\n                android:textColor=&quot;@android:color/background_dark&quot;\r\n                android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/add_item&quot;\r\n                android:layout_width=&quot;45dp&quot;\r\n                android:layout_height=&quot;45dp&quot;\r\n                android:layout_gravity=&quot;center_vertical|center_horizontal&quot;\r\n                android:background=&quot;@color/holo_green_light&quot;\r\n                android:gravity=&quot;center_vertical|center_horizontal&quot;\r\n                android:text=&quot;+&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;30sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/hot_offers&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:ellipsize=&quot;marquee&quot;\r\n            android:gravity=&quot;center_horizontal&quot;\r\n            android:text=&quot;@string/similar_product&quot;\r\n            android:textColor=&quot;#000&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n        &lt;com.hitesh_sahu.retailapp.view.customview.ClickableViewPager\r\n            android:id=&quot;@+id/similar_products_pager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;280dp&quot;\r\n            android:layout_below=&quot;@+id/hot_offers&quot;\r\n            android:layout_marginTop=&quot;2dp&quot;\r\n            android:visibility=&quot;visible&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/best_value&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginTop=&quot;2dp&quot;\r\n            android:ellipsize=&quot;marquee&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:focusableInTouchMode=&quot;true&quot;\r\n            android:freezesText=&quot;true&quot;\r\n            android:gravity=&quot;center_horizontal&quot;\r\n            android:paddingBottom=&quot;10dp&quot;\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:text=&quot;Top Selling&quot;\r\n            android:textColor=&quot;#000&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n        &lt;com.hitesh_sahu.retailapp.view.customview.ClickableViewPager\r\n            android:id=&quot;@+id/top_selleing_pager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;280dp&quot;\r\n            android:layout_below=&quot;@+id/best_value&quot;\r\n            android:layout_marginTop=&quot;2dp&quot;\r\n            android:visibility=&quot;visible&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\nThis is my layout,\r\n\r\nand here is my onclick listener in my class. please help with the same. i am finding the image size is varying when clicked but the image view dimensions are not changing, how to achieve this/ how to make the image fullscreen\r\n\r\n```\r\nitemImage.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        if(isImageFitToScreen) {\r\n        isImageFitToScreen=false;\r\n        ScrollView.LayoutParams layoutParams = new \r\n        ScrollView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, 192);\r\n                    itemImage.setLayoutParams(layoutParams);\r\n                    itemImage.setAdjustViewBounds(true);\r\n        }else{\r\n            isImageFitToScreen=true;\r\n            ScrollView.LayoutParams layoutParams = new \r\n            ScrollView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, 500);\r\n            itemImage.setLayoutParams(layoutParams);\r\n            }\r\n    }\r\n });\r\n```","title":"How to Enlarge/change the child imageview dimensions to make the image full size in Scroll view with Android","body":"<p>I have an ImageView inside a Scrollview, below is my fragment code, I need the image to be made full screen or change the width and height of the image view when the user clicks on the image, please help me how this can be achieved or any other better solution.</p>\n<pre><code>ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_gravity=&quot;center_horizontal&quot;\n    android:background=&quot;@color/white&quot;\n    android:gravity=&quot;center_horizontal&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:gravity=&quot;center_horizontal&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=&quot;@+id/htab_toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            app:layout_scrollFlags=&quot;scroll|enterAlways|snap&quot;\n            app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/product_image&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;192dp&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_marginTop=&quot;3dp&quot;\n            android:adjustViewBounds=&quot;true&quot;\n            android:gravity=&quot;center_horizontal&quot;\n            android:scaleType=&quot;center&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/product_name&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:ellipsize=&quot;marquee&quot;\n            android:focusable=&quot;true&quot;\n            android:focusableInTouchMode=&quot;true&quot;\n            android:freezesText=&quot;true&quot;\n            android:gravity=&quot;center_horizontal&quot;\n            android:marqueeRepeatLimit=&quot;marquee_forever&quot;\n            android:scrollHorizontally=&quot;true&quot;\n            android:singleLine=&quot;true&quot;\n            android:textColor=&quot;@color/holo_gray_dark&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/category_discount&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:background=&quot;@color/white&quot;\n            android:ellipsize=&quot;marquee&quot;\n            android:focusable=&quot;true&quot;\n            android:focusableInTouchMode=&quot;true&quot;\n            android:freezesText=&quot;true&quot;\n            android:gravity=&quot;center_horizontal&quot;\n            android:marqueeRepeatLimit=&quot;marquee_forever&quot;\n            android:scrollHorizontally=&quot;true&quot;\n            android:singleLine=&quot;true&quot;\n            android:textColor=&quot;@color/holo_gray_dark&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/product_description&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/product_name&quot;\n            android:layout_gravity=&quot;left&quot;\n            android:layout_marginBottom=&quot;5dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:ellipsize=&quot;marquee&quot;\n            android:focusable=&quot;true&quot;\n            android:focusableInTouchMode=&quot;true&quot;\n            android:freezesText=&quot;true&quot;\n            android:textColor=&quot;@android:color/background_dark&quot;\n            android:textSize=&quot;16sp&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:gravity=&quot;center&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/remove_item&quot;\n                android:layout_width=&quot;45dp&quot;\n                android:layout_height=&quot;45dp&quot;\n                android:layout_gravity=&quot;center_vertical|center_horizontal&quot;\n                android:background=&quot;@color/red&quot;\n                android:gravity=&quot;center_vertical|center_horizontal&quot;\n                android:text=&quot;-&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;20sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/iteam_amount&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:ellipsize=&quot;marquee&quot;\n                android:focusable=&quot;true&quot;\n                android:focusableInTouchMode=&quot;true&quot;\n                android:freezesText=&quot;true&quot;\n                android:gravity=&quot;center&quot;\n                android:marqueeRepeatLimit=&quot;marquee_forever&quot;\n                android:minWidth=&quot;70dp&quot;\n                android:scrollHorizontally=&quot;true&quot;\n                android:singleLine=&quot;true&quot;\n                android:text=&quot;0&quot;\n                android:textColor=&quot;@android:color/background_dark&quot;\n                android:textSize=&quot;30sp&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/add_item&quot;\n                android:layout_width=&quot;45dp&quot;\n                android:layout_height=&quot;45dp&quot;\n                android:layout_gravity=&quot;center_vertical|center_horizontal&quot;\n                android:background=&quot;@color/holo_green_light&quot;\n                android:gravity=&quot;center_vertical|center_horizontal&quot;\n                android:text=&quot;+&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;30sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/hot_offers&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:layout_marginTop=&quot;15dp&quot;\n            android:ellipsize=&quot;marquee&quot;\n            android:gravity=&quot;center_horizontal&quot;\n            android:text=&quot;@string/similar_product&quot;\n            android:textColor=&quot;#000&quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n\n        &lt;com.hitesh_sahu.retailapp.view.customview.ClickableViewPager\n            android:id=&quot;@+id/similar_products_pager&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;280dp&quot;\n            android:layout_below=&quot;@+id/hot_offers&quot;\n            android:layout_marginTop=&quot;2dp&quot;\n            android:visibility=&quot;visible&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/best_value&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerHorizontal=&quot;true&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:layout_marginTop=&quot;2dp&quot;\n            android:ellipsize=&quot;marquee&quot;\n            android:focusable=&quot;true&quot;\n            android:focusableInTouchMode=&quot;true&quot;\n            android:freezesText=&quot;true&quot;\n            android:gravity=&quot;center_horizontal&quot;\n            android:paddingBottom=&quot;10dp&quot;\n            android:paddingTop=&quot;10dp&quot;\n            android:text=&quot;Top Selling&quot;\n            android:textColor=&quot;#000&quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n\n        &lt;com.hitesh_sahu.retailapp.view.customview.ClickableViewPager\n            android:id=&quot;@+id/top_selleing_pager&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;280dp&quot;\n            android:layout_below=&quot;@+id/best_value&quot;\n            android:layout_marginTop=&quot;2dp&quot;\n            android:visibility=&quot;visible&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n<p>This is my layout,</p>\n<p>and here is my onclick listener in my class. please help with the same. i am finding the image size is varying when clicked but the image view dimensions are not changing, how to achieve this/ how to make the image fullscreen</p>\n<pre><code>itemImage.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        if(isImageFitToScreen) {\n        isImageFitToScreen=false;\n        ScrollView.LayoutParams layoutParams = new \n        ScrollView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, 192);\n                    itemImage.setLayoutParams(layoutParams);\n                    itemImage.setAdjustViewBounds(true);\n        }else{\n            isImageFitToScreen=true;\n            ScrollView.LayoutParams layoutParams = new \n            ScrollView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, 500);\n            itemImage.setLayoutParams(layoutParams);\n            }\n    }\n });\n</code></pre>\n"},{"tags":["javascript","java","keycloak"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1637516495,"post_id":70057016,"comment_id":123841362,"body_markdown":"What version of java is used by the keycloak server? Rhino was removed in Java 15. If the server uses Java 15+, this is expected behaviour. If this is the case, then we can either downgrade to Java &lt;=14, or load another JS engine as dependency. For information on the latter option, see [this question](https://stackoverflow.com/questions/62259515/how-can-i-continue-to-use-javascript-in-java-15-onwards).","body":"What version of java is used by the keycloak server? Rhino was removed in Java 15. If the server uses Java 15+, this is expected behaviour. If this is the case, then we can either downgrade to Java &lt;=14, or load another JS engine as dependency. For information on the latter option, see <a href=\"https://stackoverflow.com/questions/62259515/how-can-i-continue-to-use-javascript-in-java-15-onwards\">this question</a>."},{"owner":{"account_id":2441962,"reputation":185,"user_id":2130210,"display_name":"TMR_OS"},"score":0,"creation_date":1637517005,"post_id":70057016,"comment_id":123841509,"body_markdown":"I&#39;m using Java 15, and switching back to 11 did resolved the problem ! thanks for your help.","body":"I&#39;m using Java 15, and switching back to 11 did resolved the problem ! thanks for your help."}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637517501,"creation_date":1637517501,"answer_id":70057222,"question_id":70057016,"body_markdown":"When we look at the first line of the log message:\r\n\r\n    Could not find ScriptEngine for script: Script{ ... type=&#39;text/javascript&#39;... }\r\n\r\nwe see that keycloak is not able to load a javascript scripting engine.\r\n\r\nSince Java &gt;= 15, no javascript engine is provided with the JVM (see [JEP 372][jep372]). This is the reason why keycloak cannot find a javascript engine.\r\n\r\nI see two possible solutions to the problem:\r\n- Provide a javascript engine through some 3rd party libraries (for detail see [this question][paulQuestion] by [Paul Taylor][paul]), or\r\n- Downgrade Java to &lt;= 14 (not recommended).\r\n\r\n[jep372]: https://openjdk.java.net/jeps/372\r\n\r\n[paulQuestion]: https://stackoverflow.com/questions/62259515/how-can-i-continue-to-use-javascript-in-java-15-onwards\r\n\r\n[paul]: https://stackoverflow.com/users/1480018/paul-taylor","title":"Can&#39;t evaluate Javascript based policy with Keycloak","body":"<p>When we look at the first line of the log message:</p>\n<pre><code>Could not find ScriptEngine for script: Script{ ... type='text/javascript'... }\n</code></pre>\n<p>we see that keycloak is not able to load a javascript scripting engine.</p>\n<p>Since Java &gt;= 15, no javascript engine is provided with the JVM (see <a href=\"https://openjdk.java.net/jeps/372\" rel=\"nofollow noreferrer\">JEP 372</a>). This is the reason why keycloak cannot find a javascript engine.</p>\n<p>I see two possible solutions to the problem:</p>\n<ul>\n<li>Provide a javascript engine through some 3rd party libraries (for detail see <a href=\"https://stackoverflow.com/questions/62259515/how-can-i-continue-to-use-javascript-in-java-15-onwards\">this question</a> by <a href=\"https://stackoverflow.com/users/1480018/paul-taylor\">Paul Taylor</a>), or</li>\n<li>Downgrade Java to &lt;= 14 (not recommended).</li>\n</ul>\n"}],"owner":{"account_id":2441962,"reputation":185,"user_id":2130210,"display_name":"TMR_OS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1456,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":70057222,"answer_count":1,"score":0,"last_activity_date":1637517501,"creation_date":1637516054,"question_id":70057016,"body_markdown":"I&#39;m trying to test the Javascript Based policies defined in this project https://github.com/mposolda/devconf2019-authz/blob/master/cars-realm.json#L191, but everytime I try to access a protected ressource I got the following error in keycloak logs :\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Could not find ScriptEngine for script: Script{id=&#39;null&#39;, realmId=&#39;cars&#39;, name=&#39;Only From a Specific Client Address&#39;, type=&#39;text/javascript&#39;, code=&#39;var contextAttributes = $evaluation.getContext().getAttributes();\r\n\r\nif (contextAttributes.containsValue(&#39;kc.client.network.ip_address&#39;, &#39;127.0.0.1&#39;)) {\r\n    $evaluation.grant();\r\n}&#39;, description=&#39;Defines that only clients from a specific address can do something&#39;}\r\n        at org.keycloak.keycloak-services@15.0.2//org.keycloak.scripting.DefaultScriptingProvider.createPreparedScriptEngine(DefaultScriptingProvider.java:106)\r\n        at org.keycloak.keycloak-services@15.0.2//org.keycloak.scripting.DefaultScriptingProvider.prepareEvaluatableScript(DefaultScriptingProvider.java:72)\r\n        at org.keycloak.keycloak-services@15.0.2//org.keycloak.scripting.DefaultScriptingProvider.prepareEvaluatableScript(DefaultScriptingProvider.java:33)\r\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.js.JSPolicyProviderFactory.lambda$getEvaluatableScript$0(JSPolicyProviderFactory.java:109)\r\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.js.ScriptCache.lambda$computeIfAbsent$0(ScriptCache.java:80)\r\n        at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1224)\r\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.js.ScriptCache.computeIfAbsent(ScriptCache.java:80)\r\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.js.JSPolicyProviderFactory.getEvaluatableScript(JSPolicyProviderFactory.java:106)\r\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.js.JSPolicyProvider.evaluate(JSPolicyProvider.java:46)\r\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.aggregated.AggregatePolicyProvider.evaluate(AggregatePolicyProvider.java:66)\r\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.aggregated.AggregatePolicyProvider.evaluate(AggregatePolicyProvider.java:66)\r\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.permission.AbstractPermissionProvider.evaluate(AbstractPermissionProvider.java:56)\r\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.permission.ScopePolicyProvider.evaluate(ScopePolicyProvider.java:52)\r\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.policy.evaluation.DefaultPolicyEvaluator.lambda$createPolicyEvaluator$0(DefaultPolicyEvaluator.java:116)\r\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$PolicyCache.cacheQuery(StoreFactoryCacheSession.java:1098)\r\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$PolicyCache.cacheQuery(StoreFactoryCacheSession.java:1073)\r\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$PolicyCache.findByScopeIds(StoreFactoryCacheSession.java:1045)\r\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.AuthorizationProvider$3.findByScopeIds(AuthorizationProvider.java:430)\r\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.policy.evaluation.DefaultPolicyEvaluator.evaluate(DefaultPolicyEvaluator.java:86)\r\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.permission.evaluator.UnboundedPermissionEvaluator.lambda$evaluate$0(UnboundedPermissionEvaluator.java:49)\r\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.permission.Permissions.lambda$all$1(Permissions.java:87)\r\n        at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65)\r\n        at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65)\r\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache$1.accept(StoreFactoryCacheSession.java:678)\r\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache$1.accept(StoreFactoryCacheSession.java:673)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n        at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n        at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.utils.ClosingStream.forEach(ClosingStream.java:128)\r\n        at org.keycloak.keycloak-model-jpa@15.0.2//org.keycloak.authorization.jpa.store.JPAResourceStore.findByOwnerFilter(JPAResourceStore.java:136)\r\n        at org.keycloak.keycloak-model-jpa@15.0.2//org.keycloak.authorization.jpa.store.JPAResourceStore.findByOwner(JPAResourceStore.java:101)\r\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache.lambda$findByOwner$7(StoreFactoryCacheSession.java:673)\r\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache.cacheQuery(StoreFactoryCacheSession.java:845)\r\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache.cacheQuery(StoreFactoryCacheSession.java:830)\r\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache.findByOwner(StoreFactoryCacheSession.java:671)\r\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.AuthorizationProvider$4.findByOwner(AuthorizationProvider.java:501)\r\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.permission.Permissions.all(Permissions.java:85)\r\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.permission.evaluator.UnboundedPermissionEvaluator.evaluate(UnboundedPermissionEvaluator.java:48)\r\n```\r\n\r\nIs there any further step I need to do in order to make this example work ?\r\n\r\nKeycloak version : 15.0.2\r\nJava version : 15\r\n\r\nThanks !","title":"Can&#39;t evaluate Javascript based policy with Keycloak","body":"<p>I'm trying to test the Javascript Based policies defined in this project <a href=\"https://github.com/mposolda/devconf2019-authz/blob/master/cars-realm.json#L191\" rel=\"nofollow noreferrer\">https://github.com/mposolda/devconf2019-authz/blob/master/cars-realm.json#L191</a>, but everytime I try to access a protected ressource I got the following error in keycloak logs :</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Could not find ScriptEngine for script: Script{id='null', realmId='cars', name='Only From a Specific Client Address', type='text/javascript', code='var contextAttributes = $evaluation.getContext().getAttributes();\n\nif (contextAttributes.containsValue('kc.client.network.ip_address', '127.0.0.1')) {\n    $evaluation.grant();\n}', description='Defines that only clients from a specific address can do something'}\n        at org.keycloak.keycloak-services@15.0.2//org.keycloak.scripting.DefaultScriptingProvider.createPreparedScriptEngine(DefaultScriptingProvider.java:106)\n        at org.keycloak.keycloak-services@15.0.2//org.keycloak.scripting.DefaultScriptingProvider.prepareEvaluatableScript(DefaultScriptingProvider.java:72)\n        at org.keycloak.keycloak-services@15.0.2//org.keycloak.scripting.DefaultScriptingProvider.prepareEvaluatableScript(DefaultScriptingProvider.java:33)\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.js.JSPolicyProviderFactory.lambda$getEvaluatableScript$0(JSPolicyProviderFactory.java:109)\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.js.ScriptCache.lambda$computeIfAbsent$0(ScriptCache.java:80)\n        at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1224)\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.js.ScriptCache.computeIfAbsent(ScriptCache.java:80)\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.js.JSPolicyProviderFactory.getEvaluatableScript(JSPolicyProviderFactory.java:106)\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.js.JSPolicyProvider.evaluate(JSPolicyProvider.java:46)\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.aggregated.AggregatePolicyProvider.evaluate(AggregatePolicyProvider.java:66)\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.aggregated.AggregatePolicyProvider.evaluate(AggregatePolicyProvider.java:66)\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.permission.AbstractPermissionProvider.evaluate(AbstractPermissionProvider.java:56)\n        at org.keycloak.keycloak-authz-policy-common@15.0.2//org.keycloak.authorization.policy.provider.permission.ScopePolicyProvider.evaluate(ScopePolicyProvider.java:52)\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.policy.evaluation.DefaultPolicyEvaluator.lambda$createPolicyEvaluator$0(DefaultPolicyEvaluator.java:116)\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$PolicyCache.cacheQuery(StoreFactoryCacheSession.java:1098)\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$PolicyCache.cacheQuery(StoreFactoryCacheSession.java:1073)\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$PolicyCache.findByScopeIds(StoreFactoryCacheSession.java:1045)\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.AuthorizationProvider$3.findByScopeIds(AuthorizationProvider.java:430)\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.policy.evaluation.DefaultPolicyEvaluator.evaluate(DefaultPolicyEvaluator.java:86)\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.permission.evaluator.UnboundedPermissionEvaluator.lambda$evaluate$0(UnboundedPermissionEvaluator.java:49)\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.permission.Permissions.lambda$all$1(Permissions.java:87)\n        at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65)\n        at java.base/java.util.function.Consumer.lambda$andThen$0(Consumer.java:65)\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache$1.accept(StoreFactoryCacheSession.java:678)\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache$1.accept(StoreFactoryCacheSession.java:673)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n        at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n        at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.utils.ClosingStream.forEach(ClosingStream.java:128)\n        at org.keycloak.keycloak-model-jpa@15.0.2//org.keycloak.authorization.jpa.store.JPAResourceStore.findByOwnerFilter(JPAResourceStore.java:136)\n        at org.keycloak.keycloak-model-jpa@15.0.2//org.keycloak.authorization.jpa.store.JPAResourceStore.findByOwner(JPAResourceStore.java:101)\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache.lambda$findByOwner$7(StoreFactoryCacheSession.java:673)\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache.cacheQuery(StoreFactoryCacheSession.java:845)\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache.cacheQuery(StoreFactoryCacheSession.java:830)\n        at org.keycloak.keycloak-model-infinispan@15.0.2//org.keycloak.models.cache.infinispan.authorization.StoreFactoryCacheSession$ResourceCache.findByOwner(StoreFactoryCacheSession.java:671)\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.AuthorizationProvider$4.findByOwner(AuthorizationProvider.java:501)\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.permission.Permissions.all(Permissions.java:85)\n        at org.keycloak.keycloak-server-spi-private@15.0.2//org.keycloak.authorization.permission.evaluator.UnboundedPermissionEvaluator.evaluate(UnboundedPermissionEvaluator.java:48)\n</code></pre>\n<p>Is there any further step I need to do in order to make this example work ?</p>\n<p>Keycloak version : 15.0.2\nJava version : 15</p>\n<p>Thanks !</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":22993668,"reputation":24,"user_id":17118780,"display_name":"Grzegorz Kossakowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637484286,"creation_date":1637484286,"answer_id":70053040,"question_id":70052572,"body_markdown":"You have unloaded dependencies. Each IDE has the ability to force a download.","title":"SpringBoot Mvc tomcat","body":"<p>You have unloaded dependencies. Each IDE has the ability to force a download.</p>\n"},{"tags":[],"owner":{"account_id":14708352,"reputation":1,"user_id":13550805,"display_name":"academec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637487274,"creation_date":1637487274,"answer_id":70053305,"question_id":70052572,"body_markdown":"Try run `mvn install` in terminal or if you use IDEA Maven-&gt;Lifecycle-&gt;install","title":"SpringBoot Mvc tomcat","body":"<p>Try run <code>mvn install</code> in terminal or if you use IDEA Maven-&gt;Lifecycle-&gt;install</p>\n"},{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637517211,"creation_date":1637517211,"answer_id":70057178,"question_id":70052572,"body_markdown":"Try nuking your .m2 folder, and then pull dependencies again. I usually do it like this: delete everything from .m/repo, I go to intellij and add space in pom.xml and delete it so it offers me to pull changes that were made in pom.xml ( this is mostly enabled by default to follow changes in your pom.xml )\r\n\r\n If that does not help, you can always run from your terminal in application root\r\n\r\nmvn clean - clear dependencies so you get something like a clean slate\r\n\r\nmvn install - initiates the pulling of dependencies again","title":"SpringBoot Mvc tomcat","body":"<p>Try nuking your .m2 folder, and then pull dependencies again. I usually do it like this: delete everything from .m/repo, I go to intellij and add space in pom.xml and delete it so it offers me to pull changes that were made in pom.xml ( this is mostly enabled by default to follow changes in your pom.xml )</p>\n<p>If that does not help, you can always run from your terminal in application root</p>\n<p>mvn clean - clear dependencies so you get something like a clean slate</p>\n<p>mvn install - initiates the pulling of dependencies again</p>\n"}],"owner":{"account_id":19207478,"reputation":11,"user_id":14034048,"display_name":"ARCHIT SINHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1637517211,"creation_date":1637478764,"question_id":70052572,"body_markdown":"Why is it highlighted with red colour [![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/MNg3N.png\r\n\r\nWhy does the groupId highlighted red ","title":"SpringBoot Mvc tomcat","body":"<p>Why is it highlighted with red colour <a href=\"https://i.stack.imgur.com/MNg3N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MNg3N.png\" alt=\"enter image description here\" /></a></p>\n<p>Why does the groupId highlighted red</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1637516063,"post_id":70051377,"comment_id":123841233,"body_markdown":"Which version of `MongoDb` driver are you using?","body":"Which version of <code>MongoDb</code> driver are you using?"}],"answers":[{"tags":[],"owner":{"account_id":22498622,"reputation":6563,"user_id":16695245,"display_name":"YuTing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637463712,"creation_date":1637463712,"answer_id":70051488,"question_id":70051377,"body_markdown":"use `MongoClients.create(uri)` instead\r\n\r\n```java\r\nString uri = &quot;mongodb://localhost&quot;;\r\nMongoClient mongoClient = MongoClients.create(uri);\r\nMongoDatabase database = mongoClient.getDatabase(&quot;dbmsProjectDB&quot;);\r\n```","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mongodb/operation/ReadOperation","body":"<p>use <code>MongoClients.create(uri)</code> instead</p>\n<pre class=\"lang-java prettyprint-override\"><code>String uri = &quot;mongodb://localhost&quot;;\nMongoClient mongoClient = MongoClients.create(uri);\nMongoDatabase database = mongoClient.getDatabase(&quot;dbmsProjectDB&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637516926,"creation_date":1637516926,"answer_id":70057136,"question_id":70051377,"body_markdown":"The message tells you that he is not able to find the class `com.mongodb.operation.ReadOperation`. This means that this class is no longer available in this location.\r\n\r\nUpgrade the version of your MongoDb `Java Driver` to the `4.X.X` versions. \r\nBeginning from those versions, the path of the `ReadOperation` class has changed to another location : `com.mongodb.internal.operation.ReadOperation`","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mongodb/operation/ReadOperation","body":"<p>The message tells you that he is not able to find the class <code>com.mongodb.operation.ReadOperation</code>. This means that this class is no longer available in this location.</p>\n<p>Upgrade the version of your MongoDb <code>Java Driver</code> to the <code>4.X.X</code> versions.\nBeginning from those versions, the path of the <code>ReadOperation</code> class has changed to another location : <code>com.mongodb.internal.operation.ReadOperation</code></p>\n"}],"owner":{"account_id":12637594,"reputation":45,"user_id":9186277,"display_name":"user9186277"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70051488,"answer_count":2,"score":0,"last_activity_date":1637516926,"creation_date":1637461935,"question_id":70051377,"body_markdown":"I&#39;m working on a DB project and this class instantiation code below seems to be failing. I can&#39;t seem to figure out why. I&#39;ve made sure to run mongod and start MongoDB. Does anyone have any tips on how to resolve this?\r\n\r\n``` \r\npublic DatabaseInterface() {\r\n        this.mongoClient = new MongoClient(&quot;127.0.0.1&quot;, 27017); ## This line\r\n        this.database = mongoClient.getDatabase(&quot;dbmsProjectDB&quot;);\r\n        this.gson = new Gson();\r\n    }\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mongodb/operation/ReadOperation\r\n\tat backend.DatabaseInterface.&lt;init&gt;(DatabaseInterface.java:54)\r\n\tat backend.main.main(main.java:8)\r\nCaused by: java.lang.ClassNotFoundException: com.mongodb.operation.ReadOperation\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 2 more \r\n```\r\n\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mongodb/operation/ReadOperation","body":"<p>I'm working on a DB project and this class instantiation code below seems to be failing. I can't seem to figure out why. I've made sure to run mongod and start MongoDB. Does anyone have any tips on how to resolve this?</p>\n<pre><code>public DatabaseInterface() {\n        this.mongoClient = new MongoClient(&quot;127.0.0.1&quot;, 27017); ## This line\n        this.database = mongoClient.getDatabase(&quot;dbmsProjectDB&quot;);\n        this.gson = new Gson();\n    }\n\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mongodb/operation/ReadOperation\n    at backend.DatabaseInterface.&lt;init&gt;(DatabaseInterface.java:54)\n    at backend.main.main(main.java:8)\nCaused by: java.lang.ClassNotFoundException: com.mongodb.operation.ReadOperation\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 2 more \n</code></pre>\n"},{"tags":["java","android","android-studio","unit-testing","junit5"],"answers":[{"tags":[],"owner":{"account_id":6695295,"reputation":187,"user_id":5163463,"accept_rate":40,"display_name":"siwarak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637516167,"creation_date":1637514937,"answer_id":70056864,"question_id":70056484,"body_markdown":"I suggest you to learn about MVP or any design patters.\r\n\r\nIn case of mine MVP should be like this.\r\n\r\n    public class MainActivity extends AppCompatActivity implements MainActivityContract.View {\r\n\r\n    private MainActivityContract.Presenter presenter = null;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        ...\r\n        presenter = new MainPresenter(this);\r\n\r\n        abtBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               presenter.onAboutButtonClick();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void goToAbout() {\r\n        abtBtn.playSoundEffect(SoundEffectConstants.CLICK);\r\n        startActivity(new Intent(MainActivity.this,About.class));\r\n    }}\r\n\r\nPresenter\r\n\r\n    public class MainPresenter implements MainActivityContract.Presenter{\r\n\r\n    private MainActivityContract.View view;\r\n\r\n    public MainPresenter(MainActivityContract.View view){\r\n        this.view = view;\r\n    }\r\n\r\n    @Override\r\n    public void onAboutButtonClick() {\r\n        view.goToAbout();\r\n    }}\r\n\r\nContract\r\n\r\n    public interface MainActivityContract{\r\n    interface View{\r\n        void goToAbout();\r\n    }\r\n\r\n    interface Presenter{\r\n        void onAboutButtonClick();\r\n    }}\r\n\r\nAnd the last unit test class\r\n\r\n    public class MainTest {\r\n\r\n    static MainActivityContract.View view = mock(MainActivityContract.View.class);\r\n\r\n    static MainActivityContract.Presenter presenter;\r\n\r\n    @BeforeAll\r\n    public static void setup(){\r\n        presenter = new MainPresenter(view);\r\n    }\r\n\r\n\r\n    @Test\r\n    public void testAboutButtonIsClick(){\r\n        presenter.onAboutButtonClick();\r\n        verify(view, times(1)).goToAbout();;\r\n    }}\r\n","title":"How to do Unit test on a Button that jumps between activities? (android studio Junit5)","body":"<p>I suggest you to learn about MVP or any design patters.</p>\n<p>In case of mine MVP should be like this.</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements MainActivityContract.View {\n\nprivate MainActivityContract.Presenter presenter = null;\n\n@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    ...\n    presenter = new MainPresenter(this);\n\n    abtBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n           presenter.onAboutButtonClick();\n        }\n    });\n}\n\n@Override\npublic void goToAbout() {\n    abtBtn.playSoundEffect(SoundEffectConstants.CLICK);\n    startActivity(new Intent(MainActivity.this,About.class));\n}}\n</code></pre>\n<p>Presenter</p>\n<pre><code>public class MainPresenter implements MainActivityContract.Presenter{\n\nprivate MainActivityContract.View view;\n\npublic MainPresenter(MainActivityContract.View view){\n    this.view = view;\n}\n\n@Override\npublic void onAboutButtonClick() {\n    view.goToAbout();\n}}\n</code></pre>\n<p>Contract</p>\n<pre><code>public interface MainActivityContract{\ninterface View{\n    void goToAbout();\n}\n\ninterface Presenter{\n    void onAboutButtonClick();\n}}\n</code></pre>\n<p>And the last unit test class</p>\n<pre><code>public class MainTest {\n\nstatic MainActivityContract.View view = mock(MainActivityContract.View.class);\n\nstatic MainActivityContract.Presenter presenter;\n\n@BeforeAll\npublic static void setup(){\n    presenter = new MainPresenter(view);\n}\n\n\n@Test\npublic void testAboutButtonIsClick(){\n    presenter.onAboutButtonClick();\n    verify(view, times(1)).goToAbout();;\n}}\n</code></pre>\n"}],"owner":{"account_id":22919348,"reputation":51,"user_id":17055411,"display_name":"MUCHUAN SU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637516167,"creation_date":1637512439,"question_id":70056484,"body_markdown":"As the title, I am writing an android app using java,\r\nI want to do a Unit test using **Junit5** on my button methods that look like this:\r\n \r\n```\r\nprivate void GoToAbout() {\r\n        abtBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                v.playSoundEffect(SoundEffectConstants.CLICK);\r\n                startActivity(new Intent(MainActivity.this,About.class));\r\n            }\r\n        });\r\n    }\r\n```\r\nThat if users click on the button, they can jump from mainActivity to About activity.\r\n\r\nalthough the function works perfectly when testing on my physical phone,\r\nHow do you usually write unit tests for methods like this?\r\n(I mean it doesn&#39;t have an output for me to check)","title":"How to do Unit test on a Button that jumps between activities? (android studio Junit5)","body":"<p>As the title, I am writing an android app using java,\nI want to do a Unit test using <strong>Junit5</strong> on my button methods that look like this:</p>\n<pre><code>private void GoToAbout() {\n        abtBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                v.playSoundEffect(SoundEffectConstants.CLICK);\n                startActivity(new Intent(MainActivity.this,About.class));\n            }\n        });\n    }\n</code></pre>\n<p>That if users click on the button, they can jump from mainActivity to About activity.</p>\n<p>although the function works perfectly when testing on my physical phone,\nHow do you usually write unit tests for methods like this?\n(I mean it doesn't have an output for me to check)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1637505777,"post_id":70055459,"comment_id":123838531,"body_markdown":"Your logic is flipped. The first thing that needs to happen for anything to &#39;go&#39; is for one of the produces to produce a character, however, `produce()` loops __forever__ as long as `CONSUMER_FREE` is `\\0`, which it is, and hence that&#39;ll never change. produce should loop while isConsumerBusy, and consume should wait until isConsumerFree.","body":"Your logic is flipped. The first thing that needs to happen for anything to &#39;go&#39; is for one of the produces to produce a character, however, <code>produce()</code> loops <b>forever</b> as long as <code>CONSUMER_FREE</code> is <code>\\0</code>, which it is, and hence that&#39;ll never change. produce should loop while isConsumerBusy, and consume should wait until isConsumerFree."},{"owner":{"account_id":10299651,"reputation":78,"user_id":7598740,"display_name":"Bartosz R&#243;życki"},"score":0,"creation_date":1637506228,"post_id":70055459,"comment_id":123838652,"body_markdown":"@rzwitserloot you meen smth like this? (edited post)","body":"@rzwitserloot you meen smth like this? (edited post)"}],"answers":[{"tags":[],"owner":{"account_id":16109305,"reputation":360,"user_id":11627994,"display_name":"Baran Bursalı"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637516086,"creation_date":1637516086,"answer_id":70057019,"question_id":70055459,"body_markdown":"You can use locks for this purpose. Below code demonstrates 3 producer synchronous and 1 consumer async to producers but it&#39;d also be sync to multiple consumers here. Also you should add some logic to consume same amount that produced. If you want to get benefits of multithreading, you should buffer your producer input and create some pipeline before consuming.\r\n\r\n``` java\r\npublic class Executor {\r\n\r\n    public static void main(String[] args) {\r\n        ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newCachedThreadPool();\r\n        Store store = new Store(executor);\r\n\r\n        Runnable word1 = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                store.producerLock.lock();\r\n                store.produce(&#39;1&#39;);\r\n                store.produce(&#39;2&#39;);\r\n                store.produce(&#39;3&#39;);\r\n                store.producerLock.unlock();\r\n            }\r\n        };\r\n\r\n        Runnable consume = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n               store.consumerLock.lock();\r\n               System.out.print(store.consume());\r\n               System.out.print(store.consume());\r\n               System.out.print(store.consume());\r\n               System.out.println();\r\n               store.consumerLock.unlock();\r\n            }\r\n        };\r\n\r\n        Future p1 = executor.submit(word1);\r\n        Future p2 = executor.submit(word1);\r\n        Future p3 = executor.submit(word1);\r\n\r\n        executor.submit(consume);\r\n        executor.submit(consume);\r\n        executor.submit(consume);\r\n\r\n        executor.shutdown();\r\n    }\r\n}\r\n\r\n\r\n```","title":"How to synchronize three producers and one consumer threads in java","body":"<p>You can use locks for this purpose. Below code demonstrates 3 producer synchronous and 1 consumer async to producers but it'd also be sync to multiple consumers here. Also you should add some logic to consume same amount that produced. If you want to get benefits of multithreading, you should buffer your producer input and create some pipeline before consuming.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Executor {\n\n    public static void main(String[] args) {\n        ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newCachedThreadPool();\n        Store store = new Store(executor);\n\n        Runnable word1 = new Runnable() {\n            @Override\n            public void run() {\n                store.producerLock.lock();\n                store.produce('1');\n                store.produce('2');\n                store.produce('3');\n                store.producerLock.unlock();\n            }\n        };\n\n        Runnable consume = new Runnable() {\n            @Override\n            public void run() {\n               store.consumerLock.lock();\n               System.out.print(store.consume());\n               System.out.print(store.consume());\n               System.out.print(store.consume());\n               System.out.println();\n               store.consumerLock.unlock();\n            }\n        };\n\n        Future p1 = executor.submit(word1);\n        Future p2 = executor.submit(word1);\n        Future p3 = executor.submit(word1);\n\n        executor.submit(consume);\n        executor.submit(consume);\n        executor.submit(consume);\n\n        executor.shutdown();\n    }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":10299651,"reputation":78,"user_id":7598740,"display_name":"Bartosz R&#243;życki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70057019,"answer_count":1,"score":0,"last_activity_date":1637516086,"creation_date":1637505142,"question_id":70055459,"body_markdown":"I have to make three producers and one consumer thread. Producers threads is reading chars from file and using buffer of one char. I made Store like above, now i have to synchronize threads to consumer write whole word and give back control to other producer - patern like this \r\n\r\n    Producer1-&gt;Word1 \r\n    Producer2-&gt;word1 \r\n    Producer3-&gt;word1 \r\n    Producer1-&gt;Word2 \r\n    Producer2-&gt;word2 \r\n    Producer3-&gt;word2 \r\n    Producer1-&gt;Word3 \r\n    Producer2-&gt;word3 \r\n    Producer3-&gt;word3 \r\n    \r\nStore (edited):\r\n```Java\r\npublic class Store {\r\n    public static final char CONSUMER_FREE = &#39;\\0&#39;;\r\n\r\n    private volatile char consumer = CONSUMER_FREE;\r\n    private final ThreadPoolExecutor executor;\r\n\r\n\r\n    public Store(ThreadPoolExecutor executor) {\r\n        this.executor = executor;\r\n    }\r\n\r\n    public synchronized void produce(char c) {\r\n        while (isConsumerBussy()) {\r\n            try {\r\n                wait();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        consumer = c;\r\n        notify(); // single Consumer\r\n    }\r\n\r\n    public synchronized char consume() throws StoreProducersRip {\r\n        while (isConsumerFree()) {\r\n            try {\r\n                wait(250);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        try {\r\n            return consumer;\r\n        } finally {\r\n            freeConsumer();\r\n            notifyAll();\r\n        }\r\n    }\r\n\r\n    private void freeConsumer() {\r\n        consumer = CONSUMER_FREE;\r\n    }\r\n\r\n    private boolean isConsumerBussy() {\r\n        return consumer != CONSUMER_FREE;\r\n    }\r\n\r\n    private boolean isConsumerFree() throws StoreProducersRip {\r\n        if (executor.getActiveCount() == 0) throw new StoreProducersRip();\r\n        return consumer == CONSUMER_FREE;\r\n    }\r\n}\r\n```\r\n","title":"How to synchronize three producers and one consumer threads in java","body":"<p>I have to make three producers and one consumer thread. Producers threads is reading chars from file and using buffer of one char. I made Store like above, now i have to synchronize threads to consumer write whole word and give back control to other producer - patern like this</p>\n<pre><code>Producer1-&gt;Word1 \nProducer2-&gt;word1 \nProducer3-&gt;word1 \nProducer1-&gt;Word2 \nProducer2-&gt;word2 \nProducer3-&gt;word2 \nProducer1-&gt;Word3 \nProducer2-&gt;word3 \nProducer3-&gt;word3 \n</code></pre>\n<p>Store (edited):</p>\n<pre><code>public class Store {\n    public static final char CONSUMER_FREE = '\\0';\n\n    private volatile char consumer = CONSUMER_FREE;\n    private final ThreadPoolExecutor executor;\n\n\n    public Store(ThreadPoolExecutor executor) {\n        this.executor = executor;\n    }\n\n    public synchronized void produce(char c) {\n        while (isConsumerBussy()) {\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        consumer = c;\n        notify(); // single Consumer\n    }\n\n    public synchronized char consume() throws StoreProducersRip {\n        while (isConsumerFree()) {\n            try {\n                wait(250);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        try {\n            return consumer;\n        } finally {\n            freeConsumer();\n            notifyAll();\n        }\n    }\n\n    private void freeConsumer() {\n        consumer = CONSUMER_FREE;\n    }\n\n    private boolean isConsumerBussy() {\n        return consumer != CONSUMER_FREE;\n    }\n\n    private boolean isConsumerFree() throws StoreProducersRip {\n        if (executor.getActiveCount() == 0) throw new StoreProducersRip();\n        return consumer == CONSUMER_FREE;\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8163,"page":1829,"page_size":100}
