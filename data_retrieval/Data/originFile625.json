{"items":[{"tags":["java","eclipse","swing","user-interface","actionevent"],"answers":[{"tags":[],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677131354,"creation_date":1677131354,"answer_id":75541024,"question_id":75540716,"body_markdown":"You need to register your genButton&#39;s action listener. &lt;br&gt;\r\n``` \r\ngenButton.addActionListener(new java.awt.event.ActionListener() {\r\n     public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n            genButtonActionPerformed(evt);\r\n     }\r\n}); \r\n```\r\nAnd then make your button listener active &lt;br&gt;\r\n``` \r\nprivate void genButtonActionPerformed(java.awt.event.ActionEvent evt) {\r\n      ....\r\n}\r\n```","title":"I want to be able to use check boxes to allow users to select which parameters they want to add into their password in Java","body":"<p>You need to register your genButton's action listener. <br></p>\n<pre><code>genButton.addActionListener(new java.awt.event.ActionListener() {\n     public void actionPerformed(java.awt.event.ActionEvent evt) {\n            genButtonActionPerformed(evt);\n     }\n}); \n</code></pre>\n<p>And then make your button listener active <br></p>\n<pre><code>private void genButtonActionPerformed(java.awt.event.ActionEvent evt) {\n      ....\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26720597,"reputation":5,"user_id":20324530,"display_name":"bpatrick24"},"score":0,"creation_date":1677183613,"post_id":75542216,"comment_id":133293096,"body_markdown":"im confused why you have to return the panel. isnt the instance just created already? or does that make it available to the rest of the code program","body":"im confused why you have to return the panel. isnt the instance just created already? or does that make it available to the rest of the code program"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677185328,"post_id":75542216,"comment_id":133293510,"body_markdown":"@bpatrick24: Returning the `JPanel` from a method makes it available to be placed on the `JFrame`.  Any field you define in a method stays in the method unless it&#39;s returned.","body":"@bpatrick24: Returning the <code>JPanel</code> from a method makes it available to be placed on the <code>JFrame</code>.  Any field you define in a method stays in the method unless it&#39;s returned."}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677140639,"creation_date":1677140639,"answer_id":75542216,"question_id":75540716,"body_markdown":"I rearranged your code to create the following GUI:\r\n\r\n[![SPG][1]][1]\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.\r\n\r\nThe first thing I did was to separate the creation of the `JFrame` and the `JPanels` into separate methods.  This makes the code much easier for other people to read, separates your concerns, and allows you to focus on one part of the Swing GUI at a time.\r\n\r\nNext, I reordered the code so it&#39;s executed in the correct order.  The `JFrame` methods **must be called in a specific order**.  The order I coded is the order I use for most of my Swing applications.  `JPanels` should be created in column, row order.\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).\r\n\r\nThe only fields that need to be class instance fields are the fields that you use in more than one method.  Defining all your fields as class fields is a bad habit that confuses readers of your code.\r\n\r\nNone of your fields need to be static.\r\n\r\nThe `ActionListener` is attached to your `JButton`.  I build the `combinedChars` `String` based on your checkboxes, check to make sure at least one check box is checked, and create the password.  You might want to consider adding a `JSlider` to your GUI somewhere to specify the length of the password.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.security.SecureRandom;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingConstants;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.EmptyBorder;\r\n    \r\n    public class PasswordGenerator implements ActionListener, Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new PasswordGenerator());\r\n    \t}\r\n    \r\n    \tprivate JCheckBox upperCheckBox, lowerCheckBox, numCheckBox, symbolCheckBox;\r\n    \r\n    \tprivate JTextField textGenPassword;\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Strong Password Generator&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createTitlePanel(), BorderLayout.NORTH);\r\n    \t\tframe.add(createConfigurationPanel(), BorderLayout.WEST);\r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createTitlePanel() {\r\n    \t\tJPanel titlePanel = new JPanel(new GridBagLayout());\r\n    \t\ttitlePanel.setBackground(new Color(25, 25, 25));\r\n    \t\ttitlePanel.setPreferredSize(new Dimension(100, 60));\r\n    \r\n    \t\tJLabel title = new JLabel(&quot;Strong Password Generator&quot;);\r\n    \t\ttitle.setForeground(Color.WHITE);\r\n    \t\ttitle.setFont(new Font(&quot;Roboto&quot;, Font.BOLD, 20));\r\n    \t\ttitlePanel.add(title);\r\n    \r\n    \t\treturn titlePanel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createConfigurationPanel() {\r\n    \t\tJPanel configPanel = new JPanel(new GridLayout(0, 1, 20, 10));\r\n    \r\n    \t\tJLabel configTitle = new JLabel(&quot;  Configuration Settings  &quot;);\r\n    \t\tconfigTitle.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\tconfigTitle.setAlignmentX(JLabel.CENTER);\r\n    \t\tconfigTitle.setForeground(Color.BLACK);\r\n    \t\tconfigTitle.setBorder(new EmptyBorder(20, 0, 0, 0));\r\n    \t\tconfigPanel.add(configTitle);\r\n    \r\n    \t\tColor backgroundColor = new Color(107, 208, 255);\r\n    \r\n    \t\t// uppercase group\r\n    \t\tJLabel configUpperLabel = new JLabel();\r\n    \t\tconfigUpperLabel.setText(&quot;Uppercase Letters&quot;);\r\n    \t\tconfigUpperLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\tconfigPanel.add(configUpperLabel);\r\n    \r\n    \t\tupperCheckBox = new JCheckBox();\r\n    \t\tupperCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\tupperCheckBox.setBackground(backgroundColor);\r\n    \t\tconfigPanel.add(upperCheckBox);\r\n    \r\n    \t\t// lowercase group\r\n    \t\tJLabel configLowerLabel = new JLabel(&quot;Lowercase Letters&quot;);\r\n    \t\tconfigLowerLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\tconfigPanel.add(configLowerLabel);\r\n    \r\n    \t\tlowerCheckBox = new JCheckBox();\r\n    \t\tlowerCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\tlowerCheckBox.setBackground(backgroundColor);\r\n    \t\tconfigPanel.add(lowerCheckBox);\r\n    \r\n    \t\t// num group\r\n    \t\tJLabel configNumLabel = new JLabel(&quot;Numbers: ( e.g. 123)&quot;);\r\n    \t\tconfigNumLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\tconfigPanel.add(configNumLabel);\r\n    \r\n    \t\tnumCheckBox = new JCheckBox();\r\n    \t\tnumCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\tnumCheckBox.setBackground(backgroundColor);\r\n    \t\tconfigPanel.add(numCheckBox);\r\n    \r\n    \t\t// symbol group\r\n    \t\tJLabel configSymbolLabel = new JLabel(&quot;Symbols: ( e.g. ! @ $)&quot;);\r\n    \t\tconfigSymbolLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\tconfigPanel.add(configSymbolLabel);\r\n    \r\n    \t\tsymbolCheckBox = new JCheckBox();\r\n    \t\tsymbolCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\r\n    \t\tsymbolCheckBox.setBackground(backgroundColor);\r\n    \t\tconfigPanel.add(symbolCheckBox);\r\n    \r\n    \t\treturn configPanel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel mainPanel = new JPanel(new GridBagLayout());\r\n    \t\tmainPanel.setBackground(new Color(255, 255, 255));\r\n    \r\n    \t\tGridBagConstraints textFieldConstraints = new GridBagConstraints();\r\n    \t\ttextFieldConstraints.gridx = 0;\r\n    \t\ttextFieldConstraints.gridy = 0;\r\n    \t\ttextFieldConstraints.insets = new Insets(5, 5, 5, 5);\r\n    \r\n    \t\ttextGenPassword = new JTextField(20);\r\n    \t\tmainPanel.add(textGenPassword, textFieldConstraints);\r\n    \r\n    \t\tGridBagConstraints buttonConstraints = new GridBagConstraints();\r\n    \t\tbuttonConstraints.gridx = 0;\r\n    \t\tbuttonConstraints.gridy = 1;\r\n    \t\tbuttonConstraints.insets = new Insets(5, 5, 5, 5);\r\n    \r\n    \t\tJButton genButton = new JButton(&quot;Generate Password&quot;);\r\n    \t\tgenButton.addActionListener(this);\r\n    \t\tmainPanel.add(genButton, buttonConstraints);\r\n    \r\n    \t\treturn mainPanel;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent event) {\r\n    \t\tString upper = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    \t\tString lower = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n    \t\tString numbers = &quot;0123456789&quot;;\r\n    \t\tString symbols = &quot;~`!@#$%^&amp;*()_-+={[}]|\\\\:;\\&quot;&#39;&lt;,&gt;.?/&quot;;\r\n    \t\tString combinedChars = &quot;&quot;;\r\n    \r\n    \t\tif (upperCheckBox.isSelected()) {\r\n    \t\t\tcombinedChars += upper;\r\n    \t\t}\r\n    \r\n    \t\tif (lowerCheckBox.isSelected()) {\r\n    \t\t\tcombinedChars += lower;\r\n    \t\t}\r\n    \r\n    \t\tif (numCheckBox.isSelected()) {\r\n    \t\t\tcombinedChars += numbers;\r\n    \t\t}\r\n    \r\n    \t\tif (symbolCheckBox.isSelected()) {\r\n    \t\t\tcombinedChars += symbols;\r\n    \t\t}\r\n    \r\n    \t\tif (combinedChars.isEmpty()) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\tSecureRandom random = new SecureRandom();\r\n    \t\tStringBuilder password = new StringBuilder(16);\r\n    \r\n    \t\tfor (int i = 0; i &lt; 16; i++) {\r\n    \t\t\tint num = random.nextInt(combinedChars.length());\r\n    \t\t\tpassword.append(combinedChars.charAt(num));\r\n    \t\t}\r\n    \r\n    \t\ttextGenPassword.setText(password.toString());\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VXznj.png","title":"I want to be able to use check boxes to allow users to select which parameters they want to add into their password in Java","body":"<p>I rearranged your code to create the following GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/VXznj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VXznj.png\" alt=\"SPG\" /></a></p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section.</p>\n<p>The first thing I did was to separate the creation of the <code>JFrame</code> and the <code>JPanels</code> into separate methods.  This makes the code much easier for other people to read, separates your concerns, and allows you to focus on one part of the Swing GUI at a time.</p>\n<p>Next, I reordered the code so it's executed in the correct order.  The <code>JFrame</code> methods <strong>must be called in a specific order</strong>.  The order I coded is the order I use for most of my Swing applications.  <code>JPanels</code> should be created in column, row order.</p>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>The only fields that need to be class instance fields are the fields that you use in more than one method.  Defining all your fields as class fields is a bad habit that confuses readers of your code.</p>\n<p>None of your fields need to be static.</p>\n<p>The <code>ActionListener</code> is attached to your <code>JButton</code>.  I build the <code>combinedChars</code> <code>String</code> based on your checkboxes, check to make sure at least one check box is checked, and create the password.  You might want to consider adding a <code>JSlider</code> to your GUI somewhere to specify the length of the password.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.security.SecureRandom;\n\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingConstants;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.EmptyBorder;\n\npublic class PasswordGenerator implements ActionListener, Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new PasswordGenerator());\n    }\n\n    private JCheckBox upperCheckBox, lowerCheckBox, numCheckBox, symbolCheckBox;\n\n    private JTextField textGenPassword;\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Strong Password Generator&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createTitlePanel(), BorderLayout.NORTH);\n        frame.add(createConfigurationPanel(), BorderLayout.WEST);\n        frame.add(createMainPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createTitlePanel() {\n        JPanel titlePanel = new JPanel(new GridBagLayout());\n        titlePanel.setBackground(new Color(25, 25, 25));\n        titlePanel.setPreferredSize(new Dimension(100, 60));\n\n        JLabel title = new JLabel(&quot;Strong Password Generator&quot;);\n        title.setForeground(Color.WHITE);\n        title.setFont(new Font(&quot;Roboto&quot;, Font.BOLD, 20));\n        titlePanel.add(title);\n\n        return titlePanel;\n    }\n\n    private JPanel createConfigurationPanel() {\n        JPanel configPanel = new JPanel(new GridLayout(0, 1, 20, 10));\n\n        JLabel configTitle = new JLabel(&quot;  Configuration Settings  &quot;);\n        configTitle.setHorizontalAlignment(SwingConstants.CENTER);\n        configTitle.setAlignmentX(JLabel.CENTER);\n        configTitle.setForeground(Color.BLACK);\n        configTitle.setBorder(new EmptyBorder(20, 0, 0, 0));\n        configPanel.add(configTitle);\n\n        Color backgroundColor = new Color(107, 208, 255);\n\n        // uppercase group\n        JLabel configUpperLabel = new JLabel();\n        configUpperLabel.setText(&quot;Uppercase Letters&quot;);\n        configUpperLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        configPanel.add(configUpperLabel);\n\n        upperCheckBox = new JCheckBox();\n        upperCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\n        upperCheckBox.setBackground(backgroundColor);\n        configPanel.add(upperCheckBox);\n\n        // lowercase group\n        JLabel configLowerLabel = new JLabel(&quot;Lowercase Letters&quot;);\n        configLowerLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        configPanel.add(configLowerLabel);\n\n        lowerCheckBox = new JCheckBox();\n        lowerCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\n        lowerCheckBox.setBackground(backgroundColor);\n        configPanel.add(lowerCheckBox);\n\n        // num group\n        JLabel configNumLabel = new JLabel(&quot;Numbers: ( e.g. 123)&quot;);\n        configNumLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        configPanel.add(configNumLabel);\n\n        numCheckBox = new JCheckBox();\n        numCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\n        numCheckBox.setBackground(backgroundColor);\n        configPanel.add(numCheckBox);\n\n        // symbol group\n        JLabel configSymbolLabel = new JLabel(&quot;Symbols: ( e.g. ! @ $)&quot;);\n        configSymbolLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        configPanel.add(configSymbolLabel);\n\n        symbolCheckBox = new JCheckBox();\n        symbolCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\n        symbolCheckBox.setBackground(backgroundColor);\n        configPanel.add(symbolCheckBox);\n\n        return configPanel;\n    }\n\n    private JPanel createMainPanel() {\n        JPanel mainPanel = new JPanel(new GridBagLayout());\n        mainPanel.setBackground(new Color(255, 255, 255));\n\n        GridBagConstraints textFieldConstraints = new GridBagConstraints();\n        textFieldConstraints.gridx = 0;\n        textFieldConstraints.gridy = 0;\n        textFieldConstraints.insets = new Insets(5, 5, 5, 5);\n\n        textGenPassword = new JTextField(20);\n        mainPanel.add(textGenPassword, textFieldConstraints);\n\n        GridBagConstraints buttonConstraints = new GridBagConstraints();\n        buttonConstraints.gridx = 0;\n        buttonConstraints.gridy = 1;\n        buttonConstraints.insets = new Insets(5, 5, 5, 5);\n\n        JButton genButton = new JButton(&quot;Generate Password&quot;);\n        genButton.addActionListener(this);\n        mainPanel.add(genButton, buttonConstraints);\n\n        return mainPanel;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent event) {\n        String upper = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n        String lower = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n        String numbers = &quot;0123456789&quot;;\n        String symbols = &quot;~`!@#$%^&amp;*()_-+={[}]|\\\\:;\\&quot;'&lt;,&gt;.?/&quot;;\n        String combinedChars = &quot;&quot;;\n\n        if (upperCheckBox.isSelected()) {\n            combinedChars += upper;\n        }\n\n        if (lowerCheckBox.isSelected()) {\n            combinedChars += lower;\n        }\n\n        if (numCheckBox.isSelected()) {\n            combinedChars += numbers;\n        }\n\n        if (symbolCheckBox.isSelected()) {\n            combinedChars += symbols;\n        }\n\n        if (combinedChars.isEmpty()) {\n            return;\n        }\n\n        SecureRandom random = new SecureRandom();\n        StringBuilder password = new StringBuilder(16);\n\n        for (int i = 0; i &lt; 16; i++) {\n            int num = random.nextInt(combinedChars.length());\n            password.append(combinedChars.charAt(num));\n        }\n\n        textGenPassword.setText(password.toString());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26720597,"reputation":5,"user_id":20324530,"display_name":"bpatrick24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75542216,"answer_count":2,"score":0,"last_activity_date":1677163765,"creation_date":1677128450,"question_id":75540716,"body_markdown":"    //Removed imports as I felt they were uneccessary to include\r\n    //So my program currently can produce a string of 16 characters with random chars from the strings \r\n    //(cont.) LOWER, UPPER, NUMBERS, SYMBOLS\r\n    //I want to be able to check specific boxes that will allow me to &quot;filter&quot; what chars i select\r\n\r\n```\r\npublic class Main implements ActionListener{\r\n\t\r\n\tpublic final static String LOWER = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\tpublic final static String UPPER = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n\tpublic final static String NUMBERS = &quot;0123456789&quot;;\r\n\tpublic final static String SYMBOLS = &quot;~`!@#$%^&amp;*()_-+={[}]|\\\\:;\\&quot;&#39;&lt;,&gt;.?/&quot;;\r\n\tstatic JButton genButton;\r\n\tstatic JTextField textGenPassword;\r\n\tstatic generatePassword password;\r\n\tstatic JCheckBox upperCheckBox;\r\n\tstatic JCheckBox lowerCheckBox;\r\n\tstatic JCheckBox numCheckBox;\r\n\tstatic JCheckBox symbolCheckBox;\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\tpassword = new generatePassword();\r\n\t\t\r\n\t\tJFrame frame = new JFrame();\r\n\t\tJPanel titlePanel = new JPanel();\t\r\n\t\tJPanel configPanel = new JPanel(); \r\n\t\tJPanel mainPanel = new JPanel();\r\n\t\tJLabel title = new JLabel();\r\n\t\tJLabel configTitle = new JLabel();\r\n\t\tJCheckBox upperCheckBox = new JCheckBox();\r\n\t\tJCheckBox lowerCheckBox = new JCheckBox();\r\n\t\tJCheckBox numCheckBox = new JCheckBox();\r\n\t\tJCheckBox symbolCheckBox = new JCheckBox();\r\n\t\tJLabel configUpperLabel = new JLabel();\r\n\t\tJLabel configLowerLabel = new JLabel();\r\n\t\tJLabel configNumLabel = new JLabel();\r\n\t\tJLabel configSymbolLabel = new JLabel();\r\n\t\ttextGenPassword = new JTextField();\r\n\t\tgenButton = new JButton(&quot;Generate Password&quot;);\r\n\t\t\r\n\t\t//Title panel\r\n\t\ttitlePanel.setBackground(new Color(25, 25, 25));\r\n\t\ttitlePanel.setPreferredSize(new Dimension(100,100));\r\n\t\ttitlePanel.add(title);\r\n\t\ttitlePanel.setLayout(new GridBagLayout());\r\n\t\t\r\n\t\ttitle.setText(&quot;Strong Password Generator&quot;);\r\n\t\ttitle.setForeground(Color.WHITE);\r\n\t\ttitle.setFont(new Font(&quot;Roboto&quot;, Font.BOLD, 20));\r\n\t\t\r\n\t\t//Config Panel\r\n\t\tconfigPanel.add(configTitle);\r\n\t\tconfigPanel.setLayout(new GridLayout(9,1,20,10));\r\n\t\tconfigTitle.setText(&quot;Configuration Settings&quot;);\r\n\t\tconfigTitle.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tconfigTitle.setAlignmentX(JLabel.CENTER);\r\n\t\tconfigTitle.setForeground(Color.BLACK);\r\n\t\tBorder configBorder = new EmptyBorder(20, 0, 0, 0);\r\n\t\tconfigTitle.setBorder(configBorder);\r\n\t\t\r\n\t\t\r\n\t\t//upercase group\r\n\t\tconfigPanel.add(configUpperLabel);\r\n\t\tconfigUpperLabel.setText(&quot;Uppercase Letters&quot;);\r\n\t\tconfigUpperLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tconfigPanel.add(upperCheckBox);\r\n\t\tupperCheckBox.addActionListener(password);\r\n\t\tupperCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tupperCheckBox.setBackground(new Color(107, 208, 255));\r\n\t\t\r\n\r\n\t\t//lowercase group\r\n\t\tconfigPanel.add(configLowerLabel);\r\n\t\tconfigLowerLabel.setText(&quot;Lowercase Letters&quot;);\r\n\t\tconfigLowerLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tconfigPanel.add(lowerCheckBox);\r\n\t\tlowerCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlowerCheckBox.setBackground(new Color(107, 208, 255));\r\n\t\t\r\n\t\t//num group\r\n\t\tconfigPanel.add(configNumLabel);\r\n\t\tconfigNumLabel.setText(&quot;Numbers: ( e.g. 123)&quot;);\r\n\t\tconfigNumLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tconfigPanel.add(numCheckBox);\r\n\t\tnumCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tnumCheckBox.setBackground(new Color(107, 208, 255));\r\n\t\t\r\n\t\t//symbol group\r\n\t\tconfigPanel.add(configSymbolLabel);\r\n\t\tconfigSymbolLabel.setText(&quot;Symbols: ( e.g. ! @ $)&quot;);\r\n\t\tconfigSymbolLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tconfigPanel.add(symbolCheckBox);\r\n\t\tsymbolCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tsymbolCheckBox.setBackground(new Color(107, 208, 255));\r\n\r\n\t\t\r\n\t\tconfigPanel.setBackground(new Color(107, 208, 255));\r\n\t\tconfigPanel.setPreferredSize(new Dimension(200,150));\r\n\t\r\n\r\n\t\t//Main panel\r\n\t\tmainPanel.setLayout(new GridBagLayout());\r\n\t\tmainPanel.setBackground(new Color(255, 255, 255));\r\n\t\tmainPanel.setPreferredSize(new Dimension(200, 150));\r\n\r\n\t\ttextGenPassword.setPreferredSize(new Dimension(250, 25));\r\n\t\ttextGenPassword.setLocation(100, 100);\r\n\t\ttextGenPassword.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\t\r\n\t\tgenButton.addActionListener(password);\r\n\r\n\t\t//gridbag constraints\r\n\t\tGridBagConstraints textFieldConstraints = new GridBagConstraints();\r\n\t\ttextFieldConstraints.gridx = 0; \r\n\t\ttextFieldConstraints.gridy = 0; \r\n\t\ttextFieldConstraints.fill = GridBagConstraints.HORIZONTAL;\r\n\t\ttextFieldConstraints.insets = new Insets(5, 5, 5, 5); \r\n\r\n\t\t\r\n\t\tmainPanel.add(textGenPassword, textFieldConstraints);\r\n\r\n\t\t\r\n\t\tGridBagConstraints buttonConstraints = new GridBagConstraints();\r\n\t\tbuttonConstraints.gridx = 0; \r\n\t\tbuttonConstraints.gridy = 1; \r\n\t\tbuttonConstraints.insets = new Insets(5, 5, 5, 5); \r\n\r\n\t\t\r\n\t\tmainPanel.add(genButton, buttonConstraints);\r\n\t\t\r\n\t\tframe.setSize(900,600);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setLayout(new BorderLayout());\r\n\t\tframe.setResizable(false);\r\n\t\t\r\n\t\tframe.add(titlePanel,BorderLayout.NORTH);\r\n\t\tframe.add(configPanel,BorderLayout.WEST);\r\n\t\tframe.add(mainPanel,BorderLayout.CENTER);\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif (e.getSource() == genButton) {\r\n\t\t\ttextGenPassword.setText(password.genPassword());\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n}\r\n\r\n//start of separate class in separate file\r\n\r\npublic class generatePassword extends Main implements ActionListener{\r\n\t\r\n\r\n\tpublic String genPassword() {\r\n\t\t\r\n\t\tSecureRandom random = new SecureRandom();\r\n\t\tString combinedChars = LOWER + UPPER + NUMBERS + SYMBOLS;\r\n\t\tStringBuilder password = new StringBuilder(16);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 16; i++) {\r\n\t\t\tint num = random.nextInt(combinedChars.length());\r\n\t\t\tpassword.append(combinedChars.charAt(num));\r\n\t\t}\r\n\t\t\r\n\t\treturn password.toString();\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n\r\nI have tried to set up actioneventlisteners and itemeventlisteners on the check boes, but im not sure what im doing wrong?\r\n\r\nI&#39;ll write something like this\r\n\r\n```\r\n@Override\r\n\r\n        if(upperCheckBox.isSelected()) {\r\n            combinedChars += UPPER;\r\n        }\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif (e.getSource() == genButton) {\r\n\t\t\ttextGenPassword.setText(password.genPassword());\r\n\t\t}\r\n\t\t\r\n\t}\r\n```\r\n\r\nI will set the combinedChars variable to null before doing this, as well as trying to add the event listener to the checkbox, but nothing i seem to do works? I am really lost.","title":"I want to be able to use check boxes to allow users to select which parameters they want to add into their password in Java","body":"<pre><code>//Removed imports as I felt they were uneccessary to include\n//So my program currently can produce a string of 16 characters with random chars from the strings \n//(cont.) LOWER, UPPER, NUMBERS, SYMBOLS\n//I want to be able to check specific boxes that will allow me to &quot;filter&quot; what chars i select\n</code></pre>\n<pre><code>public class Main implements ActionListener{\n    \n    public final static String LOWER = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n    public final static String UPPER = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n    public final static String NUMBERS = &quot;0123456789&quot;;\n    public final static String SYMBOLS = &quot;~`!@#$%^&amp;*()_-+={[}]|\\\\:;\\&quot;'&lt;,&gt;.?/&quot;;\n    static JButton genButton;\n    static JTextField textGenPassword;\n    static generatePassword password;\n    static JCheckBox upperCheckBox;\n    static JCheckBox lowerCheckBox;\n    static JCheckBox numCheckBox;\n    static JCheckBox symbolCheckBox;\n\n\n    public static void main(String[] args) {\n        \n        \n        password = new generatePassword();\n        \n        JFrame frame = new JFrame();\n        JPanel titlePanel = new JPanel();   \n        JPanel configPanel = new JPanel(); \n        JPanel mainPanel = new JPanel();\n        JLabel title = new JLabel();\n        JLabel configTitle = new JLabel();\n        JCheckBox upperCheckBox = new JCheckBox();\n        JCheckBox lowerCheckBox = new JCheckBox();\n        JCheckBox numCheckBox = new JCheckBox();\n        JCheckBox symbolCheckBox = new JCheckBox();\n        JLabel configUpperLabel = new JLabel();\n        JLabel configLowerLabel = new JLabel();\n        JLabel configNumLabel = new JLabel();\n        JLabel configSymbolLabel = new JLabel();\n        textGenPassword = new JTextField();\n        genButton = new JButton(&quot;Generate Password&quot;);\n        \n        //Title panel\n        titlePanel.setBackground(new Color(25, 25, 25));\n        titlePanel.setPreferredSize(new Dimension(100,100));\n        titlePanel.add(title);\n        titlePanel.setLayout(new GridBagLayout());\n        \n        title.setText(&quot;Strong Password Generator&quot;);\n        title.setForeground(Color.WHITE);\n        title.setFont(new Font(&quot;Roboto&quot;, Font.BOLD, 20));\n        \n        //Config Panel\n        configPanel.add(configTitle);\n        configPanel.setLayout(new GridLayout(9,1,20,10));\n        configTitle.setText(&quot;Configuration Settings&quot;);\n        configTitle.setHorizontalAlignment(SwingConstants.CENTER);\n        configTitle.setAlignmentX(JLabel.CENTER);\n        configTitle.setForeground(Color.BLACK);\n        Border configBorder = new EmptyBorder(20, 0, 0, 0);\n        configTitle.setBorder(configBorder);\n        \n        \n        //upercase group\n        configPanel.add(configUpperLabel);\n        configUpperLabel.setText(&quot;Uppercase Letters&quot;);\n        configUpperLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        configPanel.add(upperCheckBox);\n        upperCheckBox.addActionListener(password);\n        upperCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\n        upperCheckBox.setBackground(new Color(107, 208, 255));\n        \n\n        //lowercase group\n        configPanel.add(configLowerLabel);\n        configLowerLabel.setText(&quot;Lowercase Letters&quot;);\n        configLowerLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        configPanel.add(lowerCheckBox);\n        lowerCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\n        lowerCheckBox.setBackground(new Color(107, 208, 255));\n        \n        //num group\n        configPanel.add(configNumLabel);\n        configNumLabel.setText(&quot;Numbers: ( e.g. 123)&quot;);\n        configNumLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        configPanel.add(numCheckBox);\n        numCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\n        numCheckBox.setBackground(new Color(107, 208, 255));\n        \n        //symbol group\n        configPanel.add(configSymbolLabel);\n        configSymbolLabel.setText(&quot;Symbols: ( e.g. ! @ $)&quot;);\n        configSymbolLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        configPanel.add(symbolCheckBox);\n        symbolCheckBox.setHorizontalAlignment(SwingConstants.CENTER);\n        symbolCheckBox.setBackground(new Color(107, 208, 255));\n\n        \n        configPanel.setBackground(new Color(107, 208, 255));\n        configPanel.setPreferredSize(new Dimension(200,150));\n    \n\n        //Main panel\n        mainPanel.setLayout(new GridBagLayout());\n        mainPanel.setBackground(new Color(255, 255, 255));\n        mainPanel.setPreferredSize(new Dimension(200, 150));\n\n        textGenPassword.setPreferredSize(new Dimension(250, 25));\n        textGenPassword.setLocation(100, 100);\n        textGenPassword.setHorizontalAlignment(SwingConstants.CENTER);\n        \n        genButton.addActionListener(password);\n\n        //gridbag constraints\n        GridBagConstraints textFieldConstraints = new GridBagConstraints();\n        textFieldConstraints.gridx = 0; \n        textFieldConstraints.gridy = 0; \n        textFieldConstraints.fill = GridBagConstraints.HORIZONTAL;\n        textFieldConstraints.insets = new Insets(5, 5, 5, 5); \n\n        \n        mainPanel.add(textGenPassword, textFieldConstraints);\n\n        \n        GridBagConstraints buttonConstraints = new GridBagConstraints();\n        buttonConstraints.gridx = 0; \n        buttonConstraints.gridy = 1; \n        buttonConstraints.insets = new Insets(5, 5, 5, 5); \n\n        \n        mainPanel.add(genButton, buttonConstraints);\n        \n        frame.setSize(900,600);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(new BorderLayout());\n        frame.setResizable(false);\n        \n        frame.add(titlePanel,BorderLayout.NORTH);\n        frame.add(configPanel,BorderLayout.WEST);\n        frame.add(mainPanel,BorderLayout.CENTER);\n        \n        \n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == genButton) {\n            textGenPassword.setText(password.genPassword());\n        }\n        \n    }\n\n\n\n}\n\n//start of separate class in separate file\n\npublic class generatePassword extends Main implements ActionListener{\n    \n\n    public String genPassword() {\n        \n        SecureRandom random = new SecureRandom();\n        String combinedChars = LOWER + UPPER + NUMBERS + SYMBOLS;\n        StringBuilder password = new StringBuilder(16);\n        \n        for (int i = 0; i &lt; 16; i++) {\n            int num = random.nextInt(combinedChars.length());\n            password.append(combinedChars.charAt(num));\n        }\n        \n        return password.toString();\n        \n    }\n    \n    \n}\n</code></pre>\n<p>I have tried to set up actioneventlisteners and itemeventlisteners on the check boes, but im not sure what im doing wrong?</p>\n<p>I'll write something like this</p>\n<pre><code>@Override\n\n        if(upperCheckBox.isSelected()) {\n            combinedChars += UPPER;\n        }\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == genButton) {\n            textGenPassword.setText(password.genPassword());\n        }\n        \n    }\n</code></pre>\n<p>I will set the combinedChars variable to null before doing this, as well as trying to add the event listener to the checkbox, but nothing i seem to do works? I am really lost.</p>\n"},{"tags":["java","android","admob","exoplayer","admob-rewardedvideoad"],"owner":{"account_id":6939119,"reputation":435,"user_id":5326098,"accept_rate":88,"display_name":"Panther"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677163616,"creation_date":1648157057,"question_id":71609608,"body_markdown":"I am using AdMob in my Android app. Ads are usually working fine.\r\n\r\nHowever, sometimes I get following errors when trying to load a RewardedAd. It often appears when loading multiple (different) ads. Once this error appears, no other AdMob ads including Interstitials can show anymore until the app cold starts again. The problem is that my app permanently needs to run a background service which makes the app never restart.\r\n\r\nIs there any way I can fix this error in runtime without restarting the app?\r\n\r\n    D/CCodecConfig: read media type: audio/mp4a-latm\r\n    I/CCodecConfig: query failed after returning 19 values (BAD_INDEX)\r\n    I/CCodecConfig: query failed after returning 19 values (BAD_INDEX)\r\n\r\n    E/ExoPlayerImplInternal: Renderer error.\r\n    com.google.android.gms.ads.exoplayer3.c\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:20)\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:4)\r\n        at com.google.android.gms.ads.exoplayer3.video.h.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:1)\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.z(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:3)\r\n        at com.google.android.gms.ads.exoplayer3.n.handleMessage(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:42)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loopOnce(Looper.java:226)\r\n        at android.os.Looper.loop(Looper.java:313)\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)\r\n     Caused by: com.google.android.gms.ads.exoplayer3.mediacodec.b: Decoder init failed: OMX.Exynos.vp9.dec, Format(1, null, video/x-vnd.on2.vp9, -1, null, [640, 360, -1.0], [-1, -1])\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:19)\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:4)&#160;\r\n        at com.google.android.gms.ads.exoplayer3.video.h.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:1)&#160;\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.z(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:3)&#160;\r\n        at com.google.android.gms.ads.exoplayer3.n.handleMessage(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:42)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:226)&#160;\r\n        at android.os.Looper.loop(Looper.java:313)&#160;\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)&#160;\r\n     Caused by: android.media.MediaCodec$CodecException: Failed to initialize OMX.Exynos.vp9.dec, error 0xfffffff4\r\n        at android.media.MediaCodec.native_setup(Native Method)\r\n        at android.media.MediaCodec.&lt;init&gt;(MediaCodec.java:1961)\r\n        at android.media.MediaCodec.createByCodecName(MediaCodec.java:1938)\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:9)\r\n\r\nand immediately afterwards\r\n\r\n    W/Ads: Precache error\r\n    com.google.android.gms.ads.exoplayer3.c\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:20)\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:4)\r\n        at com.google.android.gms.ads.exoplayer3.video.h.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:1)\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.z(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:3)\r\n        at com.google.android.gms.ads.exoplayer3.n.handleMessage(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:42)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loopOnce(Looper.java:226)\r\n        at android.os.Looper.loop(Looper.java:313)\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)\r\n     Caused by: com.google.android.gms.ads.exoplayer3.mediacodec.b: Decoder init failed: OMX.Exynos.vp9.dec, Format(1, null, video/x-vnd.on2.vp9, -1, null, [640, 360, -1.0], [-1, -1])\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:19)\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:4)&#160;\r\n        at com.google.android.gms.ads.exoplayer3.video.h.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:1)&#160;\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.z(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:3)&#160;\r\n        at com.google.android.gms.ads.exoplayer3.n.handleMessage(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:42)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:226)&#160;\r\n        at android.os.Looper.loop(Looper.java:313)&#160;\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)&#160;\r\n     Caused by: android.media.MediaCodec$CodecException: Failed to initialize OMX.Exynos.vp9.dec, error 0xfffffff4\r\n        at android.media.MediaCodec.native_setup(Native Method)\r\n        at android.media.MediaCodec.&lt;init&gt;(MediaCodec.java:1961)\r\n        at android.media.MediaCodec.createByCodecName(MediaCodec.java:1938)\r\n        at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:9)\r\n\r\n    I/Ads: Ad failed to load : 0\r\n    W/Ads: Failed to preload url VIDEO_... Exception: ExoPlayer was released during preloading.\r\n    W/Ads: #004 The webview is destroyed. Ignoring action.","title":"AdMob ExoPlayerImplInternal: Renderer error","body":"<p>I am using AdMob in my Android app. Ads are usually working fine.</p>\n<p>However, sometimes I get following errors when trying to load a RewardedAd. It often appears when loading multiple (different) ads. Once this error appears, no other AdMob ads including Interstitials can show anymore until the app cold starts again. The problem is that my app permanently needs to run a background service which makes the app never restart.</p>\n<p>Is there any way I can fix this error in runtime without restarting the app?</p>\n<pre><code>D/CCodecConfig: read media type: audio/mp4a-latm\nI/CCodecConfig: query failed after returning 19 values (BAD_INDEX)\nI/CCodecConfig: query failed after returning 19 values (BAD_INDEX)\n\nE/ExoPlayerImplInternal: Renderer error.\ncom.google.android.gms.ads.exoplayer3.c\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:20)\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:4)\n    at com.google.android.gms.ads.exoplayer3.video.h.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:1)\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.z(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:3)\n    at com.google.android.gms.ads.exoplayer3.n.handleMessage(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:42)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.os.HandlerThread.run(HandlerThread.java:67)\n Caused by: com.google.android.gms.ads.exoplayer3.mediacodec.b: Decoder init failed: OMX.Exynos.vp9.dec, Format(1, null, video/x-vnd.on2.vp9, -1, null, [640, 360, -1.0], [-1, -1])\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:19)\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:4) \n    at com.google.android.gms.ads.exoplayer3.video.h.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:1) \n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.z(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:3) \n    at com.google.android.gms.ads.exoplayer3.n.handleMessage(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:42) \n    at android.os.Handler.dispatchMessage(Handler.java:102) \n    at android.os.Looper.loopOnce(Looper.java:226) \n    at android.os.Looper.loop(Looper.java:313) \n    at android.os.HandlerThread.run(HandlerThread.java:67) \n Caused by: android.media.MediaCodec$CodecException: Failed to initialize OMX.Exynos.vp9.dec, error 0xfffffff4\n    at android.media.MediaCodec.native_setup(Native Method)\n    at android.media.MediaCodec.&lt;init&gt;(MediaCodec.java:1961)\n    at android.media.MediaCodec.createByCodecName(MediaCodec.java:1938)\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:9)\n</code></pre>\n<p>and immediately afterwards</p>\n<pre><code>W/Ads: Precache error\ncom.google.android.gms.ads.exoplayer3.c\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:20)\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:4)\n    at com.google.android.gms.ads.exoplayer3.video.h.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:1)\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.z(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:3)\n    at com.google.android.gms.ads.exoplayer3.n.handleMessage(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:42)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.os.HandlerThread.run(HandlerThread.java:67)\n Caused by: com.google.android.gms.ads.exoplayer3.mediacodec.b: Decoder init failed: OMX.Exynos.vp9.dec, Format(1, null, video/x-vnd.on2.vp9, -1, null, [640, 360, -1.0], [-1, -1])\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:19)\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:4) \n    at com.google.android.gms.ads.exoplayer3.video.h.G(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:1) \n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.z(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:3) \n    at com.google.android.gms.ads.exoplayer3.n.handleMessage(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:42) \n    at android.os.Handler.dispatchMessage(Handler.java:102) \n    at android.os.Looper.loopOnce(Looper.java:226) \n    at android.os.Looper.loop(Looper.java:313) \n    at android.os.HandlerThread.run(HandlerThread.java:67) \n Caused by: android.media.MediaCodec$CodecException: Failed to initialize OMX.Exynos.vp9.dec, error 0xfffffff4\n    at android.media.MediaCodec.native_setup(Native Method)\n    at android.media.MediaCodec.&lt;init&gt;(MediaCodec.java:1961)\n    at android.media.MediaCodec.createByCodecName(MediaCodec.java:1938)\n    at com.google.android.gms.ads.exoplayer3.mediacodec.c.N(:com.google.android.gms.policy_ads_fdr_dynamite@214106404@214106404057.409717972.409717972:9)\n\nI/Ads: Ad failed to load : 0\nW/Ads: Failed to preload url VIDEO_... Exception: ExoPlayer was released during preloading.\nW/Ads: #004 The webview is destroyed. Ignoring action.\n</code></pre>\n"},{"tags":["java","dashboard","mfrc522"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677223940,"post_id":75546346,"comment_id":133299110,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27301848,"reputation":1,"user_id":20818450,"display_name":"matias villegas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677163369,"creation_date":1677163369,"question_id":75546346,"body_markdown":"I am in a FRC robotics team and we are trying to customize our shuffleboard to match our team colors but we cannot find how to do it, we have gone into the documentation and copy pasted the suggested code, looked around in forums and we just can&#39;t do it, can somebody who has managed to customize it please explain how to change it?\r\n","title":"How to change color of a widget in java","body":"<p>I am in a FRC robotics team and we are trying to customize our shuffleboard to match our team colors but we cannot find how to do it, we have gone into the documentation and copy pasted the suggested code, looked around in forums and we just can't do it, can somebody who has managed to customize it please explain how to change it?</p>\n"},{"tags":["java","android-intent","action","google-assistant-sdk","assistant"],"owner":{"account_id":26148304,"reputation":1,"user_id":21273760,"display_name":"Happy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677163251,"creation_date":1677163251,"question_id":75546320,"body_markdown":"I have been assigned a task to create an Android app integrated with Google Action. As an example, the user could ask Google, &quot;How many hours do I have left to wake up?&quot;.\r\n\r\n1. The app requires a PIN for access.\r\n\r\n2. The user will provide the PIN via voice to the Google Assistant.\r\n\r\n3. If the PIN is correct, the app will provide the user with the remaining hours until wake-up time in google Assistant\r\n\r\nI&#39;m curious if there are any alternative methods to achieve this without opening the app. Is this possible to just stay in the interaction with google?\r\n\r\nI have tried to create the app and the customt intent","title":"Can I create a conversation with google action on my app?","body":"<p>I have been assigned a task to create an Android app integrated with Google Action. As an example, the user could ask Google, &quot;How many hours do I have left to wake up?&quot;.</p>\n<ol>\n<li><p>The app requires a PIN for access.</p>\n</li>\n<li><p>The user will provide the PIN via voice to the Google Assistant.</p>\n</li>\n<li><p>If the PIN is correct, the app will provide the user with the remaining hours until wake-up time in google Assistant</p>\n</li>\n</ol>\n<p>I'm curious if there are any alternative methods to achieve this without opening the app. Is this possible to just stay in the interaction with google?</p>\n<p>I have tried to create the app and the customt intent</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1676873698,"post_id":75504468,"comment_id":133218042,"body_markdown":"One thing that is wrong is that `Product.orders` is `mappedBy = &quot;order&quot;` while `EshopOrder.items` is `mappedBy = &quot;product&quot;`. It should be the other way round.","body":"One thing that is wrong is that <code>Product.orders</code> is <code>mappedBy = &quot;order&quot;</code> while <code>EshopOrder.items</code> is <code>mappedBy = &quot;product&quot;</code>. It should be the other way round."},{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":0,"creation_date":1676879552,"post_id":75504468,"comment_id":133219154,"body_markdown":"just as advice of column naming. Better to use suffix &quot;_id&quot;","body":"just as advice of column naming. Better to use suffix &quot;_id&quot;"},{"owner":{"account_id":9859905,"reputation":128,"user_id":7303261,"accept_rate":80,"display_name":"user7303261"},"score":0,"creation_date":1676894945,"post_id":75504468,"comment_id":133223283,"body_markdown":"@NikosParaskevopoulos Yeah sorry, it&#39;s just copy-paste typo, in my IDE I have the right version, where this is correct. The main problem naturally still remains...","body":"@NikosParaskevopoulos Yeah sorry, it&#39;s just copy-paste typo, in my IDE I have the right version, where this is correct. The main problem naturally still remains..."}],"answers":[{"comments":[{"owner":{"account_id":9859905,"reputation":128,"user_id":7303261,"accept_rate":80,"display_name":"user7303261"},"score":0,"creation_date":1677116695,"post_id":75514770,"comment_id":133276404,"body_markdown":"Thanks for your idea. Can you please take a look at the edit of my question?","body":"Thanks for your idea. Can you please take a look at the edit of my question?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677162859,"post_id":75514770,"comment_id":133286560,"body_markdown":"I&#39;m not sure what you mean by of course it doesn&#39;t work - what you have worked in JPA 1. before the addition of derived IDs. You just have to set the basic ID value from the reference mapping yourself - but why would you when JPA will do this for you if you get the MapsId correct as I mentioned in my answer - it is not an idea, it is what is happening and how to fix it","body":"I&#39;m not sure what you mean by of course it doesn&#39;t work - what you have worked in JPA 1. before the addition of derived IDs. You just have to set the basic ID value from the reference mapping yourself - but why would you when JPA will do this for you if you get the MapsId correct as I mentioned in my answer - it is not an idea, it is what is happening and how to fix it"}],"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677163186,"creation_date":1676932261,"answer_id":75514770,"question_id":75504468,"body_markdown":"Issue here is that the ManyToOne mappings are using the JPA default column n name values because you haven&#39;t defined the JoinColumn definition, so in the case of OrderItem.order, the FK column used becomes order_id_order. MapsId tells JPA that the ManyToOne mapping defines the column and the values, so that the column annotations on the ID field are not used.\r\n\r\nThis should be:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;idOrder&quot;)\r\n    @JoinColumn(name=&quot;id_order&quot;)\r\n    private EshopOrder order;\r\n \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;idProduct&quot;)\r\n    @JoinColumn(name=&quot;id_product&quot;)\r\n    private Product product;","title":"Many-to-many naming column issue","body":"<p>Issue here is that the ManyToOne mappings are using the JPA default column n name values because you haven't defined the JoinColumn definition, so in the case of OrderItem.order, the FK column used becomes order_id_order. MapsId tells JPA that the ManyToOne mapping defines the column and the values, so that the column annotations on the ID field are not used.</p>\n<p>This should be:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@MapsId(&quot;idOrder&quot;)\n@JoinColumn(name=&quot;id_order&quot;)\nprivate EshopOrder order;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@MapsId(&quot;idProduct&quot;)\n@JoinColumn(name=&quot;id_product&quot;)\nprivate Product product;\n</code></pre>\n"}],"owner":{"account_id":9859905,"reputation":128,"user_id":7303261,"accept_rate":80,"display_name":"user7303261"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677163186,"creation_date":1676855612,"question_id":75504468,"body_markdown":"I try to create a `ManyToMany` relation with one extra column (`OrderItem.quantity`). So I use following entities:\r\n**Orders table:**\r\n\r\n\r\n    @Entity(name = &quot;EshopOrder&quot;)\r\n    @Table(name=&quot;eshop_order&quot;)\r\n    public class EshopOrder implements Serializable{\r\n    \r\n    \t@Id\r\n    \t@Column(name=&quot;id_order&quot;)\r\n    \tprivate int idOrder;\r\n    \t\r\n    \t@Column(name=&quot;date_created&quot;)\r\n    \tprivate Date dateCreated;\r\n    \t\r\n    \t@Column(name=&quot;total&quot;)\r\n    \tprivate float total;\r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name=&quot;id_customer&quot;)\r\n    \tprivate Customer customer;\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\t\r\n    \tprivate List&lt;OrderItem&gt; items = new ArrayList&lt;OrderItem&gt;();\r\n    \t\r\n    \tpublic EshopOrder() {\r\n    \t\t\r\n    \t}\r\n        ... getters, etc.\r\n    }\r\n\r\n**&quot;Join table&quot;:**\r\n\r\n    @Entity(name = &quot;OrderItem&quot;)\r\n    @Table(name=&quot;order_item&quot;)\r\n    public class OrderItem {\r\n    \t\r\n    \t@EmbeddedId\r\n    \tprivate OrderItemId id;\r\n    \t\r\n    \t@Column(name=&quot;quantity&quot;)\r\n    \tprivate Integer quantity;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n        @MapsId(&quot;idOrder&quot;)\r\n        private EshopOrder order;\r\n     \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @MapsId(&quot;idProduct&quot;)\r\n        private Product product;\r\n        \r\n    \tpublic OrderItem() {\r\n    \t}\r\n    \t\r\n    \tpublic OrderItem(EshopOrder order, Product product, Integer quantity) {\r\n    \t\tthis.order = order;\r\n    \t\tthis.product = product;\r\n    \t\tthis.quantity = quantity;\r\n    \t\tthis.id = new OrderItemId(order.getIdOrder(), product.getIdProduct());\r\n    \t}\r\n    \t... getters, etc.\t\r\n    }\r\n\r\n**Product(s) which are order items:**\r\n\r\n    @Entity(name=&quot;product&quot;)\r\n    @Table(name=&quot;product&quot;)\r\n    @NaturalIdCache\r\n    @Cache(\r\n        usage = CacheConcurrencyStrategy.READ_WRITE\r\n    )\r\n    public class Product implements Serializable{\r\n    \r\n    \t@Id\r\n    \t@Column(name=&quot;id_product&quot;)\r\n    \tprivate int idProduct;\r\n    \t\r\n    \t@Column(name=&quot;id_category&quot;)\r\n    \tprivate int idCategory;\r\n    \t\r\n    \t@OneToOne\r\n    \t@JoinColumn(name=&quot;id_category&quot;, insertable=false, updatable =false)\r\n    \tprivate Category category;\r\n    \t\r\n    \t@Column(name=&quot;name&quot;)\r\n    \tprivate String name;\r\n    \t\r\n    \t@Column(name=&quot;description&quot;)\r\n    \tprivate String description;\r\n    \r\n    \t@Column(name=&quot;availability&quot;)\r\n    \tprivate int availability;\r\n    \r\n        @OneToMany(\r\n                mappedBy = &quot;order&quot;,\r\n                cascade = CascadeType.ALL,\r\n                orphanRemoval = true\r\n        \t    )     \r\n    \tprivate List&lt;OrderItem&gt; orders = new ArrayList&lt;OrderItem&gt;();\r\n    \r\n    \t@Column(name=&quot;price&quot;)\r\n    \tprivate float price;\r\n    \t\r\n    \tpublic Product() {\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic Product(int idProduct, int idCategory, String name, String description, int availability, float price) {\r\n    \t\tthis.idProduct = idProduct;\r\n    \t\tthis.idCategory = idCategory;\r\n    \t\tthis.name = name;\r\n    \t\tthis.description = description;\r\n    \t\tthis.availability = availability;\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \t...getters, etc\r\n    }\r\n\r\n\r\nAnd finally, in order to model the `quantity` column I use **this** extra **class**:\r\n\r\n    @Embeddable\r\n    public class OrderItemId implements Serializable{\r\n    \t\r\n        @Column(name = &quot;id_order&quot;)\r\n    \tprivate int idOrder;\r\n    \t\r\n        @Column(name = &quot;id_product&quot;)\r\n    \tprivate int idProduct;\r\n    \t\r\n    \tpublic OrderItemId() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic OrderItemId(int idOrder, int idProduct) {\r\n    \t\tthis.idOrder = idOrder;\r\n    \t\tthis.idProduct = idProduct;\r\n    \t}\r\n    \t... getters, etc.\r\n    }\r\n\r\nSQL scripts to create database:\r\n\r\n    CREATE TABLE `product`(\r\n    `id_product` int (11) NOT NULL AUTO_INCREMENT,\r\n    `name` varchar(255) DEFAULT NULL,\r\n    `description` varchar(255) DEFAULT NULL,\r\n    `availability` int(11) NOT NULL,\r\n    `id_category` int(11) NOT NULL,\r\n    `price` float(10,2) NOT NULL)\r\n\r\n    CREATE TABLE `eshop_order`(\r\n    `id_order` int (11) NOT NULL auto_increment,\r\n    `date_created` date NOT NULL,\r\n    `id_customer` int(11) NOT NULL,\r\n    `total` float(10,2) NOT NULL)\r\n\r\n    CREATE TABLE `order_item`(\r\n    `id_order` int (11) NOT NULL,\r\n    `id_product` int(11) NOT NULL,\r\n    `quantity` int(11) DEFAULT NULL)\r\nThese are just snippets in order to show the DB background (column names).\r\n\r\nWhen I try to view items of a order it keeps giving me this exception:\r\n`java.sql.SQLSyntaxErrorException: Unknown column &#39;items0_.order_id_order&#39; in &#39;field list&#39;`. This error looks kinda understandable, there really is no column named `order_id_order`. Which leads me to idea like *it* forgot to add a dot operator (`items0_.order.id_order`) which would make totally sense and should work. *Do you know what happened? Can you see what is wrong with it?* \r\nThe thing is during development proces I completely followed [this][1] tutorial. But somehow it doesn&#39;t work. I even tried to use various naming strategies, but it didn&#39;t have any successful result.\r\n**EDIT**:\r\nNow I redesigned the OrderItem entity class in the following way:\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name=&quot;id_order&quot;, updatable = false, insertable = false)\r\n        private EshopOrder order;\r\n     \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name=&quot;id_product&quot;, updatable = false, insertable = false)\r\n        private Product product;\r\nI added updatable and insertable properties since my IDE demanded that. On the other hand now when I try to insert a new row to `order_item` table it of course doesn&#39;t work. What should I do with that?\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-map-a-many-to-many-association-with-extra-columns-when-using-jpa-and-hibernate/","title":"Many-to-many naming column issue","body":"<p>I try to create a <code>ManyToMany</code> relation with one extra column (<code>OrderItem.quantity</code>). So I use following entities:\n<strong>Orders table:</strong></p>\n<pre><code>@Entity(name = &quot;EshopOrder&quot;)\n@Table(name=&quot;eshop_order&quot;)\npublic class EshopOrder implements Serializable{\n\n    @Id\n    @Column(name=&quot;id_order&quot;)\n    private int idOrder;\n    \n    @Column(name=&quot;date_created&quot;)\n    private Date dateCreated;\n    \n    @Column(name=&quot;total&quot;)\n    private float total;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;id_customer&quot;)\n    private Customer customer;\n    \n    @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL, orphanRemoval = true)   \n    private List&lt;OrderItem&gt; items = new ArrayList&lt;OrderItem&gt;();\n    \n    public EshopOrder() {\n        \n    }\n    ... getters, etc.\n}\n</code></pre>\n<p><strong>&quot;Join table&quot;:</strong></p>\n<pre><code>@Entity(name = &quot;OrderItem&quot;)\n@Table(name=&quot;order_item&quot;)\npublic class OrderItem {\n    \n    @EmbeddedId\n    private OrderItemId id;\n    \n    @Column(name=&quot;quantity&quot;)\n    private Integer quantity;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;idOrder&quot;)\n    private EshopOrder order;\n \n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;idProduct&quot;)\n    private Product product;\n    \n    public OrderItem() {\n    }\n    \n    public OrderItem(EshopOrder order, Product product, Integer quantity) {\n        this.order = order;\n        this.product = product;\n        this.quantity = quantity;\n        this.id = new OrderItemId(order.getIdOrder(), product.getIdProduct());\n    }\n    ... getters, etc.   \n}\n</code></pre>\n<p><strong>Product(s) which are order items:</strong></p>\n<pre><code>@Entity(name=&quot;product&quot;)\n@Table(name=&quot;product&quot;)\n@NaturalIdCache\n@Cache(\n    usage = CacheConcurrencyStrategy.READ_WRITE\n)\npublic class Product implements Serializable{\n\n    @Id\n    @Column(name=&quot;id_product&quot;)\n    private int idProduct;\n    \n    @Column(name=&quot;id_category&quot;)\n    private int idCategory;\n    \n    @OneToOne\n    @JoinColumn(name=&quot;id_category&quot;, insertable=false, updatable =false)\n    private Category category;\n    \n    @Column(name=&quot;name&quot;)\n    private String name;\n    \n    @Column(name=&quot;description&quot;)\n    private String description;\n\n    @Column(name=&quot;availability&quot;)\n    private int availability;\n\n    @OneToMany(\n            mappedBy = &quot;order&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n            )     \n    private List&lt;OrderItem&gt; orders = new ArrayList&lt;OrderItem&gt;();\n\n    @Column(name=&quot;price&quot;)\n    private float price;\n    \n    public Product() {\n        \n    }\n\n    public Product(int idProduct, int idCategory, String name, String description, int availability, float price) {\n        this.idProduct = idProduct;\n        this.idCategory = idCategory;\n        this.name = name;\n        this.description = description;\n        this.availability = availability;\n        this.price = price;\n    }\n    ...getters, etc\n}\n</code></pre>\n<p>And finally, in order to model the <code>quantity</code> column I use <strong>this</strong> extra <strong>class</strong>:</p>\n<pre><code>@Embeddable\npublic class OrderItemId implements Serializable{\n    \n    @Column(name = &quot;id_order&quot;)\n    private int idOrder;\n    \n    @Column(name = &quot;id_product&quot;)\n    private int idProduct;\n    \n    public OrderItemId() {\n        \n    }\n    \n    public OrderItemId(int idOrder, int idProduct) {\n        this.idOrder = idOrder;\n        this.idProduct = idProduct;\n    }\n    ... getters, etc.\n}\n</code></pre>\n<p>SQL scripts to create database:</p>\n<pre><code>CREATE TABLE `product`(\n`id_product` int (11) NOT NULL AUTO_INCREMENT,\n`name` varchar(255) DEFAULT NULL,\n`description` varchar(255) DEFAULT NULL,\n`availability` int(11) NOT NULL,\n`id_category` int(11) NOT NULL,\n`price` float(10,2) NOT NULL)\n\nCREATE TABLE `eshop_order`(\n`id_order` int (11) NOT NULL auto_increment,\n`date_created` date NOT NULL,\n`id_customer` int(11) NOT NULL,\n`total` float(10,2) NOT NULL)\n\nCREATE TABLE `order_item`(\n`id_order` int (11) NOT NULL,\n`id_product` int(11) NOT NULL,\n`quantity` int(11) DEFAULT NULL)\n</code></pre>\n<p>These are just snippets in order to show the DB background (column names).</p>\n<p>When I try to view items of a order it keeps giving me this exception:\n<code>java.sql.SQLSyntaxErrorException: Unknown column 'items0_.order_id_order' in 'field list'</code>. This error looks kinda understandable, there really is no column named <code>order_id_order</code>. Which leads me to idea like <em>it</em> forgot to add a dot operator (<code>items0_.order.id_order</code>) which would make totally sense and should work. <em>Do you know what happened? Can you see what is wrong with it?</em>\nThe thing is during development proces I completely followed <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-many-to-many-association-with-extra-columns-when-using-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">this</a> tutorial. But somehow it doesn't work. I even tried to use various naming strategies, but it didn't have any successful result.\n<strong>EDIT</strong>:\nNow I redesigned the OrderItem entity class in the following way:</p>\n<pre><code>    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;id_order&quot;, updatable = false, insertable = false)\n    private EshopOrder order;\n \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;id_product&quot;, updatable = false, insertable = false)\n    private Product product;\n</code></pre>\n<p>I added updatable and insertable properties since my IDE demanded that. On the other hand now when I try to insert a new row to <code>order_item</code> table it of course doesn't work. What should I do with that?</p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677157750,"post_id":75545221,"comment_id":133284801,"body_markdown":"After `L1` replace the `.` with an `$` this indicates a nested class else it is interpreted as the next level in a package. Something like `${T(com.my.packages.L1$L2$L3$MyEnum).E1}`, I&#39;m not entirely sure if you need the last `$` or if that can be a `.`. You should see the same if you do a `System.out.println(MyEnum.class.getName())` which should print something similar.","body":"After <code>L1</code> replace the <code>.</code> with an <code>$</code> this indicates a nested class else it is interpreted as the next level in a package. Something like <code>${T(com.my.packages.L1$L2$L3$MyEnum).E1}</code>, I&#39;m not entirely sure if you need the last <code>$</code> or if that can be a <code>.</code>. You should see the same if you do a <code>System.out.println(MyEnum.class.getName())</code> which should print something similar."},{"owner":{"account_id":5962728,"reputation":2317,"user_id":4687402,"accept_rate":50,"display_name":"Benjamin Basmaci"},"score":0,"creation_date":1677158156,"post_id":75545221,"comment_id":133284930,"body_markdown":"@M.Deinum Used L1$L2$L3.MyEnum and it worked like a charm. Please post this as an answer that I can accept so that others quickly see the correct solution.","body":"@M.Deinum Used L1$L2$L3.MyEnum and it worked like a charm. Please post this as an answer that I can accept so that others quickly see the correct solution."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1677163186,"post_id":75545221,"comment_id":133286688,"body_markdown":"Note that this isn&#39;t specific to Thymeleaf, but is an artifact of how Java classes are actually named during compilation.","body":"Note that this isn&#39;t specific to Thymeleaf, but is an artifact of how Java classes are actually named during compilation."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677159870,"creation_date":1677159293,"answer_id":75545561,"question_id":75545221,"body_markdown":"When using nested classes you need to use `$` as the separator and not the `.` notation. The `.` is for package while the `$` is used for nested classes. \r\n\r\nIf you would do a `System.out.println(L1.L2.L3.MyEnum.class.getName());` The output would be something like the following \r\n\r\n```\r\nyour.package.L1$L2$L3$MyEnum\r\n```\r\n\r\nTo use the enum in an expression you have to follow the same naming pattern. \r\n\r\n`${T(com.my.packages.L1$L2$L3$MyEnum).E1}` or `${T(com.my.packages.L1$L2$L3.MyEnum).E1}` should do the trick. \r\n","title":"Why can&#39;t I reference my nested class in thymeleaf?","body":"<p>When using nested classes you need to use <code>$</code> as the separator and not the <code>.</code> notation. The <code>.</code> is for package while the <code>$</code> is used for nested classes.</p>\n<p>If you would do a <code>System.out.println(L1.L2.L3.MyEnum.class.getName());</code> The output would be something like the following</p>\n<pre><code>your.package.L1$L2$L3$MyEnum\n</code></pre>\n<p>To use the enum in an expression you have to follow the same naming pattern.</p>\n<p><code>${T(com.my.packages.L1$L2$L3$MyEnum).E1}</code> or <code>${T(com.my.packages.L1$L2$L3.MyEnum).E1}</code> should do the trick.</p>\n"}],"owner":{"account_id":5962728,"reputation":2317,"user_id":4687402,"accept_rate":50,"display_name":"Benjamin Basmaci"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75545561,"answer_count":1,"score":0,"last_activity_date":1677163134,"creation_date":1677157479,"question_id":75545221,"body_markdown":"I have a nested class structure with multiple levels like this:\r\n```\r\npublic class L1 {\r\n  public static class L2 {\r\n    public static class L3 {\r\n      public enum MyEnum {\r\n        E1,\r\n        E2,\r\n        E3\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI want to reference `MyEnum` in my Thymeleaf template. What I expect from the usual syntax is that this should work:\r\n\r\n```\r\n${T(com.my.packages.L1.L2.L3.MyEnum).E1}\r\n```\r\n\r\nHowever, this does not work and gives me the following error:\r\n\r\n&gt; EL1005E: Type cannot be found (com.my.packages.L1.L2.L3.MyEnum)\r\n\r\nTo investigate I went step by step, checking whether I could reference _any_ type like that at all. So, I simply tried to reference `L1` first.\r\n\r\n```\r\n${T(com.my.packages.L1).E1}\r\n```\r\n\r\nThis time I got an error telling me that `L1` does not have a field `E1`. So the conclusion here is that Thymeleaf successfully referenced `L2`.\r\n\r\nI tried the same thing with `L2` and that &quot;worked&quot; as well. Same as with `L1`.\r\n\r\nThen I tried `L3` and Thymeleaf again failed to reference that type.\r\n\r\nDoes Thymeleaf have some sort of &quot;maximum depth&quot; when it comes to nested classes? Or do I need some alternative syntax in that case? Looking for this problem online is very difficult because every article I find simply shows me the above syntax, which works in principle, and doesn&#39;t consider nested classes.\r\n\r\nI know I could probably just un-nest the classes and be done with it, but I&#39;m not supposed to change the structure for other reasons, so that&#39;s a sub-optimal option.","title":"Why can&#39;t I reference my nested class in thymeleaf?","body":"<p>I have a nested class structure with multiple levels like this:</p>\n<pre><code>public class L1 {\n  public static class L2 {\n    public static class L3 {\n      public enum MyEnum {\n        E1,\n        E2,\n        E3\n      }\n    }\n  }\n}\n</code></pre>\n<p>I want to reference <code>MyEnum</code> in my Thymeleaf template. What I expect from the usual syntax is that this should work:</p>\n<pre><code>${T(com.my.packages.L1.L2.L3.MyEnum).E1}\n</code></pre>\n<p>However, this does not work and gives me the following error:</p>\n<blockquote>\n<p>EL1005E: Type cannot be found (com.my.packages.L1.L2.L3.MyEnum)</p>\n</blockquote>\n<p>To investigate I went step by step, checking whether I could reference <em>any</em> type like that at all. So, I simply tried to reference <code>L1</code> first.</p>\n<pre><code>${T(com.my.packages.L1).E1}\n</code></pre>\n<p>This time I got an error telling me that <code>L1</code> does not have a field <code>E1</code>. So the conclusion here is that Thymeleaf successfully referenced <code>L2</code>.</p>\n<p>I tried the same thing with <code>L2</code> and that &quot;worked&quot; as well. Same as with <code>L1</code>.</p>\n<p>Then I tried <code>L3</code> and Thymeleaf again failed to reference that type.</p>\n<p>Does Thymeleaf have some sort of &quot;maximum depth&quot; when it comes to nested classes? Or do I need some alternative syntax in that case? Looking for this problem online is very difficult because every article I find simply shows me the above syntax, which works in principle, and doesn't consider nested classes.</p>\n<p>I know I could probably just un-nest the classes and be done with it, but I'm not supposed to change the structure for other reasons, so that's a sub-optimal option.</p>\n"},{"tags":["java","swing","joptionpane"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1358580011,"post_id":14411986,"comment_id":20056469,"body_markdown":"*&quot;Is this type of behavior possible with a `JOptionPane`? &quot;*  Sure. do it much the same way you would do it in a `JFrame`.  If you cannot achieve it in a frame, post an [SSCCE](http://sscce.org/) of your best attempt.","body":"<i>&quot;Is this type of behavior possible with a <code>JOptionPane</code>? &quot;</i>  Sure. do it much the same way you would do it in a <code>JFrame</code>.  If you cannot achieve it in a frame, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> of your best attempt."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":5,"creation_date":1358584917,"post_id":14411986,"comment_id":20057245,"body_markdown":"The message parameter of `JOptionPane` takes a `Object`.  If you pass it a `Component`, the `JOptionPane` will use it as the &quot;main&quot; view, adding the icon and buttons around it","body":"The message parameter of <code>JOptionPane</code> takes a <code>Object</code>.  If you pass it a <code>Component</code>, the <code>JOptionPane</code> will use it as the &quot;main&quot; view, adding the icon and buttons around it"},{"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"score":12,"creation_date":1362934641,"post_id":14411986,"comment_id":21638544,"body_markdown":"If you are going to answer your own question, please post your answer as an answer and accept your answer. (That way people don&#39;t waste time reading your question in hopes of answering it)","body":"If you are going to answer your own question, please post your answer as an answer and accept your answer. (That way people don&#39;t waste time reading your question in hopes of answering it)"}],"answers":[{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1690527519,"post_id":16042651,"comment_id":135368992,"body_markdown":"This is definitely a wrong assumption. But as JOptionPane only takes one Object as the message, ensure it is a JComponent (speak: JPanel) that contains all the information and behaviour the OP desires). It will render and behave well.","body":"This is definitely a wrong assumption. But as JOptionPane only takes one Object as the message, ensure it is a JComponent (speak: JPanel) that contains all the information and behaviour the OP desires). It will render and behave well."}],"tags":[],"owner":{"account_id":1960042,"reputation":29,"user_id":1761939,"display_name":"Ole van Santen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366130971,"creation_date":1366130971,"answer_id":16042651,"question_id":14411986,"body_markdown":"i do not think it is posible with a JOption. but i think it is posible with a JDialog.\r\n\r\nexamble:\r\n\r\nwhen you open the dialog you could use the command JFrame(here you have to write your window name).enable(false)\r\n\r\nyou could get it to have close-button in the couner\r\nyou could have a check box\r\nwhen the check box is true. it will show a button and when you click it could make the button invisble  ","title":"Update a JOptionPane to reflect a component state change","body":"<p>i do not think it is posible with a JOption. but i think it is posible with a JDialog.</p>\n\n<p>examble:</p>\n\n<p>when you open the dialog you could use the command JFrame(here you have to write your window name).enable(false)</p>\n\n<p>you could get it to have close-button in the couner\nyou could have a check box\nwhen the check box is true. it will show a button and when you click it could make the button invisble  </p>\n"},{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1690527682,"post_id":27518100,"comment_id":135369021,"body_markdown":"The reason for going to JDialog is if JOptionPane is not flexible enough (e.g. you need a resizable window). Use a JPanel to wrap multiple components into one and pass it into JOptionPane.","body":"The reason for going to JDialog is if JOptionPane is not flexible enough (e.g. you need a resizable window). Use a JPanel to wrap multiple components into one and pass it into JOptionPane."}],"tags":[],"owner":{"account_id":1567451,"reputation":3382,"user_id":1455919,"accept_rate":62,"display_name":"Chinthaka Dinadasa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418788676,"creation_date":1418788676,"answer_id":27518100,"question_id":14411986,"body_markdown":"**Best Thing is go for JDialog**\r\n\r\nBecause JOptionPane is not supporting for this much of components.","title":"Update a JOptionPane to reflect a component state change","body":"<p><strong>Best Thing is go for JDialog</strong></p>\n\n<p>Because JOptionPane is not supporting for this much of components.</p>\n"},{"tags":[],"owner":{"account_id":199576,"reputation":74660,"user_id":444991,"accept_rate":100,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435337654,"creation_date":1435337654,"answer_id":31078382,"question_id":14411986,"body_markdown":"In the `elective.addActionListener` statement I called the wrong variable, had `cp12` instead of `cp6`, posted my cut down code below, all is good, thanks\r\n\r\n    \tpublic void displayAddSomething(ArrayList&lt;String&gt; items)\r\n\t\t{\r\n    // cut down version only showing the button panels\r\n\t\t\r\n\t\t// initialising the variables\t\t\r\n\t\tJPanel buttPanel = new JPanel(new GridLayout(0, 1));\r\n\t\tJPanel pointPanel = new JPanel(new GridLayout(0, 1));\r\n\t\tJRadioButton core = new JRadioButton(&quot;Core Item: &quot;, true);\r\n\t\tfinal JRadioButton elective = new JRadioButton(&quot;Elective Item: &quot;);\r\n\t\tfinal JRadioButton cp6 = new JRadioButton(&quot;6 Points: &quot;);\r\n\t\tJRadioButton cp12 = new JRadioButton(&quot;12 Points: &quot;, true);\r\n\t\tButtonGroup bg1 = new ButtonGroup();\r\n\t\tButtonGroup bg2 = new ButtonGroup();\r\n\t\t\r\n\t\t// adding the buttons to buttPanel  and the button group 1\r\n \t\tbuttPanel.add(new JLabel(&quot;Select Course Type&quot;));\r\n\t\tbuttPanel.add(core);\r\n\t\tbuttPanel.add(elective);\r\n\t\tbuttPanel.setBorder(BorderFactory.createLineBorder(Color.GREEN, 2));\r\n\t\tbg1.add(core);\r\n\t\tbg1.add(elective);\r\n\t\t\r\n\t\t// add buttons pointPanel and bg2\r\n\t\tpointPanel.add(new JLabel(&quot;Select Credit Points&quot;));\r\n\t\tpointPanel.add(cp6);\r\n\t\tpointPanel.add(cp12);\r\n\t\tpointPanel.setBorder(BorderFactory.createLineBorder(Color.GREEN, 2));\r\n\t\tbg2.add(cp6);\r\n\t\tbg2.add(cp12);\r\n\t\t\r\n\t\tcp6.setEnabled(false);\r\n\t\t\r\n\t\t\r\n\t\t// add action listener for each of bg1 buttons so if event\r\n\t\t// occurs the cp6 button will toggle between enabled and disabled.\r\n\r\n\t\telective.addActionListener(new ActionListener()\t{\r\n\t\t\tpublic void actionPerformed(ActionEvent e)\r\n\t\t\t{\t\r\n\t\t\t     cp6.setEnabled(true);\r\n\t\t\t}});\r\n\t\t\t\t\r\n\t\tcore.addActionListener(new ActionListener()\t{\r\n\t\t\tpublic void actionPerformed(ActionEvent e)\r\n\t\t\t{\r\n\t\t\t\tcp6.setEnabled(false);\r\n\t\t\t}});\r\n\t\t\t\t\t\r\n\t\tObject[] message = {buttPanel,pointPanel};\r\n\r\n\t\tint result = JOptionPane\r\n\t\t\t.showOptionDialog(\r\n\t\t\tthis,\r\n\t\t\tmessage,\r\n\t\t\t&quot;...some text...&quot;,\r\n\t\t\tJOptionPane.OK_CANCEL_OPTION, JOptionPane.INFORMATION_MESSAGE,\r\n\t\t\tnull, new String[] { &quot;Submit&quot;, &quot;Cancel&quot; }, &quot;Default&quot;);\r\n\t\t\t\t\t\t\t\t\r\n\t\tif (result == JOptionPane.OK_OPTION)\r\n\t\t\t{\r\n\t\t\t// collecting all the input values in a string array to pass to\r\n\t\t        // another class for processing by the model...\t\r\n\t\t\t}\r\n\t\telse if (result == JOptionPane.NO_OPTION)\r\n\t\t\t{\r\n\t\t\t     JOptionPane.showMessageDialog(this,\r\n\t\t\t     &quot;You Have Elected Not to do anything At This Time&quot;,\r\n\t\t\t     &quot;YOU HAVE COME THIS FAR AND YOU QUIT NOW....&quot;,\r\n\t\t\t\tJOptionPane.QUESTION_MESSAGE);\t\t\t\t\t   \r\n\t\t\t}\r\n\t    }\r\n","title":"Update a JOptionPane to reflect a component state change","body":"<p>In the <code>elective.addActionListener</code> statement I called the wrong variable, had <code>cp12</code> instead of <code>cp6</code>, posted my cut down code below, all is good, thanks</p>\n\n<pre><code>    public void displayAddSomething(ArrayList&lt;String&gt; items)\n    {\n// cut down version only showing the button panels\n\n    // initialising the variables       \n    JPanel buttPanel = new JPanel(new GridLayout(0, 1));\n    JPanel pointPanel = new JPanel(new GridLayout(0, 1));\n    JRadioButton core = new JRadioButton(\"Core Item: \", true);\n    final JRadioButton elective = new JRadioButton(\"Elective Item: \");\n    final JRadioButton cp6 = new JRadioButton(\"6 Points: \");\n    JRadioButton cp12 = new JRadioButton(\"12 Points: \", true);\n    ButtonGroup bg1 = new ButtonGroup();\n    ButtonGroup bg2 = new ButtonGroup();\n\n    // adding the buttons to buttPanel  and the button group 1\n    buttPanel.add(new JLabel(\"Select Course Type\"));\n    buttPanel.add(core);\n    buttPanel.add(elective);\n    buttPanel.setBorder(BorderFactory.createLineBorder(Color.GREEN, 2));\n    bg1.add(core);\n    bg1.add(elective);\n\n    // add buttons pointPanel and bg2\n    pointPanel.add(new JLabel(\"Select Credit Points\"));\n    pointPanel.add(cp6);\n    pointPanel.add(cp12);\n    pointPanel.setBorder(BorderFactory.createLineBorder(Color.GREEN, 2));\n    bg2.add(cp6);\n    bg2.add(cp12);\n\n    cp6.setEnabled(false);\n\n\n    // add action listener for each of bg1 buttons so if event\n    // occurs the cp6 button will toggle between enabled and disabled.\n\n    elective.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e)\n        {   \n             cp6.setEnabled(true);\n        }});\n\n    core.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e)\n        {\n            cp6.setEnabled(false);\n        }});\n\n    Object[] message = {buttPanel,pointPanel};\n\n    int result = JOptionPane\n        .showOptionDialog(\n        this,\n        message,\n        \"...some text...\",\n        JOptionPane.OK_CANCEL_OPTION, JOptionPane.INFORMATION_MESSAGE,\n        null, new String[] { \"Submit\", \"Cancel\" }, \"Default\");\n\n    if (result == JOptionPane.OK_OPTION)\n        {\n        // collecting all the input values in a string array to pass to\n            // another class for processing by the model... \n        }\n    else if (result == JOptionPane.NO_OPTION)\n        {\n             JOptionPane.showMessageDialog(this,\n             \"You Have Elected Not to do anything At This Time\",\n             \"YOU HAVE COME THIS FAR AND YOU QUIT NOW....\",\n            JOptionPane.QUESTION_MESSAGE);                     \n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2242451,"reputation":89,"user_id":1976598,"display_name":"Rob Fennell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1424,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":3,"score":8,"last_activity_date":1677162872,"creation_date":1358579105,"question_id":14411986,"body_markdown":"Have a method in my GUI project for displaying a `JOptionPane` with several components on it.  Two of these components are `ButtonGroups` with two `JRadioButtons` in each, in the first group the first button is selected by default, and in the second group the second button is selected by default.  In the second group I want to have the first button disabled until the second button in the first group is selected. i.e. if the user is happy with the default selection in `BG1`, then they can&#39;t make a selection in `BG2`, only if they make the second selection in `BG1` can they have the other option in `BG2`. \r\n\r\nIs this type of behavior possible with a `JOptionPane`? \r\n\r\nHave been looking at the tutorials for `JDialog`, `JOptionPane`and doing other research but none of these have proved helpful in my case.","title":"Update a JOptionPane to reflect a component state change","body":"<p>Have a method in my GUI project for displaying a <code>JOptionPane</code> with several components on it.  Two of these components are <code>ButtonGroups</code> with two <code>JRadioButtons</code> in each, in the first group the first button is selected by default, and in the second group the second button is selected by default.  In the second group I want to have the first button disabled until the second button in the first group is selected. i.e. if the user is happy with the default selection in <code>BG1</code>, then they can't make a selection in <code>BG2</code>, only if they make the second selection in <code>BG1</code> can they have the other option in <code>BG2</code>.</p>\n<p>Is this type of behavior possible with a <code>JOptionPane</code>?</p>\n<p>Have been looking at the tutorials for <code>JDialog</code>, <code>JOptionPane</code>and doing other research but none of these have proved helpful in my case.</p>\n"},{"tags":["java","loops","dynamic","coordinates","hexagonal-tiles"],"comments":[{"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"score":0,"creation_date":1387819187,"post_id":20734438,"comment_id":31090904,"body_markdown":"by convention in Java package names should be in lowercase.  *package Foo.Bar.Hexagon* would be more idiomatic if it was *package foo.bar.hexagon*","body":"by convention in Java package names should be in lowercase.  <i>package Foo.Bar.Hexagon</i> would be more idiomatic if it was <i>package foo.bar.hexagon</i>"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1387824821,"post_id":20734438,"comment_id":31093342,"body_markdown":"I know this, I am just too lazy to change it, but thanks.","body":"I know this, I am just too lazy to change it, but thanks."}],"answers":[{"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1387804014,"post_id":20735492,"comment_id":31083541,"body_markdown":"I edited my post, I finally came up with the series for columns... Do you want to revise your answer?","body":"I edited my post, I finally came up with the series for columns... Do you want to revise your answer?"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1387836372,"post_id":20735492,"comment_id":31098099,"body_markdown":"Thanks for your help, I figured it out.","body":"Thanks for your help, I figured it out."}],"tags":[],"owner":{"account_id":2695603,"reputation":6882,"user_id":2327745,"display_name":"Tanmay Patil"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1387845237,"creation_date":1387757664,"answer_id":20735492,"question_id":20734438,"body_markdown":"Even more compact code is possible, but this gives output without repetition and without if branching.\r\n\r\n    for (row = 0; row &lt; h; row ++) {\r\n        cols = h + row + 1;\r\n        for (col = 0; col &lt; cols; col++) {\r\n            drawHex(g, col - row, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);                \r\n        }\r\n    }\r\n    for (row = h; row &lt; n; row++) {\r\n        cols = n - row + h;\r\n        for (col = 0; col &lt; cols; col++) {\r\n            drawHex(g, -h + col, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);                \r\n        }\r\n    }\r\nHope this helps.","title":"Algorithm to generate a hexagonal grid with coordinate system","body":"<p>Even more compact code is possible, but this gives output without repetition and without if branching.</p>\n\n<pre><code>for (row = 0; row &lt; h; row ++) {\n    cols = h + row + 1;\n    for (col = 0; col &lt; cols; col++) {\n        drawHex(g, col - row, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);                \n    }\n}\nfor (row = h; row &lt; n; row++) {\n    cols = n - row + h;\n    for (col = 0; col &lt; cols; col++) {\n        drawHex(g, -h + col, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);                \n    }\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":270677,"reputation":4599,"user_id":560768,"accept_rate":50,"display_name":"ShoeLace1291"},"score":0,"creation_date":1477583196,"post_id":20751975,"comment_id":67836178,"body_markdown":"You aren&#39;t by chance developing a Settlers Of Catan-style game, are you?  That&#39;s how I found this... lol.","body":"You aren&#39;t by chance developing a Settlers Of Catan-style game, are you?  That&#39;s how I found this... lol."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1477593535,"post_id":20751975,"comment_id":67842212,"body_markdown":"@ShoeLace1291 Yeah, I was trying to some up with an algorithm :)","body":"@ShoeLace1291 Yeah, I was trying to some up with an algorithm :)"}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1387836949,"creation_date":1387836949,"answer_id":20751975,"question_id":20734438,"body_markdown":"I have figured it out, thanks for the feedback [Tanmay][1].  \r\n\r\nI noticed that the y-offset was incorrect for `n - cols` and should be `row - half` instead. \r\n\r\nBelow is the most comprehensive and compact code I could obtain. Although it is preferred to enter an odd integer for the size, you could enter a positive value. I also added a padding to the offset.\r\n\r\nThis if-conditional still troubles me: `int xLbl = row &lt; half ? col - row : col - half;`\r\n\r\n    private void drawHexGridLoop(Graphics g, Point origin, int size, int radius, int padding) {\r\n    \tdouble ang30 = Math.toRadians(30);\r\n    \tdouble xOff = Math.cos(ang30) * (radius + padding);\r\n    \tdouble yOff = Math.sin(ang30) * (radius + padding);\r\n    \tint half = size / 2;\r\n    \t\r\n    \tfor (int row = 0; row &lt; size; row++) {\r\n    \t\tint cols = size - java.lang.Math.abs(row - half);\r\n    \t\t\r\n    \t\tfor (int col = 0; col &lt; cols; col++) {\r\n    \t\t\tint xLbl = row &lt; half ? col - row : col - half;\r\n    \t\t\tint yLbl = row - half;\r\n    \t\t\tint x = (int) (origin.x + xOff * (col * 2 + 1 - cols));\r\n    \t\t\tint y = (int) (origin.y + yOff * (row - half) * 3);\r\n    \t\t\t\r\n    \t\t\tdrawHex(g, xLbl, yLbl, x, y, radius);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n![enter image description here][2]\r\n\r\n**Main.java**\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class Main extends JPanel {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate final int WIDTH = 1200;\r\n    \tprivate final int HEIGHT = 800;\r\n    \t\r\n    \tprivate Font font = new Font(&quot;Arial&quot;, Font.BOLD, 18);\r\n    \tFontMetrics metrics;\r\n    \t\r\n    \tpublic Main() {\r\n    \t\tsetPreferredSize(new Dimension(WIDTH, HEIGHT));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void paintComponent(Graphics g) {\r\n    \t\tGraphics2D g2d = (Graphics2D) g;\r\n    \t\tPoint origin = new Point(WIDTH / 2, HEIGHT / 2);\r\n    \t\t\r\n    \t\tg2d.setStroke(new BasicStroke(4.0f, BasicStroke.CAP_SQUARE, BasicStroke.JOIN_MITER));\r\n    \t\tg2d.setFont(font);\r\n    \t\tmetrics = g.getFontMetrics();\r\n    \t\t\r\n    \t\tdrawCircle(g2d, origin, 380, true, true, 0x4488FF, 0);\r\n    \t\tdrawHexGridLoop(g2d, origin, 7, 50, 8);\r\n    \t}\r\n    \r\n    \tprivate void drawHexGridLoop(Graphics g, Point origin, int size, int radius, int padding) {\r\n    \t\tdouble ang30 = Math.toRadians(30);\r\n    \t\tdouble xOff = Math.cos(ang30) * (radius + padding);\r\n    \t\tdouble yOff = Math.sin(ang30) * (radius + padding);\r\n    \t\tint half = size / 2;\r\n    \t\t\r\n    \t\tfor (int row = 0; row &lt; size; row++) {\r\n    \t\t\tint cols = size - java.lang.Math.abs(row - half);\r\n\r\n    \t\t\tfor (int col = 0; col &lt; cols; col++) {\r\n    \t\t\t\tint xLbl = row &lt; half ? col - row : col - half;\r\n    \t\t\t\tint yLbl = row - half;\r\n    \t\t\t\tint x = (int) (origin.x + xOff * (col * 2 + 1 - cols));\r\n    \t\t\t\tint y = (int) (origin.y + yOff * (row - half) * 3);\r\n    \t\t\t\t\r\n    \t\t\t\tdrawHex(g, xLbl, yLbl, x, y, radius);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate void drawHex(Graphics g, int posX, int posY, int x, int y, int r) {\r\n    \t\tGraphics2D g2d = (Graphics2D) g;\r\n    \t\t\r\n    \t\tHexagon hex = new Hexagon(x, y, r);\r\n    \t\tString text = String.format(&quot;%s : %s&quot;, coord(posX), coord(posY));\r\n    \t\tint w = metrics.stringWidth(text);\r\n    \t\tint h = metrics.getHeight();\r\n    \t\t\r\n    \t\thex.draw(g2d, x, y, 0, 0x008844, true);\r\n    \t\thex.draw(g2d, x, y, 4, 0xFFDD88, false);\r\n    \r\n    \t\tg.setColor(new Color(0xFFFFFF));\r\n    \t\tg.drawString(text, x - w/2, y + h/2);\r\n    \t}\r\n    \t\r\n    \tprivate String coord(int value) {\r\n    \t\treturn (value &gt; 0 ? &quot;+&quot; : &quot;&quot;) + Integer.toString(value);\r\n    \t}\r\n    \r\n    \tpublic void drawCircle(Graphics2D g, Point origin, int radius,\r\n    \t\t\tboolean centered, boolean filled, int colorValue, int lineThickness) {\r\n    \t\t// Store before changing.\r\n    \t\tStroke tmpS = g.getStroke();\r\n    \t\tColor tmpC = g.getColor();\r\n    \r\n    \t\tg.setColor(new Color(colorValue));\r\n    \t\tg.setStroke(new BasicStroke(lineThickness, BasicStroke.CAP_ROUND,\r\n    \t\t\t\tBasicStroke.JOIN_ROUND));\r\n    \r\n    \t\tint diameter = radius * 2;\r\n    \t\tint x2 = centered ? origin.x - radius : origin.x;\r\n    \t\tint y2 = centered ? origin.y - radius : origin.y;\r\n    \r\n    \t\tif (filled)\r\n    \t\t\tg.fillOval(x2, y2, diameter, diameter);\r\n    \t\telse\r\n    \t\t\tg.drawOval(x2, y2, diameter, diameter);\r\n    \r\n    \t\t// Set values to previous when done.\r\n    \t\tg.setColor(tmpC);\r\n    \t\tg.setStroke(tmpS);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tJFrame f = new JFrame();\r\n    \t\tMain p = new Main();\r\n    \r\n    \t\tf.setContentPane(p);\r\n    \t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tf.pack();\r\n    \t\tf.setLocationRelativeTo(null);\r\n    \t\tf.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n\r\n**Hexagon.java**\r\n\r\n    import java.awt.*;\r\n    \r\n    public class Hexagon extends Polygon {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic static final int SIDES = 6;\r\n    \r\n    \tprivate Point[] points = new Point[SIDES];\r\n    \tprivate Point center = new Point(0, 0);\r\n    \tprivate int radius;\r\n    \tprivate int rotation = 90;\r\n    \r\n    \tpublic Hexagon(Point center, int radius) {\r\n    \t\tnpoints = SIDES;\r\n    \t\txpoints = new int[SIDES];\r\n    \t\typoints = new int[SIDES];\r\n    \t\t\r\n    \t\tthis.center = center;\r\n    \t\tthis.radius = radius;\r\n    \t\t\r\n    \t\tupdatePoints();\r\n    \t}\r\n    \t\r\n    \tpublic Hexagon(int x, int y, int radius) {\r\n    \t\tthis(new Point(x, y), radius);\r\n    \t}\r\n    \t\r\n    \tpublic int getRadius() {\r\n    \t\treturn radius;\r\n    \t}\r\n    \r\n    \tpublic void setRadius(int radius) {\r\n    \t\tthis.radius = radius;\r\n    \r\n    \t\tupdatePoints();\r\n    \t}\r\n    \t\r\n    \tpublic int getRotation() {\r\n    \t\treturn rotation;\r\n    \t}\r\n    \t\r\n    \tpublic void setRotation(int rotation) {\r\n    \t\tthis.rotation = rotation;\r\n    \t\t\r\n    \t\tupdatePoints();\r\n    \t}\r\n    \t\r\n    \tpublic void setCenter(Point center) {\r\n    \t\tthis.center = center;\r\n    \t\t\r\n    \t\tupdatePoints();\r\n    \t}\r\n    \t\r\n    \tpublic void setCenter(int x, int y) {\r\n    \t\tsetCenter(new Point(x, y));\r\n    \t}\r\n    \r\n    \tprivate double findAngle(double fraction) {\r\n    \t\treturn fraction * Math.PI * 2 + Math.toRadians((rotation + 180) % 360);\r\n    \t}\r\n    \t\r\n    \tprivate Point findPoint(double angle) {\r\n    \t\tint x = (int) (center.x + Math.cos(angle) * radius);\r\n    \t\tint y = (int) (center.y + Math.sin(angle) * radius);\r\n    \t\t\r\n    \t\treturn new Point(x, y);\r\n    \t}\r\n    \t\r\n    \tprotected void updatePoints() {\r\n    \t\tfor (int p = 0; p &lt; SIDES; p++) {\r\n    \t\t\tdouble angle = findAngle((double) p / SIDES);\r\n    \t\t\tPoint point = findPoint(angle);\r\n    \t\t\txpoints[p] = point.x;\r\n    \t\t\typoints[p] = point.y;\r\n    \t\t\tpoints[p] = point;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void draw(Graphics2D g, int x, int y, int lineThickness, int colorValue, boolean filled) {\r\n    \t\t// Store before changing.\r\n    \t\tStroke tmpS = g.getStroke();\r\n    \t\tColor tmpC = g.getColor();\r\n    \r\n    \t\tg.setColor(new Color(colorValue));\r\n    \t\tg.setStroke(new BasicStroke(lineThickness, BasicStroke.CAP_SQUARE, BasicStroke.JOIN_MITER));\r\n    \r\n    \t\tif (filled)\r\n    \t\t\tg.fillPolygon(xpoints, ypoints, npoints);\r\n    \t\telse\r\n    \t\t\tg.drawPolygon(xpoints, ypoints, npoints);\r\n    \r\n    \t\t// Set values to previous when done.\r\n    \t\tg.setColor(tmpC);\r\n    \t\tg.setStroke(tmpS);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2327745/tanmay-patil\r\n  [2]: http://i.stack.imgur.com/6KciD.png","title":"Algorithm to generate a hexagonal grid with coordinate system","body":"<p>I have figured it out, thanks for the feedback <a href=\"https://stackoverflow.com/users/2327745/tanmay-patil\">Tanmay</a>.  </p>\n\n<p>I noticed that the y-offset was incorrect for <code>n - cols</code> and should be <code>row - half</code> instead. </p>\n\n<p>Below is the most comprehensive and compact code I could obtain. Although it is preferred to enter an odd integer for the size, you could enter a positive value. I also added a padding to the offset.</p>\n\n<p>This if-conditional still troubles me: <code>int xLbl = row &lt; half ? col - row : col - half;</code></p>\n\n<pre><code>private void drawHexGridLoop(Graphics g, Point origin, int size, int radius, int padding) {\n    double ang30 = Math.toRadians(30);\n    double xOff = Math.cos(ang30) * (radius + padding);\n    double yOff = Math.sin(ang30) * (radius + padding);\n    int half = size / 2;\n\n    for (int row = 0; row &lt; size; row++) {\n        int cols = size - java.lang.Math.abs(row - half);\n\n        for (int col = 0; col &lt; cols; col++) {\n            int xLbl = row &lt; half ? col - row : col - half;\n            int yLbl = row - half;\n            int x = (int) (origin.x + xOff * (col * 2 + 1 - cols));\n            int y = (int) (origin.y + yOff * (row - half) * 3);\n\n            drawHex(g, xLbl, yLbl, x, y, radius);\n        }\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/6KciD.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Main extends JPanel {\n    private static final long serialVersionUID = 1L;\n    private final int WIDTH = 1200;\n    private final int HEIGHT = 800;\n\n    private Font font = new Font(\"Arial\", Font.BOLD, 18);\n    FontMetrics metrics;\n\n    public Main() {\n        setPreferredSize(new Dimension(WIDTH, HEIGHT));\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n        Point origin = new Point(WIDTH / 2, HEIGHT / 2);\n\n        g2d.setStroke(new BasicStroke(4.0f, BasicStroke.CAP_SQUARE, BasicStroke.JOIN_MITER));\n        g2d.setFont(font);\n        metrics = g.getFontMetrics();\n\n        drawCircle(g2d, origin, 380, true, true, 0x4488FF, 0);\n        drawHexGridLoop(g2d, origin, 7, 50, 8);\n    }\n\n    private void drawHexGridLoop(Graphics g, Point origin, int size, int radius, int padding) {\n        double ang30 = Math.toRadians(30);\n        double xOff = Math.cos(ang30) * (radius + padding);\n        double yOff = Math.sin(ang30) * (radius + padding);\n        int half = size / 2;\n\n        for (int row = 0; row &lt; size; row++) {\n            int cols = size - java.lang.Math.abs(row - half);\n\n            for (int col = 0; col &lt; cols; col++) {\n                int xLbl = row &lt; half ? col - row : col - half;\n                int yLbl = row - half;\n                int x = (int) (origin.x + xOff * (col * 2 + 1 - cols));\n                int y = (int) (origin.y + yOff * (row - half) * 3);\n\n                drawHex(g, xLbl, yLbl, x, y, radius);\n            }\n        }\n    }\n\n    private void drawHex(Graphics g, int posX, int posY, int x, int y, int r) {\n        Graphics2D g2d = (Graphics2D) g;\n\n        Hexagon hex = new Hexagon(x, y, r);\n        String text = String.format(\"%s : %s\", coord(posX), coord(posY));\n        int w = metrics.stringWidth(text);\n        int h = metrics.getHeight();\n\n        hex.draw(g2d, x, y, 0, 0x008844, true);\n        hex.draw(g2d, x, y, 4, 0xFFDD88, false);\n\n        g.setColor(new Color(0xFFFFFF));\n        g.drawString(text, x - w/2, y + h/2);\n    }\n\n    private String coord(int value) {\n        return (value &gt; 0 ? \"+\" : \"\") + Integer.toString(value);\n    }\n\n    public void drawCircle(Graphics2D g, Point origin, int radius,\n            boolean centered, boolean filled, int colorValue, int lineThickness) {\n        // Store before changing.\n        Stroke tmpS = g.getStroke();\n        Color tmpC = g.getColor();\n\n        g.setColor(new Color(colorValue));\n        g.setStroke(new BasicStroke(lineThickness, BasicStroke.CAP_ROUND,\n                BasicStroke.JOIN_ROUND));\n\n        int diameter = radius * 2;\n        int x2 = centered ? origin.x - radius : origin.x;\n        int y2 = centered ? origin.y - radius : origin.y;\n\n        if (filled)\n            g.fillOval(x2, y2, diameter, diameter);\n        else\n            g.drawOval(x2, y2, diameter, diameter);\n\n        // Set values to previous when done.\n        g.setColor(tmpC);\n        g.setStroke(tmpS);\n    }\n\n    public static void main(String[] args) {\n        JFrame f = new JFrame();\n        Main p = new Main();\n\n        f.setContentPane(p);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n}\n</code></pre>\n\n<p><strong>Hexagon.java</strong></p>\n\n<pre><code>import java.awt.*;\n\npublic class Hexagon extends Polygon {\n\n    private static final long serialVersionUID = 1L;\n\n    public static final int SIDES = 6;\n\n    private Point[] points = new Point[SIDES];\n    private Point center = new Point(0, 0);\n    private int radius;\n    private int rotation = 90;\n\n    public Hexagon(Point center, int radius) {\n        npoints = SIDES;\n        xpoints = new int[SIDES];\n        ypoints = new int[SIDES];\n\n        this.center = center;\n        this.radius = radius;\n\n        updatePoints();\n    }\n\n    public Hexagon(int x, int y, int radius) {\n        this(new Point(x, y), radius);\n    }\n\n    public int getRadius() {\n        return radius;\n    }\n\n    public void setRadius(int radius) {\n        this.radius = radius;\n\n        updatePoints();\n    }\n\n    public int getRotation() {\n        return rotation;\n    }\n\n    public void setRotation(int rotation) {\n        this.rotation = rotation;\n\n        updatePoints();\n    }\n\n    public void setCenter(Point center) {\n        this.center = center;\n\n        updatePoints();\n    }\n\n    public void setCenter(int x, int y) {\n        setCenter(new Point(x, y));\n    }\n\n    private double findAngle(double fraction) {\n        return fraction * Math.PI * 2 + Math.toRadians((rotation + 180) % 360);\n    }\n\n    private Point findPoint(double angle) {\n        int x = (int) (center.x + Math.cos(angle) * radius);\n        int y = (int) (center.y + Math.sin(angle) * radius);\n\n        return new Point(x, y);\n    }\n\n    protected void updatePoints() {\n        for (int p = 0; p &lt; SIDES; p++) {\n            double angle = findAngle((double) p / SIDES);\n            Point point = findPoint(angle);\n            xpoints[p] = point.x;\n            ypoints[p] = point.y;\n            points[p] = point;\n        }\n    }\n\n    public void draw(Graphics2D g, int x, int y, int lineThickness, int colorValue, boolean filled) {\n        // Store before changing.\n        Stroke tmpS = g.getStroke();\n        Color tmpC = g.getColor();\n\n        g.setColor(new Color(colorValue));\n        g.setStroke(new BasicStroke(lineThickness, BasicStroke.CAP_SQUARE, BasicStroke.JOIN_MITER));\n\n        if (filled)\n            g.fillPolygon(xpoints, ypoints, npoints);\n        else\n            g.drawPolygon(xpoints, ypoints, npoints);\n\n        // Set values to previous when done.\n        g.setColor(tmpC);\n        g.setStroke(tmpS);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115785,"reputation":4226,"user_id":434437,"accept_rate":34,"display_name":"jwize"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1664605594,"creation_date":1664605594,"answer_id":73916261,"question_id":20734438,"body_markdown":"Here is a simple answer for achieving the same shape in typescript\r\n\r\n       const rings = 5;\r\n       const w = this.hexagons.width;\r\n       const h = this.hexagons.height;\r\n\r\n\r\n       const funcs = [\r\n        (x:number, y:number) =&gt; new fabric.Point( x + ( w / 2 ) ,  y + h * .75),\r\n        (x:number, y:number) =&gt; new fabric.Point( x - ( w / 2 ), y + h * .75),\r\n        (x:number, y:number) =&gt; new fabric.Point( x - w , y),\r\n        (x:number, y:number) =&gt; new fabric.Point( x - ( w / 2), y + h * -.75),\r\n        (x:number, y:number) =&gt; new fabric.Point( x + ( w / 2) ,  y + h * -.75),\r\n        (x:number, y:number) =&gt; new fabric.Point( x + w , y)\r\n       ];\r\n\r\n       for (let i = 0; i &lt; rings; i++)\r\n       {\r\n           let current = new fabric.Point(w / 2 * i, h * i * -.75);\r\n           // draw or add to a collection\r\n           this.drawHexagonService.drawHexagon(current); \r\n           for (let func of funcs )\r\n           {\r\n               for (let j = 0; j &lt; i; j++)\r\n               {\r\n                   current = func(current.x, current.y);\r\n                   // draw or add to a collection\r\n                   this.drawHexagonService.drawHexagon(current); \r\n               }\r\n           }\r\n       }","title":"Algorithm to generate a hexagonal grid with coordinate system","body":"<p>Here is a simple answer for achieving the same shape in typescript</p>\n<pre><code>   const rings = 5;\n   const w = this.hexagons.width;\n   const h = this.hexagons.height;\n\n\n   const funcs = [\n    (x:number, y:number) =&gt; new fabric.Point( x + ( w / 2 ) ,  y + h * .75),\n    (x:number, y:number) =&gt; new fabric.Point( x - ( w / 2 ), y + h * .75),\n    (x:number, y:number) =&gt; new fabric.Point( x - w , y),\n    (x:number, y:number) =&gt; new fabric.Point( x - ( w / 2), y + h * -.75),\n    (x:number, y:number) =&gt; new fabric.Point( x + ( w / 2) ,  y + h * -.75),\n    (x:number, y:number) =&gt; new fabric.Point( x + w , y)\n   ];\n\n   for (let i = 0; i &lt; rings; i++)\n   {\n       let current = new fabric.Point(w / 2 * i, h * i * -.75);\n       // draw or add to a collection\n       this.drawHexagonService.drawHexagon(current); \n       for (let func of funcs )\n       {\n           for (let j = 0; j &lt; i; j++)\n           {\n               current = func(current.x, current.y);\n               // draw or add to a collection\n               this.drawHexagonService.drawHexagon(current); \n           }\n       }\n   }\n</code></pre>\n"}],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32703,"favorite_count":0,"down_vote_count":3,"up_vote_count":21,"accepted_answer_id":20751975,"answer_count":3,"score":18,"last_activity_date":1677162535,"creation_date":1387749380,"question_id":20734438,"body_markdown":"I am trying to roll up 19 lines of code into a single for loop, but I am feeling a bit stumped. The reason I ask, is because I want the grid to be other sizes instead of 5.\r\n\r\nIn `Main::drawHexGridAdvanced()`, I am trying to deduce the similarities between each line as opposed to `Main::drawHexGridBasic()` where I am hard-coding values.\r\n\r\nI am not sure how to determine the start of the `x` for each column in each row, because the pattern for `n == 5` is `0, -1 -2 -2 -2` after that each consecutive column is just incremented except when the loop reaches the halfway point...\r\n\r\n## Information and Understanding\r\n\r\n    `n` must be odd\r\n\r\n    n | columns-per row sequence\r\n    --+-------------------------\r\n    3 | 2 3 2\r\n    5 | 3 4 5 4 3\r\n    7 | 4 5 6 7 6 5 4\r\n    9 | 5 6 7 8 9 8 7 6 5\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    int[] columns(int n) {\r\n        int[] columns = new int[n];\r\n        int h = (int) java.lang.Math.floor(n / 2);\r\n            \r\n        for (int i = 0; i &lt; n; i++) {\r\n            columns[i] = n - java.lang.Math.abs(i - h);\r\n        }\r\n    \r\n        return columns;\r\n    }\r\n    \r\n    // Prints [5, 6, 7, 8, 9, 8, 7, 6, 5]       \r\n    System.out.println(java.util.Arrays.toString(columns(n)));\r\n\r\nPython looks so much more elegant:\r\n\r\n```py\r\ndef hex(n):\r\n    for x in [(n-abs(x-int(n/2))) for x in range(n)]:\r\n        for y in range(n-x):\r\n            print(&#39; &#39;, end=&#39;&#39;),\r\n        for y in range(x):\r\n            print(&#39; * &#39;, end=&#39;&#39;),\r\n        print(&#39;&#39;)\r\n    \r\n#     *   *   *  \r\n#   *   *   *   *  \r\n# *   *   *   *   *  \r\n#   *   *   *   *  \r\n#     *   *   *  \r\n```\r\n\r\nHere is my expected output:\r\n\r\n![enter image description here][1]\r\n\r\n**Main.java**\r\n\r\n    package Foo.Bar.Hexagon;\r\n    \r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Font;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Stroke;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class Main extends JPanel {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private final int WIDTH = 1200;\r\n        private final int HEIGHT = 800;\r\n    \r\n        private final int W2 = WIDTH / 2;\r\n        private final int H2 = HEIGHT / 2;\r\n        \r\n        private Font font = new Font(&quot;Arial&quot;, Font.BOLD, 24);\r\n        FontMetrics metrics;\r\n        \r\n        public Main() {\r\n            setPreferredSize(new Dimension(WIDTH, HEIGHT));\r\n        }\r\n    \r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            Graphics2D g2d = (Graphics2D) g;\r\n    \r\n            g2d.setStroke(new BasicStroke(4.0f, BasicStroke.CAP_SQUARE, BasicStroke.JOIN_MITER));\r\n            g2d.setFont(font);\r\n            metrics = g.getFontMetrics();\r\n            \r\n            drawCircle(g2d, W2, H2, 660, true, true, 0x4488FF, 0);\r\n            \r\n            drawHexGridAdvanced(g2d, 5, 60);\r\n        }\r\n        \r\n        private void drawHexGridAdvanced(Graphics g, int n, int r) {\r\n            double ang30 = Math.toRadians(30);\r\n            double xOff = Math.cos(ang30) * r;\r\n            double yOff = Math.sin(ang30) * r;\r\n            int h = n / 2;\r\n            int cols = 0;\r\n            int row = 0;\r\n            int col = 0;\r\n            \r\n            cols = 3;\r\n            row = 0; col = 0;\r\n            drawHex(g, +0, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\r\n            row = 0; col = 1;\r\n            drawHex(g, +1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\r\n            row = 0; col = 2;\r\n            drawHex(g, +2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\r\n            \r\n            cols = 4;\r\n            row = 1; col = 0;\r\n            drawHex(g, -1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\r\n            row = 1; col = 1;\r\n            drawHex(g, +0, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\r\n            row = 1; col = 2;\r\n            drawHex(g, +1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\r\n            row = 1; col = 3;\r\n            drawHex(g, +2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\r\n            \r\n            cols = 5;\r\n            row = 2; col = 0;\r\n            drawHex(g, -2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n            row = 2; col = 1;\r\n            drawHex(g, -1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n            row = 2; col = 2;\r\n            drawHex(g, +0, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n            row = 2; col = 3;\r\n            drawHex(g, +1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n            row = 2; col = 4;\r\n            drawHex(g, +2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n            \r\n            cols = 4;\r\n            row = 3; col = 0;\r\n            drawHex(g, -2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n            row = 3; col = 1;\r\n            drawHex(g, -1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n            row = 3; col = 2;\r\n            drawHex(g, +0, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n            row = 3; col = 3;\r\n            drawHex(g, +1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n            \r\n            cols = 3;\r\n            row = 4; col = 0;\r\n            drawHex(g, -2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n            row = 4; col = 1;\r\n            drawHex(g, -1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n            row = 4; col = 2;\r\n            drawHex(g, +0, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\r\n        }\r\n        \r\n        private void drawHexGridBasic(Graphics g, int n, int r) {\r\n            double ang30 = Math.toRadians(30);\r\n            double xOff = Math.cos(ang30) * r;\r\n            double yOff = Math.sin(ang30) * r;\r\n            int h = n / 2;\r\n            \r\n            drawHex(g, +0, -2,  W2 - (int) (xOff * 2), H2 - (int) (yOff * 6), r);\r\n            drawHex(g, +1, -2,  W2 - (int) (xOff * 0), H2 - (int) (yOff * 6), r);\r\n            drawHex(g, +2, -2,  W2 + (int) (xOff * 2), H2 - (int) (yOff * 6), r);\r\n            \r\n            drawHex(g, -1, -1,  W2 - (int) (xOff * 3), H2 - (int) (yOff * 3), r);\r\n            drawHex(g, +0, -1,  W2 - (int) (xOff * 1), H2 - (int) (yOff * 3), r);\r\n            drawHex(g, +1, -1,  W2 + (int) (xOff * 1), H2 - (int) (yOff * 3), r);\r\n            drawHex(g, +2, -1,  W2 + (int) (xOff * 3), H2 - (int) (yOff * 3), r);\r\n            \r\n            drawHex(g, -2, +0,  W2 - (int) (xOff * 4), H2 - (int) (yOff * 0), r);\r\n            drawHex(g, -1, +0,  W2 - (int) (xOff * 2), H2 - (int) (yOff * 0), r);\r\n            drawHex(g, +0, +0,  W2 - (int) (xOff * 0), H2 - (int) (yOff * 0), r);\r\n            drawHex(g, +1, +0,  W2 + (int) (xOff * 2), H2 - (int) (yOff * 0), r);\r\n            drawHex(g, +2, +0,  W2 + (int) (xOff * 4), H2 - (int) (yOff * 0), r);\r\n            \r\n            drawHex(g, -2, +1,  W2 - (int) (xOff * 3), H2 + (int) (yOff * 3), r);\r\n            drawHex(g, -1, +1,  W2 - (int) (xOff * 1), H2 + (int) (yOff * 3), r);\r\n            drawHex(g, +0, +1,  W2 + (int) (xOff * 1), H2 + (int) (yOff * 3), r);\r\n            drawHex(g, +1, +1,  W2 + (int) (xOff * 3), H2 + (int) (yOff * 3), r);\r\n            \r\n            drawHex(g, -2, +2,  W2 - (int) (xOff * 2), H2 + (int) (yOff * 6), r);\r\n            drawHex(g, -1, +2,  W2 - (int) (xOff * 0), H2 + (int) (yOff * 6), r);\r\n            drawHex(g, +0, +2,  W2 + (int) (xOff * 2), H2 + (int) (yOff * 6), r);\r\n        }\r\n        \r\n        private void drawHex(Graphics g, int posX, int posY, int x, int y, int r) {\r\n            Hexagon hex = new Hexagon(x, y, r);\r\n            String text = String.format(&quot;%s : %s&quot;, coord(posX), coord(posY));\r\n            int w = metrics.stringWidth(text);\r\n            int h = metrics.getHeight();\r\n            \r\n            g.setColor(new Color(0x008844));\r\n            g.fillPolygon(hex);\r\n            g.setColor(new Color(0xFFDD88));\r\n            g.drawPolygon(hex);\r\n            g.setColor(new Color(0xFFFFFF));\r\n            g.drawString(text, x - w/2, y + h/2);\r\n        }\r\n        \r\n        private String coord(int value) {\r\n            return (value &gt; 0 ? &quot;+&quot; : &quot;&quot;) + Integer.toString(value);\r\n        }\r\n     \r\n        public void drawCircle(Graphics2D g, int x, int y, int diameter,\r\n                boolean centered, boolean filled, int colorValue, int lineThickness) {\r\n            drawOval(g, x, y, diameter, diameter, centered, filled, colorValue, lineThickness);\r\n        }\r\n    \r\n        public void drawOval(Graphics2D g, int x, int y, int width, int height,\r\n                boolean centered, boolean filled, int colorValue, int lineThickness) {\r\n            // Store before changing.\r\n            Stroke tmpS = g.getStroke();\r\n            Color tmpC = g.getColor();\r\n    \r\n            g.setColor(new Color(colorValue));\r\n            g.setStroke(new BasicStroke(lineThickness, BasicStroke.CAP_ROUND,\r\n                    BasicStroke.JOIN_ROUND));\r\n    \r\n            int x2 = centered ? x - (width / 2) : x;\r\n            int y2 = centered ? y - (height / 2) : y;\r\n    \r\n            if (filled)\r\n                g.fillOval(x2, y2, width, height);\r\n            else\r\n                g.drawOval(x2, y2, width, height);\r\n    \r\n            // Set values to previous when done.\r\n            g.setColor(tmpC);\r\n            g.setStroke(tmpS);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame f = new JFrame();\r\n            Main p = new Main();\r\n    \r\n            f.setContentPane(p);\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.pack();\r\n            f.setLocationRelativeTo(null);\r\n            f.setVisible(true);\r\n        }\r\n    }\r\n\r\n**Haxagon.java**\r\n\r\n    package Foo.Bar.Hexagon;\r\n    \r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.Polygon;\r\n    import java.awt.Stroke;\r\n    \r\n    public class Hexagon extends Polygon {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public static final int SIDES = 6;\r\n    \r\n        private Point[] points = new Point[SIDES];\r\n        private Point center = new Point(0, 0);\r\n        private int radius;\r\n        private int rotation = 90;\r\n    \r\n        public Hexagon(Point center, int radius) {\r\n            npoints = SIDES;\r\n            xpoints = new int[SIDES];\r\n            ypoints = new int[SIDES];\r\n            \r\n            this.center = center;\r\n            this.radius = radius;\r\n            \r\n            updatePoints();\r\n        }\r\n        \r\n        public Hexagon(int x, int y, int radius) {\r\n            this(new Point(x, y), radius);\r\n        }\r\n        \r\n        public int getRadius() {\r\n            return radius;\r\n        }\r\n    \r\n        public void setRadius(int radius) {\r\n            this.radius = radius;\r\n    \r\n            updatePoints();\r\n        }\r\n        \r\n        public int getRotation() {\r\n            return rotation;\r\n        }\r\n        \r\n        public void setRotation(int rotation) {\r\n            this.rotation = rotation;\r\n            \r\n            updatePoints();\r\n        }\r\n        \r\n        public void setCenter(Point center) {\r\n            this.center = center;\r\n            \r\n            updatePoints();\r\n        }\r\n        \r\n        public void setCenter(int x, int y) {\r\n            setCenter(new Point(x, y));\r\n        }\r\n    \r\n        private double findAngle(double fraction) {\r\n            return fraction * Math.PI * 2 + Math.toRadians((rotation + 180) % 360);\r\n        }\r\n        \r\n        private Point findPoint(double angle) {\r\n            int x = (int) (center.x + Math.cos(angle) * radius);\r\n            int y = (int) (center.y + Math.sin(angle) * radius);\r\n            \r\n            return new Point(x, y);\r\n        }\r\n        \r\n        protected void updatePoints() {\r\n            for (int p = 0; p &lt; SIDES; p++) {\r\n                double angle = findAngle((double) p / SIDES);\r\n                Point point = findPoint(angle);\r\n                xpoints[p] = point.x;\r\n                ypoints[p] = point.y;\r\n                points[p] = point;\r\n                System.out.printf(&quot;%d. (%d, %d)\\n&quot;, p, point.x, point.y);\r\n            }\r\n        }\r\n        \r\n        public void drawPolygon(Graphics2D g, int x, int y, int lineThickness, int colorValue, boolean filled) {\r\n            // Store before changing.\r\n            Stroke tmpS = g.getStroke();\r\n            Color tmpC = g.getColor();\r\n    \r\n            g.setColor(new Color(colorValue));\r\n            g.setStroke(new BasicStroke(lineThickness, BasicStroke.CAP_SQUARE, BasicStroke.JOIN_MITER));\r\n    \r\n            if (filled)\r\n                g.fillPolygon(xpoints, ypoints, npoints);\r\n            else\r\n                g.drawPolygon(xpoints, ypoints, npoints);\r\n    \r\n            // Set values to previous when done.\r\n            g.setColor(tmpC);\r\n            g.setStroke(tmpS);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/S4Eqg.png\r\n\r\n\r\n","title":"Algorithm to generate a hexagonal grid with coordinate system","body":"<p>I am trying to roll up 19 lines of code into a single for loop, but I am feeling a bit stumped. The reason I ask, is because I want the grid to be other sizes instead of 5.</p>\n<p>In <code>Main::drawHexGridAdvanced()</code>, I am trying to deduce the similarities between each line as opposed to <code>Main::drawHexGridBasic()</code> where I am hard-coding values.</p>\n<p>I am not sure how to determine the start of the <code>x</code> for each column in each row, because the pattern for <code>n == 5</code> is <code>0, -1 -2 -2 -2</code> after that each consecutive column is just incremented except when the loop reaches the halfway point...</p>\n<h2>Information and Understanding</h2>\n<pre><code>`n` must be odd\n\nn | columns-per row sequence\n--+-------------------------\n3 | 2 3 2\n5 | 3 4 5 4 3\n7 | 4 5 6 7 6 5 4\n9 | 5 6 7 8 9 8 7 6 5\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>int[] columns(int n) {\n    int[] columns = new int[n];\n    int h = (int) java.lang.Math.floor(n / 2);\n        \n    for (int i = 0; i &lt; n; i++) {\n        columns[i] = n - java.lang.Math.abs(i - h);\n    }\n\n    return columns;\n}\n\n// Prints [5, 6, 7, 8, 9, 8, 7, 6, 5]       \nSystem.out.println(java.util.Arrays.toString(columns(n)));\n</code></pre>\n<p>Python looks so much more elegant:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def hex(n):\n    for x in [(n-abs(x-int(n/2))) for x in range(n)]:\n        for y in range(n-x):\n            print(' ', end=''),\n        for y in range(x):\n            print(' * ', end=''),\n        print('')\n    \n#     *   *   *  \n#   *   *   *   *  \n# *   *   *   *   *  \n#   *   *   *   *  \n#     *   *   *  \n</code></pre>\n<p>Here is my expected output:</p>\n<p><img src=\"https://i.stack.imgur.com/S4Eqg.png\" alt=\"enter image description here\" /></p>\n<p><strong>Main.java</strong></p>\n<pre><code>package Foo.Bar.Hexagon;\n\nimport java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Stroke;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n    private final int WIDTH = 1200;\n    private final int HEIGHT = 800;\n\n    private final int W2 = WIDTH / 2;\n    private final int H2 = HEIGHT / 2;\n    \n    private Font font = new Font(&quot;Arial&quot;, Font.BOLD, 24);\n    FontMetrics metrics;\n    \n    public Main() {\n        setPreferredSize(new Dimension(WIDTH, HEIGHT));\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n\n        g2d.setStroke(new BasicStroke(4.0f, BasicStroke.CAP_SQUARE, BasicStroke.JOIN_MITER));\n        g2d.setFont(font);\n        metrics = g.getFontMetrics();\n        \n        drawCircle(g2d, W2, H2, 660, true, true, 0x4488FF, 0);\n        \n        drawHexGridAdvanced(g2d, 5, 60);\n    }\n    \n    private void drawHexGridAdvanced(Graphics g, int n, int r) {\n        double ang30 = Math.toRadians(30);\n        double xOff = Math.cos(ang30) * r;\n        double yOff = Math.sin(ang30) * r;\n        int h = n / 2;\n        int cols = 0;\n        int row = 0;\n        int col = 0;\n        \n        cols = 3;\n        row = 0; col = 0;\n        drawHex(g, +0, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\n        row = 0; col = 1;\n        drawHex(g, +1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\n        row = 0; col = 2;\n        drawHex(g, +2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\n        \n        cols = 4;\n        row = 1; col = 0;\n        drawHex(g, -1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\n        row = 1; col = 1;\n        drawHex(g, +0, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\n        row = 1; col = 2;\n        drawHex(g, +1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\n        row = 1; col = 3;\n        drawHex(g, +2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 - yOff * (n - cols) * 3), r);\n        \n        cols = 5;\n        row = 2; col = 0;\n        drawHex(g, -2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n        row = 2; col = 1;\n        drawHex(g, -1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n        row = 2; col = 2;\n        drawHex(g, +0, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n        row = 2; col = 3;\n        drawHex(g, +1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n        row = 2; col = 4;\n        drawHex(g, +2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n        \n        cols = 4;\n        row = 3; col = 0;\n        drawHex(g, -2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n        row = 3; col = 1;\n        drawHex(g, -1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n        row = 3; col = 2;\n        drawHex(g, +0, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n        row = 3; col = 3;\n        drawHex(g, +1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n        \n        cols = 3;\n        row = 4; col = 0;\n        drawHex(g, -2, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n        row = 4; col = 1;\n        drawHex(g, -1, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n        row = 4; col = 2;\n        drawHex(g, +0, -h + row, (int) (W2 + xOff * (-cols + (col * 2 + 1))), (int) (H2 + yOff * (n - cols) * 3), r);\n    }\n    \n    private void drawHexGridBasic(Graphics g, int n, int r) {\n        double ang30 = Math.toRadians(30);\n        double xOff = Math.cos(ang30) * r;\n        double yOff = Math.sin(ang30) * r;\n        int h = n / 2;\n        \n        drawHex(g, +0, -2,  W2 - (int) (xOff * 2), H2 - (int) (yOff * 6), r);\n        drawHex(g, +1, -2,  W2 - (int) (xOff * 0), H2 - (int) (yOff * 6), r);\n        drawHex(g, +2, -2,  W2 + (int) (xOff * 2), H2 - (int) (yOff * 6), r);\n        \n        drawHex(g, -1, -1,  W2 - (int) (xOff * 3), H2 - (int) (yOff * 3), r);\n        drawHex(g, +0, -1,  W2 - (int) (xOff * 1), H2 - (int) (yOff * 3), r);\n        drawHex(g, +1, -1,  W2 + (int) (xOff * 1), H2 - (int) (yOff * 3), r);\n        drawHex(g, +2, -1,  W2 + (int) (xOff * 3), H2 - (int) (yOff * 3), r);\n        \n        drawHex(g, -2, +0,  W2 - (int) (xOff * 4), H2 - (int) (yOff * 0), r);\n        drawHex(g, -1, +0,  W2 - (int) (xOff * 2), H2 - (int) (yOff * 0), r);\n        drawHex(g, +0, +0,  W2 - (int) (xOff * 0), H2 - (int) (yOff * 0), r);\n        drawHex(g, +1, +0,  W2 + (int) (xOff * 2), H2 - (int) (yOff * 0), r);\n        drawHex(g, +2, +0,  W2 + (int) (xOff * 4), H2 - (int) (yOff * 0), r);\n        \n        drawHex(g, -2, +1,  W2 - (int) (xOff * 3), H2 + (int) (yOff * 3), r);\n        drawHex(g, -1, +1,  W2 - (int) (xOff * 1), H2 + (int) (yOff * 3), r);\n        drawHex(g, +0, +1,  W2 + (int) (xOff * 1), H2 + (int) (yOff * 3), r);\n        drawHex(g, +1, +1,  W2 + (int) (xOff * 3), H2 + (int) (yOff * 3), r);\n        \n        drawHex(g, -2, +2,  W2 - (int) (xOff * 2), H2 + (int) (yOff * 6), r);\n        drawHex(g, -1, +2,  W2 - (int) (xOff * 0), H2 + (int) (yOff * 6), r);\n        drawHex(g, +0, +2,  W2 + (int) (xOff * 2), H2 + (int) (yOff * 6), r);\n    }\n    \n    private void drawHex(Graphics g, int posX, int posY, int x, int y, int r) {\n        Hexagon hex = new Hexagon(x, y, r);\n        String text = String.format(&quot;%s : %s&quot;, coord(posX), coord(posY));\n        int w = metrics.stringWidth(text);\n        int h = metrics.getHeight();\n        \n        g.setColor(new Color(0x008844));\n        g.fillPolygon(hex);\n        g.setColor(new Color(0xFFDD88));\n        g.drawPolygon(hex);\n        g.setColor(new Color(0xFFFFFF));\n        g.drawString(text, x - w/2, y + h/2);\n    }\n    \n    private String coord(int value) {\n        return (value &gt; 0 ? &quot;+&quot; : &quot;&quot;) + Integer.toString(value);\n    }\n \n    public void drawCircle(Graphics2D g, int x, int y, int diameter,\n            boolean centered, boolean filled, int colorValue, int lineThickness) {\n        drawOval(g, x, y, diameter, diameter, centered, filled, colorValue, lineThickness);\n    }\n\n    public void drawOval(Graphics2D g, int x, int y, int width, int height,\n            boolean centered, boolean filled, int colorValue, int lineThickness) {\n        // Store before changing.\n        Stroke tmpS = g.getStroke();\n        Color tmpC = g.getColor();\n\n        g.setColor(new Color(colorValue));\n        g.setStroke(new BasicStroke(lineThickness, BasicStroke.CAP_ROUND,\n                BasicStroke.JOIN_ROUND));\n\n        int x2 = centered ? x - (width / 2) : x;\n        int y2 = centered ? y - (height / 2) : y;\n\n        if (filled)\n            g.fillOval(x2, y2, width, height);\n        else\n            g.drawOval(x2, y2, width, height);\n\n        // Set values to previous when done.\n        g.setColor(tmpC);\n        g.setStroke(tmpS);\n    }\n\n    public static void main(String[] args) {\n        JFrame f = new JFrame();\n        Main p = new Main();\n\n        f.setContentPane(p);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n}\n</code></pre>\n<p><strong>Haxagon.java</strong></p>\n<pre><code>package Foo.Bar.Hexagon;\n\nimport java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Polygon;\nimport java.awt.Stroke;\n\npublic class Hexagon extends Polygon {\n\n    private static final long serialVersionUID = 1L;\n\n    public static final int SIDES = 6;\n\n    private Point[] points = new Point[SIDES];\n    private Point center = new Point(0, 0);\n    private int radius;\n    private int rotation = 90;\n\n    public Hexagon(Point center, int radius) {\n        npoints = SIDES;\n        xpoints = new int[SIDES];\n        ypoints = new int[SIDES];\n        \n        this.center = center;\n        this.radius = radius;\n        \n        updatePoints();\n    }\n    \n    public Hexagon(int x, int y, int radius) {\n        this(new Point(x, y), radius);\n    }\n    \n    public int getRadius() {\n        return radius;\n    }\n\n    public void setRadius(int radius) {\n        this.radius = radius;\n\n        updatePoints();\n    }\n    \n    public int getRotation() {\n        return rotation;\n    }\n    \n    public void setRotation(int rotation) {\n        this.rotation = rotation;\n        \n        updatePoints();\n    }\n    \n    public void setCenter(Point center) {\n        this.center = center;\n        \n        updatePoints();\n    }\n    \n    public void setCenter(int x, int y) {\n        setCenter(new Point(x, y));\n    }\n\n    private double findAngle(double fraction) {\n        return fraction * Math.PI * 2 + Math.toRadians((rotation + 180) % 360);\n    }\n    \n    private Point findPoint(double angle) {\n        int x = (int) (center.x + Math.cos(angle) * radius);\n        int y = (int) (center.y + Math.sin(angle) * radius);\n        \n        return new Point(x, y);\n    }\n    \n    protected void updatePoints() {\n        for (int p = 0; p &lt; SIDES; p++) {\n            double angle = findAngle((double) p / SIDES);\n            Point point = findPoint(angle);\n            xpoints[p] = point.x;\n            ypoints[p] = point.y;\n            points[p] = point;\n            System.out.printf(&quot;%d. (%d, %d)\\n&quot;, p, point.x, point.y);\n        }\n    }\n    \n    public void drawPolygon(Graphics2D g, int x, int y, int lineThickness, int colorValue, boolean filled) {\n        // Store before changing.\n        Stroke tmpS = g.getStroke();\n        Color tmpC = g.getColor();\n\n        g.setColor(new Color(colorValue));\n        g.setStroke(new BasicStroke(lineThickness, BasicStroke.CAP_SQUARE, BasicStroke.JOIN_MITER));\n\n        if (filled)\n            g.fillPolygon(xpoints, ypoints, npoints);\n        else\n            g.drawPolygon(xpoints, ypoints, npoints);\n\n        // Set values to previous when done.\n        g.setColor(tmpC);\n        g.setStroke(tmpS);\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"comments":[{"owner":{"account_id":2682926,"reputation":2686,"user_id":2317875,"display_name":"unigeek"},"score":0,"creation_date":1420655099,"post_id":27825454,"comment_id":44057830,"body_markdown":"This answer looks pretty reasonable to me. I wonder if the error is reported for some other test code which is mixing matchers and raw values--often the error message can be helpful and it does provide some detail here which doesn&#39;t seem to apply to your question. Personally, I prefer JMockit to Mockito.","body":"This answer looks pretty reasonable to me. I wonder if the error is reported for some other test code which is mixing matchers and raw values--often the error message can be helpful and it does provide some detail here which doesn&#39;t seem to apply to your question. Personally, I prefer JMockit to Mockito."}],"tags":[],"owner":{"account_id":4979623,"reputation":3944,"user_id":4005008,"display_name":"przemek hertel"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1420652824,"creation_date":1420652824,"answer_id":27825454,"question_id":27824949,"body_markdown":"You should use multiple `when()` interceptions:\r\n\r\n    @Mock Individual indProvider;\r\n    @Mock Provider provider;\r\n    \r\n    when(indProvider.asProvider()).thenReturn(provider);\r\n    when(provider.getProviderId()).thenReturn(&quot;795316051750&quot;);\r\n\r\n","title":"Returning String value from the Mockito when()","body":"<p>You should use multiple <code>when()</code> interceptions:</p>\n\n<pre><code>@Mock Individual indProvider;\n@Mock Provider provider;\n\nwhen(indProvider.asProvider()).thenReturn(provider);\nwhen(provider.getProviderId()).thenReturn(\"795316051750\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1420674576,"creation_date":1420655548,"answer_id":27826222,"question_id":27824949,"body_markdown":"There&#39;s probably somewhere in the code a mockito Matcher used outside of stubbed invocation or verified invocation.\r\n\r\nIf your code base use JUnit I recommend the use of the mockito runner, it will validate the mockito use for each test method, which means any issue can be pinpointed to the test incorrectly written.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class TheTest {\r\n        @Test public void shoudl_perform_something() { ... }\r\n    }\r\n\r\nOr with a mockito rule (since 1.10.17)\r\n    \r\n    public class TheTest {\r\n        @Rule MockitoRule mockitoRule = MockitoJUnit.rule();\r\n        @Test public void should_perform_something() { ... }\r\n    }\r\n\r\nYou don&#39;t have to use have `@Mock`s in your test to benefit from this framework validation.\r\nAnd anyway both are the _preferred_ ways to instantiate mocks compared to `MockitoAnnotations.initMocks(...)`\r\n\r\nAlso which version of mockito are you using ? I believe Mockito has improved some messages with the location of the bad code.\r\n\r\n--------\r\n\r\nNote that this code cannot work properly, because `indProvider.asProvider()` is not stubbed so mockito will use the default value which is `null`. You have to do this either way (deep stubs is here for legacy code, a mock returning a mock is usually considered a code smell and it shows the tested code breaks the [Law of Demeter][1]) : \r\n\r\n    @Mock(answer = RETURNS_DEEP_STUBS) Individual indProvider;\r\n    // ...\r\n    when(indProvider.asProvider().getProviderId()).thenReturn(&quot;795316051750&quot;);\r\n\r\nor as answered by @przemek, it&#39;s more verbose and shows the same weakness in the tested code.\r\n\r\n    @Mock(answer = RETURNS_DEEP_STUBS) Individual indProvider;\r\n    @Mock Provider provider;\r\n    // ...\r\n    when(indProvider.asProvider()).thenReturn(provider);\r\n    when(provider.getProviderId()).thenReturn(&quot;795316051750&quot;);\r\n\r\n---------\r\n\r\nI advise you to read this book ([Growing Object Oriented Software Guided by Tests](http://www.amazon.com/Growing-Object-Oriented-Software-Guided-Tests/dp/0321503627)), it&#39;s one of the very best book you can read about writing softwares guided by tests. I find it even more important than infamous Effective Java book.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Law_of_Demeter","title":"Returning String value from the Mockito when()","body":"<p>There's probably somewhere in the code a mockito Matcher used outside of stubbed invocation or verified invocation.</p>\n\n<p>If your code base use JUnit I recommend the use of the mockito runner, it will validate the mockito use for each test method, which means any issue can be pinpointed to the test incorrectly written.</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class TheTest {\n    @Test public void shoudl_perform_something() { ... }\n}\n</code></pre>\n\n<p>Or with a mockito rule (since 1.10.17)</p>\n\n<pre><code>public class TheTest {\n    @Rule MockitoRule mockitoRule = MockitoJUnit.rule();\n    @Test public void should_perform_something() { ... }\n}\n</code></pre>\n\n<p>You don't have to use have <code>@Mock</code>s in your test to benefit from this framework validation.\nAnd anyway both are the <em>preferred</em> ways to instantiate mocks compared to <code>MockitoAnnotations.initMocks(...)</code></p>\n\n<p>Also which version of mockito are you using ? I believe Mockito has improved some messages with the location of the bad code.</p>\n\n<hr>\n\n<p>Note that this code cannot work properly, because <code>indProvider.asProvider()</code> is not stubbed so mockito will use the default value which is <code>null</code>. You have to do this either way (deep stubs is here for legacy code, a mock returning a mock is usually considered a code smell and it shows the tested code breaks the <a href=\"http://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">Law of Demeter</a>) : </p>\n\n<pre><code>@Mock(answer = RETURNS_DEEP_STUBS) Individual indProvider;\n// ...\nwhen(indProvider.asProvider().getProviderId()).thenReturn(\"795316051750\");\n</code></pre>\n\n<p>or as answered by @przemek, it's more verbose and shows the same weakness in the tested code.</p>\n\n<pre><code>@Mock(answer = RETURNS_DEEP_STUBS) Individual indProvider;\n@Mock Provider provider;\n// ...\nwhen(indProvider.asProvider()).thenReturn(provider);\nwhen(provider.getProviderId()).thenReturn(\"795316051750\");\n</code></pre>\n\n<hr>\n\n<p>I advise you to read this book (<a href=\"https://rads.stackoverflow.com/amzn/click/com/0321503627\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Growing Object Oriented Software Guided by Tests</a>), it's one of the very best book you can read about writing softwares guided by tests. I find it even more important than infamous Effective Java book.</p>\n"},{"tags":[],"owner":{"account_id":12215811,"reputation":1,"user_id":9048079,"display_name":"JeeOpp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677162489,"creation_date":1677162489,"answer_id":75546168,"question_id":27824949,"body_markdown":"You can solve it like this:\r\n\r\n    Mockito.when(indProvider.asProvider().getProviderId())\r\n      .thenAnswer(t -&gt; &quot;795316051750&quot;);\r\n\r\n","title":"Returning String value from the Mockito when()","body":"<p>You can solve it like this:</p>\n<pre><code>Mockito.when(indProvider.asProvider().getProviderId())\n  .thenAnswer(t -&gt; &quot;795316051750&quot;);\n</code></pre>\n"}],"owner":{"account_id":5023051,"reputation":3116,"user_id":4035943,"accept_rate":97,"display_name":"αƞjiβ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27826222,"answer_count":3,"score":1,"last_activity_date":1677162489,"creation_date":1420651151,"question_id":27824949,"body_markdown":"I am trying to specific String value in mockito using when() method like\r\n\r\n    @Mock Individual indProvider;\r\n    when(indProvider.asProvider().getProviderId()).thenReturn(&quot;795316051750&quot;);\r\n\r\nBut I am getting exception\r\n\r\n    org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n    Invalid use of argument matchers!\r\n    0 matchers expected, 1 recorded.\r\n    This exception may occur if matchers are combined with raw values:\r\n    //incorrect:\r\n    someMethod(anyObject(), &quot;raw String&quot;);\r\n    When using matchers, all arguments have to be provided by matchers.\r\n    For example:\r\n    //correct:\r\n    someMethod(anyObject(), eq(&quot;String by matcher&quot;));\r\n\r\n    For more info see javadoc for Matchers class.\r\n\r\nHow can I return specific String in such case?","title":"Returning String value from the Mockito when()","body":"<p>I am trying to specific String value in mockito using when() method like</p>\n\n<pre><code>@Mock Individual indProvider;\nwhen(indProvider.asProvider().getProviderId()).thenReturn(\"795316051750\");\n</code></pre>\n\n<p>But I am getting exception</p>\n\n<pre><code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nInvalid use of argument matchers!\n0 matchers expected, 1 recorded.\nThis exception may occur if matchers are combined with raw values:\n//incorrect:\nsomeMethod(anyObject(), \"raw String\");\nWhen using matchers, all arguments have to be provided by matchers.\nFor example:\n//correct:\nsomeMethod(anyObject(), eq(\"String by matcher\"));\n\nFor more info see javadoc for Matchers class.\n</code></pre>\n\n<p>How can I return specific String in such case?</p>\n"},{"tags":["java","string","resources","text-files"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":1,"creation_date":1305872826,"post_id":6068197,"comment_id":7026636,"body_markdown":"please clarify what you mean by &quot;resource text file&quot; vs &quot;text file in resource&quot; - it&#39;s not easy to understand what you are trying to achieve.","body":"please clarify what you mean by &quot;resource text file&quot; vs &quot;text file in resource&quot; - it&#39;s not easy to understand what you are trying to achieve."},{"owner":{"account_id":333077,"reputation":4334,"user_id":658741,"accept_rate":38,"display_name":"Loc Phan"},"score":0,"creation_date":1305872995,"post_id":6068197,"comment_id":7026686,"body_markdown":"That&#39;s just a text file under classpath like &quot;classpath*:mytext/text.txt&quot;","body":"That&#39;s just a text file under classpath like &quot;classpath*:mytext/text.txt&quot;"},{"owner":{"account_id":334591,"reputation":8702,"user_id":661140,"accept_rate":83,"display_name":"Roberto"},"score":9,"creation_date":1613833066,"post_id":6068197,"comment_id":117200792,"body_markdown":"Since java11 there is a specific method for this: `Files.readString(Paths.get(getClass().getResource(&quot;foo.txt&quot;).toURI()), Charset.forName(&quot;utf-8&quot;))`","body":"Since java11 there is a specific method for this: <code>Files.readString(Paths.get(getClass().getResource(&quot;foo.txt&quot;)&zwnj;&#8203;.toURI()), Charset.forName(&quot;utf-8&quot;))</code>"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":1,"creation_date":1633755400,"post_id":6068197,"comment_id":122850275,"body_markdown":"@Roberto your method works when I run my program from an exploded folder with classes, but when I package it into jar, `Paths.get(...)` throws `FileSystemNotFoundException`","body":"@Roberto your method works when I run my program from an exploded folder with classes, but when I package it into jar, <code>Paths.get(...)</code> throws <code>FileSystemNotFoundException</code>"},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1687289957,"post_id":6068197,"comment_id":134915241,"body_markdown":"IOUtils.resourceToString(&quot;/foo/text.txt&quot;, StandardCharsets.UTF_8);","body":"IOUtils.resourceToString(&quot;/foo/text.txt&quot;, StandardCharsets.UTF_8);"}],"answers":[{"comments":[{"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"score":24,"creation_date":1371154863,"post_id":6068228,"comment_id":24731156,"body_markdown":"@JonSkeet This is great, however for web applications it might not be the best solution, the implementation of `getResource` is using `Resource.class.getClassLoader` but in web applications, this might not be &quot;your&quot; class loader, so it&#39;s recommended (e.g. in [1]) to use `Thread.currentThread().getContextClassLoader().getResourceAsStream` instead (reference [1]: http://stackoverflow.com/questions/676250/different-ways-of-loading-a-file-as-an-inputstream)","body":"@JonSkeet This is great, however for web applications it might not be the best solution, the implementation of <code>getResource</code> is using <code>Resource.class.getClassLoader</code> but in web applications, this might not be &quot;your&quot; class loader, so it&#39;s recommended (e.g. in [1]) to use <code>Thread.currentThread().getContextClassLoader().getResourceAs&zwnj;&#8203;Stream</code> instead (reference [1]: <a href=\"http://stackoverflow.com/questions/676250/different-ways-of-loading-a-file-as-an-inputstream\" title=\"different ways of loading a file as an inputstream\">stackoverflow.com/questions/676250/&hellip;</a>)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1371155052,"post_id":6068228,"comment_id":24731253,"body_markdown":"@EranMedan: Yes, if you want the context classloader you&#39;d want to use it explicitly.","body":"@EranMedan: Yes, if you want the context classloader you&#39;d want to use it explicitly."},{"owner":{"account_id":186752,"reputation":8053,"user_id":424353,"accept_rate":88,"display_name":"Bogdan Calmac"},"score":7,"creation_date":1425577619,"post_id":6068228,"comment_id":46029809,"body_markdown":"In the special case when the resource is next to your class, you can do `Resources.toString(MyClass.getResource(&quot;foo.txt&quot;), Charsets.UTF_8)` which guarantees the use of the correct class loader.","body":"In the special case when the resource is next to your class, you can do <code>Resources.toString(MyClass.getResource(&quot;foo.txt&quot;), Charsets.UTF_8)</code> which guarantees the use of the correct class loader."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1467381258,"post_id":6068228,"comment_id":63724030,"body_markdown":"@Arne: What version of Java are you using? There may be something in Java 7 or Java 8...","body":"@Arne: What version of Java are you using? There may be something in Java 7 or Java 8..."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1467382608,"post_id":6068228,"comment_id":63724984,"body_markdown":"@Arne: Well of course you *can* read your resource files without anything extra. Just create a `BufferedReader` around an `InputStreamReader` around your resource stream, read a chunk at a time and append it to a `StringBuilder`. You should be able to do the whole thing in about 15 lines of code, I should think. Looking around JDK 8, I can&#39;t see anything massively simpler though :(","body":"@Arne: Well of course you <i>can</i> read your resource files without anything extra. Just create a <code>BufferedReader</code> around an <code>InputStreamReader</code> around your resource stream, read a chunk at a time and append it to a <code>StringBuilder</code>. You should be able to do the whole thing in about 15 lines of code, I should think. Looking around JDK 8, I can&#39;t see anything massively simpler though :("},{"owner":{"account_id":474779,"reputation":527,"user_id":884677,"accept_rate":70,"display_name":"firyice"},"score":0,"creation_date":1477356712,"post_id":6068228,"comment_id":67722466,"body_markdown":"@JonSkeet: Looks like Guava&#39;s `Resource.getResource` ([source](https://github.com/google/guava/blob/master/guava/src/com/google/common/io/Resources.java#L195)) now uses your recommended method.","body":"@JonSkeet: Looks like Guava&#39;s <code>Resource.getResource</code> (<a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/io/Resources.java#L195\" rel=\"nofollow noreferrer\">source</a>) now uses your recommended method."},{"owner":{"account_id":5106519,"reputation":1587,"user_id":4094444,"display_name":"b3000"},"score":0,"creation_date":1539869598,"post_id":6068228,"comment_id":92663961,"body_markdown":"Note for Java 7 and later: `Charsets` should be treated as deprecated; use `java.nio.charset.StandardCharsets` instead.","body":"Note for Java 7 and later: <code>Charsets</code> should be treated as deprecated; use <code>java.nio.charset.StandardCharsets</code> instead."},{"owner":{"account_id":4014197,"reputation":131,"user_id":5348370,"display_name":"Ghilteras"},"score":6,"creation_date":1560214826,"post_id":6068228,"comment_id":99653175,"body_markdown":"`com.google.common.io.Resources` is marked unstable according to SonarQube","body":"<code>com.google.common.io.Resources</code> is marked unstable according to SonarQube"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1560230427,"post_id":6068228,"comment_id":99656019,"body_markdown":"@Ghilteras: It looks like it still has the `@Beta` tag - but personally I&#39;d be surprised if it was removed at this point.","body":"@Ghilteras: It looks like it still has the <code>@Beta</code> tag - but personally I&#39;d be surprised if it was removed at this point."},{"owner":{"account_id":2780715,"reputation":1058,"user_id":2393364,"display_name":"xxy"},"score":4,"creation_date":1582373933,"post_id":6068228,"comment_id":106760377,"body_markdown":"`guava` has change the implementation. For guava 23 the implementation likes following. `ClassLoader loader =\n        MoreObjects.firstNonNull(\n            Thread.currentThread().getContextClassLoader(), Resources.class.getClassLoader());`","body":"<code>guava</code> has change the implementation. For guava 23 the implementation likes following. <code>ClassLoader loader =         MoreObjects.firstNonNull(             Thread.currentThread().getContextClassLoader(), Resources.class.getClassLoader());</code>"},{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":0,"creation_date":1585764004,"post_id":6068228,"comment_id":107880270,"body_markdown":"@xxy alas, this latest implementation is still not sufficient for my maven plugin development where the current thread loader is `org.codehaus.plexus.classworlds.realm.ClassRealm`. I still resort to using `getClass().getResource(..)` (as pointed by @Bogdan Calmac above)","body":"@xxy alas, this latest implementation is still not sufficient for my maven plugin development where the current thread loader is <code>org.codehaus.plexus.classworlds.realm.ClassRealm</code>. I still resort to using <code>getClass().getResource(..)</code> (as pointed by @Bogdan Calmac above)"},{"owner":{"account_id":173074,"reputation":419,"user_id":401529,"accept_rate":80,"display_name":"Lyoneel"},"score":0,"creation_date":1632956244,"post_id":6068228,"comment_id":122636547,"body_markdown":"Be careful, this function has an issue in windows, if I use File.separator (in windows \\) throws exception. I have to replace it with &quot;\\&quot; in order to make it work. E.g.: &quot;texts/mytextfile.txt&quot;. I was struggling with this few hours...","body":"Be careful, this function has an issue in windows, if I use File.separator (in windows &#41; throws exception. I have to replace it with &quot;\\&quot; in order to make it work. E.g.: &quot;texts/mytextfile.txt&quot;. I was struggling with this few hours..."},{"owner":{"account_id":2106798,"reputation":446,"user_id":1872964,"accept_rate":38,"display_name":"Brain"},"score":0,"creation_date":1669212784,"post_id":6068228,"comment_id":131593404,"body_markdown":"There are way better solutions than using a huge library like Guava. Plain java is a better solution.","body":"There are way better solutions than using a huge library like Guava. Plain java is a better solution."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":13,"down_vote_count":16,"up_vote_count":346,"is_accepted":true,"score":330,"last_activity_date":1576589090,"creation_date":1305872855,"answer_id":6068228,"question_id":6068197,"body_markdown":"Yes, [Guava][1] provides this in the [`Resources`][2] class. For example:\r\n\r\n    URL url = Resources.getResource(&quot;foo.txt&quot;);\r\n    String text = Resources.toString(url, StandardCharsets.UTF_8);\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/io/Resources.html","title":"Read resource text file to String in Java","body":"<p>Yes, <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> provides this in the <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/io/Resources.html\" rel=\"noreferrer\"><code>Resources</code></a> class. For example:</p>\n\n<pre><code>URL url = Resources.getResource(\"foo.txt\");\nString text = Resources.toString(url, StandardCharsets.UTF_8);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":1,"creation_date":1588253830,"post_id":6068240,"comment_id":108832232,"body_markdown":"File works only for classpath resources that are, well, files. Not if they are elements in a .jar file, or part of a fat jar, one one of the other classloader implementations.","body":"File works only for classpath resources that are, well, files. Not if they are elements in a .jar file, or part of a fat jar, one one of the other classloader implementations."}],"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1305872930,"creation_date":1305872930,"answer_id":6068240,"question_id":6068197,"body_markdown":"Use Apache commons&#39;s FileUtils. It has a method [readFileToString][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/io/api-1.4/org/apache/commons/io/FileUtils.html#readFileToString%28java.io.File%29","title":"Read resource text file to String in Java","body":"<p>Use Apache commons's FileUtils. It has a method <a href=\"http://commons.apache.org/io/api-1.4/org/apache/commons/io/FileUtils.html#readFileToString%28java.io.File%29\" rel=\"nofollow\">readFileToString</a></p>\n"},{"comments":[{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":2,"creation_date":1324392421,"post_id":6068244,"comment_id":10635502,"body_markdown":"Why do one have to specify the encoding, i don&#39;t get that. If I read the file, i just want what is in it, it should figure out what encoding it is like my editor does. When I open in Notepad or ++, I dont tell it what encoding it should use. I am using this method and then afterwards writeStringToFile ... but the contents differ. I get strange tokens in the cloned file.. i don&#39;t get why I should have to specify an encoding.","body":"Why do one have to specify the encoding, i don&#39;t get that. If I read the file, i just want what is in it, it should figure out what encoding it is like my editor does. When I open in Notepad or ++, I dont tell it what encoding it should use. I am using this method and then afterwards writeStringToFile ... but the contents differ. I get strange tokens in the cloned file.. i don&#39;t get why I should have to specify an encoding."},{"owner":{"account_id":214,"reputation":35692,"user_id":268,"accept_rate":100,"display_name":"Vincent Robert"},"score":13,"creation_date":1326798391,"post_id":6068244,"comment_id":11120250,"body_markdown":"@Hamidan, choosing the right encoding is a very complex algorithm. It is often implemented in text editor but they sometimes fail to detect the correct encoding. I would not expect a file reading API to embed such complex algorithm to read my file.","body":"@Hamidan, choosing the right encoding is a very complex algorithm. It is often implemented in text editor but they sometimes fail to detect the correct encoding. I would not expect a file reading API to embed such complex algorithm to read my file."},{"owner":{"account_id":173533,"reputation":9578,"user_id":402281,"accept_rate":58,"display_name":"Feuermurmel"},"score":1,"creation_date":1398673561,"post_id":6068244,"comment_id":35734143,"body_markdown":"@SecretService Also, those algorithms make use of information like the operating system&#39;s language, locale and other regional settings which means that reading a file without specifying an encoding may work on your setup but not on someone else&#39;s.","body":"@SecretService Also, those algorithms make use of information like the operating system&#39;s language, locale and other regional settings which means that reading a file without specifying an encoding may work on your setup but not on someone else&#39;s."},{"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"score":0,"creation_date":1456397507,"post_id":6068244,"comment_id":58932073,"body_markdown":"Apache [FileUtils](http://commons.apache.org/proper/commons-io/description.html#FileUtils).[readLines](http://avajava.com/tutorials/lessons/how-do-i-get-a-list-of-the-lines-in-a-file-using-commons-io.html)(file) &amp; copyURLToFile(URL, tempFile).","body":"Apache <a href=\"http://commons.apache.org/proper/commons-io/description.html#FileUtils\" rel=\"nofollow noreferrer\">FileUtils</a>.<a href=\"http://avajava.com/tutorials/lessons/how-do-i-get-a-list-of-the-lines-in-a-file-using-commons-io.html\" rel=\"nofollow noreferrer\">readLines</a>(file) &amp; copyURLToFile(URL, tempFile)."},{"owner":{"account_id":221741,"reputation":8017,"user_id":479905,"accept_rate":80,"display_name":"Arne"},"score":1,"creation_date":1467381266,"post_id":6068244,"comment_id":63724035,"body_markdown":"Sorry for downvoting, but I don&#39;t like answers that add big dependencies to trivial problems.","body":"Sorry for downvoting, but I don&#39;t like answers that add big dependencies to trivial problems."},{"owner":{"account_id":8084233,"reputation":400,"user_id":6092270,"display_name":"Ville Oikarinen"},"score":2,"creation_date":1525856935,"post_id":6068244,"comment_id":87516308,"body_markdown":"I don&#39;t think this will work if the resource is found inside a jar. Then it won&#39;t be a file.","body":"I don&#39;t think this will work if the resource is found inside a jar. Then it won&#39;t be a file."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":6,"down_vote_count":6,"up_vote_count":47,"is_accepted":false,"score":41,"last_activity_date":1490868610,"creation_date":1305872942,"answer_id":6068244,"question_id":6068197,"body_markdown":"[apache-commons-io][1] has a utility name `FileUtils`:\r\n\r\n    URL url = Resources.getResource(&quot;myFile.txt&quot;);\r\n    File myFile = new File(url.toURI());\r\n\r\n    String content = FileUtils.readFileToString(myFile, &quot;UTF-8&quot;);  // or any other encoding\r\n\r\n\r\n  [1]: http://commons.apache.org/io/","title":"Read resource text file to String in Java","body":"<p><a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\">apache-commons-io</a> has a utility name <code>FileUtils</code>:</p>\n\n<pre><code>URL url = Resources.getResource(\"myFile.txt\");\nFile myFile = new File(url.toURI());\n\nString content = FileUtils.readFileToString(myFile, \"UTF-8\");  // or any other encoding\n</code></pre>\n"},{"comments":[{"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"score":2,"creation_date":1371154234,"post_id":7737116,"comment_id":24730843,"body_markdown":"Or if it&#39;s an input stream, guava has a nice way for this as well `String stringFromStream = CharStreams.toString(new InputStreamReader(resourceAsStream, &quot;UTF-8&quot;));`","body":"Or if it&#39;s an input stream, guava has a nice way for this as well <code>String stringFromStream = CharStreams.toString(new InputStreamReader(resourceAsStream, &quot;UTF-8&quot;));</code>"},{"owner":{"account_id":3833503,"reputation":346,"user_id":3178456,"display_name":"Andrey"},"score":1,"creation_date":1524596065,"post_id":7737116,"comment_id":87034430,"body_markdown":"This is deprecated in Guava 24.1","body":"This is deprecated in Guava 24.1"}],"tags":[],"owner":{"account_id":33206,"reputation":10107,"user_id":92764,"accept_rate":84,"display_name":"Luciano Fiandesio"},"comment_count":2,"down_vote_count":5,"up_vote_count":60,"is_accepted":false,"score":55,"last_activity_date":1355892961,"creation_date":1318407571,"answer_id":7737116,"question_id":6068197,"body_markdown":"[Guava][1] has a &quot;toString&quot; method for reading a file into a String:\r\n\r\n    import com.google.common.base.Charsets;\r\n    import com.google.common.io.Files;\r\n    \r\n    String content = Files.toString(new File(&quot;/home/x1/text.log&quot;), Charsets.UTF_8);\r\n\r\n\r\nThis method does not require the file to be in the classpath (as in [Jon Skeet][2] previous answer).\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: https://stackoverflow.com/users/22656/jon-skeet","title":"Read resource text file to String in Java","body":"<p><a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Guava</a> has a \"toString\" method for reading a file into a String:</p>\n\n<pre><code>import com.google.common.base.Charsets;\nimport com.google.common.io.Files;\n\nString content = Files.toString(new File(\"/home/x1/text.log\"), Charsets.UTF_8);\n</code></pre>\n\n<p>This method does not require the file to be in the classpath (as in <a href=\"https://stackoverflow.com/users/22656/jon-skeet\">Jon Skeet</a> previous answer).</p>\n"},{"comments":[{"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"score":0,"creation_date":1505611786,"post_id":9426280,"comment_id":79483242,"body_markdown":"What is Charsets class? is not native","body":"What is Charsets class? is not native"},{"owner":{"account_id":135261,"reputation":4039,"user_id":337988,"accept_rate":94,"display_name":"philipjkim"},"score":0,"creation_date":1505700845,"post_id":9426280,"comment_id":79503910,"body_markdown":"@e-info128 `Charsets` is also in Guava. See this: http://google.github.io/guava/releases/23.0/api/docs/","body":"@e-info128 <code>Charsets</code> is also in Guava. See this: <a href=\"http://google.github.io/guava/releases/23.0/api/docs/\" rel=\"nofollow noreferrer\">google.github.io/guava/releases/23.0/api/docs</a>"}],"tags":[],"owner":{"account_id":135261,"reputation":4039,"user_id":337988,"accept_rate":94,"display_name":"philipjkim"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1330064151,"creation_date":1330064151,"answer_id":9426280,"question_id":6068197,"body_markdown":"Guava also has `Files.readLines()` if you want a return value as `List&lt;String&gt;` line-by-line:\r\n\r\n    List&lt;String&gt; lines = Files.readLines(new File(&quot;/file/path/input.txt&quot;), Charsets.UTF_8);\r\n\r\nPlease refer to [here](https://github.com/philipjkim/file2string) to compare 3 ways (`BufferedReader` vs. Guava&#39;s `Files` vs. Guava&#39;s `Resources`) to get `String` from a text file.","title":"Read resource text file to String in Java","body":"<p>Guava also has <code>Files.readLines()</code> if you want a return value as <code>List&lt;String&gt;</code> line-by-line:</p>\n\n<pre><code>List&lt;String&gt; lines = Files.readLines(new File(\"/file/path/input.txt\"), Charsets.UTF_8);\n</code></pre>\n\n<p>Please refer to <a href=\"https://github.com/philipjkim/file2string\" rel=\"nofollow\">here</a> to compare 3 ways (<code>BufferedReader</code> vs. Guava's <code>Files</code> vs. Guava's <code>Resources</code>) to get <code>String</code> from a text file.</p>\n"},{"tags":[],"owner":{"account_id":1893775,"reputation":177,"user_id":1711177,"display_name":"Harry Karadimas"},"comment_count":0,"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1349078699,"creation_date":1349078699,"answer_id":12669507,"question_id":6068197,"body_markdown":"I often had this problem myself. To avoid dependencies on small projects, I often\r\nwrite a small utility function when I don&#39;t need commons io or such. Here is\r\nthe code to load the content of the file in a string buffer :\r\n    \r\n    StringBuffer sb = new StringBuffer();\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(getClass().getResourceAsStream(&quot;path/to/textfile.txt&quot;), &quot;UTF-8&quot;));\r\n    for (int c = br.read(); c != -1; c = br.read()) sb.append((char)c);\r\n\r\n    System.out.println(sb.toString());   \r\n\r\n\r\nSpecifying the encoding *is* important in that case, because you might have\r\nedited your file in UTF-8, and then put it in a jar, and the computer that opens\r\nthe file may have CP-1251 as its native file encoding (for example); so in\r\nthis case you never know the target encoding, therefore the explicit\r\nencoding information is crucial.\r\nAlso the loop to read the file char by char seems inefficient, but it is used on a\r\nBufferedReader, and so actually quite fast.\r\n","title":"Read resource text file to String in Java","body":"<p>I often had this problem myself. To avoid dependencies on small projects, I often\nwrite a small utility function when I don't need commons io or such. Here is\nthe code to load the content of the file in a string buffer :</p>\n\n<pre><code>StringBuffer sb = new StringBuffer();\n\nBufferedReader br = new BufferedReader(new InputStreamReader(getClass().getResourceAsStream(\"path/to/textfile.txt\"), \"UTF-8\"));\nfor (int c = br.read(); c != -1; c = br.read()) sb.append((char)c);\n\nSystem.out.println(sb.toString());   \n</code></pre>\n\n<p>Specifying the encoding <em>is</em> important in that case, because you might have\nedited your file in UTF-8, and then put it in a jar, and the computer that opens\nthe file may have CP-1251 as its native file encoding (for example); so in\nthis case you never know the target encoding, therefore the explicit\nencoding information is crucial.\nAlso the loop to read the file char by char seems inefficient, but it is used on a\nBufferedReader, and so actually quite fast.</p>\n"},{"comments":[{"owner":{"account_id":25300,"reputation":13294,"user_id":64967,"accept_rate":75,"display_name":"Dilum Ranatunga"},"score":54,"creation_date":1394217383,"post_id":18897411,"comment_id":33806217,"body_markdown":"Avoiding 3rd party is a reasonable principle. Unfortunately the core library seems allergic to modeling real-life use cases. Look at Java 7&#39;s Files, and tell me why reading everything from a classpath resource wasn&#39;t included there? Or at least using a standardized &#39;filesystem&#39;.","body":"Avoiding 3rd party is a reasonable principle. Unfortunately the core library seems allergic to modeling real-life use cases. Look at Java 7&#39;s Files, and tell me why reading everything from a classpath resource wasn&#39;t included there? Or at least using a standardized &#39;filesystem&#39;."},{"owner":{"account_id":333131,"reputation":2273,"user_id":658826,"display_name":"virgo47"},"score":4,"creation_date":1415800236,"post_id":18897411,"comment_id":42331326,"body_markdown":"Is it - or is it not - necessary to close the stream as well? Guava internally closes the stream.","body":"Is it - or is it not - necessary to close the stream as well? Guava internally closes the stream."},{"owner":{"account_id":64048,"reputation":952,"user_id":189280,"accept_rate":70,"display_name":"Terje Dahl"},"score":0,"creation_date":1428220904,"post_id":18897411,"comment_id":47075512,"body_markdown":"Worked beautifully for me too!  I agree about the 3rd party thing also:  In to many answers, the default response always seems to be to use some third party library - be it from Apache or someone else.","body":"Worked beautifully for me too!  I agree about the 3rd party thing also:  In to many answers, the default response always seems to be to use some third party library - be it from Apache or someone else."},{"owner":{"account_id":198229,"reputation":3750,"user_id":442773,"accept_rate":53,"display_name":"Chris DaMour"},"score":2,"creation_date":1456555096,"post_id":18897411,"comment_id":59012900,"body_markdown":"change ```CartApplication.class.getResourceAsStream``` to ```CartApplication.class.getClassLoader().getResourceAsStream``` to load resources in the current jar..like srm/test/resources","body":"change <code>CartApplication.class.getResourceAsStream</code> to <code>CartApplication.class.getClassLoader().getResourceAsStream</code> to load resources in the current jar..like srm/test/resources"},{"owner":{"account_id":174366,"reputation":12158,"user_id":403682,"accept_rate":95,"display_name":"Kenny Cason"},"score":10,"creation_date":1459376496,"post_id":18897411,"comment_id":60264851,"body_markdown":"While I&#39;ve used this, I completely disagree on avoiding 3rd party packages. The fact that in Java, the only way to easily read a file to string is with the scanner trick is pretty sad. The alternative to using a 3rd party lib is that everyone will just create their own wrappers. Guava for IO hands down wins if you have a lot of needs for this kind of operation. Where I WILL agree is that you shouldn&#39;t import a 3rd party package if you only have one place in your code where you want to do this. That would be overkill imo.","body":"While I&#39;ve used this, I completely disagree on avoiding 3rd party packages. The fact that in Java, the only way to easily read a file to string is with the scanner trick is pretty sad. The alternative to using a 3rd party lib is that everyone will just create their own wrappers. Guava for IO hands down wins if you have a lot of needs for this kind of operation. Where I WILL agree is that you shouldn&#39;t import a 3rd party package if you only have one place in your code where you want to do this. That would be overkill imo."},{"owner":{"account_id":6942661,"reputation":311,"user_id":5328408,"display_name":"Udo Borkowski"},"score":0,"creation_date":1544038798,"post_id":18897411,"comment_id":94138632,"body_markdown":"Nice solution, however it does not work when the resource/stream is empty, as the Scanner will throw an NoSuchElementException in that case. To make the code work in all cases wrap the statement in a try-catch and &quot;use&quot; an empty space when caught. Sadly this no longer is a one-liner.","body":"Nice solution, however it does not work when the resource/stream is empty, as the Scanner will throw an NoSuchElementException in that case. To make the code work in all cases wrap the statement in a try-catch and &quot;use&quot; an empty space when caught. Sadly this no longer is a one-liner."}],"tags":[],"owner":{"account_id":1871883,"reputation":2273,"user_id":1693928,"display_name":"akosicki"},"comment_count":6,"down_vote_count":4,"up_vote_count":218,"is_accepted":false,"score":214,"last_activity_date":1475247334,"creation_date":1379600775,"answer_id":18897411,"question_id":6068197,"body_markdown":"You can use the old [Stupid Scanner trick][1] oneliner to do that without any additional dependency like guava:\r\n\r\n    String text = new Scanner(AppropriateClass.class.getResourceAsStream(&quot;foo.txt&quot;), &quot;UTF-8&quot;).useDelimiter(&quot;\\\\A&quot;).next();\r\n\r\n\r\nGuys, don&#39;t use 3rd party stuff unless you really need that. There is a lot of functionality in the JDK already.\r\n  [1]: https://community.oracle.com/blogs/pat/2004/10/23/stupid-scanner-tricks","title":"Read resource text file to String in Java","body":"<p>You can use the old <a href=\"https://community.oracle.com/blogs/pat/2004/10/23/stupid-scanner-tricks\">Stupid Scanner trick</a> oneliner to do that without any additional dependency like guava:</p>\n\n<pre><code>String text = new Scanner(AppropriateClass.class.getResourceAsStream(\"foo.txt\"), \"UTF-8\").useDelimiter(\"\\\\A\").next();\n</code></pre>\n\n<p>Guys, don't use 3rd party stuff unless you really need that. There is a lot of functionality in the JDK already.</p>\n"},{"comments":[{"owner":{"account_id":443003,"reputation":2739,"user_id":833970,"accept_rate":65,"display_name":"user833970"},"score":0,"creation_date":1421349930,"post_id":21337734,"comment_id":44335396,"body_markdown":"I prefer &quot;&quot; to this in-case this is unavailable","body":"I prefer &quot;&quot; to this in-case this is unavailable"},{"owner":{"account_id":186752,"reputation":8053,"user_id":424353,"accept_rate":88,"display_name":"Bogdan Calmac"},"score":15,"creation_date":1425577935,"post_id":21337734,"comment_id":46030007,"body_markdown":"Just as compact, but with proper closing of the input stream: `IOUtils.toString(this.getClass().getResource(&quot;foo.xml&quot;),\n                               &quot;UTF-8&quot;)`.","body":"Just as compact, but with proper closing of the input stream: <code>IOUtils.toString(this.getClass().getResource(&quot;foo.xml&quot;),                                &quot;UTF-8&quot;)</code>."},{"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"score":2,"creation_date":1507111490,"post_id":21337734,"comment_id":80077749,"body_markdown":"If this solution doesn&#39;t work, try adding `getClassLoader()` to the method chain:\n\n`String text = IOUtils.toString( getClass().getClassLoader().getResourceAsStream(&quot;foo.xml&quot;), StandardCharsets.UTF_8);`","body":"If this solution doesn&#39;t work, try adding <code>getClassLoader()</code> to the method chain:  <code>String text = IOUtils.toString( getClass().getClassLoader().getResourceAsStream(&quot;foo.xml&quot;), StandardCharsets.UTF_8);</code>"},{"owner":{"account_id":5613037,"reputation":319,"user_id":4445238,"display_name":"Alex Rewa"},"score":4,"creation_date":1597737529,"post_id":21337734,"comment_id":112223955,"body_markdown":"Another example with IOUtils:\n`IOUtils.resourceToString(&quot;/foo.xml&quot;, StandardCharsets.UTF_8);`","body":"Another example with IOUtils: <code>IOUtils.resourceToString(&quot;&#47;foo.xml&quot;, StandardCharsets.UTF_8);</code>"}],"tags":[],"owner":{"account_id":179240,"reputation":4160,"user_id":411766,"accept_rate":67,"display_name":"Stefan Endrullis"},"comment_count":4,"down_vote_count":2,"up_vote_count":60,"is_accepted":false,"score":58,"last_activity_date":1394364598,"creation_date":1390581247,"answer_id":21337734,"question_id":6068197,"body_markdown":"[yegor256][1] has found a [nice solution using Apache Commons IO][2]:\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n\r\n    String text = IOUtils.toString(this.getClass().getResourceAsStream(&quot;foo.xml&quot;),\r\n                                   &quot;UTF-8&quot;);\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/187141/yegor256\r\n  [2]: https://stackoverflow.com/a/3905897/411766","title":"Read resource text file to String in Java","body":"<p><a href=\"https://stackoverflow.com/users/187141/yegor256\">yegor256</a> has found a <a href=\"https://stackoverflow.com/a/3905897/411766\">nice solution using Apache Commons IO</a>:</p>\n\n<pre><code>import org.apache.commons.io.IOUtils;\n\nString text = IOUtils.toString(this.getClass().getResourceAsStream(\"foo.xml\"),\n                               \"UTF-8\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":4,"creation_date":1413540725,"post_id":26421518,"comment_id":41490876,"body_markdown":"Explain please why this works, why it is better than other alternatives, and any performance/encoding considerations needed.","body":"Explain please why this works, why it is better than other alternatives, and any performance/encoding considerations needed."},{"owner":{"account_id":5070763,"reputation":1430,"user_id":4069572,"display_name":"Kovalsky Dmitryi"},"score":7,"creation_date":1413545346,"post_id":26421518,"comment_id":41493162,"body_markdown":"It is nio 2 in java 1.7. It&#39;s native feture of java. For encoding use  new String(bytes, StandardCharsets.UTF_8)","body":"It is nio 2 in java 1.7. It&#39;s native feture of java. For encoding use  new String(bytes, StandardCharsets.UTF_8)"},{"owner":{"account_id":243799,"reputation":9073,"user_id":516188,"accept_rate":94,"display_name":"Emmanuel Touzery"},"score":12,"creation_date":1480708939,"post_id":26421518,"comment_id":69091513,"body_markdown":"in my case I needed `getClass().getClassLoader()` but otherwise great solution!","body":"in my case I needed <code>getClass().getClassLoader()</code> but otherwise great solution!"},{"owner":{"account_id":3311687,"reputation":2518,"user_id":2785047,"accept_rate":73,"display_name":"Daniel Bo"},"score":30,"creation_date":1539096790,"post_id":26421518,"comment_id":92373129,"body_markdown":"This won&#39;t work, once the app is package into a jar.","body":"This won&#39;t work, once the app is package into a jar."}],"tags":[],"owner":{"account_id":5070763,"reputation":1430,"user_id":4069572,"display_name":"Kovalsky Dmitryi"},"comment_count":4,"down_vote_count":14,"up_vote_count":132,"is_accepted":false,"score":118,"last_activity_date":1674041233,"creation_date":1413536569,"answer_id":26421518,"question_id":6068197,"body_markdown":"For java 7:\r\n\r\n    new String(Files.readAllBytes(Paths.get(getClass().getResource(&quot;foo.txt&quot;).toURI())));\r\nFor Java 11:\r\n\r\n    Files.readString(Paths.get(getClass().getClassLoader().getResource(&quot;foo.txt&quot;).toURI()));","title":"Read resource text file to String in Java","body":"<p>For java 7:</p>\n<pre><code>new String(Files.readAllBytes(Paths.get(getClass().getResource(&quot;foo.txt&quot;).toURI())));\n</code></pre>\n<p>For Java 11:</p>\n<pre><code>Files.readString(Paths.get(getClass().getClassLoader().getResource(&quot;foo.txt&quot;).toURI()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3228083,"reputation":335,"user_id":2723931,"accept_rate":80,"display_name":"Steve Scherer"},"score":0,"creation_date":1467390786,"post_id":28315228,"comment_id":63729814,"body_markdown":"What import statements are needed to pull in &quot;Files&quot; and &quot;Paths&quot; classes?","body":"What import statements are needed to pull in &quot;Files&quot; and &quot;Paths&quot; classes?"},{"owner":{"account_id":2524791,"reputation":3884,"user_id":2194364,"accept_rate":77,"display_name":"Raghu K Nair"},"score":2,"creation_date":1468458732,"post_id":28315228,"comment_id":64140250,"body_markdown":"both are part of java.nio.file package available from JDK 7+","body":"both are part of java.nio.file package available from JDK 7+"},{"owner":{"account_id":5914797,"reputation":690,"user_id":4653927,"accept_rate":80,"display_name":"Displee"},"score":7,"creation_date":1592765273,"post_id":28315228,"comment_id":110535354,"body_markdown":"Does not work when in a jar file.","body":"Does not work when in a jar file."},{"owner":{"account_id":1309871,"reputation":2196,"user_id":1258091,"accept_rate":78,"display_name":"Kajzer"},"score":0,"creation_date":1627968918,"post_id":28315228,"comment_id":121289582,"body_markdown":"If you want it to work in a jar, replace `getClass().getResource(&quot;example.txt&quot;)` with `getClass().getClassLoader().getResource(&quot;example.txt&quot;)`","body":"If you want it to work in a jar, replace <code>getClass().getResource(&quot;example.txt&quot;)</code> with <code>getClass().getClassLoader().getResource(&quot;example.txt&quot;)</code>"}],"tags":[],"owner":{"account_id":2524791,"reputation":3884,"user_id":2194364,"accept_rate":77,"display_name":"Raghu K Nair"},"comment_count":4,"down_vote_count":5,"up_vote_count":23,"is_accepted":false,"score":18,"last_activity_date":1559226466,"creation_date":1423032856,"answer_id":28315228,"question_id":6068197,"body_markdown":"You can use the following code  form Java \r\n\r\n    new String(Files.readAllBytes(Paths.get(getClass().getResource(&quot;example.txt&quot;).toURI())));","title":"Read resource text file to String in Java","body":"<p>You can use the following code  form Java </p>\n\n<pre><code>new String(Files.readAllBytes(Paths.get(getClass().getResource(\"example.txt\").toURI())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2446287,"reputation":502,"user_id":2133565,"accept_rate":40,"display_name":"Witbrock"},"comment_count":0,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1434411355,"creation_date":1434411355,"answer_id":30856666,"question_id":6068197,"body_markdown":"If you want to get your String from a project resource like the file\r\ntestcase/foo.json in src/main/resources in your project, do this:\r\n\r\n    String myString= \r\n     new String(Files.readAllBytes(Paths.get(getClass().getClassLoader().getResource(&quot;testcase/foo.json&quot;).toURI())));\r\n\r\nNote that the getClassLoader() method is missing on some of the other examples.","title":"Read resource text file to String in Java","body":"<p>If you want to get your String from a project resource like the file\ntestcase/foo.json in src/main/resources in your project, do this:</p>\n\n<pre><code>String myString= \n new String(Files.readAllBytes(Paths.get(getClass().getClassLoader().getResource(\"testcase/foo.json\").toURI())));\n</code></pre>\n\n<p>Note that the getClassLoader() method is missing on some of the other examples.</p>\n"},{"comments":[{"owner":{"account_id":5705909,"reputation":3868,"user_id":4509457,"display_name":"Nikolay Mihaylov"},"score":0,"creation_date":1470988666,"post_id":38912527,"comment_id":65182833,"body_markdown":"Please add short explanation to your answer.","body":"Please add short explanation to your answer."}],"tags":[],"owner":{"account_id":7343718,"reputation":293,"user_id":6622583,"display_name":"Khắc Nghĩa Từ"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1470987669,"creation_date":1470987669,"answer_id":38912527,"question_id":6068197,"body_markdown":"    public static byte[] readResoureStream(String resourcePath) throws IOException {\r\n\t\tByteArrayOutputStream byteArray = new ByteArrayOutputStream();\r\n\t\tInputStream in = CreateBffFile.class.getResourceAsStream(resourcePath);\r\n\r\n\t\t//Create buffer\r\n\t\tbyte[] buffer = new byte[4096];\r\n\t\tfor (;;) {\r\n\t\t\tint nread = in.read(buffer);\r\n\t\t\tif (nread &lt;= 0) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tbyteArray.write(buffer, 0, nread);\r\n\t\t}\r\n\t\treturn byteArray.toByteArray();\r\n\t}\r\n\r\n    Charset charset = StandardCharsets.UTF_8;\r\n\tString content = new   String(FileReader.readResoureStream(&quot;/resource/...*.txt&quot;), charset);\r\n\tString lines[] = content.split(&quot;\\\\n&quot;);","title":"Read resource text file to String in Java","body":"<pre><code>public static byte[] readResoureStream(String resourcePath) throws IOException {\n    ByteArrayOutputStream byteArray = new ByteArrayOutputStream();\n    InputStream in = CreateBffFile.class.getResourceAsStream(resourcePath);\n\n    //Create buffer\n    byte[] buffer = new byte[4096];\n    for (;;) {\n        int nread = in.read(buffer);\n        if (nread &lt;= 0) {\n            break;\n        }\n        byteArray.write(buffer, 0, nread);\n    }\n    return byteArray.toByteArray();\n}\n\nCharset charset = StandardCharsets.UTF_8;\nString content = new   String(FileReader.readResoureStream(\"/resource/...*.txt\"), charset);\nString lines[] = content.split(\"\\\\n\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5906169,"reputation":10565,"user_id":4647853,"accept_rate":74,"display_name":"Michal Kordas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472337192,"creation_date":1472337192,"answer_id":39186392,"question_id":6068197,"body_markdown":"With set of static imports, Guava solution can be very compact one-liner:\r\n\r\n    toString(getResource(&quot;foo.txt&quot;), UTF_8);\r\n\r\nThe following imports are required:\r\n\r\n    import static com.google.common.io.Resources.getResource\r\n    import static com.google.common.io.Resources.toString\r\n    import static java.nio.charset.StandardCharsets.UTF_8","title":"Read resource text file to String in Java","body":"<p>With set of static imports, Guava solution can be very compact one-liner:</p>\n\n<pre><code>toString(getResource(\"foo.txt\"), UTF_8);\n</code></pre>\n\n<p>The following imports are required:</p>\n\n<pre><code>import static com.google.common.io.Resources.getResource\nimport static com.google.common.io.Resources.toString\nimport static java.nio.charset.StandardCharsets.UTF_8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494419833,"creation_date":1472648161,"answer_id":39250284,"question_id":6068197,"body_markdown":"I&#39;m using the following for reading resource files from the `classpath`:\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URISyntaxException;\r\n    import java.util.Scanner;\r\n    \r\n    public class ResourceUtilities\r\n    {\r\n    \tpublic static String resourceToString(String filePath) throws IOException, URISyntaxException\r\n    \t{\r\n    \t\ttry (InputStream inputStream = ResourceUtilities.class.getClassLoader().getResourceAsStream(filePath))\r\n    \t\t{\r\n    \t\t\treturn inputStreamToString(inputStream);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static String inputStreamToString(InputStream inputStream)\r\n    \t{\r\n    \t\ttry (Scanner scanner = new Scanner(inputStream).useDelimiter(&quot;\\\\A&quot;))\r\n    \t\t{\r\n    \t\t\treturn scanner.hasNext() ? scanner.next() : &quot;&quot;;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nNo third party dependencies required.","title":"Read resource text file to String in Java","body":"<p>I'm using the following for reading resource files from the <code>classpath</code>:</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URISyntaxException;\nimport java.util.Scanner;\n\npublic class ResourceUtilities\n{\n    public static String resourceToString(String filePath) throws IOException, URISyntaxException\n    {\n        try (InputStream inputStream = ResourceUtilities.class.getClassLoader().getResourceAsStream(filePath))\n        {\n            return inputStreamToString(inputStream);\n        }\n    }\n\n    private static String inputStreamToString(InputStream inputStream)\n    {\n        try (Scanner scanner = new Scanner(inputStream).useDelimiter(\"\\\\A\"))\n        {\n            return scanner.hasNext() ? scanner.next() : \"\";\n        }\n    }\n}\n</code></pre>\n\n<p>No third party dependencies required.</p>\n"},{"comments":[{"owner":{"account_id":1578495,"reputation":170,"user_id":1464393,"display_name":"ehecatl"},"score":3,"creation_date":1523897504,"post_id":39780000,"comment_id":86739999,"body_markdown":"Where do IOUtils come from? The source should be referenced clearly.","body":"Where do IOUtils come from? The source should be referenced clearly."}],"tags":[],"owner":{"account_id":8432993,"reputation":579,"user_id":6328033,"display_name":"Java_Fire_Within"},"comment_count":1,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1475183062,"creation_date":1475183062,"answer_id":39780000,"question_id":6068197,"body_markdown":"Here is my approach worked fine \r\n\r\n    public String getFileContent(String fileName) {\r\n        String filePath = &quot;myFolder/&quot; + fileName+ &quot;.json&quot;;\r\n        try(InputStream stream = Thread.currentThread().getContextClassLoader().getResourceAsStream(filePath)) {\r\n            return IOUtils.toString(stream, &quot;UTF-8&quot;);\r\n        } catch (IOException e) {\r\n            // Please print your Exception\r\n        }\r\n    }","title":"Read resource text file to String in Java","body":"<p>Here is my approach worked fine </p>\n\n<pre><code>public String getFileContent(String fileName) {\n    String filePath = \"myFolder/\" + fileName+ \".json\";\n    try(InputStream stream = Thread.currentThread().getContextClassLoader().getResourceAsStream(filePath)) {\n        return IOUtils.toString(stream, \"UTF-8\");\n    } catch (IOException e) {\n        // Please print your Exception\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":407922,"reputation":19415,"user_id":778272,"accept_rate":75,"display_name":"Lucio Paiva"},"score":7,"creation_date":1512735873,"post_id":46613809,"comment_id":82388583,"body_markdown":"@zakmck please try to keep your comments constructive. As you grow up as a mature developer, you learn that sometimes you do want to &quot;reinvent the wheel&quot;. For instance, you may need to keep your binary below something threshold size. Libraries often make your application size grow by orders of magnitude. One could argue just the opposite of what you said: &quot;No need to write code. Yeah, let&#39;s just import libraries every time&quot;. Would you really prefer importing a library just to save you 3 lines of code? I bet that adding the library will increase your LOC by more than that. The key is balance.","body":"@zakmck please try to keep your comments constructive. As you grow up as a mature developer, you learn that sometimes you do want to &quot;reinvent the wheel&quot;. For instance, you may need to keep your binary below something threshold size. Libraries often make your application size grow by orders of magnitude. One could argue just the opposite of what you said: &quot;No need to write code. Yeah, let&#39;s just import libraries every time&quot;. Would you really prefer importing a library just to save you 3 lines of code? I bet that adding the library will increase your LOC by more than that. The key is balance."},{"owner":{"account_id":407922,"reputation":19415,"user_id":778272,"accept_rate":75,"display_name":"Lucio Paiva"},"score":0,"creation_date":1512737555,"post_id":46613809,"comment_id":82389541,"body_markdown":"Btw, I just saw you posted an answer here as well saying that you wrote some methods in your own library depending on Guava but you &quot;like JDK-only methods suggested in other answers and [you] think [you]&#39;ll change these that way&quot;. Good to know, glad that I could help :-)","body":"Btw, I just saw you posted an answer here as well saying that you wrote some methods in your own library depending on Guava but you &quot;like JDK-only methods suggested in other answers and [you] think [you]&#39;ll change these that way&quot;. Good to know, glad that I could help :-)"},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1512744897,"post_id":46613809,"comment_id":82393770,"body_markdown":"[Would you really prefer importing a library just to save you 3 lines of code] ==&gt; Given that I&#39;m running stuff on cloud servers, each having a minimum of 16GB RAM, of course I do it. I would use C (or Assembler) if I had C=64 hardware requirements. In nowadays world having readable, factorised, less error-prone code is usually way more important than saving a few KBs.","body":"[Would you really prefer importing a library just to save you 3 lines of code] ==&gt; Given that I&#39;m running stuff on cloud servers, each having a minimum of 16GB RAM, of course I do it. I would use C (or Assembler) if I had C=64 hardware requirements. In nowadays world having readable, factorised, less error-prone code is usually way more important than saving a few KBs."},{"owner":{"account_id":407922,"reputation":19415,"user_id":778272,"accept_rate":75,"display_name":"Lucio Paiva"},"score":6,"creation_date":1512746245,"post_id":46613809,"comment_id":82394566,"body_markdown":"Well, not every one is running stuff on the cloud. There are embedded systems everywhere running Java, for example. I just don&#39;t see your point in criticizing answers that provide totally valid approaches, given that you mention yourself that you&#39;re going to accept the suggestion to use JDK directly in your own code. Anyway, let&#39;s please try to keep comments strictly to help improve answers, not to discuss opinions.","body":"Well, not every one is running stuff on the cloud. There are embedded systems everywhere running Java, for example. I just don&#39;t see your point in criticizing answers that provide totally valid approaches, given that you mention yourself that you&#39;re going to accept the suggestion to use JDK directly in your own code. Anyway, let&#39;s please try to keep comments strictly to help improve answers, not to discuss opinions."},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1512753411,"post_id":46613809,"comment_id":82398660,"body_markdown":"My criticism is only to the &quot;There&#39;s no need for big, fat libraries&quot; part. Guava or Apache Commons are just a few KBs (or MBs, for what matters) and, in most cases, reusing them when you need functionality they already implement is preferable to saving a few KBs (maybe not good for embedded systems, but that&#39;s not the typical JDK usage).","body":"My criticism is only to the &quot;There&#39;s no need for big, fat libraries&quot; part. Guava or Apache Commons are just a few KBs (or MBs, for what matters) and, in most cases, reusing them when you need functionality they already implement is preferable to saving a few KBs (maybe not good for embedded systems, but that&#39;s not the typical JDK usage)."},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1512753573,"post_id":46613809,"comment_id":82398738,"body_markdown":"I plan to reuse the JDK to implement my readResource() methods, because I don&#39;t see any simple method in JDK to do so, as a minimum you need to write a long ugly line every time, or worse, reimplement your method above every time. So, using my jUtils lib would make it the &quot;big fat library&quot;  around :-)\n\nBTW: I&#39;ve split it recently, cause it had become too big and pulling too many dependencies, so I too care about component sizes, I&#39;m just not obsessed with it at the expense of good software engineering practices :-)","body":"I plan to reuse the JDK to implement my readResource() methods, because I don&#39;t see any simple method in JDK to do so, as a minimum you need to write a long ugly line every time, or worse, reimplement your method above every time. So, using my jUtils lib would make it the &quot;big fat library&quot;  around :-)  BTW: I&#39;ve split it recently, cause it had become too big and pulling too many dependencies, so I too care about component sizes, I&#39;m just not obsessed with it at the expense of good software engineering practices :-)"},{"owner":{"account_id":262424,"reputation":1418,"user_id":547270,"display_name":"scrutari"},"score":1,"creation_date":1523307768,"post_id":46613809,"comment_id":86497840,"body_markdown":"Good JDK-only solution. I would only add check if `InputStream` variable `is` is `null` or not.","body":"Good JDK-only solution. I would only add check if <code>InputStream</code> variable <code>is</code> is <code>null</code> or not."},{"owner":{"account_id":407922,"reputation":19415,"user_id":778272,"accept_rate":75,"display_name":"Lucio Paiva"},"score":0,"creation_date":1567012202,"post_id":46613809,"comment_id":101838488,"body_markdown":"Good catch, @ArtOfWarfare (and also @dimplex). Edited the code to use try-with-resources statement.","body":"Good catch, @ArtOfWarfare (and also @dimplex). Edited the code to use try-with-resources statement."},{"owner":{"account_id":407922,"reputation":19415,"user_id":778272,"accept_rate":75,"display_name":"Lucio Paiva"},"score":0,"creation_date":1567072974,"post_id":46613809,"comment_id":101857580,"body_markdown":"@ArtOfWarfare I totally missed it, thanks for pointing that out. I took the chance and rewrote most of the answer. I also dropped the non-static method (the static one works for all cases, so let&#39;s keep it simple).","body":"@ArtOfWarfare I totally missed it, thanks for pointing that out. I took the chance and rewrote most of the answer. I also dropped the non-static method (the static one works for all cases, so let&#39;s keep it simple)."},{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":0,"creation_date":1571944257,"post_id":46613809,"comment_id":103416390,"body_markdown":"Very nice native solution. I&#39;m using aws lambdas so this was useful in cutting down dependencies. Possible small point for improvement, spotbugs warns on not passing in the charsetName. Easily resolved by calling `public InputStreamReader(InputStream in, String charsetName)`. Thanks for this.","body":"Very nice native solution. I&#39;m using aws lambdas so this was useful in cutting down dependencies. Possible small point for improvement, spotbugs warns on not passing in the charsetName. Easily resolved by calling <code>public InputStreamReader(InputStream in, String charsetName)</code>. Thanks for this."},{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":0,"creation_date":1572022000,"post_id":46613809,"comment_id":103444050,"body_markdown":"Another small point, this doesn&#39;t work for me in the jar uploaded to aws. I needed to  pass the class in and get the class loader from there, like this: `public static String getResourceFileAsString(Class&lt;?&gt; clazz, String fileName) {\n        ClassLoader classLoader = clazz.getClassLoader();`","body":"Another small point, this doesn&#39;t work for me in the jar uploaded to aws. I needed to  pass the class in and get the class loader from there, like this: <code>public static String getResourceFileAsString(Class&lt;?&gt; clazz, String fileName) {         ClassLoader classLoader = clazz.getClassLoader();</code>"},{"owner":{"account_id":407922,"reputation":19415,"user_id":778272,"accept_rate":75,"display_name":"Lucio Paiva"},"score":1,"creation_date":1572114228,"post_id":46613809,"comment_id":103463401,"body_markdown":"@RobertBain I edited the answer to add info about the charset warning. Let me know if you find out what went wrong with the class loader in AWS so I can add it to the answer as well. Thanks!","body":"@RobertBain I edited the answer to add info about the charset warning. Let me know if you find out what went wrong with the class loader in AWS so I can add it to the answer as well. Thanks!"},{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":0,"creation_date":1572127820,"post_id":46613809,"comment_id":103466292,"body_markdown":"Thanks @LucioPaiva for some reason `ClassLoader.getSystemClassLoader()` doesn&#39;t cut the mustard (you get a `null` `InputStream`) - you have to pass the in the class as a method argument and call `clazz.getClassLoader()`. This does the trick.","body":"Thanks @LucioPaiva for some reason <code>ClassLoader.getSystemClassLoader()</code> doesn&#39;t cut the mustard (you get a <code>null</code> <code>InputStream</code>) - you have to pass the in the class as a method argument and call <code>clazz.getClassLoader()</code>. This does the trick."},{"owner":{"account_id":1291023,"reputation":361,"user_id":1243129,"display_name":"roninjoe"},"score":0,"creation_date":1589557703,"post_id":46613809,"comment_id":109350896,"body_markdown":"Just for comparison, in Groovy it&#39;s...\n`String s = new File(&quot;some-file.txt&quot;).text`\nJust my opinion, but, if something as basic as reading a file into a string is more than one line, it seems like a red flag.","body":"Just for comparison, in Groovy it&#39;s... <code>String s = new File(&quot;some-file.txt&quot;).text</code> Just my opinion, but, if something as basic as reading a file into a string is more than one line, it seems like a red flag."},{"owner":{"account_id":14043436,"reputation":307,"user_id":10693872,"display_name":"wooseop"},"score":1,"creation_date":1644226204,"post_id":46613809,"comment_id":125539441,"body_markdown":"I believe this should be the accepted answer. No deps, modern, simple and readable. Plus it offers alternatives to Java code.","body":"I believe this should be the accepted answer. No deps, modern, simple and readable. Plus it offers alternatives to Java code."},{"owner":{"account_id":1420137,"reputation":1323,"user_id":1344935,"accept_rate":69,"display_name":"Evil Washing Machine"},"score":0,"creation_date":1652887160,"post_id":46613809,"comment_id":127716980,"body_markdown":"Hi @LucioPaiva, I&#39;m having a little trouble understanding the line &#39;return reader.lines().collect(Collectors.joining(System.lineSeparator()));&#39; What does it look like if we remove the fancy Java 8 stream stuff and go full boilerplate? I&#39;d just like to see how it manages to turn the inputstream into a String. Just another newbie trying to learn, sorry if the question is dumb :)","body":"Hi @LucioPaiva, I&#39;m having a little trouble understanding the line &#39;return reader.lines().collect(Collectors.joining(System.lineSeparat&zwnj;&#8203;or()));&#39; What does it look like if we remove the fancy Java 8 stream stuff and go full boilerplate? I&#39;d just like to see how it manages to turn the inputstream into a String. Just another newbie trying to learn, sorry if the question is dumb :)"}],"tags":[],"owner":{"account_id":407922,"reputation":19415,"user_id":778272,"accept_rate":75,"display_name":"Lucio Paiva"},"comment_count":16,"down_vote_count":3,"up_vote_count":130,"is_accepted":false,"score":127,"last_activity_date":1661963459,"creation_date":1507323384,"answer_id":46613809,"question_id":6068197,"body_markdown":"# Pure and simple, jar-friendly, Java 8+ solution\r\n\r\nThis simple method below will do just fine if you&#39;re using Java 8 or greater:\r\n\r\n    /**\r\n     * Reads given resource file as a string.\r\n     *\r\n     * @param fileName path to the resource file\r\n     * @return the file&#39;s contents\r\n     * @throws IOException if read fails for any reason\r\n     */\r\n    static String getResourceFileAsString(String fileName) throws IOException {\r\n        ClassLoader classLoader = ClassLoader.getSystemClassLoader();\r\n        try (InputStream is = classLoader.getResourceAsStream(fileName)) {\r\n            if (is == null) return null;\r\n            try (InputStreamReader isr = new InputStreamReader(is);\r\n                 BufferedReader reader = new BufferedReader(isr)) {\r\n                return reader.lines().collect(Collectors.joining(System.lineSeparator()));\r\n            }\r\n        }\r\n    }\r\n\r\nAnd it also **works with resources in jar files**.\r\n\r\nAbout text encoding: `InputStreamReader` will use the default system charset in case you don&#39;t specify one. You may want to specify it yourself to avoid decoding problems, like this:\r\n\r\n```java\r\nnew InputStreamReader(isr, StandardCharsets.UTF_8);\r\n```\r\n\r\n---\r\n\r\n## Avoid unnecessary dependencies\r\n\r\nAlways prefer not depending on big, fat libraries. Unless you are already using Guava or Apache Commons IO for other tasks, adding those libraries to your project just to be able to read from a file seems a bit too much.\r\n","title":"Read resource text file to String in Java","body":"<h1>Pure and simple, jar-friendly, Java 8+ solution</h1>\n<p>This simple method below will do just fine if you're using Java 8 or greater:</p>\n<pre><code>/**\n * Reads given resource file as a string.\n *\n * @param fileName path to the resource file\n * @return the file's contents\n * @throws IOException if read fails for any reason\n */\nstatic String getResourceFileAsString(String fileName) throws IOException {\n    ClassLoader classLoader = ClassLoader.getSystemClassLoader();\n    try (InputStream is = classLoader.getResourceAsStream(fileName)) {\n        if (is == null) return null;\n        try (InputStreamReader isr = new InputStreamReader(is);\n             BufferedReader reader = new BufferedReader(isr)) {\n            return reader.lines().collect(Collectors.joining(System.lineSeparator()));\n        }\n    }\n}\n</code></pre>\n<p>And it also <strong>works with resources in jar files</strong>.</p>\n<p>About text encoding: <code>InputStreamReader</code> will use the default system charset in case you don't specify one. You may want to specify it yourself to avoid decoding problems, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new InputStreamReader(isr, StandardCharsets.UTF_8);\n</code></pre>\n<hr />\n<h2>Avoid unnecessary dependencies</h2>\n<p>Always prefer not depending on big, fat libraries. Unless you are already using Guava or Apache Commons IO for other tasks, adding those libraries to your project just to be able to read from a file seems a bit too much.</p>\n"},{"tags":[],"owner":{"account_id":4767604,"reputation":251,"user_id":3853332,"display_name":"sklimkovitch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532120300,"creation_date":1532120300,"answer_id":51450290,"question_id":6068197,"body_markdown":"    package test;\r\n    \r\n    import java.io.InputStream;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tString fileContent = getFileFromResources(&quot;resourcesFile.txt&quot;);\r\n    \t\t\tSystem.out.println(fileContent);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t//USE THIS FUNCTION TO READ CONTENT OF A FILE, IT MUST EXIST IN &quot;RESOURCES&quot; FOLDER\r\n    \tpublic static String getFileFromResources(String fileName) throws Exception {\r\n    \t\tClassLoader classLoader = Main.class.getClassLoader();\r\n    \t\tInputStream stream = classLoader.getResourceAsStream(fileName);\r\n    \t\tString text = null;\r\n    \t    try (Scanner scanner = new Scanner(stream, StandardCharsets.UTF_8.name())) {\r\n    \t        text = scanner.useDelimiter(&quot;\\\\A&quot;).next();\r\n    \t    }\r\n    \t\treturn text;\r\n    \t}\r\n    }","title":"Read resource text file to String in Java","body":"<pre><code>package test;\n\nimport java.io.InputStream;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            String fileContent = getFileFromResources(\"resourcesFile.txt\");\n            System.out.println(fileContent);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    //USE THIS FUNCTION TO READ CONTENT OF A FILE, IT MUST EXIST IN \"RESOURCES\" FOLDER\n    public static String getFileFromResources(String fileName) throws Exception {\n        ClassLoader classLoader = Main.class.getClassLoader();\n        InputStream stream = classLoader.getResourceAsStream(fileName);\n        String text = null;\n        try (Scanner scanner = new Scanner(stream, StandardCharsets.UTF_8.name())) {\n            text = scanner.useDelimiter(\"\\\\A\").next();\n        }\n        return text;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1536166157,"creation_date":1536165181,"answer_id":52189820,"question_id":6068197,"body_markdown":"At least as of Apache commons-io 2.5, the IOUtils.toString() method supports an URI argument and returns contents of files located inside jars on the classpath:\r\n\r\n    IOUtils.toString(SomeClass.class.getResource(...).toURI(), ...)","title":"Read resource text file to String in Java","body":"<p>At least as of Apache commons-io 2.5, the IOUtils.toString() method supports an URI argument and returns contents of files located inside jars on the classpath:</p>\n\n<pre><code>IOUtils.toString(SomeClass.class.getResource(...).toURI(), ...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5959402,"reputation":714,"user_id":4685019,"display_name":"jolumg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559226447,"creation_date":1540476931,"answer_id":52991495,"question_id":6068197,"body_markdown":"If you include Guava, then you can use:\r\n\r\n    String fileContent = Files.asCharSource(new File(filename), Charset.forName(&quot;UTF-8&quot;)).read();\r\n\r\n(Other solutions mentioned other method for Guava but they are deprecated)","title":"Read resource text file to String in Java","body":"<p>If you include Guava, then you can use:</p>\n\n<pre><code>String fileContent = Files.asCharSource(new File(filename), Charset.forName(\"UTF-8\")).read();\n</code></pre>\n\n<p>(Other solutions mentioned other method for Guava but they are deprecated)</p>\n"},{"tags":[],"owner":{"account_id":13506638,"reputation":1925,"user_id":9744452,"display_name":"Vikki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574329732,"creation_date":1574329732,"answer_id":58971855,"question_id":6068197,"body_markdown":"The following cods work for me:\r\n\r\n    compile group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.6&#39;\r\n    \r\n    @Value(&quot;classpath:mockResponse.json&quot;)\r\n    private Resource mockResponse;\r\n    \r\n    String mockContent = FileUtils.readFileToString(mockResponse.getFile(), &quot;UTF-8&quot;);\r\n\r\n\r\n","title":"Read resource text file to String in Java","body":"<p>The following cods work for me:</p>\n\n<pre><code>compile group: 'commons-io', name: 'commons-io', version: '2.6'\n\n@Value(\"classpath:mockResponse.json\")\nprivate Resource mockResponse;\n\nString mockContent = FileUtils.readFileToString(mockResponse.getFile(), \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1699613,"reputation":1233,"user_id":1560086,"display_name":"Dillon Ryan Redding"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575309242,"creation_date":1575309242,"answer_id":59144282,"question_id":6068197,"body_markdown":"Here&#39;s a solution using Java 11&#39;s [`Files.readString`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path)):\r\n\r\n```java\r\npublic class Utils {\r\n    public static String readResource(String name) throws URISyntaxException, IOException {\r\n        var uri = Utils.class.getResource(&quot;/&quot; + name).toURI();\r\n        var path = Paths.get(uri);\r\n        return Files.readString(path);\r\n    }\r\n}\r\n```","title":"Read resource text file to String in Java","body":"<p>Here's a solution using Java 11's <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path)\" rel=\"noreferrer\"><code>Files.readString</code></a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Utils {\n    public static String readResource(String name) throws URISyntaxException, IOException {\n        var uri = Utils.class.getResource(\"/\" + name).toURI();\n        var path = Paths.get(uri);\n        return Files.readString(path);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1957539,"reputation":5468,"user_id":1760179,"accept_rate":56,"display_name":"Espresso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578424699,"creation_date":1578424699,"answer_id":59634752,"question_id":6068197,"body_markdown":"I made NO-dependency static method like this: \r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class ResourceReader {\r\n        public  static String asString(String resourceFIleName) {\r\n            try  {\r\n                return new String(Files.readAllBytes(Paths.get(new CheatClassLoaderDummyClass().getClass().getClassLoader().getResource(resourceFIleName).toURI())));\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n    class CheatClassLoaderDummyClass{//cheat class loader - for sql file loading\r\n    }","title":"Read resource text file to String in Java","body":"<p>I made NO-dependency static method like this: </p>\n\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class ResourceReader {\n    public  static String asString(String resourceFIleName) {\n        try  {\n            return new String(Files.readAllBytes(Paths.get(new CheatClassLoaderDummyClass().getClass().getClassLoader().getResource(resourceFIleName).toURI())));\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\nclass CheatClassLoaderDummyClass{//cheat class loader - for sql file loading\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":0,"creation_date":1677154446,"post_id":60153929,"comment_id":133283786,"body_markdown":"`Charset.defaultCharset()` is platform-dependent, encoding should be stated explicitely","body":"<code>Charset.defaultCharset()</code> is platform-dependent, encoding should be stated explicitely"}],"tags":[],"owner":{"account_id":1869609,"reputation":3387,"user_id":1692179,"accept_rate":76,"display_name":"bobmarksie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581349964,"creation_date":1581349964,"answer_id":60153929,"question_id":6068197,"body_markdown":"I like Apache commons utils for this type of stuff and use this exact use-case (reading files from classpath) extensively when testing, especially for reading JSON files from `/src/test/resources` as part of unit / integration testing. e.g.\r\n\r\n```java\r\npublic class FileUtils {\r\n\r\n    public static String getResource(String classpathLocation) {\r\n        try {\r\n            String message = IOUtils.toString(FileUtils.class.getResourceAsStream(classpathLocation),\r\n                    Charset.defaultCharset());\r\n            return message;\r\n        }\r\n        catch (IOException e) {\r\n            throw new RuntimeException(&quot;Could not read file [ &quot; + classpathLocation + &quot; ] from classpath&quot;, e);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nFor testing purposes, it can be nice to catch the `IOException` and throw a `RuntimeException` - your test class could look like e.g.\r\n\r\n```java\r\n    @Test\r\n    public void shouldDoSomething () {\r\n        String json = FileUtils.getResource(&quot;/json/input.json&quot;);\r\n\r\n        // Use json as part of test ...\r\n    }\r\n````","title":"Read resource text file to String in Java","body":"<p>I like Apache commons utils for this type of stuff and use this exact use-case (reading files from classpath) extensively when testing, especially for reading JSON files from <code>/src/test/resources</code> as part of unit / integration testing. e.g.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class FileUtils {\n\n    public static String getResource(String classpathLocation) {\n        try {\n            String message = IOUtils.toString(FileUtils.class.getResourceAsStream(classpathLocation),\n                    Charset.defaultCharset());\n            return message;\n        }\n        catch (IOException e) {\n            throw new RuntimeException(\"Could not read file [ \" + classpathLocation + \" ] from classpath\", e);\n        }\n    }\n\n}\n</code></pre>\n\n<p>For testing purposes, it can be nice to catch the <code>IOException</code> and throw a <code>RuntimeException</code> - your test class could look like e.g.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void shouldDoSomething () {\n        String json = FileUtils.getResource(\"/json/input.json\");\n\n        // Use json as part of test ...\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":3,"creation_date":1633759354,"post_id":60638815,"comment_id":122850741,"body_markdown":"the best answer yet so low rated...","body":"the best answer yet so low rated..."},{"owner":{"account_id":2150734,"reputation":1049,"user_id":1907186,"display_name":"Lucas Ross"},"score":0,"creation_date":1663259617,"post_id":60638815,"comment_id":130202738,"body_markdown":"@morgwai agreed and it raises the question of how SO considers recency in its weighting of answers to decide how high up the page to put them","body":"@morgwai agreed and it raises the question of how SO considers recency in its weighting of answers to decide how high up the page to put them"},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":1,"creation_date":1677161770,"post_id":60638815,"comment_id":133286164,"body_markdown":"`getResourceAsStream` stream is not closed properly. Also, unfriendly exception on wrong filenames","body":"<code>getResourceAsStream</code> stream is not closed properly. Also, unfriendly exception on wrong filenames"},{"owner":{"account_id":371967,"reputation":4804,"user_id":720773,"display_name":"Gary Sheppard"},"score":0,"creation_date":1677162437,"post_id":60638815,"comment_id":133286409,"body_markdown":"@RA good point. I added a version that includes null-checking and closing the stream.","body":"@RA good point. I added a version that includes null-checking and closing the stream."},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":0,"creation_date":1677163000,"post_id":60638815,"comment_id":133286619,"body_markdown":"@GarySheppard `readAllBytes` might throw an exception resulting in stream not being closed. I&#39;d suggest you use try-with-resources and leave a single answer.","body":"@GarySheppard <code>readAllBytes</code> might throw an exception resulting in stream not being closed. I&#39;d suggest you use try-with-resources and leave a single answer."}],"tags":[],"owner":{"account_id":371967,"reputation":4804,"user_id":720773,"display_name":"Gary Sheppard"},"comment_count":5,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1677162370,"creation_date":1583938365,"answer_id":60638815,"question_id":6068197,"body_markdown":"I like akosicki&#39;s answer with the Stupid Scanner Trick. It&#39;s the simplest I see without external dependencies that works in Java 8 (and in fact all the way back to Java 5). Here&#39;s an even simpler answer **if you can use Java 9 or higher** (since `InputStream.readAllBytes()` was added at Java 9):\r\n\r\n```\r\nString text = new String(AppropriateClass.class.getResourceAsStream(&quot;foo.txt&quot;)\r\n    .readAllBytes());\r\n```\r\n\r\nIf you&#39;re concerned about the filename being wrong and/or about closing the stream, you can expand this a little:\r\n\r\n```\r\nString text = null;\r\nInputStream stream = AppropriateClass.class.getResourceAsStream(&quot;foo.txt&quot;);\r\nif (null != stream) {\r\n    text = stream.readAllBytes();\r\n    stream.close()\r\n}\r\n```","title":"Read resource text file to String in Java","body":"<p>I like akosicki's answer with the Stupid Scanner Trick. It's the simplest I see without external dependencies that works in Java 8 (and in fact all the way back to Java 5). Here's an even simpler answer <strong>if you can use Java 9 or higher</strong> (since <code>InputStream.readAllBytes()</code> was added at Java 9):</p>\n<pre><code>String text = new String(AppropriateClass.class.getResourceAsStream(&quot;foo.txt&quot;)\n    .readAllBytes());\n</code></pre>\n<p>If you're concerned about the filename being wrong and/or about closing the stream, you can expand this a little:</p>\n<pre><code>String text = null;\nInputStream stream = AppropriateClass.class.getResourceAsStream(&quot;foo.txt&quot;);\nif (null != stream) {\n    text = stream.readAllBytes();\n    stream.close()\n}\n</code></pre>\n"}],"owner":{"account_id":333077,"reputation":4334,"user_id":658741,"accept_rate":38,"display_name":"Loc Phan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320519,"favorite_count":0,"down_vote_count":3,"up_vote_count":283,"closed_date":1584116866,"accepted_answer_id":6068228,"answer_count":24,"score":280,"last_activity_date":1677162370,"creation_date":1305872608,"question_id":6068197,"body_markdown":"Is there a way to read a text file in the resource into a String?\r\n\r\nI suppose this is a popular requirement, but I couldn&#39;t find any utility after Googling.","title":"Read resource text file to String in Java","body":"<p>Is there a way to read a text file in the resource into a String?</p>\n<p>I suppose this is a popular requirement, but I couldn't find any utility after Googling.</p>\n"},{"tags":["java","swing","gridbaglayout"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1676811099,"post_id":75500180,"comment_id":133208538,"body_markdown":"Is it an option to use a `BorderLayout`?","body":"Is it an option to use a <code>BorderLayout</code>?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676814417,"post_id":75500180,"comment_id":133208968,"body_markdown":"You do not add() components to a jframe that way jfrm.getContentPane().add(component , layout type). then jfrm.pack() then jfrm.setVisible(true)","body":"You do not add() components to a jframe that way jfrm.getContentPane().add(component , layout type). then jfrm.pack() then jfrm.setVisible(true)"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676814629,"post_id":75500180,"comment_id":133209007,"body_markdown":"It is often much easier with jframe to set only one jpanel and set the gridbag layout to it then insert the required position components into the panel because jpanel has greater affinity for positioning of components than top windows.","body":"It is often much easier with jframe to set only one jpanel and set the gridbag layout to it then insert the required position components into the panel because jpanel has greater affinity for positioning of components than top windows."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677162987,"post_id":75500180,"comment_id":133286608,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section. Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section. Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676812811,"creation_date":1676812811,"answer_id":75500419,"question_id":75500180,"body_markdown":"You could anchor the first container in the `WEST` location\r\n\r\n    c.anchor = GridBagConstraints.WEST;","title":"Location of Java Swing components","body":"<p>You could anchor the first container in the <code>WEST</code> location</p>\n<pre><code>c.anchor = GridBagConstraints.WEST;\n</code></pre>\n"}],"owner":{"account_id":23610440,"reputation":1,"user_id":17645543,"display_name":"Nicolas Bayer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677162050,"creation_date":1676810127,"question_id":75500180,"body_markdown":"I cannot correctly position the components on the form using GridBagLayout. I have tried different variations, but the components are still in the center of the screen.\r\n\r\n\r\n[What I have at the moment](https://i.stack.imgur.com/Noq3d.png)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[What I want](https://i.stack.imgur.com/0QrMy.png)\r\n[![enter image description here][2]][2]\r\n\r\n```\r\npackage View;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Frame extends JFrame {\r\n    private JPanel jPanelLeft = new JPanel();\r\n    private JPanel jPanelRight = new JPanel();\r\n\r\n    public Frame(){\r\n        setTitle(&quot;SCHOOLLLLLLL&quot;);\r\n        setSize(new Dimension(400,350));\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setLayout(new GridBagLayout());\r\n\r\n        jPanelLeft.setBackground(Color.BLACK);\r\n        jPanelRight.setBackground(Color.RED);\r\n        jPanelLeft.add(new JButton(&quot;Click on me&quot;));\r\n\r\n        GridBagConstraints c = new GridBagConstraints();\r\n        c.weightx = 1;\r\n        c.weighty = 1;\r\n        c.gridx = 0;\r\n        c.gridy = 0;\r\n        c.fill = GridBagConstraints.VERTICAL;\r\n\r\n        add(jPanelLeft, c);\r\n\r\n        c.weightx = 1;\r\n        c.weighty = 1;\r\n        c.gridx = 1;\r\n        c.gridy = 0;\r\n        c.fill = GridBagConstraints.CENTER;\r\n        \r\n        add(jPanelRight, c);\r\n\r\n        setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Noq3d.png\r\n  [2]: https://i.stack.imgur.com/0QrMy.png","title":"Location of Java Swing components","body":"<p>I cannot correctly position the components on the form using GridBagLayout. I have tried different variations, but the components are still in the center of the screen.</p>\n<p><a href=\"https://i.stack.imgur.com/Noq3d.png\" rel=\"nofollow noreferrer\">What I have at the moment</a>\n<a href=\"https://i.stack.imgur.com/Noq3d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Noq3d.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0QrMy.png\" rel=\"nofollow noreferrer\">What I want</a>\n<a href=\"https://i.stack.imgur.com/0QrMy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0QrMy.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package View;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class Frame extends JFrame {\n    private JPanel jPanelLeft = new JPanel();\n    private JPanel jPanelRight = new JPanel();\n\n    public Frame(){\n        setTitle(&quot;SCHOOLLLLLLL&quot;);\n        setSize(new Dimension(400,350));\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setLayout(new GridBagLayout());\n\n        jPanelLeft.setBackground(Color.BLACK);\n        jPanelRight.setBackground(Color.RED);\n        jPanelLeft.add(new JButton(&quot;Click on me&quot;));\n\n        GridBagConstraints c = new GridBagConstraints();\n        c.weightx = 1;\n        c.weighty = 1;\n        c.gridx = 0;\n        c.gridy = 0;\n        c.fill = GridBagConstraints.VERTICAL;\n\n        add(jPanelLeft, c);\n\n        c.weightx = 1;\n        c.weighty = 1;\n        c.gridx = 1;\n        c.gridy = 0;\n        c.fill = GridBagConstraints.CENTER;\n        \n        add(jPanelRight, c);\n\n        setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","program-entry-point","javac"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1677162034,"post_id":75545980,"comment_id":133286256,"body_markdown":"Normal Java IDEs allow you to run **any** class, irrespective of their class name as long as they have a main method (in fact, using a specific name instead of calling the class &quot;Main&quot; is pretty common). So this is not a question of _&quot;why make a program that dodges the fun green &quot;run&quot; button?&quot;_, this is either a limitation of the tool you&#39;re using (I&#39;ve never heard of replit), or you simply haven&#39;t found its option to run a different file.","body":"Normal Java IDEs allow you to run <b>any</b> class, irrespective of their class name as long as they have a main method (in fact, using a specific name instead of calling the class &quot;Main&quot; is pretty common). So this is not a question of <i>&quot;why make a program that dodges the fun green &quot;run&quot; button?&quot;</i>, this is either a limitation of the tool you&#39;re using (I&#39;ve never heard of replit), or you simply haven&#39;t found its option to run a different file."}],"owner":{"account_id":510494,"reputation":73,"user_id":4752610,"display_name":"futurebird"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677161961,"creation_date":1677161590,"question_id":75545980,"body_markdown":"I&#39;m working on the exercises in &quot;Think Java&quot; Chapter 15 &quot;Conway&#39;s Game of Life&quot;. I&#39;m a little confused by the way the provided code is set up. The program runs by typing &quot;java Conway.java&quot; in the console and does everything I want including the modifications from the exercises. But, as I&#39;m using replit, I&#39;d rather just hit the big green &quot;Run&quot; button. This button automatically runs &quot;java Main.java&quot; as far as I can tell. Looking for a fast way to point the main() method in Main.java to &quot;java Conway.java&quot; has lead me to suggestions that seem far too involved for what I want to do, from introducing and additional library to run console commands, to basically re-writing most of the program so &quot;Conway.java&quot; is replaced with Main.java in every possible location.\r\n\r\nAt last I got it to work by just calling:\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            Conway.main(args); }\r\n        }\r\n\r\nBut, also read that this is &quot;bad practice&quot; -- I guess I&#39;m wondering why make a program that dodges the fun green &quot;run&quot; button? Why is it &quot;bad practice&quot; to do the above?\r\n\r\nI also wanted to automate javac in the main file, but I&#39;ve given up on this. It would be nice to specify what I needed to compile, but I&#39;m concerned that I don&#39;t have enough time to fully understand the libraries suggested for running such commands.\r\n","title":"Easier way to run a main() method of a class not in Main.java","body":"<p>I'm working on the exercises in &quot;Think Java&quot; Chapter 15 &quot;Conway's Game of Life&quot;. I'm a little confused by the way the provided code is set up. The program runs by typing &quot;java Conway.java&quot; in the console and does everything I want including the modifications from the exercises. But, as I'm using replit, I'd rather just hit the big green &quot;Run&quot; button. This button automatically runs &quot;java Main.java&quot; as far as I can tell. Looking for a fast way to point the main() method in Main.java to &quot;java Conway.java&quot; has lead me to suggestions that seem far too involved for what I want to do, from introducing and additional library to run console commands, to basically re-writing most of the program so &quot;Conway.java&quot; is replaced with Main.java in every possible location.</p>\n<p>At last I got it to work by just calling:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        Conway.main(args); }\n    }\n</code></pre>\n<p>But, also read that this is &quot;bad practice&quot; -- I guess I'm wondering why make a program that dodges the fun green &quot;run&quot; button? Why is it &quot;bad practice&quot; to do the above?</p>\n<p>I also wanted to automate javac in the main file, but I've given up on this. It would be nice to specify what I needed to compile, but I'm concerned that I don't have enough time to fully understand the libraries suggested for running such commands.</p>\n"},{"tags":["java","android","flutter","sqlite","web"],"answers":[{"tags":[],"owner":{"account_id":12171202,"reputation":31,"user_id":8885810,"display_name":"Abhishek Gupta..."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677159525,"creation_date":1677159525,"answer_id":75545597,"question_id":75545059,"body_markdown":"Using getContext() instead of getActivity() or this .... helped me.","title":"Data Adding Issue to SqLite DB through Dialogue in Android Studio","body":"<p>Using getContext() instead of getActivity() or this .... helped me.</p>\n"},{"tags":[],"owner":{"account_id":5339421,"reputation":100,"user_id":4288760,"accept_rate":100,"display_name":"Sunil_Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677161950,"creation_date":1677161950,"answer_id":75546058,"question_id":75545059,"body_markdown":"it would be helpful too to use \r\n\r\n**getApplicationContext()** \r\n\r\nhere.","title":"Data Adding Issue to SqLite DB through Dialogue in Android Studio","body":"<p>it would be helpful too to use</p>\n<p><strong>getApplicationContext()</strong></p>\n<p>here.</p>\n"}],"owner":{"account_id":12171202,"reputation":31,"user_id":8885810,"display_name":"Abhishek Gupta..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75546058,"answer_count":2,"score":0,"last_activity_date":1677161950,"creation_date":1677156520,"question_id":75545059,"body_markdown":"```\r\npublic class MyDialogue extends AppCompatDialogFragment {\r\n\r\n    private EditText edtkeytitle;\r\n    //MyDbCode db = new MyDbCode(getActivity()); //BUT I AM GETTING ISSUE HERE IN INITIALISATION \r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n\r\n        LayoutInflater inflater = getActivity().getLayoutInflater();\r\n        View view = inflater.inflate(R.layout.dialogue_layout, null);\r\n\r\n        builder.setView(view)\r\n                .setTitle(&quot;Create Title&quot;)\r\n                .setNegativeButton(&quot;cancel&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n\r\n                    }\r\n                })\r\n                .setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        String key_title = edtkeytitle.getText().toString();\r\n                        //db.insertDataStore(key_title, &quot;&quot;); // HERE I WANT TO INSERT\r\n\r\n                    }\r\n                });\r\n\r\n        edtkeytitle = view.findViewById(R.id.edtkeytitle);\r\n        return builder.create();\r\n    }\r\n}\r\n\r\n```\r\nIn My app I want to do Is after clicking on floating button to get a dialogue box open and take value afterwards on positive click and it get stored in database. But I am not able to iniitlaise my database here \r\n \r\n`MyDbCode db = new MyDbCode(getActivity());`\r\nhere instead of getActivity whether if I am using &#39;this&#39; clause again I am getting issue.\r\nLet me show you my MyDbCode.\r\n\r\n\r\n```\r\npublic class MyDbCode extends SQLiteOpenHelper {\r\n\r\n    private static final String Database_Name = &quot;Alone.db&quot;;\r\n    private static final int Database_ID = 1;\r\n    private static final String TABLE_NAME = &quot;alonetable&quot;;\r\n    private static final String TABLE_Data_NAME = &quot;alonedata&quot;;\r\n    private static final String userpass = &quot;Pass&quot;;\r\n    private static final String key_title = &quot;key_title&quot;;\r\n    private static final String key_data = &quot;key_data&quot;;\r\n\r\n    public MyDbCode(Context context) {\r\n        super(context, Database_Name, null , Database_ID);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String query1 = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot; (&quot; + userpass + &quot; TEXT)&quot;;\r\n        String query2 = &quot;CREATE TABLE &quot; + TABLE_Data_NAME + &quot; (&quot;\r\n                + key_title + &quot; TEXT,&quot;\r\n                + key_data + &quot; TEXT)&quot;;\r\n        db.execSQL(query1);\r\n        db.execSQL(query2);\r\n\r\n        //insertData(&quot;pass&quot;);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n    }\r\n\r\n    public void insertData (String pass){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(userpass, pass);\r\n        db.insert(TABLE_NAME, null, values);\r\n        db.close();\r\n    }\r\n    public boolean isexist(){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor =db.rawQuery(&quot;Select * from alonetable&quot;, null);\r\n        if(cursor.getCount() &gt; 0) return true;\r\n        else return false;\r\n\r\n    }\r\n    public boolean Ismatched(String pass){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor =db.rawQuery(&quot;Select pass from alonetable WHERE pass = ?&quot;, new String[]{pass});\r\n        if(cursor.getCount() &gt; 0) return true;\r\n        else return false;\r\n\r\n    }\r\n\r\n\r\n    public void update(String oldpass, String newpass){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues cv = new ContentValues();\r\n        cv.put(userpass,newpass);\r\n        db.update(TABLE_NAME, cv, &quot;pass = ?&quot;, new String[]{oldpass});\r\n\r\n\r\n        db.close();\r\n    }\r\n\r\n    public void insertDataStore (String key_titleent , String key_dataent){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(key_title, key_titleent);\r\n        values.put(key_data,key_dataent);\r\n        db.insert(TABLE_Data_NAME, null, values);\r\n        db.close();\r\n    }\r\n\r\n    Cursor readAllData () {\r\n        String query = &quot;SELECT * FROM &quot;+ TABLE_Data_NAME;\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        Cursor cursor= null;\r\n        if(db != null){\r\n            cursor = db.rawQuery(query,null);\r\n        }\r\n        return  cursor;\r\n    }\r\n\r\n    public void updateData(String Key_titleupd, String key_Dataupd){\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues cv = new ContentValues();\r\n        cv.put(key_data,key_Dataupd);\r\n        db.update(TABLE_NAME, cv, &quot;pass = ?&quot;, new String[]{Key_titleupd});\r\n\r\n\r\n        db.close();\r\n    }\r\n\r\n}\r\n```\r\n \r\n\r\n\r\nI tried using custom dialogue instead of ALertDialogue but i want if dialogue opens then background of that dialogue gets faded or gets non focusable but i am not able to do so. so i prefered this ALertDialogue but here i am getting Db intialisation issue.","title":"Data Adding Issue to SqLite DB through Dialogue in Android Studio","body":"<pre><code>public class MyDialogue extends AppCompatDialogFragment {\n\n    private EditText edtkeytitle;\n    //MyDbCode db = new MyDbCode(getActivity()); //BUT I AM GETTING ISSUE HERE IN INITIALISATION \n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n\n\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n\n        LayoutInflater inflater = getActivity().getLayoutInflater();\n        View view = inflater.inflate(R.layout.dialogue_layout, null);\n\n        builder.setView(view)\n                .setTitle(&quot;Create Title&quot;)\n                .setNegativeButton(&quot;cancel&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n\n                    }\n                })\n                .setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        String key_title = edtkeytitle.getText().toString();\n                        //db.insertDataStore(key_title, &quot;&quot;); // HERE I WANT TO INSERT\n\n                    }\n                });\n\n        edtkeytitle = view.findViewById(R.id.edtkeytitle);\n        return builder.create();\n    }\n}\n\n</code></pre>\n<p>In My app I want to do Is after clicking on floating button to get a dialogue box open and take value afterwards on positive click and it get stored in database. But I am not able to iniitlaise my database here</p>\n<p><code>MyDbCode db = new MyDbCode(getActivity());</code>\nhere instead of getActivity whether if I am using 'this' clause again I am getting issue.\nLet me show you my MyDbCode.</p>\n<pre><code>public class MyDbCode extends SQLiteOpenHelper {\n\n    private static final String Database_Name = &quot;Alone.db&quot;;\n    private static final int Database_ID = 1;\n    private static final String TABLE_NAME = &quot;alonetable&quot;;\n    private static final String TABLE_Data_NAME = &quot;alonedata&quot;;\n    private static final String userpass = &quot;Pass&quot;;\n    private static final String key_title = &quot;key_title&quot;;\n    private static final String key_data = &quot;key_data&quot;;\n\n    public MyDbCode(Context context) {\n        super(context, Database_Name, null , Database_ID);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String query1 = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot; (&quot; + userpass + &quot; TEXT)&quot;;\n        String query2 = &quot;CREATE TABLE &quot; + TABLE_Data_NAME + &quot; (&quot;\n                + key_title + &quot; TEXT,&quot;\n                + key_data + &quot; TEXT)&quot;;\n        db.execSQL(query1);\n        db.execSQL(query2);\n\n        //insertData(&quot;pass&quot;);\n\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n    }\n\n    public void insertData (String pass){\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(userpass, pass);\n        db.insert(TABLE_NAME, null, values);\n        db.close();\n    }\n    public boolean isexist(){\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor =db.rawQuery(&quot;Select * from alonetable&quot;, null);\n        if(cursor.getCount() &gt; 0) return true;\n        else return false;\n\n    }\n    public boolean Ismatched(String pass){\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor =db.rawQuery(&quot;Select pass from alonetable WHERE pass = ?&quot;, new String[]{pass});\n        if(cursor.getCount() &gt; 0) return true;\n        else return false;\n\n    }\n\n\n    public void update(String oldpass, String newpass){\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(userpass,newpass);\n        db.update(TABLE_NAME, cv, &quot;pass = ?&quot;, new String[]{oldpass});\n\n\n        db.close();\n    }\n\n    public void insertDataStore (String key_titleent , String key_dataent){\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(key_title, key_titleent);\n        values.put(key_data,key_dataent);\n        db.insert(TABLE_Data_NAME, null, values);\n        db.close();\n    }\n\n    Cursor readAllData () {\n        String query = &quot;SELECT * FROM &quot;+ TABLE_Data_NAME;\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor= null;\n        if(db != null){\n            cursor = db.rawQuery(query,null);\n        }\n        return  cursor;\n    }\n\n    public void updateData(String Key_titleupd, String key_Dataupd){\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(key_data,key_Dataupd);\n        db.update(TABLE_NAME, cv, &quot;pass = ?&quot;, new String[]{Key_titleupd});\n\n\n        db.close();\n    }\n\n}\n</code></pre>\n<p>I tried using custom dialogue instead of ALertDialogue but i want if dialogue opens then background of that dialogue gets faded or gets non focusable but i am not able to do so. so i prefered this ALertDialogue but here i am getting Db intialisation issue.</p>\n"},{"tags":["java","tomcat","tomcat8","tomcat9"],"comments":[{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":2,"creation_date":1531386202,"post_id":51301296,"comment_id":89579726,"body_markdown":"Don&#39;t use a Tomcat&#39;s server.xml for another major version.","body":"Don&#39;t use a Tomcat&#39;s server.xml for another major version."},{"owner":{"account_id":13944279,"reputation":171,"user_id":10069385,"display_name":"MoonLight"},"score":0,"creation_date":1531387693,"post_id":51301296,"comment_id":89580671,"body_markdown":"@Eug&#232;neAdell I have a server.xml in my project and a script that overrides the tomcat&#39;s server.xml when deploying. I am trying to figure out what I need to change in that server.xml. I commented out the JasperListener and it worked, but now I do not know if Jasper is still working. Thus my question if I simply don&#39;t need the JasperListener anymore and what else I need to change.\nEdit: Also when deploying my project, I set a new Tomcat with every deployment, pulling the tomcat per script and installing it on the server. So I need to override the server.xml","body":"@Eug&#232;neAdell I have a server.xml in my project and a script that overrides the tomcat&#39;s server.xml when deploying. I am trying to figure out what I need to change in that server.xml. I commented out the JasperListener and it worked, but now I do not know if Jasper is still working. Thus my question if I simply don&#39;t need the JasperListener anymore and what else I need to change. Edit: Also when deploying my project, I set a new Tomcat with every deployment, pulling the tomcat per script and installing it on the server. So I need to override the server.xml"},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":1,"creation_date":1531395548,"post_id":51301296,"comment_id":89585864,"body_markdown":"It&#39;s not possible to answer, overriding by another version being a bad practice. server.xml can be changed : a little/very much/not at all. The most important to check are the port attributes.","body":"It&#39;s not possible to answer, overriding by another version being a bad practice. server.xml can be changed : a little/very much/not at all. The most important to check are the port attributes."}],"answers":[{"tags":[],"owner":{"account_id":12883855,"reputation":643,"user_id":9318064,"display_name":"Yuma Technical Inc."},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1677161763,"creation_date":1558536919,"answer_id":56259669,"question_id":51301296,"body_markdown":"`org.apache.catalina.core.JasperListener` is no longer required.  So if it exists in your `server.xml` - comment it out!","title":"JasperListener? Upgrading from Tomcat 8 to Tomcat 9","body":"<p><code>org.apache.catalina.core.JasperListener</code> is no longer required.  So if it exists in your <code>server.xml</code> - comment it out!</p>\n"}],"owner":{"account_id":13944279,"reputation":171,"user_id":10069385,"display_name":"MoonLight"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22058,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":1,"score":17,"last_activity_date":1677161763,"creation_date":1531385827,"question_id":51301296,"body_markdown":"Since Tomcat 8.0 has reached end of life, I want to upgrade my application directly to Tomcat 9.\r\n\r\nWhen I deploy my Java based App from local to my server, I have a script which overrides the server.xml. I upgraded the server to a tomcat 9 and tried to put my application in there, but I get an error when trying to start it.\r\n\r\n    org.apache.tomcat.util.digester.Digester.startElement Begin event threw exception\r\n    java.lang.ClassNotFoundException: org.apache.catalina.core.JasperListener\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\r\nTomcat 9 does not know JasperListener. I googled this issue and found the &quot;Jasper How to&quot; page from apache, but I do not get it. Is Jasper now installed without me having to insert the JasperListener in the server.xml? And do I have to update anything else when upgrading from Tomcat 8 to 9?","title":"JasperListener? Upgrading from Tomcat 8 to Tomcat 9","body":"<p>Since Tomcat 8.0 has reached end of life, I want to upgrade my application directly to Tomcat 9.</p>\n\n<p>When I deploy my Java based App from local to my server, I have a script which overrides the server.xml. I upgraded the server to a tomcat 9 and tried to put my application in there, but I get an error when trying to start it.</p>\n\n<pre><code>org.apache.tomcat.util.digester.Digester.startElement Begin event threw exception\njava.lang.ClassNotFoundException: org.apache.catalina.core.JasperListener\nat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n</code></pre>\n\n<p>Tomcat 9 does not know JasperListener. I googled this issue and found the \"Jasper How to\" page from apache, but I do not get it. Is Jasper now installed without me having to insert the JasperListener in the server.xml? And do I have to update anything else when upgrading from Tomcat 8 to 9?</p>\n"},{"tags":["java","intellij-idea","javadoc"],"comments":[{"owner":{"account_id":2651999,"reputation":7958,"user_id":3145373,"accept_rate":77,"display_name":"user3145373 ツ"},"score":0,"creation_date":1504498073,"post_id":46029788,"comment_id":79020195,"body_markdown":"Just use `ctrl + b` or `ctrl + alt + b` on method for which you want implementation and `javadoc`. If `javadoc` is available then it will show you.","body":"Just use <code>ctrl + b</code> or <code>ctrl + alt + b</code> on method for which you want implementation and <code>javadoc</code>. If <code>javadoc</code> is available then it will show you."}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504494656,"creation_date":1504494656,"answer_id":46029815,"question_id":46029788,"body_markdown":"You can simply navigate to the class `PrintStream` where you can find the complete documentation by - \r\n\r\n - Right click on the method\r\n - Go to \r\n - Implementation\r\n - Select the class where you want to see its implementation\r\n - In this case `PrintStream`\r\n\r\n(Shortcuts could vary as defined by users)\r\n","title":"missing javadoc detail in intelliJ","body":"<p>You can simply navigate to the class <code>PrintStream</code> where you can find the complete documentation by - </p>\n\n<ul>\n<li>Right click on the method</li>\n<li>Go to </li>\n<li>Implementation</li>\n<li>Select the class where you want to see its implementation</li>\n<li>In this case <code>PrintStream</code></li>\n</ul>\n\n<p>(Shortcuts could vary as defined by users)</p>\n"},{"tags":[],"owner":{"account_id":4596872,"reputation":2115,"user_id":3728639,"accept_rate":89,"display_name":"Chathura Buddhika"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1504513487,"creation_date":1504513487,"answer_id":46033025,"question_id":46029788,"body_markdown":"This is because you didn&#39;t set Java source path in the project structure dialog.\r\n\r\nGo to `File &gt; Project Structure` and select `SDKs` from the left side. Then select your project JDK level (In your case it should be 1.8) and add JDK source path in `Sourcepath` tab. \r\n\r\nUsually it should be named as src.zip and placed inside your JDK folder. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fVF6v.png","title":"missing javadoc detail in intelliJ","body":"<p>This is because you didn't set Java source path in the project structure dialog.</p>\n\n<p>Go to <code>File &gt; Project Structure</code> and select <code>SDKs</code> from the left side. Then select your project JDK level (In your case it should be 1.8) and add JDK source path in <code>Sourcepath</code> tab. </p>\n\n<p>Usually it should be named as src.zip and placed inside your JDK folder. </p>\n\n<p><a href=\"https://i.stack.imgur.com/fVF6v.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fVF6v.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":12268142,"reputation":589,"user_id":8954109,"display_name":"plswork04"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616525723,"creation_date":1616525723,"answer_id":66769566,"question_id":46029788,"body_markdown":"Trying to follow @Chathura Buddhika&#39;s answer I found I didn&#39;t have the jdk source installed:\r\n```\r\n$ file /usr/lib/jvm/java-8-openjdk-amd64/src.zip\r\n/usr/lib/jvm/java-8-openjdk-amd64/src.zip: broken symbolic link to ../openjdk-8/src.zip \r\n```\r\n\r\nI **installed the source package**, restarted intellij, and then documentation &quot;just worked&quot;. The Sourcepath got automatically added to the Project structure.\r\n\r\nDebian/Ubuntu with open jdk8:\r\n\r\n```\r\nsudo apt-get install openjdk-8-source\r\n```\r\n\r\nRef: https://stackoverflow.com/a/64340730/8954109","title":"missing javadoc detail in intelliJ","body":"<p>Trying to follow @Chathura Buddhika's answer I found I didn't have the jdk source installed:</p>\n<pre><code>$ file /usr/lib/jvm/java-8-openjdk-amd64/src.zip\n/usr/lib/jvm/java-8-openjdk-amd64/src.zip: broken symbolic link to ../openjdk-8/src.zip \n</code></pre>\n<p>I <strong>installed the source package</strong>, restarted intellij, and then documentation &quot;just worked&quot;. The Sourcepath got automatically added to the Project structure.</p>\n<p>Debian/Ubuntu with open jdk8:</p>\n<pre><code>sudo apt-get install openjdk-8-source\n</code></pre>\n<p>Ref: <a href=\"https://stackoverflow.com/a/64340730/8954109\">https://stackoverflow.com/a/64340730/8954109</a></p>\n"},{"comments":[{"owner":{"account_id":19476826,"reputation":327,"user_id":14248076,"display_name":"Paolo Tormon"},"score":0,"creation_date":1679282418,"post_id":75545959,"comment_id":133687537,"body_markdown":"Awesome, this worked. wonder how to set this to global default option","body":"Awesome, this worked. wonder how to set this to global default option"},{"owner":{"account_id":8074479,"reputation":193,"user_id":6222252,"display_name":"Slimane Deb"},"score":1,"creation_date":1679352352,"post_id":75545959,"comment_id":133703666,"body_markdown":"You don&#39;t need to set it to global, I think IntelliJ does it by default for every maven project","body":"You don&#39;t need to set it to global, I think IntelliJ does it by default for every maven project"}],"tags":[],"owner":{"account_id":8074479,"reputation":193,"user_id":6222252,"display_name":"Slimane Deb"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677161500,"creation_date":1677161500,"answer_id":75545959,"question_id":46029788,"body_markdown":"Other thing you might consider if you are on a Maven project, is to download the sources in Maven menu on the upper right (see pic. bellow)\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zwWO4.png","title":"missing javadoc detail in intelliJ","body":"<p>Other thing you might consider if you are on a Maven project, is to download the sources in Maven menu on the upper right (see pic. bellow)</p>\n<p><a href=\"https://i.stack.imgur.com/zwWO4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwWO4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10744238,"reputation":83,"user_id":7906182,"display_name":"Tim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4304,"favorite_count":0,"down_vote_count":4,"up_vote_count":8,"accepted_answer_id":46033025,"answer_count":4,"score":4,"last_activity_date":1677161500,"creation_date":1504494378,"question_id":46029788,"body_markdown":"Just switch the IDE from  Eclipse to intelliJ, when I use ctrl+q to try to pop up more explainations for the method, it shows no details like this. How can I fix it to get same information as Eclipse does?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P5ctT.png","title":"missing javadoc detail in intelliJ","body":"<p>Just switch the IDE from  Eclipse to intelliJ, when I use ctrl+q to try to pop up more explainations for the method, it shows no details like this. How can I fix it to get same information as Eclipse does?</p>\n\n<p><a href=\"https://i.stack.imgur.com/P5ctT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/P5ctT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","swing","jcombobox","jseparator"],"answers":[{"tags":[],"owner":{"account_id":3499,"reputation":16114,"user_id":5049,"accept_rate":25,"display_name":"macbirdie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222428196,"creation_date":1222428196,"answer_id":138849,"question_id":138793,"body_markdown":"You can use a custom `ListCellRenderer` which would draw the separator items differently. See [docs][1] and a small [tutorial][2].\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JComboBox.html#setRenderer(javax.swing.ListCellRenderer)\r\n  [2]: http://www-eleves-isia.cma.fr/documentation/JavaTutorial/uiswing/components/combobox.html#renderer\r\n","title":"How do I add a separator to a JComboBox in Java?","body":"<p>You can use a custom <code>ListCellRenderer</code> which would draw the separator items differently. See <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/JComboBox.html#setRenderer(javax.swing.ListCellRenderer)\" rel=\"nofollow noreferrer\">docs</a> and a small <a href=\"http://www-eleves-isia.cma.fr/documentation/JavaTutorial/uiswing/components/combobox.html#renderer\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n"},{"comments":[{"owner":{"account_id":149036,"reputation":405,"user_id":361227,"accept_rate":60,"display_name":"bobndrew"},"score":2,"creation_date":1318001860,"post_id":138922,"comment_id":9348129,"body_markdown":"The `BlockComboBoxExample` example breaks the cursor-key and the first-letter-key navigation. Santhosh Kumar&#39;s [example](http://www.jroller.com/santhosh/entry/jcombobox%5Fitems%5Fwith%5Fseparators) seems to work better.","body":"The <code>BlockComboBoxExample</code> example breaks the cursor-key and the first-letter-key navigation. Santhosh Kumar&#39;s <a href=\"http://www.jroller.com/santhosh/entry/jcombobox%5Fitems%5Fwith%5Fseparators\" rel=\"nofollow noreferrer\">example</a> seems to work better."}],"tags":[],"owner":{"account_id":11508,"reputation":3302,"user_id":22221,"display_name":"pfranza"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1222429313,"creation_date":1222429313,"answer_id":138922,"question_id":138793,"body_markdown":"There is a pretty short tutorial with an example that shows how to use a custom ListCellRenderer on java2s\r\n [http://www.java2s.com/Code/Java/Swing-Components/BlockComboBoxExample.htm][1]\r\n\r\nBasically it involves inserting a known placeholder in your list model and when you detect the placeholder in the ListCellRenderer you return an instance of &#39;new JSeparator(JSeparator.HORIZONTAL)&#39;\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Java/Swing-Components/BlockComboBoxExample.htm","title":"How do I add a separator to a JComboBox in Java?","body":"<p>There is a pretty short tutorial with an example that shows how to use a custom ListCellRenderer on java2s\n <a href=\"http://www.java2s.com/Code/Java/Swing-Components/BlockComboBoxExample.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/Java/Swing-Components/BlockComboBoxExample.htm</a></p>\n\n<p>Basically it involves inserting a known placeholder in your list model and when you detect the placeholder in the ListCellRenderer you return an instance of 'new JSeparator(JSeparator.HORIZONTAL)'</p>\n"},{"comments":[{"owner":{"account_id":149036,"reputation":405,"user_id":361227,"accept_rate":60,"display_name":"bobndrew"},"score":0,"creation_date":1318001433,"post_id":139366,"comment_id":9348022,"body_markdown":"Your variable-naming is not the worst thing here: You&#39;re breaking the whole combobox-item-selection: the selection is not painted anymore and the first-letter-key-jumps are broken. And you should define `m_combo` and `m_renderer` in the smallest possible scope (in `public TestGui()`). And should not use a glooooobal `m_lastRecentIndex` for the Renderer **and** the &#39;TestGui&#39; class (which should be a lonely Main class, not a &#39;JFrame&#39; subclass). But I like the braces-style!","body":"Your variable-naming is not the worst thing here: You&#39;re breaking the whole combobox-item-selection: the selection is not painted anymore and the first-letter-key-jumps are broken. And you should define <code>m_combo</code> and <code>m_renderer</code> in the smallest possible scope (in <code>public TestGui()</code>). And should not use a glooooobal <code>m_lastRecentIndex</code> for the Renderer <b>and</b> the &#39;TestGui&#39; class (which should be a lonely Main class, not a &#39;JFrame&#39; subclass). But I like the braces-style!"},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":0,"creation_date":1318004264,"post_id":139366,"comment_id":9348852,"body_markdown":"@bobndrew: hey! As I wrote, I was a newbie at the time (3 years already!). Among sins you don&#39;t point out, I probably used some Swing test template I found and even worse, I didn&#39;t use SwingUtilities.invokeLater! The code I have currently uses it, at least (but it is still a JFrame subclass...). And m_lastRecentIndex is more local... But most of your criticism is about a quickly made test class, which isn&#39;t really production code. Today, I pay more attention to such code, as newbies can take inspiration from it... :-) Also, you are right about highlighting hovered elements and selection. TODO","body":"@bobndrew: hey! As I wrote, I was a newbie at the time (3 years already!). Among sins you don&#39;t point out, I probably used some Swing test template I found and even worse, I didn&#39;t use SwingUtilities.invokeLater! The code I have currently uses it, at least (but it is still a JFrame subclass...). And m_lastRecentIndex is more local... But most of your criticism is about a quickly made test class, which isn&#39;t really production code. Today, I pay more attention to such code, as newbies can take inspiration from it... :-) Also, you are right about highlighting hovered elements and selection. TODO"},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":0,"creation_date":1326966991,"post_id":139366,"comment_id":11165630,"body_markdown":"Note: I edited the code above for a more modern / correct version. One advantage of my approach is that it is more flexible (in look at least) than JSeparator and it doesn&#39;t take a slot.","body":"Note: I edited the code above for a more modern / correct version. One advantage of my approach is that it is more flexible (in look at least) than JSeparator and it doesn&#39;t take a slot."}],"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1325679079,"creation_date":1222434248,"answer_id":139366,"question_id":138793,"body_markdown":"By the time I wrote and tested the code below, you probably got lot of better answers...  \r\nI don&#39;t mind as I enjoyed the experiment/learning (still a bit green on the Swing front).\r\n\r\n[EDIT] Three years later, I am a bit less green, and I took in account the valid remarks of bobndrew. I have no problem with the key navigation that just works (perhaps it was a JVM version issue?). I improved the renderer to show highlight, though. And I use a better demo code. The accepted answer is probably better (more standard), mine is probably more flexible if you want a custom separator...\r\n\r\nThe base idea is to use a renderer for the items of the combo box. For most items, it is a simple JLabel with the text of the item. For the last recent/most used item, I decorate the JLabel with a custom border drawing a line on its bottom.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class TwoPartsComboBox extends JComboBox\r\n    {\r\n      private int m_lastFirstPartIndex;\r\n    \r\n      public TwoPartsComboBox(String[] itemsFirstPart, String[] itemsSecondPart)\r\n      {\r\n        super(itemsFirstPart);\r\n        m_lastFirstPartIndex = itemsFirstPart.length - 1;\r\n        for (int i = 0; i &lt; itemsSecondPart.length; i++)\r\n        {\r\n          insertItemAt(itemsSecondPart[i], i);\r\n        }\r\n    \r\n        setRenderer(new JLRenderer());\r\n      }\r\n    \r\n      protected class JLRenderer extends JLabel implements ListCellRenderer\r\n      {\r\n        private JLabel m_lastFirstPart;\r\n    \r\n        public JLRenderer()\r\n        {\r\n          m_lastFirstPart = new JLabel();\r\n          m_lastFirstPart.setBorder(new BottomLineBorder());\r\n    //      m_lastFirstPart.setBorder(new BottomLineBorder(10, Color.BLUE));\r\n        }\r\n    \r\n        @Override\r\n        public Component getListCellRendererComponent(\r\n            JList list,\r\n            Object value,\r\n            int index,\r\n            boolean isSelected,\r\n            boolean cellHasFocus)\r\n        {\r\n          if (value == null)\r\n          {\r\n            value = &quot;Select an option&quot;;\r\n          }\r\n          JLabel label = this;\r\n          if (index == m_lastFirstPartIndex)\r\n          {\r\n            label = m_lastFirstPart;\r\n          }\r\n          label.setText(value.toString());\r\n          label.setBackground(isSelected ? list.getSelectionBackground() : list.getBackground());\r\n          label.setForeground(isSelected ? list.getSelectionForeground() : list.getForeground());\r\n          label.setOpaque(true);\r\n    \r\n          return label;\r\n        }\r\n      }\r\n    }\r\n\r\nSeparator class, can be thick, with custom color, etc.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.border.AbstractBorder;\r\n    \r\n    /**\r\n     * Draws a line at the bottom only.\r\n     * Useful for making a separator in combo box, for example.\r\n     */\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    class BottomLineBorder extends AbstractBorder\r\n    {\r\n      private int m_thickness;\r\n      private Color m_color;\r\n    \r\n      BottomLineBorder()\r\n      {\r\n        this(1, Color.BLACK);\r\n      }\r\n    \r\n      BottomLineBorder(Color color)\r\n      {\r\n        this(1, color);\r\n      }\r\n    \r\n      BottomLineBorder(int thickness, Color color)\r\n      {\r\n        m_thickness = thickness;\r\n        m_color = color;\r\n      }\r\n    \r\n      @Override\r\n      public void paintBorder(Component c, Graphics g,\r\n          int x, int y, int width, int height)\r\n      {\r\n        Graphics copy = g.create();\r\n        if (copy != null)\r\n        {\r\n          try\r\n          {\r\n            copy.translate(x, y);\r\n            copy.setColor(m_color);\r\n            copy.fillRect(0, height - m_thickness, width - 1, height - 1);\r\n          }\r\n          finally\r\n          {\r\n            copy.dispose();\r\n          }\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public boolean isBorderOpaque()\r\n      {\r\n        return true;\r\n      }\r\n      @Override\r\n      public Insets getBorderInsets(Component c)\r\n      {\r\n        return new Insets(0, 0, m_thickness, 0);\r\n      }\r\n      @Override\r\n      public Insets getBorderInsets(Component c, Insets i)\r\n      {\r\n        i.left = i.top = i.right = 0;\r\n        i.bottom = m_thickness;\r\n        return i;\r\n      }\r\n    }\r\n\r\nTest class:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class TwoPartsComboBoxDemo extends JFrame\r\n    {\r\n      private TwoPartsComboBox m_combo;\r\n    \r\n      public TwoPartsComboBoxDemo()\r\n      {\r\n        Container cont = getContentPane();\r\n        cont.setLayout(new FlowLayout());\r\n    \r\n        cont.add(new JLabel(&quot;Data: &quot;)) ;\r\n    \r\n        String[] itemsRecent = new String[] { &quot;ichi&quot;, &quot;ni&quot;, &quot;san&quot; };\r\n        String[] itemsOther = new String[] { &quot;one&quot;, &quot;two&quot;, &quot;three&quot; };\r\n        m_combo = new TwoPartsComboBox(itemsRecent, itemsOther);\r\n    \r\n        m_combo.setSelectedIndex(-1);\r\n        cont.add(m_combo);\r\n        m_combo.addActionListener(new ActionListener()\r\n        {\r\n          public void actionPerformed(ActionEvent ae)\r\n          {\r\n            String si = (String) m_combo.getSelectedItem();\r\n            System.out.println(si == null ? &quot;No item selected&quot; : si.toString());\r\n          }\r\n        });\r\n    \r\n        // Reference, to check we have similar behavior to standard combo\r\n        JComboBox combo = new JComboBox(itemsRecent);\r\n        cont.add(combo);\r\n      }\r\n    \r\n      /**\r\n       * Start the demo.\r\n       *\r\n       * @param args   the command line arguments\r\n       */\r\n      public static void main(String[] args)\r\n      {\r\n        // turn bold fonts off in metal\r\n        UIManager.put(&quot;swing.boldMetal&quot;, Boolean.FALSE);\r\n    \r\n        SwingUtilities.invokeLater(new Runnable()\r\n        {\r\n          public void run()\r\n          {\r\n            JFrame demoFrame = new TwoPartsComboBoxDemo();\r\n            demoFrame.setTitle(&quot;Test GUI&quot;);\r\n            demoFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            demoFrame.setSize(400, 100);\r\n            demoFrame.setVisible(true);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n","title":"How do I add a separator to a JComboBox in Java?","body":"<p>By the time I wrote and tested the code below, you probably got lot of better answers...<br>\nI don't mind as I enjoyed the experiment/learning (still a bit green on the Swing front).</p>\n\n<p>[EDIT] Three years later, I am a bit less green, and I took in account the valid remarks of bobndrew. I have no problem with the key navigation that just works (perhaps it was a JVM version issue?). I improved the renderer to show highlight, though. And I use a better demo code. The accepted answer is probably better (more standard), mine is probably more flexible if you want a custom separator...</p>\n\n<p>The base idea is to use a renderer for the items of the combo box. For most items, it is a simple JLabel with the text of the item. For the last recent/most used item, I decorate the JLabel with a custom border drawing a line on its bottom.</p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\n\n@SuppressWarnings(\"serial\")\npublic class TwoPartsComboBox extends JComboBox\n{\n  private int m_lastFirstPartIndex;\n\n  public TwoPartsComboBox(String[] itemsFirstPart, String[] itemsSecondPart)\n  {\n    super(itemsFirstPart);\n    m_lastFirstPartIndex = itemsFirstPart.length - 1;\n    for (int i = 0; i &lt; itemsSecondPart.length; i++)\n    {\n      insertItemAt(itemsSecondPart[i], i);\n    }\n\n    setRenderer(new JLRenderer());\n  }\n\n  protected class JLRenderer extends JLabel implements ListCellRenderer\n  {\n    private JLabel m_lastFirstPart;\n\n    public JLRenderer()\n    {\n      m_lastFirstPart = new JLabel();\n      m_lastFirstPart.setBorder(new BottomLineBorder());\n//      m_lastFirstPart.setBorder(new BottomLineBorder(10, Color.BLUE));\n    }\n\n    @Override\n    public Component getListCellRendererComponent(\n        JList list,\n        Object value,\n        int index,\n        boolean isSelected,\n        boolean cellHasFocus)\n    {\n      if (value == null)\n      {\n        value = \"Select an option\";\n      }\n      JLabel label = this;\n      if (index == m_lastFirstPartIndex)\n      {\n        label = m_lastFirstPart;\n      }\n      label.setText(value.toString());\n      label.setBackground(isSelected ? list.getSelectionBackground() : list.getBackground());\n      label.setForeground(isSelected ? list.getSelectionForeground() : list.getForeground());\n      label.setOpaque(true);\n\n      return label;\n    }\n  }\n}\n</code></pre>\n\n<p>Separator class, can be thick, with custom color, etc.</p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.border.AbstractBorder;\n\n/**\n * Draws a line at the bottom only.\n * Useful for making a separator in combo box, for example.\n */\n@SuppressWarnings(\"serial\")\nclass BottomLineBorder extends AbstractBorder\n{\n  private int m_thickness;\n  private Color m_color;\n\n  BottomLineBorder()\n  {\n    this(1, Color.BLACK);\n  }\n\n  BottomLineBorder(Color color)\n  {\n    this(1, color);\n  }\n\n  BottomLineBorder(int thickness, Color color)\n  {\n    m_thickness = thickness;\n    m_color = color;\n  }\n\n  @Override\n  public void paintBorder(Component c, Graphics g,\n      int x, int y, int width, int height)\n  {\n    Graphics copy = g.create();\n    if (copy != null)\n    {\n      try\n      {\n        copy.translate(x, y);\n        copy.setColor(m_color);\n        copy.fillRect(0, height - m_thickness, width - 1, height - 1);\n      }\n      finally\n      {\n        copy.dispose();\n      }\n    }\n  }\n\n  @Override\n  public boolean isBorderOpaque()\n  {\n    return true;\n  }\n  @Override\n  public Insets getBorderInsets(Component c)\n  {\n    return new Insets(0, 0, m_thickness, 0);\n  }\n  @Override\n  public Insets getBorderInsets(Component c, Insets i)\n  {\n    i.left = i.top = i.right = 0;\n    i.bottom = m_thickness;\n    return i;\n  }\n}\n</code></pre>\n\n<p>Test class:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\n\n@SuppressWarnings(\"serial\")\npublic class TwoPartsComboBoxDemo extends JFrame\n{\n  private TwoPartsComboBox m_combo;\n\n  public TwoPartsComboBoxDemo()\n  {\n    Container cont = getContentPane();\n    cont.setLayout(new FlowLayout());\n\n    cont.add(new JLabel(\"Data: \")) ;\n\n    String[] itemsRecent = new String[] { \"ichi\", \"ni\", \"san\" };\n    String[] itemsOther = new String[] { \"one\", \"two\", \"three\" };\n    m_combo = new TwoPartsComboBox(itemsRecent, itemsOther);\n\n    m_combo.setSelectedIndex(-1);\n    cont.add(m_combo);\n    m_combo.addActionListener(new ActionListener()\n    {\n      public void actionPerformed(ActionEvent ae)\n      {\n        String si = (String) m_combo.getSelectedItem();\n        System.out.println(si == null ? \"No item selected\" : si.toString());\n      }\n    });\n\n    // Reference, to check we have similar behavior to standard combo\n    JComboBox combo = new JComboBox(itemsRecent);\n    cont.add(combo);\n  }\n\n  /**\n   * Start the demo.\n   *\n   * @param args   the command line arguments\n   */\n  public static void main(String[] args)\n  {\n    // turn bold fonts off in metal\n    UIManager.put(\"swing.boldMetal\", Boolean.FALSE);\n\n    SwingUtilities.invokeLater(new Runnable()\n    {\n      public void run()\n      {\n        JFrame demoFrame = new TwoPartsComboBoxDemo();\n        demoFrame.setTitle(\"Test GUI\");\n        demoFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        demoFrame.setSize(400, 100);\n        demoFrame.setVisible(true);\n      }\n    });\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2037900,"reputation":105,"user_id":1819780,"accept_rate":70,"display_name":"user1819780"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677161403,"creation_date":1677161403,"answer_id":75545938,"question_id":138793,"body_markdown":"Try adding this renderer.  Just supply a list of index values that you want the separator to be above.\r\n\r\n     private class SeperatorComboRenderer extends DefaultListCellRenderer\r\n     {\r\n          private final float SEPARATOR_THICKNESS = 1.0f;\r\n          private final float SPACE_TOP = 2.0f;\r\n          private final float SPACE_BOTTOM = 2.0f;\r\n          private final Color SEPARATOR_COLOR = Color.DARK_GRAY;\r\n        \r\n          private final List&lt;Integer&gt; marks;\r\n          private boolean mark;\r\n          private boolean top;\r\n        \r\n          public SeperatorComboRenderer(List&lt;Integer&gt; marks)\r\n          {\r\n               this.marks = marks;\r\n          }\r\n        \r\n          @Override\r\n          public Component getListCellRendererComponent(JList list, Object object, int index, boolean isSelected, boolean hasFocus)\r\n          {\r\n               super.getListCellRendererComponent(list, object, index, isSelected, hasFocus);\r\n\r\n               top = false;\r\n               mark = false;\r\n               marks.forEach((idx) -&gt;\r\n               {\r\n                   if(index - 1 == idx)\r\n                        top = true;\r\n                   if(index == idx)\r\n                        mark = true;\r\n               });\r\n               return this;\r\n          }\r\n        \r\n          @Override\r\n          protected void paintComponent(Graphics g)\r\n          {\r\n               if(mark)\r\n                    g.translate(0, (int)(SEPARATOR_THICKNESS + SPACE_BOTTOM));\r\n               Graphics2D g2 = (Graphics2D)g;\r\n               super.paintComponent(g);\r\n               if(mark)\r\n               {\r\n                    g2.setColor(SEPARATOR_COLOR);\r\n                    g2.setStroke(new BasicStroke(SEPARATOR_THICKNESS));\r\n                    g2.drawLine(0, 0, getWidth(), 0);\r\n               }\r\n          }\r\n        \r\n          @Override\r\n          public Dimension getPreferredSize()\r\n          {\r\n               Dimension pf = super.getPreferredSize();\r\n               double height = pf.getHeight();\r\n               if(top) height += SPACE_TOP;\r\n               else if(mark) height += SEPARATOR_THICKNESS + SPACE_BOTTOM;\r\n               return new Dimension((int)pf.getWidth(), (int)height);\r\n          }\r\n      }","title":"How do I add a separator to a JComboBox in Java?","body":"<p>Try adding this renderer.  Just supply a list of index values that you want the separator to be above.</p>\n<pre><code> private class SeperatorComboRenderer extends DefaultListCellRenderer\n {\n      private final float SEPARATOR_THICKNESS = 1.0f;\n      private final float SPACE_TOP = 2.0f;\n      private final float SPACE_BOTTOM = 2.0f;\n      private final Color SEPARATOR_COLOR = Color.DARK_GRAY;\n    \n      private final List&lt;Integer&gt; marks;\n      private boolean mark;\n      private boolean top;\n    \n      public SeperatorComboRenderer(List&lt;Integer&gt; marks)\n      {\n           this.marks = marks;\n      }\n    \n      @Override\n      public Component getListCellRendererComponent(JList list, Object object, int index, boolean isSelected, boolean hasFocus)\n      {\n           super.getListCellRendererComponent(list, object, index, isSelected, hasFocus);\n\n           top = false;\n           mark = false;\n           marks.forEach((idx) -&gt;\n           {\n               if(index - 1 == idx)\n                    top = true;\n               if(index == idx)\n                    mark = true;\n           });\n           return this;\n      }\n    \n      @Override\n      protected void paintComponent(Graphics g)\n      {\n           if(mark)\n                g.translate(0, (int)(SEPARATOR_THICKNESS + SPACE_BOTTOM));\n           Graphics2D g2 = (Graphics2D)g;\n           super.paintComponent(g);\n           if(mark)\n           {\n                g2.setColor(SEPARATOR_COLOR);\n                g2.setStroke(new BasicStroke(SEPARATOR_THICKNESS));\n                g2.drawLine(0, 0, getWidth(), 0);\n           }\n      }\n    \n      @Override\n      public Dimension getPreferredSize()\n      {\n           Dimension pf = super.getPreferredSize();\n           double height = pf.getHeight();\n           if(top) height += SPACE_TOP;\n           else if(mark) height += SEPARATOR_THICKNESS + SPACE_BOTTOM;\n           return new Dimension((int)pf.getWidth(), (int)height);\n      }\n  }\n</code></pre>\n"}],"owner":{"account_id":2426,"reputation":4470,"user_id":3379,"accept_rate":83,"display_name":"Alfred B. Thordarson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11509,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":138922,"answer_count":4,"score":13,"last_activity_date":1677161403,"creation_date":1222427535,"question_id":138793,"body_markdown":"I have a *JComboBox* and would like to have a separator in the list of elements. How do I do this in Java?\r\n\r\nA sample scenario where this would come in handy is when making a combobox for font-family-selection; similar to the font-family-selection-control in Word and Excel. In this case I would like to show the most-used-fonts at the top, then a separator and finally all font-families below the separator in alphabetical order.\r\n\r\nCan anyone help me with how to do this or is this not possible in Java?\r\n","title":"How do I add a separator to a JComboBox in Java?","body":"<p>I have a <em>JComboBox</em> and would like to have a separator in the list of elements. How do I do this in Java?</p>\n\n<p>A sample scenario where this would come in handy is when making a combobox for font-family-selection; similar to the font-family-selection-control in Word and Excel. In this case I would like to show the most-used-fonts at the top, then a separator and finally all font-families below the separator in alphabetical order.</p>\n\n<p>Can anyone help me with how to do this or is this not possible in Java?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677159700,"post_id":75545566,"comment_id":133285422,"body_markdown":"Do you have any chance to grab the individual values before they are being converted to a String? Otherwise this sounds like a usecase for a regular expression with capture groups.","body":"Do you have any chance to grab the individual values before they are being converted to a String? Otherwise this sounds like a usecase for a regular expression with capture groups."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677160910,"post_id":75545566,"comment_id":133285851,"body_markdown":"You&#39;d make this a lot easier if you had `ComboBoxModel&lt;Product&gt;`. You could then just grab the price directly out of the selected item.","body":"You&#39;d make this a lot easier if you had <code>ComboBoxModel&lt;Product&gt;</code>. You could then just grab the price directly out of the selected item."},{"owner":{"account_id":27860570,"reputation":1,"user_id":21273211,"display_name":"Chris Butler"},"score":0,"creation_date":1677161188,"post_id":75545566,"comment_id":133285948,"body_markdown":"The items list is pretty small so I could delcare global variables for the individual prices, that&#39;ll only work because there are only 4 items in the list though. Right now the items in the combo box is both the item and the price together.","body":"The items list is pretty small so I could delcare global variables for the individual prices, that&#39;ll only work because there are only 4 items in the list though. Right now the items in the combo box is both the item and the price together."}],"answers":[{"tags":[],"owner":{"account_id":5932321,"reputation":46,"user_id":7968292,"display_name":"Jvo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677161399,"creation_date":1677161399,"answer_id":75545936,"question_id":75545566,"body_markdown":"Make sure not to parse the text, use the calculation based on a datamodel. So based on the selected products and amounts you will get a model like:\r\n\r\n    List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;();\r\n    orders.add(order1);\r\n    \r\n    public class Order  {\r\n        Product product;\r\n        int amount;\r\n        constructor/ getter/setters ommitted\r\n    }\r\n\r\nThen create the summery by foreach over the orders. and create the total amount by doing the same\r\n\r\n    String summary = &quot;&quot;;\r\n    int total = 0;\r\n    for (Order order : orders) {\r\n          summary += order.getProduct().getDescription() + &quot;\\n&quot;;\r\n          total += (order.getAmount() * order.getProduct().getPrice());\r\n    }\r\n    summary += &quot;Total price &quot; + total;\r\nput summary in your textArea","title":"Get currency values from a string","body":"<p>Make sure not to parse the text, use the calculation based on a datamodel. So based on the selected products and amounts you will get a model like:</p>\n<pre><code>List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;();\norders.add(order1);\n\npublic class Order  {\n    Product product;\n    int amount;\n    constructor/ getter/setters ommitted\n}\n</code></pre>\n<p>Then create the summery by foreach over the orders. and create the total amount by doing the same</p>\n<pre><code>String summary = &quot;&quot;;\nint total = 0;\nfor (Order order : orders) {\n      summary += order.getProduct().getDescription() + &quot;\\n&quot;;\n      total += (order.getAmount() * order.getProduct().getPrice());\n}\nsummary += &quot;Total price &quot; + total;\n</code></pre>\n<p>put summary in your textArea</p>\n"}],"owner":{"account_id":27860570,"reputation":1,"user_id":21273211,"display_name":"Chris Butler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677161399,"creation_date":1677159331,"question_id":75545566,"body_markdown":"I&#39;m coding a pretty basic app with java in netbeans for an assessment. It&#39;s meant to be an online shop that adds the user&#39;s purchases to a text area as a summary. 2 combo boxes let the user choose the product and the quantity so an example summary shows as &quot;Apples &#163;1.25 x 3.&quot; \r\nI&#39;ve got the coding for that done but now I need to parse the price and the quantity from the string, multiplying them and then adding any other orders together so that a label can display the order total. This is where I&#39;m struggling.\r\n\r\nHere&#39;s the string I&#39;m working with:\r\n\r\nOrderSummary_txt.append((String)Items_cmbo.getSelectedItem() + &quot; x &quot; + (String)Quantity_cmbo.getSelectedItem() + &quot;\\n&quot;);\r\n\r\nI think I need to use indexOf(&quot;&#163;&quot;) to get started but after that I get lost. Any help would be appreciated.","title":"Get currency values from a string","body":"<p>I'm coding a pretty basic app with java in netbeans for an assessment. It's meant to be an online shop that adds the user's purchases to a text area as a summary. 2 combo boxes let the user choose the product and the quantity so an example summary shows as &quot;Apples £1.25 x 3.&quot;\nI've got the coding for that done but now I need to parse the price and the quantity from the string, multiplying them and then adding any other orders together so that a label can display the order total. This is where I'm struggling.</p>\n<p>Here's the string I'm working with:</p>\n<p>OrderSummary_txt.append((String)Items_cmbo.getSelectedItem() + &quot; x &quot; + (String)Quantity_cmbo.getSelectedItem() + &quot;\\n&quot;);</p>\n<p>I think I need to use indexOf(&quot;£&quot;) to get started but after that I get lost. Any help would be appreciated.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1677161693,"post_id":75544429,"comment_id":133286135,"body_markdown":"Not switching over to jpa or whatever is understandable.  But using a pool is a small change that should increase responsiveness and resilency even if you don&#39;t have a large number of users","body":"Not switching over to jpa or whatever is understandable.  But using a pool is a small change that should increase responsiveness and resilency even if you don&#39;t have a large number of users"}],"answers":[{"comments":[{"owner":{"account_id":5056080,"reputation":9,"user_id":4059276,"display_name":"dsreddy"},"score":0,"creation_date":1677163542,"post_id":75545832,"comment_id":133286825,"body_markdown":"Thanks Mark .  Little off topic is JNDI still used today especially with regards to applications using Spring Boot","body":"Thanks Mark .  Little off topic is JNDI still used today especially with regards to applications using Spring Boot"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677164031,"post_id":75545832,"comment_id":133286991,"body_markdown":"@dsreddy In my experience, no, not if you&#39;re using Spring Boot. If you&#39;re using Spring Boot, you generally configure the datasource in `application.yml` or `application.properties`, and you can then auto-wire (inject) it where needed.","body":"@dsreddy In my experience, no, not if you&#39;re using Spring Boot. If you&#39;re using Spring Boot, you generally configure the datasource in <code>application.yml</code> or <code>application.properties</code>, and you can then auto-wire (inject) it where needed."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677161393,"creation_date":1677160920,"answer_id":75545832,"question_id":75544429,"body_markdown":"Whether to use a `DataSource` or `DriverManager.getConnection` is not directly related to security. So, yes, you can continue to use `DriverManager.getConnection`, it is just not generally considered a good idea to use in web applications for reasons of scalability.\r\n\r\nHowever, you&#39;ll miss out on benefits like:\r\n1. connection pooling (note though that not all `DataSource` implementations provide connection pooling), \r\n2. simplifying connection configuration (though that depends on how and where you&#39;re allocating them now); in some case this *could* improve security,\r\n\r\nand other potential benefits - depending on the actual data source used - like:\r\n\r\n3. identifying and reclaiming connections leaks, \r\n4. limiting the maximum number of connections, etc.\r\n\r\nIf your current code already centralizes connection configuration, then the first step could simply be injecting (or retrieving with JNDI) a data source (e.g. one configured in Tomcat), and replacing `DriverManager.getConnection(...)` with `dataSource.getConnection()`.","title":"Using JDBC DriverManager.getConnection for a web application","body":"<p>Whether to use a <code>DataSource</code> or <code>DriverManager.getConnection</code> is not directly related to security. So, yes, you can continue to use <code>DriverManager.getConnection</code>, it is just not generally considered a good idea to use in web applications for reasons of scalability.</p>\n<p>However, you'll miss out on benefits like:</p>\n<ol>\n<li>connection pooling (note though that not all <code>DataSource</code> implementations provide connection pooling),</li>\n<li>simplifying connection configuration (though that depends on how and where you're allocating them now); in some case this <em>could</em> improve security,</li>\n</ol>\n<p>and other potential benefits - depending on the actual data source used - like:</p>\n<ol start=\"3\">\n<li>identifying and reclaiming connections leaks,</li>\n<li>limiting the maximum number of connections, etc.</li>\n</ol>\n<p>If your current code already centralizes connection configuration, then the first step could simply be injecting (or retrieving with JNDI) a data source (e.g. one configured in Tomcat), and replacing <code>DriverManager.getConnection(...)</code> with <code>dataSource.getConnection()</code>.</p>\n"}],"owner":{"account_id":5056080,"reputation":9,"user_id":4059276,"display_name":"dsreddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677161393,"creation_date":1677152938,"question_id":75544429,"body_markdown":"Our team is planning to migrate to a web application instead of the desktop application. One thing though is for the first round of updates, we are not planning to make any changes to the back-end DB calls. It will mostly be the screen changes that get migrated to React or Angular and deploy it in Tomcat server.\r\n\r\nIn our desktop application we have used DriverManger.getConnection() class to get the connection from DB.\r\n\r\nWe plan to not touch the DB interface yet or use modern approaches like Hibernate / JPA or JDBC Templates and just stick with raw JDBC code for now which will be wrapped using Spring boot/Rest API calls.\r\n\r\nWe have a very small user base, like around 50 people and my lead is not very much interested in using connection pooling and stuff yet though which comes with DataSource interface.\r\n\r\nIs it is safe to continue using DriverManager.getConnection() to get connections from DB when you deploy your war file in multiple Tomcat instances? It seems to work though and is doable (tried with single Tomcat instance), other than the fact that we don&#39;t use features like connection pooling, etc. \r\n\r\n","title":"Using JDBC DriverManager.getConnection for a web application","body":"<p>Our team is planning to migrate to a web application instead of the desktop application. One thing though is for the first round of updates, we are not planning to make any changes to the back-end DB calls. It will mostly be the screen changes that get migrated to React or Angular and deploy it in Tomcat server.</p>\n<p>In our desktop application we have used DriverManger.getConnection() class to get the connection from DB.</p>\n<p>We plan to not touch the DB interface yet or use modern approaches like Hibernate / JPA or JDBC Templates and just stick with raw JDBC code for now which will be wrapped using Spring boot/Rest API calls.</p>\n<p>We have a very small user base, like around 50 people and my lead is not very much interested in using connection pooling and stuff yet though which comes with DataSource interface.</p>\n<p>Is it is safe to continue using DriverManager.getConnection() to get connections from DB when you deploy your war file in multiple Tomcat instances? It seems to work though and is doable (tried with single Tomcat instance), other than the fact that we don't use features like connection pooling, etc.</p>\n"},{"tags":["java","opensearch"],"owner":{"account_id":26820801,"reputation":1,"user_id":20410171,"display_name":"user20410171"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677161176,"creation_date":1677161153,"question_id":75545881,"body_markdown":"I was wondering how is this aggregation search query can be translated to performed by the Opensearch java client:\r\n\r\n```\r\n\r\n{\r\n  &quot;size&quot;: 0,\r\n  &quot;aggs&quot;: {\r\n    &quot;annotation_key_distribution&quot;: {\r\n      &quot;nested&quot;: {\r\n        &quot;path&quot;: &quot;annotations&quot;\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;key_distribution&quot;: {\r\n          &quot;terms&quot;: {\r\n            &quot;field&quot;: &quot;annotations.key&quot;,\r\n            &quot;size&quot;: 10\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nThe docs don&#39;t have any information. \r\nI&#39;ve tried doing it using the Aggregation and TermsAggregation and SearchRequest objects but have not succeeded yet.","title":"Opensearch java client - aggregations query","body":"<p>I was wondering how is this aggregation search query can be translated to performed by the Opensearch java client:</p>\n<pre><code>\n{\n  &quot;size&quot;: 0,\n  &quot;aggs&quot;: {\n    &quot;annotation_key_distribution&quot;: {\n      &quot;nested&quot;: {\n        &quot;path&quot;: &quot;annotations&quot;\n      },\n      &quot;aggs&quot;: {\n        &quot;key_distribution&quot;: {\n          &quot;terms&quot;: {\n            &quot;field&quot;: &quot;annotations.key&quot;,\n            &quot;size&quot;: 10\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>The docs don't have any information.\nI've tried doing it using the Aggregation and TermsAggregation and SearchRequest objects but have not succeeded yet.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1677135424,"post_id":75541479,"comment_id":133278810,"body_markdown":"What happens if you use `@Qualifer` insteade of `@Resource`? As basically `@Autowired` and `@Resource` are mutally exclusive.","body":"What happens if you use <code>@Qualifer</code> insteade of <code>@Resource</code>? As basically <code>@Autowired</code> and <code>@Resource</code> are mutally exclusive."},{"owner":{"account_id":17515555,"reputation":11,"user_id":18154094,"display_name":"sai chaitanya"},"score":0,"creation_date":1677136011,"post_id":75541479,"comment_id":133278942,"body_markdown":"Unsatisfied dependency expressed through field &#39;expertiseService&#39;: Error creating bean with name &#39;IExpertizeImpl&#39;: Unsatisfied dependency expressed through field &#39;Experts&#39;: No qualifying bean of type &#39;java.util.HashMap&lt;java.lang.String, java.lang.Long&gt;&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(&quot;Experts&quot;)}: it not working","body":"Unsatisfied dependency expressed through field &#39;expertiseService&#39;: Error creating bean with name &#39;IExpertizeImpl&#39;: Unsatisfied dependency expressed through field &#39;Experts&#39;: No qualifying bean of type &#39;java.util.HashMap&lt;java.lang.String, java.lang.Long&gt;&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(req&zwnj;&#8203;uired=true), @org.springframework.beans.factory.annotation.Qualifier(&quot;Exp&zwnj;&#8203;erts&quot;)}: it not working"},{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":3,"creation_date":1677136221,"post_id":75541479,"comment_id":133278987,"body_markdown":"You are not initializing `expertises` and `languages` maps anywhere.","body":"You are not initializing <code>expertises</code> and <code>languages</code> maps anywhere."}],"owner":{"account_id":17515555,"reputation":11,"user_id":18154094,"display_name":"sai chaitanya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677161111,"creation_date":1677135279,"question_id":75541479,"body_markdown":"#### MAIN CLASS\r\n```java\r\npublic class HealthcareMsDoctorsApplication {\r\n    private HashMap&lt;String, Long&gt; expertises;\r\n    private HashMap&lt;String, Long&gt; languages;\r\n    public static void main(String[] args) {\r\n\t    SpringApplication.run(HealthcareMsDoctorsApplication.class, args);\r\n    }\r\n    \r\n    @Bean(name = &quot;Experts&quot;)\r\n    public HashMap&lt;String, Long&gt; Experts() {\r\n        return this.expertises;\r\n    }\r\n\r\n    @Bean(name = &quot;Languages&quot;)\r\n    public HashMap&lt;String, Long&gt; Languages() {\r\n\t    return this.languages;\r\n    }\r\n}\r\n```\r\n\r\n#### Service Layer Class\r\n```java\r\npublic class IExpertizeImpl implements IExpertize {\r\n\r\n\t@Autowired\r\n    @Resource(name=&quot;Experts&quot;)\r\n\tprivate HashMap&lt;String, Long&gt; Experts;\r\n}\r\n```\r\n\r\n#### Issue\r\n```\r\nUnsatisfied dependency expressed through field &#39;expertiseService&#39;: Error creating bean with name &#39;IExpertizeImpl&#39;: Unsatisfied dependency expressed through field &#39;Experts&#39;: No qualifying bean of type &#39;java.util.HashMap&lt;java.lang.String, java.lang.Long&gt;&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n```\r\n\r\nI have Created two maps in the Main class Marked with `@Bean` and autowiring them in the respective Service classes. But its not working !!\r\n\r\nThanks in advance","title":"Error Creating bean , Injection of resources failed","body":"<h4>MAIN CLASS</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class HealthcareMsDoctorsApplication {\n    private HashMap&lt;String, Long&gt; expertises;\n    private HashMap&lt;String, Long&gt; languages;\n    public static void main(String[] args) {\n        SpringApplication.run(HealthcareMsDoctorsApplication.class, args);\n    }\n    \n    @Bean(name = &quot;Experts&quot;)\n    public HashMap&lt;String, Long&gt; Experts() {\n        return this.expertises;\n    }\n\n    @Bean(name = &quot;Languages&quot;)\n    public HashMap&lt;String, Long&gt; Languages() {\n        return this.languages;\n    }\n}\n</code></pre>\n<h4>Service Layer Class</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class IExpertizeImpl implements IExpertize {\n\n    @Autowired\n    @Resource(name=&quot;Experts&quot;)\n    private HashMap&lt;String, Long&gt; Experts;\n}\n</code></pre>\n<h4>Issue</h4>\n<pre><code>Unsatisfied dependency expressed through field 'expertiseService': Error creating bean with name 'IExpertizeImpl': Unsatisfied dependency expressed through field 'Experts': No qualifying bean of type 'java.util.HashMap&lt;java.lang.String, java.lang.Long&gt;' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>I have Created two maps in the Main class Marked with <code>@Bean</code> and autowiring them in the respective Service classes. But its not working !!</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","apache-beam","snappy"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1677164996,"post_id":75541923,"comment_id":133287374,"body_markdown":"For this kind of error, you need to provide your dependency configuration(pom.xml / build.gradle).","body":"For this kind of error, you need to provide your dependency configuration(pom.xml / build.gradle)."},{"owner":{"account_id":20734814,"reputation":31,"user_id":15225884,"display_name":"neha"},"score":0,"creation_date":1677247657,"post_id":75541923,"comment_id":133305549,"body_markdown":"Hi Samabcde, the dependency is already added in the pom.xml.","body":"Hi Samabcde, the dependency is already added in the pom.xml."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1677247858,"post_id":75541923,"comment_id":133305615,"body_markdown":"I mean you edit your post to include dependencies section of your pom.xml,\nbecause your libs may not be compatible to each other.","body":"I mean you edit your post to include dependencies section of your pom.xml, because your libs may not be compatible to each other."}],"answers":[{"comments":[{"owner":{"account_id":20734814,"reputation":31,"user_id":15225884,"display_name":"neha"},"score":0,"creation_date":1677247901,"post_id":75545872,"comment_id":133305630,"body_markdown":"Hi Bruno,  Beam version is 2.38.0 and it also uses snappy 1.1.8.4. But still I am getting the same error. Could there be any other reason?","body":"Hi Bruno,  Beam version is 2.38.0 and it also uses snappy 1.1.8.4. But still I am getting the same error. Could there be any other reason?"}],"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677161098,"creation_date":1677161098,"answer_id":75545872,"question_id":75541923,"body_markdown":"Which version of Beam you are using?\r\n\r\nIf you check Beam 2.45.0 [here](https://github.com/apache/beam/blob/release-2.45.0/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy#L731), it uses Snappy 1.1.8.4. \r\n\r\nLikely that if you&#39;re bringing Snappy 1.1.9.0 and missing that method, they haven&#39;t made it backwards compatible.","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;int org.xerial.snappy.SnappyNative.maxCompressedLength(int)&#39;","body":"<p>Which version of Beam you are using?</p>\n<p>If you check Beam 2.45.0 <a href=\"https://github.com/apache/beam/blob/release-2.45.0/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy#L731\" rel=\"nofollow noreferrer\">here</a>, it uses Snappy 1.1.8.4.</p>\n<p>Likely that if you're bringing Snappy 1.1.9.0 and missing that method, they haven't made it backwards compatible.</p>\n"}],"owner":{"account_id":20734814,"reputation":31,"user_id":15225884,"display_name":"neha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677161098,"creation_date":1677138686,"question_id":75541923,"body_markdown":"When I am trying to run my application I am getting below error:-\r\n    \r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;int org.xerial.snappy.SnappyNative.maxCompressedLength(int)&#39;\r\n        at org.xerial.snappy.SnappyNative.maxCompressedLength(Native Method)\r\n        at org.xerial.snappy.Snappy.maxCompressedLength(Snappy.java:381)\r\n        at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:99)\r\n        at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:91)\r\n        at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:81)\r\n        at org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:54)\r\n        at org.apache.beam.sdk.util.SerializableUtils.clone(SerializableUtils.java:117)\r\n    \r\n    I am using snappy-java-1.1.9.0 jar.\r\n    \r\n    Could anyone please suggest how to fix it?\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;int org.xerial.snappy.SnappyNative.maxCompressedLength(int)&#39;","body":"<p>When I am trying to run my application I am getting below error:-</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: 'int org.xerial.snappy.SnappyNative.maxCompressedLength(int)'\n    at org.xerial.snappy.SnappyNative.maxCompressedLength(Native Method)\n    at org.xerial.snappy.Snappy.maxCompressedLength(Snappy.java:381)\n    at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:99)\n    at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:91)\n    at org.xerial.snappy.SnappyOutputStream.&lt;init&gt;(SnappyOutputStream.java:81)\n    at org.apache.beam.sdk.util.SerializableUtils.serializeToByteArray(SerializableUtils.java:54)\n    at org.apache.beam.sdk.util.SerializableUtils.clone(SerializableUtils.java:117)\n\nI am using snappy-java-1.1.9.0 jar.\n\nCould anyone please suggest how to fix it?\n</code></pre>\n"},{"tags":["java","maven","module","maven-3"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1482938010,"post_id":41364697,"comment_id":69930938,"body_markdown":"Should `-Dversion={1.0}` have been `-Dversion=1.0`?","body":"Should <code>-Dversion={1.0}</code> have been <code>-Dversion=1.0</code>?"},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1482939538,"post_id":41364697,"comment_id":69931761,"body_markdown":"didn&#39;t resolve the problem. same issue","body":"didn&#39;t resolve the problem. same issue"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1482943801,"post_id":41364697,"comment_id":69934099,"body_markdown":"does the url specified include the `jar`? did you deploy to the remote from wherr you are trying to access?","body":"does the url specified include the <code>jar</code>? did you deploy to the remote from wherr you are trying to access?"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1482943848,"post_id":41364697,"comment_id":69934120,"body_markdown":"A similar thread  - http://stackoverflow.com/questions/14013644/hosting-a-maven-repository-on-github","body":"A similar thread  - <a href=\"http://stackoverflow.com/questions/14013644/hosting-a-maven-repository-on-github\" title=\"hosting a maven repository on github\">stackoverflow.com/questions/14013644/&hellip;</a>"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1482944806,"post_id":41364697,"comment_id":69934579,"body_markdown":"Just wondering: why not do `cd /Users/me/Documents/Projects/x-datamodel/` followed by a `mvn install`? Also this looks weird: `/Users/me/Documents/Projects/x-datamodel/target/classes/x-datamodel.jar`. I would not expect the jar under `classes`, but under `target`. And finally, confirm you can open `/Users/me/Documents/Projects/x-datamodel/target/(classes/)x-datamodel.jar`","body":"Just wondering: why not do <code>cd &#47;Users&#47;me&#47;Documents&#47;Projects&#47;x-datamodel&#47;</code> followed by a <code>mvn install</code>? Also this looks weird: <code>&#47;Users&#47;me&#47;Documents&#47;Projects&#47;x-datamodel&#47;target&#47;classes&#47;x-da&zwnj;&#8203;tamodel.jar</code>. I would not expect the jar under <code>classes</code>, but under <code>target</code>. And finally, confirm you can open <code>&#47;Users&#47;me&#47;Documents&#47;Projects&#47;x-datamodel&#47;target&#47;(classes&#47;)x-&zwnj;&#8203;datamodel.jar</code>"},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1482945659,"post_id":41364697,"comment_id":69934997,"body_markdown":"@RobertScholte i decided to build the x-datamodel.jar in this folder. i can do it in a different folder like target. I don&#39;t this, that this is the problem.","body":"@RobertScholte i decided to build the x-datamodel.jar in this folder. i can do it in a different folder like target. I don&#39;t this, that this is the problem."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1482946105,"post_id":41364697,"comment_id":69935212,"body_markdown":"@emoleumassi the question was not about you having access to the repository but being able to deploy to the url and then specifying the repository in the pom.xml.","body":"@emoleumassi the question was not about you having access to the repository but being able to deploy to the url and then specifying the repository in the pom.xml."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1482946191,"post_id":41364697,"comment_id":69935250,"body_markdown":"Answer is groupId `com.x.datamodel` ensures `com/x/model/` as folder structure which is followed by `artifactId-version.jar` file name","body":"Answer is groupId <code>com.x.datamodel</code> ensures <code>com&#47;x&#47;model&#47;</code> as folder structure which is followed by <code>artifactId-version.jar</code> file name"}],"answers":[{"comments":[{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1482938530,"post_id":41364763,"comment_id":69931253,"body_markdown":"i do it. i removed all util .m2/repository/ and run mvn clean install. But same issue","body":"i do it. i removed all util .m2/repository/ and run mvn clean install. But same issue"},{"owner":{"account_id":1196398,"reputation":6672,"user_id":1168041,"accept_rate":72,"display_name":"leeyuiwah"},"score":0,"creation_date":1482939440,"post_id":41364763,"comment_id":69931723,"body_markdown":"If you have the checksum of the jar file, try comparing it with the that of your downloaded file.  Also, you can try `jar tvf` to list the contents of the jar file just as a sanity check.  Good luck!","body":"If you have the checksum of the jar file, try comparing it with the that of your downloaded file.  Also, you can try <code>jar tvf</code> to list the contents of the jar file just as a sanity check.  Good luck!"}],"tags":[],"owner":{"account_id":1196398,"reputation":6672,"user_id":1168041,"accept_rate":72,"display_name":"leeyuiwah"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482937876,"creation_date":1482937876,"answer_id":41364763,"question_id":41364697,"body_markdown":"I tend to think the file is corrupted. Try deleting it and downloading  it again. ","title":"mvn COMPILATION ERROR : error reading jar error in opening zip file","body":"<p>I tend to think the file is corrupted. Try deleting it and downloading  it again. </p>\n"},{"tags":[],"owner":{"account_id":11204140,"reputation":387,"user_id":8220268,"display_name":"Abhilash Ramteke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677160955,"creation_date":1677160955,"answer_id":75545836,"question_id":41364697,"body_markdown":"Try removing the below lines \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n\r\nWith :\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;","title":"mvn COMPILATION ERROR : error reading jar error in opening zip file","body":"<p>Try removing the below lines</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>With :</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677160955,"creation_date":1482937682,"question_id":41364697,"body_markdown":"i have a x-module with those properties:\r\n\r\nmodule-name: x-datamodel\r\n\r\nthis is a part of the pom.xml \r\n\r\n    &lt;groupId&gt;com.x.datamodel&lt;/groupId&gt;\r\n    &lt;artifactId&gt;x&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\ni have install the project in a local repository with this command line:\r\n\r\n    mvn install:install-file -Dfile=/Users/me/Documents/Projects/x-datamodel/target/classes/x-datamodel.jar -DgroupId=com.x.datamodel -DgeneratePom=true -DlocalRepositoryPath=/Users/me/Documents/Projects/me-repository  -DcreateChecksum=true -DartifactId=x -Dversion={1.0} -Dpackaging=jar\r\n\r\nand added the project in bitbucket. \r\n\r\nI try to integrate the module x in another project y.\r\n\r\nhere a part of the y&#39;s pom.xml  \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.x.datamodel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;x&lt;/artifactId&gt;\r\n        &lt;version&gt;${x.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;me-repository&lt;/id&gt;\r\n            &lt;url&gt;https://bitbucket.org/me/me-repository/src/master&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n\r\ni can import some classes of the module x in the project y, but when i build the y project i get this error:\r\n\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] error reading /Users/me/.m2/repository/com/x/datamodel/x/1.0/x-1.0.jar; error in opening zip file\r\n    [ERROR] error reading /Users/me/.m2/repository/com/x/datamodel/x/1.0/x-1.0.jar; error in opening zip file\r\n    [ERROR] /Users/me/Documents/Projects/y/src/main/java/com/y/server/serviceImpl/UserServiceImpl.java:[3,32] package com.x.datamodel.model does not exist\r\n    [ERROR] /Users/me/Documents/Projects/y/src/main/java/com/y/server/serviceImpl/UserServiceImpl.java:[18,12] cannot find symbol\r\n      symbol:   class User\r\n      location: class com.y.server.serviceImpl.UserServiceImpl\r\n    [ERROR] /Users/me/Documents/Projects/y/src/main/java/com/y/server/security/CustomUserDetailsService.java:[3,32] package com.x.datamodel.model does not exist\r\n    [INFO] 16 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 01:56 min\r\n    [INFO] Finished at: 2016-12-28T15:51:05+01:00\r\n    [INFO] Final Memory: 29M/209M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project y: Compilation failure: Compilation failure:\r\n    [ERROR] error reading /Users/me/.m2/repository/com/x/datamodel/x/1.0/x-1.0.jar; error in opening zip file\r\n    [ERROR] error reading /Users/me/.m2/repository/com/x/datamodel/x/1.0/x-1.0.jar; error in opening zip file\r\n    [ERROR] /Users/me/Documents/Projects/y/src/main/java/com/y/server/serviceImpl/UserServiceImpl.java:[3,32] package com.x.datamodel.model does not exist\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\nafter installing the repository i have the library into this path:\r\n\r\n    .m2/repository/com/x/datamodel/x/1.0/x-1.0.jar\r\n\r\nwhy not:\r\n\r\n    .m2/repository/com/x-datamodel/x/1.0/x-1.0.jar\r\n\r\n ","title":"mvn COMPILATION ERROR : error reading jar error in opening zip file","body":"<p>i have a x-module with those properties:</p>\n\n<p>module-name: x-datamodel</p>\n\n<p>this is a part of the pom.xml </p>\n\n<pre><code>&lt;groupId&gt;com.x.datamodel&lt;/groupId&gt;\n&lt;artifactId&gt;x&lt;/artifactId&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n\n<p>i have install the project in a local repository with this command line:</p>\n\n<pre><code>mvn install:install-file -Dfile=/Users/me/Documents/Projects/x-datamodel/target/classes/x-datamodel.jar -DgroupId=com.x.datamodel -DgeneratePom=true -DlocalRepositoryPath=/Users/me/Documents/Projects/me-repository  -DcreateChecksum=true -DartifactId=x -Dversion={1.0} -Dpackaging=jar\n</code></pre>\n\n<p>and added the project in bitbucket. </p>\n\n<p>I try to integrate the module x in another project y.</p>\n\n<p>here a part of the y's pom.xml  </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.x.datamodel&lt;/groupId&gt;\n    &lt;artifactId&gt;x&lt;/artifactId&gt;\n    &lt;version&gt;${x.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;me-repository&lt;/id&gt;\n        &lt;url&gt;https://bitbucket.org/me/me-repository/src/master&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p>i can import some classes of the module x in the project y, but when i build the y project i get this error:</p>\n\n<pre><code>[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] error reading /Users/me/.m2/repository/com/x/datamodel/x/1.0/x-1.0.jar; error in opening zip file\n[ERROR] error reading /Users/me/.m2/repository/com/x/datamodel/x/1.0/x-1.0.jar; error in opening zip file\n[ERROR] /Users/me/Documents/Projects/y/src/main/java/com/y/server/serviceImpl/UserServiceImpl.java:[3,32] package com.x.datamodel.model does not exist\n[ERROR] /Users/me/Documents/Projects/y/src/main/java/com/y/server/serviceImpl/UserServiceImpl.java:[18,12] cannot find symbol\n  symbol:   class User\n  location: class com.y.server.serviceImpl.UserServiceImpl\n[ERROR] /Users/me/Documents/Projects/y/src/main/java/com/y/server/security/CustomUserDetailsService.java:[3,32] package com.x.datamodel.model does not exist\n[INFO] 16 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 01:56 min\n[INFO] Finished at: 2016-12-28T15:51:05+01:00\n[INFO] Final Memory: 29M/209M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project y: Compilation failure: Compilation failure:\n[ERROR] error reading /Users/me/.m2/repository/com/x/datamodel/x/1.0/x-1.0.jar; error in opening zip file\n[ERROR] error reading /Users/me/.m2/repository/com/x/datamodel/x/1.0/x-1.0.jar; error in opening zip file\n[ERROR] /Users/me/Documents/Projects/y/src/main/java/com/y/server/serviceImpl/UserServiceImpl.java:[3,32] package com.x.datamodel.model does not exist\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>after installing the repository i have the library into this path:</p>\n\n<pre><code>.m2/repository/com/x/datamodel/x/1.0/x-1.0.jar\n</code></pre>\n\n<p>why not:</p>\n\n<pre><code>.m2/repository/com/x-datamodel/x/1.0/x-1.0.jar\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677112276,"post_id":75538860,"comment_id":133275793,"body_markdown":"By default, Kafka uses `auto.offset.reset=latest`, so will not see existing data","body":"By default, Kafka uses <code>auto.offset.reset=latest</code>, so will not see existing data"},{"owner":{"account_id":27855117,"reputation":3,"user_id":21268792,"display_name":"ante_meridiem"},"score":0,"creation_date":1677113339,"post_id":75538860,"comment_id":133275947,"body_markdown":"Sorry, I may have been unclear above, I&#39;ll edit. That is what I want I&#39;m sure. I am trying to capture if there is an Idle event primarily after having received and processed a record from the consumer an initial time.","body":"Sorry, I may have been unclear above, I&#39;ll edit. That is what I want I&#39;m sure. I am trying to capture if there is an Idle event primarily after having received and processed a record from the consumer an initial time."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1677160498,"post_id":75538860,"comment_id":133285691,"body_markdown":"`new DefaultKafkaConsumerFactory` \n\n`new ConcurrentMessageListenerContainer`\n\nInfrastructure beans (such as the consumer and container factories) must be declared as `@Bean`s so that Spring can wire in all the plumbing necessary (such as the event publisher) for everything to work properly.","body":"<code>new DefaultKafkaConsumerFactory</code>   <code>new ConcurrentMessageListenerContainer</code>  Infrastructure beans (such as the consumer and container factories) must be declared as <code>@Bean</code>s so that Spring can wire in all the plumbing necessary (such as the event publisher) for everything to work properly."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677160492,"creation_date":1677160492,"answer_id":75545749,"question_id":75538860,"body_markdown":"`new DefaultKafkaConsumerFactory` \r\n\r\n`new ConcurrentMessageListenerContainer`\r\n\r\nInfrastructure beans (such as the consumer and container/container factory) must be declared as `@Bean`s so that Spring can wire in all the plumbing necessary (such as the event publisher) for everything to work properly.","title":"Spring Kafka Event Listener not seeing any Application Events","body":"<p><code>new DefaultKafkaConsumerFactory</code></p>\n<p><code>new ConcurrentMessageListenerContainer</code></p>\n<p>Infrastructure beans (such as the consumer and container/container factory) must be declared as <code>@Bean</code>s so that Spring can wire in all the plumbing necessary (such as the event publisher) for everything to work properly.</p>\n"}],"owner":{"account_id":27855117,"reputation":3,"user_id":21268792,"display_name":"ante_meridiem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75545749,"answer_count":1,"score":0,"last_activity_date":1677160492,"creation_date":1677105555,"question_id":75538860,"body_markdown":"I am trying to implement an event handle where some processing is done on a ListenerContainerIdleEvent. However, the container either never seems to publish the event or it&#39;s never captured. I am only interested in idle events after there has been an initial record consumed. I am able to consumer messages on the topic perfectly fine.\r\nI have also referenced this https://stackoverflow.com/questions/63957429/use-listener-container-for-heartbeats-in-spring-kafka\r\n I have the following:\r\n\r\nUsing Spring-kafka 2.8.5\r\n```\r\npublic AbstractConsumer(){\r\n      \r\n     consumerFactory = new DefaultKafkaConsumerFactory(consumerConfigMap, new ErrorHandling Deserializer&lt;&gt;(keyDeserializer), new ErrorHandlingDeserializer&lt;valueDeserializer&gt;);\r\n\r\npublic void subscribe(String topic, MessageListener&lt;K,V&gt; listener){\r\n    ContainerProperties properties = new ContainerProperties(topic);\r\n    properties.setMessageListener(listener);\r\n    properties.setGroupId(configuration.getGroupId());\r\n    properties.setIdleEventInterval(3000L);\r\n    ConcurrentMessageListenerContainer&lt;K,V&gt; container = new ConcurrentMessageListenerContainer&lt;K,V&gt;(consumerFactorty, properties);\r\n    container.start()\r\n}\r\n```\r\n\r\n\r\nAnd the MessageListener:\r\n\r\n```\r\n@Component\r\npublic class StatusConsumer extends AbstractConsumer implements MessageListener&lt;K,V&gt;{\r\n\r\npublic void setSubscribe(){\r\n     subscribe(topic, this);\r\n\r\n@Override\r\npublic void onMessage(ConsumerRecord){\r\n    do stuff..\r\n}\r\n\r\n@EventListener\r\npublic void listen(ListenerContainerIdleEvent event){\r\n      Log something..\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried implementing ApplicationListener instead of using the annotation without success. I have tried listening for other events to see if something else would get captured. Looking at the debug logs it just continually prints `KafkaMessageListenerContaiainer:Received 0 records Commit List : {}` for all scenarios. The setup seems to be correct looking at the documentaion and other examples but I am unsure what I am missing. Any help would be appreciated.","title":"Spring Kafka Event Listener not seeing any Application Events","body":"<p>I am trying to implement an event handle where some processing is done on a ListenerContainerIdleEvent. However, the container either never seems to publish the event or it's never captured. I am only interested in idle events after there has been an initial record consumed. I am able to consumer messages on the topic perfectly fine.\nI have also referenced this <a href=\"https://stackoverflow.com/questions/63957429/use-listener-container-for-heartbeats-in-spring-kafka\">Use listener container for heartbeats in spring kafka</a>\nI have the following:</p>\n<p>Using Spring-kafka 2.8.5</p>\n<pre><code>public AbstractConsumer(){\n      \n     consumerFactory = new DefaultKafkaConsumerFactory(consumerConfigMap, new ErrorHandling Deserializer&lt;&gt;(keyDeserializer), new ErrorHandlingDeserializer&lt;valueDeserializer&gt;);\n\npublic void subscribe(String topic, MessageListener&lt;K,V&gt; listener){\n    ContainerProperties properties = new ContainerProperties(topic);\n    properties.setMessageListener(listener);\n    properties.setGroupId(configuration.getGroupId());\n    properties.setIdleEventInterval(3000L);\n    ConcurrentMessageListenerContainer&lt;K,V&gt; container = new ConcurrentMessageListenerContainer&lt;K,V&gt;(consumerFactorty, properties);\n    container.start()\n}\n</code></pre>\n<p>And the MessageListener:</p>\n<pre><code>@Component\npublic class StatusConsumer extends AbstractConsumer implements MessageListener&lt;K,V&gt;{\n\npublic void setSubscribe(){\n     subscribe(topic, this);\n\n@Override\npublic void onMessage(ConsumerRecord){\n    do stuff..\n}\n\n@EventListener\npublic void listen(ListenerContainerIdleEvent event){\n      Log something..\n}\n</code></pre>\n<p>I've tried implementing ApplicationListener instead of using the annotation without success. I have tried listening for other events to see if something else would get captured. Looking at the debug logs it just continually prints <code>KafkaMessageListenerContaiainer:Received 0 records Commit List : {}</code> for all scenarios. The setup seems to be correct looking at the documentaion and other examples but I am unsure what I am missing. Any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","spring-boot-test"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1677111345,"post_id":75538593,"comment_id":133275624,"body_markdown":"Have you define `HandlerExceptionResolver` as a bean somewhere in your code?","body":"Have you define <code>HandlerExceptionResolver</code> as a bean somewhere in your code?"},{"owner":{"account_id":25227059,"reputation":45,"user_id":19062771,"display_name":"amongosus"},"score":0,"creation_date":1677142501,"post_id":75538593,"comment_id":133280412,"body_markdown":"@HarryCoder nope. Only reference is there, inside the filter.","body":"@HarryCoder nope. Only reference is there, inside the filter."}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677160220,"creation_date":1677160220,"answer_id":75545707,"question_id":75538593,"body_markdown":"`HandlerExceptionResolver` is an interface and here you have not provided any implementation as a bean to help `Spring` manage it for you. You can&#39;t instantiate an interface at first.\r\n\r\nYou have 3 options:\r\n\r\n 1. Use an implementation of `HandlerExceptionResolver` and configure it as a bean in a configuration file:\r\n\r\n        @Bean\r\n        public HandlerExceptionResolver createDefaultHandlerExceptionResolver() {\r\n            return new DefaultHandlerExceptionResolver();\r\n        }\r\n\r\n 2. Define your own implementation, by adding an annotation like `@Component` to tell `Spring` that it is a bean to be included into the Context:\r\n\r\n        @Component\r\n        class RestResponseStatusExceptionResolver implements HandlerExceptionResolver {\r\n            ...\r\n        }\r\n\r\n 3. You can use a `@ControllerAdvice` or a `@RestControllerAdvice`\r\n\r\nTake a look on those links for more details: [here][1] and [here][2]\r\n\r\n\r\n  [1]: https://farzinpashaeee.medium.com/spring-boot-exception-handling-handlerexceptionresolver-11c75ffdf5d6\r\n  [2]: https://www.baeldung.com/exception-handling-for-rest-with-spring","title":"No qualifying bean of type HandlerExceptionResolver available error in SpringBoot Test","body":"<p><code>HandlerExceptionResolver</code> is an interface and here you have not provided any implementation as a bean to help <code>Spring</code> manage it for you. You can't instantiate an interface at first.</p>\n<p>You have 3 options:</p>\n<ol>\n<li><p>Use an implementation of <code>HandlerExceptionResolver</code> and configure it as a bean in a configuration file:</p>\n<pre><code>@Bean\npublic HandlerExceptionResolver createDefaultHandlerExceptionResolver() {\n    return new DefaultHandlerExceptionResolver();\n}\n</code></pre>\n</li>\n<li><p>Define your own implementation, by adding an annotation like <code>@Component</code> to tell <code>Spring</code> that it is a bean to be included into the Context:</p>\n<pre><code>@Component\nclass RestResponseStatusExceptionResolver implements HandlerExceptionResolver {\n    ...\n}\n</code></pre>\n</li>\n<li><p>You can use a <code>@ControllerAdvice</code> or a <code>@RestControllerAdvice</code></p>\n</li>\n</ol>\n<p>Take a look on those links for more details: <a href=\"https://farzinpashaeee.medium.com/spring-boot-exception-handling-handlerexceptionresolver-11c75ffdf5d6\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":25227059,"reputation":45,"user_id":19062771,"display_name":"amongosus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677160220,"creation_date":1677103409,"question_id":75538593,"body_markdown":"I&#39;ve been trying to create a test enviroment for my project. As newbie, I&#39;ve found out that - in testing - debugging is a pretty convoluted process, especially if you have a moderately large project to begin with.\r\n\r\nInside my test folder I have a resource folder with an import.sql and an application-test.yaml:\r\n\r\n    spring:\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: create\r\n        show-sql: true\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.H2Dialect\r\n     \r\n      datasource:\r\n        driver-class-name: org.h2.Driver\r\n        url: jdbc:h2:mem:nameOfTheDB;Mode=Oracle\r\n        username: sa\r\n        password:\r\n      main:\r\n        allow-bean-definition-overriding: true\r\n        allow-circular-references: true\r\n      sql:\r\n        init:\r\n          platform: h2\r\n      h2:\r\n        console:\r\n          enabled: true\r\n    server:\r\n      port: 8090\r\n\r\nI have a simple ApplicationTest where I just load the context:\r\n\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    class ApplicationTest {\r\n    \r\n        @Test\r\n        void contextLoads() {\r\n        }\r\n    }\r\n\r\n\r\nand a RepositoryTest class to test the persistence layer.\r\n\r\n    @DataJpaTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class RepositoryTest {\r\n    \r\n   \r\n       @Autowired\r\n        private UserRepository underTest;\r\n        @AfterEach\r\n        void tearDown() {\r\n            underTest.deleteAll();\r\n        }\r\n    \r\n        @Test\r\n        void shoudBePresent() {\r\n            // given\r\n            User user = new User();\r\n            user.setId(10L);\r\n            user.setFirstName(&quot;first&quot;);\r\n            user.setLastName(&quot;last&quot;);;\r\n            underTest.save(user);\r\n    \r\n            // when\r\n            Optional&lt;User&gt; expected = underTest.findById(10L);\r\n    \r\n            // then\r\n            assertThat(expected.isPresent()).isTrue();\r\n        }\r\n    }\r\n\r\nApplicationTest&#39;s tests run smoothly but once I try to run RepositoryTest I get this error:\r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.web.servlet.HandlerExceptionResolver&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Qualifier(&quot;handlerExceptionResolver&quot;)}\r\n\r\nWhat does it mean? \r\nI have this resolver inside a requestFilter in my config folder:\r\n\r\n    @Component\r\n    public class RequestFilter extends OncePerRequestFilter {\r\n    \r\n        private final UserService userService;\r\n        private final HandlerExceptionResolver resolver;\r\n    \r\n    \r\n    \r\n    \r\n        public RequestFilter(UserService userService,\r\n                                @Qualifier(&quot;handlerExceptionResolver&quot;) HandlerExceptionResolver resolver) {\r\n            this.userService = userService;\r\n            this.resolver = resolver;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            try {\r\n                [code called every request...]\r\n            }\r\n            catch (Exception e) {\r\n                resolver.resolveException(request, response, null, e);\r\n            }\r\n        }\r\n    }\r\nI really can&#39;t understand why this block of code affects my persistance layer, doesn&#39;t doFilterInternal gets called every time there is a request to a given endpoint?\r\nI can&#39;t really figure out why it gets called inside my unit test. \r\n\r\nI understand I might be missing crutial infos but bear in mind I&#39;m pretty new to testing with SpringBoot (I&#39;ve been trying to solve this particular issue for about 2-3 days) so any educational resource about the whole SpringBoot testing architecture is much appreciated. I&#39;d like to learn how to test the proper way, right now this feels like black magic.","title":"No qualifying bean of type HandlerExceptionResolver available error in SpringBoot Test","body":"<p>I've been trying to create a test enviroment for my project. As newbie, I've found out that - in testing - debugging is a pretty convoluted process, especially if you have a moderately large project to begin with.</p>\n<p>Inside my test folder I have a resource folder with an import.sql and an application-test.yaml:</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: create\n    show-sql: true\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.H2Dialect\n \n  datasource:\n    driver-class-name: org.h2.Driver\n    url: jdbc:h2:mem:nameOfTheDB;Mode=Oracle\n    username: sa\n    password:\n  main:\n    allow-bean-definition-overriding: true\n    allow-circular-references: true\n  sql:\n    init:\n      platform: h2\n  h2:\n    console:\n      enabled: true\nserver:\n  port: 8090\n</code></pre>\n<p>I have a simple ApplicationTest where I just load the context:</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\nclass ApplicationTest {\n\n    @Test\n    void contextLoads() {\n    }\n}\n</code></pre>\n<p>and a RepositoryTest class to test the persistence layer.</p>\n<pre><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\npublic class RepositoryTest {\n\n\n   @Autowired\n    private UserRepository underTest;\n    @AfterEach\n    void tearDown() {\n        underTest.deleteAll();\n    }\n\n    @Test\n    void shoudBePresent() {\n        // given\n        User user = new User();\n        user.setId(10L);\n        user.setFirstName(&quot;first&quot;);\n        user.setLastName(&quot;last&quot;);;\n        underTest.save(user);\n\n        // when\n        Optional&lt;User&gt; expected = underTest.findById(10L);\n\n        // then\n        assertThat(expected.isPresent()).isTrue();\n    }\n}\n</code></pre>\n<p>ApplicationTest's tests run smoothly but once I try to run RepositoryTest I get this error:</p>\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.servlet.HandlerExceptionResolver' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Qualifier(&quot;handlerExceptionResolver&quot;)}\n</code></pre>\n<p>What does it mean?\nI have this resolver inside a requestFilter in my config folder:</p>\n<pre><code>@Component\npublic class RequestFilter extends OncePerRequestFilter {\n\n    private final UserService userService;\n    private final HandlerExceptionResolver resolver;\n\n\n\n\n    public RequestFilter(UserService userService,\n                            @Qualifier(&quot;handlerExceptionResolver&quot;) HandlerExceptionResolver resolver) {\n        this.userService = userService;\n        this.resolver = resolver;\n    }\n\n\n    @Override\n    public void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        try {\n            [code called every request...]\n        }\n        catch (Exception e) {\n            resolver.resolveException(request, response, null, e);\n        }\n    }\n}\n</code></pre>\n<p>I really can't understand why this block of code affects my persistance layer, doesn't doFilterInternal gets called every time there is a request to a given endpoint?\nI can't really figure out why it gets called inside my unit test.</p>\n<p>I understand I might be missing crutial infos but bear in mind I'm pretty new to testing with SpringBoot (I've been trying to solve this particular issue for about 2-3 days) so any educational resource about the whole SpringBoot testing architecture is much appreciated. I'd like to learn how to test the proper way, right now this feels like black magic.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","vaadin","vaadin23"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677160182,"creation_date":1677160182,"answer_id":75545702,"question_id":75545552,"body_markdown":"Add the `&lt;version&gt;` tag for **selenium-java** , you will be good to go:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;4.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to solve &quot;java.lang.NoSuchFieldError: Companion&quot;","body":"<p>Add the <code>&lt;version&gt;</code> tag for <strong>selenium-java</strong> , you will be good to go:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75545702,"answer_count":1,"score":0,"last_activity_date":1677160182,"creation_date":1677159216,"question_id":75545552,"body_markdown":"I&#39;m following this [guide][1] to test Vaadin app using Selenium.\r\n\r\nThe following line:\r\n\r\n```java \r\nvar driver = new ChromeDriver();\r\n```\r\nproduces the following error:\r\n&gt; java.lang.NoSuchFieldError: Companion\r\n\r\n\r\nIn my `pom.xml` I have \r\n\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/testing/selenium","title":"How to solve &quot;java.lang.NoSuchFieldError: Companion&quot;","body":"<p>I'm following this <a href=\"https://vaadin.com/docs/latest/testing/selenium\" rel=\"nofollow noreferrer\">guide</a> to test Vaadin app using Selenium.</p>\n<p>The following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var driver = new ChromeDriver();\n</code></pre>\n<p>produces the following error:</p>\n<blockquote>\n<p>java.lang.NoSuchFieldError: Companion</p>\n</blockquote>\n<p>In my <code>pom.xml</code> I have</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","jooq","jooq-codegen-maven","jooq-codegen","jooq-sbt-plugin"],"answers":[{"comments":[{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1677211154,"post_id":75545484,"comment_id":133297350,"body_markdown":"When i change, it did not work for me. Same list is coming.","body":"When i change, it did not work for me. Same list is coming."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1677228697,"post_id":75545484,"comment_id":133300209,"body_markdown":"@fatherazrael: What do you mean by &quot;same list.&quot;","body":"@fatherazrael: What do you mean by &quot;same list.&quot;"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1677232395,"post_id":75545484,"comment_id":133301239,"body_markdown":"I need to pay for oracle use?","body":"I need to pay for oracle use?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1677239127,"post_id":75545484,"comment_id":133303065,"body_markdown":"@fatherazrael: Yes, as I said, the jOOQ Professional and Enterprise Editions contain the driver logic for `SQLDialect.ORACLE`","body":"@fatherazrael: Yes, as I said, the jOOQ Professional and Enterprise Editions contain the driver logic for <code>SQLDialect.ORACLE</code>"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677158786,"creation_date":1677158786,"answer_id":75545484,"question_id":75544998,"body_markdown":"The [`SQLDialect.ORACLE`][1] is available in the jOOQ Professional Edition and jOOQ Enterprise Edition, as listed here:\r\nhttps://www.jooq.org/download/#databases\r\n\r\nIn order to use those editions, you have to switch your Maven `groupId` from:\r\n\r\n```xml\r\n&lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n```\r\n\r\nTo this one, for example:\r\n\r\n```xml\r\n&lt;groupId&gt;org.jooq.pro&lt;/groupId&gt;\r\n```\r\n\r\nAvailable groupIds for the commercial editions include the following, [as documented in the various Maven examples in the manual][2]:\r\n\r\n```xml\r\n&lt;!-- Use org.jooq                for the Open Source Edition\r\n         org.jooq.pro            for commercial editions with Java 17 support, \r\n         org.jooq.pro-java-11    for commercial editions with Java 11 support,\r\n         org.jooq.pro-java-8     for commercial editions with Java 8 support,\r\n         org.jooq.trial          for the free trial edition with Java 17 support, \r\n         org.jooq.trial-java-11  for the free trial edition with Java 11 support, \r\n         org.jooq.trial-java-8   for the free trial edition with Java 8 support \r\n         \r\n     Note: Only the Open Source Edition is hosted on Maven Central. \r\n           Import the others manually from your distribution --&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/SQLDialect.html#ORACLE\r\n  [2]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-maven/","title":"How to add Oracle dialect to DSLContext","body":"<p>The <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/SQLDialect.html#ORACLE\" rel=\"nofollow noreferrer\"><code>SQLDialect.ORACLE</code></a> is available in the jOOQ Professional Edition and jOOQ Enterprise Edition, as listed here:\n<a href=\"https://www.jooq.org/download/#databases\" rel=\"nofollow noreferrer\">https://www.jooq.org/download/#databases</a></p>\n<p>In order to use those editions, you have to switch your Maven <code>groupId</code> from:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;org.jooq&lt;/groupId&gt;\n</code></pre>\n<p>To this one, for example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;org.jooq.pro&lt;/groupId&gt;\n</code></pre>\n<p>Available groupIds for the commercial editions include the following, <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-maven/\" rel=\"nofollow noreferrer\">as documented in the various Maven examples in the manual</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Use org.jooq                for the Open Source Edition\n         org.jooq.pro            for commercial editions with Java 17 support, \n         org.jooq.pro-java-11    for commercial editions with Java 11 support,\n         org.jooq.pro-java-8     for commercial editions with Java 8 support,\n         org.jooq.trial          for the free trial edition with Java 17 support, \n         org.jooq.trial-java-11  for the free trial edition with Java 11 support, \n         org.jooq.trial-java-8   for the free trial edition with Java 8 support \n         \n     Note: Only the Open Source Edition is hosted on Maven Central. \n           Import the others manually from your distribution --&gt;\n</code></pre>\n"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677159948,"creation_date":1677156151,"question_id":75544998,"body_markdown":"I&#39;m not able to get SQLDialect.Oracle in the following version of jOOQ:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jooq&lt;/artifactId&gt;\r\n    &lt;version&gt;3.17.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jooq-meta-extensions&lt;/artifactId&gt;\r\n    &lt;version&gt;3.17.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\nConnection connection = entityManager.unwrap(Connection.class);\r\nDSLContext context = DSL.using(connection, SQLDialect.Oracle);\r\n```\r\n\r\nHow can I add the Oracle dialect into my code? (Oracle is not found at all, but documentation insists that various version of Oracle are present.\r\n\r\nIf it is not available in Maven versions, then is there a way to use it in above version?","title":"How to add Oracle dialect to DSLContext","body":"<p>I'm not able to get SQLDialect.Oracle in the following version of jOOQ:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n    &lt;artifactId&gt;jooq&lt;/artifactId&gt;\n    &lt;version&gt;3.17.8&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n    &lt;artifactId&gt;jooq-meta-extensions&lt;/artifactId&gt;\n    &lt;version&gt;3.17.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Connection connection = entityManager.unwrap(Connection.class);\nDSLContext context = DSL.using(connection, SQLDialect.Oracle);\n</code></pre>\n<p>How can I add the Oracle dialect into my code? (Oracle is not found at all, but documentation insists that various version of Oracle are present.</p>\n<p>If it is not available in Maven versions, then is there a way to use it in above version?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1677159052,"post_id":75545492,"comment_id":133285223,"body_markdown":"change file name from &quot;test.txt&quot; to &quot;src/main/resources/test.txt&quot; and check, I assumed your file is at &quot;src/main/resources&quot;","body":"change file name from &quot;test.txt&quot; to &quot;src/main/resources/test.txt&quot; and check, I assumed your file is at &quot;src/main/resources&quot;"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1677159839,"post_id":75545492,"comment_id":133285458,"body_markdown":"@dkb - nope, if the resource was at src/main/resources/test.txt, above code would be perfectly valid. Never refer to `src/` at runtime in a mavenized project.","body":"@dkb - nope, if the resource was at src/main/resources/test.txt, above code would be perfectly valid. Never refer to <code>src&#47;</code> at runtime in a mavenized project."}],"answers":[{"tags":[],"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677159889,"creation_date":1677159889,"answer_id":75545667,"question_id":75545492,"body_markdown":"Because as soon as you package the application as a jar, the file you are trying to load becomes a file stored inside a zip file rather than a file that exists somewhere on your filesystem. That is a fundamental difference in the runtime environment and one of the classic gotchas when it comes to working with files stored on the classpath.\r\n\r\nUse [getClass().getClassLoader().getResourceAsStream()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)) instead, that always works as long as the file is stored in the same module where the class is stored (in the same jar, in this case). \r\n\r\nScanner has a [constructor](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.io.InputStream)) which accepts an InputStream. So something like:\r\n\r\n    try(InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;test.txt&quot;)) {\r\n\r\n        Scanner scanner = new Scanner(is);\r\n        // do things with stuff here\r\n    }\r\n\r\n","title":"Maven project reads file in IDE but not from JAR","body":"<p>Because as soon as you package the application as a jar, the file you are trying to load becomes a file stored inside a zip file rather than a file that exists somewhere on your filesystem. That is a fundamental difference in the runtime environment and one of the classic gotchas when it comes to working with files stored on the classpath.</p>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">getClass().getClassLoader().getResourceAsStream()</a> instead, that always works as long as the file is stored in the same module where the class is stored (in the same jar, in this case).</p>\n<p>Scanner has a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.io.InputStream)\" rel=\"nofollow noreferrer\">constructor</a> which accepts an InputStream. So something like:</p>\n<pre><code>try(InputStream is = getClass().getClassLoader().getResourceAsStream(&quot;test.txt&quot;)) {\n\n    Scanner scanner = new Scanner(is);\n    // do things with stuff here\n}\n</code></pre>\n"}],"owner":{"account_id":27860530,"reputation":3,"user_id":21273180,"display_name":"Valloyd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75545667,"answer_count":1,"score":0,"last_activity_date":1677159889,"creation_date":1677158822,"question_id":75545492,"body_markdown":"I write a method to use a Scanner object to read from a file (the file name is &quot;test.txt&quot; and it is in the resources folder) and return a String.\r\nWhen I run the project in the IDE it works fine and the String is returned successfully, but when I compile it to a JAR and run it from the terminal it returns null instead, as if it&#39;s not reading the file properly.\r\nWhat should happen is that it should return the string.\r\n\r\nI&#39;ve only encountered this issue on Maven projects.\r\nHave not tested it without Maven, but it looks like the same issue occurs whether I compile with Maven or IntelliJ\r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Objects;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Main mainTest = new Main();\r\n        System.out.println(mainTest.test());\r\n    }\r\n\r\n    private String test() {\r\n        File file = new File(Objects.requireNonNull(getClass().getClassLoader().getResource(&quot;test.txt&quot;)).getPath());\r\n\r\n        try (\r\n                Scanner scanner = new Scanner(file)\r\n        ) {\r\n            String line = &quot;&quot;;\r\n\r\n            while (scanner.hasNextLine()) {\r\n                line = scanner.nextLine();\r\n            }\r\n            return line;\r\n        } catch (FileNotFoundException e) {\r\n            e.getMessage();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have no clue why this is happening.","title":"Maven project reads file in IDE but not from JAR","body":"<p>I write a method to use a Scanner object to read from a file (the file name is &quot;test.txt&quot; and it is in the resources folder) and return a String.\nWhen I run the project in the IDE it works fine and the String is returned successfully, but when I compile it to a JAR and run it from the terminal it returns null instead, as if it's not reading the file properly.\nWhat should happen is that it should return the string.</p>\n<p>I've only encountered this issue on Maven projects.\nHave not tested it without Maven, but it looks like the same issue occurs whether I compile with Maven or IntelliJ</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Objects;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Main mainTest = new Main();\n        System.out.println(mainTest.test());\n    }\n\n    private String test() {\n        File file = new File(Objects.requireNonNull(getClass().getClassLoader().getResource(&quot;test.txt&quot;)).getPath());\n\n        try (\n                Scanner scanner = new Scanner(file)\n        ) {\n            String line = &quot;&quot;;\n\n            while (scanner.hasNextLine()) {\n                line = scanner.nextLine();\n            }\n            return line;\n        } catch (FileNotFoundException e) {\n            e.getMessage();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>I have no clue why this is happening.</p>\n"},{"tags":["java","design-patterns","object-oriented-analysis"],"comments":[{"owner":{"account_id":15567931,"reputation":5,"user_id":11231156,"display_name":"Anna Setiva"},"score":0,"creation_date":1677158979,"post_id":75545440,"comment_id":133285197,"body_markdown":"why -1? Is this not a valid question for this website? Or I didn&#39;t phrase it correctly - missing something? Thanks!","body":"why -1? Is this not a valid question for this website? Or I didn&#39;t phrase it correctly - missing something? Thanks!"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1677159992,"post_id":75545440,"comment_id":133285505,"body_markdown":"I think the -1 was left because the question is too broad. Without knowing what the methods do, it&#39;s hard to answer your question. Maybe try to be more specific?","body":"I think the -1 was left because the question is too broad. Without knowing what the methods do, it&#39;s hard to answer your question. Maybe try to be more specific?"}],"answers":[{"comments":[{"owner":{"account_id":15567931,"reputation":5,"user_id":11231156,"display_name":"Anna Setiva"},"score":0,"creation_date":1677160741,"post_id":75545662,"comment_id":133285787,"body_markdown":"Thanks for the proposal, I was thinking at a way to avoid IF condtions. \nAs for the &quot;intentional effort&quot; I explained in the second part of the question my first approach and why I don&#39;t like it. So I&#39;ve done an effort, I can always add more detail to it with some code. Thanks anyway for your proposal !","body":"Thanks for the proposal, I was thinking at a way to avoid IF condtions.  As for the &quot;intentional effort&quot; I explained in the second part of the question my first approach and why I don&#39;t like it. So I&#39;ve done an effort, I can always add more detail to it with some code. Thanks anyway for your proposal !"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677173359,"post_id":75545662,"comment_id":133290229,"body_markdown":"No worries. I can&#39;t currently think of any way to avoid lots of repetition without using conditionals, but best of luck!","body":"No worries. I can&#39;t currently think of any way to avoid lots of repetition without using conditionals, but best of luck!"},{"owner":{"account_id":15567931,"reputation":5,"user_id":11231156,"display_name":"Anna Setiva"},"score":0,"creation_date":1677483364,"post_id":75545662,"comment_id":133339275,"body_markdown":"I also can&#39;t think of easy ways to avoid IFs without complexifying too much. I&#39;d just change addDataFromDraft() to getDataFromDraft and put it on a separate Draft class. Thanks again for your help!","body":"I also can&#39;t think of easy ways to avoid IFs without complexifying too much. I&#39;d just change addDataFromDraft() to getDataFromDraft and put it on a separate Draft class. Thanks again for your help!"}],"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677159860,"creation_date":1677159860,"answer_id":75545662,"question_id":75545440,"body_markdown":"While this doesn’t show any intentional effort and feels a bit like you’re asking us to do homework for you. That being said, with the example given you can just use a null check to determine if optional methods should be called, such as:\r\n\r\n    public class Example {\r\n        Draft draft;\r\n        void saveTemporaryData() {\r\n            //TODO logic\r\n            if(draft != null) addDataFromDraft();\r\n            addDataFromExternalSources();\r\n        }\r\n\r\n        void addDataFromDraft() {\r\n            //TODO logic\r\n        }\r\n\r\n        void addDataFromExternalSources() {\r\n            //TODO logic\r\n        }\r\n\r\n    }","title":"Can you advise on how to structure the problem proposed?","body":"<p>While this doesn’t show any intentional effort and feels a bit like you’re asking us to do homework for you. That being said, with the example given you can just use a null check to determine if optional methods should be called, such as:</p>\n<pre><code>public class Example {\n    Draft draft;\n    void saveTemporaryData() {\n        //TODO logic\n        if(draft != null) addDataFromDraft();\n        addDataFromExternalSources();\n    }\n\n    void addDataFromDraft() {\n        //TODO logic\n    }\n\n    void addDataFromExternalSources() {\n        //TODO logic\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15567931,"reputation":5,"user_id":11231156,"display_name":"Anna Setiva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75545662,"answer_count":1,"score":-1,"last_activity_date":1677159860,"creation_date":1677158571,"question_id":75545440,"body_markdown":"I&#39;m re-working an old procedural algorithm in object oriented programming, and I&#39;m trying to design the different classes/objects.\r\n\r\nThe algorithm is executing a couple of functions/methods.\r\nThe output of each method will be used as an input the following one.  \r\nBased on some initial condition, some functions can be skipped.\r\n\r\nSo let&#39;s say we have the following use cases:\r\n\r\n| FIRST                       | SECOND                      | THIRD                        | FOURTH                       |   |\r\n|-----------------------------|-----------------------------|------------------------------|------------------------------|---|\r\n| initializeVariables()       | initializeVariables()       | initializeVariables()        | initializeVariables()        |   |\r\n| saveTemporaryData()         | saveTemporaryData()         | saveTemporaryData()          | saveTemporaryData()          |   |\r\n| addDataFromExternalSource() | addDataFromDraft()          | addDataFromDraft()           | addDataFromPreviousVersion() |   |\r\n| sortData()                  | addDataFromExternalSource() | addDataFromPreviousVersion() | addDataFromExternalSource()  |   |\r\n| prepareOutput()             | sortData()                  | addDataFromExternalSource()  | sortData()                   |   |\r\n|                             | prepareOutput()             | sortData()                   | prepareOutput()              |   |\r\n|                             |                             | prepareOutput()           \r\n\r\nI started thinking to create an abstract class that contains the implementation of the methods that are common to all the use cases, and let subclasses implement the methods not in the abstract class.\r\nAnd then have an &quot;execute&quot; method in each implementation that calls the different methods one by one based on the use case.\r\nBut I&#39;m not satisfied of this approach, there&#39;s still repetition.\r\n\r\nDo you have any suggestions?\r\nThanks in advance!\r\n\r\n\r\n","title":"Can you advise on how to structure the problem proposed?","body":"<p>I'm re-working an old procedural algorithm in object oriented programming, and I'm trying to design the different classes/objects.</p>\n<p>The algorithm is executing a couple of functions/methods.\nThe output of each method will be used as an input the following one.<br />\nBased on some initial condition, some functions can be skipped.</p>\n<p>So let's say we have the following use cases:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>FIRST</th>\n<th>SECOND</th>\n<th>THIRD</th>\n<th>FOURTH</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>initializeVariables()</td>\n<td>initializeVariables()</td>\n<td>initializeVariables()</td>\n<td>initializeVariables()</td>\n<td></td>\n</tr>\n<tr>\n<td>saveTemporaryData()</td>\n<td>saveTemporaryData()</td>\n<td>saveTemporaryData()</td>\n<td>saveTemporaryData()</td>\n<td></td>\n</tr>\n<tr>\n<td>addDataFromExternalSource()</td>\n<td>addDataFromDraft()</td>\n<td>addDataFromDraft()</td>\n<td>addDataFromPreviousVersion()</td>\n<td></td>\n</tr>\n<tr>\n<td>sortData()</td>\n<td>addDataFromExternalSource()</td>\n<td>addDataFromPreviousVersion()</td>\n<td>addDataFromExternalSource()</td>\n<td></td>\n</tr>\n<tr>\n<td>prepareOutput()</td>\n<td>sortData()</td>\n<td>addDataFromExternalSource()</td>\n<td>sortData()</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>prepareOutput()</td>\n<td>sortData()</td>\n<td>prepareOutput()</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>prepareOutput()</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I started thinking to create an abstract class that contains the implementation of the methods that are common to all the use cases, and let subclasses implement the methods not in the abstract class.\nAnd then have an &quot;execute&quot; method in each implementation that calls the different methods one by one based on the use case.\nBut I'm not satisfied of this approach, there's still repetition.</p>\n<p>Do you have any suggestions?\nThanks in advance!</p>\n"},{"tags":["java","multithreading","threadpool","apache-kafka-streams","quarkus"],"comments":[{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":2,"creation_date":1677126397,"post_id":75518617,"comment_id":133277495,"body_markdown":"I don&#39;t know quarkus, but maybe they just don&#39;t list all configs but still support them? Did you just try to set it?","body":"I don&#39;t know quarkus, but maybe they just don&#39;t list all configs but still support them? Did you just try to set it?"},{"owner":{"account_id":16700070,"reputation":51,"user_id":12070075,"display_name":"Suraj Gudimetla"},"score":1,"creation_date":1677159313,"post_id":75518617,"comment_id":133285305,"body_markdown":"@MatthiasJ.Sax yes it seems that we can use the kafka streams properties itself if it has the prefix kafka-streams, so now the property is kafka-streams.num.stream.threads and then it is working","body":"@MatthiasJ.Sax yes it seems that we can use the kafka streams properties itself if it has the prefix kafka-streams, so now the property is kafka-streams.num.stream.threads and then it is working"},{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1677180399,"post_id":75518617,"comment_id":133292222,"body_markdown":"Nice! Glad it just works. :)","body":"Nice! Glad it just works. :)"}],"answers":[{"comments":[{"owner":{"account_id":5476121,"reputation":143,"user_id":4354090,"display_name":"0x SLC"},"score":0,"creation_date":1677261217,"post_id":75545636,"comment_id":133309379,"body_markdown":"Got a link to some documentation on that?","body":"Got a link to some documentation on that?"},{"owner":{"account_id":16700070,"reputation":51,"user_id":12070075,"display_name":"Suraj Gudimetla"},"score":0,"creation_date":1677830993,"post_id":75545636,"comment_id":133418440,"body_markdown":"@0xSLC I do not have any link to documentation but after trying different properties, the above one worked.","body":"@0xSLC I do not have any link to documentation but after trying different properties, the above one worked."}],"tags":[],"owner":{"account_id":16700070,"reputation":51,"user_id":12070075,"display_name":"Suraj Gudimetla"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677159704,"creation_date":1677159704,"answer_id":75545636,"question_id":75518617,"body_markdown":"It seems that we can use kafka streams properties in Quarkus if we add a prefix **kafka-streams**, so after adding the property as `kafka-streams.num.stream.threads=2` in application properties of the application then I am able to see logs with two different threads for the streams.","title":"Increase stream threads for Quarkus Kafka Streams","body":"<p>It seems that we can use kafka streams properties in Quarkus if we add a prefix <strong>kafka-streams</strong>, so after adding the property as <code>kafka-streams.num.stream.threads=2</code> in application properties of the application then I am able to see logs with two different threads for the streams.</p>\n"}],"owner":{"account_id":16700070,"reputation":51,"user_id":12070075,"display_name":"Suraj Gudimetla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75545636,"answer_count":1,"score":0,"last_activity_date":1677159704,"creation_date":1676972175,"question_id":75518617,"body_markdown":"I have written a Quarkus application(version 2.16) with kafka streams in it. There was lag in consumer group count for my application due to huge number of messages in kafka topic. So after checking the logs of the application, I noticed that the streams is using only one thread for processing whole of streams\r\n\r\n```\r\n2023-02-21 01:49:53,933 INFO  [com.git.sample.Example] (streams-app-1cdf32a0-9f2f-4f71-80d0-2c5964a06d47-StreamThread-1) The...\r\n```\r\n\r\nThis 1cdf32a0-9f2f-4f71-80d0-2c5964a06d47-StreamThread-1 stream id is same for all the logs related to streams. This case is seen for all the multiple instances of the application. But shouldn&#39;t quarkus assign more threads for streams if it has huge load.\r\n\r\nIn Kafka streams official documentation there is option to set the number of threads for the application (num.stream.threads)\r\n\r\n[![kafka stream thread application property](https://i.stack.imgur.com/0x20z.png)](https://i.stack.imgur.com/0x20z.png)\r\n\r\nbut in Quarkus kafka streams guide ([https://quarkus.io/guides/kafka-streams](https://www.stackoverflow.com/)) , I did not find any such application property to increase threads.\r\n\r\nI have searched at other places for this but did not find any.\r\n\r\nDo anyone know how to increase threads for kafka streams in Quarkus ?\r\n\r\nThe application is reading from multiple kafka topics but only one stream thread is being used for all operations in streams. Expected is that multiple threads will be used for streams.","title":"Increase stream threads for Quarkus Kafka Streams","body":"<p>I have written a Quarkus application(version 2.16) with kafka streams in it. There was lag in consumer group count for my application due to huge number of messages in kafka topic. So after checking the logs of the application, I noticed that the streams is using only one thread for processing whole of streams</p>\n<pre><code>2023-02-21 01:49:53,933 INFO  [com.git.sample.Example] (streams-app-1cdf32a0-9f2f-4f71-80d0-2c5964a06d47-StreamThread-1) The...\n</code></pre>\n<p>This 1cdf32a0-9f2f-4f71-80d0-2c5964a06d47-StreamThread-1 stream id is same for all the logs related to streams. This case is seen for all the multiple instances of the application. But shouldn't quarkus assign more threads for streams if it has huge load.</p>\n<p>In Kafka streams official documentation there is option to set the number of threads for the application (num.stream.threads)</p>\n<p><a href=\"https://i.stack.imgur.com/0x20z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0x20z.png\" alt=\"kafka stream thread application property\" /></a></p>\n<p>but in Quarkus kafka streams guide (<a href=\"https://www.stackoverflow.com/\">https://quarkus.io/guides/kafka-streams</a>) , I did not find any such application property to increase threads.</p>\n<p>I have searched at other places for this but did not find any.</p>\n<p>Do anyone know how to increase threads for kafka streams in Quarkus ?</p>\n<p>The application is reading from multiple kafka topics but only one stream thread is being used for all operations in streams. Expected is that multiple threads will be used for streams.</p>\n"},{"tags":["java","android","barcode-scanner"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677199475,"post_id":75545610,"comment_id":133296054,"body_markdown":"Without a manufacturer I can only guess that there is a SDK which would allow for scanning and obtaining the lsaer barcode data. I would inspect the device for a manufacturer and check the manufacturer site for any developer SDK.","body":"Without a manufacturer I can only guess that there is a SDK which would allow for scanning and obtaining the lsaer barcode data. I would inspect the device for a manufacturer and check the manufacturer site for any developer SDK."}],"owner":{"account_id":8734894,"reputation":678,"user_id":6533853,"accept_rate":0,"display_name":"Ninja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677159596,"creation_date":1677159596,"question_id":75545610,"body_markdown":"I am using below device to scan the bar code using laser scanner:\r\n\r\n    Device Name : K63\r\n    Android : 11\r\n\r\nI have checked and read [Question 1][1], [Question 2][2] and [Question 3][3] some other questions also but not getting exactly that how to get scan event and data in the mobile device. I would like that once user scan any bar code then show that data on screen&#39;s UI so how to detect event or data.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12106456/java-android-laser-barcode-scanner\r\n  [2]: https://stackoverflow.com/questions/69643509/is-there-a-way-to-detect-programmaticaly-laser-scanner-in-an-android-mobile\r\n  [3]: https://stackoverflow.com/questions/31585811/android-honeywell-dolphin-how-to-detect-laser-scanner","title":"Detect laser scanner event and get data in android K63","body":"<p>I am using below device to scan the bar code using laser scanner:</p>\n<pre><code>Device Name : K63\nAndroid : 11\n</code></pre>\n<p>I have checked and read <a href=\"https://stackoverflow.com/questions/12106456/java-android-laser-barcode-scanner\">Question 1</a>, <a href=\"https://stackoverflow.com/questions/69643509/is-there-a-way-to-detect-programmaticaly-laser-scanner-in-an-android-mobile\">Question 2</a> and <a href=\"https://stackoverflow.com/questions/31585811/android-honeywell-dolphin-how-to-detect-laser-scanner\">Question 3</a> some other questions also but not getting exactly that how to get scan event and data in the mobile device. I would like that once user scan any bar code then show that data on screen's UI so how to detect event or data.</p>\n"},{"tags":["java","jpa","join","associations","criteria-api"],"answers":[{"comments":[{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":6,"creation_date":1499767109,"post_id":17106521,"comment_id":77036196,"body_markdown":"Worth noting that using multiple roots creates a cartesian product (i.e. a `CROSS JOIN`) between the entities. With the `WHERE` condition, this behaves the same as an `INNER JOIN` (including same performance as noted [here](https://stackoverflow.com/questions/670980#671023)).","body":"Worth noting that using multiple roots creates a cartesian product (i.e. a <code>CROSS JOIN</code>) between the entities. With the <code>WHERE</code> condition, this behaves the same as an <code>INNER JOIN</code> (including same performance as noted <a href=\"https://stackoverflow.com/questions/670980#671023\">here</a>)."},{"owner":{"account_id":2467050,"reputation":1176,"user_id":2855798,"accept_rate":88,"display_name":"Jakob"},"score":19,"creation_date":1523004535,"post_id":17106521,"comment_id":86389110,"body_markdown":"I don&#39;t understand this answer. Where does `trainingLink` come from? Wouldn&#39;t I want something like `criteriaBuilder.equal(rootLink.get(link_.linkAttribute), rootTraining.get(training_.linkAttribute` (which doesn&#39;t work with criteria api)?","body":"I don&#39;t understand this answer. Where does <code>trainingLink</code> come from? Wouldn&#39;t I want something like <code>criteriaBuilder.equal(rootLink.get(link_.linkAttribute), rootTraining.get(training_.linkAttribute</code> (which doesn&#39;t work with criteria api)?"},{"owner":{"account_id":10419412,"reputation":637,"user_id":7682476,"display_name":"vijay"},"score":0,"creation_date":1570894952,"post_id":17106521,"comment_id":103064775,"body_markdown":"can you also please expand ..., to select different columns from two tables Link and Training","body":"can you also please expand ..., to select different columns from two tables Link and Training"},{"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"score":0,"creation_date":1659081064,"post_id":17106521,"comment_id":129214818,"body_markdown":"How can I do an outer join with unrelated entities? This might be required if the other table has some optional data and I still want a result even if the data is not there. See this question: https://stackoverflow.com/questions/71320879/left-outer-join-of-unrelated-entities-with-criteria","body":"How can I do an outer join with unrelated entities? This might be required if the other table has some optional data and I still want a result even if the data is not there. See this question: <a href=\"https://stackoverflow.com/questions/71320879/left-outer-join-of-unrelated-entities-with-criteria\" title=\"left outer join of unrelated entities with criteria\">stackoverflow.com/questions/71320879/&hellip;</a>"},{"owner":{"account_id":7720495,"reputation":866,"user_id":5846877,"display_name":"Christophe Moine"},"score":0,"creation_date":1672046294,"post_id":17106521,"comment_id":132211705,"body_markdown":"Nice but this doesn&#39;t work with PostGreSQL which requires an &#39;ON&#39; clause :-(","body":"Nice but this doesn&#39;t work with PostGreSQL which requires an &#39;ON&#39; clause :-("}],"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"comment_count":5,"down_vote_count":8,"up_vote_count":41,"is_accepted":false,"score":33,"last_activity_date":1499766636,"creation_date":1371206072,"answer_id":17106521,"question_id":17106434,"body_markdown":"First: Foreign key relationship are not only for navigating. They mainly serve to ensure that no spurious values are introduced in the relationship. They also may help the database for query optimization. I would advise you to reconsider that.\r\n\r\nAnyway, for creating a query that uses several unrelated entities, you need to put them as `from` (`root`) entities (as you would do in SQL or JPQL)\r\n\r\n    SELECT .... FROM Link l, Training t WHERE l.attribute = t.attribute;\r\n\r\n    Root&lt;Link&gt; rootLink = criteriaQuery.from(Link.class);\r\n    Root&lt;Training&gt; rootTraining = criteriaQuery.from(Training.class);\r\n    ...\r\n    criteriaQuery.where(\r\n        criteriaBuilder.equal(rootLink.get(link_.linkAttribute), trainingLink));","title":"How to join unrelated entities with the JPA Criteria API","body":"<p>First: Foreign key relationship are not only for navigating. They mainly serve to ensure that no spurious values are introduced in the relationship. They also may help the database for query optimization. I would advise you to reconsider that.</p>\n\n<p>Anyway, for creating a query that uses several unrelated entities, you need to put them as <code>from</code> (<code>root</code>) entities (as you would do in SQL or JPQL)</p>\n\n<pre><code>SELECT .... FROM Link l, Training t WHERE l.attribute = t.attribute;\n\nRoot&lt;Link&gt; rootLink = criteriaQuery.from(Link.class);\nRoot&lt;Training&gt; rootTraining = criteriaQuery.from(Training.class);\n...\ncriteriaQuery.where(\n    criteriaBuilder.equal(rootLink.get(link_.linkAttribute), trainingLink));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":2,"creation_date":1574768821,"post_id":36087766,"comment_id":104340653,"body_markdown":"The first link is broken. Could you please provide an alternative link, or (better) give us a summary of what the link told us to do?","body":"The first link is broken. Could you please provide an alternative link, or (better) give us a summary of what the link told us to do?"}],"tags":[],"owner":{"account_id":1895425,"reputation":2578,"user_id":1712511,"display_name":"anthavio"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1458313452,"creation_date":1458313452,"answer_id":36087766,"question_id":17106434,"body_markdown":"Join on unrelated entities is not covered by latest JPA spec (2.1) \r\n\r\nHowever Hibernate 5.1.0+ and EclipseLink 2.4.0+ support ad hoc joins.\r\nhttp://blog.anthavio.net/2016/03/join-unrelated-entities-in-jpa.html\r\n\r\nAnother possibility is native query\r\nhttp://www.oracle.com/technetwork/articles/vasiliev-jpql-087123.html","title":"How to join unrelated entities with the JPA Criteria API","body":"<p>Join on unrelated entities is not covered by latest JPA spec (2.1) </p>\n\n<p>However Hibernate 5.1.0+ and EclipseLink 2.4.0+ support ad hoc joins.\n<a href=\"http://blog.anthavio.net/2016/03/join-unrelated-entities-in-jpa.html\" rel=\"nofollow noreferrer\">http://blog.anthavio.net/2016/03/join-unrelated-entities-in-jpa.html</a></p>\n\n<p>Another possibility is native query\n<a href=\"http://www.oracle.com/technetwork/articles/vasiliev-jpql-087123.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/articles/vasiliev-jpql-087123.html</a></p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1677159507,"creation_date":1568985953,"answer_id":58029297,"question_id":17106434,"body_markdown":"Since Hibernate 5.1, you can join unrelated entities when using JPQL and HQL:\r\n\r\n    Tuple postViewCount = entityManager.createQuery(&quot;&quot;&quot;\r\n        select p as post, count(pv) as page_views\r\n        from Post p\r\n        left join PageView pv on p.slug = pv.slug\r\n        where p.title = :title\r\n        group by p\r\n\t\t&quot;&quot;&quot;, Tuple.class)\r\n    .setParameter(&quot;title&quot;, &quot;Presentations&quot;)\r\n    .getSingleResult();\r\n\r\nHowever, this feature is not available in Criteria API, as that would require an API extension.\r\n\r\nThe solution\r\n------------\r\n\r\nWhile you could try to use two `Root` objects and emulate the `JOIN` via `WHERE` clause predicates, the resulting SQL is not the best way to solve this issue. \r\n\r\nYou should consider using [jOOQ][2] as, besides giving you the ability to join tables in any possible way, you can also fetch entities if you pass the generated SQL query to the JPA `createNativeQuery` method.\r\n\r\n  [2]: https://www.jooq.org/\r\n","title":"How to join unrelated entities with the JPA Criteria API","body":"<p>Since Hibernate 5.1, you can join unrelated entities when using JPQL and HQL:</p>\n<pre><code>Tuple postViewCount = entityManager.createQuery(&quot;&quot;&quot;\n    select p as post, count(pv) as page_views\n    from Post p\n    left join PageView pv on p.slug = pv.slug\n    where p.title = :title\n    group by p\n    &quot;&quot;&quot;, Tuple.class)\n.setParameter(&quot;title&quot;, &quot;Presentations&quot;)\n.getSingleResult();\n</code></pre>\n<p>However, this feature is not available in Criteria API, as that would require an API extension.</p>\n<h2>The solution</h2>\n<p>While you could try to use two <code>Root</code> objects and emulate the <code>JOIN</code> via <code>WHERE</code> clause predicates, the resulting SQL is not the best way to solve this issue.</p>\n<p>You should consider using <a href=\"https://www.jooq.org/\" rel=\"nofollow noreferrer\">jOOQ</a> as, besides giving you the ability to join tables in any possible way, you can also fetch entities if you pass the generated SQL query to the JPA <code>createNativeQuery</code> method.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569046518,"creation_date":1569046518,"answer_id":58037766,"question_id":17106434,"body_markdown":"You could use the JPA Criteria implementation of Blaze-persistence that translates to JPQL/HQL and offers that feature as extension to the JPA Criteria API.\r\n\r\nLook for &quot;Blaze-Persistence JPA-Criteria module dependencies&quot; in the readme: https://github.com/Blazebit/blaze-persistence/blob/master/README.md\r\n\r\nThen use `BlazeCriteriaBuilder cb = BlazeCriteria.get(criteriaBuilderFactory)` and finally `blazeCriteriaQuery.getCriteriaBuilder(entityManager)` to render the JPA Criteria Query object.","title":"How to join unrelated entities with the JPA Criteria API","body":"<p>You could use the JPA Criteria implementation of Blaze-persistence that translates to JPQL/HQL and offers that feature as extension to the JPA Criteria API.</p>\n\n<p>Look for \"Blaze-Persistence JPA-Criteria module dependencies\" in the readme: <a href=\"https://github.com/Blazebit/blaze-persistence/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/Blazebit/blaze-persistence/blob/master/README.md</a></p>\n\n<p>Then use <code>BlazeCriteriaBuilder cb = BlazeCriteria.get(criteriaBuilderFactory)</code> and finally <code>blazeCriteriaQuery.getCriteriaBuilder(entityManager)</code> to render the JPA Criteria Query object.</p>\n"},{"tags":[],"owner":{"account_id":1694567,"reputation":911,"user_id":1556234,"accept_rate":40,"display_name":"ema"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622706186,"creation_date":1622706186,"answer_id":67817377,"question_id":17106434,"body_markdown":"It&#39;s possible to create view for join-query and create entity for this view and JpaRepository can be utilized similarly as for usual entity for table. \r\nAnd if you need to build dynamically where-clause, it&#39;s still feasible to build it on top of this view-entity ","title":"How to join unrelated entities with the JPA Criteria API","body":"<p>It's possible to create view for join-query and create entity for this view and JpaRepository can be utilized similarly as for usual entity for table.\nAnd if you need to build dynamically where-clause, it's still feasible to build it on top of this view-entity</p>\n"},{"tags":[],"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673001782,"creation_date":1673001782,"answer_id":75029896,"question_id":17106434,"body_markdown":"Better use good old JPQL/native query when faced with complex situation such as above. Criteria queries tend to get super complicated and inefficient as soon as someone talks about joins or composite primary keys and  and so does jpa entity mappings with all the JoinColumns, JoinTable, PrimaryKeyJoinColumn etc etc.","title":"How to join unrelated entities with the JPA Criteria API","body":"<p>Better use good old JPQL/native query when faced with complex situation such as above. Criteria queries tend to get super complicated and inefficient as soon as someone talks about joins or composite primary keys and  and so does jpa entity mappings with all the JoinColumns, JoinTable, PrimaryKeyJoinColumn etc etc.</p>\n"}],"owner":{"account_id":799941,"reputation":1123,"user_id":872711,"accept_rate":44,"display_name":"Filippo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42714,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":6,"score":30,"last_activity_date":1677159507,"creation_date":1371205768,"question_id":17106434,"body_markdown":"Two database tables have a foreign key relationship.\r\n\r\nThey are mapped to two entities **A**  and **B** by JPA, but the join columns are manually removed from the entities, so in JPA world classes **A** and **B** are not related and you cannot navigate from one to the other through a field/property.\r\n\r\nUsing the JPA Criteria API, is it possible to create a query which joins the two tables?\r\n\r\nAll examples I found on internet uses the join column to achieve the goal, but, as stated above, it was removed from the code because most time I&#39;m not interested in the relationship between **A** and **B** and I&#39;m afraid about possible overhead.\r\n\r\n","title":"How to join unrelated entities with the JPA Criteria API","body":"<p>Two database tables have a foreign key relationship.</p>\n\n<p>They are mapped to two entities <strong>A</strong>  and <strong>B</strong> by JPA, but the join columns are manually removed from the entities, so in JPA world classes <strong>A</strong> and <strong>B</strong> are not related and you cannot navigate from one to the other through a field/property.</p>\n\n<p>Using the JPA Criteria API, is it possible to create a query which joins the two tables?</p>\n\n<p>All examples I found on internet uses the join column to achieve the goal, but, as stated above, it was removed from the code because most time I'm not interested in the relationship between <strong>A</strong> and <strong>B</strong> and I'm afraid about possible overhead.</p>\n"},{"tags":["java","sql-server","hibernate"],"comments":[{"owner":{"account_id":179146,"reputation":2938,"user_id":411602,"accept_rate":83,"display_name":"Sheetal Mohan Sharma"},"score":1,"creation_date":1543851177,"post_id":53596584,"comment_id":94056361,"body_markdown":"Looks like connection pooling issue. Can you please check if you have defined connection pool properly and don&#39;t have any connection leaks?","body":"Looks like connection pooling issue. Can you please check if you have defined connection pool properly and don&#39;t have any connection leaks?"},{"owner":{"account_id":913504,"reputation":213,"user_id":946825,"display_name":"mvelazquezm"},"score":0,"creation_date":1543908173,"post_id":53596584,"comment_id":94076755,"body_markdown":"Hi, thanks, we only had the properties from yaml. \nWe just also add some hikari properties:\n\nspring.datasource.hikari.maximumPoolSize: 7\nspring.datasource.hikari.leakDetectionThreshold: 1500 \nspring.datasource.hikari.connectionTimeout: 30000\nspring.datasource.hikari.maxLifetime: 60000\n\nWe are thinking about increase the number of pods and reduce pool size. For the moment error continues, less occurences maybe","body":"Hi, thanks, we only had the properties from yaml.  We just also add some hikari properties:  spring.datasource.hikari.maximumPoolSize: 7 spring.datasource.hikari.leakDetectionThreshold: 1500  spring.datasource.hikari.connectionTimeout: 30000 spring.datasource.hikari.maxLifetime: 60000  We are thinking about increase the number of pods and reduce pool size. For the moment error continues, less occurences maybe"},{"owner":{"account_id":179146,"reputation":2938,"user_id":411602,"accept_rate":83,"display_name":"Sheetal Mohan Sharma"},"score":0,"creation_date":1543919479,"post_id":53596584,"comment_id":94082854,"body_markdown":"Are these properties loaded properly? Can you test this in unit tests? I would suggest running tests to see if there are any connection leaks and fix that first. A relevant question on how to configure hikari may be useful https://stackoverflow.com/questions/26490967/how-do-i-configure-hikaricp-in-my-spring-boot-app-in-my-application-properties-f  and read this https://vladmihalcea.com/the-best-way-to-detect-database-connection-leaks/ for testing connection leaks","body":"Are these properties loaded properly? Can you test this in unit tests? I would suggest running tests to see if there are any connection leaks and fix that first. A relevant question on how to configure hikari may be useful <a href=\"https://stackoverflow.com/questions/26490967/how-do-i-configure-hikaricp-in-my-spring-boot-app-in-my-application-properties-f\" title=\"how do i configure hikaricp in my spring boot app in my application properties f\">stackoverflow.com/questions/26490967/&hellip;</a>  and read this <a href=\"https://vladmihalcea.com/the-best-way-to-detect-database-connection-leaks/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> for testing connection leaks"},{"owner":{"account_id":179146,"reputation":2938,"user_id":411602,"accept_rate":83,"display_name":"Sheetal Mohan Sharma"},"score":0,"creation_date":1543919521,"post_id":53596584,"comment_id":94082874,"body_markdown":"https://dzone.com/articles/database-connection-pooling-in-java-with-hikaricp","body":"<a href=\"https://dzone.com/articles/database-connection-pooling-in-java-with-hikaricp\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>"},{"owner":{"account_id":913504,"reputation":213,"user_id":946825,"display_name":"mvelazquezm"},"score":0,"creation_date":1543990953,"post_id":53596584,"comment_id":94112479,"body_markdown":"Thanks for the responses.\nWe resolved it adding a entityManager.close() See my edit","body":"Thanks for the responses. We resolved it adding a entityManager.close() See my edit"},{"owner":{"account_id":179146,"reputation":2938,"user_id":411602,"accept_rate":83,"display_name":"Sheetal Mohan Sharma"},"score":0,"creation_date":1544000749,"post_id":53596584,"comment_id":94116838,"body_markdown":"So it was a connection leak as expected :)","body":"So it was a connection leak as expected :)"}],"owner":{"account_id":913504,"reputation":213,"user_id":946825,"display_name":"mvelazquezm"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677159157,"creation_date":1543850103,"question_id":53596584,"body_markdown":"We have a spring boot app running over AKS (Azure Kubernetes Service).\r\nIn the service, we inject and call a Procedure invoker class:\r\n\r\n\r\n    package com.thing;\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.ParameterMode;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.StoredProcedureQuery;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public class ProcedureInvoker {\r\n\r\n\t@PersistenceContext\r\n    private final EntityManager entityManager;\r\n\r\n    @Autowired\r\n    public ProcedureInvoker(final EntityManager entityManager) {\r\n        this.entityManager = entityManager;\r\n    }\r\n\r\n    \r\n    public int getValueCall(String user, String password) {\r\n    \t\r\n\r\n        StoredProcedureQuery storedProcedureQuery = entityManager.createStoredProcedureQuery(&quot;dbo.CHECK_USER&quot;);\r\n        \r\n        \r\n        // In out parameters\r\n        storedProcedureQuery.registerStoredProcedureParameter(1, String.class, ParameterMode.IN);\r\n        storedProcedureQuery.registerStoredProcedureParameter(2, String.class, ParameterMode.IN);\r\n        storedProcedureQuery.registerStoredProcedureParameter(3, Integer.class, ParameterMode.INOUT);\r\n        \r\n\r\n        //\r\n        storedProcedureQuery.setParameter(1, user);\r\n        storedProcedureQuery.setParameter(2, password);\r\n        storedProcedureQuery.setParameter(3, new Integer(-3));\r\n        \r\n        Object result = storedProcedureQuery.getOutputParameterValue(3);\r\n        \r\n        storedProcedureQuery.execute();\r\n        \r\n        int resu = ((Integer)result).intValue();\r\n        \r\n        return resu; \r\n    }\r\n}\r\n\r\nSometimes (after 1 day o several hours working properly; about 3000 calls), we start getting this error:\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException:\r\n       at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError \r\n    (SQLServerException.java227)\r\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed \r\n    (SQLServerConnection.java796)\r\n       at com.microsoft.sqlserver.jdbc.SQLServerConnection.setNetworkTimeout \r\n    (SQLServerConnection.java4768)\r\n       at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout (PoolBase.java541)\r\n       at com.zaxxer.hikari.pool.PoolBase.quietlyCloseConnection \r\n    (PoolBase.java129)\r\n       at com.zaxxer.hikari.pool.HikariPool.lambda$closeConnection$1 \r\n    (HikariPool.java434)\r\n       at java.util.concurrent.ThreadPoolExecutor.runWorker \r\n    (ThreadPoolExecutor.java1149)\r\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run \r\n    (ThreadPoolExecutor.java624)\r\n       at java.lang.Thread.run (Thread.java748)\r\n\r\n\r\nTo solve it, we delete pods in order to restart them. But It is not a solution.\r\n\r\nPom has:\r\n\r\n    &lt;!--  DDBB --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- End DDBB --&gt;\r\n\r\nProperties from yaml\r\n\r\n    spring.datasource.driverClassName: \r\n    com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.jpa.show-sql: false\r\n    spring.jpa.hibernate.dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n    spring.jpa.properties.hibernate.format_sql: true\r\n    logging.level.org.hibernate.type: debug\r\n\r\n**SOLVED**!!\r\nFinally we solved it adding a:\r\n\r\n    entityManager.close()\r\n\r\nWe thought that sentence is not necessary for procedures or functions (it was closed by spring).\r\n\r\nThe problem probably comes from SQL Server because the procedure has a return statement which is not declared (We had some problems calling it from Spring). Maybe SQL server delegates the close of the connection to spring and spring made the opposite (delegating to SQL server)","title":"Spring Boot, SQL Server, AKS, The connection is closed","body":"<p>We have a spring boot app running over AKS (Azure Kubernetes Service).\nIn the service, we inject and call a Procedure invoker class:</p>\n\n<pre><code>package com.thing;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.ParameterMode;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.StoredProcedureQuery;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic class ProcedureInvoker {\n\n@PersistenceContext\nprivate final EntityManager entityManager;\n\n@Autowired\npublic ProcedureInvoker(final EntityManager entityManager) {\n    this.entityManager = entityManager;\n}\n\n\npublic int getValueCall(String user, String password) {\n\n\n    StoredProcedureQuery storedProcedureQuery = entityManager.createStoredProcedureQuery(\"dbo.CHECK_USER\");\n\n\n    // In out parameters\n    storedProcedureQuery.registerStoredProcedureParameter(1, String.class, ParameterMode.IN);\n    storedProcedureQuery.registerStoredProcedureParameter(2, String.class, ParameterMode.IN);\n    storedProcedureQuery.registerStoredProcedureParameter(3, Integer.class, ParameterMode.INOUT);\n\n\n    //\n    storedProcedureQuery.setParameter(1, user);\n    storedProcedureQuery.setParameter(2, password);\n    storedProcedureQuery.setParameter(3, new Integer(-3));\n\n    Object result = storedProcedureQuery.getOutputParameterValue(3);\n\n    storedProcedureQuery.execute();\n\n    int resu = ((Integer)result).intValue();\n\n    return resu; \n}\n</code></pre>\n\n<p>}</p>\n\n<p>Sometimes (after 1 day o several hours working properly; about 3000 calls), we start getting this error:</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException:\n   at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError \n(SQLServerException.java227)\n   at com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed \n(SQLServerConnection.java796)\n   at com.microsoft.sqlserver.jdbc.SQLServerConnection.setNetworkTimeout \n(SQLServerConnection.java4768)\n   at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout (PoolBase.java541)\n   at com.zaxxer.hikari.pool.PoolBase.quietlyCloseConnection \n(PoolBase.java129)\n   at com.zaxxer.hikari.pool.HikariPool.lambda$closeConnection$1 \n(HikariPool.java434)\n   at java.util.concurrent.ThreadPoolExecutor.runWorker \n(ThreadPoolExecutor.java1149)\n   at java.util.concurrent.ThreadPoolExecutor$Worker.run \n(ThreadPoolExecutor.java624)\n   at java.lang.Thread.run (Thread.java748)\n</code></pre>\n\n<p>To solve it, we delete pods in order to restart them. But It is not a solution.</p>\n\n<p>Pom has:</p>\n\n<pre><code>&lt;!--  DDBB --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- End DDBB --&gt;\n</code></pre>\n\n<p>Properties from yaml</p>\n\n<pre><code>spring.datasource.driverClassName: \ncom.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.show-sql: false\nspring.jpa.hibernate.dialect: org.hibernate.dialect.SQLServer2012Dialect\nspring.jpa.properties.hibernate.format_sql: true\nlogging.level.org.hibernate.type: debug\n</code></pre>\n\n<p><strong>SOLVED</strong>!!\nFinally we solved it adding a:</p>\n\n<pre><code>entityManager.close()\n</code></pre>\n\n<p>We thought that sentence is not necessary for procedures or functions (it was closed by spring).</p>\n\n<p>The problem probably comes from SQL Server because the procedure has a return statement which is not declared (We had some problems calling it from Spring). Maybe SQL server delegates the close of the connection to spring and spring made the opposite (delegating to SQL server)</p>\n"},{"tags":["java","spring-boot","api","mapstruct","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1677085811,"post_id":75535960,"comment_id":133269400,"body_markdown":"Does the mapper class get generated at all? You usually need to also include the `org.mapstruct:mapstruct-processor` as an annotation processor (see https://www.baeldung.com/mapstruct).","body":"Does the mapper class get generated at all? You usually need to also include the <code>org.mapstruct:mapstruct-processor</code> as an annotation processor (see <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">baeldung.com/mapstruct</a>)."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677085904,"post_id":75535960,"comment_id":133269425,"body_markdown":"What generated mapper class would that be?","body":"What generated mapper class would that be?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677085975,"post_id":75535960,"comment_id":133269448,"body_markdown":"&quot;org.mapstruct:mapstruct-processor&quot; which part of the application should it be inserted in?","body":"&quot;org.mapstruct:mapstruct-processor&quot; which part of the application should it be inserted in?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1677086099,"post_id":75535960,"comment_id":133269502,"body_markdown":"In the pom. Check the link I posted, Maven section. The processor generates an actual class from the interface, you can see it in your sources after.","body":"In the pom. Check the link I posted, Maven section. The processor generates an actual class from the interface, you can see it in your sources after."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677086604,"post_id":75535960,"comment_id":133269656,"body_markdown":"I did exactly as it says in the link on Maeven and I still get the same error. Where can I check this automatically generated Mapper Class?","body":"I did exactly as it says in the link on Maeven and I still get the same error. Where can I check this automatically generated Mapper Class?"}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677159154,"creation_date":1677159154,"answer_id":75545540,"question_id":75535960,"body_markdown":"As I said in the comments, you need to add the mapstruct annotation processor.\r\n\r\nYou&#39;re missing the\r\n\r\n```\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.6.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n      &lt;source&gt;${java.version}&lt;/source&gt;\r\n      &lt;target&gt;${java.version}&lt;/target&gt;\r\n      &lt;annotationProcessorPaths&gt;\r\n         &lt;path&gt;\r\n           &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n           &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n           &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n         &lt;/path&gt;\r\n      &lt;/annotationProcessorPaths&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/plugin&gt;\r\n```\r\nsection.","title":"Issue with MapStruct and mapping using Java Spring Boot","body":"<p>As I said in the comments, you need to add the mapstruct annotation processor.</p>\n<p>You're missing the</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.6.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;${java.version}&lt;/source&gt;\n      &lt;target&gt;${java.version}&lt;/target&gt;\n      &lt;annotationProcessorPaths&gt;\n         &lt;path&gt;\n           &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n           &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n           &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n         &lt;/path&gt;\n      &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>section.</p>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1910,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677159154,"creation_date":1677085453,"question_id":75535960,"body_markdown":"I&#39;m trying to develop an API using MapStruct in my &quot;Category&quot; controller, but the console is returning the error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 1 of constructor in com.api.business_products_management.controllers.CategoryController required a bean of type &#39;com.api.business_products_management.mappers.CategoryMapper&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.api.business_products_management.mappers.CategoryMapper&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nHere the controller\r\n\r\n```\r\npackage com.api.business_products_management.controllers;\r\n\r\nimport com.api.business_products_management.dtos.CategoryDto;\r\nimport com.api.business_products_management.mappers.CategoryMapper;\r\nimport com.api.business_products_management.models.CategoryModel;\r\nimport com.api.business_products_management.services.CategoryService;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport jakarta.validation.Valid;\r\nimport org.apache.catalina.LifecycleState;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/category&quot;)\r\npublic class CategoryController {\r\n\r\n    final CategoryService categoryService;\r\n    final CategoryMapper categoryMapper;\r\n\r\n    public CategoryController(CategoryService categoryService, CategoryMapper categoryMapper) {\r\n        this.categoryService = categoryService;\r\n        this.categoryMapper = categoryMapper;\r\n\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Object&gt; saveCategory (@RequestBody @Valid CategoryDto categoryDto) {\r\n        if (categoryService.existsByName(categoryDto.getName())) {\r\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Conflict: Category already exists! &quot;);\r\n        }\r\n        var categoryModel = categoryMapper.toCategoryModel(categoryDto);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(categoryService.save(categoryModel));\r\n    }\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;CategoryModel&gt;&gt; getAllCategories() {\r\n        return ResponseEntity.status(HttpStatus.OK).body(categoryService.findAll());\r\n    }\r\n}\r\n\r\n```\r\n\r\nmy CategoryMapper interface\r\n\r\n```\r\npackage com.api.business_products_management.mappers;\r\n\r\nimport com.api.business_products_management.dtos.CategoryDto;\r\nimport com.api.business_products_management.models.CategoryModel;\r\nimport org.mapstruct.Mapper;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface CategoryMapper {\r\n    CategoryModel toCategoryModel(CategoryDto dto);\r\n}\r\n\r\n```\r\n\r\nMy pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.api&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;business_products_management&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;business_products_management&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAs it says in the error, I&#39;m already declaring the correct mapping in my constructor along with the interface, I can&#39;t identify the reason for this error\r\n","title":"Issue with MapStruct and mapping using Java Spring Boot","body":"<p>I'm trying to develop an API using MapStruct in my &quot;Category&quot; controller, but the console is returning the error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in com.api.business_products_management.controllers.CategoryController required a bean of type 'com.api.business_products_management.mappers.CategoryMapper' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.api.business_products_management.mappers.CategoryMapper' in your configuration.\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>Here the controller</p>\n<pre><code>package com.api.business_products_management.controllers;\n\nimport com.api.business_products_management.dtos.CategoryDto;\nimport com.api.business_products_management.mappers.CategoryMapper;\nimport com.api.business_products_management.models.CategoryModel;\nimport com.api.business_products_management.services.CategoryService;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport jakarta.validation.Valid;\nimport org.apache.catalina.LifecycleState;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/category&quot;)\npublic class CategoryController {\n\n    final CategoryService categoryService;\n    final CategoryMapper categoryMapper;\n\n    public CategoryController(CategoryService categoryService, CategoryMapper categoryMapper) {\n        this.categoryService = categoryService;\n        this.categoryMapper = categoryMapper;\n\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Object&gt; saveCategory (@RequestBody @Valid CategoryDto categoryDto) {\n        if (categoryService.existsByName(categoryDto.getName())) {\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Conflict: Category already exists! &quot;);\n        }\n        var categoryModel = categoryMapper.toCategoryModel(categoryDto);\n        return ResponseEntity.status(HttpStatus.CREATED).body(categoryService.save(categoryModel));\n    }\n    @GetMapping\n    public ResponseEntity&lt;List&lt;CategoryModel&gt;&gt; getAllCategories() {\n        return ResponseEntity.status(HttpStatus.OK).body(categoryService.findAll());\n    }\n}\n\n</code></pre>\n<p>my CategoryMapper interface</p>\n<pre><code>package com.api.business_products_management.mappers;\n\nimport com.api.business_products_management.dtos.CategoryDto;\nimport com.api.business_products_management.models.CategoryModel;\nimport org.mapstruct.Mapper;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface CategoryMapper {\n    CategoryModel toCategoryModel(CategoryDto dto);\n}\n\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.api&lt;/groupId&gt;\n    &lt;artifactId&gt;business_products_management&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;business_products_management&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>As it says in the error, I'm already declaring the correct mapping in my constructor along with the interface, I can't identify the reason for this error</p>\n"},{"tags":["java","hibernate","jpa","jdbc","spring-data"],"answers":[{"comments":[{"owner":{"account_id":12979812,"reputation":190,"user_id":9877737,"display_name":"fedotsoldier"},"score":4,"creation_date":1559841503,"post_id":43408661,"comment_id":99554902,"body_markdown":"It&#39;worked! I tried first dialect - `org.hibernate.dialect.MySQL5Dialect` and it worked! Thank you!","body":"It&#39;worked! I tried first dialect - <code>org.hibernate.dialect.MySQL5Dialect</code> and it worked! Thank you!"},{"owner":{"account_id":6145873,"reputation":83,"user_id":4791885,"display_name":"Saroj Kumar Sahoo"},"score":1,"creation_date":1597763755,"post_id":43408661,"comment_id":112237129,"body_markdown":"I am using mysql 8.0.21 . None of the dialect is working for me","body":"I am using mysql 8.0.21 . None of the dialect is working for me"},{"owner":{"account_id":19942283,"reputation":381,"user_id":14613787,"display_name":"Deepanshu Rathi"},"score":0,"creation_date":1633425953,"post_id":43408661,"comment_id":122750191,"body_markdown":"I&#39;m using Mysql 5.7 None of them worked for me","body":"I&#39;m using Mysql 5.7 None of them worked for me"},{"owner":{"account_id":10510343,"reputation":2509,"user_id":8748688,"display_name":"jonathasborges1"},"score":0,"creation_date":1637513493,"post_id":43408661,"comment_id":123840527,"body_markdown":"I am using mysql 8.0.27 for macos 10.15 catalina and anyway not dialect work for me =&#39;(","body":"I am using mysql 8.0.27 for macos 10.15 catalina and anyway not dialect work for me =&#39;("},{"owner":{"account_id":5947150,"reputation":91,"user_id":4676338,"display_name":"Luke Matafi"},"score":0,"creation_date":1665583347,"post_id":43408661,"comment_id":130735211,"body_markdown":"You can use another dialect like `org.hibernate.dialect.MySQL8Dialect`","body":"You can use another dialect like <code>org.hibernate.dialect.MySQL8Dialect</code>"}],"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"comment_count":5,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1492162241,"creation_date":1492161354,"answer_id":43408661,"question_id":43407411,"body_markdown":"You should try a different dialects like`org.hibernate.dialect.MySQL5Dialect` OR  `org.hibernate.dialect.MySQLMyISAMDialect` OR `org.hibernate.dialect.MySQLInnoDBDialect` to see which one works for you. \r\n\r\nAll in all , your current dialect is generating , `type=MyISAM` while it should be , `ENGINE=MyISAM` in create table query. \r\n\r\n[mysql error &#39;TYPE=MyISAM&#39;](https://stackoverflow.com/questions/11471075/mysql-error-type-myisam)\r\n\r\nYou should read this too , [Why do I need to configure the SQL dialect of a data source?](https://stackoverflow.com/questions/21012799/why-do-i-need-to-configure-the-sql-dialect-of-a-data-source)\r\n\r\nYour logs say that this query was tried to be executed , `create table MyTable (id integer not null, name varchar(255), primary key (id)) type=MyISAM`  so you should try to execute that query directly on mysql command prompt to see if that works for your MySQL version. \r\n\r\nAlso, in question do specify your MySQL version too.\r\n\r\nHope it helps !!","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>You should try a different dialects like<code>org.hibernate.dialect.MySQL5Dialect</code> OR  <code>org.hibernate.dialect.MySQLMyISAMDialect</code> OR <code>org.hibernate.dialect.MySQLInnoDBDialect</code> to see which one works for you. </p>\n\n<p>All in all , your current dialect is generating , <code>type=MyISAM</code> while it should be , <code>ENGINE=MyISAM</code> in create table query. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/11471075/mysql-error-type-myisam\">mysql error 'TYPE=MyISAM'</a></p>\n\n<p>You should read this too , <a href=\"https://stackoverflow.com/questions/21012799/why-do-i-need-to-configure-the-sql-dialect-of-a-data-source\">Why do I need to configure the SQL dialect of a data source?</a></p>\n\n<p>Your logs say that this query was tried to be executed , <code>create table MyTable (id integer not null, name varchar(255), primary key (id)) type=MyISAM</code>  so you should try to execute that query directly on mysql command prompt to see if that works for your MySQL version. </p>\n\n<p>Also, in question do specify your MySQL version too.</p>\n\n<p>Hope it helps !!</p>\n"},{"tags":[],"owner":{"account_id":5746045,"reputation":1135,"user_id":4537268,"display_name":"Ganesh Giri"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509970909,"creation_date":1509968139,"answer_id":47136090,"question_id":43407411,"body_markdown":"Change in hibernate configuration XML file.\r\n\r\n      &lt;!-- SQL dialect --&gt;      \r\n      &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\r\n","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>Change in hibernate configuration XML file.</p>\n\n<pre><code>  &lt;!-- SQL dialect --&gt;      \n  &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517026427,"creation_date":1517026427,"answer_id":48472530,"question_id":43407411,"body_markdown":"Check your property value mistakes.\r\n\r\nIt happens sometime, when you just simply forget the **&#39;t&#39;** in **Dialec**, which has to be **Dialect**, simply spelling mistake or value kind of mistake there is inside your configuration.","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>Check your property value mistakes.</p>\n\n<p>It happens sometime, when you just simply forget the <strong>'t'</strong> in <strong>Dialec</strong>, which has to be <strong>Dialect</strong>, simply spelling mistake or value kind of mistake there is inside your configuration.</p>\n"},{"comments":[{"owner":{"account_id":5869283,"reputation":2403,"user_id":4622075,"accept_rate":61,"display_name":"DirtyMind"},"score":0,"creation_date":1616597762,"post_id":51236837,"comment_id":118053164,"body_markdown":"life saver answer","body":"life saver answer"}],"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1531094197,"creation_date":1531094197,"answer_id":51236837,"question_id":43407411,"body_markdown":"You are using an updated version of `MySQL` but using and **old** `dialect`\r\n\r\nUse either,\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\r\nOR\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\r\n\r\nin the `hibernate.cfg.xml` file.\r\n\r\nThis prevents you from getting `dialect` issues. ","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>You are using an updated version of <code>MySQL</code> but using and <strong>old</strong> <code>dialect</code></p>\n\n<p>Use either,</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\n</code></pre>\n\n<p>in the <code>hibernate.cfg.xml</code> file.</p>\n\n<p>This prevents you from getting <code>dialect</code> issues. </p>\n"},{"tags":[],"owner":{"account_id":9421240,"reputation":449,"user_id":8204161,"display_name":"Ashwani Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1533644182,"creation_date":1533644182,"answer_id":51726590,"question_id":43407411,"body_markdown":"The reason you are facing this error might be any of the reasons below:-\r\n\r\n -  The column name in the DB Script and the model/entity class are different.\r\n -  There is a spelling mistake in your configuration file while mentioning property value.\r\n -  The MySQL version is not getting matched with the dialect that you are mentioning.\r\n\r\nI was facing this error because I change the column names in my DATABASE SCRIPT but forgot to change it in the Model/Entity class. So, after 4 hours of pulling my hairs I simply did this and my application started running.","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>The reason you are facing this error might be any of the reasons below:-</p>\n\n<ul>\n<li>The column name in the DB Script and the model/entity class are different.</li>\n<li>There is a spelling mistake in your configuration file while mentioning property value.</li>\n<li>The MySQL version is not getting matched with the dialect that you are mentioning.</li>\n</ul>\n\n<p>I was facing this error because I change the column names in my DATABASE SCRIPT but forgot to change it in the Model/Entity class. So, after 4 hours of pulling my hairs I simply did this and my application started running.</p>\n"},{"tags":[],"owner":{"account_id":11574148,"reputation":399,"user_id":8480036,"display_name":"Ashish Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581084880,"creation_date":1581084880,"answer_id":60115157,"question_id":43407411,"body_markdown":"I ran into the same problem. And indeed, it is the dialect issue, although none of the options provided by Sabir helped me out (with due respect) but changing it from MySQL5Dialect to MySQL8Dialect helped me resolve the issue.\r\n\r\nSo if none of the above 3 options provided above works, go for **MySQL8Dialect**.\r\n\r\nHope this will help.\r\n","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>I ran into the same problem. And indeed, it is the dialect issue, although none of the options provided by Sabir helped me out (with due respect) but changing it from MySQL5Dialect to MySQL8Dialect helped me resolve the issue.</p>\n\n<p>So if none of the above 3 options provided above works, go for <strong>MySQL8Dialect</strong>.</p>\n\n<p>Hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":7951954,"reputation":99,"user_id":6002543,"display_name":"dev_dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581260096,"creation_date":1581260096,"answer_id":60137890,"question_id":43407411,"body_markdown":"There is one more variation of a dialect that worked for me when I tried to connect my Spring Boot application to Google Cloud MySQL DB: `org.hibernate.dialect.MySQL5InnoDBDialect`","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>There is one more variation of a dialect that worked for me when I tried to connect my Spring Boot application to Google Cloud MySQL DB: <code>org.hibernate.dialect.MySQL5InnoDBDialect</code></p>\n"},{"tags":[],"owner":{"account_id":16796963,"reputation":114,"user_id":12143234,"display_name":"Uttam Pawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669056222,"creation_date":1625927398,"answer_id":68328624,"question_id":43407411,"body_markdown":"I was facing the same issue, I was using dialect as **MySqlDialect**.\r\n\r\nI resolved it by changing the dialect to **org.hibernate.dialect.MySQL57Dialect** and tables got created.\r\n","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>I was facing the same issue, I was using dialect as <strong>MySqlDialect</strong>.</p>\n<p>I resolved it by changing the dialect to <strong>org.hibernate.dialect.MySQL57Dialect</strong> and tables got created.</p>\n"},{"tags":[],"owner":{"account_id":16062883,"reputation":1058,"user_id":11593292,"display_name":"Sandun Susantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631255952,"creation_date":1631255952,"answer_id":69128200,"question_id":43407411,"body_markdown":"If it is in a **spring boot application** insert the following property.\r\n\r\n*spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL57Dialect*\r\n\r\nOr else if you used a **separate configuration file** then include the following code\r\n\r\n*properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL57Dialect&quot;);*","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>If it is in a <strong>spring boot application</strong> insert the following property.</p>\n<p><em>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL57Dialect</em></p>\n<p>Or else if you used a <strong>separate configuration file</strong> then include the following code</p>\n<p><em>properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL57Dialect&quot;);</em></p>\n"},{"comments":[{"owner":{"account_id":3670192,"reputation":1094,"user_id":3057591,"display_name":"H.Hasenack"},"score":1,"creation_date":1653164861,"post_id":72329737,"comment_id":127786137,"body_markdown":"As this is not actusally an answer to the question, consider adding it as a comment instead.","body":"As this is not actusally an answer to the question, consider adding it as a comment instead."},{"owner":{"account_id":3982144,"reputation":61,"user_id":3283804,"display_name":"Yana"},"score":1,"creation_date":1653996693,"post_id":72329737,"comment_id":127981977,"body_markdown":"Thanks! A good suggestion :) \nunfortunately, for now,  i have not enough reputation points to do this :(","body":"Thanks! A good suggestion :)  unfortunately, for now,  i have not enough reputation points to do this :("},{"owner":{"account_id":3670192,"reputation":1094,"user_id":3057591,"display_name":"H.Hasenack"},"score":0,"creation_date":1654112923,"post_id":72329737,"comment_id":128016951,"body_markdown":"Aah.. apologies, I overlooked this doing my &quot;review&quot; duties.","body":"Aah.. apologies, I overlooked this doing my &quot;review&quot; duties."}],"tags":[],"owner":{"account_id":3982144,"reputation":61,"user_id":3283804,"display_name":"Yana"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653689049,"creation_date":1653137587,"answer_id":72329737,"question_id":43407411,"body_markdown":"Not particularly related to the cause of the author&#39;s problem. But I had a similar error because I used one of the DB keywords as a variable name. \r\n\r\nI had `String group` as a column in my table, and the query was throwing an error because the system thought that `group` was not a that it must create column, but a command word. ","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>Not particularly related to the cause of the author's problem. But I had a similar error because I used one of the DB keywords as a variable name.</p>\n<p>I had <code>String group</code> as a column in my table, and the query was throwing an error because the system thought that <code>group</code> was not a that it must create column, but a command word.</p>\n"},{"tags":[],"owner":{"account_id":16608611,"reputation":123,"user_id":12002311,"display_name":"Prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669056028,"creation_date":1669034279,"answer_id":74519065,"question_id":43407411,"body_markdown":"Make sure you are using the entity/model field names that are not conflicting with DB reserved keywords.\r\n\r\nI had the same error in my Model entity, I had a variable named ```Order``` which somehow conflicts with the Database reserved keywords.","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>Make sure you are using the entity/model field names that are not conflicting with DB reserved keywords.</p>\n<p>I had the same error in my Model entity, I had a variable named <code>Order</code> which somehow conflicts with the Database reserved keywords.</p>\n"},{"tags":[],"owner":{"account_id":5538564,"reputation":547,"user_id":4396047,"display_name":"RRR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677158668,"creation_date":1677158668,"answer_id":75545464,"question_id":43407411,"body_markdown":"I was having same issue, changed a column name from &quot;end&quot; to &quot;endTime&quot; and it fixed.","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>I was having same issue, changed a column name from &quot;end&quot; to &quot;endTime&quot; and it fixed.</p>\n"}],"owner":{"account_id":10279692,"reputation":2683,"user_id":7585327,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138427,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":43408661,"answer_count":12,"score":30,"last_activity_date":1677158668,"creation_date":1492156055,"question_id":43407411,"body_markdown":"I am a novice in hibernate world and facing,\r\n\r\n    WARN: GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement\r\n\r\n exception while I run my stand-alone programe in hibernate 5.2.9 version. But in hibernate 4 version all my code runs well. I looked for many questions and solve but not working answer i got.\r\n\r\n&gt; Configuration file\r\n\r\n    hibernate.cfg.xml\r\n    \r\n        &lt;hibernate-configuration&gt;\r\n          &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.pool_size&quot;&gt;20&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n            &lt;mapping class=&quot;com.test.hibernate14417.MyTable&quot;&gt;&lt;/mapping&gt;\r\n          &lt;/session-factory&gt;\r\n        &lt;/hibernate-configuration&gt;\r\n\r\n&gt;Pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Hibernate14417&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;repositories&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.9.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n           \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;4.3.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n&gt; Utility file\r\n\r\n    package com.test.hibernate14417;\r\n    \r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.boot.Metadata;\r\n    import org.hibernate.boot.MetadataSources;\r\n    import org.hibernate.boot.registry.StandardServiceRegistry;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.hibernate.service.ServiceRegistry;\r\n    \r\n    \r\n    public class ExecuteUtil {\r\n        private static final SessionFactory SESSION_FACTORY=buildSessionFactory();\r\n    \r\n        private static SessionFactory buildSessionFactory() {\r\n            try {\r\n                ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\r\n                        .configure(&quot;hibernate.cfg.xml&quot;).build();\r\n    \r\n                Metadata metadata = new MetadataSources(serviceRegistry).buildMetadata();\r\n    \r\n                return metadata.getSessionFactoryBuilder().build();\r\n    \r\n            } catch (Throwable ex) {\r\n                System.err.println(&quot;Initial SessionFactory creation failed.&quot; + ex);\r\n                throw new ExceptionInInitializerError(ex);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static SessionFactory getSESSION_FACTORY() {\r\n            return SESSION_FACTORY;\r\n        }\r\n        \r\n        public static void shutdown(){\r\n            getSESSION_FACTORY().close();\r\n        }\r\n        \r\n    }\r\n\r\n&gt; Entity file\r\n\r\n\r\n    package com.test.hibernate14417;\r\n    \r\n    import java.io.Serializable;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    \r\n    \r\n    \r\n    \r\n    @Entity\r\n    public class MyTable implements Serializable {\r\n        \r\n        @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n        \r\n        private String name;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        \r\n        \r\n        \r\n    }\r\n\r\n&gt; Main method\r\n\r\n    package com.test.hibernate14417;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    \r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            \r\n            MyTable mt=new MyTable();\r\n            mt.setName(&quot;Man&quot;);\r\n            \r\n            SessionFactory sessionFactory=ExecuteUtil.getSESSION_FACTORY();\r\n            \r\n            Session session=sessionFactory.getCurrentSession();\r\n            \r\n            \r\n            try {\r\n              session.getTransaction().begin();\r\n               \r\n              session.save(mt);\r\n               \r\n              session.getTransaction().commit();\r\n               \r\n               session.close();\r\n               sessionFactory.close();\r\n               \r\n            } catch (Exception e) {\r\n                System.out.println(e.getStackTrace());\r\n                session.getTransaction().rollback();\r\n            }\r\n            \r\n            \r\n        }\r\n        \r\n&gt;Console \r\n\r\n\r\n    cd D:\\Netbeans\\Hibernate14417; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_121&quot; cmd /c &quot;\\&quot;\\&quot;C:\\\\Program Files\\\\NetBeans 8.2\\\\java\\\\maven\\\\bin\\\\mvn.bat\\&quot; -Dexec.args=\\&quot;-classpath %classpath com.test.hibernate14417.Main\\&quot; -Dexec.executable=\\&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_121\\\\bin\\\\java.exe\\&quot; -Dmaven.ext.class.path=\\&quot;C:\\\\Program Files\\\\NetBeans 8.2\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; -Dfile.encoding=UTF-8 org.codehaus.mojo:exec-maven-plugin:1.2.1:exec\\&quot;&quot;\r\n    Running NetBeans Compile On Save execution. Phase execution is skipped and output directories of dependency projects (with Compile on Save turned on) will be used instead of their jar artifacts.\r\n    Scanning for projects...\r\n                                                                            \r\n    ------------------------------------------------------------------------\r\n    Building Hibernate14417 1.0-SNAPSHOT\r\n    ------------------------------------------------------------------------\r\n    \r\n    --- exec-maven-plugin:1.2.1:exec (default-cli) @ Hibernate14417 ---\r\n    Apr 14, 2017 10:41:51 AM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.2.9.Final}\r\n    Apr 14, 2017 10:41:51 AM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000206: hibernate.properties not found\r\n    Apr 14, 2017 10:41:53 AM org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver resolveEntity\r\n    WARN: HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\r\n    Apr 14, 2017 10:41:54 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    Apr 14, 2017 10:41:54 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    Apr 14, 2017 10:41:54 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/test]\r\n    Apr 14, 2017 10:41:54 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {user=root, password=****}\r\n    Apr 14, 2017 10:41:54 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: false\r\n    Apr 14, 2017 10:41:54 AM org.hibernate.engine.jdbc.connections.internal.PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    Apr 14, 2017 10:41:55 AM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n    Apr 14, 2017 10:41:55 AM org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl useContextualLobCreation\r\n    INFO: HHH000423: Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4\r\n    Hibernate: drop table if exists hibernate_sequence\r\n    Apr 14, 2017 10:41:58 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\n    INFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@24111ef1] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    Hibernate: drop table if exists MyTable\r\n    Hibernate: create table hibernate_sequence (next_val bigint) type=MyISAM\r\n    Apr 14, 2017 10:41:58 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\n    INFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@531f4093] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    Apr 14, 2017 10:41:58 AM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\n    WARN: GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:309)\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:445)\r\n    \tat com.test.hibernate14417.ExecuteUtil.buildSessionFactory(ExecuteUtil.java:29)\r\n    \tat com.test.hibernate14417.ExecuteUtil.&lt;clinit&gt;(ExecuteUtil.java:20)\r\n    \tat com.test.hibernate14417.Main.main(Main.java:21)\r\n    Caused by: java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;type=MyISAM&#39; at line 1\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2926)\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1571)\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1666)\r\n    \tat com.mysql.jdbc.Connection.execSQL(Connection.java:2972)\r\n    \tat com.mysql.jdbc.Connection.execSQL(Connection.java:2902)\r\n    \tat com.mysql.jdbc.Statement.execute(Statement.java:529)\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n    \t... 13 more\r\n    \r\n    Hibernate: insert into hibernate_sequence values ( 1 )\r\n    Apr 14, 2017 10:41:58 AM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\n    WARN: GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:309)\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:445)\r\n    \tat com.test.hibernate14417.ExecuteUtil.buildSessionFactory(ExecuteUtil.java:29)\r\n    \tat com.test.hibernate14417.ExecuteUtil.&lt;clinit&gt;(ExecuteUtil.java:20)\r\n    \tat com.test.hibernate14417.Main.main(Main.java:21)\r\n    Caused by: java.sql.SQLException: Table &#39;test.hibernate_sequence&#39; doesn&#39;t exist\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2926)\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1571)\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1666)\r\n    \tat com.mysql.jdbc.Connection.execSQL(Connection.java:2972)\r\n    \tat com.mysql.jdbc.Connection.execSQL(Connection.java:2902)\r\n    \tat com.mysql.jdbc.Statement.execute(Statement.java:529)\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n    \t... 13 more\r\n    \r\n    Hibernate: create table MyTable (id integer not null, name varchar(255), primary key (id)) type=MyISAM\r\n    Apr 14, 2017 10:41:58 AM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\n    WARN: GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:309)\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:445)\r\n    \tat com.test.hibernate14417.ExecuteUtil.buildSessionFactory(ExecuteUtil.java:29)\r\n    \tat com.test.hibernate14417.ExecuteUtil.&lt;clinit&gt;(ExecuteUtil.java:20)\r\n    \tat com.test.hibernate14417.Main.main(Main.java:21)\r\n    Caused by: java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;type=MyISAM&#39; at line 1\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2926)\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1571)\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1666)\r\n    \tat com.mysql.jdbc.Connection.execSQL(Connection.java:2972)\r\n    \tat com.mysql.jdbc.Connection.execSQL(Connection.java:2902)\r\n    \tat com.mysql.jdbc.Statement.execute(Statement.java:529)\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n    \t... 13 more\r\n    \r\n    Apr 14, 2017 10:41:58 AM org.hibernate.tool.schema.internal.SchemaCreatorImpl applyImportSources\r\n    INFO: HHH000476: Executing import script &#39;org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@7776ab&#39;\r\n    Exception in thread &quot;main&quot; org.hibernate.HibernateException: No CurrentSessionContext configured!\r\n    \tat org.hibernate.internal.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:454)\r\n    \tat com.test.hibernate14417.Main.main(Main.java:23)\r\n\r\n\r\n","title":"GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement","body":"<p>I am a novice in hibernate world and facing,</p>\n\n<pre><code>WARN: GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement\n</code></pre>\n\n<p>exception while I run my stand-alone programe in hibernate 5.2.9 version. But in hibernate 4 version all my code runs well. I looked for many questions and solve but not working answer i got.</p>\n\n<blockquote>\n  <p>Configuration file</p>\n</blockquote>\n\n<pre><code>hibernate.cfg.xml\n\n    &lt;hibernate-configuration&gt;\n      &lt;session-factory&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;admin&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.pool_size\"&gt;20&lt;/property&gt;\n        &lt;property name=\"hibernate.show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/property&gt;\n        &lt;mapping class=\"com.test.hibernate14417.MyTable\"&gt;&lt;/mapping&gt;\n      &lt;/session-factory&gt;\n    &lt;/hibernate-configuration&gt;\n</code></pre>\n\n<blockquote>\n  <p>Pom.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;Hibernate14417&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;repositories&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n            &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;3.1.11&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n\n<blockquote>\n  <p>Utility file</p>\n</blockquote>\n\n<pre><code>package com.test.hibernate14417;\n\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.Metadata;\nimport org.hibernate.boot.MetadataSources;\nimport org.hibernate.boot.registry.StandardServiceRegistry;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.service.ServiceRegistry;\n\n\npublic class ExecuteUtil {\n    private static final SessionFactory SESSION_FACTORY=buildSessionFactory();\n\n    private static SessionFactory buildSessionFactory() {\n        try {\n            ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\n                    .configure(\"hibernate.cfg.xml\").build();\n\n            Metadata metadata = new MetadataSources(serviceRegistry).buildMetadata();\n\n            return metadata.getSessionFactoryBuilder().build();\n\n        } catch (Throwable ex) {\n            System.err.println(\"Initial SessionFactory creation failed.\" + ex);\n            throw new ExceptionInInitializerError(ex);\n        }\n\n    }\n\n    public static SessionFactory getSESSION_FACTORY() {\n        return SESSION_FACTORY;\n    }\n\n    public static void shutdown(){\n        getSESSION_FACTORY().close();\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Entity file</p>\n</blockquote>\n\n<pre><code>package com.test.hibernate14417;\n\nimport java.io.Serializable;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n\n\n\n@Entity\npublic class MyTable implements Serializable {\n\n    @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String name;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Main method</p>\n</blockquote>\n\n<pre><code>package com.test.hibernate14417;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\n\n\npublic class Main {\n    public static void main(String[] args) {\n\n        MyTable mt=new MyTable();\n        mt.setName(\"Man\");\n\n        SessionFactory sessionFactory=ExecuteUtil.getSESSION_FACTORY();\n\n        Session session=sessionFactory.getCurrentSession();\n\n\n        try {\n          session.getTransaction().begin();\n\n          session.save(mt);\n\n          session.getTransaction().commit();\n\n           session.close();\n           sessionFactory.close();\n\n        } catch (Exception e) {\n            System.out.println(e.getStackTrace());\n            session.getTransaction().rollback();\n        }\n\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>Console </p>\n</blockquote>\n\n<pre><code>cd D:\\Netbeans\\Hibernate14417; \"JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_121\" cmd /c \"\\\"\\\"C:\\\\Program Files\\\\NetBeans 8.2\\\\java\\\\maven\\\\bin\\\\mvn.bat\\\" -Dexec.args=\\\"-classpath %classpath com.test.hibernate14417.Main\\\" -Dexec.executable=\\\"C:\\\\Program Files\\\\Java\\\\jdk1.8.0_121\\\\bin\\\\java.exe\\\" -Dmaven.ext.class.path=\\\"C:\\\\Program Files\\\\NetBeans 8.2\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\\" -Dfile.encoding=UTF-8 org.codehaus.mojo:exec-maven-plugin:1.2.1:exec\\\"\"\nRunning NetBeans Compile On Save execution. Phase execution is skipped and output directories of dependency projects (with Compile on Save turned on) will be used instead of their jar artifacts.\nScanning for projects...\n\n------------------------------------------------------------------------\nBuilding Hibernate14417 1.0-SNAPSHOT\n------------------------------------------------------------------------\n\n--- exec-maven-plugin:1.2.1:exec (default-cli) @ Hibernate14417 ---\nApr 14, 2017 10:41:51 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.2.9.Final}\nApr 14, 2017 10:41:51 AM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nApr 14, 2017 10:41:53 AM org.hibernate.boot.jaxb.internal.stax.LocalXmlResourceResolver resolveEntity\nWARN: HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.\nApr 14, 2017 10:41:54 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\nApr 14, 2017 10:41:54 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nApr 14, 2017 10:41:54 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [com.mysql.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/test]\nApr 14, 2017 10:41:54 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {user=root, password=****}\nApr 14, 2017 10:41:54 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nApr 14, 2017 10:41:54 AM org.hibernate.engine.jdbc.connections.internal.PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nApr 14, 2017 10:41:55 AM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\nApr 14, 2017 10:41:55 AM org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl useContextualLobCreation\nINFO: HHH000423: Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4\nHibernate: drop table if exists hibernate_sequence\nApr 14, 2017 10:41:58 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@24111ef1] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nHibernate: drop table if exists MyTable\nHibernate: create table hibernate_sequence (next_val bigint) type=MyISAM\nApr 14, 2017 10:41:58 AM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@531f4093] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nApr 14, 2017 10:41:58 AM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:309)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:445)\n    at com.test.hibernate14417.ExecuteUtil.buildSessionFactory(ExecuteUtil.java:29)\n    at com.test.hibernate14417.ExecuteUtil.&lt;clinit&gt;(ExecuteUtil.java:20)\n    at com.test.hibernate14417.Main.main(Main.java:21)\nCaused by: java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'type=MyISAM' at line 1\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2926)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1571)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1666)\n    at com.mysql.jdbc.Connection.execSQL(Connection.java:2972)\n    at com.mysql.jdbc.Connection.execSQL(Connection.java:2902)\n    at com.mysql.jdbc.Statement.execute(Statement.java:529)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n    ... 13 more\n\nHibernate: insert into hibernate_sequence values ( 1 )\nApr 14, 2017 10:41:58 AM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:309)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:445)\n    at com.test.hibernate14417.ExecuteUtil.buildSessionFactory(ExecuteUtil.java:29)\n    at com.test.hibernate14417.ExecuteUtil.&lt;clinit&gt;(ExecuteUtil.java:20)\n    at com.test.hibernate14417.Main.main(Main.java:21)\nCaused by: java.sql.SQLException: Table 'test.hibernate_sequence' doesn't exist\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2926)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1571)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1666)\n    at com.mysql.jdbc.Connection.execSQL(Connection.java:2972)\n    at com.mysql.jdbc.Connection.execSQL(Connection.java:2902)\n    at com.mysql.jdbc.Statement.execute(Statement.java:529)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n    ... 13 more\n\nHibernate: create table MyTable (id integer not null, name varchar(255), primary key (id)) type=MyISAM\nApr 14, 2017 10:41:58 AM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:309)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:445)\n    at com.test.hibernate14417.ExecuteUtil.buildSessionFactory(ExecuteUtil.java:29)\n    at com.test.hibernate14417.ExecuteUtil.&lt;clinit&gt;(ExecuteUtil.java:20)\n    at com.test.hibernate14417.Main.main(Main.java:21)\nCaused by: java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'type=MyISAM' at line 1\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2926)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1571)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1666)\n    at com.mysql.jdbc.Connection.execSQL(Connection.java:2972)\n    at com.mysql.jdbc.Connection.execSQL(Connection.java:2902)\n    at com.mysql.jdbc.Statement.execute(Statement.java:529)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n    ... 13 more\n\nApr 14, 2017 10:41:58 AM org.hibernate.tool.schema.internal.SchemaCreatorImpl applyImportSources\nINFO: HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@7776ab'\nException in thread \"main\" org.hibernate.HibernateException: No CurrentSessionContext configured!\n    at org.hibernate.internal.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:454)\n    at com.test.hibernate14417.Main.main(Main.java:23)\n</code></pre>\n"},{"tags":["java","junit","mockito","httpclient","powermockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677245128,"post_id":75544329,"comment_id":133304747,"body_markdown":"`HttpClientBuilder builder = mock(HttpClientBuilder.class); when(builder.build()).thenReturn(clientMock); when(HttpClient.newBuilder()).thenReturn(builder);` does it work? Maybe also try `RETURN_DEEP_STUBS` in your `mockStatic` call. Also, `mockStatic` should be used with a try-with-resources block","body":"<code>HttpClientBuilder builder = mock(HttpClientBuilder.class); when(builder.build()).thenReturn(clientMock); when(HttpClient.newBuilder()).thenReturn(builder);</code> does it work? Maybe also try <code>RETURN_DEEP_STUBS</code> in your <code>mockStatic</code> call. Also, <code>mockStatic</code> should be used with a try-with-resources block"}],"owner":{"account_id":3299519,"reputation":776,"user_id":2776012,"accept_rate":0,"display_name":"Shivayan Mukherjee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677158522,"creation_date":1677152453,"question_id":75544329,"body_markdown":"The following is the test method where I am trying to return a mocked HTTPClient object, however after static mocking the HttpClient class, the HttpClient.newBuilder() step returns null\r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(HttpClient.class)\r\nclass UtilityServiceTest {\r\n\r\n@Mock\r\nHttpClient clientMock;\r\n\r\n@Mock\r\nBuilder builderMock;\r\n\r\n    @Test\r\n\tpublic void testPopulateStudentDetails() throws IOException, InterruptedException, InstallerException {\r\n\t\t\r\n\t\t\r\n\t\tmockStatic(HttpClient.class);\r\n\t\twhen(HttpClient.newBuilder().build()).thenReturn(clientMock);\r\n\t\t\r\n\t\tUtilityService utilityService = new UtilityService();\r\n\t\twhen(clientMock.send(Mockito.any(HttpRequest.class), Mockito.eq(HttpResponse.BodyHandlers.ofString()))).thenReturn(responseMock);\r\n\t\tutilityService.populateStudentDetails(studentId, configFile);\r\n\t\t\r\n\t\t}\r\n}\r\n\r\n\r\npublic void testPopulateStudentDetails(String studentID, Properties configFile){\r\n\r\nHttpClient client = HttpClient.newBuilder().version(Version.HTTP_1_1).build();\r\n..........\r\n.........\r\n}","title":"Mocked Static HttpClient.newBuilder() returns null","body":"<p>The following is the test method where I am trying to return a mocked HTTPClient object, however after static mocking the HttpClient class, the HttpClient.newBuilder() step returns null</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(HttpClient.class)\nclass UtilityServiceTest {\n\n@Mock\nHttpClient clientMock;\n\n@Mock\nBuilder builderMock;\n\n    @Test\n    public void testPopulateStudentDetails() throws IOException, InterruptedException, InstallerException {\n        \n        \n        mockStatic(HttpClient.class);\n        when(HttpClient.newBuilder().build()).thenReturn(clientMock);\n        \n        UtilityService utilityService = new UtilityService();\n        when(clientMock.send(Mockito.any(HttpRequest.class), Mockito.eq(HttpResponse.BodyHandlers.ofString()))).thenReturn(responseMock);\n        utilityService.populateStudentDetails(studentId, configFile);\n        \n        }\n}\n\n\npublic void testPopulateStudentDetails(String studentID, Properties configFile){\n\nHttpClient client = HttpClient.newBuilder().version(Version.HTTP_1_1).build();\n..........\n.........\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1677222938,"post_id":75545288,"comment_id":133298920,"body_markdown":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: https://stackoverflow.com/help/how-to-ask","body":"Please don&#39;t post code images or bugs if possible, copy your code or code error into question with block code format: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":11796547,"reputation":1,"user_id":8631135,"display_name":"Vitaliy Che"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677158478,"creation_date":1677158478,"answer_id":75545420,"question_id":75545288,"body_markdown":"It seems like the chromedriver executable file is not found or not accessible.","title":"Selenium doesn&#39;t open browser","body":"<p>It seems like the chromedriver executable file is not found or not accessible.</p>\n"}],"owner":{"account_id":27860505,"reputation":1,"user_id":21273158,"display_name":"Maged Gamil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677158478,"creation_date":1677157787,"question_id":75545288,"body_markdown":"I just started learning selenium using Java and I&#39;m trying to run my first test but [enter image description here](https://i.stack.imgur.com/iW2ar.png)Google chrome browser doesn&#39;t open and I get an error, could someone please tell me what&#39;s wrong and how to fix it? I have attached screenshots here, https://prnt.sc/80BUREDOXF5P , https://prnt.sc/-KlCUYpi4K_b [enter image description here](https://i.sta[enter image description here](https://i.stack.imgur.com/qLYCW.png)ck.imgur.com/a9Yub.png)\r\n\r\nI tried to run an automated test and I was excpecting google chrome to open but that didn&#39;t happen and I got an error ","title":"Selenium doesn&#39;t open browser","body":"<p>I just started learning selenium using Java and I'm trying to run my first test but <a href=\"https://i.stack.imgur.com/iW2ar.png\" rel=\"nofollow noreferrer\">enter image description here</a>Google chrome browser doesn't open and I get an error, could someone please tell me what's wrong and how to fix it? I have attached screenshots here, <a href=\"https://prnt.sc/80BUREDOXF5P\" rel=\"nofollow noreferrer\">https://prnt.sc/80BUREDOXF5P</a> , <a href=\"https://prnt.sc/-KlCUYpi4K_b\" rel=\"nofollow noreferrer\">https://prnt.sc/-KlCUYpi4K_b</a> [enter image description here](https://i.sta<a href=\"https://i.stack.imgur.com/qLYCW.png\" rel=\"nofollow noreferrer\">enter image description here</a>ck.imgur.com/a9Yub.png)</p>\n<p>I tried to run an automated test and I was excpecting google chrome to open but that didn't happen and I got an error</p>\n"},{"tags":["java","oop","design-patterns"],"owner":{"account_id":21640178,"reputation":29,"user_id":15962528,"display_name":"arin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1677158349,"creation_date":1677158349,"question_id":75545397,"body_markdown":"I have been asked to design a Paint Application in JAVA .It is just a implementation problem not a original Paint GUI where we can draw.\r\n\r\nRequirements:\r\n\r\n1.It should have a File Menu : which would have 3 options :\r\na. A New File\r\nb. Save the file\r\nc. Open the file which we last saved\r\n\r\n2.It should support drawing 3 Shapes\r\na. Circle\r\nb. Rectangle\r\nc. Line\r\n\r\n3.We can color the shapes\r\n\r\n\r\nSo I created a Interface called &quot;Shape&quot; inside which I have two method signatures\r\n\r\n1.draw();\r\n2.color(String color);\r\n\r\nThen i created 3 classes &quot;Circle&quot;, &quot;Line&quot; and &quot;Rectangle&quot; and implemented the &quot;Shape&quot; Interfaces and gave method definition to draw() and color() in all the three classes.\r\n\r\nSomething like this:\r\n\r\n\r\n \r\n```\r\n   public class Line implements Shape {\r\n\r\n        @Override\r\n        public String draw() {\r\n            return &quot;Line is drawn&quot;;\r\n        }\r\n        @Override\r\n        public String color(String color) {\r\n            return &quot;Color of line is &quot;+color;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nI have also created a Paint Class which would be my main class or object of this class would be the new Paint Canvas.\r\n\r\nI have made it something like this till now\r\n\r\n    public class Paint {\r\n    \r\n        List&lt;Shape&gt; shapes;\r\n        public Paint(){\r\n            shapes = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        //to draw a line call Line Class\r\n        public Line drawLine(){\r\n            return new Line();\r\n        }\r\n    \r\n    }\r\n\r\nBut now I am confused how do I implement the features\r\n1.Open a New Paint File\r\n2.Save the Paint File\r\n3.Open the file we have saved.\r\n\r\nHow do i implement all these features just by using plain Java ? Or which Data Structure shall I use for this. Can someone please help me design this ?\r\n\r\n[![Image of my project structure]](https://i.stack.imgur.com/Dk3Qn.png)\r\n\r\n","title":"How do i design a Paint Application like MS Paint using JAVA OOps and design Principles?","body":"<p>I have been asked to design a Paint Application in JAVA .It is just a implementation problem not a original Paint GUI where we can draw.</p>\n<p>Requirements:</p>\n<p>1.It should have a File Menu : which would have 3 options :\na. A New File\nb. Save the file\nc. Open the file which we last saved</p>\n<p>2.It should support drawing 3 Shapes\na. Circle\nb. Rectangle\nc. Line</p>\n<p>3.We can color the shapes</p>\n<p>So I created a Interface called &quot;Shape&quot; inside which I have two method signatures</p>\n<p>1.draw();\n2.color(String color);</p>\n<p>Then i created 3 classes &quot;Circle&quot;, &quot;Line&quot; and &quot;Rectangle&quot; and implemented the &quot;Shape&quot; Interfaces and gave method definition to draw() and color() in all the three classes.</p>\n<p>Something like this:</p>\n<pre><code>   public class Line implements Shape {\n\n        @Override\n        public String draw() {\n            return &quot;Line is drawn&quot;;\n        }\n        @Override\n        public String color(String color) {\n            return &quot;Color of line is &quot;+color;\n        }\n    }\n\n</code></pre>\n<p>I have also created a Paint Class which would be my main class or object of this class would be the new Paint Canvas.</p>\n<p>I have made it something like this till now</p>\n<pre><code>public class Paint {\n\n    List&lt;Shape&gt; shapes;\n    public Paint(){\n        shapes = new ArrayList&lt;&gt;();\n    }\n\n    //to draw a line call Line Class\n    public Line drawLine(){\n        return new Line();\n    }\n\n}\n</code></pre>\n<p>But now I am confused how do I implement the features\n1.Open a New Paint File\n2.Save the Paint File\n3.Open the file we have saved.</p>\n<p>How do i implement all these features just by using plain Java ? Or which Data Structure shall I use for this. Can someone please help me design this ?</p>\n<p><a href=\"https://i.stack.imgur.com/Dk3Qn.png\" rel=\"nofollow noreferrer\">![Image of my project structure]</a></p>\n"},{"tags":["java","automation","excel-2010"],"comments":[{"owner":{"account_id":13055248,"reputation":559,"user_id":9434323,"display_name":"Sterconium"},"score":0,"creation_date":1570790082,"post_id":58339395,"comment_id":103034293,"body_markdown":"Personally I&#39;ve never used it, but there is a framework for working with xlxs: https://www.mkyong.com/java/apache-poi-reading-and-writing-excel-file-in-java/","body":"Personally I&#39;ve never used it, but there is a framework for working with xlxs: <a href=\"https://www.mkyong.com/java/apache-poi-reading-and-writing-excel-file-in-java/\" rel=\"nofollow noreferrer\">mkyong.com/java/&hellip;</a>"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1570790084,"post_id":58339395,"comment_id":103034295,"body_markdown":"And the question is…?","body":"And the question is…?"},{"owner":{"account_id":16596219,"reputation":109,"user_id":11993013,"display_name":"Vipin Singh"},"score":0,"creation_date":1570790358,"post_id":58339395,"comment_id":103034412,"body_markdown":"Setup and Request are column name in excel, i have shared the image , how data has to be written in excel","body":"Setup and Request are column name in excel, i have shared the image , how data has to be written in excel"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1570790501,"post_id":58339395,"comment_id":103034492,"body_markdown":"Why do you create cells 8 and 9 when you obviously want to insert values into the cells 0 and 1? Additionally, you don&#39;t close the workbook instance, which may lead to broken files.","body":"Why do you create cells 8 and 9 when you obviously want to insert values into the cells 0 and 1? Additionally, you don&#39;t close the workbook instance, which may lead to broken files."}],"answers":[{"tags":[],"owner":{"account_id":3723726,"reputation":387,"user_id":3098071,"display_name":"SJN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570790892,"creation_date":1570790892,"answer_id":58339642,"question_id":58339395,"body_markdown":"I think your for loop is not correct   \r\n\r\n     for(int i=1; i&lt;=n; i++){\r\nIt should be \r\n\r\n    for(int i=1; i&lt;=lastRow; i++){\r\n\r\n","title":"Write multiple records in two column in excel using java","body":"<p>I think your for loop is not correct   </p>\n\n<pre><code> for(int i=1; i&lt;=n; i++){\n</code></pre>\n\n<p>It should be </p>\n\n<pre><code>for(int i=1; i&lt;=lastRow; i++){\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16596219,"reputation":109,"user_id":11993013,"display_name":"Vipin Singh"},"score":0,"creation_date":1570799505,"post_id":58339764,"comment_id":103039083,"body_markdown":"I have write in the existing excel sheet only , what changes have to be done in the above code","body":"I have write in the existing excel sheet only , what changes have to be done in the above code"},{"owner":{"account_id":14463217,"reputation":177,"user_id":10447465,"display_name":"Coma"},"score":0,"creation_date":1570800361,"post_id":58339764,"comment_id":103039570,"body_markdown":"@VipinSingh try\n ```Workbook workbook = new XSSFWorkbook(file); Sheet sheet = workbook.getSheetAt(index);\n\n```","body":"@VipinSingh try  <code>Workbook workbook = new XSSFWorkbook(file); Sheet sheet = workbook.getSheetAt(index);  </code>"},{"owner":{"account_id":16596219,"reputation":109,"user_id":11993013,"display_name":"Vipin Singh"},"score":0,"creation_date":1571119219,"post_id":58339764,"comment_id":103123104,"body_markdown":"String Ustr= setup.getText();\nString urequest = request.getText();                                                                            cell.setCellValue(Ustr);\ncell1.setCellValue(urequest);   I have to pass the string value to setCellValue which will be unique or same","body":"String Ustr= setup.getText(); String urequest = request.getText();                                                                            cell.setCellValue(Ustr); cell1.setCellValue(urequest);   I have to pass the string value to setCellValue which will be unique or same"},{"owner":{"account_id":16596219,"reputation":109,"user_id":11993013,"display_name":"Vipin Singh"},"score":0,"creation_date":1571132798,"post_id":58339764,"comment_id":103129879,"body_markdown":"Can u please help in modifying the code using the above requirements-@Coma","body":"Can u please help in modifying the code using the above requirements-@Coma"}],"tags":[],"owner":{"account_id":14463217,"reputation":177,"user_id":10447465,"display_name":"Coma"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677158030,"creation_date":1570791361,"answer_id":58339764,"question_id":58339395,"body_markdown":"```java\r\n\r\nWorkbook workbook = new XSSFWorkbook();\r\n\r\nSheet sheet = workbook.createSheet();\r\n\r\nRow headerRow = sheet.createRow(0);\r\n\r\nheaderRow.createCell(0).setCellValue(&quot;Setupid&quot;);\r\nheaderRow.createCell(1).setCellValue(&quot;Request&quot;);\r\n\r\nint cellCount = 10;\r\n\r\nfor (int i = 1; i &lt;= cellCount; i++) {\r\n\r\n    Row row = sheet.createRow(i);\r\n\r\n    row.createCell(0).setCellValue(&quot;cell &quot; + i);\r\n    row.createCell(1).setCellValue(&quot;cell &quot; + i);\r\n}\r\n\r\nFile file = new File(System.getProperty(&quot;user.dir&quot;) \r\n                            + &quot;/src/main/uat/testdata/FreeTestData.xlsx&quot;);\r\n\r\nif(file.exists()) {\r\n    file.delete();\r\n}\r\n\r\nfile.createNewFile();\r\n\r\nFileOutputStream fos = new FileOutputStream(file);\r\n\r\nworkbook.write(fos);\r\n\r\nfos.close();\r\n\r\nworkbook.close();\r\n\r\n```","title":"Write multiple records in two column in excel using java","body":"<pre class=\"lang-java prettyprint-override\"><code>\nWorkbook workbook = new XSSFWorkbook();\n\nSheet sheet = workbook.createSheet();\n\nRow headerRow = sheet.createRow(0);\n\nheaderRow.createCell(0).setCellValue(&quot;Setupid&quot;);\nheaderRow.createCell(1).setCellValue(&quot;Request&quot;);\n\nint cellCount = 10;\n\nfor (int i = 1; i &lt;= cellCount; i++) {\n\n    Row row = sheet.createRow(i);\n\n    row.createCell(0).setCellValue(&quot;cell &quot; + i);\n    row.createCell(1).setCellValue(&quot;cell &quot; + i);\n}\n\nFile file = new File(System.getProperty(&quot;user.dir&quot;) \n                            + &quot;/src/main/uat/testdata/FreeTestData.xlsx&quot;);\n\nif(file.exists()) {\n    file.delete();\n}\n\nfile.createNewFile();\n\nFileOutputStream fos = new FileOutputStream(file);\n\nworkbook.write(fos);\n\nfos.close();\n\nworkbook.close();\n\n</code></pre>\n"}],"owner":{"account_id":16596219,"reputation":109,"user_id":11993013,"display_name":"Vipin Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58339764,"answer_count":2,"score":0,"last_activity_date":1677158030,"creation_date":1570789979,"question_id":58339395,"body_markdown":"I have two column namely Setup and Request in excel, need to write multiple rows in excel using java\r\n\r\n```Java\r\npublic void WriteExcelValues() throws IOException {\r\nString Ustr= setup.getText();\r\nString urequest = request.getText();\r\n\tFile file = new File(System.getProperty(&quot;user.dir&quot;) \r\n\t\t\t\t\t\t\t+ &quot;/src/main/uat/testdata/FreeTestData.xlsx&quot;);\r\n\tFileInputStream fis = new FileInputStream(file);\r\n\tWorkbook workbook = new XSSFWorkbook(fis);\r\n\tSheet sheet = workbook.getSheetAt(0);\r\n\tint lastRow = sheet.getLastRowNum();\r\n\tint n = 1;\r\n\t\t \r\n\tfor (int i = 1; i &lt;= n; i++) {\t \r\n\t\tRow row = sheet.getRow(i); \r\n\t\tCell cell = row.createCell(8);\r\n\t\tCell cell1 = row.createCell(9);\r\n\t\t \r\n\t\tcell.setCellValue(Ustr);\r\n\t\tcell1.setCellValue(urequest);\r\n\t\t//cell.setCellValue(&quot;AcknowledgementId&quot;); \r\n\t}\r\n\t\t \r\n\tFileOutputStream fos = new FileOutputStream(file);\t \r\n\tworkbook.write(fos);\r\n\tfos.close();\r\n}\r\n```\r\n\r\nfor example\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAbove code is not complete and doesn&#39;t satisfy the criteria also.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GT5LL.png","title":"Write multiple records in two column in excel using java","body":"<p>I have two column namely Setup and Request in excel, need to write multiple rows in excel using java</p>\n\n<pre><code>public void WriteExcelValues() throws IOException {\nString Ustr= setup.getText();\nString urequest = request.getText();\n    File file = new File(System.getProperty(\"user.dir\") \n                            + \"/src/main/uat/testdata/FreeTestData.xlsx\");\n    FileInputStream fis = new FileInputStream(file);\n    Workbook workbook = new XSSFWorkbook(fis);\n    Sheet sheet = workbook.getSheetAt(0);\n    int lastRow = sheet.getLastRowNum();\n    int n = 1;\n\n    for (int i = 1; i &lt;= n; i++) {   \n        Row row = sheet.getRow(i); \n        Cell cell = row.createCell(8);\n        Cell cell1 = row.createCell(9);\n\n        cell.setCellValue(Ustr);\n        cell1.setCellValue(urequest);\n        //cell.setCellValue(\"AcknowledgementId\"); \n    }\n\n    FileOutputStream fos = new FileOutputStream(file);   \n    workbook.write(fos);\n    fos.close();\n}\n</code></pre>\n\n<p>for example</p>\n\n<p><a href=\"https://i.stack.imgur.com/GT5LL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GT5LL.png\" alt=\"enter image description here\"></a></p>\n\n<p>Above code is not complete and doesn't satisfy the criteria also.</p>\n"},{"tags":["java","python-2.7","jar","burp","js2py"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1677187526,"post_id":75545238,"comment_id":133294030,"body_markdown":"Jython and Python 2 are both outdated and deprecated technologies. And using an emulated language (Jython) to emulate a third language (JS) is a bad idea. Better directly include a JS runtime/engine into your Java project.","body":"Jython and Python 2 are both outdated and deprecated technologies. And using an emulated language (Jython) to emulate a third language (JS) is a bad idea. Better directly include a JS runtime/engine into your Java project."},{"owner":{"account_id":20648872,"reputation":35,"user_id":15159673,"display_name":"Oleksandr Ovcharenko"},"score":0,"creation_date":1677231256,"post_id":75545238,"comment_id":133300921,"body_markdown":"I should use Jython because I have working task to used it) You said it&#39;s better to include a JS runtime/engine into your Java project. Do you mean ScriptEngineManager engine? Can I include it to the Python project?","body":"I should use Jython because I have working task to used it) You said it&#39;s better to include a JS runtime/engine into your Java project. Do you mean ScriptEngineManager engine? Can I include it to the Python project?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1677235737,"post_id":75545238,"comment_id":133302133,"body_markdown":"Fro my perspective Jython and Jython3 are dead. Using it for a new project is a very bad idea. Also try to avoid mixing languages/interpreting languages. That will only increase the effort for maintenance. Run each language in separate process/VM and communicate via network between them, e.g. using GRPC, JSON-RPC or something similar.","body":"Fro my perspective Jython and Jython3 are dead. Using it for a new project is a very bad idea. Also try to avoid mixing languages/interpreting languages. That will only increase the effort for maintenance. Run each language in separate process/VM and communicate via network between them, e.g. using GRPC, JSON-RPC or something similar."},{"owner":{"account_id":20648872,"reputation":35,"user_id":15159673,"display_name":"Oleksandr Ovcharenko"},"score":0,"creation_date":1677239292,"post_id":75545238,"comment_id":133303102,"body_markdown":"Truly saying I agree with you, that Jython is a bad idea. But problem is that Burp can run Python code only in Jython, that is why I should use it. You said I can separate Python and js precess, will it work in Burp app? Because js process must be working somewhere","body":"Truly saying I agree with you, that Jython is a bad idea. But problem is that Burp can run Python code only in Jython, that is why I should use it. You said I can separate Python and js precess, will it work in Burp app? Because js process must be working somewhere"}],"owner":{"account_id":20648872,"reputation":35,"user_id":15159673,"display_name":"Oleksandr Ovcharenko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677157576,"creation_date":1677157576,"question_id":75545238,"body_markdown":"I am writing Python application as extension for Burp Suite app. \r\nMy application should parse JSON file which is a Postman collection, find all requests from collection and add it to the Burp site map. I successfully create script which parse requests themselves, its body and headers. But some requests contain pre-request scripts which is written using JavaScript. \r\n\r\nUsing default Python 2.7 I wrote such code with js2py library which allows to run JavaScript code using Python:\r\n``` \r\nimport js2py\r\nclass Postman:\r\n    collectionVariables = []\r\n    globals = []\r\n    environment = []\r\n\r\n    def run_pre_request_scripts(self, request):\r\n        exec_script = self.get_exec_scripts(request)\r\n        if exec_script is not None:\r\n            js_code = self.reformat_script(exec_script)\r\n            js_code = &quot;pm = {&#39;collectionVariables&#39;: [], &#39;globals&#39;: [], &#39;environment&#39;: []};\\nvariable = {}\\n&quot; + js_code + &quot;\\npm;&quot;\r\n\r\n            pm = js2py.eval_js(js_code)\r\n\r\n            self.collectionVariables.append(pm.collectionVariables)\r\n            self.globals.append(pm.globals)\r\n            self.environment.append(pm.environment)\r\n\r\n    def reformat_script(self, str_list):\r\n        formatted_script = []\r\n        for s in str_list:\r\n            if not s.strip():\r\n                continue\r\n            elif s.startswith((&#39;var&#39;, &#39;const&#39;, &#39;let&#39;)):\r\n                formatted_str = s.strip().replace(&#39;var&#39;, &#39;&#39;).replace(&#39;const&#39;, &#39;&#39;).replace(&#39;let&#39;, &#39;&#39;).strip(&quot; &quot;)\r\n                formatted_script.append(formatted_str)\r\n            elif &quot;pm.collectionVariables.set&quot; in s:\r\n                name = s.split(&quot;(&quot;)[1].split(&quot;,&quot;)[0].strip(&quot;&#39;&quot;)\r\n                value = s.split(&quot;,&quot;)[1].strip().strip(&quot;)&quot;)\r\n                formatted_str = &quot;pm.collectionVariables.push({&#39;value&#39;: %s, &#39;key&#39;: &#39;%s&#39;});&quot; % (value, name)\r\n                formatted_script.append(formatted_str)\r\n            elif &quot;pm.globals.set&quot; in s:\r\n                variable_name = s.split(&quot;(&quot;)[1].split(&quot;,&quot;)[0].strip().strip(&#39;&quot;&#39;)\r\n                formatted_str = &quot;pm.globals.push({&#39;value&#39;: %s, &#39;key&#39;: &#39;%s&#39;});&quot; % (variable_name, variable_name)\r\n                formatted_script.append(formatted_str)\r\n            elif &quot;pm.environment.set&quot; in s:\r\n                variable_name = s.split(&quot;(&quot;)[1].split(&quot;,&quot;)[0].strip().strip(&#39;&quot;&#39;)\r\n                formatted_str = &quot;pm.environment.push({&#39;value&#39;: %s, &#39;key&#39;: &#39;%s&#39;});&quot; % (variable_name, variable_name)\r\n                formatted_script.append(formatted_str)\r\n            else:\r\n                formatted_script.append(s.strip())\r\n\r\n        return &#39;\\n&#39;.join(line for line in formatted_script if not line.startswith(&#39;//&#39;))\r\n```\r\nUsing this code I have ability to receive all variables from pre-request script like this:\r\n```\r\npm.collectionVariables.set(&#39;today-1year&#39;,&#39;2020-01-18&#39;)\r\npm.collectionVariables.set(&#39;today-3year&#39;,&#39;2018-01-18&#39;)\r\npm.collectionVariables.set(&#39;today-5year&#39;,&#39;2016-01-18&#39;)\r\npm.collectionVariables.set(&#39;today-10year&#39;,&#39;2011-01-18&#39;)\r\npm.collectionVariables.set(&#39;today+5year&#39;,&#39;2026-01-18&#39;)\r\n\r\n// generate random number between 1 and 10000\r\nconst number = (Math.floor(Math.random()*10000)*1);\r\n\r\n// generate &#39;name&#39;as unique value for the Party1\r\n\r\nvar CustomerName1 = &quot;MPCustomer1&quot; + number; \r\npm.globals.set(&quot;CustomerName1&quot;, CustomerName1);\r\n\r\nconsole.log(&quot;CustomerName1:&quot;, CustomerName1);\r\n\r\n\r\nconsole.log(&quot;CustomerName1:&quot;, CustomerName1);\r\n``` \r\nThis code works fine locally using Python 2.7\r\n\r\nMy problem is, I need to run such code using Jython 2.7 which I upload as .jar file to the Burp Suite app. To run this code I need to add js2py library to .jar file because it does not contain js2py library itself.\r\nI used such variants:\r\n1) Run this commands to add library using pip\r\n\r\njava -jar jython-standalone-2.7.3.jar -m pip ensurepip\r\n\r\njava -jar jython-standalone-2.7.3.jar -m pip install js2py\r\n\r\nBut I got such error massage:\r\n\r\nCollecting js2py\r\n  Using cached Js2Py-0.74.tar.gz (2.5 MB)\r\n    ERROR: Error [Errno 2] No such file or directory while executing command python setup.py egg_info\r\nERROR: Could not install packages due to an EnvironmentError: [Errno 2] No such file or directory\r\n\r\n2) I tried to add js2py library manually to the Jython jar file running this commands \r\n\r\njar xf jython-standalone-2.7.3.jar\r\n\r\ncp -r  /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/js2py Lib/\r\n\r\njar cfm jython-standalone-2.7.3-modified.jar META-INF/MANIFEST.MF .\r\n\r\nAfter these command in Lib folder will be placed js2py library. But if I will add this modified Jython .jar file to the Burp I will received such error:\r\n\r\nAttributeError: &#39;tablecode&#39; object has no attribute &#39;co_names&#39;\r\n\r\nAnd my python script will not start at all.\r\n\r\nGive me an advice how can I add js2py library to the .jar file, or maybe send my such file with library already installed. Because I totally don&#39;t know what another variants I can used. I would understand if js2py library was allowed only for Python 3, but I used locally Python 2.7 and my code work without any problems. Thank you!","title":"Add ability to the Jython2.7 run JavaScript code","body":"<p>I am writing Python application as extension for Burp Suite app.\nMy application should parse JSON file which is a Postman collection, find all requests from collection and add it to the Burp site map. I successfully create script which parse requests themselves, its body and headers. But some requests contain pre-request scripts which is written using JavaScript.</p>\n<p>Using default Python 2.7 I wrote such code with js2py library which allows to run JavaScript code using Python:</p>\n<pre><code>import js2py\nclass Postman:\n    collectionVariables = []\n    globals = []\n    environment = []\n\n    def run_pre_request_scripts(self, request):\n        exec_script = self.get_exec_scripts(request)\n        if exec_script is not None:\n            js_code = self.reformat_script(exec_script)\n            js_code = &quot;pm = {'collectionVariables': [], 'globals': [], 'environment': []};\\nvariable = {}\\n&quot; + js_code + &quot;\\npm;&quot;\n\n            pm = js2py.eval_js(js_code)\n\n            self.collectionVariables.append(pm.collectionVariables)\n            self.globals.append(pm.globals)\n            self.environment.append(pm.environment)\n\n    def reformat_script(self, str_list):\n        formatted_script = []\n        for s in str_list:\n            if not s.strip():\n                continue\n            elif s.startswith(('var', 'const', 'let')):\n                formatted_str = s.strip().replace('var', '').replace('const', '').replace('let', '').strip(&quot; &quot;)\n                formatted_script.append(formatted_str)\n            elif &quot;pm.collectionVariables.set&quot; in s:\n                name = s.split(&quot;(&quot;)[1].split(&quot;,&quot;)[0].strip(&quot;'&quot;)\n                value = s.split(&quot;,&quot;)[1].strip().strip(&quot;)&quot;)\n                formatted_str = &quot;pm.collectionVariables.push({'value': %s, 'key': '%s'});&quot; % (value, name)\n                formatted_script.append(formatted_str)\n            elif &quot;pm.globals.set&quot; in s:\n                variable_name = s.split(&quot;(&quot;)[1].split(&quot;,&quot;)[0].strip().strip('&quot;')\n                formatted_str = &quot;pm.globals.push({'value': %s, 'key': '%s'});&quot; % (variable_name, variable_name)\n                formatted_script.append(formatted_str)\n            elif &quot;pm.environment.set&quot; in s:\n                variable_name = s.split(&quot;(&quot;)[1].split(&quot;,&quot;)[0].strip().strip('&quot;')\n                formatted_str = &quot;pm.environment.push({'value': %s, 'key': '%s'});&quot; % (variable_name, variable_name)\n                formatted_script.append(formatted_str)\n            else:\n                formatted_script.append(s.strip())\n\n        return '\\n'.join(line for line in formatted_script if not line.startswith('//'))\n</code></pre>\n<p>Using this code I have ability to receive all variables from pre-request script like this:</p>\n<pre><code>pm.collectionVariables.set('today-1year','2020-01-18')\npm.collectionVariables.set('today-3year','2018-01-18')\npm.collectionVariables.set('today-5year','2016-01-18')\npm.collectionVariables.set('today-10year','2011-01-18')\npm.collectionVariables.set('today+5year','2026-01-18')\n\n// generate random number between 1 and 10000\nconst number = (Math.floor(Math.random()*10000)*1);\n\n// generate 'name'as unique value for the Party1\n\nvar CustomerName1 = &quot;MPCustomer1&quot; + number; \npm.globals.set(&quot;CustomerName1&quot;, CustomerName1);\n\nconsole.log(&quot;CustomerName1:&quot;, CustomerName1);\n\n\nconsole.log(&quot;CustomerName1:&quot;, CustomerName1);\n</code></pre>\n<p>This code works fine locally using Python 2.7</p>\n<p>My problem is, I need to run such code using Jython 2.7 which I upload as .jar file to the Burp Suite app. To run this code I need to add js2py library to .jar file because it does not contain js2py library itself.\nI used such variants:</p>\n<ol>\n<li>Run this commands to add library using pip</li>\n</ol>\n<p>java -jar jython-standalone-2.7.3.jar -m pip ensurepip</p>\n<p>java -jar jython-standalone-2.7.3.jar -m pip install js2py</p>\n<p>But I got such error massage:</p>\n<p>Collecting js2py\nUsing cached Js2Py-0.74.tar.gz (2.5 MB)\nERROR: Error [Errno 2] No such file or directory while executing command python setup.py egg_info\nERROR: Could not install packages due to an EnvironmentError: [Errno 2] No such file or directory</p>\n<ol start=\"2\">\n<li>I tried to add js2py library manually to the Jython jar file running this commands</li>\n</ol>\n<p>jar xf jython-standalone-2.7.3.jar</p>\n<p>cp -r  /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/js2py Lib/</p>\n<p>jar cfm jython-standalone-2.7.3-modified.jar META-INF/MANIFEST.MF .</p>\n<p>After these command in Lib folder will be placed js2py library. But if I will add this modified Jython .jar file to the Burp I will received such error:</p>\n<p>AttributeError: 'tablecode' object has no attribute 'co_names'</p>\n<p>And my python script will not start at all.</p>\n<p>Give me an advice how can I add js2py library to the .jar file, or maybe send my such file with library already installed. Because I totally don't know what another variants I can used. I would understand if js2py library was allowed only for Python 3, but I used locally Python 2.7 and my code work without any problems. Thank you!</p>\n"},{"tags":["java","spring-boot","rest","spring-resttemplate","response-entity"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1677108391,"post_id":75539046,"comment_id":133275159,"body_markdown":"&quot;does not seem to work&quot; -- what happens?","body":"&quot;does not seem to work&quot; -- what happens?"},{"owner":{"account_id":10076777,"reputation":213,"user_id":7448604,"display_name":"KJ0797"},"score":0,"creation_date":1677121441,"post_id":75539046,"comment_id":133276959,"body_markdown":"First error that led me to this was \n`Could not extract response: no suitable HttpMessageConverter found for response type [class java.lang.String] and content type [application/json]\n`. \nI&#39;ve an http message converter for JSON, but my question is about how to handle a list of resources.","body":"First error that led me to this was  <code>Could not extract response: no suitable HttpMessageConverter found for response type [class java.lang.String] and content type [application&#47;json] </code>.  I&#39;ve an http message converter for JSON, but my question is about how to handle a list of resources."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677256128,"post_id":75539191,"comment_id":133308093,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75539191/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27855475,"reputation":26,"user_id":21269064,"display_name":"Madan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677157527,"creation_date":1677108744,"answer_id":75539191,"question_id":75539046,"body_markdown":"Try this please, maybe it works for you.\r\n \r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    // set headers if required\r\n    \r\n    HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n    \r\n    String url = &quot;https://externalapi.io/api/clients&quot;;\r\n    \r\n    ParameterizedTypeReference&lt;List&lt;ClientResource&gt;&gt; responseType = new ParameterizedTypeReference&lt;List&lt;ClientResource&gt;&gt;() {};\r\n    ResponseEntity&lt;List&lt;ClientResource&gt;&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, responseType);\r\n    \r\n    List&lt;ClientResource&gt; clientResources = response.getBody();","title":"How to handle a list of resources with ResponseEntity","body":"<p>Try this please, maybe it works for you.</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\n// set headers if required\n\nHttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\n\nString url = &quot;https://externalapi.io/api/clients&quot;;\n\nParameterizedTypeReference&lt;List&lt;ClientResource&gt;&gt; responseType = new ParameterizedTypeReference&lt;List&lt;ClientResource&gt;&gt;() {};\nResponseEntity&lt;List&lt;ClientResource&gt;&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, responseType);\n\nList&lt;ClientResource&gt; clientResources = response.getBody();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16048159,"reputation":31,"user_id":11582788,"display_name":"Saskovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677139467,"creation_date":1677139467,"answer_id":75542055,"question_id":75539046,"body_markdown":"Madan&#39;s code should work. Next to using the Gson library from Google you can also use ObjectMapper from the Jackson library.\r\n\r\nSee the following:\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n    HttpEntity&lt;Object&gt; entity = new HttpEntity&lt;Object&gt;(null, headers);\r\n    \r\n    ResponseEntity&lt;String&gt; response = resttemplate.exchange(\r\n    &quot;https://externalapi.io/api/clients&quot;, HttpMethod.GET, entity, String.class);\r\n    \r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    List&lt;ClientResource&gt; clients = objectMapper.readValue(\r\n    response.getBody(), new TypeReference&lt;List&lt;ClientResource&gt;&gt;() {});","title":"How to handle a list of resources with ResponseEntity","body":"<p>Madan's code should work. Next to using the Gson library from Google you can also use ObjectMapper from the Jackson library.</p>\n<p>See the following:</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\nHttpEntity&lt;Object&gt; entity = new HttpEntity&lt;Object&gt;(null, headers);\n\nResponseEntity&lt;String&gt; response = resttemplate.exchange(\n&quot;https://externalapi.io/api/clients&quot;, HttpMethod.GET, entity, String.class);\n\nObjectMapper objectMapper = new ObjectMapper();\nList&lt;ClientResource&gt; clients = objectMapper.readValue(\nresponse.getBody(), new TypeReference&lt;List&lt;ClientResource&gt;&gt;() {});\n</code></pre>\n"}],"owner":{"account_id":10076777,"reputation":213,"user_id":7448604,"display_name":"KJ0797"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677496811,"accepted_answer_id":75539191,"answer_count":2,"score":-1,"last_activity_date":1677157527,"creation_date":1677107205,"question_id":75539046,"body_markdown":"I have an external REST API that returns a list of `client` objects as json. For example:\r\n```\r\nGET externalapi.io/api/clients\r\n\r\n[ {\r\n    &quot;id&quot; : &quot;b15asgdc-6efd-4a2d-re08-2q3r3bae&quot;,\r\n    &quot;clientName&quot; : &quot;test1&quot;,\r\n    ...\r\n  },\r\n  {\r\n    &quot;id&quot; : &quot;ryec-6efd-4a2d-aa08-29a9drjrteae&quot;,\r\n    &quot;clientName&quot; : &quot;test2&quot;,\r\n    ...\r\n  },\r\n  ...\r\n]\r\n```\r\nMy API calls this external service using Spring&#39;s RestTemplate. The goal is to get the response and parse it into `client` Java objects. I&#39;ve tried the following:\r\n\r\n```java\r\nHttpEntity&lt;Object&gt; entity = new HttpEntity&lt;Object&gt;(null, headers);\r\n\r\nResponseEntity&lt;String&gt; responseEntityJson = resttemplate.exchange(path, HttpMethod.GET, entity, String.class);\r\n\r\nType listType = new TypeToken&lt;ArrayList&lt;ClientResource&gt;&gt;(){}.getType();\r\n\r\nArrayList&lt;ClientResource&gt; responseResources = gson.fromJson(responseEntityJson.getBody(), listType);\r\n```\r\n\r\nMy trouble is with this line:\r\n```java\r\nResponseEntity&lt;String&gt; responseEntityJson = resttemplate.exchange(path, HttpMethod.GET, entity, String.class);\r\n```\r\nMy hope was that I could get the body as a JSON string, and use Google&#39;s GSON to parse it into objects, but this does not seem to work. I&#39;ve seen suggestions to use\r\n```java\r\nResponseEntity&lt;ClientResource&gt; responseEntityJson = resttemplate.exchange(path, HttpMethod.GET, entity, ClientResource.class);\r\n```\r\nbut, I don&#39;t think this works for a list of resources. I can set `ResponseEntity&lt;List&lt;ClientResource&gt;&gt;` but `.exchange()` doesn&#39;t easily accept a type like that. How can I handle a list of resources with ResponseEntity?","title":"How to handle a list of resources with ResponseEntity","body":"<p>I have an external REST API that returns a list of <code>client</code> objects as json. For example:</p>\n<pre><code>GET externalapi.io/api/clients\n\n[ {\n    &quot;id&quot; : &quot;b15asgdc-6efd-4a2d-re08-2q3r3bae&quot;,\n    &quot;clientName&quot; : &quot;test1&quot;,\n    ...\n  },\n  {\n    &quot;id&quot; : &quot;ryec-6efd-4a2d-aa08-29a9drjrteae&quot;,\n    &quot;clientName&quot; : &quot;test2&quot;,\n    ...\n  },\n  ...\n]\n</code></pre>\n<p>My API calls this external service using Spring's RestTemplate. The goal is to get the response and parse it into <code>client</code> Java objects. I've tried the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpEntity&lt;Object&gt; entity = new HttpEntity&lt;Object&gt;(null, headers);\n\nResponseEntity&lt;String&gt; responseEntityJson = resttemplate.exchange(path, HttpMethod.GET, entity, String.class);\n\nType listType = new TypeToken&lt;ArrayList&lt;ClientResource&gt;&gt;(){}.getType();\n\nArrayList&lt;ClientResource&gt; responseResources = gson.fromJson(responseEntityJson.getBody(), listType);\n</code></pre>\n<p>My trouble is with this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity&lt;String&gt; responseEntityJson = resttemplate.exchange(path, HttpMethod.GET, entity, String.class);\n</code></pre>\n<p>My hope was that I could get the body as a JSON string, and use Google's GSON to parse it into objects, but this does not seem to work. I've seen suggestions to use</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseEntity&lt;ClientResource&gt; responseEntityJson = resttemplate.exchange(path, HttpMethod.GET, entity, ClientResource.class);\n</code></pre>\n<p>but, I don't think this works for a list of resources. I can set <code>ResponseEntity&lt;List&lt;ClientResource&gt;&gt;</code> but <code>.exchange()</code> doesn't easily accept a type like that. How can I handle a list of resources with ResponseEntity?</p>\n"},{"tags":["java","fitness"],"comments":[{"owner":{"account_id":146892,"reputation":33550,"user_id":357641,"accept_rate":55,"display_name":"Greg"},"score":0,"creation_date":1300132925,"post_id":5303665,"comment_id":5981275,"body_markdown":"If this is homework, you should include the homework tag.","body":"If this is homework, you should include the homework tag."}],"answers":[{"comments":[{"owner":{"account_id":319297,"reputation":7340,"user_id":636987,"accept_rate":80,"display_name":"Mus"},"score":0,"creation_date":1300133512,"post_id":5303835,"comment_id":5981446,"body_markdown":"Thank you, I tried this but it doesn&#39;t seem to work. Yes, scasol is my binary String. I have noticed that if I change the following to &lt; from &gt;, it produces -1.0 every time instead of 0.0.  `public static double scalesFitness(ArrayList&lt;Double&gt; weights)\n\t{\t\n\t\tif (scasol.length() &gt; weights.size()) return(-1);`  Could this be affecting it somehow?","body":"Thank you, I tried this but it doesn&#39;t seem to work. Yes, scasol is my binary String. I have noticed that if I change the following to &lt; from &gt;, it produces -1.0 every time instead of 0.0.  <code>public static double scalesFitness(ArrayList&lt;Double&gt; weights) \t{\t \t\tif (scasol.length() &gt; weights.size()) return(-1);</code>  Could this be affecting it somehow?"},{"owner":{"account_id":314918,"reputation":393,"user_id":630384,"display_name":"DHall"},"score":0,"creation_date":1300133721,"post_id":5303835,"comment_id":5981503,"body_markdown":"@Mick - getting -1 in this case makes sense if scasol is a blank String. Can you post the code for the ScalesSolution constructor?","body":"@Mick - getting -1 in this case makes sense if scasol is a blank String. Can you post the code for the ScalesSolution constructor?"},{"owner":{"account_id":314918,"reputation":393,"user_id":630384,"display_name":"DHall"},"score":0,"creation_date":1300135397,"post_id":5303835,"comment_id":5981957,"body_markdown":"I just realized `s.concat(&quot;0&quot;)` by itself won&#39;t do anything. Make sure you&#39;re assigning the value to s with either `s=s+&#39;0&#39;` or `s+=&#39;0&#39;` or `s=s.concat(&quot;0&quot;)`. The rest of the code should work, also make sure you have the same number of numbers in the Weights list as characters in the seed String.","body":"I just realized <code>s.concat(&quot;0&quot;)</code> by itself won&#39;t do anything. Make sure you&#39;re assigning the value to s with either <code>s=s+&#39;0&#39;</code> or <code>s+=&#39;0&#39;</code> or <code>s=s.concat(&quot;0&quot;)</code>. The rest of the code should work, also make sure you have the same number of numbers in the Weights list as characters in the seed String."},{"owner":{"account_id":319297,"reputation":7340,"user_id":636987,"accept_rate":80,"display_name":"Mus"},"score":0,"creation_date":1300142154,"post_id":5303835,"comment_id":5983612,"body_markdown":"I tried all of your suggestions but unfortunately they did not seem to work - there must be something else responsible for the lack of function...thank you once again for your effort, I appreciate it; unfortunately, however, I am still nonethewiser as to what it could be...do you happen to have any other suggestions?","body":"I tried all of your suggestions but unfortunately they did not seem to work - there must be something else responsible for the lack of function...thank you once again for your effort, I appreciate it; unfortunately, however, I am still nonethewiser as to what it could be...do you happen to have any other suggestions?"}],"tags":[],"owner":{"account_id":314918,"reputation":393,"user_id":630384,"display_name":"DHall"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1300133433,"creation_date":1300133058,"answer_id":5303835,"question_id":5303665,"body_markdown":"Looks to me like you&#39;re always returning a blank String from `RandomBinaryString()` - you print out some digits but never actually append them. Use `s = s+&#39;0&#39;`, or `s += &#39;0&#39;`, or `s.concat(&quot;0&quot;)` ,or use a `StringBuilder` , etc...\r\n\r\nI&#39;m assuming `scasol` is your binary string, so that&#39;s empty, then nothing in your `for` loop gets called once, so L and R both stay at 0.0, and you wind up returning 0.0.","title":"Java Fitness Function Not Working","body":"<p>Looks to me like you're always returning a blank String from <code>RandomBinaryString()</code> - you print out some digits but never actually append them. Use <code>s = s+'0'</code>, or <code>s += '0'</code>, or <code>s.concat(\"0\")</code> ,or use a <code>StringBuilder</code> , etc...</p>\n\n<p>I'm assuming <code>scasol</code> is your binary string, so that's empty, then nothing in your <code>for</code> loop gets called once, so L and R both stay at 0.0, and you wind up returning 0.0.</p>\n"},{"tags":[],"owner":{"account_id":46203,"reputation":1640,"user_id":136418,"accept_rate":75,"display_name":"Matthew Sowders"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300133144,"creation_date":1300133144,"answer_id":5303855,"question_id":5303665,"body_markdown":"Your random string RandomBinaryString only ever prints &#39;s&#39; it never alters it so the sum of the function is equivalent to returning &#39;new String()&#39;.  \r\n\r\nAnother issue, &#39;L = L += 0&#39; is redundant. It is the same as L = 0. Always.\r\n\r\n&#39;R = R+=1&#39; is also redundant, it is the same as R += 1.","title":"Java Fitness Function Not Working","body":"<p>Your random string RandomBinaryString only ever prints 's' it never alters it so the sum of the function is equivalent to returning 'new String()'.  </p>\n\n<p>Another issue, 'L = L += 0' is redundant. It is the same as L = 0. Always.</p>\n\n<p>'R = R+=1' is also redundant, it is the same as R += 1.</p>\n"},{"tags":[],"owner":{"account_id":319297,"reputation":7340,"user_id":636987,"accept_rate":80,"display_name":"Mus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300134207,"creation_date":1300134207,"answer_id":5304036,"question_id":5303665,"body_markdown":"@DHall Code for scasol constructor:\r\n\r\n    public ScalesSolution(String s)\r\n\t{\r\n\t\tboolean ok = true;\r\n\t\tint n = s.length();\r\n\t\tfor(int i=0;i&lt;n;++i)\r\n\t\t{\r\n\t\t\tchar si = s.charAt(i);\r\n\t\t\tif (si != &#39;0&#39; &amp;&amp; si != &#39;1&#39;) ok = false;\r\n\t\t}\r\n\t\tif (ok)\r\n\t\t{\r\n\t\t\tscasol = s;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tscasol = RandomBinaryString(n);\r\n\t\t}\r\n\t}\r\n\r\nIf this is not of help I can post the code for the class up.\r\n\r\nThanks.\r\n\r\nMick.","title":"Java Fitness Function Not Working","body":"<p>@DHall Code for scasol constructor:</p>\n\n<pre><code>public ScalesSolution(String s)\n{\n    boolean ok = true;\n    int n = s.length();\n    for(int i=0;i&lt;n;++i)\n    {\n        char si = s.charAt(i);\n        if (si != '0' &amp;&amp; si != '1') ok = false;\n    }\n    if (ok)\n    {\n        scasol = s;\n    }\n    else\n    {\n        scasol = RandomBinaryString(n);\n    }\n}\n</code></pre>\n\n<p>If this is not of help I can post the code for the class up.</p>\n\n<p>Thanks.</p>\n\n<p>Mick.</p>\n"}],"owner":{"account_id":319297,"reputation":7340,"user_id":636987,"accept_rate":80,"display_name":"Mus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5303835,"answer_count":3,"score":0,"last_activity_date":1677157296,"creation_date":1300132239,"question_id":5303665,"body_markdown":"I have a fitness function as part of a lab and wish to apply it to a set of &#39;weights&#39; (ArrayList&lt;Double&gt; weights).  I have created the array and stored some values in it.  I have created random binary strings (which have an &#39;x&#39; at the end in order to generate random values) which I wish to also apply the fitness function to; however, the problem I am having is that the fitness function always returns a value of 0.  Am I missing something here?\r\n\r\nThe fitness function is as follows:\r\n\r\n    public static double scalesFitness(ArrayList&lt;Double&gt; weights){\t\r\n\t\tif (scasol.length() &gt; weights.size()) return(-1);\r\n\t\tdouble lhs = 0.0,rhs = 0.0;\r\n\t\t\r\n\t\tdouble L = 0.0;\r\n\t\tdouble R = 0.0;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; scasol.length(); i++){\r\n            if(scasol.charAt(i) == &#39;0&#39;){\r\n            L = L += 0;\r\n        }\r\n        else if(scasol.charAt(i) == &#39;1&#39;){\r\n            R = R += 1;\r\n        }\r\n        }//end for\r\n\t\t\r\n\t\tint n = scasol.length();\r\n\t\t\r\n\t\treturn(L-R);\r\n\t\t\r\n\t}\r\n\r\n\r\nRandom binary string method:\r\n\r\n    private static String RandomBinaryString(int n){\r\n\t\tString s = new String();\r\n\t\t\r\n\t\tfor(int i = 0; i &lt;= n; i++){\r\n\t\t\tint y = CS2004.UI(0,1);\r\n\t\t\t\tif(y == 0){\r\n\t\t\t\t\tSystem.out.print(s + &#39;0&#39;);\r\n\t\t\t\t}\r\n\t\t\t\telse if(y == 1){\r\n\t\t\t\t\tSystem.out.print(s + &#39;1&#39;);\r\n\t\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn(s);\r\n\t}\r\n\r\nMain method (in separate class):\r\n\r\n    public static void main(String args[]){\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; 10; i++){\r\n\t\t\tScalesSolution s = new ScalesSolution(&quot;10101x&quot;);\r\n\t\t\ts.println();\r\n\t\t}\r\n\t\t\r\n\t\tArrayList&lt;Double&gt; weights = new ArrayList&lt;Double&gt;();\r\n\t\t\r\n\t\t\tweights.add(1.0);\r\n\t\t\tweights.add(2.0);\r\n\t\t\tweights.add(3.0);\r\n\t\t\tweights.add(4.0);\r\n\t\t\tweights.add(10.0);\r\n\t\t\tSystem.out.println();\r\n\t\t\r\n\t\tSystem.out.print(&quot;Fitness: &quot;);\r\n\t\tSystem.out.print(ScalesSolution.scalesFitness(weights));\r\n    }\r\n\r\nOnce run, the random binary strings work perfectly well, yet the fitness function fails to change from 0.  Here is a sample output:\r\n\r\n    1101100\r\n    1100111\r\n    0001111\r\n    1001010\r\n    1110000\r\n    0011111\r\n    1100111\r\n    1011001\r\n    0000110\r\n    1000000\r\n\r\n    Fitness: 0.0\r\n\r\nIf you wish to code for the whole class(es), then please let me know.\r\n\r\nThank you all so much for your time.\r\n\r\nMick.","title":"Java Fitness Function Not Working","body":"<p>I have a fitness function as part of a lab and wish to apply it to a set of 'weights' (ArrayList weights).  I have created the array and stored some values in it.  I have created random binary strings (which have an 'x' at the end in order to generate random values) which I wish to also apply the fitness function to; however, the problem I am having is that the fitness function always returns a value of 0.  Am I missing something here?</p>\n\n<p>The fitness function is as follows:</p>\n\n<pre><code>public static double scalesFitness(ArrayList&lt;Double&gt; weights){  \n    if (scasol.length() &gt; weights.size()) return(-1);\n    double lhs = 0.0,rhs = 0.0;\n\n    double L = 0.0;\n    double R = 0.0;\n\n    for(int i = 0; i &lt; scasol.length(); i++){\n        if(scasol.charAt(i) == '0'){\n        L = L += 0;\n    }\n    else if(scasol.charAt(i) == '1'){\n        R = R += 1;\n    }\n    }//end for\n\n    int n = scasol.length();\n\n    return(L-R);\n\n}\n</code></pre>\n\n<p>Random binary string method:</p>\n\n<pre><code>private static String RandomBinaryString(int n){\n    String s = new String();\n\n    for(int i = 0; i &lt;= n; i++){\n        int y = CS2004.UI(0,1);\n            if(y == 0){\n                System.out.print(s + '0');\n            }\n            else if(y == 1){\n                System.out.print(s + '1');\n            }\n    }\n\n    return(s);\n}\n</code></pre>\n\n<p>Main method (in separate class):</p>\n\n<pre><code>public static void main(String args[]){\n\n    for(int i = 0; i &lt; 10; i++){\n        ScalesSolution s = new ScalesSolution(\"10101x\");\n        s.println();\n    }\n\n    ArrayList&lt;Double&gt; weights = new ArrayList&lt;Double&gt;();\n\n        weights.add(1.0);\n        weights.add(2.0);\n        weights.add(3.0);\n        weights.add(4.0);\n        weights.add(10.0);\n        System.out.println();\n\n    System.out.print(\"Fitness: \");\n    System.out.print(ScalesSolution.scalesFitness(weights));\n}\n</code></pre>\n\n<p>Once run, the random binary strings work perfectly well, yet the fitness function fails to change from 0.  Here is a sample output:</p>\n\n<pre><code>1101100\n1100111\n0001111\n1001010\n1110000\n0011111\n1100111\n1011001\n0000110\n1000000\n\nFitness: 0.0\n</code></pre>\n\n<p>If you wish to code for the whole class(es), then please let me know.</p>\n\n<p>Thank you all so much for your time.</p>\n\n<p>Mick.</p>\n"},{"tags":["java","recursion","palindrome","backtracking","recursive-backtracking"],"owner":{"account_id":26767590,"reputation":11,"user_id":20926237,"display_name":"Rami Mamadov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677157006,"creation_date":1677157006,"question_id":75545138,"body_markdown":"The details of the problem are as the same as described in title. \r\nThe time complexity and space complexity can be ignored in the specific question.\r\n\r\nI did not stumble upon questions involving palindromes in my studies, so I am not at all sure about my solution. I am here in search of an enlightenment.\r\n\r\nThanks for reading.\r\n\r\n\r\n----------\r\n\r\n\r\nI tried to approach it as a backtracking question.\r\nBasically, a palindrome like abba, has 2 identical &#39;a&#39;, along with 2 identical &#39;b&#39;, \r\n\r\nso, I just thought that I should &quot;drill inside&quot; the phrase and check if each outer shell is identical:\r\n\r\n**a** b c c b **a**\r\n\r\nfirst shell - a a\r\n\r\nsecond shell - b b\r\n\r\nthird shell - c c\r\n\r\nyou get my terminology.\r\n\r\n----------\r\n\r\nI just:\r\ndefined two pointers, one at the start of the array (left) and one in the end of the array (right).\r\n\r\nAnd thought of 3 cases:\r\n\r\n1. both pointers are moving together towards each other\r\n2. the left pointer only is moving\r\n3. the right pointer only is moving\r\n\r\nif one of the shells are not two equal characters, we know this certain word, can&#39;t be a palindrome.\r\n\r\nlike &quot;abca&quot; is not a palindrome, because b is different than c in the &quot;second shell&quot;.\r\nand I am not sure if this is the way to go.\r\n\r\n\r\nHere is the code:\r\n\r\n\r\n\r\n```\r\nPublic static int longestPalindrome (int[]arr)\r\n{\r\n\treturn longestPalindrome(arr, 0, arr.length-1, 0);\r\n}\r\n\r\nPrivate static int longestPalindrome (int[]arr, int leftPointer, int rightPointer, int palinLength)\r\n{\r\n\t/* if the left and right number are not the same, a palindrome in this length can not be\r\n \t   Valid */\r\n\r\n\tif(leftPointer &lt; 0 || rightPointer &lt; 0 || leftPointer&gt;arr.length-1 || rightPointer&gt;arr.length-1)\r\n        {\r\n\treturn 0;\r\n        }\r\n \r\n        if(arr[leftPointer] != arr[rightPointer])\r\n\t{\r\n\t\treturn palinLength;\r\n \t}\r\n\t\r\n\tif(arr[leftPointer] == arr[rightPointer])\r\n\t{\r\n\t\treturn palinLength+1;\r\n        }\r\n\r\n        return max(longestPalindrome(arr, leftPointer+1, rightPointer, palinLength),\r\n        longestPalindrome(arr, leftPointer, rightPointer-1, palinLength),\r\n        longestPalindrome(arr, leftPointer+1, rightPointer-1, palinLength)); \r\n}\r\n\r\n/* a helper method to find the max out of the three cases */\r\n\r\nprivate static int max(int a, int b, int c)\r\n{\r\n   int biggest = Integer.MIN_VALUE;\r\n   if(a &gt; biggest)\r\n   {\r\n      biggest = a;\r\n   }\r\n   \r\n   if(b &gt; biggest)\r\n   {\r\n      biggest = b;\r\n   }\r\n\r\n   if(c &gt; biggest)\r\n   {\r\n      biggest = c;\r\n   }\r\n   return biggest;\r\n}\r\n\r\n```\r\n\r\n","title":"Finding the longest palindrome in a single-dimensional array, using recursion, without loops, in Java","body":"<p>The details of the problem are as the same as described in title.\nThe time complexity and space complexity can be ignored in the specific question.</p>\n<p>I did not stumble upon questions involving palindromes in my studies, so I am not at all sure about my solution. I am here in search of an enlightenment.</p>\n<p>Thanks for reading.</p>\n<hr />\n<p>I tried to approach it as a backtracking question.\nBasically, a palindrome like abba, has 2 identical 'a', along with 2 identical 'b',</p>\n<p>so, I just thought that I should &quot;drill inside&quot; the phrase and check if each outer shell is identical:</p>\n<p><strong>a</strong> b c c b <strong>a</strong></p>\n<p>first shell - a a</p>\n<p>second shell - b b</p>\n<p>third shell - c c</p>\n<p>you get my terminology.</p>\n<hr />\n<p>I just:\ndefined two pointers, one at the start of the array (left) and one in the end of the array (right).</p>\n<p>And thought of 3 cases:</p>\n<ol>\n<li>both pointers are moving together towards each other</li>\n<li>the left pointer only is moving</li>\n<li>the right pointer only is moving</li>\n</ol>\n<p>if one of the shells are not two equal characters, we know this certain word, can't be a palindrome.</p>\n<p>like &quot;abca&quot; is not a palindrome, because b is different than c in the &quot;second shell&quot;.\nand I am not sure if this is the way to go.</p>\n<p>Here is the code:</p>\n<pre><code>Public static int longestPalindrome (int[]arr)\n{\n    return longestPalindrome(arr, 0, arr.length-1, 0);\n}\n\nPrivate static int longestPalindrome (int[]arr, int leftPointer, int rightPointer, int palinLength)\n{\n    /* if the left and right number are not the same, a palindrome in this length can not be\n       Valid */\n\n    if(leftPointer &lt; 0 || rightPointer &lt; 0 || leftPointer&gt;arr.length-1 || rightPointer&gt;arr.length-1)\n        {\n    return 0;\n        }\n \n        if(arr[leftPointer] != arr[rightPointer])\n    {\n        return palinLength;\n    }\n    \n    if(arr[leftPointer] == arr[rightPointer])\n    {\n        return palinLength+1;\n        }\n\n        return max(longestPalindrome(arr, leftPointer+1, rightPointer, palinLength),\n        longestPalindrome(arr, leftPointer, rightPointer-1, palinLength),\n        longestPalindrome(arr, leftPointer+1, rightPointer-1, palinLength)); \n}\n\n/* a helper method to find the max out of the three cases */\n\nprivate static int max(int a, int b, int c)\n{\n   int biggest = Integer.MIN_VALUE;\n   if(a &gt; biggest)\n   {\n      biggest = a;\n   }\n   \n   if(b &gt; biggest)\n   {\n      biggest = b;\n   }\n\n   if(c &gt; biggest)\n   {\n      biggest = c;\n   }\n   return biggest;\n}\n\n</code></pre>\n"},{"tags":["java","windows","file"],"comments":[{"owner":{"account_id":287280,"reputation":18172,"user_id":586986,"accept_rate":77,"display_name":"Cemre Meng&#252;"},"score":0,"creation_date":1346707271,"post_id":12254123,"comment_id":16427858,"body_markdown":"If you specify the program from command line then it should get passed to args","body":"If you specify the program from command line then it should get passed to args"},{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":1,"creation_date":1346707361,"post_id":12254123,"comment_id":16427872,"body_markdown":"The file chosen could be passed to `String[] args` via command-line.","body":"The file chosen could be passed to <code>String[] args</code> via command-line."},{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1346707364,"post_id":12254123,"comment_id":16427873,"body_markdown":"`java.lang.Runtime.exec`","body":"<code>java.lang.Runtime.exec</code>"},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":5,"creation_date":1346707405,"post_id":12254123,"comment_id":16427886,"body_markdown":"I think the OP wants to change his jar such that it will be recognised by the OS in the &quot;Open with&quot; dialog.","body":"I think the OP wants to change his jar such that it will be recognised by the OS in the &quot;Open with&quot; dialog."},{"owner":{"account_id":1735571,"reputation":1008,"user_id":1588217,"accept_rate":68,"display_name":"Ewen"},"score":0,"creation_date":1346707430,"post_id":12254123,"comment_id":16427892,"body_markdown":"I know but what I&#39;m asking is does it get passed via the winodws file chooser?","body":"I know but what I&#39;m asking is does it get passed via the winodws file chooser?"},{"owner":{"account_id":79346,"reputation":57079,"user_id":225074,"accept_rate":91,"display_name":"Thomas Matthews"},"score":0,"creation_date":1346788355,"post_id":12254123,"comment_id":16453996,"body_markdown":"possible duplicate of [Utilising a file association in a Java application](http://stackoverflow.com/questions/2043029/utilising-a-file-association-in-a-java-application)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2043029/utilising-a-file-association-in-a-java-application\">Utilising a file association in a Java application</a>"}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1346725777,"post_id":12254170,"comment_id":16430969,"body_markdown":"Linked to one of your posts at the end ;)","body":"Linked to one of your posts at the end ;)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1346725973,"post_id":12254170,"comment_id":16430998,"body_markdown":"D&#39;Oh!  Can I use the &#39;I just woke up&#39; excuse?","body":"D&#39;Oh!  Can I use the &#39;I just woke up&#39; excuse?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1346726237,"post_id":12254170,"comment_id":16431034,"body_markdown":"Actually, it&#39;s a little obscure, so I think we can forgive you ;)","body":"Actually, it&#39;s a little obscure, so I think we can forgive you ;)"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1346711947,"creation_date":1346707499,"answer_id":12254170,"question_id":12254123,"body_markdown":"Depends on the OS. Under windows, you need to attach some details into the registry.\r\n\r\nHave a look at the 3rd answer in https://stackoverflow.com/questions/2043029/utilising-a-file-association-in-a-java-application for an example?\r\n\r\nYou could also have a look at http://www.rgagnon.com/javadetails/java-0592.html\r\n\r\n**UPDATE**\r\n\r\nAlso, when the OS executes the program, you should receive the file as a command line parameter through the `main` method\r\n\r\nI don&#39;t know if this will work suit your needs or not, but you could also take a look at https://stackoverflow.com/questions/9096991/file-association-in-mac","title":"Open With... a java program","body":"<p>Depends on the OS. Under windows, you need to attach some details into the registry.</p>\n\n<p>Have a look at the 3rd answer in <a href=\"https://stackoverflow.com/questions/2043029/utilising-a-file-association-in-a-java-application\">Utilising a file association in a Java application</a> for an example?</p>\n\n<p>You could also have a look at <a href=\"http://www.rgagnon.com/javadetails/java-0592.html\" rel=\"nofollow noreferrer\">http://www.rgagnon.com/javadetails/java-0592.html</a></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Also, when the OS executes the program, you should receive the file as a command line parameter through the <code>main</code> method</p>\n\n<p>I don't know if this will work suit your needs or not, but you could also take a look at <a href=\"https://stackoverflow.com/questions/9096991/file-association-in-mac\">File association in Mac</a></p>\n"},{"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1346725615,"post_id":12254546,"comment_id":16430950,"body_markdown":"+1 for JWS.  It seems the obvious answer for anything Java with a GUI.  &lt;muses&gt;..Do apps. without a GUI ever claim file associations?&lt;/muses&gt;","body":"+1 for JWS.  It seems the obvious answer for anything Java with a GUI.  &lt;muses&gt;..Do apps. without a GUI ever claim file associations?&lt;/muses&gt;"}],"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1346710119,"creation_date":1346710119,"answer_id":12254546,"question_id":12254123,"body_markdown":"There&#39;s many choices on how to make a Java program runnable.  Like you mention, the simplest choice is to use the command line.  If you want to make it work with most OS&#39;s GUI interfaces (and the Open With dialog) the easiest choice is to make an [executable jar][1].  IDEs can make this very easy for you, in Eclipse just right-click on the project and select Export &gt; Java &gt; Runnable JAR file.\r\n\r\nAnother excellent option is to turn your application into a [Java Web Start][2] application, which lets users easily run Java programs being served up online.\r\n\r\nAlternatively, like you mention, you could convert it into an .exe file:\r\n\r\n* https://stackoverflow.com/questions/2011664/compiling-a-java-program-into-an-exe\r\n* https://stackoverflow.com/questions/516399/how-do-i-create-an-exe-for-a-java-program\r\n* https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\r\n\r\n\r\n  [1]: https://www.google.com/search?q=executable%20jar\r\n  [2]: http://docs.oracle.com/javase/6/docs/technotes/guides/javaws/","title":"Open With... a java program","body":"<p>There's many choices on how to make a Java program runnable.  Like you mention, the simplest choice is to use the command line.  If you want to make it work with most OS's GUI interfaces (and the Open With dialog) the easiest choice is to make an <a href=\"https://www.google.com/search?q=executable%20jar\" rel=\"nofollow noreferrer\">executable jar</a>.  IDEs can make this very easy for you, in Eclipse just right-click on the project and select Export > Java > Runnable JAR file.</p>\n\n<p>Another excellent option is to turn your application into a <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/javaws/\" rel=\"nofollow noreferrer\">Java Web Start</a> application, which lets users easily run Java programs being served up online.</p>\n\n<p>Alternatively, like you mention, you could convert it into an .exe file:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2011664/compiling-a-java-program-into-an-exe\">Compiling a java program into an executable</a></li>\n<li><a href=\"https://stackoverflow.com/questions/516399/how-do-i-create-an-exe-for-a-java-program\">How do I create an .exe for a Java program?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\">How can I convert my Java program to an .exe file?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346726221,"creation_date":1346725451,"answer_id":12256047,"question_id":12254123,"body_markdown":"Deploy the app. using [Java Web Start](https://stackoverflow.com/tags/java-web-start/info).\r\n\r\n&gt; JWS provides many appealing features including, but not limited to, splash screens, desktop integration, **file associations,** automatic update (including lazy downloads and programmatic control of updates), partitioning of natives &amp; other resource downloads by platform, architecture or Java version, configuration of run-time environment (minimum J2SE version, run-time options, RAM etc.), easy management of common resources using extensions..\r\n\r\nHere is a [demo. of the file services](http://pscode.org/jws/api.html#fs) in which the app. is associated with the file type `.zzz`.\r\n\r\n&gt; ..does it get passed via the windows file chooser?\r\n\r\nNo.  It gets passed to the `main` as either `-open filename` or `-print filename`.  What the app. does with those strings is up to it.  The demo. linked above will prompt the user in the sand-boxed version, simply because it is sand-boxed.  The other one should work without showing prompt or dialog.","title":"Open With... a java program","body":"<p>Deploy the app. using <a href=\"https://stackoverflow.com/tags/java-web-start/info\">Java Web Start</a>.</p>\n\n<blockquote>\n  <p>JWS provides many appealing features including, but not limited to, splash screens, desktop integration, <strong>file associations,</strong> automatic update (including lazy downloads and programmatic control of updates), partitioning of natives &amp; other resource downloads by platform, architecture or Java version, configuration of run-time environment (minimum J2SE version, run-time options, RAM etc.), easy management of common resources using extensions..</p>\n</blockquote>\n\n<p>Here is a <a href=\"http://pscode.org/jws/api.html#fs\" rel=\"nofollow noreferrer\">demo. of the file services</a> in which the app. is associated with the file type <code>.zzz</code>.</p>\n\n<blockquote>\n  <p>..does it get passed via the windows file chooser?</p>\n</blockquote>\n\n<p>No.  It gets passed to the <code>main</code> as either <code>-open filename</code> or <code>-print filename</code>.  What the app. does with those strings is up to it.  The demo. linked above will prompt the user in the sand-boxed version, simply because it is sand-boxed.  The other one should work without showing prompt or dialog.</p>\n"}],"owner":{"account_id":1735571,"reputation":1008,"user_id":1588217,"accept_rate":68,"display_name":"Ewen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6150,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1677156967,"creation_date":1346707133,"question_id":12254123,"body_markdown":"I want to know how to make a java program that can be used to open stuff up. Ex: notepad++, win zip.... Do I have convert the jar to `.exe` first? Also, does the file chosen get passed in to `String[] args`?\r\n\r\nBy the way, I know that it works with cmd but thats not what I&#39;m asking.","title":"Open With... a java program","body":"<p>I want to know how to make a java program that can be used to open stuff up. Ex: notepad++, win zip.... Do I have convert the jar to <code>.exe</code> first? Also, does the file chosen get passed in to <code>String[] args</code>?</p>\n\n<p>By the way, I know that it works with cmd but thats not what I'm asking.</p>\n"},{"tags":["java","android","android-camerax","android-12","image-capture"],"comments":[{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1677377201,"post_id":75545092,"comment_id":133325592,"body_markdown":"Could you switch to the latest version `1.3.0-alpha03` and try again?","body":"Could you switch to the latest version <code>1.3.0-alpha03</code> and try again?"},{"owner":{"account_id":27258804,"reputation":1,"user_id":20781947,"display_name":"Daniel"},"score":0,"creation_date":1677490276,"post_id":75545092,"comment_id":133340912,"body_markdown":"I use API31 of android, so i cannot use latest version. I changed the code now to ImageAnalyse because i wanted to implement a BarcodeScanner","body":"I use API31 of android, so i cannot use latest version. I changed the code now to ImageAnalyse because i wanted to implement a BarcodeScanner"}],"owner":{"account_id":27258804,"reputation":1,"user_id":20781947,"display_name":"Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677156845,"creation_date":1677156726,"question_id":75545092,"body_markdown":"I&#39;m having trouble taking a photo of the current camera image. The camera image is displayed in the view and when a button is pressed, the photo should be saved or processed later on.\r\n\r\nI&#39;m working with the CameraX API and Android 12 (API level 31).\r\n\r\n\r\n```\r\n\r\nimport android.Manifest;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.camera.core.Camera;\r\nimport androidx.camera.core.CameraSelector;\r\nimport androidx.camera.core.ImageCapture;\r\nimport androidx.camera.core.ImageCaptureException;\r\nimport androidx.camera.core.Preview;\r\nimport androidx.camera.lifecycle.ProcessCameraProvider;\r\nimport androidx.camera.view.PreviewView;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.google.common.util.concurrent.ListenableFuture;\r\n\r\nimport java.io.File;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.Executor;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private PreviewView viewFinder;\r\n    private ProcessCameraProvider cameraProvider;\r\n    private Camera camera;\r\n\r\n    private ImageCapture imageCapture;\r\n\r\n    private static final int  CAMERA_PERMISSION_CODE = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        viewFinder = findViewById(R.id.viewFinder);\r\n        startCamera();\r\n\r\n        Button takePictureButton = findViewById(R.id.takePictureButton);\r\n        takePictureButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                takePicture();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void startCamera() {\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\r\n            // Berechtigung wurde erteilt, &#246;ffnen Sie die Kamera.\r\n        } else {\r\n            // Fordern Sie die Berechtigung an.\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION_CODE);\r\n        }\r\n\r\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n        cameraProviderFuture.addListener(() -&gt; {\r\n            try {\r\n                // Verf&#252;gbare Kamera-Provider abrufen\r\n                cameraProvider = cameraProviderFuture.get();\r\n                // Kamera-Vorschau konfigurieren und starten\r\n                bindPreview();\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                // handle error\r\n            }\r\n        }, ContextCompat.getMainExecutor(this));\r\n    }\r\n\r\n    private void bindPreview() {\r\n        imageCapture =\r\n                new ImageCapture.Builder()\r\n                        .setTargetRotation(viewFinder.getDisplay().getRotation())\r\n\r\n                        .build();\r\n        Preview preview = new Preview.Builder().build();\r\n        preview.setSurfaceProvider(viewFinder.getSurfaceProvider());\r\n        // \r\n        CameraSelector cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA;\r\n        // bind\r\n        camera = cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture);\r\n    }\r\n\r\n    private void takePicture() {\r\n        Executor cameraExecutor = ContextCompat.getMainExecutor(this);\r\n        ImageCapture.OutputFileOptions outputFileOptions =\r\n                new ImageCapture.OutputFileOptions.Builder(new File(getExternalMediaDirs()[0], &quot;photo.jpg&quot;)).build();\r\n        imageCapture.takePicture(outputFileOptions, cameraExecutor,\r\n                new ImageCapture.OnImageSavedCallback() {\r\n                    @Override\r\n                    public void onImageSaved(ImageCapture.OutputFileResults outputFileResults) {\r\n                        System.out.println(&quot;SAVED&quot;);\r\n                        Toast.makeText(MainActivity.this, &quot;Photo saved&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    @Override\r\n                    public void onError(ImageCaptureException error) {\r\n                        System.out.println(&quot;not saved&quot;);\r\n                        Toast.makeText(MainActivity.this, &quot;Error saving photo&quot;, Toast.LENGTH_SHORT).show();\r\n                        System.out.println(error);\r\n                    }\r\n                }\r\n        );\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am getting the following error, and the camera image freezes and restarts again.\r\n\r\n```\r\n\r\n\r\n/ImageCapture: Send image capture request [current, pending] = [0, 1]\r\nD/ImageCapture: issueTakePicture\r\nD/Camera2CameraImpl: {Camera@bcf4c18[id=0]} Issue capture request\r\nD/CaptureSession: Issuing capture request.\r\nD/EGL_emulation: app_time_stats: avg=20.36ms min=1.77ms max=477.02ms count=39\r\nE/CameraCaptureSession: Session 0: Exception while stopping repeating: \r\n    android.hardware.camera2.CameraAccessException: CAMERA_ERROR (3): cancelRequest:507: Camera 0: Error clearing streaming request: Function not implemented (-38)\r\n        at android.hardware.camera2.CameraManager.throwAsPublicException(CameraManager.java:1179)\r\n...\r\n\r\n```\r\n\r\n\r\nI am getting the following error, and the camera image freezes and restarts again.","title":"Taking Picture while using Camera in PreviewView","body":"<p>I'm having trouble taking a photo of the current camera image. The camera image is displayed in the view and when a button is pressed, the photo should be saved or processed later on.</p>\n<p>I'm working with the CameraX API and Android 12 (API level 31).</p>\n<pre><code>\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.camera.core.Camera;\nimport androidx.camera.core.CameraSelector;\nimport androidx.camera.core.ImageCapture;\nimport androidx.camera.core.ImageCaptureException;\nimport androidx.camera.core.Preview;\nimport androidx.camera.lifecycle.ProcessCameraProvider;\nimport androidx.camera.view.PreviewView;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport com.google.common.util.concurrent.ListenableFuture;\n\nimport java.io.File;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Executor;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private PreviewView viewFinder;\n    private ProcessCameraProvider cameraProvider;\n    private Camera camera;\n\n    private ImageCapture imageCapture;\n\n    private static final int  CAMERA_PERMISSION_CODE = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        viewFinder = findViewById(R.id.viewFinder);\n        startCamera();\n\n        Button takePictureButton = findViewById(R.id.takePictureButton);\n        takePictureButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                takePicture();\n            }\n        });\n\n    }\n\n    private void startCamera() {\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\n            // Berechtigung wurde erteilt, öffnen Sie die Kamera.\n        } else {\n            // Fordern Sie die Berechtigung an.\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION_CODE);\n        }\n\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n        cameraProviderFuture.addListener(() -&gt; {\n            try {\n                // Verfügbare Kamera-Provider abrufen\n                cameraProvider = cameraProviderFuture.get();\n                // Kamera-Vorschau konfigurieren und starten\n                bindPreview();\n            } catch (ExecutionException | InterruptedException e) {\n                // handle error\n            }\n        }, ContextCompat.getMainExecutor(this));\n    }\n\n    private void bindPreview() {\n        imageCapture =\n                new ImageCapture.Builder()\n                        .setTargetRotation(viewFinder.getDisplay().getRotation())\n\n                        .build();\n        Preview preview = new Preview.Builder().build();\n        preview.setSurfaceProvider(viewFinder.getSurfaceProvider());\n        // \n        CameraSelector cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA;\n        // bind\n        camera = cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture);\n    }\n\n    private void takePicture() {\n        Executor cameraExecutor = ContextCompat.getMainExecutor(this);\n        ImageCapture.OutputFileOptions outputFileOptions =\n                new ImageCapture.OutputFileOptions.Builder(new File(getExternalMediaDirs()[0], &quot;photo.jpg&quot;)).build();\n        imageCapture.takePicture(outputFileOptions, cameraExecutor,\n                new ImageCapture.OnImageSavedCallback() {\n                    @Override\n                    public void onImageSaved(ImageCapture.OutputFileResults outputFileResults) {\n                        System.out.println(&quot;SAVED&quot;);\n                        Toast.makeText(MainActivity.this, &quot;Photo saved&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                    @Override\n                    public void onError(ImageCaptureException error) {\n                        System.out.println(&quot;not saved&quot;);\n                        Toast.makeText(MainActivity.this, &quot;Error saving photo&quot;, Toast.LENGTH_SHORT).show();\n                        System.out.println(error);\n                    }\n                }\n        );\n\n    }\n\n}\n</code></pre>\n<p>I am getting the following error, and the camera image freezes and restarts again.</p>\n<pre><code>\n\n/ImageCapture: Send image capture request [current, pending] = [0, 1]\nD/ImageCapture: issueTakePicture\nD/Camera2CameraImpl: {Camera@bcf4c18[id=0]} Issue capture request\nD/CaptureSession: Issuing capture request.\nD/EGL_emulation: app_time_stats: avg=20.36ms min=1.77ms max=477.02ms count=39\nE/CameraCaptureSession: Session 0: Exception while stopping repeating: \n    android.hardware.camera2.CameraAccessException: CAMERA_ERROR (3): cancelRequest:507: Camera 0: Error clearing streaming request: Function not implemented (-38)\n        at android.hardware.camera2.CameraManager.throwAsPublicException(CameraManager.java:1179)\n...\n\n</code></pre>\n<p>I am getting the following error, and the camera image freezes and restarts again.</p>\n"},{"tags":["java","android","list","kotlin"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1676890898,"post_id":75508358,"comment_id":133222217,"body_markdown":"1. please format the code 2. what is wrong with this &quot;method of getParcelableArrayListExtra&quot;","body":"1. please format the code 2. what is wrong with this &quot;method of getParcelableArrayListExtra&quot;"},{"owner":{"account_id":27831803,"reputation":1,"user_id":21250070,"display_name":"Nikhil Bingradiya"},"score":0,"creation_date":1676890955,"post_id":75508358,"comment_id":133222231,"body_markdown":"Parcel android.os.Parcel@d6c1889: Unmarshalling unknown type code 244 at offset 168\nI&#39;am getting this error when i got the list in other activity","body":"Parcel android.os.Parcel@d6c1889: Unmarshalling unknown type code 244 at offset 168 I&#39;am getting this error when i got the list in other activity"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":2,"creation_date":1676891017,"post_id":75508358,"comment_id":133222250,"body_markdown":"prolly it&#39;s a problem with whatever you have in `arrayList` ... again fix the code format and  provide type of `arrayList` if elemets are custom class implementing `Parcelable` provide implementation ... you need to learn how to ask the question ... remeber that we don&#39;t know how your code looks like","body":"prolly it&#39;s a problem with whatever you have in <code>arrayList</code> ... again fix the code format and  provide type of <code>arrayList</code> if elemets are custom class implementing <code>Parcelable</code> provide implementation ... you need to learn how to ask the question ... remeber that we don&#39;t know how your code looks like"}],"answers":[{"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1676894009,"post_id":75508678,"comment_id":133223028,"body_markdown":"OP is already using point 1 from your &quot;answer&quot;, but OP seems to have problem with implementation How this &quot;answer&quot; would help ? Also it is unclear what exactly is OP&#39;s problem","body":"OP is already using point 1 from your &quot;answer&quot;, but OP seems to have problem with implementation How this &quot;answer&quot; would help ? Also it is unclear what exactly is OP&#39;s problem"},{"owner":{"account_id":9063839,"reputation":128,"user_id":6749453,"display_name":"Ayaz Muhammad"},"score":0,"creation_date":1676894296,"post_id":75508678,"comment_id":133223121,"body_markdown":"can you share code with me and what is OP???","body":"can you share code with me and what is OP???"},{"owner":{"account_id":9063839,"reputation":128,"user_id":6749453,"display_name":"Ayaz Muhammad"},"score":0,"creation_date":1676894341,"post_id":75508678,"comment_id":133223129,"body_markdown":"you can use second part also","body":"you can use second part also"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1676900727,"post_id":75508678,"comment_id":133224919,"body_markdown":"OP = original poster","body":"OP = original poster"}],"tags":[],"owner":{"account_id":9063839,"reputation":128,"user_id":6749453,"display_name":"Ayaz Muhammad"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1676892432,"creation_date":1676892432,"answer_id":75508678,"question_id":75508358,"body_markdown":"1- you can parse data using intent as follows as \r\nhttps://medium.com/@hgarg701/parcelable-in-android-using-kotlin-pass-object-from-one-activity-to-another-c34801d7ff03\r\n\r\n2- you can use Gson to send object or arrayList by using this method \r\n\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\nadd in gradle\r\n\r\n\r\n\r\nFrom Activity where you want to send -&gt;\r\n    \r\n      val gson = Gson()\r\n      val jsonUserInfoList = gson.toJson(userProfileInfoDetailedList)\r\n                    startActivity(Intent(\r\n                        this@MainActivity,ProfileSettingActivity::class.java\r\n                    ).apply {\r\n                        putExtra(Constants.USER_RRO_FILE_DETAIL,jsonUserInfoList)\r\n                   })\r\n\r\n\r\nActivity where you want to get data -&gt;\r\n\r\n\r\n    val userInfoDetailed = intent.getStringExtra(Constants.USER_RRO_FILE_DETAIL)\r\n        val gson = Gson()\r\n        val type = object : TypeToken&lt;List&lt;UserProfileData&gt;&gt;() {}.type\r\n        val userProfileList: List&lt;UserProfileData&gt; = gson.fromJson(userInfoDetailed, type)\r\n\r\n\r\n\r\n3- if you want to communicate date between fragments you can follow as \r\n\r\nhttps://www.geeksforgeeks.org/shared-viewmodel-in-android/\r\n\r\n\r\n","title":"is there any other method of getParcelableArrayListExtra?","body":"<p>1- you can parse data using intent as follows as\n<a href=\"https://medium.com/@hgarg701/parcelable-in-android-using-kotlin-pass-object-from-one-activity-to-another-c34801d7ff03\" rel=\"nofollow noreferrer\">https://medium.com/@hgarg701/parcelable-in-android-using-kotlin-pass-object-from-one-activity-to-another-c34801d7ff03</a></p>\n<p>2- you can use Gson to send object or arrayList by using this method</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.9.0'\n</code></pre>\n<p>add in gradle</p>\n<p>From Activity where you want to send -&gt;</p>\n<pre><code>  val gson = Gson()\n  val jsonUserInfoList = gson.toJson(userProfileInfoDetailedList)\n                startActivity(Intent(\n                    this@MainActivity,ProfileSettingActivity::class.java\n                ).apply {\n                    putExtra(Constants.USER_RRO_FILE_DETAIL,jsonUserInfoList)\n               })\n</code></pre>\n<p>Activity where you want to get data -&gt;</p>\n<pre><code>val userInfoDetailed = intent.getStringExtra(Constants.USER_RRO_FILE_DETAIL)\n    val gson = Gson()\n    val type = object : TypeToken&lt;List&lt;UserProfileData&gt;&gt;() {}.type\n    val userProfileList: List&lt;UserProfileData&gt; = gson.fromJson(userInfoDetailed, type)\n</code></pre>\n<p>3- if you want to communicate date between fragments you can follow as</p>\n<p><a href=\"https://www.geeksforgeeks.org/shared-viewmodel-in-android/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/shared-viewmodel-in-android/</a></p>\n"}],"owner":{"account_id":27831803,"reputation":1,"user_id":21250070,"display_name":"Nikhil Bingradiya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1677076090,"accepted_answer_id":75508678,"answer_count":1,"score":-3,"last_activity_date":1677156832,"creation_date":1676890579,"question_id":75508358,"body_markdown":"I did this code\r\n    \r\n    val intent = Intent(context!!.activity, PreviewActivity::class.java) intent.putParcelableArrayListExtra(&quot;images&quot;, arrayList as ArrayList&lt;out Parcelable?&gt;?) Log.e(&quot;click_prearrary&quot;, arrayList.toString()) intent.putExtra(&quot;position&quot;, position) intent.putExtra(&quot;statusdownload&quot;, true) intent.putExtra(&quot;isFrom&quot;, &quot;downloaded&quot;) context!!.requireActivity().startActivity(intent)\r\n        \r\n        try { imageList = intent.getParcelableArrayListExtra(&quot;images&quot;)!! viewPagerposition = intent.getIntExtra(&quot;position&quot;, 0) isFrom = intent.getStringExtra(&quot;isFrom&quot;).equals(&quot;downloaded&quot;) } catch (e: Exception) { e.printStackTrace()","title":"is there any other method of getParcelableArrayListExtra?","body":"<p>I did this code</p>\n<pre><code>val intent = Intent(context!!.activity, PreviewActivity::class.java) intent.putParcelableArrayListExtra(&quot;images&quot;, arrayList as ArrayList&lt;out Parcelable?&gt;?) Log.e(&quot;click_prearrary&quot;, arrayList.toString()) intent.putExtra(&quot;position&quot;, position) intent.putExtra(&quot;statusdownload&quot;, true) intent.putExtra(&quot;isFrom&quot;, &quot;downloaded&quot;) context!!.requireActivity().startActivity(intent)\n    \n    try { imageList = intent.getParcelableArrayListExtra(&quot;images&quot;)!! viewPagerposition = intent.getIntExtra(&quot;position&quot;, 0) isFrom = intent.getStringExtra(&quot;isFrom&quot;).equals(&quot;downloaded&quot;) } catch (e: Exception) { e.printStackTrace()\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"comments":[{"owner":{"account_id":2159802,"reputation":493,"user_id":1914243,"accept_rate":33,"display_name":"juckky"},"score":0,"creation_date":1677156996,"post_id":75545108,"comment_id":133284573,"body_markdown":"The model classes are auto generated from the schema using the openapi-generator-maven-plugin so I cannot modify them manually.","body":"The model classes are auto generated from the schema using the openapi-generator-maven-plugin so I cannot modify them manually."},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1677157094,"post_id":75545108,"comment_id":133284602,"body_markdown":"Then I think you have encountered a defect with that generator (which I have not used), because I cannot see how Jackson can know what type indicator to use on `ConcreteRequest`","body":"Then I think you have encountered a defect with that generator (which I have not used), because I cannot see how Jackson can know what type indicator to use on <code>ConcreteRequest</code>"},{"owner":{"account_id":2159802,"reputation":493,"user_id":1914243,"accept_rate":33,"display_name":"juckky"},"score":0,"creation_date":1677157234,"post_id":75545108,"comment_id":133284644,"body_markdown":"The parent class clearly states\n\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = ConcreteRequest.class, name = &quot;ConcreteRequest&quot;),\n})\n\nSo it explicitly know that ConcreteRequest.class should be __type=&quot;ConcreteRequest&quot;","body":"The parent class clearly states  @JsonSubTypes({   @JsonSubTypes.Type(value = ConcreteRequest.class, name = &quot;ConcreteRequest&quot;), })  So it explicitly know that ConcreteRequest.class should be __type=&quot;ConcreteRequest&quot;"}],"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677156809,"creation_date":1677156809,"answer_id":75545108,"question_id":75544935,"body_markdown":"I don&#39;t see `BaseRequest.type` being set anywhere in the constructor, etc of `ConcreteRequest`.  \r\n\r\nPerhaps you need to do this:\r\n\r\n```\r\n    public ConcreteRequest() {\r\n        setType(&quot;ConcreteRequest&quot;);\r\n    }\r\n```","title":"Why is jackson serializing __type property to null, when annotation clearly states concrete type subtype info?","body":"<p>I don't see <code>BaseRequest.type</code> being set anywhere in the constructor, etc of <code>ConcreteRequest</code>.</p>\n<p>Perhaps you need to do this:</p>\n<pre><code>    public ConcreteRequest() {\n        setType(&quot;ConcreteRequest&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":2159802,"reputation":493,"user_id":1914243,"accept_rate":33,"display_name":"juckky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677156809,"creation_date":1677155792,"question_id":75544935,"body_markdown":"I have an open api v2 schema that uses allOf and via the openapi-generator-maven-plugin generates the model classes shown below.  \r\n\r\n```\r\n@JsonPropertyOrder({\r\n  TradeRequest.JSON_PROPERTY_TYPE,\r\n  TradeRequest.JSON_PROPERTY_BUSINESS_DATE\r\n})\r\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;2023-02-23T11:48:40.067Z[Europe/London]&quot;)\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;__type&quot;, visible = true)\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value = ConcreteRequest.class, name = &quot;ConcreteRequest&quot;),\r\n})\r\n\r\npublic class BaseRequest {\r\n  public static final String JSON_PROPERTY_TYPE = &quot;__type&quot;;\r\n  protected String type;\r\n\r\n  public static final String JSON_PROPERTY_BUSINESS_DATE = &quot;businessDate&quot;;\r\n  private LocalDate businessDate;\r\n\r\n\r\n  public BaseRequest type(String type) {    \r\n    this.type = type;\r\n    return this;\r\n  }\r\n\r\n  @ApiModelProperty(required = true, value = &quot;&quot;)\r\n  @JsonProperty(JSON_PROPERTY_TYPE)\r\n  @JsonInclude(value = JsonInclude.Include.ALWAYS)\r\n  public String getType() {\r\n    return type;\r\n  }\r\n\r\n  public void setType(String type) {\r\n    this.type = type;\r\n  }\r\n\r\n  public BaseRequest businessDate(LocalDate businessDate) {\r\n    this.businessDate = businessDate;\r\n    return this;\r\n  }\r\n\r\n  @javax.annotation.Nullable\r\n  @ApiModelProperty(value = &quot;&quot;)\r\n  @JsonProperty(JSON_PROPERTY_BUSINESS_DATE)\r\n  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\r\n\r\n  public LocalDate getBusinessDate() {\r\n    return businessDate;\r\n  }\r\n\r\n  public void setBusinessDate(LocalDate businessDate) {\r\n    this.businessDate = businessDate;\r\n  }\r\n}\r\n\r\n\r\n@JsonPropertyOrder({\r\n  EnrichTradeRequest.JSON_PROPERTY_SOAP_TRADE_INPUT\r\n})\r\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;2023-02-23T11:48:40.067Z[Europe/London]&quot;)\r\npublic class ConcreteRequest extends BaseRequest {\r\n  public static final String JSON_PROPERTY_SOAP_TRADE_INPUT = &quot;soapTradeInput&quot;;\r\n  private SoapTradeInput soapTradeInput;\r\n\r\n  public ConcreteRequest soapTradeInput(SoapTradeInput soapTradeInput) {\r\n    this.soapTradeInput = soapTradeInput;\r\n    return this;\r\n  }\r\n\r\n  @javax.annotation.Nullable\r\n  @ApiModelProperty(value = &quot;&quot;)\r\n  @JsonProperty(JSON_PROPERTY_SOAP_TRADE_INPUT)\r\n  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\r\n  public SoapTradeInput getSoapTradeInput() {\r\n    return soapTradeInput;\r\n  }\r\n\r\n  public void setSoapTradeInput(SoapTradeInput soapTradeInput) {\r\n    this.soapTradeInput = soapTradeInput;\r\n  }\r\n}\r\n```\r\n\r\nI have stripped out the equals / toString / hashCode methods.\r\n\r\nIf I create an instance of ConcreteRequest and the serialize it to json using the object mapper shown below, the __type property is null\r\n\r\n```\r\n{\r\n  &quot;soapTradeInput&quot;: {\r\n    ...,\r\n    &quot;__type&quot;:null\r\n  },\r\n  &quot;__type&quot;:null,\r\n  &quot;businessDate&quot;:null\r\n}\r\n```\r\n\r\n```\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n        mapper.enable(SerializationFeature.WRITE_ENUMS_USING_TO_STRING);\r\n        mapper.enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING);\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        mapper.configure(DeserializationFeature.FAIL_ON_INVALID_SUBTYPE, false);\r\n        mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\r\n        mapper.configure(MapperFeature.USE_BASE_TYPE_AS_DEFAULT_IMPL, true);\r\n        mapper.registerModules(new JodaModule());\r\n```\r\n\r\nGiven that the object graph explicitly uses concrete types and references, I would expect the __type value to be automatically serialized for me and I should not have to explicitly set the property on the object?\r\n\r\nI suspect it&#39;s a configuration issue, but I am unsure how I go about ensuring the correct concrete type value is used for __type when serializing to json.  ","title":"Why is jackson serializing __type property to null, when annotation clearly states concrete type subtype info?","body":"<p>I have an open api v2 schema that uses allOf and via the openapi-generator-maven-plugin generates the model classes shown below.</p>\n<pre><code>@JsonPropertyOrder({\n  TradeRequest.JSON_PROPERTY_TYPE,\n  TradeRequest.JSON_PROPERTY_BUSINESS_DATE\n})\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;2023-02-23T11:48:40.067Z[Europe/London]&quot;)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.EXISTING_PROPERTY, property = &quot;__type&quot;, visible = true)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = ConcreteRequest.class, name = &quot;ConcreteRequest&quot;),\n})\n\npublic class BaseRequest {\n  public static final String JSON_PROPERTY_TYPE = &quot;__type&quot;;\n  protected String type;\n\n  public static final String JSON_PROPERTY_BUSINESS_DATE = &quot;businessDate&quot;;\n  private LocalDate businessDate;\n\n\n  public BaseRequest type(String type) {    \n    this.type = type;\n    return this;\n  }\n\n  @ApiModelProperty(required = true, value = &quot;&quot;)\n  @JsonProperty(JSON_PROPERTY_TYPE)\n  @JsonInclude(value = JsonInclude.Include.ALWAYS)\n  public String getType() {\n    return type;\n  }\n\n  public void setType(String type) {\n    this.type = type;\n  }\n\n  public BaseRequest businessDate(LocalDate businessDate) {\n    this.businessDate = businessDate;\n    return this;\n  }\n\n  @javax.annotation.Nullable\n  @ApiModelProperty(value = &quot;&quot;)\n  @JsonProperty(JSON_PROPERTY_BUSINESS_DATE)\n  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\n\n  public LocalDate getBusinessDate() {\n    return businessDate;\n  }\n\n  public void setBusinessDate(LocalDate businessDate) {\n    this.businessDate = businessDate;\n  }\n}\n\n\n@JsonPropertyOrder({\n  EnrichTradeRequest.JSON_PROPERTY_SOAP_TRADE_INPUT\n})\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;2023-02-23T11:48:40.067Z[Europe/London]&quot;)\npublic class ConcreteRequest extends BaseRequest {\n  public static final String JSON_PROPERTY_SOAP_TRADE_INPUT = &quot;soapTradeInput&quot;;\n  private SoapTradeInput soapTradeInput;\n\n  public ConcreteRequest soapTradeInput(SoapTradeInput soapTradeInput) {\n    this.soapTradeInput = soapTradeInput;\n    return this;\n  }\n\n  @javax.annotation.Nullable\n  @ApiModelProperty(value = &quot;&quot;)\n  @JsonProperty(JSON_PROPERTY_SOAP_TRADE_INPUT)\n  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\n  public SoapTradeInput getSoapTradeInput() {\n    return soapTradeInput;\n  }\n\n  public void setSoapTradeInput(SoapTradeInput soapTradeInput) {\n    this.soapTradeInput = soapTradeInput;\n  }\n}\n</code></pre>\n<p>I have stripped out the equals / toString / hashCode methods.</p>\n<p>If I create an instance of ConcreteRequest and the serialize it to json using the object mapper shown below, the __type property is null</p>\n<pre><code>{\n  &quot;soapTradeInput&quot;: {\n    ...,\n    &quot;__type&quot;:null\n  },\n  &quot;__type&quot;:null,\n  &quot;businessDate&quot;:null\n}\n</code></pre>\n<pre><code>        ObjectMapper mapper = new ObjectMapper();\n        mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n        mapper.enable(SerializationFeature.WRITE_ENUMS_USING_TO_STRING);\n        mapper.enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING);\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.configure(DeserializationFeature.FAIL_ON_INVALID_SUBTYPE, false);\n        mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true);\n        mapper.configure(MapperFeature.USE_BASE_TYPE_AS_DEFAULT_IMPL, true);\n        mapper.registerModules(new JodaModule());\n</code></pre>\n<p>Given that the object graph explicitly uses concrete types and references, I would expect the __type value to be automatically serialized for me and I should not have to explicitly set the property on the object?</p>\n<p>I suspect it's a configuration issue, but I am unsure how I go about ensuring the correct concrete type value is used for __type when serializing to json.</p>\n"},{"tags":["java","html","spring-boot","file-upload"],"comments":[{"owner":{"account_id":477033,"reputation":2378,"user_id":888278,"accept_rate":76,"display_name":"mansoor.khan"},"score":0,"creation_date":1541864668,"post_id":50515601,"comment_id":93366853,"body_markdown":"Were you able to fix the issue?","body":"Were you able to fix the issue?"},{"owner":{"account_id":3755323,"reputation":331,"user_id":3121794,"accept_rate":69,"display_name":"CS2016"},"score":1,"creation_date":1543498255,"post_id":50515601,"comment_id":93947337,"body_markdown":"@steady_daddy Yes, I answered my question below. Sorry for the delay.","body":"@steady_daddy Yes, I answered my question below. Sorry for the delay."}],"answers":[{"comments":[{"owner":{"account_id":3755323,"reputation":331,"user_id":3121794,"accept_rate":69,"display_name":"CS2016"},"score":0,"creation_date":1527190899,"post_id":50516165,"comment_id":88046520,"body_markdown":"I created a `@GetMapping` and `@PostMapping` Method and still had the same issue.","body":"I created a <code>@GetMapping</code> and <code>@PostMapping</code> Method and still had the same issue."}],"tags":[],"owner":{"account_id":106185,"reputation":1126,"user_id":282956,"accept_rate":0,"display_name":"mavriksc"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527187467,"creation_date":1527187467,"answer_id":50516165,"question_id":50515601,"body_markdown":"you need something to handle loading the form a `@GetMapping`.   \r\nThe `@RequestMapping` i think defaults to get. So when you are &quot;getting&quot; the page it tries to hit your method that is expecting a file. [take a look at my example](https://github.com/mavriksc/overcomp/blob/master/src/main/java/com/mavriksc/controller/IndexController.java) ","title":"Spring Boot Required request part &#39;file&#39; is not present","body":"<p>you need something to handle loading the form a <code>@GetMapping</code>.<br>\nThe <code>@RequestMapping</code> i think defaults to get. So when you are \"getting\" the page it tries to hit your method that is expecting a file. <a href=\"https://github.com/mavriksc/overcomp/blob/master/src/main/java/com/mavriksc/controller/IndexController.java\" rel=\"nofollow noreferrer\">take a look at my example</a> </p>\n"},{"comments":[{"owner":{"account_id":3755323,"reputation":331,"user_id":3121794,"accept_rate":69,"display_name":"CS2016"},"score":1,"creation_date":1527206650,"post_id":50517836,"comment_id":88051970,"body_markdown":"I tried this, and as per the answer below I also tried making a `@PostMapping` method entirely, still getting the error.","body":"I tried this, and as per the answer below I also tried making a <code>@PostMapping</code> method entirely, still getting the error."},{"owner":{"account_id":4323464,"reputation":6780,"user_id":3530898,"display_name":"Amit K Bist"},"score":1,"creation_date":1527211726,"post_id":50517836,"comment_id":88052993,"body_markdown":"I tried running the code with your `&lt;form&gt;` and `POST` method in the controller and its working fine for me. Can you try to capture data flow from browser to your server either using `Fiddler` or `Chrome browser&#39;s Network tab`, and share the screenshot or data in your qs.","body":"I tried running the code with your <code>&lt;form&gt;</code> and <code>POST</code> method in the controller and its working fine for me. Can you try to capture data flow from browser to your server either using <code>Fiddler</code> or <code>Chrome browser&#39;s Network tab</code>, and share the screenshot or data in your qs."}],"tags":[],"owner":{"account_id":4323464,"reputation":6780,"user_id":3530898,"display_name":"Amit K Bist"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527194368,"creation_date":1527194368,"answer_id":50517836,"question_id":50515601,"body_markdown":"Your `&lt;form&gt;` in your view code is with method as `POST`\r\n\r\n    &lt;form action=&quot;/upload&quot; enctype=&quot;multipart/form-data&quot; method = &quot;post&quot;&gt; \r\n\r\nIn controller change `@RequestMapping(&quot;/upload&quot;)` to below\r\n\r\n    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)","title":"Spring Boot Required request part &#39;file&#39; is not present","body":"<p>Your <code>&lt;form&gt;</code> in your view code is with method as <code>POST</code></p>\n\n<pre><code>&lt;form action=\"/upload\" enctype=\"multipart/form-data\" method = \"post\"&gt; \n</code></pre>\n\n<p>In controller change <code>@RequestMapping(\"/upload\")</code> to below</p>\n\n<pre><code>@RequestMapping(value = \"/upload\", method = RequestMethod.POST)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1395326,"reputation":8690,"user_id":1325216,"accept_rate":58,"display_name":"Sander Verhagen"},"score":0,"creation_date":1666505493,"post_id":53540182,"comment_id":130950336,"body_markdown":"No opinion on the need for this parameter, but the `enabled` one may have to be `spring.http.multipart.enabled` at this point?","body":"No opinion on the need for this parameter, but the <code>enabled</code> one may have to be <code>spring.http.multipart.enabled</code> at this point?"}],"tags":[],"owner":{"account_id":3755323,"reputation":331,"user_id":3121794,"accept_rate":69,"display_name":"CS2016"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1543498230,"creation_date":1543498230,"answer_id":53540182,"question_id":50515601,"body_markdown":"After a while, I was able to solve this issue: In my application.properties file I added the following:\r\n\r\n    spring.servlet.multipart.max-file-size=128MB\r\n    spring.servlet.multipart.max-request-size=128MB\r\n    spring.http.multipart.enabled=true\r\n    upload.path=/export/home/","title":"Spring Boot Required request part &#39;file&#39; is not present","body":"<p>After a while, I was able to solve this issue: In my application.properties file I added the following:</p>\n\n<pre><code>spring.servlet.multipart.max-file-size=128MB\nspring.servlet.multipart.max-request-size=128MB\nspring.http.multipart.enabled=true\nupload.path=/export/home/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13395835,"reputation":21,"user_id":9666800,"display_name":"Sumit Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590505742,"creation_date":1590505742,"answer_id":62025317,"question_id":50515601,"body_markdown":"I would recommend using @RequestPart. If you are uploading a file using from-data try to rewrite the code like below:\r\n\r\n        @PostMapping(&quot;/upload&quot;)\r\n    public ResponseEntity&lt;CustomResponse&gt; uploadFile(@RequestPart(value = &quot;file&quot;,required = true) MultipartFile file,\r\n                                     @RequestPart(value = &quot;metadata&quot;,required = true) Metadata metadata,\r\n                                     HttpServletResponse response) ","title":"Spring Boot Required request part &#39;file&#39; is not present","body":"<p>I would recommend using @RequestPart. If you are uploading a file using from-data try to rewrite the code like below:</p>\n\n<pre><code>    @PostMapping(\"/upload\")\npublic ResponseEntity&lt;CustomResponse&gt; uploadFile(@RequestPart(value = \"file\",required = true) MultipartFile file,\n                                 @RequestPart(value = \"metadata\",required = true) Metadata metadata,\n                                 HttpServletResponse response) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7202486,"reputation":1,"user_id":5499268,"display_name":"diallo ibrahima sory"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664366915,"creation_date":1664366915,"answer_id":73881149,"question_id":50515601,"body_markdown":"I have had similar issue, in my case the reason was the name of the input tag of the form was not matching with `@RequestParam(&quot;fileUpload&quot;)` annotation parameters.\r\n\r\n     @PostMapping(&quot;/add&quot;)\r\n    public String addFile(@RequestParam(&quot;fileUpload&quot;) MultipartFile fileUpload, Model model, Authentication authentication) {\r\n\r\n        User loggeduser = userService.getUser(authentication.getName());\r\n        File newFile = new File();\r\n\r\n        String fileName = StringUtils.cleanPath(fileUpload.getOriginalFilename());\r\n\r\n        File fileaux = filesService.getFileByName(fileName);\r\n        int result = -1;\r\n        if (fileaux != null) {\r\n            model.addAttribute(&quot;result&quot;, false);\r\n            model.addAttribute(&quot;message&quot;, &quot;File already exists&quot;);\r\n            return &quot;result&quot;;\r\n        } else {\r\n            try {\r\n                newFile.setFilename(StringUtils.cleanPath(fileName));\r\n                newFile.setContentType(fileUpload.getContentType());\r\n                newFile.setFileSize(String.valueOf(fileUpload.getSize()));\r\n                newFile.setUserId(loggeduser.getUserid());\r\n                newFile.setFileData(fileUpload.getBytes());\r\n                result = filesService.addFile(newFile);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        if (result &lt; 0) {\r\n            model.addAttribute(&quot;result&quot;, false);\r\n        } else {\r\n            model.addAttribute(&quot;result&quot;, true);\r\n        }\r\n\r\n        return &quot;result&quot;;\r\n    }\r\n\r\nit must match with the input form tag in the HTML file.\r\n\r\n    &lt;form action=&quot;#&quot; enctype=&quot;multipart/form-data&quot; th:action=&quot;@{/file/add}&quot; method=&quot;POST&quot;&gt;\r\n                            &lt;div class=&quot;container&quot;&gt;\r\n                                &lt;div class=&quot;row&quot; style=&quot;margin: 1em;&quot;&gt;\r\n                                    &lt;div class=&quot;col-sm-2&quot;&gt;\r\n                                        &lt;label for=&quot;fileUpload&quot;&gt;Upload a New File:&lt;/label&gt;\r\n                                    &lt;/div&gt;\r\n                                    &lt;div class=&quot;col-sm-6&quot;&gt;\r\n                                        &lt;input type=&quot;file&quot; class=&quot;form-control-file&quot; id=&quot;fileUpload&quot; name=&quot;fileUpload&quot;&gt;\r\n                                    &lt;/div&gt;\r\n                                    &lt;div class=&quot;col-sm-4&quot;&gt;\r\n                                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-dark&quot; id=&quot;uploadButton&quot;&gt;Upload&lt;/button&gt;\r\n                                    &lt;/div&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n&lt;/form&gt;\r\n\r\n\r\n","title":"Spring Boot Required request part &#39;file&#39; is not present","body":"<p>I have had similar issue, in my case the reason was the name of the input tag of the form was not matching with <code>@RequestParam(&quot;fileUpload&quot;)</code> annotation parameters.</p>\n<pre><code> @PostMapping(&quot;/add&quot;)\npublic String addFile(@RequestParam(&quot;fileUpload&quot;) MultipartFile fileUpload, Model model, Authentication authentication) {\n\n    User loggeduser = userService.getUser(authentication.getName());\n    File newFile = new File();\n\n    String fileName = StringUtils.cleanPath(fileUpload.getOriginalFilename());\n\n    File fileaux = filesService.getFileByName(fileName);\n    int result = -1;\n    if (fileaux != null) {\n        model.addAttribute(&quot;result&quot;, false);\n        model.addAttribute(&quot;message&quot;, &quot;File already exists&quot;);\n        return &quot;result&quot;;\n    } else {\n        try {\n            newFile.setFilename(StringUtils.cleanPath(fileName));\n            newFile.setContentType(fileUpload.getContentType());\n            newFile.setFileSize(String.valueOf(fileUpload.getSize()));\n            newFile.setUserId(loggeduser.getUserid());\n            newFile.setFileData(fileUpload.getBytes());\n            result = filesService.addFile(newFile);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    if (result &lt; 0) {\n        model.addAttribute(&quot;result&quot;, false);\n    } else {\n        model.addAttribute(&quot;result&quot;, true);\n    }\n\n    return &quot;result&quot;;\n}\n</code></pre>\n<p>it must match with the input form tag in the HTML file.</p>\n<pre><code>&lt;form action=&quot;#&quot; enctype=&quot;multipart/form-data&quot; th:action=&quot;@{/file/add}&quot; method=&quot;POST&quot;&gt;\n                        &lt;div class=&quot;container&quot;&gt;\n                            &lt;div class=&quot;row&quot; style=&quot;margin: 1em;&quot;&gt;\n                                &lt;div class=&quot;col-sm-2&quot;&gt;\n                                    &lt;label for=&quot;fileUpload&quot;&gt;Upload a New File:&lt;/label&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;col-sm-6&quot;&gt;\n                                    &lt;input type=&quot;file&quot; class=&quot;form-control-file&quot; id=&quot;fileUpload&quot; name=&quot;fileUpload&quot;&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;col-sm-4&quot;&gt;\n                                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-dark&quot; id=&quot;uploadButton&quot;&gt;Upload&lt;/button&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677156746,"creation_date":1677156746,"answer_id":75545095,"question_id":50515601,"body_markdown":"In my case it was a permission issue, I had to toggle the following setting to ON : \r\n\r\n[![setting][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XuOqf.png","title":"Spring Boot Required request part &#39;file&#39; is not present","body":"<p>In my case it was a permission issue, I had to toggle the following setting to ON :</p>\n<p><a href=\"https://i.stack.imgur.com/XuOqf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XuOqf.png\" alt=\"setting\" /></a></p>\n"}],"owner":{"account_id":3755323,"reputation":331,"user_id":3121794,"accept_rate":69,"display_name":"CS2016"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15965,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53540182,"answer_count":6,"score":0,"last_activity_date":1677156746,"creation_date":1527185238,"question_id":50515601,"body_markdown":"I am trying to create a file upload utility and am getting the following error when I click on the `submit` button. It starts uploading and then suddenly has this error: \r\n\r\n    There was an unexpected error (type=Bad Request, status=400).\r\n    Required request part &#39;file&#39; is not present\r\n\r\nI don&#39;t have a stacktrace, that&#39;s all that&#39;s displayed in my window or my console. I&#39;ve looked for other solutions and they all ended up being someone forgot to include `name=&quot;file&quot;` in their html file. I have made sure it&#39;s included and am still getting the error. \r\n\r\nBelow is my upload form:\r\n\r\n    &lt;div id=&quot;custom-search-input&quot;&gt;\r\n    &lt;label&gt;Select a file to upload&lt;/label&gt;\r\n    \t&lt;form action=&quot;/upload&quot; enctype=&quot;multipart/form-data&quot; method = &quot;post&quot;&gt; \r\n    \t\t&lt;div class=&quot;input-group col-md-12&quot;&gt;\r\n    \t\t\t&lt;input type=&quot;file&quot; name=&quot;file&quot; class=&quot;search-query form-control&quot;/&gt;\r\n    \t\t\t&lt;span class=&quot;input-group-btn&quot;&gt;\r\n    \t\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Upload &lt;/button&gt;\r\n    \t\t\t&lt;/span&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\nThis is my controller method for uploading:\r\n\r\n    @Value(&quot;${upload.path}&quot;)\r\n    \tprivate String path;\r\n    \t\r\n    \t@RequestMapping(&quot;/upload&quot;)\r\n    \tpublic String upload(@RequestParam(&quot;file&quot;) MultipartFile file, Model model, HttpSession session) throws IOException {\r\n    \t\t\tif(!file.isEmpty()) {\r\n    \t\t\t\t//Get the user\r\n    \t\t\t\tUser user = (User) session.getAttribute(&quot;user&quot;);\r\n    \t\t\t\t//Get the file name\r\n    \t\t\t\tString fileName = file.getOriginalFilename();\r\n    \t            InputStream is = file.getInputStream();\r\n    \t            //Store the uploaded file into the users directory in the system path\r\n    \t            Files.copy(is, Paths.get(path + user.getNetworkId() + &quot;\\\\&quot;  + fileName),StandardCopyOption.REPLACE_EXISTING);\r\n    \t\r\n    \t        return &quot;redirect:/success.html&quot;;\r\n    \t\r\n    \t    } else {\r\n    \t\r\n    \t        return &quot;redirect:/index.html&quot;;\r\n    \t    }\t\r\n    \t}\r\n\r\nAlso would like to note I tried this for my upload method: \r\n\r\n    public String upload(@RequestParam(name=&quot;file&quot;,required=true) MultipartFile file, Model model, HttpSession session) \r\n\r\nFor reference, [this](http://zetcode.com/springboot/uploadfile/) is what I was referrencing.\r\n\r\nAs per some of the answers below, I tried creating a `PostMapping` method stand alone, as well as `@RequestMapping(value=&quot;/upload&quot;, method = RequestMethod.POST)` I am still getting the error.","title":"Spring Boot Required request part &#39;file&#39; is not present","body":"<p>I am trying to create a file upload utility and am getting the following error when I click on the <code>submit</code> button. It starts uploading and then suddenly has this error: </p>\n\n<pre><code>There was an unexpected error (type=Bad Request, status=400).\nRequired request part 'file' is not present\n</code></pre>\n\n<p>I don't have a stacktrace, that's all that's displayed in my window or my console. I've looked for other solutions and they all ended up being someone forgot to include <code>name=\"file\"</code> in their html file. I have made sure it's included and am still getting the error. </p>\n\n<p>Below is my upload form:</p>\n\n<pre><code>&lt;div id=\"custom-search-input\"&gt;\n&lt;label&gt;Select a file to upload&lt;/label&gt;\n    &lt;form action=\"/upload\" enctype=\"multipart/form-data\" method = \"post\"&gt; \n        &lt;div class=\"input-group col-md-12\"&gt;\n            &lt;input type=\"file\" name=\"file\" class=\"search-query form-control\"/&gt;\n            &lt;span class=\"input-group-btn\"&gt;\n                &lt;button type=\"submit\" class=\"btn btn-success\"&gt;Upload &lt;/button&gt;\n            &lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is my controller method for uploading:</p>\n\n<pre><code>@Value(\"${upload.path}\")\n    private String path;\n\n    @RequestMapping(\"/upload\")\n    public String upload(@RequestParam(\"file\") MultipartFile file, Model model, HttpSession session) throws IOException {\n            if(!file.isEmpty()) {\n                //Get the user\n                User user = (User) session.getAttribute(\"user\");\n                //Get the file name\n                String fileName = file.getOriginalFilename();\n                InputStream is = file.getInputStream();\n                //Store the uploaded file into the users directory in the system path\n                Files.copy(is, Paths.get(path + user.getNetworkId() + \"\\\\\"  + fileName),StandardCopyOption.REPLACE_EXISTING);\n\n            return \"redirect:/success.html\";\n\n        } else {\n\n            return \"redirect:/index.html\";\n        }   \n    }\n</code></pre>\n\n<p>Also would like to note I tried this for my upload method: </p>\n\n<pre><code>public String upload(@RequestParam(name=\"file\",required=true) MultipartFile file, Model model, HttpSession session) \n</code></pre>\n\n<p>For reference, <a href=\"http://zetcode.com/springboot/uploadfile/\" rel=\"nofollow noreferrer\">this</a> is what I was referrencing.</p>\n\n<p>As per some of the answers below, I tried creating a <code>PostMapping</code> method stand alone, as well as <code>@RequestMapping(value=\"/upload\", method = RequestMethod.POST)</code> I am still getting the error.</p>\n"},{"tags":["java","web-services","http","quarkus"],"answers":[{"comments":[{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":0,"creation_date":1600253450,"post_id":63916573,"comment_id":113027408,"body_markdown":"Yes, this works for me. I&#39;ve noticed that the `uber-jar=true` setting is also respected when the Maven plug-in builds a container image. I&#39;m curious to know why this _isn&#39;t_ the default.","body":"Yes, this works for me. I&#39;ve noticed that the <code>uber-jar=true</code> setting is also respected when the Maven plug-in builds a container image. I&#39;m curious to know why this <i>isn&#39;t</i> the default."},{"owner":{"account_id":8259172,"reputation":81,"user_id":6223368,"display_name":"user6223368 iSubodh"},"score":0,"creation_date":1600257989,"post_id":63916573,"comment_id":113029770,"body_markdown":"Thanks Jan, this way we get rid of other jar and only have single jar with all the dependencies","body":"Thanks Jan, this way we get rid of other jar and only have single jar with all the dependencies"}],"tags":[],"owner":{"account_id":305143,"reputation":1151,"user_id":615104,"display_name":"Jan Martiška"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1600246656,"creation_date":1600246656,"answer_id":63916573,"question_id":63915143,"body_markdown":"To produce a fat jar that includes all the libraries necessary to run the app, use the property `quarkus.package.uber-jar=true` (you can add that into `src/main/resources/application.properties` or pass it as a system property when running the build).","title":"java.lang.ClassNotFoundException: io.quarkus.runtime.Quarkus","body":"<p>To produce a fat jar that includes all the libraries necessary to run the app, use the property <code>quarkus.package.uber-jar=true</code> (you can add that into <code>src/main/resources/application.properties</code> or pass it as a system property when running the build).</p>\n"},{"tags":[],"owner":{"account_id":15017113,"reputation":161,"user_id":10839796,"display_name":"Werner Diwischek"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647760793,"creation_date":1647760793,"answer_id":71544819,"question_id":63915143,"body_markdown":"With mvn clean package I got the following error starting: \r\n \r\n     Unrecognized configuration key &quot;quarkus.package.uber-jar&quot; was provided\r\n\r\nI&#39;ve found \r\n     \r\n     quarkus.package.type=uber-jar \r\n\r\nas a property. \r\n\r\nWhat I prefer is setting \r\n\r\n     &lt;quarkus.package.type&gt;uber-jar&lt;/quarkus.package.type&gt;\r\n\r\nin the pom properties. \r\n\r\nhttps://github.com/fluentcodes/sandbox/tree/java-quarkus-empty","title":"java.lang.ClassNotFoundException: io.quarkus.runtime.Quarkus","body":"<p>With mvn clean package I got the following error starting:</p>\n<pre><code> Unrecognized configuration key &quot;quarkus.package.uber-jar&quot; was provided\n</code></pre>\n<p>I've found</p>\n<pre><code> quarkus.package.type=uber-jar \n</code></pre>\n<p>as a property.</p>\n<p>What I prefer is setting</p>\n<pre><code> &lt;quarkus.package.type&gt;uber-jar&lt;/quarkus.package.type&gt;\n</code></pre>\n<p>in the pom properties.</p>\n<p><a href=\"https://github.com/fluentcodes/sandbox/tree/java-quarkus-empty\" rel=\"nofollow noreferrer\">https://github.com/fluentcodes/sandbox/tree/java-quarkus-empty</a></p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677156665,"creation_date":1677156665,"answer_id":75545079,"question_id":63915143,"body_markdown":"1. If you want to build an _&#252;ber-jar with Gradle \r\n```shell script\r\n./gradlew build -Dquarkus.package.type=uber-jar\r\n```\r\n\r\n2. If anyone is using `serverless framework`, make sure your artifact is `function.zip` not a jar in Quarkus JDK mode.\r\n```yaml\r\npackage:\r\n  artifact: build/function.zip\r\n```\r\n\r\n3. If anyone is using ALB to invoke the lambda then you have to replace the `&#39;io.quarkus:quarkus-amazon-lambda&#39;` by `&#39;io.quarkus:quarkus-amazon-lambda-rest&#39;`  in your grade. In that case, you don&#39;t need to provide a custom handler implementation.","title":"java.lang.ClassNotFoundException: io.quarkus.runtime.Quarkus","body":"<ol>\n<li>If you want to build an _über-jar with Gradle</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew build -Dquarkus.package.type=uber-jar\n</code></pre>\n<ol start=\"2\">\n<li>If anyone is using <code>serverless framework</code>, make sure your artifact is <code>function.zip</code> not a jar in Quarkus JDK mode.</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>package:\n  artifact: build/function.zip\n</code></pre>\n<ol start=\"3\">\n<li>If anyone is using ALB to invoke the lambda then you have to replace the <code>'io.quarkus:quarkus-amazon-lambda'</code> by <code>'io.quarkus:quarkus-amazon-lambda-rest'</code>  in your grade. In that case, you don't need to provide a custom handler implementation.</li>\n</ol>\n"}],"owner":{"account_id":8259172,"reputation":81,"user_id":6223368,"display_name":"user6223368 iSubodh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7589,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63916573,"answer_count":3,"score":3,"last_activity_date":1677156665,"creation_date":1600241373,"question_id":63915143,"body_markdown":"I am trying to run runner jar of the quarkus application which would be listening over port 9411 on http.\r\n\r\nProgrammatically using UrlClassLoader, when I try to load the jar it throws \r\n(also with java -jar)\r\n1.java.lang.ClassNotFoundException: io.quarkus.runtime.Quarkus\r\n\r\n2.java.lang.reflect.InvocationTargetException\r\nhere is the snippet of code ,\r\n\r\n            URLClassLoader loader = new URLClassLoader(\r\n                new URL[]{ new File(&lt;location of runner jar&gt;).toURI().toURL()});\r\n            Thread.currentThread().setContextClassLoader(loader);\r\n            Class&lt;?&gt; mainClass = loader.loadClass(&quot;io.quarkus.runner.GeneratedMain&quot;); \r\n            Method mainMethod = mainClass.getMethod(&quot;main&quot;, String[].class);\r\n            mainMethod.invoke(null, (Object) new String[]{});\r\n\r\nanother observation is when I place /lib folder at the runner jar location it loads successfully meaning it requires the lib folder altogether.\r\n\r\nHow can I make my code work only with runner jar?","title":"java.lang.ClassNotFoundException: io.quarkus.runtime.Quarkus","body":"<p>I am trying to run runner jar of the quarkus application which would be listening over port 9411 on http.</p>\n<p>Programmatically using UrlClassLoader, when I try to load the jar it throws\n(also with java -jar)\n1.java.lang.ClassNotFoundException: io.quarkus.runtime.Quarkus</p>\n<p>2.java.lang.reflect.InvocationTargetException\nhere is the snippet of code ,</p>\n<pre><code>        URLClassLoader loader = new URLClassLoader(\n            new URL[]{ new File(&lt;location of runner jar&gt;).toURI().toURL()});\n        Thread.currentThread().setContextClassLoader(loader);\n        Class&lt;?&gt; mainClass = loader.loadClass(&quot;io.quarkus.runner.GeneratedMain&quot;); \n        Method mainMethod = mainClass.getMethod(&quot;main&quot;, String[].class);\n        mainMethod.invoke(null, (Object) new String[]{});\n</code></pre>\n<p>another observation is when I place /lib folder at the runner jar location it loads successfully meaning it requires the lib folder altogether.</p>\n<p>How can I make my code work only with runner jar?</p>\n"},{"tags":["java","maven","micronaut"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1671294826,"post_id":74835304,"comment_id":132070696,"body_markdown":"Import the pom into your dependencyManagement section. Same idea as with Spring, described here: https://www.baeldung.com/spring-boot-dependency-management-custom-parent","body":"Import the pom into your dependencyManagement section. Same idea as with Spring, described here: <a href=\"https://www.baeldung.com/spring-boot-dependency-management-custom-parent\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-dependency-management-custom-parent</a>"}],"answers":[{"tags":[],"owner":{"account_id":2674499,"reputation":191,"user_id":4475193,"display_name":"Stanislav Codes"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1671294447,"creation_date":1671294447,"answer_id":74835660,"question_id":74835304,"body_markdown":"Brute-force way of doing this is manually including the dependencies and plugins that are provided by the micronaut-parent artifact in your project&#39;s pom.xml file. \r\n\r\nAlso you should not forget to include the following to have plugins that are provided by micronaut-parent:\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;create-config&lt;/goal&gt;\r\n                        &lt;goal&gt;build&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\nOne last touch is to have a property micronaut.version in your pom that you want to use.","title":"Micronaut Maven Project Without the Micronaut Parent","body":"<p>Brute-force way of doing this is manually including the dependencies and plugins that are provided by the micronaut-parent artifact in your project's pom.xml file.</p>\n<p>Also you should not forget to include the following to have plugins that are provided by micronaut-parent:</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${micronaut.version}&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;create-config&lt;/goal&gt;\n                    &lt;goal&gt;build&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>One last touch is to have a property micronaut.version in your pom that you want to use.</p>\n"},{"tags":[],"owner":{"account_id":15143058,"reputation":3,"user_id":10927564,"display_name":"Fabian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677156111,"creation_date":1677156111,"answer_id":75544991,"question_id":74835304,"body_markdown":"    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- Micronaut --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;","title":"Micronaut Maven Project Without the Micronaut Parent","body":"<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Micronaut --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":6869588,"reputation":3711,"user_id":5280543,"display_name":"Michael Albers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677156111,"creation_date":1671291190,"question_id":74835304,"body_markdown":"I have a Java monorepo with a few child projects, each corresponding to a different service. I am trying to convert one of these from Dropwizard to Micronaut, while leaving the others using Dropwizard.\r\n\r\n```\r\npom.xml\r\n|--service1   &lt;--- converting this, and only this, to Micronaut\r\n|  `--pom.xml\r\n|--service2\r\n|  `--pom.xml \r\n```\r\n\r\nThe top-level **pom.xml** contains common dependencies, plugins, etc. the child projectgs inherit via the `&lt;parent&gt;` mechanism. All of the Micronaut documentation, examples and project builder set the `micronaut-parent` artifact as the project&#39;s parent. I&#39;m unable to figure out how to keep the existing inheritance while also getting all of the features from the micronaut-parent artifact.\r\n\r\nIs there a way to have a Micronaut project without the inheritance, but with the features micronaut-parent provides? Is there some other workaround?","title":"Micronaut Maven Project Without the Micronaut Parent","body":"<p>I have a Java monorepo with a few child projects, each corresponding to a different service. I am trying to convert one of these from Dropwizard to Micronaut, while leaving the others using Dropwizard.</p>\n<pre><code>pom.xml\n|--service1   &lt;--- converting this, and only this, to Micronaut\n|  `--pom.xml\n|--service2\n|  `--pom.xml \n</code></pre>\n<p>The top-level <strong>pom.xml</strong> contains common dependencies, plugins, etc. the child projectgs inherit via the <code>&lt;parent&gt;</code> mechanism. All of the Micronaut documentation, examples and project builder set the <code>micronaut-parent</code> artifact as the project's parent. I'm unable to figure out how to keep the existing inheritance while also getting all of the features from the micronaut-parent artifact.</p>\n<p>Is there a way to have a Micronaut project without the inheritance, but with the features micronaut-parent provides? Is there some other workaround?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","remotewebdriver"],"answers":[{"tags":[],"owner":{"account_id":4282603,"reputation":1705,"user_id":3501502,"display_name":"Anton Angelov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432298598,"creation_date":1432298598,"answer_id":30397049,"question_id":30396783,"body_markdown":"You can make the download folder shared. \\\\youruser\\downloads after that you can pass this path to the File.Delete(); and it will delete the desired files.","title":"How can I delete a downloaded file using Selenium RemoteWebDriver?","body":"<p>You can make the download folder shared. \\youruser\\downloads after that you can pass this path to the File.Delete(); and it will delete the desired files.</p>\n"},{"comments":[{"owner":{"account_id":4636757,"reputation":753,"user_id":3757782,"accept_rate":91,"display_name":"Xgongiveittoya"},"score":1,"creation_date":1533665715,"post_id":51732945,"comment_id":90426757,"body_markdown":"While this may be a great answer, I would recommend providing more information on how and why this is a workable solution so that others can more easily understand and use this answer.","body":"While this may be a great answer, I would recommend providing more information on how and why this is a workable solution so that others can more easily understand and use this answer."},{"owner":{"account_id":5205240,"reputation":977,"user_id":4163398,"accept_rate":50,"display_name":"Dave"},"score":1,"creation_date":1549891259,"post_id":51732945,"comment_id":96055169,"body_markdown":"As stated in the question, using `File.delete()` will *not* work when running on a remote node, as the file will be downloaded on the browser-hosting machine but the delete command will be run on the test-running machine.","body":"As stated in the question, using <code>File.delete()</code> will <i>not</i> work when running on a remote node, as the file will be downloaded on the browser-hosting machine but the delete command will be run on the test-running machine."}],"tags":[],"owner":{"account_id":14102045,"reputation":1,"user_id":10187161,"display_name":"siva kumar"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1533665178,"creation_date":1533665178,"answer_id":51732945,"question_id":30396783,"body_markdown":"This Worked for me\r\n\r\n\r\n    try \r\n    {\r\n    if ((new File(&quot;Path&quot;)).delete()) {\r\n    \t\t\t\tSystem.out.println(&quot;Pass&quot;);\t\t\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Failed&quot;);\r\n    \t\t\t}\r\n    \r\n    \t  \t  } catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t  }","title":"How can I delete a downloaded file using Selenium RemoteWebDriver?","body":"<p>This Worked for me</p>\n\n<pre><code>try \n{\nif ((new File(\"Path\")).delete()) {\n                System.out.println(\"Pass\");     \n            } else {\n                System.out.println(\"Failed\");\n            }\n\n          } catch (Exception ex) {\n            ex.printStackTrace();\n          }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5205240,"reputation":977,"user_id":4163398,"accept_rate":50,"display_name":"Dave"},"score":1,"creation_date":1549891241,"post_id":54610057,"comment_id":96055159,"body_markdown":"As stated in the question, using `File.delete()` will *not* work when running on a remote node, as the file will be downloaded on the browser-hosting machine but the delete command will be run on the test-running machine.","body":"As stated in the question, using <code>File.delete()</code> will <i>not</i> work when running on a remote node, as the file will be downloaded on the browser-hosting machine but the delete command will be run on the test-running machine."}],"tags":[],"owner":{"account_id":10272291,"reputation":1,"user_id":7580303,"display_name":"vishal kavita rathi"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1549741445,"creation_date":1549741445,"answer_id":54610057,"question_id":30396783,"body_markdown":"       ----------simply use this code for delete file in any folder-------------------       \r\n       File file = new File(&quot;C:\\\\Users\\\\Updoer\\\\Downloads\\\\Inspections.pdf&quot;); \r\n   \t   if(file.delete())\r\n   \t   System.out.println(&quot;file deleted&quot;);\r\n   \t","title":"How can I delete a downloaded file using Selenium RemoteWebDriver?","body":"<pre><code>   ----------simply use this code for delete file in any folder-------------------       \n   File file = new File(\"C:\\\\Users\\\\Updoer\\\\Downloads\\\\Inspections.pdf\"); \n   if(file.delete())\n   System.out.println(\"file deleted\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5205240,"reputation":977,"user_id":4163398,"accept_rate":50,"display_name":"Dave"},"score":1,"creation_date":1582034011,"post_id":60246125,"comment_id":106631269,"body_markdown":"As stated in the question and my responses to other answers, using `File.delete()` will not work when running on a remote node, as the file will be downloaded on the browser-hosting machine but the delete command will be run on the test-running machine.","body":"As stated in the question and my responses to other answers, using <code>File.delete()</code> will not work when running on a remote node, as the file will be downloaded on the browser-hosting machine but the delete command will be run on the test-running machine."}],"tags":[],"owner":{"account_id":13239039,"reputation":1,"user_id":9560216,"display_name":"paresh"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581837426,"creation_date":1581835994,"answer_id":60246125,"question_id":30396783,"body_markdown":"The Below Code will sequentially delete all the files from folder\r\n\t\t\r\n        File path = new File(&quot;Path of Folder&quot;);\r\n\t\tFile[] files = path.listFiles();\r\n\t\tfor (File file : files) {\r\n\t\t\tSystem.out.println(&quot;Deleted filename :&quot;+ file.getName());\r\n\t\t\tfile.delete();\r\n\t\t}","title":"How can I delete a downloaded file using Selenium RemoteWebDriver?","body":"<p>The Below Code will sequentially delete all the files from folder</p>\n\n<pre><code>    File path = new File(\"Path of Folder\");\n    File[] files = path.listFiles();\n    for (File file : files) {\n        System.out.println(\"Deleted filename :\"+ file.getName());\n        file.delete();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1379352,"reputation":402,"user_id":1312704,"accept_rate":90,"display_name":"mactwixs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677155646,"creation_date":1677155646,"answer_id":75544907,"question_id":30396783,"body_markdown":"Cleanup of downloaded files within session of Grid Node feature is planned:\r\n\r\nhttps://github.com/SeleniumHQ/selenium/issues/11457\r\nhttps://github.com/SeleniumHQ/selenium/issues/11657","title":"How can I delete a downloaded file using Selenium RemoteWebDriver?","body":"<p>Cleanup of downloaded files within session of Grid Node feature is planned:</p>\n<p><a href=\"https://github.com/SeleniumHQ/selenium/issues/11457\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/issues/11457</a>\n<a href=\"https://github.com/SeleniumHQ/selenium/issues/11657\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/issues/11657</a></p>\n"}],"owner":{"account_id":5205240,"reputation":977,"user_id":4163398,"accept_rate":50,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13084,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1677155646,"creation_date":1432297813,"question_id":30396783,"body_markdown":"I am writing a test to check that a file can be downloaded from a particular web page and I want it to be able to run both locally and remotely (i.e. on a node via Selenium grid). Before anyone links me to the &#39;do you really need to download the file?&#39; article, I have already managed to download and check the file, I just need a way of deleting it after the test has completed. Just calling `File.delete();` or similar will only work locally (as far as I&#39;m aware) so I can&#39;t use that to delete the file from the node machine. I&#39;m aware of the class `org.openqa.selenium.io.TemporaryFileSystem` however I can&#39;t find any instructions for how to use it.\r\n\r\nCan anyone offer a better solution than &#39;just run a script on the node machine to delete the file&#39;? Thanks!","title":"How can I delete a downloaded file using Selenium RemoteWebDriver?","body":"<p>I am writing a test to check that a file can be downloaded from a particular web page and I want it to be able to run both locally and remotely (i.e. on a node via Selenium grid). Before anyone links me to the 'do you really need to download the file?' article, I have already managed to download and check the file, I just need a way of deleting it after the test has completed. Just calling <code>File.delete();</code> or similar will only work locally (as far as I'm aware) so I can't use that to delete the file from the node machine. I'm aware of the class <code>org.openqa.selenium.io.TemporaryFileSystem</code> however I can't find any instructions for how to use it.</p>\n\n<p>Can anyone offer a better solution than 'just run a script on the node machine to delete the file'? Thanks!</p>\n"},{"tags":["java","selenium","winappdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673261109,"post_id":75054974,"comment_id":132450619,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22573771,"reputation":1,"user_id":16759582,"display_name":"yogesh ghildiyal"},"score":0,"creation_date":1673278655,"post_id":75054974,"comment_id":132457244,"body_markdown":"Actually i am working on a desktop application where i need to login so i need to send some input but sendkeys is not working but the element is visible as also clickable but while using sendkeys for sending input its not working","body":"Actually i am working on a desktop application where i need to login so i need to send some input but sendkeys is not working but the element is visible as also clickable but while using sendkeys for sending input its not working"}],"answers":[{"tags":[],"owner":{"account_id":12265172,"reputation":557,"user_id":8951897,"display_name":"G. Victor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677155516,"creation_date":1677155516,"answer_id":75544875,"question_id":75054974,"body_markdown":"You can try to use the next approaches, in this case, to paste text on Java or C#:\r\n\r\nusing Selenium Send Keys C#\r\n\r\n\tpublic void PasteText(IWebElement element, string text)\r\n    {\r\n    \tClipboard.SetText(text);\r\n    \telement.Click();\r\n    \tThread.Sleep(100);\r\n    \telement.SendKeys(OpenQA.Selenium.Keys.Control + &quot;a&quot; + OpenQA.Selenium.Keys.Delete);\r\n    \tThread.Sleep(100);\r\n    \telement.SendKeys(OpenQA.Selenium.Keys.Control + &quot;v&quot;);\r\n    }\r\n\t\r\nusing Selenium Send Keys Java\r\n\r\n\tpublic void pasteText(WebElement element, String text)\r\n    {\r\n    \tClipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n\t\tStringSelection stringSelection = new StringSelection(text);\r\n\t\tclipboard.setContents(stringSelection, null);\t\t\r\n    \telement.click();\r\n    \tThread.sleep(100);\r\n    \telement.sendKeys(Keys.chord(Keys.CONTROL, &quot;a&quot;));\r\n    \telement.sendKeys(Keys.Delete);\r\n    \tThread.sleep(100);\r\n    \telement.sendKeys(Keys.chord(Keys.CONTROL, &quot;v&quot;));\r\n    }\r\n\t\r\nusing InputSimulator library C#\r\n\r\n\tpublic static void PasteText(IWebElement element, string text)\r\n\t{\r\n\t\tClipboard.SetText(text);\r\n\t\telement.Click();\r\n\t\tThread.Sleep(100);\r\n\t\tvar inSim = new WindowsInput.InputSimulator();\r\n\t\tinSim.Keyboard.ModifiedKeyStroke(VirtualKeyCode.CONTROL, VirtualKeyCode.VK_A);\t\t\r\n\t\tinSim.Keyboard.KeyDown(VirtualKeyCode.DELETE);\r\n\t\tThread.Sleep(100);\r\n\t\tinSim.Keyboard.ModifiedKeyStroke(VirtualKeyCode.CONTROL, VirtualKeyCode.VK_V);\r\n\t\tinSim.Keyboard.KeyDown(VirtualKeyCode.RETURN);\r\n\t}\r\n\t\r\nusing Robot library Java\r\n\r\n\tpublic void pasteText(WebElement element, String text)\r\n    {\r\n    \tClipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n\t\tStringSelection stringSelection = new StringSelection(text);\r\n\t\tclipboard.setContents(stringSelection, null);\t\t\t\t\r\n    \telement.click();\r\n    \tThread.sleep(100);\r\n\t\tRobot robot = new Robot();\r\n\t\trobot.keyPress(KeyEvent.VK_CONTROL);\r\n\t\trobot.keyPress(KeyEvent.VK_A);\r\n\t\trobot.keyRelease(KeyEvent.VK_A);\r\n\t\trobot.keyRelease(KeyEvent.VK_CONTROL);\r\n\t\trobot.keyPress(KeyEvent.VK_DELETE);\r\n\t\trobot.keyRelease(KeyEvent.VK_DELETE);\r\n    \tThread.sleep(100);\r\n    \trobot.keyPress(KeyEvent.VK_CONTROL);\r\n\t\trobot.keyPress(KeyEvent.VK_V);\r\n\t\trobot.keyRelease(KeyEvent.VK_V);\r\n\t\trobot.keyRelease(KeyEvent.VK_CONTROL);\r\n\t\trobot.keyPress(KeyEvent.VK_RETURN);\r\n\t\trobot.keyRelease(KeyEvent.VK_RETURN);\r\n    }","title":"Unable to pass values using SendKeys() while automating desktop application using WinAppDriver?","body":"<p>You can try to use the next approaches, in this case, to paste text on Java or C#:</p>\n<p>using Selenium Send Keys C#</p>\n<pre><code>public void PasteText(IWebElement element, string text)\n{\n    Clipboard.SetText(text);\n    element.Click();\n    Thread.Sleep(100);\n    element.SendKeys(OpenQA.Selenium.Keys.Control + &quot;a&quot; + OpenQA.Selenium.Keys.Delete);\n    Thread.Sleep(100);\n    element.SendKeys(OpenQA.Selenium.Keys.Control + &quot;v&quot;);\n}\n</code></pre>\n<p>using Selenium Send Keys Java</p>\n<pre><code>public void pasteText(WebElement element, String text)\n{\n    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n    StringSelection stringSelection = new StringSelection(text);\n    clipboard.setContents(stringSelection, null);       \n    element.click();\n    Thread.sleep(100);\n    element.sendKeys(Keys.chord(Keys.CONTROL, &quot;a&quot;));\n    element.sendKeys(Keys.Delete);\n    Thread.sleep(100);\n    element.sendKeys(Keys.chord(Keys.CONTROL, &quot;v&quot;));\n}\n</code></pre>\n<p>using InputSimulator library C#</p>\n<pre><code>public static void PasteText(IWebElement element, string text)\n{\n    Clipboard.SetText(text);\n    element.Click();\n    Thread.Sleep(100);\n    var inSim = new WindowsInput.InputSimulator();\n    inSim.Keyboard.ModifiedKeyStroke(VirtualKeyCode.CONTROL, VirtualKeyCode.VK_A);      \n    inSim.Keyboard.KeyDown(VirtualKeyCode.DELETE);\n    Thread.Sleep(100);\n    inSim.Keyboard.ModifiedKeyStroke(VirtualKeyCode.CONTROL, VirtualKeyCode.VK_V);\n    inSim.Keyboard.KeyDown(VirtualKeyCode.RETURN);\n}\n</code></pre>\n<p>using Robot library Java</p>\n<pre><code>public void pasteText(WebElement element, String text)\n{\n    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n    StringSelection stringSelection = new StringSelection(text);\n    clipboard.setContents(stringSelection, null);               \n    element.click();\n    Thread.sleep(100);\n    Robot robot = new Robot();\n    robot.keyPress(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_A);\n    robot.keyRelease(KeyEvent.VK_A);\n    robot.keyRelease(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_DELETE);\n    robot.keyRelease(KeyEvent.VK_DELETE);\n    Thread.sleep(100);\n    robot.keyPress(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_V);\n    robot.keyRelease(KeyEvent.VK_V);\n    robot.keyRelease(KeyEvent.VK_CONTROL);\n    robot.keyPress(KeyEvent.VK_RETURN);\n    robot.keyRelease(KeyEvent.VK_RETURN);\n}\n</code></pre>\n"}],"owner":{"account_id":22573771,"reputation":1,"user_id":16759582,"display_name":"yogesh ghildiyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677155516,"creation_date":1673254618,"question_id":75054974,"body_markdown":"How can I send Data in desktop application if sendKeys() is not working fine but element is visible and on for the same xpath click action is working fine, but unable to send data.can anyone please help me on that\r\n\r\n\r\ndriver.findELement(By.name(&quot;&quot;)).sendKeys(&quot;&quot;) // isn&#39;t working xpath is same \r\ndriver.findELement(By.name(&quot;&quot;)).click() //  working xpath is same","title":"Unable to pass values using SendKeys() while automating desktop application using WinAppDriver?","body":"<p>How can I send Data in desktop application if sendKeys() is not working fine but element is visible and on for the same xpath click action is working fine, but unable to send data.can anyone please help me on that</p>\n<p>driver.findELement(By.name(&quot;&quot;)).sendKeys(&quot;&quot;) // isn't working xpath is same\ndriver.findELement(By.name(&quot;&quot;)).click() //  working xpath is same</p>\n"},{"tags":["java","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1677174137,"post_id":75544824,"comment_id":133290479,"body_markdown":"You&#39;re calling the method before setting up the mocks - that would be my first guess at the problem. You should mock first, then call the verified method.","body":"You&#39;re calling the method before setting up the mocks - that would be my first guess at the problem. You should mock first, then call the verified method."},{"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"score":0,"creation_date":1677193120,"post_id":75544824,"comment_id":133295207,"body_markdown":"What do you mean I call the method before the mocks. I call getFreeSpace at the very end.","body":"What do you mean I call the method before the mocks. I call getFreeSpace at the very end."},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1677198252,"post_id":75544824,"comment_id":133295918,"body_markdown":"`testPowerMock.createFileAndReturnIt()` creates the object without PowerMock involvement as you&#39;re calling the method before mocking the behaviour. Then you&#39;re setting up the mocking that has no effect. After that you&#39;re only calling a method on already created object that is not a mock.","body":"<code>testPowerMock.createFileAndReturnIt()</code> creates the object without PowerMock involvement as you&#39;re calling the method before mocking the behaviour. Then you&#39;re setting up the mocking that has no effect. After that you&#39;re only calling a method on already created object that is not a mock."},{"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"score":0,"creation_date":1677226195,"post_id":75544824,"comment_id":133299584,"body_markdown":"I think you&#39;re not aware of what I&#39;m trying to do. This is a constructor mock, it&#39;s suppose to mock every call to the constructor in the class. You can see that with with the whenNew and the different anotation PrepareForTest and RunWith.","body":"I think you&#39;re not aware of what I&#39;m trying to do. This is a constructor mock, it&#39;s suppose to mock every call to the constructor in the class. You can see that with with the whenNew and the different anotation PrepareForTest and RunWith."}],"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677155191,"creation_date":1677155191,"question_id":75544824,"body_markdown":"I have this simple class:\r\n\r\n    import java.io.File;\r\n    \r\n    public class TestPowerMock {\r\n    \tpublic File createFileAndReturnIt() {\r\n    \t\treturn new File(&quot;/&quot;);\r\n    \t}\r\n    }\r\n\r\nAnd this simple test:\r\n\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.when;\r\n    import static org.powermock.api.mockito.PowerMockito.whenNew;\r\n    \r\n    import java.io.File;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mockito;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(TestPowerMock.class)\r\n    class TestTestPowerMock {\r\n    \r\n    \t@Test\r\n    \tpublic void test() throws Exception {\r\n    \t\tTestPowerMock testPowerMock = new TestPowerMock();\r\n    \r\n    \t\tFile fileAndReturnIt = testPowerMock.createFileAndReturnIt();\r\n    \t\tFile mockFile = mock(File.class);\r\n    \r\n    \t\twhen(mockFile.getTotalSpace()).thenReturn(1L);\r\n    \t\twhen(mockFile.getFreeSpace()).thenReturn(2L);\r\n    \r\n    \t\twhenNew(File.class).withArguments(Mockito.anyString()).thenReturn(mockFile);\r\n    \r\n    \t\tSystem.out.println(fileAndReturnIt.getFreeSpace());\r\n    \t}\r\n    }\r\n\r\nAccording to my test mocking scenario, the stout should be printed with 2L right ? Yet I still have the actual &quot;/&quot; folder size.\r\n\r\nI did call the PrepareForTest and the RunWith properly no ? Why is it not working ?\r\n\r\nMy mockito-core version is 3.0.0 but also tested with 5.11 and 2.23.0 and also without it, powermock is 2.0.9 and powermock-apit-mockito2 is 2.0.9 as well.\r\n\r\nAlso tried with any(), and the method withNoArguments but same result.","title":"Why is the PowerMock.whenNew not working here?","body":"<p>I have this simple class:</p>\n<pre><code>import java.io.File;\n\npublic class TestPowerMock {\n    public File createFileAndReturnIt() {\n        return new File(&quot;/&quot;);\n    }\n}\n</code></pre>\n<p>And this simple test:</p>\n<pre><code>import static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\nimport static org.powermock.api.mockito.PowerMockito.whenNew;\n\nimport java.io.File;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(TestPowerMock.class)\nclass TestTestPowerMock {\n\n    @Test\n    public void test() throws Exception {\n        TestPowerMock testPowerMock = new TestPowerMock();\n\n        File fileAndReturnIt = testPowerMock.createFileAndReturnIt();\n        File mockFile = mock(File.class);\n\n        when(mockFile.getTotalSpace()).thenReturn(1L);\n        when(mockFile.getFreeSpace()).thenReturn(2L);\n\n        whenNew(File.class).withArguments(Mockito.anyString()).thenReturn(mockFile);\n\n        System.out.println(fileAndReturnIt.getFreeSpace());\n    }\n}\n</code></pre>\n<p>According to my test mocking scenario, the stout should be printed with 2L right ? Yet I still have the actual &quot;/&quot; folder size.</p>\n<p>I did call the PrepareForTest and the RunWith properly no ? Why is it not working ?</p>\n<p>My mockito-core version is 3.0.0 but also tested with 5.11 and 2.23.0 and also without it, powermock is 2.0.9 and powermock-apit-mockito2 is 2.0.9 as well.</p>\n<p>Also tried with any(), and the method withNoArguments but same result.</p>\n"},{"tags":["java","generics","types","initialization","inner-classes"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1677120786,"post_id":75538997,"comment_id":133276884,"body_markdown":"Have you tried `merge(LinkedList&lt;Item&gt; a, LinkedList&lt;Item&gt; b)`? It looks to me like that will solve your problem quite normally.","body":"Have you tried <code>merge(LinkedList&lt;Item&gt; a, LinkedList&lt;Item&gt; b)</code>? It looks to me like that will solve your problem quite normally."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677147270,"post_id":75538997,"comment_id":133281794,"body_markdown":"As an aside, are you sure you want `merge` to take two parameters, rather than taking one parameter and merging it with the `LinkedList` that it was called on? As written, it looks like it ignores the list it was called on (at least in the part of the method included in the question). So, to merge lists `a` and `b` you need to call `a.merge(a, b)` or `b.merge(a, b)` or `new LinkedList&lt;&gt;().merge(a, b)` instead of `a.merge(b)`.","body":"As an aside, are you sure you want <code>merge</code> to take two parameters, rather than taking one parameter and merging it with the <code>LinkedList</code> that it was called on? As written, it looks like it ignores the list it was called on (at least in the part of the method included in the question). So, to merge lists <code>a</code> and <code>b</code> you need to call <code>a.merge(a, b)</code> or <code>b.merge(a, b)</code> or <code>new LinkedList&lt;&gt;().merge(a, b)</code> instead of <code>a.merge(b)</code>."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677148978,"post_id":75538997,"comment_id":133282294,"body_markdown":"You are using [raw types](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it) as your method arguments, which basically &quot;turns off generics&quot;.","body":"You are using <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">raw types</a> as your method arguments, which basically &quot;turns off generics&quot;."},{"owner":{"account_id":27855152,"reputation":1,"user_id":21268818,"display_name":"wh152"},"score":0,"creation_date":1677165760,"post_id":75538997,"comment_id":133287672,"body_markdown":"@matt the thread that apparently answer my question doesn&#39;t, it just says to not use raw types. I appreciate that using raw types is bad, but I have to use this code template that I was given for my lab assignment, it was written by maths professors who have only a reasonable understanding of programming","body":"@matt the thread that apparently answer my question doesn&#39;t, it just says to not use raw types. I appreciate that using raw types is bad, but I have to use this code template that I was given for my lab assignment, it was written by maths professors who have only a reasonable understanding of programming"},{"owner":{"account_id":27855152,"reputation":1,"user_id":21268818,"display_name":"wh152"},"score":0,"creation_date":1677238761,"post_id":75538997,"comment_id":133302976,"body_markdown":"@matt the original answer just says to not use raw types. I have to use raw types for the lab since that is the code I&#39;ve been given, I wanted to know how I could workaround this. You never really explained why it&#39;s apparently a dupe, you just said it&#39;s &quot;absolutely&quot; been asked before. Yes the guy who gave the answer read the thread, but I wasn&#39;t talking about them","body":"@matt the original answer just says to not use raw types. I have to use raw types for the lab since that is the code I&#39;ve been given, I wanted to know how I could workaround this. You never really explained why it&#39;s apparently a dupe, you just said it&#39;s &quot;absolutely&quot; been asked before. Yes the guy who gave the answer read the thread, but I wasn&#39;t talking about them"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1677256054,"post_id":75538997,"comment_id":133308063,"body_markdown":"Do you know where you were using raw types? The answer fixes that problem. It is also a duplicate question, because you are using raw types which causes your problem.","body":"Do you know where you were using raw types? The answer fixes that problem. It is also a duplicate question, because you are using raw types which causes your problem."}],"answers":[{"tags":[],"owner":{"account_id":6484127,"reputation":9361,"user_id":5020253,"accept_rate":88,"display_name":"SDekov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677148854,"creation_date":1677148854,"answer_id":75543674,"question_id":75538997,"body_markdown":"From the logic of your list it is implied that both lists beeing merged must be of the same `Item` type - then you can type them and this will also avoid all the unnecessary casting.\r\n\r\n    public LinkedList&lt;Item&gt; merge(LinkedList&lt;Item&gt; a, LinkedList&lt;Item&gt; b)","title":"Can&#39;t access generic state type outside class","body":"<p>From the logic of your list it is implied that both lists beeing merged must be of the same <code>Item</code> type - then you can type them and this will also avoid all the unnecessary casting.</p>\n<pre><code>public LinkedList&lt;Item&gt; merge(LinkedList&lt;Item&gt; a, LinkedList&lt;Item&gt; b)\n</code></pre>\n"}],"owner":{"account_id":27855152,"reputation":1,"user_id":21268818,"display_name":"wh152"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677148997,"accepted_answer_id":75543674,"answer_count":1,"score":-1,"last_activity_date":1677155153,"creation_date":1677106763,"question_id":75538997,"body_markdown":"When trying to compare keys when implementing merge sort on a linked list I found that Java seems to hide generic types of fields from outside the class, and you have to either cast a variable to the generic type (even when it is of the generic type itself), or make an instance of the class that uses generics and then access the field from there\r\n\r\n```\r\npublic class LinkedList&lt;Item extends Comparable&lt;Item&gt;&gt; {\r\n    private Node&lt;Item&gt; head;\r\n    \r\n    public static class Node&lt;Item&gt; {\r\n        public Item key;\r\n        public Node&lt;Item&gt; next;\r\n    }\r\n\r\n    public LinkedList() {\r\n        head = null;\r\n    }\r\n\r\n    public LinkedList&lt;Item&gt; merge(LinkedList a, LinkedList b) {\r\n        if (a == null || a.head == null) {\r\n            return b;\r\n        } else if (b == null || b.head == null) {\r\n            return a;\r\n        }\r\n        LinkedList&lt;Item&gt; x = null;\r\n        Item keyA = (Item) a.head.key;\r\n        Item keyB = (Item) b.head.key;\r\n        Node&lt;Item&gt; node = a.head;\r\n        Item works = node.key;\r\n        Item doesNotWork = (a.head).key;\r\n        ...\r\n```\r\n\r\nIn the code snippet above, keyA and keyB must have their values casted to the generic type Item. The node object of type Node&lt;Item&gt; can be used to reference its key which is of type Item, but trying to initialize doesNotWork results in the error &quot;java: incompatible types: java.lang.Object cannot be converted to Item&quot;, even though it referenes the Node&lt;Item&gt; head object, and then the Item key object within it (with brackets too). Changing the access modifiers of the class or its fields makes no difference. Can someone explain why Java can&#39;t access generic types within classes despite being able to do so for concrete types, and if I can reference a generic type from outside a class without casting or making an instance of the class with the generic type?\r\n\r\nNo, this is not the same as the question about raw types because the answers to that do not tell me how I can directly reference a field of the static generic class. I know this is a terrible way to use generics, but the code given (apart from at the end) was from a lab in my algorithms class, I don&#39;t choose the code they give us. It&#39;s also not really fair that I didn&#39;t lookup raw types since I never really knew what they were. I can&#39;t edit the code template they gave us, please let me ask how I can do what I need to for this assignment instead of being a code snob.","title":"Can&#39;t access generic state type outside class","body":"<p>When trying to compare keys when implementing merge sort on a linked list I found that Java seems to hide generic types of fields from outside the class, and you have to either cast a variable to the generic type (even when it is of the generic type itself), or make an instance of the class that uses generics and then access the field from there</p>\n<pre><code>public class LinkedList&lt;Item extends Comparable&lt;Item&gt;&gt; {\n    private Node&lt;Item&gt; head;\n    \n    public static class Node&lt;Item&gt; {\n        public Item key;\n        public Node&lt;Item&gt; next;\n    }\n\n    public LinkedList() {\n        head = null;\n    }\n\n    public LinkedList&lt;Item&gt; merge(LinkedList a, LinkedList b) {\n        if (a == null || a.head == null) {\n            return b;\n        } else if (b == null || b.head == null) {\n            return a;\n        }\n        LinkedList&lt;Item&gt; x = null;\n        Item keyA = (Item) a.head.key;\n        Item keyB = (Item) b.head.key;\n        Node&lt;Item&gt; node = a.head;\n        Item works = node.key;\n        Item doesNotWork = (a.head).key;\n        ...\n</code></pre>\n<p>In the code snippet above, keyA and keyB must have their values casted to the generic type Item. The node object of type Node can be used to reference its key which is of type Item, but trying to initialize doesNotWork results in the error &quot;java: incompatible types: java.lang.Object cannot be converted to Item&quot;, even though it referenes the Node head object, and then the Item key object within it (with brackets too). Changing the access modifiers of the class or its fields makes no difference. Can someone explain why Java can't access generic types within classes despite being able to do so for concrete types, and if I can reference a generic type from outside a class without casting or making an instance of the class with the generic type?</p>\n<p>No, this is not the same as the question about raw types because the answers to that do not tell me how I can directly reference a field of the static generic class. I know this is a terrible way to use generics, but the code given (apart from at the end) was from a lab in my algorithms class, I don't choose the code they give us. It's also not really fair that I didn't lookup raw types since I never really knew what they were. I can't edit the code template they gave us, please let me ask how I can do what I need to for this assignment instead of being a code snob.</p>\n"},{"tags":["java","vue.js","quarkus","reactive","mutiny"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1676907360,"post_id":75511127,"comment_id":133227009,"body_markdown":"You can use Server-Sent-Events (SSE) or Quarkus Reactive Messaging HTTP extension. Follow this guide: https://quarkus.io/guides/resteasy-reactive","body":"You can use Server-Sent-Events (SSE) or Quarkus Reactive Messaging HTTP extension. Follow this guide: <a href=\"https://quarkus.io/guides/resteasy-reactive\" rel=\"nofollow noreferrer\">quarkus.io/guides/resteasy-reactive</a>"},{"owner":{"account_id":14789686,"reputation":21,"user_id":10680982,"display_name":"dockitu"},"score":0,"creation_date":1677078436,"post_id":75511127,"comment_id":133266835,"body_markdown":"Looks like I finally got that working using SSE as you suggested, thanks! However I am still struggling with Authorization header, seems like there is no easy way to authorize in endpoint using jwt token","body":"Looks like I finally got that working using SSE as you suggested, thanks! However I am still struggling with Authorization header, seems like there is no easy way to authorize in endpoint using jwt token"}],"answers":[{"tags":[],"owner":{"account_id":14789686,"reputation":21,"user_id":10680982,"display_name":"dockitu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677155047,"creation_date":1677155047,"answer_id":75544794,"question_id":75511127,"body_markdown":"For future answer-seekers here is how to make it work:\r\n\r\n**IN Java:**\r\n\r\n    @GET\r\n    @Path(&quot;/data&quot;)\r\n    @APIResponse(\r\n            responseCode = &quot;200&quot;,\r\n            description = &quot;Return data&quot;,\r\n            content = @Content(\r\n                    mediaType = MediaType.APPLICATION_JSON,\r\n                    schema = @Schema(type = SchemaType.OBJECT, implementation = Multi.class)\r\n            )\r\n    )\r\n    @Produces(MediaType.SERVER_SENT_EVENTS)\r\n    @RestStreamElementType(MediaType.APPLICATION_JSON)\r\n    @RolesAllowed(Tenant.DEFAULT_ROLE)\r\n    Multi&lt;Map&gt; data(@Context SecurityContext ctx);\r\n\r\n**IN Vue:**\r\n\r\nUse `event-source-polyfill`, and then:\r\n\r\n    import { EventSourcePolyfill } from &quot;event-source-polyfill&quot;;\r\n    const eventSource = new EventSourcePolyfill(`localhost:8080/data`, {\r\n       headers: { Authorization: &quot;Bearer &quot; + &quot;YOUR_TOKEN&quot; }\r\n    });\r\n    eventSource.addEventListener(&quot;message&quot;, event =&gt; {\r\n       //consume message\r\n    });\r\n","title":"Using SmallRye Mutiny in frontend Vue app","body":"<p>For future answer-seekers here is how to make it work:</p>\n<p><strong>IN Java:</strong></p>\n<pre><code>@GET\n@Path(&quot;/data&quot;)\n@APIResponse(\n        responseCode = &quot;200&quot;,\n        description = &quot;Return data&quot;,\n        content = @Content(\n                mediaType = MediaType.APPLICATION_JSON,\n                schema = @Schema(type = SchemaType.OBJECT, implementation = Multi.class)\n        )\n)\n@Produces(MediaType.SERVER_SENT_EVENTS)\n@RestStreamElementType(MediaType.APPLICATION_JSON)\n@RolesAllowed(Tenant.DEFAULT_ROLE)\nMulti&lt;Map&gt; data(@Context SecurityContext ctx);\n</code></pre>\n<p><strong>IN Vue:</strong></p>\n<p>Use <code>event-source-polyfill</code>, and then:</p>\n<pre><code>import { EventSourcePolyfill } from &quot;event-source-polyfill&quot;;\nconst eventSource = new EventSourcePolyfill(`localhost:8080/data`, {\n   headers: { Authorization: &quot;Bearer &quot; + &quot;YOUR_TOKEN&quot; }\n});\neventSource.addEventListener(&quot;message&quot;, event =&gt; {\n   //consume message\n});\n</code></pre>\n"}],"owner":{"account_id":14789686,"reputation":21,"user_id":10680982,"display_name":"dockitu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75544794,"answer_count":1,"score":1,"last_activity_date":1677155047,"creation_date":1676906556,"question_id":75511127,"body_markdown":"I am using Java Quarkus application together with SmallRye Mutiny based on Quarkus guide: https://quarkus.io/guides/mutiny-primer\r\n\r\nI created Rest endpoint as below:\r\n\r\n```\r\n@GET\r\n    @Path(&quot;/data&quot;)\r\n    @APIResponse(\r\n      responseCode = &quot;200&quot;,\r\n      description = &quot;Return data&quot;,\r\n      content = @Content(\r\n        mediaType = MediaType.APPLICATION_JSON,\r\n        schema = @Schema(type = SchemaType.OBJECT, implementation = HashMap.class)\r\n      )\r\n    )\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n    Multi&lt;Map&gt; data();\r\n```\r\n\r\nI am using Vue framework on frontend together with axios, I managed to get the data from backend as array of Maps, but data are being returned only when the process is complete. I would like to have them on frontend straight after something being pushed to Multi like a subscriber. Any idea how to achieve that? \r\n\r\nI am not sure how to handle that. I tried with rxjs and vue-socket.io but with no luck, not sure if this is not applicable solution or just could not configure it properly.","title":"Using SmallRye Mutiny in frontend Vue app","body":"<p>I am using Java Quarkus application together with SmallRye Mutiny based on Quarkus guide: <a href=\"https://quarkus.io/guides/mutiny-primer\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/mutiny-primer</a></p>\n<p>I created Rest endpoint as below:</p>\n<pre><code>@GET\n    @Path(&quot;/data&quot;)\n    @APIResponse(\n      responseCode = &quot;200&quot;,\n      description = &quot;Return data&quot;,\n      content = @Content(\n        mediaType = MediaType.APPLICATION_JSON,\n        schema = @Schema(type = SchemaType.OBJECT, implementation = HashMap.class)\n      )\n    )\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\n    Multi&lt;Map&gt; data();\n</code></pre>\n<p>I am using Vue framework on frontend together with axios, I managed to get the data from backend as array of Maps, but data are being returned only when the process is complete. I would like to have them on frontend straight after something being pushed to Multi like a subscriber. Any idea how to achieve that?</p>\n<p>I am not sure how to handle that. I tried with rxjs and vue-socket.io but with no luck, not sure if this is not applicable solution or just could not configure it properly.</p>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1677133797,"post_id":75541178,"comment_id":133278546,"body_markdown":"You can match different types of quotation marks by listing them within a square bracket, i.e. `[\\&quot;”]`. So p2 works with the modification:\n```Pattern p2 = Pattern.compile(&quot;.*[\\&quot;”](.*?)[\\&quot;”].*&quot;);```","body":"You can match different types of quotation marks by listing them within a square bracket, i.e. <code>[\\&quot;”]</code>. So p2 works with the modification: <code>Pattern p2 = Pattern.compile(&quot;.*[\\&quot;”](.*?)[\\&quot;”].*&quot;);</code>"},{"owner":{"account_id":26817386,"reputation":11,"user_id":20407187,"display_name":"Elnur Ahmadov"},"score":0,"creation_date":1677134215,"post_id":75541178,"comment_id":133278603,"body_markdown":"But it still deletes the word before the quotation mark.  Ex: a String is (KAPİTAL &quot;BANK&quot; A&#199;IQ SƏHMDAR CƏMİYYƏTİ).with the modification, my output is BANK, but I want KAPİTAL BANK","body":"But it still deletes the word before the quotation mark.  Ex: a String is (KAPİTAL &quot;BANK&quot; A&#199;IQ SƏHMDAR CƏMİYYƏTİ).with the modification, my output is BANK, but I want KAPİTAL BANK"},{"owner":{"account_id":10771493,"reputation":1873,"user_id":7924858,"display_name":"abhinavsinghvirsen"},"score":0,"creation_date":1677135022,"post_id":75541178,"comment_id":133278738,"body_markdown":"String inputString = &quot;BANK \\&quot;BTB” A&#199;IQ SƏHMDAR CƏMİYYƏTİ&quot;;\n\n// Remove double quotes\nString outputString = inputString.replaceAll(&quot;[\\&quot;”]&quot;, &quot;&quot;);\n\n// Remove any text after the last quote\nint lastQuoteIndex = outputString.lastIndexOf(&quot; &quot;);\nif (lastQuoteIndex != -1) {\n    outputString = outputString.substring(0, lastQuoteIndex);\n}","body":"String inputString = &quot;BANK \\&quot;BTB” A&#199;IQ SƏHMDAR CƏMİYYƏTİ&quot;;  // Remove double quotes String outputString = inputString.replaceAll(&quot;[\\&quot;”]&quot;, &quot;&quot;);  // Remove any text after the last quote int lastQuoteIndex = outputString.lastIndexOf(&quot; &quot;); if (lastQuoteIndex != -1) {     outputString = outputString.substring(0, lastQuoteIndex); }"},{"owner":{"account_id":26817386,"reputation":11,"user_id":20407187,"display_name":"Elnur Ahmadov"},"score":0,"creation_date":1677135579,"post_id":75541178,"comment_id":133278845,"body_markdown":"It returns (BANK BTB A&#199;IQ SƏHMDAR). But I need (BANK BTB). And I can`t fix this problem","body":"It returns (BANK BTB A&#199;IQ SƏHMDAR). But I need (BANK BTB). And I can`t fix this problem"}],"answers":[{"tags":[],"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677136317,"creation_date":1677134113,"answer_id":75541337,"question_id":75541178,"body_markdown":"I don&#39;t know if a simple solution without regular expression satisfies you, but here it goes: \r\n\r\n\r\n```java\r\npublic class QuotesRemover {\r\n    \r\n    \r\n   public static void main (String[] args) {\r\n       String txt = &quot;\\&quot;KAPİTAL BANK\\&quot; A&#199;IQ SƏHMDAR CƏMİYYƏTİ &quot;;\r\n       \r\n       System.out.println(quoteRemover(txt));\r\n   }\r\n   \r\n   public static String quoteRemover(String txt) {\r\n        int lastIndexOfDoubleQuote = txt.lastIndexOf(&quot;\\&quot;&quot;);\r\n        int lastIndexOfQuote = txt.lastIndexOf(&quot;”&quot;);\r\n        int lastIndexTotal = lastIndexOfDoubleQuote &gt; lastIndexOfQuote ? \r\n                lastIndexOfDoubleQuote : lastIndexOfQuote;\r\n        \r\n        int quotesTotalQty = (int) txt.chars()\r\n                .filter(ch -&gt; ch == &#39;&quot;&#39; || ch == &#39;”&#39;)\r\n                .count();\r\n        \r\n        String withoutQuotes = txt.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;).replaceAll(&quot;”&quot;, &quot;&quot;);\r\n        return withoutQuotes.substring(0, lastIndexTotal - quotesTotalQty + 1);\r\n   }\r\n}\r\n```\r\n\r\nit works :-) and returns `KAPİTAL BANK` as you want it. \r\n\r\nHave a lovely day.","title":"How to remove single and/or double quotes from a string in Java","body":"<p>I don't know if a simple solution without regular expression satisfies you, but here it goes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class QuotesRemover {\n    \n    \n   public static void main (String[] args) {\n       String txt = &quot;\\&quot;KAPİTAL BANK\\&quot; AÇIQ SƏHMDAR CƏMİYYƏTİ &quot;;\n       \n       System.out.println(quoteRemover(txt));\n   }\n   \n   public static String quoteRemover(String txt) {\n        int lastIndexOfDoubleQuote = txt.lastIndexOf(&quot;\\&quot;&quot;);\n        int lastIndexOfQuote = txt.lastIndexOf(&quot;”&quot;);\n        int lastIndexTotal = lastIndexOfDoubleQuote &gt; lastIndexOfQuote ? \n                lastIndexOfDoubleQuote : lastIndexOfQuote;\n        \n        int quotesTotalQty = (int) txt.chars()\n                .filter(ch -&gt; ch == '&quot;' || ch == '”')\n                .count();\n        \n        String withoutQuotes = txt.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;).replaceAll(&quot;”&quot;, &quot;&quot;);\n        return withoutQuotes.substring(0, lastIndexTotal - quotesTotalQty + 1);\n   }\n}\n</code></pre>\n<p>it works :-) and returns <code>KAPİTAL BANK</code> as you want it.</p>\n<p>Have a lovely day.</p>\n"},{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677136154,"creation_date":1677136154,"answer_id":75541583,"question_id":75541178,"body_markdown":"Here is one way to do it:\r\n\r\n    public static void main(String[] args) {\r\n        var payer = &quot;BANK \\&quot;BTB” A&#199;IQ SƏHMDAR CƏMİYYƏTİ&quot;;\r\n\r\n        Pattern p2 = Pattern.compile(&quot;(\\\\b.+\\\\b\\\\s[\\&quot;”].*[\\&quot;”])&quot;);\r\n        Matcher m2 = p2.matcher(payer);\r\n        while (m2.find()) {\r\n            payer = m2.group(1).replaceAll(&quot;[\\&quot;”]&quot;, &quot;&quot;);\r\n        }\r\n        System.out.println(payer);\r\n    }\r\n\r\nHere I&#39;ve used the regex symbol \\b as it denotes the boundary of a word and \\s as a single whitespace character. Hence the regex extracts the word before the quotation as well as the quotation and its content. Using String::replaceAll, the quotations are removed.\r\n\r\nEdit: Perhaps it fits the solution better to have a more lenient way of matching a group of anything which appears before the quotation. If so, you may change the regex to\r\n```Pattern p2 = Pattern.compile(&quot;(.*[\\&quot;”].*[\\&quot;”])&quot;);```","title":"How to remove single and/or double quotes from a string in Java","body":"<p>Here is one way to do it:</p>\n<pre><code>public static void main(String[] args) {\n    var payer = &quot;BANK \\&quot;BTB” AÇIQ SƏHMDAR CƏMİYYƏTİ&quot;;\n\n    Pattern p2 = Pattern.compile(&quot;(\\\\b.+\\\\b\\\\s[\\&quot;”].*[\\&quot;”])&quot;);\n    Matcher m2 = p2.matcher(payer);\n    while (m2.find()) {\n        payer = m2.group(1).replaceAll(&quot;[\\&quot;”]&quot;, &quot;&quot;);\n    }\n    System.out.println(payer);\n}\n</code></pre>\n<p>Here I've used the regex symbol \\b as it denotes the boundary of a word and \\s as a single whitespace character. Hence the regex extracts the word before the quotation as well as the quotation and its content. Using String::replaceAll, the quotations are removed.</p>\n<p>Edit: Perhaps it fits the solution better to have a more lenient way of matching a group of anything which appears before the quotation. If so, you may change the regex to\n<code>Pattern p2 = Pattern.compile(&quot;(.*[\\&quot;”].*[\\&quot;”])&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677136376,"creation_date":1677136376,"answer_id":75541608,"question_id":75541178,"body_markdown":"So, if I understand you correctly, you want to remove the quotes as well as everything that follows the quoted name.\r\n\r\nTry this:\r\n\r\n        String input = &quot;BANK \\&quot;BTB” A&#199;IQ SƏHMDAR CƏMİYYƏTİ&quot;;\r\n        String output = input.replaceAll(&quot;^([^\\&quot;”]*)[\\&quot;”]([^\\&quot;”]+)[\\&quot;”].*$&quot;, &quot;$1$2&quot;);\r\n        System.out.println(output);\r\n","title":"How to remove single and/or double quotes from a string in Java","body":"<p>So, if I understand you correctly, you want to remove the quotes as well as everything that follows the quoted name.</p>\n<p>Try this:</p>\n<pre><code>    String input = &quot;BANK \\&quot;BTB” AÇIQ SƏHMDAR CƏMİYYƏTİ&quot;;\n    String output = input.replaceAll(&quot;^([^\\&quot;”]*)[\\&quot;”]([^\\&quot;”]+)[\\&quot;”].*$&quot;, &quot;$1$2&quot;);\n    System.out.println(output);\n</code></pre>\n"}],"owner":{"account_id":26817386,"reputation":11,"user_id":20407187,"display_name":"Elnur Ahmadov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1677154909,"creation_date":1677132782,"question_id":75541178,"body_markdown":"\r\n\r\nHow would I remove double quotes from a String?\r\n\r\nFor example: I would expect ( BANK &quot;BTB” A&#199;IQ SƏHMDAR CƏMİYYƏTİ ) to produce ( BANK BTB ), without the double quote. And I want to remove the words after the last quote. The main problem is that the quotes are different. Quotes can be both &quot; and ” . A String ( &quot;KAPİTAL BANK&quot; A&#199;IQ SƏHMDAR CƏMİYYƏTİ ) can also be.\r\n\r\n\r\nHere&#39;s the code I&#39;ve tried (payer.namesIst is a String):\r\n\r\n```\r\n        Pattern p1 = Pattern.compile(&quot;&quot;(.*?)”&quot;);\r\n        Pattern p2 = Pattern.compile(&quot;\\&quot;(.*?)\\&quot;&quot;);\r\n\r\n        Matcher m1 = p1.matcher(payer.nameIst);\r\n        while (m1.find())\r\n        {\r\n        \tpayer.nameIst = m1.group(1);          \r\n        }\r\n        Matcher m2 = p2.matcher(payer.nameIst);\r\n        while(m2.find()) {\r\n        \tpayer.nameIst = m2.group(1);\r\n        }\r\n```\r\nThe code I wrote removed the word before the quote.\r\nExample: ( BANK &quot;BTB” A&#199;IQ SƏHMDAR CƏMİYYƏTİ ) to BTB","title":"How to remove single and/or double quotes from a string in Java","body":"<p>How would I remove double quotes from a String?</p>\n<p>For example: I would expect ( BANK &quot;BTB” AÇIQ SƏHMDAR CƏMİYYƏTİ ) to produce ( BANK BTB ), without the double quote. And I want to remove the words after the last quote. The main problem is that the quotes are different. Quotes can be both &quot; and ” . A String ( &quot;KAPİTAL BANK&quot; AÇIQ SƏHMDAR CƏMİYYƏTİ ) can also be.</p>\n<p>Here's the code I've tried (payer.namesIst is a String):</p>\n<pre><code>        Pattern p1 = Pattern.compile(&quot;&quot;(.*?)”&quot;);\n        Pattern p2 = Pattern.compile(&quot;\\&quot;(.*?)\\&quot;&quot;);\n\n        Matcher m1 = p1.matcher(payer.nameIst);\n        while (m1.find())\n        {\n            payer.nameIst = m1.group(1);          \n        }\n        Matcher m2 = p2.matcher(payer.nameIst);\n        while(m2.find()) {\n            payer.nameIst = m2.group(1);\n        }\n</code></pre>\n<p>The code I wrote removed the word before the quote.\nExample: ( BANK &quot;BTB” AÇIQ SƏHMDAR CƏMİYYƏTİ ) to BTB</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":3272354,"reputation":348,"user_id":2755407,"display_name":"user2755407"},"score":1,"creation_date":1677153174,"post_id":75544461,"comment_id":133283439,"body_markdown":"no..I know this ..actually, I want to insert params Map with key and values in the HQL and get result","body":"no..I know this ..actually, I want to insert params Map with key and values in the HQL and get result"}],"tags":[],"owner":{"account_id":3681061,"reputation":266,"user_id":7037029,"display_name":"Ajay Singh Pundir"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677153075,"creation_date":1677153075,"answer_id":75544461,"question_id":75544255,"body_markdown":"Is it possible to use Spring JPA \r\n\r\n\r\n  \r\n\r\n          @Repository\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n    @Query(&quot;SELECT e FROM Employee e WHERE e.id = :id AND e.name = :name&quot;)\r\n        List&lt;Employee&gt; findEmployeesByIdAndName(@Param(&quot;id&quot;) int id, @Param(&quot;name&quot;) String name);\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"Inserting parameter inside HQL and fetch result using SpringBoot","body":"<p>Is it possible to use Spring JPA</p>\n<pre><code>      @Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n@Query(&quot;SELECT e FROM Employee e WHERE e.id = :id AND e.name = :name&quot;)\n    List&lt;Employee&gt; findEmployeesByIdAndName(@Param(&quot;id&quot;) int id, @Param(&quot;name&quot;) String name);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677154895,"creation_date":1677154895,"answer_id":75544764,"question_id":75544255,"body_markdown":"If you’re set on using HQL queries, this thread should be able to help you.\r\n[enter link description here][1]\r\n\r\nThere are also a couple ways to do this that better utilize the power of Spring and JpaRepository. The first is to declare a method in your repository that includes your variable names and use that method in your service:\r\n\r\nRepository\r\n\r\n    @Repository\r\n    Public interface EmployeeRepository extends JpaRepository&lt;Employee, Integer&gt; {\r\n        Employee findByIdAndName(int id, String name);\r\n    }\r\n\r\nService\r\n\r\n    @Service\r\n    Public class EmployeeService {\r\n        @Autowired\r\n        private EmployeeRepository empRepo;\r\n    \r\n        public Employee findByIdAndName(int id, String name) {\r\n            return empRepo.findByIdAndName(id, name);\r\n        }\r\n    }\r\n\r\nThis is great if you only have one or two criteria, but more than that and the method name starts to get rather long. The other suggestion is to use Specifications. To use these, you need to also extend JpaSpecificationExecutor in your repo. You can create a separate class to house your specifications, but for this example I’m going to put it in the service.\r\n\r\nRepository\r\n\r\n    @Repository\r\n    Public interface EmployeeRepository extends JpaRepository&lt;Employee, Integer&gt;, JpaSpecificationExecutor&lt;Employee&gt; {}\r\n\r\nService\r\n\r\n    @Service\r\n    Public class EmployeeService {\r\n        @Autowired\r\n        private EmployeeRepository empRepo;\r\n    \r\n        public Employee findByIdAndName(int id, String name) {\r\n            return empRepo.find(idEquals(id).and(nameEquals(name)));\r\n        }\r\n\r\n        private Specification&lt;Employee&gt; idEquals(int id) {\r\n            return (root, query, cb) -&gt; cb.equal(root.get(Employee_.id), id);\r\n        }\r\n\r\n        private Specification&lt;Employee&gt; nameEquals(String name) {\r\n            return (root, query, cb) -&gt; cb.equal(root.get(Employee_.name), name);\r\n        }\r\n\r\n    }\r\n\r\nNote that to use the static metamodel Employee_ you will need extra dependencies, specifically org.hibernate.jpamodelgen if memory serves.\r\n\r\n  [1]: https://stackoverflow.com/questions/47894691/using-hql-queries-in-spring-boot","title":"Inserting parameter inside HQL and fetch result using SpringBoot","body":"<p>If you’re set on using HQL queries, this thread should be able to help you.\n<a href=\"https://stackoverflow.com/questions/47894691/using-hql-queries-in-spring-boot\">enter link description here</a></p>\n<p>There are also a couple ways to do this that better utilize the power of Spring and JpaRepository. The first is to declare a method in your repository that includes your variable names and use that method in your service:</p>\n<p>Repository</p>\n<pre><code>@Repository\nPublic interface EmployeeRepository extends JpaRepository&lt;Employee, Integer&gt; {\n    Employee findByIdAndName(int id, String name);\n}\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\nPublic class EmployeeService {\n    @Autowired\n    private EmployeeRepository empRepo;\n\n    public Employee findByIdAndName(int id, String name) {\n        return empRepo.findByIdAndName(id, name);\n    }\n}\n</code></pre>\n<p>This is great if you only have one or two criteria, but more than that and the method name starts to get rather long. The other suggestion is to use Specifications. To use these, you need to also extend JpaSpecificationExecutor in your repo. You can create a separate class to house your specifications, but for this example I’m going to put it in the service.</p>\n<p>Repository</p>\n<pre><code>@Repository\nPublic interface EmployeeRepository extends JpaRepository&lt;Employee, Integer&gt;, JpaSpecificationExecutor&lt;Employee&gt; {}\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\nPublic class EmployeeService {\n    @Autowired\n    private EmployeeRepository empRepo;\n\n    public Employee findByIdAndName(int id, String name) {\n        return empRepo.find(idEquals(id).and(nameEquals(name)));\n    }\n\n    private Specification&lt;Employee&gt; idEquals(int id) {\n        return (root, query, cb) -&gt; cb.equal(root.get(Employee_.id), id);\n    }\n\n    private Specification&lt;Employee&gt; nameEquals(String name) {\n        return (root, query, cb) -&gt; cb.equal(root.get(Employee_.name), name);\n    }\n\n}\n</code></pre>\n<p>Note that to use the static metamodel Employee_ you will need extra dependencies, specifically org.hibernate.jpamodelgen if memory serves.</p>\n"}],"owner":{"account_id":3272354,"reputation":348,"user_id":2755407,"display_name":"user2755407"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75544764,"answer_count":2,"score":0,"last_activity_date":1677154895,"creation_date":1677151992,"question_id":75544255,"body_markdown":"I have a Employee class mapped to Employee table\r\n\r\n    public Class Employee {\r\n    \r\n      int id;\r\n    \r\n      String name;\r\n    \r\n    }\r\n\r\ni have written a hql query to fetch Employee from various parameters..like\r\n\r\n    Select x from Employee x where x.id = (:id) and x.name = (:name);\r\n\r\nI have create a map with key as id and name and values as below:\r\n\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;id&quot;, 1);\r\n    params.put(&quot;name&quot;, &quot;Testname&quot;);\r\n\r\nHow to make a request in Spring Boot and with a hql query populated with values in Map `params` and fetch a list of Employee objects.\r\n\r\nEdit: actually, I want to insert params Map with key and values in the HQL and get result.","title":"Inserting parameter inside HQL and fetch result using SpringBoot","body":"<p>I have a Employee class mapped to Employee table</p>\n<pre><code>public Class Employee {\n\n  int id;\n\n  String name;\n\n}\n</code></pre>\n<p>i have written a hql query to fetch Employee from various parameters..like</p>\n<pre><code>Select x from Employee x where x.id = (:id) and x.name = (:name);\n</code></pre>\n<p>I have create a map with key as id and name and values as below:</p>\n<pre><code>Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;id&quot;, 1);\nparams.put(&quot;name&quot;, &quot;Testname&quot;);\n</code></pre>\n<p>How to make a request in Spring Boot and with a hql query populated with values in Map <code>params</code> and fetch a list of Employee objects.</p>\n<p>Edit: actually, I want to insert params Map with key and values in the HQL and get result.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1518253641,"post_id":48719036,"comment_id":84437077,"body_markdown":"Have you added Firebase-UI dependencies in your build.gradle file?","body":"Have you added Firebase-UI dependencies in your build.gradle file?"},{"owner":{"account_id":10751460,"reputation":1372,"user_id":7910735,"display_name":"Sahdeep Singh"},"score":0,"creation_date":1518253664,"post_id":48719036,"comment_id":84437084,"body_markdown":"more details required!!","body":"more details required!!"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1518253824,"post_id":48719036,"comment_id":84437119,"body_markdown":"Please edit your question and add this lines of code in there.","body":"Please edit your question and add this lines of code in there."},{"owner":{"account_id":8928120,"reputation":105,"user_id":6661643,"display_name":"Umair"},"score":0,"creation_date":1518254057,"post_id":48719036,"comment_id":84437168,"body_markdown":"@SahdeepSingh Check now","body":"@SahdeepSingh Check now"},{"owner":{"account_id":8928120,"reputation":105,"user_id":6661643,"display_name":"Umair"},"score":0,"creation_date":1518254295,"post_id":48719036,"comment_id":84437219,"body_markdown":"@AlexMamo Please have a look now :)","body":"@AlexMamo Please have a look now :)"}],"answers":[{"comments":[{"owner":{"account_id":8928120,"reputation":105,"user_id":6661643,"display_name":"Umair"},"score":0,"creation_date":1518255165,"post_id":48719206,"comment_id":84437411,"body_markdown":"Thanks for the help \nBut When I add this \nError:Failed to open zip file.\nGradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\n&lt;a href=&quot;syncProject&quot;&gt;Re-download dependencies and sync project (requires network)&lt;/a&gt;\n&lt;a href=&quot;syncProject&quot;&gt;Re-download dependencies and sync project (requires network)&lt;/a&gt;\nThis error comes up and it doesn&#39;t do anything when clicked","body":"Thanks for the help  But When I add this  Error:Failed to open zip file. Gradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.) &lt;a href=&quot;syncProject&quot;&gt;Re-download dependencies and sync project (requires network)&lt;/a&gt; &lt;a href=&quot;syncProject&quot;&gt;Re-download dependencies and sync project (requires network)&lt;/a&gt; This error comes up and it doesn&#39;t do anything when clicked"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1518255177,"post_id":48719206,"comment_id":84437415,"body_markdown":"What is happening?","body":"What is happening?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1518255330,"post_id":48719206,"comment_id":84437450,"body_markdown":"I understand. Clean up your project and try again.","body":"I understand. Clean up your project and try again."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677154609,"creation_date":1518254699,"answer_id":48719206,"question_id":48719036,"body_markdown":"To solve this, please add the following line in your `build.gradle` file:\r\n\r\n    implementation &#39;com.firebaseui:firebase-ui-auth:7.2.0&#39;\r\n\r\nWhen using Firebase authentication together with [Firebase-UI](https://github.com/firebase/FirebaseUI-Android) library, both dependencies must be added into your build.gradle file.","title":"com.firebase.ui.authui class not found whenever I try to import it","body":"<p>To solve this, please add the following line in your <code>build.gradle</code> file:</p>\n<pre><code>implementation 'com.firebaseui:firebase-ui-auth:7.2.0'\n</code></pre>\n<p>When using Firebase authentication together with <a href=\"https://github.com/firebase/FirebaseUI-Android\" rel=\"nofollow noreferrer\">Firebase-UI</a> library, both dependencies must be added into your build.gradle file.</p>\n"}],"owner":{"account_id":8928120,"reputation":105,"user_id":6661643,"display_name":"Umair"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1845,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":48719206,"answer_count":1,"score":-1,"last_activity_date":1677154609,"creation_date":1518253299,"question_id":48719036,"body_markdown":"I am using this code to do so but com.firebase.ui.authui is not present in the library. Where can I get it or How can I use it in the code. Please help.\r\n\r\n    startActivityForResult(\r\n                                AuthUI.getInstance()\r\n                                        .createSignInIntentBuilder()\r\n                                        .setIsSmartLockEnabled(false)\r\n                                        .setProviders(\r\n                                                AuthUI.EMAIL_PROVIDER,\r\n                                                AuthUI.GOOGLE_PROVIDER)\r\n                                        .build(),\r\n                                RC_SIGN_IN);\r\nHere is my build.gradle file:\r\n\r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        //noinspection GradleCompatible\r\n        compile &#39;com.android.support:design:24.2.1&#39;\r\n        compile &#39;com.android.support:appcompat-v7:26.0.0&#39;\r\n        // Displaying images\r\n        compile &#39;com.github.bumptech.glide:glide:3.6.1&#39;\r\n        compile &#39;com.google.firebase:firebase-database:11.8.0&#39;\r\n        compile &#39;com.google.firebase:firebase-auth:11.8.0&#39;\r\n        compile &#39;com.firebaseui:firebase-ui-database:3.2.1&#39;\r\n    }","title":"com.firebase.ui.authui class not found whenever I try to import it","body":"<p>I am using this code to do so but com.firebase.ui.authui is not present in the library. Where can I get it or How can I use it in the code. Please help.</p>\n\n<pre><code>startActivityForResult(\n                            AuthUI.getInstance()\n                                    .createSignInIntentBuilder()\n                                    .setIsSmartLockEnabled(false)\n                                    .setProviders(\n                                            AuthUI.EMAIL_PROVIDER,\n                                            AuthUI.GOOGLE_PROVIDER)\n                                    .build(),\n                            RC_SIGN_IN);\n</code></pre>\n\n<p>Here is my build.gradle file:</p>\n\n<pre><code>dependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    testCompile 'junit:junit:4.12'\n    //noinspection GradleCompatible\n    compile 'com.android.support:design:24.2.1'\n    compile 'com.android.support:appcompat-v7:26.0.0'\n    // Displaying images\n    compile 'com.github.bumptech.glide:glide:3.6.1'\n    compile 'com.google.firebase:firebase-database:11.8.0'\n    compile 'com.google.firebase:firebase-auth:11.8.0'\n    compile 'com.firebaseui:firebase-ui-database:3.2.1'\n}\n</code></pre>\n"},{"tags":["java","android","spring-boot","authentication"],"answers":[{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":2,"creation_date":1666200470,"post_id":74127095,"comment_id":130881582,"body_markdown":"Just as a complement, this is an OAuth2 architecture where Android app is a **client**, Spring REST API a **resource-server** and Keycloak, Auth0, Firebase authentication, Amazon Cognito, MS identity server, or whatever OpenID provider is the **authorization-server**. Choose an OIDC provider (OpenID connect implementation of OAuth2 authorization-server), [configure your Spring backend as resource-server](https://dzone.com/articles/spring-oauth2-resource-servers) and last configure your Android app as OAuth2 client (login, token refreshing and setting authorization header with access-token).","body":"Just as a complement, this is an OAuth2 architecture where Android app is a <b>client</b>, Spring REST API a <b>resource-server</b> and Keycloak, Auth0, Firebase authentication, Amazon Cognito, MS identity server, or whatever OpenID provider is the <b>authorization-server</b>. Choose an OIDC provider (OpenID connect implementation of OAuth2 authorization-server), <a href=\"https://dzone.com/articles/spring-oauth2-resource-servers\" rel=\"nofollow noreferrer\">configure your Spring backend as resource-server</a> and last configure your Android app as OAuth2 client (login, token refreshing and setting authorization header with access-token)."},{"owner":{"account_id":25542867,"reputation":77,"user_id":19328664,"display_name":"Wabi-Sabi"},"score":0,"creation_date":1666337771,"post_id":74127095,"comment_id":130917579,"body_markdown":"1.) So OAuth uses Sosical_Login as a means of Authentication(verifying who a user is) and has nothing to do with Authorization (determines what user can and cannot access). \n2.) So if a client request authorization and the Authorization_Server returns an Access_Token back to the Client. But the Acces Token does have a Scope, which is a type of Authorization  (determines what user can and cannot access) right?","body":"1.) So OAuth uses Sosical_Login as a means of Authentication(verifying who a user is) and has nothing to do with Authorization (determines what user can and cannot access).  2.) So if a client request authorization and the Authorization_Server returns an Access_Token back to the Client. But the Acces Token does have a Scope, which is a type of Authorization  (determines what user can and cannot access) right?"},{"owner":{"account_id":25542867,"reputation":77,"user_id":19328664,"display_name":"Wabi-Sabi"},"score":0,"creation_date":1666337775,"post_id":74127095,"comment_id":130917581,"body_markdown":"3.) The next thing I can&#39;t understand is how Social_Login is only between the Authorization Server and the Client. So the Resource Server is not involved in this Authentication. Or does the Client pass on the Acces Token to the Resource Server?\n\n4.) And how is OIDC involved in this process?","body":"3.) The next thing I can&#39;t understand is how Social_Login is only between the Authorization Server and the Client. So the Resource Server is not involved in this Authentication. Or does the Client pass on the Acces Token to the Resource Server?  4.) And how is OIDC involved in this process?"}],"tags":[],"owner":{"account_id":10377286,"reputation":941,"user_id":7653142,"display_name":"Peyman"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666191336,"creation_date":1666189479,"answer_id":74127095,"question_id":74126642,"body_markdown":"What you need is a complete authentication and authorization server. Spring provides you with set of tools to implement your server but it cannot automatically solve your problem.\r\n\r\nYou have two options:\r\n\r\n1. Develop [authentication][1] and [authorization][1] server yourself using Spring or any other frameworks. You can also use out of the box solutions like [Keycloak][2] but you still need to write some code.\r\n\r\n2. Use services like [Firebase Authentication][3], which needs some development on mobile platform but you won&#39;t write any back-end code.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html\r\n  [2]: https://www.keycloak.org/\r\n  [3]: https://firebase.google.com/docs/auth","title":"Spring Boot Web Server and Android App Security","body":"<p>What you need is a complete authentication and authorization server. Spring provides you with set of tools to implement your server but it cannot automatically solve your problem.</p>\n<p>You have two options:</p>\n<ol>\n<li><p>Develop <a href=\"https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html\" rel=\"nofollow noreferrer\">authentication</a> and <a href=\"https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html\" rel=\"nofollow noreferrer\">authorization</a> server yourself using Spring or any other frameworks. You can also use out of the box solutions like <a href=\"https://www.keycloak.org/\" rel=\"nofollow noreferrer\">Keycloak</a> but you still need to write some code.</p>\n</li>\n<li><p>Use services like <a href=\"https://firebase.google.com/docs/auth\" rel=\"nofollow noreferrer\">Firebase Authentication</a>, which needs some development on mobile platform but you won't write any back-end code.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25542867,"reputation":77,"user_id":19328664,"display_name":"Wabi-Sabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677154270,"creation_date":1666187746,"question_id":74126642,"body_markdown":"I am new to security and for the last few weeks I tried to learn as much as possible on my own. \r\n\r\nFor my experiment I have built a Spring Boot Server on localhost and connected it to an [Android App, with the use of Retrofit][1].  \r\n\r\nI tried to learn how to get security for my server application and Android Client App. I found some usefull sources on [Spring Boot OAuth2][2] with webjars and [social login with Firebase Authentication][3].\r\n\r\nBut what I truly want is Multi-factor authentication and a secure connection between my Spring Boot Server App and Android App and Automatically log-out users after a few hours. I&#39;m looking for a solution where all these things are implemented. \r\n\r\nI really wanted Spring Boot to solve my problem, but I can&#39;t find anything useful for Spring Boot Authentication and an Android Client App.\r\n\r\nMaybe I&#39;m already on the right path, but my sources are running out. If somebody knows a good source, like a blog or book, or point me in the right direction on how to deal with security, it will be appreciated. \r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/how-to-post-data-to-api-using-retrofit-in-android/?ref=gcse\r\n  [2]: https://spring.io/guides/tutorials/spring-boot-oauth2/\r\n  [3]: https://codingzest.com/firebase-authentication-android/","title":"Spring Boot Web Server and Android App Security","body":"<p>I am new to security and for the last few weeks I tried to learn as much as possible on my own.</p>\n<p>For my experiment I have built a Spring Boot Server on localhost and connected it to an <a href=\"https://www.geeksforgeeks.org/how-to-post-data-to-api-using-retrofit-in-android/?ref=gcse\" rel=\"nofollow noreferrer\">Android App, with the use of Retrofit</a>.</p>\n<p>I tried to learn how to get security for my server application and Android Client App. I found some usefull sources on <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">Spring Boot OAuth2</a> with webjars and <a href=\"https://codingzest.com/firebase-authentication-android/\" rel=\"nofollow noreferrer\">social login with Firebase Authentication</a>.</p>\n<p>But what I truly want is Multi-factor authentication and a secure connection between my Spring Boot Server App and Android App and Automatically log-out users after a few hours. I'm looking for a solution where all these things are implemented.</p>\n<p>I really wanted Spring Boot to solve my problem, but I can't find anything useful for Spring Boot Authentication and an Android Client App.</p>\n<p>Maybe I'm already on the right path, but my sources are running out. If somebody knows a good source, like a blog or book, or point me in the right direction on how to deal with security, it will be appreciated.</p>\n"},{"tags":["java","apache-poi","docx4j","aspose.words"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677153838,"creation_date":1677153838,"answer_id":75544587,"question_id":75543134,"body_markdown":"There is a reason that you did not find methods to get line numbers and/or division into pages of a Word document. The reason is that this is not possible without rendering the Word document.\r\n\r\nA Word document body consists of a stream of body elements, such as paragraphs, tables, pictures, diagrams, ... Technically there is no page concept in a Word document. Microsoft Word creates pages on the fly while rendering. The same is for text lines. Microsoft Word reformats line breaks on the fly while rendering.\r\n\r\nOne body element follows the element before it. How much height a body element claims depends on multiple factors, such as font family, font size, margins, paddings, vertical indents, special height settings, ... . Therefore, without rendering one cannot know how much vertical space a body element needs and whether a page is full.\r\n\r\nThe same is for text lines. How much width a body element claims depends on multiple factors, such as font family, font size, margins, paddings, horizontal indents, special width settings, ... . Therefore, without rendering one cannot know how much space a body element needs and whether the right page margin is reached to make a line break necessary.\r\n\r\nThere may be explicit page breaks set and there may be explicit line breaks set. However, that is not necessary and so one cannot rely on those as there may be automatic line breaks and automatic page breaks too, dependent on the rendering.\r\n\r\nMicrosoft Word normally marks page breaks when a document was rendered and saved then. However, this also is nothing what I would rely on for a `*.docx` as it could have been created using other word-processing applications, which don’t do so.\r\n\r\nApache POI is not internally rendering Word documents. So no chance using this library.\r\n\r\nAt least Aspose.Words should have an internally rendering engine and so be able to get at least pages. At least it claims so. However, I do not know much about Aspose code.\r\n\r\n","title":"Any library that have inbuilt methods to get exact page number and line number of an element in word document","body":"<p>There is a reason that you did not find methods to get line numbers and/or division into pages of a Word document. The reason is that this is not possible without rendering the Word document.</p>\n<p>A Word document body consists of a stream of body elements, such as paragraphs, tables, pictures, diagrams, ... Technically there is no page concept in a Word document. Microsoft Word creates pages on the fly while rendering. The same is for text lines. Microsoft Word reformats line breaks on the fly while rendering.</p>\n<p>One body element follows the element before it. How much height a body element claims depends on multiple factors, such as font family, font size, margins, paddings, vertical indents, special height settings, ... . Therefore, without rendering one cannot know how much vertical space a body element needs and whether a page is full.</p>\n<p>The same is for text lines. How much width a body element claims depends on multiple factors, such as font family, font size, margins, paddings, horizontal indents, special width settings, ... . Therefore, without rendering one cannot know how much space a body element needs and whether the right page margin is reached to make a line break necessary.</p>\n<p>There may be explicit page breaks set and there may be explicit line breaks set. However, that is not necessary and so one cannot rely on those as there may be automatic line breaks and automatic page breaks too, dependent on the rendering.</p>\n<p>Microsoft Word normally marks page breaks when a document was rendered and saved then. However, this also is nothing what I would rely on for a <code>*.docx</code> as it could have been created using other word-processing applications, which don’t do so.</p>\n<p>Apache POI is not internally rendering Word documents. So no chance using this library.</p>\n<p>At least Aspose.Words should have an internally rendering engine and so be able to get at least pages. At least it claims so. However, I do not know much about Aspose code.</p>\n"},{"comments":[{"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"score":0,"creation_date":1677154567,"post_id":75544609,"comment_id":133283823,"body_markdown":"Thanks for the response, How can we extract the x-axis and y-axis values from the chart. i am able to get chart title, series values. Are there any methods to get the x-axis data?","body":"Thanks for the response, How can we extract the x-axis and y-axis values from the chart. i am able to get chart title, series values. Are there any methods to get the x-axis data?"},{"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"score":1,"creation_date":1677168201,"post_id":75544609,"comment_id":133288564,"body_markdown":"Unfortunately, there is no way to get Axis data.","body":"Unfortunately, there is no way to get Axis data."}],"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677153949,"creation_date":1677153949,"answer_id":75544609,"question_id":75543134,"body_markdown":"MS Word documents are flow documents and does not contain any information about document layout. The consumer applications like MS Word or Open Office build the document layout on the fly. \r\nAspose.Words has it’s own document layout engine. The facade classes [LayoutCollector][1] and [LayoutEnumerator][2] allows to get layout information of document elements.\r\nFor example to determine page index where a particular node starts or ends you can use `LayoutCollector.getStartPageIndex` and `LayoutCollector.getEndPageIndex` correspondingly:\r\n```java\r\nDocument doc = new Document(&quot;C:\\\\Temp\\\\in.docx&quot;);\r\nLayoutCollector collector = new LayoutCollector(doc);\r\n// Get some node, for example the first paragraph is in the document.\r\nParagraph para = doc.getFirstSection().getBody().getFirstParagraph();\r\nSystem.out.println(&quot;Paragraph starts on &quot; + collector.getStartPageIndex(para) + &quot; page.&quot;);\r\n``` \r\nSee [Aspose.Words for Java GitHub][3] for more code examples\r\n\r\n\r\n  [1]: https://reference.aspose.com/words/java/com.aspose.words/layoutcollector/\r\n  [2]: https://reference.aspose.com/words/java/com.aspose.words/layoutenumerator/\r\n  [3]: https://github.com/aspose-words/Aspose.Words-for-Java/blob/68f7247689a95fdea86f766df2989c3657188aa7/Examples/ApiExamples/Java/src/main/java/Examples/ExLayout.java","title":"Any library that have inbuilt methods to get exact page number and line number of an element in word document","body":"<p>MS Word documents are flow documents and does not contain any information about document layout. The consumer applications like MS Word or Open Office build the document layout on the fly.\nAspose.Words has it’s own document layout engine. The facade classes <a href=\"https://reference.aspose.com/words/java/com.aspose.words/layoutcollector/\" rel=\"nofollow noreferrer\">LayoutCollector</a> and <a href=\"https://reference.aspose.com/words/java/com.aspose.words/layoutenumerator/\" rel=\"nofollow noreferrer\">LayoutEnumerator</a> allows to get layout information of document elements.\nFor example to determine page index where a particular node starts or ends you can use <code>LayoutCollector.getStartPageIndex</code> and <code>LayoutCollector.getEndPageIndex</code> correspondingly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document doc = new Document(&quot;C:\\\\Temp\\\\in.docx&quot;);\nLayoutCollector collector = new LayoutCollector(doc);\n// Get some node, for example the first paragraph is in the document.\nParagraph para = doc.getFirstSection().getBody().getFirstParagraph();\nSystem.out.println(&quot;Paragraph starts on &quot; + collector.getStartPageIndex(para) + &quot; page.&quot;);\n</code></pre>\n<p>See <a href=\"https://github.com/aspose-words/Aspose.Words-for-Java/blob/68f7247689a95fdea86f766df2989c3657188aa7/Examples/ApiExamples/Java/src/main/java/Examples/ExLayout.java\" rel=\"nofollow noreferrer\">Aspose.Words for Java GitHub</a> for more code examples</p>\n"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1677408997,"accepted_answer_id":75544609,"answer_count":2,"score":2,"last_activity_date":1677153949,"creation_date":1677145960,"question_id":75543134,"body_markdown":"I am looking for a library in java that can read all data from a word document element by element including paragraph,tables, charts, images and comments etc. and having the track of current page number and line number where the element is starting using inbuit methods. i tried with apache-poi, aspose and docx4j.I didn&#39;t find any such methods to get line number. if there are any please let me know","title":"Any library that have inbuilt methods to get exact page number and line number of an element in word document","body":"<p>I am looking for a library in java that can read all data from a word document element by element including paragraph,tables, charts, images and comments etc. and having the track of current page number and line number where the element is starting using inbuit methods. i tried with apache-poi, aspose and docx4j.I didn't find any such methods to get line number. if there are any please let me know</p>\n"},{"tags":["java","jetty","embedded-jetty"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677153858,"creation_date":1677153858,"answer_id":75544592,"question_id":75544554,"body_markdown":"Java agents are JVM wide, not WebApp specific.\r\n\r\nYou&#39;ll have to run the entire Jetty server, from the JVM startup with that agent enabled on the Java command line.","title":"How to add environment variables to jetty server in java sdk?","body":"<p>Java agents are JVM wide, not WebApp specific.</p>\n<p>You'll have to run the entire Jetty server, from the JVM startup with that agent enabled on the Java command line.</p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677153858,"creation_date":1677153696,"question_id":75544554,"body_markdown":"I&#39;ve manually created jetty Server and run my application inside java application. \r\n\r\n    import org.eclipse.jetty.server.Server;\r\n        \r\n    public void startServer() {\r\n    Server server = new Server(0);\r\n    server.setStopAtShutdown(true);\r\n    WebAppContext webAppContext = new WebAppContext();\r\n    webAppContext.setResourceBase(explodedWar);\r\n    webAppContext.setExtraClasspath(getExtraClasspath());\r\n        \r\n                \r\n    server.start();\r\n    }\r\n\r\nI want to run war with some javaagent. I&#39;ve tried to add javaagent option:\r\n\r\n    webAppContext.setInitParameter(&quot;org.eclipse.jetty.webapp.configuration&quot;, &quot;JAVA_OPTS=-javaagent:some-javaagent.jar&quot;);\r\n\r\nBut seems it doesn&#39;t works. How to add environment variables or VM options for war in this code?\r\n","title":"How to add environment variables to jetty server in java sdk?","body":"<p>I've manually created jetty Server and run my application inside java application.</p>\n<pre><code>import org.eclipse.jetty.server.Server;\n    \npublic void startServer() {\nServer server = new Server(0);\nserver.setStopAtShutdown(true);\nWebAppContext webAppContext = new WebAppContext();\nwebAppContext.setResourceBase(explodedWar);\nwebAppContext.setExtraClasspath(getExtraClasspath());\n    \n            \nserver.start();\n}\n</code></pre>\n<p>I want to run war with some javaagent. I've tried to add javaagent option:</p>\n<pre><code>webAppContext.setInitParameter(&quot;org.eclipse.jetty.webapp.configuration&quot;, &quot;JAVA_OPTS=-javaagent:some-javaagent.jar&quot;);\n</code></pre>\n<p>But seems it doesn't works. How to add environment variables or VM options for war in this code?</p>\n"},{"tags":["java","arrays","methods","greatest-common-divisor"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1677154461,"post_id":75539934,"comment_id":133283792,"body_markdown":"ALWAYS use i &lt; array.length in a for loop","body":"ALWAYS use i &lt; array.length in a for loop"}],"answers":[{"tags":[],"owner":{"account_id":370140,"reputation":18565,"user_id":717898,"accept_rate":86,"display_name":"Andrew Lazarus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677120584,"creation_date":1677120584,"answer_id":75540134,"question_id":75539934,"body_markdown":"C-derived languages (C, C#, Java, C++) all start arrays at zero, which means the last element is `my_array[my_array.length-1]`, however that is written exactly in that language. So the idiom in a loop is generally\r\n\r\n    for (int i = 0; i &lt; my_array.length; ++i) /* do something */\r\n\r\nhowever the length is obtained in the language. Note that your code has `&lt;=`, which is almost always wrong.\r\n\r\nEuclid had a more efficient way of getting gcd 2300 years ago; you might look for it.\r\n\r\nI tell learners that C, Java, etc. are like England, France, and Quebec, where you enter a building on the ground floor (sometimes marked 0 in an elevator) and climb stairs to the first floor. Pascal, SQL, and IIRC Visual Basic start arrays at 1 (so `&lt;=` is correct to get to the end of an array), like the USA and Anglophone Canada, you walk into the first floor. People are welcome to add other countries in the comments.","title":"ArrayIndexOutOfBoundsException error in method for finding greatest common divisor","body":"<p>C-derived languages (C, C#, Java, C++) all start arrays at zero, which means the last element is <code>my_array[my_array.length-1]</code>, however that is written exactly in that language. So the idiom in a loop is generally</p>\n<pre><code>for (int i = 0; i &lt; my_array.length; ++i) /* do something */\n</code></pre>\n<p>however the length is obtained in the language. Note that your code has <code>&lt;=</code>, which is almost always wrong.</p>\n<p>Euclid had a more efficient way of getting gcd 2300 years ago; you might look for it.</p>\n<p>I tell learners that C, Java, etc. are like England, France, and Quebec, where you enter a building on the ground floor (sometimes marked 0 in an elevator) and climb stairs to the first floor. Pascal, SQL, and IIRC Visual Basic start arrays at 1 (so <code>&lt;=</code> is correct to get to the end of an array), like the USA and Anglophone Canada, you walk into the first floor. People are welcome to add other countries in the comments.</p>\n"},{"tags":[],"owner":{"account_id":15407072,"reputation":49,"user_id":11114934,"display_name":"gambinaattori"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677137932,"creation_date":1677137932,"answer_id":75541818,"question_id":75539934,"body_markdown":"Your inner for-loop allows `j` to be equal to `numbers.length`:\r\n```\r\nfor (j = i + 1; j &lt;= numbers.length; j++) {\r\n```\r\nThen you try to reference `numbers[j]`:\r\n```\r\nwhile (k &lt;= numbers[i] &amp;&amp; k &lt;= numbers[j]) {\r\n    if (numbers[i] % k == 0 &amp;&amp; numbers[j] % k == 0)\r\n```\r\nThe last element in `numbers` is `numbers[numbers.length - 1]`. The exception happens when you try to access an element that is beyond the final element in the array, i.e. when `j == numbers.length`.","title":"ArrayIndexOutOfBoundsException error in method for finding greatest common divisor","body":"<p>Your inner for-loop allows <code>j</code> to be equal to <code>numbers.length</code>:</p>\n<pre><code>for (j = i + 1; j &lt;= numbers.length; j++) {\n</code></pre>\n<p>Then you try to reference <code>numbers[j]</code>:</p>\n<pre><code>while (k &lt;= numbers[i] &amp;&amp; k &lt;= numbers[j]) {\n    if (numbers[i] % k == 0 &amp;&amp; numbers[j] % k == 0)\n</code></pre>\n<p>The last element in <code>numbers</code> is <code>numbers[numbers.length - 1]</code>. The exception happens when you try to access an element that is beyond the final element in the array, i.e. when <code>j == numbers.length</code>.</p>\n"}],"owner":{"account_id":27856137,"reputation":11,"user_id":21269580,"display_name":"Veera Kondratenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677153400,"creation_date":1677117886,"question_id":75539934,"body_markdown":"Purpose is to find greatest common divisor of numbers: 45 &amp; 75 which is 15. I get ArrayIndexOutOfBoundsException on line with while loop. Could you please help. I don&#39;t understand why? Parameter has to be variable-length argument lists. At the moment I have 2 numbers just to check if gcd is calculated correctly later array will need to be 5 long.\r\n\r\n```\r\npublic static int gcd (int... numbers) {\r\n\r\n        //initial greatest common divisor is 1\r\n        int gcd = 1;\r\n\r\n        //possible greatest common divisor is 2\r\n        int k = 2;\r\n\r\n        //looping through array with test input of 2: 45 &amp; 75\r\n        int i, j;\r\n        for (i = 0; i &lt;= numbers.length - 1; i++) {\r\n            for (j = i + 1; j &lt;= numbers.length; j++) {\r\n                while (k &lt;= numbers[i] &amp;&amp; k &lt;= numbers[j]) {\r\n                    if (numbers[i] % k == 0 &amp;&amp; numbers[j] % k == 0)\r\n                        //update\r\n                        gcd = k;\r\n\r\n                    k++;\r\n                }\r\n            }\r\n        }\r\n        return gcd;\r\n    }\r\n```\r\n\r\nAll I need to do is to compare first element with next one, second with next one etc. so hence created 2 for loops. In while loop greatest common divisor is being calculated. But I am stuck to understand what I am doing wrong. Would appreciate a hint or guidance. \r\n\r\nThis is correct method from the book to calculate gcd but not with array:\r\n\r\n```\r\npublic static int gcd(int n1,int n2) {\r\n    int gcd = 1; // Initial gcd is 1\r\n    int k = 2; // Possible gcd\r\n\r\n    while (k &lt;= n1 &amp;&amp; k &lt;= n2) {\r\n        if (n1 % k == 0 &amp;&amp; n2 % k == 0)\r\n           gcd = k; // Update gcd\r\n        k++;\r\n    }\r\n\r\n    return gcd; // Return gcd\r\n }\r\n```","title":"ArrayIndexOutOfBoundsException error in method for finding greatest common divisor","body":"<p>Purpose is to find greatest common divisor of numbers: 45 &amp; 75 which is 15. I get ArrayIndexOutOfBoundsException on line with while loop. Could you please help. I don't understand why? Parameter has to be variable-length argument lists. At the moment I have 2 numbers just to check if gcd is calculated correctly later array will need to be 5 long.</p>\n<pre><code>public static int gcd (int... numbers) {\n\n        //initial greatest common divisor is 1\n        int gcd = 1;\n\n        //possible greatest common divisor is 2\n        int k = 2;\n\n        //looping through array with test input of 2: 45 &amp; 75\n        int i, j;\n        for (i = 0; i &lt;= numbers.length - 1; i++) {\n            for (j = i + 1; j &lt;= numbers.length; j++) {\n                while (k &lt;= numbers[i] &amp;&amp; k &lt;= numbers[j]) {\n                    if (numbers[i] % k == 0 &amp;&amp; numbers[j] % k == 0)\n                        //update\n                        gcd = k;\n\n                    k++;\n                }\n            }\n        }\n        return gcd;\n    }\n</code></pre>\n<p>All I need to do is to compare first element with next one, second with next one etc. so hence created 2 for loops. In while loop greatest common divisor is being calculated. But I am stuck to understand what I am doing wrong. Would appreciate a hint or guidance.</p>\n<p>This is correct method from the book to calculate gcd but not with array:</p>\n<pre><code>public static int gcd(int n1,int n2) {\n    int gcd = 1; // Initial gcd is 1\n    int k = 2; // Possible gcd\n\n    while (k &lt;= n1 &amp;&amp; k &lt;= n2) {\n        if (n1 % k == 0 &amp;&amp; n2 % k == 0)\n           gcd = k; // Update gcd\n        k++;\n    }\n\n    return gcd; // Return gcd\n }\n</code></pre>\n"},{"tags":["java","jpa","criteria-api"],"comments":[{"owner":{"account_id":465793,"reputation":16048,"user_id":870122,"accept_rate":88,"display_name":"perissf"},"score":0,"creation_date":1325924195,"post_id":8764191,"comment_id":10929392,"body_markdown":"Try to de-typing the query from CriteriaQuery&lt;Documents&gt; to CriteriaQuery in order to select the count without offending the API. If you also post more infos about the tables / entities I can try some other ways","body":"Try to de-typing the query from CriteriaQuery&lt;Documents&gt; to CriteriaQuery in order to select the count without offending the API. If you also post more infos about the tables / entities I can try some other ways"}],"answers":[{"comments":[{"owner":{"account_id":465793,"reputation":16048,"user_id":870122,"accept_rate":88,"display_name":"perissf"},"score":1,"creation_date":1325883616,"post_id":8764367,"comment_id":10923402,"body_markdown":"The tutorial you&#39;ve posted is fine, but the query the OP wants raises an interesting question: is Criteria API really useful when the query returns objects of different types?","body":"The tutorial you&#39;ve posted is fine, but the query the OP wants raises an interesting question: is Criteria API really useful when the query returns objects of different types?"},{"owner":{"account_id":452468,"reputation":5490,"user_id":848926,"accept_rate":80,"display_name":"Alan B. Dee"},"score":0,"creation_date":1325889347,"post_id":8764367,"comment_id":10924923,"body_markdown":"thanks, the tutorial helped me a lot. As far as different types all I need is the id (long).","body":"thanks, the tutorial helped me a lot. As far as different types all I need is the id (long)."},{"owner":{"account_id":1004269,"reputation":4294,"user_id":1018419,"display_name":"Mechkov"},"score":0,"creation_date":1325890262,"post_id":8764367,"comment_id":10925145,"body_markdown":"Cool. Glad it helped. I used it myself, not too long ago.","body":"Cool. Glad it helped. I used it myself, not too long ago."}],"tags":[],"owner":{"account_id":1004269,"reputation":4294,"user_id":1018419,"display_name":"Mechkov"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1325883217,"creation_date":1325883217,"answer_id":8764367,"question_id":8764191,"body_markdown":"Take a look into this easy tutorial. It uses JPA2 and Criteria\r\n\r\nhttp://www.jumpingbean.co.za/blogs/jpa2-criteria-api\r\n\r\nRegards!","title":"Need help creating JPA criteria query","body":"<p>Take a look into this easy tutorial. It uses JPA2 and Criteria</p>\n\n<p><a href=\"http://www.jumpingbean.co.za/blogs/jpa2-criteria-api\" rel=\"nofollow\">http://www.jumpingbean.co.za/blogs/jpa2-criteria-api</a></p>\n\n<p>Regards!</p>\n"},{"comments":[{"owner":{"account_id":465793,"reputation":16048,"user_id":870122,"accept_rate":88,"display_name":"perissf"},"score":0,"creation_date":1325886845,"post_id":8764441,"comment_id":10924438,"body_markdown":"This means using Hiberate, which is out of scope here. You should at least mention this.","body":"This means using Hiberate, which is out of scope here. You should at least mention this."},{"owner":{"account_id":452468,"reputation":5490,"user_id":848926,"accept_rate":80,"display_name":"Alan B. Dee"},"score":0,"creation_date":1325889243,"post_id":8764441,"comment_id":10924900,"body_markdown":"yes, I&#39;m afraid I&#39;m not using Hibernate. albeit I&#39;m starting to wish I were!","body":"yes, I&#39;m afraid I&#39;m not using Hibernate. albeit I&#39;m starting to wish I were!"},{"owner":{"account_id":203378,"reputation":1126,"user_id":450995,"accept_rate":83,"display_name":"Gonzalo"},"score":0,"creation_date":1325951572,"post_id":8764441,"comment_id":10933125,"body_markdown":"oh, big apologies. Didn&#39;t realize that!","body":"oh, big apologies. Didn&#39;t realize that!"}],"tags":[],"owner":{"account_id":203378,"reputation":1126,"user_id":450995,"accept_rate":83,"display_name":"Gonzalo"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1325951613,"creation_date":1325883563,"answer_id":8764441,"question_id":8764191,"body_markdown":"If you are using Hibernate, this should work:\r\n\r\n    ProjectionList pl = Projections.projectionList()\r\n    .add(Projections.groupProperty(&quot;userid&quot;))\r\n    .add(Projections.property(&quot;userid&quot;))\r\n    .add(Projections.count(&quot;userid&quot;));\r\n\r\n    Criteria criteria = session.createCriteria(Document.class)\r\n    .add(Restrictions.eq(&quot;usertype&quot;,usertype))\r\n    .setProjection(pl)\r\n    .addOrder(Order.desc(&quot;cnt&quot;));\r\n\r\nHope it helps!","title":"Need help creating JPA criteria query","body":"<p>If you are using Hibernate, this should work:</p>\n\n<pre><code>ProjectionList pl = Projections.projectionList()\n.add(Projections.groupProperty(\"userid\"))\n.add(Projections.property(\"userid\"))\n.add(Projections.count(\"userid\"));\n\nCriteria criteria = session.createCriteria(Document.class)\n.add(Restrictions.eq(\"usertype\",usertype))\n.setProjection(pl)\n.addOrder(Order.desc(\"cnt\"));\n</code></pre>\n\n<p>Hope it helps!</p>\n"},{"comments":[{"owner":{"account_id":452468,"reputation":5490,"user_id":848926,"accept_rate":80,"display_name":"Alan B. Dee"},"score":0,"creation_date":1325961769,"post_id":8770341,"comment_id":10935147,"body_markdown":"Brilliant! It worked with almost right out of the box. Between this and the article @Mechkov shared I have a much better understanding of criteria queries. Thank you.","body":"Brilliant! It worked with almost right out of the box. Between this and the article @Mechkov shared I have a much better understanding of criteria queries. Thank you."},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1446549174,"post_id":8770341,"comment_id":54779024,"body_markdown":"Good answer, helped to solve my problem with the following error `You must use dontMaintainCache()`","body":"Good answer, helped to solve my problem with the following error <code>You must use dontMaintainCache()</code>"},{"owner":{"account_id":238631,"reputation":1030,"user_id":507654,"display_name":"hbobenicio"},"score":0,"creation_date":1467399378,"post_id":8770341,"comment_id":63733979,"body_markdown":"Thanks for your code example. I&#39;ve learned a lot about jpa criteria queries using tuples (instead of Entities) with it.","body":"Thanks for your code example. I&#39;ve learned a lot about jpa criteria queries using tuples (instead of Entities) with it."},{"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"score":0,"creation_date":1493645525,"post_id":8770341,"comment_id":74483230,"body_markdown":"Hi, I want to create an alias for cb.count(userId) and use that alias in subsequent order by by refering to the alias. Is that possible?","body":"Hi, I want to create an alias for cb.count(userId) and use that alias in subsequent order by by refering to the alias. Is that possible?"},{"owner":{"account_id":192606,"reputation":9871,"user_id":433835,"accept_rate":95,"display_name":"Koh&#225;nyi R&#243;bert"},"score":0,"creation_date":1493786649,"post_id":8770341,"comment_id":74544664,"body_markdown":"@yaswanth [You do something like this](https://en.wikibooks.org/wiki/Java_Persistence/Criteria#Tuple_query_examples). You define the alias in the `multiselect` call.","body":"@yaswanth <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/Criteria#Tuple_query_examples\" rel=\"nofollow noreferrer\">You do something like this</a>. You define the alias in the <code>multiselect</code> call."},{"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"score":0,"creation_date":1493795406,"post_id":8770341,"comment_id":74548323,"body_markdown":"@Koh&#225;nyiR&#243;bert how do I access the alias later during orderBy?","body":"@Koh&#225;nyiR&#243;bert how do I access the alias later during orderBy?"},{"owner":{"account_id":192606,"reputation":9871,"user_id":433835,"accept_rate":95,"display_name":"Koh&#225;nyi R&#243;bert"},"score":0,"creation_date":1493820899,"post_id":8770341,"comment_id":74566395,"body_markdown":"@yaswanth Not sure, but in the example I&#39;ve linked `employee.get(&quot;firstName&quot;).alias(&quot;first&quot;)` returns some object for you, reuse that in your `orderBy` clause. Didn&#39;t test it tho&#39;.","body":"@yaswanth Not sure, but in the example I&#39;ve linked <code>employee.get(&quot;firstName&quot;).alias(&quot;first&quot;)</code> returns some object for you, reuse that in your <code>orderBy</code> clause. Didn&#39;t test it tho&#39;."}],"tags":[],"owner":{"account_id":192606,"reputation":9871,"user_id":433835,"accept_rate":95,"display_name":"Koh&#225;nyi R&#243;bert"},"comment_count":7,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1325946310,"creation_date":1325945975,"answer_id":8770341,"question_id":8764191,"body_markdown":"Your query doesn&#39;t return a *complete* entity object as you&#39;re only selecting two fields of the given table (this is why you&#39;re getting an error that says *yadayadapartialyadayada*).\r\n\r\nYour solution is almost right, here&#39;s what you need to change to make it work—making it *partial*.\r\n\r\nInstead of a plain `CriteriaQuery&lt;...&gt;` you have to create a *tuple* `CriteriaQuery&lt;..&gt;` by calling [`CriteriaBuilder.createTupleQuery()`][1]. (Basically, you can call `CriteriaBuilder.createQuery(...)` and pass [`Tuple.class`][2] to it as an argument. `Tuple` is a sort of *wildcard* entity class.)\r\n\r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Tuple&gt; cq= cb.createTupleQuery();\r\n\r\n    Root&lt;Documents&gt; root = cq.from(Documents.class);\r\n    Expression&lt;Integer&gt; userId = root.get(&quot;USERID&quot;);\r\n    Expression&lt;String&gt; userType = root.get(&quot;USERTYPE&quot;);\r\n    Expression&lt;Long&gt; count = cb.count(userId);\r\n\r\n    cq.multiselect(userId.alias(&quot;USERID&quot;), count.alias(&quot;CNT&quot;));\r\n    cq.where(cb.equal(userType, &quot;COMPANY&quot;);\r\n    cq.groupBy(userId);\r\n    cq.orderBy(cb.desc(count));\r\n\r\n    TypedQuery&lt;Tuple&gt; tq = em.createQuery(cq);\r\n    for (Tuple t : tq.getResultsList()) {\r\n      System.out.println(t.get(&quot;USERID&quot;));\r\n      System.out.println(t.get(&quot;CNT&quot;));\r\n    }\r\n\r\n&lt;sub&gt;(Accessing fields of a `Tuple` gave me an error if I didn&#39;t use aliases for them (in `multiselect(...)`). This is why I&#39;ve used aliases, but this can be tackled more cleanly by using JPA 2&#39;s *Metamodel API*, which is described in the specification quite thoroughly. &lt;/sub&gt;)\r\n\r\nThe documentation for [`CriteriaQuery.multiselect(...)`][3] describes the behaviour of queries using `Tuple` objects more deeply.\r\n\r\n[1]: http://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaBuilder.html#createTupleQuery()\r\n[2]: http://docs.oracle.com/javaee/6/api/javax/persistence/Tuple.html\r\n[3]: http://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaQuery.html#multiselect(javax.persistence.criteria.Selection...)","title":"Need help creating JPA criteria query","body":"<p>Your query doesn't return a <em>complete</em> entity object as you're only selecting two fields of the given table (this is why you're getting an error that says <em>yadayadapartialyadayada</em>).</p>\n\n<p>Your solution is almost right, here's what you need to change to make it work—making it <em>partial</em>.</p>\n\n<p>Instead of a plain <code>CriteriaQuery&lt;...&gt;</code> you have to create a <em>tuple</em> <code>CriteriaQuery&lt;..&gt;</code> by calling <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaBuilder.html#createTupleQuery%28%29\"><code>CriteriaBuilder.createTupleQuery()</code></a>. (Basically, you can call <code>CriteriaBuilder.createQuery(...)</code> and pass <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/Tuple.html\"><code>Tuple.class</code></a> to it as an argument. <code>Tuple</code> is a sort of <em>wildcard</em> entity class.)</p>\n\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;Tuple&gt; cq= cb.createTupleQuery();\n\nRoot&lt;Documents&gt; root = cq.from(Documents.class);\nExpression&lt;Integer&gt; userId = root.get(\"USERID\");\nExpression&lt;String&gt; userType = root.get(\"USERTYPE\");\nExpression&lt;Long&gt; count = cb.count(userId);\n\ncq.multiselect(userId.alias(\"USERID\"), count.alias(\"CNT\"));\ncq.where(cb.equal(userType, \"COMPANY\");\ncq.groupBy(userId);\ncq.orderBy(cb.desc(count));\n\nTypedQuery&lt;Tuple&gt; tq = em.createQuery(cq);\nfor (Tuple t : tq.getResultsList()) {\n  System.out.println(t.get(\"USERID\"));\n  System.out.println(t.get(\"CNT\"));\n}\n</code></pre>\n\n<p><sub>(Accessing fields of a <code>Tuple</code> gave me an error if I didn't use aliases for them (in <code>multiselect(...)</code>). This is why I've used aliases, but this can be tackled more cleanly by using JPA 2's <em>Metamodel API</em>, which is described in the specification quite thoroughly. </sub>)</p>\n\n<p>The documentation for <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/criteria/CriteriaQuery.html#multiselect%28javax.persistence.criteria.Selection...%29\"><code>CriteriaQuery.multiselect(...)</code></a> describes the behaviour of queries using <code>Tuple</code> objects more deeply.</p>\n"},{"tags":[],"owner":{"account_id":2114210,"reputation":1539,"user_id":1878854,"accept_rate":78,"display_name":"Accollativo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677152770,"creation_date":1677152770,"answer_id":75544395,"question_id":8764191,"body_markdown":"You need to add a constructor to `Documents` with only `userid` and `count` because you will need it on:\r\n\r\n    cqry.multiselect(userid, count);\r\n\r\n \r\n","title":"Need help creating JPA criteria query","body":"<p>You need to add a constructor to <code>Documents</code> with only <code>userid</code> and <code>count</code> because you will need it on:</p>\n<pre><code>cqry.multiselect(userid, count);\n</code></pre>\n"}],"owner":{"account_id":452468,"reputation":5490,"user_id":848926,"accept_rate":80,"display_name":"Alan B. Dee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18457,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":8770341,"answer_count":4,"score":11,"last_activity_date":1677152770,"creation_date":1325882407,"question_id":8764191,"body_markdown":"I&#39;m building my first Java EE web application using Glassfish and JSF. I&#39;m fairly new to the criteria query and I have a query I need to perform but the javaee6 tutorial seems a little thin on examples. Anyway, I&#39;m having a hard time creating the query.\r\n\r\nGoal: I want to pull the company with the most documents stored. \r\nCompanies have a OneToMany relationship with Documents. \r\nDocuments has a ManyToOne relationship with several tables, the &quot;usertype&quot; column distinguishes them.\r\n\r\nMySQL query: \r\n\r\n    SELECT USERID, COUNT(USERID) AS CNT \r\n    FROM DOCUMENTS \r\n    WHERE USERTYPE=&quot;COMPANY&quot; \r\n    GROUP BY USERID \r\n    ORDER BY CNT DESC\r\n\r\nThanks\r\n\r\n--update--\r\nBased on user feedback, here is what I have so far:\r\n\r\n            CriteriaBuilder cb = em.getCriteriaBuilder();\r\n            CriteriaQuery&lt;Documents&gt; cqry = cb.createQuery(Documents.class);\r\n            //Intersting Stuff\r\n            Root&lt;Documents&gt; root = cqry.from(Documents.class);\r\n            Expression userid = root.get(&quot;userID&quot;);\r\n            Expression usertype = root.get(&quot;userType&quot;);\r\n            Expression count = cb.count(userid);\r\n            cqry.multiselect(userid, count);\r\n            Predicate userType = cb.equal(usertype, &quot;COMPANY&quot;);\r\n            cqry.where(userType);\r\n            cqry.groupBy(userid);\r\n            cqry.orderBy(cb.desc(count));\r\n            //more boilerplate\r\n            Query qry = em.createQuery(cqry);\r\n            List&lt;Documents&gt; results = qry.getResultList();\r\n\r\nThe error I get is:\r\n\r\n    Exception Description: Partial object queries are not allowed to maintain the cache or be edited.  You must use dontMaintainCache().\r\n\r\nTypical error, means nothing to me!\r\n\r\n","title":"Need help creating JPA criteria query","body":"<p>I'm building my first Java EE web application using Glassfish and JSF. I'm fairly new to the criteria query and I have a query I need to perform but the javaee6 tutorial seems a little thin on examples. Anyway, I'm having a hard time creating the query.</p>\n\n<p>Goal: I want to pull the company with the most documents stored. \nCompanies have a OneToMany relationship with Documents. \nDocuments has a ManyToOne relationship with several tables, the \"usertype\" column distinguishes them.</p>\n\n<p>MySQL query: </p>\n\n<pre><code>SELECT USERID, COUNT(USERID) AS CNT \nFROM DOCUMENTS \nWHERE USERTYPE=\"COMPANY\" \nGROUP BY USERID \nORDER BY CNT DESC\n</code></pre>\n\n<p>Thanks</p>\n\n<p>--update--\nBased on user feedback, here is what I have so far:</p>\n\n<pre><code>        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;Documents&gt; cqry = cb.createQuery(Documents.class);\n        //Intersting Stuff\n        Root&lt;Documents&gt; root = cqry.from(Documents.class);\n        Expression userid = root.get(\"userID\");\n        Expression usertype = root.get(\"userType\");\n        Expression count = cb.count(userid);\n        cqry.multiselect(userid, count);\n        Predicate userType = cb.equal(usertype, \"COMPANY\");\n        cqry.where(userType);\n        cqry.groupBy(userid);\n        cqry.orderBy(cb.desc(count));\n        //more boilerplate\n        Query qry = em.createQuery(cqry);\n        List&lt;Documents&gt; results = qry.getResultList();\n</code></pre>\n\n<p>The error I get is:</p>\n\n<pre><code>Exception Description: Partial object queries are not allowed to maintain the cache or be edited.  You must use dontMaintainCache().\n</code></pre>\n\n<p>Typical error, means nothing to me!</p>\n"},{"tags":["java","xml","xslt","xpath"],"comments":[{"owner":{"account_id":16586,"reputation":241521,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"score":0,"creation_date":1295531345,"post_id":4746299,"comment_id":5249576,"body_markdown":"Good question, +1. See my answer for a complete XSLT 1.0 solution that takes a parameter that contains a node-set and produces an XPath expression for every node in this node-set. The nodes can be of any type: document-node, element, text-node, attribute, comment, PI, namespace.","body":"Good question, +1. See my answer for a complete XSLT 1.0 solution that takes a parameter that contains a node-set and produces an XPath expression for every node in this node-set. The nodes can be of any type: document-node, element, text-node, attribute, comment, PI, namespace."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1295793952,"post_id":4746299,"comment_id":5285138,"body_markdown":"What kind of XPath expression do you want though? You can simply take the index of each element in its parent&#39;s `getChildren()` nodelist and create an xpath like `/*[5]/*[2]/*[8]/@yourattr`. But if you want to assert results, shouldn&#39;t you be doing it the other way around? Write an xpath expression that returns true if your XML is correct and false if it isn&#39;t, then evaluate it?","body":"What kind of XPath expression do you want though? You can simply take the index of each element in its parent&#39;s <code>getChildren()</code> nodelist and create an xpath like <code>&#47;*[5]&#47;*[2]&#47;*[8]&#47;@yourattr</code>. But if you want to assert results, shouldn&#39;t you be doing it the other way around? Write an xpath expression that returns true if your XML is correct and false if it isn&#39;t, then evaluate it?"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1295794903,"post_id":4746299,"comment_id":5285212,"body_markdown":"@biziclop I want to create xpaths from request I send(so I can use it to verify the results), not the other way arround. I updated my question","body":"@biziclop I want to create xpaths from request I send(so I can use it to verify the results), not the other way arround. I updated my question"},{"owner":{"account_id":16586,"reputation":241521,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"score":0,"creation_date":1295798300,"post_id":4746299,"comment_id":5285682,"body_markdown":"@c0mrade: There are holes in your updated question. What if an element has more than one text node like in: `&lt;x&gt;text 1&lt;y/&gt;text 2&lt;/x&gt;` How should the wanted solution process any such element? I will update my answer with both an XSLT solution and a C# solution (my Java is a bit rusty) -- will this be useful to you?","body":"@c0mrade: There are holes in your updated question. What if an element has more than one text node like in: <code>&lt;x&gt;text 1&lt;y&#47;&gt;text 2&lt;&#47;x&gt;</code> How should the wanted solution process any such element? I will update my answer with both an XSLT solution and a C# solution (my Java is a bit rusty) -- will this be useful to you?"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1295798531,"post_id":4746299,"comment_id":5285706,"body_markdown":"@Dimitre Novatchev thank you for commenting, as far as I can see that case never occurs in my xml files, and I don&#39;t think it will. As BalusC suggested I could let java run XSLT, if it produces the correct output as example I posted above. tnx","body":"@Dimitre Novatchev thank you for commenting, as far as I can see that case never occurs in my xml files, and I don&#39;t think it will. As BalusC suggested I could let java run XSLT, if it produces the correct output as example I posted above. tnx"},{"owner":{"account_id":16586,"reputation":241521,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"score":0,"creation_date":1295799154,"post_id":4746299,"comment_id":5285775,"body_markdown":"@c0mrade: That is good to know, thanks. So, it may be useful if you put this clarification in the question itself. From your last comment, may I conclude that going forward with XSLT and possibly C# solution will be valuable to you?","body":"@c0mrade: That is good to know, thanks. So, it may be useful if you put this clarification in the question itself. From your last comment, may I conclude that going forward with XSLT and possibly C# solution will be valuable to you?"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1295799498,"post_id":4746299,"comment_id":5285818,"body_markdown":"@Dimitre Novatchev yes it would be most welcome. Thank you","body":"@Dimitre Novatchev yes it would be most welcome. Thank you"},{"owner":{"account_id":16586,"reputation":241521,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"score":0,"creation_date":1295802206,"post_id":4746299,"comment_id":5286145,"body_markdown":"@c0mrade: I have produced a complete and very short (30 lines) XSLT solution that is also easy to understand and solves your problem exactly.","body":"@c0mrade: I have produced a complete and very short (30 lines) XSLT solution that is also easy to understand and solves your problem exactly."},{"owner":{"account_id":16586,"reputation":241521,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"score":0,"creation_date":1295802453,"post_id":4746299,"comment_id":5286174,"body_markdown":"@c0mrade: I have also added a step-by-step explanation of the solution. Thank you for your appreciation.","body":"@c0mrade: I have also added a step-by-step explanation of the solution. Thank you for your appreciation."},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1295803423,"post_id":4746299,"comment_id":5286286,"body_markdown":"@Dimitre Novatchev thanks really appreciate it","body":"@Dimitre Novatchev thanks really appreciate it"},{"owner":{"account_id":16586,"reputation":241521,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"score":0,"creation_date":1295879191,"post_id":4746299,"comment_id":5296877,"body_markdown":"@c0mrade: Thank you for the new refinement of the problem. Yes, it was easy to adjust my solution to deal with the updated format. I have updated in my answer both the code and the explanation. Thank you for providing this nice problem.","body":"@c0mrade: Thank you for the new refinement of the problem. Yes, it was easy to adjust my solution to deal with the updated format. I have updated in my answer both the code and the explanation. Thank you for providing this nice problem."},{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1447163887,"post_id":4746299,"comment_id":55036586,"body_markdown":"Possible duplicate of [how to retrieve corresponding xpath](http://stackoverflow.com/questions/1956534/how-to-retrieve-corresponding-xpath)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1956534/how-to-retrieve-corresponding-xpath\">how to retrieve corresponding xpath</a>"}],"answers":[{"tags":[],"owner":{"account_id":239025,"reputation":4435,"user_id":508328,"accept_rate":90,"display_name":"andbi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295524531,"creation_date":1295524531,"answer_id":4746803,"question_id":4746299,"body_markdown":"1. use w3c.dom\r\n2. go recursively down\r\n3. for each node there is easy way to get it&#39;s xpath: either by storing it as array/list while #2, or via function which goes recursively up until parent is null, then reverses array/list of encountered nodes.\r\n\r\nsomething like that.\r\n\r\nUPD:\r\nand concatenate final list in order to get final xpath.\r\ndon&#39;t think attributes will be a problem. \r\n\r\n","title":"Generate/get Xpath from XML in Java","body":"<ol>\n<li>use w3c.dom</li>\n<li>go recursively down</li>\n<li>for each node there is easy way to get it's xpath: either by storing it as array/list while #2, or via function which goes recursively up until parent is null, then reverses array/list of encountered nodes.</li>\n</ol>\n\n<p>something like that.</p>\n\n<p>UPD:\nand concatenate final list in order to get final xpath.\ndon't think attributes will be a problem. </p>\n"},{"tags":[],"owner":{"account_id":231828,"reputation":4963,"user_id":496265,"accept_rate":80,"display_name":"alpha-mouse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295527766,"creation_date":1295527766,"answer_id":4747301,"question_id":4746299,"body_markdown":"I&#39;ve done a similar task once. The main idea used was that you can use indexes of the element in the xpath. For example in the following xml\r\n\r\n    &lt;root&gt;\r\n        &lt;el /&gt;\r\n        &lt;something /&gt;\r\n        &lt;el /&gt;\r\n    &lt;/root&gt;\r\n\r\nxpath to the second `&lt;el/&gt;` will be `/root[1]/el[2]` (xpath indexes are 1-based). This reads as &quot;take the first root, then take the **second one from all elements with the name** el&quot;. So element `something` does not affect indexing of elements `el`. So you can in theory create an xpath for each specific element in your xml. In practice I&#39;ve accomplished this by walking the tree recursevely and remembering information about elements and their indexes along the way.  \r\nCreating xpath referencing specific attribute of the element then was just adding &#39;/@attrName&#39; to element&#39;s xpath.","title":"Generate/get Xpath from XML in Java","body":"<p>I've done a similar task once. The main idea used was that you can use indexes of the element in the xpath. For example in the following xml</p>\n\n<pre><code>&lt;root&gt;\n    &lt;el /&gt;\n    &lt;something /&gt;\n    &lt;el /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>xpath to the second <code>&lt;el/&gt;</code> will be <code>/root[1]/el[2]</code> (xpath indexes are 1-based). This reads as \"take the first root, then take the <strong>second one from all elements with the name</strong> el\". So element <code>something</code> does not affect indexing of elements <code>el</code>. So you can in theory create an xpath for each specific element in your xml. In practice I've accomplished this by walking the tree recursevely and remembering information about elements and their indexes along the way.<br>\nCreating xpath referencing specific attribute of the element then was just adding '/@attrName' to element's xpath.</p>\n"},{"comments":[{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1295798987,"post_id":4747352,"comment_id":5285760,"body_markdown":"thank you for your answer, does this library have some docs/examples?","body":"thank you for your answer, does this library have some docs/examples?"}],"tags":[],"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295528029,"creation_date":1295528029,"answer_id":4747352,"question_id":4746299,"body_markdown":"I have written a method to return the absolute path of an element in the [Practical XML][1] library. To give you an idea of how it works, here&#39;s an extract form one of the [unit tests][2]:\r\n\r\n    assertEquals(&quot;/root/wargle[2]/zargle&quot;,\r\n                 DomUtil.getAbsolutePath(child3a)); \r\n\r\nSo, you could recurse through the document, apply your tests, and use this to return the XPath. Or, what is probably better, is that you could use the [XPath-based assertions][3] from that same library.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/practicalxml/develop\r\n  [2]: http://practicalxml.svn.sourceforge.net/viewvc/practicalxml/trunk/src/test/java/net/sf/practicalxml/TestDomUtilGetPath.java?revision=209&amp;view=markup\r\n  [3]: http://practicalxml.sourceforge.net/apidocs/net/sf/practicalxml/junit/DomAsserts.html","title":"Generate/get Xpath from XML in Java","body":"<p>I have written a method to return the absolute path of an element in the <a href=\"http://sourceforge.net/projects/practicalxml/develop\" rel=\"nofollow\">Practical XML</a> library. To give you an idea of how it works, here's an extract form one of the <a href=\"http://practicalxml.svn.sourceforge.net/viewvc/practicalxml/trunk/src/test/java/net/sf/practicalxml/TestDomUtilGetPath.java?revision=209&amp;view=markup\" rel=\"nofollow\">unit tests</a>:</p>\n\n<pre><code>assertEquals(\"/root/wargle[2]/zargle\",\n             DomUtil.getAbsolutePath(child3a)); \n</code></pre>\n\n<p>So, you could recurse through the document, apply your tests, and use this to return the XPath. Or, what is probably better, is that you could use the <a href=\"http://practicalxml.sourceforge.net/apidocs/net/sf/practicalxml/junit/DomAsserts.html\" rel=\"nofollow\">XPath-based assertions</a> from that same library.</p>\n"},{"comments":[{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1295792439,"post_id":4747858,"comment_id":5284994,"body_markdown":"@Dimitre Novatchev thank you for your answer but I&#39;m looking for java approach, +1 for your effort","body":"@Dimitre Novatchev thank you for your answer but I&#39;m looking for java approach, +1 for your effort"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":3,"creation_date":1295795038,"post_id":4747858,"comment_id":5285224,"body_markdown":"Just let Java run the XSLT and collect its results?","body":"Just let Java run the XSLT and collect its results?"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":1,"creation_date":1295795281,"post_id":4747858,"comment_id":5285256,"body_markdown":"@BalusC I could do that but this is not exactly what I&#39;ve asked, and since I don&#39;t know this code I&#39;m more comfortable with code I can update/edit, I updated my question. tnx","body":"@BalusC I could do that but this is not exactly what I&#39;ve asked, and since I don&#39;t know this code I&#39;m more comfortable with code I can update/edit, I updated my question. tnx"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":1,"creation_date":1295802183,"post_id":4747858,"comment_id":5286142,"body_markdown":"@Dimitre Novatchev Great it works exactly as I want. I&#39;m really impressed by the small size of code and what it does. Looks like you know you way arround xsl/xml I&#39;ll have to explore xsl definitely. Can you recommend some useful web/book resources for me to go trough? I&#39;ve already bookmarked your blog, seen tons of code there which I don&#39;t really get I need to start with basics work my way to the top. Great tnx once again, I can accept bounty in 21h, I will when that time expires. Thanks for the help","body":"@Dimitre Novatchev Great it works exactly as I want. I&#39;m really impressed by the small size of code and what it does. Looks like you know you way arround xsl/xml I&#39;ll have to explore xsl definitely. Can you recommend some useful web/book resources for me to go trough? I&#39;ve already bookmarked your blog, seen tons of code there which I don&#39;t really get I need to start with basics work my way to the top. Great tnx once again, I can accept bounty in 21h, I will when that time expires. Thanks for the help"},{"owner":{"account_id":16586,"reputation":241521,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"score":2,"creation_date":1295802379,"post_id":4747858,"comment_id":5286161,"body_markdown":"@c0mrade: You are welcome. Yes, XSLT is a very powerful language. For more resources, please, have a look at my answer to another SO question: http://stackoverflow.com/questions/339930/any-good-xslt-tutorial-book-blog-site-online/341589#341589","body":"@c0mrade: You are welcome. Yes, XSLT is a very powerful language. For more resources, please, have a look at my answer to another SO question: <a href=\"http://stackoverflow.com/questions/339930/any-good-xslt-tutorial-book-blog-site-online/341589#341589\" title=\"any good xslt tutorial book blog site online\">stackoverflow.com/questions/339930/&hellip;</a>"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1295861125,"post_id":4747858,"comment_id":5293584,"body_markdown":"@Dimitre Novatchev, please see BOUNTY UPDATE II, I updated my question. After analyzing bigger xml file I noticed this one, again I think I didn&#39;t give the correct example in my question. Is this a big change in your code? Can you please change it to work with latest update? I will accept the bounty either way in 5 hours when I&#39;m able to.","body":"@Dimitre Novatchev, please see BOUNTY UPDATE II, I updated my question. After analyzing bigger xml file I noticed this one, again I think I didn&#39;t give the correct example in my question. Is this a big change in your code? Can you please change it to work with latest update? I will accept the bounty either way in 5 hours when I&#39;m able to."},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":1,"creation_date":1295882482,"post_id":4747858,"comment_id":5297613,"body_markdown":"@Dimitre Novatchev absolutely amazing, thanks a million. It works exactly as I planned. I will definitely have to go trough links you suggested. thanks","body":"@Dimitre Novatchev absolutely amazing, thanks a million. It works exactly as I planned. I will definitely have to go trough links you suggested. thanks"}],"tags":[],"owner":{"account_id":16586,"reputation":241521,"user_id":36305,"accept_rate":100,"display_name":"Dimitre Novatchev"},"comment_count":7,"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1655574048,"creation_date":1295531119,"answer_id":4747858,"question_id":4746299,"body_markdown":"**Update**:\r\n\r\n@c0mrade has updated his question. Here is a solution to it:\r\n\r\n**This XSLT transformation**:\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot;  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    \t&lt;xsl:output method=&quot;text&quot;/&gt;\r\n    \t&lt;xsl:strip-space elements=&quot;*&quot;/&gt;\r\n    \t\r\n    \t&lt;xsl:variable name=&quot;vApos&quot;&gt;&#39;&lt;/xsl:variable&gt;\r\n    \t\r\n    \t&lt;xsl:template match=&quot;*[@* or not(*)] &quot;&gt;\r\n    \t  &lt;xsl:if test=&quot;not(*)&quot;&gt;\r\n    \t\t &lt;xsl:apply-templates select=&quot;ancestor-or-self::*&quot; mode=&quot;path&quot;/&gt;\r\n    \t\t &lt;xsl:value-of select=&quot;concat(&#39;=&#39;,$vApos,.,$vApos)&quot;/&gt;\r\n    \t\t &lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;\r\n    \t\t&lt;/xsl:if&gt;\r\n    \t\t&lt;xsl:apply-templates select=&quot;@*|*&quot;/&gt;\r\n    \t&lt;/xsl:template&gt;\r\n    \t\r\n    \t&lt;xsl:template match=&quot;*&quot; mode=&quot;path&quot;&gt;\r\n    \t\t&lt;xsl:value-of select=&quot;concat(&#39;/&#39;,name())&quot;/&gt;\r\n    \t\t&lt;xsl:variable name=&quot;vnumPrecSiblings&quot; select=\r\n    \t\t &quot;count(preceding-sibling::*[name()=name(current())])&quot;/&gt;\r\n    \t\t&lt;xsl:if test=&quot;$vnumPrecSiblings&quot;&gt;\r\n    \t\t\t&lt;xsl:value-of select=&quot;concat(&#39;[&#39;, $vnumPrecSiblings +1, &#39;]&#39;)&quot;/&gt;\r\n    \t\t&lt;/xsl:if&gt;\r\n    \t&lt;/xsl:template&gt;\r\n    \t\r\n    \t&lt;xsl:template match=&quot;@*&quot;&gt;\r\n    \t\t&lt;xsl:apply-templates select=&quot;../ancestor-or-self::*&quot; mode=&quot;path&quot;/&gt;\r\n    \t\t&lt;xsl:value-of select=&quot;concat(&#39;[@&#39;,name(), &#39;=&#39;,$vApos,.,$vApos,&#39;]&#39;)&quot;/&gt;\r\n    \t\t&lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;\r\n    \t&lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n**when applied on the provided XML document**:\r\n\r\n    &lt;root&gt;\r\n    \t&lt;elemA&gt;one&lt;/elemA&gt;\r\n    \t&lt;elemA attribute1=&#39;first&#39; attribute2=&#39;second&#39;&gt;two&lt;/elemA&gt;\r\n    \t&lt;elemB&gt;three&lt;/elemB&gt;\r\n    \t&lt;elemA&gt;four&lt;/elemA&gt;\r\n    \t&lt;elemC&gt;\r\n    \t\t&lt;elemB&gt;five&lt;/elemB&gt;\r\n    \t&lt;/elemC&gt;\r\n    &lt;/root&gt;\r\n\r\n**produces exactly the wanted, correct result**:\r\n\r\n    /root/elemA=&#39;one&#39;\r\n    /root/elemA[2]=&#39;two&#39;\r\n    /root/elemA[2][@attribute1=&#39;first&#39;]\r\n    /root/elemA[2][@attribute2=&#39;second&#39;]\r\n    /root/elemB=&#39;three&#39;\r\n    /root/elemA[3]=&#39;four&#39;\r\n    /root/elemC/elemB=&#39;five&#39;\r\n\r\n**When applied to the newly-provided document by @c0mrade**:\r\n\r\n    &lt;root&gt;\r\n    \t&lt;elemX serial=&quot;kefw90234kf2esda9231&quot;&gt;\r\n    \t\t&lt;id&gt;89734&lt;/id&gt;\r\n    \t&lt;/elemX&gt;\r\n    &lt;/root&gt;\r\n\r\n**again the correct result is produced**:\r\n\r\n    /root/elemX[@serial=&#39;kefw90234kf2esda9231&#39;]\r\n    /root/elemX/id=&#39;89734&#39;\r\n\r\n**Explanation**:\r\n\r\n - **Only elements that have no children elements, or have attributes are matched** and processed.\r\n\r\n - **For any such element, if it doesn&#39;t have children-elements all of its ancestor-or self elements are processed** in a specific mode, named `&#39;path&#39;`. Then the `&quot;=&#39;theValue&#39;&quot;` part is output and then a NL character.\r\n\r\n - **All attributes of the matched element are then processed**.\r\n\r\n - **Then finally, templates are applied to all children-elements**.\r\n\r\n - **Processing an element in the `&#39;path&#39;` mode is simple**: A `/` character and the name of the element are output. Then, if there are preceding siblings with the same name, a &quot;[numPrecSiblings+1]` part is output.\r\n\r\n - **Processing of attributes is simple**: First all `ancestor-or-self::` elements of its parent are processed in `&#39;path&#39;` mode, then the [attrName=attrValue] part is output, followed by a NL character.\r\n\r\n**Do note**:\r\n\r\n - Names that are in a namespace are displayed without any problem and in their initial readable form.\r\n\r\n - To aid readability, an index of `[1]` is never displayed.\r\n\r\n\r\n----------\r\n\r\n\r\nBelow is my initial answer (may be ignored)\r\n\r\n**Here is a pure XSLT 1.0 solution**:\r\n\r\nBelow is a sample xml document and a stylesheet that takes a node-set parameter and produces one valid XPath expression for every member-node.\r\n\r\n**stylesheet (buildPath.xsl):**\r\n- -------------------------\r\n\r\n    &lt;xsl:stylesheet version=&#39;1.0&#39;\r\n    xmlns:xsl=&#39;http://www.w3.org/1999/XSL/Transform&#39;\r\n    xmlns:msxsl=&quot;urn:schemas-microsoft-com:xslt&quot; \r\n    &gt;\r\n    \r\n    &lt;xsl:output method=&quot;text&quot;/&gt;\r\n    &lt;xsl:variable name=&quot;theParmNodes&quot; select=&quot;//namespace::*[local-name() =\r\n    &#39;myNamespace&#39;]&quot;/&gt;\r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n      &lt;xsl:variable name=&quot;theResult&quot;&gt;\r\n        &lt;xsl:for-each select=&quot;$theParmNodes&quot;&gt;\r\n        &lt;xsl:variable name=&quot;theNode&quot; select=&quot;.&quot;/&gt;\r\n        &lt;xsl:for-each select=&quot;$theNode |\r\n    $theNode/ancestor-or-self::node()[..]&quot;&gt;\r\n          &lt;xsl:element name=&quot;slash&quot;&gt;/&lt;/xsl:element&gt;\r\n          &lt;xsl:choose&gt;\r\n            &lt;xsl:when test=&quot;self::*&quot;&gt;\t\t\t\r\n              &lt;xsl:element name=&quot;nodeName&quot;&gt;\r\n                &lt;xsl:value-of select=&quot;name()&quot;/&gt;\r\n                &lt;xsl:variable name=&quot;thisPosition&quot; \r\n                    select=&quot;count(preceding-sibling::*[name(current()) = \r\n                            name()])&quot;/&gt;\r\n                &lt;xsl:variable name=&quot;numFollowing&quot; \r\n                    select=&quot;count(following-sibling::*[name(current()) = \r\n                            name()])&quot;/&gt;\r\n                &lt;xsl:if test=&quot;$thisPosition + $numFollowing &gt; 0&quot;&gt;\r\n                  &lt;xsl:value-of select=&quot;concat(&#39;[&#39;, $thisPosition +\r\n                                                               1, &#39;]&#39;)&quot;/&gt;\r\n                &lt;/xsl:if&gt;\r\n              &lt;/xsl:element&gt;\r\n            &lt;/xsl:when&gt;\r\n            &lt;xsl:otherwise&gt; &lt;!-- This node is not an element --&gt;\r\n              &lt;xsl:choose&gt;\r\n                &lt;xsl:when test=&quot;count(. | ../@*) = count(../@*)&quot;&gt;\t\r\n                &lt;!-- Attribute --&gt;\r\n                  &lt;xsl:element name=&quot;nodeName&quot;&gt;\r\n                    &lt;xsl:value-of select=&quot;concat(&#39;@&#39;,name())&quot;/&gt;\r\n                  &lt;/xsl:element&gt;\r\n                &lt;/xsl:when&gt;\t\t\r\n                &lt;xsl:when test=&quot;self::text()&quot;&gt;\t&lt;!-- Text --&gt;\r\n                  &lt;xsl:element name=&quot;nodeName&quot;&gt;\r\n                    &lt;xsl:value-of select=&quot;&#39;text()&#39;&quot;/&gt;\r\n                    &lt;xsl:variable name=&quot;thisPosition&quot; \r\n                              select=&quot;count(preceding-sibling::text())&quot;/&gt;\r\n                    &lt;xsl:variable name=&quot;numFollowing&quot; \r\n                              select=&quot;count(following-sibling::text())&quot;/&gt;\r\n                    &lt;xsl:if test=&quot;$thisPosition + $numFollowing &gt; 0&quot;&gt;\r\n                      &lt;xsl:value-of select=&quot;concat(&#39;[&#39;, $thisPosition + \r\n                                                               1, &#39;]&#39;)&quot;/&gt;\r\n                    &lt;/xsl:if&gt;\r\n                  &lt;/xsl:element&gt;\r\n                &lt;/xsl:when&gt;\t\t\r\n                &lt;xsl:when test=&quot;self::processing-instruction()&quot;&gt;\r\n                &lt;!-- Processing Instruction --&gt;\r\n                  &lt;xsl:element name=&quot;nodeName&quot;&gt;\r\n                    &lt;xsl:value-of select=&quot;&#39;processing-instruction()&#39;&quot;/&gt;\r\n                    &lt;xsl:variable name=&quot;thisPosition&quot; \r\n                       select=&quot;count(preceding-sibling::processing-instruction())&quot;/&gt;\r\n                    &lt;xsl:variable name=&quot;numFollowing&quot; \r\n                        select=&quot;count(following-sibling::processing-instruction())&quot;/&gt;\r\n                    &lt;xsl:if test=&quot;$thisPosition + $numFollowing &gt; 0&quot;&gt;\r\n                      &lt;xsl:value-of select=&quot;concat(&#39;[&#39;, $thisPosition + \r\n                                                                1, &#39;]&#39;)&quot;/&gt;\r\n                    &lt;/xsl:if&gt;\r\n                  &lt;/xsl:element&gt;\r\n                &lt;/xsl:when&gt;\t\t\r\n                &lt;xsl:when test=&quot;self::comment()&quot;&gt;\t&lt;!-- Comment --&gt;\r\n                  &lt;xsl:element name=&quot;nodeName&quot;&gt;\r\n                    &lt;xsl:value-of select=&quot;&#39;comment()&#39;&quot;/&gt;\r\n                    &lt;xsl:variable name=&quot;thisPosition&quot; \r\n                             select=&quot;count(preceding-sibling::comment())&quot;/&gt;\r\n                    &lt;xsl:variable name=&quot;numFollowing&quot; \r\n                             select=&quot;count(following-sibling::comment())&quot;/&gt;\r\n                    &lt;xsl:if test=&quot;$thisPosition + $numFollowing &gt; 0&quot;&gt;\r\n                      &lt;xsl:value-of select=&quot;concat(&#39;[&#39;, $thisPosition + \r\n                                                                1, &#39;]&#39;)&quot;/&gt;\r\n                    &lt;/xsl:if&gt;\r\n                  &lt;/xsl:element&gt;\r\n                &lt;/xsl:when&gt;\t\t\r\n                &lt;!-- Namespace: --&gt;\r\n                &lt;xsl:when test=&quot;count(. | ../namespace::*) = \r\n                                                   count(../namespace::*)&quot;&gt;\r\n    \r\n                  &lt;xsl:variable name=&quot;apos&quot;&gt;&#39;&lt;/xsl:variable&gt;\r\n                  &lt;xsl:element name=&quot;nodeName&quot;&gt;\r\n                    &lt;xsl:value-of select=&quot;concat(&#39;namespace::*&#39;, \r\n                    &#39;[local-name() = &#39;, $apos, local-name(), $apos, &#39;]&#39;)&quot;/&gt;\r\n    \r\n                  &lt;/xsl:element&gt;\r\n                &lt;/xsl:when&gt;\t\t\r\n              &lt;/xsl:choose&gt;\r\n            &lt;/xsl:otherwise&gt;\t\t\t\r\n          &lt;/xsl:choose&gt;\r\n        &lt;/xsl:for-each&gt;\r\n        &lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;\r\n      &lt;/xsl:for-each&gt;\r\n     &lt;/xsl:variable&gt;\r\n     &lt;xsl:value-of select=&quot;msxsl:node-set($theResult)&quot;/&gt;\r\n    &lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\n \r\n**xml source (buildPath.xml):**\r\n- -------------------------\r\n\r\n    &lt;!-- top level Comment --&gt;\r\n    &lt;root&gt;\r\n        &lt;nodeA&gt;textA&lt;/nodeA&gt;\r\n     &lt;nodeA id=&quot;nodeA-2&quot;&gt;\r\n      &lt;?myProc ?&gt;\r\n            xxxxxxxx\r\n      &lt;nodeB/&gt;\r\n            &lt;nodeB xmlns:myNamespace=&quot;myTestNamespace&quot;&gt;\r\n      &lt;!-- Comment within /root/nodeA[2]/nodeB[2] --&gt;\r\n       &lt;nodeC/&gt;\r\n      &lt;!-- 2nd Comment within /root/nodeA[2]/nodeB[2] --&gt;\r\n            &lt;/nodeB&gt;\r\n            yyyyyyy\r\n      &lt;nodeB/&gt;\r\n      &lt;?myProc2 ?&gt;\r\n        &lt;/nodeA&gt;\r\n    &lt;/root&gt;\r\n    &lt;!-- top level Comment --&gt;\r\n\r\n**Result**:\r\n\r\n    /root/nodeA[2]/nodeB[2]/namespace::*[local-name() = &#39;myNamespace&#39;]\r\n    /root/nodeA[2]/nodeB[2]/nodeC/namespace::*[local-name() =\r\n    &#39;myNamespace&#39;]\r\n\r\n\r\n\r\n","title":"Generate/get Xpath from XML in Java","body":"<p><strong>Update</strong>:</p>\n<p>@c0mrade has updated his question. Here is a solution to it:</p>\n<p><strong>This XSLT transformation</strong>:</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot;  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n    &lt;xsl:output method=&quot;text&quot;/&gt;\n    &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\n    \n    &lt;xsl:variable name=&quot;vApos&quot;&gt;'&lt;/xsl:variable&gt;\n    \n    &lt;xsl:template match=&quot;*[@* or not(*)] &quot;&gt;\n      &lt;xsl:if test=&quot;not(*)&quot;&gt;\n         &lt;xsl:apply-templates select=&quot;ancestor-or-self::*&quot; mode=&quot;path&quot;/&gt;\n         &lt;xsl:value-of select=&quot;concat('=',$vApos,.,$vApos)&quot;/&gt;\n         &lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;\n        &lt;/xsl:if&gt;\n        &lt;xsl:apply-templates select=&quot;@*|*&quot;/&gt;\n    &lt;/xsl:template&gt;\n    \n    &lt;xsl:template match=&quot;*&quot; mode=&quot;path&quot;&gt;\n        &lt;xsl:value-of select=&quot;concat('/',name())&quot;/&gt;\n        &lt;xsl:variable name=&quot;vnumPrecSiblings&quot; select=\n         &quot;count(preceding-sibling::*[name()=name(current())])&quot;/&gt;\n        &lt;xsl:if test=&quot;$vnumPrecSiblings&quot;&gt;\n            &lt;xsl:value-of select=&quot;concat('[', $vnumPrecSiblings +1, ']')&quot;/&gt;\n        &lt;/xsl:if&gt;\n    &lt;/xsl:template&gt;\n    \n    &lt;xsl:template match=&quot;@*&quot;&gt;\n        &lt;xsl:apply-templates select=&quot;../ancestor-or-self::*&quot; mode=&quot;path&quot;/&gt;\n        &lt;xsl:value-of select=&quot;concat('[@',name(), '=',$vApos,.,$vApos,']')&quot;/&gt;\n        &lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p><strong>when applied on the provided XML document</strong>:</p>\n<pre><code>&lt;root&gt;\n    &lt;elemA&gt;one&lt;/elemA&gt;\n    &lt;elemA attribute1='first' attribute2='second'&gt;two&lt;/elemA&gt;\n    &lt;elemB&gt;three&lt;/elemB&gt;\n    &lt;elemA&gt;four&lt;/elemA&gt;\n    &lt;elemC&gt;\n        &lt;elemB&gt;five&lt;/elemB&gt;\n    &lt;/elemC&gt;\n&lt;/root&gt;\n</code></pre>\n<p><strong>produces exactly the wanted, correct result</strong>:</p>\n<pre><code>/root/elemA='one'\n/root/elemA[2]='two'\n/root/elemA[2][@attribute1='first']\n/root/elemA[2][@attribute2='second']\n/root/elemB='three'\n/root/elemA[3]='four'\n/root/elemC/elemB='five'\n</code></pre>\n<p><strong>When applied to the newly-provided document by @c0mrade</strong>:</p>\n<pre><code>&lt;root&gt;\n    &lt;elemX serial=&quot;kefw90234kf2esda9231&quot;&gt;\n        &lt;id&gt;89734&lt;/id&gt;\n    &lt;/elemX&gt;\n&lt;/root&gt;\n</code></pre>\n<p><strong>again the correct result is produced</strong>:</p>\n<pre><code>/root/elemX[@serial='kefw90234kf2esda9231']\n/root/elemX/id='89734'\n</code></pre>\n<p><strong>Explanation</strong>:</p>\n<ul>\n<li><p><strong>Only elements that have no children elements, or have attributes are matched</strong> and processed.</p>\n</li>\n<li><p><strong>For any such element, if it doesn't have children-elements all of its ancestor-or self elements are processed</strong> in a specific mode, named <code>'path'</code>. Then the <code>&quot;='theValue'&quot;</code> part is output and then a NL character.</p>\n</li>\n<li><p><strong>All attributes of the matched element are then processed</strong>.</p>\n</li>\n<li><p><strong>Then finally, templates are applied to all children-elements</strong>.</p>\n</li>\n<li><p><strong>Processing an element in the <code>'path'</code> mode is simple</strong>: A <code>/</code> character and the name of the element are output. Then, if there are preceding siblings with the same name, a &quot;[numPrecSiblings+1]` part is output.</p>\n</li>\n<li><p><strong>Processing of attributes is simple</strong>: First all <code>ancestor-or-self::</code> elements of its parent are processed in <code>'path'</code> mode, then the [attrName=attrValue] part is output, followed by a NL character.</p>\n</li>\n</ul>\n<p><strong>Do note</strong>:</p>\n<ul>\n<li><p>Names that are in a namespace are displayed without any problem and in their initial readable form.</p>\n</li>\n<li><p>To aid readability, an index of <code>[1]</code> is never displayed.</p>\n</li>\n</ul>\n<hr />\n<p>Below is my initial answer (may be ignored)</p>\n<p><strong>Here is a pure XSLT 1.0 solution</strong>:</p>\n<p>Below is a sample xml document and a stylesheet that takes a node-set parameter and produces one valid XPath expression for every member-node.</p>\n<p><strong>stylesheet (buildPath.xsl):</strong></p>\n<hr />\n<pre><code>&lt;xsl:stylesheet version='1.0'\nxmlns:xsl='http://www.w3.org/1999/XSL/Transform'\nxmlns:msxsl=&quot;urn:schemas-microsoft-com:xslt&quot; \n&gt;\n\n&lt;xsl:output method=&quot;text&quot;/&gt;\n&lt;xsl:variable name=&quot;theParmNodes&quot; select=&quot;//namespace::*[local-name() =\n'myNamespace']&quot;/&gt;\n&lt;xsl:template match=&quot;/&quot;&gt;\n  &lt;xsl:variable name=&quot;theResult&quot;&gt;\n    &lt;xsl:for-each select=&quot;$theParmNodes&quot;&gt;\n    &lt;xsl:variable name=&quot;theNode&quot; select=&quot;.&quot;/&gt;\n    &lt;xsl:for-each select=&quot;$theNode |\n$theNode/ancestor-or-self::node()[..]&quot;&gt;\n      &lt;xsl:element name=&quot;slash&quot;&gt;/&lt;/xsl:element&gt;\n      &lt;xsl:choose&gt;\n        &lt;xsl:when test=&quot;self::*&quot;&gt;           \n          &lt;xsl:element name=&quot;nodeName&quot;&gt;\n            &lt;xsl:value-of select=&quot;name()&quot;/&gt;\n            &lt;xsl:variable name=&quot;thisPosition&quot; \n                select=&quot;count(preceding-sibling::*[name(current()) = \n                        name()])&quot;/&gt;\n            &lt;xsl:variable name=&quot;numFollowing&quot; \n                select=&quot;count(following-sibling::*[name(current()) = \n                        name()])&quot;/&gt;\n            &lt;xsl:if test=&quot;$thisPosition + $numFollowing &gt; 0&quot;&gt;\n              &lt;xsl:value-of select=&quot;concat('[', $thisPosition +\n                                                           1, ']')&quot;/&gt;\n            &lt;/xsl:if&gt;\n          &lt;/xsl:element&gt;\n        &lt;/xsl:when&gt;\n        &lt;xsl:otherwise&gt; &lt;!-- This node is not an element --&gt;\n          &lt;xsl:choose&gt;\n            &lt;xsl:when test=&quot;count(. | ../@*) = count(../@*)&quot;&gt;   \n            &lt;!-- Attribute --&gt;\n              &lt;xsl:element name=&quot;nodeName&quot;&gt;\n                &lt;xsl:value-of select=&quot;concat('@',name())&quot;/&gt;\n              &lt;/xsl:element&gt;\n            &lt;/xsl:when&gt;     \n            &lt;xsl:when test=&quot;self::text()&quot;&gt;  &lt;!-- Text --&gt;\n              &lt;xsl:element name=&quot;nodeName&quot;&gt;\n                &lt;xsl:value-of select=&quot;'text()'&quot;/&gt;\n                &lt;xsl:variable name=&quot;thisPosition&quot; \n                          select=&quot;count(preceding-sibling::text())&quot;/&gt;\n                &lt;xsl:variable name=&quot;numFollowing&quot; \n                          select=&quot;count(following-sibling::text())&quot;/&gt;\n                &lt;xsl:if test=&quot;$thisPosition + $numFollowing &gt; 0&quot;&gt;\n                  &lt;xsl:value-of select=&quot;concat('[', $thisPosition + \n                                                           1, ']')&quot;/&gt;\n                &lt;/xsl:if&gt;\n              &lt;/xsl:element&gt;\n            &lt;/xsl:when&gt;     \n            &lt;xsl:when test=&quot;self::processing-instruction()&quot;&gt;\n            &lt;!-- Processing Instruction --&gt;\n              &lt;xsl:element name=&quot;nodeName&quot;&gt;\n                &lt;xsl:value-of select=&quot;'processing-instruction()'&quot;/&gt;\n                &lt;xsl:variable name=&quot;thisPosition&quot; \n                   select=&quot;count(preceding-sibling::processing-instruction())&quot;/&gt;\n                &lt;xsl:variable name=&quot;numFollowing&quot; \n                    select=&quot;count(following-sibling::processing-instruction())&quot;/&gt;\n                &lt;xsl:if test=&quot;$thisPosition + $numFollowing &gt; 0&quot;&gt;\n                  &lt;xsl:value-of select=&quot;concat('[', $thisPosition + \n                                                            1, ']')&quot;/&gt;\n                &lt;/xsl:if&gt;\n              &lt;/xsl:element&gt;\n            &lt;/xsl:when&gt;     \n            &lt;xsl:when test=&quot;self::comment()&quot;&gt;   &lt;!-- Comment --&gt;\n              &lt;xsl:element name=&quot;nodeName&quot;&gt;\n                &lt;xsl:value-of select=&quot;'comment()'&quot;/&gt;\n                &lt;xsl:variable name=&quot;thisPosition&quot; \n                         select=&quot;count(preceding-sibling::comment())&quot;/&gt;\n                &lt;xsl:variable name=&quot;numFollowing&quot; \n                         select=&quot;count(following-sibling::comment())&quot;/&gt;\n                &lt;xsl:if test=&quot;$thisPosition + $numFollowing &gt; 0&quot;&gt;\n                  &lt;xsl:value-of select=&quot;concat('[', $thisPosition + \n                                                            1, ']')&quot;/&gt;\n                &lt;/xsl:if&gt;\n              &lt;/xsl:element&gt;\n            &lt;/xsl:when&gt;     \n            &lt;!-- Namespace: --&gt;\n            &lt;xsl:when test=&quot;count(. | ../namespace::*) = \n                                               count(../namespace::*)&quot;&gt;\n\n              &lt;xsl:variable name=&quot;apos&quot;&gt;'&lt;/xsl:variable&gt;\n              &lt;xsl:element name=&quot;nodeName&quot;&gt;\n                &lt;xsl:value-of select=&quot;concat('namespace::*', \n                '[local-name() = ', $apos, local-name(), $apos, ']')&quot;/&gt;\n\n              &lt;/xsl:element&gt;\n            &lt;/xsl:when&gt;     \n          &lt;/xsl:choose&gt;\n        &lt;/xsl:otherwise&gt;            \n      &lt;/xsl:choose&gt;\n    &lt;/xsl:for-each&gt;\n    &lt;xsl:text&gt;&amp;#xA;&lt;/xsl:text&gt;\n  &lt;/xsl:for-each&gt;\n &lt;/xsl:variable&gt;\n &lt;xsl:value-of select=&quot;msxsl:node-set($theResult)&quot;/&gt;\n&lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p><strong>xml source (buildPath.xml):</strong></p>\n<hr />\n<pre><code>&lt;!-- top level Comment --&gt;\n&lt;root&gt;\n    &lt;nodeA&gt;textA&lt;/nodeA&gt;\n &lt;nodeA id=&quot;nodeA-2&quot;&gt;\n  &lt;?myProc ?&gt;\n        xxxxxxxx\n  &lt;nodeB/&gt;\n        &lt;nodeB xmlns:myNamespace=&quot;myTestNamespace&quot;&gt;\n  &lt;!-- Comment within /root/nodeA[2]/nodeB[2] --&gt;\n   &lt;nodeC/&gt;\n  &lt;!-- 2nd Comment within /root/nodeA[2]/nodeB[2] --&gt;\n        &lt;/nodeB&gt;\n        yyyyyyy\n  &lt;nodeB/&gt;\n  &lt;?myProc2 ?&gt;\n    &lt;/nodeA&gt;\n&lt;/root&gt;\n&lt;!-- top level Comment --&gt;\n</code></pre>\n<p><strong>Result</strong>:</p>\n<pre><code>/root/nodeA[2]/nodeB[2]/namespace::*[local-name() = 'myNamespace']\n/root/nodeA[2]/nodeB[2]/nodeC/namespace::*[local-name() =\n'myNamespace']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295797832,"creation_date":1295797832,"answer_id":4774690,"question_id":4746299,"body_markdown":"I did the exact same thing last week for processing my xml to solr compliant format. \r\n\r\nSince you wanted  a pseudo code: This is how I accomplished that.\r\n\r\n\r\n// You can skip the reference to parent and child.\r\n\r\n1_ Initialize a custom node object: NodeObjectVO {String nodeName, String path, List&lt;String&gt; attr, NodeObjectVO parent, List&lt;NodeObjectVO&gt; child}\r\n\r\n\r\n2_ Create an empty list&lt;NodeObjectVO&gt;\r\n\r\n3_ Create a dom representation of xml and iterate thro the node. For each node, get the corresponding information. All the information like Node name,attribute names and value should be readily available from dom object. ( You need to check the dom NodeType, code should ignore processing instruction and plain text nodes.)\r\n\r\n\r\n// Code Bloat warning.\r\n4_ The only tricky part is get path. I created an iterative utility method to get the xpath string from NodeElement. (While(node.Parent != null ) { path+=node.parent.nodeName}.\r\n\r\n(You can also achieve this by maintaining a global path variable, that keeps track of the parent path for each iteration.)\r\n\r\n5_ In the setter method of setAttributes (List&lt;attr&gt;), I will append the object&#39;s path with all the available attributes. (one path with all available attributes. Not a list of path with each possible combination of attributes. You might want to do someother way. )\r\n\r\n6_ Add the NodeObjectVO to the list.\r\n\r\n7_ Now we have a flat (not hierrarchial) list of custom Node Objects, that have all the information I need.\r\n\r\n\r\n(Note: Like I mentioned, I maintain parent child relationship, you should probably skip that part. There is a possibility of code bloating, especially while getparentpath. For small xml this was not a problem, but this is a concern for large xml).\r\n\r\n\r\n","title":"Generate/get Xpath from XML in Java","body":"<p>I did the exact same thing last week for processing my xml to solr compliant format. </p>\n\n<p>Since you wanted  a pseudo code: This is how I accomplished that.</p>\n\n<p>// You can skip the reference to parent and child.</p>\n\n<p>1_ Initialize a custom node object: NodeObjectVO {String nodeName, String path, List attr, NodeObjectVO parent, List child}</p>\n\n<p>2_ Create an empty list</p>\n\n<p>3_ Create a dom representation of xml and iterate thro the node. For each node, get the corresponding information. All the information like Node name,attribute names and value should be readily available from dom object. ( You need to check the dom NodeType, code should ignore processing instruction and plain text nodes.)</p>\n\n<p>// Code Bloat warning.\n4_ The only tricky part is get path. I created an iterative utility method to get the xpath string from NodeElement. (While(node.Parent != null ) { path+=node.parent.nodeName}.</p>\n\n<p>(You can also achieve this by maintaining a global path variable, that keeps track of the parent path for each iteration.)</p>\n\n<p>5_ In the setter method of setAttributes (List), I will append the object's path with all the available attributes. (one path with all available attributes. Not a list of path with each possible combination of attributes. You might want to do someother way. )</p>\n\n<p>6_ Add the NodeObjectVO to the list.</p>\n\n<p>7_ Now we have a flat (not hierrarchial) list of custom Node Objects, that have all the information I need.</p>\n\n<p>(Note: Like I mentioned, I maintain parent child relationship, you should probably skip that part. There is a possibility of code bloating, especially while getparentpath. For small xml this was not a problem, but this is a concern for large xml).</p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1295803239,"creation_date":1295803239,"answer_id":4775167,"question_id":4746299,"body_markdown":"\tprivate static void buildEntryList( List&lt;String&gt; entries, String parentXPath, Element parent ) {\r\n\t\tNamedNodeMap attrs = parent.getAttributes();\r\n\t\tfor( int i = 0; i &lt; attrs.getLength(); i++ ) {\r\n\t\t\tAttr attr = (Attr)attrs.item( i );\r\n\t\t\t//TODO: escape attr value\r\n\t\t\tentries.add( parentXPath+&quot;[@&quot;+attr.getName()+&quot;=&#39;&quot;+attr.getValue()+&quot;&#39;]&quot;); \r\n\t\t}\r\n\t\tHashMap&lt;String, Integer&gt; nameMap = new HashMap&lt;String, Integer&gt;();\r\n\t\tNodeList children = parent.getChildNodes();\r\n\t\tfor( int i = 0; i &lt; children.getLength(); i++ ) {\r\n\t\t\tNode child = children.item( i );\r\n\t\t\tif( child instanceof Text ) {\r\n\t\t\t\t//TODO: escape child value\r\n\t\t\t\tentries.add( parentXPath+&quot;=&#39;&quot;+((Text)child).getData()+&quot;&#39;&quot; );\r\n\t\t\t} else if( child instanceof Element ) {\r\n\t\t\t\tString childName = child.getNodeName();\r\n\t\t\t\tInteger nameCount = nameMap.get( childName );\r\n\t\t\t\tnameCount = nameCount == null ? 1 : nameCount + 1;\r\n\t\t\t\tnameMap.put( child.getNodeName(), nameCount );\r\n\t\t\t\tbuildEntryList( entries, parentXPath+&quot;/&quot;+childName+&quot;[&quot;+nameCount+&quot;]&quot;, (Element)child);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static List&lt;String&gt; getEntryList( Document doc ) {\r\n\t\tArrayList&lt;String&gt; entries = new ArrayList&lt;String&gt;();\r\n\t\tElement root = doc.getDocumentElement();\r\n\t\tbuildEntryList(entries, &quot;/&quot;+root.getNodeName()+&quot;[1]&quot;, root );\r\n\t\treturn entries;\r\n\t}\r\n\r\nThis code works with two assumptions: you aren&#39;t using namespaces and there are no mixed content elements. The namespace limitation isn&#39;t a serious one, but it&#39;d make your XPath expression much harder to read, as every element would be something like `*:&lt;name&gt;[namespace-uri()=&#39;&lt;nsuri&gt;&#39;][&lt;index&gt;]`, but otherwise it&#39;s easy to implement. Mixed content on the other hand would make the use of xpath very tedious, as you&#39;d have to be able to individually address the second, third and so on text node within an element.","title":"Generate/get Xpath from XML in Java","body":"<pre><code>private static void buildEntryList( List&lt;String&gt; entries, String parentXPath, Element parent ) {\n    NamedNodeMap attrs = parent.getAttributes();\n    for( int i = 0; i &lt; attrs.getLength(); i++ ) {\n        Attr attr = (Attr)attrs.item( i );\n        //TODO: escape attr value\n        entries.add( parentXPath+\"[@\"+attr.getName()+\"='\"+attr.getValue()+\"']\"); \n    }\n    HashMap&lt;String, Integer&gt; nameMap = new HashMap&lt;String, Integer&gt;();\n    NodeList children = parent.getChildNodes();\n    for( int i = 0; i &lt; children.getLength(); i++ ) {\n        Node child = children.item( i );\n        if( child instanceof Text ) {\n            //TODO: escape child value\n            entries.add( parentXPath+\"='\"+((Text)child).getData()+\"'\" );\n        } else if( child instanceof Element ) {\n            String childName = child.getNodeName();\n            Integer nameCount = nameMap.get( childName );\n            nameCount = nameCount == null ? 1 : nameCount + 1;\n            nameMap.put( child.getNodeName(), nameCount );\n            buildEntryList( entries, parentXPath+\"/\"+childName+\"[\"+nameCount+\"]\", (Element)child);\n        }\n    }\n}\n\npublic static List&lt;String&gt; getEntryList( Document doc ) {\n    ArrayList&lt;String&gt; entries = new ArrayList&lt;String&gt;();\n    Element root = doc.getDocumentElement();\n    buildEntryList(entries, \"/\"+root.getNodeName()+\"[1]\", root );\n    return entries;\n}\n</code></pre>\n\n<p>This code works with two assumptions: you aren't using namespaces and there are no mixed content elements. The namespace limitation isn't a serious one, but it'd make your XPath expression much harder to read, as every element would be something like <code>*:&lt;name&gt;[namespace-uri()='&lt;nsuri&gt;'][&lt;index&gt;]</code>, but otherwise it's easy to implement. Mixed content on the other hand would make the use of xpath very tedious, as you'd have to be able to individually address the second, third and so on text node within an element.</p>\n"},{"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":3,"creation_date":1295879976,"post_id":4783172,"comment_id":5297094,"body_markdown":"Nice one :) All we need now is a StAX implementation and we&#39;ll have the full set.","body":"Nice one :) All we need now is a StAX implementation and we&#39;ll have the full set."},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1295882768,"post_id":4783172,"comment_id":5297677,"body_markdown":"+1 for your effort, I second biziclop s comment, someone could find it to be useful in the future","body":"+1 for your effort, I second biziclop s comment, someone could find it to be useful in the future"},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":1,"creation_date":1329320860,"post_id":4783172,"comment_id":11724399,"body_markdown":"Wait a minute... `elementNameCount` counts occurrences of a particular element type (name) globally across the document, regardless of whether they are siblings, cousins (same level but different parent), or on different levels. But you output XPath `&quot;[&quot; + count + &quot;]&quot;` as if we&#39;re counting position among siblings. This will clearly fail for nontrivial documents. Right? E.g. `&lt;a&gt;&lt;a&gt;foo&lt;/a&gt;&lt;/a&gt;` would output `//a[1]/a[2]=&#39;foo&#39;`, and the `[2]` is incorrect.","body":"Wait a minute... <code>elementNameCount</code> counts occurrences of a particular element type (name) globally across the document, regardless of whether they are siblings, cousins (same level but different parent), or on different levels. But you output XPath <code>&quot;[&quot; + count + &quot;]&quot;</code> as if we&#39;re counting position among siblings. This will clearly fail for nontrivial documents. Right? E.g. <code>&lt;a&gt;&lt;a&gt;foo&lt;&#47;a&gt;&lt;&#47;a&gt;</code> would output <code>&#47;&#47;a[1]&#47;a[2]=&#39;foo&#39;</code>, and the <code>[2]</code> is incorrect."},{"owner":{"account_id":1159141,"reputation":12863,"user_id":1139023,"accept_rate":72,"display_name":"Ashwin"},"score":0,"creation_date":1337759842,"post_id":4783172,"comment_id":13915912,"body_markdown":"@BlaiseDoughan Can you please hava look at this question - http://stackoverflow.com/questions/10698287/xpath-transformation-not-working-in-java . I am using xml signatures in java and for that I have to extract the part to be signed by using xpath. But it just doesn&#39;t work.","body":"@BlaiseDoughan Can you please hava look at this question - <a href=\"http://stackoverflow.com/questions/10698287/xpath-transformation-not-working-in-java\" title=\"xpath transformation not working in java\">stackoverflow.com/questions/10698287/&hellip;</a> . I am using xml signatures in java and for that I have to extract the part to be signed by using xpath. But it just doesn&#39;t work."},{"owner":{"account_id":112607,"reputation":5917,"user_id":296959,"accept_rate":99,"display_name":"NagyI"},"score":1,"creation_date":1478165901,"post_id":4783172,"comment_id":68046252,"body_markdown":"@LarsH no it&#39;s not, because there&#39;s a new FragmentContentHandler created at each startElement transition with it&#39;s own elementNameCount registry. This should work correctly, but have to try it myself.","body":"@LarsH no it&#39;s not, because there&#39;s a new FragmentContentHandler created at each startElement transition with it&#39;s own elementNameCount registry. This should work correctly, but have to try it myself."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1478193039,"post_id":4783172,"comment_id":68065065,"body_markdown":"@Nagyl: You may be right. I haven&#39;t looked at this in 3.5 years. :-) Let us know if you test it.","body":"@Nagyl: You may be right. I haven&#39;t looked at this in 3.5 years. :-) Let us know if you test it."}],"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":6,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1295881487,"creation_date":1295879512,"answer_id":4783172,"question_id":4746299,"body_markdown":"Here is how this can be done with SAX:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.xml.sax.Attributes;\r\n    import org.xml.sax.SAXException;\r\n    import org.xml.sax.XMLReader;\r\n    import org.xml.sax.helpers.DefaultHandler;\r\n    \r\n    public class FragmentContentHandler extends DefaultHandler {\r\n    \r\n        private String xPath = &quot;/&quot;;\r\n        private XMLReader xmlReader;\r\n        private FragmentContentHandler parent;\r\n        private StringBuilder characters = new StringBuilder();\r\n        private Map&lt;String, Integer&gt; elementNameCount = new HashMap&lt;String, Integer&gt;();\r\n    \r\n        public FragmentContentHandler(XMLReader xmlReader) {\r\n            this.xmlReader = xmlReader;\r\n        }\r\n    \r\n        private FragmentContentHandler(String xPath, XMLReader xmlReader, FragmentContentHandler parent) {\r\n            this(xmlReader);\r\n            this.xPath = xPath;\r\n            this.parent = parent;\r\n        }\r\n    \r\n        @Override\r\n        public void startElement(String uri, String localName, String qName, Attributes atts) throws SAXException {\r\n            Integer count = elementNameCount.get(qName);\r\n            if(null == count) {\r\n                count = 1;\r\n            } else {\r\n                count++;\r\n            }\r\n            elementNameCount.put(qName, count);\r\n            String childXPath = xPath + &quot;/&quot; + qName + &quot;[&quot; + count + &quot;]&quot;;\r\n    \r\n            int attsLength = atts.getLength();\r\n            for(int x=0; x&lt;attsLength; x++) {\r\n                System.out.println(childXPath + &quot;[@&quot; + atts.getQName(x) + &quot;=&#39;&quot; + atts.getValue(x) + &#39;]&#39;);\r\n            }\r\n    \r\n            FragmentContentHandler child = new FragmentContentHandler(childXPath, xmlReader, this);\r\n            xmlReader.setContentHandler(child);\r\n        }\r\n    \r\n        @Override\r\n        public void endElement(String uri, String localName, String qName) throws SAXException {\r\n            String value = characters.toString().trim();\r\n            if(value.length() &gt; 0) {\r\n                System.out.println(xPath + &quot;=&#39;&quot; + characters.toString() + &quot;&#39;&quot;);\r\n            }\r\n            xmlReader.setContentHandler(parent);\r\n        }\r\n    \r\n        @Override\r\n        public void characters(char[] ch, int start, int length) throws SAXException {\r\n            characters.append(ch, start, length);\r\n        }\r\n    \r\n    }\r\n\r\nIt can be tested with:\r\n\r\n    import java.io.FileInputStream;\r\n    \r\n    import javax.xml.parsers.SAXParser;\r\n    import javax.xml.parsers.SAXParserFactory;\r\n    \r\n    import org.xml.sax.InputSource;\r\n    import org.xml.sax.XMLReader;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SAXParserFactory spf = SAXParserFactory.newInstance();\r\n            SAXParser sp = spf.newSAXParser();\r\n            XMLReader xr = sp.getXMLReader();\r\n    \r\n            xr.setContentHandler(new FragmentContentHandler(xr));\r\n            xr.parse(new InputSource(new FileInputStream(&quot;input.xml&quot;)));\r\n        }\r\n    }\r\n\r\n\r\nThis will produce the desired output:\r\n\r\n    //root[1]/elemA[1]=&#39;one&#39;\r\n    //root[1]/elemA[2][@attribute1=&#39;first]\r\n    //root[1]/elemA[2][@attribute2=&#39;second]\r\n    //root[1]/elemA[2]=&#39;two&#39;\r\n    //root[1]/elemB[1]=&#39;three&#39;\r\n    //root[1]/elemA[3]=&#39;four&#39;\r\n    //root[1]/elemC[1]/elemB[1]=&#39;five&#39;\r\n\r\n","title":"Generate/get Xpath from XML in Java","body":"<p>Here is how this can be done with SAX:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport org.xml.sax.Attributes;\nimport org.xml.sax.SAXException;\nimport org.xml.sax.XMLReader;\nimport org.xml.sax.helpers.DefaultHandler;\n\npublic class FragmentContentHandler extends DefaultHandler {\n\n    private String xPath = \"/\";\n    private XMLReader xmlReader;\n    private FragmentContentHandler parent;\n    private StringBuilder characters = new StringBuilder();\n    private Map&lt;String, Integer&gt; elementNameCount = new HashMap&lt;String, Integer&gt;();\n\n    public FragmentContentHandler(XMLReader xmlReader) {\n        this.xmlReader = xmlReader;\n    }\n\n    private FragmentContentHandler(String xPath, XMLReader xmlReader, FragmentContentHandler parent) {\n        this(xmlReader);\n        this.xPath = xPath;\n        this.parent = parent;\n    }\n\n    @Override\n    public void startElement(String uri, String localName, String qName, Attributes atts) throws SAXException {\n        Integer count = elementNameCount.get(qName);\n        if(null == count) {\n            count = 1;\n        } else {\n            count++;\n        }\n        elementNameCount.put(qName, count);\n        String childXPath = xPath + \"/\" + qName + \"[\" + count + \"]\";\n\n        int attsLength = atts.getLength();\n        for(int x=0; x&lt;attsLength; x++) {\n            System.out.println(childXPath + \"[@\" + atts.getQName(x) + \"='\" + atts.getValue(x) + ']');\n        }\n\n        FragmentContentHandler child = new FragmentContentHandler(childXPath, xmlReader, this);\n        xmlReader.setContentHandler(child);\n    }\n\n    @Override\n    public void endElement(String uri, String localName, String qName) throws SAXException {\n        String value = characters.toString().trim();\n        if(value.length() &gt; 0) {\n            System.out.println(xPath + \"='\" + characters.toString() + \"'\");\n        }\n        xmlReader.setContentHandler(parent);\n    }\n\n    @Override\n    public void characters(char[] ch, int start, int length) throws SAXException {\n        characters.append(ch, start, length);\n    }\n\n}\n</code></pre>\n\n<p>It can be tested with:</p>\n\n<pre><code>import java.io.FileInputStream;\n\nimport javax.xml.parsers.SAXParser;\nimport javax.xml.parsers.SAXParserFactory;\n\nimport org.xml.sax.InputSource;\nimport org.xml.sax.XMLReader;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        SAXParserFactory spf = SAXParserFactory.newInstance();\n        SAXParser sp = spf.newSAXParser();\n        XMLReader xr = sp.getXMLReader();\n\n        xr.setContentHandler(new FragmentContentHandler(xr));\n        xr.parse(new InputSource(new FileInputStream(\"input.xml\")));\n    }\n}\n</code></pre>\n\n<p>This will produce the desired output:</p>\n\n<pre><code>//root[1]/elemA[1]='one'\n//root[1]/elemA[2][@attribute1='first]\n//root[1]/elemA[2][@attribute2='second]\n//root[1]/elemA[2]='two'\n//root[1]/elemB[1]='three'\n//root[1]/elemA[3]='four'\n//root[1]/elemC[1]/elemB[1]='five'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1159141,"reputation":12863,"user_id":1139023,"accept_rate":72,"display_name":"Ashwin"},"score":0,"creation_date":1337759919,"post_id":8943144,"comment_id":13915953,"body_markdown":"Can you please hava look at this question - http://stackoverflow.com/questions/10698287/xpath-transformation-not-working-in-java . I am using xml signatures in java and for that I have to extract the part to be signed by using xpath. But it just doesn&#39;t work","body":"Can you please hava look at this question - <a href=\"http://stackoverflow.com/questions/10698287/xpath-transformation-not-working-in-java\" title=\"xpath transformation not working in java\">stackoverflow.com/questions/10698287/&hellip;</a> . I am using xml signatures in java and for that I have to extract the part to be signed by using xpath. But it just doesn&#39;t work"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1337771982,"post_id":8943144,"comment_id":13920451,"body_markdown":"@Ashwin: I&#39;m sorry, I don&#39;t have any experience with &quot;XPath transformation&quot;. I don&#39;t recognise that library you&#39;re using there","body":"@Ashwin: I&#39;m sorry, I don&#39;t have any experience with &quot;XPath transformation&quot;. I don&#39;t recognise that library you&#39;re using there"},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1448994576,"post_id":8943144,"comment_id":55810261,"body_markdown":"what&#39;s with the dollar sign `$`? That&#39;s legal Java?!","body":"what&#39;s with the dollar sign <code>$</code>? That&#39;s legal Java?!"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1448995418,"post_id":8943144,"comment_id":55810727,"body_markdown":"@JasonS It&#39;s a legal identifier, yes. It&#39;s static-imported from `JOOX.$`. I&#39;ll update the answer","body":"@JasonS It&#39;s a legal identifier, yes. It&#39;s static-imported from <code>JOOX.$</code>. I&#39;ll update the answer"},{"owner":{"account_id":75580,"reputation":3935,"user_id":216743,"accept_rate":81,"display_name":"Brian T Hannan"},"score":0,"creation_date":1486143120,"post_id":8943144,"comment_id":71234099,"body_markdown":"This works great but not on large XML files. Any recommendations?","body":"This works great but not on large XML files. Any recommendations?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1486144179,"post_id":8943144,"comment_id":71234686,"body_markdown":"@BrianTHannan: You could implement a SAX handler","body":"@BrianTHannan: You could implement a SAX handler"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":6,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1448995499,"creation_date":1327070683,"answer_id":8943144,"question_id":4746299,"body_markdown":"With [jOOX][1] (a [jquery API][2] port to Java, disclaimer - I work for the company behind the library), you can almost achieve what you want in a single statement:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // I&#39;m assuming this:\r\n    import static org.joox.JOOX.$;\r\n\r\n    // And then...\r\n    List&lt;String&gt; coolList = $(document).xpath(&quot;//*[not(*)]&quot;).map(\r\n        context -&gt; $(context).xpath() + &quot;=&#39;&quot; + $(context).text() + &quot;&#39;&quot;\r\n    );\r\n\r\nIf document is your sample document:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;root&gt;\r\n        &lt;elemA&gt;one&lt;/elemA&gt;\r\n        &lt;elemA attribute1=&#39;first&#39; attribute2=&#39;second&#39;&gt;two&lt;/elemA&gt;\r\n        &lt;elemB&gt;three&lt;/elemB&gt;\r\n        &lt;elemA&gt;four&lt;/elemA&gt;\r\n        &lt;elemC&gt;\r\n            &lt;elemB&gt;five&lt;/elemB&gt;\r\n        &lt;/elemC&gt;\r\n    &lt;/root&gt;\r\n\r\nThis will produce\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    /root[1]/elemA[1]=&#39;one&#39;\r\n    /root[1]/elemA[2]=&#39;two&#39;\r\n    /root[1]/elemB[1]=&#39;three&#39;\r\n    /root[1]/elemA[3]=&#39;four&#39;\r\n    /root[1]/elemC[1]/elemB[1]=&#39;five&#39;\r\n\r\nBy &quot;almost&quot;, I mean that jOOX does not (yet) support matching/mapping attributes. Hence, your attributes will not produce any output. This will be implemented in the near future, though.\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOX\r\n  [2]: http://jquery.com/\r\n\r\n","title":"Generate/get Xpath from XML in Java","body":"<p>With <a href=\"https://github.com/jOOQ/jOOX\" rel=\"nofollow noreferrer\">jOOX</a> (a <a href=\"http://jquery.com/\" rel=\"nofollow noreferrer\">jquery API</a> port to Java, disclaimer - I work for the company behind the library), you can almost achieve what you want in a single statement:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// I'm assuming this:\nimport static org.joox.JOOX.$;\n\n// And then...\nList&lt;String&gt; coolList = $(document).xpath(\"//*[not(*)]\").map(\n    context -&gt; $(context).xpath() + \"='\" + $(context).text() + \"'\"\n);\n</code></pre>\n\n<p>If document is your sample document:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n    &lt;elemA&gt;one&lt;/elemA&gt;\n    &lt;elemA attribute1='first' attribute2='second'&gt;two&lt;/elemA&gt;\n    &lt;elemB&gt;three&lt;/elemB&gt;\n    &lt;elemA&gt;four&lt;/elemA&gt;\n    &lt;elemC&gt;\n        &lt;elemB&gt;five&lt;/elemB&gt;\n    &lt;/elemC&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>This will produce</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/root[1]/elemA[1]='one'\n/root[1]/elemA[2]='two'\n/root[1]/elemB[1]='three'\n/root[1]/elemA[3]='four'\n/root[1]/elemC[1]/elemB[1]='five'\n</code></pre>\n\n<p>By \"almost\", I mean that jOOX does not (yet) support matching/mapping attributes. Hence, your attributes will not produce any output. This will be implemented in the near future, though.</p>\n"}],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67080,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":4747858,"answer_count":8,"score":43,"last_activity_date":1677152653,"creation_date":1295521369,"question_id":4746299,"body_markdown":"I&#39;m interested in advice/&lt;strike&gt;pseudocode&lt;/strike&gt; code/explanation &lt;strike&gt;rather than actual implementation&lt;/strike&gt;. \r\n\r\n- I&#39;d like to go through XML document, all of its nodes\r\n- Check the node for attribute existence\r\n\r\nCase if node doesn&#39;t have attribute, `get/generate String with value of its xpath`&lt;br/&gt;\r\nCase if node does have attributes, iterate through attribute list and create xpath for each attribute including the node as well.\r\n\r\nEdit\r\n---\r\n\r\nMy reason for doing this is: I&#39;m writing automated tests in Jmeter, so for every request I need to verify that request actually did its job so I&#39;m asserting results by getting nodes values with Xpath.\r\n\r\nWhen the request is small it&#39;s not a problem to create asserts by hand, but for larger ones it&#39;s really a pain.\r\n\r\nI&#39;m looking for Java approach.\r\n\r\nGoal\r\n---\r\n\r\nMy goal is to achieve following from this example XML file :\r\n\r\n    &lt;root&gt;\r\n    \t&lt;elemA&gt;one&lt;/elemA&gt;\r\n    \t&lt;elemA attribute1=&#39;first&#39; attribute2=&#39;second&#39;&gt;two&lt;/elemA&gt;\r\n    \t&lt;elemB&gt;three&lt;/elemB&gt;\r\n    \t&lt;elemA&gt;four&lt;/elemA&gt;\r\n    \t&lt;elemC&gt;\r\n    \t\t&lt;elemB&gt;five&lt;/elemB&gt;\r\n    \t&lt;/elemC&gt;\r\n    &lt;/root&gt;\r\n\r\nto produce the following :\r\n\r\n    //root[1]/elemA[1]=&#39;one&#39;\r\n    //root[1]/elemA[2]=&#39;two&#39;\r\n    //root[1]/elemA[2][@attribute1=&#39;first&#39;]\r\n    //root[1]/elemA[2][@attribute2=&#39;second&#39;]\r\n    //root[1]/elemB[1]=&#39;three&#39;\r\n    //root[1]/elemA[3]=&#39;four&#39;\r\n    //root[1]/elemC[1]/elemB[1]=&#39;five&#39;\r\n\r\nExplained : \r\n\r\n- If node value/text is not null/zero, get xpath , add = &#39;nodevalue&#39; for assertion purpose\r\n- If node has attributes create assert for them too\r\n\r\nUpdate\r\n---\r\n\r\nI found this example, it doesn&#39;t produce the correct results, but I&#39;m looking something like this:\r\n\r\nhttp://www.coderanch.com/how-to/java/SAXCreateXPath\r\n","title":"Generate/get Xpath from XML in Java","body":"<p>I'm interested in advice/<strike>pseudocode</strike> code/explanation <strike>rather than actual implementation</strike>.</p>\n<ul>\n<li>I'd like to go through XML document, all of its nodes</li>\n<li>Check the node for attribute existence</li>\n</ul>\n<p>Case if node doesn't have attribute, <code>get/generate String with value of its xpath</code><br/>\nCase if node does have attributes, iterate through attribute list and create xpath for each attribute including the node as well.</p>\n<h2>Edit</h2>\n<p>My reason for doing this is: I'm writing automated tests in Jmeter, so for every request I need to verify that request actually did its job so I'm asserting results by getting nodes values with Xpath.</p>\n<p>When the request is small it's not a problem to create asserts by hand, but for larger ones it's really a pain.</p>\n<p>I'm looking for Java approach.</p>\n<h2>Goal</h2>\n<p>My goal is to achieve following from this example XML file :</p>\n<pre><code>&lt;root&gt;\n    &lt;elemA&gt;one&lt;/elemA&gt;\n    &lt;elemA attribute1='first' attribute2='second'&gt;two&lt;/elemA&gt;\n    &lt;elemB&gt;three&lt;/elemB&gt;\n    &lt;elemA&gt;four&lt;/elemA&gt;\n    &lt;elemC&gt;\n        &lt;elemB&gt;five&lt;/elemB&gt;\n    &lt;/elemC&gt;\n&lt;/root&gt;\n</code></pre>\n<p>to produce the following :</p>\n<pre><code>//root[1]/elemA[1]='one'\n//root[1]/elemA[2]='two'\n//root[1]/elemA[2][@attribute1='first']\n//root[1]/elemA[2][@attribute2='second']\n//root[1]/elemB[1]='three'\n//root[1]/elemA[3]='four'\n//root[1]/elemC[1]/elemB[1]='five'\n</code></pre>\n<p>Explained :</p>\n<ul>\n<li>If node value/text is not null/zero, get xpath , add = 'nodevalue' for assertion purpose</li>\n<li>If node has attributes create assert for them too</li>\n</ul>\n<h2>Update</h2>\n<p>I found this example, it doesn't produce the correct results, but I'm looking something like this:</p>\n<p><a href=\"http://www.coderanch.com/how-to/java/SAXCreateXPath\" rel=\"nofollow noreferrer\">http://www.coderanch.com/how-to/java/SAXCreateXPath</a></p>\n"},{"tags":["java","file-upload","mime-types"],"comments":[{"owner":{"account_id":801994,"reputation":4036,"user_id":884319,"accept_rate":88,"display_name":"Tim"},"score":0,"creation_date":1652794323,"post_id":67421565,"comment_id":127688801,"body_markdown":"Did you manage to solve this? I am facing the same problem...","body":"Did you manage to solve this? I am facing the same problem..."}],"answers":[{"tags":[],"owner":{"account_id":7423674,"reputation":1358,"user_id":5647005,"accept_rate":62,"display_name":"Piu130"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677151877,"creation_date":1675754387,"answer_id":75369993,"question_id":67421565,"body_markdown":"If you are using RestEasy, you might be affected by [this bug](https://issues.redhat.com/browse/RESTEASY-1255).\r\n\r\nThere is this workaround described by Felix Knecht:\r\n\r\n&gt; I worked around the issue by using a CustomMultipartFormDataReader\r\n&gt; which uses a CustomMultipartFormDataInputImpl to parse the\r\n&gt; entityStream. CustomMultipartFormDataInputImpl::BinaryMessage then\r\n&gt; sets a CustomMimeStreamParser which in turn which offers a\r\n&gt; setNoRecurse() method.","title":"Java - read message/rfc822 from MultipartFormDataInput","body":"<p>If you are using RestEasy, you might be affected by <a href=\"https://issues.redhat.com/browse/RESTEASY-1255\" rel=\"nofollow noreferrer\">this bug</a>.</p>\n<p>There is this workaround described by Felix Knecht:</p>\n<blockquote>\n<p>I worked around the issue by using a CustomMultipartFormDataReader\nwhich uses a CustomMultipartFormDataInputImpl to parse the\nentityStream. CustomMultipartFormDataInputImpl::BinaryMessage then\nsets a CustomMimeStreamParser which in turn which offers a\nsetNoRecurse() method.</p>\n</blockquote>\n"}],"owner":{"account_id":3916995,"reputation":20992,"user_id":3240583,"accept_rate":69,"display_name":"Mina Fawzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677151877,"creation_date":1620315803,"question_id":67421565,"body_markdown":"I have a form for file upload \r\n\r\n    &lt;form id=&quot;mydropzone&quot; class=&quot;dropzone&quot; style=&quot;min-height: 100px&quot; action=&quot;/files/uploadFile&quot;  method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n    \t\t&lt;input type=&quot;hidden&quot; name=&quot;noteId&quot; th:value=&quot;${model.id}&quot; /&gt;\r\n    &lt;/form&gt;\r\n\r\n`MultipartFormDataInput`. comes from `javax.ws.rs.core.GenericType`\r\n\r\n\r\n        @POST\r\n    \t@Consumes(value = MediaType.MULTIPART_FORM_DATA)\r\n    \t@Path(&quot;/uploadFile&quot;)\r\n    \t@AllowPermission(value = Permission.EDIT_NOTE)\r\n    \tpublic Response uploadFileMultipart(MultipartFormDataInput input)\r\n    \t\t\tthrows RequestException, IOException {\r\n    \t\tSystem.out.println(&quot;theInput &quot; + input);\r\n    \t\tFileModel model = convertToFile(input, &quot;file&quot;);\r\n    \t\tLong noteId = getOptionalParam(input, &quot;noteId&quot;);\r\n    \t\tmodel.setNoteId(noteId);\r\n    \t\tUploadFileMutation.UploadFile uploadFile = fileService.uploadFile(model);\r\n    \t\tif(uploadFile != null){\r\n    \t\t\treturn Response.ok(uploadFile).build();\r\n    \t\t}else {\r\n    \t\t\treturn Response.status(Response.Status.BAD_REQUEST).build();\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\nthe problem come from here  `inputPart.getBody(InputStream.class, null)` it always return null\r\n\r\n    private FileModel convertToFile(MultipartFormDataInput input,\r\n    \t\t\tString paramName) throws IOException {\r\n    \t\tMap&lt;String, List&lt;InputPart&gt;&gt; uploadForm = input.getFormDataMap();\r\n    \t\tList&lt;InputPart&gt; inputParts = uploadForm.get(paramName);\r\n    \r\n    \t\tfor (InputPart inputPart : inputParts) {\r\n    \r\n    \t\t\tMultivaluedMap&lt;String, String&gt; header = inputPart.getHeaders();\r\n    \t\t\tString fileName = getFileName(header);\r\n    \r\n    \t\t\t//convert the uploaded file to inputstream\r\n    \t\t\tInputStream inputStream = inputPart.getBody(InputStream.class, null);\r\n    \r\n    \t\t\tbyte[] bytes = IOUtils.toByteArray(inputStream);\r\n    \t\t\tFileModel model = new FileModel();\r\n    \t\t\tmodel.setName(fileName);\r\n    \t\t\tmodel.setData(bytes);\r\n    \t\t\treturn model;\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n\r\nNote this code works just fine with all types except **content-type : message/rfc822**\r\n\r\nany hint on how I can convert `.eml` files  to byte[]\r\n\r\nI tried this method but I got the same error\r\n\r\n    private byte[] readByteArray(InputPart inputPart) throws Exception {\r\n    \t\tField f = inputPart.getClass().getDeclaredField(&quot;bodyPart&quot;);\r\n    \t\tf.setAccessible(true);\r\n    \t\tBodyPart bodyPart = (BodyPart) f.get(inputPart);\r\n    \t\tSingleBody body = (SingleBody)bodyPart.getBody();\r\n    \r\n    \t\tByteArrayOutputStream os = new ByteArrayOutputStream();\r\n    \t\tbody.writeTo(os);\r\n    \t\tbyte[] fileBytes = os.toByteArray();\r\n    \t\treturn fileBytes;\r\n    \t}","title":"Java - read message/rfc822 from MultipartFormDataInput","body":"<p>I have a form for file upload</p>\n<pre><code>&lt;form id=&quot;mydropzone&quot; class=&quot;dropzone&quot; style=&quot;min-height: 100px&quot; action=&quot;/files/uploadFile&quot;  method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;\n        &lt;input type=&quot;hidden&quot; name=&quot;noteId&quot; th:value=&quot;${model.id}&quot; /&gt;\n&lt;/form&gt;\n</code></pre>\n<p><code>MultipartFormDataInput</code>. comes from <code>javax.ws.rs.core.GenericType</code></p>\n<pre><code>    @POST\n    @Consumes(value = MediaType.MULTIPART_FORM_DATA)\n    @Path(&quot;/uploadFile&quot;)\n    @AllowPermission(value = Permission.EDIT_NOTE)\n    public Response uploadFileMultipart(MultipartFormDataInput input)\n            throws RequestException, IOException {\n        System.out.println(&quot;theInput &quot; + input);\n        FileModel model = convertToFile(input, &quot;file&quot;);\n        Long noteId = getOptionalParam(input, &quot;noteId&quot;);\n        model.setNoteId(noteId);\n        UploadFileMutation.UploadFile uploadFile = fileService.uploadFile(model);\n        if(uploadFile != null){\n            return Response.ok(uploadFile).build();\n        }else {\n            return Response.status(Response.Status.BAD_REQUEST).build();\n        }\n\n    }\n</code></pre>\n<p>the problem come from here  <code>inputPart.getBody(InputStream.class, null)</code> it always return null</p>\n<pre><code>private FileModel convertToFile(MultipartFormDataInput input,\n            String paramName) throws IOException {\n        Map&lt;String, List&lt;InputPart&gt;&gt; uploadForm = input.getFormDataMap();\n        List&lt;InputPart&gt; inputParts = uploadForm.get(paramName);\n\n        for (InputPart inputPart : inputParts) {\n\n            MultivaluedMap&lt;String, String&gt; header = inputPart.getHeaders();\n            String fileName = getFileName(header);\n\n            //convert the uploaded file to inputstream\n            InputStream inputStream = inputPart.getBody(InputStream.class, null);\n\n            byte[] bytes = IOUtils.toByteArray(inputStream);\n            FileModel model = new FileModel();\n            model.setName(fileName);\n            model.setData(bytes);\n            return model;\n        }\n        return null;\n    }\n</code></pre>\n<p>Note this code works just fine with all types except <strong>content-type : message/rfc822</strong></p>\n<p>any hint on how I can convert <code>.eml</code> files  to byte[]</p>\n<p>I tried this method but I got the same error</p>\n<pre><code>private byte[] readByteArray(InputPart inputPart) throws Exception {\n        Field f = inputPart.getClass().getDeclaredField(&quot;bodyPart&quot;);\n        f.setAccessible(true);\n        BodyPart bodyPart = (BodyPart) f.get(inputPart);\n        SingleBody body = (SingleBody)bodyPart.getBody();\n\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n        body.writeTo(os);\n        byte[] fileBytes = os.toByteArray();\n        return fileBytes;\n    }\n</code></pre>\n"},{"tags":["java","rest","imagemagick","jax-rs"],"comments":[{"owner":{"account_id":6027182,"reputation":2632,"user_id":8705446,"display_name":"Aleh Maksimovich"},"score":1,"creation_date":1508006189,"post_id":46747854,"comment_id":80442152,"body_markdown":"Possible duplicate of [HTTP Status 202 - how to provide information about async request completion?](https://stackoverflow.com/questions/14832983/http-status-202-how-to-provide-information-about-async-request-completion)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/14832983/http-status-202-how-to-provide-information-about-async-request-completion\">HTTP Status 202 - how to provide information about async request completion?</a>"}],"answers":[{"tags":[],"owner":{"account_id":10692581,"reputation":196,"user_id":7870920,"display_name":"Karthik Tsaliki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508006653,"creation_date":1508006653,"answer_id":46748125,"question_id":46747854,"body_markdown":"If you are calling from script the call will be async you can handle the Thumbnail URL when you get a response. When you are calling from java program i suggest to run it on a different thread, If the execution is not sequential i.e ( Remaining lines can be executed without getting URL). If url is needed for the remaining section of code you can make one call and wait for the response then execute remaining code.","title":"REST API Single Request - Multiple responses","body":"<p>If you are calling from script the call will be async you can handle the Thumbnail URL when you get a response. When you are calling from java program i suggest to run it on a different thread, If the execution is not sequential i.e ( Remaining lines can be executed without getting URL). If url is needed for the remaining section of code you can make one call and wait for the response then execute remaining code.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508006976,"creation_date":1508006976,"answer_id":46748171,"question_id":46747854,"body_markdown":"No.  In http, one request gets one response.  The client must send a second request to get a second response.","title":"REST API Single Request - Multiple responses","body":"<p>No.  In http, one request gets one response.  The client must send a second request to get a second response.</p>\n"},{"tags":[],"owner":{"account_id":11062892,"reputation":97,"user_id":10635094,"display_name":"Anmol Middha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583742500,"creation_date":1583742500,"answer_id":60596894,"question_id":46747854,"body_markdown":"You need to make different APIs for both scenarios. One for showing file upload status and another for all file conversion and manipulation.\r\n\r\nOn the client side second request must be callback of first request.","title":"REST API Single Request - Multiple responses","body":"<p>You need to make different APIs for both scenarios. One for showing file upload status and another for all file conversion and manipulation.</p>\n\n<p>On the client side second request must be callback of first request.</p>\n"},{"comments":[{"owner":{"account_id":7820671,"reputation":1041,"user_id":6551213,"display_name":"Uberhumus"},"score":10,"creation_date":1591390835,"post_id":62223762,"comment_id":110049069,"body_markdown":"Please make this a proper answer. One sentence with no citation, proof, links, code, expansions or anything really do not make for a very good answer. Please explain why he must use WebSockets.","body":"Please make this a proper answer. One sentence with no citation, proof, links, code, expansions or anything really do not make for a very good answer. Please explain why he must use WebSockets."}],"tags":[],"owner":{"account_id":17429626,"reputation":410,"user_id":12633853,"display_name":"Eduardo A EDUARDO Fernandez Di"},"comment_count":1,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1591389512,"creation_date":1591389512,"answer_id":62223762,"question_id":46747854,"body_markdown":"You can use WebSockets for that.","title":"REST API Single Request - Multiple responses","body":"<p>You can use WebSockets for that.</p>\n"},{"tags":[],"owner":{"account_id":11084311,"reputation":1052,"user_id":8138584,"display_name":"Naveen Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646370041,"creation_date":1646370041,"answer_id":71346799,"question_id":46747854,"body_markdown":"The best way to handle these kind of scenario is to use Java Reactive (Project Reactor, WebFlux). \r\n\r\n","title":"REST API Single Request - Multiple responses","body":"<p>The best way to handle these kind of scenario is to use Java Reactive (Project Reactor, WebFlux).</p>\n"},{"tags":[],"owner":{"account_id":20406106,"reputation":1,"user_id":14970633,"display_name":"Shivam Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676981063,"creation_date":1676981063,"answer_id":75520280,"question_id":46747854,"body_markdown":"You can return two response using custom middlewares in asp.net (however not recommended).\r\n\r\nReturn response from one middleware and subsequently you can invoke next middleware and return second response from second middleware","title":"REST API Single Request - Multiple responses","body":"<p>You can return two response using custom middlewares in asp.net (however not recommended).</p>\n<p>Return response from one middleware and subsequently you can invoke next middleware and return second response from second middleware</p>\n"},{"tags":[],"owner":{"account_id":1294458,"reputation":907,"user_id":1245887,"accept_rate":22,"display_name":"Sandeep540"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677151744,"creation_date":1677151744,"answer_id":75544204,"question_id":46747854,"body_markdown":"As told by @Naveen , it should be stream and response should be \r\n\r\n**Content-Type: text/event-stream**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HPGs8.png\r\n\r\n\r\nand the response should be Async stream of events","title":"REST API Single Request - Multiple responses","body":"<p>As told by @Naveen , it should be stream and response should be</p>\n<p><strong>Content-Type: text/event-stream</strong></p>\n<p><a href=\"https://i.stack.imgur.com/HPGs8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HPGs8.png\" alt=\"enter image description here\" /></a></p>\n<p>and the response should be Async stream of events</p>\n"}],"owner":{"account_id":1294458,"reputation":907,"user_id":1245887,"accept_rate":22,"display_name":"Sandeep540"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20332,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":7,"score":5,"last_activity_date":1677151744,"creation_date":1508004959,"question_id":46747854,"body_markdown":"I am writing a REST API in JAX-RS 2.0, JDK 8 for the below requirement\r\n\r\n**POST API /server/fileUpload/** (Multipart Form data) where I need to send a Big .AI (Adobe Illustrator) File in this.\r\n\r\nThe Server, takes the file and **return Status 202 (Accepted)**, Acknowledging that file transfer happened Successfully. (From endpoint to Server)\r\n\r\nNow at the Server, I am using Java + Imagemagik to convert .AI File (20-25 MB File) to small JPG Thumbnail, place on a Apache HTTP Server and share the location (like http://happyplace/thumbnail0987.jpg)\r\n\r\nNow the Second Response should come from Server with Status 200 OK and Thumbnail URL\r\n\r\nis it feasible with one REST API? (Async/similar)\r\n\r\nor should I split it to 2 API calls, **Please suggest**","title":"REST API Single Request - Multiple responses","body":"<p>I am writing a REST API in JAX-RS 2.0, JDK 8 for the below requirement</p>\n\n<p><strong>POST API /server/fileUpload/</strong> (Multipart Form data) where I need to send a Big .AI (Adobe Illustrator) File in this.</p>\n\n<p>The Server, takes the file and <strong>return Status 202 (Accepted)</strong>, Acknowledging that file transfer happened Successfully. (From endpoint to Server)</p>\n\n<p>Now at the Server, I am using Java + Imagemagik to convert .AI File (20-25 MB File) to small JPG Thumbnail, place on a Apache HTTP Server and share the location (like <a href=\"http://happyplace/thumbnail0987.jpg\" rel=\"noreferrer\">http://happyplace/thumbnail0987.jpg</a>)</p>\n\n<p>Now the Second Response should come from Server with Status 200 OK and Thumbnail URL</p>\n\n<p>is it feasible with one REST API? (Async/similar)</p>\n\n<p>or should I split it to 2 API calls, <strong>Please suggest</strong></p>\n"},{"tags":["java","android","task","rules","rule-engine"],"answers":[{"comments":[{"owner":{"account_id":19385572,"reputation":45,"user_id":14175334,"display_name":"DanLand"},"score":0,"creation_date":1678787261,"post_id":75544137,"comment_id":133596896,"body_markdown":"Thank you very much. This is very helpful for scheduled tasks and periodic requests.","body":"Thank you very much. This is very helpful for scheduled tasks and periodic requests."},{"owner":{"account_id":19385572,"reputation":45,"user_id":14175334,"display_name":"DanLand"},"score":0,"creation_date":1678790241,"post_id":75544137,"comment_id":133597749,"body_markdown":"Do you also have an idea on how to implement the execution of self-defined tasks regarding on the self-defined conditions? Maybe with some rule engines?","body":"Do you also have an idea on how to implement the execution of self-defined tasks regarding on the self-defined conditions? Maybe with some rule engines?"}],"tags":[],"owner":{"account_id":10336055,"reputation":128,"user_id":7624125,"display_name":"Ankit Suda"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677151288,"creation_date":1677151288,"answer_id":75544137,"question_id":75543590,"body_markdown":"Use work manager, it is recommended way for scheduling and doing long running tasks.\r\n\r\nhttps://developer.android.com/topic/libraries/architecture/workmanager?gclsrc=ds&amp;gclsrc=ds","title":"How to implement periodic data receiving and executing self-defined tasks?","body":"<p>Use work manager, it is recommended way for scheduling and doing long running tasks.</p>\n<p><a href=\"https://developer.android.com/topic/libraries/architecture/workmanager?gclsrc=ds&amp;gclsrc=ds\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/workmanager?gclsrc=ds&amp;gclsrc=ds</a></p>\n"}],"owner":{"account_id":19385572,"reputation":45,"user_id":14175334,"display_name":"DanLand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75544137,"answer_count":1,"score":0,"last_activity_date":1677151288,"creation_date":1677148444,"question_id":75543590,"body_markdown":"I&#39;m developing an android app which is connected to a BLE device (to receive temperature values) and the OpenWeatherMap API for receiving weather data. \r\n\r\nNow i want to request every 30 minutes the OpenWeatherMap API to receive the current values. Which is the best solution for this scenario? \r\n\r\nAlso i want to check the incoming weather (API) and temperature (BLE) and execute some self-defined task when certain conditions are given. Is a rule engine the way to go for this behavior? \r\n\r\nSo what are the possibilities that i have to implement the wanted behavior?\r\n\r\n1. Execute the receive task of the OpenWeatherMap API every 30 minutes\r\n2. Check and compare the received data (API &amp; BLE)\r\n3. Execute some tasks on defined conditions regarding the received data\r\n\r\nThank you very much in advance","title":"How to implement periodic data receiving and executing self-defined tasks?","body":"<p>I'm developing an android app which is connected to a BLE device (to receive temperature values) and the OpenWeatherMap API for receiving weather data.</p>\n<p>Now i want to request every 30 minutes the OpenWeatherMap API to receive the current values. Which is the best solution for this scenario?</p>\n<p>Also i want to check the incoming weather (API) and temperature (BLE) and execute some self-defined task when certain conditions are given. Is a rule engine the way to go for this behavior?</p>\n<p>So what are the possibilities that i have to implement the wanted behavior?</p>\n<ol>\n<li>Execute the receive task of the OpenWeatherMap API every 30 minutes</li>\n<li>Check and compare the received data (API &amp; BLE)</li>\n<li>Execute some tasks on defined conditions regarding the received data</li>\n</ol>\n<p>Thank you very much in advance</p>\n"},{"tags":["java","oop","dependencies"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1676600899,"post_id":75479718,"comment_id":133174635,"body_markdown":"no, it is not accurate, println does not depend on equals, it prints boolean value returned by it, but there is no dependency","body":"no, it is not accurate, println does not depend on equals, it prints boolean value returned by it, but there is no dependency"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1676612415,"post_id":75479718,"comment_id":133176108,"body_markdown":"Those really aren&#39;t useful terms to explain what&#39;s going on.","body":"Those really aren&#39;t useful terms to explain what&#39;s going on."},{"owner":{"account_id":27662499,"reputation":1,"user_id":21115020,"display_name":"Mowgli"},"score":0,"creation_date":1676681073,"post_id":75479718,"comment_id":133193005,"body_markdown":"@IłyaBursov What you are saying does make sense and was my initial thought. Now I am realizing that println() does not actually require anything to be included within the parentheses and therefore it is now obvious to me it has no dependencies.","body":"@IłyaBursov What you are saying does make sense and was my initial thought. Now I am realizing that println() does not actually require anything to be included within the parentheses and therefore it is now obvious to me it has no dependencies."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1676681599,"post_id":75479718,"comment_id":133193062,"body_markdown":"@Mowgli `println()` and `println(boolean)` are technically two different methods","body":"@Mowgli <code>println()</code> and <code>println(boolean)</code> are technically two different methods"},{"owner":{"account_id":27662499,"reputation":1,"user_id":21115020,"display_name":"Mowgli"},"score":0,"creation_date":1676777857,"post_id":75479718,"comment_id":133204846,"body_markdown":"@IłyaBursov due to method overloading correct?","body":"@IłyaBursov due to method overloading correct?"}],"answers":[{"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1676830874,"post_id":75497840,"comment_id":133212029,"body_markdown":"lack of input arguments does not guarantee lack of dependencies, static method could use some global variable and thus dependent on it","body":"lack of input arguments does not guarantee lack of dependencies, static method could use some global variable and thus dependent on it"}],"tags":[],"owner":{"account_id":27662499,"reputation":1,"user_id":21115020,"display_name":"Mowgli"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1676930821,"creation_date":1676778032,"answer_id":75497840,"question_id":75479718,"body_markdown":"println does not depend on equals, it prints boolean value returned by it, but there is no dependency","title":"Is it safe to say the statement system.out.println(string1.equals(string2)) demonstrates a method and object dependency?","body":"<p>println does not depend on equals, it prints boolean value returned by it, but there is no dependency</p>\n"}],"owner":{"account_id":27662499,"reputation":1,"user_id":21115020,"display_name":"Mowgli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":75497840,"answer_count":1,"score":-4,"last_activity_date":1677151275,"creation_date":1676600675,"question_id":75479718,"body_markdown":"In the following statements:\r\n\r\n```lang-java\r\nString string1 = new String(&quot;This is a string&quot;);\r\nString string2 = new String(&quot;this is another string&quot;);\r\n\r\nsystem.out.println(string1.equals(string2));\r\n```\r\n\r\nis it safe to say that the `println` method is dependent on the `equals()` method, which is dependent on the String object &quot;string2&quot;?\r\n\r\nMy question is not regarding the output of the code but rather whether or not the explanation of dependencies is accurate.","title":"Is it safe to say the statement system.out.println(string1.equals(string2)) demonstrates a method and object dependency?","body":"<p>In the following statements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string1 = new String(&quot;This is a string&quot;);\nString string2 = new String(&quot;this is another string&quot;);\n\nsystem.out.println(string1.equals(string2));\n</code></pre>\n<p>is it safe to say that the <code>println</code> method is dependent on the <code>equals()</code> method, which is dependent on the String object &quot;string2&quot;?</p>\n<p>My question is not regarding the output of the code but rather whether or not the explanation of dependencies is accurate.</p>\n"},{"tags":["java","postgresql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5896787,"reputation":5103,"user_id":4641680,"accept_rate":55,"display_name":"Reza Saadati"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677151040,"creation_date":1677151040,"answer_id":75544091,"question_id":75543720,"body_markdown":"Simply replace\r\n\r\n```xml\r\n&lt;scope&gt;runtime&lt;/scope&gt;\r\n```\r\nwith\r\n```xml\r\n&lt;version&gt;42.5.4&lt;/version&gt;\r\n```\r\nThat should make it work.","title":"Cannot use PSQLException.class in @ExceptionHandler","body":"<p>Simply replace</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;scope&gt;runtime&lt;/scope&gt;\n</code></pre>\n<p>with</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;version&gt;42.5.4&lt;/version&gt;\n</code></pre>\n<p>That should make it work.</p>\n"}],"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75544091,"answer_count":1,"score":1,"last_activity_date":1677151040,"creation_date":1677149034,"question_id":75543720,"body_markdown":"I am getting this error:\r\n\r\n    org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;ix_auth_username&quot;\r\n      Detail: Key (username, authority)=(mike, ROLE_USER) already exists.\r\n\r\nAnd this is how I try to handle this exception:\r\n```java\r\n@RestControllerAdvice\r\npublic class RestExceptionHandler {\r\n    @ExceptionHandler({IllegalArgumentException.class, PSQLException.class})\r\n    private ResponseEntity&lt;Object&gt; handleIllegalArgumentException(HttpServletRequest request, IllegalArgumentException exception) {\r\n        HttpStatus status;\r\n        switch (exception.getClass().getName()) {\r\n            case &quot;IllegalArgumentException&quot;:\r\n                status = HttpStatus.BAD_REQUEST;\r\n                break;\r\n            default:\r\n                status = HttpStatus.INTERNAL_SERVER_ERROR;\r\n                break;\r\n        }\r\n        ErrorResponse errorResponse = new ErrorResponse(status, LocalDateTime.now(), exception.getMessage());\r\n        return ResponseEntity.badRequest().body(errorResponse);\r\n    }\r\n}\r\n```\r\n\r\nBut IntelliJ gives me this error:\r\n\r\n&gt; Cannot resolve symbol &#39;PSQLException&#39;\r\n\r\nWhy? PostgreSQL works fine for me. This is how I use the dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Cannot use PSQLException.class in @ExceptionHandler","body":"<p>I am getting this error:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;ix_auth_username&quot;\n  Detail: Key (username, authority)=(mike, ROLE_USER) already exists.\n</code></pre>\n<p>And this is how I try to handle this exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class RestExceptionHandler {\n    @ExceptionHandler({IllegalArgumentException.class, PSQLException.class})\n    private ResponseEntity&lt;Object&gt; handleIllegalArgumentException(HttpServletRequest request, IllegalArgumentException exception) {\n        HttpStatus status;\n        switch (exception.getClass().getName()) {\n            case &quot;IllegalArgumentException&quot;:\n                status = HttpStatus.BAD_REQUEST;\n                break;\n            default:\n                status = HttpStatus.INTERNAL_SERVER_ERROR;\n                break;\n        }\n        ErrorResponse errorResponse = new ErrorResponse(status, LocalDateTime.now(), exception.getMessage());\n        return ResponseEntity.badRequest().body(errorResponse);\n    }\n}\n</code></pre>\n<p>But IntelliJ gives me this error:</p>\n<blockquote>\n<p>Cannot resolve symbol 'PSQLException'</p>\n</blockquote>\n<p>Why? PostgreSQL works fine for me. This is how I use the dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","admob","ads"],"comments":[{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1676492547,"post_id":75204726,"comment_id":133150070,"body_markdown":"Did you find the solution finally?","body":"Did you find the solution finally?"}],"answers":[{"tags":[],"owner":{"account_id":23590278,"reputation":31,"user_id":17628164,"display_name":"Karina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675284902,"creation_date":1675284902,"answer_id":75316088,"question_id":75204726,"body_markdown":"I have the same issue, and added \r\n\r\n    @SuppressLint(&quot;VisibleForTests&quot;)\r\n    AdRequest adRequest = new AdRequest.Builder().build();\r\n\r\nIt is NOT a good solution, but it made the warning go away and the adds seem to work.","title":"AdRequest &quot;This method should only be accessed from tests or within private scope&quot;","body":"<p>I have the same issue, and added</p>\n<pre><code>@SuppressLint(&quot;VisibleForTests&quot;)\nAdRequest adRequest = new AdRequest.Builder().build();\n</code></pre>\n<p>It is NOT a good solution, but it made the warning go away and the adds seem to work.</p>\n"},{"comments":[{"owner":{"account_id":4547088,"reputation":730,"user_id":3693328,"display_name":"JCutting8"},"score":0,"creation_date":1686731601,"post_id":75544087,"comment_id":134838049,"body_markdown":"Still getting it in 22.1.0","body":"Still getting it in 22.1.0"}],"tags":[],"owner":{"account_id":305198,"reputation":1797,"user_id":615217,"accept_rate":65,"display_name":"McFarlane"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1677151035,"creation_date":1677151035,"answer_id":75544087,"question_id":75204726,"body_markdown":"This warning disappeared after updating to version `21.5.0` of the Google Ads SDK.\r\n\r\n    implementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39;","title":"AdRequest &quot;This method should only be accessed from tests or within private scope&quot;","body":"<p>This warning disappeared after updating to version <code>21.5.0</code> of the Google Ads SDK.</p>\n<pre><code>implementation 'com.google.android.gms:play-services-ads:21.5.0'\n</code></pre>\n"}],"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1677151035,"creation_date":1674431408,"question_id":75204726,"body_markdown":"I have seen that recently a new warning has appeared in mi project in the following line:\r\n\r\n\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n\r\nThe warning is in &quot;new AdRequest.Builder().build();&quot; \r\n\r\nThis is the warning: \r\n\r\n&gt; This method should only be accessed from tests or within private scope\r\n\r\nI don&#39;t understand why this warning is showing, could it be a bug or something like that?","title":"AdRequest &quot;This method should only be accessed from tests or within private scope&quot;","body":"<p>I have seen that recently a new warning has appeared in mi project in the following line:</p>\n<pre><code>    AdRequest adRequest = new AdRequest.Builder().build();\n</code></pre>\n<p>The warning is in &quot;new AdRequest.Builder().build();&quot;</p>\n<p>This is the warning:</p>\n<blockquote>\n<p>This method should only be accessed from tests or within private scope</p>\n</blockquote>\n<p>I don't understand why this warning is showing, could it be a bug or something like that?</p>\n"},{"tags":["java","multithreading","data-structures","concurrency"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1677149390,"post_id":75543728,"comment_id":133282420,"body_markdown":"First: please use punctuation (at least end your sentences with a `.`). It&#39;s really hard to read your question otherwise. Second: can you describe what you mean by &quot;always returning the previous version&quot;? Is it always returning something other than the latest? Or occasionally because you do put and get mixed? How did you verify that the output is &quot;wrong&quot;? Ideally, post a [mre] that demonstrates the problem clearly. In general it is expected that occasionally you&#39;ll get &quot;old&quot; answers, due to the way network latency and things interact.","body":"First: please use punctuation (at least end your sentences with a <code>.</code>). It&#39;s really hard to read your question otherwise. Second: can you describe what you mean by &quot;always returning the previous version&quot;? Is it always returning something other than the latest? Or occasionally because you do put and get mixed? How did you verify that the output is &quot;wrong&quot;? Ideally, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem clearly. In general it is expected that occasionally you&#39;ll get &quot;old&quot; answers, due to the way network latency and things interact."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1677149418,"post_id":75543728,"comment_id":133282430,"body_markdown":"Why are you not getting the read lock at the start of the public getLatestVersion method?","body":"Why are you not getting the read lock at the start of the public getLatestVersion method?"},{"owner":{"account_id":20128976,"reputation":23,"user_id":14761723,"display_name":"Vamsi Konakanchi"},"score":0,"creation_date":1677149535,"post_id":75543728,"comment_id":133282467,"body_markdown":"@JoachimSauer this is my first post sorry","body":"@JoachimSauer this is my first post sorry"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677149579,"post_id":75543728,"comment_id":133282483,"body_markdown":"@VamsiKonakanchi: that&#39;s fine, no need to apologize. Just be mindful in the future and [edit] your question to add the relevant details you&#39;re asked for.","body":"@VamsiKonakanchi: that&#39;s fine, no need to apologize. Just be mindful in the future and <a href=\"https://stackoverflow.com/posts/75543728/edit\">edit</a> your question to add the relevant details you&#39;re asked for."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1677150753,"post_id":75543728,"comment_id":133282792,"body_markdown":"BTW, your logic in `put` would be a lot simpler if you used `Map.computeIfAbsent`.","body":"BTW, your logic in <code>put</code> would be a lot simpler if you used <code>Map.computeIfAbsent</code>."},{"owner":{"account_id":20128976,"reputation":23,"user_id":14761723,"display_name":"Vamsi Konakanchi"},"score":0,"creation_date":1677150853,"post_id":75543728,"comment_id":133282820,"body_markdown":"I am learning btw please be more eloberate","body":"I am learning btw please be more eloberate"},{"owner":{"account_id":20128976,"reputation":23,"user_id":14761723,"display_name":"Vamsi Konakanchi"},"score":0,"creation_date":1677150899,"post_id":75543728,"comment_id":133282832,"body_markdown":"@5f3bde39-70a2-4df1-afa2-47f61b Yes it is","body":"@5f3bde39-70a2-4df1-afa2-47f61b Yes it is"}],"answers":[{"comments":[{"owner":{"account_id":20128976,"reputation":23,"user_id":14761723,"display_name":"Vamsi Konakanchi"},"score":0,"creation_date":1677150267,"post_id":75543804,"comment_id":133282672,"body_markdown":"can you please be more eloberate","body":"can you please be more eloberate"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1677151130,"post_id":75543804,"comment_id":133282885,"body_markdown":"@VamsiKonakanchi not unless you tell me what you need me to elaborate on.","body":"@VamsiKonakanchi not unless you tell me what you need me to elaborate on."},{"owner":{"account_id":20128976,"reputation":23,"user_id":14761723,"display_name":"Vamsi Konakanchi"},"score":0,"creation_date":1677151662,"post_id":75543804,"comment_id":133283008,"body_markdown":"I followed all these steps and tried all the solutions but when i hitting the get request it will always returning the latest version - 1 , please see the image of the test cases to have a better idea","body":"I followed all these steps and tried all the solutions but when i hitting the get request it will always returning the latest version - 1 , please see the image of the test cases to have a better idea"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677150957,"creation_date":1677149574,"answer_id":75543804,"question_id":75543728,"body_markdown":"You need to surround all accesses to the map with an acquisition/release of the lock.\r\n\r\nYou don&#39;t do that in the `public synchronized int getLatestVersion` method.\r\n\r\nYou need to acquire the read lock at the start of that method, and release it at the end.\r\n\r\nYou have synchronized that method (and several other methods), but that&#39;s a separate thing from the lock. You have to create a happens-before relationship between the writes and reads, and you only get that - from a ReentrantReadWriteLock - by doing writes while holding the write lock, and reads while holding the read lock.\r\n\r\n-----\r\n\r\nBTW, this logic in `put`:\r\n\r\n            Map&lt;String, Map&lt;String, Map&lt;Integer, byte[]&gt;&gt;&gt; rowMap = data.get(table);\r\n            if (rowMap == null) {\r\n                rowMap = new ConcurrentHashMap&lt;&gt;();\r\n                data.put(table, rowMap);\r\n            }\r\n            Map&lt;String, Map&lt;Integer, byte[]&gt;&gt; colMap = rowMap.get(row);\r\n            if (colMap == null) {\r\n                colMap = new ConcurrentHashMap&lt;&gt;();\r\n                rowMap.put(row, colMap);\r\n            }\r\n            Map&lt;Integer, byte[]&gt; versionMap = colMap.get(column);\r\n            if (versionMap == null) {\r\n                versionMap = new ConcurrentHashMap&lt;&gt;();\r\n                colMap.put(column, versionMap);\r\n            }\r\n\r\ncan be written a lot more easily as:\r\n\r\n```\r\nMap&lt;Integer, byte[]&gt; versionMap =\r\n    data.computeIfAbsent(table, k -&gt; new ConcurrentHashMap&lt;&gt;())\r\n        .computeIfAbsent(row, k -&gt; new ConcurrentHashMap&lt;&gt;())\r\n        .computeIfAbsent(column, k -&gt; new ConcurrentHashMap&lt;&gt;());\r\n```\r\n\r\nSimilarly for the logic in `get`.","title":"data access in java multithreading","body":"<p>You need to surround all accesses to the map with an acquisition/release of the lock.</p>\n<p>You don't do that in the <code>public synchronized int getLatestVersion</code> method.</p>\n<p>You need to acquire the read lock at the start of that method, and release it at the end.</p>\n<p>You have synchronized that method (and several other methods), but that's a separate thing from the lock. You have to create a happens-before relationship between the writes and reads, and you only get that - from a ReentrantReadWriteLock - by doing writes while holding the write lock, and reads while holding the read lock.</p>\n<hr />\n<p>BTW, this logic in <code>put</code>:</p>\n<pre><code>        Map&lt;String, Map&lt;String, Map&lt;Integer, byte[]&gt;&gt;&gt; rowMap = data.get(table);\n        if (rowMap == null) {\n            rowMap = new ConcurrentHashMap&lt;&gt;();\n            data.put(table, rowMap);\n        }\n        Map&lt;String, Map&lt;Integer, byte[]&gt;&gt; colMap = rowMap.get(row);\n        if (colMap == null) {\n            colMap = new ConcurrentHashMap&lt;&gt;();\n            rowMap.put(row, colMap);\n        }\n        Map&lt;Integer, byte[]&gt; versionMap = colMap.get(column);\n        if (versionMap == null) {\n            versionMap = new ConcurrentHashMap&lt;&gt;();\n            colMap.put(column, versionMap);\n        }\n</code></pre>\n<p>can be written a lot more easily as:</p>\n<pre><code>Map&lt;Integer, byte[]&gt; versionMap =\n    data.computeIfAbsent(table, k -&gt; new ConcurrentHashMap&lt;&gt;())\n        .computeIfAbsent(row, k -&gt; new ConcurrentHashMap&lt;&gt;())\n        .computeIfAbsent(column, k -&gt; new ConcurrentHashMap&lt;&gt;());\n</code></pre>\n<p>Similarly for the logic in <code>get</code>.</p>\n"}],"owner":{"account_id":20128976,"reputation":23,"user_id":14761723,"display_name":"Vamsi Konakanchi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75543804,"answer_count":1,"score":0,"last_activity_date":1677150957,"creation_date":1677149060,"question_id":75543728,"body_markdown":"I am trying a make my own webserver and in that i have implemented a key value store which is a nested hashmaps and it has versioning support in it. \r\n\r\nEverything works fine but when i hit the server with 25000 requests the get is always returning the previous version of the particular value. \r\n\r\nI am using locks and concurrenthashmap for synchronized access, but i am failing.\r\nHere are the classes for worker and datamanager:\r\n\r\n\r\n```\r\npackage cis5550.kvs;\r\nimport javax.swing.text.html.HTMLDocument;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport java.util.concurrent.locks.Lock;\r\nimport java.util.concurrent.locks.ReentrantReadWriteLock;\r\n\r\npublic class DataManager {\r\n\r\n    private Map&lt;String, Map&lt;String, Map&lt;String, Map&lt;Integer, byte[]&gt;&gt;&gt;&gt; data;\r\n    private ReentrantReadWriteLock lock;\r\n\r\n    public DataManager() {\r\n        data = new ConcurrentHashMap&lt;&gt;();\r\n        lock = new ReentrantReadWriteLock();\r\n    }\r\n\r\n    public synchronized String put(String table, String row, String column, byte[] value) {\r\n        try {\r\n            lock.writeLock().lock();\r\n            Map&lt;String, Map&lt;String, Map&lt;Integer, byte[]&gt;&gt;&gt; rowMap = data.get(table);\r\n            if (rowMap == null) {\r\n                rowMap = new ConcurrentHashMap&lt;&gt;();\r\n                data.put(table, rowMap);\r\n            }\r\n            Map&lt;String, Map&lt;Integer, byte[]&gt;&gt; colMap = rowMap.get(row);\r\n            if (colMap == null) {\r\n                colMap = new ConcurrentHashMap&lt;&gt;();\r\n                rowMap.put(row, colMap);\r\n            }\r\n            Map&lt;Integer, byte[]&gt; versionMap = colMap.get(column);\r\n            if (versionMap == null) {\r\n                versionMap = new ConcurrentHashMap&lt;&gt;();\r\n                colMap.put(column, versionMap);\r\n            }\r\n            int latestVersion = getLatestVersion(versionMap);\r\n            int newVersion = latestVersion + 1;\r\n            versionMap.put(newVersion, value);\r\n            return String.valueOf(newVersion);\r\n        }finally {\r\n            lock.writeLock().unlock();\r\n        }\r\n\r\n    }\r\n\r\n    private synchronized int getLatestVersion(Map&lt;Integer, byte[]&gt; versionMap) {\r\n        return versionMap.keySet().stream().max(Integer::compareTo).orElse(0);\r\n    }\r\n\r\n    public synchronized byte[] get(String table, String row, String column, int version) {\r\n        try {\r\n            lock.readLock().lock();\r\n            Map&lt;String, Map&lt;String, Map&lt;Integer, byte[]&gt;&gt;&gt; rowMap = data.get(table);\r\n            if (rowMap == null) {\r\n                return null;\r\n            }\r\n            Map&lt;String, Map&lt;Integer, byte[]&gt;&gt; colMap = rowMap.get(row);\r\n            if (colMap == null) {\r\n                return null;\r\n            }\r\n            Map&lt;Integer, byte[]&gt; versionMap = colMap.get(column);\r\n            if (versionMap == null) {\r\n                return null;\r\n            }\r\n            return versionMap.get(version);\r\n        }finally {\r\n            lock.readLock().unlock();\r\n        }\r\n    }\r\n\r\n    public synchronized int getLatestVersion(String table, String row, String column) {\r\n        Map&lt;String, Map&lt;String, Map&lt;Integer, byte[]&gt;&gt;&gt; rowMap = data.get(table);\r\n        if (rowMap == null) {\r\n            return 0;\r\n        }\r\n        Map&lt;String, Map&lt;Integer, byte[]&gt;&gt; colMap = rowMap.get(row);\r\n        if (colMap == null) {\r\n            return 0;\r\n        }\r\n        Map&lt;Integer, byte[]&gt; versionMap = colMap.get(column);\r\n        if (versionMap == null || versionMap.isEmpty()) {\r\n            return 0;\r\n        }\r\n        return getLatestVersion(versionMap);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npackage cis5550.kvs;\r\n\r\nimport cis5550.webserver.Server;\r\n\r\n\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.concurrent.*;\r\n\r\npublic class Worker extends cis5550.generic.Worker {\r\n\r\n    private static final int MAX_THREADS = 1000;\r\n\r\n    public static void main(String[] args) {\r\n        if (args.length &lt; 3) {\r\n            System.out.println(&quot;Enter the required &lt;port&gt; &lt;storage directory&gt; &lt;ip:port&gt;&quot;);\r\n            System.exit(1);\r\n        }\r\n        //passing the port as a server\r\n        Server.port(Integer.parseInt(args[0]));\r\n        startPingThread(args[2], args[0], args[1]); // calling start ping thread\r\n\r\n        DataManager dataManager = new DataManager(); // data structure for storing data\r\n        ExecutorService threadPool = Executors.newFixedThreadPool(MAX_THREADS); // thread pool for handling requests\r\n\r\n        Server.put(&quot;/data/:T/:R/:C&quot;, (req, res) -&gt; {\r\n            try {\r\n                String tableName = req.params(&quot;T&quot;);\r\n                String rowName = req.params(&quot;R&quot;);\r\n                String columnName = req.params(&quot;C&quot;);\r\n                if (req.queryParams().contains(&quot;ifcolumn&quot;) &amp;&amp; req.queryParams().contains(&quot;equals&quot;)) {\r\n                    String ifColumnName = req.queryParams(&quot;ifcolumn&quot;);\r\n                    String ifColumnValue = req.queryParams(&quot;equals&quot;);\r\n\r\n                    // Check if the ifcolumn exists and has the value specified in equals\r\n                    int latestVersion = dataManager.getLatestVersion(tableName, rowName, columnName);\r\n                    byte[] byteData = dataManager.get(tableName, rowName, ifColumnName , latestVersion) != null ? dataManager.get(tableName, rowName, ifColumnName , latestVersion) : new byte[0];\r\n                    String data = new String(byteData, StandardCharsets.UTF_8);\r\n                    if (!data.equals(&quot;&quot;) &amp;&amp; data.equals(ifColumnValue)) {\r\n                        // If the ifcolumn exists and has the value specified in equals, execute the PUT operation\r\n                        threadPool.execute(() -&gt; {\r\n                            res.header(&quot;version&quot;, dataManager.put(tableName, rowName, columnName, req.bodyAsBytes()));\r\n                        });\r\n                        return &quot;OK&quot;;\r\n                    } else {\r\n                        // If the ifcolumn does not exist or does not have the value specified in equals, return FAIL\r\n                        return &quot;FAIL&quot;;\r\n                    }\r\n                } else {\r\n                    // If the query parameters are not present, execute the PUT operation\r\n                    threadPool.execute(() -&gt; {\r\n                        res.header(&quot;version&quot;, dataManager.put(tableName, rowName, columnName, req.bodyAsBytes()));\r\n                    });\r\n                    return &quot;OK&quot;;\r\n                }\r\n            } catch (Exception e) {\r\n                res.status(404, &quot;FAIL&quot;);\r\n                return null;\r\n            }\r\n        });\r\n\r\n        Server.get(&quot;/data/:T/:R/:C&quot;, (req, res) -&gt; {\r\n            try {\r\n                String tableName = req.params(&quot;T&quot;);\r\n                String rowName = req.params(&quot;R&quot;);\r\n                String columnName = req.params(&quot;C&quot;);\r\n                if (req.queryParams().contains(&quot;version&quot;)) {\r\n                    int version = Integer.parseInt(req.queryParams(&quot;version&quot;));\r\n                    String data = new String(dataManager.get(tableName, rowName, columnName, version), StandardCharsets.UTF_8);\r\n                    res.header(&quot;version&quot;, req.params(&quot;version&quot;));\r\n                    res.body(data);\r\n                } else {\r\n                    int latestVersion = dataManager.getLatestVersion(tableName, rowName, columnName);\r\n                    String data = new String(dataManager.get(tableName, rowName, columnName, latestVersion), StandardCharsets.UTF_8);\r\n                    res.header(&quot;version&quot;, String.valueOf(latestVersion));\r\n                    res.body(data);\r\n                }\r\n            } catch (Exception e) {\r\n                res.status(404, &quot;FAIL&quot;);\r\n            }\r\n            return null;\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni tried locking and using concurrenthashmap \r\nHere is the test cases for this\r\n[Test cases for this code][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/450hG.png","title":"data access in java multithreading","body":"<p>I am trying a make my own webserver and in that i have implemented a key value store which is a nested hashmaps and it has versioning support in it.</p>\n<p>Everything works fine but when i hit the server with 25000 requests the get is always returning the previous version of the particular value.</p>\n<p>I am using locks and concurrenthashmap for synchronized access, but i am failing.\nHere are the classes for worker and datamanager:</p>\n<pre><code>package cis5550.kvs;\nimport javax.swing.text.html.HTMLDocument;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantReadWriteLock;\n\npublic class DataManager {\n\n    private Map&lt;String, Map&lt;String, Map&lt;String, Map&lt;Integer, byte[]&gt;&gt;&gt;&gt; data;\n    private ReentrantReadWriteLock lock;\n\n    public DataManager() {\n        data = new ConcurrentHashMap&lt;&gt;();\n        lock = new ReentrantReadWriteLock();\n    }\n\n    public synchronized String put(String table, String row, String column, byte[] value) {\n        try {\n            lock.writeLock().lock();\n            Map&lt;String, Map&lt;String, Map&lt;Integer, byte[]&gt;&gt;&gt; rowMap = data.get(table);\n            if (rowMap == null) {\n                rowMap = new ConcurrentHashMap&lt;&gt;();\n                data.put(table, rowMap);\n            }\n            Map&lt;String, Map&lt;Integer, byte[]&gt;&gt; colMap = rowMap.get(row);\n            if (colMap == null) {\n                colMap = new ConcurrentHashMap&lt;&gt;();\n                rowMap.put(row, colMap);\n            }\n            Map&lt;Integer, byte[]&gt; versionMap = colMap.get(column);\n            if (versionMap == null) {\n                versionMap = new ConcurrentHashMap&lt;&gt;();\n                colMap.put(column, versionMap);\n            }\n            int latestVersion = getLatestVersion(versionMap);\n            int newVersion = latestVersion + 1;\n            versionMap.put(newVersion, value);\n            return String.valueOf(newVersion);\n        }finally {\n            lock.writeLock().unlock();\n        }\n\n    }\n\n    private synchronized int getLatestVersion(Map&lt;Integer, byte[]&gt; versionMap) {\n        return versionMap.keySet().stream().max(Integer::compareTo).orElse(0);\n    }\n\n    public synchronized byte[] get(String table, String row, String column, int version) {\n        try {\n            lock.readLock().lock();\n            Map&lt;String, Map&lt;String, Map&lt;Integer, byte[]&gt;&gt;&gt; rowMap = data.get(table);\n            if (rowMap == null) {\n                return null;\n            }\n            Map&lt;String, Map&lt;Integer, byte[]&gt;&gt; colMap = rowMap.get(row);\n            if (colMap == null) {\n                return null;\n            }\n            Map&lt;Integer, byte[]&gt; versionMap = colMap.get(column);\n            if (versionMap == null) {\n                return null;\n            }\n            return versionMap.get(version);\n        }finally {\n            lock.readLock().unlock();\n        }\n    }\n\n    public synchronized int getLatestVersion(String table, String row, String column) {\n        Map&lt;String, Map&lt;String, Map&lt;Integer, byte[]&gt;&gt;&gt; rowMap = data.get(table);\n        if (rowMap == null) {\n            return 0;\n        }\n        Map&lt;String, Map&lt;Integer, byte[]&gt;&gt; colMap = rowMap.get(row);\n        if (colMap == null) {\n            return 0;\n        }\n        Map&lt;Integer, byte[]&gt; versionMap = colMap.get(column);\n        if (versionMap == null || versionMap.isEmpty()) {\n            return 0;\n        }\n        return getLatestVersion(versionMap);\n    }\n}\n</code></pre>\n<pre><code>package cis5550.kvs;\n\nimport cis5550.webserver.Server;\n\n\nimport java.nio.charset.StandardCharsets;\nimport java.util.concurrent.*;\n\npublic class Worker extends cis5550.generic.Worker {\n\n    private static final int MAX_THREADS = 1000;\n\n    public static void main(String[] args) {\n        if (args.length &lt; 3) {\n            System.out.println(&quot;Enter the required &lt;port&gt; &lt;storage directory&gt; &lt;ip:port&gt;&quot;);\n            System.exit(1);\n        }\n        //passing the port as a server\n        Server.port(Integer.parseInt(args[0]));\n        startPingThread(args[2], args[0], args[1]); // calling start ping thread\n\n        DataManager dataManager = new DataManager(); // data structure for storing data\n        ExecutorService threadPool = Executors.newFixedThreadPool(MAX_THREADS); // thread pool for handling requests\n\n        Server.put(&quot;/data/:T/:R/:C&quot;, (req, res) -&gt; {\n            try {\n                String tableName = req.params(&quot;T&quot;);\n                String rowName = req.params(&quot;R&quot;);\n                String columnName = req.params(&quot;C&quot;);\n                if (req.queryParams().contains(&quot;ifcolumn&quot;) &amp;&amp; req.queryParams().contains(&quot;equals&quot;)) {\n                    String ifColumnName = req.queryParams(&quot;ifcolumn&quot;);\n                    String ifColumnValue = req.queryParams(&quot;equals&quot;);\n\n                    // Check if the ifcolumn exists and has the value specified in equals\n                    int latestVersion = dataManager.getLatestVersion(tableName, rowName, columnName);\n                    byte[] byteData = dataManager.get(tableName, rowName, ifColumnName , latestVersion) != null ? dataManager.get(tableName, rowName, ifColumnName , latestVersion) : new byte[0];\n                    String data = new String(byteData, StandardCharsets.UTF_8);\n                    if (!data.equals(&quot;&quot;) &amp;&amp; data.equals(ifColumnValue)) {\n                        // If the ifcolumn exists and has the value specified in equals, execute the PUT operation\n                        threadPool.execute(() -&gt; {\n                            res.header(&quot;version&quot;, dataManager.put(tableName, rowName, columnName, req.bodyAsBytes()));\n                        });\n                        return &quot;OK&quot;;\n                    } else {\n                        // If the ifcolumn does not exist or does not have the value specified in equals, return FAIL\n                        return &quot;FAIL&quot;;\n                    }\n                } else {\n                    // If the query parameters are not present, execute the PUT operation\n                    threadPool.execute(() -&gt; {\n                        res.header(&quot;version&quot;, dataManager.put(tableName, rowName, columnName, req.bodyAsBytes()));\n                    });\n                    return &quot;OK&quot;;\n                }\n            } catch (Exception e) {\n                res.status(404, &quot;FAIL&quot;);\n                return null;\n            }\n        });\n\n        Server.get(&quot;/data/:T/:R/:C&quot;, (req, res) -&gt; {\n            try {\n                String tableName = req.params(&quot;T&quot;);\n                String rowName = req.params(&quot;R&quot;);\n                String columnName = req.params(&quot;C&quot;);\n                if (req.queryParams().contains(&quot;version&quot;)) {\n                    int version = Integer.parseInt(req.queryParams(&quot;version&quot;));\n                    String data = new String(dataManager.get(tableName, rowName, columnName, version), StandardCharsets.UTF_8);\n                    res.header(&quot;version&quot;, req.params(&quot;version&quot;));\n                    res.body(data);\n                } else {\n                    int latestVersion = dataManager.getLatestVersion(tableName, rowName, columnName);\n                    String data = new String(dataManager.get(tableName, rowName, columnName, latestVersion), StandardCharsets.UTF_8);\n                    res.header(&quot;version&quot;, String.valueOf(latestVersion));\n                    res.body(data);\n                }\n            } catch (Exception e) {\n                res.status(404, &quot;FAIL&quot;);\n            }\n            return null;\n        });\n    }\n}\n\n</code></pre>\n<p>i tried locking and using concurrenthashmap\nHere is the test cases for this\n<a href=\"https://i.stack.imgur.com/450hG.png\" rel=\"nofollow noreferrer\">Test cases for this code</a></p>\n"},{"tags":["java","axon"],"answers":[{"comments":[{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":1,"creation_date":1677163804,"post_id":75544054,"comment_id":133286911,"body_markdown":"This is not production. I&#39;m passing your course at Axon Academy, exploring axon and preparing to work with Axon on real project. Added necessary property, now it serializes to json. thank you!","body":"This is not production. I&#39;m passing your course at Axon Academy, exploring axon and preparing to work with Axon on real project. Added necessary property, now it serializes to json. thank you!"},{"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"score":1,"creation_date":1677236067,"post_id":75544054,"comment_id":133302237,"body_markdown":"Good to hear it&#39;s not production, Sam! And I hope the training material is to your likely, of course. If you have any suggestions or recommendations, be sure to reach out!","body":"Good to hear it&#39;s not production, Sam! And I hope the training material is to your likely, of course. If you have any suggestions or recommendations, be sure to reach out!"}],"tags":[],"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677150886,"creation_date":1677150886,"answer_id":75544054,"question_id":75543610,"body_markdown":"The fact your data is in XML, is not a configuration option of Axon Server.\r\nThis is your connected application, which I assume to be an Axon Framework application who&#39;s serializer is the default serializer.\r\n\r\nAxon Framework defaults to the `XStreamSerializer`, which will serialize to XML. As Axon Server is your event store, it&#39;ll show the serialized events as XML as your application dictates it so.\r\n\r\nIf you want to change this to JSON, you must set your application&#39;s `Serializer` to a `JacksonSerializer` instance. I recommend checking out the [Reference Guide][1] for more specifics on the Framework&#39;s serialization approach and how you can configure this.\r\n\r\nNote that the already stored events cannot be changed from XML to JSON, since you cannot update events (according to the definition of an Event Store).\r\nSo, if you&#39;re referring to a non-production environment, feel free to simply drop your event store.\r\n\r\nIf this is production, you will have to deal with the XML events.\r\nIn that case, you can still switch to JSON, mind you, but the old events cannot be updated. Instead, you will need to define a `Serializer` that (1) defaults to JSON and if it fails, reverts to XML.\r\n\r\n\r\n  [1]: https://docs.axoniq.io/reference-guide/axon-framework/serialization","title":"How to change payloadData format on axon server?","body":"<p>The fact your data is in XML, is not a configuration option of Axon Server.\nThis is your connected application, which I assume to be an Axon Framework application who's serializer is the default serializer.</p>\n<p>Axon Framework defaults to the <code>XStreamSerializer</code>, which will serialize to XML. As Axon Server is your event store, it'll show the serialized events as XML as your application dictates it so.</p>\n<p>If you want to change this to JSON, you must set your application's <code>Serializer</code> to a <code>JacksonSerializer</code> instance. I recommend checking out the <a href=\"https://docs.axoniq.io/reference-guide/axon-framework/serialization\" rel=\"nofollow noreferrer\">Reference Guide</a> for more specifics on the Framework's serialization approach and how you can configure this.</p>\n<p>Note that the already stored events cannot be changed from XML to JSON, since you cannot update events (according to the definition of an Event Store).\nSo, if you're referring to a non-production environment, feel free to simply drop your event store.</p>\n<p>If this is production, you will have to deal with the XML events.\nIn that case, you can still switch to JSON, mind you, but the old events cannot be updated. Instead, you will need to define a <code>Serializer</code> that (1) defaults to JSON and if it fails, reverts to XML.</p>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75544054,"answer_count":1,"score":0,"last_activity_date":1677150886,"creation_date":1677148555,"question_id":75543610,"body_markdown":"When Axon server is up, we can open browser and go to `http://localhost:8024/#query` \r\nOn that page we can explore all commands and events. When we open event details we can see event fields in xml format. Can it be configured to display these fields in JSON format? How to do this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1wgpi.png","title":"How to change payloadData format on axon server?","body":"<p>When Axon server is up, we can open browser and go to <code>http://localhost:8024/#query</code>\nOn that page we can explore all commands and events. When we open event details we can see event fields in xml format. Can it be configured to display these fields in JSON format? How to do this?</p>\n<p><a href=\"https://i.stack.imgur.com/1wgpi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1wgpi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","css","javafx","fxml"],"answers":[{"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":5,"creation_date":1677152423,"post_id":75544037,"comment_id":133283237,"body_markdown":"It doesn’t make sense to call `initStyle()` twice. It can only have one style.","body":"It doesn’t make sense to call <code>initStyle()</code> twice. It can only have one style."}],"tags":[],"owner":{"account_id":24861787,"reputation":43,"user_id":18737461,"display_name":"human0id"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677150784,"creation_date":1677150784,"answer_id":75544037,"question_id":75543487,"body_markdown":"Fixed it. Don&#39;t know exactly why, but using only `modalStage.initStyle(StageStyle.TRANSPARENT);`\r\n\r\ninstead of both \r\n\r\n```\r\nmodalStage.initStyle(StageStyle.TRANSPARENT);\r\nmodalStage.initStyle(StageStyle.UNDECORATED);\r\n```\r\n\r\ndid the trick.","title":"Transparent background in JavaFX","body":"<p>Fixed it. Don't know exactly why, but using only <code>modalStage.initStyle(StageStyle.TRANSPARENT);</code></p>\n<p>instead of both</p>\n<pre><code>modalStage.initStyle(StageStyle.TRANSPARENT);\nmodalStage.initStyle(StageStyle.UNDECORATED);\n</code></pre>\n<p>did the trick.</p>\n"}],"owner":{"account_id":24861787,"reputation":43,"user_id":18737461,"display_name":"human0id"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677150784,"creation_date":1677147920,"question_id":75543487,"body_markdown":"So I know this has been discussed in different threads already, but sadly I haven&#39;t found a working solution yet, altough I tried alot, even with chatGPT, which ended in it assuming, there is something wrong with my graphics board, which I dont think so.\r\n\r\nI&#39;m tryin to reach a transparent background of my stage or scene or of the rootpane of that scene. I sadly can not identify the mistake&#39;s source further.\r\nHere is what I&#39;ve got:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;AnchorPane fx:id=&quot;root&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;480.0&quot; styleClass=&quot;foreground-pane&quot; stylesheets=&quot;@../css/button-styles.css, @../css/window-styles.css, @../css/controller-styles.css&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;fx.controller.CreatorDialogue&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;ListView fx:id=&quot;itemList&quot; layoutX=&quot;20.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;620.0&quot; styleClass=&quot;creator-list-view&quot; AnchorPane.leftAnchor=&quot;20.0&quot; AnchorPane.rightAnchor=&quot;20.0&quot; /&gt;\r\n      &lt;Button fx:id=&quot;cancelButton&quot; layoutX=&quot;160.0&quot; layoutY=&quot;676.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;90.0&quot; styleClass=&quot;creation-right-aligned-button&quot; text=&quot;Cancel&quot;&gt;\r\n         ...\r\n      &lt;/Button&gt;\r\n      &lt;Button fx:id=&quot;createButton&quot; layoutX=&quot;257.0&quot; layoutY=&quot;676.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;90.0&quot; styleClass=&quot;creation-right-aligned-button&quot; text=&quot;Create&quot;&gt;\r\n         ...\r\n      &lt;/Button&gt;\r\n      &lt;Group fx:id=&quot;itemMenu&quot; layoutX=&quot;19.0&quot; layoutY=&quot;526.0&quot;&gt;\r\n         ...\r\n      &lt;/Group&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n\r\nThis is the FXML logic of a scene that I&#39;m loading on a modal stage, that is opened upon an underlying stage, which is set to be &quot;unresponsive&quot; for the time, the modal stage is opened.\r\nThats how I did it:\r\n\r\n```\r\nStage primaryStage = (Stage)((Node)(mouseEvent.getSource())).getScene().getWindow();\r\n\r\nHashMapStage modalStage = new HashMapStage();\r\n\r\nmodalStage.initOwner(primaryStage);\r\nmodalStage.initModality(Modality.APPLICATION_MODAL);\r\nmodalStage.setOpacity(0.9);\r\n\r\nFXMLLoader fxmlLoader = new FXMLLoader(Run.class.getResource(&quot;creator-dialogue.fxml&quot;));\r\nScene creatorDialogue = new Scene(fxmlLoader.load(), 480, 720);\r\ncreatorDialogue.setFill(Color.TRANSPARENT);\r\n\r\nmodalStage.setScene(creatorDialogue);\r\nmodalStage.initStyle(StageStyle.TRANSPARENT);\r\nmodalStage.initStyle(StageStyle.UNDECORATED);\r\nmodalStage.setResizable(false);\r\nmodalStage.centerOnScreen();\r\n\r\nmodalStage.showAndWait();\r\n```\r\n\r\nI want this modal stage to have round corners, which I already reached with the common `-fx-background-radius: 20;` and to make sure aswell `-fx-border-radius: 20;`.\r\nI have set the `-fx-background-color: #737A83`, which is a dark grey. I did this in a custom style class `.foreground-pane` that I assigned to the anchor pane with `fx:id=&quot;root&quot;`.\r\n\r\nAs shown above I also made the stage transparent &amp; undecorated and set the fill to `Color.TRANSPARENT`.\r\n\r\nSomehow I still have a white background &quot;filling&quot; the rounded corners:\r\n[![enter image description here][1]][1]\r\n\r\nI also tried to add another larger anchor pane with `-fx-background-color: transparent` as root pane (as shown [here][2]) and place the current root pane on that but it seems like the root-panes-transparency is always white instead of transparent. That also happens when I change the background color of my current root pane to transparent.\r\n\r\nSo I thought, alright, must have something to do with the stage&#39;s or scene&#39;s transparency, but as shown above I also tried to make these transparent as far as I could with my knowledge.\r\n\r\nMaybe someone here finds the (maybe really stupid) mistake I made. Thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/anxoB.png\r\n  [2]: https://stackoverflow.com/a/31687182/18737461","title":"Transparent background in JavaFX","body":"<p>So I know this has been discussed in different threads already, but sadly I haven't found a working solution yet, altough I tried alot, even with chatGPT, which ended in it assuming, there is something wrong with my graphics board, which I dont think so.</p>\n<p>I'm tryin to reach a transparent background of my stage or scene or of the rootpane of that scene. I sadly can not identify the mistake's source further.\nHere is what I've got:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;AnchorPane fx:id=&quot;root&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;480.0&quot; styleClass=&quot;foreground-pane&quot; stylesheets=&quot;@../css/button-styles.css, @../css/window-styles.css, @../css/controller-styles.css&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;fx.controller.CreatorDialogue&quot;&gt;\n   &lt;children&gt;\n      &lt;ListView fx:id=&quot;itemList&quot; layoutX=&quot;20.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;620.0&quot; styleClass=&quot;creator-list-view&quot; AnchorPane.leftAnchor=&quot;20.0&quot; AnchorPane.rightAnchor=&quot;20.0&quot; /&gt;\n      &lt;Button fx:id=&quot;cancelButton&quot; layoutX=&quot;160.0&quot; layoutY=&quot;676.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;90.0&quot; styleClass=&quot;creation-right-aligned-button&quot; text=&quot;Cancel&quot;&gt;\n         ...\n      &lt;/Button&gt;\n      &lt;Button fx:id=&quot;createButton&quot; layoutX=&quot;257.0&quot; layoutY=&quot;676.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;90.0&quot; styleClass=&quot;creation-right-aligned-button&quot; text=&quot;Create&quot;&gt;\n         ...\n      &lt;/Button&gt;\n      &lt;Group fx:id=&quot;itemMenu&quot; layoutX=&quot;19.0&quot; layoutY=&quot;526.0&quot;&gt;\n         ...\n      &lt;/Group&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>This is the FXML logic of a scene that I'm loading on a modal stage, that is opened upon an underlying stage, which is set to be &quot;unresponsive&quot; for the time, the modal stage is opened.\nThats how I did it:</p>\n<pre><code>Stage primaryStage = (Stage)((Node)(mouseEvent.getSource())).getScene().getWindow();\n\nHashMapStage modalStage = new HashMapStage();\n\nmodalStage.initOwner(primaryStage);\nmodalStage.initModality(Modality.APPLICATION_MODAL);\nmodalStage.setOpacity(0.9);\n\nFXMLLoader fxmlLoader = new FXMLLoader(Run.class.getResource(&quot;creator-dialogue.fxml&quot;));\nScene creatorDialogue = new Scene(fxmlLoader.load(), 480, 720);\ncreatorDialogue.setFill(Color.TRANSPARENT);\n\nmodalStage.setScene(creatorDialogue);\nmodalStage.initStyle(StageStyle.TRANSPARENT);\nmodalStage.initStyle(StageStyle.UNDECORATED);\nmodalStage.setResizable(false);\nmodalStage.centerOnScreen();\n\nmodalStage.showAndWait();\n</code></pre>\n<p>I want this modal stage to have round corners, which I already reached with the common <code>-fx-background-radius: 20;</code> and to make sure aswell <code>-fx-border-radius: 20;</code>.\nI have set the <code>-fx-background-color: #737A83</code>, which is a dark grey. I did this in a custom style class <code>.foreground-pane</code> that I assigned to the anchor pane with <code>fx:id=&quot;root&quot;</code>.</p>\n<p>As shown above I also made the stage transparent &amp; undecorated and set the fill to <code>Color.TRANSPARENT</code>.</p>\n<p>Somehow I still have a white background &quot;filling&quot; the rounded corners:\n<a href=\"https://i.stack.imgur.com/anxoB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/anxoB.png\" alt=\"enter image description here\" /></a></p>\n<p>I also tried to add another larger anchor pane with <code>-fx-background-color: transparent</code> as root pane (as shown <a href=\"https://stackoverflow.com/a/31687182/18737461\">here</a>) and place the current root pane on that but it seems like the root-panes-transparency is always white instead of transparent. That also happens when I change the background color of my current root pane to transparent.</p>\n<p>So I thought, alright, must have something to do with the stage's or scene's transparency, but as shown above I also tried to make these transparent as far as I could with my knowledge.</p>\n<p>Maybe someone here finds the (maybe really stupid) mistake I made. Thanks!</p>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":27858907,"reputation":1,"user_id":21271838,"display_name":"Fatal1ty"},"score":0,"creation_date":1677185739,"post_id":75543918,"comment_id":133293614,"body_markdown":"well, firstly i wanted to say sorry for my really poor programming skills and knowledge, also thank you for all this explaining. With &quot;wys_sum_tab_1()&quot; i wanted to make a code that also can display the output of summing all the numbers in first 2-dimensional array, same thing i wanted to do with that 2nd 2-dimensional array but i noticed that i am doing it wrong so i wanted to know how to do it properly and wrote a question here, also I would be very grateful if you can help and bless me with good sources from which noob like myself can learn something.","body":"well, firstly i wanted to say sorry for my really poor programming skills and knowledge, also thank you for all this explaining. With &quot;wys_sum_tab_1()&quot; i wanted to make a code that also can display the output of summing all the numbers in first 2-dimensional array, same thing i wanted to do with that 2nd 2-dimensional array but i noticed that i am doing it wrong so i wanted to know how to do it properly and wrote a question here, also I would be very grateful if you can help and bless me with good sources from which noob like myself can learn something."}],"tags":[],"owner":{"account_id":26409459,"reputation":35,"user_id":20058715,"display_name":"BoroBoro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677150622,"creation_date":1677150169,"answer_id":75543918,"question_id":75543216,"body_markdown":"Well, I am polish and can understand names of your methods, but I suggest to write them in english when you are asking something here. Also you asked for arrays and in your code there are 2-dimensions arrays instead.Your code needs a lot of changes too. First of all, if you want to do it similar to this way which is now, you should create method sum_elements_in_table and as argument in that method there should be int[][] type with table as name. Do not create three methods when you have three tables. What if someone would require from you calculating sum of one million arrays, you would then write one million methods? Same with other methods. Read about object programming and change your code. It should be more like that, I added some improvements, but much more could be done, with changing those tables from static, delete some typos from your code, and move printing messages from you methods into main.\r\n\r\n    package some_code_from_stackovrflw;\r\n\r\n    import java.util.Random;\r\n    \r\n    public class Main {\r\n        static int[][] tab_1 = new int[10][10];\r\n        static int[][] tab_2 = new int[10][10];\r\n        static int[][] tab_wyniki = new int[10][10];\r\n        static int[][] tab_1_sum = new int[10][10];\r\n        public static void main(String[] args) {\r\n            wypelnij_tablice(1000, tab_1);\r\n            wypelnij_tablice(1000, tab_2);\r\n            System.out.println(&quot;Tablica 1&quot;);\r\n            wyswietl_tablice(tab_1);\r\n            System.out.println(&quot;Tablica 2&quot;);\r\n            wyswietl_tablice(tab_2);\r\n            tab_wyniki = sumuj_tablice(tab_1, tab_2);\r\n            wyswietl_sume_tabli();\r\n            suma_tabeli_1();\r\n            wys_sum_tab_1();\r\n        }\r\n\r\n    static void wypelnij_tablice(int zakres, int[][] table) {\r\n        Random r = new Random();\r\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                table[wiersz][kolumna] = r.nextInt(zakres);\r\n            }\r\n        }\r\n    }\r\n\r\n    static void wyswietl_tablice(int[][] table) {\r\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                System.out.print(table[wiersz][kolumna] + &quot; , &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    static int[][] sumuj_tablice(int[][] table1, int[][] table2) {\r\n    \tint [][] tab_wyniki = new int[10][10];\r\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                tab_wyniki[wiersz][kolumna] = table1[wiersz][kolumna] + table2[wiersz][kolumna];\r\n            }\r\n        }\r\n        return tab_wyniki;\r\n    }\r\n\r\n    static void wyswietl_sume_tabli() {\r\n        System.out.println(&quot;suma tablic&quot;);\r\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                System.out.print(tab_wyniki[wiersz][kolumna] + &quot; , &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    static void suma_tabeli_1() {\r\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                tab_1_sum[wiersz][kolumna] = tab_1[wiersz][kolumna];\r\n            }\r\n        }\r\n    }\r\n    \r\n    static void wys_sum_tab_1() {\r\n        System.out.println(&quot;suma tabeli 1&quot;);\r\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                System.out.print(tab_1_sum[wiersz][kolumna] + &quot; , &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n\r\nFurther, in this line you literraly copy value from one table to another, and not doing anything with it:\r\n\r\n    tab_1_sum[wiersz][kolumna] = tab_1[wiersz][kolumna];\r\n\r\nIf I understand correclty, you want to do something like this:\r\n\r\n    tab_1_sum = tab_1_sum + tab_1[wiersz][kolumna]\r\n\r\nWhich will require to change type of tab_1_sum to int so it will store sum of values of  all numbers from all cells in tab_1.\r\nAlso I quite dont fully understand what you want to accomplish with that method? \r\n\r\n    wys_sum_tab_1()\r\n\r\n    \r\n\r\n","title":"JAVA: highest sum and number of specific num digits in arrays","body":"<p>Well, I am polish and can understand names of your methods, but I suggest to write them in english when you are asking something here. Also you asked for arrays and in your code there are 2-dimensions arrays instead.Your code needs a lot of changes too. First of all, if you want to do it similar to this way which is now, you should create method sum_elements_in_table and as argument in that method there should be int[][] type with table as name. Do not create three methods when you have three tables. What if someone would require from you calculating sum of one million arrays, you would then write one million methods? Same with other methods. Read about object programming and change your code. It should be more like that, I added some improvements, but much more could be done, with changing those tables from static, delete some typos from your code, and move printing messages from you methods into main.</p>\n<pre><code>package some_code_from_stackovrflw;\n\nimport java.util.Random;\n\npublic class Main {\n    static int[][] tab_1 = new int[10][10];\n    static int[][] tab_2 = new int[10][10];\n    static int[][] tab_wyniki = new int[10][10];\n    static int[][] tab_1_sum = new int[10][10];\n    public static void main(String[] args) {\n        wypelnij_tablice(1000, tab_1);\n        wypelnij_tablice(1000, tab_2);\n        System.out.println(&quot;Tablica 1&quot;);\n        wyswietl_tablice(tab_1);\n        System.out.println(&quot;Tablica 2&quot;);\n        wyswietl_tablice(tab_2);\n        tab_wyniki = sumuj_tablice(tab_1, tab_2);\n        wyswietl_sume_tabli();\n        suma_tabeli_1();\n        wys_sum_tab_1();\n    }\n\nstatic void wypelnij_tablice(int zakres, int[][] table) {\n    Random r = new Random();\n    for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n        for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n            table[wiersz][kolumna] = r.nextInt(zakres);\n        }\n    }\n}\n\nstatic void wyswietl_tablice(int[][] table) {\n    for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n        for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n            System.out.print(table[wiersz][kolumna] + &quot; , &quot;);\n        }\n        System.out.println();\n    }\n}\n\nstatic int[][] sumuj_tablice(int[][] table1, int[][] table2) {\n    int [][] tab_wyniki = new int[10][10];\n    for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n        for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n            tab_wyniki[wiersz][kolumna] = table1[wiersz][kolumna] + table2[wiersz][kolumna];\n        }\n    }\n    return tab_wyniki;\n}\n\nstatic void wyswietl_sume_tabli() {\n    System.out.println(&quot;suma tablic&quot;);\n    for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n        for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n            System.out.print(tab_wyniki[wiersz][kolumna] + &quot; , &quot;);\n        }\n        System.out.println();\n    }\n}\n\nstatic void suma_tabeli_1() {\n    for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n        for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n            tab_1_sum[wiersz][kolumna] = tab_1[wiersz][kolumna];\n        }\n    }\n}\n\nstatic void wys_sum_tab_1() {\n    System.out.println(&quot;suma tabeli 1&quot;);\n    for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n        for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n            System.out.print(tab_1_sum[wiersz][kolumna] + &quot; , &quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Further, in this line you literraly copy value from one table to another, and not doing anything with it:</p>\n<pre><code>tab_1_sum[wiersz][kolumna] = tab_1[wiersz][kolumna];\n</code></pre>\n<p>If I understand correclty, you want to do something like this:</p>\n<pre><code>tab_1_sum = tab_1_sum + tab_1[wiersz][kolumna]\n</code></pre>\n<p>Which will require to change type of tab_1_sum to int so it will store sum of values of  all numbers from all cells in tab_1.\nAlso I quite dont fully understand what you want to accomplish with that method?</p>\n<pre><code>wys_sum_tab_1()\n</code></pre>\n"}],"owner":{"account_id":27858907,"reputation":1,"user_id":21271838,"display_name":"Fatal1ty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677150622,"creation_date":1677146415,"question_id":75543216,"body_markdown":"I want to draw two arrays, check in which array has the **highest sum of all numbers** and **write how many one-, two- and three-digit numbers are in each array**. Drawing arrays is working but i can&#39;t get the later parts of this working.\r\n\r\nAny help is greatly appreciated.\r\n\r\n    import java.util.Random;\r\n    \r\n    public class Main {\r\n        static int[][] tab_1 = new int[10][10];\r\n        static int[][] tab_2 = new int[10][10];\r\n        static int[][] tab_wyniki = new int[10][10];\r\n        static int[][] tab_1_sum = new int[10][10];\r\n        public static void main(String[] args) {\r\n            wypelnij_tablice(1000);\r\n            wyswietl_tablice_1();\r\n            wyswietl_tablice_2();\r\n            sumuj_tablice();\r\n            wyswietl_sume_tabli();\r\n            suma_tabeli_1();\r\n            wys_sum_tab_1();\r\n        }\r\n    \r\n        static void wypelnij_tablice(int zakres) {\r\n            Random r = new Random();\r\n            for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n                for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                    tab_1[wiersz][kolumna] = r.nextInt(zakres);\r\n                    tab_2[wiersz][kolumna] = r.nextInt(zakres);\r\n                }\r\n            }\r\n        }\r\n    \r\n        static void wyswietl_tablice_1() {\r\n            System.out.println(&quot;tablica pierwsza&quot;);\r\n            for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n                for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                    System.out.print(tab_1[wiersz][kolumna] + &quot; , &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n        static void wyswietl_tablice_2() {\r\n            System.out.println(&quot;tablica druga&quot;);\r\n            for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n                for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                    System.out.print(tab_2[wiersz][kolumna] + &quot; , &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n        static void sumuj_tablice() {\r\n            for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n                for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                    tab_wyniki[wiersz][kolumna] = tab_1[wiersz][kolumna] + tab_2[wiersz][kolumna];\r\n                }\r\n            }\r\n        }\r\n    \r\n        static void wyswietl_sume_tabli() {\r\n            System.out.println(&quot;suma tablic&quot;);\r\n            for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n                for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                    System.out.print(tab_wyniki[wiersz][kolumna] + &quot; , &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n        static void suma_tabeli_1() {\r\n            for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n                for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                    tab_1_sum[wiersz][kolumna] = tab_1[wiersz][kolumna];\r\n                }\r\n            }\r\n        }\r\n        \r\n        static void wys_sum_tab_1() {\r\n            System.out.println(&quot;suma tabeli 1&quot;);\r\n            for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\r\n                for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\r\n                    System.out.print(tab_1_sum[wiersz][kolumna] + &quot; , &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }","title":"JAVA: highest sum and number of specific num digits in arrays","body":"<p>I want to draw two arrays, check in which array has the <strong>highest sum of all numbers</strong> and <strong>write how many one-, two- and three-digit numbers are in each array</strong>. Drawing arrays is working but i can't get the later parts of this working.</p>\n<p>Any help is greatly appreciated.</p>\n<pre><code>import java.util.Random;\n\npublic class Main {\n    static int[][] tab_1 = new int[10][10];\n    static int[][] tab_2 = new int[10][10];\n    static int[][] tab_wyniki = new int[10][10];\n    static int[][] tab_1_sum = new int[10][10];\n    public static void main(String[] args) {\n        wypelnij_tablice(1000);\n        wyswietl_tablice_1();\n        wyswietl_tablice_2();\n        sumuj_tablice();\n        wyswietl_sume_tabli();\n        suma_tabeli_1();\n        wys_sum_tab_1();\n    }\n\n    static void wypelnij_tablice(int zakres) {\n        Random r = new Random();\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n                tab_1[wiersz][kolumna] = r.nextInt(zakres);\n                tab_2[wiersz][kolumna] = r.nextInt(zakres);\n            }\n        }\n    }\n\n    static void wyswietl_tablice_1() {\n        System.out.println(&quot;tablica pierwsza&quot;);\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n                System.out.print(tab_1[wiersz][kolumna] + &quot; , &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    static void wyswietl_tablice_2() {\n        System.out.println(&quot;tablica druga&quot;);\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n                System.out.print(tab_2[wiersz][kolumna] + &quot; , &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    static void sumuj_tablice() {\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n                tab_wyniki[wiersz][kolumna] = tab_1[wiersz][kolumna] + tab_2[wiersz][kolumna];\n            }\n        }\n    }\n\n    static void wyswietl_sume_tabli() {\n        System.out.println(&quot;suma tablic&quot;);\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n                System.out.print(tab_wyniki[wiersz][kolumna] + &quot; , &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    static void suma_tabeli_1() {\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n                tab_1_sum[wiersz][kolumna] = tab_1[wiersz][kolumna];\n            }\n        }\n    }\n    \n    static void wys_sum_tab_1() {\n        System.out.println(&quot;suma tabeli 1&quot;);\n        for (int wiersz = 0; wiersz &lt; 10; wiersz++) {\n            for (int kolumna = 0; kolumna &lt; 10; kolumna++) {\n                System.out.print(tab_1_sum[wiersz][kolumna] + &quot; , &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","reactjs","backend","sanity"],"owner":{"account_id":27859534,"reputation":1,"user_id":21272377,"display_name":"Odai kassem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677149971,"creation_date":1677149824,"question_id":75543851,"body_markdown":"i have this error everytime i run sanity init command \r\nError: GET-request to https://api.sanity.io/v1/auth/providers resulted in HTTP 403 Forbidden\r\n    at onResponse (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/lib/_chunks/loadEnv-75c46c66.js:1666:13)\r\n    at applyMiddleware (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:60:15)\r\n    at onResponse (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:133:22)\r\n    at C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:115:55\r\n    at callback (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:423:46)\r\n    at C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:486:14\r\n    at DestroyableTransform.&lt;anonymous&gt; (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:260:13)\r\n    at Object.onceWrapper (node:events:627:28)\r\n    at DestroyableTransform.emit (node:events:525:35)\r\n    at endReadableNT (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/readable-stream/lib/_stream_readable.js:1010:12)\r\n\r\ni tried snaity login from my browser, but i have the same problem","title":"npx sanity Error while fetching and login?","body":"<p>i have this error everytime i run sanity init command\nError: GET-request to <a href=\"https://api.sanity.io/v1/auth/providers\" rel=\"nofollow noreferrer\">https://api.sanity.io/v1/auth/providers</a> resulted in HTTP 403 Forbidden\nat onResponse (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/lib/_chunks/loadEnv-75c46c66.js:1666:13)\nat applyMiddleware (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:60:15)\nat onResponse (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:133:22)\nat C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:115:55\nat callback (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:423:46)\nat C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:486:14\nat DestroyableTransform. (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/get-it/dist/index.cjs:260:13)\nat Object.onceWrapper (node:events:627:28)\nat DestroyableTransform.emit (node:events:525:35)\nat endReadableNT (C:/Users/Odai/AppData/Roaming/npm/node_modules/@sanity/cli/node_modules/readable-stream/lib/_stream_readable.js:1010:12)</p>\n<p>i tried snaity login from my browser, but i have the same problem</p>\n"},{"tags":["java","rest","jersey","documentation","openapi"],"owner":{"account_id":20955267,"reputation":63,"user_id":15395946,"display_name":"emerick biron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677149814,"creation_date":1677149814,"question_id":75543847,"body_markdown":"I&#39;m developing a REST API in Java using the Jersey framework (server). I would like to know how to generate a basic OpenAPI documentation (no need for description or anything else) from my Java code. Could someone please tell me how to do this?\r\n\r\nThank you in advance.","title":"How to Generate OpenApi doc from java code","body":"<p>I'm developing a REST API in Java using the Jersey framework (server). I would like to know how to generate a basic OpenAPI documentation (no need for description or anything else) from my Java code. Could someone please tell me how to do this?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","hibernate-mapping"],"owner":{"account_id":15937106,"reputation":1426,"user_id":11499971,"display_name":"Rushikesh Sabde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677149762,"creation_date":1677149762,"question_id":75543838,"body_markdown":"A SQL table has a column of type XMLType. Having structure as below:-\r\n\r\n    &lt;values&gt;\r\n     &lt;value lang=&quot;EN&quot;&gt;Mozilla loran lipsum&lt;/value&gt;\r\n     &lt;value lang=&quot;ZH_CN&quot;&gt;Bugzilla 绕过安全限制安全漏洞&lt;/value&gt;\r\n     &lt;value lang=&quot;ZH_TW&quot;&gt;Bugzilla 操控安全性避開弱點&lt;/value&gt;\r\n     &lt;value lang=&quot;KO&quot;&gt;Mozilla 조작 보안 우회 취약점 &lt;/value&gt;\r\n     &lt;value lang=&quot;JA&quot;&gt;Bugzilla 操作におけるセキュリティ回避の脆弱性 &lt;/value&gt;\r\n    &lt;/values&gt;\r\n    \r\nI am trying to map this column with JPA entity field.\r\n\r\nI want this XML data in HashMap as `Map&lt;String, String&gt;` and the entry will be \r\n`Key :- Language`\r\n`Value :- Text`\r\n\r\nIs there any way to transform the XMLType into HashMap with above requirement.\r\n\r\n ","title":"Oracle XMLType mapping with entity object in Spring Data JPA","body":"<p>A SQL table has a column of type XMLType. Having structure as below:-</p>\n<pre><code>&lt;values&gt;\n &lt;value lang=&quot;EN&quot;&gt;Mozilla loran lipsum&lt;/value&gt;\n &lt;value lang=&quot;ZH_CN&quot;&gt;Bugzilla 绕过安全限制安全漏洞&lt;/value&gt;\n &lt;value lang=&quot;ZH_TW&quot;&gt;Bugzilla 操控安全性避開弱點&lt;/value&gt;\n &lt;value lang=&quot;KO&quot;&gt;Mozilla 조작 보안 우회 취약점 &lt;/value&gt;\n &lt;value lang=&quot;JA&quot;&gt;Bugzilla 操作におけるセキュリティ回避の脆弱性 &lt;/value&gt;\n&lt;/values&gt;\n</code></pre>\n<p>I am trying to map this column with JPA entity field.</p>\n<p>I want this XML data in HashMap as <code>Map&lt;String, String&gt;</code> and the entry will be\n<code>Key :- Language</code>\n<code>Value :- Text</code></p>\n<p>Is there any way to transform the XMLType into HashMap with above requirement.</p>\n"},{"tags":["java","collision"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1677148755,"post_id":75543553,"comment_id":133282223,"body_markdown":"Are you normalizing a vector of length zero?","body":"Are you normalizing a vector of length zero?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1677148804,"post_id":75543553,"comment_id":133282236,"body_markdown":"Nobody is going to hunt through your entire git repo for a problem, sorry. Please give us a [mcve] to replicate the problem, in the question.","body":"Nobody is going to hunt through your entire git repo for a problem, sorry. Please give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to replicate the problem, in the question."}],"answers":[{"comments":[{"owner":{"account_id":25403186,"reputation":3,"user_id":19212321,"display_name":"Dylan Hetzel"},"score":0,"creation_date":1677150650,"post_id":75543758,"comment_id":133282771,"body_markdown":"Yes, I believe I was doing a soft-copy of a vector at one point, when I should have copied their values, not pointers to their values.","body":"Yes, I believe I was doing a soft-copy of a vector at one point, when I should have copied their values, not pointers to their values."}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677149264,"creation_date":1677149264,"answer_id":75543758,"question_id":75543553,"body_markdown":"According to the [language specification](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.4):\r\n\r\n&gt; A floating-point operation that has no unique mathematically defined result produces NaN.\r\n&gt;\r\n&gt; All numeric operations with NaN as an operand produce NaN as a result.\r\n\r\nSo, the NaN is appearing either because you are creating a Vector instance with at least one of its coordinates set to NaN; or you are doing a mathematical operation with no unique mathematically defined result.\r\n\r\nAs you mention that this is in a method for normalizing the Vector, this is almost certainly arising from the division, where the denominator is zero.\r\n\r\nThis means that either you&#39;re calculating the denominator incorrectly, or the vector&#39;s length really is zero.","title":"NaN value being stored to custom &quot;Vector&quot; class","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.4\" rel=\"nofollow noreferrer\">language specification</a>:</p>\n<blockquote>\n<p>A floating-point operation that has no unique mathematically defined result produces NaN.</p>\n<p>All numeric operations with NaN as an operand produce NaN as a result.</p>\n</blockquote>\n<p>So, the NaN is appearing either because you are creating a Vector instance with at least one of its coordinates set to NaN; or you are doing a mathematical operation with no unique mathematically defined result.</p>\n<p>As you mention that this is in a method for normalizing the Vector, this is almost certainly arising from the division, where the denominator is zero.</p>\n<p>This means that either you're calculating the denominator incorrectly, or the vector's length really is zero.</p>\n"}],"owner":{"account_id":25403186,"reputation":3,"user_id":19212321,"display_name":"Dylan Hetzel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677156782,"accepted_answer_id":75543758,"answer_count":1,"score":-1,"last_activity_date":1677149264,"creation_date":1677148274,"question_id":75543553,"body_markdown":"I&#39;m working on a simple platformer for a game jam, but I didn&#39;t want to bother using a game engine. What the class &quot;Vector&quot; (I don&#39;t think that&#39;s the accurate name for what I&#39;m using it for, but whatever) is supposed to do is provide a way to group together to double values, &#39;x&#39; and &#39;y&#39;, into a single data type and also provide useful calculations, namely &quot;normalize&quot;, which takes an input of a vector (in effect a point) and returns a new vector of length one, going in the same direction from the origin. The link to the git hub repository is this: [Metroidvania-Template.git](https://github.com/DJPretzel-bit64/Metroidvania-Template.git)\r\n\r\nI tried to make it so that when a collision happened, it would find the difference between the last vector and the current one, normalize said vector, and add the normalized vector to the current vector until it no longer collides.","title":"NaN value being stored to custom &quot;Vector&quot; class","body":"<p>I'm working on a simple platformer for a game jam, but I didn't want to bother using a game engine. What the class &quot;Vector&quot; (I don't think that's the accurate name for what I'm using it for, but whatever) is supposed to do is provide a way to group together to double values, 'x' and 'y', into a single data type and also provide useful calculations, namely &quot;normalize&quot;, which takes an input of a vector (in effect a point) and returns a new vector of length one, going in the same direction from the origin. The link to the git hub repository is this: <a href=\"https://github.com/DJPretzel-bit64/Metroidvania-Template.git\" rel=\"nofollow noreferrer\">Metroidvania-Template.git</a></p>\n<p>I tried to make it so that when a collision happened, it would find the difference between the last vector and the current one, normalize said vector, and add the normalized vector to the current vector until it no longer collides.</p>\n"},{"tags":["java","apache-camel","wiremock","wiremock-standalone"],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677148922,"creation_date":1677148922,"question_id":75543697,"body_markdown":"I am testing with Wiremock and Apache Camel, while status code is different(2xx and 404), even Wiremock is configured to return nothing (no `withBody()` stubbing), the body I get from \r\n\r\n    exchange.getIn().getBody(String.class)\r\n\r\nand \r\n\r\n    exchange.getProperties().get(HTTP_RESPONSE_TEXT)\r\n\r\nare different.\r\n\r\nI have this log lines:\r\n\r\n    logger.debugf(&quot;Status code for endpoint %d: %d, response body: %s, response text(Camel header): %s&quot;, endpointId, statusCode, exchange.getIn().getBody(String.class), properties.get(HTTP_RESPONSE_TEXT));\r\n\r\nAnd, when it&#39;s 2xx:\r\n\r\n    Status code for endpoint 0: 200, response body: , response text(Camel header): null\r\n\r\nWhen it&#39;s 404:\r\n\r\n    Status code for endpoint 1: 404, response body: null, response text(Camel header): null\r\n\r\n\r\nSo, `properties.get(HTTP_RESPONSE_TEXT)` seems always consistent(always null). \r\n\r\nWhy the difference? So I always use `properties.get(HTTP_RESPONSE_TEXT)` right?\r\n\r\nWiremock stubbing is like:\r\n\r\n```java\r\n        server.stubFor(post(urlPathMatching(&quot;/operator/.*/endpoint/[0-9]*&quot;))\r\n                .withRequestBody(allFieldsPattern())\r\n                .willReturn(\r\n                        aResponse()\r\n                                .withStatus(200)\r\n                                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                ));\r\n        server.stubFor(delete(urlPathMatching(&quot;/operator/.*/endpoint/[0-9]*&quot;))\r\n                .willReturn(\r\n                        aResponse()\r\n                                .withStatus(200)\r\n                                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                ));\r\n```\r\n\r\nWhen I use java 11 `HttpClient`, it&#39;s always empty string. So I don&#39;t know which is standard. \r\n\r\nWiremock `2.33.2`, `jre8-standalone`. ","title":"Apache Camel: exchange.getIn().getBody(String.class) and properties.get(HTTP_RESPONSE_TEXT) inconsistent between 2xx and 404","body":"<p>I am testing with Wiremock and Apache Camel, while status code is different(2xx and 404), even Wiremock is configured to return nothing (no <code>withBody()</code> stubbing), the body I get from</p>\n<pre><code>exchange.getIn().getBody(String.class)\n</code></pre>\n<p>and</p>\n<pre><code>exchange.getProperties().get(HTTP_RESPONSE_TEXT)\n</code></pre>\n<p>are different.</p>\n<p>I have this log lines:</p>\n<pre><code>logger.debugf(&quot;Status code for endpoint %d: %d, response body: %s, response text(Camel header): %s&quot;, endpointId, statusCode, exchange.getIn().getBody(String.class), properties.get(HTTP_RESPONSE_TEXT));\n</code></pre>\n<p>And, when it's 2xx:</p>\n<pre><code>Status code for endpoint 0: 200, response body: , response text(Camel header): null\n</code></pre>\n<p>When it's 404:</p>\n<pre><code>Status code for endpoint 1: 404, response body: null, response text(Camel header): null\n</code></pre>\n<p>So, <code>properties.get(HTTP_RESPONSE_TEXT)</code> seems always consistent(always null).</p>\n<p>Why the difference? So I always use <code>properties.get(HTTP_RESPONSE_TEXT)</code> right?</p>\n<p>Wiremock stubbing is like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        server.stubFor(post(urlPathMatching(&quot;/operator/.*/endpoint/[0-9]*&quot;))\n                .withRequestBody(allFieldsPattern())\n                .willReturn(\n                        aResponse()\n                                .withStatus(200)\n                                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                ));\n        server.stubFor(delete(urlPathMatching(&quot;/operator/.*/endpoint/[0-9]*&quot;))\n                .willReturn(\n                        aResponse()\n                                .withStatus(200)\n                                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                ));\n</code></pre>\n<p>When I use java 11 <code>HttpClient</code>, it's always empty string. So I don't know which is standard.</p>\n<p>Wiremock <code>2.33.2</code>, <code>jre8-standalone</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1677148077,"post_id":75543473,"comment_id":133282042,"body_markdown":"You could get the fields and compare values using reflection, but for just 2 fields, i doubt it&#39;s worth it.","body":"You could get the fields and compare values using reflection, but for just 2 fields, i doubt it&#39;s worth it."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677148145,"post_id":75543473,"comment_id":133282061,"body_markdown":"It could be done using reflection, but that&#39;s almost always bad advice. Another more useful way would be a functional approach. But if this is just about those 2 fields, any other way than what you already do would result in more code and certainly more complexity of your code.","body":"It could be done using reflection, but that&#39;s almost always bad advice. Another more useful way would be a functional approach. But if this is just about those 2 fields, any other way than what you already do would result in more code and certainly more complexity of your code."},{"owner":{"account_id":25190184,"reputation":163,"user_id":19030462,"display_name":"Sebastian"},"score":0,"creation_date":1677148645,"post_id":75543473,"comment_id":133282187,"body_markdown":"If you want to use the &quot;equals check&quot; multiple times, defining a method for it, for example a isAccount method on UpdateAccount, that does the same checks as you, but internally, may be a good idea, or do you just want to know other ways like reflection? :)","body":"If you want to use the &quot;equals check&quot; multiple times, defining a method for it, for example a isAccount method on UpdateAccount, that does the same checks as you, but internally, may be a good idea, or do you just want to know other ways like reflection? :)"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677148459,"creation_date":1677148459,"answer_id":75543593,"question_id":75543473,"body_markdown":"You can extract the logic into a common method like this:\r\n\r\n    private static &lt;T&gt; void checkDifference(Set&lt;String&gt; diff, String name, T v1, T v2) {\r\n      if (!Objects.equals(v1, v2)) {\r\n        diff.add(name);\r\n      }\r\n    }\r\n\r\nAnd then change your main method to look like this:\r\n\r\n    Set&lt;String&gt; diff = new HashSet&lt;&gt;();\r\n    checkDifference(diff, &quot;name&quot;, updateAccount.getName(), account.getName());\r\n    checkDifference(diff, &quot;section&quot;, updateAccount.getSection(), account.getSection());\r\n    System.out.println(diff);\r\n\r\nYou can further abstract this away by storing the combination of name, a `Function&lt;UpdateAccount, T&gt;` and a `Function&lt;Account, T&gt;` and looping over them, but it&#39;s not clear that this would actually help.","title":"Shorten equal checks","body":"<p>You can extract the logic into a common method like this:</p>\n<pre><code>private static &lt;T&gt; void checkDifference(Set&lt;String&gt; diff, String name, T v1, T v2) {\n  if (!Objects.equals(v1, v2)) {\n    diff.add(name);\n  }\n}\n</code></pre>\n<p>And then change your main method to look like this:</p>\n<pre><code>Set&lt;String&gt; diff = new HashSet&lt;&gt;();\ncheckDifference(diff, &quot;name&quot;, updateAccount.getName(), account.getName());\ncheckDifference(diff, &quot;section&quot;, updateAccount.getSection(), account.getSection());\nSystem.out.println(diff);\n</code></pre>\n<p>You can further abstract this away by storing the combination of name, a <code>Function&lt;UpdateAccount, T&gt;</code> and a <code>Function&lt;Account, T&gt;</code> and looping over them, but it's not clear that this would actually help.</p>\n"},{"tags":[],"owner":{"account_id":27858344,"reputation":46,"user_id":21271391,"display_name":"Ch Saireddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677148610,"creation_date":1677148610,"answer_id":75543619,"question_id":75543473,"body_markdown":"One way to simplify the if-else equal part would be to use reflection to compare the fields of the two objects. However, this approach is less efficient and may not be suitable for large objects or critical performance scenarios. Here is an example of how to use reflection to compare fields:\r\n\r\n\r\n    public static Set&lt;String&gt; compareObjects(Object object1, Object object2) throws IllegalAccessException {\r\n        Set&lt;String&gt; diff = new HashSet&lt;&gt;();\r\n        Field[] fields = object1.getClass().getDeclaredFields();\r\n        for (Field field : fields) {\r\n            field.setAccessible(true);\r\n            Object value1 = field.get(object1);\r\n            Object value2 = field.get(object2);\r\n            if (value1 == null &amp;&amp; value2 != null || value1 != null &amp;&amp; !value1.equals(value2)) {\r\n                diff.add(field.getName());\r\n            }\r\n        }\r\n        return diff;\r\n    }\r\nYou can call this method from your main method like this:\r\n\r\n\r\n    Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\r\n    UpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\r\n    Set&lt;String&gt; diff = compareObjects(account, updateAccount);\r\n    System.out.println(diff);\r\n\r\nThis will output [name], indicating that the name field of the Account object is different from the name field of the UpdateAccount object.","title":"Shorten equal checks","body":"<p>One way to simplify the if-else equal part would be to use reflection to compare the fields of the two objects. However, this approach is less efficient and may not be suitable for large objects or critical performance scenarios. Here is an example of how to use reflection to compare fields:</p>\n<pre><code>public static Set&lt;String&gt; compareObjects(Object object1, Object object2) throws IllegalAccessException {\n    Set&lt;String&gt; diff = new HashSet&lt;&gt;();\n    Field[] fields = object1.getClass().getDeclaredFields();\n    for (Field field : fields) {\n        field.setAccessible(true);\n        Object value1 = field.get(object1);\n        Object value2 = field.get(object2);\n        if (value1 == null &amp;&amp; value2 != null || value1 != null &amp;&amp; !value1.equals(value2)) {\n            diff.add(field.getName());\n        }\n    }\n    return diff;\n}\n</code></pre>\n<p>You can call this method from your main method like this:</p>\n<pre><code>Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\nUpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\nSet&lt;String&gt; diff = compareObjects(account, updateAccount);\nSystem.out.println(diff);\n</code></pre>\n<p>This will output [name], indicating that the name field of the Account object is different from the name field of the UpdateAccount object.</p>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677148787,"creation_date":1677148787,"answer_id":75543660,"question_id":75543473,"body_markdown":"To avoid reflection, use `Function`s to retrieve the values from the class:\r\n\r\n```\r\n  //this stores method references to the getters \r\n  //as well as the fieldname string that you\r\n  // want to output in your Set\r\n  @AllArgsConstructor(staticName = &quot;of&quot;)\r\n  private static class DiffField {\r\n    String fieldname;\r\n    Function&lt;Account, String&gt; accountGetter;\r\n    Function&lt;UpdateAccount, String&gt; updateAccountGetter;\r\n  }\r\n\r\n  public class App {\r\n    public static void main(String[] args){\r\n      Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\r\n      UpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\r\n\r\n      //create a list of things to compare, specifying the getter references\r\n      List&lt;DiffField&gt; diffFieldList = List.of(\r\n          DiffField.of(&quot;name&quot;, Account::getName, UpdateAccount::getName),\r\n          DiffField.of(&quot;section&quot;, Account::getSection, UpdateAccount::getSection)\r\n      );\r\n\r\n      Set&lt;String&gt; diff = new HashSet&lt;&gt;();\r\n      //loop over the things you want to diff-check\r\n      for(DiffField df:diffFieldList) {\r\n        String valAccount = df.accountGetter.apply(account);\r\n        String valUpdateAccount = df.updateAccountGetter.apply(updateAccount);\r\n        if(!valAccount.equals(valUpdateAccount)){ //TODO: NPE?\r\n          diff.add(df.fieldname);\r\n        }\r\n      }\r\n      System.out.println(diff);\r\n    }\r\n  }\r\n```\r\n\r\nBut as I already mentioned in the comment above, your current code is much shorter and more precise. This only starts to pay off when you have several more fields to check, and you still have to list these fields manually in the `List&lt;DiffField&gt;`. It only saves you the many `if`s.","title":"Shorten equal checks","body":"<p>To avoid reflection, use <code>Function</code>s to retrieve the values from the class:</p>\n<pre><code>  //this stores method references to the getters \n  //as well as the fieldname string that you\n  // want to output in your Set\n  @AllArgsConstructor(staticName = &quot;of&quot;)\n  private static class DiffField {\n    String fieldname;\n    Function&lt;Account, String&gt; accountGetter;\n    Function&lt;UpdateAccount, String&gt; updateAccountGetter;\n  }\n\n  public class App {\n    public static void main(String[] args){\n      Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\n      UpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\n\n      //create a list of things to compare, specifying the getter references\n      List&lt;DiffField&gt; diffFieldList = List.of(\n          DiffField.of(&quot;name&quot;, Account::getName, UpdateAccount::getName),\n          DiffField.of(&quot;section&quot;, Account::getSection, UpdateAccount::getSection)\n      );\n\n      Set&lt;String&gt; diff = new HashSet&lt;&gt;();\n      //loop over the things you want to diff-check\n      for(DiffField df:diffFieldList) {\n        String valAccount = df.accountGetter.apply(account);\n        String valUpdateAccount = df.updateAccountGetter.apply(updateAccount);\n        if(!valAccount.equals(valUpdateAccount)){ //TODO: NPE?\n          diff.add(df.fieldname);\n        }\n      }\n      System.out.println(diff);\n    }\n  }\n</code></pre>\n<p>But as I already mentioned in the comment above, your current code is much shorter and more precise. This only starts to pay off when you have several more fields to check, and you still have to list these fields manually in the <code>List&lt;DiffField&gt;</code>. It only saves you the many <code>if</code>s.</p>\n"}],"owner":{"account_id":4146531,"reputation":451,"user_id":3400076,"display_name":"xxestter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677148787,"creation_date":1677147858,"question_id":75543473,"body_markdown":"\r\n\r\n\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Account {\r\n        private String id;\r\n        private String section;\r\n        private String name;\r\n        private String type;\r\n        private String username;\r\n    }\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class UpdateAccount {\r\n        private String section;\r\n        private String name;\r\n    }\r\n\r\nI have 2 classes called `UpdateAccount` and `Account` and in my App class, I want to find out if there is any difference between the Account object and the UpdateAccount object. Here is my App class code. \r\nIs there any other ways to code the if-else equal part?\r\n\r\n    public class App {\r\n        public static void main(String[] args){\r\n            Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\r\n            UpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\r\n    \r\n            Set&lt;String&gt; diff = new HashSet&lt;&gt;();\r\n            if(!updateAccount.getName().equals(account.getName())){\r\n                diff.add(&quot;name&quot;);\r\n            }\r\n            if(!updateAccount.getSection().equals(account.getSection())){\r\n                diff.add(&quot;section&quot;);\r\n            }\r\n            System.out.println(diff);\r\n        }\r\n    }\r\n\r\n","title":"Shorten equal checks","body":"<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Account {\n    private String id;\n    private String section;\n    private String name;\n    private String type;\n    private String username;\n}\n\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UpdateAccount {\n    private String section;\n    private String name;\n}\n</code></pre>\n<p>I have 2 classes called <code>UpdateAccount</code> and <code>Account</code> and in my App class, I want to find out if there is any difference between the Account object and the UpdateAccount object. Here is my App class code.\nIs there any other ways to code the if-else equal part?</p>\n<pre><code>public class App {\n    public static void main(String[] args){\n        Account account = new Account(&quot;123&quot;, &quot;sectionA&quot;, &quot;p1&quot;, &quot;test&quot;, &quot;TestUser1&quot;);\n        UpdateAccount updateAccount = new UpdateAccount(&quot;sectionA&quot;, &quot;p11&quot;);\n\n        Set&lt;String&gt; diff = new HashSet&lt;&gt;();\n        if(!updateAccount.getName().equals(account.getName())){\n            diff.add(&quot;name&quot;);\n        }\n        if(!updateAccount.getSection().equals(account.getSection())){\n            diff.add(&quot;section&quot;);\n        }\n        System.out.println(diff);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","view","firebird"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677137234,"post_id":75538029,"comment_id":133279199,"body_markdown":"What do you mean with &quot;bank&quot; do you mean a database?","body":"What do you mean with &quot;bank&quot; do you mean a database?"},{"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"score":0,"creation_date":1677147367,"post_id":75538029,"comment_id":133281824,"body_markdown":"would be the DBMS","body":"would be the DBMS"}],"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677148774,"creation_date":1677099132,"question_id":75538029,"body_markdown":"I&#39;m not able to bring my data into another table, which comes from another connection.\r\nI really need help on this, and my lack of experience bringing this is really getting to me. In my current scenario I have a connection with a DBMS that would be on the same network with a specific data base for it, I will call it data base A.\r\nin this data base A, the DBMS would be Fire bird and in this data base I have a View that consumes several columns and tables of this data base A,\r\nin this same API with connection to several DBMS, I have a Postgres data base that I will give an example of data base B, in it, I have an entity created\r\nto receive the View data from data base A,\r\n\r\n    Application.Properties\r\n\r\n\r\n       **DBMS A**\r\n    `\r\n      alu.datasource.username:SYSDBA\r\n      alu.datasource.password:masterkey       \r\n        alu.datasource.jdbcUrl:jdbc:firebirdsql:192.011.2.55/3050:C:db/test.fdb\r\n      alu.datasource.hikari.connection-timeout = 20000\r\n      alu.datasource.hicari.minimum-idle = 10\r\n      alu.datasource.hicari.maximum-pool-size = 40 \r\n      alu.datasource.hicari.idle-timeout = 10000\r\n      alu.datasource.hicari.auto-commit = true\r\n\r\n    **DBMS B**\r\n\r\n    `integracao.jpa.hibernate.ddl-auto=update\r\n     integracao.datasource.jdbcUrl=jdbc:postgresql://localhost/Integracao           \r\n     integracao.datasource.username=postgres\r\n     integracao.datasource.password=1234\r\n     integracao.datasource.hikari.connection-timeout = 20000\r\n     integracao.datasource.hicari.minimum-idle = 10\r\n     integracao.datasource.hicari.maximum-pool-size = 40 \r\n     integracao.datasource.hicari.idle-timeout = 10000\r\n     integracao.datasource.hicari.auto-commit = true\r\n   `\r\n\r\n\r\n\r\n\r\n     **Database DBMS configuration A**\r\n\r\n    `package com.XXXXXXXX.XXXXXXXXXXXXXXX.config.alu;\r\n     import javax.sql.DataSource;\r\n     import org.springframework.beans.factory.annotation.Qualifier;\r\n     import org.springframework.boot.context.properties.ConfigurationProperties;\r\n     import org.springframework.boot.jdbc.DataSourceBuilder;\r\n     import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\n     import org.springframework.context.annotation.Bean;\r\n     import org.springframework.context.annotation.Configuration;\r\n     import org.springframework.context.annotation.Primary;\r\n     import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n     import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n     import com.XXXXXXX.XXXXXXXXXXX.repository.alu.XXXXXRepository;\r\n     import java.util.HashMap;\r\n      import java.util.Map;\r\n\r\n     @Configuration\r\n     @EnableJpaRepositories(\r\n\t\tbasePackageClasses = XXXXXXRepository.class,\r\n\t\tentityManagerFactoryRef = &quot;aluEntityManager&quot;)\r\n     public class AluDbConfig {\r\n\r\n\t@Bean\r\n\t@ConfigurationProperties(prefix = &quot;alu.datasource&quot;)\r\n\tpublic DataSource aluDataSource() {\r\n\t\treturn  DataSourceBuilder.create().build();\r\n\t}\r\n\r\n\t@Bean\r\n\t@Qualifier\r\n\tpublic LocalContainerEntityManagerFactoryBean aluEntityManager(\r\n\t\t\tEntityManagerFactoryBuilder builder) {\r\n\t\tMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n\t\tproperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n\t\treturn builder\r\n\t\t\t\t.dataSource(aluDataSource())\r\n\t\t\t\t.packages(&quot;com.XXXXXXXXXXX.XXXXXXXXXXXXXXXXX.entity.alu&quot;)\r\n\t\t\t\t.properties(properties)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n       }\r\n\r\n      `\r\n\r\n\r\n      **Database DBMS configuration B**\r\n\r\n      `package com.XXXXXXXX.XXXXXXXXXXXXXXX.config.alu;\r\n      import javax.sql.DataSource;\r\n      import org.springframework.beans.factory.annotation.Qualifier;\r\n      import org.springframework.boot.context.properties.ConfigurationProperties;\r\n      import org.springframework.boot.jdbc.DataSourceBuilder;\r\n      import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\n      import org.springframework.context.annotation.Bean;\r\n      import org.springframework.context.annotation.Configuration;\r\n      import org.springframework.context.annotation.Primary;\r\n      import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n      import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n      import com.xxxxxxx.xxxxxxxxxxxxxxx.repository.integracao.IntegracaoRepository;\r\n      import java.util.HashMap;\r\n      import java.util.Map;\r\n\r\n\r\n      @Configuration\r\n      @EnableJpaRepositories(\r\n\t\tbasePackageClasses = IntegracaoRepository.class,\r\n\t\tentityManagerFactoryRef = &quot;integracaoEntityManager&quot;)\r\n      public class IntegracaoDbConfig {\r\n\r\n\t@Bean\r\n\t@ConfigurationProperties(prefix = &quot;integracao.datasource&quot;)\r\n\t@Primary\r\n\tpublic DataSource canDataSource() {\r\n\t\treturn  DataSourceBuilder.create().build();\r\n\t}\r\n\r\n\t@Bean\r\n\t@Qualifier\r\n\t@Primary\r\n\tpublic LocalContainerEntityManagerFactoryBean integracaoEntityManager(\r\n\t\t\tEntityManagerFactoryBuilder builder) {\r\n\t\tMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n\t\tproperties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n\t\treturn builder\r\n\t\t\t\t.dataSource(canDataSource())\r\n\t\t\t\t.packages(&quot;com.XXXXXXXX.XXXXXXXXXXXXXXXXXXXXX.entity.integracao&quot;)\r\n\t\t\t\t.properties(properties)\r\n\t\t\t\t.build();\r\n\t}\r\n      }\r\n        `\r\n    **Controller**\r\n\r\n    `package com.xxxxxxxx.xxxxxxxxxxxx.controller;\r\n     import java.util.ArrayList;\r\n     import java.util.List;\r\n     import com.xxxxxxxx.xxxxxxxxxxxxxx.repository.alu.xxxxxxxxRepository;\r\n     import org.springframework.beans.factory.annotation.Autowired;\r\n     import org.springframework.web.bind.annotation.*;\r\n    import com.xxxxxxxxxx.xxxxxxxxxxxxxxxx.entity.integracao.Integracao;\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/projecao&quot;)\r\n    public class IntegracaoController {\r\n\t\r\n\t@Autowired\r\n\tprivate xxxxxxxxRepository repository; =&gt; (Note: I had to hide the name, but this repository would    be from DBMS A)\r\n\r\n\t@GetMapping\r\n\t@ResponseBody\r\n\tpublic List&lt;Integracao&gt; convert(List&lt;Object&gt; object) {\r\n\t\tList&lt;Integracao&gt; list = new ArrayList&lt;Integracao&gt;();\r\n\t\tfor(final Object o : object) {\r\n\t\t\tObject[] obj = (Object[]) o;\r\n\t\t\tlist.add(new Integracao(obj[0].toString(),obj[1].toString()));\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\r\n     }`\r\n\r\n    **DBMS A Entity**\r\n\r\n    `package com.xxxxxx.xxxxxxxxxxxxx.entity.alu;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import java.math.BigDecimal;\r\n\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class data base A {\r\n        @Id\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;Caixa&quot;)\r\n\tprivate String caixa;\r\n\r\n\t@Column(name = &quot;Embalador&quot;)\r\n\tprivate String embalador;\r\n\r\n\t@Column(name = &quot;Operador&quot;)\r\n\tprivate String operador;\r\n\r\n\t@Column(name = &quot;Empacotador&quot;)\r\n\tprivate String empacotador;\r\n\r\n\t@Column(name = &quot;VALORFINAL&quot;)\r\n\tprivate BigDecimal valor;\r\n\r\n\t@Column(name = &quot;VALOR&quot;)\r\n\tprivate BigDecimal valor;\r\n\r\n\t@Column(name = &quot;TAXA&quot;)\r\n\tprivate BigDecimal taxa;\r\n\r\n\t@Column(name = &quot;VENCIMENTO&quot;)\r\n\tprivate Integer vencimento;\r\n\r\n\t@Column(name = &quot;Estoquista&quot;)\r\n\tprivate String estoquista;\r\n\r\n\t@Column(name = &quot;Repositor&quot;)\r\n\tprivate Integer repositor;\r\n\r\n\t@Column(name = &quot;Peixeiro&quot;)\r\n\tprivate String peixeiro;\r\n\r\n\t@Column(name = &quot;MATRIZ&quot;)\r\n\tprivate String matriz;\r\n\r\n\t@Column(name = &quot;Auxiliar&quot;)\r\n\tprivate String auxiliar;\r\n\r\n\t@Column(name = &quot;TIPO&quot;)\r\n\tprivate Integer tipo;\r\n\r\n\tpublic Integracao(String toString, String toString1) {\r\n\t}\r\n      }`\r\n\r\n     **DBMS B Entity**\r\n\r\n     `package com.xxxxxxx.xxxxxxxxxxxxxx.entity.integracao;\r\n\r\n      import lombok.AllArgsConstructor;\r\n      import lombok.Data;\r\n      import lombok.NoArgsConstructor;\r\n      import javax.persistence.Column;\r\n      import javax.persistence.Entity;\r\n      import javax.persistence.Id;\r\n      import javax.persistence.Table;\r\n      import java.math.BigDecimal;\r\n\r\n\r\n     @Entity\r\n     @NoArgsConstructor\r\n     @AllArgsConstructor\r\n     @Data\r\n     @Table(name = &quot;integracao&quot; )\r\n     public class Integracao {\r\n\r\n\t@Id\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;Caixa&quot;)\r\n\tprivate String caixa;\r\n\r\n\t@Column(name = &quot;Embalador&quot;)\r\n\tprivate String embalador;\r\n\r\n\t@Column(name = &quot;Operador&quot;)\r\n\tprivate String operador;\r\n\r\n\t@Column(name = &quot;Empacotador&quot;)\r\n\tprivate String empacotador;\r\n\r\n\t@Column(name = &quot;VALORFINAL&quot;)\r\n\tprivate BigDecimal valor;\r\n\r\n\t@Column(name = &quot;VALOR&quot;)\r\n\tprivate BigDecimal valor;\r\n\r\n\t@Column(name = &quot;TAXA&quot;)\r\n\tprivate BigDecimal taxa;\r\n\r\n\t@Column(name = &quot;VENCIMENTO&quot;)\r\n\tprivate Integer vencimento;\r\n\r\n\t@Column(name = &quot;Estoquista&quot;)\r\n\tprivate String estoquista;\r\n\r\n\t@Column(name = &quot;Repositor&quot;)\r\n\tprivate Integer repositor;\r\n\r\n\t@Column(name = &quot;Peixeiro&quot;)\r\n\tprivate String peixeiro;\r\n\r\n\t@Column(name = &quot;MATRIZ&quot;)\r\n\tprivate String matriz;\r\n\r\n\t@Column(name = &quot;Auxiliar&quot;)\r\n\tprivate String auxiliar;\r\n\r\n\t@Column(name = &quot;TIPO&quot;)\r\n\tprivate Integer tipo;\r\n\r\n\tpublic Integracao(String toString, String toString1) {\r\n\t}\r\n     }`\r\n \r\n    **DBMS A repository**\r\n\r\n    `package com.xxxxxxxx.xxxxxxxxxxxxxx.repository.alu;\r\n     import org.springframework.data.jpa.repository.JpaRepository;\r\n     import com.xxxxxxxxxxx.xxxxxxxxxxxxx.entity.alu.data base A;\r\n     import org.springframework.data.jpa.repository.Query;\r\n     import org.springframework.stereotype.Repository;\r\n     import java.util.List;\r\n\r\n     @Repository\r\n     public interface xxxxxxxRepository extends JpaRepository&lt;xxxxxxx,Long&gt;{\r\n     @Query(nativeQuery = true, value =&quot;SELECT &quot; +\r\n            &quot;    EMBALADOR,&quot; +\r\n            &quot;    OPERADOR,&quot; +\r\n            &quot;    EMPACOTADOR,&quot; +\r\n            &quot;    VALORFINAL,&quot; +\r\n            &quot;    VALOR,&quot; +\r\n            &quot;    VALOR,&quot; +\r\n            &quot;    TAXA,&quot; +\r\n            &quot;    VENCIMENTO,&quot; +\r\n            &quot;    ESTOQUISTA,&quot; +\r\n            &quot;    REPOSITOR,&quot; +\r\n            &quot;    PEIXEIRO,&quot; +\r\n            &quot;    MATRIZ,&quot; +\r\n            &quot;    AUXILIAR,&quot; +\r\n            &quot;    TIPO FROM SPR_SUPERMECADO&quot; )  (Note * SPR_SUPERMECADO Would be the View that I want to   store in the table of data base B)\r\n    List&lt;Object&gt;projection();\r\n\r\n    }\r\n   `\r\n    **DBMS B repository**\r\n\r\n    `package com.xxxxxxx.xxxxxxxxxxx.repository.integracao;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import com.xxxxxxxxxx.xxxxxxxxxxxxx.entity.integracao.Integracao;\r\n\r\n    @Repository\r\n    public interface IntegracaoRepository extends JpaRepository&lt;Integracao,Long&gt;{\r\n\r\n   }\r\n   ``\r\n\r\n    \r\n\r\n\r\n   \r\n\r\n    stack trace output:\r\n\r\n\r\n    `2023-02-22 16:57:29.969 ERROR 5640 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :        Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: No primary or single unique constructor found for interface java.util.List] with root cause\r\n\r\n     java.lang.IllegalStateException: No primary or single unique constructor found for interface      java.util.List\r\n\tat org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:267) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat    org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMetho  dProcessor.java:219) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat   org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\r\n\r\n \r\n\r\n\r\n I followed this tutorial, but I was not \r\n\r\n https://stackoverflow.com/questions/67937954/convert-resultset-to-model-in-spring-boot-2\r\n\r\n\r\n ","title":"How to store a View from an API with multiple databases","body":"<p>I'm not able to bring my data into another table, which comes from another connection.\nI really need help on this, and my lack of experience bringing this is really getting to me. In my current scenario I have a connection with a DBMS that would be on the same network with a specific data base for it, I will call it data base A.\nin this data base A, the DBMS would be Fire bird and in this data base I have a View that consumes several columns and tables of this data base A,\nin this same API with connection to several DBMS, I have a Postgres data base that I will give an example of data base B, in it, I have an entity created\nto receive the View data from data base A,</p>\n<pre><code>Application.Properties\n\n\n   **DBMS A**\n`\n  alu.datasource.username:SYSDBA\n  alu.datasource.password:masterkey       \n    alu.datasource.jdbcUrl:jdbc:firebirdsql:192.011.2.55/3050:C:db/test.fdb\n  alu.datasource.hikari.connection-timeout = 20000\n  alu.datasource.hicari.minimum-idle = 10\n  alu.datasource.hicari.maximum-pool-size = 40 \n  alu.datasource.hicari.idle-timeout = 10000\n  alu.datasource.hicari.auto-commit = true\n\n**DBMS B**\n\n`integracao.jpa.hibernate.ddl-auto=update\n integracao.datasource.jdbcUrl=jdbc:postgresql://localhost/Integracao           \n integracao.datasource.username=postgres\n integracao.datasource.password=1234\n integracao.datasource.hikari.connection-timeout = 20000\n integracao.datasource.hicari.minimum-idle = 10\n integracao.datasource.hicari.maximum-pool-size = 40 \n integracao.datasource.hicari.idle-timeout = 10000\n integracao.datasource.hicari.auto-commit = true\n</code></pre>\n<p>`</p>\n<pre><code> **Database DBMS configuration A**\n\n`package com.XXXXXXXX.XXXXXXXXXXXXXXX.config.alu;\n import javax.sql.DataSource;\n import org.springframework.beans.factory.annotation.Qualifier;\n import org.springframework.boot.context.properties.ConfigurationProperties;\n import org.springframework.boot.jdbc.DataSourceBuilder;\n import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\n import org.springframework.context.annotation.Bean;\n import org.springframework.context.annotation.Configuration;\n import org.springframework.context.annotation.Primary;\n import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\n import com.XXXXXXX.XXXXXXXXXXX.repository.alu.XXXXXRepository;\n import java.util.HashMap;\n  import java.util.Map;\n\n @Configuration\n @EnableJpaRepositories(\n    basePackageClasses = XXXXXXRepository.class,\n    entityManagerFactoryRef = &quot;aluEntityManager&quot;)\n public class AluDbConfig {\n\n@Bean\n@ConfigurationProperties(prefix = &quot;alu.datasource&quot;)\npublic DataSource aluDataSource() {\n    return  DataSourceBuilder.create().build();\n}\n\n@Bean\n@Qualifier\npublic LocalContainerEntityManagerFactoryBean aluEntityManager(\n        EntityManagerFactoryBuilder builder) {\n    Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n    properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n    return builder\n            .dataSource(aluDataSource())\n            .packages(&quot;com.XXXXXXXXXXX.XXXXXXXXXXXXXXXXX.entity.alu&quot;)\n            .properties(properties)\n            .build();\n}\n\n   }\n\n  `\n\n\n  **Database DBMS configuration B**\n\n  `package com.XXXXXXXX.XXXXXXXXXXXXXXX.config.alu;\n  import javax.sql.DataSource;\n  import org.springframework.beans.factory.annotation.Qualifier;\n  import org.springframework.boot.context.properties.ConfigurationProperties;\n  import org.springframework.boot.jdbc.DataSourceBuilder;\n  import org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\n  import org.springframework.context.annotation.Bean;\n  import org.springframework.context.annotation.Configuration;\n  import org.springframework.context.annotation.Primary;\n  import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n  import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\n  import com.xxxxxxx.xxxxxxxxxxxxxxx.repository.integracao.IntegracaoRepository;\n  import java.util.HashMap;\n  import java.util.Map;\n\n\n  @Configuration\n  @EnableJpaRepositories(\n    basePackageClasses = IntegracaoRepository.class,\n    entityManagerFactoryRef = &quot;integracaoEntityManager&quot;)\n  public class IntegracaoDbConfig {\n\n@Bean\n@ConfigurationProperties(prefix = &quot;integracao.datasource&quot;)\n@Primary\npublic DataSource canDataSource() {\n    return  DataSourceBuilder.create().build();\n}\n\n@Bean\n@Qualifier\n@Primary\npublic LocalContainerEntityManagerFactoryBean integracaoEntityManager(\n        EntityManagerFactoryBuilder builder) {\n    Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n    properties.put(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n    return builder\n            .dataSource(canDataSource())\n            .packages(&quot;com.XXXXXXXX.XXXXXXXXXXXXXXXXXXXXX.entity.integracao&quot;)\n            .properties(properties)\n            .build();\n}\n  }\n    `\n**Controller**\n\n`package com.xxxxxxxx.xxxxxxxxxxxx.controller;\n import java.util.ArrayList;\n import java.util.List;\n import com.xxxxxxxx.xxxxxxxxxxxxxx.repository.alu.xxxxxxxxRepository;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.web.bind.annotation.*;\nimport com.xxxxxxxxxx.xxxxxxxxxxxxxxxx.entity.integracao.Integracao;\n\n\n@RestController\n@RequestMapping(value = &quot;/projecao&quot;)\npublic class IntegracaoController {\n\n@Autowired\nprivate xxxxxxxxRepository repository; =&gt; (Note: I had to hide the name, but this repository would    be from DBMS A)\n\n@GetMapping\n@ResponseBody\npublic List&lt;Integracao&gt; convert(List&lt;Object&gt; object) {\n    List&lt;Integracao&gt; list = new ArrayList&lt;Integracao&gt;();\n    for(final Object o : object) {\n        Object[] obj = (Object[]) o;\n        list.add(new Integracao(obj[0].toString(),obj[1].toString()));\n    }\n    return list;\n}\n\n }`\n\n**DBMS A Entity**\n\n`package com.xxxxxx.xxxxxxxxxxxxx.entity.alu;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport java.math.BigDecimal;\n\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class data base A {\n    @Id\nprivate Long id;\n\n@Column(name = &quot;Caixa&quot;)\nprivate String caixa;\n\n@Column(name = &quot;Embalador&quot;)\nprivate String embalador;\n\n@Column(name = &quot;Operador&quot;)\nprivate String operador;\n\n@Column(name = &quot;Empacotador&quot;)\nprivate String empacotador;\n\n@Column(name = &quot;VALORFINAL&quot;)\nprivate BigDecimal valor;\n\n@Column(name = &quot;VALOR&quot;)\nprivate BigDecimal valor;\n\n@Column(name = &quot;TAXA&quot;)\nprivate BigDecimal taxa;\n\n@Column(name = &quot;VENCIMENTO&quot;)\nprivate Integer vencimento;\n\n@Column(name = &quot;Estoquista&quot;)\nprivate String estoquista;\n\n@Column(name = &quot;Repositor&quot;)\nprivate Integer repositor;\n\n@Column(name = &quot;Peixeiro&quot;)\nprivate String peixeiro;\n\n@Column(name = &quot;MATRIZ&quot;)\nprivate String matriz;\n\n@Column(name = &quot;Auxiliar&quot;)\nprivate String auxiliar;\n\n@Column(name = &quot;TIPO&quot;)\nprivate Integer tipo;\n\npublic Integracao(String toString, String toString1) {\n}\n  }`\n\n **DBMS B Entity**\n\n `package com.xxxxxxx.xxxxxxxxxxxxxx.entity.integracao;\n\n  import lombok.AllArgsConstructor;\n  import lombok.Data;\n  import lombok.NoArgsConstructor;\n  import javax.persistence.Column;\n  import javax.persistence.Entity;\n  import javax.persistence.Id;\n  import javax.persistence.Table;\n  import java.math.BigDecimal;\n\n\n @Entity\n @NoArgsConstructor\n @AllArgsConstructor\n @Data\n @Table(name = &quot;integracao&quot; )\n public class Integracao {\n\n@Id\nprivate Long id;\n\n@Column(name = &quot;Caixa&quot;)\nprivate String caixa;\n\n@Column(name = &quot;Embalador&quot;)\nprivate String embalador;\n\n@Column(name = &quot;Operador&quot;)\nprivate String operador;\n\n@Column(name = &quot;Empacotador&quot;)\nprivate String empacotador;\n\n@Column(name = &quot;VALORFINAL&quot;)\nprivate BigDecimal valor;\n\n@Column(name = &quot;VALOR&quot;)\nprivate BigDecimal valor;\n\n@Column(name = &quot;TAXA&quot;)\nprivate BigDecimal taxa;\n\n@Column(name = &quot;VENCIMENTO&quot;)\nprivate Integer vencimento;\n\n@Column(name = &quot;Estoquista&quot;)\nprivate String estoquista;\n\n@Column(name = &quot;Repositor&quot;)\nprivate Integer repositor;\n\n@Column(name = &quot;Peixeiro&quot;)\nprivate String peixeiro;\n\n@Column(name = &quot;MATRIZ&quot;)\nprivate String matriz;\n\n@Column(name = &quot;Auxiliar&quot;)\nprivate String auxiliar;\n\n@Column(name = &quot;TIPO&quot;)\nprivate Integer tipo;\n\npublic Integracao(String toString, String toString1) {\n}\n }`\n\n**DBMS A repository**\n\n`package com.xxxxxxxx.xxxxxxxxxxxxxx.repository.alu;\n import org.springframework.data.jpa.repository.JpaRepository;\n import com.xxxxxxxxxxx.xxxxxxxxxxxxx.entity.alu.data base A;\n import org.springframework.data.jpa.repository.Query;\n import org.springframework.stereotype.Repository;\n import java.util.List;\n\n @Repository\n public interface xxxxxxxRepository extends JpaRepository&lt;xxxxxxx,Long&gt;{\n @Query(nativeQuery = true, value =&quot;SELECT &quot; +\n        &quot;    EMBALADOR,&quot; +\n        &quot;    OPERADOR,&quot; +\n        &quot;    EMPACOTADOR,&quot; +\n        &quot;    VALORFINAL,&quot; +\n        &quot;    VALOR,&quot; +\n        &quot;    VALOR,&quot; +\n        &quot;    TAXA,&quot; +\n        &quot;    VENCIMENTO,&quot; +\n        &quot;    ESTOQUISTA,&quot; +\n        &quot;    REPOSITOR,&quot; +\n        &quot;    PEIXEIRO,&quot; +\n        &quot;    MATRIZ,&quot; +\n        &quot;    AUXILIAR,&quot; +\n        &quot;    TIPO FROM SPR_SUPERMECADO&quot; )  (Note * SPR_SUPERMECADO Would be the View that I want to   store in the table of data base B)\nList&lt;Object&gt;projection();\n\n}\n</code></pre>\n<p>`\n<strong>DBMS B repository</strong></p>\n<pre><code>`package com.xxxxxxx.xxxxxxxxxxx.repository.integracao;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport com.xxxxxxxxxx.xxxxxxxxxxxxx.entity.integracao.Integracao;\n\n@Repository\npublic interface IntegracaoRepository extends JpaRepository&lt;Integracao,Long&gt;{\n</code></pre>\n<p>}\n``</p>\n<pre><code>stack trace output:\n\n\n`2023-02-22 16:57:29.969 ERROR 5640 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :        Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: No primary or single unique constructor found for interface java.util.List] with root cause\n\n java.lang.IllegalStateException: No primary or single unique constructor found for interface      java.util.List\nat org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:267) ~[spring-beans-5.3.24.jar:5.3.24]\nat    org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMetho  dProcessor.java:219) ~[spring-web-5.3.24.jar:5.3.24]\nat   org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-5.3.24.jar:5.3.24]\n</code></pre>\n<p>I followed this tutorial, but I was not</p>\n<p><a href=\"https://stackoverflow.com/questions/67937954/convert-resultset-to-model-in-spring-boot-2\">convert resultset to model in spring boot 2</a></p>\n"},{"tags":["java","android-room","database-migration"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575074903,"creation_date":1575074903,"answer_id":59112314,"question_id":59064933,"body_markdown":"&gt; Is this possible?\r\nYes. However it is a little complex.\r\n\r\nIn short, you can actually do it the other way round. Rather than use the new database from the asset and try to retrive the previous data (is complicated if using Room Migration as you have to effectiviely swap to the newly created/copied database which is further complicated as you&#39;re inside a transaction when migrating).\r\n\r\nIf however you do the schema changes to the database in use rather than the asset database, you can then get the asset database and copy the new non-user data (would be greatly complicated if the user&#39;s data were intermingled with the non-user data).\r\n\r\nEven this isn&#39;t that simple. However, here&#39;s a simple exmaple/scanario based upon a slight expansion of your code to :-\r\n\r\n    static final Migration MIGRATION_1_2 = new Migration(1, 2) {\r\n        @Override\r\n        public void migrate(SupportSQLiteDatabase db) {\r\n            final String TAG = &quot;MIGRATE_1_2&quot;;\r\n            Log.d(TAG,&quot;Database Version when called is &quot; + db.getVersion());\r\n\r\n            // I need to tell Room that it should use the data\r\n            // from version 1 ( with the user&#39;s favorites ) to version 2.\r\n\r\n            // &quot;CREATE TABLE IF NOT EXISTS `userdata` (`userId` INTEGER DEFAULT uid, `name` TEXT, PRIMARY KEY(`userId`))&quot;\r\n            //db.execSQL(&quot;CREATE TABLE IF NOT EXISTS `userdata_saveuserdata` (`userId` INTEGER, `name` TEXT, PRIMARY KEY(`userId`))&quot;);\r\n            //db.execSQL(&quot;INSERT INTO `userdata_saveuserdata` SELECT * FROM `userdata`&quot;);\r\n            db.execSQL(&quot;ALTER TABLE `otherdata` ADD COLUMN `column2` TEXT&quot;);\r\n            Log.d(TAG,&quot;Checking Context&quot;);\r\n            if (sContext != null) {\r\n                applyAssetDB(db);\r\n            } else {\r\n                Log.d(TAG,&quot;Context is null!!!!&quot;);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\nAs you can see this changes the otherdata table (not the users table) by adding a new column.\r\n\r\nIt then checks to see if sContext isn&#39;t null.\r\n\r\n- A valid Context is used rather then hard coding paths.\r\n\r\nThen the **applyAssetDB** is invoked, which is :-\r\n\r\n    private static void applyAssetDB(SupportSQLiteDatabase sdb) {\r\n        String TAG = &quot;APPLYASSETDB&quot;;\r\n        String mainDatabaseName = (new File(sdb.getPath()).getName());\r\n        String assetDatabaseName = mainDatabaseName + &quot;_asset&quot;;\r\n        String asset_schema = &quot;asset_schema&quot;;\r\n        Log.d(TAG,&quot;Attempting application of asset data to database.&quot;\r\n                        + &quot;\\n\\tActual Database = &quot; + mainDatabaseName\r\n                        + &quot;\\n\\tAsset Database will be &quot; + assetDatabaseName\r\n                        + &quot;\\n\\tSchema for attached database will be  &quot; + asset_schema\r\n                );\r\n        copyDatabaseFromAssets(AppDatabase.sContext,MainActivity.ASSETNAME,assetDatabaseName);\r\n        /*\r\n        if (sdb.isWriteAheadLoggingEnabled()) {\r\n            setAssetDBToWALMode(sContext.getDatabasePath(assetDatabaseName).getPath());\r\n        }\r\n        Log.d(TAG,&quot;Attempting to ATTACH  asset database &quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n        sdb.execSQL(&quot;ATTACH DATABASE &#39;&quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;&#39; AS &quot; + asset_schema);\r\n        Log.d(TAG,&quot;Attempting INSERTING NEW DATA using\\n\\t&quot; + &quot;INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.&quot; + asset_schema);\r\n        sdb.execSQL(&quot;INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.&quot; + asset_schema);\r\n        Log.d(TAG,&quot;Attempting to DETACH &quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n        sdb.execSQL(&quot;DETACH DATABASE &#39;&quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n        */\r\n\r\n        int insertRows = 0;\r\n        SQLiteDatabase assetdb = SQLiteDatabase.openDatabase(sContext.getDatabasePath(assetDatabaseName).getPath(),null,SQLiteDatabase.OPEN_READONLY);\r\n        Cursor assetCursor = assetdb.query(&quot;`otherdata`&quot;,null,null,null,null,null,null);\r\n        ContentValues cv = new ContentValues();\r\n        while (assetCursor.moveToNext()) {\r\n            cv.clear();\r\n            for (String c: assetCursor.getColumnNames()) {\r\n                if (assetCursor.getType(assetCursor.getColumnIndex(c)) == Cursor.FIELD_TYPE_BLOB) {\r\n                    cv.put(c,assetCursor.getBlob(assetCursor.getColumnIndex(c)));\r\n                } else {\r\n                    cv.put(c,assetCursor.getString(assetCursor.getColumnIndex(c)));\r\n                }\r\n            }\r\n            if (sdb.insert(&quot;`otherdata`&quot;, OnConflictStrategy.IGNORE,cv) &gt; 0 ) insertRows++;\r\n        }\r\n        Log.d(TAG,&quot;Inserted &quot; + insertRows + &quot; from the Asset Database&quot;);\r\n        assetCursor.close();\r\n\r\n        Log.d(TAG,&quot;Deleting &quot; + sContext.getDatabasePath(assetDatabaseName).getPath());\r\n        if ((new File(sContext.getDatabasePath(assetDatabaseName).getPath())).delete()) {\r\n            Log.d(TAG,&quot;Copied AssetDatabase successfully deleted.&quot;);\r\n        } else {\r\n            Log.d(TAG,&quot;Copied Asset Database file not deleted????&quot;);\r\n        }\r\n        Log.d(TAG,&quot;Finished&quot;);\r\n    }\r\n\r\n- commented out code left in intentionally as issue were encountered when trying to ATTACH the database copied from the assets, so reverted to using seperate connetions.\r\n\r\nThis copies the database from the asset to the defauly database location via the **copyDatabaseFromAssets** method (as below). It the extracts all of the non user&#39;s data from the asset database and inserts it into the original (but altered according to the changed schema) database **relying** upon the **OnConflictStrategy.IGNORE** to only insert new rows. The **userdata** table is untouched, so the user&#39;s data is retianed.\r\n\r\n- Obviously this would not cater for changed rows.\r\n\r\nHere&#39;s **copyDatabaseFromAssets**\r\n\r\n    private static void copyDatabaseFromAssets(Context context, String assetName, String databaseName) {\r\n        String TAG = &quot;COPYDBFROMASSET&quot;;\r\n        int bufferSize = 1024 * 4, length = 0, read = 0, written = 0, chunks = 0;\r\n        byte[] buffer = new byte[bufferSize];\r\n        try {\r\n            Log.d(TAG,&quot;Attempting opening asset &quot; + assetName + &quot; as an InputFileStream.&quot;);\r\n            InputStream is = context.getAssets().open(assetName);\r\n            Log.d(TAG,&quot;Attempting opening FileOutputStream &quot; + context.getDatabasePath(databaseName).getPath());\r\n            OutputStream os = new FileOutputStream(context.getDatabasePath(databaseName));\r\n            Log.d(TAG,&quot;Initiating copy.&quot;);\r\n            while((length = is.read(buffer)) &gt; 0) {\r\n                read += length;\r\n                os.write(buffer,0,length);\r\n                written += length;\r\n                chunks++;\r\n            }\r\n            Log.d(TAG,&quot;Read &quot; + read + &quot;bytes; Wrote &quot; + written + &quot; bytes; in &quot; + chunks);\r\n            Log.d(TAG,&quot;Finalising (Flush and Close output and close input)&quot;);\r\n            os.flush();\r\n            os.close();\r\n            is.close();\r\n            Log.d(TAG,&quot;Finalised&quot;);\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Error copying Database from Asset &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\nHere&#39;s an example Activity **MainActivity** that puts this all together (noting that for convenience I&#39;ve used allowMainThreadQueries ) :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        //public static final int DBVERSION = 1; //!!!!! ORIGINAL\r\n        public static final int DBVERSION = 2;\r\n        public static final String DBNAME = &quot;app_database.db&quot;;\r\n        public static final String ASSETNAME = &quot;database/QuotesDB.db&quot;;\r\n    \r\n        AppDatabase appDB;\r\n        AllDao adao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            appDB.setContext(this);\r\n            appDB = Room.databaseBuilder(this,AppDatabase.class,DBNAME)\r\n                    .allowMainThreadQueries()\r\n                    .createFromAsset(ASSETNAME)\r\n                    .addCallback(AppDatabase.CALLBACK)\r\n                    .addMigrations(AppDatabase.MIGRATION_1_2)\r\n                    .build();\r\n            adao = appDB.allDao();\r\n            appDB.logDBInfo();\r\n            if (adao.getUserDataRowCount() == 3) {\r\n                adao.insertOneUserData(new UserData(&quot;ADDEDU100&quot;));\r\n                adao.insertOneUserData(new UserData(&quot;ADDEDU200&quot;));\r\n                adao.insertOneUserData(new UserData(&quot;ADDEDU300&quot;));\r\n            }\r\n            appDB.logDBInfo();\r\n        }\r\n    }\r\n\r\nWhen run (after changing the relevant code for the new schema and increasing the version) the result in the log is :-\r\n\r\n    2019-11-30 10:56:38.768 12944-12944/a.roommigrationwithassets D/MIGRATE_1_2: Database Version when called is 1\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/MIGRATE_1_2: Checking Context\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Attempting application of asset data to database.\r\n        \tActual Database = app_database.db\r\n        \tAsset Database will be app_database.db_asset\r\n        \tSchema for attached database will be  asset_schema\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Attempting opening asset database/QuotesDB.db as an InputFileStream.\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Attempting opening FileOutputStream /data/user/0/a.roommigrationwithassets/databases/app_database.db_asset\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Initiating copy.\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Read 12288bytes; Wrote 12288 bytes; in 3\r\n    2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Finalising (Flush and Close output and close input)\r\n    2019-11-30 10:56:38.772 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Finalised\r\n    2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Inserted 3 from the Asset Database\r\n    2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Deleting /data/user/0/a.roommigrationwithassets/databases/app_database.db_asset\r\n    2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Copied AssetDatabase successfully deleted.\r\n    2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Finished\r\n    2019-11-30 10:56:38.815 12944-12944/a.roommigrationwithassets D/ONOPEN: Database Version when called is 2\r\n    2019-11-30 10:56:38.816 12944-12944/a.roommigrationwithassets D/ONOPEN: Database Version after Super call is 2\r\n    2019-11-30 10:56:38.819 12944-12944/a.roommigrationwithassets D/DBINFO: UserData rowcount = 6\r\n        \tID = 1 NAME = OU1\r\n        \tID = 2 NAME = OU2\r\n        \tID = 3 NAME = OU3\r\n        \tID = 4 NAME = ADDEDU100\r\n        \tID = 5 NAME = ADDEDU200\r\n        \tID = 6 NAME = ADDEDU300\r\n        \r\n        OtherData rowcount = 3\r\n        \tID = 1Column1 = OD1\r\n        \tID = 2Column1 = OD2\r\n        \tID = 3Column1 = OD3\r\n    2019-11-30 10:56:38.821 12944-12944/a.roommigrationwithassets D/DBINFO: UserData rowcount = 6\r\n        \tID = 1 NAME = OU1\r\n        \tID = 2 NAME = OU2\r\n        \tID = 3 NAME = OU3\r\n        \tID = 4 NAME = ADDEDU100\r\n        \tID = 5 NAME = ADDEDU200\r\n        \tID = 6 NAME = ADDEDU300\r\n        \r\n        OtherData rowcount = 3\r\n        \tID = 1Column1 = OD1\r\n        \tID = 2Column1 = OD2\r\n        \tID = 3Column1 = OD3\r\n\r\n\r\n\r\n\r\nThe complete code for the **AppDatabase** class (noting that this includes some redundant code) is :-\r\n\r\n    @Database(version = MainActivity.DBVERSION, exportSchema = false,entities = {UserData.class,OtherData.class})\r\n    abstract class AppDatabase extends RoomDatabase {\r\n    \r\n        abstract AllDao allDao();\r\n        static Context sContext;\r\n    \r\n        static final Migration MIGRATION_1_2 = new Migration(1, 2) {\r\n            @Override\r\n            public void migrate(SupportSQLiteDatabase db) {\r\n                final String TAG = &quot;MIGRATE_1_2&quot;;\r\n                Log.d(TAG,&quot;Database Version when called is &quot; + db.getVersion());\r\n    \r\n                // I need to tell Room that it should use the data\r\n                // from version 1 ( with the user&#39;s favorites ) to version 2.\r\n    \r\n                // &quot;CREATE TABLE IF NOT EXISTS `userdata` (`userId` INTEGER DEFAULT uid, `name` TEXT, PRIMARY KEY(`userId`))&quot;\r\n                //db.execSQL(&quot;CREATE TABLE IF NOT EXISTS `userdata_saveuserdata` (`userId` INTEGER, `name` TEXT, PRIMARY KEY(`userId`))&quot;);\r\n                //db.execSQL(&quot;INSERT INTO `userdata_saveuserdata` SELECT * FROM `userdata`&quot;);\r\n                db.execSQL(&quot;ALTER TABLE `otherdata` ADD COLUMN `column2` TEXT&quot;);\r\n                Log.d(TAG,&quot;Checking Context&quot;);\r\n                if (sContext != null) {\r\n                    applyAssetDB(db);\r\n                } else {\r\n                    Log.d(TAG,&quot;Context is null!!!!&quot;);\r\n                }\r\n            }\r\n        };\r\n    \r\n        static final RoomDatabase.Callback CALLBACK = new RoomDatabase.Callback() {\r\n            @Override\r\n            public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                Log.d(&quot;ONCREATE&quot;,&quot;Database Version when called is &quot; + db.getVersion());\r\n                super.onCreate(db);\r\n                Log.d(&quot;ONCREATE&quot;,&quot;Database Version after Super call is &quot; + db.getVersion());\r\n            }\r\n    \r\n            @Override\r\n            public void onOpen(@NonNull SupportSQLiteDatabase db) {\r\n                Log.d(&quot;ONOPEN&quot;,&quot;Database Version when called is &quot; + db.getVersion());\r\n                super.onOpen(db);\r\n                Log.d(&quot;ONOPEN&quot;,&quot;Database Version after Super call is &quot; + db.getVersion());\r\n            }\r\n    \r\n            @Override\r\n            public void onDestructiveMigration(@NonNull SupportSQLiteDatabase db) {\r\n                Log.d(&quot;ONDESTRMIG&quot;,&quot;Database Version when called is &quot; + db.getVersion());\r\n                super.onDestructiveMigration(db);\r\n                Log.d(&quot;ONDESTRMIG&quot;,&quot;Database Version after Super call is &quot; + db.getVersion());\r\n            }\r\n        };\r\n    \r\n        public void logDBInfo() {\r\n            AllDao adao = this.allDao();\r\n            List&lt;UserData&gt; allUserDataRows = adao.getAllUserDataRows();\r\n            StringBuilder sb = new StringBuilder().append(&quot;UserData rowcount = &quot;).append(allUserDataRows.size());\r\n            for (UserData u: allUserDataRows) {\r\n                sb.append(&quot;\\n\\tID = &quot;).append(u.getId()).append(&quot; NAME = &quot; + u.getName());\r\n            }\r\n            List&lt;OtherData&gt; allOtherDataRows = adao.getAllOtherDataRows();\r\n            sb.append(&quot;\\n\\nOtherData rowcount = &quot;).append(allOtherDataRows.size());\r\n            for (OtherData o: allOtherDataRows) {\r\n                sb.append(&quot;\\n\\tID = &quot;).append(o.getOtherDataId()).append(&quot;Column1 = &quot;).append(o.getColumn1());\r\n            }\r\n            Log.d(&quot;DBINFO&quot;,sb.toString());\r\n        }\r\n    \r\n        static  void setContext(Context context) {\r\n            sContext = context;\r\n        }\r\n    \r\n        private static void applyAssetDB(SupportSQLiteDatabase sdb) {\r\n            String TAG = &quot;APPLYASSETDB&quot;;\r\n            String mainDatabaseName = (new File(sdb.getPath()).getName());\r\n            String assetDatabaseName = mainDatabaseName + &quot;_asset&quot;;\r\n            String asset_schema = &quot;asset_schema&quot;;\r\n            Log.d(TAG,&quot;Attempting application of asset data to database.&quot;\r\n                            + &quot;\\n\\tActual Database = &quot; + mainDatabaseName\r\n                            + &quot;\\n\\tAsset Database will be &quot; + assetDatabaseName\r\n                            + &quot;\\n\\tSchema for attached database will be  &quot; + asset_schema\r\n                    );\r\n            copyDatabaseFromAssets(AppDatabase.sContext,MainActivity.ASSETNAME,assetDatabaseName);\r\n            /*\r\n            if (sdb.isWriteAheadLoggingEnabled()) {\r\n                setAssetDBToWALMode(sContext.getDatabasePath(assetDatabaseName).getPath());\r\n            }\r\n            Log.d(TAG,&quot;Attempting to ATTACH  asset database &quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n            sdb.execSQL(&quot;ATTACH DATABASE &#39;&quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;&#39; AS &quot; + asset_schema);\r\n            Log.d(TAG,&quot;Attempting INSERTING NEW DATA using\\n\\t&quot; + &quot;INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.&quot; + asset_schema);\r\n            sdb.execSQL(&quot;INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.&quot; + asset_schema);\r\n            Log.d(TAG,&quot;Attempting to DETACH &quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n            sdb.execSQL(&quot;DETACH DATABASE &#39;&quot; + sContext.getDatabasePath(assetDatabaseName).getPath() + &quot;.&quot; + asset_schema);\r\n            */\r\n    \r\n            int insertRows = 0;\r\n            SQLiteDatabase assetdb = SQLiteDatabase.openDatabase(sContext.getDatabasePath(assetDatabaseName).getPath(),null,SQLiteDatabase.OPEN_READONLY);\r\n            Cursor assetCursor = assetdb.query(&quot;`otherdata`&quot;,null,null,null,null,null,null);\r\n            ContentValues cv = new ContentValues();\r\n            while (assetCursor.moveToNext()) {\r\n                cv.clear();\r\n                for (String c: assetCursor.getColumnNames()) {\r\n                    if (assetCursor.getType(assetCursor.getColumnIndex(c)) == Cursor.FIELD_TYPE_BLOB) {\r\n                        cv.put(c,assetCursor.getBlob(assetCursor.getColumnIndex(c)));\r\n                    } else {\r\n                        cv.put(c,assetCursor.getString(assetCursor.getColumnIndex(c)));\r\n                    }\r\n                }\r\n                if (sdb.insert(&quot;`otherdata`&quot;, OnConflictStrategy.IGNORE,cv) &gt; 0 ) insertRows++;\r\n            }\r\n            Log.d(TAG,&quot;Inserted &quot; + insertRows + &quot; from the Asset Database&quot;);\r\n            assetCursor.close();\r\n    \r\n            Log.d(TAG,&quot;Deleting &quot; + sContext.getDatabasePath(assetDatabaseName).getPath());\r\n            if ((new File(sContext.getDatabasePath(assetDatabaseName).getPath())).delete()) {\r\n                Log.d(TAG,&quot;Copied AssetDatabase successfully deleted.&quot;);\r\n            } else {\r\n                Log.d(TAG,&quot;Copied Asset Database file not deleted????&quot;);\r\n            }\r\n            Log.d(TAG,&quot;Finished&quot;);\r\n        }\r\n    \r\n        private static void copyDatabaseFromAssets(Context context, String assetName, String databaseName) {\r\n            String TAG = &quot;COPYDBFROMASSET&quot;;\r\n            int bufferSize = 1024 * 4, length = 0, read = 0, written = 0, chunks = 0;\r\n            byte[] buffer = new byte[bufferSize];\r\n            try {\r\n                Log.d(TAG,&quot;Attempting opening asset &quot; + assetName + &quot; as an InputFileStream.&quot;);\r\n                InputStream is = context.getAssets().open(assetName);\r\n                Log.d(TAG,&quot;Attempting opening FileOutputStream &quot; + context.getDatabasePath(databaseName).getPath());\r\n                OutputStream os = new FileOutputStream(context.getDatabasePath(databaseName));\r\n                Log.d(TAG,&quot;Initiating copy.&quot;);\r\n                while((length = is.read(buffer)) &gt; 0) {\r\n                    read += length;\r\n                    os.write(buffer,0,length);\r\n                    written += length;\r\n                    chunks++;\r\n                }\r\n                Log.d(TAG,&quot;Read &quot; + read + &quot;bytes; Wrote &quot; + written + &quot; bytes; in &quot; + chunks);\r\n                Log.d(TAG,&quot;Finalising (Flush and Close output and close input)&quot;);\r\n                os.flush();\r\n                os.close();\r\n                is.close();\r\n                Log.d(TAG,&quot;Finalised&quot;);\r\n    \r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Error copying Database from Asset &quot; + e.getMessage());\r\n            }\r\n        }\r\n    \r\n        private static void setAssetDBToWALMode(String assetDBPath) {\r\n            SQLiteDatabase db = SQLiteDatabase.openDatabase(assetDBPath,null,SQLiteDatabase.OPEN_READWRITE);\r\n            db.enableWriteAheadLogging();\r\n            db.close();\r\n        }\r\n    }\r\n\r\n","title":"Merge user&#39;s Android Room database when migrating database","body":"<blockquote>\n  <p>Is this possible?\n  Yes. However it is a little complex.</p>\n</blockquote>\n\n<p>In short, you can actually do it the other way round. Rather than use the new database from the asset and try to retrive the previous data (is complicated if using Room Migration as you have to effectiviely swap to the newly created/copied database which is further complicated as you're inside a transaction when migrating).</p>\n\n<p>If however you do the schema changes to the database in use rather than the asset database, you can then get the asset database and copy the new non-user data (would be greatly complicated if the user's data were intermingled with the non-user data).</p>\n\n<p>Even this isn't that simple. However, here's a simple exmaple/scanario based upon a slight expansion of your code to :-</p>\n\n<pre><code>static final Migration MIGRATION_1_2 = new Migration(1, 2) {\n    @Override\n    public void migrate(SupportSQLiteDatabase db) {\n        final String TAG = \"MIGRATE_1_2\";\n        Log.d(TAG,\"Database Version when called is \" + db.getVersion());\n\n        // I need to tell Room that it should use the data\n        // from version 1 ( with the user's favorites ) to version 2.\n\n        // \"CREATE TABLE IF NOT EXISTS `userdata` (`userId` INTEGER DEFAULT uid, `name` TEXT, PRIMARY KEY(`userId`))\"\n        //db.execSQL(\"CREATE TABLE IF NOT EXISTS `userdata_saveuserdata` (`userId` INTEGER, `name` TEXT, PRIMARY KEY(`userId`))\");\n        //db.execSQL(\"INSERT INTO `userdata_saveuserdata` SELECT * FROM `userdata`\");\n        db.execSQL(\"ALTER TABLE `otherdata` ADD COLUMN `column2` TEXT\");\n        Log.d(TAG,\"Checking Context\");\n        if (sContext != null) {\n            applyAssetDB(db);\n        } else {\n            Log.d(TAG,\"Context is null!!!!\");\n        }\n    }\n};\n</code></pre>\n\n<p>As you can see this changes the otherdata table (not the users table) by adding a new column.</p>\n\n<p>It then checks to see if sContext isn't null.</p>\n\n<ul>\n<li>A valid Context is used rather then hard coding paths.</li>\n</ul>\n\n<p>Then the <strong>applyAssetDB</strong> is invoked, which is :-</p>\n\n<pre><code>private static void applyAssetDB(SupportSQLiteDatabase sdb) {\n    String TAG = \"APPLYASSETDB\";\n    String mainDatabaseName = (new File(sdb.getPath()).getName());\n    String assetDatabaseName = mainDatabaseName + \"_asset\";\n    String asset_schema = \"asset_schema\";\n    Log.d(TAG,\"Attempting application of asset data to database.\"\n                    + \"\\n\\tActual Database = \" + mainDatabaseName\n                    + \"\\n\\tAsset Database will be \" + assetDatabaseName\n                    + \"\\n\\tSchema for attached database will be  \" + asset_schema\n            );\n    copyDatabaseFromAssets(AppDatabase.sContext,MainActivity.ASSETNAME,assetDatabaseName);\n    /*\n    if (sdb.isWriteAheadLoggingEnabled()) {\n        setAssetDBToWALMode(sContext.getDatabasePath(assetDatabaseName).getPath());\n    }\n    Log.d(TAG,\"Attempting to ATTACH  asset database \" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n    sdb.execSQL(\"ATTACH DATABASE '\" + sContext.getDatabasePath(assetDatabaseName).getPath() + \"' AS \" + asset_schema);\n    Log.d(TAG,\"Attempting INSERTING NEW DATA using\\n\\t\" + \"INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.\" + asset_schema);\n    sdb.execSQL(\"INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.\" + asset_schema);\n    Log.d(TAG,\"Attempting to DETACH \" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n    sdb.execSQL(\"DETACH DATABASE '\" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n    */\n\n    int insertRows = 0;\n    SQLiteDatabase assetdb = SQLiteDatabase.openDatabase(sContext.getDatabasePath(assetDatabaseName).getPath(),null,SQLiteDatabase.OPEN_READONLY);\n    Cursor assetCursor = assetdb.query(\"`otherdata`\",null,null,null,null,null,null);\n    ContentValues cv = new ContentValues();\n    while (assetCursor.moveToNext()) {\n        cv.clear();\n        for (String c: assetCursor.getColumnNames()) {\n            if (assetCursor.getType(assetCursor.getColumnIndex(c)) == Cursor.FIELD_TYPE_BLOB) {\n                cv.put(c,assetCursor.getBlob(assetCursor.getColumnIndex(c)));\n            } else {\n                cv.put(c,assetCursor.getString(assetCursor.getColumnIndex(c)));\n            }\n        }\n        if (sdb.insert(\"`otherdata`\", OnConflictStrategy.IGNORE,cv) &gt; 0 ) insertRows++;\n    }\n    Log.d(TAG,\"Inserted \" + insertRows + \" from the Asset Database\");\n    assetCursor.close();\n\n    Log.d(TAG,\"Deleting \" + sContext.getDatabasePath(assetDatabaseName).getPath());\n    if ((new File(sContext.getDatabasePath(assetDatabaseName).getPath())).delete()) {\n        Log.d(TAG,\"Copied AssetDatabase successfully deleted.\");\n    } else {\n        Log.d(TAG,\"Copied Asset Database file not deleted????\");\n    }\n    Log.d(TAG,\"Finished\");\n}\n</code></pre>\n\n<ul>\n<li>commented out code left in intentionally as issue were encountered when trying to ATTACH the database copied from the assets, so reverted to using seperate connetions.</li>\n</ul>\n\n<p>This copies the database from the asset to the defauly database location via the <strong>copyDatabaseFromAssets</strong> method (as below). It the extracts all of the non user's data from the asset database and inserts it into the original (but altered according to the changed schema) database <strong>relying</strong> upon the <strong>OnConflictStrategy.IGNORE</strong> to only insert new rows. The <strong>userdata</strong> table is untouched, so the user's data is retianed.</p>\n\n<ul>\n<li>Obviously this would not cater for changed rows.</li>\n</ul>\n\n<p>Here's <strong>copyDatabaseFromAssets</strong></p>\n\n<pre><code>private static void copyDatabaseFromAssets(Context context, String assetName, String databaseName) {\n    String TAG = \"COPYDBFROMASSET\";\n    int bufferSize = 1024 * 4, length = 0, read = 0, written = 0, chunks = 0;\n    byte[] buffer = new byte[bufferSize];\n    try {\n        Log.d(TAG,\"Attempting opening asset \" + assetName + \" as an InputFileStream.\");\n        InputStream is = context.getAssets().open(assetName);\n        Log.d(TAG,\"Attempting opening FileOutputStream \" + context.getDatabasePath(databaseName).getPath());\n        OutputStream os = new FileOutputStream(context.getDatabasePath(databaseName));\n        Log.d(TAG,\"Initiating copy.\");\n        while((length = is.read(buffer)) &gt; 0) {\n            read += length;\n            os.write(buffer,0,length);\n            written += length;\n            chunks++;\n        }\n        Log.d(TAG,\"Read \" + read + \"bytes; Wrote \" + written + \" bytes; in \" + chunks);\n        Log.d(TAG,\"Finalising (Flush and Close output and close input)\");\n        os.flush();\n        os.close();\n        is.close();\n        Log.d(TAG,\"Finalised\");\n\n    } catch (IOException e) {\n        throw new RuntimeException(\"Error copying Database from Asset \" + e.getMessage());\n    }\n}\n</code></pre>\n\n<p>Here's an example Activity <strong>MainActivity</strong> that puts this all together (noting that for convenience I've used allowMainThreadQueries ) :-</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    //public static final int DBVERSION = 1; //!!!!! ORIGINAL\n    public static final int DBVERSION = 2;\n    public static final String DBNAME = \"app_database.db\";\n    public static final String ASSETNAME = \"database/QuotesDB.db\";\n\n    AppDatabase appDB;\n    AllDao adao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        appDB.setContext(this);\n        appDB = Room.databaseBuilder(this,AppDatabase.class,DBNAME)\n                .allowMainThreadQueries()\n                .createFromAsset(ASSETNAME)\n                .addCallback(AppDatabase.CALLBACK)\n                .addMigrations(AppDatabase.MIGRATION_1_2)\n                .build();\n        adao = appDB.allDao();\n        appDB.logDBInfo();\n        if (adao.getUserDataRowCount() == 3) {\n            adao.insertOneUserData(new UserData(\"ADDEDU100\"));\n            adao.insertOneUserData(new UserData(\"ADDEDU200\"));\n            adao.insertOneUserData(new UserData(\"ADDEDU300\"));\n        }\n        appDB.logDBInfo();\n    }\n}\n</code></pre>\n\n<p>When run (after changing the relevant code for the new schema and increasing the version) the result in the log is :-</p>\n\n<pre><code>2019-11-30 10:56:38.768 12944-12944/a.roommigrationwithassets D/MIGRATE_1_2: Database Version when called is 1\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/MIGRATE_1_2: Checking Context\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Attempting application of asset data to database.\n        Actual Database = app_database.db\n        Asset Database will be app_database.db_asset\n        Schema for attached database will be  asset_schema\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Attempting opening asset database/QuotesDB.db as an InputFileStream.\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Attempting opening FileOutputStream /data/user/0/a.roommigrationwithassets/databases/app_database.db_asset\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Initiating copy.\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Read 12288bytes; Wrote 12288 bytes; in 3\n2019-11-30 10:56:38.771 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Finalising (Flush and Close output and close input)\n2019-11-30 10:56:38.772 12944-12944/a.roommigrationwithassets D/COPYDBFROMASSET: Finalised\n2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Inserted 3 from the Asset Database\n2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Deleting /data/user/0/a.roommigrationwithassets/databases/app_database.db_asset\n2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Copied AssetDatabase successfully deleted.\n2019-11-30 10:56:38.780 12944-12944/a.roommigrationwithassets D/APPLYASSETDB: Finished\n2019-11-30 10:56:38.815 12944-12944/a.roommigrationwithassets D/ONOPEN: Database Version when called is 2\n2019-11-30 10:56:38.816 12944-12944/a.roommigrationwithassets D/ONOPEN: Database Version after Super call is 2\n2019-11-30 10:56:38.819 12944-12944/a.roommigrationwithassets D/DBINFO: UserData rowcount = 6\n        ID = 1 NAME = OU1\n        ID = 2 NAME = OU2\n        ID = 3 NAME = OU3\n        ID = 4 NAME = ADDEDU100\n        ID = 5 NAME = ADDEDU200\n        ID = 6 NAME = ADDEDU300\n\n    OtherData rowcount = 3\n        ID = 1Column1 = OD1\n        ID = 2Column1 = OD2\n        ID = 3Column1 = OD3\n2019-11-30 10:56:38.821 12944-12944/a.roommigrationwithassets D/DBINFO: UserData rowcount = 6\n        ID = 1 NAME = OU1\n        ID = 2 NAME = OU2\n        ID = 3 NAME = OU3\n        ID = 4 NAME = ADDEDU100\n        ID = 5 NAME = ADDEDU200\n        ID = 6 NAME = ADDEDU300\n\n    OtherData rowcount = 3\n        ID = 1Column1 = OD1\n        ID = 2Column1 = OD2\n        ID = 3Column1 = OD3\n</code></pre>\n\n<p>The complete code for the <strong>AppDatabase</strong> class (noting that this includes some redundant code) is :-</p>\n\n<pre><code>@Database(version = MainActivity.DBVERSION, exportSchema = false,entities = {UserData.class,OtherData.class})\nabstract class AppDatabase extends RoomDatabase {\n\n    abstract AllDao allDao();\n    static Context sContext;\n\n    static final Migration MIGRATION_1_2 = new Migration(1, 2) {\n        @Override\n        public void migrate(SupportSQLiteDatabase db) {\n            final String TAG = \"MIGRATE_1_2\";\n            Log.d(TAG,\"Database Version when called is \" + db.getVersion());\n\n            // I need to tell Room that it should use the data\n            // from version 1 ( with the user's favorites ) to version 2.\n\n            // \"CREATE TABLE IF NOT EXISTS `userdata` (`userId` INTEGER DEFAULT uid, `name` TEXT, PRIMARY KEY(`userId`))\"\n            //db.execSQL(\"CREATE TABLE IF NOT EXISTS `userdata_saveuserdata` (`userId` INTEGER, `name` TEXT, PRIMARY KEY(`userId`))\");\n            //db.execSQL(\"INSERT INTO `userdata_saveuserdata` SELECT * FROM `userdata`\");\n            db.execSQL(\"ALTER TABLE `otherdata` ADD COLUMN `column2` TEXT\");\n            Log.d(TAG,\"Checking Context\");\n            if (sContext != null) {\n                applyAssetDB(db);\n            } else {\n                Log.d(TAG,\"Context is null!!!!\");\n            }\n        }\n    };\n\n    static final RoomDatabase.Callback CALLBACK = new RoomDatabase.Callback() {\n        @Override\n        public void onCreate(@NonNull SupportSQLiteDatabase db) {\n            Log.d(\"ONCREATE\",\"Database Version when called is \" + db.getVersion());\n            super.onCreate(db);\n            Log.d(\"ONCREATE\",\"Database Version after Super call is \" + db.getVersion());\n        }\n\n        @Override\n        public void onOpen(@NonNull SupportSQLiteDatabase db) {\n            Log.d(\"ONOPEN\",\"Database Version when called is \" + db.getVersion());\n            super.onOpen(db);\n            Log.d(\"ONOPEN\",\"Database Version after Super call is \" + db.getVersion());\n        }\n\n        @Override\n        public void onDestructiveMigration(@NonNull SupportSQLiteDatabase db) {\n            Log.d(\"ONDESTRMIG\",\"Database Version when called is \" + db.getVersion());\n            super.onDestructiveMigration(db);\n            Log.d(\"ONDESTRMIG\",\"Database Version after Super call is \" + db.getVersion());\n        }\n    };\n\n    public void logDBInfo() {\n        AllDao adao = this.allDao();\n        List&lt;UserData&gt; allUserDataRows = adao.getAllUserDataRows();\n        StringBuilder sb = new StringBuilder().append(\"UserData rowcount = \").append(allUserDataRows.size());\n        for (UserData u: allUserDataRows) {\n            sb.append(\"\\n\\tID = \").append(u.getId()).append(\" NAME = \" + u.getName());\n        }\n        List&lt;OtherData&gt; allOtherDataRows = adao.getAllOtherDataRows();\n        sb.append(\"\\n\\nOtherData rowcount = \").append(allOtherDataRows.size());\n        for (OtherData o: allOtherDataRows) {\n            sb.append(\"\\n\\tID = \").append(o.getOtherDataId()).append(\"Column1 = \").append(o.getColumn1());\n        }\n        Log.d(\"DBINFO\",sb.toString());\n    }\n\n    static  void setContext(Context context) {\n        sContext = context;\n    }\n\n    private static void applyAssetDB(SupportSQLiteDatabase sdb) {\n        String TAG = \"APPLYASSETDB\";\n        String mainDatabaseName = (new File(sdb.getPath()).getName());\n        String assetDatabaseName = mainDatabaseName + \"_asset\";\n        String asset_schema = \"asset_schema\";\n        Log.d(TAG,\"Attempting application of asset data to database.\"\n                        + \"\\n\\tActual Database = \" + mainDatabaseName\n                        + \"\\n\\tAsset Database will be \" + assetDatabaseName\n                        + \"\\n\\tSchema for attached database will be  \" + asset_schema\n                );\n        copyDatabaseFromAssets(AppDatabase.sContext,MainActivity.ASSETNAME,assetDatabaseName);\n        /*\n        if (sdb.isWriteAheadLoggingEnabled()) {\n            setAssetDBToWALMode(sContext.getDatabasePath(assetDatabaseName).getPath());\n        }\n        Log.d(TAG,\"Attempting to ATTACH  asset database \" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n        sdb.execSQL(\"ATTACH DATABASE '\" + sContext.getDatabasePath(assetDatabaseName).getPath() + \"' AS \" + asset_schema);\n        Log.d(TAG,\"Attempting INSERTING NEW DATA using\\n\\t\" + \"INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.\" + asset_schema);\n        sdb.execSQL(\"INSERT OR IGNORE INTO `otherdata` SELECT * FROM `otherdata`.\" + asset_schema);\n        Log.d(TAG,\"Attempting to DETACH \" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n        sdb.execSQL(\"DETACH DATABASE '\" + sContext.getDatabasePath(assetDatabaseName).getPath() + \".\" + asset_schema);\n        */\n\n        int insertRows = 0;\n        SQLiteDatabase assetdb = SQLiteDatabase.openDatabase(sContext.getDatabasePath(assetDatabaseName).getPath(),null,SQLiteDatabase.OPEN_READONLY);\n        Cursor assetCursor = assetdb.query(\"`otherdata`\",null,null,null,null,null,null);\n        ContentValues cv = new ContentValues();\n        while (assetCursor.moveToNext()) {\n            cv.clear();\n            for (String c: assetCursor.getColumnNames()) {\n                if (assetCursor.getType(assetCursor.getColumnIndex(c)) == Cursor.FIELD_TYPE_BLOB) {\n                    cv.put(c,assetCursor.getBlob(assetCursor.getColumnIndex(c)));\n                } else {\n                    cv.put(c,assetCursor.getString(assetCursor.getColumnIndex(c)));\n                }\n            }\n            if (sdb.insert(\"`otherdata`\", OnConflictStrategy.IGNORE,cv) &gt; 0 ) insertRows++;\n        }\n        Log.d(TAG,\"Inserted \" + insertRows + \" from the Asset Database\");\n        assetCursor.close();\n\n        Log.d(TAG,\"Deleting \" + sContext.getDatabasePath(assetDatabaseName).getPath());\n        if ((new File(sContext.getDatabasePath(assetDatabaseName).getPath())).delete()) {\n            Log.d(TAG,\"Copied AssetDatabase successfully deleted.\");\n        } else {\n            Log.d(TAG,\"Copied Asset Database file not deleted????\");\n        }\n        Log.d(TAG,\"Finished\");\n    }\n\n    private static void copyDatabaseFromAssets(Context context, String assetName, String databaseName) {\n        String TAG = \"COPYDBFROMASSET\";\n        int bufferSize = 1024 * 4, length = 0, read = 0, written = 0, chunks = 0;\n        byte[] buffer = new byte[bufferSize];\n        try {\n            Log.d(TAG,\"Attempting opening asset \" + assetName + \" as an InputFileStream.\");\n            InputStream is = context.getAssets().open(assetName);\n            Log.d(TAG,\"Attempting opening FileOutputStream \" + context.getDatabasePath(databaseName).getPath());\n            OutputStream os = new FileOutputStream(context.getDatabasePath(databaseName));\n            Log.d(TAG,\"Initiating copy.\");\n            while((length = is.read(buffer)) &gt; 0) {\n                read += length;\n                os.write(buffer,0,length);\n                written += length;\n                chunks++;\n            }\n            Log.d(TAG,\"Read \" + read + \"bytes; Wrote \" + written + \" bytes; in \" + chunks);\n            Log.d(TAG,\"Finalising (Flush and Close output and close input)\");\n            os.flush();\n            os.close();\n            is.close();\n            Log.d(TAG,\"Finalised\");\n\n        } catch (IOException e) {\n            throw new RuntimeException(\"Error copying Database from Asset \" + e.getMessage());\n        }\n    }\n\n    private static void setAssetDBToWALMode(String assetDBPath) {\n        SQLiteDatabase db = SQLiteDatabase.openDatabase(assetDBPath,null,SQLiteDatabase.OPEN_READWRITE);\n        db.enableWriteAheadLogging();\n        db.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3277609,"reputation":345,"user_id":2759134,"display_name":"Lexusminds"},"score":0,"creation_date":1663312676,"post_id":62047665,"comment_id":130214025,"body_markdown":"@parshant17 Sorry for picking up such an old answer, but I was wondering how this solves OP&#39;s problem of migrating the user&#39;s favorites to future versions. Woudln&#39;t this approach reset the user favorites because they are not included in the given QuotesDB.db asset?","body":"@parshant17 Sorry for picking up such an old answer, but I was wondering how this solves OP&#39;s problem of migrating the user&#39;s favorites to future versions. Woudln&#39;t this approach reset the user favorites because they are not included in the given QuotesDB.db asset?"}],"tags":[],"owner":{"account_id":11568420,"reputation":1540,"user_id":8475893,"display_name":"prashant17"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590595597,"creation_date":1590595597,"answer_id":62047665,"question_id":59064933,"body_markdown":"Yes, It is possible.\r\n\r\n**The one precondition is your pre-shipped database and app database version must be the same.** For example, your first release will have both databases as version 1. Now for the second release with new data update the pre-shipped and app database version to 2 and your database builder code will look like this:\r\n\r\n    Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, &quot;app_database.db&quot;)\r\n                                .createFromAsset(&quot;database/QuotesDB.db&quot;)\r\n                                .fallbackToDestructiveMigration()\r\n                                .build();\r\n\r\n[Prepopulate your Room database Docs][1]\r\n\r\n[This medium article][2] explains this nicely\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/room/prepopulate\r\n  [2]: https://medium.com/androiddevelopers/packing-the-room-pre-populate-your-database-with-this-one-method-333ae190e680","title":"Merge user&#39;s Android Room database when migrating database","body":"<p>Yes, It is possible.</p>\n\n<p><strong>The one precondition is your pre-shipped database and app database version must be the same.</strong> For example, your first release will have both databases as version 1. Now for the second release with new data update the pre-shipped and app database version to 2 and your database builder code will look like this:</p>\n\n<pre><code>Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, \"app_database.db\")\n                            .createFromAsset(\"database/QuotesDB.db\")\n                            .fallbackToDestructiveMigration()\n                            .build();\n</code></pre>\n\n<p><a href=\"https://developer.android.com/training/data-storage/room/prepopulate\" rel=\"nofollow noreferrer\">Prepopulate your Room database Docs</a></p>\n\n<p><a href=\"https://medium.com/androiddevelopers/packing-the-room-pre-populate-your-database-with-this-one-method-333ae190e680\" rel=\"nofollow noreferrer\">This medium article</a> explains this nicely</p>\n"},{"tags":[],"owner":{"account_id":6583488,"reputation":3,"user_id":5087036,"display_name":"Abdullah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619931047,"creation_date":1619931047,"answer_id":67353086,"question_id":59064933,"body_markdown":"**Yes it is possible!**\r\nincrease your SQLite VERSION and add .fallbackToDestructiveMigration() in your Room.databaseBuilder()\r\n\r\n\r\n    Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, &quot;app_database.db&quot;)\r\n           .createFromAsset(&quot;database/QuotesDB.db&quot;)\r\n           .fallbackToDestructiveMigration()\r\n           .build();","title":"Merge user&#39;s Android Room database when migrating database","body":"<p><strong>Yes it is possible!</strong>\nincrease your SQLite VERSION and add .fallbackToDestructiveMigration() in your Room.databaseBuilder()</p>\n<pre><code>Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, &quot;app_database.db&quot;)\n       .createFromAsset(&quot;database/QuotesDB.db&quot;)\n       .fallbackToDestructiveMigration()\n       .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7673543,"reputation":3490,"user_id":5815054,"accept_rate":50,"display_name":"hb0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677148197,"creation_date":1677146143,"answer_id":75543162,"question_id":59064933,"body_markdown":"Ended up here with a similar issue, so for future readers:\r\n\r\n&lt;h3&gt;How to merge an existing database with another database?&lt;/h3&gt;\r\n\r\nI ended up with the following:\r\n\r\n```\r\n@Database(...) abstract class MainDatabase : RoomDatabase() {\r\n\r\n    // Default Singleton pattern code\r\n    companion object {\r\n        @Volatile private var INSTANCE: Database? = null\r\n\r\n        fun getDatabase(context: Context): Database {\r\n            return INSTANCE ?: synchronized(this) {\r\n\r\n\r\n                // Located here to have access to `Context`\r\n                val MIGRATION_17_18 = object : Migration(17, 18) {\r\n                    override fun migrate(database: SupportSQLiteDatabase) {\r\n\r\n                        // Check if `secondDb` exists\r\n                        val file = context.getDatabasePath(SecondDatabase.DATABASE_NAME)\r\n                        if (file.exists()) {\r\n                            // Using a build method which includes all migation steps for `secondDb`\r\n                            val secondDb = SecondDatabase.build(context)\r\n                            // TODO: add handling for different `secondDb` versions\r\n\r\n                            // Insert the data from the `secondDb`\r\n                            secondDb.locationDao().all.forEach {\r\n                                database.execSQL(\r\n                                    &quot;INSERT INTO `Location` (`id`, ...)&quot;\r\n                                            + &quot; VALUES (&#39;&quot; + it.uid + &quot;&#39;, ...)&quot;\r\n                                )\r\n                            }\r\n\r\n                            // Drop `secondDb` (this also deleted temp files like `wal`, `sha`, etc.\r\n                            context.deleteDatabase(SecondDatabase.DATABASE_NAME)\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                // Default building code for Singleton Pattern\r\n                val instance = Room.databaseBuilder(\r\n                    context.applicationContext,\r\n                    Database::class.java,\r\n                    &quot;mainDb&quot;\r\n                )\r\n                    .enableMultiInstanceInvalidation()\r\n                    .addMigrations(MIGRATION_17_18)\r\n                    .build()\r\n                INSTANCE = instance\r\n                return instance\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m using the Singleton pattern as suggested [here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/codelabs/android-room-with-a-view-kotlin#7","title":"Merge user&#39;s Android Room database when migrating database","body":"<p>Ended up here with a similar issue, so for future readers:</p>\n<h3>How to merge an existing database with another database?</h3>\n<p>I ended up with the following:</p>\n<pre><code>@Database(...) abstract class MainDatabase : RoomDatabase() {\n\n    // Default Singleton pattern code\n    companion object {\n        @Volatile private var INSTANCE: Database? = null\n\n        fun getDatabase(context: Context): Database {\n            return INSTANCE ?: synchronized(this) {\n\n\n                // Located here to have access to `Context`\n                val MIGRATION_17_18 = object : Migration(17, 18) {\n                    override fun migrate(database: SupportSQLiteDatabase) {\n\n                        // Check if `secondDb` exists\n                        val file = context.getDatabasePath(SecondDatabase.DATABASE_NAME)\n                        if (file.exists()) {\n                            // Using a build method which includes all migation steps for `secondDb`\n                            val secondDb = SecondDatabase.build(context)\n                            // TODO: add handling for different `secondDb` versions\n\n                            // Insert the data from the `secondDb`\n                            secondDb.locationDao().all.forEach {\n                                database.execSQL(\n                                    &quot;INSERT INTO `Location` (`id`, ...)&quot;\n                                            + &quot; VALUES ('&quot; + it.uid + &quot;', ...)&quot;\n                                )\n                            }\n\n                            // Drop `secondDb` (this also deleted temp files like `wal`, `sha`, etc.\n                            context.deleteDatabase(SecondDatabase.DATABASE_NAME)\n                        }\n                    }\n                }\n\n\n                // Default building code for Singleton Pattern\n                val instance = Room.databaseBuilder(\n                    context.applicationContext,\n                    Database::class.java,\n                    &quot;mainDb&quot;\n                )\n                    .enableMultiInstanceInvalidation()\n                    .addMigrations(MIGRATION_17_18)\n                    .build()\n                INSTANCE = instance\n                return instance\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>I'm using the Singleton pattern as suggested <a href=\"https://developer.android.com/codelabs/android-room-with-a-view-kotlin#7\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":9697320,"reputation":169,"user_id":7193338,"display_name":"Kate Lastimosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1976,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1677148197,"creation_date":1574839003,"question_id":59064933,"body_markdown":"I have a Room database which is stored in assets/database with its preloaded data. I am creating an updated version with more contents in the database for the next update.\r\n        \r\nCurrently, if I add new contents to the database with no schema changes and reinstall the app, these new contents do not show up. The only way I can see the changes is if I uninstall and reinstall the app. However, I need to merge the user&#39;s data with the database with the new contents since I need to get the &quot;favorites&quot; of the user which is an integer column of a table with the item contents. \r\n\r\nIs this possible?\r\n\r\nThis is how I create my database.\r\n\r\n```java\r\npublic static AppDatabase getInMemoryDatabase(Context context) {\r\n    if (INSTANCE == null) {\r\n        synchronized (AppDatabase.class) {\r\n            if (INSTANCE == null) {\r\n                INSTANCE = Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, &quot;app_database.db&quot;)\r\n                        .createFromAsset(&quot;database/QuotesDB.db&quot;)\r\n                        .addMigrations(MIGRATION_1_2)\r\n                        .build();\r\n            }\r\n        }\r\n    }\r\n    return INSTANCE;\r\n}\r\n```\r\n\r\nI tried to migrate with the following code but it still doesn&#39;t update the contents.\r\n\r\n```java\r\n/**\r\n * Migrate from:\r\n * version 1 - initial contents.\r\n * to\r\n * version 2 - updated database contents (no schema changes)\r\n */\r\n@VisibleForTesting\r\nstatic final Migration MIGRATION_1_2 = new Migration(1, 2) {\r\n    @Override\r\n    public void migrate(SupportSQLiteDatabase database) {\r\n        // I need to tell Room that it should use the data\r\n        // from version 1 ( with the user&#39;s favorites ) to version 2.\r\n    }\r\n};\r\n```","title":"Merge user&#39;s Android Room database when migrating database","body":"<p>I have a Room database which is stored in assets/database with its preloaded data. I am creating an updated version with more contents in the database for the next update.</p>\n<p>Currently, if I add new contents to the database with no schema changes and reinstall the app, these new contents do not show up. The only way I can see the changes is if I uninstall and reinstall the app. However, I need to merge the user's data with the database with the new contents since I need to get the &quot;favorites&quot; of the user which is an integer column of a table with the item contents.</p>\n<p>Is this possible?</p>\n<p>This is how I create my database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static AppDatabase getInMemoryDatabase(Context context) {\n    if (INSTANCE == null) {\n        synchronized (AppDatabase.class) {\n            if (INSTANCE == null) {\n                INSTANCE = Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class, &quot;app_database.db&quot;)\n                        .createFromAsset(&quot;database/QuotesDB.db&quot;)\n                        .addMigrations(MIGRATION_1_2)\n                        .build();\n            }\n        }\n    }\n    return INSTANCE;\n}\n</code></pre>\n<p>I tried to migrate with the following code but it still doesn't update the contents.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Migrate from:\n * version 1 - initial contents.\n * to\n * version 2 - updated database contents (no schema changes)\n */\n@VisibleForTesting\nstatic final Migration MIGRATION_1_2 = new Migration(1, 2) {\n    @Override\n    public void migrate(SupportSQLiteDatabase database) {\n        // I need to tell Room that it should use the data\n        // from version 1 ( with the user's favorites ) to version 2.\n    }\n};\n</code></pre>\n"},{"tags":["java","image-processing","image-segmentation"],"answers":[{"tags":[],"owner":{"account_id":207954,"reputation":1006,"user_id":458139,"accept_rate":90,"display_name":"Lavir the Whiolet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288597080,"creation_date":1288597080,"answer_id":4067272,"question_id":4067245,"body_markdown":"MATLAB is better for image processing. And the best way is to find special image processing tools (or libraries).","title":"how to perform the image segmentation in java?","body":"<p>MATLAB is better for image processing. And the best way is to find special image processing tools (or libraries).</p>\n"},{"tags":[],"owner":{"account_id":209952,"reputation":3852,"user_id":461295,"accept_rate":62,"display_name":"bjoernz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288703724,"creation_date":1288703724,"answer_id":4077991,"question_id":4067245,"body_markdown":"You can use the [Java Advanced Imaging (JAI)][1] Library to do image processing in java. You have to decide for yourself whether Java or MATLAB is better for you.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/technologies/desktop/media/jai/","title":"how to perform the image segmentation in java?","body":"<p>You can use the <a href=\"http://java.sun.com/javase/technologies/desktop/media/jai/\" rel=\"nofollow\">Java Advanced Imaging (JAI)</a> Library to do image processing in java. You have to decide for yourself whether Java or MATLAB is better for you.</p>\n"},{"tags":[],"owner":{"account_id":691340,"reputation":232,"user_id":563592,"display_name":"Radim Burget"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677147922,"creation_date":1312370227,"answer_id":6925607,"question_id":4067245,"body_markdown":"For image segmentation in JAVA you can also consider to use open-source IMMI tool ([http://spl.utko.feec.vutbr.cz/en/][1]). In comparison to Matlab, it is (in my opinion) more simple to use and simply enables also image mining.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20111124193808/http://spl.utko.feec.vutbr.cz/en/","title":"how to perform the image segmentation in java?","body":"<p>For image segmentation in JAVA you can also consider to use open-source IMMI tool (<a href=\"https://web.archive.org/web/20111124193808/http://spl.utko.feec.vutbr.cz/en/\" rel=\"nofollow noreferrer\">http://spl.utko.feec.vutbr.cz/en/</a>). In comparison to Matlab, it is (in my opinion) more simple to use and simply enables also image mining.</p>\n"},{"tags":[],"owner":{"account_id":3356071,"reputation":367,"user_id":2818958,"accept_rate":100,"display_name":"Gujjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392384417,"creation_date":1392383342,"answer_id":21780306,"question_id":4067245,"body_markdown":"Algorithm for Image segmentation depends upon what type of output you want after segmentation. Each algorithm performs a different segmentation. I think the region growing or [Flood Fill](http://en.wikipedia.org/wiki/Flood_fill) is good for this purpose.\r\nYou can use Java/JAI and JavaCV for this Image processing tasks.","title":"how to perform the image segmentation in java?","body":"<p>Algorithm for Image segmentation depends upon what type of output you want after segmentation. Each algorithm performs a different segmentation. I think the region growing or <a href=\"http://en.wikipedia.org/wiki/Flood_fill\" rel=\"nofollow\">Flood Fill</a> is good for this purpose.\nYou can use Java/JAI and JavaCV for this Image processing tasks.</p>\n"},{"comments":[{"owner":{"account_id":1747973,"reputation":3309,"user_id":1597844,"accept_rate":31,"display_name":"Roadies"},"score":0,"creation_date":1475240359,"post_id":38205412,"comment_id":66877162,"body_markdown":"Error Failed resolution of: Ljavax/imageio/ImageIO; help.","body":"Error Failed resolution of: Ljavax/imageio/ImageIO; help."}],"tags":[],"owner":{"account_id":2815364,"reputation":4577,"user_id":2420599,"display_name":"Gabriel Archanjo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467769361,"creation_date":1467727162,"answer_id":38205412,"question_id":4067245,"body_markdown":"I think the best image processing tool for you depends on the kind of project you&#39;re working on. \r\n\r\nIf you&#39;re working on a research project that needs productivity, quick validation and writting reports, **Matlab** and similar tools are the best option. On the other hand, if you&#39;re developing a software product, **Java, C++, C, Objective-C, etc** is more indicated. Matlab solutions are not easy to deliver and maintain in production.\r\n\r\nSince you asked how to do image segmentation in Java, I&#39;ll provide an example using Java and [Marvin Image Processing Framework][1]. As suggested by @Asif Sharif, FloodFill segmentation is a good strategy and I used it!\r\n\r\n**INPUT IMAGE:**\r\n[![enter image description here][2]][2]\r\n\r\n**OUTPUT IMAGE:**\r\n[![enter image description here][3]][3]\r\n\r\n**HOW IT WORKS:**\r\n\r\n 1. Load input image.\r\n 2. Change green pixels to white pixels.\r\n 3. Apply intensity thresholding for separating foreground from background.\r\n 4. Apply morphological closing to group separated parts of the same object\r\n 5. Use FloodFill segmentation to get the segments.\r\n 6. Draw the segments coordinates in the original image.\r\n\r\n**SOURCE:**\r\n\r\n    import static marvin.MarvinPluginCollection.*;\r\n\t\r\n\tpublic class SimpleSegmentation {\r\n\t\tpublic SimpleSegmentation(){\r\n\t\t\t// 1. Load image\r\n\t\t\tMarvinImage original = MarvinImageIO.loadImage(&quot;./res/robocup.jpg&quot;);\r\n\t\t\tMarvinImage image = original.clone();\r\n\t\t\t// 2. Change green pixels to white\r\n\t\t\tfilterGreen(image);\r\n\t\t\t// 3. Use threshold to separate foreground and background.\r\n\t\t\tMarvinImage bin = MarvinColorModelConverter.rgbToBinary(image, 127);\r\n\t\t\t// 4. Morphological closing to group separated parts of the same object\r\n\t\t\tmorphologicalClosing(bin.clone(), bin, MarvinMath.getTrueMatrix(30, 30));\r\n\t\t\t// 5. Use Floodfill segmention to get image segments\r\n\t\t\timage = MarvinColorModelConverter.binaryToRgb(bin);\r\n\t\t\tMarvinSegment[] segments = floodfillSegmentation(image);\r\n\t\t\t// 6. Show the segments in the original image\r\n\t\t\tfor(int i=1; i&lt;segments.length; i++){\r\n\t\t\t\tMarvinSegment seg = segments[i];\r\n\t\t\t\toriginal.drawRect(seg.x1, seg.y1, seg.width, seg.height, Color.yellow);\r\n\t\t\t\toriginal.drawRect(seg.x1+1, seg.y1+1, seg.width, seg.height, Color.yellow);\r\n\t\t\t}\r\n\t\t\tMarvinImageIO.saveImage(original, &quot;./res/robocup_segmented.png&quot;);\r\n\t\t}\r\n\t\tprivate void filterGreen(MarvinImage image){\r\n\t\t\tint r,g,b;\r\n\t\t\tfor(int y=0; y&lt;image.getHeight(); y++){\r\n\t\t\t\tfor(int x=0; x&lt;image.getWidth(); x++){\r\n\t\t\t\t\tr = image.getIntComponent0(x, y);\r\n\t\t\t\t\tg = image.getIntComponent1(x, y);\r\n\t\t\t\t\tb = image.getIntComponent2(x, y);\r\n\t\t\t\t\tif(g &gt; r*1.5 &amp;&amp; g &gt; b*1.5){\r\n\t\t\t\t\t\timage.setIntColor(x, y, 255,255,255);\r\n\t\t\t}}}\r\n\t\t}\r\n\t\tpublic static void main(String[] args) { new SimpleSegmentation();\t}\r\n\t}\r\n\r\n  [1]: http://marvinproject.sourceforge.net/\r\n  [2]: http://i.stack.imgur.com/tbH2b.jpg\r\n  [3]: http://i.stack.imgur.com/I2Pxj.png","title":"how to perform the image segmentation in java?","body":"<p>I think the best image processing tool for you depends on the kind of project you're working on. </p>\n\n<p>If you're working on a research project that needs productivity, quick validation and writting reports, <strong>Matlab</strong> and similar tools are the best option. On the other hand, if you're developing a software product, <strong>Java, C++, C, Objective-C, etc</strong> is more indicated. Matlab solutions are not easy to deliver and maintain in production.</p>\n\n<p>Since you asked how to do image segmentation in Java, I'll provide an example using Java and <a href=\"http://marvinproject.sourceforge.net/\" rel=\"nofollow noreferrer\">Marvin Image Processing Framework</a>. As suggested by @Asif Sharif, FloodFill segmentation is a good strategy and I used it!</p>\n\n<p><strong>INPUT IMAGE:</strong>\n<a href=\"https://i.stack.imgur.com/tbH2b.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tbH2b.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>OUTPUT IMAGE:</strong>\n<a href=\"https://i.stack.imgur.com/I2Pxj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I2Pxj.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>HOW IT WORKS:</strong></p>\n\n<ol>\n<li>Load input image.</li>\n<li>Change green pixels to white pixels.</li>\n<li>Apply intensity thresholding for separating foreground from background.</li>\n<li>Apply morphological closing to group separated parts of the same object</li>\n<li>Use FloodFill segmentation to get the segments.</li>\n<li>Draw the segments coordinates in the original image.</li>\n</ol>\n\n<p><strong>SOURCE:</strong></p>\n\n<pre><code>import static marvin.MarvinPluginCollection.*;\n\npublic class SimpleSegmentation {\n    public SimpleSegmentation(){\n        // 1. Load image\n        MarvinImage original = MarvinImageIO.loadImage(\"./res/robocup.jpg\");\n        MarvinImage image = original.clone();\n        // 2. Change green pixels to white\n        filterGreen(image);\n        // 3. Use threshold to separate foreground and background.\n        MarvinImage bin = MarvinColorModelConverter.rgbToBinary(image, 127);\n        // 4. Morphological closing to group separated parts of the same object\n        morphologicalClosing(bin.clone(), bin, MarvinMath.getTrueMatrix(30, 30));\n        // 5. Use Floodfill segmention to get image segments\n        image = MarvinColorModelConverter.binaryToRgb(bin);\n        MarvinSegment[] segments = floodfillSegmentation(image);\n        // 6. Show the segments in the original image\n        for(int i=1; i&lt;segments.length; i++){\n            MarvinSegment seg = segments[i];\n            original.drawRect(seg.x1, seg.y1, seg.width, seg.height, Color.yellow);\n            original.drawRect(seg.x1+1, seg.y1+1, seg.width, seg.height, Color.yellow);\n        }\n        MarvinImageIO.saveImage(original, \"./res/robocup_segmented.png\");\n    }\n    private void filterGreen(MarvinImage image){\n        int r,g,b;\n        for(int y=0; y&lt;image.getHeight(); y++){\n            for(int x=0; x&lt;image.getWidth(); x++){\n                r = image.getIntComponent0(x, y);\n                g = image.getIntComponent1(x, y);\n                b = image.getIntComponent2(x, y);\n                if(g &gt; r*1.5 &amp;&amp; g &gt; b*1.5){\n                    image.setIntColor(x, y, 255,255,255);\n        }}}\n    }\n    public static void main(String[] args) { new SimpleSegmentation();  }\n}\n</code></pre>\n"}],"owner":{"account_id":646034,"reputation":31,"user_id":435046,"display_name":"ilan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8272,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1677147922,"creation_date":1288596549,"question_id":4067245,"body_markdown":"hi guys i am an infant for  image processing technique in java , i have decided to develop one project in image processing so i need what are the algorithms are followed and also which one is easier to develop please some one guide me it may be great for me.....and also which technology is best for image processing java or Matlab? guide me...","title":"how to perform the image segmentation in java?","body":"<p>hi guys i am an infant for  image processing technique in java , i have decided to develop one project in image processing so i need what are the algorithms are followed and also which one is easier to develop please some one guide me it may be great for me.....and also which technology is best for image processing java or Matlab? guide me...</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1677147409,"post_id":75543300,"comment_id":133281833,"body_markdown":"I would recommend either using a debugger or adding more logs, in order to know at which step of the routine the execution is getting stuck. Adding a `try/catch` block and putting the exception on the log (including the stack trace) would help you a lot; if some errror is happening, the stack trace will tell you the exact line where it happened.","body":"I would recommend either using a debugger or adding more logs, in order to know at which step of the routine the execution is getting stuck. Adding a <code>try&#47;catch</code> block and putting the exception on the log (including the stack trace) would help you a lot; if some errror is happening, the stack trace will tell you the exact line where it happened."},{"owner":{"account_id":7599708,"reputation":182,"user_id":5764770,"display_name":"Vishal Jamdade"},"score":0,"creation_date":1677147438,"post_id":75543300,"comment_id":133281840,"body_markdown":"Try adding @EnableScheduling annotation above main class.","body":"Try adding @EnableScheduling annotation above main class."},{"owner":{"account_id":17651854,"reputation":1,"user_id":12812176,"display_name":"Venu"},"score":0,"creation_date":1677148201,"post_id":75543300,"comment_id":133282074,"body_markdown":"@Vishal Jamdade Yes, I added the EnableScheduling annotation. But it does not work. I can see the logs in the console but nothing is being saved to the database.","body":"@Vishal Jamdade Yes, I added the EnableScheduling annotation. But it does not work. I can see the logs in the console but nothing is being saved to the database."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1677148281,"post_id":75543300,"comment_id":133282101,"body_markdown":"You are doing reactive programming but aren&#39;t subscribing to any of it, so you only define the reactive stream but don&#39;t do anything with it. You should have something like `this.testScheduled(someName, someType).subscribe()`.","body":"You are doing reactive programming but aren&#39;t subscribing to any of it, so you only define the reactive stream but don&#39;t do anything with it. You should have something like <code>this.testScheduled(someName, someType).subscribe()</code>."}],"owner":{"account_id":17651854,"reputation":1,"user_id":12812176,"display_name":"Venu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677147704,"creation_date":1677146884,"question_id":75543300,"body_markdown":"I have to auto run and save data to DB every 5 minutes. I tried to use Scheduled Spring framework. In the console I could see that the task is running but not saved in the database.\r\n\r\n    @Override\r\n    public Single&lt;xModel&gt; testScheduled(@NonNull String someName, @NonNull String someType) {\r\n      log.info(&quot;entering testScheduled, someName = {}, someType = {}&quot;, someName, someType);\r\n      ReadPoint readPoint = readPointRepository.findById(someName).orElseThrow();\r\n      String configurationName = Try.of(() -&gt; readType.valueOf(readPoint.getType()))\r\n        .orElse(Try.success(readType.DEFAULT))\r\n        .map(readType::getConfigurationName)\r\n        .get();\r\n        log.info(&quot;test={}&quot;, readPoint);\r\n      var inv = invClient\r\n        .epcInv(readPoint.getReadIp(), \r\n    readPoint.getConfiguration().getAnte(),\r\n    Optional.of(configurationName), Optional.empty())\r\n        .map(pcs -&gt; pcs.stream()\r\n        .map(pce -&gt; new yModel(pce, getRealDeno(pce)))\r\n        .collect(Collectors.toSet()))\r\n        .map(chips -&gt; new xModel(someType, someName, chips))\r\n        .doOnSuccess(mModel -&gt; upsert(mModel));\r\n      return inv;\r\n    }\r\n\r\n    @Scheduled(fixedRate = 10000)\r\n    public void schetestsee() {\r\n      System.out.println(Thread.currentThread().getName()+&quot;Wonderful Task executed at &quot;+ new Date());\r\n      String someName = &quot;testsomething&quot;;\r\n      String someType = &quot;SCHEDULED&quot;;\r\n      log.info(&quot;EnteringSchedutestsee&quot;);\r\n      this.testScheduled(someName, someType);\r\n    }\r\n\r\n\r\nI&#39;m trying to do in the same class.","title":"I&#39;m new to Spring, The scheduled task is not saving data to the database, @Scheduled not working","body":"<p>I have to auto run and save data to DB every 5 minutes. I tried to use Scheduled Spring framework. In the console I could see that the task is running but not saved in the database.</p>\n<pre><code>@Override\npublic Single&lt;xModel&gt; testScheduled(@NonNull String someName, @NonNull String someType) {\n  log.info(&quot;entering testScheduled, someName = {}, someType = {}&quot;, someName, someType);\n  ReadPoint readPoint = readPointRepository.findById(someName).orElseThrow();\n  String configurationName = Try.of(() -&gt; readType.valueOf(readPoint.getType()))\n    .orElse(Try.success(readType.DEFAULT))\n    .map(readType::getConfigurationName)\n    .get();\n    log.info(&quot;test={}&quot;, readPoint);\n  var inv = invClient\n    .epcInv(readPoint.getReadIp(), \nreadPoint.getConfiguration().getAnte(),\nOptional.of(configurationName), Optional.empty())\n    .map(pcs -&gt; pcs.stream()\n    .map(pce -&gt; new yModel(pce, getRealDeno(pce)))\n    .collect(Collectors.toSet()))\n    .map(chips -&gt; new xModel(someType, someName, chips))\n    .doOnSuccess(mModel -&gt; upsert(mModel));\n  return inv;\n}\n\n@Scheduled(fixedRate = 10000)\npublic void schetestsee() {\n  System.out.println(Thread.currentThread().getName()+&quot;Wonderful Task executed at &quot;+ new Date());\n  String someName = &quot;testsomething&quot;;\n  String someType = &quot;SCHEDULED&quot;;\n  log.info(&quot;EnteringSchedutestsee&quot;);\n  this.testScheduled(someName, someType);\n}\n</code></pre>\n<p>I'm trying to do in the same class.</p>\n"},{"tags":["java","spring","boot","apo"],"comments":[{"owner":{"account_id":7599708,"reputation":182,"user_id":5764770,"display_name":"Vishal Jamdade"},"score":0,"creation_date":1677147582,"post_id":75543407,"comment_id":133281888,"body_markdown":"You can pass multiple parameters with comma separation.","body":"You can pass multiple parameters with comma separation."}],"owner":{"account_id":19375838,"reputation":1,"user_id":14168125,"display_name":"Ramkumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677163689,"answer_count":0,"score":0,"last_activity_date":1677147426,"creation_date":1677147426,"question_id":75543407,"body_markdown":"I have sending the @requestparama ( playload )in controller now I want to send the encrypted value also like @requestparam (name=&quot;name&quot; ) string name) \r\n\r\n\r\nHow to achieve this?\r\n\r\n\r\n\r\nHow to achieve this i need to send the those two values ","title":"How to modify the request paramter in controller","body":"<p>I have sending the @requestparama ( playload )in controller now I want to send the encrypted value also like @requestparam (name=&quot;name&quot; ) string name)</p>\n<p>How to achieve this?</p>\n<p>How to achieve this i need to send the those two values</p>\n"},{"tags":["java","rest","swagger"],"answers":[{"comments":[{"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"score":3,"creation_date":1492773961,"post_id":40871515,"comment_id":74134787,"body_markdown":"is there a way of doing this using swagger annotations?","body":"is there a way of doing this using swagger annotations?"},{"owner":{"account_id":94182,"reputation":4442,"user_id":257272,"accept_rate":83,"display_name":"Julian Go"},"score":0,"creation_date":1493110368,"post_id":40871515,"comment_id":74260958,"body_markdown":"I don&#39;t use annotations, but assuming you use Java you could try to set an hibernate.validator of type Length or Range...","body":"I don&#39;t use annotations, but assuming you use Java you could try to set an hibernate.validator of type Length or Range..."},{"owner":{"account_id":5533454,"reputation":1297,"user_id":4392662,"display_name":"Piotr Niewinski"},"score":0,"creation_date":1635169323,"post_id":40871515,"comment_id":123216606,"body_markdown":"Yes, but how to do it using annotations..","body":"Yes, but how to do it using annotations.."}],"tags":[],"owner":{"account_id":94182,"reputation":4442,"user_id":257272,"accept_rate":83,"display_name":"Julian Go"},"comment_count":3,"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1480438742,"creation_date":1480438742,"answer_id":40871515,"question_id":33753340,"body_markdown":"Yes, see [this section][1] of the swagger spec. You can specify a `maxLength` or `minLength` for your property. Here is an example in YAML:\r\n\r\n    definitions:\r\n      Error:\r\n        type: object\r\n        properties:\r\n          code:\r\n            type: integer\r\n            format: int32\r\n          message:\r\n            type: string\r\n            maxLength: 20\r\n\r\nThis would be displayed by swagger-ui like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://swagger.io/specification/#schemaObject\r\n  [2]: https://i.stack.imgur.com/NACrD.png","title":"Is there a way to indicate that a string model property has a maximum length in Swagger?","body":"<p>Yes, see <a href=\"http://swagger.io/specification/#schemaObject\" rel=\"noreferrer\">this section</a> of the swagger spec. You can specify a <code>maxLength</code> or <code>minLength</code> for your property. Here is an example in YAML:</p>\n\n<pre><code>definitions:\n  Error:\n    type: object\n    properties:\n      code:\n        type: integer\n        format: int32\n      message:\n        type: string\n        maxLength: 20\n</code></pre>\n\n<p>This would be displayed by swagger-ui like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NACrD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NACrD.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":192452,"reputation":111,"user_id":433603,"display_name":"Stephenmjm"},"score":2,"creation_date":1586433626,"post_id":51935210,"comment_id":108129357,"body_markdown":"This is the answer. THX!  Use allowableValues you can see the length restriction  in the documentation generated by swagger.","body":"This is the answer. THX!  Use allowableValues you can see the length restriction  in the documentation generated by swagger."}],"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1534852633,"creation_date":1534783522,"answer_id":51935210,"question_id":33753340,"body_markdown":"Using the `@ApiModelProperty` Swagger annotation, you can use `dataType`, `allowableValues` and `range`:\r\n\r\n    @ApiModelProperty(value = &quot;Nome da lista&quot;, required = false, \r\n        dataType=&quot;java.lang.String&quot;, \r\n        allowableValues=&quot;range[-infinity, 100]&quot;)\r\n    String getNome();\r\n\r\nResult on Swagger UI:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe `-infinity` is used to hide the minimum value. If you would like to set the min value, just fill with the number:\r\n\r\n    allowableValues=&quot;range[5, 100]&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o2tuL.png","title":"Is there a way to indicate that a string model property has a maximum length in Swagger?","body":"<p>Using the <code>@ApiModelProperty</code> Swagger annotation, you can use <code>dataType</code>, <code>allowableValues</code> and <code>range</code>:</p>\n\n<pre><code>@ApiModelProperty(value = \"Nome da lista\", required = false, \n    dataType=\"java.lang.String\", \n    allowableValues=\"range[-infinity, 100]\")\nString getNome();\n</code></pre>\n\n<p>Result on Swagger UI:</p>\n\n<p><a href=\"https://i.stack.imgur.com/o2tuL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/o2tuL.png\" alt=\"enter image description here\"></a></p>\n\n<p>The <code>-infinity</code> is used to hide the minimum value. If you would like to set the min value, just fill with the number:</p>\n\n<pre><code>allowableValues=\"range[5, 100]\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7625234,"reputation":231,"user_id":5781924,"display_name":"mindSet"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1534855258,"creation_date":1534855258,"answer_id":51948910,"question_id":33753340,"body_markdown":"You can do very nicely if you are using spring project and you are using spring fox swagger api.\r\nConsider a bean - \r\n\r\n    public class Person {\r\n        @NotNull\r\n        private int id;\r\n    \r\n        @NotBlank\r\n        @Size(min = 1, max = 20)\r\n        private String firstName;\r\n    \r\n        @NotBlank\r\n        @Pattern(regexp =&quot;[SOME REGULAR EXPRESSION]&quot;)\r\n        private String lastName;\r\n    \r\n        @Min(0)\r\n        @Max(100)\r\n        private int age;\r\n    \r\n        //... Constructor, getters, setters, ...\r\n    }\r\nUse Maven dependency -\r\n\r\n    //MAVEN\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    //MAVEN\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n       &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n       &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis will do your magic - @Import(BeanValidatorPluginsConfiguration.class)\r\nAnd you need to import BeanValidatorPluginsConfiguration configuration file on top of your swagger configuration class:\r\n \r\n\r\n      @Configuration\r\n        @EnableSwagger2\r\n        @Import(BeanValidatorPluginsConfiguration.class)\r\n        public class SpringFoxConfig {\r\n          ...\r\n        }\r\n    \r\n\r\n   \r\nIf you dont have a configuration class for swagger then put it above your controller\r\n\r\n     @RestController\r\n         @EnableSwagger2\r\n            @Import(BeanValidatorPluginsConfiguration.class)\r\n        @RequestMapping(&quot;/v2/persons/&quot;)\r\n        @Api(description = &quot;Set of endpoints for Creating, Retrieving, Updating and Deleting of Persons.&quot;)\r\n        public class PersonController {\r\n        \r\n            private PersonService personService;\r\n        \r\n            @RequestMapping(method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n            @ApiOperation(&quot;Returns list of all Persons in the system.&quot;)\r\n            public List getAllPersons() {\r\n                return personService.getAllPersons();\r\n            }\r\nWith data from JSR-303 annotations, it will look much better in swagger documentation:\r\n\r\n    {\r\n    \t\tage integer ($int32)\r\n    \t\t\t\t\tminimum: 100\r\n    \t\t\t\t\tmaximum: 100\r\n    \t\tfirstName* string\r\n    \t\t\t\tminimumLength: 100\r\n    \t\t\t\tmaxLength: 100\r\n    \t}\r\n\r\nJSR 303: Bean Validation allows you to annotate fields of your Java classes to declare constraints and validation rules. You can annotate individual fields with rules such as -- cannot be null, minimal value, maximal value, regular expression match and so on.\r\nThis is a common practice which is already widely used. The good news is that SpringFox can generate Swagger documentation based on such annotations, so you can utilize what you already have in your project without writing all the constraints manually! It is very useful as consumers of your API know what are restrictions on the values they should provide to your API and what values to expect. Without the inclusion of such annotations, the generated documentation for our person model looks rather plain, nothing except for field names and their data type.","title":"Is there a way to indicate that a string model property has a maximum length in Swagger?","body":"<p>You can do very nicely if you are using spring project and you are using spring fox swagger api.\nConsider a bean - </p>\n\n<pre><code>public class Person {\n    @NotNull\n    private int id;\n\n    @NotBlank\n    @Size(min = 1, max = 20)\n    private String firstName;\n\n    @NotBlank\n    @Pattern(regexp =\"[SOME REGULAR EXPRESSION]\")\n    private String lastName;\n\n    @Min(0)\n    @Max(100)\n    private int age;\n\n    //... Constructor, getters, setters, ...\n}\n</code></pre>\n\n<p>Use Maven dependency -</p>\n\n<pre><code>//MAVEN\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n//MAVEN\n&lt;dependency&gt;\n   &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n   &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n   &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This will do your magic - @Import(BeanValidatorPluginsConfiguration.class)\nAnd you need to import BeanValidatorPluginsConfiguration configuration file on top of your swagger configuration class:</p>\n\n<pre><code>  @Configuration\n    @EnableSwagger2\n    @Import(BeanValidatorPluginsConfiguration.class)\n    public class SpringFoxConfig {\n      ...\n    }\n</code></pre>\n\n<p>If you dont have a configuration class for swagger then put it above your controller</p>\n\n<pre><code> @RestController\n     @EnableSwagger2\n        @Import(BeanValidatorPluginsConfiguration.class)\n    @RequestMapping(\"/v2/persons/\")\n    @Api(description = \"Set of endpoints for Creating, Retrieving, Updating and Deleting of Persons.\")\n    public class PersonController {\n\n        private PersonService personService;\n\n        @RequestMapping(method = RequestMethod.GET, produces = \"application/json\")\n        @ApiOperation(\"Returns list of all Persons in the system.\")\n        public List getAllPersons() {\n            return personService.getAllPersons();\n        }\n</code></pre>\n\n<p>With data from JSR-303 annotations, it will look much better in swagger documentation:</p>\n\n<pre><code>{\n        age integer ($int32)\n                    minimum: 100\n                    maximum: 100\n        firstName* string\n                minimumLength: 100\n                maxLength: 100\n    }\n</code></pre>\n\n<p>JSR 303: Bean Validation allows you to annotate fields of your Java classes to declare constraints and validation rules. You can annotate individual fields with rules such as -- cannot be null, minimal value, maximal value, regular expression match and so on.\nThis is a common practice which is already widely used. The good news is that SpringFox can generate Swagger documentation based on such annotations, so you can utilize what you already have in your project without writing all the constraints manually! It is very useful as consumers of your API know what are restrictions on the values they should provide to your API and what values to expect. Without the inclusion of such annotations, the generated documentation for our person model looks rather plain, nothing except for field names and their data type.</p>\n"},{"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1677512698,"post_id":75543369,"comment_id":133347621,"body_markdown":"Please don&#39;t post code images or bugs if possible, copy your code or code error into answer with block code format. Please take the tour and read How to Answer: https://stackoverflow.com/help/how-to-answer","body":"Please don&#39;t post code images or bugs if possible, copy your code or code error into answer with block code format. Please take the tour and read How to Answer: <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}],"tags":[],"owner":{"account_id":122358,"reputation":1,"user_id":3640483,"display_name":"Azwood"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677147237,"creation_date":1677147237,"answer_id":75543369,"question_id":33753340,"body_markdown":"If you are just using Springdoc, this can be achieved using the `@Schema` annotation.\r\n\r\n`\r\n@Schema(maxLength = 192)\r\nprivate String value;\r\n`\r\n\r\nThis will output a\r\n[maxLength property on the field][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k3KOw.png","title":"Is there a way to indicate that a string model property has a maximum length in Swagger?","body":"<p>If you are just using Springdoc, this can be achieved using the <code>@Schema</code> annotation.</p>\n<p><code>@Schema(maxLength = 192) private String value;</code></p>\n<p>This will output a\n<a href=\"https://i.stack.imgur.com/k3KOw.png\" rel=\"nofollow noreferrer\">maxLength property on the field</a></p>\n"}],"owner":{"account_id":1419488,"reputation":2745,"user_id":1344424,"accept_rate":41,"display_name":"Teocali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31660,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":51948910,"answer_count":4,"score":19,"last_activity_date":1677147237,"creation_date":1447752631,"question_id":33753340,"body_markdown":"Context\r\n-------\r\nWe have a web application providing multiple REST webservice.\r\n \r\nAlong with this, we have swagger providing the documentation for the resources, using annotation.\r\n\r\nSome of these resources take a complex object in input as a body param. The class of this object is annotated with `@ApiModel`.\r\n\r\nIn some cases, we limit the length of some string properties, using `@Length` annotation from Bean Validations.\r\n\r\nQuestion\r\n--------\r\nWe want to see these restrictions to be visible in the documentation generated by swagger. Is there a way to do this?\r\n\r\nP.S.: the automatic interpretation of the `@Length` annotation would be nice but is not mandatory. Any other way would work too.","title":"Is there a way to indicate that a string model property has a maximum length in Swagger?","body":"<h2>Context</h2>\n\n<p>We have a web application providing multiple REST webservice.</p>\n\n<p>Along with this, we have swagger providing the documentation for the resources, using annotation.</p>\n\n<p>Some of these resources take a complex object in input as a body param. The class of this object is annotated with <code>@ApiModel</code>.</p>\n\n<p>In some cases, we limit the length of some string properties, using <code>@Length</code> annotation from Bean Validations.</p>\n\n<h2>Question</h2>\n\n<p>We want to see these restrictions to be visible in the documentation generated by swagger. Is there a way to do this?</p>\n\n<p>P.S.: the automatic interpretation of the <code>@Length</code> annotation would be nice but is not mandatory. Any other way would work too.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677147208,"creation_date":1673356942,"answer_id":75070615,"question_id":75070614,"body_markdown":"At last I filtered out messages based on the presence of `JMSCorrelationID` header.\r\n\r\n    from(&quot;activemq:xxx&quot;)\r\n        .filter(simple(&quot;${header.JMSCorrelationID} == null&quot;)) // ignore reply\r\n        .to(&quot;direct:main&quot;);\r\n\r\nEven that I don&#39;t set it in my client side code, seems that Camel will use message id to set JMSCorrelationID when sending reply if the incoming message hasn&#39;t it. If incoming message already has JMSCorrelationID, Camel will not change it, and will copy that value to the reply.(I guess that if you manually set JMSCorrelationID in client side, Camel will stop setting it for you). \r\n\r\nSo basically, message without JMSCorrelationID means it&#39;s new message which hasn&#39;t passed through my client application. I think only client side should set it, especially in my case where original message and replies are put into the same queue, where client needs a mean to filter out replies.\r\n\r\nAlso, to stop Camel from &quot;capturing&quot;, you need to make sure other two things: \r\n\r\n * no concurrent consuming is happening\r\n * the queue is empty before your test(no leftover from previous test), as all my tests are running in sequential order with `@Order`. \r\n\r\n\r\nFor 1, set `replyTo(Max)ConcurrentConsumer` both to `1`, so that no concurrent consuming is happening; only one thread process this message. \r\n\r\n```java\r\nActiveMQComponent component = ActiveMQComponent.activeMQComponent(url);\r\n// we use request-reply mode so (max)ConcurrentConsumers are not taken into account; must set &quot;replyTo(Max)ConcurrentUsers&quot;.\r\n// see https://camel.apache.org/components/3.20.x/activemq-component.html\r\ncomponent.setReplyToConcurrentConsumers(1);\r\ncomponent.setReplyToMaxConcurrentConsumers(1); // seems every pod will have max consumers\r\n```\r\n\r\nFor 2, if last test rollbacked one message and put it back to the queue, I need to consume it before running the next test.\r\n\r\n---\r\n\r\nAt the very last, we separate the queues so even capturing is happening, it does not matter any more. ","title":"When source and replyTo is the same, stop Camel from consuming after route stopped","body":"<p>At last I filtered out messages based on the presence of <code>JMSCorrelationID</code> header.</p>\n<pre><code>from(&quot;activemq:xxx&quot;)\n    .filter(simple(&quot;${header.JMSCorrelationID} == null&quot;)) // ignore reply\n    .to(&quot;direct:main&quot;);\n</code></pre>\n<p>Even that I don't set it in my client side code, seems that Camel will use message id to set JMSCorrelationID when sending reply if the incoming message hasn't it. If incoming message already has JMSCorrelationID, Camel will not change it, and will copy that value to the reply.(I guess that if you manually set JMSCorrelationID in client side, Camel will stop setting it for you).</p>\n<p>So basically, message without JMSCorrelationID means it's new message which hasn't passed through my client application. I think only client side should set it, especially in my case where original message and replies are put into the same queue, where client needs a mean to filter out replies.</p>\n<p>Also, to stop Camel from &quot;capturing&quot;, you need to make sure other two things:</p>\n<ul>\n<li>no concurrent consuming is happening</li>\n<li>the queue is empty before your test(no leftover from previous test), as all my tests are running in sequential order with <code>@Order</code>.</li>\n</ul>\n<p>For 1, set <code>replyTo(Max)ConcurrentConsumer</code> both to <code>1</code>, so that no concurrent consuming is happening; only one thread process this message.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ActiveMQComponent component = ActiveMQComponent.activeMQComponent(url);\n// we use request-reply mode so (max)ConcurrentConsumers are not taken into account; must set &quot;replyTo(Max)ConcurrentUsers&quot;.\n// see https://camel.apache.org/components/3.20.x/activemq-component.html\ncomponent.setReplyToConcurrentConsumers(1);\ncomponent.setReplyToMaxConcurrentConsumers(1); // seems every pod will have max consumers\n</code></pre>\n<p>For 2, if last test rollbacked one message and put it back to the queue, I need to consume it before running the next test.</p>\n<hr />\n<p>At the very last, we separate the queues so even capturing is happening, it does not matter any more.</p>\n"}],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75070615,"answer_count":1,"score":0,"last_activity_date":1677147208,"creation_date":1673356942,"question_id":75070614,"body_markdown":"Our system has configured to consume and send reply to the same queue, i.e., `JMSDestination` and `JMSReplyTo` are the same. I cannot change that right now.\r\n\r\nIn my integration test, if I set `replyToSameDestinationAllowed=true`, Camel continues to consume the reply I sent to the queue, i.e., it &quot;captures&quot; the source and never stop and enters a loop.\r\n\r\nBut, if I don&#39;t set it, Camel refuses to send the reply to the queue, saying this:\r\n\r\n&gt; JMSDestination and JMSReplyTo is the same, will skip sending a reply message to itself\r\n\r\nThat causes problem for my integration test. I want to consume the message in a separate method and assert against it.\r\n\r\nHow can I stop Camel from capturing this queue, i.e., consuming only once and ignore the rest? \r\n\r\nAt the end of my route I call `stop()` to send reply automatically. \r\n\r\nWhen receiving the second message(the reply), I see this line:\r\n\r\n&gt; 2023-01-10 14:37:22,186 DEBUG [org.apa.cam.com.jms.EndpointMessageListener]-{Camel (camel-1) thread #19 - JmsConsumer[my.queue]}-Received Message has JMSCorrelationID [ID:hostname-1673354133272-4:1:1:10:1]\r\n\r\nCan I use this to ignore the reply? Should I stop the route? Rollback? Or what should I do?\r\n","title":"When source and replyTo is the same, stop Camel from consuming after route stopped","body":"<p>Our system has configured to consume and send reply to the same queue, i.e., <code>JMSDestination</code> and <code>JMSReplyTo</code> are the same. I cannot change that right now.</p>\n<p>In my integration test, if I set <code>replyToSameDestinationAllowed=true</code>, Camel continues to consume the reply I sent to the queue, i.e., it &quot;captures&quot; the source and never stop and enters a loop.</p>\n<p>But, if I don't set it, Camel refuses to send the reply to the queue, saying this:</p>\n<blockquote>\n<p>JMSDestination and JMSReplyTo is the same, will skip sending a reply message to itself</p>\n</blockquote>\n<p>That causes problem for my integration test. I want to consume the message in a separate method and assert against it.</p>\n<p>How can I stop Camel from capturing this queue, i.e., consuming only once and ignore the rest?</p>\n<p>At the end of my route I call <code>stop()</code> to send reply automatically.</p>\n<p>When receiving the second message(the reply), I see this line:</p>\n<blockquote>\n<p>2023-01-10 14:37:22,186 DEBUG [org.apa.cam.com.jms.EndpointMessageListener]-{Camel (camel-1) thread #19 - JmsConsumer[my.queue]}-Received Message has JMSCorrelationID [ID:hostname-1673354133272-4:1:1:10:1]</p>\n</blockquote>\n<p>Can I use this to ignore the reply? Should I stop the route? Rollback? Or what should I do?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1453987882,"post_id":35062385,"comment_id":57848347,"body_markdown":"If you assign &quot;p&quot; to &quot;new A()&quot; then it is obviously an instanceof A, by basic Java (nothing to do with JPA). If &quot;p&quot; is not an instanceof A then what class is it?","body":"If you assign &quot;p&quot; to &quot;new A()&quot; then it is obviously an instanceof A, by basic Java (nothing to do with JPA). If &quot;p&quot; is not an instanceof A then what class is it?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1453988375,"post_id":35062385,"comment_id":57848709,"body_markdown":"instanceof returns an instance type, if you created this instance then it should return true, if not you then you should ask who did it.","body":"instanceof returns an instance type, if you created this instance then it should return true, if not you then you should ask who did it."},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":1,"creation_date":1453988521,"post_id":35062385,"comment_id":57848820,"body_markdown":"Do you really do `Parent p = new A();` or you get `A` from the database by Hibernate?","body":"Do you really do <code>Parent p = new A();</code> or you get <code>A</code> from the database by Hibernate?"},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1453988765,"post_id":35062385,"comment_id":57848994,"body_markdown":"Post your real code, the case you described here is obviously impossible.","body":"Post your real code, the case you described here is obviously impossible."},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1453989276,"post_id":35062385,"comment_id":57849421,"body_markdown":"True, this is probably a proxy. See [this answer](http://stackoverflow.com/a/32785467/4754790) for more details.","body":"True, this is probably a proxy. See <a href=\"http://stackoverflow.com/a/32785467/4754790\">this answer</a> for more details."},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":1,"creation_date":1454001836,"post_id":35062385,"comment_id":57858995,"body_markdown":"There are a lot of answers here. But it is unclear what is the question :)","body":"There are a lot of answers here. But it is unclear what is the question :)"},{"owner":{"account_id":463786,"reputation":668,"user_id":866889,"accept_rate":60,"display_name":"Dmitry Aleksandrov"},"score":0,"creation_date":1454054724,"post_id":35062385,"comment_id":57881139,"body_markdown":"Actually the problem was a bit deeper and http://stackoverflow.com/questions/8770124/hibernate-4-classcastexception-on-lazy-loading-while-eager-works-fine helped me to resolve it. The &quot;Parent&quot; children were used inside of other entity and were set to load in lazy manner.. so it all failed. Thanks for suppoert anyway)","body":"Actually the problem was a bit deeper and <a href=\"http://stackoverflow.com/questions/8770124/hibernate-4-classcastexception-on-lazy-loading-while-eager-works-fine\" title=\"hibernate 4 classcastexception on lazy loading while eager works fine\">stackoverflow.com/questions/8770124/&hellip;</a> helped me to resolve it. The &quot;Parent&quot; children were used inside of other entity and were set to load in lazy manner.. so it all failed. Thanks for suppoert anyway)"},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":0,"creation_date":1454065637,"post_id":35062385,"comment_id":57887767,"body_markdown":"@DmitryAlexandrov that doesn&#39;t mean you have to turn off lazy loading. Don&#39;t throw the baby out with the bath water! Honestly instanceof is best avoided anyway.","body":"@DmitryAlexandrov that doesn&#39;t mean you have to turn off lazy loading. Don&#39;t throw the baby out with the bath water! Honestly instanceof is best avoided anyway."}],"answers":[{"tags":[],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453993602,"creation_date":1453993602,"answer_id":35065011,"question_id":35062385,"body_markdown":"That is because Hibernate uses run time proxies and OpenJPA, while supporting the proxy approach, prefers either compile time or runtime byte code enhancement.\r\n\r\nSee:\r\n\r\nhttp://openjpa.apache.org/entity-enhancement.html\r\n    \r\n    //Hibernate\r\n    Entity e = repository.load(entityId); // may return a proxy \r\n    \r\n    //OpenJPA\r\n    Entity e = repository.load(entityId); //will return an (enhanced) actual instance of E ","title":"JPA/Hibernate instance of not working","body":"<p>That is because Hibernate uses run time proxies and OpenJPA, while supporting the proxy approach, prefers either compile time or runtime byte code enhancement.</p>\n\n<p>See:</p>\n\n<p><a href=\"http://openjpa.apache.org/entity-enhancement.html\" rel=\"nofollow\">http://openjpa.apache.org/entity-enhancement.html</a></p>\n\n<pre><code>//Hibernate\nEntity e = repository.load(entityId); // may return a proxy \n\n//OpenJPA\nEntity e = repository.load(entityId); //will return an (enhanced) actual instance of E \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1677147140,"creation_date":1453995032,"answer_id":35065564,"question_id":35062385,"body_markdown":"This is most likely because hibernate is returning a proxy.\r\n\r\nWhy does it do this? To implement lazy loading the framework needs to intercept your method calls that return a lazy loaded object or list of objects. It does this so it can first load the object from the DB and then allow your method to run. Hibernate does this by creating a proxy class. If you check the type in debug you should be able to see the actual type is a generated class which does not extend from your base class. \r\n\r\nHow to get around it? I had this problem once and successfully used the visitor pattern instead of using `instanceof`. It does add extra complication so it&#39;s not everyone&#39;s favorite pattern but IMHO it is a much cleaner approach than using `instanceof`. \r\n\r\nIf you use `instanceof` then you typically end up with `if...else` blocks checking for the different types. As you add more types you will have to re-visit each of these blocks. The advantage of the visitor pattern is that the conditional logic is built into your class hierarchy so if you add more types it makes it less likely you need to change everywhere that uses these classes.\r\n\r\nI found this [article][1] useful when implementing the visitor pattern.\r\n\r\n\r\n  [1]: https://developer.jboss.org/docs/DOC-13931","title":"JPA/Hibernate instance of not working","body":"<p>This is most likely because hibernate is returning a proxy.</p>\n<p>Why does it do this? To implement lazy loading the framework needs to intercept your method calls that return a lazy loaded object or list of objects. It does this so it can first load the object from the DB and then allow your method to run. Hibernate does this by creating a proxy class. If you check the type in debug you should be able to see the actual type is a generated class which does not extend from your base class.</p>\n<p>How to get around it? I had this problem once and successfully used the visitor pattern instead of using <code>instanceof</code>. It does add extra complication so it's not everyone's favorite pattern but IMHO it is a much cleaner approach than using <code>instanceof</code>.</p>\n<p>If you use <code>instanceof</code> then you typically end up with <code>if...else</code> blocks checking for the different types. As you add more types you will have to re-visit each of these blocks. The advantage of the visitor pattern is that the conditional logic is built into your class hierarchy so if you add more types it makes it less likely you need to change everywhere that uses these classes.</p>\n<p>I found this <a href=\"https://developer.jboss.org/docs/DOC-13931\" rel=\"nofollow noreferrer\">article</a> useful when implementing the visitor pattern.</p>\n"},{"comments":[{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":2,"creation_date":1454000229,"post_id":35066447,"comment_id":57858063,"body_markdown":"Interesting idea but how is isAssignableFrom going to work if instanceof fails? Surely they both check the class hierarchy?","body":"Interesting idea but how is isAssignableFrom going to work if instanceof fails? Surely they both check the class hierarchy?"},{"owner":{"account_id":7635183,"reputation":1513,"user_id":5788941,"display_name":"Alexandre Cartapanis"},"score":0,"creation_date":1454006566,"post_id":35066447,"comment_id":57861864,"body_markdown":"http://stackoverflow.com/questions/496928/what-is-the-difference-between-instanceof-and-class-isassignablefrom isAssignableFrom can check class at runtime, wich is good as proxies are generated at runtime","body":"<a href=\"http://stackoverflow.com/questions/496928/what-is-the-difference-between-instanceof-and-class-isassignablefrom\" title=\"what is the difference between instanceof and class isassignablefrom\">stackoverflow.com/questions/496928/&hellip;</a> isAssignableFrom can check class at runtime, wich is good as proxies are generated at runtime"},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":2,"creation_date":1454017985,"post_id":35066447,"comment_id":57868619,"body_markdown":"`instanceof` also checks objects at runtime.","body":"<code>instanceof</code> also checks objects at runtime."},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":1,"creation_date":1454019349,"post_id":35066447,"comment_id":57869337,"body_markdown":"I think what you mean is that instanceof requires the class name at compile time whereas isAssignableFrom can get the class from an object using getClass. That isn&#39;t the problem here though. The instanceof compiled but the runtime object doesn&#39;t belong to the type hierarchy due to a proxy.","body":"I think what you mean is that instanceof requires the class name at compile time whereas isAssignableFrom can get the class from an object using getClass. That isn&#39;t the problem here though. The instanceof compiled but the runtime object doesn&#39;t belong to the type hierarchy due to a proxy."}],"tags":[],"owner":{"account_id":7635183,"reputation":1513,"user_id":5788941,"display_name":"Alexandre Cartapanis"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1453997565,"creation_date":1453997565,"answer_id":35066447,"question_id":35062385,"body_markdown":"Hibernate returns Proxied Object. Rather than implementing a Visitor pattern (as described [here][1]), you can use the `isAssignableFrom()` method on the class you want to test (https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35065564/5788941 &quot;here&quot;","title":"JPA/Hibernate instance of not working","body":"<p>Hibernate returns Proxied Object. Rather than implementing a Visitor pattern (as described <a href=\"https://stackoverflow.com/a/35065564/5788941\" title=\"here\">here</a>), you can use the <code>isAssignableFrom()</code> method on the class you want to test (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-</a>).</p>\n"},{"tags":[],"owner":{"account_id":12821485,"reputation":141,"user_id":9276178,"display_name":"Luka Gorgadze"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1554880450,"creation_date":1554880450,"answer_id":55606761,"question_id":35062385,"body_markdown":"Not sure, but I think this will work.\r\n\r\n    public static boolean instanceOf(Object object, Class&lt;?&gt; superclass) {\r\n        return superclass.isAssignableFrom(Hibernate.getClass(object));\r\n    }","title":"JPA/Hibernate instance of not working","body":"<p>Not sure, but I think this will work.</p>\n\n<pre><code>public static boolean instanceOf(Object object, Class&lt;?&gt; superclass) {\n    return superclass.isAssignableFrom(Hibernate.getClass(object));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637141724,"creation_date":1637141724,"answer_id":70001927,"question_id":35062385,"body_markdown":"You can try to unproxy your object :\r\n\r\n\r\n    /**\r\n    \t * \r\n    \t * @param &lt;T&gt;\r\n    \t * @param entity\r\n    \t * @return\r\n    \t */\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic static &lt;T&gt; T initializeAndUnproxy(T entity) {\r\n    \t\tif (entity == null) {\r\n    \t\t\t// throw new NullPointerException(&quot;Entity passed for initialization is null&quot;);\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tHibernate.initialize(entity);\r\n    \t\tif (entity instanceof HibernateProxy) {\r\n    \t\t\tentity = (T) ((HibernateProxy) entity).getHibernateLazyInitializer().getImplementation();\r\n    \t\t}\r\n    \t\treturn entity;\r\n    \t}","title":"JPA/Hibernate instance of not working","body":"<p>You can try to unproxy your object :</p>\n<pre><code>/**\n     * \n     * @param &lt;T&gt;\n     * @param entity\n     * @return\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T&gt; T initializeAndUnproxy(T entity) {\n        if (entity == null) {\n            // throw new NullPointerException(&quot;Entity passed for initialization is null&quot;);\n            return null;\n        }\n        Hibernate.initialize(entity);\n        if (entity instanceof HibernateProxy) {\n            entity = (T) ((HibernateProxy) entity).getHibernateLazyInitializer().getImplementation();\n        }\n        return entity;\n    }\n</code></pre>\n"}],"owner":{"account_id":463786,"reputation":668,"user_id":866889,"accept_rate":60,"display_name":"Dmitry Aleksandrov"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3520,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":35065564,"answer_count":5,"score":1,"last_activity_date":1677147140,"creation_date":1453986451,"question_id":35062385,"body_markdown":"Imagine a situation:\r\n\r\n    @javax.persistence.Inheritance(strategy=javax.persistence.InheritanceType.JOINED)\r\n    @javax.persistence.DiscriminatorColumn\r\n    @javax.persistence.Entity\r\n    @javax.persistence.Table(name=&quot;PARENT&quot;)\r\n    public abstract class Parent{\r\n    ...\r\n    }\r\n    \r\n    @javax.persistence.Entity\r\n    @javax.persistence.Table(name=&quot;A&quot;)\r\n    public class A extends Parent{\r\n    ...\r\n    }\r\n    \r\n    @javax.persistence.Entity\r\n    @javax.persistence.Table(name=&quot;B&quot;)\r\n    public class B extends Parent{\r\n    ...\r\n    }\r\n    \r\n    \r\n    Parent p = new A();\r\n\r\nNow we call this:\r\n\r\n    p instance of A\r\n\r\nalways returns **false**!!\r\n\r\nworks ok on OpenJPA!\r\n\r\nShould I file a bug? Hibernate 4.3.10","title":"JPA/Hibernate instance of not working","body":"<p>Imagine a situation:</p>\n\n<pre><code>@javax.persistence.Inheritance(strategy=javax.persistence.InheritanceType.JOINED)\n@javax.persistence.DiscriminatorColumn\n@javax.persistence.Entity\n@javax.persistence.Table(name=\"PARENT\")\npublic abstract class Parent{\n...\n}\n\n@javax.persistence.Entity\n@javax.persistence.Table(name=\"A\")\npublic class A extends Parent{\n...\n}\n\n@javax.persistence.Entity\n@javax.persistence.Table(name=\"B\")\npublic class B extends Parent{\n...\n}\n\n\nParent p = new A();\n</code></pre>\n\n<p>Now we call this:</p>\n\n<pre><code>p instance of A\n</code></pre>\n\n<p>always returns <strong>false</strong>!!</p>\n\n<p>works ok on OpenJPA!</p>\n\n<p>Should I file a bug? Hibernate 4.3.10</p>\n"},{"tags":["java","spring-boot","maven","spring-mvc","exceptionhandler"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":2,"creation_date":1677144695,"post_id":75542559,"comment_id":133281036,"body_markdown":"`throw new  MyCustomException(&quot;test&quot;)` instead of returning it","body":"<code>throw new  MyCustomException(&quot;test&quot;)</code> instead of returning it"},{"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"score":0,"creation_date":1677146074,"post_id":75542559,"comment_id":133281435,"body_markdown":"umm I&#39;m having same result, the other exceptionHandler is not catching it","body":"umm I&#39;m having same result, the other exceptionHandler is not catching it"},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":2,"creation_date":1677154059,"post_id":75542559,"comment_id":133283688,"body_markdown":"On the other hand, if I correctly understand what you are trying to do, chained exception handlers do not work. Per request only one handler can be invoked.","body":"On the other hand, if I correctly understand what you are trying to do, chained exception handlers do not work. Per request only one handler can be invoked."},{"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"score":0,"creation_date":1677154081,"post_id":75542559,"comment_id":133283701,"body_markdown":"Is it because you want to return a similar response(only a few changes based on exception) for both exceptions?","body":"Is it because you want to return a similar response(only a few changes based on exception) for both exceptions?"},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1677161513,"post_id":75542559,"comment_id":133286056,"body_markdown":"Also, you can put multiple `@ExceptionHandler` methods in the same handler class, for the different Exception classes.","body":"Also, you can put multiple <code>@ExceptionHandler</code> methods in the same handler class, for the different Exception classes."}],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677146995,"creation_date":1677142833,"question_id":75542559,"body_markdown":"I have a spring application created with maven, it has the typical flow:\r\n\r\n    controller -&gt; service -&gt; external gateway\r\n\r\nWhen querying the external gateway from service, it can return a FeingException, and I want to capture and convert into a custom one:\r\n\r\n    @RestControllerAdvice\r\n    public class GatewayErrorHandling {\r\n  \r\n       @ExceptionHandler(FeignException.class)\r\n       public MyCustomException handleFeignException(FeignException e) {;\r\n\r\n           return  new  MyCustomException(&quot;test&quot;);\r\n       }\r\n     }\r\n\r\nThen I try to catch it into another handler but it doesnt work\r\n\r\n    @RestControllerAdvice\r\n    public class ServiceErrorHandling {\r\n  \r\n       @ExceptionHandler(MyCustomException.class)\r\n       public void handleMyCustomException(MyCustomException e) {;\r\n\r\n           System.out.println(&quot;exception catched&quot;);\r\n       }\r\n     }\r\n\r\n\r\nI dont know what point I am missing to not be able to reach this system.out.println line\r\n\r\nUpdate: after Dirk Deyne comment, the first method is: \r\n\r\n       @ExceptionHandler(FeignException.class)\r\n       public void handleFeignException(FeignException e) {;\r\n\r\n           throw new  MyCustomException(&quot;test&quot;);\r\n       }\r\n\r\n\r\nwith same result","title":"how to catch an exception and convert into another by using ExceptionHandler","body":"<p>I have a spring application created with maven, it has the typical flow:</p>\n<pre><code>controller -&gt; service -&gt; external gateway\n</code></pre>\n<p>When querying the external gateway from service, it can return a FeingException, and I want to capture and convert into a custom one:</p>\n<pre><code>@RestControllerAdvice\npublic class GatewayErrorHandling {\n\n   @ExceptionHandler(FeignException.class)\n   public MyCustomException handleFeignException(FeignException e) {;\n\n       return  new  MyCustomException(&quot;test&quot;);\n   }\n }\n</code></pre>\n<p>Then I try to catch it into another handler but it doesnt work</p>\n<pre><code>@RestControllerAdvice\npublic class ServiceErrorHandling {\n\n   @ExceptionHandler(MyCustomException.class)\n   public void handleMyCustomException(MyCustomException e) {;\n\n       System.out.println(&quot;exception catched&quot;);\n   }\n }\n</code></pre>\n<p>I dont know what point I am missing to not be able to reach this system.out.println line</p>\n<p>Update: after Dirk Deyne comment, the first method is:</p>\n<pre><code>   @ExceptionHandler(FeignException.class)\n   public void handleFeignException(FeignException e) {;\n\n       throw new  MyCustomException(&quot;test&quot;);\n   }\n</code></pre>\n<p>with same result</p>\n"},{"tags":["java","spring","spring-webflux","spring-data-r2dbc"],"answers":[{"comments":[{"owner":{"account_id":18341417,"reputation":11,"user_id":13357583,"display_name":"Halim CHAIBI"},"score":1,"creation_date":1677471883,"post_id":75543312,"comment_id":133337726,"body_markdown":"Yes removing the query annotation works, however, I need to run more complex queries, better to reconsider the approach. Thank you.","body":"Yes removing the query annotation works, however, I need to run more complex queries, better to reconsider the approach. Thank you."},{"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"score":0,"creation_date":1677501560,"post_id":75543312,"comment_id":133343824,"body_markdown":"I recommend you try either `DatabaseClient` or `R2dbcEntityTemplate` if you need a lower level of control over SQL. Also check `TransactionalOperator` for transactional support. And maybe upvote if you found it helpful.","body":"I recommend you try either <code>DatabaseClient</code> or <code>R2dbcEntityTemplate</code> if you need a lower level of control over SQL. Also check <code>TransactionalOperator</code> for transactional support. And maybe upvote if you found it helpful."}],"tags":[],"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677146983,"creation_date":1677146983,"answer_id":75543312,"question_id":74619575,"body_markdown":"I checked the `@Query` annotation with an incoming and outgoing `Flux`, and it appear that the `@Query` annotation indeed does not support an incoming `Publisher`. \r\n\r\nI also got `Value must not be null` from my test code below:\r\n\r\n```java\r\nFlux&lt;Integer&gt; ids = Flux.range(1, 10);\r\n\r\nuserInfoRepository.findAllById(ids)\r\n    .subscribeOn(Schedulers.boundedElastic())\r\n    .subscribe(v1 -&gt; log.info(&quot;User {}&quot;, v1.getUsername()));\r\n\r\n@Query(&quot;select * from user.user_infos t where t.id = :id&quot;)\r\nFlux&lt;UserInfo&gt; findAllById(Flux&lt;Integer&gt; id);\r\n```\r\n\r\n\r\nBut if you remove `@Query` it actually works:\r\n\r\n```java\r\nFlux&lt;UserInfo&gt; findAllById(Flux&lt;Integer&gt; id);\r\n```\r\n\r\nAnd with other fields too:\r\n\r\n```java\r\nFlux&lt;UserInfo&gt; findAllByUsername(Flux&lt;String&gt; username);\r\n```\r\n\r\nTo me it seems like the `@Query` annotation does not support subscribing to an incoming argument `Publisher` at this point (i.e. it does not do `.flatMap()` internally).","title":"Spring Data with r2dbc using Query annotation","body":"<p>I checked the <code>@Query</code> annotation with an incoming and outgoing <code>Flux</code>, and it appear that the <code>@Query</code> annotation indeed does not support an incoming <code>Publisher</code>.</p>\n<p>I also got <code>Value must not be null</code> from my test code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;Integer&gt; ids = Flux.range(1, 10);\n\nuserInfoRepository.findAllById(ids)\n    .subscribeOn(Schedulers.boundedElastic())\n    .subscribe(v1 -&gt; log.info(&quot;User {}&quot;, v1.getUsername()));\n\n@Query(&quot;select * from user.user_infos t where t.id = :id&quot;)\nFlux&lt;UserInfo&gt; findAllById(Flux&lt;Integer&gt; id);\n</code></pre>\n<p>But if you remove <code>@Query</code> it actually works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;UserInfo&gt; findAllById(Flux&lt;Integer&gt; id);\n</code></pre>\n<p>And with other fields too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;UserInfo&gt; findAllByUsername(Flux&lt;String&gt; username);\n</code></pre>\n<p>To me it seems like the <code>@Query</code> annotation does not support subscribing to an incoming argument <code>Publisher</code> at this point (i.e. it does not do <code>.flatMap()</code> internally).</p>\n"}],"owner":{"account_id":18341417,"reputation":11,"user_id":13357583,"display_name":"Halim CHAIBI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677146983,"creation_date":1669751722,"question_id":74619575,"body_markdown":"I am exploring Spring Data with r2dbc.\r\nI am trying to use a custom repository method in my interface extended from ReactiveCrudRepository, which takes a Flux of Object as Parameter and Return a Flux of the same Object.\r\n\r\n\r\n```\r\n    @Query(&quot;SELECT id, name  FROM Person WHERE id = ?&quot;)\r\n    Flux&lt;Person&gt; myMethod(Flux&lt;Person&gt; person);\r\n\r\n```\r\n\r\n\r\nI am expecting it to have the same behaviour as the Flux&lt;T&gt; findAllById(Publisher&lt;ID&gt; idStream) method.\r\n\r\n\r\n\r\nThis is my interface repository definition:\r\n```\r\npublic interface PersonRepository extends ReactiveCrudRepository&lt;Person, Person&gt; {\r\n\r\n    @Query(&quot;SELECT id, name  FROM Person WHERE id = ?&quot;)\r\n    Flux&lt;Person&gt; myMethod(Flux&lt;Person&gt; person);\r\n\r\n}\r\n\r\n```\r\n\r\nThis is my entity:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(value = &quot;Person&quot;, schema = &quot;mySchema&quot;)\r\npublic class Person {\r\n    @Id\r\n    @Column(&quot;id&quot;)\r\n    Long id;\r\n\r\n    @Column(&quot;name&quot;)\r\n    String name;\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nThis my DB Configuration class:\r\n\r\n```\r\n@Configuration\r\n@EnableR2dbcRepositories\r\n@EnableR2dbcAuditing\r\n@EnableTransactionManagement\r\n\r\n\r\npublic class DatabaseConfiguration extends AbstractR2dbcConfiguration {\r\n\r\n......\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nThis is my main application:\r\n\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableR2dbcAuditing\r\n@EnableConfigurationProperties({ApplicationProperties.class})\r\npublic class MyApplication {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(MyApplication.class);\r\n\r\n\r\n    @Bean\r\n    public CommandLineRunner consume(PersonRepository personRepository) {\r\n\r\n\r\n        LongSupplier randomLong = () -&gt; {\r\n            return RandomUtils.nextLong(10L,20L);\r\n        };\r\n\r\n        Flux&lt;Long&gt; personIds = Flux.fromStream(LongStream.generate(randomLong).boxed());\r\n        Flux&lt;Person&gt; persons = personIds.map( p -&gt; {\r\n            Person person = new Person();\r\n            person.setId(p);\r\n            return person;\r\n        });\r\n\r\n\r\n        personRepository.myMethod(persons.take(3)).subscribe( id -&gt; logger.info(&quot;Processed Person Id: &quot; + id));\r\n        \r\n        return null;\r\n    }   \r\n\r\n    .......\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhen using the interface method findById(Publisher&lt;Person&gt; id), it works, but when trying to use the custom method myMethod(Flux&lt;Person&gt; id) with quetry annotation I am getting the following exception:\r\n\r\n\r\n\r\n\r\n```\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.IllegalArgumentException: Value must not be null\r\nCaused by: java.lang.IllegalArgumentException: **Value must not be null**\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nAssembly trace from producer [reactor.core.publisher.MonoMapFuseable] :\r\n\treactor.core.publisher.Mono.map(Mono.java:3411)\r\n\torg.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.createQuery(StringBasedR2dbcQuery.java:156)\r\nError has been observed at the following site(s):\r\n\t*__________Mono.map ⇢ at org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.createQuery(StringBasedR2dbcQuery.java:156)\r\n\t|_ Mono.flatMapMany ⇢ at org.springframework.data.r2dbc.repository.query.AbstractR2dbcQuery.execute(AbstractR2dbcQuery.java:88)\r\n\t*____Flux.usingWhen ⇢ at org.springframework.data.repository.core.support.RepositoryMethodInvoker$ReactiveInvocationListenerDecorator.decorate(RepositoryMethodInvoker.java:242)\r\nOriginal Stack Trace:\r\n\t\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\t\tat org.springframework.r2dbc.core.Parameter.from(Parameter.java:54)\r\n\t\tat org.springframework.data.r2dbc.query.QueryMapper.getBindValue(QueryMapper.java:426)\r\n\t\tat org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getBindValue(DefaultReactiveDataAccessStrategy.java:288)\r\n\t\tat org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.getBindValue(ExpressionEvaluatingParameterBinder.java:134)\r\n\t\tat org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.bindExpressions(ExpressionEvaluatingParameterBinder.java:82)\r\n\t\tat org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.bind(ExpressionEvaluatingParameterBinder.java:72)\r\n\t\tat org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery$ExpandedQuery.&lt;init&gt;(StringBasedR2dbcQuery.java:197)\r\n\t\tat org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.lambda$createQuery$0(StringBasedR2dbcQuery.java:156)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)\r\n\t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:101)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210)\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n\t\tat reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:368)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onComplete(FluxConcatMap.java:276)\r\n\t\tat reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:148)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8469)\r\n\t\tat reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:94)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8469)\r\n\t\tat reactor.core.publisher.Flux.subscribeWith(Flux.java:8642)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8439)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8363)\r\n\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8306)\r\n```\r\n\r\n\r\n\r\nI couldn&#39;t find  some similar use case in the Spring reference documenetation, I am wondering if this is even supported.\r\n\r\n\r\n","title":"Spring Data with r2dbc using Query annotation","body":"<p>I am exploring Spring Data with r2dbc.\nI am trying to use a custom repository method in my interface extended from ReactiveCrudRepository, which takes a Flux of Object as Parameter and Return a Flux of the same Object.</p>\n<pre><code>    @Query(&quot;SELECT id, name  FROM Person WHERE id = ?&quot;)\n    Flux&lt;Person&gt; myMethod(Flux&lt;Person&gt; person);\n\n</code></pre>\n<p>I am expecting it to have the same behaviour as the Flux findAllById(Publisher idStream) method.</p>\n<p>This is my interface repository definition:</p>\n<pre><code>public interface PersonRepository extends ReactiveCrudRepository&lt;Person, Person&gt; {\n\n    @Query(&quot;SELECT id, name  FROM Person WHERE id = ?&quot;)\n    Flux&lt;Person&gt; myMethod(Flux&lt;Person&gt; person);\n\n}\n\n</code></pre>\n<p>This is my entity:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(value = &quot;Person&quot;, schema = &quot;mySchema&quot;)\npublic class Person {\n    @Id\n    @Column(&quot;id&quot;)\n    Long id;\n\n    @Column(&quot;name&quot;)\n    String name;\n\n}\n</code></pre>\n<p>This my DB Configuration class:</p>\n<pre><code>@Configuration\n@EnableR2dbcRepositories\n@EnableR2dbcAuditing\n@EnableTransactionManagement\n\n\npublic class DatabaseConfiguration extends AbstractR2dbcConfiguration {\n\n......\n\n}\n\n</code></pre>\n<p>This is my main application:</p>\n<pre><code>@SpringBootApplication\n@EnableR2dbcAuditing\n@EnableConfigurationProperties({ApplicationProperties.class})\npublic class MyApplication {\n\n    private static final Logger logger = LoggerFactory.getLogger(MyApplication.class);\n\n\n    @Bean\n    public CommandLineRunner consume(PersonRepository personRepository) {\n\n\n        LongSupplier randomLong = () -&gt; {\n            return RandomUtils.nextLong(10L,20L);\n        };\n\n        Flux&lt;Long&gt; personIds = Flux.fromStream(LongStream.generate(randomLong).boxed());\n        Flux&lt;Person&gt; persons = personIds.map( p -&gt; {\n            Person person = new Person();\n            person.setId(p);\n            return person;\n        });\n\n\n        personRepository.myMethod(persons.take(3)).subscribe( id -&gt; logger.info(&quot;Processed Person Id: &quot; + id));\n        \n        return null;\n    }   \n\n    .......\n}\n</code></pre>\n<p>When using the interface method findById(Publisher id), it works, but when trying to use the custom method myMethod(Flux id) with quetry annotation I am getting the following exception:</p>\n<pre><code>reactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.IllegalArgumentException: Value must not be null\nCaused by: java.lang.IllegalArgumentException: **Value must not be null**\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nAssembly trace from producer [reactor.core.publisher.MonoMapFuseable] :\n    reactor.core.publisher.Mono.map(Mono.java:3411)\n    org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.createQuery(StringBasedR2dbcQuery.java:156)\nError has been observed at the following site(s):\n    *__________Mono.map ⇢ at org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.createQuery(StringBasedR2dbcQuery.java:156)\n    |_ Mono.flatMapMany ⇢ at org.springframework.data.r2dbc.repository.query.AbstractR2dbcQuery.execute(AbstractR2dbcQuery.java:88)\n    *____Flux.usingWhen ⇢ at org.springframework.data.repository.core.support.RepositoryMethodInvoker$ReactiveInvocationListenerDecorator.decorate(RepositoryMethodInvoker.java:242)\nOriginal Stack Trace:\n        at org.springframework.util.Assert.notNull(Assert.java:201)\n        at org.springframework.r2dbc.core.Parameter.from(Parameter.java:54)\n        at org.springframework.data.r2dbc.query.QueryMapper.getBindValue(QueryMapper.java:426)\n        at org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy.getBindValue(DefaultReactiveDataAccessStrategy.java:288)\n        at org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.getBindValue(ExpressionEvaluatingParameterBinder.java:134)\n        at org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.bindExpressions(ExpressionEvaluatingParameterBinder.java:82)\n        at org.springframework.data.r2dbc.repository.query.ExpressionEvaluatingParameterBinder.bind(ExpressionEvaluatingParameterBinder.java:72)\n        at org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery$ExpandedQuery.&lt;init&gt;(StringBasedR2dbcQuery.java:197)\n        at org.springframework.data.r2dbc.repository.query.StringBasedR2dbcQuery.lambda$createQuery$0(StringBasedR2dbcQuery.java:156)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:101)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n        at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210)\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n        at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:368)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onComplete(FluxConcatMap.java:276)\n        at reactor.core.publisher.Operators.complete(Operators.java:137)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:148)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\n        at reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:94)\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\n        at reactor.core.publisher.Flux.subscribeWith(Flux.java:8642)\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8439)\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8363)\n        at reactor.core.publisher.Flux.subscribe(Flux.java:8306)\n</code></pre>\n<p>I couldn't find  some similar use case in the Spring reference documenetation, I am wondering if this is even supported.</p>\n"},{"tags":["java","opencv"],"answers":[{"tags":[],"owner":{"account_id":12630970,"reputation":1,"user_id":9182485,"display_name":"Cosmin Ştefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677146606,"creation_date":1677146542,"answer_id":75543242,"question_id":75533501,"body_markdown":"The issue is that Imgproc.approxPolyDP called in getApproximatePolygonCorners() returns the corners in a different order than the order I implemented in getFrontPerspectiveCorners(). Because of that a wrong perspective matrix is created which lead to the unexpected image after Imgproc.warpPerspective call.","title":"All grey image when i try to warp image perspective in Java opencv","body":"<p>The issue is that Imgproc.approxPolyDP called in getApproximatePolygonCorners() returns the corners in a different order than the order I implemented in getFrontPerspectiveCorners(). Because of that a wrong perspective matrix is created which lead to the unexpected image after Imgproc.warpPerspective call.</p>\n"}],"owner":{"account_id":12630970,"reputation":1,"user_id":9182485,"display_name":"Cosmin Ştefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677146606,"creation_date":1677073114,"question_id":75533501,"body_markdown":"I want to build an document scanner using java opencv but after transformation is performed I get an all grey outputImage\r\n\r\n\r\nMy attempt was to preprocess the image(greyscale/normalize) autodetect the corners and apply perspective transform to transform the trapezoid document into a rectangle one. The detected corners seems to be correct.\r\n\r\n```\r\n@Component\r\npublic class SkewHandler implements PreprocessingHandler{\r\n\r\n    private ShapeDetector shapeDetector;\r\n\r\n    @Autowired\r\n    SkewHandler(ShapeDetector shapeDetector) {\r\n        this.shapeDetector = shapeDetector;\r\n    }\r\n\r\n    @Override\r\n    public Mat doPreprocessing(Mat inputImage) {\r\n        System.out.println(&quot;skew&quot;);\r\n\r\n        Mat greyImage = new GreyScaleHandler().doPreprocessing(inputImage);\r\n        Mat normalizeImage = new NormalizeHandler().doPreprocessing(greyImage);\r\n        Mat threseholdImage = new ThresholdHandler().doPreprocessing(normalizeImage);\r\n\r\n\r\n        MatOfPoint corners = shapeDetector.getCorners(threseholdImage);\r\n        MatOfPoint polygonCorners = shapeDetector.getApproximatePolygonCorners(corners);\r\n        MatOfPoint frontPerspectiveCorners = shapeDetector.getFrontPerspectiveCorners(corners);\r\n        Size frontPerspectiveSize = shapeDetector.getFrontPerspectiveSize(corners);\r\n\r\n        Mat perspectiveTransformMatrix = Imgproc.getPerspectiveTransform(\r\n                        convertPoints(polygonCorners), convertPoints(frontPerspectiveCorners));\r\n\r\n        Mat outputImage = new Mat(inputImage.size(), inputImage.type());\r\n        Imgproc.warpPerspective(inputImage, outputImage, perspectiveTransformMatrix,frontPerspectiveSize);\r\n\r\n        return outputImage;\r\n    }\r\n\r\n    private static MatOfPoint2f convertPoints(MatOfPoint points) {\r\n        MatOfPoint2f points2f = new MatOfPoint2f();\r\n        points.convertTo(points2f, CvType.CV_32FC1);\r\n        return points2f;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class ShapeDetector {\r\n\r\n    public MatOfPoint getCorners(Mat inputImage) {\r\n        List&lt;MatOfPoint&gt; corners = new ArrayList&lt;&gt;();\r\n        Imgproc.findContours(inputImage,corners,new Mat(), Imgproc.RETR_EXTERNAL,Imgproc.CHAIN_APPROX_TC89_L1);\r\n\r\n        return corners.stream()\r\n                .max(Comparator.comparing(Imgproc::contourArea))\r\n                .orElse(null);\r\n    }\r\n\r\n    public Double getCornersPerimeter(MatOfPoint2f corners) {\r\n        return Imgproc.arcLength(corners, true);\r\n    }\r\n\r\n    public MatOfPoint getApproximatePolygonCorners(MatOfPoint corners) {\r\n        MatOfPoint2f corners2f = new MatOfPoint2f();\r\n        corners.convertTo(corners2f, CvType.CV_32FC2);\r\n\r\n        MatOfPoint2f polygonCorners2f = new MatOfPoint2f();\r\n        Imgproc.approxPolyDP(corners2f,polygonCorners2f, 0.015*getCornersPerimeter(corners2f),true);\r\n\r\n        MatOfPoint polygonCorners = new MatOfPoint();\r\n        polygonCorners2f.convertTo(polygonCorners, CvType.CV_32S);\r\n\r\n        return polygonCorners;\r\n    }\r\n\r\n    public MatOfPoint getFrontPerspectiveCorners(MatOfPoint corners) {\r\n        double maxX = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.x).max().getAsDouble();\r\n\r\n        double minX = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.x).min().getAsDouble();\r\n\r\n        double maxY = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.y).max().getAsDouble();\r\n\r\n        double minY = corners.toList().stream().\r\n                mapToDouble(point -&gt; point.y).min().getAsDouble();\r\n\r\n        double maxWidth = maxX - minX;\r\n        double maxHeight = maxY -minY;\r\n\r\n        return new MatOfPoint(\r\n                new Point(0,0),\r\n                new Point(maxWidth, 0),\r\n                new Point(maxWidth, maxHeight),\r\n                new Point(maxHeight, 0));\r\n    }\r\n\r\n    public Size getFrontPerspectiveSize(MatOfPoint corners) {\r\n        double maxX = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.x).max().getAsDouble();\r\n\r\n        double minX = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.x).min().getAsDouble();\r\n\r\n        double maxY = corners.toList().stream()\r\n                .mapToDouble(point -&gt; point.y).max().getAsDouble();\r\n\r\n        double minY = corners.toList().stream().\r\n                mapToDouble(point -&gt; point.y).min().getAsDouble();\r\n\r\n        double maxWidth = maxX - minX;\r\n        double maxHeight = maxY -minY;\r\n\r\n        return new Size(maxWidth, maxHeight);\r\n    }\r\n```\r\n","title":"All grey image when i try to warp image perspective in Java opencv","body":"<p>I want to build an document scanner using java opencv but after transformation is performed I get an all grey outputImage</p>\n<p>My attempt was to preprocess the image(greyscale/normalize) autodetect the corners and apply perspective transform to transform the trapezoid document into a rectangle one. The detected corners seems to be correct.</p>\n<pre><code>@Component\npublic class SkewHandler implements PreprocessingHandler{\n\n    private ShapeDetector shapeDetector;\n\n    @Autowired\n    SkewHandler(ShapeDetector shapeDetector) {\n        this.shapeDetector = shapeDetector;\n    }\n\n    @Override\n    public Mat doPreprocessing(Mat inputImage) {\n        System.out.println(&quot;skew&quot;);\n\n        Mat greyImage = new GreyScaleHandler().doPreprocessing(inputImage);\n        Mat normalizeImage = new NormalizeHandler().doPreprocessing(greyImage);\n        Mat threseholdImage = new ThresholdHandler().doPreprocessing(normalizeImage);\n\n\n        MatOfPoint corners = shapeDetector.getCorners(threseholdImage);\n        MatOfPoint polygonCorners = shapeDetector.getApproximatePolygonCorners(corners);\n        MatOfPoint frontPerspectiveCorners = shapeDetector.getFrontPerspectiveCorners(corners);\n        Size frontPerspectiveSize = shapeDetector.getFrontPerspectiveSize(corners);\n\n        Mat perspectiveTransformMatrix = Imgproc.getPerspectiveTransform(\n                        convertPoints(polygonCorners), convertPoints(frontPerspectiveCorners));\n\n        Mat outputImage = new Mat(inputImage.size(), inputImage.type());\n        Imgproc.warpPerspective(inputImage, outputImage, perspectiveTransformMatrix,frontPerspectiveSize);\n\n        return outputImage;\n    }\n\n    private static MatOfPoint2f convertPoints(MatOfPoint points) {\n        MatOfPoint2f points2f = new MatOfPoint2f();\n        points.convertTo(points2f, CvType.CV_32FC1);\n        return points2f;\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class ShapeDetector {\n\n    public MatOfPoint getCorners(Mat inputImage) {\n        List&lt;MatOfPoint&gt; corners = new ArrayList&lt;&gt;();\n        Imgproc.findContours(inputImage,corners,new Mat(), Imgproc.RETR_EXTERNAL,Imgproc.CHAIN_APPROX_TC89_L1);\n\n        return corners.stream()\n                .max(Comparator.comparing(Imgproc::contourArea))\n                .orElse(null);\n    }\n\n    public Double getCornersPerimeter(MatOfPoint2f corners) {\n        return Imgproc.arcLength(corners, true);\n    }\n\n    public MatOfPoint getApproximatePolygonCorners(MatOfPoint corners) {\n        MatOfPoint2f corners2f = new MatOfPoint2f();\n        corners.convertTo(corners2f, CvType.CV_32FC2);\n\n        MatOfPoint2f polygonCorners2f = new MatOfPoint2f();\n        Imgproc.approxPolyDP(corners2f,polygonCorners2f, 0.015*getCornersPerimeter(corners2f),true);\n\n        MatOfPoint polygonCorners = new MatOfPoint();\n        polygonCorners2f.convertTo(polygonCorners, CvType.CV_32S);\n\n        return polygonCorners;\n    }\n\n    public MatOfPoint getFrontPerspectiveCorners(MatOfPoint corners) {\n        double maxX = corners.toList().stream()\n                .mapToDouble(point -&gt; point.x).max().getAsDouble();\n\n        double minX = corners.toList().stream()\n                .mapToDouble(point -&gt; point.x).min().getAsDouble();\n\n        double maxY = corners.toList().stream()\n                .mapToDouble(point -&gt; point.y).max().getAsDouble();\n\n        double minY = corners.toList().stream().\n                mapToDouble(point -&gt; point.y).min().getAsDouble();\n\n        double maxWidth = maxX - minX;\n        double maxHeight = maxY -minY;\n\n        return new MatOfPoint(\n                new Point(0,0),\n                new Point(maxWidth, 0),\n                new Point(maxWidth, maxHeight),\n                new Point(maxHeight, 0));\n    }\n\n    public Size getFrontPerspectiveSize(MatOfPoint corners) {\n        double maxX = corners.toList().stream()\n                .mapToDouble(point -&gt; point.x).max().getAsDouble();\n\n        double minX = corners.toList().stream()\n                .mapToDouble(point -&gt; point.x).min().getAsDouble();\n\n        double maxY = corners.toList().stream()\n                .mapToDouble(point -&gt; point.y).max().getAsDouble();\n\n        double minY = corners.toList().stream().\n                mapToDouble(point -&gt; point.y).min().getAsDouble();\n\n        double maxWidth = maxX - minX;\n        double maxHeight = maxY -minY;\n\n        return new Size(maxWidth, maxHeight);\n    }\n</code></pre>\n"},{"tags":["java","collections","iteration"],"comments":[{"owner":{"account_id":1153729,"reputation":2569,"user_id":1134899,"accept_rate":100,"display_name":"Haz"},"score":1,"creation_date":1336050456,"post_id":10431981,"comment_id":13464094,"body_markdown":"Just curious, why do you create a copy of foolist rather than just looping through foolist in the first example?","body":"Just curious, why do you create a copy of foolist rather than just looping through foolist in the first example?"},{"owner":{"account_id":1400738,"reputation":6226,"user_id":1329572,"accept_rate":100,"display_name":"user1329572"},"score":0,"creation_date":1336050527,"post_id":10431981,"comment_id":13464130,"body_markdown":"@Haz, So I only have to loop once.","body":"@Haz, So I only have to loop once."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":21,"creation_date":1336051103,"post_id":10431981,"comment_id":13464400,"body_markdown":"Note: prefer &#39;for&#39; over &#39;while&#39; also with iterators to limit the scope of the variable: \nfor(Iterator&lt;Foo&gt; itr = fooList.iterator(); itr.hasNext();){}","body":"Note: prefer &#39;for&#39; over &#39;while&#39; also with iterators to limit the scope of the variable:  for(Iterator&lt;Foo&gt; itr = fooList.iterator(); itr.hasNext();){}"},{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":1,"creation_date":1549172853,"post_id":10431981,"comment_id":95805310,"body_markdown":"I didn&#39;t know `while` had different scoping rules than `for`","body":"I didn&#39;t know <code>while</code> had different scoping rules than <code>for</code>"},{"owner":{"account_id":8506,"reputation":1961,"user_id":15379,"accept_rate":60,"display_name":"Dave Griffiths"},"score":0,"creation_date":1560423039,"post_id":10431981,"comment_id":99735439,"body_markdown":"In a more complex situation you might have a case where `fooList` is an instance variable and you call a method during the loop that ends up calling another method in the same class that does `fooList.remove(obj)`. Have seen this happen. In which case copying the list is safest.","body":"In a more complex situation you might have a case where <code>fooList</code> is an instance variable and you call a method during the loop that ends up calling another method in the same class that does <code>fooList.remove(obj)</code>. Have seen this happen. In which case copying the list is safest."},{"owner":{"account_id":8522424,"reputation":1363,"user_id":6790957,"display_name":"Vikas Tawniya"},"score":3,"creation_date":1617999914,"post_id":10431981,"comment_id":118479076,"body_markdown":"@AlexanderMills while doesn&#39;t have a different scope rule. It&#39;s just that in case of while, Iterator is being declared outside the loop itself and so it will have a broader scope, even though it is just being used inside loop.","body":"@AlexanderMills while doesn&#39;t have a different scope rule. It&#39;s just that in case of while, Iterator is being declared outside the loop itself and so it will have a broader scope, even though it is just being used inside loop."},{"owner":{"account_id":4403071,"reputation":4844,"user_id":3588161,"display_name":"Fizz"},"score":0,"creation_date":1642665630,"post_id":10431981,"comment_id":125132671,"body_markdown":"Since you&#39;ve accepted the answer you&#39;ve accepted you probably had an XY problem, since that answer (like a few other here) doesn&#39;t actually remove during iteration. And the answer to your nominal question is quite obvious if you think a bit about it: immediately visible effect vs delayed/deferred deletion. It&#39;s not just a matter of &quot;style&quot; or &quot;readability&quot;.","body":"Since you&#39;ve accepted the answer you&#39;ve accepted you probably had an XY problem, since that answer (like a few other here) doesn&#39;t actually remove during iteration. And the answer to your nominal question is quite obvious if you think a bit about it: immediately visible effect vs delayed/deferred deletion. It&#39;s not just a matter of &quot;style&quot; or &quot;readability&quot;."}],"answers":[{"comments":[{"owner":{"account_id":1400738,"reputation":6226,"user_id":1329572,"accept_rate":100,"display_name":"user1329572"},"score":0,"creation_date":1336051216,"post_id":10432032,"comment_id":13464467,"body_markdown":"Oops, sorry...it is implied that I would use the iterator&#39;s remove method, not the container&#39;s. And how much overhead does copying the list create? It can&#39;t be much and since it&#39;s scoped to a method, it should be garbage collected rather quickly. See edit..","body":"Oops, sorry...it is implied that I would use the iterator&#39;s remove method, not the container&#39;s. And how much overhead does copying the list create? It can&#39;t be much and since it&#39;s scoped to a method, it should be garbage collected rather quickly. See edit.."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":2,"creation_date":1336053199,"post_id":10432032,"comment_id":13465449,"body_markdown":"@aix I think it is worth mentioning the the remove method of the `Iterator` interface is marked as optional in Javadocs, which means that there could be Iterator implementations that may throw `UnsupportedOperationException`. As such, I&#39;d say this approach is less safe than the first one. Depending on the implementations intended to be used, the first approach could be more suitable.","body":"@aix I think it is worth mentioning the the remove method of the <code>Iterator</code> interface is marked as optional in Javadocs, which means that there could be Iterator implementations that may throw <code>UnsupportedOperationException</code>. As such, I&#39;d say this approach is less safe than the first one. Depending on the implementations intended to be used, the first approach could be more suitable."},{"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"score":1,"creation_date":1551815531,"post_id":10432032,"comment_id":96775877,"body_markdown":"@EdwinDalorzo `remove()` on the original collection itself may also throw `UnsupportedOperationException`: https://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#remove(java.lang.Object).  The Java container interfaces are, sadly, defined to be extremely unreliable (defeating the point of the interface, honestly).  If you don&#39;t know the exact implementation that will be used at runtime, it&#39;s better to do things in an immutable way -- e.g., use the Java 8+ Streams API to filter the elements down and collect them into a new container, then entirely replace the old one with it.","body":"@EdwinDalorzo <code>remove()</code> on the original collection itself may also throw <code>UnsupportedOperationException</code>: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#remove(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>.  The Java container interfaces are, sadly, defined to be extremely unreliable (defeating the point of the interface, honestly).  If you don&#39;t know the exact implementation that will be used at runtime, it&#39;s better to do things in an immutable way -- e.g., use the Java 8+ Streams API to filter the elements down and collect them into a new container, then entirely replace the old one with it."}],"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1336053289,"creation_date":1336050442,"answer_id":10432032,"question_id":10431981,"body_markdown":"&gt; Are there any reasons to prefer one approach over the other\r\n\r\nThe first approach will work, but has the obvious overhead of copying the list.\r\n\r\nThe second approach will not work because many containers don&#39;t permit modification during iteration. [This includes `ArrayList`][1].\r\n\r\nIf the only modification is to remove the current element, you can make the second approach work by using [`itr.remove()`][2] (that is, use the *iterator*&#39;s `remove()` method, not the *container*&#39;s). **This would be my preferred method for iterators that support `remove()`.**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3184883/concurrentmodificationexception-for-arraylist\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html#remove%28%29","title":"Remove elements from collection while iterating","body":"<blockquote>\n  <p>Are there any reasons to prefer one approach over the other</p>\n</blockquote>\n\n<p>The first approach will work, but has the obvious overhead of copying the list.</p>\n\n<p>The second approach will not work because many containers don't permit modification during iteration. <a href=\"https://stackoverflow.com/questions/3184883/concurrentmodificationexception-for-arraylist\">This includes <code>ArrayList</code></a>.</p>\n\n<p>If the only modification is to remove the current element, you can make the second approach work by using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html#remove%28%29\" rel=\"noreferrer\"><code>itr.remove()</code></a> (that is, use the <em>iterator</em>'s <code>remove()</code> method, not the <em>container</em>'s). <strong>This would be my preferred method for iterators that support <code>remove()</code>.</strong></p>\n"},{"comments":[{"owner":{"account_id":1324014,"reputation":5651,"user_id":1311351,"display_name":"Colin D"},"score":4,"creation_date":1336050613,"post_id":10432033,"comment_id":13464168,"body_markdown":"The first attempt iterates on a copy, meaning he can modify the original.","body":"The first attempt iterates on a copy, meaning he can modify the original."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1336050442,"creation_date":1336050442,"answer_id":10432033,"question_id":10431981,"body_markdown":"Only second approach will work. You can modify collection during iteration using `iterator.remove()` only. All other attempts will cause `ConcurrentModificationException`.","title":"Remove elements from collection while iterating","body":"<p>Only second approach will work. You can modify collection during iteration using <code>iterator.remove()</code> only. All other attempts will cause <code>ConcurrentModificationException</code>.</p>\n"},{"comments":[{"owner":{"account_id":1400738,"reputation":6226,"user_id":1329572,"accept_rate":100,"display_name":"user1329572"},"score":0,"creation_date":1336051069,"post_id":10432058,"comment_id":13464383,"body_markdown":"&quot;*Iterator works faster*&quot;. Anything to support this claim? Also, the memory footprint of making a copy of a list is very trivial, especially since it&#39;ll be scoped within a method and will garbage collected almost immediately.","body":"&quot;<i>Iterator works faster</i>&quot;. Anything to support this claim? Also, the memory footprint of making a copy of a list is very trivial, especially since it&#39;ll be scoped within a method and will garbage collected almost immediately."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":2,"creation_date":1336058051,"post_id":10432058,"comment_id":13467746,"body_markdown":"In the first approach the disadvantage is that we have to iterate twice. We iterate in the foor-loop looking for an element, and once we find it, we ask to remove it from the original list, which would imply a second iteration work to look for this given item. This would support the claim that, at least in this case, iterator approach should be faster. We have to consider that only the structural space of the collection is the one being created, the objects inside the collections are not being copied. Both collections would keep references to the same objects. When GC happens we cannot tell!!!","body":"In the first approach the disadvantage is that we have to iterate twice. We iterate in the foor-loop looking for an element, and once we find it, we ask to remove it from the original list, which would imply a second iteration work to look for this given item. This would support the claim that, at least in this case, iterator approach should be faster. We have to consider that only the structural space of the collection is the one being created, the objects inside the collections are not being copied. Both collections would keep references to the same objects. When GC happens we cannot tell!!!"}],"tags":[],"owner":{"account_id":1456397,"reputation":186,"user_id":1371872,"display_name":"Calin Andrei"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336050507,"creation_date":1336050507,"answer_id":10432058,"question_id":10431981,"body_markdown":"I would choose the second as you don&#39;t have to do a copy of the memory and the Iterator works faster. So you save memory and time.","title":"Remove elements from collection while iterating","body":"<p>I would choose the second as you don't have to do a copy of the memory and the Iterator works faster. So you save memory and time.</p>\n"},{"comments":[{"owner":{"account_id":4259399,"reputation":8159,"user_id":3484146,"display_name":"ifloop"},"score":8,"creation_date":1522160424,"post_id":10432084,"comment_id":86035688,"body_markdown":"In your paragraph about JDK8 Streams you mention to `removeAll(filtered)`. A shortcut for that would be `removeIf(b -&gt; b.getIsbn().equals(other))`","body":"In your paragraph about JDK8 Streams you mention to <code>removeAll(filtered)</code>. A shortcut for that would be <code>removeIf(b -&gt; b.getIsbn().equals(other))</code>"},{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":2,"creation_date":1549172671,"post_id":10432084,"comment_id":95805288,"body_markdown":"What&#39;s the diff between Iterator and ListIterator?","body":"What&#39;s the diff between Iterator and ListIterator?"},{"owner":{"account_id":1570349,"reputation":398,"user_id":1458170,"display_name":"Akabelle"},"score":1,"creation_date":1571224581,"post_id":10432084,"comment_id":103167096,"body_markdown":"Haven&#39;t considered removeIf, but it was the answer to my prayers. Thanks!","body":"Haven&#39;t considered removeIf, but it was the answer to my prayers. Thanks!"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1628114087,"post_id":10432084,"comment_id":121337873,"body_markdown":"@AlexanderMills and any others with the same question – [`ListIterator`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/ListIterator.html) extends `Iterator` and provides more functionality: `add` and `set`, in addition to `remove`; iterate indices instead of elements; and ability to iterate in both directions.","body":"@AlexanderMills and any others with the same question – <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/ListIterator.html\" rel=\"nofollow noreferrer\"><code>ListIterator</code></a> extends <code>Iterator</code> and provides more functionality: <code>add</code> and <code>set</code>, in addition to <code>remove</code>; iterate indices instead of elements; and ability to iterate in both directions."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1637801216,"post_id":10432084,"comment_id":123925864,"body_markdown":"Thanks a lot! This helped me to implement this solution here https://stackoverflow.com/questions/24182902/how-to-remove-all-key-and-its-value-of-a-particular-keyname-from-json-stringwit/70104599#70104599 .","body":"Thanks a lot! This helped me to implement this solution here <a href=\"https://stackoverflow.com/questions/24182902/how-to-remove-all-key-and-its-value-of-a-particular-keyname-from-json-stringwit/70104599#70104599\" title=\"how to remove all key and its value of a particular keyname from json stringwit\">stackoverflow.com/questions/24182902/&hellip;</a> ."}],"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":5,"down_vote_count":1,"up_vote_count":617,"is_accepted":true,"score":616,"last_activity_date":1554057577,"creation_date":1336050580,"answer_id":10432084,"question_id":10431981,"body_markdown":"Let me give a few examples with some alternatives to avoid a `ConcurrentModificationException`.\r\n\r\nSuppose we have the following collection of books\r\n\r\n    List&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\r\n    books.add(new Book(new ISBN(&quot;0-201-63361-2&quot;)));\r\n    books.add(new Book(new ISBN(&quot;0-201-63361-3&quot;)));\r\n    books.add(new Book(new ISBN(&quot;0-201-63361-4&quot;)));\r\n\r\n**Collect and Remove**\r\n\r\nThe first technique consists in collecting all the objects that we want to delete (e.g. using an enhanced for loop) and after we finish iterating, we remove all found objects.\r\n\r\n    ISBN isbn = new ISBN(&quot;0-201-63361-2&quot;);\r\n    List&lt;Book&gt; found = new ArrayList&lt;Book&gt;();\r\n    for(Book book : books){\r\n    \tif(book.getIsbn().equals(isbn)){\r\n    \t\tfound.add(book);\r\n    \t}\r\n    }\r\n    books.removeAll(found);\r\n\r\nThis is supposing that the operation you want to do is &quot;delete&quot;. \r\n\r\nIf you want to &quot;add&quot; this approach would also work, but I would assume you would iterate over a different collection to determine what elements you want to add to a second collection and then issue an `addAll` method at the end.\r\n\r\n**Using ListIterator**\r\n\r\nIf you are working with lists, another technique consists in using a `ListIterator` which has support for removal and addition of items during the iteration itself.\r\n\r\n    ListIterator&lt;Book&gt; iter = books.listIterator();\r\n    while(iter.hasNext()){\r\n    \tif(iter.next().getIsbn().equals(isbn)){\r\n    \t\titer.remove();\r\n    \t}\r\n    }\r\n\r\nAgain, I used the &quot;remove&quot; method in the example above which is what your question seemed to imply, but you may also use its `add` method to add new elements during iteration.\r\n\r\n**Using JDK &gt;= 8**\r\n\r\nFor those working with Java 8 or superior versions, there are a couple of other techniques you could use to take advantage of it.\r\n\r\nYou could use the new `removeIf` method in the `Collection` base class:\r\n\r\n    ISBN other = new ISBN(&quot;0-201-63361-2&quot;);\r\n    books.removeIf(b -&gt; b.getIsbn().equals(other));\r\n\r\nOr use the new stream API:\r\n\r\n    ISBN other = new ISBN(&quot;0-201-63361-2&quot;);\r\n    List&lt;Book&gt; filtered = books.stream()\r\n                               .filter(b -&gt; b.getIsbn().equals(other))\r\n                               .collect(Collectors.toList());\r\n\r\n\r\nIn this last case, to filter elements out of a collection, you reassign the original reference to the filtered collection (i.e. `books = filtered`) or used the filtered collection to `removeAll` the found elements from the original collection (i.e. `books.removeAll(filtered)`).\r\n\r\n**Use Sublist or Subset** \r\n\r\nThere are other alternatives as well. If the list is sorted, and you want to remove consecutive elements you can create a sublist and then clear it:\r\n\r\n    books.subList(0,5).clear();\r\n\r\nSince the sublist is backed by the original list this would be an efficient way of removing this subcollection of elements.\r\n\r\nSomething similar could be achieved with sorted sets using `NavigableSet.subSet` method, or any of the slicing methods offered there.\r\n\r\n**Considerations:**\r\n\r\nWhat method you use might depend on what you are intending to do\r\n\r\n - The collect and `removeAl` technique works with any Collection (Collection, List, Set, etc). \r\n - The `ListIterator` technique obviously only works with lists, provided that their given `ListIterator` implementation offers support for add and remove operations.  \r\n - The `Iterator` approach would work with any type of collection, but it only supports remove operations.\r\n - With the `ListIterator`/`Iterator` approach the obvious advantage is not having to copy anything since we remove as we iterate. So, this is very efficient. \r\n - The JDK 8 streams example don&#39;t actually removed anything, but looked for the desired elements, and then we replaced the original collection reference with the new one, and let the old one be garbage collected. So, we iterate only once over the collection and that would be efficient.\r\n - In the collect and `removeAll` approach the disadvantage is that we have to iterate twice. First we iterate in the foor-loop looking for an object that matches our removal criteria, and once we have found it, we ask to remove it from the original collection, which would imply a second iteration work to look for this item in order to remove it. \r\n - I think it is worth mentioning that the remove method of the `Iterator` interface is marked as &quot;optional&quot; in Javadocs, which means that there could be `Iterator` implementations that throw `UnsupportedOperationException` if we invoke the remove method. As such, I&#39;d say this approach is less safe than others if we cannot guarantee the iterator support for removal of elements.\r\n\r\n\r\n  [1]: http://code.google.com/p/lambdaj/\r\n","title":"Remove elements from collection while iterating","body":"<p>Let me give a few examples with some alternatives to avoid a <code>ConcurrentModificationException</code>.</p>\n\n<p>Suppose we have the following collection of books</p>\n\n<pre><code>List&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\nbooks.add(new Book(new ISBN(\"0-201-63361-2\")));\nbooks.add(new Book(new ISBN(\"0-201-63361-3\")));\nbooks.add(new Book(new ISBN(\"0-201-63361-4\")));\n</code></pre>\n\n<p><strong>Collect and Remove</strong></p>\n\n<p>The first technique consists in collecting all the objects that we want to delete (e.g. using an enhanced for loop) and after we finish iterating, we remove all found objects.</p>\n\n<pre><code>ISBN isbn = new ISBN(\"0-201-63361-2\");\nList&lt;Book&gt; found = new ArrayList&lt;Book&gt;();\nfor(Book book : books){\n    if(book.getIsbn().equals(isbn)){\n        found.add(book);\n    }\n}\nbooks.removeAll(found);\n</code></pre>\n\n<p>This is supposing that the operation you want to do is \"delete\". </p>\n\n<p>If you want to \"add\" this approach would also work, but I would assume you would iterate over a different collection to determine what elements you want to add to a second collection and then issue an <code>addAll</code> method at the end.</p>\n\n<p><strong>Using ListIterator</strong></p>\n\n<p>If you are working with lists, another technique consists in using a <code>ListIterator</code> which has support for removal and addition of items during the iteration itself.</p>\n\n<pre><code>ListIterator&lt;Book&gt; iter = books.listIterator();\nwhile(iter.hasNext()){\n    if(iter.next().getIsbn().equals(isbn)){\n        iter.remove();\n    }\n}\n</code></pre>\n\n<p>Again, I used the \"remove\" method in the example above which is what your question seemed to imply, but you may also use its <code>add</code> method to add new elements during iteration.</p>\n\n<p><strong>Using JDK >= 8</strong></p>\n\n<p>For those working with Java 8 or superior versions, there are a couple of other techniques you could use to take advantage of it.</p>\n\n<p>You could use the new <code>removeIf</code> method in the <code>Collection</code> base class:</p>\n\n<pre><code>ISBN other = new ISBN(\"0-201-63361-2\");\nbooks.removeIf(b -&gt; b.getIsbn().equals(other));\n</code></pre>\n\n<p>Or use the new stream API:</p>\n\n<pre><code>ISBN other = new ISBN(\"0-201-63361-2\");\nList&lt;Book&gt; filtered = books.stream()\n                           .filter(b -&gt; b.getIsbn().equals(other))\n                           .collect(Collectors.toList());\n</code></pre>\n\n<p>In this last case, to filter elements out of a collection, you reassign the original reference to the filtered collection (i.e. <code>books = filtered</code>) or used the filtered collection to <code>removeAll</code> the found elements from the original collection (i.e. <code>books.removeAll(filtered)</code>).</p>\n\n<p><strong>Use Sublist or Subset</strong> </p>\n\n<p>There are other alternatives as well. If the list is sorted, and you want to remove consecutive elements you can create a sublist and then clear it:</p>\n\n<pre><code>books.subList(0,5).clear();\n</code></pre>\n\n<p>Since the sublist is backed by the original list this would be an efficient way of removing this subcollection of elements.</p>\n\n<p>Something similar could be achieved with sorted sets using <code>NavigableSet.subSet</code> method, or any of the slicing methods offered there.</p>\n\n<p><strong>Considerations:</strong></p>\n\n<p>What method you use might depend on what you are intending to do</p>\n\n<ul>\n<li>The collect and <code>removeAl</code> technique works with any Collection (Collection, List, Set, etc). </li>\n<li>The <code>ListIterator</code> technique obviously only works with lists, provided that their given <code>ListIterator</code> implementation offers support for add and remove operations.  </li>\n<li>The <code>Iterator</code> approach would work with any type of collection, but it only supports remove operations.</li>\n<li>With the <code>ListIterator</code>/<code>Iterator</code> approach the obvious advantage is not having to copy anything since we remove as we iterate. So, this is very efficient. </li>\n<li>The JDK 8 streams example don't actually removed anything, but looked for the desired elements, and then we replaced the original collection reference with the new one, and let the old one be garbage collected. So, we iterate only once over the collection and that would be efficient.</li>\n<li>In the collect and <code>removeAll</code> approach the disadvantage is that we have to iterate twice. First we iterate in the foor-loop looking for an object that matches our removal criteria, and once we have found it, we ask to remove it from the original collection, which would imply a second iteration work to look for this item in order to remove it. </li>\n<li>I think it is worth mentioning that the remove method of the <code>Iterator</code> interface is marked as \"optional\" in Javadocs, which means that there could be <code>Iterator</code> implementations that throw <code>UnsupportedOperationException</code> if we invoke the remove method. As such, I'd say this approach is less safe than others if we cannot guarantee the iterator support for removal of elements.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":4403071,"reputation":4844,"user_id":3588161,"display_name":"Fizz"},"score":0,"creation_date":1642665227,"post_id":10432132,"comment_id":125132542,"body_markdown":"Actually the java docs on this are really confusing. &quot;Iterators allow the caller to remove elements from the underlying collection during the iteration with well-defined semantics.&quot; `remove()` itself on the iterator **may *not*** throw that concurrent modification exception (scroll to remove in https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html) Also &quot;The behavior of an iterator is unspecified if the underlying collection is modified while the iteration is in progress **in any way other than by calling this method**.&quot;","body":"Actually the java docs on this are really confusing. &quot;Iterators allow the caller to remove elements from the underlying collection during the iteration with well-defined semantics.&quot; <code>remove()</code> itself on the iterator <b>may <i>not</i></b> throw that concurrent modification exception (scroll to remove in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Iterator.html</a>) Also &quot;The behavior of an iterator is unspecified if the underlying collection is modified while the iteration is in progress <b>in any way other than by calling this method</b>.&quot;"}],"tags":[],"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336052542,"creation_date":1336050737,"answer_id":10432132,"question_id":10431981,"body_markdown":"You can&#39;t do the second, because even if you use the `remove()` method on [Iterator][1], [you&#39;ll get an Exception thrown][2].  \r\n\r\nPersonally, I would prefer the first for all `Collection` instances, despite the additional overheard of creating the new `Collection`, I find it less prone to error during edit by other developers. On some Collection implementations, the Iterator `remove()` is supported, on other it isn&#39;t. You can read more in the docs for [Iterator][3]. \r\n\r\nThe third alternative, is to create a new `Collection`, iterate over the original, and add all the members of the first `Collection` to the second `Collection` that are *not* up for deletion. Depending on the size of the `Collection` and the number of deletes, this could  significantly save on memory, when compared to the first approach. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#iterator%28%29\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html","title":"Remove elements from collection while iterating","body":"<p>You can't do the second, because even if you use the <code>remove()</code> method on <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html\" rel=\"nofollow\">Iterator</a>, <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#iterator%28%29\" rel=\"nofollow\">you'll get an Exception thrown</a>.  </p>\n\n<p>Personally, I would prefer the first for all <code>Collection</code> instances, despite the additional overheard of creating the new <code>Collection</code>, I find it less prone to error during edit by other developers. On some Collection implementations, the Iterator <code>remove()</code> is supported, on other it isn't. You can read more in the docs for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html\" rel=\"nofollow\">Iterator</a>. </p>\n\n<p>The third alternative, is to create a new <code>Collection</code>, iterate over the original, and add all the members of the first <code>Collection</code> to the second <code>Collection</code> that are <em>not</em> up for deletion. Depending on the size of the <code>Collection</code> and the number of deletes, this could  significantly save on memory, when compared to the first approach. </p>\n"},{"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":5,"creation_date":1336057177,"post_id":10432633,"comment_id":13467353,"body_markdown":"This approach has many major disadvantages. First, every time you remove an element, the indexes are reorganized. Therefore, if you remove element 0, then the element 1 becomes the new element 0. If you are going to to this, at least do it backwards to avoid this problem. Second, not all List implementations offer direct access to the elements (as ArrayList does). In a LinkedList this would be tremendously inefficient because every time you issue an `get(i)` you have to visit all nodes until you reach `i`.","body":"This approach has many major disadvantages. First, every time you remove an element, the indexes are reorganized. Therefore, if you remove element 0, then the element 1 becomes the new element 0. If you are going to to this, at least do it backwards to avoid this problem. Second, not all List implementations offer direct access to the elements (as ArrayList does). In a LinkedList this would be tremendously inefficient because every time you issue an <code>get(i)</code> you have to visit all nodes until you reach <code>i</code>."},{"owner":{"account_id":1419922,"reputation":1047,"user_id":1344765,"display_name":"Drake Clarris"},"score":0,"creation_date":1336057325,"post_id":10432633,"comment_id":13467422,"body_markdown":"Never considered this as I typically just used it to remove a single item I was looking for. Good to know.","body":"Never considered this as I typically just used it to remove a single item I was looking for. Good to know."},{"owner":{"account_id":1860653,"reputation":1223,"user_id":1685296,"accept_rate":85,"display_name":"Bertie Wheen"},"score":5,"creation_date":1363729091,"post_id":10432633,"comment_id":21965877,"body_markdown":"I&#39;m late to the party, but surely in the if block code after `Foo.remove(i);` you should do `i--;`?","body":"I&#39;m late to the party, but surely in the if block code after <code>Foo.remove(i);</code> you should do <code>i--;</code>?"},{"owner":{"account_id":1820313,"reputation":1528,"user_id":1654526,"accept_rate":36,"display_name":"Jack"},"score":0,"creation_date":1500557472,"post_id":10432633,"comment_id":77398625,"body_markdown":"becouse it&#39;s bugged","body":"becouse it&#39;s bugged"}],"tags":[],"owner":{"account_id":1419922,"reputation":1047,"user_id":1344765,"display_name":"Drake Clarris"},"comment_count":4,"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1336052477,"creation_date":1336052477,"answer_id":10432633,"question_id":10431981,"body_markdown":"why not this?\r\n\r\n    for( int i = 0; i &lt; Foo.size(); i++ )\r\n    {\r\n       if( Foo.get(i).equals( some test ) )\r\n       {\r\n          Foo.remove(i);\r\n       }\r\n    }\r\n\r\nAnd if it&#39;s a map, not a list, you can use keyset()","title":"Remove elements from collection while iterating","body":"<p>why not this?</p>\n\n<pre><code>for( int i = 0; i &lt; Foo.size(); i++ )\n{\n   if( Foo.get(i).equals( some test ) )\n   {\n      Foo.remove(i);\n   }\n}\n</code></pre>\n\n<p>And if it's a map, not a list, you can use keyset()</p>\n"},{"comments":[{"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"score":5,"creation_date":1611763680,"post_id":46559150,"comment_id":116556675,"body_markdown":"This does not answer the question of the OP, there is no iteration here","body":"This does not answer the question of the OP, there is no iteration here"},{"owner":{"account_id":918625,"reputation":392,"user_id":950837,"display_name":"&#233;clairevoyant"},"score":2,"creation_date":1656712978,"post_id":46559150,"comment_id":128647349,"body_markdown":"@UriLoya it&#39;s also likely that this question is an [XY problem](https://meta.stackexchange.com/a/66378) hence this answer.","body":"@UriLoya it&#39;s also likely that this question is an <a href=\"https://meta.stackexchange.com/a/66378\">XY problem</a> hence this answer."}],"tags":[],"owner":{"account_id":913256,"reputation":28307,"user_id":2564200,"accept_rate":83,"display_name":"Santhosh"},"comment_count":2,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1507101588,"creation_date":1507101588,"answer_id":46559150,"question_id":10431981,"body_markdown":"In Java 8, there is another approach. [Collection#removeIf][1]\r\n\r\neg:\r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(1);\r\n    list.add(2);\r\n    list.add(3);\r\n            \r\n    list.removeIf(i -&gt; i &gt; 2);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-","title":"Remove elements from collection while iterating","body":"<p>In Java 8, there is another approach. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"noreferrer\">Collection#removeIf</a></p>\n\n<p>eg:</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nlist.add(1);\nlist.add(2);\nlist.add(3);\n\nlist.removeIf(i -&gt; i &gt; 2);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1786316,"reputation":303,"user_id":1627719,"display_name":"mipasov"},"score":1,"creation_date":1606484272,"post_id":60859469,"comment_id":114981846,"body_markdown":"Sometimes it is the only working solution.","body":"Sometimes it is the only working solution."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":15,"creation_date":1615653010,"post_id":60859469,"comment_id":117760399,"body_markdown":"At first glance you may miss it, but the secret is to traverse the list backwards.\nThis prevents that each removal, changes the index of future potential removals.","body":"At first glance you may miss it, but the secret is to traverse the list backwards. This prevents that each removal, changes the index of future potential removals."},{"owner":{"account_id":5416397,"reputation":1423,"user_id":4311428,"display_name":"maxeh"},"score":3,"creation_date":1634826728,"post_id":60859469,"comment_id":123135857,"body_markdown":"I would actually prefer to iterate from the beginning over the list, remove the item, and then decrement the counter. This has much better readability in my opinion. So just use: `for (int i = 0; i &lt; list.size(); i++) {...remove(i); i--;...}`","body":"I would actually prefer to iterate from the beginning over the list, remove the item, and then decrement the counter. This has much better readability in my opinion. So just use: <code>for (int i = 0; i &lt; list.size(); i++) {...remove(i); i--;...}</code>"},{"owner":{"account_id":3658600,"reputation":417,"user_id":3048996,"display_name":"judovana"},"score":2,"creation_date":1644678668,"post_id":60859469,"comment_id":125672903,"body_markdown":"this would be not working if there are more items to remove, and if they are one riht behind other. To fix this, you need to `i--` after the `list.remove(i);` or the backwards thing. Lookin to other replies ere, if yo need to remove more items after one condition, you have to stuck with improvrf this one","body":"this would be not working if there are more items to remove, and if they are one riht behind other. To fix this, you need to <code>i--</code> after the <code>list.remove(i);</code> or the backwards thing. Lookin to other replies ere, if yo need to remove more items after one condition, you have to stuck with improvrf this one"},{"owner":{"account_id":6606886,"reputation":916,"user_id":5103458,"display_name":"Shebla Tsama"},"score":0,"creation_date":1657637138,"post_id":60859469,"comment_id":128855017,"body_markdown":"@maxeh iterating the list in forward order as you suggest will call list.size() once for each item in the list, whereas iterating in reverse order only calls list.size() once.  Also, your approach will decrement i, and then immediately increment it again every time it finds a match.  The logic of the decrement followed by increment is non-intuitive and potentially error prone when the next person comes to inspect the code.","body":"@maxeh iterating the list in forward order as you suggest will call list.size() once for each item in the list, whereas iterating in reverse order only calls list.size() once.  Also, your approach will decrement i, and then immediately increment it again every time it finds a match.  The logic of the decrement followed by increment is non-intuitive and potentially error prone when the next person comes to inspect the code."},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":1,"creation_date":1662413683,"post_id":60859469,"comment_id":129995659,"body_markdown":"@SheblaTsama The only working solution worked for me. appreciate it.","body":"@SheblaTsama The only working solution worked for me. appreciate it."},{"owner":{"account_id":10695512,"reputation":53,"user_id":8071529,"display_name":"Roy"},"score":0,"creation_date":1682282501,"post_id":60859469,"comment_id":134186851,"body_markdown":"@maxeh thanks for the solution. Although as Shebla Tsama mentioned that this could be confusing, I do want to point out the situations that backward iteration may not work. For example, you have multiple bad items to remove, but every time there is a capacity (dynamically determined) of how many items you can remove, and the item at the beginning higher priority.","body":"@maxeh thanks for the solution. Although as Shebla Tsama mentioned that this could be confusing, I do want to point out the situations that backward iteration may not work. For example, you have multiple bad items to remove, but every time there is a capacity (dynamically determined) of how many items you can remove, and the item at the beginning higher priority."}],"tags":[],"owner":{"account_id":6606886,"reputation":916,"user_id":5103458,"display_name":"Shebla Tsama"},"comment_count":7,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1593793267,"creation_date":1585183547,"answer_id":60859469,"question_id":10431981,"body_markdown":"Old Timer Favorite (it still works):\r\n\r\n    List&lt;String&gt; list;\r\n    \r\n    for(int i = list.size() - 1; i &gt;= 0; --i) \r\n    {\r\n            if(list.get(i).contains(&quot;bad&quot;))\r\n            {\r\n                    list.remove(i);\r\n            }\r\n    }\r\n\r\nBenefits:\r\n1) It only iterates over the list *once*\r\n2) No extra objects created, or other unneeded complexity\r\n3) No problems with trying to use the index of a removed item, because... well, think about it!\r\n","title":"Remove elements from collection while iterating","body":"<p>Old Timer Favorite (it still works):</p>\n<pre><code>List&lt;String&gt; list;\n\nfor(int i = list.size() - 1; i &gt;= 0; --i) \n{\n        if(list.get(i).contains(&quot;bad&quot;))\n        {\n                list.remove(i);\n        }\n}\n</code></pre>\n<p>Benefits:</p>\n<ol>\n<li>It only iterates over the list <em>once</em></li>\n<li>No extra objects created, or other unneeded complexity</li>\n<li>No problems with trying to use the index of a removed item, because... well, think about it!</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18214648,"reputation":124,"user_id":13256503,"display_name":"Golam Kibria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640605549,"creation_date":1640602301,"answer_id":70494513,"question_id":10431981,"body_markdown":"You can see this sample; If we think remove odd value from a list:\r\n \r\n\r\n    public static void main(String[] args) {\r\n        Predicate&lt;Integer&gt; isOdd = v -&gt; v % 2 == 0;\r\n        List&lt;Integer&gt; listArr = Arrays.asList(5, 7, 90, 11, 55, 60);\r\n        listArr = listArr.stream().filter(isOdd).collect(Collectors.toList());\r\n        listArr.forEach(System.out::println);\r\n    }\r\n\r\n \r\n\r\n","title":"Remove elements from collection while iterating","body":"<p>You can see this sample; If we think remove odd value from a list:</p>\n<pre><code>public static void main(String[] args) {\n    Predicate&lt;Integer&gt; isOdd = v -&gt; v % 2 == 0;\n    List&lt;Integer&gt; listArr = Arrays.asList(5, 7, 90, 11, 55, 60);\n    listArr = listArr.stream().filter(isOdd).collect(Collectors.toList());\n    listArr.forEach(System.out::println);\n}\n</code></pre>\n"}],"owner":{"account_id":1400738,"reputation":6226,"user_id":1329572,"accept_rate":100,"display_name":"user1329572"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415514,"favorite_count":0,"down_vote_count":2,"up_vote_count":326,"accepted_answer_id":10432084,"answer_count":9,"score":324,"last_activity_date":1677146521,"creation_date":1336050239,"question_id":10431981,"body_markdown":"AFAIK, there are two approaches:\r\n\r\n 1. Iterate over a copy of the collection\r\n 2. Use the iterator of the actual collection\r\n\r\nFor instance,\r\n\r\n    List&lt;Foo&gt; fooListCopy = new ArrayList&lt;Foo&gt;(fooList);\r\n    for(Foo foo : fooListCopy){\r\n        // modify actual fooList\r\n    }\r\n\r\nand\r\n\r\n    Iterator&lt;Foo&gt; itr = fooList.iterator();\r\n    while(itr.hasNext()){\r\n        // modify actual fooList using itr.remove()\r\n    }\r\n\r\nAre there any reasons to prefer one approach over the other (e.g. preferring the first approach for the simple reason of readability)?","title":"Remove elements from collection while iterating","body":"<p>AFAIK, there are two approaches:</p>\n\n<ol>\n<li>Iterate over a copy of the collection</li>\n<li>Use the iterator of the actual collection</li>\n</ol>\n\n<p>For instance,</p>\n\n<pre><code>List&lt;Foo&gt; fooListCopy = new ArrayList&lt;Foo&gt;(fooList);\nfor(Foo foo : fooListCopy){\n    // modify actual fooList\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Iterator&lt;Foo&gt; itr = fooList.iterator();\nwhile(itr.hasNext()){\n    // modify actual fooList using itr.remove()\n}\n</code></pre>\n\n<p>Are there any reasons to prefer one approach over the other (e.g. preferring the first approach for the simple reason of readability)?</p>\n"},{"tags":["java","selenium-webdriver","file-upload","ui-automation"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1676906983,"post_id":75507981,"comment_id":133226876,"body_markdown":"Please post the HTML snippet as code in your question (see [Why I should not upload images of code](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)). Also, you say it&#39;s a desktop app, yet you are posting HTML which suggests it&#39;s a web app. Which is it?","body":"Please post the HTML snippet as code in your question (see <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why I should not upload images of code</a>). Also, you say it&#39;s a desktop app, yet you are posting HTML which suggests it&#39;s a web app. Which is it?"}],"owner":{"account_id":27831499,"reputation":11,"user_id":21249824,"display_name":"Viraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677146426,"creation_date":1676888407,"question_id":75507981,"body_markdown":"While clicking on upload button desktop application opening to select a csv file.\r\nSend Keys not working as no input type as file . Robot class also not working.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI tried send keys as well as robot class , nothing is working . Can someone help here pls.\r\n\r\nI used below robot class\r\n\r\n StringSelection stringSelection= new StringSelection(file.getAbsolutePath());\r\n\r\n       //Copy to clipboard \r\n       \r\n     Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\r\n     browserDriver.waitTime(MainConfig.timeout_for_AJAX);\r\n\t\t   Robot robot = new Robot();\r\n\r\n    \t\t\t\t// Cmd + Tab is needed since it launches a Java app and the browser looses focus\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_TAB);\r\n    \t\t\t\trobot.delay(1000);\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_TAB);\r\n\r\n    \t\t\t\trobot.delay(1000);\r\n\r\n    \t\t\t\t//Open Goto window\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_SHIFT);\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_G);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_SHIFT);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_G);\r\n\r\n    \t\t\t\t//Paste the clipboard value\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_V);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_META);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_V);\r\n\r\n    \t\t\t\t//Press Enter key to close the Goto window and Upload window\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_ENTER);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_ENTER);\r\n\r\n    \t\t\t\trobot.delay(1000);\r\n\r\n    \t\t\t\trobot.keyPress(KeyEvent.VK_ENTER);\r\n\r\n    \t\t\t\trobot.keyRelease(KeyEvent.VK_ENTER);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zG7YE.png\r\n  [2]: https://i.stack.imgur.com/UbUCW.png","title":"How to upload CSV file on Mac using Selenium Java having no input tag","body":"<p>While clicking on upload button desktop application opening to select a csv file.\nSend Keys not working as no input type as file . Robot class also not working.</p>\n<p><a href=\"https://i.stack.imgur.com/zG7YE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zG7YE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/UbUCW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UbUCW.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried send keys as well as robot class , nothing is working . Can someone help here pls.</p>\n<p>I used below robot class</p>\n<p>StringSelection stringSelection= new StringSelection(file.getAbsolutePath());</p>\n<pre><code>   //Copy to clipboard \n   \n Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\n browserDriver.waitTime(MainConfig.timeout_for_AJAX);\n       Robot robot = new Robot();\n\n                // Cmd + Tab is needed since it launches a Java app and the browser looses focus\n\n                robot.keyPress(KeyEvent.VK_META);\n\n                robot.keyPress(KeyEvent.VK_TAB);\n                robot.delay(1000);\n                robot.keyRelease(KeyEvent.VK_META);\n\n                robot.keyRelease(KeyEvent.VK_TAB);\n\n                robot.delay(1000);\n\n                //Open Goto window\n\n                robot.keyPress(KeyEvent.VK_META);\n\n                robot.keyPress(KeyEvent.VK_SHIFT);\n\n                robot.keyPress(KeyEvent.VK_G);\n\n                robot.keyRelease(KeyEvent.VK_META);\n\n                robot.keyRelease(KeyEvent.VK_SHIFT);\n\n                robot.keyRelease(KeyEvent.VK_G);\n\n                //Paste the clipboard value\n\n                robot.keyPress(KeyEvent.VK_META);\n\n                robot.keyPress(KeyEvent.VK_V);\n\n                robot.keyRelease(KeyEvent.VK_META);\n\n                robot.keyRelease(KeyEvent.VK_V);\n\n                //Press Enter key to close the Goto window and Upload window\n\n                robot.keyPress(KeyEvent.VK_ENTER);\n\n                robot.keyRelease(KeyEvent.VK_ENTER);\n\n                robot.delay(1000);\n\n                robot.keyPress(KeyEvent.VK_ENTER);\n\n                robot.keyRelease(KeyEvent.VK_ENTER);\n</code></pre>\n"},{"tags":["java","postgresql","spring-data-jpa","spring-data","plpgsql"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1552588964,"post_id":55169797,"comment_id":97078985,"body_markdown":"Arrays in Postgres are ***not*** the same as any other collection in any other language.  They&#39;re... *different*.  Could you explain what you&#39;re trying to accomplish with `my_func`?  There may be a more elegant solution in conventional SQL.","body":"Arrays in Postgres are <b><i>not</i></b> the same as any other collection in any other language.  They&#39;re... <i>different</i>.  Could you explain what you&#39;re trying to accomplish with <code>my_func</code>?  There may be a more elegant solution in conventional SQL."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552589332,"post_id":55169797,"comment_id":97079147,"body_markdown":"@Makoto Hi, I edited my question. In my function I have some advanced logic with cursor, and so on. This passed parameter I need use just in final select in where condition in IN clause","body":"@Makoto Hi, I edited my question. In my function I have some advanced logic with cursor, and so on. This passed parameter I need use just in final select in where condition in IN clause"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1552590899,"post_id":55169797,"comment_id":97079975,"body_markdown":"So I believe that this is an XY problem - you&#39;re trying to find a set of records based on an IN query and there&#39;s an easier way to go about doing this than what you&#39;re proposing.  I&#39;ve found a dupe for this question; I encourage you to peruse it.  If it doesn&#39;t fit, you can edit your question to explain why.","body":"So I believe that this is an XY problem - you&#39;re trying to find a set of records based on an IN query and there&#39;s an easier way to go about doing this than what you&#39;re proposing.  I&#39;ve found a dupe for this question; I encourage you to peruse it.  If it doesn&#39;t fit, you can edit your question to explain why."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1552590905,"post_id":55169797,"comment_id":97079980,"body_markdown":"Possible duplicate of [Spring CrudRepository findByInventoryIds(List&lt;Long&gt; inventoryIdList) - equivalent to IN clause](https://stackoverflow.com/questions/18987292/spring-crudrepository-findbyinventoryidslistlong-inventoryidlist-equivalen)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18987292/spring-crudrepository-findbyinventoryidslistlong-inventoryidlist-equivalen\">Spring CrudRepository findByInventoryIds(List&lt;Long&gt; inventoryIdList) - equivalent to IN clause</a>"},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552592385,"post_id":55169797,"comment_id":97080691,"body_markdown":"@Makoto there is different problem like you post ... I need send list of strings into postgres function but I don&#39;t know what type I should use in that function. Your post is not solution for me because I cannot write this query directly into annotation without function .. there is more logic","body":"@Makoto there is different problem like you post ... I need send list of strings into postgres function but I don&#39;t know what type I should use in that function. Your post is not solution for me because I cannot write this query directly into annotation without function .. there is more logic"},{"owner":{"account_id":1062483,"reputation":20163,"user_id":1104979,"display_name":"Nick Barnes"},"score":2,"creation_date":1552595437,"post_id":55169797,"comment_id":97082242,"body_markdown":"Looks like the list is being passed successfully (you made it to line 28 of your function before encountering an error). I&#39;m guessing the cause is `WHERE t.foo IN (myList)`; to check if `t.foo` is in your array, use `t.foo = ANY(myList)` instead.","body":"Looks like the list is being passed successfully (you made it to line 28 of your function before encountering an error). I&#39;m guessing the cause is <code>WHERE t.foo IN (myList)</code>; to check if <code>t.foo</code> is in your array, use <code>t.foo = ANY(myList)</code> instead."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552595962,"post_id":55169797,"comment_id":97082475,"body_markdown":"@NickBarnes now I am home from work and I tried it again with ANY but I got different error: ERROR: function my_func(character varying, character varying, character varying) does not exist\n  Hint: No function matches the given name and argument types. You might need to add explicit type casts. There is &quot;character varying&quot; same times as I have items in List","body":"@NickBarnes now I am home from work and I tried it again with ANY but I got different error: ERROR: function my_func(character varying, character varying, character varying) does not exist   Hint: No function matches the given name and argument types. You might need to add explicit type casts. There is &quot;character varying&quot; same times as I have items in List"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1552596129,"post_id":55169797,"comment_id":97082557,"body_markdown":"Does it work if you use `@NonNull @Param(&quot;myList&quot;) String[] myList`, instead?","body":"Does it work if you use <code>@NonNull @Param(&quot;myList&quot;) String[] myList</code>, instead?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1552596156,"post_id":55169797,"comment_id":97082572,"body_markdown":"I suppose the reason I proposed that as a solution is because this is a very common thing to want to do with queries in JPA.  I don&#39;t want to beat a dead horse per se, but what other logic do you have to account for such that you can&#39;t author the query like a &quot;normal&quot; SQL query?","body":"I suppose the reason I proposed that as a solution is because this is a very common thing to want to do with queries in JPA.  I don&#39;t want to beat a dead horse per se, but what other logic do you have to account for such that you can&#39;t author the query like a &quot;normal&quot; SQL query?"},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552596312,"post_id":55169797,"comment_id":97082637,"body_markdown":"@Makoto there are some cursors where I do another selects for calculation some values, and that values I&#39;m using in final query where is also IN clause. I didn&#39;t write that whole function in my question because I can&#39;t avoid it.","body":"@Makoto there are some cursors where I do another selects for calculation some values, and that values I&#39;m using in final query where is also IN clause. I didn&#39;t write that whole function in my question because I can&#39;t avoid it."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552596424,"post_id":55169797,"comment_id":97082694,"body_markdown":"@LukasEder I tried use String[] instead of List but I got this error: ERROR: function my_func(bytea) does not exist","body":"@LukasEder I tried use String[] instead of List but I got this error: ERROR: function my_func(bytea) does not exist"}],"answers":[{"comments":[{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552597306,"post_id":55171587,"comment_id":97083102,"body_markdown":"Thank you for answer but Jdbc template is our last option. We also considering about paging where spring&#39;s data jpa has nice api.","body":"Thank you for answer but Jdbc template is our last option. We also considering about paging where spring&#39;s data jpa has nice api."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1552597555,"post_id":55171587,"comment_id":97083217,"body_markdown":"@DenisStephanov Given that you&#39;re doing so much in that function already, why not move pagination into it as well? Seems wasteful to let the function return an entire result set only to paginate afterwards...","body":"@DenisStephanov Given that you&#39;re doing so much in that function already, why not move pagination into it as well? Seems wasteful to let the function return an entire result set only to paginate afterwards..."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552597878,"post_id":55171587,"comment_id":97083370,"body_markdown":"Because we have complicated frontend design. We receive pageable object with sort properties and so on.","body":"Because we have complicated frontend design. We receive pageable object with sort properties and so on."},{"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"score":0,"creation_date":1552598377,"post_id":55171587,"comment_id":97083599,"body_markdown":"I also tried your solution but I got error function my_func(text[]) does not exist. I checked db and I am sure there is. Also I edit its parameter to text[] without variadic but doesn&#39;t help","body":"I also tried your solution but I got error function my_func(text[]) does not exist. I checked db and I am sure there is. Also I edit its parameter to text[] without variadic but doesn&#39;t help"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1552598443,"post_id":55171587,"comment_id":97083621,"body_markdown":"@DenisStephanov: You may need to qualify the function with the schema","body":"@DenisStephanov: You may need to qualify the function with the schema"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552596300,"creation_date":1552595965,"answer_id":55171587,"question_id":55169797,"body_markdown":"I&#39;m afraid I don&#39;t know how to do this with Spring Data JPA, but with plain JDBC, you&#39;d have to simply cast the bind variable to `text[]` and pass a `String[]` type instead of a list. For example:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (PreparedStatement s = conn.prepareStatement(&quot;select * from my_func(?::text[])&quot;)) {\r\n        s.setObject(1, myList.toArray(new String[0]));\r\n\r\n        try (ResultSet rs = s.executeQuery()) {\r\n            // ...\r\n        }\r\n    }\r\n\r\nThe key message here is that the JDBC driver will expect an array, not a list.","title":"Pass List&lt;String&gt; into postgres&#39; function as parameter","body":"<p>I'm afraid I don't know how to do this with Spring Data JPA, but with plain JDBC, you'd have to simply cast the bind variable to <code>text[]</code> and pass a <code>String[]</code> type instead of a list. For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (PreparedStatement s = conn.prepareStatement(\"select * from my_func(?::text[])\")) {\n    s.setObject(1, myList.toArray(new String[0]));\n\n    try (ResultSet rs = s.executeQuery()) {\n        // ...\n    }\n}\n</code></pre>\n\n<p>The key message here is that the JDBC driver will expect an array, not a list.</p>\n"},{"tags":[],"owner":{"account_id":7020942,"reputation":28624,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1552742409,"creation_date":1552642694,"answer_id":55179555,"question_id":55169797,"body_markdown":"I used the following workaround solution in the similar situation:\r\n\r\n1) Created two helper functions:\r\n\r\n```sql\r\n-- Convert a variable number of text arguments to text array\r\n-- Used to convert Java collection to the text array\r\n--\r\ncreate or replace function list_to_array(variadic _list text[]) returns text[] language sql as $$\r\nselect _list;\r\n$$;\r\n``` \r\n\r\n```sql\r\n-- Convert the bytea argument to null.\r\n-- Used to convert Java null to PostgreSQL null\r\n--\r\ncreate or replace function list_to_array(_list bytea) returns text[] language sql as $$\r\nselect null::text[];\r\n$$;\r\n```\r\n\r\n2) Used `any` instead of `in` in the main function, for example:\r\n\r\n```sql\r\ncreate or replace function my_func(_params text[]) \r\nreturns table (field1 text, field2 text) \r\nlanguage sql as \r\n$$\r\nselect\r\n  t.field1 as field1,\r\n  t.field2 as field2,\r\nfrom\r\n  my_table t\r\nwhere\r\n  array_length(_params, 1) is null or t.foo = any(_params);\r\n$$;\r\n```\r\n\r\n3) Then used them in a repository method, for example:\r\n\r\n```java\r\n@NonNull\r\n@Query(value = &quot;select ... from my_func(list_to_array(?1))&quot;, nativeQuery = true)\r\nList&lt;MyProjection&gt; getFromMyFunc(@Nullable Set&lt;String&gt; params, @NonNull Pageable page);\r\n```","title":"Pass List&lt;String&gt; into postgres&#39; function as parameter","body":"<p>I used the following workaround solution in the similar situation:</p>\n\n<p>1) Created two helper functions:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>-- Convert a variable number of text arguments to text array\n-- Used to convert Java collection to the text array\n--\ncreate or replace function list_to_array(variadic _list text[]) returns text[] language sql as $$\nselect _list;\n$$;\n</code></pre>\n\n<pre class=\"lang-sql prettyprint-override\"><code>-- Convert the bytea argument to null.\n-- Used to convert Java null to PostgreSQL null\n--\ncreate or replace function list_to_array(_list bytea) returns text[] language sql as $$\nselect null::text[];\n$$;\n</code></pre>\n\n<p>2) Used <code>any</code> instead of <code>in</code> in the main function, for example:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace function my_func(_params text[]) \nreturns table (field1 text, field2 text) \nlanguage sql as \n$$\nselect\n  t.field1 as field1,\n  t.field2 as field2,\nfrom\n  my_table t\nwhere\n  array_length(_params, 1) is null or t.foo = any(_params);\n$$;\n</code></pre>\n\n<p>3) Then used them in a repository method, for example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@NonNull\n@Query(value = \"select ... from my_func(list_to_array(?1))\", nativeQuery = true)\nList&lt;MyProjection&gt; getFromMyFunc(@Nullable Set&lt;String&gt; params, @NonNull Pageable page);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15462527,"reputation":7563,"user_id":11154841,"display_name":"questionto42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630007353,"creation_date":1630007353,"answer_id":68944563,"question_id":55169797,"body_markdown":"Not sure whether this add a lot of value, I just hope it helps.\r\n\r\nThe final format that the PostgreSQL function expects from a list as the input is of the following a pattern, using an array:\r\n\r\n    select my_func(array[&#39;item1&#39;,&#39;item2&#39;]::my_type[]);\r\n\r\nSee a full example [on Database Administrators.SE](https://dba.stackexchange.com/a/2794/212659).\r\n\r\nIn your case:\r\n\r\n    select my_func(array[&#39;item1&#39;,&#39;item2&#39;]::text[]);\r\n\r\nand I found out in my own tests that\r\n\r\n    select my_func(array[&#39;item1&#39;,&#39;item2&#39;]);\r\n\r\nshould already be enough.\r\n\r\n\r\nThen, the only aim is to get this format from your original java type. Thihs has been answered by the other question. This answer is just about showing the aim of it all.","title":"Pass List&lt;String&gt; into postgres&#39; function as parameter","body":"<p>Not sure whether this add a lot of value, I just hope it helps.</p>\n<p>The final format that the PostgreSQL function expects from a list as the input is of the following a pattern, using an array:</p>\n<pre><code>select my_func(array['item1','item2']::my_type[]);\n</code></pre>\n<p>See a full example <a href=\"https://dba.stackexchange.com/a/2794/212659\">on Database Administrators.SE</a>.</p>\n<p>In your case:</p>\n<pre><code>select my_func(array['item1','item2']::text[]);\n</code></pre>\n<p>and I found out in my own tests that</p>\n<pre><code>select my_func(array['item1','item2']);\n</code></pre>\n<p>should already be enough.</p>\n<p>Then, the only aim is to get this format from your original java type. Thihs has been answered by the other question. This answer is just about showing the aim of it all.</p>\n"}],"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14291,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55179555,"answer_count":3,"score":5,"last_activity_date":1677146421,"creation_date":1552588540,"question_id":55169797,"body_markdown":"I have spring data repository interface like this:\r\n\r\n    public interface MyEntityRepository extends \r\n            JpaRepository&lt;MyEntity, Long&gt; {\r\n    \r\n        @Query(nativeQuery = true, value = &quot;select * from my_func(:myList)&quot;)\r\n        Page&lt;MyEntity&gt; findBy(\r\n                @NonNull @Param(&quot;myList&quot;) List&lt;String&gt; myList,\r\n                @NonNull Pageable pageable);\r\n    \r\n    }\r\n\r\nPostgres&#39; function I have defined like this (but I can change it if I did it wrong):\r\n\r\n    CREATE OR REPLACE FUNCTION my_func(variadic myList text[])\r\n    RETURNS SETOF myEntityTable AS $$\r\n    ... some logic\r\n    select * from myEntityTable t where t.foo in (myList);\r\n\r\nWhen I call this repository method I got this error:\r\n\r\n    ERROR: operator does not exist: character varying = text[]\r\n    Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n    Where: PL/pgSQL function f_najdi_autorizaciu_na_spracovanie(text[]) line 28 at RETURN QUERY\r\n\r\nCan you please tell me what type should I use in my postgres function? Thank you in advice.\r\n\r\nEDIT:\r\nI cannot use native query above repository method and pass there list into IN clause because I have in DB function more logic, variables and so on ... it have to be DB function.","title":"Pass List&lt;String&gt; into postgres&#39; function as parameter","body":"<p>I have spring data repository interface like this:</p>\n\n<pre><code>public interface MyEntityRepository extends \n        JpaRepository&lt;MyEntity, Long&gt; {\n\n    @Query(nativeQuery = true, value = \"select * from my_func(:myList)\")\n    Page&lt;MyEntity&gt; findBy(\n            @NonNull @Param(\"myList\") List&lt;String&gt; myList,\n            @NonNull Pageable pageable);\n\n}\n</code></pre>\n\n<p>Postgres' function I have defined like this (but I can change it if I did it wrong):</p>\n\n<pre><code>CREATE OR REPLACE FUNCTION my_func(variadic myList text[])\nRETURNS SETOF myEntityTable AS $$\n... some logic\nselect * from myEntityTable t where t.foo in (myList);\n</code></pre>\n\n<p>When I call this repository method I got this error:</p>\n\n<pre><code>ERROR: operator does not exist: character varying = text[]\nHint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\nWhere: PL/pgSQL function f_najdi_autorizaciu_na_spracovanie(text[]) line 28 at RETURN QUERY\n</code></pre>\n\n<p>Can you please tell me what type should I use in my postgres function? Thank you in advice.</p>\n\n<p>EDIT:\nI cannot use native query above repository method and pass there list into IN clause because I have in DB function more logic, variables and so on ... it have to be DB function.</p>\n"},{"tags":["java","gradle","jar","classpath"],"answers":[{"tags":[],"owner":{"account_id":10899037,"reputation":19,"user_id":8359731,"display_name":"BambooBandit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677146111,"creation_date":1676833464,"answer_id":75502725,"question_id":75502140,"body_markdown":"Found a solution!\r\n\r\nBasically you add\r\n\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\nto your dist task in desktop build.gradle","title":"Modifying a library class by having a directory with the same path doesn&#39;t work in exported .jar","body":"<p>Found a solution!</p>\n<p>Basically you add</p>\n<pre><code>duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n</code></pre>\n<p>to your dist task in desktop build.gradle</p>\n"}],"owner":{"account_id":10899037,"reputation":19,"user_id":8359731,"display_name":"BambooBandit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677146111,"creation_date":1676828370,"question_id":75502140,"body_markdown":"I have a gradle based project where I needed to make a few tweaks to some library classes. I made a package with the same path as the library to override the class. It ends up working fine in my IDE, but when I export it via packr, the application refers to the original library code, not my overridden package code, so I get errors like this.\r\n\r\n&gt; class com.badlogic.gdx.utils.GdxRuntimeException: java.lang.NoSuchFieldError: soundCom\r\ncom.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:172)\r\n\r\n\r\nSorry if there is terminology I am missing, I&#39;m not too familiar with this process.","title":"Modifying a library class by having a directory with the same path doesn&#39;t work in exported .jar","body":"<p>I have a gradle based project where I needed to make a few tweaks to some library classes. I made a package with the same path as the library to override the class. It ends up working fine in my IDE, but when I export it via packr, the application refers to the original library code, not my overridden package code, so I get errors like this.</p>\n<blockquote>\n<p>class com.badlogic.gdx.utils.GdxRuntimeException: java.lang.NoSuchFieldError: soundCom\ncom.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.(Lwjgl3Application.java:172)</p>\n</blockquote>\n<p>Sorry if there is terminology I am missing, I'm not too familiar with this process.</p>\n"},{"tags":["java","sftp","jsch","file-attributes"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677145867,"creation_date":1570622251,"answer_id":58303618,"question_id":58301307,"body_markdown":"You seem to assume that the SFTP *&quot;extended attributes&quot;* are [*&quot;file system extended attributes&quot;*](https://en.wikipedia.org/wiki/Extended_file_attributes).\r\n\r\nThey are not.\r\n\r\nSFTP *&quot;extended attributes&quot;* is an extension mechanism, by which an SFTP server can provide or set additional attributes about the files, which are not part of the standard SFTP file attributes.\r\n\r\nThey indeed can *theoretically* be mapped to file system extended attributes. But actually most SFTP servers, and particularly the most widespread OpenSSH, do not support any SFTP extended attributes at all, let alone file system extended attributes.\r\nSee also https://stackoverflow.com/q/48687079/850848.\r\n\r\n---\r\n\r\nYou might be able to query the attributes using some shell commands, if you have also a shell access – but that&#39;s not *SFTP* anymore.","title":"Read file extended attributes of files on SFTP server with JSch","body":"<p>You seem to assume that the SFTP <em>&quot;extended attributes&quot;</em> are <a href=\"https://en.wikipedia.org/wiki/Extended_file_attributes\" rel=\"nofollow noreferrer\"><em>&quot;file system extended attributes&quot;</em></a>.</p>\n<p>They are not.</p>\n<p>SFTP <em>&quot;extended attributes&quot;</em> is an extension mechanism, by which an SFTP server can provide or set additional attributes about the files, which are not part of the standard SFTP file attributes.</p>\n<p>They indeed can <em>theoretically</em> be mapped to file system extended attributes. But actually most SFTP servers, and particularly the most widespread OpenSSH, do not support any SFTP extended attributes at all, let alone file system extended attributes.\nSee also <a href=\"https://stackoverflow.com/q/48687079/850848\">Setting the extended file attributes using SSH.NET SftpClient</a>.</p>\n<hr />\n<p>You might be able to query the attributes using some shell commands, if you have also a shell access – but that's not <em>SFTP</em> anymore.</p>\n"}],"owner":{"account_id":2524499,"reputation":323,"user_id":2194113,"accept_rate":75,"display_name":"jaros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58303618,"answer_count":1,"score":1,"last_activity_date":1677145867,"creation_date":1570614119,"question_id":58301307,"body_markdown":"I want to read file extended attributes using com.jcraft.JSch 0.1.55 (the file is on SFTP server). I know that class `SftpATTR` actually does have a method\r\n````\r\npublic String[] getExtended()\r\n````\r\nbut in my case it returns null.\r\n\r\n\r\nI see that in this code\r\n````\r\nstatic SftpATTRS getATTR(Buffer buf){\r\n    SftpATTRS attr=new SftpATTRS();\t\r\n    attr.flags=buf.getInt();\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_SIZE)!=0){ attr.size=buf.getLong(); }\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_UIDGID)!=0){\r\n      attr.uid=buf.getInt(); attr.gid=buf.getInt();\r\n    }\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_PERMISSIONS)!=0){ \r\n      attr.permissions=buf.getInt();\r\n    }\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_ACMODTIME)!=0){ \r\n      attr.atime=buf.getInt();\r\n    }\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_ACMODTIME)!=0){ \r\n      attr.mtime=buf.getInt(); \r\n    }\r\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_EXTENDED)!=0){\r\n      int count=buf.getInt();\r\n      if(count&gt;0){\r\n\tattr.extended=new String[count*2];\r\n\tfor(int i=0; i&lt;count; i++){\r\n\t  attr.extended[i*2]=Util.byte2str(buf.getString());\r\n\t  attr.extended[i*2+1]=Util.byte2str(buf.getString());\r\n\t}\r\n      }\r\n    }\r\n    return attr;\r\n  } \r\n````\r\nthe last if-statement is responsible for reading extended attributes but it seems to me that it always evaluates to false, because\r\n````\r\nint flags=0;\r\n````\r\nand\r\n````\r\npublic static final int SSH_FILEXFER_ATTR_EXTENDED=     0x80000000;\r\n````\r\nI cannot change the flags directly because it&#39;s setter doesn&#39;t have a public modifier.\r\n\r\nIs there another way to change the flags or read the extended attributes somehow?","title":"Read file extended attributes of files on SFTP server with JSch","body":"<p>I want to read file extended attributes using com.jcraft.JSch 0.1.55 (the file is on SFTP server). I know that class <code>SftpATTR</code> actually does have a method</p>\n\n<pre><code>public String[] getExtended()\n</code></pre>\n\n<p>but in my case it returns null.</p>\n\n<p>I see that in this code</p>\n\n<pre><code>static SftpATTRS getATTR(Buffer buf){\n    SftpATTRS attr=new SftpATTRS(); \n    attr.flags=buf.getInt();\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_SIZE)!=0){ attr.size=buf.getLong(); }\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_UIDGID)!=0){\n      attr.uid=buf.getInt(); attr.gid=buf.getInt();\n    }\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_PERMISSIONS)!=0){ \n      attr.permissions=buf.getInt();\n    }\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_ACMODTIME)!=0){ \n      attr.atime=buf.getInt();\n    }\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_ACMODTIME)!=0){ \n      attr.mtime=buf.getInt(); \n    }\n    if((attr.flags&amp;SSH_FILEXFER_ATTR_EXTENDED)!=0){\n      int count=buf.getInt();\n      if(count&gt;0){\n    attr.extended=new String[count*2];\n    for(int i=0; i&lt;count; i++){\n      attr.extended[i*2]=Util.byte2str(buf.getString());\n      attr.extended[i*2+1]=Util.byte2str(buf.getString());\n    }\n      }\n    }\n    return attr;\n  } \n</code></pre>\n\n<p>the last if-statement is responsible for reading extended attributes but it seems to me that it always evaluates to false, because</p>\n\n<pre><code>int flags=0;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public static final int SSH_FILEXFER_ATTR_EXTENDED=     0x80000000;\n</code></pre>\n\n<p>I cannot change the flags directly because it's setter doesn't have a public modifier.</p>\n\n<p>Is there another way to change the flags or read the extended attributes somehow?</p>\n"},{"tags":["java","spring-security","authorization","access-denied"],"answers":[{"tags":[],"owner":{"account_id":6645713,"reputation":1,"user_id":5129906,"display_name":"mohammed amnay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606904930,"creation_date":1606904930,"answer_id":65106267,"question_id":64500797,"body_markdown":"After investigating i found a solution for my problem : \r\n1) create Custom Access Denied Handler class annotated with @ControllerAdvice\r\n2) the must important is to define the sort order for our annotated component with high priority (e.g. @Order(value = 1))\r\n\r\nthanks","title":"Spring security : Access denied handler doesn&#39;t work (xml config + preauthorize annotation on controller method)","body":"<p>After investigating i found a solution for my problem :</p>\n<ol>\n<li>create Custom Access Denied Handler class annotated with @ControllerAdvice</li>\n<li>the must important is to define the sort order for our annotated component with high priority (e.g. @Order(value = 1))</li>\n</ol>\n<p>thanks</p>\n"},{"tags":[],"owner":{"account_id":17205704,"reputation":1,"user_id":12456327,"display_name":"Christophe Agoero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677145399,"creation_date":1677145399,"answer_id":75543027,"question_id":64500797,"body_markdown":"Just rethrow the exception. The handle method of AccessDeniedHandler will be called.\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n\r\n    /**\r\n     * Si erreur de s&#233;curit&#233; au niveau m&#233;thode il faut re throw pour aller dans le \r\n     * handle de AccessDeniedHandler\r\n     *\r\n     * @param e\r\n     */\r\n    @ExceptionHandler(AccessDeniedException.class)\r\n    void handleAccessDeniedException(AccessDeniedException e) {\r\n        throw e;\r\n    }\r\n\r\n\r\n}","title":"Spring security : Access denied handler doesn&#39;t work (xml config + preauthorize annotation on controller method)","body":"<p>Just rethrow the exception. The handle method of AccessDeniedHandler will be called.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n\n\n    /**\n     * Si erreur de sécurité au niveau méthode il faut re throw pour aller dans le \n     * handle de AccessDeniedHandler\n     *\n     * @param e\n     */\n    @ExceptionHandler(AccessDeniedException.class)\n    void handleAccessDeniedException(AccessDeniedException e) {\n        throw e;\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":6645713,"reputation":1,"user_id":5129906,"display_name":"mohammed amnay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677145399,"creation_date":1603459105,"question_id":64500797,"body_markdown":"Access-denied-handler doesn&#39;t work. The spring configuration is splitted on many xml file \r\n\r\n1) applicationContext-spring-security.xml\r\n````\r\n&lt;http auto-config=&#39;false&quot; use-expressions=&quot;true&quot; entry-point-ref=&quot;loginUrlAuthenticationEntryPoint&quot; &gt;\r\n    &lt;access-denied-handler error-page=&#39;/accessdenied.htm&quot; /&gt;\r\n    &lt;intercept-url pattern=&quot;/login.htm&quot; access=&quot;permitAll&quot;/&gt;\r\n    &lt;intercept-url pattern=&#39;/editprocedure.htm&quot; access=&quot;hasAuthority(&#39;CAPABILITY_ADD&#39;)&quot;/&gt;\r\n&lt;/http&gt;\r\n````\r\nthe access-denied-handler works well for xml config (as `&lt;intercept-url pattern=&quot;/addjob.htm&quot; access=&quot;hasAuthority(&#39;JOB_ADD&#39;)&quot;/&gt;`), but it dosen&#39;t when i use Preauthorize annotation !\r\n\r\n2) [app]-servlet.xml\r\n````\r\n...\r\n&lt;security:global-method-security pre-post-annotations=&quot;enabled&quot;/&gt;\r\n...\r\n````\t\r\n3) Controller\r\n````\r\n....\r\n    @RequestMapping(value=&quot;/adminarea.htm&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;ADMIN_AREA&#39;)&quot;)\r\n    protected ModelAndView referenceData() throws Exception\r\n    {....}\r\n....\r\n````\r\nThank you all in advance :)\r\n ","title":"Spring security : Access denied handler doesn&#39;t work (xml config + preauthorize annotation on controller method)","body":"<p>Access-denied-handler doesn't work. The spring configuration is splitted on many xml file</p>\n<ol>\n<li>applicationContext-spring-security.xml</li>\n</ol>\n<pre><code>&lt;http auto-config='false&quot; use-expressions=&quot;true&quot; entry-point-ref=&quot;loginUrlAuthenticationEntryPoint&quot; &gt;\n    &lt;access-denied-handler error-page='/accessdenied.htm&quot; /&gt;\n    &lt;intercept-url pattern=&quot;/login.htm&quot; access=&quot;permitAll&quot;/&gt;\n    &lt;intercept-url pattern='/editprocedure.htm&quot; access=&quot;hasAuthority('CAPABILITY_ADD')&quot;/&gt;\n&lt;/http&gt;\n</code></pre>\n<p>the access-denied-handler works well for xml config (as <code>&lt;intercept-url pattern=&quot;/addjob.htm&quot; access=&quot;hasAuthority('JOB_ADD')&quot;/&gt;</code>), but it dosen't when i use Preauthorize annotation !</p>\n<ol start=\"2\">\n<li>[app]-servlet.xml</li>\n</ol>\n<pre><code>...\n&lt;security:global-method-security pre-post-annotations=&quot;enabled&quot;/&gt;\n...\n</code></pre>\n<ol start=\"3\">\n<li>Controller</li>\n</ol>\n<pre><code>....\n    @RequestMapping(value=&quot;/adminarea.htm&quot;)\n    @PreAuthorize(&quot;hasAuthority('ADMIN_AREA')&quot;)\n    protected ModelAndView referenceData() throws Exception\n    {....}\n....\n</code></pre>\n<p>Thank you all in advance :)</p>\n"},{"tags":["java","unit-testing","mockito","junit4"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677245182,"post_id":75542989,"comment_id":133304769,"body_markdown":"Unrelated to coverage, but your test doesn&#39;t contain any assertions. In other words: it does not test anything","body":"Unrelated to coverage, but your test doesn&#39;t contain any assertions. In other words: it does not test anything"},{"owner":{"account_id":5851066,"reputation":479,"user_id":4609725,"accept_rate":43,"display_name":"robyp7"},"score":0,"creation_date":1677490508,"post_id":75542989,"comment_id":133340977,"body_markdown":"@knittl my test contai one assertion: assertThat(request.getClass()).as(&quot;check filter is on&quot;).isEqualTo(xxx.class), no?","body":"@knittl my test contai one assertion: assertThat(request.getClass()).as(&quot;check filter is on&quot;).isEqualTo(xxx.class), no?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677491244,"post_id":75542989,"comment_id":133341189,"body_markdown":"Oh, there is indeed an assertion. But why is the assertion inside a filter chain? That looks fishy.","body":"Oh, there is indeed an assertion. But why is the assertion inside a filter chain? That looks fishy."},{"owner":{"account_id":5851066,"reputation":479,"user_id":4609725,"accept_rate":43,"display_name":"robyp7"},"score":0,"creation_date":1677789633,"post_id":75542989,"comment_id":133412060,"body_markdown":"@knittl because look at the code inside..doFilter make this: req = new XSSRequestWrapper(request), but req is a mock object, and the only way that i  thinking is testing the type of instance... i cant do an assert on a mock! The mock dont change..Is it clever or naive? What you think can be done of different?","body":"@knittl because look at the code inside..doFilter make this: req = new XSSRequestWrapper(request), but req is a mock object, and the only way that i  thinking is testing the type of instance... i cant do an assert on a mock! The mock dont change..Is it clever or naive? What you think can be done of different?"}],"owner":{"account_id":5851066,"reputation":479,"user_id":4609725,"accept_rate":43,"display_name":"robyp7"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677145246,"creation_date":1677145246,"question_id":75542989,"body_markdown":"I have to make a junit mockito test on a java HttpFilter: i write some tests code on doFilter() but Code Coverage give me 0% of methods and line covered. Why?\r\n\r\n doFilter return void and &quot;req&quot; is reassigned to a new isntance, so i guess the only  assert is in my FilterChain method where new req istance is passed if so happens.  \r\n\r\nHow would you do the tests?\r\nThanks\r\n\r\nCode to test:\r\n\r\n    public class XSSFilter implements Filter{\r\n    \r\n        public static final String XSS_FILTER_ACTIVE_PROPERTY_KEY = &quot;XSSFilterActive&quot;;\r\n        public static final String XSS_FILTER_ACTIVE_DEFAULT_VALUE = &quot;false&quot;;\r\n        private Logger logger;\r\n    \r\n        boolean isXssFilterActive= false;\r\n    \r\n        @Override\r\n    \tpublic void init(FilterConfig filterConfig) throws ServletException {\r\n            if (logger==null) {\r\n                logger = LoggerFactory.getLogger(this.getClass().getName());\r\n            }\r\n            isXssFilterActive = Boolean.parseBoolean(ResourceManagerListener.getProperty(XSS_FILTER_ACTIVE_PROPERTY_KEY, XSS_FILTER_ACTIVE_DEFAULT_VALUE));\r\n    \t    logger.info(&quot;isXssFilterActive ={}&quot;, isXssFilterActive);\r\n            if (isXssFilterActive) {\r\n                logger.info(&quot;filter XSS on&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n    \tpublic void doFilter(ServletRequest req, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\t\t\r\n            HttpServletRequest request = (HttpServletRequest) req;\r\n            if (isXssFilterActive) {\r\n                req = new XSSRequestWrapper(request);\r\n            }\r\n            chain.doFilter(req, response);\r\n    \t}\r\n    \r\n        @Override\r\n    \tpublic void destroy() {\r\n    \t\t//empty\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\nThe tests:\r\n\r\n    public class XssFilterTest {\r\n    \r\n    \r\n        @Mock\r\n        HttpServletRequest req;\r\n    \r\n        @Mock\r\n        ServletResponse response;\r\n        private AutoCloseable autoCloseableMock;\r\n    \r\n    \r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            autoCloseableMock = MockitoAnnotations.openMocks(this);\r\n        }\r\n    \r\n        //test XSS filtering ON: test request instance of XSSRequestWrapper \r\n        @Test\r\n        public void testXSSFilterActiveTrue() throws Exception { \r\n    \r\n            final MockedStatic&lt;ResourceManagerListener&gt; resourceManagerListenerMockedStatic = mockStatic(ResourceManagerListener.class);\r\n            when(ResourceManagerListener.getProperty(&quot;XSSFilterActive&quot;, &quot;false&quot;)).thenReturn(&quot;true&quot;);\r\n            XSSFilter target = new XSSFilter();\r\n            FilterConfig config = mock(FilterConfig.class);\r\n    \r\n            target.init(config);\r\n            \r\n            FilterChain filterChainConsumer =\r\n                    ( request, response) -&gt; assertThat(request.getClass()).as(&quot;check filter is on&quot;).isEqualTo(XSSRequestWrapper.class);\r\n            HttpServletRequest request = new HttpServletRequestWrapper(req);\r\n            target.doFilter(request,response, filterChainConsumer);\r\n            resourceManagerListenerMockedStatic.close();\r\n        }\r\n    \r\n    \r\n        //XSS filtering off: test request instanceOf HttpServletRequestWrapper\r\n        @Test\r\n        public void testXSSFilterActiveFalse() throws Exception { //test quando spento\r\n    \r\n            final MockedStatic&lt;ResourceManagerListener&gt; resourceManagerListenerMockedStatic = mockStatic(ResourceManagerListener.class);\r\n            //request = mock(HttpServletRequest.class);// se non si usa l&#39;injection con @Mock\r\n            when(ResourceManagerListener.getProperty(&quot;XSSFilterActive&quot;, &quot;false&quot;)).thenReturn(&quot;false&quot;);\r\n            XSSFilter target = new XSSFilter();\r\n            FilterConfig config = mock(FilterConfig.class);\r\n    \r\n            target.init(config);\r\n            //deve essere wrappata come new XSSRequestWrapper\r\n            FilterChain filterChainConsumer =\r\n                    ( request, response) -&gt; assertThat(request.getClass()).as(&quot;check filter is off&quot;).isEqualTo(HttpServletRequestWrapper.class);\r\n            HttpServletRequest request = new HttpServletRequestWrapper(req);\r\n            target.doFilter(request,response, filterChainConsumer);\r\n            resourceManagerListenerMockedStatic.close();\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() throws Exception {\r\n            autoCloseableMock.close();\r\n        }\r\n    }\r\n\r\n","title":"mockito testing doFilter method, coverage 0%","body":"<p>I have to make a junit mockito test on a java HttpFilter: i write some tests code on doFilter() but Code Coverage give me 0% of methods and line covered. Why?</p>\n<p>doFilter return void and &quot;req&quot; is reassigned to a new isntance, so i guess the only  assert is in my FilterChain method where new req istance is passed if so happens.</p>\n<p>How would you do the tests?\nThanks</p>\n<p>Code to test:</p>\n<pre><code>public class XSSFilter implements Filter{\n\n    public static final String XSS_FILTER_ACTIVE_PROPERTY_KEY = &quot;XSSFilterActive&quot;;\n    public static final String XSS_FILTER_ACTIVE_DEFAULT_VALUE = &quot;false&quot;;\n    private Logger logger;\n\n    boolean isXssFilterActive= false;\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        if (logger==null) {\n            logger = LoggerFactory.getLogger(this.getClass().getName());\n        }\n        isXssFilterActive = Boolean.parseBoolean(ResourceManagerListener.getProperty(XSS_FILTER_ACTIVE_PROPERTY_KEY, XSS_FILTER_ACTIVE_DEFAULT_VALUE));\n        logger.info(&quot;isXssFilterActive ={}&quot;, isXssFilterActive);\n        if (isXssFilterActive) {\n            logger.info(&quot;filter XSS on&quot;);\n        }\n    }\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {      \n        HttpServletRequest request = (HttpServletRequest) req;\n        if (isXssFilterActive) {\n            req = new XSSRequestWrapper(request);\n        }\n        chain.doFilter(req, response);\n    }\n\n    @Override\n    public void destroy() {\n        //empty\n    }\n    \n\n}\n</code></pre>\n<p>The tests:</p>\n<pre><code>public class XssFilterTest {\n\n\n    @Mock\n    HttpServletRequest req;\n\n    @Mock\n    ServletResponse response;\n    private AutoCloseable autoCloseableMock;\n\n\n\n    @Before\n    public void setUp() throws Exception {\n        autoCloseableMock = MockitoAnnotations.openMocks(this);\n    }\n\n    //test XSS filtering ON: test request instance of XSSRequestWrapper \n    @Test\n    public void testXSSFilterActiveTrue() throws Exception { \n\n        final MockedStatic&lt;ResourceManagerListener&gt; resourceManagerListenerMockedStatic = mockStatic(ResourceManagerListener.class);\n        when(ResourceManagerListener.getProperty(&quot;XSSFilterActive&quot;, &quot;false&quot;)).thenReturn(&quot;true&quot;);\n        XSSFilter target = new XSSFilter();\n        FilterConfig config = mock(FilterConfig.class);\n\n        target.init(config);\n        \n        FilterChain filterChainConsumer =\n                ( request, response) -&gt; assertThat(request.getClass()).as(&quot;check filter is on&quot;).isEqualTo(XSSRequestWrapper.class);\n        HttpServletRequest request = new HttpServletRequestWrapper(req);\n        target.doFilter(request,response, filterChainConsumer);\n        resourceManagerListenerMockedStatic.close();\n    }\n\n\n    //XSS filtering off: test request instanceOf HttpServletRequestWrapper\n    @Test\n    public void testXSSFilterActiveFalse() throws Exception { //test quando spento\n\n        final MockedStatic&lt;ResourceManagerListener&gt; resourceManagerListenerMockedStatic = mockStatic(ResourceManagerListener.class);\n        //request = mock(HttpServletRequest.class);// se non si usa l'injection con @Mock\n        when(ResourceManagerListener.getProperty(&quot;XSSFilterActive&quot;, &quot;false&quot;)).thenReturn(&quot;false&quot;);\n        XSSFilter target = new XSSFilter();\n        FilterConfig config = mock(FilterConfig.class);\n\n        target.init(config);\n        //deve essere wrappata come new XSSRequestWrapper\n        FilterChain filterChainConsumer =\n                ( request, response) -&gt; assertThat(request.getClass()).as(&quot;check filter is off&quot;).isEqualTo(HttpServletRequestWrapper.class);\n        HttpServletRequest request = new HttpServletRequestWrapper(req);\n        target.doFilter(request,response, filterChainConsumer);\n        resourceManagerListenerMockedStatic.close();\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        autoCloseableMock.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","file-io","jsch"],"comments":[{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1677144120,"post_id":75542527,"comment_id":133280863,"body_markdown":"What &quot;custom attribute&quot;? Do you mean something like this https://en.wikipedia.org/wiki/Extended_file_attributes ?","body":"What &quot;custom attribute&quot;? Do you mean something like this <a href=\"https://en.wikipedia.org/wiki/Extended_file_attributes\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Extended_file_attributes</a> ?"},{"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"score":0,"creation_date":1677144378,"post_id":75542527,"comment_id":133280948,"body_markdown":"Yes, we added one attribute by using this code: Path file = Paths.get(filePath);\n\t\t\t\tUserDefinedFileAttributeView view = Files.getFileAttributeView(file,\n\t\t\t\t\t\tUserDefinedFileAttributeView.class);\n\t\t\t\tview.write(&quot;user.customchecksum&quot;, Charset.defaultCharset().encode(&quot;XDRSECTVVTEST&quot;));","body":"Yes, we added one attribute by using this code: Path file = Paths.get(filePath); \t\t\t\tUserDefinedFileAttributeView view = Files.getFileAttributeView(file, \t\t\t\t\t\tUserDefinedFileAttributeView.class); \t\t\t\tview.write(&quot;user.customchecksum&quot;, Charset.defaultCharset().encode(&quot;XDRSECTVVTEST&quot;));"},{"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"score":0,"creation_date":1677144650,"post_id":75542527,"comment_id":133281024,"body_markdown":"I updated my question  as well the way we are adding attributes to a file.","body":"I updated my question  as well the way we are adding attributes to a file."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677145580,"post_id":75542527,"comment_id":133281273,"body_markdown":"If I understand correctly you use something like [`ChannelSftp.get()`](https://javadoc.io/static/com.jcraft/jsch/0.1.55/com/jcraft/jsch/ChannelSftp.html#get(java.lang.String)) to get the file content? It seems to me that simply using [the `lstat` method](https://javadoc.io/static/com.jcraft/jsch/0.1.55/com/jcraft/jsch/ChannelSftp.html#lstat(java.lang.String)) of that same class should give you access to what you need.","body":"If I understand correctly you use something like <a href=\"https://javadoc.io/static/com.jcraft/jsch/0.1.55/com/jcraft/jsch/ChannelSftp.html#get(java.lang.String)\" rel=\"nofollow noreferrer\"><code>ChannelSftp.get()</code></a> to get the file content? It seems to me that simply using <a href=\"https://javadoc.io/static/com.jcraft/jsch/0.1.55/com/jcraft/jsch/ChannelSftp.html#lstat(java.lang.String)\" rel=\"nofollow noreferrer\">the <code>lstat</code> method</a> of that same class should give you access to what you need."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":1,"creation_date":1677145887,"post_id":75542527,"comment_id":133281368,"body_markdown":"See [Read file extended attributes of files on SFTP server with JSch](https://stackoverflow.com/q/58301307/850848).","body":"See <a href=\"https://stackoverflow.com/q/58301307/850848\">Read file extended attributes of files on SFTP server with JSch</a>."},{"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"score":0,"creation_date":1677146395,"post_id":75542527,"comment_id":133281527,"body_markdown":"@MartinPrikryl so is this not possible ?","body":"@MartinPrikryl so is this not possible ?"},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1677151412,"post_id":75542527,"comment_id":133282951,"body_markdown":"I believe my answer to the linked question answers this comprehensively. TL;DR: In most cases, it&#39;s imo not possible using SFTP. It still might be possible &quot;using JSch&quot;, if you resort to using shell commands (and know what shell commands to use, but that&#39;s not a programing question anymore, imo).","body":"I believe my answer to the linked question answers this comprehensively. TL;DR: In most cases, it&#39;s imo not possible using SFTP. It still might be possible &quot;using JSch&quot;, if you resort to using shell commands (and know what shell commands to use, but that&#39;s not a programing question anymore, imo)."}],"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677145109,"creation_date":1677142688,"question_id":75542527,"body_markdown":"We have one SFTP server where we placed one file present in **./test/directory1/test.csv**.&lt;br&gt;\r\nWe added one custom attribute to this file before placing it to this directory , attribute name **&quot;user.customchecksum&quot;**, below is code which we used to add attribute\r\n\r\n    Path file = Paths.get(&quot;C:/Files/test.csv&quot;);\r\n\t\t\t\tUserDefinedFileAttributeView view = Files.getFileAttributeView(file,\r\n\t\t\t\t\t\tUserDefinedFileAttributeView.class);\r\n\t\t\t\tview.write(&quot;user.customchecksum&quot;, Charset.defaultCharset().encode(&quot;XDRSECTVVTEST&quot;));\r\n\r\nNow before downloading this file we want to check that this attribute value and after that only we download this file.\r\n\r\n**Note**::&lt;br&gt;\r\nFor connection we are using JSCH and able to get File Inputstream without downloading the file.&lt;br&gt;\r\nBelow method we are using to read file attribute value after file is downloaded.&lt;br&gt;\r\nBut now we want to read this attribute before downloading file.\r\n\r\n    \tprivate void getCustomAttributes(String filePath) {\r\n\t\ttry {\r\n\t\t\tPath file = Paths.get(filePath);\r\n\t\t\tUserDefinedFileAttributeView view = Files.getFileAttributeView(file, UserDefinedFileAttributeView.class);\r\n\t\t\tString name = &quot;user.customchecksum&quot;;\r\n\t\t\tByteBuffer buf = ByteBuffer.allocate(view.size(name));\r\n\r\n\t\t\tview.read(name, buf);\r\n\t\t\tbuf.flip();\r\n\t\t\tString value = Charset.defaultCharset().decode(buf).toString();\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\nWe are able to read file InputStream before downloading file, can this be used to read added attributes? if yes what is the way to do this?","title":"Read file attributes of any file available at server without downloading it","body":"<p>We have one SFTP server where we placed one file present in <strong>./test/directory1/test.csv</strong>.<br>\nWe added one custom attribute to this file before placing it to this directory , attribute name <strong>&quot;user.customchecksum&quot;</strong>, below is code which we used to add attribute</p>\n<pre><code>Path file = Paths.get(&quot;C:/Files/test.csv&quot;);\n            UserDefinedFileAttributeView view = Files.getFileAttributeView(file,\n                    UserDefinedFileAttributeView.class);\n            view.write(&quot;user.customchecksum&quot;, Charset.defaultCharset().encode(&quot;XDRSECTVVTEST&quot;));\n</code></pre>\n<p>Now before downloading this file we want to check that this attribute value and after that only we download this file.</p>\n<p><strong>Note</strong>::<br>\nFor connection we are using JSCH and able to get File Inputstream without downloading the file.<br>\nBelow method we are using to read file attribute value after file is downloaded.<br>\nBut now we want to read this attribute before downloading file.</p>\n<pre><code>    private void getCustomAttributes(String filePath) {\n    try {\n        Path file = Paths.get(filePath);\n        UserDefinedFileAttributeView view = Files.getFileAttributeView(file, UserDefinedFileAttributeView.class);\n        String name = &quot;user.customchecksum&quot;;\n        ByteBuffer buf = ByteBuffer.allocate(view.size(name));\n\n        view.read(name, buf);\n        buf.flip();\n        String value = Charset.defaultCharset().decode(buf).toString();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>We are able to read file InputStream before downloading file, can this be used to read added attributes? if yes what is the way to do this?</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":9500342,"reputation":526,"user_id":7245173,"accept_rate":50,"display_name":"Emil Terman"},"score":0,"creation_date":1677145269,"post_id":75542911,"comment_id":133281187,"body_markdown":"Would it make sense to have a custom getter `Log.getIdsInDescription` where you parse the description in java yourself? Therefore, you would pull the log, then call your getter. Or do you need to extract the ids from all the logs?","body":"Would it make sense to have a custom getter <code>Log.getIdsInDescription</code> where you parse the description in java yourself? Therefore, you would pull the log, then call your getter. Or do you need to extract the ids from all the logs?"},{"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"score":0,"creation_date":1677148453,"post_id":75542911,"comment_id":133282140,"body_markdown":"I was hoping to create a solution where database handles it and returns only necessary values. But if nothing works then ofc retrieving whole content of column and parsing/filtering it in java would work.","body":"I was hoping to create a solution where database handles it and returns only necessary values. But if nothing works then ofc retrieving whole content of column and parsing/filtering it in java would work."},{"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"score":0,"creation_date":1677153926,"post_id":75542911,"comment_id":133283645,"body_markdown":"I&#39;m not sure. But can u check if this helps https://stackoverflow.com/a/44738213/2353403","body":"I&#39;m not sure. But can u check if this helps <a href=\"https://stackoverflow.com/a/44738213/2353403\">stackoverflow.com/a/44738213/2353403</a>"},{"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"score":0,"creation_date":1677231197,"post_id":75542911,"comment_id":133300910,"body_markdown":"I&#39;m getting to conclusion that string manipulation in scope of database query is dependent on database hence only native queries can solve it.","body":"I&#39;m getting to conclusion that string manipulation in scope of database query is dependent on database hence only native queries can solve it."}],"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677144784,"creation_date":1677144784,"question_id":75542911,"body_markdown":"Let&#39;s say I have a database table:\r\n```\r\nID     | DESCRIPTION\r\n1      | Some value &#39;123&#39; added\r\n2      | Deleted value &#39;333&#39; by &#39;Someone&#39;\r\n```\r\nJpa entity:\r\n```java\r\n@Entity\r\n@Table(name = &quot;LOG&quot;)\r\npublic class Log {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;DESCRIPTION&quot;)\r\n    private String description;\r\n    ...\r\n}\r\n```\r\nAnd working jpa query to retrieve first found numeric value inside single quotas:\r\n```java\r\n    @Query(value = &quot;select distinct REGEXP_SUBSTR( log.DESCRIPTION, &#39;&#39;&#39;(\\\\d+)&#39;&#39;&#39;,1,1,&#39;&#39;,1) from Log log where 1=1 &quot;, nativeQuery = true)\r\n    List&lt;String&gt; findObjectIdsInDescription();\r\n```\r\nI&#39;m working on Oracle database hence REGEXP_SUBSTR + native query, which is working fine for me right now. \r\n\r\nIs there a database independent approach using jpa query only? I&#39;m asking as I also need it for different databases.","title":"Get distinct list of numbers from string column with JPA query","body":"<p>Let's say I have a database table:</p>\n<pre><code>ID     | DESCRIPTION\n1      | Some value '123' added\n2      | Deleted value '333' by 'Someone'\n</code></pre>\n<p>Jpa entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;LOG&quot;)\npublic class Log {\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;DESCRIPTION&quot;)\n    private String description;\n    ...\n}\n</code></pre>\n<p>And working jpa query to retrieve first found numeric value inside single quotas:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(value = &quot;select distinct REGEXP_SUBSTR( log.DESCRIPTION, '''(\\\\d+)''',1,1,'',1) from Log log where 1=1 &quot;, nativeQuery = true)\n    List&lt;String&gt; findObjectIdsInDescription();\n</code></pre>\n<p>I'm working on Oracle database hence REGEXP_SUBSTR + native query, which is working fine for me right now.</p>\n<p>Is there a database independent approach using jpa query only? I'm asking as I also need it for different databases.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","hikaricp"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677070530,"post_id":75532248,"comment_id":133264135,"body_markdown":"Without seeing your code and how you are using things this will be impossible to answer.","body":"Without seeing your code and how you are using things this will be impossible to answer."},{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1677123571,"post_id":75532248,"comment_id":133277190,"body_markdown":"I have added the configurations. Can it be of some help please?","body":"I have added the configurations. Can it be of some help please?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677136342,"post_id":75532248,"comment_id":133279012,"body_markdown":"The answer lies in your edit. Ofcourse it will throw the exception as nothing is there to query nor will it switch (your configuration is broken in that regard). If you have b oth the read and master available and read goes down. The connections remain. You haven&#39;t enabled connection validation while idle. which will check the connections and close them if broken and re-open new ones. If you don&#39;t it will keep broken connections open. ALso your `readDataSource` is broken as it will return something else if there is an error, instead you should stop starting imho.","body":"The answer lies in your edit. Ofcourse it will throw the exception as nothing is there to query nor will it switch (your configuration is broken in that regard). If you have b oth the read and master available and read goes down. The connections remain. You haven&#39;t enabled connection validation while idle. which will check the connections and close them if broken and re-open new ones. If you don&#39;t it will keep broken connections open. ALso your <code>readDataSource</code> is broken as it will return something else if there is an error, instead you should stop starting imho."},{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1677142307,"post_id":75532248,"comment_id":133280353,"body_markdown":"Thank you!!\nWhat changes should I do and how do I validate the connection while idle?","body":"Thank you!! What changes should I do and how do I validate the connection while idle?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677142900,"post_id":75532248,"comment_id":133280517,"body_markdown":"Make sure that your min/max are different and that you have set a decent number for the `validationTimeout` property.","body":"Make sure that your min/max are different and that you have set a decent number for the <code>validationTimeout</code> property."},{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1677143356,"post_id":75532248,"comment_id":133280636,"body_markdown":"i just changed minimum-idle, maximum-pool-size, max-lifetime of report db and added validation-timeout property on both but still it gives me same error","body":"i just changed minimum-idle, maximum-pool-size, max-lifetime of report db and added validation-timeout property on both but still it gives me same error"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677143535,"post_id":75532248,"comment_id":133280681,"body_markdown":"Then you are doing something that closes the datasource which you aren&#39;t showing here. It was already difficult from your snippets. Another thing is that your other datasources should be beans as well. Make the methods `public` and add `@Bean` to them so they get properly initialized. I would also suggest to use the Spring Boot documented way to configure multiple datasources. Another thing is you need to reset your threadlocal when the request is done, which is something you don&#39;t appear to do.","body":"Then you are doing something that closes the datasource which you aren&#39;t showing here. It was already difficult from your snippets. Another thing is that your other datasources should be beans as well. Make the methods <code>public</code> and add <code>@Bean</code> to them so they get properly initialized. I would also suggest to use the Spring Boot documented way to configure multiple datasources. Another thing is you need to reset your threadlocal when the request is done, which is something you don&#39;t appear to do."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1677143640,"post_id":75532248,"comment_id":133280718,"body_markdown":"Upon further inspection the problem is your configuration, you are creating a datsource within a `try/resources` which will close the datasource. So as mentioned your confiugration is the culprit.","body":"Upon further inspection the problem is your configuration, you are creating a datsource within a <code>try&#47;resources</code> which will close the datasource. So as mentioned your confiugration is the culprit."}],"answers":[{"comments":[{"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"score":0,"creation_date":1677144636,"post_id":75542853,"comment_id":133281017,"body_markdown":"Thank you very much. The main culprit was the try-with-resources.","body":"Thank you very much. The main culprit was the try-with-resources."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677144678,"creation_date":1677144475,"answer_id":75542853,"question_id":75532248,"body_markdown":"The problem is, as hinted already in the comments, your configuration. Whilst being overly extensive it is also wrong. What is wrong you are using a try-with-resources which will automatically close the resource after the block finishes. So in the end you are always ending up with a closed datasource. Regardless of the fact if it is or isn&#39;t connected. \r\n\r\nI would strongly recommend following the [Spring Boot preferred way][1] of configuring your datasources. \r\n\r\n```java\r\n@Configuration\r\npublic DatasourceConfiguration {\r\n\r\n  @Bean\r\n  @Primary\r\n  public DataSource dataSource() {\r\n    DataSourceRouting routingDataSource = new DataSourceRouting();\r\n    routingDataSource.initDatasource(masterDataSource(), readDataSource());\r\n    return routingDataSource;\r\n  }\r\n\r\n  @Bean\r\n  @Primary\r\n  @ConfigurationProperties(&quot;master.datasource&quot;)\r\n  public DataSourceProperties masterDataSourceProperties() {\r\n    return new DataSourceProperties();\r\n  }\r\n\r\n  @Bean\r\n  @ConfigurationProperties(&quot;report.datasource&quot;)\r\n  public DataSourceProperties reportDataSourceProperties() {\r\n    return new DataSourceProperties();\r\n  }\r\n  \r\n  @Bean\r\n  @ConfigurationProperties(&quot;master.datasource.hikari&quot;)\r\n  public HikariDataSource masterDataSource(DataSourceProperties masterDataSourceProperties) {\r\n    return masterDataSourceProperties.initializeDataSourceBuilder()\r\n      .type(HikariDataSource.class).build();  \r\n  }\r\n\r\n  @Bean\r\n  @ConfigurationProperties(&quot;report.datasource.hikari&quot;)\r\n  public HikariDataSource masterDataSource(DataSourceProperties reportDataSourceProperties) {\r\n    return reportDataSourceProperties.initializeDataSourceBuilder()\r\n      .type(HikariDataSource.class).build();  \r\n  }\r\n}\r\n```\r\n\r\nThe `url`, `username` and `password` property should be set on the datasource directly to prevent start failures. \r\n\r\n```\r\n#Master Database\r\nmaster.datasource.url=jdbc:postgresql://localhost:5432/master_db\r\nmaster.datasource.username=*****\r\nmaster.datasource.password=*****\r\nmaster.datasource.hikari.minimum-idle=10\r\nmaster.datasource.hikari.maximum-pool-size=30\r\nmaster.datasource.hikari.connection-timeout=30000\r\nmaster.datasource.hikari.leakDetection=15000\r\nmaster.datasource.hikari.idle-timeout=25000\r\nmaster.datasource.hikari.max-lifetime=600000\r\nmaster.datasource.hikari.auto-commit=true\r\n\r\n#Slave Database Read\r\nreport.datasource.url=jdbc:postgresql://localhost:5432/slave_db\r\nreport.datasource.username=*****\r\nreport.datasource.password=*****\r\nreport.datasource.hikari.minimum-idle=10\r\nreport.datasource.hikari.maximum-pool-size=30\r\nreport.datasource.hikari.connection-timeout=30000\r\nreport.datasource.hikari.leakDetection=15000\r\nreport.datasource.hikari.idle-timeout=20000\r\nreport.datasource.hikari.max-lifetime=600000\r\nreport.datasource.hikari.auto-commit=true\r\nreport.datasource.hikari.initializationFailTimeout=-1\r\n```\r\n\r\nTo handle breaking connections make sure the min/max are different and that you set a reasonable `validationTimeout` for the validation. For the report database you could add the `initializationFailTimeout` and set a negative value. This will not lead to acquiring connections at startup but later on. This will allow you to even start with a broken reporting database, for which the connections, due to validation, later will be available. \r\n\r\nAnother thing that is wrong in your setup is that yo never reset the routing key, as it is stored in a `ThreadLocal` it will get reused eventually, as request handling threads are in a pool. You need to clear in the `afterCompletion` method of the `HandlerInterceptor`. \r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources","title":"HikariDataSource closes automatically when I query from it","body":"<p>The problem is, as hinted already in the comments, your configuration. Whilst being overly extensive it is also wrong. What is wrong you are using a try-with-resources which will automatically close the resource after the block finishes. So in the end you are always ending up with a closed datasource. Regardless of the fact if it is or isn't connected.</p>\n<p>I would strongly recommend following the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\" rel=\"nofollow noreferrer\">Spring Boot preferred way</a> of configuring your datasources.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic DatasourceConfiguration {\n\n  @Bean\n  @Primary\n  public DataSource dataSource() {\n    DataSourceRouting routingDataSource = new DataSourceRouting();\n    routingDataSource.initDatasource(masterDataSource(), readDataSource());\n    return routingDataSource;\n  }\n\n  @Bean\n  @Primary\n  @ConfigurationProperties(&quot;master.datasource&quot;)\n  public DataSourceProperties masterDataSourceProperties() {\n    return new DataSourceProperties();\n  }\n\n  @Bean\n  @ConfigurationProperties(&quot;report.datasource&quot;)\n  public DataSourceProperties reportDataSourceProperties() {\n    return new DataSourceProperties();\n  }\n  \n  @Bean\n  @ConfigurationProperties(&quot;master.datasource.hikari&quot;)\n  public HikariDataSource masterDataSource(DataSourceProperties masterDataSourceProperties) {\n    return masterDataSourceProperties.initializeDataSourceBuilder()\n      .type(HikariDataSource.class).build();  \n  }\n\n  @Bean\n  @ConfigurationProperties(&quot;report.datasource.hikari&quot;)\n  public HikariDataSource masterDataSource(DataSourceProperties reportDataSourceProperties) {\n    return reportDataSourceProperties.initializeDataSourceBuilder()\n      .type(HikariDataSource.class).build();  \n  }\n}\n</code></pre>\n<p>The <code>url</code>, <code>username</code> and <code>password</code> property should be set on the datasource directly to prevent start failures.</p>\n<pre><code>#Master Database\nmaster.datasource.url=jdbc:postgresql://localhost:5432/master_db\nmaster.datasource.username=*****\nmaster.datasource.password=*****\nmaster.datasource.hikari.minimum-idle=10\nmaster.datasource.hikari.maximum-pool-size=30\nmaster.datasource.hikari.connection-timeout=30000\nmaster.datasource.hikari.leakDetection=15000\nmaster.datasource.hikari.idle-timeout=25000\nmaster.datasource.hikari.max-lifetime=600000\nmaster.datasource.hikari.auto-commit=true\n\n#Slave Database Read\nreport.datasource.url=jdbc:postgresql://localhost:5432/slave_db\nreport.datasource.username=*****\nreport.datasource.password=*****\nreport.datasource.hikari.minimum-idle=10\nreport.datasource.hikari.maximum-pool-size=30\nreport.datasource.hikari.connection-timeout=30000\nreport.datasource.hikari.leakDetection=15000\nreport.datasource.hikari.idle-timeout=20000\nreport.datasource.hikari.max-lifetime=600000\nreport.datasource.hikari.auto-commit=true\nreport.datasource.hikari.initializationFailTimeout=-1\n</code></pre>\n<p>To handle breaking connections make sure the min/max are different and that you set a reasonable <code>validationTimeout</code> for the validation. For the report database you could add the <code>initializationFailTimeout</code> and set a negative value. This will not lead to acquiring connections at startup but later on. This will allow you to even start with a broken reporting database, for which the connections, due to validation, later will be available.</p>\n<p>Another thing that is wrong in your setup is that yo never reset the routing key, as it is stored in a <code>ThreadLocal</code> it will get reused eventually, as request handling threads are in a pool. You need to clear in the <code>afterCompletion</code> method of the <code>HandlerInterceptor</code>.</p>\n"}],"owner":{"account_id":15714113,"reputation":97,"user_id":11338722,"display_name":"Sudan Shrestha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75542853,"answer_count":1,"score":0,"last_activity_date":1677144678,"creation_date":1677066168,"question_id":75532248,"body_markdown":"I have configured two database in my spring boot application as master and slave db. Whenever the application queries anything from the slave db, hikari pool is automatically closed and its throws error as\r\n```\r\no.h.engine.jdbc.spi.SqlExceptionHelper  (137)\t |&gt; SQL Error: 0, SQLState: null\r\n[ http-nio-2100-exec-6 ] |ERROR|    o.h.engine.jdbc.spi.SqlExceptionHelper  (142)\t |&gt; HikariDataSource HikariDataSource (REPORT_POOL) has been closed.\r\n [ http-nio-2100-exec-6 ] |ERROR|    c.n.c.exception.GlobalExceptionHandler  (485)\t |&gt; Critical Error: \r\norg.springframework.orm.jpa.JpaSystemException: Unable to acquire JDBC Connection; nested exception is org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection\r\n```\r\n\r\nmy configurations for db is as follows:\r\n```\r\n#Master Database\r\nmaster.datasource.hikari.url=jdbc:postgresql://localhost:5432/master_db\r\nmaster.datasource.hikari.username=*****\r\nmaster.datasource.hikari.password=*****\r\nmaster.datasource.hikari.minimum-idle=10\r\nmaster.datasource.hikari.maximum-pool-size=30\r\nmaster.datasource.hikari.connection-timeout=30000\r\nmaster.datasource.hikari.leakDetection=15000\r\nmaster.datasource.hikari.idle-timeout=25000\r\nmaster.datasource.hikari.max-lifetime=600000\r\nmaster.datasource.hikari.auto-commit=true\r\n\r\n#Slave Database Read\r\nreport.datasource.hikari.url=jdbc:postgresql://localhost:5432/slave_db\r\nreport.datasource.hikari.username=*****\r\nreport.datasource.hikari.password=*****\r\nreport.datasource.hikari.minimum-idle=10\r\nreport.datasource.hikari.maximum-pool-size=30\r\nreport.datasource.hikari.connection-timeout=30000\r\nreport.datasource.hikari.leakDetection=15000\r\nreport.datasource.hikari.idle-timeout=20000\r\nreport.datasource.hikari.max-lifetime=600000\r\nreport.datasource.hikari.auto-commit=true\r\n```\r\n\r\nI have configured two data sources as\r\n```\r\n@Bean\r\n@Primary\r\n@Autowired\r\npublic DataSource dataSource() {\r\n\tDataSourceRouting routingDataSource = new DataSourceRouting();\r\n\troutingDataSource.initDatasource(masterDataSource(), readDataSource());\r\n\t\treturn routingDataSource;\r\n\t}\r\n\r\n\tprivate DataSource masterDataSource() {\r\n\t\tHikariConfig master = new HikariConfig();\r\n\t\tmaster.setPoolName(&quot;MASTER_POOL&quot;);\r\n\t\tmaster.setJdbcUrl(env.getProperty(String.format(&quot;%s.url&quot;, MASTER)));\r\n\t\tmaster.setUsername((env.getProperty(String.format(&quot;%s.username&quot;, MASTER))));\r\n\t\tmaster.setPassword((env.getProperty(String.format(&quot;%s.password&quot;, MASTER))));\r\n\t\tmaster.setMinimumIdle(Integer.valueOf(env.getProperty(String.format(&quot;%s.minimum-idle&quot;, MASTER))));\r\n\t\tmaster.setMaximumPoolSize(Integer.valueOf(env.getProperty(String.format(&quot;%s.maximum-pool-size&quot;, MASTER))));\r\n\t\tmaster.setConnectionTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.connection-timeout&quot;, MASTER))));\r\n\t\tmaster.setIdleTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.idle-timeout&quot;, MASTER))));\r\n\t\tmaster.setMaxLifetime(Long.valueOf(env.getProperty(String.format(&quot;%s.max-lifetime&quot;, MASTER))));\r\n\t\tmaster.setLeakDetectionThreshold(Long.valueOf(env.getProperty(String.format(&quot;%s.leakDetection&quot;, MASTER))));\r\n\t\tmaster.setAutoCommit(Boolean.valueOf(env.getProperty(String.format(&quot;%s.auto-commit&quot;, MASTER))));\r\n\t\tmasterDataSource = new HikariDataSource(master);\r\n\t\treturn masterDataSource;\r\n\t}\r\n    \r\n    private DataSource readDataSource() {\r\n\t\tHikariConfig report = new HikariConfig();\r\n\t\treport.setPoolName(&quot;REPORT_POOL&quot;);\r\n\t\treport.setJdbcUrl(env.getProperty(String.format(&quot;%s.url&quot;, REPORT)));\r\n\t\treport.setUsername((env.getProperty(String.format(&quot;%s.username&quot;, REPORT))));\r\n\t\treport.setPassword((env.getProperty(String.format(&quot;%s.password&quot;, REPORT))));\r\n\t\treport.setMinimumIdle(Integer.valueOf(env.getProperty(String.format(&quot;%s.minimum-idle&quot;, REPORT))));\r\n\t\treport.setMaximumPoolSize(Integer.valueOf(env.getProperty(String.format(&quot;%s.maximum-pool-size&quot;, REPORT))));\r\n\t\treport.setConnectionTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.connection-timeout&quot;, REPORT))));\r\n\t\treport.setIdleTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.idle-timeout&quot;, REPORT))));\r\n\t\treport.setMaxLifetime(Long.valueOf(env.getProperty(String.format(&quot;%s.max-lifetime&quot;, REPORT))));\r\n\t\treport.setLeakDetectionThreshold(Long.valueOf(env.getProperty(String.format(&quot;%s.leakDetection&quot;, REPORT))));\r\n\t\treport.setAutoCommit(Boolean.valueOf(env.getProperty(String.format(&quot;%s.auto-commit&quot;, REPORT))));\r\n\t\treport.setReadOnly(Boolean.valueOf(env.getProperty(String.format(&quot;%s.read-only&quot;, REPORT))));\r\n\r\n\t\ttry (HikariDataSource readDataSource = new HikariDataSource(report)) {\r\n\t\t\treadDataSource.getConnection();\r\n\t\t\treturn readDataSource;\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.warn(&quot;\\n\\n******REPORT DB NOT FOUND, CONNECTED TO MASTER DB *******\\n\\n&quot;);\r\n\t\t\treturn masterDataSource;\r\n\t\t}\r\n\t}      \r\n\r\n\r\n```\r\nI have a DataSourceInterceptor for directing request to report db\r\n```\r\n@Slf4j\r\n@Component\r\npublic class DataSourceInterceptor extends HandlerInterceptorAdapter {\r\n\r\n\tprotected static final String[] PREFIX_REPORT_DS = new String[] { &quot;/admin/report/**&quot;, &quot;/report/**&quot; };\r\n\r\n\t@Override\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows Exception {\r\n\r\n\t\tString uri = request.getRequestURI();\r\n\r\n\t\tif (StringUtil.isStartWith(uri, StringUtil.trimStricks(PREFIX_REPORT_DS))) {\r\n\t\t\tlog.info(&quot;Redirect to Report Database for URL: {}&quot;, uri);\r\n\t\t\tDataSourceRouting.setReportRoute();\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\r\n\t}\r\n}\r\n\r\n\r\n\r\n```\r\nAnd a DataSourceRouting for setting route to slave db\r\n```\r\n@Slf4j\r\npublic class DataSourceRouting extends AbstractRoutingDataSource {\r\n\r\n\tprivate static final ThreadLocal&lt;Route&gt; routeContext = new ThreadLocal&lt;&gt;();\r\n\r\n\tpublic enum Route {\r\n\t\tMASTER, REPORT\r\n\t}\r\n\r\n\r\n\tpublic static void setReportRoute() {\r\n\t\trouteContext.set(Route.REPORT);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Object determineCurrentLookupKey() {\r\n\t\treturn routeContext.get();\r\n\t}\r\n\r\n\tpublic void initDatasource(DataSource masterDs, DataSource reportDs) {\r\n\t\tlog.info(&quot;Datasource routing...&quot;);\r\n\t\tMap&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\r\n\t\tdataSourceMap.put(Route.MASTER, masterDs);\r\n\t\tdataSourceMap.put(Route.REPORT, reportDs);\r\n\t\tthis.setTargetDataSources(dataSourceMap);\r\n\t\tthis.setDefaultTargetDataSource(masterDs);\r\n\r\n\t}\r\n}\r\n```\r\nWhen the slave db is down or cannot be connnected during the application start-up, it gets connected to master db, then there is no issue in the application but when the slave db is connected, and the application tries to query from it, the above exception is thrown\r\n","title":"HikariDataSource closes automatically when I query from it","body":"<p>I have configured two database in my spring boot application as master and slave db. Whenever the application queries anything from the slave db, hikari pool is automatically closed and its throws error as</p>\n<pre><code>o.h.engine.jdbc.spi.SqlExceptionHelper  (137)    |&gt; SQL Error: 0, SQLState: null\n[ http-nio-2100-exec-6 ] |ERROR|    o.h.engine.jdbc.spi.SqlExceptionHelper  (142)    |&gt; HikariDataSource HikariDataSource (REPORT_POOL) has been closed.\n [ http-nio-2100-exec-6 ] |ERROR|    c.n.c.exception.GlobalExceptionHandler  (485)   |&gt; Critical Error: \norg.springframework.orm.jpa.JpaSystemException: Unable to acquire JDBC Connection; nested exception is org.hibernate.exception.GenericJDBCException: Unable to acquire JDBC Connection\n</code></pre>\n<p>my configurations for db is as follows:</p>\n<pre><code>#Master Database\nmaster.datasource.hikari.url=jdbc:postgresql://localhost:5432/master_db\nmaster.datasource.hikari.username=*****\nmaster.datasource.hikari.password=*****\nmaster.datasource.hikari.minimum-idle=10\nmaster.datasource.hikari.maximum-pool-size=30\nmaster.datasource.hikari.connection-timeout=30000\nmaster.datasource.hikari.leakDetection=15000\nmaster.datasource.hikari.idle-timeout=25000\nmaster.datasource.hikari.max-lifetime=600000\nmaster.datasource.hikari.auto-commit=true\n\n#Slave Database Read\nreport.datasource.hikari.url=jdbc:postgresql://localhost:5432/slave_db\nreport.datasource.hikari.username=*****\nreport.datasource.hikari.password=*****\nreport.datasource.hikari.minimum-idle=10\nreport.datasource.hikari.maximum-pool-size=30\nreport.datasource.hikari.connection-timeout=30000\nreport.datasource.hikari.leakDetection=15000\nreport.datasource.hikari.idle-timeout=20000\nreport.datasource.hikari.max-lifetime=600000\nreport.datasource.hikari.auto-commit=true\n</code></pre>\n<p>I have configured two data sources as</p>\n<pre><code>@Bean\n@Primary\n@Autowired\npublic DataSource dataSource() {\n    DataSourceRouting routingDataSource = new DataSourceRouting();\n    routingDataSource.initDatasource(masterDataSource(), readDataSource());\n        return routingDataSource;\n    }\n\n    private DataSource masterDataSource() {\n        HikariConfig master = new HikariConfig();\n        master.setPoolName(&quot;MASTER_POOL&quot;);\n        master.setJdbcUrl(env.getProperty(String.format(&quot;%s.url&quot;, MASTER)));\n        master.setUsername((env.getProperty(String.format(&quot;%s.username&quot;, MASTER))));\n        master.setPassword((env.getProperty(String.format(&quot;%s.password&quot;, MASTER))));\n        master.setMinimumIdle(Integer.valueOf(env.getProperty(String.format(&quot;%s.minimum-idle&quot;, MASTER))));\n        master.setMaximumPoolSize(Integer.valueOf(env.getProperty(String.format(&quot;%s.maximum-pool-size&quot;, MASTER))));\n        master.setConnectionTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.connection-timeout&quot;, MASTER))));\n        master.setIdleTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.idle-timeout&quot;, MASTER))));\n        master.setMaxLifetime(Long.valueOf(env.getProperty(String.format(&quot;%s.max-lifetime&quot;, MASTER))));\n        master.setLeakDetectionThreshold(Long.valueOf(env.getProperty(String.format(&quot;%s.leakDetection&quot;, MASTER))));\n        master.setAutoCommit(Boolean.valueOf(env.getProperty(String.format(&quot;%s.auto-commit&quot;, MASTER))));\n        masterDataSource = new HikariDataSource(master);\n        return masterDataSource;\n    }\n    \n    private DataSource readDataSource() {\n        HikariConfig report = new HikariConfig();\n        report.setPoolName(&quot;REPORT_POOL&quot;);\n        report.setJdbcUrl(env.getProperty(String.format(&quot;%s.url&quot;, REPORT)));\n        report.setUsername((env.getProperty(String.format(&quot;%s.username&quot;, REPORT))));\n        report.setPassword((env.getProperty(String.format(&quot;%s.password&quot;, REPORT))));\n        report.setMinimumIdle(Integer.valueOf(env.getProperty(String.format(&quot;%s.minimum-idle&quot;, REPORT))));\n        report.setMaximumPoolSize(Integer.valueOf(env.getProperty(String.format(&quot;%s.maximum-pool-size&quot;, REPORT))));\n        report.setConnectionTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.connection-timeout&quot;, REPORT))));\n        report.setIdleTimeout(Long.valueOf(env.getProperty(String.format(&quot;%s.idle-timeout&quot;, REPORT))));\n        report.setMaxLifetime(Long.valueOf(env.getProperty(String.format(&quot;%s.max-lifetime&quot;, REPORT))));\n        report.setLeakDetectionThreshold(Long.valueOf(env.getProperty(String.format(&quot;%s.leakDetection&quot;, REPORT))));\n        report.setAutoCommit(Boolean.valueOf(env.getProperty(String.format(&quot;%s.auto-commit&quot;, REPORT))));\n        report.setReadOnly(Boolean.valueOf(env.getProperty(String.format(&quot;%s.read-only&quot;, REPORT))));\n\n        try (HikariDataSource readDataSource = new HikariDataSource(report)) {\n            readDataSource.getConnection();\n            return readDataSource;\n        } catch (Exception e) {\n            log.warn(&quot;\\n\\n******REPORT DB NOT FOUND, CONNECTED TO MASTER DB *******\\n\\n&quot;);\n            return masterDataSource;\n        }\n    }      \n\n\n</code></pre>\n<p>I have a DataSourceInterceptor for directing request to report db</p>\n<pre><code>@Slf4j\n@Component\npublic class DataSourceInterceptor extends HandlerInterceptorAdapter {\n\n    protected static final String[] PREFIX_REPORT_DS = new String[] { &quot;/admin/report/**&quot;, &quot;/report/**&quot; };\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception {\n\n        String uri = request.getRequestURI();\n\n        if (StringUtil.isStartWith(uri, StringUtil.trimStricks(PREFIX_REPORT_DS))) {\n            log.info(&quot;Redirect to Report Database for URL: {}&quot;, uri);\n            DataSourceRouting.setReportRoute();\n        }\n\n        return true;\n\n    }\n}\n\n\n\n</code></pre>\n<p>And a DataSourceRouting for setting route to slave db</p>\n<pre><code>@Slf4j\npublic class DataSourceRouting extends AbstractRoutingDataSource {\n\n    private static final ThreadLocal&lt;Route&gt; routeContext = new ThreadLocal&lt;&gt;();\n\n    public enum Route {\n        MASTER, REPORT\n    }\n\n\n    public static void setReportRoute() {\n        routeContext.set(Route.REPORT);\n    }\n\n    @Override\n    protected Object determineCurrentLookupKey() {\n        return routeContext.get();\n    }\n\n    public void initDatasource(DataSource masterDs, DataSource reportDs) {\n        log.info(&quot;Datasource routing...&quot;);\n        Map&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\n        dataSourceMap.put(Route.MASTER, masterDs);\n        dataSourceMap.put(Route.REPORT, reportDs);\n        this.setTargetDataSources(dataSourceMap);\n        this.setDefaultTargetDataSource(masterDs);\n\n    }\n}\n</code></pre>\n<p>When the slave db is down or cannot be connnected during the application start-up, it gets connected to master db, then there is no issue in the application but when the slave db is connected, and the application tries to query from it, the above exception is thrown</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9598,"page":625,"page_size":100}
