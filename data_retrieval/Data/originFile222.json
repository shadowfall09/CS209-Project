{"items":[{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1453308525,"post_id":34905675,"comment_id":57547587,"body_markdown":"Have  a look at the doRun method and see what the assertion is checking","body":"Have  a look at the doRun method and see what the assertion is checking"},{"owner":{"account_id":1324028,"reputation":1302,"user_id":1269260,"accept_rate":71,"display_name":"betseyb"},"score":3,"creation_date":1453308928,"post_id":34905675,"comment_id":57547860,"body_markdown":"Please add the relevant section of code, so people can offer more useful suggestions.","body":"Please add the relevant section of code, so people can offer more useful suggestions."},{"owner":{"account_id":3252189,"reputation":4357,"user_id":2742156,"accept_rate":64,"display_name":"Pratap A.K"},"score":0,"creation_date":1453309005,"post_id":34905675,"comment_id":57547914,"body_markdown":"This can be caused by a dirty classpath with different versions of Spring libraries all over the place. Cleanup it and align it to the one and same Spring version with the correct versioned dependencies.","body":"This can be caused by a dirty classpath with different versions of Spring libraries all over the place. Cleanup it and align it to the one and same Spring version with the correct versioned dependencies."},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":0,"creation_date":1453310382,"post_id":34905675,"comment_id":57548829,"body_markdown":"Please add the related code, especially your `SpringBootApplication` or `EnableAutoConfiguration` annotated class","body":"Please add the related code, especially your <code>SpringBootApplication</code> or <code>EnableAutoConfiguration</code> annotated class"}],"answers":[{"tags":[],"owner":{"account_id":7676208,"reputation":489,"user_id":5817007,"display_name":"Adipati Karna"},"comment_count":0,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1589360102,"creation_date":1453380211,"answer_id":34924192,"question_id":34905675,"body_markdown":"It turns out that I did not set the main class correctly in Eclipse - Debug, and Run configuration.\r\n\r\nI set **org.springframework.boot.SpringApplication** as the main class.\r\n\r\nThe Main class should be pointing to my main class.\r\n\r\n","title":"Spring application start error: sources must not be empty","body":"<p>It turns out that I did not set the main class correctly in Eclipse - Debug, and Run configuration.</p>\n\n<p>I set <strong>org.springframework.boot.SpringApplication</strong> as the main class.</p>\n\n<p>The Main class should be pointing to my main class.</p>\n"},{"comments":[{"owner":{"account_id":11464204,"reputation":487,"user_id":9832322,"display_name":"Abhilash"},"score":0,"creation_date":1570613574,"post_id":44864648,"comment_id":102964836,"body_markdown":"Thanks a ton. I forgot to add this. My main class just has a print of hello world. Silly me.","body":"Thanks a ton. I forgot to add this. My main class just has a print of hello world. Silly me."}],"tags":[],"owner":{"account_id":1611959,"reputation":3349,"user_id":1490636,"display_name":"Maksim Kostromin"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1498937337,"creation_date":1498937337,"answer_id":44864648,"question_id":34905675,"body_markdown":"you must add at least one main config class as a source (see attached screenshots).\r\n\r\nwrong:\r\n[![enter image description here][1]][1]\r\n\r\nright:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nO1mY.png\r\n  [2]: https://i.stack.imgur.com/k7K9H.png","title":"Spring application start error: sources must not be empty","body":"<p>you must add at least one main config class as a source (see attached screenshots).</p>\n\n<p>wrong:\n<a href=\"https://i.stack.imgur.com/nO1mY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nO1mY.png\" alt=\"enter image description here\"></a></p>\n\n<p>right:\n<a href=\"https://i.stack.imgur.com/k7K9H.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/k7K9H.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14356340,"reputation":11,"user_id":10370099,"display_name":"user10370099"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537084258,"creation_date":1537082143,"answer_id":52351850,"question_id":34905675,"body_markdown":"add scanBasePackages=&quot;com.login&quot; at main class thats all your code will work.\r\n\r\n    package com.login.example.LoginExample;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication(scanBasePackages=&quot;com.login&quot;)\r\n\r\n    public class LoginExampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(LoginExampleApplication.class, args);\r\n\t    }\r\n    }\r\n","title":"Spring application start error: sources must not be empty","body":"<p>add scanBasePackages=\"com.login\" at main class thats all your code will work.</p>\n\n<pre><code>package com.login.example.LoginExample;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication(scanBasePackages=\"com.login\")\n\npublic class LoginExampleApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(LoginExampleApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14407295,"reputation":177,"user_id":10407026,"display_name":"Marcel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1614698659,"creation_date":1556534672,"answer_id":55901738,"question_id":34905675,"body_markdown":"Had the same issue recently, turned out I was running the wrong java class. I went to class where I have my @SpringBootApplication and right click -&gt; run as java application. Hopefully that will help someone.","title":"Spring application start error: sources must not be empty","body":"<p>Had the same issue recently, turned out I was running the wrong java class. I went to class where I have my @SpringBootApplication and right click -&gt; run as java application. Hopefully that will help someone.</p>\n"},{"comments":[{"owner":{"account_id":12683576,"reputation":68,"user_id":9216308,"display_name":"TheArchitect"},"score":1,"creation_date":1594580357,"post_id":62245588,"comment_id":111168902,"body_markdown":"This worked for me, I tried executing the main Spring boot class and fixed","body":"This worked for me, I tried executing the main Spring boot class and fixed"},{"owner":{"account_id":17235995,"reputation":121,"user_id":12479453,"display_name":"Anu Priya"},"score":1,"creation_date":1626923642,"post_id":62245588,"comment_id":121022587,"body_markdown":"This worked for me. Scratched my head for an hour and finally, this worked.","body":"This worked for me. Scratched my head for an hour and finally, this worked."}],"tags":[],"owner":{"account_id":5056115,"reputation":574,"user_id":4059307,"display_name":"Harish Narayanan"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1591534250,"creation_date":1591534250,"answer_id":62245588,"question_id":34905675,"body_markdown":"Run the main class &amp; not the project. ","title":"Spring application start error: sources must not be empty","body":"<p>Run the main class &amp; not the project. </p>\n"},{"comments":[{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":1,"creation_date":1640520095,"post_id":70486202,"comment_id":124598082,"body_markdown":"I do not think it&#39;s a solution to the op&#39;s question.","body":"I do not think it&#39;s a solution to the op&#39;s question."}],"tags":[],"owner":{"account_id":16491278,"reputation":7,"user_id":11915074,"display_name":"cbarkinozer"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649846505,"creation_date":1640519326,"answer_id":70486202,"question_id":34905675,"body_markdown":"You can change the package of the Main class by doing `Run&gt;Run Configurations&gt;Main Class&gt;Search&gt; Select &quot;Spring Application`.\r\nThen, If you get `java.lang.IllegalArgumentException: Sources must not be empty` error. You can fix it by creating a new workspace.","title":"Spring application start error: sources must not be empty","body":"<p>You can change the package of the Main class by doing <code>Run&gt;Run Configurations&gt;Main Class&gt;Search&gt; Select &quot;Spring Application</code>.\nThen, If you get <code>java.lang.IllegalArgumentException: Sources must not be empty</code> error. You can fix it by creating a new workspace.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1647547428,"post_id":71516253,"comment_id":126405319,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71516253/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18352597,"reputation":1,"user_id":13366455,"display_name":"ayoub razali"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647536230,"creation_date":1647536230,"answer_id":71516253,"question_id":34905675,"body_markdown":"in my case i solved it by changing the package of the main  class \r\nto the root  package","title":"Spring application start error: sources must not be empty","body":"<p>in my case i solved it by changing the package of the main  class\nto the root  package</p>\n"},{"tags":[],"owner":{"account_id":25411512,"reputation":1,"user_id":19219217,"display_name":"afsar raza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658817727,"creation_date":1658515424,"answer_id":73084811,"question_id":34905675,"body_markdown":"kindly check beans are created for your runner class or not by using `@Component` annotation on that class.","title":"Spring application start error: sources must not be empty","body":"<p>kindly check beans are created for your runner class or not by using <code>@Component</code> annotation on that class.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680873545,"post_id":75891098,"comment_id":133973490,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75891098/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17426206,"reputation":1,"user_id":14126392,"display_name":"kaushik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680196046,"creation_date":1680196046,"answer_id":75891098,"question_id":34905675,"body_markdown":"Simple answer is instead of project name do right click on java file which contains main method. In our case java file which has @SpringBootApplication annotation.","title":"Spring application start error: sources must not be empty","body":"<p>Simple answer is instead of project name do right click on java file which contains main method. In our case java file which has @SpringBootApplication annotation.</p>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684092333,"creation_date":1684092333,"answer_id":76249311,"question_id":34905675,"body_markdown":"in **SpringToolSuite** in *workspace window* **rightclick the project =&gt;** **run as =&gt;** **run configs =&gt;** **main** tab(in popup) **=&gt;** **project:** field **=&gt;** browse and pickup the right project **=&gt;** make sure in **Main class:** field there is you main class. Click  **Apply** and **Run**.","title":"Spring application start error: sources must not be empty","body":"<p>in <strong>SpringToolSuite</strong> in <em>workspace window</em> <strong>rightclick the project =&gt;</strong> <strong>run as =&gt;</strong> <strong>run configs =&gt;</strong> <strong>main</strong> tab(in popup) <strong>=&gt;</strong> <strong>project:</strong> field <strong>=&gt;</strong> browse and pickup the right project <strong>=&gt;</strong> make sure in <strong>Main class:</strong> field there is you main class. Click  <strong>Apply</strong> and <strong>Run</strong>.</p>\n"},{"tags":[],"owner":{"account_id":28693240,"reputation":1,"user_id":21972019,"display_name":"Omkar Gole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693123119,"creation_date":1693123003,"answer_id":76986175,"question_id":34905675,"body_markdown":"\r\n\r\n  \r\n\r\n     &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n \r\n\r\n - Make sure if you are not using Database in spring boot then don&#39;t use this \r\n    dependency.\r\n\r\n - I had same problem but when I removed this dependency it started worked.\r\n    And also make sure you run project from your main class file \r\n","title":"Spring application start error: sources must not be empty","body":"<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ul>\n<li><p>Make sure if you are not using Database in spring boot then don't use this\ndependency.</p>\n</li>\n<li><p>I had same problem but when I removed this dependency it started worked.\nAnd also make sure you run project from your main class file</p>\n</li>\n</ul>\n"}],"owner":{"account_id":7676208,"reputation":489,"user_id":5817007,"display_name":"Adipati Karna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57053,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":11,"score":22,"last_activity_date":1693123119,"creation_date":1453308172,"question_id":34905675,"body_markdown":"I&#39;m following a Spring tutorial, and when I tried to start the spring application I got the following error:\r\n\r\n&gt; 2016-01-20 23:18:15.907  INFO 5271 --- [           main]\r\n&gt; o.s.boot.SpringApplication               : Starting SpringApplication\r\n&gt; v1.3.1.RELEASE on  ... \r\n&gt; \r\n&gt; 2016-01-20 23:18:15.911  INFO 5271 --- [        main]\r\n&gt; o.s.boot.SpringApplication               : No active profile set,\r\n&gt; falling back to default profiles: default \r\n&gt; \r\n&gt; 2016-01-20 23:18:15.918 ERROR 5271 --- [           main]\r\n&gt; o.s.boot.SpringApplication            : Application startup failed\r\n&gt; java.lang.IllegalArgumentException: Sources must not be empty \tat\r\n&gt; org.springframework.util.Assert.notEmpty(Assert.java:276)\r\n&gt; ~[spring-core-4.2.4.RELEASE.jar:4.2.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.doRun(SpringApplication.java:352)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1124)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.main(SpringApplication.java:1140)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n\r\nWhat is this &quot;Sources must not be empty&quot; error?\r\n\r\nI am using an Eclipse - Maven project for this tutorial project and I have updated the project. I have also cleaned and rebuilt but I still got this error.\r\n\r\n","title":"Spring application start error: sources must not be empty","body":"<p>I'm following a Spring tutorial, and when I tried to start the spring application I got the following error:</p>\n\n<blockquote>\n  <p>2016-01-20 23:18:15.907  INFO 5271 --- [           main]\n  o.s.boot.SpringApplication               : Starting SpringApplication\n  v1.3.1.RELEASE on  ... </p>\n  \n  <p>2016-01-20 23:18:15.911  INFO 5271 --- [        main]\n  o.s.boot.SpringApplication               : No active profile set,\n  falling back to default profiles: default </p>\n  \n  <p>2016-01-20 23:18:15.918 ERROR 5271 --- [           main]\n  o.s.boot.SpringApplication            : Application startup failed\n  java.lang.IllegalArgumentException: Sources must not be empty     at\n  org.springframework.util.Assert.notEmpty(Assert.java:276)\n  ~[spring-core-4.2.4.RELEASE.jar:4.2.4.RELEASE]    at\n  org.springframework.boot.SpringApplication.doRun(SpringApplication.java:352)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]     at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]     at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:1124)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]     at\n  org.springframework.boot.SpringApplication.main(SpringApplication.java:1140)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]</p>\n</blockquote>\n\n<p>What is this \"Sources must not be empty\" error?</p>\n\n<p>I am using an Eclipse - Maven project for this tutorial project and I have updated the project. I have also cleaned and rebuilt but I still got this error.</p>\n"},{"tags":["java","multithreading","deadlock","executors"],"comments":[{"owner":{"account_id":906200,"reputation":787,"user_id":941045,"accept_rate":80,"display_name":"ice"},"score":1,"creation_date":1355210783,"post_id":13815258,"comment_id":19008579,"body_markdown":"How did you run this example? And, please, provide your `LoadFileTask` source. Actually the deadlock must be in first call of `Future.get` - if you have something printed, then you executing this example in different way.","body":"How did you run this example? And, please, provide your <code>LoadFileTask</code> source. Actually the deadlock must be in first call of <code>Future.get</code> - if you have something printed, then you executing this example in different way."},{"owner":{"account_id":476484,"reputation":8618,"user_id":887421,"accept_rate":68,"display_name":"Achow"},"score":0,"creation_date":1355211331,"post_id":13815258,"comment_id":19008754,"body_markdown":"Updated the entire source. That&#39;s exactly whats baffling me, if I get future.get() for header, that&#39;s supposed to exit the header runnable, isn&#39;t it?","body":"Updated the entire source. That&#39;s exactly whats baffling me, if I get future.get() for header, that&#39;s supposed to exit the header runnable, isn&#39;t it?"}],"answers":[{"comments":[{"owner":{"account_id":476484,"reputation":8618,"user_id":887421,"accept_rate":68,"display_name":"Achow"},"score":0,"creation_date":1355212635,"post_id":13815801,"comment_id":19009200,"body_markdown":"perfect.However, now the question comes, why did it not deadlock as was mentioned. Or am I missing something on my problem statement?","body":"perfect.However, now the question comes, why did it not deadlock as was mentioned. Or am I missing something on my problem statement?"},{"owner":{"account_id":906200,"reputation":787,"user_id":941045,"accept_rate":80,"display_name":"ice"},"score":1,"creation_date":1355212870,"post_id":13815801,"comment_id":19009300,"body_markdown":"There is no deadlock because you run `RenderPageTask` in separate executor = separate thread. If you will use same executor(with one working thread) for `RenderPageTask` and `LoadFileTask` starting - then it will be deadlock.","body":"There is no deadlock because you run <code>RenderPageTask</code> in separate executor = separate thread. If you will use same executor(with one working thread) for <code>RenderPageTask</code> and <code>LoadFileTask</code> starting - then it will be deadlock."},{"owner":{"account_id":476484,"reputation":8618,"user_id":887421,"accept_rate":68,"display_name":"Achow"},"score":0,"creation_date":1355213150,"post_id":13815801,"comment_id":19009415,"body_markdown":"Perfect, once again! Thanks a lot ice! :)","body":"Perfect, once again! Thanks a lot ice! :)"}],"tags":[],"owner":{"account_id":906200,"reputation":787,"user_id":941045,"accept_rate":80,"display_name":"ice"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1355212185,"creation_date":1355212185,"answer_id":13815801,"question_id":13815258,"body_markdown":"There is no deadlock in your code, JVM doesn&#39;t shutdowned because it have working thread - executor thread for `exec` service(defined in `ThreadDeadlock`).\r\nIf you add \r\n    \r\n    exec.shutdown();\r\nbefore `return` in `RenderPageTask` then program will terminate after all tasks will be completed.","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>There is no deadlock in your code, JVM doesn't shutdowned because it have working thread - executor thread for <code>exec</code> service(defined in <code>ThreadDeadlock</code>).\nIf you add </p>\n\n<pre><code>exec.shutdown();\n</code></pre>\n\n<p>before <code>return</code> in <code>RenderPageTask</code> then program will terminate after all tasks will be completed.</p>\n"},{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355216849,"creation_date":1355216849,"answer_id":13816906,"question_id":13815258,"body_markdown":"The deadlock cause is simple: the first task submits another 2 tasks and waits them to finish, effectively blocking the single working thread of the executor and preventing that tasks from execution.\r\n\r\nEither:\r\n\r\n- do not ever use blocking operations in the tasks running under executor\r\n\r\n- or use executor which adds working threads as needed","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>The deadlock cause is simple: the first task submits another 2 tasks and waits them to finish, effectively blocking the single working thread of the executor and preventing that tasks from execution.</p>\n\n<p>Either:</p>\n\n<ul>\n<li><p>do not ever use blocking operations in the tasks running under executor</p></li>\n<li><p>or use executor which adds working threads as needed</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16980421,"reputation":515,"user_id":12282542,"display_name":"Kirill Parfenov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693123101,"creation_date":1693122260,"answer_id":76986129,"question_id":13815258,"body_markdown":"I ran in misunderstanding with such example.\r\nBut as @ice said - you should use same executor for header/footer and RenderPageTask for deadlock.\r\nHere is an example with deadlock:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        var poolDeadlock = new ThreadDeadlock().new RenderPageTask();\r\n        System.out.println(poolDeadlock.call());\r\n        poolDeadlock.getExecutor().shutdown();\r\n    }\r\n\r\n    public static class ThreadDeadlock {\r\n        private final ExecutorService exec = Executors.newSingleThreadExecutor();\r\n\r\n        public class RenderPageTask implements Callable&lt;String&gt; {\r\n            public String call() throws Exception {\r\n                Future&lt;String&gt; header, footer;\r\n                header = exec.submit(new LoadFileTask(&quot;header.html&quot;));\r\n                footer = exec.submit(new LoadFileTask(&quot;footer.html&quot;));\r\n                String page = renderPage();\r\n                // Deadlock because you&#39;re using same single thread pool for header/footer\r\n                // and RenderPageTask\r\n                return header.get() + page + footer.get();\r\n            }\r\n\r\n            private String renderPage() throws Exception {\r\n                return exec.submit(new RenderPageTask()).get();\r\n            }\r\n\r\n            public ExecutorService getExecutor() {\r\n                return exec;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class LoadFileTask implements Callable&lt;String&gt; {\r\n        private final String data;\r\n\r\n        public LoadFileTask(String data) {\r\n            this.data = data;\r\n        }\r\n\r\n        @Override\r\n        public String call() {\r\n            return data;\r\n        }\r\n    }","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>I ran in misunderstanding with such example.\nBut as @ice said - you should use same executor for header/footer and RenderPageTask for deadlock.\nHere is an example with deadlock:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    var poolDeadlock = new ThreadDeadlock().new RenderPageTask();\n    System.out.println(poolDeadlock.call());\n    poolDeadlock.getExecutor().shutdown();\n}\n\npublic static class ThreadDeadlock {\n    private final ExecutorService exec = Executors.newSingleThreadExecutor();\n\n    public class RenderPageTask implements Callable&lt;String&gt; {\n        public String call() throws Exception {\n            Future&lt;String&gt; header, footer;\n            header = exec.submit(new LoadFileTask(&quot;header.html&quot;));\n            footer = exec.submit(new LoadFileTask(&quot;footer.html&quot;));\n            String page = renderPage();\n            // Deadlock because you're using same single thread pool for header/footer\n            // and RenderPageTask\n            return header.get() + page + footer.get();\n        }\n\n        private String renderPage() throws Exception {\n            return exec.submit(new RenderPageTask()).get();\n        }\n\n        public ExecutorService getExecutor() {\n            return exec;\n        }\n    }\n}\n\npublic static class LoadFileTask implements Callable&lt;String&gt; {\n    private final String data;\n\n    public LoadFileTask(String data) {\n        this.data = data;\n    }\n\n    @Override\n    public String call() {\n        return data;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":476484,"reputation":8618,"user_id":887421,"accept_rate":68,"display_name":"Achow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13815801,"answer_count":3,"score":1,"last_activity_date":1693123101,"creation_date":1355209603,"question_id":13815258,"body_markdown":"This is straight from Java Concurrency in Practice.\r\nThe following causes a Deadlock :\r\n\r\n    class ThreadDeadlock {\r\n    \tExecutorService exec = Executors.newSingleThreadExecutor();\r\n    \tpublic class RenderPageTask implements Callable&lt;String&gt; {\r\n    \t\tpublic String call() throws Exception {\r\n    \t\t\tFuture&lt;String&gt; header, footer;\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName());\r\n    \t\t\theader = exec.submit(new LoadFileTask(&quot;header.html&quot;));\r\n    \t\t\tfooter = exec.submit(new LoadFileTask(&quot;footer.html&quot;));\r\n    \t\t\t//String page = renderBody();\r\n    \t\t\t// Will deadlock -- task waiting for result of subtask\r\n    \t\t\t//System.out.println(&quot;executed header and footer&quot;);\r\n    \t\t\tString headerS = header.get();\r\n    \t\t\tSystem.out.println(&quot;retrieved header&quot;);\r\n    \t\t\tString footerS = footer.get();\r\n    \t\t\treturn headerS+ footerS;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n    class LoadFileTask implements Callable&lt;String&gt;{\r\n    \tString name;\r\n    \tpublic LoadFileTask(String name) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String call() throws Exception {\r\n    \t\t/*Scanner s = new Scanner(name);\r\n    \t\tStringBuilder str = new StringBuilder();\r\n    \t\twhile(s.hasNextLine()){\r\n    \t\t\tstr.append(s.nextLine());\r\n    \t\t}*/\r\n    \t\tSystem.out.println(Thread.currentThread().getName()+this.name);\r\n    \t\treturn &quot;&quot;;\r\n    \t}\r\n    }\r\n\r\n    /* Call from Main */\r\n             private static void checkDeadLock(){\r\n\t\tThreadDeadlock.RenderPageTask callable = new ThreadDeadlock().new RenderPageTask();\r\n\t\tExecutorService es = Executors.newFixedThreadPool(1);\r\n\t\tes.submit(callable);\r\n\t\tes.shutdown();\r\n\t}\r\n\r\nI am unable to figure out why this causes a deadlock.\r\nI have checked and it does.It even returns the header.get() and prints retrieved header, then how does it deadlock?\r\n","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>This is straight from Java Concurrency in Practice.\nThe following causes a Deadlock :</p>\n\n<pre><code>class ThreadDeadlock {\n    ExecutorService exec = Executors.newSingleThreadExecutor();\n    public class RenderPageTask implements Callable&lt;String&gt; {\n        public String call() throws Exception {\n            Future&lt;String&gt; header, footer;\n            System.out.println(Thread.currentThread().getName());\n            header = exec.submit(new LoadFileTask(\"header.html\"));\n            footer = exec.submit(new LoadFileTask(\"footer.html\"));\n            //String page = renderBody();\n            // Will deadlock -- task waiting for result of subtask\n            //System.out.println(\"executed header and footer\");\n            String headerS = header.get();\n            System.out.println(\"retrieved header\");\n            String footerS = footer.get();\n            return headerS+ footerS;\n        }\n    }\n}\n\n\n\nclass LoadFileTask implements Callable&lt;String&gt;{\n    String name;\n    public LoadFileTask(String name) {\n        super();\n        this.name = name;\n    }\n\n    @Override\n    public String call() throws Exception {\n        /*Scanner s = new Scanner(name);\n        StringBuilder str = new StringBuilder();\n        while(s.hasNextLine()){\n            str.append(s.nextLine());\n        }*/\n        System.out.println(Thread.currentThread().getName()+this.name);\n        return \"\";\n    }\n}\n\n/* Call from Main */\n         private static void checkDeadLock(){\n    ThreadDeadlock.RenderPageTask callable = new ThreadDeadlock().new RenderPageTask();\n    ExecutorService es = Executors.newFixedThreadPool(1);\n    es.submit(callable);\n    es.shutdown();\n}\n</code></pre>\n\n<p>I am unable to figure out why this causes a deadlock.\nI have checked and it does.It even returns the header.get() and prints retrieved header, then how does it deadlock?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693122633,"post_id":76986109,"comment_id":135716425,"body_markdown":"The code as shown does not produce a _&quot;Cannot resolve symbol error&quot;_. Instead it produces _&quot;CalcKata.java:4: error: illegal start of expression&quot;_ and _&quot;CalcKata.java:7: error: class, interface, enum, or record expected&quot;_.","body":"The code as shown does not produce a <i>&quot;Cannot resolve symbol error&quot;</i>. Instead it produces <i>&quot;CalcKata.java:4: error: illegal start of expression&quot;</i> and <i>&quot;CalcKata.java:7: error: class, interface, enum, or record expected&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":23625724,"reputation":124,"user_id":18034585,"display_name":"Gxogac"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693122324,"creation_date":1693122232,"answer_id":76986126,"question_id":76986109,"body_markdown":"You can&#39;t declare the function like that in Java. Java doesn&#39;t allow you to define methods inside other methods\r\n\r\n```java\r\npublic class CalcKata {\r\n    public static void main(String[] args) {}\r\n    public static String calc(String input) {}\r\n}\r\n```\r\n\r\nThis is the correct one, hope that helps!","title":"Cannot resolve symbol (Java)","body":"<p>You can't declare the function like that in Java. Java doesn't allow you to define methods inside other methods</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CalcKata {\n    public static void main(String[] args) {}\n    public static String calc(String input) {}\n}\n</code></pre>\n<p>This is the correct one, hope that helps!</p>\n"}],"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693122542,"accepted_answer_id":76986126,"answer_count":1,"score":-1,"last_activity_date":1693122703,"creation_date":1693121903,"question_id":76986109,"body_markdown":"The mistake here is **Cannot resolve symbol &#39;input&#39;** . \r\n\r\nWhy?\r\n\r\n```\r\npublic class CalcKata {\r\n\r\n    public static void main(String[] args) {\r\n        public static String calc (String input){\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThe code is writed on Java v17. \r\njava version &quot;17.0.2&quot; 2022-01-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\r\n\r\nI tried to write and run but it didn&#39;t help.","title":"Cannot resolve symbol (Java)","body":"<p>The mistake here is <strong>Cannot resolve symbol 'input'</strong> .</p>\n<p>Why?</p>\n<pre><code>public class CalcKata {\n\n    public static void main(String[] args) {\n        public static String calc (String input){\n        }\n    }\n}\n\n</code></pre>\n<p>The code is writed on Java v17.\njava version &quot;17.0.2&quot; 2022-01-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)</p>\n<p>I tried to write and run but it didn't help.</p>\n"},{"tags":["java","gradle","jar","zip","build.gradle"],"comments":[{"owner":{"account_id":2489596,"reputation":705,"user_id":2167355,"display_name":"abendt"},"score":0,"creation_date":1693517668,"post_id":76950211,"comment_id":135775684,"body_markdown":"can you compare the contents of two zip archives from different clean builds? e.g. unzip -l &lt;zipfile&gt;. Maybe you can spot a difference in included files / lengths?","body":"can you compare the contents of two zip archives from different clean builds? e.g. unzip -l &lt;zipfile&gt;. Maybe you can spot a difference in included files / lengths?"}],"answers":[{"tags":[],"owner":{"account_id":20619661,"reputation":103,"user_id":15136978,"display_name":"Shaurya Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693122375,"creation_date":1693122375,"answer_id":76986136,"question_id":76950211,"body_markdown":"It could be possible that the hash changes on every clean build because the order of the files in the **`configurations.runtimeClasspath`** changes. You should try sorting the files in **`configurations.runtimeClasspath`** before adding them to the **zip** to ensure that the order is consistent.\r\n\r\n    task buildZip(type: Zip) {\r\n    includeEmptyDirs = false\r\n    preserveFileTimestamps = false\r\n    reproducibleFileOrder = true\r\n\r\n    from sourceSets.main.output \r\n    \r\n    into(&quot;lib&quot;) {\r\n        from configurations.runtimeClasspath.files.sort()\r\n    }\r\n    }\r\n\r\n\r\n\r\nThis should ensure that the order of the files in **`configurations.runtimeClasspath`** is consistent and the hash remains the same on every clean build.","title":"How to gradle build reproducible zip with configurations.runtimeClasspath?","body":"<p>It could be possible that the hash changes on every clean build because the order of the files in the <strong><code>configurations.runtimeClasspath</code></strong> changes. You should try sorting the files in <strong><code>configurations.runtimeClasspath</code></strong> before adding them to the <strong>zip</strong> to ensure that the order is consistent.</p>\n<pre><code>task buildZip(type: Zip) {\nincludeEmptyDirs = false\npreserveFileTimestamps = false\nreproducibleFileOrder = true\n\nfrom sourceSets.main.output \n\ninto(&quot;lib&quot;) {\n    from configurations.runtimeClasspath.files.sort()\n}\n}\n</code></pre>\n<p>This should ensure that the order of the files in <strong><code>configurations.runtimeClasspath</code></strong> is consistent and the hash remains the same on every clean build.</p>\n"}],"owner":{"account_id":1926234,"reputation":8411,"user_id":1736601,"accept_rate":70,"display_name":"atkayla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693122375,"creation_date":1692680269,"question_id":76950211,"body_markdown":"I have a gradle task to build a reproducible zip, hash it, then I check the hash is the same.\r\n\r\n```\r\ntask buildZip(type: Zip) {\r\n    includeEmptyDirs = false\r\n    preserveFileTimestamps = false\r\n    reproducibleFileOrder = true\r\n\r\n    from sourceSets.main.output\r\n}\r\n\r\ntask createChecksums(type: Checksum, dependsOn: build) {\r\n    inputFiles.setFrom(&quot;${buildDir}/distributions&quot;);\r\n    appendFileNameToChecksum.set(true)\r\n}\r\n```\r\n\r\nThis works as expected and the hash is consistent. However I noticed when I try to include the .jar dependencies under `configurations.runtimeClassPath`:\r\n```\r\ntask buildZip(type: Zip) {\r\n    includeEmptyDirs = false\r\n    preserveFileTimestamps = false\r\n    reproducibleFileOrder = true\r\n\r\n    from sourceSets.main.output\r\n    \r\n    into(&quot;lib&quot;) {\r\n        from configurations.runtimeClasspath\r\n    }\r\n}\r\n```\r\nThe hash changes on every clean build. Why is this happening and how to correct it?","title":"How to gradle build reproducible zip with configurations.runtimeClasspath?","body":"<p>I have a gradle task to build a reproducible zip, hash it, then I check the hash is the same.</p>\n<pre><code>task buildZip(type: Zip) {\n    includeEmptyDirs = false\n    preserveFileTimestamps = false\n    reproducibleFileOrder = true\n\n    from sourceSets.main.output\n}\n\ntask createChecksums(type: Checksum, dependsOn: build) {\n    inputFiles.setFrom(&quot;${buildDir}/distributions&quot;);\n    appendFileNameToChecksum.set(true)\n}\n</code></pre>\n<p>This works as expected and the hash is consistent. However I noticed when I try to include the .jar dependencies under <code>configurations.runtimeClassPath</code>:</p>\n<pre><code>task buildZip(type: Zip) {\n    includeEmptyDirs = false\n    preserveFileTimestamps = false\n    reproducibleFileOrder = true\n\n    from sourceSets.main.output\n    \n    into(&quot;lib&quot;) {\n        from configurations.runtimeClasspath\n    }\n}\n</code></pre>\n<p>The hash changes on every clean build. Why is this happening and how to correct it?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693121953,"creation_date":1693121953,"answer_id":76986112,"question_id":76985790,"body_markdown":"By providing a bean implementing `HealthIndicator`, you contribute a *custom* health indicator, rather than overriding some default. The base `/actuator/health` then returns an aggregate over all registered beans, including yours. \r\n\r\nTry naming your bean `CustomHealthIndicator` and you should be able to see your detail under `/actuator/health/custom`. ","title":"Spring Boot app : adding values to health endpoint response","body":"<p>By providing a bean implementing <code>HealthIndicator</code>, you contribute a <em>custom</em> health indicator, rather than overriding some default. The base <code>/actuator/health</code> then returns an aggregate over all registered beans, including yours.</p>\n<p>Try naming your bean <code>CustomHealthIndicator</code> and you should be able to see your detail under <code>/actuator/health/custom</code>.</p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693121953,"creation_date":1693113184,"question_id":76985790,"body_markdown":"I am trying to add custom functionality to health check endpoint. \r\nCreated class according to\r\n[this][1]  post : \r\n\r\n```\r\n@Component\r\npublic class CustomHealthCheck extends AbstractHealthIndicator {\r\n\t@Override\r\n\tprotected void doHealthCheck(Health.Builder builder) throws Exception {\r\n\t\tboolean someValue = true;\r\n\t\tif (someValue) {\r\n\t\t\tbuilder.withDetail(&quot;MyCustomField&quot;, &quot;MyValue&quot;);\r\n\t\t\tbuilder.up();\r\n\t\t} else {\r\n\t\t\tbuilder.down();\r\n\t\t}\r\n\t}\r\n} \r\n```\r\nBut when accessing to health endpoint via postman or via browser\r\n(&lt;mylocalurl&gt;/actuator/health)\r\nI got response \r\n```\r\n{\r\n\t&quot;status&quot;: &quot;UP&quot;\r\n} \r\n```\r\ni.e. custom field was not added to the response \r\nI also see in debugger , that doHealthCheck method of CustomHealthCheck was executed \r\n\r\nHere are relevant definitions from application.properties :\r\n```\r\nmanagement.endpoints.enabled-by-default=true\r\nmanagement.endpoint.health.enabled=true\r\nmanagement.endpoint.info.enabled=true\r\nmanagement.endpoints.web.exposure.include=health,info\r\n```\r\nIs there something missing in the code or definitions ? Thanks in advance  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44849568/how-to-add-a-custom-health-check-in-spring-boot-health","title":"Spring Boot app : adding values to health endpoint response","body":"<p>I am trying to add custom functionality to health check endpoint.\nCreated class according to\n<a href=\"https://stackoverflow.com/questions/44849568/how-to-add-a-custom-health-check-in-spring-boot-health\">this</a>  post :</p>\n<pre><code>@Component\npublic class CustomHealthCheck extends AbstractHealthIndicator {\n    @Override\n    protected void doHealthCheck(Health.Builder builder) throws Exception {\n        boolean someValue = true;\n        if (someValue) {\n            builder.withDetail(&quot;MyCustomField&quot;, &quot;MyValue&quot;);\n            builder.up();\n        } else {\n            builder.down();\n        }\n    }\n} \n</code></pre>\n<p>But when accessing to health endpoint via postman or via browser\n(/actuator/health)\nI got response</p>\n<pre><code>{\n    &quot;status&quot;: &quot;UP&quot;\n} \n</code></pre>\n<p>i.e. custom field was not added to the response\nI also see in debugger , that doHealthCheck method of CustomHealthCheck was executed</p>\n<p>Here are relevant definitions from application.properties :</p>\n<pre><code>management.endpoints.enabled-by-default=true\nmanagement.endpoint.health.enabled=true\nmanagement.endpoint.info.enabled=true\nmanagement.endpoints.web.exposure.include=health,info\n</code></pre>\n<p>Is there something missing in the code or definitions ? Thanks in advance</p>\n"},{"tags":["java","android","user-interface"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693122658,"post_id":76986088,"comment_id":135716429,"body_markdown":"On what are you displaying your text?","body":"On what are you displaying your text?"},{"owner":{"account_id":28507881,"reputation":84,"user_id":21818286,"display_name":"umar mnaq"},"score":0,"creation_date":1693123033,"post_id":76986088,"comment_id":135716463,"body_markdown":"@blackapps In a TextView","body":"@blackapps In a TextView"}],"owner":{"account_id":28507881,"reputation":84,"user_id":21818286,"display_name":"umar mnaq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693121532,"creation_date":1693121532,"question_id":76986088,"body_markdown":"I want to make a text reader app. I have a paragraph and I want to play the audio that corresponds to the sentece that the user click on. How can I find out which sentence the user clicks on?\r\n\r\n\r\n```java\r\n    private void init() {\r\n        String definition = &quot;Oh My God What Are You Doing Here My Extremely Nice Friend Who Lives In Timbuktu&quot;.trim();\r\n        TextView definitionView = (TextView) findViewById(R.id.text);\r\n        definitionView.setMovementMethod(LinkMovementMethod.getInstance());\r\n        definitionView.setText(definition, TextView.BufferType.SPANNABLE);\r\n        Spannable spans = (Spannable) definitionView.getText();\r\n        BreakIterator iterator = BreakIterator.getWordInstance(Locale.US);\r\n        iterator.setText(definition);\r\n        int start = iterator.first();\r\n        for (int end = iterator.next(); end != BreakIterator.DONE; start = end, end = iterator\r\n                .next()) {\r\n            String possibleWord = definition.substring(start, end);\r\n            if (Character.isLetterOrDigit(possibleWord.charAt(0))) {\r\n                ClickableSpan clickSpan = getClickableSpan(possibleWord);\r\n                spans.setSpan(clickSpan, start, end,\r\n                        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            }\r\n        }\r\n    }\r\n\r\n    private ClickableSpan getClickableSpan(final String word) {\r\n        return new ClickableSpan() {\r\n            final String mWord;\r\n            {\r\n                mWord = word;\r\n            }\r\n\r\n            @Override\r\n            public void onClick(View widget) {\r\n                Log.d(&quot;tapped on:&quot;, mWord);\r\n                Toast.makeText(widget.getContext(), mWord, Toast.LENGTH_SHORT)\r\n                        .show();\r\n            }\r\n\r\n            public void updateDrawState(TextPaint ds) {\r\n                super.updateDrawState(ds);\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\nThis is what I have so far, but it only checks for words not sentences.","title":"Find which sentence the user clicks on in android","body":"<p>I want to make a text reader app. I have a paragraph and I want to play the audio that corresponds to the sentece that the user click on. How can I find out which sentence the user clicks on?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void init() {\n        String definition = &quot;Oh My God What Are You Doing Here My Extremely Nice Friend Who Lives In Timbuktu&quot;.trim();\n        TextView definitionView = (TextView) findViewById(R.id.text);\n        definitionView.setMovementMethod(LinkMovementMethod.getInstance());\n        definitionView.setText(definition, TextView.BufferType.SPANNABLE);\n        Spannable spans = (Spannable) definitionView.getText();\n        BreakIterator iterator = BreakIterator.getWordInstance(Locale.US);\n        iterator.setText(definition);\n        int start = iterator.first();\n        for (int end = iterator.next(); end != BreakIterator.DONE; start = end, end = iterator\n                .next()) {\n            String possibleWord = definition.substring(start, end);\n            if (Character.isLetterOrDigit(possibleWord.charAt(0))) {\n                ClickableSpan clickSpan = getClickableSpan(possibleWord);\n                spans.setSpan(clickSpan, start, end,\n                        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n            }\n        }\n    }\n\n    private ClickableSpan getClickableSpan(final String word) {\n        return new ClickableSpan() {\n            final String mWord;\n            {\n                mWord = word;\n            }\n\n            @Override\n            public void onClick(View widget) {\n                Log.d(&quot;tapped on:&quot;, mWord);\n                Toast.makeText(widget.getContext(), mWord, Toast.LENGTH_SHORT)\n                        .show();\n            }\n\n            public void updateDrawState(TextPaint ds) {\n                super.updateDrawState(ds);\n            }\n        };\n    }\n</code></pre>\n<p>This is what I have so far, but it only checks for words not sentences.</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1629482081,"creation_date":1629482081,"answer_id":68866322,"question_id":68865964,"body_markdown":"As mentioned by @vaibhavsahu in the comments you can create user defined snippets in VSCode: https://code.visualstudio.com/docs/editor/userdefinedsnippets\r\n\r\nHere&#39;s a relevant excerpt from that document which shows where to locate the user defined snippets file:\r\n\r\n&gt;You can easily define your own snippets without any extension. To create or edit your own snippets, select User Snippets under File &gt; Preferences (Code &gt; Preferences on macOS), and then select the language (by language identifier) for which the snippets should appear, or the New Global Snippets file option if they should appear for all languages. VS Code manages the creation and refreshing of the underlying snippets file(s) for you.\r\n\r\nSo in your case you&#39;d go to File (or Code on macOS) &gt; Preferences &gt; User Defined Snippets and then type in Java, this should open a java.json file (which contains an example user defined snippet commented out).\r\n\r\nI think this snippet would do it for what you&#39;re trying to accomplish:\r\n\r\n    &quot;System.out.println(placeholder)&quot;: {\r\n\t\t&quot;prefix&quot;: &quot;sysout&quot;,\r\n\t\t&quot;body&quot; : [&quot;System.out.println(${1:string})&quot;],\r\n\t\t&quot;description&quot; : &quot;System out println with placeholder in parens&quot;\r\n\t}\r\n\r\nThen when you start typing `sysout` in a .java file IntelliSense should show the recommendation for the code snippet, when you enter enter it should be substituted in with your placeholder in the parens.\r\n\r\n\r\nEdit:\r\n\r\nThe `System.out.println(placeholder)` from the java.json file is just what displays in the IntelliSense dropdown, you could make it `System print` or whatever you&#39;d like so that you&#39;ll recognize it. The actual code which gets substituted is in the &quot;body&quot;\r\n","title":"Create a shortcut for system.out.println in visual studio code","body":"<p>As mentioned by @vaibhavsahu in the comments you can create user defined snippets in VSCode: <a href=\"https://code.visualstudio.com/docs/editor/userdefinedsnippets\" rel=\"noreferrer\">https://code.visualstudio.com/docs/editor/userdefinedsnippets</a></p>\n<p>Here's a relevant excerpt from that document which shows where to locate the user defined snippets file:</p>\n<blockquote>\n<p>You can easily define your own snippets without any extension. To create or edit your own snippets, select User Snippets under File &gt; Preferences (Code &gt; Preferences on macOS), and then select the language (by language identifier) for which the snippets should appear, or the New Global Snippets file option if they should appear for all languages. VS Code manages the creation and refreshing of the underlying snippets file(s) for you.</p>\n</blockquote>\n<p>So in your case you'd go to File (or Code on macOS) &gt; Preferences &gt; User Defined Snippets and then type in Java, this should open a java.json file (which contains an example user defined snippet commented out).</p>\n<p>I think this snippet would do it for what you're trying to accomplish:</p>\n<pre><code>&quot;System.out.println(placeholder)&quot;: {\n    &quot;prefix&quot;: &quot;sysout&quot;,\n    &quot;body&quot; : [&quot;System.out.println(${1:string})&quot;],\n    &quot;description&quot; : &quot;System out println with placeholder in parens&quot;\n}\n</code></pre>\n<p>Then when you start typing <code>sysout</code> in a .java file IntelliSense should show the recommendation for the code snippet, when you enter enter it should be substituted in with your placeholder in the parens.</p>\n<p>Edit:</p>\n<p>The <code>System.out.println(placeholder)</code> from the java.json file is just what displays in the IntelliSense dropdown, you could make it <code>System print</code> or whatever you'd like so that you'll recognize it. The actual code which gets substituted is in the &quot;body&quot;</p>\n"},{"comments":[{"owner":{"account_id":1134177,"reputation":2143,"user_id":1119602,"accept_rate":70,"display_name":"Winand"},"score":0,"creation_date":1640761510,"post_id":68900904,"comment_id":124651048,"body_markdown":"`&gt;Insert Snippet` command doesn&#39;t show these ones. Is there a way to see a list of all snippets?","body":"<code>&gt;Insert Snippet</code> command doesn&#39;t show these ones. Is there a way to see a list of all snippets?"},{"owner":{"account_id":1134177,"reputation":2143,"user_id":1119602,"accept_rate":70,"display_name":"Winand"},"score":0,"creation_date":1640762327,"post_id":68900904,"comment_id":124651217,"body_markdown":"(Upd.) Snippets from `server.json` are not displayed in `Insert Snippet` list. https://github.com/redhat-developer/vscode-java/tree/master/snippets","body":"(Upd.) Snippets from <code>server.json</code> are not displayed in <code>Insert Snippet</code> list. <a href=\"https://github.com/redhat-developer/vscode-java/tree/master/snippets\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/tree/master/snippets</a>"},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1640852174,"post_id":68900904,"comment_id":124674073,"body_markdown":"The server snippet won&#39;t display until the server is ready. (when the thumb-up appear at the right bottom corner)","body":"The server snippet won&#39;t display until the server is ready. (when the thumb-up appear at the right bottom corner)"},{"owner":{"account_id":1134177,"reputation":2143,"user_id":1119602,"accept_rate":70,"display_name":"Winand"},"score":0,"creation_date":1640870048,"post_id":68900904,"comment_id":124679218,"body_markdown":"There&#39;s a thumb-up symbol and I can use all these snippets, but they are not displayed in the list of &quot;&gt;Insert Snippet&quot; command&#129335; (side note: I use dev container for Java development)","body":"There&#39;s a thumb-up symbol and I can use all these snippets, but they are not displayed in the list of &quot;&gt;Insert Snippet&quot; command🤷 (side note: I use dev container for Java development)"},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":1,"creation_date":1641009170,"post_id":68900904,"comment_id":124707190,"body_markdown":"Ah, I see. This is because the snippets in the screenshot above are calculated at the server side - having the context information. While the ones in &quot;&gt; Insert Snippet&quot; command list are &quot;static&quot; snippets. This is a good point that we can improve in this area.","body":"Ah, I see. This is because the snippets in the screenshot above are calculated at the server side - having the context information. While the ones in &quot;&gt; Insert Snippet&quot; command list are &quot;static&quot; snippets. This is a good point that we can improve in this area."}],"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1629770267,"creation_date":1629770267,"answer_id":68900904,"question_id":68865964,"body_markdown":"There is no need to define the snippet yourself. You can install https://marketplace.visualstudio.com/items?itemName=redhat.java, which contains the predefined snippet for your case (and more than that), here are some screenshot:\r\n\r\nsysout:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nsyserr:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nand even systrace:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oPJb8.png\r\n  [2]: https://i.stack.imgur.com/serOt.png\r\n  [3]: https://i.stack.imgur.com/kvNYe.png\r\n\r\n&gt; If you want to developing your Java application in VS Code, you can also install https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack, which provides debugging, testing, project managing capabilities to you.","title":"Create a shortcut for system.out.println in visual studio code","body":"<p>There is no need to define the snippet yourself. You can install <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"noreferrer\">https://marketplace.visualstudio.com/items?itemName=redhat.java</a>, which contains the predefined snippet for your case (and more than that), here are some screenshot:</p>\n<p>sysout:</p>\n<p><a href=\"https://i.stack.imgur.com/oPJb8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oPJb8.png\" alt=\"enter image description here\" /></a></p>\n<p>syserr:</p>\n<p><a href=\"https://i.stack.imgur.com/serOt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/serOt.png\" alt=\"enter image description here\" /></a></p>\n<p>and even systrace:</p>\n<p><a href=\"https://i.stack.imgur.com/kvNYe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kvNYe.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>If you want to developing your Java application in VS Code, you can also install <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"noreferrer\">https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack</a>, which provides debugging, testing, project managing capabilities to you.</p>\n</blockquote>\n"}],"owner":{"account_id":17824321,"reputation":618,"user_id":12945919,"display_name":"Mayank Kumar Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26345,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":68900904,"answer_count":2,"score":7,"last_activity_date":1693117949,"creation_date":1629480132,"question_id":68865964,"body_markdown":"I am using visual studio code IDE for my Java project and I want to create a shortcut for: \r\n\r\n```java\r\nSystem.out.println();\r\n```\r\nThat is if I write `sysout` or something like that it will automatically changed to `System.out.println();` with cursor inside parenthesis.\r\n\r\nIs there any way it can be achieved in VScode?","title":"Create a shortcut for system.out.println in visual studio code","body":"<p>I am using visual studio code IDE for my Java project and I want to create a shortcut for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println();\n</code></pre>\n<p>That is if I write <code>sysout</code> or something like that it will automatically changed to <code>System.out.println();</code> with cursor inside parenthesis.</p>\n<p>Is there any way it can be achieved in VScode?</p>\n"},{"tags":["java","gradle","quarkus","publish-subscribe","dapr"],"answers":[{"tags":[],"owner":{"account_id":540886,"reputation":323,"user_id":909239,"display_name":"oMG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693116870,"creation_date":1693116870,"answer_id":76985904,"question_id":76984941,"body_markdown":"As it seems io.quarkiverse.dapr:quarkus-dapr example in github is updated to work with Quarkus 3+ but the latest version released is for version 2.\r\n\r\nThe only solutions I see is either work with an older Quarkus version or build the source code from github.","title":"Dapr - Quarkus Run/Build Error java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader","body":"<p>As it seems io.quarkiverse.dapr:quarkus-dapr example in github is updated to work with Quarkus 3+ but the latest version released is for version 2.</p>\n<p>The only solutions I see is either work with an older Quarkus version or build the source code from github.</p>\n"}],"owner":{"account_id":540886,"reputation":323,"user_id":909239,"display_name":"oMG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693116870,"creation_date":1693086069,"question_id":76984941,"body_markdown":"I&#39;m trying to build a very simple Pub/Sub demo based on [this][1] using Dapr &amp; Quarkus &amp; Gradle and I&#39;m facing this error:\r\n\r\n    [error]: Build step io.quarkiverse.dapr.deployment.DaprProcessor#vertxProviders threw an exception: java.lang.NoClassDefFoundError: javax/ws/rs/ext/MessageBodyReader\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\r\n\tat io.quarkiverse.dapr.deployment.DaprProcessor.vertxProviders(DaprProcessor.java:115)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:858)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:282)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1512)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n    Caused by: java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:516)\r\n    \tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\r\n    \t... 14 more\r\n\r\n when Quarkus tries to start or build.\r\n\r\nThis is my build.gradle file:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;io.quarkus&#39;\r\n    }\r\n    \r\n    wrapper{\r\n        gradleVersion = &#39;7.6&#39;\r\n        distributionUrl = distributionUrl.replace(&quot;bin&quot;, &quot;all&quot;)\r\n    }\r\n    \r\n    group &#39;com.test&#39;\r\n    version &#39;1.0.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n        jcenter()\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n        implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}&quot;)\r\n        implementation &#39;io.dapr:dapr-sdk:1.9.0&#39;\r\n        implementation &#39;io.dapr:dapr-sdk-actors:1.9.0&#39;\r\n        implementation &#39;io.quarkiverse.dapr:quarkus-dapr:1.0.4&#39;\r\n        implementation &#39;io.quarkus:quarkus-resteasy-reactive-jackson&#39;\r\n        implementation &#39;io.quarkus:quarkus-arc&#39;\r\n    \r\n    \r\n    \r\n    //\t\timplementation &#39;io.quarkus:quarkus-resteasy-reactive&#39;\r\n    //\t\timplementation &#39;io.quarkus:quarkus-rest-client-reactive-jackson&#39;\r\n    \r\n        compileOnly &#39;org.projectlombok:lombok:1.18.28&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    \r\n        testCompileOnly &#39;org.projectlombok:lombok:1.18.28&#39;\r\n        testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    \r\n        testImplementation &#39;io.quarkus:quarkus-junit5&#39;\r\n        testImplementation &#39;io.rest-assured:rest-assured&#39;\r\n    }\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.VERSION_17\r\n        targetCompatibility = JavaVersion.VERSION_17\r\n    }\r\n    \r\n    compileJava {\r\n        options.encoding = &#39;UTF-8&#39;\r\n        options.compilerArgs &lt;&lt; &#39;-parameters&#39;\r\n    }\r\n    test {\r\n        systemProperty &quot;java.util.logging.manager&quot;, &quot;org.jboss.logmanager.LogManager&quot;\r\n    }\r\n    \r\n    compileTestJava {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n\r\ngradle.properties\r\n\r\n    #Gradle properties\r\n    quarkusPluginId=io.quarkus\r\n    quarkusPluginVersion=3.3.0\r\n    quarkusPlatformGroupId=io.quarkus.platform\r\n    quarkusPlatformArtifactId=quarkus-bom\r\n    quarkusPlatformVersion=3.3.0\r\n\r\nPubsubResource.java\r\n\r\n    package io.quarkiverse.dapr.demo;\r\n    \r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    import jakarta.enterprise.context.ApplicationScoped;\r\n    import jakarta.inject.Inject;\r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.POST;\r\n    import jakarta.ws.rs.Path;\r\n    \r\n    import io.dapr.Topic;\r\n    import io.dapr.client.domain.CloudEvent;\r\n    import io.quarkiverse.dapr.core.SyncDaprClient;\r\n    \r\n    @Path(&quot;/pubsub&quot;)\r\n    @ApplicationScoped\r\n    public class PubsubResource {\r\n        private final AtomicInteger counter = new AtomicInteger(1);\r\n    \r\n        @Inject\r\n        SyncDaprClient dapr;\r\n    \r\n        @GET\r\n        public String hello() {\r\n            return &quot;Hello, this is quarkus-dapr demo app1&quot;;\r\n        }\r\n    \r\n        @GET\r\n        @Path(&quot;/trigger/topic1&quot;)\r\n        public String triggerSendEvent2Topic1() {\r\n            int content = counter.getAndIncrement();\r\n            dapr.publishEvent(&quot;topic1&quot;, content);\r\n            System.out.println(&quot;App1 succeeds to send event to topic1 with content=&quot; + content);\r\n    \r\n            return &quot;App1 succeeds to send event to topic1 with content=&quot; + content;\r\n        }\r\n    \r\n        @POST\r\n        @Path(&quot;/topic2&quot;)\r\n        @Topic(name = &quot;topic2&quot;)\r\n        public String eventOnTopic2(String content) {\r\n            System.out.println(&quot;App1 received event from topic2: content=&quot; + content);\r\n    \r\n            return &quot;App1 received event from topic2&quot;;\r\n        }\r\n    \r\n        @POST\r\n        @Path(&quot;/topic3&quot;)\r\n        @Topic(name = &quot;topic3&quot;)\r\n        public String eventOnTopic3(CloudEvent&lt;String&gt; event) {\r\n            String content = event.getData();\r\n            System.out.println(&quot;App1 received event from topic3: content=&quot; + content);\r\n    \r\n            return &quot;App1 received event from topic3&quot;;\r\n        }\r\n    \r\n        @POST\r\n        @Path(&quot;/topic4&quot;)\r\n        @Topic(name = &quot;topic4&quot;)\r\n        public String eventOnTopic4(CloudEvent&lt;TestData&gt; event) {\r\n            TestData testData = event.getData();\r\n            String content = testData.getContent();\r\n            System.out.println(&quot;App1 received event from topic4: content=&quot; + content);\r\n    \r\n            return &quot;App1 received event from topic4&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nThe issue seems to be with the **io.quarkiverse.dapr:quarkus-dapr** import and I&#39;m not sure if I&#39;m missing another import, a configuration or there is a bug with it.\r\n\r\nAny help will be appreciated :-)\r\n \r\n  [1]: https://github.com/quarkiverse/quarkus-dapr/tree/main/demo\r\n\r\n\r\n","title":"Dapr - Quarkus Run/Build Error java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader","body":"<p>I'm trying to build a very simple Pub/Sub demo based on <a href=\"https://github.com/quarkiverse/quarkus-dapr/tree/main/demo\" rel=\"nofollow noreferrer\">this</a> using Dapr &amp; Quarkus &amp; Gradle and I'm facing this error:</p>\n<pre><code>[error]: Build step io.quarkiverse.dapr.deployment.DaprProcessor#vertxProviders threw an exception: java.lang.NoClassDefFoundError: javax/ws/rs/ext/MessageBodyReader\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\nat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\nat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\nat io.quarkiverse.dapr.deployment.DaprProcessor.vertxProviders(DaprProcessor.java:115)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:577)\nat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:858)\nat io.quarkus.builder.BuildContext.run(BuildContext.java:282)\nat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\nat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1512)\nat java.base/java.lang.Thread.run(Thread.java:833)\nat org.jboss.threads.JBossThread.run(JBossThread.java:501)\nCaused by: java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:516)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\n    ... 14 more\n</code></pre>\n<p>when Quarkus tries to start or build.</p>\n<p>This is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'io.quarkus'\n}\n\nwrapper{\n    gradleVersion = '7.6'\n    distributionUrl = distributionUrl.replace(&quot;bin&quot;, &quot;all&quot;)\n}\n\ngroup 'com.test'\nversion '1.0.0-SNAPSHOT'\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n    jcenter()\n}\n\n\ndependencies {\n    implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}&quot;)\n    implementation 'io.dapr:dapr-sdk:1.9.0'\n    implementation 'io.dapr:dapr-sdk-actors:1.9.0'\n    implementation 'io.quarkiverse.dapr:quarkus-dapr:1.0.4'\n    implementation 'io.quarkus:quarkus-resteasy-reactive-jackson'\n    implementation 'io.quarkus:quarkus-arc'\n\n\n\n//      implementation 'io.quarkus:quarkus-resteasy-reactive'\n//      implementation 'io.quarkus:quarkus-rest-client-reactive-jackson'\n\n    compileOnly 'org.projectlombok:lombok:1.18.28'\n    annotationProcessor 'org.projectlombok:lombok:1.18.28'\n\n    testCompileOnly 'org.projectlombok:lombok:1.18.28'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.28'\n\n    testImplementation 'io.quarkus:quarkus-junit5'\n    testImplementation 'io.rest-assured:rest-assured'\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\ncompileJava {\n    options.encoding = 'UTF-8'\n    options.compilerArgs &lt;&lt; '-parameters'\n}\ntest {\n    systemProperty &quot;java.util.logging.manager&quot;, &quot;org.jboss.logmanager.LogManager&quot;\n}\n\ncompileTestJava {\n    options.encoding = 'UTF-8'\n}\n</code></pre>\n<p>gradle.properties</p>\n<pre><code>#Gradle properties\nquarkusPluginId=io.quarkus\nquarkusPluginVersion=3.3.0\nquarkusPlatformGroupId=io.quarkus.platform\nquarkusPlatformArtifactId=quarkus-bom\nquarkusPlatformVersion=3.3.0\n</code></pre>\n<p>PubsubResource.java</p>\n<pre><code>package io.quarkiverse.dapr.demo;\n\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport jakarta.enterprise.context.ApplicationScoped;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.POST;\nimport jakarta.ws.rs.Path;\n\nimport io.dapr.Topic;\nimport io.dapr.client.domain.CloudEvent;\nimport io.quarkiverse.dapr.core.SyncDaprClient;\n\n@Path(&quot;/pubsub&quot;)\n@ApplicationScoped\npublic class PubsubResource {\n    private final AtomicInteger counter = new AtomicInteger(1);\n\n    @Inject\n    SyncDaprClient dapr;\n\n    @GET\n    public String hello() {\n        return &quot;Hello, this is quarkus-dapr demo app1&quot;;\n    }\n\n    @GET\n    @Path(&quot;/trigger/topic1&quot;)\n    public String triggerSendEvent2Topic1() {\n        int content = counter.getAndIncrement();\n        dapr.publishEvent(&quot;topic1&quot;, content);\n        System.out.println(&quot;App1 succeeds to send event to topic1 with content=&quot; + content);\n\n        return &quot;App1 succeeds to send event to topic1 with content=&quot; + content;\n    }\n\n    @POST\n    @Path(&quot;/topic2&quot;)\n    @Topic(name = &quot;topic2&quot;)\n    public String eventOnTopic2(String content) {\n        System.out.println(&quot;App1 received event from topic2: content=&quot; + content);\n\n        return &quot;App1 received event from topic2&quot;;\n    }\n\n    @POST\n    @Path(&quot;/topic3&quot;)\n    @Topic(name = &quot;topic3&quot;)\n    public String eventOnTopic3(CloudEvent&lt;String&gt; event) {\n        String content = event.getData();\n        System.out.println(&quot;App1 received event from topic3: content=&quot; + content);\n\n        return &quot;App1 received event from topic3&quot;;\n    }\n\n    @POST\n    @Path(&quot;/topic4&quot;)\n    @Topic(name = &quot;topic4&quot;)\n    public String eventOnTopic4(CloudEvent&lt;TestData&gt; event) {\n        TestData testData = event.getData();\n        String content = testData.getContent();\n        System.out.println(&quot;App1 received event from topic4: content=&quot; + content);\n\n        return &quot;App1 received event from topic4&quot;;\n    }\n\n}\n</code></pre>\n<p>The issue seems to be with the <strong>io.quarkiverse.dapr:quarkus-dapr</strong> import and I'm not sure if I'm missing another import, a configuration or there is a bug with it.</p>\n<p>Any help will be appreciated :-)</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":957496,"reputation":7121,"user_id":982542,"accept_rate":80,"display_name":"ThanksForAllTheFish"},"score":71,"creation_date":1423045954,"post_id":28319064,"comment_id":44986916,"body_markdown":"The second one. A proper function should have no side effects, in your first implementation you are modifying the external world.","body":"The second one. A proper function should have no side effects, in your first implementation you are modifying the external world."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":47,"creation_date":1423046420,"post_id":28319064,"comment_id":44987194,"body_markdown":"just a matter of style, but `elt -&gt; elt != null` can be replaced with `Objects::nonNull`","body":"just a matter of style, but <code>elt -&gt; elt != null</code> can be replaced with <code>Objects::nonNull</code>"},{"owner":{"account_id":5505924,"reputation":956,"user_id":4373784,"accept_rate":62,"display_name":"Szymon Roziewski"},"score":0,"creation_date":1423046767,"post_id":28319064,"comment_id":44987424,"body_markdown":"You can use the parallelStream `myFinalList = myListToParse.parallelStream().filter(elt -&gt; elt != null).map(elt -&gt; doSomething(elt)).collect(Collectors.toList());` to boost performance","body":"You can use the parallelStream <code>myFinalList = myListToParse.parallelStream().filter(elt -&gt; elt != null).map(elt -&gt; doSomething(elt)).collect(Collectors.toList());</code> to boost performance"},{"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"score":2,"creation_date":1423046868,"post_id":28319064,"comment_id":44987473,"body_markdown":"@the8472 Even better would be to make sure there are no null values in the collection in the first place, and use `Optional&lt;T&gt;` instead in combination with `flatMap`.","body":"@the8472 Even better would be to make sure there are no null values in the collection in the first place, and use <code>Optional&lt;T&gt;</code> instead in combination with <code>flatMap</code>."},{"owner":{"display_name":"user3248346"},"score":2,"creation_date":1423046886,"post_id":28319064,"comment_id":44987485,"body_markdown":"@SzymonRoziewski, not quite. For something as trivial as this, the work needed to setup the parallelstream under the hood will make using this construct mute.","body":"@SzymonRoziewski, not quite. For something as trivial as this, the work needed to setup the parallelstream under the hood will make using this construct mute."},{"owner":{"account_id":5505924,"reputation":956,"user_id":4373784,"accept_rate":62,"display_name":"Szymon Roziewski"},"score":1,"creation_date":1423047087,"post_id":28319064,"comment_id":44987608,"body_markdown":"@I.K. yes, that&#39;s true, not everytime parallelization is a good choice. But if your data is quite big, you can think about it.","body":"@I.K. yes, that&#39;s true, not everytime parallelization is a good choice. But if your data is quite big, you can think about it."},{"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"score":2,"creation_date":1423050944,"post_id":28319064,"comment_id":44989707,"body_markdown":"Note that you can write `.map(this::doSomething)` assuming that `doSomething` is a non-static method.  If it&#39;s static you can replace `this` with the class name.","body":"Note that you can write <code>.map(this::doSomething)</code> assuming that <code>doSomething</code> is a non-static method.  If it&#39;s static you can replace <code>this</code> with the class name."},{"owner":{"account_id":5791518,"reputation":757,"user_id":4568811,"display_name":"harshtuna"},"score":0,"creation_date":1426125595,"post_id":28319064,"comment_id":46249095,"body_markdown":"there&#39;s a third way (using [toArray](http://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method)) - will add below for the sake of completeness, but the method 2 is preferrable","body":"there&#39;s a third way (using <a href=\"http://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method\">toArray</a>) - will add below for the sake of completeness, but the method 2 is preferrable"},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1485386464,"post_id":28319064,"comment_id":70910687,"body_markdown":"why not `.filter().collect()`??","body":"why not <code>.filter().collect()</code>??"},{"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"score":0,"creation_date":1667154811,"post_id":28319064,"comment_id":131098537,"body_markdown":"With Java 17 `map(elt -&gt; doSomething(elt)).collect(Collectors.toList());` can be `map(elt -&gt; doSomething(elt)).toList()); ` The Java 17 version has the added benefit of returning an immutable list.","body":"With Java 17 <code>map(elt -&gt; doSomething(elt)).collect(Collectors.toList());</code> can be <code>map(elt -&gt; doSomething(elt)).toList()); </code> The Java 17 version has the added benefit of returning an immutable list."}],"answers":[{"comments":[{"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"score":0,"creation_date":1423048125,"post_id":28319148,"comment_id":44988202,"body_markdown":"I&#39;m not sure this is correct advice: he could use `forEachOrdered` instead of `forEach` if he wanted to use a parallel stream but still preserve the order.  But as the documentation for `forEach` states, preserving the encounter order sacrifices the benefit of parallelism.  I suspect that is also the case with `toList` then.","body":"I&#39;m not sure this is correct advice: he could use <code>forEachOrdered</code> instead of <code>forEach</code> if he wanted to use a parallel stream but still preserve the order.  But as the documentation for <code>forEach</code> states, preserving the encounter order sacrifices the benefit of parallelism.  I suspect that is also the case with <code>toList</code> then."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1611941885,"post_id":28319148,"comment_id":116620981,"body_markdown":"OK.  According to https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html `the collect method is designed to perform the most common stream operations that have side effects in a parallel-safe manner. Operations like forEach and peek ... if you use one of these operations with a parallel stream, then the Java runtime may invoke the lambda expression that you specified as its parameter concurrently from multiple threads. ` So it carefully has some things atomic and some not. Weird.  Assuming that is the case, option 1, if made parallel, might have contention issues...","body":"OK.  According to <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/collections/streams/&hellip;</a> <code>the collect method is designed to perform the most common stream operations that have side effects in a parallel-safe manner. Operations like forEach and peek ... if you use one of these operations with a parallel stream, then the Java runtime may invoke the lambda expression that you specified as its parameter concurrently from multiple threads. </code> So it carefully has some things atomic and some not. Weird.  Assuming that is the case, option 1, if made parallel, might have contention issues..."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1423046095,"creation_date":1423046095,"answer_id":28319148,"question_id":28319064,"body_markdown":"I prefer the second way.\r\n\r\nWhen you use the first way, if you decide to use a parallel stream to improve performance, you&#39;ll have no control over the order in which the elements will be added to the output list by `forEach`. \r\n\r\nWhen you use `toList`, the Streams API will preserve the order even if you use a parallel stream.","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>I prefer the second way.</p>\n\n<p>When you use the first way, if you decide to use a parallel stream to improve performance, you'll have no control over the order in which the elements will be added to the output list by <code>forEach</code>. </p>\n\n<p>When you use <code>toList</code>, the Streams API will preserve the order even if you use a parallel stream.</p>\n"},{"tags":[],"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"comment_count":0,"down_vote_count":0,"up_vote_count":220,"is_accepted":true,"score":220,"last_activity_date":1620872309,"creation_date":1423046290,"answer_id":28319221,"question_id":28319064,"body_markdown":"Don&#39;t worry about any performance differences, they&#39;re going to be minimal in this case normally.\r\n\r\nMethod 2 is preferable because\r\n\r\n1. it doesn&#39;t require mutating a collection that exists outside the lambda expression.\r\n\r\n2. it&#39;s more readable because the different steps that are performed in the collection pipeline are written sequentially: first a filter operation, then a map operation, then collecting the result (for more info on the benefits of collection pipelines, see Martin Fowler&#39;s [excellent article][1].)\r\n\r\n3. you can easily change the way values are collected by replacing the `Collector` that is used.  In some cases you may need to write your own `Collector`, but then the benefit is that you can easily reuse that.\r\n\r\n\r\n  [1]: http://martinfowler.com/articles/collection-pipeline/","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>Don't worry about any performance differences, they're going to be minimal in this case normally.</p>\n<p>Method 2 is preferable because</p>\n<ol>\n<li><p>it doesn't require mutating a collection that exists outside the lambda expression.</p>\n</li>\n<li><p>it's more readable because the different steps that are performed in the collection pipeline are written sequentially: first a filter operation, then a map operation, then collecting the result (for more info on the benefits of collection pipelines, see Martin Fowler's <a href=\"http://martinfowler.com/articles/collection-pipeline/\" rel=\"noreferrer\">excellent article</a>.)</p>\n</li>\n<li><p>you can easily change the way values are collected by replacing the <code>Collector</code> that is used.  In some cases you may need to write your own <code>Collector</code>, but then the benefit is that you can easily reuse that.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1844613,"reputation":2082,"user_id":1673243,"display_name":"Giuseppe Bertone"},"score":1,"creation_date":1453572043,"post_id":28321016,"comment_id":57663951,"body_markdown":"About performance, in your case &quot;map&quot; really wins over &quot;forEach&quot; if you use parallelStreams. My benchmaks in milliseconds: SO28319064.forEach: 187,310 &#177; 1,768  ms/op -- SO28319064.map: 189,180 &#177; 1,692  ms/op --SO28319064.mapParallelStream: 55,577 &#177; 0,782  ms/op","body":"About performance, in your case &quot;map&quot; really wins over &quot;forEach&quot; if you use parallelStreams. My benchmaks in milliseconds: SO28319064.forEach: 187,310 &#177; 1,768  ms/op -- SO28319064.map: 189,180 &#177; 1,692  ms/op --SO28319064.mapParallelStream: 55,577 &#177; 0,782  ms/op"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1453602532,"post_id":28321016,"comment_id":57672945,"body_markdown":"@GiuseppeBertone, it&#39;s up to assylias, but to my opinion your edit contradicts the original author&#39;s intent. If you want to add your own answer, it&#39;s better to add it instead of editing the existing one so much. Also now the link to the microbenchmark is not relevant to the results.","body":"@GiuseppeBertone, it&#39;s up to assylias, but to my opinion your edit contradicts the original author&#39;s intent. If you want to add your own answer, it&#39;s better to add it instead of editing the existing one so much. Also now the link to the microbenchmark is not relevant to the results."}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":2,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1453575735,"creation_date":1423051755,"answer_id":28321016,"question_id":28319064,"body_markdown":"I agree with the existing answers that the second form is better because it does not have any side effects and is easier to parallelise (just use a parallel stream).\r\n\r\nPerformance wise, it appears they are equivalent until you start using parallel streams. In that case, **map** will perform really much better. See below the [micro benchmark][1] results:\r\n\r\n    Benchmark                         Mode  Samples    Score   Error  Units\r\n    SO28319064.forEach                avgt      100  187.310 &#177; 1.768  ms/op\r\n    SO28319064.map                    avgt      100  189.180 &#177; 1.692  ms/op\r\n    SO28319064.mapWithParallelStream  avgt      100   55,577 &#177; 0,782  ms/op\r\n\r\nYou can&#39;t boost the first example in the same manner because **forEach** is a terminal method - it returns void - so you are forced to use a stateful lambda. But [that is really a bad idea if you are using parallel streams][2].\r\n\r\nFinally note that your second snippet can be written in a sligthly more concise way with method references and static imports:\r\n\r\n    myFinalList = myListToParse.stream()\r\n        .filter(Objects::nonNull)\r\n        .map(this::doSomething)\r\n        .collect(toList()); \r\n\r\n\r\n  [1]: https://bitbucket.org/assylias/performance/src/master/src/main/java/com/assylias/performance/SO28319064.java\r\n  [2]: https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#stateful_lambda_expressions","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>I agree with the existing answers that the second form is better because it does not have any side effects and is easier to parallelise (just use a parallel stream).</p>\n\n<p>Performance wise, it appears they are equivalent until you start using parallel streams. In that case, <strong>map</strong> will perform really much better. See below the <a href=\"https://bitbucket.org/assylias/performance/src/master/src/main/java/com/assylias/performance/SO28319064.java\">micro benchmark</a> results:</p>\n\n<pre><code>Benchmark                         Mode  Samples    Score   Error  Units\nSO28319064.forEach                avgt      100  187.310 ± 1.768  ms/op\nSO28319064.map                    avgt      100  189.180 ± 1.692  ms/op\nSO28319064.mapWithParallelStream  avgt      100   55,577 ± 0,782  ms/op\n</code></pre>\n\n<p>You can't boost the first example in the same manner because <strong>forEach</strong> is a terminal method - it returns void - so you are forced to use a stateful lambda. But <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#stateful_lambda_expressions\">that is really a bad idea if you are using parallel streams</a>.</p>\n\n<p>Finally note that your second snippet can be written in a sligthly more concise way with method references and static imports:</p>\n\n<pre><code>myFinalList = myListToParse.stream()\n    .filter(Objects::nonNull)\n    .map(this::doSomething)\n    .collect(toList()); \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3248346"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423059587,"creation_date":1423059265,"answer_id":28323553,"question_id":28319064,"body_markdown":"One of the main benefits of using streams is that it gives the ability to process data in a declarative way, that is, using a functional style of programming. It also gives multi-threading capability for free meaning there is no need to write any extra multi-threaded code to make your stream concurrent.\r\n\r\nAssuming the reason you are exploring this style of programming is that you want to exploit these benefits then your first code sample is potentially not functional since the `foreach` method is classed as being terminal (meaning that it can produce side-effects).\r\n\r\nThe second way is preferred from functional programming point of view since the map function can accept stateless lambda functions. More explicitly, the lambda passed to the map function should be\r\n\r\n 1. Non-interfering, meaning that the function should not alter the source of the stream if it is non-concurrent (e.g. `ArrayList`).\r\n 2. Stateless to avoid unexpected results when doing parallel processing (caused by thread scheduling differences).\r\n\r\nAnother benefit with the second approach is if the stream is parallel and the collector is concurrent and unordered then these characteristics can provide useful hints to the reduction operation to do the collecting concurrently.","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>One of the main benefits of using streams is that it gives the ability to process data in a declarative way, that is, using a functional style of programming. It also gives multi-threading capability for free meaning there is no need to write any extra multi-threaded code to make your stream concurrent.</p>\n\n<p>Assuming the reason you are exploring this style of programming is that you want to exploit these benefits then your first code sample is potentially not functional since the <code>foreach</code> method is classed as being terminal (meaning that it can produce side-effects).</p>\n\n<p>The second way is preferred from functional programming point of view since the map function can accept stateless lambda functions. More explicitly, the lambda passed to the map function should be</p>\n\n<ol>\n<li>Non-interfering, meaning that the function should not alter the source of the stream if it is non-concurrent (e.g. <code>ArrayList</code>).</li>\n<li>Stateless to avoid unexpected results when doing parallel processing (caused by thread scheduling differences).</li>\n</ol>\n\n<p>Another benefit with the second approach is if the stream is parallel and the collector is concurrent and unordered then these characteristics can provide useful hints to the reduction operation to do the collecting concurrently.</p>\n"},{"comments":[{"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"score":0,"creation_date":1692645805,"post_id":28355204,"comment_id":135649277,"body_markdown":"While this seems correct and may be good advice, this does not answer the question asked, which is about transformation/map.","body":"While this seems correct and may be good advice, this does not answer the question asked, which is about transformation/map."},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":1,"creation_date":1692926591,"post_id":28355204,"comment_id":135694288,"body_markdown":"@PhilippeCloutier I edited my answer to use the doSomething() method that appears in the original question, to clarify that collectIf() does transform/map in addition to filtering.","body":"@PhilippeCloutier I edited my answer to use the doSomething() method that appears in the original question, to clarify that collectIf() does transform/map in addition to filtering."},{"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"score":0,"creation_date":1692985975,"post_id":28355204,"comment_id":135704880,"body_markdown":"Ah, I see now. I submitted an edit to clarify that this addresses the OP&#39;s specific problem.","body":"Ah, I see now. I submitted an edit to clarify that this addresses the OP&#39;s specific problem."}],"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1693116325,"creation_date":1423174917,"answer_id":28355204,"question_id":28319064,"body_markdown":"If you use [Eclipse Collections][1], there is indeed a third way to approach your specific example. [Eclipse Collections&#39; `collectIf()` method][2] allows a single call to deal with both filtering and transformation.\r\n\r\n```java\r\nmyFinalList = myListToParse.collectIf(\r\n    Objects::nonNull,\r\n    elt -&gt; doSomething(elt));\r\n```\r\n\r\nIt evaluates eagerly and should be a bit faster than using a `Stream`.\r\n\r\nEC&#39;s Collect pattern is [documented in its reference guide][3].\r\n\r\n**Note:** I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://eclipse.dev/collections/javadoc/11.1.0/org/eclipse/collections/api/RichIterable.html#collectIf(org.eclipse.collections.api.block.predicate.Predicate,org.eclipse.collections.api.block.function.Function)\r\n  [3]: https://github.com/eclipse/eclipse-collections/blob/master/docs/1-Iteration_Patterns.adoc#collect-pattern","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>If you use <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, there is indeed a third way to approach your specific example. <a href=\"https://eclipse.dev/collections/javadoc/11.1.0/org/eclipse/collections/api/RichIterable.html#collectIf(org.eclipse.collections.api.block.predicate.Predicate,org.eclipse.collections.api.block.function.Function)\" rel=\"nofollow noreferrer\">Eclipse Collections' <code>collectIf()</code> method</a> allows a single call to deal with both filtering and transformation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>myFinalList = myListToParse.collectIf(\n    Objects::nonNull,\n    elt -&gt; doSomething(elt));\n</code></pre>\n<p>It evaluates eagerly and should be a bit faster than using a <code>Stream</code>.</p>\n<p>EC's Collect pattern is <a href=\"https://github.com/eclipse/eclipse-collections/blob/master/docs/1-Iteration_Patterns.adoc#collect-pattern\" rel=\"nofollow noreferrer\">documented in its reference guide</a>.</p>\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":5791518,"reputation":757,"user_id":4568811,"display_name":"harshtuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426200056,"creation_date":1426126572,"answer_id":29000802,"question_id":28319064,"body_markdown":"There is a third option - using `stream().toArray()` - see comments under [why didn&#39;t stream have a toList method](https://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method). It turns out to be slower than forEach() or collect(), and less expressive. It might be optimised in later JDK builds, so adding it here just in case.\r\n\r\nassuming `List&lt;String&gt;`\r\n\r\n        myFinalList = Arrays.asList(\r\n                myListToParse.stream()\r\n                        .filter(Objects::nonNull)\r\n                        .map(this::doSomething)\r\n                        .toArray(String[]::new)\r\n        );\r\n\r\nwith a micro-micro benchmark, 1M entries, 20% nulls and simple transform in doSomething()\r\n\r\n    private LongSummaryStatistics benchmark(final String testName, final Runnable methodToTest, int samples) {\r\n        long[] timing = new long[samples];\r\n        for (int i = 0; i &lt; samples; i++) {\r\n            long start = System.currentTimeMillis();\r\n            methodToTest.run();\r\n            timing[i] = System.currentTimeMillis() - start;\r\n        }\r\n        final LongSummaryStatistics stats = Arrays.stream(timing).summaryStatistics();\r\n        System.out.println(testName + &quot;: &quot; + stats);\r\n        return stats;\r\n    }\r\n\r\nthe results are\r\n\r\nparallel:\r\n\r\n    toArray: LongSummaryStatistics{count=10, sum=3721, min=321, average=372,100000, max=535}\r\n    forEach: LongSummaryStatistics{count=10, sum=3502, min=249, average=350,200000, max=389}\r\n    collect: LongSummaryStatistics{count=10, sum=3325, min=265, average=332,500000, max=368}\r\n\r\nsequential:\r\n\r\n    toArray: LongSummaryStatistics{count=10, sum=5493, min=517, average=549,300000, max=569}\r\n    forEach: LongSummaryStatistics{count=10, sum=5316, min=427, average=531,600000, max=571}\r\n    collect: LongSummaryStatistics{count=10, sum=5380, min=444, average=538,000000, max=557}\r\n\r\nparallel without nulls and filter (so the stream is `SIZED`):\r\ntoArrays has the best performance in such case, and `.forEach()` fails with &quot;indexOutOfBounds&quot; on the recepient ArrayList, had to replace with `.forEachOrdered()`\r\n\r\n    toArray: LongSummaryStatistics{count=100, sum=75566, min=707, average=755,660000, max=1107}\r\n    forEach: LongSummaryStatistics{count=100, sum=115802, min=992, average=1158,020000, max=1254}\r\n    collect: LongSummaryStatistics{count=100, sum=88415, min=732, average=884,150000, max=1014}\r\n","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>There is a third option - using <code>stream().toArray()</code> - see comments under <a href=\"https://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method\">why didn't stream have a toList method</a>. It turns out to be slower than forEach() or collect(), and less expressive. It might be optimised in later JDK builds, so adding it here just in case.</p>\n\n<p>assuming <code>List&lt;String&gt;</code></p>\n\n<pre><code>    myFinalList = Arrays.asList(\n            myListToParse.stream()\n                    .filter(Objects::nonNull)\n                    .map(this::doSomething)\n                    .toArray(String[]::new)\n    );\n</code></pre>\n\n<p>with a micro-micro benchmark, 1M entries, 20% nulls and simple transform in doSomething()</p>\n\n<pre><code>private LongSummaryStatistics benchmark(final String testName, final Runnable methodToTest, int samples) {\n    long[] timing = new long[samples];\n    for (int i = 0; i &lt; samples; i++) {\n        long start = System.currentTimeMillis();\n        methodToTest.run();\n        timing[i] = System.currentTimeMillis() - start;\n    }\n    final LongSummaryStatistics stats = Arrays.stream(timing).summaryStatistics();\n    System.out.println(testName + \": \" + stats);\n    return stats;\n}\n</code></pre>\n\n<p>the results are</p>\n\n<p>parallel:</p>\n\n<pre><code>toArray: LongSummaryStatistics{count=10, sum=3721, min=321, average=372,100000, max=535}\nforEach: LongSummaryStatistics{count=10, sum=3502, min=249, average=350,200000, max=389}\ncollect: LongSummaryStatistics{count=10, sum=3325, min=265, average=332,500000, max=368}\n</code></pre>\n\n<p>sequential:</p>\n\n<pre><code>toArray: LongSummaryStatistics{count=10, sum=5493, min=517, average=549,300000, max=569}\nforEach: LongSummaryStatistics{count=10, sum=5316, min=427, average=531,600000, max=571}\ncollect: LongSummaryStatistics{count=10, sum=5380, min=444, average=538,000000, max=557}\n</code></pre>\n\n<p>parallel without nulls and filter (so the stream is <code>SIZED</code>):\ntoArrays has the best performance in such case, and <code>.forEach()</code> fails with \"indexOutOfBounds\" on the recepient ArrayList, had to replace with <code>.forEachOrdered()</code></p>\n\n<pre><code>toArray: LongSummaryStatistics{count=100, sum=75566, min=707, average=755,660000, max=1107}\nforEach: LongSummaryStatistics{count=100, sum=115802, min=992, average=1158,020000, max=1254}\ncollect: LongSummaryStatistics{count=100, sum=88415, min=732, average=884,150000, max=1014}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612993464,"creation_date":1459864565,"answer_id":36428452,"question_id":28319064,"body_markdown":"May be Method 3.\r\n\r\nI always prefer to keep logic separate.\r\n\r\n    Predicate&lt;Long&gt; greaterThan100 = new Predicate&lt;Long&gt;() {\r\n        @Override\r\n        public boolean test(Long currentParameter) {\r\n            return currentParameter &gt; 100;\r\n        }\r\n    };\r\n    \t\t\r\n    List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    List&lt;Long&gt; resultList = sourceLongList.parallelStream().filter(greaterThan100).collect(Collectors.toList());\r\n\r\n","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>May be Method 3.</p>\n<p>I always prefer to keep logic separate.</p>\n<pre><code>Predicate&lt;Long&gt; greaterThan100 = new Predicate&lt;Long&gt;() {\n    @Override\n    public boolean test(Long currentParameter) {\n        return currentParameter &gt; 100;\n    }\n};\n        \nList&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nList&lt;Long&gt; resultList = sourceLongList.parallelStream().filter(greaterThan100).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489161196,"creation_date":1489161196,"answer_id":42722504,"question_id":28319064,"body_markdown":"If using 3rd Pary Libaries is ok [cyclops-react](https://github.com/aol/cyclops-react) defines Lazy extended collections with this functionality built in. For example we could simply write\r\n\r\nListX myListToParse;\r\n\r\nListX myFinalList = myListToParse.filter(elt -&gt; elt != null)\r\n                                 .map(elt -&gt; doSomething(elt)); \r\n\r\nmyFinalList is not evaluated until first access (and there after the materialized list is cached and reused).\r\n\r\n[Disclosure I am the lead developer of cyclops-react]","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>If using 3rd Pary Libaries is ok <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow noreferrer\">cyclops-react</a> defines Lazy extended collections with this functionality built in. For example we could simply write</p>\n\n<p>ListX myListToParse;</p>\n\n<p>ListX myFinalList = myListToParse.filter(elt -> elt != null)\n                                 .map(elt -> doSomething(elt)); </p>\n\n<p>myFinalList is not evaluated until first access (and there after the materialized list is cached and reused).</p>\n\n<p>[Disclosure I am the lead developer of cyclops-react]</p>\n"}],"owner":{"account_id":3408319,"reputation":10093,"user_id":2858871,"accept_rate":79,"display_name":"Emilien Brigand"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239326,"favorite_count":0,"down_vote_count":1,"up_vote_count":255,"accepted_answer_id":28319221,"answer_count":8,"score":254,"last_activity_date":1693116325,"creation_date":1423045805,"question_id":28319064,"body_markdown":"I have a list, `myListToParse`, where I want to filter the elements and apply a method on each element, and add the result in another list, `myFinalList`.\r\n\r\nWith the `Stream` API (added in Java 8), I noticed that I can do it in 2 different ways. I would like to know the more efficient way between them and understand why one way is better than the other one. \r\n\r\nMethod 1:\r\n\r\n    myFinalList = new ArrayList&lt;&gt;();\r\n    myListToParse.stream()\r\n            .filter(elt -&gt; elt != null)\r\n            .forEach(elt -&gt; myFinalList.add(doSomething(elt)));\r\n\r\nMethod 2:\r\n\r\n    myFinalList = myListToParse.stream()\r\n            .filter(elt -&gt; elt != null)\r\n            .map(elt -&gt; doSomething(elt))\r\n            .collect(Collectors.toList()); \r\n\r\nI&#39;m open for any suggestion about a third way.","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>I have a list, <code>myListToParse</code>, where I want to filter the elements and apply a method on each element, and add the result in another list, <code>myFinalList</code>.</p>\n<p>With the <code>Stream</code> API (added in Java 8), I noticed that I can do it in 2 different ways. I would like to know the more efficient way between them and understand why one way is better than the other one.</p>\n<p>Method 1:</p>\n<pre><code>myFinalList = new ArrayList&lt;&gt;();\nmyListToParse.stream()\n        .filter(elt -&gt; elt != null)\n        .forEach(elt -&gt; myFinalList.add(doSomething(elt)));\n</code></pre>\n<p>Method 2:</p>\n<pre><code>myFinalList = myListToParse.stream()\n        .filter(elt -&gt; elt != null)\n        .map(elt -&gt; doSomething(elt))\n        .collect(Collectors.toList()); \n</code></pre>\n<p>I'm open for any suggestion about a third way.</p>\n"},{"tags":["java","unit-testing","amazon-web-services","mockito","verify"],"comments":[{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":2,"creation_date":1506522760,"post_id":46450522,"comment_id":79856799,"body_markdown":"you should not be mocking the class under test for sure. If there is something to mock here then that is the ObjectMapper","body":"you should not be mocking the class under test for sure. If there is something to mock here then that is the ObjectMapper"},{"owner":{"account_id":11866151,"reputation":759,"user_id":8683646,"accept_rate":0,"display_name":"D.Zet"},"score":0,"creation_date":1506523273,"post_id":46450522,"comment_id":79857186,"body_markdown":"So how can i use verify and call the method without kitchenservice instance?\n    Examples of correct verifications:\n        verify(mock).someMethod();\n        verify(mock, times(10)).someMethod();\n        verify(mock, atLeastOnce()).someMethod();","body":"So how can i use verify and call the method without kitchenservice instance?     Examples of correct verifications:         verify(mock).someMethod();         verify(mock, times(10)).someMethod();         verify(mock, atLeastOnce()).someMethod();"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1506523767,"post_id":46450522,"comment_id":79857568,"body_markdown":"Your test makes no sense. You&#39;re mocking what you&#39;re testing. So you&#39;re not executing any of your code. Only Mockito&#39;s code. It makes no sense to create a fake thing, call the fake thing methods, and verify that you have called the fake thing methods. The real code is never executed is all you&#39;re doing is using a fake thing. Mocking is useful when you want to test A, and A depends on B, and you use a fake B to test A. Read https://stackoverflow.com/a/28783849/571407 for a detailed explanation.","body":"Your test makes no sense. You&#39;re mocking what you&#39;re testing. So you&#39;re not executing any of your code. Only Mockito&#39;s code. It makes no sense to create a fake thing, call the fake thing methods, and verify that you have called the fake thing methods. The real code is never executed is all you&#39;re doing is using a fake thing. Mocking is useful when you want to test A, and A depends on B, and you use a fake B to test A. Read <a href=\"https://stackoverflow.com/a/28783849/571407\">stackoverflow.com/a/28783849/571407</a> for a detailed explanation."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1682958618,"post_id":46450522,"comment_id":134290490,"body_markdown":"You never do anything with `instance`, so there cannot be any calls to it. Also check https://stackoverflow.com/q/74027324/112968 for an in-depth discussion of common problems when using mocks","body":"You never do anything with <code>instance</code>, so there cannot be any calls to it. Also check <a href=\"https://stackoverflow.com/q/74027324/112968\">stackoverflow.com/q/74027324/112968</a> for an in-depth discussion of common problems when using mocks"}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506523733,"creation_date":1506523733,"answer_id":46450947,"question_id":46450522,"body_markdown":"What you should mock and verify is the `databaseController` dependency:\r\n\r\n    @Test\r\n    public void addProduct() throws Exception {\r\n    \r\n        KitchenService instance = new KitchenService(); // you should create the class under test\r\n    \r\n        DatabaseController controllerMock = mock(DatabaseController.class); // mock the controller\r\n    \r\n        instance.setController(controller); // inject the mock\r\n    \r\n        ...\r\n    \r\n        // Act\r\n        instance.addProduct(expectedProduct);\r\n    \r\n        // Assert\r\n        verify(controller).saveProduct(Mockito.eq(PRODUCT_TABLE), Mockito.any(Item.class));\r\n\r\n    }\r\n\r\nYou should verify that the database is called within the service.. checking that it was invoked with any `Item` object should be enough.\r\n","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>What you should mock and verify is the <code>databaseController</code> dependency:</p>\n\n<pre><code>@Test\npublic void addProduct() throws Exception {\n\n    KitchenService instance = new KitchenService(); // you should create the class under test\n\n    DatabaseController controllerMock = mock(DatabaseController.class); // mock the controller\n\n    instance.setController(controller); // inject the mock\n\n    ...\n\n    // Act\n    instance.addProduct(expectedProduct);\n\n    // Assert\n    verify(controller).saveProduct(Mockito.eq(PRODUCT_TABLE), Mockito.any(Item.class));\n\n}\n</code></pre>\n\n<p>You should verify that the database is called within the service.. checking that it was invoked with any <code>Item</code> object should be enough.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506524061,"creation_date":1506524061,"answer_id":46451065,"question_id":46450522,"body_markdown":"Mocking is a tool that you only use for dependencies of the class that is being tested.\r\nIt appears that your test does not care about the Author, Media, and Product objects,\r\nthese are just dependencies of the method you want to test;\r\nmock them.\r\n\r\nOrganization will greatly help your test;\r\ndo something like this:\r\n\r\n    public class TestKitchenService\r\n    {\r\n        private static String VALUE_PRODUCT_NAME = &quot;VALUE_PRODUCT_NAME&quot;;\r\n        ... use constants for other values as well.  The value of the constant does not matter.\r\n\r\n        @InjectMocks\r\n        private KitchenService classToTest;\r\n\r\n        private InOrder inOrder;\r\n\r\n        @Mock\r\n        private Author mockAuthor;\r\n\r\n        @Mock\r\n        private DatabaseController mockDatabaseController;\r\n\r\n        @Mock\r\n        private Logger mockLogger;\r\n        \r\n        @Mock\r\n        private Media mockMedia;\r\n\r\n        @Mock\r\n        private Product mockProduct;\r\n\r\n        @After\r\n        public void afterTest()\r\n        {\r\n            inOrder.verifyNoMoreInteractions();\r\n\r\n            verifyNoMoreInteractions(mockAuthor);\r\n            verifyNoMoreInteractions(mockDatabaseController);\r\n            verifyNoMoreInteractions(mockLogger);\r\n            verifyNoMoreInteractions(mockMedia);\r\n            verifyNoMoreInteractions(mockProduct);\r\n        }\r\n\r\n        @Before\r\n        public void beforeTest()\r\n        {\r\n            MockitoAnnotations.initMocks(this);\r\n\r\n            doReturn(mockAuthor).when(mockProduct).getAuthor();\r\n            doReturn(mockMedia).when(mockProduct).getMedia();\r\n            doReturn(VALUE_PRODUCT_NAME).when(mockProduct).getName();\r\n            doReturn(Collections.singletonList(ProductKind.MEAT)).when(mockProduct).getProductKinds();\r\n            \r\n            ... doReturns for the other product values.\r\n\r\n            inOrder = inOrder(\r\n                mockAuthor,\r\n                mockDatabaseController,\r\n                mockLogger,\r\n                mockMedia,\r\n                mockProduct);\r\n\r\n            ReflectionTestUtils.setField(\r\n                classToTest,\r\n                &quot;databaseController&quot;,\r\n                mockDatabaseController);\r\n                \r\n            ReflectionTestUtils.setField(\r\n                classToTest,\r\n                &quot;logger&quot;,\r\n                mockLogger);\r\n        }\r\n\r\n        @Test\r\n        public void addProduct_success()\r\n        {\r\n            final Product actualResult;\r\n\r\n\r\n            actualResult = classToTest.addProduct(mockProduct);\r\n\r\n\r\n            assertEquals(\r\n                mockProduct,\r\n                actualResult);\r\n\r\n            inOrder.verify(mockProduct).getMedia();\r\n\r\n            inOrder.verify(mockProduct).getAuthor();\r\n\r\n            inOrder.verify(mockProduct).getProductKinds();\r\n            \r\n            inOrder.verify(mockProduct).getName();\r\n            \r\n            ... inOrder.verify for the other product values.\r\n            \r\n            inOrder.verify(mockDatabaseController).saveProduct(\r\n                eq(PRODUCT_TABLE),\r\n                any(Item.class));\r\n        }\r\n    }","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>Mocking is a tool that you only use for dependencies of the class that is being tested.\nIt appears that your test does not care about the Author, Media, and Product objects,\nthese are just dependencies of the method you want to test;\nmock them.</p>\n\n<p>Organization will greatly help your test;\ndo something like this:</p>\n\n<pre><code>public class TestKitchenService\n{\n    private static String VALUE_PRODUCT_NAME = \"VALUE_PRODUCT_NAME\";\n    ... use constants for other values as well.  The value of the constant does not matter.\n\n    @InjectMocks\n    private KitchenService classToTest;\n\n    private InOrder inOrder;\n\n    @Mock\n    private Author mockAuthor;\n\n    @Mock\n    private DatabaseController mockDatabaseController;\n\n    @Mock\n    private Logger mockLogger;\n\n    @Mock\n    private Media mockMedia;\n\n    @Mock\n    private Product mockProduct;\n\n    @After\n    public void afterTest()\n    {\n        inOrder.verifyNoMoreInteractions();\n\n        verifyNoMoreInteractions(mockAuthor);\n        verifyNoMoreInteractions(mockDatabaseController);\n        verifyNoMoreInteractions(mockLogger);\n        verifyNoMoreInteractions(mockMedia);\n        verifyNoMoreInteractions(mockProduct);\n    }\n\n    @Before\n    public void beforeTest()\n    {\n        MockitoAnnotations.initMocks(this);\n\n        doReturn(mockAuthor).when(mockProduct).getAuthor();\n        doReturn(mockMedia).when(mockProduct).getMedia();\n        doReturn(VALUE_PRODUCT_NAME).when(mockProduct).getName();\n        doReturn(Collections.singletonList(ProductKind.MEAT)).when(mockProduct).getProductKinds();\n\n        ... doReturns for the other product values.\n\n        inOrder = inOrder(\n            mockAuthor,\n            mockDatabaseController,\n            mockLogger,\n            mockMedia,\n            mockProduct);\n\n        ReflectionTestUtils.setField(\n            classToTest,\n            \"databaseController\",\n            mockDatabaseController);\n\n        ReflectionTestUtils.setField(\n            classToTest,\n            \"logger\",\n            mockLogger);\n    }\n\n    @Test\n    public void addProduct_success()\n    {\n        final Product actualResult;\n\n\n        actualResult = classToTest.addProduct(mockProduct);\n\n\n        assertEquals(\n            mockProduct,\n            actualResult);\n\n        inOrder.verify(mockProduct).getMedia();\n\n        inOrder.verify(mockProduct).getAuthor();\n\n        inOrder.verify(mockProduct).getProductKinds();\n\n        inOrder.verify(mockProduct).getName();\n\n        ... inOrder.verify for the other product values.\n\n        inOrder.verify(mockDatabaseController).saveProduct(\n            eq(PRODUCT_TABLE),\n            any(Item.class));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506524705,"creation_date":1506524705,"answer_id":46451314,"question_id":46450522,"body_markdown":"The only things that should be mocked -- if anything -- are the ObjectMapper and databaseController.  One only mocks collaborator objects, and almost never the system/class under test (very rare cases exist for &quot;spying&quot; on the SUT).  And depending on what the ObjectMapper is and how transparent it&#39;s operation is, you may not really want to even mock that.  Furthermore, as your implementation code is written instantiating the ObjectMapper by directly calling a constructor, you can&#39;t even mock it.\r\n\r\nWhile I love the use of Mockito and mock objects, sometimes it is worthwhile to simply test with as many real objects as possible.  This is especially true when your collaborators are simple, straightforward, have no side effects, and don&#39;t require complex initialization or setup.  Only use mocks when it simplifies the test setup or verification.","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>The only things that should be mocked -- if anything -- are the ObjectMapper and databaseController.  One only mocks collaborator objects, and almost never the system/class under test (very rare cases exist for \"spying\" on the SUT).  And depending on what the ObjectMapper is and how transparent it's operation is, you may not really want to even mock that.  Furthermore, as your implementation code is written instantiating the ObjectMapper by directly calling a constructor, you can't even mock it.</p>\n\n<p>While I love the use of Mockito and mock objects, sometimes it is worthwhile to simply test with as many real objects as possible.  This is especially true when your collaborators are simple, straightforward, have no side effects, and don't require complex initialization or setup.  Only use mocks when it simplifies the test setup or verification.</p>\n"}],"owner":{"account_id":11866151,"reputation":759,"user_id":8683646,"accept_rate":0,"display_name":"D.Zet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1693116215,"creation_date":1506522590,"question_id":46450522,"body_markdown":"At first I want to sorry for my english.\r\n\r\nI started to make some unit tests (i&#39;ve never done this before, i&#39;m a new guy in programming). \r\n\r\nI have to test simple adding product to database (DynamoDB) method using mockito.verify but I have \r\n\r\n    &quot;Wanted but not invoked. Actually, there were zero interactions with this mock.&quot; \r\n\r\nError and I don&#39;t know what to do.\r\n\r\nThis is my method code (in KitchenService class): \r\n\r\n    public Product addProduct(Product content) {\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        String mediaJSON = null;\r\n        String authorJSON = null;\r\n        String productKindsJSON = null;\r\n        try {\r\n            mediaJSON = objectMapper.writeValueAsString(content.getMedia());\r\n            authorJSON = objectMapper.writeValueAsString(content.getAuthor());\r\n            productKindsJSON = objectMapper.writeValueAsString(content.getProductKinds());\r\n        } catch (JsonProcessingException e) {\r\n            logger.log(e.getMessage());\r\n        }\r\n\r\n\r\n        Item item = new Item()\r\n                .withPrimaryKey(&quot;id&quot;, UUID.randomUUID().toString())\r\n                .with(&quot;name&quot;, content.getName())\r\n                .with(&quot;calories&quot;, content.getCalories())\r\n                .with(&quot;fat&quot;, content.getFat())\r\n                .with(&quot;carbo&quot;, content.getCarbo())\r\n                .with(&quot;protein&quot;, content.getProtein())\r\n                .with(&quot;productKinds&quot;, productKindsJSON)\r\n                .with(&quot;author&quot;, authorJSON)\r\n                .with(&quot;media&quot;, mediaJSON)\r\n                .with(&quot;approved&quot;, content.getApproved());\r\n\r\n\r\n        Item save = databaseController.saveProduct(PRODUCT_TABLE, item);\r\n        logger.log(save + &quot; created&quot;);\r\n\r\n\r\n\r\n        return content;\r\n\r\n    }\r\n\r\nAnd this is test code:\r\n\r\n    @Test\r\n    public void addProduct() throws Exception {\r\n\r\n\r\n        KitchenService instance = mock(KitchenService.class);\r\n\r\n\r\n        Product expectedProduct = new Product();\r\n        expectedProduct.setName(&quot;kaszanka&quot;);\r\n        expectedProduct.setCalories(1000);\r\n        expectedProduct.setFat(40.00);\r\n        expectedProduct.setCarbo(20.00);\r\n        expectedProduct.setProtein(40.00);\r\n        expectedProduct.setProductKinds(Collections.singletonList(ProductKind.MEAT));\r\n        expectedProduct.setApproved(false);\r\n        Author expectedAuthor = new Author();\r\n        expectedAuthor.setId(&quot;testID&quot;);\r\n        expectedAuthor.setName(&quot;Endrju Golota&quot;);\r\n        expectedProduct.setAuthor(expectedAuthor);\r\n        Media expectedMedia = new Media();\r\n        expectedMedia.setMediaType(MediaType.IMAGE);\r\n        expectedMedia.setName(&quot;dupajasia&quot;);\r\n        expectedMedia.setUrl(&quot;http://blabla.pl&quot;);\r\n        expectedProduct.setMedia(expectedMedia);\r\n\r\n        verify(instance, times(1)).addProduct(expectedProduct);\r\n    }\r\n\r\nThis is what I got after test:\r\n\r\n    Wanted but not invoked:\r\n    kitchenService.addProduct(\r\n        model.kitchen.Product@a0136253\r\n    );\r\n    -&gt; at     service.kitchen.KitchenServiceTest.addProduct(KitchenServiceTest.java:80)\r\n    Actually, there were zero interactions with this mock.\r\n\r\n\r\nCan someone tell me what im doing wrong?\r\n\r\n\r\n","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>At first I want to sorry for my english.</p>\n\n<p>I started to make some unit tests (i've never done this before, i'm a new guy in programming). </p>\n\n<p>I have to test simple adding product to database (DynamoDB) method using mockito.verify but I have </p>\n\n<pre><code>\"Wanted but not invoked. Actually, there were zero interactions with this mock.\" \n</code></pre>\n\n<p>Error and I don't know what to do.</p>\n\n<p>This is my method code (in KitchenService class): </p>\n\n<pre><code>public Product addProduct(Product content) {\n\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    String mediaJSON = null;\n    String authorJSON = null;\n    String productKindsJSON = null;\n    try {\n        mediaJSON = objectMapper.writeValueAsString(content.getMedia());\n        authorJSON = objectMapper.writeValueAsString(content.getAuthor());\n        productKindsJSON = objectMapper.writeValueAsString(content.getProductKinds());\n    } catch (JsonProcessingException e) {\n        logger.log(e.getMessage());\n    }\n\n\n    Item item = new Item()\n            .withPrimaryKey(\"id\", UUID.randomUUID().toString())\n            .with(\"name\", content.getName())\n            .with(\"calories\", content.getCalories())\n            .with(\"fat\", content.getFat())\n            .with(\"carbo\", content.getCarbo())\n            .with(\"protein\", content.getProtein())\n            .with(\"productKinds\", productKindsJSON)\n            .with(\"author\", authorJSON)\n            .with(\"media\", mediaJSON)\n            .with(\"approved\", content.getApproved());\n\n\n    Item save = databaseController.saveProduct(PRODUCT_TABLE, item);\n    logger.log(save + \" created\");\n\n\n\n    return content;\n\n}\n</code></pre>\n\n<p>And this is test code:</p>\n\n<pre><code>@Test\npublic void addProduct() throws Exception {\n\n\n    KitchenService instance = mock(KitchenService.class);\n\n\n    Product expectedProduct = new Product();\n    expectedProduct.setName(\"kaszanka\");\n    expectedProduct.setCalories(1000);\n    expectedProduct.setFat(40.00);\n    expectedProduct.setCarbo(20.00);\n    expectedProduct.setProtein(40.00);\n    expectedProduct.setProductKinds(Collections.singletonList(ProductKind.MEAT));\n    expectedProduct.setApproved(false);\n    Author expectedAuthor = new Author();\n    expectedAuthor.setId(\"testID\");\n    expectedAuthor.setName(\"Endrju Golota\");\n    expectedProduct.setAuthor(expectedAuthor);\n    Media expectedMedia = new Media();\n    expectedMedia.setMediaType(MediaType.IMAGE);\n    expectedMedia.setName(\"dupajasia\");\n    expectedMedia.setUrl(\"http://blabla.pl\");\n    expectedProduct.setMedia(expectedMedia);\n\n    verify(instance, times(1)).addProduct(expectedProduct);\n}\n</code></pre>\n\n<p>This is what I got after test:</p>\n\n<pre><code>Wanted but not invoked:\nkitchenService.addProduct(\n    model.kitchen.Product@a0136253\n);\n-&gt; at     service.kitchen.KitchenServiceTest.addProduct(KitchenServiceTest.java:80)\nActually, there were zero interactions with this mock.\n</code></pre>\n\n<p>Can someone tell me what im doing wrong?</p>\n"},{"tags":["java","rest","jms","jax-rs","activemq"],"comments":[{"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"score":0,"creation_date":1384327983,"post_id":19706788,"comment_id":29688218,"body_markdown":"downvoter please comment. What is wrong in this question?","body":"downvoter please comment. What is wrong in this question?"},{"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"score":0,"creation_date":1386242899,"post_id":19706788,"comment_id":30460687,"body_markdown":"Are you interested about custom object inside HttpServletRequest or you need it because you want to relay information back to the client later?","body":"Are you interested about custom object inside HttpServletRequest or you need it because you want to relay information back to the client later?"},{"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"score":0,"creation_date":1386314110,"post_id":19706788,"comment_id":30495279,"body_markdown":"@Phani Yes, Inside the Httpservlet request.","body":"@Phani Yes, Inside the Httpservlet request."}],"answers":[{"comments":[{"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"score":0,"creation_date":1383541502,"post_id":19751507,"comment_id":29369007,"body_markdown":"I had gone through this documentation. However, I am not be able to get any start from this. Do you have any small example...please let me know. Thanks for your answer.","body":"I had gone through this documentation. However, I am not be able to get any start from this. Do you have any small example...please let me know. Thanks for your answer."},{"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"score":0,"creation_date":1383549687,"post_id":19751507,"comment_id":29371175,"body_markdown":"I dont know but i need to put all the incoming Http requests in queue and then forward to the service.","body":"I dont know but i need to put all the incoming Http requests in queue and then forward to the service."},{"owner":{"account_id":11445615,"reputation":333,"user_id":8389618,"display_name":"Ravi kant Gautam"},"score":0,"creation_date":1645639103,"post_id":19751507,"comment_id":125928255,"body_markdown":"I am also facing a similar issue did you get any solution for it?","body":"I am also facing a similar issue did you get any solution for it?"}],"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383471106,"creation_date":1383471106,"answer_id":19751507,"question_id":19706788,"body_markdown":"Have you seen the REST documentation at Apache ActiveMQ: http://activemq.apache.org/rest.html\r\n\r\nAlso are you talking about embedding ActiveMQ as a broker inside Tomcat, or do you run ActiveMQ broker in a seperate box/jvm? \r\n\r\nAs the standalone ActiveMQ has REST API out of the box, as stated in that link above.","title":"jersey rest web Service with Activemq middleware integration","body":"<p>Have you seen the REST documentation at Apache ActiveMQ: <a href=\"http://activemq.apache.org/rest.html\" rel=\"nofollow\">http://activemq.apache.org/rest.html</a></p>\n\n<p>Also are you talking about embedding ActiveMQ as a broker inside Tomcat, or do you run ActiveMQ broker in a seperate box/jvm? </p>\n\n<p>As the standalone ActiveMQ has REST API out of the box, as stated in that link above.</p>\n"},{"tags":[],"owner":{"account_id":6796173,"reputation":1,"user_id":5231371,"display_name":"xcepttj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439686783,"creation_date":1439686783,"answer_id":32030864,"question_id":19706788,"body_markdown":"The reason you are seeing ActiveMQ admin console while hitting rest URL due to missing credentials, Please pass credentials using basic authentication. I wrote a groovy client to call rest URL. You can use something similar....   \r\n \r\n    import groovyx.net.http.HTTPBuilder;\r\n    import groovyx.net.http.Method;\r\n    import groovyx.net.http.ContentType;\r\n    import groovyx.net.http.RESTClient;\r\n    import groovyx.net.http.HttpResponseDecorator;\r\n    import groovy.json.JsonSlurper;\r\n\r\n    def headers= [&quot;Authorization&quot;: &#39;Basic&#39;   +&#39;admin:admin&#39;.bytes.encodeBase64().toString()];\r\n    println headers;\r\n    def restClient = new RESTClient(&#39;http://servername:8161&#39;);\r\n    def restClientResponse = restClient.get(path: &#39;/api/message/queueName?type=queue&#39;,headers:headers,requestContentType: ContentType.JSON)\r\n    println restClientResponse.status;\r\n    println restClientResponse.headers[&#39;Content-Length&#39;];\r\n    println restClientResponse.getData();","title":"jersey rest web Service with Activemq middleware integration","body":"<p>The reason you are seeing ActiveMQ admin console while hitting rest URL due to missing credentials, Please pass credentials using basic authentication. I wrote a groovy client to call rest URL. You can use something similar....   </p>\n\n<pre><code>import groovyx.net.http.HTTPBuilder;\nimport groovyx.net.http.Method;\nimport groovyx.net.http.ContentType;\nimport groovyx.net.http.RESTClient;\nimport groovyx.net.http.HttpResponseDecorator;\nimport groovy.json.JsonSlurper;\n\ndef headers= [\"Authorization\": 'Basic'   +'admin:admin'.bytes.encodeBase64().toString()];\nprintln headers;\ndef restClient = new RESTClient('http://servername:8161');\ndef restClientResponse = restClient.get(path: '/api/message/queueName?type=queue',headers:headers,requestContentType: ContentType.JSON)\nprintln restClientResponse.status;\nprintln restClientResponse.headers['Content-Length'];\nprintln restClientResponse.getData();\n</code></pre>\n"}],"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10189,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":2,"score":7,"last_activity_date":1693116215,"creation_date":1383223163,"question_id":19706788,"body_markdown":"I have a Restful service API developed with JAX-RS and jersey. I have deployed the same in TOMCAT 7. Now I would like to implement Activemq so that I would keep all request in a queue and process the request resource. How to do this and integrate with tomcat7. How to integrate ActiveMq with Tomcat7 or my rest service webapp. How to call the service. \r\n\r\nImportant :- \r\nInside the Rest Api, I am using FilterChaining concept for security concern and after verification of the calling party, I am simply forwarding the request to the resource. For this I have added in web.xml.\r\n\r\nThanks \r\n\r\n\r\n**Here is my class :-**\r\n\r\n        public class LimitFilter implements Filter {\r\n        \t\r\n        \tpublic void doFilter(ServletRequest request, ServletResponse response,\r\n        \t\t\tFilterChain chain) throws IOException, ServletException {\r\n        \t\t\r\n    //some authentication\r\n        \t\t\tif (true) {\r\n        \t\t\t\t// let the request through and process as usual\r\n        \t\t\t\tchain.doFilter(request, response);\r\n        \t\t\t\t\r\n        \t\t\t} else {\r\n        \t\t\t\t// handle limit case, e.g. return status code 429 (Too Many\r\n        \t\t\t\t// Requests)\r\n        \t\t\t\t// see http://tools.ietf.org/html/rfc6585#page-3\r\n        \t\t\t\t((HttpServletResponse) response).sendError(429);\r\n        \t\t\t}\r\n        \t\t} \r\n        \t\t}\r\n        \t}\r\n\r\n**Here is my sample class for activemq:-**\r\n\r\n    public class Qservlet extends HttpServlet {\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\t\tString body = &quot;&quot;;\r\n    \t\ttry {\r\n    \t\t\t// Create a ConnectionFactory\r\n    \r\n    \t\t\tConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;admin&quot;, &quot;admin&quot;, ActiveMQConnection.DEFAULT_BROKER_URL);\r\n    \r\n    \t\t\t// Create a Connection\r\n    \t\t\t\r\n    \t\t\tConnection connection = connectionFactory.createConnection();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tSession session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\r\n    \r\n    \t\t\tDestination destination = session.createQueue(&quot;testQ&quot;);\t\r\n    \t\t\tTextMessage message = session.createTextMessage();\r\n    \t\t\tmessage.setText( &quot;My text message was send and received&quot;);//\r\n    \t\t\tmessage.setJMSRedelivered(true);\r\n    \t\t\tmessage.setJMSCorrelationID(request.getSession().getId());\r\n    \t\t\t\r\n    \t\t\tconnection.start();\r\n    \r\n    \t\t\tMessageProducer producer = session.createProducer(destination);\r\n    \t\t\tproducer.setDeliveryMode(DeliveryMode.PERSISTENT);\r\n    \t\t\tproducer.send(message);\r\n    \t\t\t\r\n    \t\t\tmessage = null;\r\n    \t\t\tMessageConsumer consumer = session.createConsumer(destination);\r\n    \t\t\tmessage = (TextMessage) consumer.receive(1000);\r\n    \t\t\tif (message != null) {\r\n    \t\t\t\tbody = message.getText();\r\n    \t\t\t}\r\n    \r\n    \t\t\t\r\n    \t\t\tproducer.close();\r\n    \t\t\tconsumer.close();\r\n    \t\t\tsession.close();\r\n    \t\t\tconnection.close();\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e.toString());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nNow if any request is coming in Limit Filter class, I am forwarding directly to the resources after some authentication mecanisam. Thats why I am using filter concept for catching all request. \r\n\r\nSecond class is example class when i am running ; messaging is enquing and dequeueing; I can see in console for ActiveMq. \r\n\r\nIn the first class I am simply writing **&quot;chain.doFilter(request, response)&quot;** to forward all http request to the respective resource. Now How to do here. Where to put the HTTP request. I need to handle each request asynchronously. REST is synchronous. \r\n\r\nPlease suggest some way. and explain your answer.\r\n\r\n\r\nThanks/Regards\r\nKumar Shorav\r\n\r\n","title":"jersey rest web Service with Activemq middleware integration","body":"<p>I have a Restful service API developed with JAX-RS and jersey. I have deployed the same in TOMCAT 7. Now I would like to implement Activemq so that I would keep all request in a queue and process the request resource. How to do this and integrate with tomcat7. How to integrate ActiveMq with Tomcat7 or my rest service webapp. How to call the service. </p>\n\n<p>Important :- \nInside the Rest Api, I am using FilterChaining concept for security concern and after verification of the calling party, I am simply forwarding the request to the resource. For this I have added in web.xml.</p>\n\n<p>Thanks </p>\n\n<p><strong>Here is my class :-</strong></p>\n\n<pre><code>    public class LimitFilter implements Filter {\n\n        public void doFilter(ServletRequest request, ServletResponse response,\n                FilterChain chain) throws IOException, ServletException {\n\n//some authentication\n                if (true) {\n                    // let the request through and process as usual\n                    chain.doFilter(request, response);\n\n                } else {\n                    // handle limit case, e.g. return status code 429 (Too Many\n                    // Requests)\n                    // see http://tools.ietf.org/html/rfc6585#page-3\n                    ((HttpServletResponse) response).sendError(429);\n                }\n            } \n            }\n        }\n</code></pre>\n\n<p><strong>Here is my sample class for activemq:-</strong></p>\n\n<pre><code>public class Qservlet extends HttpServlet {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws IOException, ServletException {\n            String body = \"\";\n        try {\n            // Create a ConnectionFactory\n\n            ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(\"admin\", \"admin\", ActiveMQConnection.DEFAULT_BROKER_URL);\n\n            // Create a Connection\n\n            Connection connection = connectionFactory.createConnection();\n\n\n            Session session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\n\n            Destination destination = session.createQueue(\"testQ\"); \n            TextMessage message = session.createTextMessage();\n            message.setText( \"My text message was send and received\");//\n            message.setJMSRedelivered(true);\n            message.setJMSCorrelationID(request.getSession().getId());\n\n            connection.start();\n\n            MessageProducer producer = session.createProducer(destination);\n            producer.setDeliveryMode(DeliveryMode.PERSISTENT);\n            producer.send(message);\n\n            message = null;\n            MessageConsumer consumer = session.createConsumer(destination);\n            message = (TextMessage) consumer.receive(1000);\n            if (message != null) {\n                body = message.getText();\n            }\n\n\n            producer.close();\n            consumer.close();\n            session.close();\n            connection.close();\n\n        } catch (Exception e) {\n            System.out.println(e.toString());\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Now if any request is coming in Limit Filter class, I am forwarding directly to the resources after some authentication mecanisam. Thats why I am using filter concept for catching all request. </p>\n\n<p>Second class is example class when i am running ; messaging is enquing and dequeueing; I can see in console for ActiveMq. </p>\n\n<p>In the first class I am simply writing <strong>\"chain.doFilter(request, response)\"</strong> to forward all http request to the respective resource. Now How to do here. Where to put the HTTP request. I need to handle each request asynchronously. REST is synchronous. </p>\n\n<p>Please suggest some way. and explain your answer.</p>\n\n<p>Thanks/Regards\nKumar Shorav</p>\n"},{"tags":["java","swing","jtree","textcolor"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1692884092,"post_id":76969747,"comment_id":135686788,"body_markdown":"You need to create a custom renderer. See [Customizing a JTrees Display](https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html#display). The renderer would need some logic to know which node should be a different color.","body":"You need to create a custom renderer. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html#display\" rel=\"nofollow noreferrer\">Customizing a JTrees Display</a>. The renderer would need some logic to know which node should be a different color."}],"owner":{"account_id":29290882,"reputation":13,"user_id":22441389,"display_name":"Juan Alvarez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693115064,"creation_date":1692883451,"question_id":76969747,"body_markdown":"I know that I can change the text color using:\r\n\r\n```Java\r\nimport javax.swing.*;\r\nimport javax.swing.tree.DefaultMutableTreeNode;\r\nimport javax.swing.tree.DefaultTreeModel;\r\nimport java.awt.*;\r\n\r\npublic class UIManagerNodeColor {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame(&quot;UIManager Node Color&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\r\n            UIManager.put(&quot;Tree.textForeground&quot;, Color.decode(&quot;#6FB2D2&quot;));\r\n\r\n            JTree tree = new JTree();\r\n\r\n            DefaultMutableTreeNode root = new DefaultMutableTreeNode(&quot;Root&quot;);\r\n            DefaultMutableTreeNode node1 = new DefaultMutableTreeNode(&quot;Node 1&quot;);\r\n            DefaultMutableTreeNode node2 = new DefaultMutableTreeNode(&quot;Node 2&quot;);\r\n\r\n            root.add(node1);\r\n            root.add(node2);\r\n\r\n\r\n            tree.setModel(new DefaultTreeModel(root));\r\n\r\n            frame.add(new JScrollPane(tree));\r\n            frame.setSize(300, 200);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n[this is the output:](https://i.stack.imgur.com/ypU5l.png)\r\n\r\n\r\nBy doing this all the node&#39;s text color is changed, but how should I do to change only the color of &quot;Node 1&quot;?\r\n","title":"How can I change the text color to certain elements of JTree but not to the whole tree?","body":"<p>I know that I can change the text color using:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.DefaultTreeModel;\nimport java.awt.*;\n\npublic class UIManagerNodeColor {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;UIManager Node Color&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n\n            UIManager.put(&quot;Tree.textForeground&quot;, Color.decode(&quot;#6FB2D2&quot;));\n\n            JTree tree = new JTree();\n\n            DefaultMutableTreeNode root = new DefaultMutableTreeNode(&quot;Root&quot;);\n            DefaultMutableTreeNode node1 = new DefaultMutableTreeNode(&quot;Node 1&quot;);\n            DefaultMutableTreeNode node2 = new DefaultMutableTreeNode(&quot;Node 2&quot;);\n\n            root.add(node1);\n            root.add(node2);\n\n\n            tree.setModel(new DefaultTreeModel(root));\n\n            frame.add(new JScrollPane(tree));\n            frame.setSize(300, 200);\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ypU5l.png\" rel=\"nofollow noreferrer\">this is the output:</a></p>\n<p>By doing this all the node's text color is changed, but how should I do to change only the color of &quot;Node 1&quot;?</p>\n"},{"tags":["java","eclipse","tomcat","logging"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1336155463,"post_id":10453960,"comment_id":13498977,"body_markdown":"You actually seem to *have* the traceback and the line# - that should be enough to get you started.  It&#39;s entirely possible your Struts application might be logging to a different file.  Check your log4j.properties file (if you have one).","body":"You actually seem to <i>have</i> the traceback and the line# - that should be enough to get you started.  It&#39;s entirely possible your Struts application might be logging to a different file.  Check your log4j.properties file (if you have one)."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1336155478,"post_id":10453960,"comment_id":13498981,"body_markdown":"possible duplicate of [500 internal server error on Tomcat7 while trying to do ajax getJson or post operation in jQuery + Struts2](http://stackoverflow.com/questions/10451269/500-internal-server-error-on-tomcat7-while-trying-to-do-ajax-getjson-or-post-ope)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10451269/500-internal-server-error-on-tomcat7-while-trying-to-do-ajax-getjson-or-post-ope\">500 internal server error on Tomcat7 while trying to do ajax getJson or post operation in jQuery + Struts2</a>"},{"owner":{"account_id":1461272,"reputation":239,"user_id":1375539,"display_name":"Mandeep Singh"},"score":0,"creation_date":1336156774,"post_id":10453960,"comment_id":13499402,"body_markdown":"@paulsm4, its not a duplicate of that post because I want to know about the log files where the detailed information regarding the exception is given. Thanks.","body":"@paulsm4, its not a duplicate of that post because I want to know about the log files where the detailed information regarding the exception is given. Thanks."},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1336159392,"post_id":10453960,"comment_id":13500364,"body_markdown":"Is this the catalina.out log file?  It would appear that this is one of the access log files (the name escapes me at the moment).","body":"Is this the catalina.out log file?  It would appear that this is one of the access log files (the name escapes me at the moment)."},{"owner":{"account_id":1461272,"reputation":239,"user_id":1375539,"display_name":"Mandeep Singh"},"score":0,"creation_date":1336162889,"post_id":10453960,"comment_id":13501642,"body_markdown":"Yup, thats correct. The excerpt shown above is from a localhost_access_log file. The files for all the handlers are being generated but none of them contains information about the &quot;NullPointerException&quot; stated above. I even tried to set the logging levels to &quot;ALL&quot; but get the same result. Where should I search for the &quot;NullPointerException&quot; ?","body":"Yup, thats correct. The excerpt shown above is from a localhost_access_log file. The files for all the handlers are being generated but none of them contains information about the &quot;NullPointerException&quot; stated above. I even tried to set the logging levels to &quot;ALL&quot; but get the same result. Where should I search for the &quot;NullPointerException&quot; ?"}],"answers":[{"comments":[{"owner":{"account_id":1461272,"reputation":239,"user_id":1375539,"display_name":"Mandeep Singh"},"score":0,"creation_date":1336158601,"post_id":10454190,"comment_id":13500076,"body_markdown":"Thanks for your help, but does this mean its the best I can expect from java.util.logging? What if I do not want to configure log4j ? Is there any way by which I can still use java.util.logging(the default mechanism for logging) and have detailed logs available?","body":"Thanks for your help, but does this mean its the best I can expect from java.util.logging? What if I do not want to configure log4j ? Is there any way by which I can still use java.util.logging(the default mechanism for logging) and have detailed logs available?"},{"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"score":0,"creation_date":1336161006,"post_id":10454190,"comment_id":13500940,"body_markdown":"Tomcat by default defines five log handlers: one system wide  ConsoleHandler` and four `FileHandlers` defined in `CATALINA_HOME/conf/logging.properties`. Log level is set to `FINE` for all of them by default, so no messages logged at `FINER` or `FINEST` level will appear in any tomcat logs. You need add `logging.properties` in you WebApp for loggin with Java Logging framework.","body":"Tomcat by default defines five log handlers: one system wide  ConsoleHandler` and four <code>FileHandlers</code> defined in <code>CATALINA_HOME&#47;conf&#47;logging.properties</code>. Log level is set to <code>FINE</code> for all of them by default, so no messages logged at <code>FINER</code> or <code>FINEST</code> level will appear in any tomcat logs. You need add <code>logging.properties</code> in you WebApp for loggin with Java Logging framework."},{"owner":{"account_id":1461272,"reputation":239,"user_id":1375539,"display_name":"Mandeep Singh"},"score":0,"creation_date":1336162314,"post_id":10454190,"comment_id":13501448,"body_markdown":"Thanks for replying... You are right about the log level being set to FINE. I changed that to ALL but still I get the same type of logs. As far as the logging.properties file is concerned, the VM arguments ( Server Configuration in Eclipse) already specify the location of the logging.properties file. So why do I still need to add the logging.properties to my WebApp ?","body":"Thanks for replying... You are right about the log level being set to FINE. I changed that to ALL but still I get the same type of logs. As far as the logging.properties file is concerned, the VM arguments ( Server Configuration in Eclipse) already specify the location of the logging.properties file. So why do I still need to add the logging.properties to my WebApp ?"},{"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"score":0,"creation_date":1336163160,"post_id":10454190,"comment_id":13501741,"body_markdown":"You need put a `logging.properties` file and package it in `WEB-INF/classes` directory of your web application. Need define several handlers `handlers=java.util.logging.ConsoleHandler`, the default `.handlers=java.util.logging.ConsoleHandler`, the level `java.util.logging.ConsoleHandler.level = FINE`. and the formatter `java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter`","body":"You need put a <code>logging.properties</code> file and package it in <code>WEB-INF&#47;classes</code> directory of your web application. Need define several handlers <code>handlers=java.util.logging.ConsoleHandler</code>, the default <code>.handlers=java.util.logging.ConsoleHandler</code>, the level <code>java.util.logging.ConsoleHandler.level = FINE</code>. and the formatter <code>java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter</code>"},{"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"score":0,"creation_date":1336163476,"post_id":10454190,"comment_id":13501822,"body_markdown":"If the Tomcat’s class loader sees the `logging.properties` file in the `WEB-INF/classes` of your web application, it will use it to configure logging for that web application, ignoring  `CATALINA_HOME/conf/logging.properties`.","body":"If the Tomcat’s class loader sees the <code>logging.properties</code> file in the <code>WEB-INF&#47;classes</code> of your web application, it will use it to configure logging for that web application, ignoring  <code>CATALINA_HOME&#47;conf&#47;logging.properties</code>."}],"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336155881,"creation_date":1336155881,"answer_id":10454190,"question_id":10453960,"body_markdown":"I had some similar errors when I was using different versions of Apache Commons. For getting more details about these errors I changed the default loggind of Tomcat to [log4j][1]. You can see the detailed instructions in [Apache Tomcat 7 (7.0.27) - Logging in Tomcat][2]\r\n\r\nThis is xml example for `log4j` that I was using:\r\n\r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\r\n      &lt;appender name=&quot;STDOUT&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p (%c.java:%L).%M - %m%n&quot; /&gt;\r\n        &lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n      &lt;!-- CATALINA --&gt;\r\n      &lt;logger name=&quot;org.apache.catalina.session&quot;&gt;\r\n        &lt;level value=&quot;INFO&quot; /&gt;\r\n      &lt;/logger&gt;\r\n      &lt;!-- TOMCAT --&gt;\r\n      &lt;/logger&gt;\r\n      &lt;logger name=&quot;org.apache.jasper.compiler&quot;&gt;\r\n         &lt;level value=&quot;INFO&quot; /&gt;\r\n      &lt;/logger&gt;\r\n      &lt;!-- COMMONS --&gt;\r\n      &lt;logger name=&quot;org.apache.commons.digester&quot;&gt;\r\n         &lt;level value=&quot;INFO&quot; /&gt;\r\n      &lt;/logger&gt;\r\n      &lt;root&gt;\r\n        &lt;priority value=&quot;TRACE&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n      &lt;/root&gt;\r\n    &lt;/log4j:configuration&gt;\r\n\r\nI hope that this can hep you.\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/\r\n  [2]: http://tomcat.apache.org/tomcat-7.0-doc/logging.html\r\n\r\n","title":"Accessing Detailed logs in Tomcat","body":"<p>I had some similar errors when I was using different versions of Apache Commons. For getting more details about these errors I changed the default loggind of Tomcat to <a href=\"http://logging.apache.org/log4j/1.2/\" rel=\"nofollow\">log4j</a>. You can see the detailed instructions in <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/logging.html\" rel=\"nofollow\">Apache Tomcat 7 (7.0.27) - Logging in Tomcat</a></p>\n\n<p>This is xml example for <code>log4j</code> that I was using:</p>\n\n<pre><code>&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\"&gt;\n  &lt;appender name=\"STDOUT\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n      &lt;param name=\"ConversionPattern\" value=\"%d %-5p (%c.java:%L).%M - %m%n\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;!-- CATALINA --&gt;\n  &lt;logger name=\"org.apache.catalina.session\"&gt;\n    &lt;level value=\"INFO\" /&gt;\n  &lt;/logger&gt;\n  &lt;!-- TOMCAT --&gt;\n  &lt;/logger&gt;\n  &lt;logger name=\"org.apache.jasper.compiler\"&gt;\n     &lt;level value=\"INFO\" /&gt;\n  &lt;/logger&gt;\n  &lt;!-- COMMONS --&gt;\n  &lt;logger name=\"org.apache.commons.digester\"&gt;\n     &lt;level value=\"INFO\" /&gt;\n  &lt;/logger&gt;\n  &lt;root&gt;\n    &lt;priority value=\"TRACE\" /&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n  &lt;/root&gt;\n&lt;/log4j:configuration&gt;\n</code></pre>\n\n<p>I hope that this can hep you.</p>\n"},{"comments":[{"owner":{"account_id":1318265,"reputation":406,"user_id":1264663,"display_name":"Pedro Garc&#237;a Medina"},"score":1,"creation_date":1590624263,"post_id":13343123,"comment_id":109753355,"body_markdown":"Your answer has nothing to do with the question","body":"Your answer has nothing to do with the question"}],"tags":[],"owner":{"account_id":1684792,"reputation":1168,"user_id":1548296,"accept_rate":20,"display_name":"Balwant Kumar Singh"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1352720647,"creation_date":1352720647,"answer_id":13343123,"question_id":10453960,"body_markdown":"I had the same problem. I removed the unused project that was referenced in **properties-&gt;Java Build Path-&gt;Projects**. It was showing that xyz(project Name) is missing.\r\nI removed xyz. \r\n\r\nSometimes you can check in **properties-&gt;Java Build Path-&gt;libraries** whether any jar is missing. If so, you can add that jar from the classpath. ","title":"Accessing Detailed logs in Tomcat","body":"<p>I had the same problem. I removed the unused project that was referenced in <strong>properties->Java Build Path->Projects</strong>. It was showing that xyz(project Name) is missing.\nI removed xyz. </p>\n\n<p>Sometimes you can check in <strong>properties->Java Build Path->libraries</strong> whether any jar is missing. If so, you can add that jar from the classpath. </p>\n"}],"owner":{"account_id":1461272,"reputation":239,"user_id":1375539,"display_name":"Mandeep Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32108,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":2,"score":6,"last_activity_date":1693112790,"creation_date":1336154920,"question_id":10453960,"body_markdown":"while executing a small application in Eclipse, I get an Http Status 500 error from the Tomcat server that I am running through Eclipse itself...\r\n\r\n    HTTP Status 500 -   \r\n  \r\n    --------------------------------------------------------------------------------  \r\n  \r\n    type Exception report  \r\n  \r\n    message   \r\n  \r\n    description The server encountered an internal error () that prevented it from fulfilling this request.  \r\n  \r\n    exception   \r\n  \r\n    java.lang.NullPointerException  \r\n        org.apache.struts2.impl.StrutsActionProxy.getErrorMessage   (StrutsActionProxy.java:69)  \r\n        com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:185)  \r\n        org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)  \r\n        org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)  \r\n        com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)  \r\n        org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:500)  \r\n        org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:434)  \r\n  \r\n  \r\n     note The full stack trace of the root cause is available in the Apache Tomcat/7.0.8 logs. \r\n\r\nThis message from the server says that error was caused by a &quot;NullPointerException&quot;. The last line says that &quot;full stack trace is available in Apache Tomcat/7.0.8 logs.\r\nI have checked the logs created in my workspace ( ${catalina.base} is set to a folder in my workspace) but the logs don&#39;t provide any details about the &quot;NullPointerException&quot;. The only thing present in the logs is...\r\n\r\n    0:0:0:0:0:0:0:1 - - [03/May/2012:15:19:16 +0530] &quot;GET /KurniawanChap02Struts/ HTTP/1.1&quot; 500 1789\r\n\r\nI have also tried increasing the &quot;logging levels&quot; but even that doesn&#39;t help. \r\nWhat should I do to access the detailed logs of the server ?","title":"Accessing Detailed logs in Tomcat","body":"<p>while executing a small application in Eclipse, I get an Http Status 500 error from the Tomcat server that I am running through Eclipse itself...</p>\n\n<pre><code>HTTP Status 500 -   \n\n--------------------------------------------------------------------------------  \n\ntype Exception report  \n\nmessage   \n\ndescription The server encountered an internal error () that prevented it from fulfilling this request.  \n\nexception   \n\njava.lang.NullPointerException  \n    org.apache.struts2.impl.StrutsActionProxy.getErrorMessage   (StrutsActionProxy.java:69)  \n    com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:185)  \n    org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)  \n    org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)  \n    com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)  \n    org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:500)  \n    org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:434)  \n\n\n note The full stack trace of the root cause is available in the Apache Tomcat/7.0.8 logs. \n</code></pre>\n\n<p>This message from the server says that error was caused by a \"NullPointerException\". The last line says that \"full stack trace is available in Apache Tomcat/7.0.8 logs.\nI have checked the logs created in my workspace ( ${catalina.base} is set to a folder in my workspace) but the logs don't provide any details about the \"NullPointerException\". The only thing present in the logs is...</p>\n\n<pre><code>0:0:0:0:0:0:0:1 - - [03/May/2012:15:19:16 +0530] \"GET /KurniawanChap02Struts/ HTTP/1.1\" 500 1789\n</code></pre>\n\n<p>I have also tried increasing the \"logging levels\" but even that doesn't help. \nWhat should I do to access the detailed logs of the server ?</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":2,"creation_date":1693096479,"post_id":76985285,"comment_id":135715045,"body_markdown":"Streams run in threads.  Threads do not run in any particular order.  If you need the output to be in order, then you don&#39;t really want asynchronous processing.","body":"Streams run in threads.  Threads do not run in any particular order.  If you need the output to be in order, then you don&#39;t really want asynchronous processing."},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1693098067,"post_id":76985285,"comment_id":135715130,"body_markdown":"@TimRoberts how to enable ordering?","body":"@TimRoberts how to enable ordering?"},{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":2,"creation_date":1693098420,"post_id":76985285,"comment_id":135715148,"body_markdown":"You don&#39;t enable ordering.  That&#39;s inherent to threading.  If you need the results ordered, then you sort them after they are finished.","body":"You don&#39;t enable ordering.  That&#39;s inherent to threading.  If you need the results ordered, then you sort them after they are finished."}],"answers":[{"comments":[{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1693155209,"post_id":76985770,"comment_id":135719698,"body_markdown":"Related query - https://stackoverflow.com/q/76985542/3317808","body":"Related query - <a href=\"https://stackoverflow.com/q/76985542/3317808\">stackoverflow.com/q/76985542/3317808</a>"}],"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693112327,"creation_date":1693112327,"answer_id":76985770,"question_id":76985285,"body_markdown":"There is a concept of parallelism in Flink, which you can think of as having multiple threads working simultaneously. When there is no clear parallelism in the code, the number of CPUs will be used as the default parallelism.  This also explains why there are 8 sinks.\r\n\r\nSo in your code, these five tuples are executed in different threads, so multiple threads work simultaneously, and the final output is not orderly.\r\n\r\nWhen these tuples are executed in the same thread, their output results are ordered, which is the order of the elements you define.You can set the global parallelism to 1 by setting it this way\r\n`env.setParallelism(1);`, but this will reduce the efficiency of processing.\r\n\r\nIf you want to achieve order under multiple degrees of parallelism, you can only change the parallelism during sink and process them in the same thread.","title":"Flink - Why the bounded stream print out of order sequence?","body":"<p>There is a concept of parallelism in Flink, which you can think of as having multiple threads working simultaneously. When there is no clear parallelism in the code, the number of CPUs will be used as the default parallelism.  This also explains why there are 8 sinks.</p>\n<p>So in your code, these five tuples are executed in different threads, so multiple threads work simultaneously, and the final output is not orderly.</p>\n<p>When these tuples are executed in the same thread, their output results are ordered, which is the order of the elements you define.You can set the global parallelism to 1 by setting it this way\n<code>env.setParallelism(1);</code>, but this will reduce the efficiency of processing.</p>\n<p>If you want to achieve order under multiple degrees of parallelism, you can only change the parallelism during sink and process them in the same thread.</p>\n"}],"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76985770,"answer_count":1,"score":0,"last_activity_date":1693112327,"creation_date":1693095044,"question_id":76985285,"body_markdown":"In the below code:\r\n\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n        DataStreamSource&lt;Tuple2&lt;String, Integer&gt;&gt; dataStream = env.fromElements(\r\n            Tuple2.of(&quot;01&quot;, 1),\r\n            Tuple2.of(&quot;02&quot;, 2),\r\n            Tuple2.of(&quot;03&quot;, 3),\r\n            Tuple2.of(&quot;04&quot;, 4),\r\n            Tuple2.of(&quot;05&quot;, 5)\r\n            );  \r\n        dataStream.print();\r\n\r\n\r\n--------\r\n\r\nOutput shows:\r\n\r\n    \tConnected to JobManager at Actor[akka://flink/user/jobmanager_1#-1227405543]\r\n    08/26/2023 19:00:45     Job execution switched to status RUNNING.\r\n    08/26/2023 19:00:45     Source: Collection Source(1/1) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Source: Collection Source(1/1) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to SCHEDULED \r\n    08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to DEPLOYING \r\n    08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to SCHEDULED\r\n    08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to DEPLOYING\r\n    08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to RUNNING \r\n    08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Source: Collection Source(1/1) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to RUNNING\r\n    08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to RUNNING\r\n    5&gt; (05,5)\r\n    1&gt; (01,1)\r\n    3&gt; (03,3)\r\n    2&gt; (02,2)\r\n    4&gt; (04,4)\r\n    08/26/2023 19:00:45     Source: Collection Source(1/1) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to FINISHED \r\n    08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to FINISHED\r\n    08/26/2023 19:00:45     Job execution switched to status FINISHED.\r\n\r\n---------\r\n\r\n1) Why the output shows the stream, out of order? How to enable order in sequencing?\r\n\r\n       5&gt; (05,5)\r\n       1&gt; (01,1)\r\n       3&gt; (03,3)\r\n       2&gt; (02,2)\r\n       4&gt; (04,4)\r\n\r\n2) Why multiple sinks(almost 8) are enabled, as per trace?\r\n","title":"Flink - Why the bounded stream print out of order sequence?","body":"<p>In the below code:</p>\n<pre><code>    StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n    DataStreamSource&lt;Tuple2&lt;String, Integer&gt;&gt; dataStream = env.fromElements(\n        Tuple2.of(&quot;01&quot;, 1),\n        Tuple2.of(&quot;02&quot;, 2),\n        Tuple2.of(&quot;03&quot;, 3),\n        Tuple2.of(&quot;04&quot;, 4),\n        Tuple2.of(&quot;05&quot;, 5)\n        );  \n    dataStream.print();\n</code></pre>\n<hr />\n<p>Output shows:</p>\n<pre><code>    Connected to JobManager at Actor[akka://flink/user/jobmanager_1#-1227405543]\n08/26/2023 19:00:45     Job execution switched to status RUNNING.\n08/26/2023 19:00:45     Source: Collection Source(1/1) switched to SCHEDULED\n08/26/2023 19:00:45     Source: Collection Source(1/1) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to SCHEDULED \n08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to DEPLOYING \n08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to SCHEDULED\n08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to DEPLOYING\n08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to RUNNING \n08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to RUNNING\n08/26/2023 19:00:45     Source: Collection Source(1/1) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to RUNNING\n08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to RUNNING\n5&gt; (05,5)\n1&gt; (01,1)\n3&gt; (03,3)\n2&gt; (02,2)\n4&gt; (04,4)\n08/26/2023 19:00:45     Source: Collection Source(1/1) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(6/8) switched to FINISHED \n08/26/2023 19:00:45     Sink: Unnamed(5/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(8/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(7/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(1/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(3/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(2/8) switched to FINISHED\n08/26/2023 19:00:45     Sink: Unnamed(4/8) switched to FINISHED\n08/26/2023 19:00:45     Job execution switched to status FINISHED.\n</code></pre>\n<hr />\n<ol>\n<li><p>Why the output shows the stream, out of order? How to enable order in sequencing?</p>\n<pre><code>5&gt; (05,5)\n1&gt; (01,1)\n3&gt; (03,3)\n2&gt; (02,2)\n4&gt; (04,4)\n</code></pre>\n</li>\n<li><p>Why multiple sinks(almost 8) are enabled, as per trace?</p>\n</li>\n</ol>\n"},{"tags":["java","android","kotlin","android-room","android-architecture-components"],"comments":[{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1693046844,"post_id":76982259,"comment_id":135710160,"body_markdown":"All those examples might have taken approach for simplicity but you shouldn&#39;t put observer inside an onClickListener.  Usually, change in the event should propagate to viewmodel and viewModel revert back action and observer observe the change and change the ui accordingly.","body":"All those examples might have taken approach for simplicity but you shouldn&#39;t put observer inside an onClickListener.  Usually, change in the event should propagate to viewmodel and viewModel revert back action and observer observe the change and change the ui accordingly."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1693051142,"post_id":76982259,"comment_id":135710584,"body_markdown":"From what you’ve shown, this does leak observers. There will be obsolete observers sitting in memory for almost every character typed or deleted until the Fragment’s view is destroyed. Even worse, if these observers come from Room, they will all be running queries every time the database is modified until they are released.","body":"From what you’ve shown, this does leak observers. There will be obsolete observers sitting in memory for almost every character typed or deleted until the Fragment’s view is destroyed. Even worse, if these observers come from Room, they will all be running queries every time the database is modified until they are released."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1693051565,"post_id":76982259,"comment_id":135710640,"body_markdown":"But maybe `ViewModel.searchAllDatabase()` has a “clever” implementation under the hood that removes observers from any previous LiveData it has returned. That would be kind of a sloppy design in my opinion, though.","body":"But maybe <code>ViewModel.searchAllDatabase()</code> has a “clever” implementation under the hood that removes observers from any previous LiveData it has returned. That would be kind of a sloppy design in my opinion, though."},{"owner":{"account_id":23333457,"reputation":9,"user_id":17409496,"display_name":"Emz"},"score":0,"creation_date":1693063239,"post_id":76982259,"comment_id":135711808,"body_markdown":"@VivekGupta What if we define a searchQuery variable of type LiveData&lt;String&gt; in the viewModel. and add an observer for this variable inside the fragment?","body":"@VivekGupta What if we define a searchQuery variable of type LiveData&lt;String&gt; in the viewModel. and add an observer for this variable inside the fragment?"},{"owner":{"account_id":23333457,"reputation":9,"user_id":17409496,"display_name":"Emz"},"score":0,"creation_date":1693063305,"post_id":76982259,"comment_id":135711819,"body_markdown":"@Tenfour04 What is the solution?","body":"@Tenfour04 What is the solution?"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693111572,"creation_date":1693111572,"answer_id":76985753,"question_id":76982259,"body_markdown":"From what you’ve shown, this does leak observers. There will be obsolete observers sitting in memory for almost every character typed or deleted until the Fragment’s view is destroyed. Even worse, if these observers come from Room, they will all be running queries every time the database is modified until they are released.\r\n\r\nOne way to avoid this would be to use a switch map operation based on the search query. The switch map operation does exactly what we want…when there is new data, it cancels observing the previous LiveData and starts a new one. This is done under its own hood, so to an outside observer, it’s just a single LiveData stream. \r\n\r\nIn the ViewModel, something like this:\r\n\r\n\r\n```\r\nprivate val searchQuery = MutableLiveData(&quot;&quot;)\r\n\r\nval queryText: String\r\n    get() = searchQuery.value\r\n    set(value) { searchQuery.value = value }\r\n\r\nval searchedData = searchQuery.switchMap { query -&gt;\r\n    if (query.isEmpty()) repo.allData else repo.searchAll(query)\r\n}\r\n```\r\nNow in your UI classes you only observe `viewModel.searchedData` a single time in `onViewCreated()` and do nothing but set the new value of `ViewModel.queryText` in `onQueryTextChange()`. \r\n\r\n\r\n___\r\nRegarding your proposed solution, there are a couple of drawbacks. \r\n\r\nFirst, it is really hacky to be trying read the `value` of a LiveData directly instead of observing it. In this case it leaves open the possibility of the user typing a letter before the `allData` gets its first value set, leaving the screen blank until the user types again. \r\n\r\nSecond, you are manually sifting through the data to perform the search yourself, which is likely less efficient than letting the repository do it. Databases are optimized for that kind of thing. ","title":"Potential memory leaks when using searchView along with ROOM database and live data","body":"<p>From what you’ve shown, this does leak observers. There will be obsolete observers sitting in memory for almost every character typed or deleted until the Fragment’s view is destroyed. Even worse, if these observers come from Room, they will all be running queries every time the database is modified until they are released.</p>\n<p>One way to avoid this would be to use a switch map operation based on the search query. The switch map operation does exactly what we want…when there is new data, it cancels observing the previous LiveData and starts a new one. This is done under its own hood, so to an outside observer, it’s just a single LiveData stream.</p>\n<p>In the ViewModel, something like this:</p>\n<pre><code>private val searchQuery = MutableLiveData(&quot;&quot;)\n\nval queryText: String\n    get() = searchQuery.value\n    set(value) { searchQuery.value = value }\n\nval searchedData = searchQuery.switchMap { query -&gt;\n    if (query.isEmpty()) repo.allData else repo.searchAll(query)\n}\n</code></pre>\n<p>Now in your UI classes you only observe <code>viewModel.searchedData</code> a single time in <code>onViewCreated()</code> and do nothing but set the new value of <code>ViewModel.queryText</code> in <code>onQueryTextChange()</code>.</p>\n<hr />\n<p>Regarding your proposed solution, there are a couple of drawbacks.</p>\n<p>First, it is really hacky to be trying read the <code>value</code> of a LiveData directly instead of observing it. In this case it leaves open the possibility of the user typing a letter before the <code>allData</code> gets its first value set, leaving the screen blank until the user types again.</p>\n<p>Second, you are manually sifting through the data to perform the search yourself, which is likely less efficient than letting the repository do it. Databases are optimized for that kind of thing.</p>\n"}],"owner":{"account_id":23333457,"reputation":9,"user_id":17409496,"display_name":"Emz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76985753,"answer_count":1,"score":0,"last_activity_date":1693111572,"creation_date":1693040785,"question_id":76982259,"body_markdown":"I&#39;m looking to implement a SearchView feature in an app that utilizes the ROOM library. During my online research, I noticed that many examples follow a pattern similar to the one below: \r\n\r\n    override fun onQueryTextChange(newText: String?): Boolean {\r\n            if (newText != null) {\r\n                mViewModel.searchAllDatabase(newText).observe(viewLifecycleOwner){\r\n                    ...\r\n                }\r\n            }\r\n            return true\r\n        }\r\n\r\nNow, I&#39;m curious to know if I&#39;m getting the whole thing right. Could it be the case that with this approach, a new observer is created each time a user enters a new letter and the onQueryTextChange method is triggered? If that&#39;s the case, does this potentially lead to memory leaks? Or, on the other hand, does the viewLifecycleOwner automatically handle these observers, ensuring they are disposed of when they&#39;re no longer needed?\r\n\r\nEdit:what if we follow this approach:\r\n\r\n    override fun onQueryTextChange(newText: String?): Boolean {\r\n            if (newText != null) viewModel.searchQuery.value = newText\r\n            return true\r\n        }\r\nInside onViewCreated:\r\n\r\n    viewModel.allData.observe(viewLifecycleOwner) {\r\n            adapter.setData(it)\r\n        }\r\n    viewModel.searchQuery.observe(viewLifecycleOwner) { query -&gt;\r\n            if (viewModel.allData.value != null) {\r\n                adapter.setData(viewModel.allData.value!!.filter { it.title.contains(query) })\r\n            }\r\n        }\r\n\r\n","title":"Potential memory leaks when using searchView along with ROOM database and live data","body":"<p>I'm looking to implement a SearchView feature in an app that utilizes the ROOM library. During my online research, I noticed that many examples follow a pattern similar to the one below:</p>\n<pre><code>override fun onQueryTextChange(newText: String?): Boolean {\n        if (newText != null) {\n            mViewModel.searchAllDatabase(newText).observe(viewLifecycleOwner){\n                ...\n            }\n        }\n        return true\n    }\n</code></pre>\n<p>Now, I'm curious to know if I'm getting the whole thing right. Could it be the case that with this approach, a new observer is created each time a user enters a new letter and the onQueryTextChange method is triggered? If that's the case, does this potentially lead to memory leaks? Or, on the other hand, does the viewLifecycleOwner automatically handle these observers, ensuring they are disposed of when they're no longer needed?</p>\n<p>Edit:what if we follow this approach:</p>\n<pre><code>override fun onQueryTextChange(newText: String?): Boolean {\n        if (newText != null) viewModel.searchQuery.value = newText\n        return true\n    }\n</code></pre>\n<p>Inside onViewCreated:</p>\n<pre><code>viewModel.allData.observe(viewLifecycleOwner) {\n        adapter.setData(it)\n    }\nviewModel.searchQuery.observe(viewLifecycleOwner) { query -&gt;\n        if (viewModel.allData.value != null) {\n            adapter.setData(viewModel.allData.value!!.filter { it.title.contains(query) })\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1693102355,"post_id":76985334,"comment_id":135715362,"body_markdown":"First time seeing `%3A+Could+not+initialize+class+`, but I&#39;ve seen `NoClassDefFoundError` be thrown when the static initialization of a class failed (e.g. an exception being thrown). Those files noted in the linked duplicates may have new names now (since the answer is dated 2015, which was Java 8-11 era). More information regarding the error (e.g. a stack trace) would be helpful, or some type of reproducible example. Without those debugging details, we&#39;re left shooting in the dark.","body":"First time seeing <code>%3A+Could+not+initialize+class+</code>, but I&#39;ve seen <code>NoClassDefFoundError</code> be thrown when the static initialization of a class failed (e.g. an exception being thrown). Those files noted in the linked duplicates may have new names now (since the answer is dated 2015, which was Java 8-11 era). More information regarding the error (e.g. a stack trace) would be helpful, or some type of reproducible example. Without those debugging details, we&#39;re left shooting in the dark."}],"answers":[{"comments":[{"owner":{"account_id":18264897,"reputation":340,"user_id":13296852,"display_name":"Akari Oozora"},"score":0,"creation_date":1693109780,"post_id":76985611,"comment_id":135715640,"body_markdown":"Added stack trace and right now downloading Java 11 test, will return later to report what happened.","body":"Added stack trace and right now downloading Java 11 test, will return later to report what happened."},{"owner":{"account_id":18264897,"reputation":340,"user_id":13296852,"display_name":"Akari Oozora"},"score":0,"creation_date":1693110250,"post_id":76985611,"comment_id":135715667,"body_markdown":"Worked perfeclty, saved my life.","body":"Worked perfeclty, saved my life."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693108972,"creation_date":1693107074,"answer_id":76985611,"question_id":76985334,"body_markdown":"Pentaho 9.3 is supported on Java 11; see [What&#39;s new in Pentaho 9.3](https://help.hitachivantara.com/Documentation/Pentaho/Data_Integration_and_Analytics/9.3/What%27s_new_in_Pentaho_9.3).\r\n\r\nWhat you are seeing is due to your attempting to run it on Java 20.  In Java 17, the security manager framework has been deprecated (see https://openjdk.org/jeps/411), and in Java 18 they started the process of dismantling it and removing it from the OpenJDK code base.  \r\n\r\nIt *appears* that Pentaho 9.3 startup depends on the security manager and/or on the obsolete&lt;sup&gt;1&lt;/sup&gt; crypto export policy JAR files that apparently have been removed&lt;sup&gt;2&lt;/sup&gt;; see https://stackoverflow.com/questions/65221732.  You didn&#39;t provide full stacktraces so we can&#39;t diagnose this fully.\r\n\r\n&lt;sup&gt;1 - Full strength crypto support is now enabled by default in all current builds of Java 8 and later.  The policy JARs have been obsolete for over 5 years; see https://bugs.openjdk.org/browse/JDK-8170157.&lt;br&gt;\r\n2 - I couldn&#39;t track down precisely when they were removed.&lt;/sup&gt;\r\n\r\n------------------\r\n\r\n&gt; What should I do?\r\n\r\nMy recommendation would be to use Java 11 until the vendor releases a Pentaho version that *they say* supports Java 17 LTS or the soon to be released Java 21 LTS.  \r\n\r\nTrying to get Pentaho (any version!) to work on a non-LTS Java version seems pointless.  Non-LTS Java versions only last 6 months anyway.  Java 20 will be end-of-life in under a month from now!","title":"local_policy.jar in JDK 20 and JRE 1.8","body":"<p>Pentaho 9.3 is supported on Java 11; see <a href=\"https://help.hitachivantara.com/Documentation/Pentaho/Data_Integration_and_Analytics/9.3/What%27s_new_in_Pentaho_9.3\" rel=\"nofollow noreferrer\">What's new in Pentaho 9.3</a>.</p>\n<p>What you are seeing is due to your attempting to run it on Java 20.  In Java 17, the security manager framework has been deprecated (see <a href=\"https://openjdk.org/jeps/411\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/411</a>), and in Java 18 they started the process of dismantling it and removing it from the OpenJDK code base.</p>\n<p>It <em>appears</em> that Pentaho 9.3 startup depends on the security manager and/or on the obsolete<sup>1</sup> crypto export policy JAR files that apparently have been removed<sup>2</sup>; see <a href=\"https://stackoverflow.com/questions/65221732\">Use of Local_policy.jar and US_export_policy.jar</a>.  You didn't provide full stacktraces so we can't diagnose this fully.</p>\n<p><sup>1 - Full strength crypto support is now enabled by default in all current builds of Java 8 and later.  The policy JARs have been obsolete for over 5 years; see <a href=\"https://bugs.openjdk.org/browse/JDK-8170157\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8170157</a>.<br>\n2 - I couldn't track down precisely when they were removed.</sup></p>\n<hr />\n<blockquote>\n<p>What should I do?</p>\n</blockquote>\n<p>My recommendation would be to use Java 11 until the vendor releases a Pentaho version that <em>they say</em> supports Java 17 LTS or the soon to be released Java 21 LTS.</p>\n<p>Trying to get Pentaho (any version!) to work on a non-LTS Java version seems pointless.  Non-LTS Java versions only last 6 months anyway.  Java 20 will be end-of-life in under a month from now!</p>\n"}],"owner":{"account_id":18264897,"reputation":340,"user_id":13296852,"display_name":"Akari Oozora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76985611,"answer_count":1,"score":0,"last_activity_date":1693110705,"creation_date":1693096585,"question_id":76985334,"body_markdown":"I&#39;m trying to perform a transformation on Pentaho 9.3 using a database on my machine (localhost).\r\n\r\nWhenever I try to run, it returns the following error: `java.lang.noclassdeffounderror: Could not initialize class javax.crypto.JceSecurity`\r\n\r\nSearching for the error, I found this question on SO: https://stackoverflow.com/questions/29301407/java-lang-noclassdeffounderror-could-not-initialize-class-javax-crypto-jcesecur\r\n\r\n\r\n&gt; Make sure the following files on executing JRE is NOT corrupted/modified/deleted.   \r\n   jre\\lib\\security\\local_policy.jar\r\n   jre\\lib\\security\\US_export_policy.jar \r\n\r\nHowever, I didn&#39;t find either of these files. I have searched on both JDK 17 and 20 and JRE 1.8 files, all fresh installations.\r\n\r\nWhat should I do?\r\n\r\nAdding stack trace for a greater context:\r\n\r\n```\r\n2023/08/27 01:09:37 - Spoon - Running transformation using the Kettle execution engine\r\n2023/08/27 01:09:37 - Spoon - Transformation opened.\r\n2023/08/27 01:09:37 - Spoon - Launching transformation [Transf 01 Importa Dados 2005 para DS]...\r\n2023/08/27 01:09:37 - Spoon - Started the transformation execution.\r\n2023/08/27 01:09:37 - Transf 01 Importa Dados 2005 para DS - Dispatching started for transformation [Transf 01 Importa Dados 2005 para DS]\r\n2023/08/27 01:09:37 - Table output.0 - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Error initializing step [Table output]\r\n2023/08/27 01:09:37 - Table output.0 - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : java.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurity\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.crypto.SecretKeyFactory.nextSpi(SecretKeyFactory.java:299)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.crypto.SecretKeyFactory.&lt;init&gt;(SecretKeyFactory.java:117)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:164)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:155)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:778)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.postgresql.Driver.connect(Driver.java:264)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:191)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.core.database.Database.connectUsingClass(Database.java:589)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.core.database.Database.normalConnect(Database.java:481)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.core.database.Database.connect(Database.java:389)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.core.database.Database.connect(Database.java:360)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.trans.steps.tableoutput.TableOutput.init(TableOutput.java:533)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.trans.step.StepInitThread.run(StepInitThread.java:69)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n2023/08/27 01:09:37 - Table output.0 - Caused by: java.lang.ExceptionInInitializerError: Exception java.lang.RuntimeException: java.net.MalformedURLException: Unknown protocol: http [in thread &quot;Thread-10&quot;]\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:249)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.crypto.Cipher.getInstance(Cipher.java:549)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.SSLCipher.isTransformationAvailable(SSLCipher.java:477)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.SSLCipher.&lt;init&gt;(SSLCipher.java:466)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.SSLCipher.&lt;clinit&gt;(SSLCipher.java:90)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.CipherSuite.&lt;clinit&gt;(CipherSuite.java:65)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.SSLContextImpl.getApplicableSupportedCipherSuites(SSLContextImpl.java:337)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.ssl.SSLContextImpl$AbstractTLSContext.&lt;clinit&gt;(SSLContextImpl.java:550)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.lang.Class.forName0(Native Method)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.lang.Class.forName(Class.java:391)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.lang.Class.forName(Class.java:382)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.security.Provider$Service.getImplClass(Provider.java:1988)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.security.Provider$Service.getDefaultConstructor(Provider.java:2019)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.security.Provider$Service.newInstanceOf(Provider.java:1933)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.security.Provider$Service.newInstanceUtil(Provider.java:1941)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/java.security.Provider$Service.newInstance(Provider.java:1916)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\r\n2023/08/27 01:09:37 - Table output.0 - \tat java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:185)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.apache.http.ssl.SSLContexts.createDefault(SSLContexts.java:51)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.apache.http.impl.client.HttpClientBuilder.build(HttpClientBuilder.java:977)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.versionchecker.VersionChecker.buildHttpClient(VersionChecker.java:413)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.versionchecker.VersionChecker.performCheck(VersionChecker.java:367)\r\n2023/08/27 01:09:37 - Table output.0 - \tat org.pentaho.di.core.lifecycle.pdi.VersionCheckerListener$1.run(VersionCheckerListener.java:88)\r\n2023/08/27 01:09:37 - Table output.0 - \t... 1 more\r\n2023/08/27 01:09:37 - Transf 01 Importa Dados 2005 para DS - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Step [Table output.0] failed to initialize!\r\n2023/08/27 01:09:37 - Spoon - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Transf 01 Importa Dados 2005 para DS: preparing transformation execution failed\r\n2023/08/27 01:09:37 - Spoon - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : org.pentaho.di.core.exception.KettleException: \r\n2023/08/27 01:09:37 - Spoon - We failed to initialize at least one step.  Execution can not begin!\r\n2023/08/27 01:09:37 - Spoon - \r\n2023/08/27 01:09:37 - Spoon - \r\n2023/08/27 01:09:37 - Spoon - \tat org.pentaho.di.trans.Trans.prepareExecution(Trans.java:1295)\r\n2023/08/27 01:09:37 - Spoon - \tat org.pentaho.di.ui.spoon.trans.TransGraph$30.run(TransGraph.java:4281)\r\n2023/08/27 01:09:37 - Spoon - \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n```","title":"local_policy.jar in JDK 20 and JRE 1.8","body":"<p>I'm trying to perform a transformation on Pentaho 9.3 using a database on my machine (localhost).</p>\n<p>Whenever I try to run, it returns the following error: <code>java.lang.noclassdeffounderror: Could not initialize class javax.crypto.JceSecurity</code></p>\n<p>Searching for the error, I found this question on SO: <a href=\"https://stackoverflow.com/questions/29301407/java-lang-noclassdeffounderror-could-not-initialize-class-javax-crypto-jcesecur\">java.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurityManager</a></p>\n<blockquote>\n<p>Make sure the following files on executing JRE is NOT corrupted/modified/deleted.<br />\njre\\lib\\security\\local_policy.jar\njre\\lib\\security\\US_export_policy.jar</p>\n</blockquote>\n<p>However, I didn't find either of these files. I have searched on both JDK 17 and 20 and JRE 1.8 files, all fresh installations.</p>\n<p>What should I do?</p>\n<p>Adding stack trace for a greater context:</p>\n<pre><code>2023/08/27 01:09:37 - Spoon - Running transformation using the Kettle execution engine\n2023/08/27 01:09:37 - Spoon - Transformation opened.\n2023/08/27 01:09:37 - Spoon - Launching transformation [Transf 01 Importa Dados 2005 para DS]...\n2023/08/27 01:09:37 - Spoon - Started the transformation execution.\n2023/08/27 01:09:37 - Transf 01 Importa Dados 2005 para DS - Dispatching started for transformation [Transf 01 Importa Dados 2005 para DS]\n2023/08/27 01:09:37 - Table output.0 - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Error initializing step [Table output]\n2023/08/27 01:09:37 - Table output.0 - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : java.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurity\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.crypto.SecretKeyFactory.nextSpi(SecretKeyFactory.java:299)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.crypto.SecretKeyFactory.&lt;init&gt;(SecretKeyFactory.java:117)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:164)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:155)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:778)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:161)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.Driver.makeConnection(Driver.java:465)\n2023/08/27 01:09:37 - Table output.0 -  at org.postgresql.Driver.connect(Driver.java:264)\n2023/08/27 01:09:37 - Table output.0 -  at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\n2023/08/27 01:09:37 - Table output.0 -  at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:191)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.core.database.Database.connectUsingClass(Database.java:589)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.core.database.Database.normalConnect(Database.java:481)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.core.database.Database.connect(Database.java:389)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.core.database.Database.connect(Database.java:360)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.trans.steps.tableoutput.TableOutput.init(TableOutput.java:533)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.trans.step.StepInitThread.run(StepInitThread.java:69)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.lang.Thread.run(Thread.java:1623)\n2023/08/27 01:09:37 - Table output.0 - Caused by: java.lang.ExceptionInInitializerError: Exception java.lang.RuntimeException: java.net.MalformedURLException: Unknown protocol: http [in thread &quot;Thread-10&quot;]\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:249)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.crypto.Cipher.getInstance(Cipher.java:549)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.SSLCipher.isTransformationAvailable(SSLCipher.java:477)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.SSLCipher.&lt;init&gt;(SSLCipher.java:466)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.SSLCipher.&lt;clinit&gt;(SSLCipher.java:90)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.CipherSuite.&lt;clinit&gt;(CipherSuite.java:65)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.SSLContextImpl.getApplicableSupportedCipherSuites(SSLContextImpl.java:337)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.ssl.SSLContextImpl$AbstractTLSContext.&lt;clinit&gt;(SSLContextImpl.java:550)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.lang.Class.forName0(Native Method)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.lang.Class.forName(Class.java:391)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.lang.Class.forName(Class.java:382)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.security.Provider$Service.getImplClass(Provider.java:1988)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.security.Provider$Service.getDefaultConstructor(Provider.java:2019)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.security.Provider$Service.newInstanceOf(Provider.java:1933)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.security.Provider$Service.newInstanceUtil(Provider.java:1941)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/java.security.Provider$Service.newInstance(Provider.java:1916)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\n2023/08/27 01:09:37 - Table output.0 -  at java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:185)\n2023/08/27 01:09:37 - Table output.0 -  at org.apache.http.ssl.SSLContexts.createDefault(SSLContexts.java:51)\n2023/08/27 01:09:37 - Table output.0 -  at org.apache.http.impl.client.HttpClientBuilder.build(HttpClientBuilder.java:977)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.versionchecker.VersionChecker.buildHttpClient(VersionChecker.java:413)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.versionchecker.VersionChecker.performCheck(VersionChecker.java:367)\n2023/08/27 01:09:37 - Table output.0 -  at org.pentaho.di.core.lifecycle.pdi.VersionCheckerListener$1.run(VersionCheckerListener.java:88)\n2023/08/27 01:09:37 - Table output.0 -  ... 1 more\n2023/08/27 01:09:37 - Transf 01 Importa Dados 2005 para DS - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Step [Table output.0] failed to initialize!\n2023/08/27 01:09:37 - Spoon - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : Transf 01 Importa Dados 2005 para DS: preparing transformation execution failed\n2023/08/27 01:09:37 - Spoon - ERROR (version 9.3.0.0-428, build 9.3.0.0-428 from 2022-04-12 04.56.25 by buildguy) : org.pentaho.di.core.exception.KettleException: \n2023/08/27 01:09:37 - Spoon - We failed to initialize at least one step.  Execution can not begin!\n2023/08/27 01:09:37 - Spoon - \n2023/08/27 01:09:37 - Spoon - \n2023/08/27 01:09:37 - Spoon -   at org.pentaho.di.trans.Trans.prepareExecution(Trans.java:1295)\n2023/08/27 01:09:37 - Spoon -   at org.pentaho.di.ui.spoon.trans.TransGraph$30.run(TransGraph.java:4281)\n2023/08/27 01:09:37 - Spoon -   at java.base/java.lang.Thread.run(Thread.java:1623)\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":4197388,"reputation":8387,"user_id":3438473,"accept_rate":58,"display_name":"CuriousMind"},"score":0,"creation_date":1607540044,"post_id":65222857,"comment_id":115307785,"body_markdown":"Thanks for your answer.  I am using Java 8, so does it still qualify to be obsolete? If so, then what options come out of the box (that is, by JDK itself)?","body":"Thanks for your answer.  I am using Java 8, so does it still qualify to be obsolete? If so, then what options come out of the box (that is, by JDK itself)?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1607608959,"post_id":65222857,"comment_id":115330513,"body_markdown":"If you&#39;re using Oracle 8u161 up (as my link says, which are after late 2017 as I said), the unlimited-policy patch is obsolete; the install already has the unlimited policy. If OpenJDK 8 at any update, no patch is or ever was needed, as I said. If IBM Java 8, I don&#39;t know, as I said.","body":"If you&#39;re using Oracle 8u161 up (as my link says, which are after late 2017 as I said), the unlimited-policy patch is obsolete; the install already has the unlimited policy. If OpenJDK 8 at any update, no patch is or ever was needed, as I said. If IBM Java 8, I don&#39;t know, as I said."}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1608033195,"creation_date":1607538912,"answer_id":65222857,"question_id":65221732,"body_markdown":"**THEY ARE OBSOLETE** (at least as separate added files)\r\n\r\nThey _were_ used in an optional, and (nominally) geographically restricted, patch to versions of Sun-then-Oracle Java before late 2017, to enable (symmetric) ciphers with strength of more than 128 bits, which were disabled in the basic distribution packages in a lingering after-effect of conformity to US export regulations from the 1990s. No such patch was ever needed for OpenJDK, once that was released (which only started after the &#39;crypto thaw&#39;), but in its early years it wasn&#39;t widely supported and sometimes not consistently available, so many people continued using the Oracle/Sun versions -- and many Stack Overflow questions and/or answers (both Stack Overflow and others like security.SX and Super User and Server Fault) were written for that case. Since Stack Overflow doesn&#39;t automatically delete or even deprecate old content, it remains available.\r\n\r\nFor the official details (of the versions that still have any support, even paid) see https://www.oracle.com/java/technologies/javase-jce-all-downloads.html .\r\n\r\nIBM has long had its own implementation of Java, especially the cryptographic parts, and had a similar (but not the same) set of policy jars; I don&#39;t know if they still do, since I no longer have IBM systems running Java. In any case, Stack Overflow questions and answers for IBM Java are rare. \r\n\r\nThe &#39;openness&#39; of the original Sun-centered model for Java was somewhat controversial for years, until finally settled by the establishment of OpenJDK. If you want to discuss that, it probably belongs on https://opensource.stackexchange.com/ .","title":"Use of Local_policy.jar and US_export_policy.jar","body":"<p><strong>THEY ARE OBSOLETE</strong> (at least as separate added files)</p>\n<p>They <em>were</em> used in an optional, and (nominally) geographically restricted, patch to versions of Sun-then-Oracle Java before late 2017, to enable (symmetric) ciphers with strength of more than 128 bits, which were disabled in the basic distribution packages in a lingering after-effect of conformity to US export regulations from the 1990s. No such patch was ever needed for OpenJDK, once that was released (which only started after the 'crypto thaw'), but in its early years it wasn't widely supported and sometimes not consistently available, so many people continued using the Oracle/Sun versions -- and many Stack Overflow questions and/or answers (both Stack Overflow and others like security.SX and Super User and Server Fault) were written for that case. Since Stack Overflow doesn't automatically delete or even deprecate old content, it remains available.</p>\n<p>For the official details (of the versions that still have any support, even paid) see <a href=\"https://www.oracle.com/java/technologies/javase-jce-all-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase-jce-all-downloads.html</a> .</p>\n<p>IBM has long had its own implementation of Java, especially the cryptographic parts, and had a similar (but not the same) set of policy jars; I don't know if they still do, since I no longer have IBM systems running Java. In any case, Stack Overflow questions and answers for IBM Java are rare.</p>\n<p>The 'openness' of the original Sun-centered model for Java was somewhat controversial for years, until finally settled by the establishment of OpenJDK. If you want to discuss that, it probably belongs on <a href=\"https://opensource.stackexchange.com/\">https://opensource.stackexchange.com/</a> .</p>\n"}],"owner":{"account_id":4197388,"reputation":8387,"user_id":3438473,"accept_rate":58,"display_name":"CuriousMind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":875,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":65222857,"answer_count":1,"score":-1,"last_activity_date":1693107574,"creation_date":1607534488,"question_id":65221732,"body_markdown":"What is the use of these jars:\r\n\r\n```\r\nLocal_policy.jar\r\nUS_export_policy.jar \r\n```\r\n\r\nI have seen other SO questions where they are asking how to upgrade. My question is what&#39;s the use of these jars. It seems they come as a violation in open source.\r\n","title":"Use of Local_policy.jar and US_export_policy.jar","body":"<p>What is the use of these jars:</p>\n<pre><code>Local_policy.jar\nUS_export_policy.jar \n</code></pre>\n<p>I have seen other SO questions where they are asking how to upgrade. My question is what's the use of these jars. It seems they come as a violation in open source.</p>\n"},{"tags":["java","android","kotlin","android-studio","f#-giraffe"],"answers":[{"tags":[],"owner":{"account_id":16045392,"reputation":21,"user_id":11580651,"display_name":"Ehsan Yazdanyar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693086003,"creation_date":1693086003,"answer_id":76984939,"question_id":76984478,"body_markdown":"Click on Add your configuration and then in the run/debug configurations dialog press the + icon in the upper left corner, then select the (Android App) and then in the general tab, select your module, finally press ok and Let Android Studio start building your project, then the run icon will be activated and you can run your project\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gVbdf.png","title":"Update Android Studio Giraffe, but it does not recognize my project as an app","body":"<p>Click on Add your configuration and then in the run/debug configurations dialog press the + icon in the upper left corner, then select the (Android App) and then in the general tab, select your module, finally press ok and Let Android Studio start building your project, then the run icon will be activated and you can run your project</p>\n<p><a href=\"https://i.stack.imgur.com/gVbdf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVbdf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5376042,"reputation":21,"user_id":4282918,"display_name":"Roger Natividad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1762,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1693107345,"creation_date":1693077356,"question_id":76984478,"body_markdown":"Good with control, it installs the latest version of Android studio Giraffe but it does not recognize my Android project. Nor does Android view icon appear as.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\nI hope I can compile and with the play icon and test in the emulator\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9qd0l.png","title":"Update Android Studio Giraffe, but it does not recognize my project as an app","body":"<p>Good with control, it installs the latest version of Android studio Giraffe but it does not recognize my Android project. Nor does Android view icon appear as.</p>\n<p><a href=\"https://i.stack.imgur.com/9qd0l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9qd0l.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope I can compile and with the play icon and test in the emulator</p>\n"},{"tags":["java","spring","maven","architecture","microservices"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1548118869,"post_id":54299572,"comment_id":95420043,"body_markdown":"Avoid being unnecessarily specific, such as using `Qualifier` unless you have a known conflict to manage.","body":"Avoid being unnecessarily specific, such as using <code>Qualifier</code> unless you have a known conflict to manage."},{"owner":{"account_id":5123878,"reputation":4700,"user_id":4106653,"accept_rate":100,"display_name":"Neo"},"score":0,"creation_date":1548124968,"post_id":54299572,"comment_id":95421278,"body_markdown":"Did you try using `&lt;scope&gt;runtime&lt;/scope&gt;` instead of `&lt;scope&gt;compile&lt;/scope&gt;`? This should work. Verify that the `test-adapter` classes are available on the Claspath when you run it.","body":"Did you try using <code>&lt;scope&gt;runtime&lt;&#47;scope&gt;</code> instead of <code>&lt;scope&gt;compile&lt;&#47;scope&gt;</code>? This should work. Verify that the <code>test-adapter</code> classes are available on the Claspath when you run it."},{"owner":{"account_id":427843,"reputation":779,"user_id":809808,"accept_rate":67,"display_name":"user809808"},"score":0,"creation_date":1548138606,"post_id":54299572,"comment_id":95424697,"body_markdown":"@chrylis, sure, @Qualifier is the only example to one who can suggest such approach. @Neo, I am not quite sure, that I got your point. It works with `&lt;scope&gt;compile&lt;/scope&gt;` without an issue. My idea to do not have such dependency at all, doesn&#39;t matter scope of it. Do you think it&#39;s impossible to get rid of such relation?","body":"@chrylis, sure, @Qualifier is the only example to one who can suggest such approach. @Neo, I am not quite sure, that I got your point. It works with <code>&lt;scope&gt;compile&lt;&#47;scope&gt;</code> without an issue. My idea to do not have such dependency at all, doesn&#39;t matter scope of it. Do you think it&#39;s impossible to get rid of such relation?"}],"answers":[{"comments":[{"owner":{"account_id":7269650,"reputation":88,"user_id":5543179,"display_name":"Sav74"},"score":0,"creation_date":1618906448,"post_id":57259192,"comment_id":118737692,"body_markdown":"Another good example for creating Hexagonal architecture with Spring Boot:\nhttps://github.com/sofieneBK/hands-on-hexagonal-architecture-with-spring-boot\n\nThe adapter and port have only the dependencies with the domain; The application module (with Spring boot laucher) has the dependencies with all the adapters","body":"Another good example for creating Hexagonal architecture with Spring Boot: <a href=\"https://github.com/sofieneBK/hands-on-hexagonal-architecture-with-spring-boot\" rel=\"nofollow noreferrer\">github.com/sofieneBK/&hellip;</a>  The adapter and port have only the dependencies with the domain; The application module (with Spring boot laucher) has the dependencies with all the adapters"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1680961524,"post_id":57259192,"comment_id":133984406,"body_markdown":"@Julien &quot;Nothing states that an adapter should be standalone&quot; : yes it does, the &quot;application&quot; and &quot;infrastructure&quot; layers should ideally depend only the &quot;domain&quot; layer. It would be useful to be able to do so with Spring, so that your new trainee doesn&#39;t is not tempted to inject a repository directly in a controller  ;)","body":"@Julien &quot;Nothing states that an adapter should be standalone&quot; : yes it does, the &quot;application&quot; and &quot;infrastructure&quot; layers should ideally depend only the &quot;domain&quot; layer. It would be useful to be able to do so with Spring, so that your new trainee doesn&#39;t is not tempted to inject a repository directly in a controller  ;)"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1680962462,"post_id":57259192,"comment_id":133984525,"body_markdown":"@Sav74 No, the application module depends only on the domain module. There is an additional &quot;spring-launcher&quot; module which depends on all modules to allow the spring wiring.","body":"@Sav74 No, the application module depends only on the domain module. There is an additional &quot;spring-launcher&quot; module which depends on all modules to allow the spring wiring."}],"tags":[],"owner":{"account_id":16410155,"reputation":79,"user_id":11853662,"display_name":"Julien Top&#231;u"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1564424190,"creation_date":1564423323,"answer_id":57259192,"question_id":54299572,"body_markdown":"This is not really related to hexagonal architecture.\r\n\r\nThe SpringBootApplication will need in the classpath all the beans to be exposed in the ApplicationContext.\r\n\r\nI suppose in your case, this class is located in **test-application**.\r\nIf you don&#39;t put any dependency to **test-adapter**, the Configurations will not be loaded, so your ComponentScan has no effect.\r\n\r\nEven magic autoconfigured beans in SpringBoot have to be declared at least in runtime scope in your pom.xml\r\n\r\nMoreover in Hexagonal Architecture implementation, we usually use the application module to compose the bean injection strategy. So you should put your configurations inside this layer.\r\n\r\nThe adapters are used to interact with you domain, like a Rest layer for example.\r\n\r\nThe given [hexagonal architecture implementation example](https://gitlab.com/crafts-records/talkadvisor/talkadvisor-back/tree/master/talkadvisor-infra/talkadvisor-infra-application/src/main/kotlin/org/craftsrecords/talkadvisor/infra) has a single module where the application and the adapters are gathered. But if you want to split it, you&#39;ll basically get: \r\n\r\n - in an application module: the configurations and the *Application\r\n - in a youtube adapter: the youtube package (SPI in that case)\r\n - in a rest adapter: the controller and the resources\r\n\r\nBut the application module will have to get a dependency on each adapter.\r\n\r\nThe main purpose of the [hexagonal architecture](https://beyondxscratch.com/2017/08/19/decoupling-your-technical-code-from-your-business-logic-with-the-hexagonal-architecture-hexarch/) is the decoupling of the business logic from the technical part. Nothing states that an adapter should be standalone, but it can be your implementation choice anyway :)\r\n\r\n \r\n","title":"Hexagonal architecture with Spring and modules","body":"<p>This is not really related to hexagonal architecture.</p>\n\n<p>The SpringBootApplication will need in the classpath all the beans to be exposed in the ApplicationContext.</p>\n\n<p>I suppose in your case, this class is located in <strong>test-application</strong>.\nIf you don't put any dependency to <strong>test-adapter</strong>, the Configurations will not be loaded, so your ComponentScan has no effect.</p>\n\n<p>Even magic autoconfigured beans in SpringBoot have to be declared at least in runtime scope in your pom.xml</p>\n\n<p>Moreover in Hexagonal Architecture implementation, we usually use the application module to compose the bean injection strategy. So you should put your configurations inside this layer.</p>\n\n<p>The adapters are used to interact with you domain, like a Rest layer for example.</p>\n\n<p>The given <a href=\"https://gitlab.com/crafts-records/talkadvisor/talkadvisor-back/tree/master/talkadvisor-infra/talkadvisor-infra-application/src/main/kotlin/org/craftsrecords/talkadvisor/infra\" rel=\"nofollow noreferrer\">hexagonal architecture implementation example</a> has a single module where the application and the adapters are gathered. But if you want to split it, you'll basically get: </p>\n\n<ul>\n<li>in an application module: the configurations and the *Application</li>\n<li>in a youtube adapter: the youtube package (SPI in that case)</li>\n<li>in a rest adapter: the controller and the resources</li>\n</ul>\n\n<p>But the application module will have to get a dependency on each adapter.</p>\n\n<p>The main purpose of the <a href=\"https://beyondxscratch.com/2017/08/19/decoupling-your-technical-code-from-your-business-logic-with-the-hexagonal-architecture-hexarch/\" rel=\"nofollow noreferrer\">hexagonal architecture</a> is the decoupling of the business logic from the technical part. Nothing states that an adapter should be standalone, but it can be your implementation choice anyway :)</p>\n"}],"owner":{"account_id":427843,"reputation":779,"user_id":809808,"accept_rate":67,"display_name":"user809808"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3023,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693103327,"creation_date":1548116269,"question_id":54299572,"body_markdown":"I am trying to implement [Hexagonal architecture][1] over Spring Boot application with multiple `Maven` modules. The main idea to depend on abstractions, not concretions. \r\nI created three modules **test-core**, **test-adapter**, **test-application** basically as described [here][2]:\r\n\r\n    ┌ \\ pom.xml\r\n    ├ \\ test-core\r\n    │   ├  pom.xml\r\n    │   └─ src\\com\\example\\core\\\r\n    |                      ├─ ConfigCore.java\r\n    |                      └─ FooService.java\r\n    ├ \\ test-adapter\r\n    │   ├  pom.xml\r\n    |   └─ src\\com\\example\\adapter\\\r\n    |                      ├─ ConfigAdapter.java\r\n    |                      └─ FooServiceImpl.java\r\n    └ \\ test-application\r\n        ├  pom.xml\r\n        └─ src\\com\\example\\\r\n                   ├─ ConfigApplication.java\r\n                   └─ Application.java\r\n        \r\nThe main idea is to have next dependencies: \r\n\r\n - **test-adapter** depends from **test-core**\r\n - **test-application** depends from **test-core**\r\n\r\nand that&#39;s all. However it&#39;s not possible to implement without third dependency where **test-application** depends from **test-adapter**. In given example, which I used they did it by this way (added direct dependency). However I would like to avoid this, as I want to have architect design without such coupling.\r\nIs it possible to implement somehow? Or I want too much? Or I incorrectly understand Ports-And-Adapters architecture? \r\n\r\nTo make issue more clear, below you can find code. **FooServices.java**\r\n\r\n    package com.example.core;\r\n    public interface FooService { String execute(); }\r\n\r\n**FooServiceImpl.java**\r\n\r\n    package com.example.adapter;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import com.example.core.FooService;\r\n    @Service\r\n    @Qualifier(&quot;fooService&quot;)\r\n    public class FooServiceImpl implements FooService {\r\n        public String execute() { return &quot;Hello world!&quot;; }\r\n    }\r\n\r\n**Application.java**\r\n\r\n    package com.example;\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.example&quot;})\r\n    public class Application {\r\n        @Autowired\r\n        @Qualifier(&quot;fooService&quot;)\r\n        FooService fooService;\r\n\r\n        public static void main(String[] args) { SpringApplication.run(Application.class, args); }\r\n        @Bean\r\n        public CommandLineRunner commandLineRunner(ApplicationContext ctx) { return args -&gt; { System.out.println(fooService.execute()); }; }\r\n    }\r\n\r\nwithout written dependency in **\\ test-application \\ pom.xml** to **test-adapter** \r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test-adapter&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI constantly receive next error\r\n\r\n&gt; Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;application&#39;: Unsatisfied dependency expressed through field &#39;fooService&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.core.FooService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=fooService)}\r\n\r\nAs you see `@Qualifier` annotation doesn&#39;t help here. `@ComponentScan(basePackages = {&quot;com.example&quot;})`, `@SpringBootApplication(scanBasePackages = {&quot;com.example&quot;})` as well. \r\n\r\nSolution is to implement next steps:\r\n**ConfigCore.java**\r\n\r\n    package com.example.core;\r\n    @Configuration\r\n    @ComponentScan(basePackages = {&quot;com.example.core&quot;})\r\n    public class ConfigCore { }\r\n\r\n**ConfigAdapter.java**\r\n\r\n    package com.example.adapter;\r\n    @Configuration\r\n    @ComponentScan(basePackages = {&quot;com.example.adapter&quot;})\r\n    public class ConfigAdapter { }\r\n\r\n**ConfigApplication.java**\r\n\r\n    package com.example;\r\n    import com.example.core.ConfigCore;\r\n    import com.example.adapter.ConfigAdapter;\r\n    @Configuration\r\n    @ComponentScan(basePackages = {&quot;com.example&quot;})\r\n    @Import({ConfigCore.class, ConfigAdapter.class})\r\n    public class ConfigApplication { }\r\n\r\nand put corresponding dependency (mentioned above) to **pom.xml**. In that case everything works fine. However, as I mentioned I don&#39;t think that this is correct approach. Could you help me with understanding of possibilities to remove this dependency between **test-adapter** and **test-application** ? \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)\r\n  [2]: https://github.com/gshaw-pivotal/spring-hexagonal-example","title":"Hexagonal architecture with Spring and modules","body":"<p>I am trying to implement <a href=\"https://en.wikipedia.org/wiki/Hexagonal_architecture_(software)\" rel=\"nofollow noreferrer\">Hexagonal architecture</a> over Spring Boot application with multiple <code>Maven</code> modules. The main idea to depend on abstractions, not concretions.\nI created three modules <strong>test-core</strong>, <strong>test-adapter</strong>, <strong>test-application</strong> basically as described <a href=\"https://github.com/gshaw-pivotal/spring-hexagonal-example\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>┌ \\ pom.xml\n├ \\ test-core\n│   ├  pom.xml\n│   └─ src\\com\\example\\core\\\n|                      ├─ ConfigCore.java\n|                      └─ FooService.java\n├ \\ test-adapter\n│   ├  pom.xml\n|   └─ src\\com\\example\\adapter\\\n|                      ├─ ConfigAdapter.java\n|                      └─ FooServiceImpl.java\n└ \\ test-application\n    ├  pom.xml\n    └─ src\\com\\example\\\n               ├─ ConfigApplication.java\n               └─ Application.java\n    \n</code></pre>\n<p>The main idea is to have next dependencies:</p>\n<ul>\n<li><strong>test-adapter</strong> depends from <strong>test-core</strong></li>\n<li><strong>test-application</strong> depends from <strong>test-core</strong></li>\n</ul>\n<p>and that's all. However it's not possible to implement without third dependency where <strong>test-application</strong> depends from <strong>test-adapter</strong>. In given example, which I used they did it by this way (added direct dependency). However I would like to avoid this, as I want to have architect design without such coupling.\nIs it possible to implement somehow? Or I want too much? Or I incorrectly understand Ports-And-Adapters architecture?</p>\n<p>To make issue more clear, below you can find code. <strong>FooServices.java</strong></p>\n<pre><code>package com.example.core;\npublic interface FooService { String execute(); }\n</code></pre>\n<p><strong>FooServiceImpl.java</strong></p>\n<pre><code>package com.example.adapter;\nimport org.springframework.stereotype.Service;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport com.example.core.FooService;\n@Service\n@Qualifier(&quot;fooService&quot;)\npublic class FooServiceImpl implements FooService {\n    public String execute() { return &quot;Hello world!&quot;; }\n}\n</code></pre>\n<p><strong>Application.java</strong></p>\n<pre><code>package com.example;\n@SpringBootApplication(scanBasePackages = {&quot;com.example&quot;})\npublic class Application {\n    @Autowired\n    @Qualifier(&quot;fooService&quot;)\n    FooService fooService;\n\n    public static void main(String[] args) { SpringApplication.run(Application.class, args); }\n    @Bean\n    public CommandLineRunner commandLineRunner(ApplicationContext ctx) { return args -&gt; { System.out.println(fooService.execute()); }; }\n}\n</code></pre>\n<p>without written dependency in <strong>\\ test-application \\ pom.xml</strong> to <strong>test-adapter</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test-adapter&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I constantly receive next error</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'application': Unsatisfied dependency expressed through field 'fooService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.core.FooService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=fooService)}</p>\n</blockquote>\n<p>As you see <code>@Qualifier</code> annotation doesn't help here. <code>@ComponentScan(basePackages = {&quot;com.example&quot;})</code>, <code>@SpringBootApplication(scanBasePackages = {&quot;com.example&quot;})</code> as well.</p>\n<p>Solution is to implement next steps:\n<strong>ConfigCore.java</strong></p>\n<pre><code>package com.example.core;\n@Configuration\n@ComponentScan(basePackages = {&quot;com.example.core&quot;})\npublic class ConfigCore { }\n</code></pre>\n<p><strong>ConfigAdapter.java</strong></p>\n<pre><code>package com.example.adapter;\n@Configuration\n@ComponentScan(basePackages = {&quot;com.example.adapter&quot;})\npublic class ConfigAdapter { }\n</code></pre>\n<p><strong>ConfigApplication.java</strong></p>\n<pre><code>package com.example;\nimport com.example.core.ConfigCore;\nimport com.example.adapter.ConfigAdapter;\n@Configuration\n@ComponentScan(basePackages = {&quot;com.example&quot;})\n@Import({ConfigCore.class, ConfigAdapter.class})\npublic class ConfigApplication { }\n</code></pre>\n<p>and put corresponding dependency (mentioned above) to <strong>pom.xml</strong>. In that case everything works fine. However, as I mentioned I don't think that this is correct approach. Could you help me with understanding of possibilities to remove this dependency between <strong>test-adapter</strong> and <strong>test-application</strong> ?</p>\n"},{"tags":["java","android","eclipse","networking","proxy"],"comments":[{"owner":{"account_id":375811,"reputation":67210,"user_id":726863,"accept_rate":81,"display_name":"Lalit Poptani"},"score":0,"creation_date":1326283604,"post_id":8818868,"comment_id":11006803,"body_markdown":"Does browser works fine in the Emulator?","body":"Does browser works fine in the Emulator?"},{"owner":{"account_id":440450,"reputation":61,"user_id":830015,"display_name":"Srikanth Pasumarthy"},"score":0,"creation_date":1326284066,"post_id":8818868,"comment_id":11006961,"body_markdown":"@LalitPoptani yes browser works fine in emulator","body":"@LalitPoptani yes browser works fine in emulator"}],"answers":[{"comments":[{"owner":{"account_id":912947,"reputation":210,"user_id":946357,"display_name":"amit sharma"},"score":0,"creation_date":1326285714,"post_id":8819041,"comment_id":11007505,"body_markdown":"Fine,Try to use----------HttpConnectionParams.setConnectionTimeout(client.getParams(), CONNECTION_TIMEOUT);\n\t\t\tHttpConnectionParams.setSoTimeout(client.getParams(), SOCKET_TIMEOUT);","body":"Fine,Try to use----------HttpConnectionParams.setConnectionTimeout(clien&zwnj;&#8203;t.getParams(), CONNECTION_TIMEOUT); \t\t\tHttpConnectionParams.setSoTimeout(client.getParams(), SOCKET_TIMEOUT);"}],"tags":[],"owner":{"account_id":912947,"reputation":210,"user_id":946357,"display_name":"amit sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326284037,"creation_date":1326284037,"answer_id":8819041,"question_id":8818868,"body_markdown":"Just try to do.....\r\n\r\n    connection.setConnectTimeout(timeoutInMillisecs);\r\n\r\nProbably you r not setting it.","title":"java.net.SocketException: Address family not supported by protocol in android emulator","body":"<p>Just try to do.....</p>\n\n<pre><code>connection.setConnectTimeout(timeoutInMillisecs);\n</code></pre>\n\n<p>Probably you r not setting it.</p>\n"},{"comments":[{"owner":{"account_id":440450,"reputation":61,"user_id":830015,"display_name":"Srikanth Pasumarthy"},"score":0,"creation_date":1326287099,"post_id":8819350,"comment_id":11008016,"body_markdown":"After trying this one, its working for local addresses (behind proxy). Still the external addresses are not working..","body":"After trying this one, its working for local addresses (behind proxy). Still the external addresses are not working.."},{"owner":{"display_name":"user1228"},"score":6,"creation_date":1334342594,"post_id":8819350,"comment_id":13010710,"body_markdown":"Stolen from http://stackoverflow.com/questions/7854300/java-net-socketexception-address-family-not-supported-by-protocol","body":"Stolen from <a href=\"http://stackoverflow.com/questions/7854300/java-net-socketexception-address-family-not-supported-by-protocol\" title=\"java net socketexception address family not supported by protocol\">stackoverflow.com/questions/7854300/&hellip;</a>"}],"tags":[],"owner":{"display_name":"user647826"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326285307,"creation_date":1326285307,"answer_id":8819350,"question_id":8818868,"body_markdown":"Try adding this to your AndroidManifest.xml as well:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nYou also need to catch this Exception:\r\n\r\n     catch(SocketException ex)\r\n           {\r\n             Log.e(&quot;Error : &quot; , &quot;Error on soapPrimitiveData() &quot; + ex.getMessage());\r\n               ex.printStackTrace();\r\n           }\r\n\r\n","title":"java.net.SocketException: Address family not supported by protocol in android emulator","body":"<p>Try adding this to your AndroidManifest.xml as well:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>You also need to catch this Exception:</p>\n\n<pre><code> catch(SocketException ex)\n       {\n         Log.e(\"Error : \" , \"Error on soapPrimitiveData() \" + ex.getMessage());\n           ex.printStackTrace();\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937952,"reputation":1414,"user_id":966540,"accept_rate":44,"display_name":"The iCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326287459,"creation_date":1326287459,"answer_id":8819835,"question_id":8818868,"body_markdown":"Try to set your proxy and port programmatically in Oncreate() like this\r\n\r\n          System.setProperty(&quot;http.proxyHost&quot;,&quot;IPaddress of ur machine&quot;);\r\n\t      System.setProperty(&quot;http.proxyPort&quot;,&quot;port no&quot;);","title":"java.net.SocketException: Address family not supported by protocol in android emulator","body":"<p>Try to set your proxy and port programmatically in Oncreate() like this</p>\n\n<pre><code>      System.setProperty(\"http.proxyHost\",\"IPaddress of ur machine\");\n      System.setProperty(\"http.proxyPort\",\"port no\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243485,"reputation":2086,"user_id":515687,"display_name":"hungr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342774720,"creation_date":1342774720,"answer_id":11576154,"question_id":8818868,"body_markdown":"Please try this:\r\n\r\n    HttpURLConnection con =null;\r\n    \r\n    URL url = new URL(&quot;abcdefg&quot;);\r\n    \r\n    Proxy proxy=new Proxy(java.net.Proxy.Type.HTTP, new InetSocketAddress(android.net.Proxy.getDefaultHost(),android.net.Proxy.getDefaultPort()));\r\n    \r\n    con = (HttpURLConnection) url.openConnection(proxy);\r\n\r\n","title":"java.net.SocketException: Address family not supported by protocol in android emulator","body":"<p>Please try this:</p>\n\n<pre><code>HttpURLConnection con =null;\n\nURL url = new URL(\"abcdefg\");\n\nProxy proxy=new Proxy(java.net.Proxy.Type.HTTP, new InetSocketAddress(android.net.Proxy.getDefaultHost(),android.net.Proxy.getDefaultPort()));\n\ncon = (HttpURLConnection) url.openConnection(proxy);\n</code></pre>\n"}],"owner":{"account_id":440450,"reputation":61,"user_id":830015,"display_name":"Srikanth Pasumarthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9613,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1693102021,"creation_date":1326283204,"question_id":8818868,"body_markdown":"I am trying to run simple application to access internet from android emulator and here is my code. I am behind proxy and configured proxy settings in emulator by&quot;...Wireless Networks -&gt; APN -&gt; ...&quot; . But internet is working from browser and not from application.                  \r\n\r\n                HttpURLConnection connection = null;\r\n\t\tString URLName = &quot;http://www.google.com&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tURL u = new URL(URLName);\r\n\t\t\tconnection = (HttpURLConnection) u.openConnection();\r\n\t\t\tconnection.setRequestMethod(&quot;HEAD&quot;);\r\n\t\t\tint code = connection.getResponseCode();\r\n\t\t\tLog.d(TAG1, &quot; &quot; + code);\r\n\t\t\t// You can determine on HTTP return code received. 200 is success.\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t\tLog.d(TAG1, e.toString());\r\n\t\t}\r\n\r\n\t\tfinally {\r\n\t\t\tif (connection != null) {\r\n\t\t\t\tconnection.disconnect();\r\n\t\t\t}\r\n\t\t}\r\n\r\nThe part of error log in Logcat is as follows:\r\n\r\n    01-11 01:01:26.308: DEBUG/SntpClient(72): request time failed: java.net.SocketException: Address family not supported by protocol\r\n    \r\n    01-11 01:02:39.909: WARN/System.err(422): java.net.SocketException: The operation timed out\r\n\r\nI tried the following options after searching in forum but none of them seems working:\r\n\r\n1. In android launch options I used -http-proxy server:port -dns-server server\r\n\r\n2. I have included internet permissions in manifest file\r\n\r\n   \r\n\r\n       uses-permission android:name=&quot;android.permission.INTERNET&quot; \r\n\r\n        uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; \r\n\r\n3. Set the system properties to use ipv4 stack after someone suggested\r\n\r\n                java.lang.System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;true&quot;);\r\n\t\tjava.lang.System.setProperty(&quot;java.net.preferIPv6Addresses&quot;, &quot;false&quot;);\r\n\r\nI am working on Android 2.2 and windows vista, can you please help me here...\r\n\r\n","title":"java.net.SocketException: Address family not supported by protocol in android emulator","body":"<p>I am trying to run simple application to access internet from android emulator and here is my code. I am behind proxy and configured proxy settings in emulator by\"...Wireless Networks -> APN -> ...\" . But internet is working from browser and not from application.                  </p>\n\n<pre><code>            HttpURLConnection connection = null;\n    String URLName = \"http://www.google.com\";\n\n    try {\n        URL u = new URL(URLName);\n        connection = (HttpURLConnection) u.openConnection();\n        connection.setRequestMethod(\"HEAD\");\n        int code = connection.getResponseCode();\n        Log.d(TAG1, \" \" + code);\n        // You can determine on HTTP return code received. 200 is success.\n    } catch (MalformedURLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        Log.d(TAG1, e.toString());\n    }\n\n    finally {\n        if (connection != null) {\n            connection.disconnect();\n        }\n    }\n</code></pre>\n\n<p>The part of error log in Logcat is as follows:</p>\n\n<pre><code>01-11 01:01:26.308: DEBUG/SntpClient(72): request time failed: java.net.SocketException: Address family not supported by protocol\n\n01-11 01:02:39.909: WARN/System.err(422): java.net.SocketException: The operation timed out\n</code></pre>\n\n<p>I tried the following options after searching in forum but none of them seems working:</p>\n\n<ol>\n<li><p>In android launch options I used -http-proxy server:port -dns-server server</p></li>\n<li><p>I have included internet permissions in manifest file</p>\n\n<p>uses-permission android:name=\"android.permission.INTERNET\" </p>\n\n<pre><code>uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" \n</code></pre></li>\n<li><p>Set the system properties to use ipv4 stack after someone suggested</p>\n\n<pre><code>        java.lang.System.setProperty(\"java.net.preferIPv4Stack\", \"true\");\njava.lang.System.setProperty(\"java.net.preferIPv6Addresses\", \"false\");\n</code></pre></li>\n</ol>\n\n<p>I am working on Android 2.2 and windows vista, can you please help me here...</p>\n"},{"tags":["java","list","types"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1629059081,"post_id":68795035,"comment_id":121580509,"body_markdown":"Your basic premise is wrong as objects never &quot;lose&quot; their type. Perhaps you want to use a double-dispatch mechanism, such as the Visitor Design Pattern","body":"Your basic premise is wrong as objects never &quot;lose&quot; their type. Perhaps you want to use a double-dispatch mechanism, such as the Visitor Design Pattern"},{"owner":{"account_id":22472430,"reputation":13,"user_id":16672688,"display_name":"Akjo"},"score":0,"creation_date":1629059786,"post_id":68795035,"comment_id":121580627,"body_markdown":"@HovercraftFullOfEels But if I add a Node to a List of BaseElements for example, I don&#39;t have access to the methods/fields of Node, which I need in this case. I still need to figure out what types are exactly and how to use them effectively. Will look into the Visitor Design Pattern then and see if it solves my problem. Thank you!","body":"@HovercraftFullOfEels But if I add a Node to a List of BaseElements for example, I don&#39;t have access to the methods/fields of Node, which I need in this case. I still need to figure out what types are exactly and how to use them effectively. Will look into the Visitor Design Pattern then and see if it solves my problem. Thank you!"},{"owner":{"account_id":18907962,"reputation":321,"user_id":13794675,"display_name":"Alex Shavlovsky"},"score":0,"creation_date":1629065045,"post_id":68795035,"comment_id":121581527,"body_markdown":"You should consider creating an &quot;abstract Location getLocation()&quot; method  in the BaseElement class and implementing it in your subclasses.","body":"You should consider creating an &quot;abstract Location getLocation()&quot; method  in the BaseElement class and implementing it in your subclasses."}],"answers":[{"comments":[{"owner":{"account_id":22472430,"reputation":13,"user_id":16672688,"display_name":"Akjo"},"score":0,"creation_date":1629059933,"post_id":68795168,"comment_id":121580654,"body_markdown":"Yes that works, but the thing is, if I take the element out of the `ArrayList` it will be a `BaseElement` and not a `Node` anymore, which I need in this case.","body":"Yes that works, but the thing is, if I take the element out of the <code>ArrayList</code> it will be a <code>BaseElement</code> and not a <code>Node</code> anymore, which I need in this case."},{"owner":{"display_name":"user16669986"},"score":0,"creation_date":1629061504,"post_id":68795168,"comment_id":121580929,"body_markdown":"for some reason the first point did not show up as i write it so it should be \npublic abstract class main &lt;BaseElement&gt;\n\nyou said that node is subclass of BasElement so any of the following will be fine \n\nMap x = new what subclass of map you choose;\nx.addElement(any baseelement object )  will be fine here\n\nand and getElement will return baseElement which all you to call any method that exist in the baseElement or any class superclass of baseelement but not subclass method of baseelement to do that you need to cast it to it&#39;s type so use instanceof and cast it to the right class","body":"for some reason the first point did not show up as i write it so it should be  public abstract class main &lt;BaseElement&gt;  you said that node is subclass of BasElement so any of the following will be fine   Map x = new what subclass of map you choose; x.addElement(any baseelement object )  will be fine here  and and getElement will return baseElement which all you to call any method that exist in the baseElement or any class superclass of baseelement but not subclass method of baseelement to do that you need to cast it to it&#39;s type so use instanceof and cast it to the right class"},{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":0,"creation_date":1629080438,"post_id":68795168,"comment_id":121583469,"body_markdown":"if Class B is subclass of A, and you add B to a list of classes A you can still cast it or ask &quot;instanceof&quot; Class B and it should work.","body":"if Class B is subclass of A, and you add B to a list of classes A you can still cast it or ask &quot;instanceof&quot; Class B and it should work."}],"tags":[],"owner":{"display_name":"user16669986"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629064079,"creation_date":1629059737,"answer_id":68795168,"question_id":68795035,"body_markdown":"Suggested changes to your code:\r\n\r\n1.    `public abstract class Main&lt;BaseElement&gt;`\r\n\r\n2.  `private final ArrayList&lt;BaseElement&gt; elements;`\r\n\r\n3. `protected BaseElement addElement(BaseElement element) `\r\n\r\nThere is no need to use `extend` as it is already an abstract class\r\n\r\nafter that, any subclass of BaseELement will work fine :)","title":"How do I create a list with multiple types that have the same superclass, without losing the type","body":"<p>Suggested changes to your code:</p>\n<ol>\n<li><p><code>public abstract class Main&lt;BaseElement&gt;</code></p>\n</li>\n<li><p><code>private final ArrayList&lt;BaseElement&gt; elements;</code></p>\n</li>\n<li><p><code>protected BaseElement addElement(BaseElement element) </code></p>\n</li>\n</ol>\n<p>There is no need to use <code>extend</code> as it is already an abstract class</p>\n<p>after that, any subclass of BaseELement will work fine :)</p>\n"},{"comments":[{"owner":{"account_id":22472430,"reputation":13,"user_id":16672688,"display_name":"Akjo"},"score":0,"creation_date":1629099006,"post_id":68795566,"comment_id":121587098,"body_markdown":"Thank you, for this great and extensive explanation! I didn&#39;t know they still know their type :) Will implement this, but still on Java 11 so most of these things don&#39;t work yet :D Thank you again!","body":"Thank you, for this great and extensive explanation! I didn&#39;t know they still know their type :) Will implement this, but still on Java 11 so most of these things don&#39;t work yet :D Thank you again!"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1693096900,"creation_date":1629064136,"answer_id":68795566,"question_id":68795035,"body_markdown":"# tl;dr\r\n\r\nAn object does *not* lose its type when retrieved from a Generics-savvy collection (having a parameterized type). You can test for the subtype by using `instanceof` and then cast. \r\n\r\nYou asked how to call a subclass-specific method on an object retrieved from Generics-enabled collection:\r\n\r\n&gt; `new EarthMap().getElement(0).getLocation() // getLocation() is defined in class Node, not in BaseElement`\r\n\r\nUsing the latest features in Java, this work can be as simple as:\r\n\r\n```java\r\nBaseElement element = new EarthMap().getElement(0) ;\r\nswitch ( element )\r\n{\r\n    case Node node -&gt; node.getLocation() ;  // Method defined in class `Node`, not `BaseElement`.\r\n    case Way way -&gt; way.someWaySpecificMethod();\r\n    case Relation relation -&gt; relation.someRelationSpecificMethod();\r\n}\r\n```\r\n\r\n… with the compiler verifying you have covered all possible cases.\r\n\r\nSuch an approach can be used instead of the cumbersome [Visitor Pattern][1] mentioned in the Comments on this Question. The pattern-matching and sealed-class features will generally make for more transparent and straightforward code.\r\n\r\n# Type is not lost\r\n\r\nWhen you retrieve an object from a container using [Java Generics][2], the object does not “lose its type”. The object’s type is masked, being returned as the more general type parameterized on the collection. But the object still knows its own type. \r\n\r\n## Polymorphism as proof\r\n\r\nWe can verify this fact by way of polymorphism. If the subclasses have their own distinct behavior, we should see that behavior rather than the superclass behavior if their type is preserved.\r\n\r\nLet&#39;s use a simple example, a superclass of `Animal` with two subclasses, `Dog` &amp; `Cat`. \r\n\r\n```java\r\npublic abstract class Animal {\r\n    public void eat () {\r\n        System.out.println( &quot;Eating.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Dog extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Cat extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat. Meow.&quot; );\r\n    }\r\n}\r\n```\r\n\r\nAn app to call `eat` method on each of the animals in a sample collection.\r\n\r\n```java\r\nList &lt; Animal &gt; animals =\r\n        List.of(\r\n                new Cat() ,\r\n                new Cat() ,\r\n                new Dog()\r\n        );\r\n\r\nanimals.stream().forEach( Animal :: eat );\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nEating meat. Meow.\r\nEating meat. Meow.\r\nEating meat and veg. Woof.\r\n```\r\n\r\nSo, we can see the cats still know they are cats, and the dog still knows it is a dog. \r\n\r\n## Methods specific to a subclass\r\n\r\nYour Question asks about methods *not* defined on the superclass, methods that are specific to a particular subclass. \r\n\r\nFor that, let’s add `Dog#snooze` method and a `Cat#petMe` method, each specific to that class only.\r\n\r\n```java\r\npublic class Dog extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\r\n    }\r\n\r\n    public void snooze () {\r\n        System.out.println( &quot;I’m gonna take a nap at your feet, if you don’t mind.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Cat extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat. Meow.&quot; );\r\n    }\r\n\r\n    public void petMe () {\r\n        System.out.println( &quot;Pet me, now, servant!&quot; );\r\n    }\r\n}\r\n```\r\n\r\nTo call those specific methods, we need to cast each object from the generic `Animal` to its more specific concrete class. \r\n\r\n```java\r\nfor ( Animal animal : animals )\r\n{\r\n    if ( animal instanceof Dog )\r\n    {\r\n        Dog dog = ( Dog ) animal;\r\n        dog.snooze();\r\n    }\r\n    if ( animal instanceof Cat )\r\n    {\r\n        Cat cat = ( Cat ) animal;\r\n        cat.petMe();\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nPet me, now, servant!\r\nPet me, now, servant!\r\nI’m gonna take a nap at your feet, if you don’t mind.\r\n```\r\n\r\n### Pattern Matching for `instanceof`\r\n\r\nIn Java 16 and later, we can now shorten that code testing `instanceof`. On a single line we can test, cast, and assign to a variable. See [*JEP 394: Pattern Matching for instanceof*](https://openjdk.java.net/jeps/394).\r\n\r\n```java\r\n// Java 16+ ➤ JEP 394: Pattern Matching for instanceof\r\nfor ( Animal animal : animals )\r\n{\r\n    if ( animal instanceof Dog dog )\r\n    {\r\n        {\r\n            dog.snooze();\r\n        }\r\n    }\r\n    else if ( animal instanceof Cat cat )\r\n    {\r\n        cat.petMe();\r\n    }\r\n    else\r\n    {\r\n        System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n### Pattern Matching for `switch`\r\n\r\nThis work gets even simpler using a new feature being previewed in Java 17. \r\n\r\n[*JEP 406: Pattern Matching for switch (Preview)*][3] brings that `instanceof` pattern-matching to the `switch` statement. \r\n\r\nBeware: You need to set your project &amp; runtime to enable this not-yet-official feature. By default, disabled.\r\n\r\n```java\r\n// Preview feature in Java 17 ➤ JEP 406: Pattern Matching for switch (Preview)\r\nfor ( Animal animal : animals )\r\n{\r\n    switch ( animal )\r\n    {\r\n        case Dog dog -&gt; dog.snooze();\r\n        case Cat cat -&gt; cat.petMe();\r\n        case null -&gt; System.out.println( &quot;Oops, no animal.&quot; );\r\n        default -&gt; System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n### Sealed classes\r\n\r\nJava 17, the current [Long-Term Support (LTS)][4] version, brings another new feature: *Sealed classes*. In a sealed class, you declare for a particular superclass all possible subclasses. The superclass is then considered closed for extension by any others. Therefore, the compiler can identify, at compile-time, a list of *all* subclasses. \r\n\r\nSee: [*JEP 409: Sealed Classes*](https://openjdk.java.net/jeps/409)\r\n\r\nNotice the `default` at bottom of that `switch` in our code above. It serves as a catch-all in case we have not accounted for all possible sub-types of `Animal`. The compiler can make use of the sealed-class list of known subclasses to tell if our `switch` statement has covered all possible cases. \r\n\r\nIf we seal our animal, dog, and cat classes:\r\n\r\n```java\r\n// Mark the class as `sealed`. \r\npublic abstract sealed class Animal permits Cat, Dog\r\n{\r\n    public void eat () {\r\n        System.out.println( &quot;Eating.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n\r\n```java\r\n// Mark as `final` as one way to seal the superclass.\r\npublic final class Dog extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\r\n    }\r\n\r\n    public void snooze () {\r\n        System.out.println( &quot;I’m gonna take a nap at your feet, if you don’t mind.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n// Mark as `final` as one way to seal the superclass.\r\npublic final class Cat extends Animal {\r\n    @Override\r\n    public void eat () {\r\n        System.out.println( &quot;Eating meat. Meow.&quot; );\r\n    }\r\n\r\n    public void petMe () {\r\n        System.out.println( &quot;Pet me, now, servant!&quot; );\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n… then we can further simplify that code above by omitting the `default` case. Furthermore, if we later add another subtype, the compiler will alert us by emitting a compiler error. If we edit our code to omit any of the subclasses (`Dog` case or `Cat` case here), the compiler likewise emits a compiler error. \r\n\r\n```java\r\n// Preview feature in Java 17 ➤ JEP 406: Pattern Matching for switch (Preview)\r\n// Combined with Java 17+ feature ➤ JEP 409: Sealed Classes\r\nfor ( Animal animal : animals )\r\n{\r\n    switch ( animal )\r\n    {\r\n        case Dog dog -&gt; dog.snooze();\r\n        case Cat cat -&gt; cat.petMe();\r\n        case null -&gt; System.out.println( &quot;Oops, no animal.&quot; );\r\n        // NO LONGER NEEDED…  default -&gt; System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\r\n    }\r\n}\r\n```\r\n\r\n\r\n## Conclusion\r\n\r\nIf you want to collect `BaseElement` objects, then retrieve them and treat them as their more specific narrower type (`Node`, `Way` and `Relation`), just cast. Or let the latest Java features do the casting for you.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Visitor_pattern\r\n  [2]: https://en.wikipedia.org/wiki/Generics_in_Java\r\n  [3]: https://openjdk.java.net/jeps/406\r\n  [4]: https://en.wikipedia.org/wiki/Long-term_support","title":"How do I create a list with multiple types that have the same superclass, without losing the type","body":"<h1>tl;dr</h1>\n<p>An object does <em>not</em> lose its type when retrieved from a Generics-savvy collection (having a parameterized type). You can test for the subtype by using <code>instanceof</code> and then cast.</p>\n<p>You asked how to call a subclass-specific method on an object retrieved from Generics-enabled collection:</p>\n<blockquote>\n<p><code>new EarthMap().getElement(0).getLocation() // getLocation() is defined in class Node, not in BaseElement</code></p>\n</blockquote>\n<p>Using the latest features in Java, this work can be as simple as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BaseElement element = new EarthMap().getElement(0) ;\nswitch ( element )\n{\n    case Node node -&gt; node.getLocation() ;  // Method defined in class `Node`, not `BaseElement`.\n    case Way way -&gt; way.someWaySpecificMethod();\n    case Relation relation -&gt; relation.someRelationSpecificMethod();\n}\n</code></pre>\n<p>… with the compiler verifying you have covered all possible cases.</p>\n<p>Such an approach can be used instead of the cumbersome <a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">Visitor Pattern</a> mentioned in the Comments on this Question. The pattern-matching and sealed-class features will generally make for more transparent and straightforward code.</p>\n<h1>Type is not lost</h1>\n<p>When you retrieve an object from a container using <a href=\"https://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"nofollow noreferrer\">Java Generics</a>, the object does not “lose its type”. The object’s type is masked, being returned as the more general type parameterized on the collection. But the object still knows its own type.</p>\n<h2>Polymorphism as proof</h2>\n<p>We can verify this fact by way of polymorphism. If the subclasses have their own distinct behavior, we should see that behavior rather than the superclass behavior if their type is preserved.</p>\n<p>Let's use a simple example, a superclass of <code>Animal</code> with two subclasses, <code>Dog</code> &amp; <code>Cat</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Animal {\n    public void eat () {\n        System.out.println( &quot;Eating.&quot; );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Dog extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cat extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat. Meow.&quot; );\n    }\n}\n</code></pre>\n<p>An app to call <code>eat</code> method on each of the animals in a sample collection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Animal &gt; animals =\n        List.of(\n                new Cat() ,\n                new Cat() ,\n                new Dog()\n        );\n\nanimals.stream().forEach( Animal :: eat );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Eating meat. Meow.\nEating meat. Meow.\nEating meat and veg. Woof.\n</code></pre>\n<p>So, we can see the cats still know they are cats, and the dog still knows it is a dog.</p>\n<h2>Methods specific to a subclass</h2>\n<p>Your Question asks about methods <em>not</em> defined on the superclass, methods that are specific to a particular subclass.</p>\n<p>For that, let’s add <code>Dog#snooze</code> method and a <code>Cat#petMe</code> method, each specific to that class only.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Dog extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\n    }\n\n    public void snooze () {\n        System.out.println( &quot;I’m gonna take a nap at your feet, if you don’t mind.&quot; );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Cat extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat. Meow.&quot; );\n    }\n\n    public void petMe () {\n        System.out.println( &quot;Pet me, now, servant!&quot; );\n    }\n}\n</code></pre>\n<p>To call those specific methods, we need to cast each object from the generic <code>Animal</code> to its more specific concrete class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( Animal animal : animals )\n{\n    if ( animal instanceof Dog )\n    {\n        Dog dog = ( Dog ) animal;\n        dog.snooze();\n    }\n    if ( animal instanceof Cat )\n    {\n        Cat cat = ( Cat ) animal;\n        cat.petMe();\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Pet me, now, servant!\nPet me, now, servant!\nI’m gonna take a nap at your feet, if you don’t mind.\n</code></pre>\n<h3>Pattern Matching for <code>instanceof</code></h3>\n<p>In Java 16 and later, we can now shorten that code testing <code>instanceof</code>. On a single line we can test, cast, and assign to a variable. See <a href=\"https://openjdk.java.net/jeps/394\" rel=\"nofollow noreferrer\"><em>JEP 394: Pattern Matching for instanceof</em></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Java 16+ ➤ JEP 394: Pattern Matching for instanceof\nfor ( Animal animal : animals )\n{\n    if ( animal instanceof Dog dog )\n    {\n        {\n            dog.snooze();\n        }\n    }\n    else if ( animal instanceof Cat cat )\n    {\n        cat.petMe();\n    }\n    else\n    {\n        System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\n    }\n}\n</code></pre>\n<h3>Pattern Matching for <code>switch</code></h3>\n<p>This work gets even simpler using a new feature being previewed in Java 17.</p>\n<p><a href=\"https://openjdk.java.net/jeps/406\" rel=\"nofollow noreferrer\"><em>JEP 406: Pattern Matching for switch (Preview)</em></a> brings that <code>instanceof</code> pattern-matching to the <code>switch</code> statement.</p>\n<p>Beware: You need to set your project &amp; runtime to enable this not-yet-official feature. By default, disabled.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Preview feature in Java 17 ➤ JEP 406: Pattern Matching for switch (Preview)\nfor ( Animal animal : animals )\n{\n    switch ( animal )\n    {\n        case Dog dog -&gt; dog.snooze();\n        case Cat cat -&gt; cat.petMe();\n        case null -&gt; System.out.println( &quot;Oops, no animal.&quot; );\n        default -&gt; System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\n    }\n}\n</code></pre>\n<h3>Sealed classes</h3>\n<p>Java 17, the current <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">Long-Term Support (LTS)</a> version, brings another new feature: <em>Sealed classes</em>. In a sealed class, you declare for a particular superclass all possible subclasses. The superclass is then considered closed for extension by any others. Therefore, the compiler can identify, at compile-time, a list of <em>all</em> subclasses.</p>\n<p>See: <a href=\"https://openjdk.java.net/jeps/409\" rel=\"nofollow noreferrer\"><em>JEP 409: Sealed Classes</em></a></p>\n<p>Notice the <code>default</code> at bottom of that <code>switch</code> in our code above. It serves as a catch-all in case we have not accounted for all possible sub-types of <code>Animal</code>. The compiler can make use of the sealed-class list of known subclasses to tell if our <code>switch</code> statement has covered all possible cases.</p>\n<p>If we seal our animal, dog, and cat classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Mark the class as `sealed`. \npublic abstract sealed class Animal permits Cat, Dog\n{\n    public void eat () {\n        System.out.println( &quot;Eating.&quot; );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Mark as `final` as one way to seal the superclass.\npublic final class Dog extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat and veg. Woof.&quot; );\n    }\n\n    public void snooze () {\n        System.out.println( &quot;I’m gonna take a nap at your feet, if you don’t mind.&quot; );\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Mark as `final` as one way to seal the superclass.\npublic final class Cat extends Animal {\n    @Override\n    public void eat () {\n        System.out.println( &quot;Eating meat. Meow.&quot; );\n    }\n\n    public void petMe () {\n        System.out.println( &quot;Pet me, now, servant!&quot; );\n    }\n}\n</code></pre>\n<p>… then we can further simplify that code above by omitting the <code>default</code> case. Furthermore, if we later add another subtype, the compiler will alert us by emitting a compiler error. If we edit our code to omit any of the subclasses (<code>Dog</code> case or <code>Cat</code> case here), the compiler likewise emits a compiler error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Preview feature in Java 17 ➤ JEP 406: Pattern Matching for switch (Preview)\n// Combined with Java 17+ feature ➤ JEP 409: Sealed Classes\nfor ( Animal animal : animals )\n{\n    switch ( animal )\n    {\n        case Dog dog -&gt; dog.snooze();\n        case Cat cat -&gt; cat.petMe();\n        case null -&gt; System.out.println( &quot;Oops, no animal.&quot; );\n        // NO LONGER NEEDED…  default -&gt; System.out.println( &quot;Oops, encountered unexpected type of animal.&quot; );\n    }\n}\n</code></pre>\n<h2>Conclusion</h2>\n<p>If you want to collect <code>BaseElement</code> objects, then retrieve them and treat them as their more specific narrower type (<code>Node</code>, <code>Way</code> and <code>Relation</code>), just cast. Or let the latest Java features do the casting for you.</p>\n"}],"owner":{"account_id":22472430,"reputation":13,"user_id":16672688,"display_name":"Akjo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68795566,"answer_count":2,"score":1,"last_activity_date":1693096900,"creation_date":1629058346,"question_id":68795035,"body_markdown":"So I have an abstract class `Map` with an `ArrayList` of `BaseElement`&#39;s. \r\n\r\n`BaseElement` is also an abstract class, which is extended by three classes: `Node`, `Way` and `Relation`. It only has an attribute called `id`.\r\n\r\nInside the class `Map` i want to have a `addElement` method and a `getElement` method. The `addElement` method should add the element to the list and return the element back, without losing it&#39;s type. The `getElement` should find the element inside the list, by it&#39;s id and return it (also without losing the type).\r\n\r\nNow I tried to use type generics to do this, but I&#39;m still pretty new to type generics.\r\n\r\nCurrently this is my `Map` class:\r\n```java\r\npublic abstract class Map {\r\n\tprivate final String name;\r\n\tprivate final ArrayList&lt;BaseElement&gt; elements;\r\n\r\n\tprotected Map(String name) {\r\n\t\tthis.name = name;\r\n\t\tthis.elements = new ArrayList&lt;&gt;();\r\n\t\tthis.defineElements();\r\n\t}\r\n\r\n\tprotected abstract void defineElements();\r\n\r\n\tprotected &lt;T extends BaseElement&gt; T addElement(T element) {\r\n\t\telements.add(element);\r\n\t\treturn element;\r\n\t}\r\n\r\n\tpublic BaseElement getElement(int elementID) {\r\n\t\treturn elements.stream()\r\n\t\t\t\t.filter(element -&gt; element.getID() == elementID)\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.orElse(null);\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n}\r\n```\r\n\r\nFor example I want to add an element with `addElement` like so...:\r\n```\r\npublic class EarthMap extends Map {\r\n\tpublic EarthMap() {\r\n\t\tsuper(&quot;Earth&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void defineElements() {\r\n\t\tNode exampleNode = this.addElement(BaseElementFactory.createNode(new Location(1.2345, 2.3456)));\r\n\t}\r\n}\r\n```\r\n\r\nand get the element again with `getElement` like so:\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tnew EarthMap().getElement(0).getLocation() // getLocation() is defined in class Node, not in BaseElement\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m really not sure how to do this, without breaking the logic here. I have to store multiple objects that extend from `BaseElement` in a list, without losing their type. \r\n\r\nCan I do this with type generics? Or do I have to use another technique?","title":"How do I create a list with multiple types that have the same superclass, without losing the type","body":"<p>So I have an abstract class <code>Map</code> with an <code>ArrayList</code> of <code>BaseElement</code>'s.</p>\n<p><code>BaseElement</code> is also an abstract class, which is extended by three classes: <code>Node</code>, <code>Way</code> and <code>Relation</code>. It only has an attribute called <code>id</code>.</p>\n<p>Inside the class <code>Map</code> i want to have a <code>addElement</code> method and a <code>getElement</code> method. The <code>addElement</code> method should add the element to the list and return the element back, without losing it's type. The <code>getElement</code> should find the element inside the list, by it's id and return it (also without losing the type).</p>\n<p>Now I tried to use type generics to do this, but I'm still pretty new to type generics.</p>\n<p>Currently this is my <code>Map</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Map {\n    private final String name;\n    private final ArrayList&lt;BaseElement&gt; elements;\n\n    protected Map(String name) {\n        this.name = name;\n        this.elements = new ArrayList&lt;&gt;();\n        this.defineElements();\n    }\n\n    protected abstract void defineElements();\n\n    protected &lt;T extends BaseElement&gt; T addElement(T element) {\n        elements.add(element);\n        return element;\n    }\n\n    public BaseElement getElement(int elementID) {\n        return elements.stream()\n                .filter(element -&gt; element.getID() == elementID)\n                .findFirst()\n                .orElse(null);\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>For example I want to add an element with <code>addElement</code> like so...:</p>\n<pre><code>public class EarthMap extends Map {\n    public EarthMap() {\n        super(&quot;Earth&quot;);\n    }\n\n    @Override\n    protected void defineElements() {\n        Node exampleNode = this.addElement(BaseElementFactory.createNode(new Location(1.2345, 2.3456)));\n    }\n}\n</code></pre>\n<p>and get the element again with <code>getElement</code> like so:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        new EarthMap().getElement(0).getLocation() // getLocation() is defined in class Node, not in BaseElement\n    }\n}\n</code></pre>\n<p>I'm really not sure how to do this, without breaking the logic here. I have to store multiple objects that extend from <code>BaseElement</code> in a list, without losing their type.</p>\n<p>Can I do this with type generics? Or do I have to use another technique?</p>\n"},{"tags":["java","function","inheritance","methods","overloading"],"comments":[{"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"score":0,"creation_date":1473407481,"post_id":39406456,"comment_id":66137970,"body_markdown":"its depends on many things, like is your method static? what is return type of methods?","body":"its depends on many things, like is your method static? what is return type of methods?"},{"owner":{"account_id":9161307,"reputation":21,"user_id":6812526,"display_name":"RasimGuler"},"score":0,"creation_date":1473407545,"post_id":39406456,"comment_id":66138009,"body_markdown":"Their return type is float.","body":"Their return type is float."},{"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"score":0,"creation_date":1473407589,"post_id":39406456,"comment_id":66138031,"body_markdown":"are they static? and both have same return type ?","body":"are they static? and both have same return type ?"},{"owner":{"account_id":9161307,"reputation":21,"user_id":6812526,"display_name":"RasimGuler"},"score":0,"creation_date":1473407961,"post_id":39406456,"comment_id":66138247,"body_markdown":"They are not static.Yes they have same return type.do_calc() method will have more than one, get_volume() methods. I think i will overload the get_volume() method. But I didn&#39;t understand how can I call two methods of same class in one line.","body":"They are not static.Yes they have same return type.do_calc() method will have more than one, get_volume() methods. I think i will overload the get_volume() method. But I didn&#39;t understand how can I call two methods of same class in one line."},{"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"score":0,"creation_date":1473408559,"post_id":39406456,"comment_id":66138589,"body_markdown":"refer my anser , if both have same return type its not possible to call in one line","body":"refer my anser , if both have same return type its not possible to call in one line"}],"answers":[{"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1473407512,"post_id":39406497,"comment_id":66137990,"body_markdown":"It seems to be a `static` method, in which case `do_calc()` would need to be a static factory method. Not quite as simple as `return this`...","body":"It seems to be a <code>static</code> method, in which case <code>do_calc()</code> would need to be a static factory method. Not quite as simple as <code>return this</code>..."},{"owner":{"account_id":8150102,"reputation":2253,"user_id":6137423,"accept_rate":100,"display_name":"AhmadWabbi"},"score":0,"creation_date":1473407569,"post_id":39406497,"comment_id":66138018,"body_markdown":"But he says &quot; over one objects&quot;! @BoristheSpider","body":"But he says &quot; over one objects&quot;! @BoristheSpider"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1473407620,"post_id":39406497,"comment_id":66138049,"body_markdown":"This is a rookie Java programmer, don&#39;t read so much into the words. Look at the syntax - it looks much more like a `static` method than an instance one - to me at least.","body":"This is a rookie Java programmer, don&#39;t read so much into the words. Look at the syntax - it looks much more like a <code>static</code> method than an instance one - to me at least."},{"owner":{"account_id":8150102,"reputation":2253,"user_id":6137423,"accept_rate":100,"display_name":"AhmadWabbi"},"score":0,"creation_date":1473407831,"post_id":39406497,"comment_id":66138184,"body_markdown":"Now it is not @BoristheSpider","body":"Now it is not @BoristheSpider"},{"owner":{"account_id":9161307,"reputation":21,"user_id":6812526,"display_name":"RasimGuler"},"score":0,"creation_date":1473408183,"post_id":39406497,"comment_id":66138384,"body_markdown":"I think i was wrong, i said they aren&#39;t static but i learned it now. To call a method without creating an object , the method should be static ? Then i should make the methods static.Correct me please if I am wrong","body":"I think i was wrong, i said they aren&#39;t static but i learned it now. To call a method without creating an object , the method should be static ? Then i should make the methods static.Correct me please if I am wrong"},{"owner":{"account_id":8150102,"reputation":2253,"user_id":6137423,"accept_rate":100,"display_name":"AhmadWabbi"},"score":0,"creation_date":1473408285,"post_id":39406497,"comment_id":66138450,"body_markdown":"Right. In order to call a method without creating an object, the method needs to be `static`. I will update my answer with a small example.","body":"Right. In order to call a method without creating an object, the method needs to be <code>static</code>. I will update my answer with a small example."},{"owner":{"account_id":9161307,"reputation":21,"user_id":6812526,"display_name":"RasimGuler"},"score":0,"creation_date":1473411279,"post_id":39406497,"comment_id":66140007,"body_markdown":"Thanks.My last question is , if they are returning null , how can I get my calculation result from the function ?","body":"Thanks.My last question is , if they are returning null , how can I get my calculation result from the function ?"},{"owner":{"account_id":8150102,"reputation":2253,"user_id":6137423,"accept_rate":100,"display_name":"AhmadWabbi"},"score":0,"creation_date":1473412029,"post_id":39406497,"comment_id":66140461,"body_markdown":"In this case, the `do_calc` method should return an object that contains the result. I will update the answer accordingly. @RasimGuler","body":"In this case, the <code>do_calc</code> method should return an object that contains the result. I will update the answer accordingly. @RasimGuler"}],"tags":[],"owner":{"account_id":8150102,"reputation":2253,"user_id":6137423,"accept_rate":100,"display_name":"AhmadWabbi"},"comment_count":8,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473412251,"creation_date":1473407479,"answer_id":39406497,"question_id":39406456,"body_markdown":"You must `return this;` at the end of each method of your class if they are not `static`. If the methods are `static`, do it like this:\r\n\r\n    public class Calculation {\r\n         public static Calculation do_calc () {\r\n               //do your calculation\r\n              return null;\r\n          }\r\n\r\n         public static Calculation get_volume(int x) {\r\n               //do your calculation\r\n              return null;\r\n          }\r\n    }\r\n\r\nThen you can write:\r\n\r\n    Calculation.do_calc().get_volume(1);\r\n\r\nNo problem in returning `null`, as the methods are static and not related to a specific instance of the class. If you don&#39;t like it, then `return new Calculation();`\r\n\r\n[Edit]\r\n\r\nThe first method should return a real object if you need to pass its result to the second method:\r\n\r\n    public class Calculation {\r\n\r\n         int result;\r\n\r\n         public static Calculation do_calc () {\r\n               //do your calculation\r\n               Calculation c=new Calculation();\r\n               c.result = theResultOfTheCalculation;\r\n              return c;\r\n          }\r\n\r\n         public void get_volume(int x) {\r\n               //do your calculation for example:\r\n               System.out.println(result + x);\r\n          }\r\n    }\r\n\r\n\r\n","title":"How to call two methods in same class?","body":"<p>You must <code>return this;</code> at the end of each method of your class if they are not <code>static</code>. If the methods are <code>static</code>, do it like this:</p>\n\n<pre><code>public class Calculation {\n     public static Calculation do_calc () {\n           //do your calculation\n          return null;\n      }\n\n     public static Calculation get_volume(int x) {\n           //do your calculation\n          return null;\n      }\n}\n</code></pre>\n\n<p>Then you can write:</p>\n\n<pre><code>Calculation.do_calc().get_volume(1);\n</code></pre>\n\n<p>No problem in returning <code>null</code>, as the methods are static and not related to a specific instance of the class. If you don't like it, then <code>return new Calculation();</code></p>\n\n<p>[Edit]</p>\n\n<p>The first method should return a real object if you need to pass its result to the second method:</p>\n\n<pre><code>public class Calculation {\n\n     int result;\n\n     public static Calculation do_calc () {\n           //do your calculation\n           Calculation c=new Calculation();\n           c.result = theResultOfTheCalculation;\n          return c;\n      }\n\n     public void get_volume(int x) {\n           //do your calculation for example:\n           System.out.println(result + x);\n      }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1473407565,"post_id":39406521,"comment_id":66138016,"body_markdown":"`s/should never/cannot/g`.","body":"<code>s&#47;should never&#47;cannot&#47;g</code>."}],"tags":[],"owner":{"account_id":7925687,"reputation":131,"user_id":5985175,"accept_rate":100,"display_name":"ziraak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473407541,"creation_date":1473407541,"answer_id":39406521,"question_id":39406456,"body_markdown":"Unless do_calc() returns the class in where de function get_volume() is located this should never be done. ","title":"How to call two methods in same class?","body":"<p>Unless do_calc() returns the class in where de function get_volume() is located this should never be done. </p>\n"},{"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1473407658,"post_id":39406531,"comment_id":66138078,"body_markdown":"`s/ChainTest.this/this/g`","body":"<code>s&#47;ChainTest.this&#47;this&#47;g</code>"},{"owner":{"account_id":5959197,"reputation":10894,"user_id":4684861,"accept_rate":86,"display_name":"Mohamed Thasin ah"},"score":0,"creation_date":1553152668,"post_id":39406531,"comment_id":97281073,"body_markdown":"@BoristheSpider - What have you commented here? I didn&#39;t get you","body":"@BoristheSpider - What have you commented here? I didn&#39;t get you"}],"tags":[],"owner":{"account_id":6597541,"reputation":778,"user_id":5096800,"display_name":"riversun"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473407583,"creation_date":1473407583,"answer_id":39406531,"question_id":39406456,"body_markdown":"Here is a little sample for you.\r\n\r\n\r\n    public class ChainTest {\r\n\r\n            public static void main(String[] args) {\r\n                    System.out.println(new ChainTest().do_calc().get_volume(1));\r\n            }\r\n\r\n            public ChainTest do_calc() {\r\n                    // do something;\r\n                    return ChainTest.this;\r\n            }\r\n\r\n            public int get_volume(int a) {\r\n                    return a;\r\n            }\r\n    }\r\n","title":"How to call two methods in same class?","body":"<p>Here is a little sample for you.</p>\n\n<pre><code>public class ChainTest {\n\n        public static void main(String[] args) {\n                System.out.println(new ChainTest().do_calc().get_volume(1));\n        }\n\n        public ChainTest do_calc() {\n                // do something;\n                return ChainTest.this;\n        }\n\n        public int get_volume(int a) {\n                return a;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3231299,"reputation":506,"user_id":2726496,"accept_rate":25,"display_name":"sugeesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473407806,"creation_date":1473407806,"answer_id":39406596,"question_id":39406456,"body_markdown":"You don&#39;t need to write the code in one line. You can call same object methods in different lines. \r\n\r\n    Calculator calculator = new Calculator();\r\n    calculator.do_calc();\r\n    calculator.get_volume(a);\r\n\r\nIn case, if you want static methods\r\n\r\n    Calculator.do_calc();\r\n    Calculator.get_volume(a);\r\n\r\n \r\n\r\n  ","title":"How to call two methods in same class?","body":"<p>You don't need to write the code in one line. You can call same object methods in different lines. </p>\n\n<pre><code>Calculator calculator = new Calculator();\ncalculator.do_calc();\ncalculator.get_volume(a);\n</code></pre>\n\n<p>In case, if you want static methods</p>\n\n<pre><code>Calculator.do_calc();\nCalculator.get_volume(a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473408481,"creation_date":1473408481,"answer_id":39406780,"question_id":39406456,"body_markdown":"**Case 1 If do_calc is static**\r\n\r\n\r\n    public class Calculator {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(Calculator.do_calc().get_volume(1));\r\n    \t}\r\n    \r\n    \tpublic static Calculator do_calc() {\r\n    \r\n    \t\tCalculator calculator = new Calculator();\r\n    \t\t// do something;\r\n    \r\n    \t\treturn calculator;\r\n    \t}\r\n    \r\n    \tpublic float get_volume(int a) {\r\n    \t\treturn a;\r\n    \t}\r\n    }\r\n\r\n**Case 2 : If do_calc is not static**\r\n\r\n    public class Calculator {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(new Calculator().do_calc().get_volume(1));\r\n    \t}\r\n    \r\n    \tpublic Calculator  do_calc() {\r\n    \r\n    \t\tCalculator calculator = new Calculator();\r\n    \t\t// do something;\r\n    \r\n    \t\treturn calculator;\r\n    \t}\r\n    \r\n    \tpublic float get_volume(int a) {\r\n    \t\treturn a;\r\n    \t}\r\n    }\r\n\r\n**Case  3 : If both have return type float as you mentioned in comment**\r\n\r\n    public class Calculator {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tCalculator calculator = new Calculator();\r\n    \t\tcalculator.do_calc();\r\n    \t\tSystem.out.println(calculator.get_volume(1));\r\n    \t}\r\n    \r\n    \tpublic float do_calc() {\r\n    \r\n    \t\t// do something;\r\n    \r\n    \t\treturn 1f; // return your result\r\n    \t}\r\n    \r\n    \tpublic float get_volume(int a) {\r\n    \t\t// do something;\r\n    \t\treturn a;\r\n    \t}\r\n    }","title":"How to call two methods in same class?","body":"<p><strong>Case 1 If do_calc is static</strong></p>\n\n<pre><code>public class Calculator {\n\n    public static void main(String[] args) {\n        System.out.println(Calculator.do_calc().get_volume(1));\n    }\n\n    public static Calculator do_calc() {\n\n        Calculator calculator = new Calculator();\n        // do something;\n\n        return calculator;\n    }\n\n    public float get_volume(int a) {\n        return a;\n    }\n}\n</code></pre>\n\n<p><strong>Case 2 : If do_calc is not static</strong></p>\n\n<pre><code>public class Calculator {\n\n    public static void main(String[] args) {\n        System.out.println(new Calculator().do_calc().get_volume(1));\n    }\n\n    public Calculator  do_calc() {\n\n        Calculator calculator = new Calculator();\n        // do something;\n\n        return calculator;\n    }\n\n    public float get_volume(int a) {\n        return a;\n    }\n}\n</code></pre>\n\n<p><strong>Case  3 : If both have return type float as you mentioned in comment</strong></p>\n\n<pre><code>public class Calculator {\n\n    public static void main(String[] args) {\n\n        Calculator calculator = new Calculator();\n        calculator.do_calc();\n        System.out.println(calculator.get_volume(1));\n    }\n\n    public float do_calc() {\n\n        // do something;\n\n        return 1f; // return your result\n    }\n\n    public float get_volume(int a) {\n        // do something;\n        return a;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9161307,"reputation":21,"user_id":6812526,"display_name":"RasimGuler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10531,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1693094610,"creation_date":1473407342,"question_id":39406456,"body_markdown":"How can I call two methods from the same class over one object? I mean I try to write a class and its methods to run above code:\r\n\r\n    volume = Calculate.do_calc().get_volume(a);\r\n\r\nI am creating Calculate class and two methods of it. do_calc() and get_volume(a). How should I write this class to run that code.\r\n","title":"How to call two methods in same class?","body":"<p>How can I call two methods from the same class over one object? I mean I try to write a class and its methods to run above code:</p>\n<pre><code>volume = Calculate.do_calc().get_volume(a);\n</code></pre>\n<p>I am creating Calculate class and two methods of it. do_calc() and get_volume(a). How should I write this class to run that code.</p>\n"},{"tags":["java","serialization","automation","deserialization","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693094374,"creation_date":1693094374,"answer_id":76985265,"question_id":76984421,"body_markdown":"The issue is response key is `userId` not `userid`. \r\n\r\n**Solution 1**: change the property name and getter/setter.\r\n\r\n```java\r\nString userId;\r\n\r\npublic String getUserId() {\r\n    return userId;\r\n}\r\npublic void setUserId(String userid) {\r\n    this.userId = userid;\r\n}\r\n```\r\n\r\n**Solution 2**: use Jackson annotation and don&#39;t care the properties name and getter/setter\r\n\r\n```java\r\n@JsonProperty(&quot;userId&quot;)\r\nString userid;\r\n```","title":"Exception in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:","body":"<p>The issue is response key is <code>userId</code> not <code>userid</code>.</p>\n<p><strong>Solution 1</strong>: change the property name and getter/setter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String userId;\n\npublic String getUserId() {\n    return userId;\n}\npublic void setUserId(String userid) {\n    this.userId = userid;\n}\n</code></pre>\n<p><strong>Solution 2</strong>: use Jackson annotation and don't care the properties name and getter/setter</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(&quot;userId&quot;)\nString userid;\n</code></pre>\n"}],"owner":{"account_id":13744424,"reputation":13,"user_id":9918582,"display_name":"Immy110"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76985265,"answer_count":1,"score":0,"last_activity_date":1693094374,"creation_date":1693076375,"question_id":76984421,"body_markdown":"I am trying to create an E2E Rest-Assured API automation flow for an E-commerce project.\r\n\r\nI am using Pojo classes and serialisation/deserialisation in order to help with this.\r\n\r\nHere I am trying to login to BaseUri called https://rahulshettyacademy.com with parameters &#39;/api/ecom/auth/login&#39;. I have tested this manually with my login and password in Postman &amp; it is working fine. But I am having issues in automating it.\r\n\r\nThis is my code for the main API class:\r\n\r\n```\r\nimport io.restassured.builder.RequestSpecBuilder;\r\nimport io.restassured.http.ContentType;\r\nimport io.restassured.specification.RequestSpecification;\r\nimport pojo.EcommerceLoginRequest;\r\nimport pojo.EcommerceLoginResponse;\r\n\r\n\r\nimport static io.restassured.RestAssured.given;\r\n\r\n\r\npublic class ECommerceAPITest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t\r\n\t RequestSpecification req = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;).setContentType(ContentType.JSON).build();\r\n\t \r\n\t EcommerceLoginRequest loginRequest = new EcommerceLoginRequest();\r\n\t loginRequest.setUserEmail(&quot;imtiyaz_@hotmail.co.uk&quot;);\r\n\t loginRequest.setUserPassword(&quot;786Immy110.1&quot;);\r\n\r\n\t \r\n\tRequestSpecification reqLogin = given().log().all().spec(req).body(loginRequest); \r\n\tEcommerceLoginResponse loginResponse = reqLogin.when().post(&quot;/api/ecom/auth/login&quot;).then().log().all().extract().response().as(EcommerceLoginResponse.class); \r\n\r\n\t\r\n\t\r\n\tSystem.out.println(loginResponse.getToken());\r\n\tSystem.out.println(loginResponse.getuserid());\r\n\t\r\n\t\r\n\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nThe below is the code from the pojo class which is called &#39;EcommerceLoginResponse&#39;:\r\n\r\n```\r\npackage pojo;\r\n\r\n\r\npublic class EcommerceLoginResponse {\r\n\t\r\n\tString token;\r\n\tString userid;\r\n\tString message;\r\n\t\r\n\tpublic String getToken() {\r\n\t\treturn token;\r\n\t}\r\n\tpublic void setToken(String token) {\r\n\t\tthis.token = token;\r\n\t}\r\n\tpublic String getuserid() {\r\n\t\treturn userid;\r\n\t}\r\n\tpublic void setuserid(String userid) {\r\n\t\tthis.userid = userid;\r\n\t}\r\n\tpublic String getMessage() {\r\n\t\treturn message;\r\n\t}\r\n\tpublic void setMessage(String message) {\r\n\t\tthis.message = message;\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\n\r\n\r\nUpon running the main test, I am getting the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;userId&quot; (class pojo.EcommerceLoginResponse), not marked as ignorable (3 known properties: &quot;token&quot;, &quot;userid&quot;, &quot;message&quot;])\r\n at [Source: (String)&quot;{&quot;token&quot;:&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGVhMmQ1MDc1M2VmYTQ2NTdmMDBiNDMiLCJ1c2VyRW1haWwiOiJpbXRpeWF6X0Bob3RtYWlsLmNvLnVrIiwidXNlck1vYmlsZSI6MTIzNDU2Nzg5MSwidXNlclJvbGUiOiJjdXN0b21lciIsImlhdCI6MTY5MzA3NjIwNywiZXhwIjoxNzI0NjMzODA3fQ.SZYf86-UPkQwy9UmZEsbt16cNDmYfnLcpRLgGa_aa1A&quot;,&quot;userId&quot;:&quot;64ea2d50753efa4657f00b43&quot;,&quot;message&quot;:&quot;Login Successfully&quot;}&quot;; line: 1, column: 306] (through reference chain: pojo.EcommerceLoginResponse[&quot;userId&quot;])\r\n```\r\n\r\nAny ideas on where I am going wrong?","title":"Exception in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException:","body":"<p>I am trying to create an E2E Rest-Assured API automation flow for an E-commerce project.</p>\n<p>I am using Pojo classes and serialisation/deserialisation in order to help with this.</p>\n<p>Here I am trying to login to BaseUri called <a href=\"https://rahulshettyacademy.com\" rel=\"nofollow noreferrer\">https://rahulshettyacademy.com</a> with parameters '/api/ecom/auth/login'. I have tested this manually with my login and password in Postman &amp; it is working fine. But I am having issues in automating it.</p>\n<p>This is my code for the main API class:</p>\n<pre><code>import io.restassured.builder.RequestSpecBuilder;\nimport io.restassured.http.ContentType;\nimport io.restassured.specification.RequestSpecification;\nimport pojo.EcommerceLoginRequest;\nimport pojo.EcommerceLoginResponse;\n\n\nimport static io.restassured.RestAssured.given;\n\n\npublic class ECommerceAPITest {\n\n    public static void main(String[] args) {\n\n        \n     RequestSpecification req = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;).setContentType(ContentType.JSON).build();\n     \n     EcommerceLoginRequest loginRequest = new EcommerceLoginRequest();\n     loginRequest.setUserEmail(&quot;imtiyaz_@hotmail.co.uk&quot;);\n     loginRequest.setUserPassword(&quot;786Immy110.1&quot;);\n\n     \n    RequestSpecification reqLogin = given().log().all().spec(req).body(loginRequest); \n    EcommerceLoginResponse loginResponse = reqLogin.when().post(&quot;/api/ecom/auth/login&quot;).then().log().all().extract().response().as(EcommerceLoginResponse.class); \n\n    \n    \n    System.out.println(loginResponse.getToken());\n    System.out.println(loginResponse.getuserid());\n    \n    \n    \n    }\n\n}\n</code></pre>\n<p>The below is the code from the pojo class which is called 'EcommerceLoginResponse':</p>\n<pre><code>package pojo;\n\n\npublic class EcommerceLoginResponse {\n    \n    String token;\n    String userid;\n    String message;\n    \n    public String getToken() {\n        return token;\n    }\n    public void setToken(String token) {\n        this.token = token;\n    }\n    public String getuserid() {\n        return userid;\n    }\n    public void setuserid(String userid) {\n        this.userid = userid;\n    }\n    public String getMessage() {\n        return message;\n    }\n    public void setMessage(String message) {\n        this.message = message;\n    }\n    \n\n}\n</code></pre>\n<p>Upon running the main test, I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;userId&quot; (class pojo.EcommerceLoginResponse), not marked as ignorable (3 known properties: &quot;token&quot;, &quot;userid&quot;, &quot;message&quot;])\n at [Source: (String)&quot;{&quot;token&quot;:&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGVhMmQ1MDc1M2VmYTQ2NTdmMDBiNDMiLCJ1c2VyRW1haWwiOiJpbXRpeWF6X0Bob3RtYWlsLmNvLnVrIiwidXNlck1vYmlsZSI6MTIzNDU2Nzg5MSwidXNlclJvbGUiOiJjdXN0b21lciIsImlhdCI6MTY5MzA3NjIwNywiZXhwIjoxNzI0NjMzODA3fQ.SZYf86-UPkQwy9UmZEsbt16cNDmYfnLcpRLgGa_aa1A&quot;,&quot;userId&quot;:&quot;64ea2d50753efa4657f00b43&quot;,&quot;message&quot;:&quot;Login Successfully&quot;}&quot;; line: 1, column: 306] (through reference chain: pojo.EcommerceLoginResponse[&quot;userId&quot;])\n</code></pre>\n<p>Any ideas on where I am going wrong?</p>\n"},{"tags":["java","java-module","methodhandle"],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1693092857,"post_id":76985190,"comment_id":135714810,"body_markdown":"An other way is to stick with the canonical constructor - which must be public. This means, exporting (both at compile and runtime) both `com.sun.tools.javac.code` and `com.sun.tools.javac.util`, and then just using `new TypeMetadata.Annotations(new ListBuffer&lt;&gt;())`.","body":"An other way is to stick with the canonical constructor - which must be public. This means, exporting (both at compile and runtime) both <code>com.sun.tools.javac.code</code> and <code>com.sun.tools.javac.util</code>, and then just using <code>new TypeMetadata.Annotations(new ListBuffer&lt;&gt;())</code>."}],"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693092353,"creation_date":1693092353,"answer_id":76985190,"question_id":76985140,"body_markdown":"A full-privilege `Lookup` can only access things that normal Java code in the [lookupClass()] could do as well.\r\n\r\nIn your case, the lookupClass is your class: `TestMH`.\r\n\r\nThe no-argument constructor of `TypeMetadata.Annotations` is [package-private](https://github.com/openjdk/jdk/blob/acd93102348f592d6f2e77a4bff6037edf708d55/src/jdk.compiler/share/classes/com/sun/tools/javac/code/TypeMetadata.java#L60-L62) - it can&#39;t be accessed from outside of that package.\r\n\r\nA Lookup respects that limitation - even if the package is open, you have to explicitly &quot;teleport&quot; into the target package:\r\n\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    MethodHandles.Lookup targetLookup = MethodHandles.privateLookupIn(TypeMetadata.Annotations.class, lookup);\r\n    MethodType mt = MethodType.methodType(void.class);\r\n    MethodHandle mh = targetLookup.findConstructor(TypeMetadata.Annotations.class, mt);\r\n\r\n[lookupClass()]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#lookupClass()","title":"How to get around IllegalAccessError when creating a MethodHandle from unnamed module","body":"<p>A full-privilege <code>Lookup</code> can only access things that normal Java code in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#lookupClass()\" rel=\"nofollow noreferrer\">lookupClass()</a> could do as well.</p>\n<p>In your case, the lookupClass is your class: <code>TestMH</code>.</p>\n<p>The no-argument constructor of <code>TypeMetadata.Annotations</code> is <a href=\"https://github.com/openjdk/jdk/blob/acd93102348f592d6f2e77a4bff6037edf708d55/src/jdk.compiler/share/classes/com/sun/tools/javac/code/TypeMetadata.java#L60-L62\" rel=\"nofollow noreferrer\">package-private</a> - it can't be accessed from outside of that package.</p>\n<p>A Lookup respects that limitation - even if the package is open, you have to explicitly &quot;teleport&quot; into the target package:</p>\n<pre><code>MethodHandles.Lookup lookup = MethodHandles.lookup();\nMethodHandles.Lookup targetLookup = MethodHandles.privateLookupIn(TypeMetadata.Annotations.class, lookup);\nMethodType mt = MethodType.methodType(void.class);\nMethodHandle mh = targetLookup.findConstructor(TypeMetadata.Annotations.class, mt);\n</code></pre>\n"}],"owner":{"account_id":122694,"reputation":2864,"user_id":1126796,"accept_rate":25,"display_name":"msridhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693092353,"creation_date":1693090774,"question_id":76985140,"body_markdown":"I am trying to get a `MethodHandle` for any of the constructors of the `com.sun.tools.javac.code.TypeMetadata.Annotations` record on JDK 21.  Here is the source code of `TypeMetadata` (from OpenJDK):\r\n\r\nhttps://github.com/openjdk/jdk/blob/acd93102348f592d6f2e77a4bff6037edf708d55/src/jdk.compiler/share/classes/com/sun/tools/javac/code/TypeMetadata.java\r\n\r\nHere is my code:\r\n\r\n```java\r\nimport com.sun.tools.javac.code.TypeMetadata;\r\nimport java.lang.invoke.*;\r\nimport java.util.*;\r\n\r\nclass TestMH {\r\n  public static void main(String[] args) throws Throwable {\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    MethodType mt = MethodType.methodType(void.class);\r\n    MethodHandle mh = lookup.findConstructor(TypeMetadata.Annotations.class, mt);\r\n    System.out.println(mh);\r\n  }\r\n}\r\n```\r\n\r\nI compile by doing `javac --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED TestMH.java`.  Here is the output of `java --add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED TestMH`:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalAccessException: no such constructor: com.sun.tools.javac.code.TypeMetadata$Annotations.&lt;init&gt;()void/newInvokeSpecial\r\n\tat java.base/java.lang.invoke.MemberName.makeAccessException(MemberName.java:911)\r\n\tat java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:994)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.resolveOrFail(MethodHandles.java:3750)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.findConstructor(MethodHandles.java:2837)\r\n\tat TestMH.main(TestMH.java:9)\r\nCaused by: java.lang.IllegalAccessError: class TestMH tried to access method &#39;void com.sun.tools.javac.code.TypeMetadata$Annotations.&lt;init&gt;()&#39; (TestMH is in unnamed module of loader &#39;app&#39;; com.sun.tools.javac.code.TypeMetadata$Annotations is in module jdk.compiler of loader &#39;app&#39;)\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.resolve(Native Method)\r\n\tat java.base/java.lang.invoke.MemberName$Factory.resolve(MemberName.java:962)\r\n\tat java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:991)\r\n\t... 3 more\r\n```\r\nIs there some way to get around this `IllegalAccessError`, beyond the `--add-opens` flag?  Or is this a fundamental limitation due to the modules?\r\n\r\n","title":"How to get around IllegalAccessError when creating a MethodHandle from unnamed module","body":"<p>I am trying to get a <code>MethodHandle</code> for any of the constructors of the <code>com.sun.tools.javac.code.TypeMetadata.Annotations</code> record on JDK 21.  Here is the source code of <code>TypeMetadata</code> (from OpenJDK):</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/acd93102348f592d6f2e77a4bff6037edf708d55/src/jdk.compiler/share/classes/com/sun/tools/javac/code/TypeMetadata.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/acd93102348f592d6f2e77a4bff6037edf708d55/src/jdk.compiler/share/classes/com/sun/tools/javac/code/TypeMetadata.java</a></p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.tools.javac.code.TypeMetadata;\nimport java.lang.invoke.*;\nimport java.util.*;\n\nclass TestMH {\n  public static void main(String[] args) throws Throwable {\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    MethodType mt = MethodType.methodType(void.class);\n    MethodHandle mh = lookup.findConstructor(TypeMetadata.Annotations.class, mt);\n    System.out.println(mh);\n  }\n}\n</code></pre>\n<p>I compile by doing <code>javac --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED TestMH.java</code>.  Here is the output of <code>java --add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED TestMH</code>:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessException: no such constructor: com.sun.tools.javac.code.TypeMetadata$Annotations.&lt;init&gt;()void/newInvokeSpecial\n    at java.base/java.lang.invoke.MemberName.makeAccessException(MemberName.java:911)\n    at java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:994)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.resolveOrFail(MethodHandles.java:3750)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.findConstructor(MethodHandles.java:2837)\n    at TestMH.main(TestMH.java:9)\nCaused by: java.lang.IllegalAccessError: class TestMH tried to access method 'void com.sun.tools.javac.code.TypeMetadata$Annotations.&lt;init&gt;()' (TestMH is in unnamed module of loader 'app'; com.sun.tools.javac.code.TypeMetadata$Annotations is in module jdk.compiler of loader 'app')\n    at java.base/java.lang.invoke.MethodHandleNatives.resolve(Native Method)\n    at java.base/java.lang.invoke.MemberName$Factory.resolve(MemberName.java:962)\n    at java.base/java.lang.invoke.MemberName$Factory.resolveOrFail(MemberName.java:991)\n    ... 3 more\n</code></pre>\n<p>Is there some way to get around this <code>IllegalAccessError</code>, beyond the <code>--add-opens</code> flag?  Or is this a fundamental limitation due to the modules?</p>\n"},{"tags":["java","java.util.scanner","user-input"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1693072102,"post_id":76984148,"comment_id":135712896,"body_markdown":"Do you want to know if `a` is an integer?","body":"Do you want to know if <code>a</code> is an integer?"}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693086796,"post_id":76984271,"comment_id":135714368,"body_markdown":"Your catch clause is catching all exceptions, not just `NumberFormatException`, which will mask other errors in the `try` block.","body":"Your catch clause is catching all exceptions, not just <code>NumberFormatException</code>, which will mask other errors in the <code>try</code> block."}],"tags":[],"owner":{"account_id":13906797,"reputation":119,"user_id":10040961,"display_name":"Jagdeesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693073751,"creation_date":1693073751,"answer_id":76984271,"question_id":76984148,"body_markdown":"Use next() instead of nextInt() and check to see if the value is a string or a number to avoid errors by default.\r\nTry like this \r\n\r\n            System.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :\\n&quot;);\r\n            boolean isInteger = true;\r\n            do {\r\n                Scanner Obj = new Scanner(System.in);\r\n                String userInput = Obj.next();\r\n                int number = 0;\r\n                try {\r\n                    number = Integer.parseInt(userInput);\r\n                    isInteger = true;\r\n                } catch(Exception e) {\r\n                    isInteger = false;\r\n                }\r\n                if(isInteger) {\r\n                    int i, j;\r\n                    for (i = 1; i &lt;= number; i++) {\r\n                        for (j = 1; j &lt;= i; j++) {\r\n                            System.out.print(&quot;*&quot;);\r\n                        }\r\n                        System.out.println();\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Please Enter a Integer Value - &quot; + userInput);\r\n                }\r\n            } while (isInteger == false);","title":"how do i Check if the Entered Value is a Integer? and if it is, Then only rest of the Code gets Executed","body":"<p>Use next() instead of nextInt() and check to see if the value is a string or a number to avoid errors by default.\nTry like this</p>\n<pre><code>        System.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :\\n&quot;);\n        boolean isInteger = true;\n        do {\n            Scanner Obj = new Scanner(System.in);\n            String userInput = Obj.next();\n            int number = 0;\n            try {\n                number = Integer.parseInt(userInput);\n                isInteger = true;\n            } catch(Exception e) {\n                isInteger = false;\n            }\n            if(isInteger) {\n                int i, j;\n                for (i = 1; i &lt;= number; i++) {\n                    for (j = 1; j &lt;= i; j++) {\n                        System.out.print(&quot;*&quot;);\n                    }\n                    System.out.println();\n                }\n            } else {\n                System.out.println(&quot;Please Enter a Integer Value - &quot; + userInput);\n            }\n        } while (isInteger == false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693091322,"creation_date":1693077405,"answer_id":76984482,"question_id":76984148,"body_markdown":"&gt; _&quot;how do i Check if the Entered Value is a Integer? and if it is, Then only rest of the Code gets Executed ...&quot;_\r\n\r\nThe typical recommendation is to use the _[Integer#parseInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String))_ method.  \r\nThis method will throw _[NumberFormatException](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/NumberFormatException.html)_ for non-numeric values, so you can utilize a _[try-catch](https://docs.oracle.com/javase/tutorial/essential/exceptions/try.html)_ block.\r\n\r\n```java\r\nScanner Obj = new Scanner(System.in);\r\nString a = Obj.next();\r\ntry {\r\n    int value = Integer.parseInt(a);\r\n} catch (NumberFormatException exception) {\r\n        \r\n}\r\n```\r\n\r\nHere is a relevant _StackOverflow_ question and answer regarding this approach.  \r\n_[StackOverflow &amp;ndash; What&#39;s the best way to check if a String represents an integer in Java?](https://stackoverflow.com/questions/237159/whats-the-best-way-to-check-if-a-string-represents-an-integer-in-java)_.\r\n\r\nIf you are checking only integers, you can use the _[String#chars](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#chars())_ method on _a_.  \r\nThe _[Character#isDigit](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#isDigit(char))_ method will return _true_ for `&#39;0&#39;` though `&#39;9&#39;`.\r\n\r\n```java\r\nisInteger = a.chars().allMatch(Character::isDigit);\r\n```\r\n\r\nOr, you can also use the _[String#matches](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String))_ method.  \r\nThis uses a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_, as a _String_ parameter.\r\n\r\n```java\r\nif (a.matches(&quot;\\\\d+&quot;)) \r\n```\r\n\r\n&gt; _&quot;... it should print `&quot;Please Enter a Integer Value : &quot;` and asks the user to enter another input. ...&quot;_\r\n\r\nIn this case, start _isInteger_ as _false_, and set it to _true_ from the other _if block_.\r\n\r\n&gt; _&quot;... Expected output of the above code:_\r\n&gt;\r\n&gt; ```none\r\n&gt; *\r\n&gt; **\r\n&gt; ***\r\n&gt; **** \r\n&gt; ```\r\n\r\nYou&#39;re going to want to use _[print](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#print(char))_, instead of _[println](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.String))_.\r\n\r\n```java\r\nfor (j = 1; j &lt;= i; j++) {\r\n    System.out.print(&#39;*&#39;);\r\n}\r\nSystem.out.println();\r\n```\r\n\r\nHere is the full code,\r\n\r\n```java\r\nSystem.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :&quot;);\r\n\r\nboolean isInteger = false;\r\ndo {\r\n    Scanner Obj = new Scanner(System.in);\r\n    String a = Obj.next();\r\n\r\n    // The Condition I want is to check if INPUT &#39;a&#39; has a integer value and execute rest of the code on the condition.\r\n    if (a.matches(&quot;\\\\d+&quot;)) {\r\n        int i, length = Integer.parseInt(a);\r\n        for (i = 1; i &lt;= length; i++) {\r\n            int j;\r\n            for (j = 1; j &lt;= i; j++) {\r\n                System.out.print(&#39;*&#39;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        isInteger = true;\r\n    } else {\r\n        System.out.println(&quot;Please Enter a Integer Value : &quot;);\r\n    }\r\n} while (isInteger == false);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nEnter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :\r\n4\r\n*\r\n**\r\n***\r\n****\r\n```\r\n\r\nHere is how I would write the same code.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nString string;\r\nint value, count;\r\nboolean exit = false;\r\nwhile (!exit) {\r\n    string = scanner.nextLine();\r\n    if (!string.matches(&quot;\\\\d+&quot;))\r\n        System.out.printf(&quot;invalid entry &#39;%s&#39;%n&quot;, string);\r\n    else {\r\n        value = Integer.parseInt(string);\r\n        for (count = 1; count &lt;= value; count++)\r\n            System.out.println(&quot;*&quot;.repeat(count));\r\n        exit = true;\r\n    }\r\n}\r\n```","title":"how do i Check if the Entered Value is a Integer? and if it is, Then only rest of the Code gets Executed","body":"<blockquote>\n<p><em>&quot;how do i Check if the Entered Value is a Integer? and if it is, Then only rest of the Code gets Executed ...&quot;</em></p>\n</blockquote>\n<p>The typical recommendation is to use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"nofollow noreferrer\">Integer#parseInt</a></em> method.<br />\nThis method will throw <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/NumberFormatException.html\" rel=\"nofollow noreferrer\">NumberFormatException</a></em> for non-numeric values, so you can utilize a <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/try.html\" rel=\"nofollow noreferrer\">try-catch</a></em> block.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner Obj = new Scanner(System.in);\nString a = Obj.next();\ntry {\n    int value = Integer.parseInt(a);\n} catch (NumberFormatException exception) {\n        \n}\n</code></pre>\n<p>Here is a relevant <em>StackOverflow</em> question and answer regarding this approach.<br />\n<em><a href=\"https://stackoverflow.com/questions/237159/whats-the-best-way-to-check-if-a-string-represents-an-integer-in-java\">StackOverflow – What's the best way to check if a String represents an integer in Java?</a></em>.</p>\n<p>If you are checking only integers, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#chars()\" rel=\"nofollow noreferrer\">String#chars</a></em> method on <em>a</em>.<br />\nThe <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Character.html#isDigit(char)\" rel=\"nofollow noreferrer\">Character#isDigit</a></em> method will return <em>true</em> for <code>'0'</code> though <code>'9'</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>isInteger = a.chars().allMatch(Character::isDigit);\n</code></pre>\n<p>Or, you can also use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\">String#matches</a></em> method.<br />\nThis uses a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em>, as a <em>String</em> parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (a.matches(&quot;\\\\d+&quot;)) \n</code></pre>\n<blockquote>\n<p><em>&quot;... it should print <code>&quot;Please Enter a Integer Value : &quot;</code> and asks the user to enter another input. ...&quot;</em></p>\n</blockquote>\n<p>In this case, start <em>isInteger</em> as <em>false</em>, and set it to <em>true</em> from the other <em>if block</em>.</p>\n<blockquote>\n<p><em>&quot;... Expected output of the above code:</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>*\n**\n***\n**** \n</code></pre>\n</blockquote>\n<p>You're going to want to use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#print(char)\" rel=\"nofollow noreferrer\">print</a></em>, instead of <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.String)\" rel=\"nofollow noreferrer\">println</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (j = 1; j &lt;= i; j++) {\n    System.out.print('*');\n}\nSystem.out.println();\n</code></pre>\n<p>Here is the full code,</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :&quot;);\n\nboolean isInteger = false;\ndo {\n    Scanner Obj = new Scanner(System.in);\n    String a = Obj.next();\n\n    // The Condition I want is to check if INPUT 'a' has a integer value and execute rest of the code on the condition.\n    if (a.matches(&quot;\\\\d+&quot;)) {\n        int i, length = Integer.parseInt(a);\n        for (i = 1; i &lt;= length; i++) {\n            int j;\n            for (j = 1; j &lt;= i; j++) {\n                System.out.print('*');\n            }\n            System.out.println();\n        }\n        isInteger = true;\n    } else {\n        System.out.println(&quot;Please Enter a Integer Value : &quot;);\n    }\n} while (isInteger == false);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :\n4\n*\n**\n***\n****\n</code></pre>\n<p>Here is how I would write the same code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nString string;\nint value, count;\nboolean exit = false;\nwhile (!exit) {\n    string = scanner.nextLine();\n    if (!string.matches(&quot;\\\\d+&quot;))\n        System.out.printf(&quot;invalid entry '%s'%n&quot;, string);\n    else {\n        value = Integer.parseInt(string);\n        for (count = 1; count &lt;= value; count++)\n            System.out.println(&quot;*&quot;.repeat(count));\n        exit = true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29301284,"reputation":1,"user_id":22449450,"display_name":"Rachit Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693091322,"creation_date":1693071896,"question_id":76984148,"body_markdown":"```\r\nimport java.util.*;\r\n\r\npublic class MainClass {\r\n\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :&quot;);\r\n\r\n    boolean isInteger = true;\r\n    do {\r\n      Scanner Obj = new Scanner(System.in);\r\n      int a = Obj.nextInt();\r\n\r\n      // The Condition I want is to check if INPUT &#39;a&#39; has a integer value and execute rest of the code on the condition.\r\n      if (a.hasNextInt()) {\r\n        int i;\r\n        for (i = 1; i &lt;= a; i++) {\r\n          int j;\r\n          for (j = 1; j &lt;= i; j++) {\r\n            System.out.println(&quot;a&quot;);\r\n          }\r\n          System.out.println();\r\n        }\r\n      } else {\r\n        System.out.println(&quot;Please Enter a Integer Value : &quot;);\r\n        isInteger = false;\r\n      }\r\n    } while (isInteger == false);\r\n  }\r\n}\r\n```\r\n\r\nExpected output of the above code:\r\n```\r\n*\r\n**\r\n***\r\n**** \r\n````\r\n\r\nType of Pattern Several Number of times, then I thought doing this by taking user input. If the User input is an Integer then only rest of the code gets executed, else it should print `&quot;Please Enter a Integer Value : &quot;` and asks the user to enter another input. I&#39;m new to Java.\r\n\r\nHow do I check if the entered value is an Integer?\r\n","title":"how do i Check if the Entered Value is a Integer? and if it is, Then only rest of the Code gets Executed","body":"<pre><code>import java.util.*;\n\npublic class MainClass {\n\n  public static void main(String[] args) {\n    System.out.println(&quot;Enter the Number you want the Maximum times the Pattern to Print while Increasing 1 each Time :&quot;);\n\n    boolean isInteger = true;\n    do {\n      Scanner Obj = new Scanner(System.in);\n      int a = Obj.nextInt();\n\n      // The Condition I want is to check if INPUT 'a' has a integer value and execute rest of the code on the condition.\n      if (a.hasNextInt()) {\n        int i;\n        for (i = 1; i &lt;= a; i++) {\n          int j;\n          for (j = 1; j &lt;= i; j++) {\n            System.out.println(&quot;a&quot;);\n          }\n          System.out.println();\n        }\n      } else {\n        System.out.println(&quot;Please Enter a Integer Value : &quot;);\n        isInteger = false;\n      }\n    } while (isInteger == false);\n  }\n}\n</code></pre>\n<p>Expected output of the above code:</p>\n<pre><code>*\n**\n***\n**** \n</code></pre>\n<p>Type of Pattern Several Number of times, then I thought doing this by taking user input. If the User input is an Integer then only rest of the code gets executed, else it should print <code>&quot;Please Enter a Integer Value : &quot;</code> and asks the user to enter another input. I'm new to Java.</p>\n<p>How do I check if the entered value is an Integer?</p>\n"},{"tags":["java","arrays","collections"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1512387736,"creation_date":1512387736,"answer_id":47632594,"question_id":47632521,"body_markdown":"You can produce a `Map&lt;String, List&lt;String&gt;&gt;` quite easily with Java 8 `Stream`s:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt;\r\n        merged =\r\n            Stream.of(data,data1) // create a Stream&lt;Map&lt;String,String&gt; of all Maps\r\n                  .flatMap(map-&gt;map.entrySet().stream()) // map all the entries of all the\r\n                                                         // Maps into a \r\n                                                         // Stream&lt;Map.Entry&lt;String,String&gt;&gt;\r\n                  .collect(Collectors.groupingBy(Map.Entry::getKey, // group entries by key\r\n                                                 Collectors.mapping(Map.Entry::getValue,\r\n                                                                    Collectors.toList())));\r\n\r\nThe output `Map`:\r\n\r\n    {John=[Taxi Driver, Driver], Mark=[Professional Killer, Murderer]}","title":"Merge maps and make values as array","body":"<p>You can produce a <code>Map&lt;String, List&lt;String&gt;&gt;</code> quite easily with Java 8 <code>Stream</code>s:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt;\n    merged =\n        Stream.of(data,data1) // create a Stream&lt;Map&lt;String,String&gt; of all Maps\n              .flatMap(map-&gt;map.entrySet().stream()) // map all the entries of all the\n                                                     // Maps into a \n                                                     // Stream&lt;Map.Entry&lt;String,String&gt;&gt;\n              .collect(Collectors.groupingBy(Map.Entry::getKey, // group entries by key\n                                             Collectors.mapping(Map.Entry::getValue,\n                                                                Collectors.toList())));\n</code></pre>\n\n<p>The output <code>Map</code>:</p>\n\n<pre><code>{John=[Taxi Driver, Driver], Mark=[Professional Killer, Murderer]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512387807,"creation_date":1512387807,"answer_id":47632616,"question_id":47632521,"body_markdown":"Something like this?\r\n\r\n    void add(String key, String value, Map&lt;String,List&lt;String&gt;&gt; map) {\r\n        List&lt;String&gt; list = map.get(key);\r\n        if (list == null) {\r\n            list = new ArrayList&lt;&gt;();\r\n            map.put(key, list);\r\n        }\r\n        list.add(value);\r\n    }","title":"Merge maps and make values as array","body":"<p>Something like this?</p>\n\n<pre><code>void add(String key, String value, Map&lt;String,List&lt;String&gt;&gt; map) {\n    List&lt;String&gt; list = map.get(key);\n    if (list == null) {\n        list = new ArrayList&lt;&gt;();\n        map.put(key, list);\n    }\n    list.add(value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1512400067,"creation_date":1512387823,"answer_id":47632627,"question_id":47632521,"body_markdown":"You may want to create `Map&lt;String, &lt;ArrayList&lt;String&gt;&gt;`. That way you can store multiple values that are associated with one key.\n\nYou may consider creating method that provides storing multiple values associated to unique key in specified map:\n\n    public static void add(String key, String value, Map&lt;String, List&lt;String&gt;&gt; map) {\n    \t\t// Here you create a refeREnce to instance of the list storing values associated with given key:\n    \t\tList&lt;String&gt; listOfValues = map.get(key);\n    \t\t// If given key was already present in the map...\n    \t\tif(listOfValues != null) {\n    \t\t\t// Add given value to list of values associated with given key:\n    \t\t\tlistOfValues.add(value);\n    \t\t// If given key wasn&#39;t present in the map...\n    \t\t} else {\n    \t\t\t// Initialize an ArrayList that will store given value in the map:\n    \t\t\tlistOfValues = new ArrayList&lt;&gt;();\n    \t\t\t// Put new entry into the given map (given key and to-be-filled list of values:\n    \t\t\tmap.put(key, listOfValues);\n    \t\t\t// Put given value to the list of values associated with given key\n    \t\t\tlistOfValues.add(value);\n            }\n    }","title":"Merge maps and make values as array","body":"<p>You may want to create <code>Map&lt;String, &lt;ArrayList&lt;String&gt;&gt;</code>. That way you can store multiple values that are associated with one key.</p>\n\n<p>You may consider creating method that provides storing multiple values associated to unique key in specified map:</p>\n\n<pre><code>public static void add(String key, String value, Map&lt;String, List&lt;String&gt;&gt; map) {\n        // Here you create a refeREnce to instance of the list storing values associated with given key:\n        List&lt;String&gt; listOfValues = map.get(key);\n        // If given key was already present in the map...\n        if(listOfValues != null) {\n            // Add given value to list of values associated with given key:\n            listOfValues.add(value);\n        // If given key wasn't present in the map...\n        } else {\n            // Initialize an ArrayList that will store given value in the map:\n            listOfValues = new ArrayList&lt;&gt;();\n            // Put new entry into the given map (given key and to-be-filled list of values:\n            map.put(key, listOfValues);\n            // Put given value to the list of values associated with given key\n            listOfValues.add(value);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3318258,"reputation":199,"user_id":2790027,"accept_rate":75,"display_name":"Jerry Zhou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512388528,"creation_date":1512388528,"answer_id":47632810,"question_id":47632521,"body_markdown":"the data structure `Multimap` may be the best choice. The implementation in guava is highly recommended.  \r\n[https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap](https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap)","title":"Merge maps and make values as array","body":"<p>the data structure <code>Multimap</code> may be the best choice. The implementation in guava is highly recommended.<br>\n<a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap\" rel=\"nofollow noreferrer\">https://github.com/google/guava/wiki/NewCollectionTypesExplained#multimap</a></p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693091113,"creation_date":1693091113,"answer_id":76985150,"question_id":47632521,"body_markdown":"Assuming `Map&lt;String, List&lt;String&gt;&gt;` as a result works for you, here is an iterative version using [`Map.computeIfAbsent`][1] available since Java 8:\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; data3 = new HashMap&lt;&gt;();\r\nfor (Map&lt;String, String&gt; d : Arrays.asList(data, data1)) {\r\n  for (String k : d.keySet()) {\r\n    data3.computeIfAbsent(k, ignored -&gt; new ArrayList&lt;&gt;()).add(d.get(k));\r\n  }\r\n}\r\n```\r\nNote: computeIfAbsent allows you to compute a value for a key if it&#39;s not already associated with a value. In this case, the mapping function passed to computeIfAbsent creates a new `ArrayList` if there is no existing value for the key `k`. Next, the value from `d.get(k)` is added to that list.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-","title":"Merge maps and make values as array","body":"<p>Assuming <code>Map&lt;String, List&lt;String&gt;&gt;</code> as a result works for you, here is an iterative version using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Map.computeIfAbsent</code></a> available since Java 8:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; data3 = new HashMap&lt;&gt;();\nfor (Map&lt;String, String&gt; d : Arrays.asList(data, data1)) {\n  for (String k : d.keySet()) {\n    data3.computeIfAbsent(k, ignored -&gt; new ArrayList&lt;&gt;()).add(d.get(k));\n  }\n}\n</code></pre>\n<p>Note: computeIfAbsent allows you to compute a value for a key if it's not already associated with a value. In this case, the mapping function passed to computeIfAbsent creates a new <code>ArrayList</code> if there is no existing value for the key <code>k</code>. Next, the value from <code>d.get(k)</code> is added to that list.</p>\n"}],"owner":{"account_id":7318758,"reputation":403,"user_id":5575415,"accept_rate":62,"display_name":"Melvin Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47632594,"answer_count":5,"score":4,"last_activity_date":1693091113,"creation_date":1512387492,"question_id":47632521,"body_markdown":"\t\t\t\r\n    public class MapCheck {\r\n\t    public static void main(String[] args) {\r\n\t\t    Map&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\r\n\t\t\tdata.put(&quot;John&quot;, &quot;Taxi Driver&quot;);\r\n\t\t\tdata.put(&quot;Mark&quot;, &quot;Professional Killer&quot;);\r\n\t\t\tMap&lt;String, String&gt; data1 = new HashMap&lt;String, String&gt;();\r\n\t\t\tdata1.put(&quot;John&quot;, &quot;Driver&quot;);\r\n\t\t\tdata1.put(&quot;Mark&quot;, &quot;Murderer&quot;);\r\n\t\t\tMap&lt;String, String&gt; data3 = new HashMap&lt;String, String&gt;();\r\n\t\t\tdata3.putAll(data);\r\n\t\t\tdata3.putAll(data1);\r\n\t\t\tSystem.out.println(data3);\r\n\t    }\r\n\t}\r\n\r\nI have few maps which contains same key, their values are different. I want to merge them. But when I merge them with the usual `putAll()` it gives me only the value of the key which was inserted latest.\r\n\r\nOutput from above code is  `{John=Driver, Mark=Murderer}`\r\n\r\nIs there a method which will get me all the values associated with the key and give me as a array like \r\n\r\n    {John=[Taxi Driver, Driver], Mark=[Professional Killer, Murderer]}","title":"Merge maps and make values as array","body":"<pre><code>public class MapCheck {\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\n        data.put(\"John\", \"Taxi Driver\");\n        data.put(\"Mark\", \"Professional Killer\");\n        Map&lt;String, String&gt; data1 = new HashMap&lt;String, String&gt;();\n        data1.put(\"John\", \"Driver\");\n        data1.put(\"Mark\", \"Murderer\");\n        Map&lt;String, String&gt; data3 = new HashMap&lt;String, String&gt;();\n        data3.putAll(data);\n        data3.putAll(data1);\n        System.out.println(data3);\n    }\n}\n</code></pre>\n\n<p>I have few maps which contains same key, their values are different. I want to merge them. But when I merge them with the usual <code>putAll()</code> it gives me only the value of the key which was inserted latest.</p>\n\n<p>Output from above code is  <code>{John=Driver, Mark=Murderer}</code></p>\n\n<p>Is there a method which will get me all the values associated with the key and give me as a array like </p>\n\n<pre><code>{John=[Taxi Driver, Driver], Mark=[Professional Killer, Murderer]}\n</code></pre>\n"},{"tags":["java","jms"],"comments":[{"owner":{"account_id":202319,"reputation":4688,"user_id":449325,"display_name":"alpian"},"score":0,"creation_date":1306267328,"post_id":6115555,"comment_id":7094642,"body_markdown":"This sounds as easy as just looping until you&#39;ve read N messages, where N is the number requested by the user.  Why won&#39;t that work for you and what specific problem are you getting?","body":"This sounds as easy as just looping until you&#39;ve read N messages, where N is the number requested by the user.  Why won&#39;t that work for you and what specific problem are you getting?"},{"owner":{"account_id":1411666,"reputation":4134,"user_id":1338132,"display_name":"Axel Podehl"},"score":0,"creation_date":1515054485,"post_id":6115555,"comment_id":83156941,"body_markdown":"This type of feature falls more into the administrative features of a JMS Broker. Viewing the #msgs in a queue is not part of the JMS spec. Which JMS Provider are you using ? Very often there is a separate Admin API for that kind of thing. E.g. TIBCO EMS, ActiveMQ, IBM MQ all have this type of admin API.","body":"This type of feature falls more into the administrative features of a JMS Broker. Viewing the #msgs in a queue is not part of the JMS spec. Which JMS Provider are you using ? Very often there is a separate Admin API for that kind of thing. E.g. TIBCO EMS, ActiveMQ, IBM MQ all have this type of admin API."}],"answers":[{"tags":[],"owner":{"account_id":265406,"reputation":3155,"user_id":552347,"display_name":"Ravi Bhatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306268311,"creation_date":1306268311,"answer_id":6116335,"question_id":6115555,"body_markdown":"i assume that you are using a MessageListner, so OnMessage() method will be called once a message comes up. In this method you can keep a counter, once this counter reaches maximum allowed, you can call connection.stop() to stop consuming messages from the queue. \r\n\r\nYou can always restart by calling connection.start() again. ","title":"Reading a message from a Queue and display it to the user?","body":"<p>i assume that you are using a MessageListner, so OnMessage() method will be called once a message comes up. In this method you can keep a counter, once this counter reaches maximum allowed, you can call connection.stop() to stop consuming messages from the queue. </p>\n\n<p>You can always restart by calling connection.start() again. </p>\n"}],"owner":{"account_id":756801,"reputation":31,"user_id":768365,"display_name":"xyz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12689,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1693090850,"creation_date":1306264136,"question_id":6115555,"body_markdown":"I want to know first how many messages are already existing in a Queue. The following class Browser will return the number of messages existing in Queue. Now, I want user to enter the number of messages to be read from a queue and display only that number of messages to the client. I do not want to read all the messages from a queue but only those number of messages which user wants to read. Please check the code and reply what should be done. \r\n\r\n    public class Browser\r\n    {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n        |   // get the initial context\r\n        |   InitialContext ctx = new InitialContext();\r\n        |                                                                      \r\n        |   // lookup the queue object\r\n        |   Queue queue = (Queue) ctx.lookup(&quot;queue/queue0&quot;);\r\n        |                                                                      \r\n        |   // lookup the queue connection factory\r\n        |   QueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.\r\n        |       lookup(&quot;queue/connectionFactory&quot;);\r\n        |                                                                      \r\n        |   // create a queue connection\r\n        |   QueueConnection queueConn = connFactory.createQueueConnection();\r\n        |                                                                      \r\n        |   // create a queue session\r\n        |   QueueSession queueSession = queueConn.createQueueSession(false,\r\n        |       Session.AUTO_ACKNOWLEDGE);\r\n        |                                                                      \r\n        |   // create a queue browser\r\n        |   QueueBrowser queueBrowser = queueSession.createBrowser(queue);\r\n        |                                                                      \r\n        |   // start the connection\r\n        |   queueConn.start();\r\n        |                                                                      \r\n        |   // browse the messages\r\n        |   Enumeration e = queueBrowser.getEnumeration();\r\n        |   int numMsgs = 0;\r\n        |                                                                      \r\n        |   // count number of messages\r\n        |   while (e.hasMoreElements()) {\r\n        |   |   Message message = (Message) e.nextElement();\r\n        |   |   numMsgs++;\r\n        |   }\r\n        |                                                                      \r\n        |   System.out.println(queue + &quot; has &quot; + numMsgs + &quot; messages&quot;);\r\n        |                                                                      \r\n        |   // close the queue connection\r\n        |   queueConn.close();\r\n        }\r\n    }\r\n    \r\n    \r\n    To read the number of messages as per user&#39;s requirements....\r\n    String NUMBER = request.getParameter(&quot;number&quot;); \r\n    .......\r\n    .......\r\n    .......\r\n    connection.start();\r\n                for (int s = 0; s &lt;= Integer.parseInt(NUMBER); s++){\r\n                 while (true){\r\n                \tMessage m = qReceiver.receive();\r\n                \tif (m != null){\r\n                \t\tif (m instanceof BytesMessage){\r\n                \t\t\tBytesMessage bytesMessage = (BytesMessage)m;\r\n                \t\t\tPrintStream buffer = null;\r\n                \t\t\tfor ( int i = 0; i &lt; (int)bytesMessage.getBodyLength(); i++) {\r\n                \t\t\t\tbuffer.append((char) bytesMessage.readByte());\r\n    \t            \t\t\t}\r\n    \t            \t\t\tString msg = buffer.toString().trim();\r\n    \t            \t\t\t\r\n    \t            \t\t\tSystem.out.println(&quot;Reading Message: &quot; + msg);\r\n                \t\t   }else if (m instanceof TextMessage){\r\n                \t\t\tTextMessage textMessage = (TextMessage)m;\r\n                \t\t\tSystem.out.println(&quot;Reading message: &quot; + textMessage.getText());\r\n                \t\t}else {\r\n                \t\t\tbreak;\r\n                \t\t}","title":"Reading a message from a Queue and display it to the user?","body":"<p>I want to know first how many messages are already existing in a Queue. The following class Browser will return the number of messages existing in Queue. Now, I want user to enter the number of messages to be read from a queue and display only that number of messages to the client. I do not want to read all the messages from a queue but only those number of messages which user wants to read. Please check the code and reply what should be done. </p>\n\n<pre><code>public class Browser\n{\n    public static void main(String[] args) throws Exception\n    {\n    |   // get the initial context\n    |   InitialContext ctx = new InitialContext();\n    |                                                                      \n    |   // lookup the queue object\n    |   Queue queue = (Queue) ctx.lookup(\"queue/queue0\");\n    |                                                                      \n    |   // lookup the queue connection factory\n    |   QueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.\n    |       lookup(\"queue/connectionFactory\");\n    |                                                                      \n    |   // create a queue connection\n    |   QueueConnection queueConn = connFactory.createQueueConnection();\n    |                                                                      \n    |   // create a queue session\n    |   QueueSession queueSession = queueConn.createQueueSession(false,\n    |       Session.AUTO_ACKNOWLEDGE);\n    |                                                                      \n    |   // create a queue browser\n    |   QueueBrowser queueBrowser = queueSession.createBrowser(queue);\n    |                                                                      \n    |   // start the connection\n    |   queueConn.start();\n    |                                                                      \n    |   // browse the messages\n    |   Enumeration e = queueBrowser.getEnumeration();\n    |   int numMsgs = 0;\n    |                                                                      \n    |   // count number of messages\n    |   while (e.hasMoreElements()) {\n    |   |   Message message = (Message) e.nextElement();\n    |   |   numMsgs++;\n    |   }\n    |                                                                      \n    |   System.out.println(queue + \" has \" + numMsgs + \" messages\");\n    |                                                                      \n    |   // close the queue connection\n    |   queueConn.close();\n    }\n}\n\n\nTo read the number of messages as per user's requirements....\nString NUMBER = request.getParameter(\"number\"); \n.......\n.......\n.......\nconnection.start();\n            for (int s = 0; s &lt;= Integer.parseInt(NUMBER); s++){\n             while (true){\n                Message m = qReceiver.receive();\n                if (m != null){\n                    if (m instanceof BytesMessage){\n                        BytesMessage bytesMessage = (BytesMessage)m;\n                        PrintStream buffer = null;\n                        for ( int i = 0; i &lt; (int)bytesMessage.getBodyLength(); i++) {\n                            buffer.append((char) bytesMessage.readByte());\n                            }\n                            String msg = buffer.toString().trim();\n\n                            System.out.println(\"Reading Message: \" + msg);\n                       }else if (m instanceof TextMessage){\n                        TextMessage textMessage = (TextMessage)m;\n                        System.out.println(\"Reading message: \" + textMessage.getText());\n                    }else {\n                        break;\n                    }\n</code></pre>\n"},{"tags":["java","android","kotlin","android-service"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1693082079,"post_id":76984542,"comment_id":135713917,"body_markdown":"Your `startForegroundService()` call will not work, as you are not calling `startForeground()` from inside the service. You also are not calling through to `super.onCreate()` from your `onCreate()` method.","body":"Your <code>startForegroundService()</code> call will not work, as you are not calling <code>startForeground()</code> from inside the service. You also are not calling through to <code>super.onCreate()</code> from your <code>onCreate()</code> method."},{"owner":{"account_id":12978452,"reputation":117,"user_id":9381727,"display_name":"Ibrahem Hamdy"},"score":0,"creation_date":1693082539,"post_id":76984542,"comment_id":135713983,"body_markdown":"It didn&#39;t work, I did everything","body":"It didn&#39;t work, I did everything"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1693082701,"post_id":76984542,"comment_id":135713997,"body_markdown":"Then perhaps you should update your question to show your code that uses `startForeground()` and `super.onCreate()`. Perhaps there is a bug tied to those that we can identify.","body":"Then perhaps you should update your question to show your code that uses <code>startForeground()</code> and <code>super.onCreate()</code>. Perhaps there is a bug tied to those that we can identify."},{"owner":{"account_id":12978452,"reputation":117,"user_id":9381727,"display_name":"Ibrahem Hamdy"},"score":0,"creation_date":1693083551,"post_id":76984542,"comment_id":135714092,"body_markdown":"I have modified","body":"I have modified"}],"answers":[{"comments":[{"owner":{"account_id":12978452,"reputation":117,"user_id":9381727,"display_name":"Ibrahem Hamdy"},"score":0,"creation_date":1693083594,"post_id":76984799,"comment_id":135714100,"body_markdown":"I have modified ,reconsidering","body":"I have modified ,reconsidering"}],"tags":[],"owner":{"account_id":16045392,"reputation":21,"user_id":11580651,"display_name":"Ehsan Yazdanyar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693082979,"creation_date":1693082979,"answer_id":76984799,"question_id":76984542,"body_markdown":"When working with foreground services in Android, it&#39;s a requirement to call startForeground() within the onStartCommand() method to provide a persistent notification to the user. This notification informs the user that your app is running a foreground service and helps prevent the system from terminating the service unexpectedly.\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n    player = MediaPlayer.create(this, R.raw.ringtone);\r\n    player.start();\r\n\r\n    // Create a notification for the foreground service\r\n    Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n        .setContentTitle(&quot;Foreground Service&quot;)\r\n        .setContentText(&quot;Service is running...&quot;)\r\n        .setSmallIcon(R.drawable.ic_example)\r\n        .build();\r\n\r\n    // Start the service as a foreground service\r\n    startForeground(NOTIFICATION_ID, notification);\r\n\r\n    return START_NOT_STICKY;\r\n}","title":"1 processes and 0 service under Settings, Apps and Running","body":"<p>When working with foreground services in Android, it's a requirement to call startForeground() within the onStartCommand() method to provide a persistent notification to the user. This notification informs the user that your app is running a foreground service and helps prevent the system from terminating the service unexpectedly.</p>\n<pre><code>@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\nplayer = MediaPlayer.create(this, R.raw.ringtone);\nplayer.start();\n\n// Create a notification for the foreground service\nNotification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\n    .setContentTitle(&quot;Foreground Service&quot;)\n    .setContentText(&quot;Service is running...&quot;)\n    .setSmallIcon(R.drawable.ic_example)\n    .build();\n\n// Start the service as a foreground service\nstartForeground(NOTIFICATION_ID, notification);\n\nreturn START_NOT_STICKY;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":26035935,"reputation":51,"user_id":19741383,"display_name":"Malik Farooq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693088738,"creation_date":1693088738,"answer_id":76985076,"question_id":76984542,"body_markdown":"There can be various causes that your service is not working\r\n1) Insure that you are starting the service like startForegroundService\r\n2) Make sure to grant the Battery Optimization permission.\r\n3) It&#39;s possible that service instantiated but it might be getting halted and problem can be originate other side of your project.","title":"1 processes and 0 service under Settings, Apps and Running","body":"<p>There can be various causes that your service is not working</p>\n<ol>\n<li>Insure that you are starting the service like startForegroundService</li>\n<li>Make sure to grant the Battery Optimization permission.</li>\n<li>It's possible that service instantiated but it might be getting halted and problem can be originate other side of your project.</li>\n</ol>\n"}],"owner":{"account_id":12978452,"reputation":117,"user_id":9381727,"display_name":"Ibrahem Hamdy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693088738,"creation_date":1693078545,"question_id":76984542,"body_markdown":"The application is working, but why is the service not showing up?\r\n\r\nWhat is the cause of the problem, given that the Android version 10\r\n\r\n**Edit**\r\n\r\nhas been added\r\n    \r\n\r\nsuper.onCreate();\r\n\r\nI used notifications, but the problem didn&#39;t work\r\n\r\nI haven&#39;t been able to identify the cause of the problem yet\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/IWYiq.jpg)](https://i.stack.imgur.com/IWYiq.jpg)\r\n**in manifest\r\n**\r\n```\r\n&lt;service\r\n            android:name=&quot;.Service.AlarmService&quot;\r\n            android:label=&quot;Alarm&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:foregroundServiceType=&quot;mediaPlayback&quot;\r\n            android:icon=&quot;@drawable/ic_send&quot;/&gt;\r\n\r\n\r\n &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n```\r\n**in service**\r\n```\r\npublic class AlarmService extends Service {\r\n    private MediaPlayer player;\r\n    IBinder iBinder;\r\n\r\n    @Override\r\n    public void onStart(Intent intent, int startId) {\r\n        super.onStart(intent, startId);\r\n\r\n\r\n    }\r\n\r\n   \r\n\r\n     @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n              player =MediaPlayer.create(this,R.raw.ringtone);\r\n    \r\n    \r\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O)\r\n                startMyOwnForeground();\r\n    else\r\n                startForeground(1, new Notification());\r\n        }\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        player.start();\r\n\r\n\r\n       // bettrylife(this);\r\n       // stopSelf();\r\n        return START_NOT_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return iBinder;\r\n    }\r\n    private void bettrylife(Context context){\r\n        PackageManager manager= context.getPackageManager();\r\n        ComponentName componentName = new ComponentName(context, AlarmService.class);\r\n\r\n        int settingcode =PackageManager.COMPONENT_ENABLED_STATE_ENABLED;\r\n        manager.setComponentEnabledSetting(componentName,settingcode, DONT_KILL_APP);\r\n\r\n    }\r\n \r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n        private void startMyOwnForeground()\r\n        {\r\n            String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\r\n            String channelName = &quot;Background Service&quot;;\r\n            NotificationChannel chan = new NotificationChannel(NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_NONE);\r\n            chan.setLightColor(Color.BLUE);\r\n            chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n    \r\n            NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n            assert manager != null;\r\n            manager.createNotificationChannel(chan);\r\n    \r\n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\r\n            Notification notification = notificationBuilder.setOngoing(true)\r\n                    .setContentTitle(&quot;App is running in background&quot;)\r\n                    .setPriority(NotificationManager.IMPORTANCE_MIN)\r\n                    .setCategory(Notification.CATEGORY_SERVICE)\r\n                    .build();\r\n            startForeground(2, notification);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n```\r\n\r\n**in fragment**\r\n```\r\n\r\nIntent intent =new Intent(getActivity(),AlarmService.class);\r\nstartService(intent);\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"1 processes and 0 service under Settings, Apps and Running","body":"<p>The application is working, but why is the service not showing up?</p>\n<p>What is the cause of the problem, given that the Android version 10</p>\n<p><strong>Edit</strong></p>\n<p>has been added</p>\n<p>super.onCreate();</p>\n<p>I used notifications, but the problem didn't work</p>\n<p>I haven't been able to identify the cause of the problem yet</p>\n<p><a href=\"https://i.stack.imgur.com/IWYiq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IWYiq.jpg\" alt=\"enter image description here\" /></a>\n**in manifest\n**</p>\n<pre><code>&lt;service\n            android:name=&quot;.Service.AlarmService&quot;\n            android:label=&quot;Alarm&quot;\n            android:enabled=&quot;true&quot;\n            android:foregroundServiceType=&quot;mediaPlayback&quot;\n            android:icon=&quot;@drawable/ic_send&quot;/&gt;\n\n\n &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n</code></pre>\n<p><strong>in service</strong></p>\n<pre><code>public class AlarmService extends Service {\n    private MediaPlayer player;\n    IBinder iBinder;\n\n    @Override\n    public void onStart(Intent intent, int startId) {\n        super.onStart(intent, startId);\n\n\n    }\n\n   \n\n     @Override\n        public void onCreate() {\n            super.onCreate();\n              player =MediaPlayer.create(this,R.raw.ringtone);\n    \n    \n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O)\n                startMyOwnForeground();\n    else\n                startForeground(1, new Notification());\n        }\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        player.start();\n\n\n       // bettrylife(this);\n       // stopSelf();\n        return START_NOT_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return iBinder;\n    }\n    private void bettrylife(Context context){\n        PackageManager manager= context.getPackageManager();\n        ComponentName componentName = new ComponentName(context, AlarmService.class);\n\n        int settingcode =PackageManager.COMPONENT_ENABLED_STATE_ENABLED;\n        manager.setComponentEnabledSetting(componentName,settingcode, DONT_KILL_APP);\n\n    }\n \n\n    @RequiresApi(Build.VERSION_CODES.O)\n        private void startMyOwnForeground()\n        {\n            String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\n            String channelName = &quot;Background Service&quot;;\n            NotificationChannel chan = new NotificationChannel(NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_NONE);\n            chan.setLightColor(Color.BLUE);\n            chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n    \n            NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n            assert manager != null;\n            manager.createNotificationChannel(chan);\n    \n            NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n            Notification notification = notificationBuilder.setOngoing(true)\n                    .setContentTitle(&quot;App is running in background&quot;)\n                    .setPriority(NotificationManager.IMPORTANCE_MIN)\n                    .setCategory(Notification.CATEGORY_SERVICE)\n                    .build();\n            startForeground(2, notification);\n        }\n    \n    \n    }\n\n</code></pre>\n<p><strong>in fragment</strong></p>\n<pre><code>\nIntent intent =new Intent(getActivity(),AlarmService.class);\nstartService(intent);\n\n</code></pre>\n"},{"tags":["java","null","mocking","mockito","inject"],"comments":[{"owner":{"account_id":5038945,"reputation":679,"user_id":4046978,"accept_rate":43,"display_name":"Abercrombieande"},"score":0,"creation_date":1416600347,"post_id":27065195,"comment_id":42651733,"body_markdown":"Is the method static or final?","body":"Is the method static or final?"},{"owner":{"account_id":5072640,"reputation":711,"user_id":4070987,"accept_rate":17,"display_name":"radpet"},"score":0,"creation_date":1416602364,"post_id":27065195,"comment_id":42652618,"body_markdown":"it is neather final nor static","body":"it is neather final nor static"},{"owner":{"account_id":3273973,"reputation":5801,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"score":3,"creation_date":1518425630,"post_id":27065195,"comment_id":84484764,"body_markdown":"&quot;Solved i should have read about the difference between @Mock and @Spy...&quot; would it be possible to post and accept your solution as an answer? That may help other users with the same problem and close this thread.","body":"&quot;Solved i should have read about the difference between @Mock and @Spy...&quot; would it be possible to post and accept your solution as an answer? That may help other users with the same problem and close this thread."},{"owner":{"account_id":3904494,"reputation":260,"user_id":3231510,"display_name":"Oscar Bravo"},"score":0,"creation_date":1595497995,"post_id":27065195,"comment_id":111497909,"body_markdown":"Please describe the solution rather than a silly clue.","body":"Please describe the solution rather than a silly clue."},{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1596400157,"post_id":27065195,"comment_id":111793203,"body_markdown":"@radpet kindly add the solution you found as an answer.","body":"@radpet kindly add the solution you found as an answer."}],"answers":[{"comments":[{"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"score":10,"creation_date":1516010973,"post_id":27069042,"comment_id":83504178,"body_markdown":"The same issue, NPE after @InjectMocks and MockitoAnotations.initMocks(this)","body":"The same issue, NPE after @InjectMocks and MockitoAnotations.initMocks(this)"},{"owner":{"account_id":1740636,"reputation":1637,"user_id":1592149,"accept_rate":52,"display_name":"Tushar Banne"},"score":0,"creation_date":1584738608,"post_id":27069042,"comment_id":107538884,"body_markdown":"@VB_ were you able to resole this issue? if yes, how?","body":"@VB_ were you able to resole this issue? if yes, how?"},{"owner":{"account_id":46963,"reputation":1007,"user_id":138969,"display_name":"Ajay Gautam"},"score":0,"creation_date":1639673911,"post_id":27069042,"comment_id":124415022,"body_markdown":"Solution does not work","body":"Solution does not work"},{"owner":{"account_id":46963,"reputation":1007,"user_id":138969,"display_name":"Ajay Gautam"},"score":1,"creation_date":1639677591,"post_id":27069042,"comment_id":124416395,"body_markdown":"I was able to get it working with BeforeEach instead of Before","body":"I was able to get it working with BeforeEach instead of Before"},{"owner":{"account_id":7323670,"reputation":1945,"user_id":6393275,"display_name":"alex"},"score":3,"creation_date":1663867590,"post_id":27069042,"comment_id":130346266,"body_markdown":"init mock looks to be deprecated","body":"init mock looks to be deprecated"}],"tags":[],"owner":{"account_id":5220196,"reputation":2212,"user_id":4173903,"display_name":"Khalid"},"comment_count":5,"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1416598860,"creation_date":1416598860,"answer_id":27069042,"question_id":27065195,"body_markdown":"Use `MockitoAnnotations.initMocks` to initiate the `@Mock` and `@InjectMocks` objects. Your test would look something like:\r\n\r\n    @Mock\r\n    FastPowering fastPower;\r\n    \r\n    @InjectMocks\r\n    Controller controller;\r\n\r\n    @Before\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n    \r\n    @Test\r\n    public void test() {\r\n        ....\r\n    }","title":"Null after @InjectMocks","body":"<p>Use <code>MockitoAnnotations.initMocks</code> to initiate the <code>@Mock</code> and <code>@InjectMocks</code> objects. Your test would look something like:</p>\n\n<pre><code>@Mock\nFastPowering fastPower;\n\n@InjectMocks\nController controller;\n\n@Before\npublic void setup() {\n    MockitoAnnotations.initMocks(this);\n}\n\n@Test\npublic void test() {\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3270955,"reputation":2069,"user_id":2754357,"accept_rate":75,"display_name":"Tim Long"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1693088315,"creation_date":1450187342,"answer_id":34290929,"question_id":27065195,"body_markdown":"2 more things to check:\r\n\r\n   1. Mocking the behaviours of fastPower. What should this mocked object return, when it methods are called? i.e. when(fastPower.doSomething()).thenReturn(some_kind_of_object);\r\n   2. Check if the controller.computeAnswer() does not return NULL for the input of new BigDecimal(2), 2)).longValue(), (long) Math.pow(2, 2).","title":"Null after @InjectMocks","body":"<p>2 more things to check:</p>\n<ol>\n<li>Mocking the behaviours of fastPower. What should this mocked object return, when it methods are called? i.e. when(fastPower.doSomething()).thenReturn(some_kind_of_object);</li>\n<li>Check if the controller.computeAnswer() does not return NULL for the input of new BigDecimal(2), 2)).longValue(), (long) Math.pow(2, 2).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":447134,"reputation":1792,"user_id":840584,"display_name":"Ilya Lysenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669646996,"creation_date":1540765433,"answer_id":53036608,"question_id":27065195,"body_markdown":"After debugging I found a reason. This is because of the `org.powermock.core.MockRepository#instanceMocks` collection. It doesn&#39;t contain a mock for a field with `@InjectMocks` annotation (`Controller controller` in your case).\r\nTo solve it try to use the `@Spy` annotation in the field declaration with initializing of them and `@PrepareForTest` above the class declaration:\r\n\r\n```java\r\n@PrepareForTest(Controller.class)\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ControllerTest {\r\n    \r\n    @Mock\r\n    FastPowering fastPower;\r\n    \r\n    @Spy\r\n    @InjectMocks    \r\n    Controller controller = new Controller();\r\n    \r\n    @Test\r\n    public void test() {\r\n        //...\r\n    }\r\n}\r\n```\r\n\r\nIn my case it helped. Using of the `Mockitoannotations.initMocks(this)` method is not required, it doesn&#39;t affect the result.","title":"Null after @InjectMocks","body":"<p>After debugging I found a reason. This is because of the <code>org.powermock.core.MockRepository#instanceMocks</code> collection. It doesn't contain a mock for a field with <code>@InjectMocks</code> annotation (<code>Controller controller</code> in your case).\nTo solve it try to use the <code>@Spy</code> annotation in the field declaration with initializing of them and <code>@PrepareForTest</code> above the class declaration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PrepareForTest(Controller.class)\n@RunWith(MockitoJUnitRunner.class)\npublic class ControllerTest {\n    \n    @Mock\n    FastPowering fastPower;\n    \n    @Spy\n    @InjectMocks    \n    Controller controller = new Controller();\n    \n    @Test\n    public void test() {\n        //...\n    }\n}\n</code></pre>\n<p>In my case it helped. Using of the <code>Mockitoannotations.initMocks(this)</code> method is not required, it doesn't affect the result.</p>\n"},{"tags":[],"owner":{"account_id":16864887,"reputation":872,"user_id":12194805,"display_name":"Oozeerally"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602755306,"creation_date":1571824271,"answer_id":58520093,"question_id":27065195,"body_markdown":"Useful to note that the use of `MockitoAnnotations.initMocks(this);` needs to come at the **end** of your `@Before`/`setUp()` method. \r\n\r\nIf it is at the top of your `setUp()` then it may cause other mocked classes to not be initialised. \r\n\r\nI ran into this error myself just now and placing `.initMocks` at the end of my `@Before` solved my issue.","title":"Null after @InjectMocks","body":"<p>Useful to note that the use of <code>MockitoAnnotations.initMocks(this);</code> needs to come at the <strong>end</strong> of your <code>@Before</code>/<code>setUp()</code> method.</p>\n<p>If it is at the top of your <code>setUp()</code> then it may cause other mocked classes to not be initialised.</p>\n<p>I ran into this error myself just now and placing <code>.initMocks</code> at the end of my <code>@Before</code> solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":391955,"reputation":9882,"user_id":752916,"accept_rate":84,"display_name":"AlexMA"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679950734,"creation_date":1573493233,"answer_id":58806006,"question_id":27065195,"body_markdown":"I fixed this by removing the extraneous new instance I was creating in my @Before method (see example below). It was also fixed by moving `MockitoAnnotations.initMocks(this)` after initializing `myClass`, but since Mockito created `myClass` anyway, that solution was inferior.\r\n\r\n```java\r\n// Note - you may need @mock(name=&quot;foo&quot;) to help mockito differentiate props\r\n//        if they have the same type\r\n@Mock\r\nprivate Thing something;\r\n\r\n@InjectMocks\r\nprivate MyClass myClass;\r\n\r\n@Before\r\n public void setUp() {\r\n    MockitoAnnotations.initMocks(this); // Moving this below the next line fixed it...\r\n    myClass = new MyClass() // But just remove this line and let Mockito do the work\r\n}\r\n```","title":"Null after @InjectMocks","body":"<p>I fixed this by removing the extraneous new instance I was creating in my @Before method (see example below). It was also fixed by moving <code>MockitoAnnotations.initMocks(this)</code> after initializing <code>myClass</code>, but since Mockito created <code>myClass</code> anyway, that solution was inferior.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Note - you may need @mock(name=&quot;foo&quot;) to help mockito differentiate props\n//        if they have the same type\n@Mock\nprivate Thing something;\n\n@InjectMocks\nprivate MyClass myClass;\n\n@Before\n public void setUp() {\n    MockitoAnnotations.initMocks(this); // Moving this below the next line fixed it...\n    myClass = new MyClass() // But just remove this line and let Mockito do the work\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":482511,"reputation":1287,"user_id":896958,"display_name":"Stephen Wood"},"score":0,"creation_date":1690926924,"post_id":73715662,"comment_id":135420509,"body_markdown":"Thank you! Why they would keep these incompatible annotations so closely named is beyond me.","body":"Thank you! Why they would keep these incompatible annotations so closely named is beyond me."}],"tags":[],"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1663152939,"creation_date":1663152939,"answer_id":73715662,"question_id":27065195,"body_markdown":"I was using the wrong `@Test` annotations, If you want to use `@InjectMocks` and `@Mock` in your Mockito Test, then you should\r\n\r\n 1. add `@ExtendWith(MockitoExtension.class)` annotation on your test class\r\n 2. annotate your test methods with `@Test (org.junit.jupiter.api.Test)` and not the `@Test (org.junit.Test)` annotation. be careful with the import that you are using for this annotation.\r\n\r\nThis works on `mockito-core:3.6.28` ","title":"Null after @InjectMocks","body":"<p>I was using the wrong <code>@Test</code> annotations, If you want to use <code>@InjectMocks</code> and <code>@Mock</code> in your Mockito Test, then you should</p>\n<ol>\n<li>add <code>@ExtendWith(MockitoExtension.class)</code> annotation on your test class</li>\n<li>annotate your test methods with <code>@Test (org.junit.jupiter.api.Test)</code> and not the <code>@Test (org.junit.Test)</code> annotation. be careful with the import that you are using for this annotation.</li>\n</ol>\n<p>This works on <code>mockito-core:3.6.28</code></p>\n"}],"owner":{"account_id":5072640,"reputation":711,"user_id":4070987,"accept_rate":17,"display_name":"radpet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62054,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"answer_count":6,"score":22,"last_activity_date":1693088315,"creation_date":1416584939,"question_id":27065195,"body_markdown":"I am having some troubles passing a dependency while unit testing with JUnit.\r\n\r\nConsider these pieces of code:\r\n\r\nThis is the dependacy injecton into the class which i want to test, lets call it Controller.\r\n\r\n    @Inject private FastPowering fastPowering;\t\r\n\r\n\r\nAnd this is the unit test:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ControllerTest {\r\n\r\n\t@Mock\r\n\tFastPowering fastPower;\r\n\r\n\t@InjectMocks\r\n\tController controller;\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tassertEquals(\r\n\t\t\t\t(controller.computeAnswer(new BigDecimal(2), 2)).longValue(),\r\n\t\t\t\t(long) Math.pow(2, 2));\r\n\t    }\r\n    }\r\n\r\nIt seems that fastPower is null, please explain how to fix that.\r\nNull pointer exception , because of calling the @injected field (fastPower) inside the .computeAnswer method)\r\n\r\n\r\nEdit:\r\n\r\nSolved i should have read about the difference between @Mock and @Spy...\r\n\r\nDue to a lot of comments I am adding some more context to the solution\r\n\r\nThe difference is that in mock, you are creating a complete mock or fake object while in spy, there is the real object and you just spying or stubbing specific methods of it. While in spy objects, of course, since it is a real method, when you are not stubbing the method, then it will call the real method behavior.\r\n\r\nIf fastPower is annotated as *@Mock* it&#39;s methods are dummy, yet *controller.computeAnswer* depends on them to compute. One must provide behaviour.\r\n\r\nIf spy is used without stubbing then the real implementation of *fastPower* is being executed which eventually returns desired value.\r\n\r\nAnother option is to use a real *FastPowering* instance\r\n\r\nhttps://github.com/mockito/mockito/wiki/Using-Spies-(and-Fakes)\r\nhttps://github.com/mockito/mockito/wiki/Mocking-Object-Creation\r\n\r\n\r\nAnd some stackoverflow thread outlining the difference https://stackoverflow.com/questions/12827580/mocking-vs-spying-in-mocking-frameworks\r\n\r\nShort Answer: Replace `@Mock` with `@Spy` and should be working fine\r\n","title":"Null after @InjectMocks","body":"<p>I am having some troubles passing a dependency while unit testing with JUnit.</p>\n<p>Consider these pieces of code:</p>\n<p>This is the dependacy injecton into the class which i want to test, lets call it Controller.</p>\n<pre><code>@Inject private FastPowering fastPowering;  \n</code></pre>\n<p>And this is the unit test:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ControllerTest {\n\n@Mock\nFastPowering fastPower;\n\n@InjectMocks\nController controller;\n\n@Test\npublic void test() {\n    assertEquals(\n            (controller.computeAnswer(new BigDecimal(2), 2)).longValue(),\n            (long) Math.pow(2, 2));\n    }\n}\n</code></pre>\n<p>It seems that fastPower is null, please explain how to fix that.\nNull pointer exception , because of calling the @injected field (fastPower) inside the .computeAnswer method)</p>\n<p>Edit:</p>\n<p>Solved i should have read about the difference between @Mock and @Spy...</p>\n<p>Due to a lot of comments I am adding some more context to the solution</p>\n<p>The difference is that in mock, you are creating a complete mock or fake object while in spy, there is the real object and you just spying or stubbing specific methods of it. While in spy objects, of course, since it is a real method, when you are not stubbing the method, then it will call the real method behavior.</p>\n<p>If fastPower is annotated as <em>@Mock</em> it's methods are dummy, yet <em>controller.computeAnswer</em> depends on them to compute. One must provide behaviour.</p>\n<p>If spy is used without stubbing then the real implementation of <em>fastPower</em> is being executed which eventually returns desired value.</p>\n<p>Another option is to use a real <em>FastPowering</em> instance</p>\n<p><a href=\"https://github.com/mockito/mockito/wiki/Using-Spies-(and-Fakes)\" rel=\"noreferrer\">https://github.com/mockito/mockito/wiki/Using-Spies-(and-Fakes)</a>\n<a href=\"https://github.com/mockito/mockito/wiki/Mocking-Object-Creation\" rel=\"noreferrer\">https://github.com/mockito/mockito/wiki/Mocking-Object-Creation</a></p>\n<p>And some stackoverflow thread outlining the difference <a href=\"https://stackoverflow.com/questions/12827580/mocking-vs-spying-in-mocking-frameworks\">Mocking vs. Spying in mocking frameworks</a></p>\n<p>Short Answer: Replace <code>@Mock</code> with <code>@Spy</code> and should be working fine</p>\n"},{"tags":["java","maven","gradle","jcommander"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1693087317,"post_id":76984994,"comment_id":135714403,"body_markdown":"Is not a `c` missing in `Exception`?","body":"Is not a <code>c</code> missing in <code>Exception</code>?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1693087457,"post_id":76984994,"comment_id":135714414,"body_markdown":"BZW _eternal_ libraries is just what I am looping for.","body":"BZW <i>eternal</i> libraries is just what I am looping for."}],"owner":{"account_id":19217331,"reputation":1,"user_id":14041838,"display_name":"batsheva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693088153,"creation_date":1693087138,"question_id":76984994,"body_markdown":"I&#39;m using intellij and came across this error while running testNg.\r\n\r\nI verify 2 things:\r\n- the class com.buest.jcommander.ParameterExeption exists under eternal libraries\r\n- and jcommander path appears under project structure/modules.\r\n\r\nnote: when I run testNg via cmdline- the tests passed, but via intellij I get this error.\r\n","title":"java ClassNotFoundException : com.buest.jcommander.ParameterException","body":"<p>I'm using intellij and came across this error while running testNg.</p>\n<p>I verify 2 things:</p>\n<ul>\n<li>the class com.buest.jcommander.ParameterExeption exists under eternal libraries</li>\n<li>and jcommander path appears under project structure/modules.</li>\n</ul>\n<p>note: when I run testNg via cmdline- the tests passed, but via intellij I get this error.</p>\n"},{"tags":["java","spring","tomcat","war","embedded-tomcat-8"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1611143381,"post_id":65808715,"comment_id":116354198,"body_markdown":"_Why_ are you doing this instead of using Boot?","body":"<i>Why</i> are you doing this instead of using Boot?"},{"owner":{"account_id":10344996,"reputation":21,"user_id":11944948,"display_name":"Musa Khan"},"score":2,"creation_date":1611143987,"post_id":65808715,"comment_id":116354529,"body_markdown":"It&#39;s an assignment from an institution. Btw, just discovered this and it seemed to have helped me: https://stackoverflow.com/questions/48998387/code-works-with-embedded-apache-tomcat-8-but-not-with-9-whats-changed","body":"It&#39;s an assignment from an institution. Btw, just discovered this and it seemed to have helped me: <a href=\"https://stackoverflow.com/questions/48998387/code-works-with-embedded-apache-tomcat-8-but-not-with-9-whats-changed\" title=\"code works with embedded apache tomcat 8 but not with 9 whats changed\">stackoverflow.com/questions/48998387/&hellip;</a>"}],"owner":{"account_id":10344996,"reputation":21,"user_id":11944948,"display_name":"Musa Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1291,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693087905,"creation_date":1611142316,"question_id":65808715,"body_markdown":"Following the tutorial given here: &lt;https://www.codejava.net/servers/tomcat/how-to-embed-tomcat-server-into-java-web-applications&gt;, I am attempting to deploy a Spring war file in a separate embedded tomcat configured project. Here&#39;s my java configuration and my build.gradle configuration: \r\n\r\nJava Config for Embedded Tomcat:\r\n\r\n```\r\npublic static void main(String[] args) throws LifecycleException {\r\n        Tomcat tomcat = new Tomcat();\r\n        tomcat.setBaseDir(&quot;temp&quot;);\r\n        tomcat.setPort(9000);\r\n\r\n        String contextPath = &quot;&quot;;\r\n        String docBase = new File(&quot;spring.war&quot;).getAbsolutePath();\r\n\r\n        tomcat.getHost().setAppBase(&quot;.&quot;);\r\n\r\n        tomcat.addWebapp(contextPath, docBase);\r\n\r\n        tomcat.start();\r\n        tomcat.getServer().await();\r\n}\r\n```\r\n\r\nGradle build file:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nmainClassName = &#39;TomcatDriver&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-core&#39;, version: &#39;9.0.37-dev&#39;\r\n    compile group: &#39;org.apache.tomcat.embed&#39;, name: &#39;tomcat-embed-jasper&#39;, version: &#39;9.0.37&#39;\r\n    compile group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-juli&#39;, version: &#39;9.0.37&#39;\r\n    compile group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-annotations-api&#39;, version: &#39;9.0.37&#39;\r\n}\r\n```\r\n\r\nWhen I run from Intellij Idea (Community), the app does seem to initialize somewhat, but visiting the specified address on the browser gives error:\r\n```\r\nThis site can’t be reached\r\nlocalhost refused to connect.\r\nTry:\r\nChecking the connection\r\nChecking the proxy and the firewall\r\nERR_CONNECTION_REFUSED\r\n```\r\n\r\nHere&#39;s the log that I get when running the app using Intellij Idea (Community):\r\n\r\n```\r\n17:13:32: Executing task &#39;TomcatDriver.main()&#39;...\r\n\r\n&gt; Task :compileJava\r\n&gt; Task :processResources NO-SOURCE\r\n&gt; Task :classes\r\n\r\n&gt; Task :TomcatDriver.main()\r\nJan 20, 2021 5:13:34 PM org.apache.catalina.core.StandardService startInternal\r\nINFO: Starting service [Tomcat]\r\nJan 20, 2021 5:13:34 PM org.apache.catalina.core.StandardEngine startInternal\r\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.37]\r\nJan 20, 2021 5:13:34 PM org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\r\nINFO: No global web.xml found\r\nJan 20, 2021 5:13:37 PM org.apache.jasper.servlet.TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nJan 20, 2021 5:13:37 PM org.apache.catalina.core.ApplicationContext log\r\nINFO: 1 Spring WebApplicationInitializers detected on classpath\r\nJan 20, 2021 5:13:37 PM org.apache.catalina.core.ApplicationContext log\r\nINFO: Initializing Spring FrameworkServlet &#39;dispatcher&#39;\r\nJan 20, 2021 5:13:38 PM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\r\nINFO: HHH000204: Processing PersistenceUnitInfo [\r\n\tname: default\r\n\t...]\r\nJan 20, 2021 5:13:39 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate Core {5.3.7.Final}\r\nJan 20, 2021 5:13:39 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\nINFO: HHH000206: hibernate.properties not found\r\nJan 20, 2021 5:13:39 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\nJan 20, 2021 5:13:40 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\nJan 20, 2021 5:13:42 PM org.hibernate.validator.internal.util.Version &lt;clinit&gt;\r\nINFO: HV000001: Hibernate Validator 6.1.7.Final\r\n```\r\n\r\nCan anyone suggest what I&#39;m doing wrong in my configuration? The same configuration works for non-Spring projects with embedded tomcat of version 8 &lt;https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core/8.0.48&gt;. \r\n\r\nEmbedded Tomcat 8 jars don&#39;t seem to run Spring projects. I read here &lt;https://stackoverflow.com/questions/61671875/spring-boot-war-deployment-failed-to-start-in-tomcat&gt; that Spring war files may require Tomcat 9 for deployment. This is why I am trying with tomcat 9 jars. \r\n\r\n**UPDATE**\r\n\r\nI think this post solves the problem that I was having: &lt;https://stackoverflow.com/questions/48998387/code-works-with-embedded-apache-tomcat-8-but-not-with-9-whats-changed&gt;\r\n\r\n","title":"How to configure embedded Tomcat to run a Spring MVC application?","body":"<p>Following the tutorial given here: <a href=\"https://www.codejava.net/servers/tomcat/how-to-embed-tomcat-server-into-java-web-applications\" rel=\"nofollow noreferrer\">https://www.codejava.net/servers/tomcat/how-to-embed-tomcat-server-into-java-web-applications</a>, I am attempting to deploy a Spring war file in a separate embedded tomcat configured project. Here's my java configuration and my build.gradle configuration:</p>\n<p>Java Config for Embedded Tomcat:</p>\n<pre><code>public static void main(String[] args) throws LifecycleException {\n        Tomcat tomcat = new Tomcat();\n        tomcat.setBaseDir(&quot;temp&quot;);\n        tomcat.setPort(9000);\n\n        String contextPath = &quot;&quot;;\n        String docBase = new File(&quot;spring.war&quot;).getAbsolutePath();\n\n        tomcat.getHost().setAppBase(&quot;.&quot;);\n\n        tomcat.addWebapp(contextPath, docBase);\n\n        tomcat.start();\n        tomcat.getServer().await();\n}\n</code></pre>\n<p>Gradle build file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nmainClassName = 'TomcatDriver'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-core', version: '9.0.37-dev'\n    compile group: 'org.apache.tomcat.embed', name: 'tomcat-embed-jasper', version: '9.0.37'\n    compile group: 'org.apache.tomcat', name: 'tomcat-juli', version: '9.0.37'\n    compile group: 'org.apache.tomcat', name: 'tomcat-annotations-api', version: '9.0.37'\n}\n</code></pre>\n<p>When I run from Intellij Idea (Community), the app does seem to initialize somewhat, but visiting the specified address on the browser gives error:</p>\n<pre><code>This site can’t be reached\nlocalhost refused to connect.\nTry:\nChecking the connection\nChecking the proxy and the firewall\nERR_CONNECTION_REFUSED\n</code></pre>\n<p>Here's the log that I get when running the app using Intellij Idea (Community):</p>\n<pre><code>17:13:32: Executing task 'TomcatDriver.main()'...\n\n&gt; Task :compileJava\n&gt; Task :processResources NO-SOURCE\n&gt; Task :classes\n\n&gt; Task :TomcatDriver.main()\nJan 20, 2021 5:13:34 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Tomcat]\nJan 20, 2021 5:13:34 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.37]\nJan 20, 2021 5:13:34 PM org.apache.catalina.startup.ContextConfig getDefaultWebXmlFragment\nINFO: No global web.xml found\nJan 20, 2021 5:13:37 PM org.apache.jasper.servlet.TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nJan 20, 2021 5:13:37 PM org.apache.catalina.core.ApplicationContext log\nINFO: 1 Spring WebApplicationInitializers detected on classpath\nJan 20, 2021 5:13:37 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring FrameworkServlet 'dispatcher'\nJan 20, 2021 5:13:38 PM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\nINFO: HHH000204: Processing PersistenceUnitInfo [\n    name: default\n    ...]\nJan 20, 2021 5:13:39 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.3.7.Final}\nJan 20, 2021 5:13:39 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nJan 20, 2021 5:13:39 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\nJan 20, 2021 5:13:40 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\nJan 20, 2021 5:13:42 PM org.hibernate.validator.internal.util.Version &lt;clinit&gt;\nINFO: HV000001: Hibernate Validator 6.1.7.Final\n</code></pre>\n<p>Can anyone suggest what I'm doing wrong in my configuration? The same configuration works for non-Spring projects with embedded tomcat of version 8 <a href=\"https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core/8.0.48\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core/8.0.48</a>.</p>\n<p>Embedded Tomcat 8 jars don't seem to run Spring projects. I read here <a href=\"https://stackoverflow.com/questions/61671875/spring-boot-war-deployment-failed-to-start-in-tomcat\">Spring boot WAR deployment failed to start in Tomcat</a> that Spring war files may require Tomcat 9 for deployment. This is why I am trying with tomcat 9 jars.</p>\n<p><strong>UPDATE</strong></p>\n<p>I think this post solves the problem that I was having: <a href=\"https://stackoverflow.com/questions/48998387/code-works-with-embedded-apache-tomcat-8-but-not-with-9-whats-changed\">Code works with Embedded Apache Tomcat 8 but not with 9. What&#39;s changed?</a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1692957638,"post_id":76976140,"comment_id":135698496,"body_markdown":"yup, you instruct maven to only include some generated java source files - sure you want that?","body":"yup, you instruct maven to only include some generated java source files - sure you want that?"},{"owner":{"account_id":10852360,"reputation":13,"user_id":7979749,"display_name":"UserASD"},"score":0,"creation_date":1692957776,"post_id":76976140,"comment_id":135698530,"body_markdown":"I have java classes in target/generated-sources/main. I generated these classes before i run my-jar profile. I want to have jar with only my generated classes.","body":"I have java classes in target/generated-sources/main. I generated these classes before i run my-jar profile. I want to have jar with only my generated classes."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1692958774,"post_id":76976140,"comment_id":135698731,"body_markdown":"It does not make sense to put uncompiled Java classes into a JAR.","body":"It does not make sense to put uncompiled Java classes into a JAR."},{"owner":{"account_id":10852360,"reputation":13,"user_id":7979749,"display_name":"UserASD"},"score":0,"creation_date":1692959005,"post_id":76976140,"comment_id":135698784,"body_markdown":"When ill have jar with my classes inside I want to use it as dependency in pom.xml and use them in my project.","body":"When ill have jar with my classes inside I want to use it as dependency in pom.xml and use them in my project."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692967796,"post_id":76976140,"comment_id":135700677,"body_markdown":"If that project is compiled and package the resulting jar contains already the compiled classes from your `target` including the ones `target/generated-sources`... if you like to have the generated part and other separated make a separate module which contains only the generation ...","body":"If that project is compiled and package the resulting jar contains already the compiled classes from your <code>target</code> including the ones <code>target&#47;generated-sources</code>... if you like to have the generated part and other separated make a separate module which contains only the generation ..."}],"answers":[{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1693224510,"post_id":76981880,"comment_id":135727698,"body_markdown":"Please, do not post one youtube tutorial link. Put in your answer the steps for the commands.","body":"Please, do not post one youtube tutorial link. Put in your answer the steps for the commands."}],"tags":[],"owner":{"account_id":18837830,"reputation":1,"user_id":13740066,"display_name":"Abhishek Verma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693033185,"creation_date":1693033185,"answer_id":76981880,"question_id":76976140,"body_markdown":"In order to create JAR file with only your code then you can use below command without adding any extra plugin in pom.xml\r\n\r\n    mvn package\r\n\r\nBut if you want dependencies also to be part of your JAR file then you need to add assembly plugin in pom.xml and execute below command.\r\n\r\n    mvn package assembly:single\r\n\r\nYou can check steps in this tutorial for both commands: https://youtu.be/YwD9N9VYBCw?feature=shared","title":"How to generate jar from java classes in target","body":"<p>In order to create JAR file with only your code then you can use below command without adding any extra plugin in pom.xml</p>\n<pre><code>mvn package\n</code></pre>\n<p>But if you want dependencies also to be part of your JAR file then you need to add assembly plugin in pom.xml and execute below command.</p>\n<pre><code>mvn package assembly:single\n</code></pre>\n<p>You can check steps in this tutorial for both commands: <a href=\"https://youtu.be/YwD9N9VYBCw?feature=shared\" rel=\"nofollow noreferrer\">https://youtu.be/YwD9N9VYBCw?feature=shared</a></p>\n"}],"owner":{"account_id":10852360,"reputation":13,"user_id":7979749,"display_name":"UserASD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693087794,"creation_date":1692957330,"question_id":76976140,"body_markdown":"I want to generate a jar from Java classes I have in Target. I&#39;ve prepared this profile in pom.xml maven:\r\n\r\n    \t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;my-jar&lt;/id&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;target/generated-sources/main/**/*.java&lt;/include&gt;\r\n\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;mainClass&gt;com.MyMainClass&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\nI run it this way:\r\n\r\n    mvn package -P my-jar\r\n\r\nIt generates jar file but without my java classes from target inside. Any idea whats wrong?","title":"How to generate jar from java classes in target","body":"<p>I want to generate a jar from Java classes I have in Target. I've prepared this profile in pom.xml maven:</p>\n<pre><code>        &lt;profile&gt;\n        &lt;id&gt;my-jar&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;target/generated-sources/main/**/*.java&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;com.MyMainClass&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n</code></pre>\n<p>I run it this way:</p>\n<pre><code>mvn package -P my-jar\n</code></pre>\n<p>It generates jar file but without my java classes from target inside. Any idea whats wrong?</p>\n"},{"tags":["java","android","user-interface","kotlin"],"answers":[{"comments":[{"owner":{"account_id":5345147,"reputation":423,"user_id":4260896,"accept_rate":100,"display_name":"Benjoyo"},"score":0,"creation_date":1485361958,"post_id":41850369,"comment_id":70897260,"body_markdown":"Thanks for the detailed answer, I will try that today :)","body":"Thanks for the detailed answer, I will try that today :)"},{"owner":{"account_id":5345147,"reputation":423,"user_id":4260896,"accept_rate":100,"display_name":"Benjoyo"},"score":0,"creation_date":1485366550,"post_id":41850369,"comment_id":70900339,"body_markdown":"Ok, what I can&#39;t wrap my head around is: what to do if one of these edges change, I can&#39;t simply remove it and add the new value, because it could possibly remove the edge of another component that had the same value. Do I need to rebuild all maps/sets from ground up if anything changes?","body":"Ok, what I can&#39;t wrap my head around is: what to do if one of these edges change, I can&#39;t simply remove it and add the new value, because it could possibly remove the edge of another component that had the same value. Do I need to rebuild all maps/sets from ground up if anything changes?"},{"owner":{"account_id":2527365,"reputation":142511,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"score":1,"creation_date":1485368033,"post_id":41850369,"comment_id":70901220,"body_markdown":"@Benjoyo, the easiest workaround to avoid that, I think, is to have a `TreeMap&lt;Int, HashSet&lt;View&gt;&gt;` instead of `TreeMap&lt;Int, View&gt;`, so that you can check and update the `HashSet` corresponding to an edge value. This, however, adds code complexity and performance overhead. Another option is to use, for example, a `TreeSet&lt;View&gt;(compareBy&lt;View&gt; { it.leftEdge() }.thenBy { it.id })` where `id` is unique. This *allows* multiple values for a certain edge value, but queries to such a map require you to construct a fake `View` with the desired left edge value and then call  e.g. `set.floor(fakeView)`","body":"@Benjoyo, the easiest workaround to avoid that, I think, is to have a <code>TreeMap&lt;Int, HashSet&lt;View&gt;&gt;</code> instead of <code>TreeMap&lt;Int, View&gt;</code>, so that you can check and update the <code>HashSet</code> corresponding to an edge value. This, however, adds code complexity and performance overhead. Another option is to use, for example, a <code>TreeSet&lt;View&gt;(compareBy&lt;View&gt; { it.leftEdge() }.thenBy { it.id })</code> where <code>id</code> is unique. This <i>allows</i> multiple values for a certain edge value, but queries to such a map require you to construct a fake <code>View</code> with the desired left edge value and then call  e.g. <code>set.floor(fakeView)</code>"},{"owner":{"account_id":5345147,"reputation":423,"user_id":4260896,"accept_rate":100,"display_name":"Benjoyo"},"score":0,"creation_date":1485380702,"post_id":41850369,"comment_id":70908154,"body_markdown":"Thank you, it&#39;s working smoothly with 40+ views, all I need :)","body":"Thank you, it&#39;s working smoothly with 40+ views, all I need :)"},{"owner":{"account_id":2527365,"reputation":142511,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"score":0,"creation_date":1485383552,"post_id":41850369,"comment_id":70909563,"body_markdown":"@Benjoyo, glad that I could help!","body":"@Benjoyo, glad that I could help!"}],"tags":[],"owner":{"account_id":2527365,"reputation":142511,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485361931,"creation_date":1485343413,"answer_id":41850369,"question_id":41849830,"body_markdown":"A more efficient approach would be to reduce the *O(n)* loop which iterates over all the views to a *O(log n)* search for the nearest edge in some sorted representation like a [`TreeSet`][1] or a [`TreeMap`][2], which are [balanced binary search trees][3]. This, of course, requires you to store four separate sorted representations for each of `leftEdge`, `rightEdge`, `topEdge`, and `bottomEdge`.\r\n\r\nA simple example would be (showing only `leftEdge`, the others are similar):\r\n\r\n    val viewsByLeftEdge = TreeMap&lt;Int, View&gt;()\r\n\r\nTo add a view into the map, just use:\r\n\r\n    viewsByLeftEdge[view.leftEdge()] = view\r\n\r\n&lt;sup&gt;(note that if several views have the same left edge value, only the last one will be stored in this map)&lt;/sup&gt;\r\n\r\nAnd after that, instead of iterating over all the views, you can find the nearest left edge to a given `left` coordinate:\r\n\r\n    val floorL = viewsByLeftEdge.floorKey(left)\r\n    val ceilingL = viewsByLeftEdge.ceilingKey(left)\r\n    val nearestL = when {\r\n        floorL == null -&gt; ceilingL\r\n        ceilingL == null -&gt; floorL\r\n        ceilingL - left &lt; left - floorL -&gt; ceilingL\r\n        else -&gt; floorL\r\n    }\r\n\r\n    if (nearestL in left - 50 .. left + 50)\r\n        x = nearestL\r\n\r\nHere, [`.floorKey(x)`][4] returns the highest edge coordinate in the map that is less than or equal to `x`, or `null` if there&#39;s no such coordinate. Similarly, [`.ceilingKey(x)`][5] returns the lowest coordinate in the map that is greater that `x`, or `null`.\r\n\r\nThis takes *O(log n)* time and will be faster than iterating over all the views for any significant number of views. If you don&#39;t need to get the view by its edge, simplify the code by replacing the `TreeMap&lt;Int, View&gt;` with `TreeSet&lt;Int&gt;` (the functions then are `floor(x)` and `ceiling(x)`.\r\n\r\nIt is up to you to place the maps in your code, fill them with your `View`s and compose the functions for the four edges that would fit better into your code design.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\r\n  [3]: https://en.wikipedia.org/wiki/Self-balancing_binary_search_tree\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#floorKey(K)\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#ceilingKey(K)","title":"Algorithm for alignment guidelines/snapping found in GUI builders","body":"<p>A more efficient approach would be to reduce the <em>O(n)</em> loop which iterates over all the views to a <em>O(log n)</em> search for the nearest edge in some sorted representation like a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> or a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a>, which are <a href=\"https://en.wikipedia.org/wiki/Self-balancing_binary_search_tree\" rel=\"nofollow noreferrer\">balanced binary search trees</a>. This, of course, requires you to store four separate sorted representations for each of <code>leftEdge</code>, <code>rightEdge</code>, <code>topEdge</code>, and <code>bottomEdge</code>.</p>\n\n<p>A simple example would be (showing only <code>leftEdge</code>, the others are similar):</p>\n\n<pre><code>val viewsByLeftEdge = TreeMap&lt;Int, View&gt;()\n</code></pre>\n\n<p>To add a view into the map, just use:</p>\n\n<pre><code>viewsByLeftEdge[view.leftEdge()] = view\n</code></pre>\n\n<p><sup>(note that if several views have the same left edge value, only the last one will be stored in this map)</sup></p>\n\n<p>And after that, instead of iterating over all the views, you can find the nearest left edge to a given <code>left</code> coordinate:</p>\n\n<pre><code>val floorL = viewsByLeftEdge.floorKey(left)\nval ceilingL = viewsByLeftEdge.ceilingKey(left)\nval nearestL = when {\n    floorL == null -&gt; ceilingL\n    ceilingL == null -&gt; floorL\n    ceilingL - left &lt; left - floorL -&gt; ceilingL\n    else -&gt; floorL\n}\n\nif (nearestL in left - 50 .. left + 50)\n    x = nearestL\n</code></pre>\n\n<p>Here, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#floorKey(K)\" rel=\"nofollow noreferrer\"><code>.floorKey(x)</code></a> returns the highest edge coordinate in the map that is less than or equal to <code>x</code>, or <code>null</code> if there's no such coordinate. Similarly, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TreeMap.html#ceilingKey(K)\" rel=\"nofollow noreferrer\"><code>.ceilingKey(x)</code></a> returns the lowest coordinate in the map that is greater that <code>x</code>, or <code>null</code>.</p>\n\n<p>This takes <em>O(log n)</em> time and will be faster than iterating over all the views for any significant number of views. If you don't need to get the view by its edge, simplify the code by replacing the <code>TreeMap&lt;Int, View&gt;</code> with <code>TreeSet&lt;Int&gt;</code> (the functions then are <code>floor(x)</code> and <code>ceiling(x)</code>.</p>\n\n<p>It is up to you to place the maps in your code, fill them with your <code>View</code>s and compose the functions for the four edges that would fit better into your code design.</p>\n"}],"owner":{"account_id":5345147,"reputation":423,"user_id":4260896,"accept_rate":100,"display_name":"Benjoyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41850369,"answer_count":1,"score":5,"last_activity_date":1693087718,"creation_date":1485341977,"question_id":41849830,"body_markdown":"I try to implement a behavior that is similar to many GUI builders: Currently dragged components should snap in alignment with another component if they are almost on a horizontal or vertical line with it.\r\nMy current approach is to iterate over all placed components and check if any of the four edges are (almost) aligned with an edge of the dragged component:\r\n\r\n    for (v in rootView.relativeLayout.children()) {\r\n\t\t// x\r\n\t\tval left = event.rawX - dXInit\r\n\t\tval right = event.rawX - dXInit + view.width\r\n\t\tval leftEdgeRange = (v.leftEdge() - 50 .. v.leftEdge() + 50)\r\n\t\tval rightEdgeRange = (v.rightEdge() - 50 .. v.rightEdge() + 50)\r\n\r\n\t\twhen (left) {\r\n\t\t\tin leftEdgeRange -&gt; x = v.leftEdge()\r\n\t\t\tin rightEdgeRange -&gt; x = v.rightEdge()\r\n\t\t}\r\n\t\twhen (right) {\r\n\t\t\tin leftEdgeRange -&gt; x = v.leftEdge() - view.width\r\n\t\t\tin rightEdgeRange -&gt; x = v.rightEdge() - view.width\r\n\t\t}\r\n\t\t// y\r\n\t\tval top = event.rawY - dYInit\r\n\t\tval bottom = event.rawY - dYInit + view.height\r\n\t\tval topEdgeRange = (v.topEdge() - 50 .. v.topEdge() + 50)\r\n\t\tval bottomEdgeRange = (v.bottomEdge() - 50 .. v.bottomEdge() + 50)\r\n\r\n\t\twhen (top) {\r\n\t\t\tin topEdgeRange -&gt; y = v.topEdge()\r\n\t\t\tin bottomEdgeRange -&gt; y = v.bottomEdge()\r\n\t\t}\r\n\t\twhen (bottom) {\r\n\t\t\tin topEdgeRange -&gt; y = v.topEdge() - view.height\r\n\t\t\tin bottomEdgeRange -&gt; y = v.bottomEdge() - view.height\r\n\t\t}\r\n\t}\r\n\r\nwith\r\n\r\n    fun View.topEdge() = y\r\n    fun View.bottomEdge() = y + height\r\n    fun View.leftEdge() = x\r\n    fun View.rightEdge() = x + width\r\n\r\nBut this seems inefficient because this code is called in **`onTouch()`**, so this loop is run pretty often. Is there a better approach? General or Java answers are welcome.","title":"Algorithm for alignment guidelines/snapping found in GUI builders","body":"<p>I try to implement a behavior that is similar to many GUI builders: Currently dragged components should snap in alignment with another component if they are almost on a horizontal or vertical line with it.\nMy current approach is to iterate over all placed components and check if any of the four edges are (almost) aligned with an edge of the dragged component:</p>\n<pre><code>for (v in rootView.relativeLayout.children()) {\n    // x\n    val left = event.rawX - dXInit\n    val right = event.rawX - dXInit + view.width\n    val leftEdgeRange = (v.leftEdge() - 50 .. v.leftEdge() + 50)\n    val rightEdgeRange = (v.rightEdge() - 50 .. v.rightEdge() + 50)\n\n    when (left) {\n        in leftEdgeRange -&gt; x = v.leftEdge()\n        in rightEdgeRange -&gt; x = v.rightEdge()\n    }\n    when (right) {\n        in leftEdgeRange -&gt; x = v.leftEdge() - view.width\n        in rightEdgeRange -&gt; x = v.rightEdge() - view.width\n    }\n    // y\n    val top = event.rawY - dYInit\n    val bottom = event.rawY - dYInit + view.height\n    val topEdgeRange = (v.topEdge() - 50 .. v.topEdge() + 50)\n    val bottomEdgeRange = (v.bottomEdge() - 50 .. v.bottomEdge() + 50)\n\n    when (top) {\n        in topEdgeRange -&gt; y = v.topEdge()\n        in bottomEdgeRange -&gt; y = v.bottomEdge()\n    }\n    when (bottom) {\n        in topEdgeRange -&gt; y = v.topEdge() - view.height\n        in bottomEdgeRange -&gt; y = v.bottomEdge() - view.height\n    }\n}\n</code></pre>\n<p>with</p>\n<pre><code>fun View.topEdge() = y\nfun View.bottomEdge() = y + height\nfun View.leftEdge() = x\nfun View.rightEdge() = x + width\n</code></pre>\n<p>But this seems inefficient because this code is called in <strong><code>onTouch()</code></strong>, so this loop is run pretty often. Is there a better approach? General or Java answers are welcome.</p>\n"},{"tags":["java","cdi","java-ee-6","openwebbeans"],"comments":[{"owner":{"account_id":3874110,"reputation":7800,"user_id":3208640,"display_name":"void"},"score":0,"creation_date":1424405755,"post_id":28600457,"comment_id":45545260,"body_markdown":"you want to create an instance of a singletone CDI bean with new!?","body":"you want to create an instance of a singletone CDI bean with new!?"},{"owner":{"account_id":2342087,"reputation":230,"user_id":2053148,"display_name":"Crx"},"score":0,"creation_date":1424418955,"post_id":28600457,"comment_id":45549306,"body_markdown":"@FarhangAmary&#39;Ferhęg&#39; - No that&#39;s not the case. See the code that I posted to make it clearer","body":"@FarhangAmary&#39;Ferhęg&#39; - No that&#39;s not the case. See the code that I posted to make it clearer"},{"owner":{"account_id":1365439,"reputation":2068,"user_id":1301970,"accept_rate":90,"display_name":"reith"},"score":0,"creation_date":1424637781,"post_id":28600457,"comment_id":45621050,"body_markdown":"Have you tried `CDI.current().get(MySingletonClass.class)`?","body":"Have you tried <code>CDI.current().get(MySingletonClass.class)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":105869,"reputation":730,"user_id":282260,"display_name":"struberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428573319,"creation_date":1428573001,"answer_id":29535180,"question_id":28600457,"body_markdown":"There are 2 possible solutions.\r\n\r\n1. If you have a JavaEE-7 container then you can use `CDI.current().get(MySingletonClass.class);`\r\n\r\n2. If you have a JavaEE-6 container or even a Java SE application then you can use [Apache DeltaSpike BeanProvider](http://deltaspike.apache.org/documentation/core.html#_beanprovider).\r\nIt tries to lookup the BeanManager from JNDI but also does other tricks which also work if you don&#39;t have a full EE container. E.g. in SE and unit test.\r\n\r\nYou also need to take care that not only the container got booted but also that the Contexts did properly get activated. This is usually done via a ServletListener. If you are in an EE container then they register it for you. If you are using plain tomcat, jetty, etc then you need to activate it yourself. \r\n\r\nSee [this example](https://github.com/apache/openwebbeans/blob/trunk/webbeans-web/src/main/java/org/apache/webbeans/servlet/WebBeansConfigurationListener.java) from Apache OpenWebBeans.","title":"Referencing a CDI Bean in a non managed CDI Bean","body":"<p>There are 2 possible solutions.</p>\n\n<ol>\n<li><p>If you have a JavaEE-7 container then you can use <code>CDI.current().get(MySingletonClass.class);</code></p></li>\n<li><p>If you have a JavaEE-6 container or even a Java SE application then you can use <a href=\"http://deltaspike.apache.org/documentation/core.html#_beanprovider\" rel=\"nofollow\">Apache DeltaSpike BeanProvider</a>.\nIt tries to lookup the BeanManager from JNDI but also does other tricks which also work if you don't have a full EE container. E.g. in SE and unit test.</p></li>\n</ol>\n\n<p>You also need to take care that not only the container got booted but also that the Contexts did properly get activated. This is usually done via a ServletListener. If you are in an EE container then they register it for you. If you are using plain tomcat, jetty, etc then you need to activate it yourself. </p>\n\n<p>See <a href=\"https://github.com/apache/openwebbeans/blob/trunk/webbeans-web/src/main/java/org/apache/webbeans/servlet/WebBeansConfigurationListener.java\" rel=\"nofollow\">this example</a> from Apache OpenWebBeans.</p>\n"},{"tags":[],"owner":{"account_id":15207672,"reputation":1864,"user_id":10973514,"display_name":"pref"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693087699,"creation_date":1693087699,"answer_id":76985020,"question_id":28600457,"body_markdown":"if you use new you have to have a constructor and initialize your dependencies manually and any logic that depends on them in a @PostConstruct method.\r\nInstead you can use CDI.current() e.g.\r\n\r\n     MyService service = CDI.current().select(MyService.class).get(); \r\nthen you can invoke all your service methods.","title":"Referencing a CDI Bean in a non managed CDI Bean","body":"<p>if you use new you have to have a constructor and initialize your dependencies manually and any logic that depends on them in a @PostConstruct method.\nInstead you can use CDI.current() e.g.</p>\n<pre><code> MyService service = CDI.current().select(MyService.class).get(); \n</code></pre>\n<p>then you can invoke all your service methods.</p>\n"}],"owner":{"account_id":2342087,"reputation":230,"user_id":2053148,"display_name":"Crx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1691,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1693087699,"creation_date":1424329608,"question_id":28600457,"body_markdown":"Is it possible to obtain an instance of a CDI bean inside a class that is created using the `new` keyword? We&#39;re currently making some enhancements on an old application, and we&#39;re always getting a [ContextNotActiveException][1] everytime we do a [programmatic][2] lookup on CDI Singleton beans in our app.  \r\n\r\nCode for obtaining a reference:\r\n\r\n    public class ClassCreatedWithNew{\r\n         public void doSomething(){\r\n             MySingletonBean myBean = BeanManagerSupport.getInstance().getBean(MySingletonBean.class);\r\n         }\r\n    }\r\n\r\nBeanManagerSupport.java\r\n\r\n    public class BeanManagerSupport {\r\n    \t\r\n    \tprivate static final Logger LOG = Logger.getLogger(BeanManagerSupport.class);\r\n    \t\r\n    \tprivate static final BeanManagerSupport beanManagerSupport = new BeanManagerSupport();\r\n    \t\r\n    \tprivate BeanManager beanManager;\r\n    \t\r\n    \tprivate BeanManagerSupport() {\r\n    \t\ttry {\r\n    \t\t\tbeanManager = InitialContext.doLookup(&quot;java:comp/BeanManager&quot;);\r\n    \t\t} catch (NamingException e) {\r\n    \t\t\tLOG.error(&quot;An error has occured while obtaining an instance of BeanManager&quot;, e);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\r\n    \t\tIterator&lt;Bean&lt; ? &gt;&gt; iter = beanManager.getBeans(clazz).iterator();\r\n    \t\t\r\n    \t\tif (!iter.hasNext()) {\r\n    \t\t\tthrow new IllegalStateException(&quot;CDI BeanManager cannot find an instance of requested type &quot; + clazz.getName());\r\n    \t\t}\r\n    \t\t\r\n    \t\tBean&lt;T&gt; bean = (Bean&lt;T&gt;) iter.next();\r\n    \t\t\t\r\n    \t\treturn (T) beanManager.getContext(bean.getScope()).get(bean);\r\n    \t}\r\n    \t\r\n    \tpublic static BeanManagerSupport getInstance(){\r\n    \t\treturn beanManagerSupport;\r\n    \t}\r\n    }\r\n\r\n \r\n \r\n\r\n\r\n  [1]: http://docs.jboss.org/cdi/api/1.0/javax/enterprise/context/ContextNotActiveException.html\r\n  [2]: http://dominikdorn.com/2010/04/cdi-weld-manual-bean-lookup/","title":"Referencing a CDI Bean in a non managed CDI Bean","body":"<p>Is it possible to obtain an instance of a CDI bean inside a class that is created using the <code>new</code> keyword? We're currently making some enhancements on an old application, and we're always getting a <a href=\"http://docs.jboss.org/cdi/api/1.0/javax/enterprise/context/ContextNotActiveException.html\" rel=\"nofollow\">ContextNotActiveException</a> everytime we do a <a href=\"http://dominikdorn.com/2010/04/cdi-weld-manual-bean-lookup/\" rel=\"nofollow\">programmatic</a> lookup on CDI Singleton beans in our app.  </p>\n\n<p>Code for obtaining a reference:</p>\n\n<pre><code>public class ClassCreatedWithNew{\n     public void doSomething(){\n         MySingletonBean myBean = BeanManagerSupport.getInstance().getBean(MySingletonBean.class);\n     }\n}\n</code></pre>\n\n<p>BeanManagerSupport.java</p>\n\n<pre><code>public class BeanManagerSupport {\n\n    private static final Logger LOG = Logger.getLogger(BeanManagerSupport.class);\n\n    private static final BeanManagerSupport beanManagerSupport = new BeanManagerSupport();\n\n    private BeanManager beanManager;\n\n    private BeanManagerSupport() {\n        try {\n            beanManager = InitialContext.doLookup(\"java:comp/BeanManager\");\n        } catch (NamingException e) {\n            LOG.error(\"An error has occured while obtaining an instance of BeanManager\", e);\n        }\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\n        Iterator&lt;Bean&lt; ? &gt;&gt; iter = beanManager.getBeans(clazz).iterator();\n\n        if (!iter.hasNext()) {\n            throw new IllegalStateException(\"CDI BeanManager cannot find an instance of requested type \" + clazz.getName());\n        }\n\n        Bean&lt;T&gt; bean = (Bean&lt;T&gt;) iter.next();\n\n        return (T) beanManager.getContext(bean.getScope()).get(bean);\n    }\n\n    public static BeanManagerSupport getInstance(){\n        return beanManagerSupport;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","security","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693086925,"creation_date":1693086925,"answer_id":76984980,"question_id":76984858,"body_markdown":"It is because you miss to configure the `HttpHeaders` with `Content-Type=application/json` to the `HttpEntity` that is sent out by the `RestTemplate` . \r\n\r\nChange to the following should fix the problem :\r\n\r\n``` java\r\n// Prepare request headers\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n// Prepare request body\r\nHttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(&quot;BAD-SCHEMA-$@#%{[|!/-&quot;, headers);\r\n\r\n```","title":"How to create a plain http request with json content type header in RestTemplate from Spring Test?","body":"<p>It is because you miss to configure the <code>HttpHeaders</code> with <code>Content-Type=application/json</code> to the <code>HttpEntity</code> that is sent out by the <code>RestTemplate</code> .</p>\n<p>Change to the following should fix the problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Prepare request headers\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\n\n// Prepare request body\nHttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(&quot;BAD-SCHEMA-$@#%{[|!/-&quot;, headers);\n\n</code></pre>\n"}],"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76984980,"answer_count":1,"score":1,"last_activity_date":1693086925,"creation_date":1693084026,"question_id":76984858,"body_markdown":"Have a simple rest/api spring boot project and need test when have a bad schema input, like as:\r\n\r\n```bash\r\ncurl -D- -X POST -H &#39;Content-Type: application/json&#39; \\\r\n  -d &#39;BAD-SCHEMA-$@#%{[|!/-&#39; \\\r\n  http://127.0.0.1:8080/auth/sign-up\r\n```\r\n\r\nI try use in test planning the `RestTemplate` for native JUnit 5 for Spring Test:\r\n\r\n```java\r\n    @Test\r\n    public void signUpBadInputSchemaValidation() {\r\n        /*\r\n        curl -D- -X POST -H &#39;Content-Type: application/json&#39; \\\r\n        -d &#39;BAD-SCHEMA-$@#%{[|!/-&#39; \\\r\n        http://127.0.0.1:8080/auth/sign-up\r\n        */\r\n\r\n        // Prepare request headers\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n        // Prepare request body\r\n        HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(&quot;BAD-SCHEMA-$@#%{[|!/-&quot;);\r\n\r\n        // Create http request\r\n        ResponseEntity&lt;Object&gt; responseEntity = restTemplate.exchange(\r\n            &quot;http://127.0.0.1:&quot; + port + &quot;/auth/sign-up&quot;,\r\n            HttpMethod.POST, requestEntity, Object.class);\r\n\r\n        // Response validation\r\n        assertThat(responseEntity.getStatusCode())\r\n            .isEqualTo(HttpStatus.UNPROCESSABLE_ENTITY);\r\n    }\r\n```\r\n\r\nBut `restTemplate` change `Content-Type` automatically to `text/plain`, but need keep the `application/json`.\r\n\r\nI try change port in test request and sniff with netcat:\r\n\r\n```bash\r\nncat -vlp 9999\r\nNcat: Version 7.80 ( https://nmap.org/ncat )\r\nNcat: Listening on :::9999\r\nNcat: Listening on 0.0.0.0:9999\r\nNcat: Connection from 127.0.0.1.\r\nNcat: Connection from 127.0.0.1:54478.\r\nPOST /system/access/first HTTP/1.1\r\nAccept: application/json, application/*+json\r\nContent-Type: text/plain;charset=UTF-8\r\nUser-Agent: Java/17.0.8\r\nHost: 127.0.0.1:9999\r\nConnection: keep-alive\r\nContent-Length: 21\r\n\r\nBAD-SCHEMA-$@#%{[|!/-\r\n```\r\n\r\n`restTemplate` change header to `Content-Type: text/plain;charset=UTF-8`.\r\n\r\nHow to keep `application/json` with plain text body using `restTemplate` for execute the security test?","title":"How to create a plain http request with json content type header in RestTemplate from Spring Test?","body":"<p>Have a simple rest/api spring boot project and need test when have a bad schema input, like as:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl -D- -X POST -H 'Content-Type: application/json' \\\n  -d 'BAD-SCHEMA-$@#%{[|!/-' \\\n  http://127.0.0.1:8080/auth/sign-up\n</code></pre>\n<p>I try use in test planning the <code>RestTemplate</code> for native JUnit 5 for Spring Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void signUpBadInputSchemaValidation() {\n        /*\n        curl -D- -X POST -H 'Content-Type: application/json' \\\n        -d 'BAD-SCHEMA-$@#%{[|!/-' \\\n        http://127.0.0.1:8080/auth/sign-up\n        */\n\n        // Prepare request headers\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        // Prepare request body\n        HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(&quot;BAD-SCHEMA-$@#%{[|!/-&quot;);\n\n        // Create http request\n        ResponseEntity&lt;Object&gt; responseEntity = restTemplate.exchange(\n            &quot;http://127.0.0.1:&quot; + port + &quot;/auth/sign-up&quot;,\n            HttpMethod.POST, requestEntity, Object.class);\n\n        // Response validation\n        assertThat(responseEntity.getStatusCode())\n            .isEqualTo(HttpStatus.UNPROCESSABLE_ENTITY);\n    }\n</code></pre>\n<p>But <code>restTemplate</code> change <code>Content-Type</code> automatically to <code>text/plain</code>, but need keep the <code>application/json</code>.</p>\n<p>I try change port in test request and sniff with netcat:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>ncat -vlp 9999\nNcat: Version 7.80 ( https://nmap.org/ncat )\nNcat: Listening on :::9999\nNcat: Listening on 0.0.0.0:9999\nNcat: Connection from 127.0.0.1.\nNcat: Connection from 127.0.0.1:54478.\nPOST /system/access/first HTTP/1.1\nAccept: application/json, application/*+json\nContent-Type: text/plain;charset=UTF-8\nUser-Agent: Java/17.0.8\nHost: 127.0.0.1:9999\nConnection: keep-alive\nContent-Length: 21\n\nBAD-SCHEMA-$@#%{[|!/-\n</code></pre>\n<p><code>restTemplate</code> change header to <code>Content-Type: text/plain;charset=UTF-8</code>.</p>\n<p>How to keep <code>application/json</code> with plain text body using <code>restTemplate</code> for execute the security test?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1693143499,"post_id":76984132,"comment_id":135718352,"body_markdown":"`&lt;kafka.client.version&gt;3.4.0&lt;/kafka.client.version&gt;` is just a property, not a dependency. Show your full pom, please","body":"<code>&lt;kafka.client.version&gt;3.4.0&lt;&#47;kafka.client.version&gt;</code> is just a property, not a dependency. Show your full pom, please"}],"owner":{"account_id":541301,"reputation":849,"user_id":909792,"accept_rate":69,"display_name":"Kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693143605,"answer_count":0,"score":0,"last_activity_date":1693086538,"creation_date":1693071513,"question_id":76984132,"body_markdown":"I am trying to replay some offset, here is the kafka consumer that I have.  The same code is working fine in my local environment, but when i deploy in our DEV environment it is failing with below error. I am using `&lt;kafka.client.version&gt;3.4.0&lt;/kafka.client.version&gt;`\r\n\r\n    Properties consumerProperties = new Properties();\r\n    consumerProperties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaProperties.getBootstrapServers());\r\n    consumerProperties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n    consumerProperties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n\r\n\r\n    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\r\n\r\nError Stack:\r\n\r\n     stack_trace: org.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serialization.StringDeserializer for configuration key.deserializer: Class org.apache.kafka.common.serialization.StringDeserializer could not be found.\r\n\tat org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:744)\r\n\tat org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\r\n\tat org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\r\n\tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\r\n\tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:133)\r\n\tat org.apache.kafka.clients.consumer.ConsumerConfig.&lt;init&gt;(ConsumerConfig.java:652)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:665)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:646)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:626)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)\r\n\tat util.TokenAwareRunnable.run(TokenAwareRunnable.java:28)\r\n\tat java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n\r\nany help here ?  seems like classloader is not finding the StringDeserializer class.  May be build issue?","title":"org.apache.kafka.common.config.ConfigException : StringDeserializer could not be found","body":"<p>I am trying to replay some offset, here is the kafka consumer that I have.  The same code is working fine in my local environment, but when i deploy in our DEV environment it is failing with below error. I am using <code>&lt;kafka.client.version&gt;3.4.0&lt;/kafka.client.version&gt;</code></p>\n<pre><code>Properties consumerProperties = new Properties();\nconsumerProperties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaProperties.getBootstrapServers());\nconsumerProperties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\nconsumerProperties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n\n\nKafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\n</code></pre>\n<p>Error Stack:</p>\n<pre><code> stack_trace: org.apache.kafka.common.config.ConfigException: Invalid value org.apache.kafka.common.serialization.StringDeserializer for configuration key.deserializer: Class org.apache.kafka.common.serialization.StringDeserializer could not be found.\nat org.apache.kafka.common.config.ConfigDef.parseType(ConfigDef.java:744)\nat org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:490)\nat org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:483)\nat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:113)\nat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:133)\nat org.apache.kafka.clients.consumer.ConsumerConfig.&lt;init&gt;(ConsumerConfig.java:652)\nat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:665)\nat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:646)\nat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:626)\nat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)\nat util.TokenAwareRunnable.run(TokenAwareRunnable.java:28)\nat java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\nat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\nat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\nat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\nat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\nat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\n</code></pre>\n<p>any help here ?  seems like classloader is not finding the StringDeserializer class.  May be build issue?</p>\n"},{"tags":["java","android","kotlin","github"],"comments":[{"owner":{"account_id":14549133,"reputation":525,"user_id":10508565,"display_name":"Mieczkoni"},"score":0,"creation_date":1671484039,"post_id":74855883,"comment_id":132105286,"body_markdown":"You can use the Android ShapeableImageView","body":"You can use the Android ShapeableImageView"}],"answers":[{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671527819,"creation_date":1671527819,"answer_id":74860794,"question_id":74855883,"body_markdown":"You can use this, and change the shape to `app:cropme_overlay_shape=&quot;circle&quot;`\r\n\r\n[https://github.com/TakuSemba/CropMe][1]\r\n\r\n\r\n  [1]: https://github.com/TakuSemba/CropMe","title":"How can I crop a picture in a circular shape just like Instagram profile picture","body":"<p>You can use this, and change the shape to <code>app:cropme_overlay_shape=&quot;circle&quot;</code></p>\n<p><a href=\"https://github.com/TakuSemba/CropMe\" rel=\"nofollow noreferrer\">https://github.com/TakuSemba/CropMe</a></p>\n"}],"owner":{"account_id":25789476,"reputation":23,"user_id":19533775,"display_name":"Souhail Krissaane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671550230,"accepted_answer_id":74860794,"answer_count":1,"score":0,"last_activity_date":1693085917,"creation_date":1671483223,"question_id":74855883,"body_markdown":"I want the user to pick an image from gallery and crop it [like this], similar to Instagram profile picture \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs there a package or something to help?  \r\n\r\nAll the packages I found don&#39;t have cropping in a circular shape , I&#39;m expecting maybe that there is a package that I didn&#39;t find or another way to do that \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nXvqg.jpg","title":"How can I crop a picture in a circular shape just like Instagram profile picture","body":"<p>I want the user to pick an image from gallery and crop it [like this], similar to Instagram profile picture</p>\n<p><a href=\"https://i.stack.imgur.com/nXvqg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nXvqg.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Is there a package or something to help?</p>\n<p>All the packages I found don't have cropping in a circular shape , I'm expecting maybe that there is a package that I didn't find or another way to do that</p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":9778190,"reputation":131,"user_id":7247326,"accept_rate":27,"display_name":"Ahmed"},"score":0,"creation_date":1693246230,"post_id":76981425,"comment_id":135732408,"body_markdown":"I was able to solve this using DynamoDBMapperTableModel and using the convert method there","body":"I was able to solve this using DynamoDBMapperTableModel and using the convert method there"}],"answers":[{"comments":[{"owner":{"account_id":9778190,"reputation":131,"user_id":7247326,"accept_rate":27,"display_name":"Ahmed"},"score":0,"creation_date":1693085416,"post_id":76982719,"comment_id":135714259,"body_markdown":"Sorry I will update the question, updating the values themselves are simply but a complex object isn&#39;t seems like","body":"Sorry I will update the question, updating the values themselves are simply but a complex object isn&#39;t seems like"}],"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693048515,"creation_date":1693048515,"answer_id":76982719,"question_id":76981425,"body_markdown":"Your post lacks details, but its simple to update a map within a list when you know its position:\r\n\r\n```\r\ntable.update_item(\r\n  Key={\r\n    &#39;PK&#39;: &#39;123&#39;\r\n  },\r\n  UpdateExpression=&quot;SET #i[0].#l = :v&quot;,\r\n  ExpressionAttributeNames={\r\n    &#39;#i&#39;: &#39;name&#39;,\r\n    &#39;#l&#39;: &#39;address&#39;\r\n  },\r\n  ExpressionAttributeValues={\r\n    &#39;:v&#39;: &#39;some value&#39;,\r\n  },\r\n)\r\n```\r\n\r\nYou can find more info in the docs [here](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.Attributes.html#Expressions.Attributes.NestedAttributes)","title":"Update Complex Object which is an element in a DynamoDB record&#39;s array","body":"<p>Your post lacks details, but its simple to update a map within a list when you know its position:</p>\n<pre><code>table.update_item(\n  Key={\n    'PK': '123'\n  },\n  UpdateExpression=&quot;SET #i[0].#l = :v&quot;,\n  ExpressionAttributeNames={\n    '#i': 'name',\n    '#l': 'address'\n  },\n  ExpressionAttributeValues={\n    ':v': 'some value',\n  },\n)\n</code></pre>\n<p>You can find more info in the docs <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.Attributes.html#Expressions.Attributes.NestedAttributes\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":9778190,"reputation":131,"user_id":7247326,"accept_rate":27,"display_name":"Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693085671,"creation_date":1693019608,"question_id":76981425,"body_markdown":"I am trying to PATCH a DynamoDB document. It has a list of elements of type Object which are complex object. I want to replace the element in the array completely. I know the index of the element that needs to be replaced.\r\n\r\nI tried converting the object to JSON and then to Map&lt;String, AttributeValue&gt; but conversion to JSON doesn&#39;t retain the DynamoDB type.\r\n\r\nSeems to use UpdateItem, you need to have Map&lt;String, AttributeValue&gt; of the object that you are trying to update and I am unable to find any straightforward to convert the complex object to Map&lt;String, AttributeValue&gt;\r\n\r\nUpdate: The object at the index I am trying to update is complex. The object itself has Sets and List&lt;Object&gt; too. And the SET query expects a Map&lt;String, AttributeValue&gt; meaning somehow this complex object needs to be translated to Map&lt;String,AttributeValue&gt; type. I tried converting this complex object to a JSON and then convert to Map&lt;String, AttributeValue&gt; using `Item.fromJSON(jsonStr)` but when converting the object to JSON, it doesn&#39;t retain the information of DynamoDB objects. For example one of my fields in the POJO is this\r\n\r\n      @DynamoDBTyped(DynamoDBAttributeType.SS)\r\n      private Set&lt;String&gt; c;\r\n\r\nIt updates the object at that index successfully but when I try to read the object back, it fails because its expecting a DynamoDBAttributeType.SS but instead gets a List since JSON treats Sets as just a List\r\n","title":"Update Complex Object which is an element in a DynamoDB record&#39;s array","body":"<p>I am trying to PATCH a DynamoDB document. It has a list of elements of type Object which are complex object. I want to replace the element in the array completely. I know the index of the element that needs to be replaced.</p>\n<p>I tried converting the object to JSON and then to Map&lt;String, AttributeValue&gt; but conversion to JSON doesn't retain the DynamoDB type.</p>\n<p>Seems to use UpdateItem, you need to have Map&lt;String, AttributeValue&gt; of the object that you are trying to update and I am unable to find any straightforward to convert the complex object to Map&lt;String, AttributeValue&gt;</p>\n<p>Update: The object at the index I am trying to update is complex. The object itself has Sets and List too. And the SET query expects a Map&lt;String, AttributeValue&gt; meaning somehow this complex object needs to be translated to Map&lt;String,AttributeValue&gt; type. I tried converting this complex object to a JSON and then convert to Map&lt;String, AttributeValue&gt; using <code>Item.fromJSON(jsonStr)</code> but when converting the object to JSON, it doesn't retain the information of DynamoDB objects. For example one of my fields in the POJO is this</p>\n<pre><code>  @DynamoDBTyped(DynamoDBAttributeType.SS)\n  private Set&lt;String&gt; c;\n</code></pre>\n<p>It updates the object at that index successfully but when I try to read the object back, it fails because its expecting a DynamoDBAttributeType.SS but instead gets a List since JSON treats Sets as just a List</p>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":7023209,"reputation":980,"user_id":5381672,"display_name":"Sridhar Patnaik"},"score":0,"creation_date":1630169446,"post_id":68965989,"comment_id":121885154,"body_markdown":"Can you post your login controller? there are 2 issues here. 1. CORS issues which you are facing because your UI is making an OPTIONS call before actual POST call. 2. 403 which should not ideally be there because you excluded /login in ant matcher. so just want to cross check","body":"Can you post your login controller? there are 2 issues here. 1. CORS issues which you are facing because your UI is making an OPTIONS call before actual POST call. 2. 403 which should not ideally be there because you excluded /login in ant matcher. so just want to cross check"},{"owner":{"account_id":16998078,"reputation":206,"user_id":12296041,"display_name":"CodingAnxiety"},"score":0,"creation_date":1630170629,"post_id":68965989,"comment_id":121885459,"body_markdown":"@SridharPatnaik I have no login controller. Everything is in the JwtAuthenticationFilter class.","body":"@SridharPatnaik I have no login controller. Everything is in the JwtAuthenticationFilter class."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1630223456,"post_id":68965989,"comment_id":121893473,"body_markdown":"Does this answer your question? [How to configure CORS in a Spring Boot + Spring Security application?](https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application\">How to configure CORS in a Spring Boot + Spring Security application?</a>"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1630223570,"post_id":68965989,"comment_id":121893493,"body_markdown":"CORS is the most answered question when it comes to spring security. We get about 5 questions a week about it. Please use the search function before asking. The spring security document has an entire chapter about CORS and there are literally 100s of answers here when it comes to CORS. Voted to close duplicate.","body":"CORS is the most answered question when it comes to spring security. We get about 5 questions a week about it. Please use the search function before asking. The spring security document has an entire chapter about CORS and there are literally 100s of answers here when it comes to CORS. Voted to close duplicate."}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1630187858,"creation_date":1630187858,"answer_id":68968398,"question_id":68965989,"body_markdown":"You have to provide a Bean of type `CorsConfigurationSource` and tell Spring Security to use that configuration source in the `CorsFilter`, and place it before the authentication and authorization filters.\r\n\r\nFirst, define the `CorsConfigurationSource` Bean:\r\n```java\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n\tfinal UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\tCorsConfiguration config = new CorsConfiguration();\r\n\tconfig.addAllowedHeader(&quot;*&quot;);\r\n\tconfig.addAllowedMethod(&quot;*&quot;);\r\n\tconfig.addAllowedOrigin(&quot;http://localhost:3000&quot;);\r\n\tsource.registerCorsConfiguration(&quot;/**&quot;, config);\r\n\treturn source;\r\n}\r\n```\r\n\r\nThen, tell Spring Security to configure CORS with defaults:\r\n\r\n```java\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n    ...\r\n    http.cors(Customizer.withDefaults());\r\n    ...\r\n}\r\n```","title":"How to authorize CORS in Spring Security filter","body":"<p>You have to provide a Bean of type <code>CorsConfigurationSource</code> and tell Spring Security to use that configuration source in the <code>CorsFilter</code>, and place it before the authentication and authorization filters.</p>\n<p>First, define the <code>CorsConfigurationSource</code> Bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    CorsConfiguration config = new CorsConfiguration();\n    config.addAllowedHeader(&quot;*&quot;);\n    config.addAllowedMethod(&quot;*&quot;);\n    config.addAllowedOrigin(&quot;http://localhost:3000&quot;);\n    source.registerCorsConfiguration(&quot;/**&quot;, config);\n    return source;\n}\n</code></pre>\n<p>Then, tell Spring Security to configure CORS with defaults:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    ...\n    http.cors(Customizer.withDefaults());\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":16998078,"reputation":206,"user_id":12296041,"display_name":"CodingAnxiety"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":968,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693084939,"creation_date":1630166100,"question_id":68965989,"body_markdown":"I&#39;m trying to build a REST API with Spring Boot and Spring Security but I have run into an issue where any request to the `/login` endpoint is blocked because of `CORS` and I can&#39;t figure out how to allow it.\r\n\r\nHere&#39;s what I get when I inspect the network tab of my developper tools whenever I send a login request in my frontend application:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\nHere&#39;s my `SecurityConfig.java` file (I&#39;ve omitted imports for brevity):\r\n\r\n    @EnableWebSecurity(debug = true)\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        private final AuthenticationUserDetailService authenticationUserDetailService;\r\n        private final PasswordEncoder passwordEncoder;\r\n        @Value(&quot;${jwt.secret}&quot;)\r\n        private String jwtSecret;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable();\r\n            http.cors();\r\n            http.authorizeRequests().antMatchers(&quot;/login&quot;).permitAll();\r\n            http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll();\r\n            http.authorizeRequests().antMatchers(&quot;/api/teachers/**&quot;).hasAuthority(&quot;TEACHER&quot;);\r\n            http.authorizeRequests().antMatchers(&quot;/api/students/**&quot;).hasAuthority(&quot;STUDENT&quot;);\r\n            http.authorizeRequests().antMatchers(&quot;/api/**&quot;).hasAuthority(&quot;ADMIN&quot;);\r\n    \r\n            http.authorizeRequests().anyRequest().authenticated();\r\n            //http.authorizeRequests().anyRequest().permitAll();\r\n            http.addFilter(new JwtAuthenticationFilter(authenticationManager(), jwtSecret));\r\n            http.addFilter(new JwtAuthorizationFilter(authenticationManager(), jwtSecret));\r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(authenticationUserDetailService).passwordEncoder(passwordEncoder);\r\n        }\r\n    }\r\n\r\n\r\nHere&#39;s my `JwtAuthenticationFilter.java` file:\r\n\r\n    public class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n        private final AuthenticationManager authenticationManager;\r\n        private final String jwtSecret;\r\n    \r\n        public JwtAuthenticationFilter(AuthenticationManager authenticationManager, String jwtSecret) {\r\n            this.authenticationManager = authenticationManager;\r\n            this.jwtSecret = jwtSecret;\r\n            setFilterProcessesUrl(&quot;/login&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n            try {\r\n                LoginRequest credentials = new ObjectMapper()\r\n                        .readValue(request.getInputStream(), LoginRequest.class);\r\n    \r\n                return authenticationManager.authenticate(\r\n                        new UsernamePasswordAuthenticationToken(\r\n                                credentials.getUsername(),\r\n                                credentials.getPassword(),\r\n                                new ArrayList&lt;&gt;())\r\n                );\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n            User user = (User) authResult.getPrincipal();\r\n    \r\n            String token = Jwts.builder()\r\n                    .signWith(SignatureAlgorithm.HS512, jwtSecret.getBytes())\r\n                    .claim(&quot;role&quot;, authResult.getAuthorities().iterator().next().getAuthority())\r\n                    .setSubject(user.getUsername())\r\n                    .setExpiration(new Date(System.currentTimeMillis() + 24 * 3600 * 1000))\r\n                    .compact();\r\n    \r\n            response.setContentType(&quot;application/json&quot;);\r\n            response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            response.getWriter().write(&quot;{\\&quot;token\\&quot;:\\&quot;&quot; + token + &quot;\\&quot;}&quot;);\r\n        }\r\n    }\r\n\r\n\r\nI have tried every solution I have found online and I&#39;m out of ideas. How can I authorize CORS from any source for my `/login` endpoint ?\r\n\r\nThanks a lot!\r\n\r\n  [1]: https://i.stack.imgur.com/QtW7e.png\r\n  [2]: https://i.stack.imgur.com/Bbp11.png\r\n  [3]: https://i.stack.imgur.com/oM24r.png\r\n  [4]: https://i.stack.imgur.com/eu7BG.png","title":"How to authorize CORS in Spring Security filter","body":"<p>I'm trying to build a REST API with Spring Boot and Spring Security but I have run into an issue where any request to the <code>/login</code> endpoint is blocked because of <code>CORS</code> and I can't figure out how to allow it.</p>\n<p>Here's what I get when I inspect the network tab of my developper tools whenever I send a login request in my frontend application:</p>\n<p><a href=\"https://i.stack.imgur.com/QtW7e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QtW7e.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Bbp11.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bbp11.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/oM24r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oM24r.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/eu7BG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eu7BG.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's my <code>SecurityConfig.java</code> file (I've omitted imports for brevity):</p>\n<pre><code>@EnableWebSecurity(debug = true)\n@RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final AuthenticationUserDetailService authenticationUserDetailService;\n    private final PasswordEncoder passwordEncoder;\n    @Value(&quot;${jwt.secret}&quot;)\n    private String jwtSecret;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.cors();\n        http.authorizeRequests().antMatchers(&quot;/login&quot;).permitAll();\n        http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll();\n        http.authorizeRequests().antMatchers(&quot;/api/teachers/**&quot;).hasAuthority(&quot;TEACHER&quot;);\n        http.authorizeRequests().antMatchers(&quot;/api/students/**&quot;).hasAuthority(&quot;STUDENT&quot;);\n        http.authorizeRequests().antMatchers(&quot;/api/**&quot;).hasAuthority(&quot;ADMIN&quot;);\n\n        http.authorizeRequests().anyRequest().authenticated();\n        //http.authorizeRequests().anyRequest().permitAll();\n        http.addFilter(new JwtAuthenticationFilter(authenticationManager(), jwtSecret));\n        http.addFilter(new JwtAuthorizationFilter(authenticationManager(), jwtSecret));\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(authenticationUserDetailService).passwordEncoder(passwordEncoder);\n    }\n}\n</code></pre>\n<p>Here's my <code>JwtAuthenticationFilter.java</code> file:</p>\n<pre><code>public class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n    private final AuthenticationManager authenticationManager;\n    private final String jwtSecret;\n\n    public JwtAuthenticationFilter(AuthenticationManager authenticationManager, String jwtSecret) {\n        this.authenticationManager = authenticationManager;\n        this.jwtSecret = jwtSecret;\n        setFilterProcessesUrl(&quot;/login&quot;);\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        try {\n            LoginRequest credentials = new ObjectMapper()\n                    .readValue(request.getInputStream(), LoginRequest.class);\n\n            return authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(\n                            credentials.getUsername(),\n                            credentials.getPassword(),\n                            new ArrayList&lt;&gt;())\n            );\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\n        User user = (User) authResult.getPrincipal();\n\n        String token = Jwts.builder()\n                .signWith(SignatureAlgorithm.HS512, jwtSecret.getBytes())\n                .claim(&quot;role&quot;, authResult.getAuthorities().iterator().next().getAuthority())\n                .setSubject(user.getUsername())\n                .setExpiration(new Date(System.currentTimeMillis() + 24 * 3600 * 1000))\n                .compact();\n\n        response.setContentType(&quot;application/json&quot;);\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n        response.getWriter().write(&quot;{\\&quot;token\\&quot;:\\&quot;&quot; + token + &quot;\\&quot;}&quot;);\n    }\n}\n</code></pre>\n<p>I have tried every solution I have found online and I'm out of ideas. How can I authorize CORS from any source for my <code>/login</code> endpoint ?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1623844657,"post_id":68002052,"comment_id":120192701,"body_markdown":"did you try using the same variable and updating it? note, you can do `.forEach(b -&gt; { System.out.println(&quot;Key: &quot; + b.getKey() + &quot; Value: &quot; + b.getValue()); .... })`. only challenge would be using a effectively final variable in there.","body":"did you try using the same variable and updating it? note, you can do <code>.forEach(b -&gt; { System.out.println(&quot;Key: &quot; + b.getKey() + &quot; Value: &quot; + b.getValue()); .... })</code>. only challenge would be using a effectively final variable in there."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1623846777,"post_id":68002253,"comment_id":120193632,"body_markdown":"The final snippet is some ugly mix of code styles that shouldn&#39;t be part of any codebase. It&#39;s half-functional, half-imperative, with the advantages of neither and the downsides of both. I&#39;m not entirely certain what SO policy is on such answers, but surely an answer that &#39;works&#39;, but teaches bad code style, is not a good answer, right?","body":"The final snippet is some ugly mix of code styles that shouldn&#39;t be part of any codebase. It&#39;s half-functional, half-imperative, with the advantages of neither and the downsides of both. I&#39;m not entirely certain what SO policy is on such answers, but surely an answer that &#39;works&#39;, but teaches bad code style, is not a good answer, right?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1623847157,"post_id":68002253,"comment_id":120193796,"body_markdown":"Code style often is a matter of opinion. I just wanted to point out the possibility of using that.","body":"Code style often is a matter of opinion. I just wanted to point out the possibility of using that."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1623844742,"creation_date":1623844742,"answer_id":68002253,"question_id":68002052,"body_markdown":"Basically, you want to do something like this, but it wouldn&#39;t work:\r\n\r\n```java\r\ndouble totalPrice = 0;\r\nint items = 0;\r\nbasketItems.forEach((k,v) -&gt; {\r\n    totalPrice += k.getPrice();\r\n    items+=v;\r\n});\r\n```\r\n\r\nThe problem is that you can only access `final` (or effectively final) local variables in lambda expressions. In order to bypass that problem, you can create an object containing the variables:\r\n\r\n```java\r\nclass Stats{\r\n    private double totalPrice = 0;\r\n    private int items = 0;\r\n    //getter methods\r\n    public void add(double price,int items){\r\n        totalPrice+=price;\r\n        this.items+=items;\r\n    }\r\n}\r\n//...\r\nStats stats=new Stats();\r\nbasketItems.forEach((k,v) -&gt; {\r\n    stats.add(k.getPrice(),v);\r\n});\r\n```\r\n\r\nA shorter way to do this is using local variable type inference which is available since java 10:\r\n\r\n```java\r\nvar stats=new Object(){\r\n    private double totalPrice = 0;\r\n    private int items = 0;\r\n}\r\n\r\nbasketItems.forEach((k,v) -&gt; {\r\n    stats.totalPrice += k.getPrice();\r\n    stats.items+=v;\r\n});\r\n//access stats.totalPrice and stats.items\r\n```\r\n\r\nNote that I used [`Map#forEach`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html) instead of `EntrySet` so you don&#39;t need `Entry#getKey` and `Entry#getValue`","title":"Java lambda write foreach with entrySet","body":"<p>Basically, you want to do something like this, but it wouldn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double totalPrice = 0;\nint items = 0;\nbasketItems.forEach((k,v) -&gt; {\n    totalPrice += k.getPrice();\n    items+=v;\n});\n</code></pre>\n<p>The problem is that you can only access <code>final</code> (or effectively final) local variables in lambda expressions. In order to bypass that problem, you can create an object containing the variables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Stats{\n    private double totalPrice = 0;\n    private int items = 0;\n    //getter methods\n    public void add(double price,int items){\n        totalPrice+=price;\n        this.items+=items;\n    }\n}\n//...\nStats stats=new Stats();\nbasketItems.forEach((k,v) -&gt; {\n    stats.add(k.getPrice(),v);\n});\n</code></pre>\n<p>A shorter way to do this is using local variable type inference which is available since java 10:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var stats=new Object(){\n    private double totalPrice = 0;\n    private int items = 0;\n}\n\nbasketItems.forEach((k,v) -&gt; {\n    stats.totalPrice += k.getPrice();\n    stats.items+=v;\n});\n//access stats.totalPrice and stats.items\n</code></pre>\n<p>Note that I used <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map#forEach</code></a> instead of <code>EntrySet</code> so you don't need <code>Entry#getKey</code> and <code>Entry#getValue</code></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1623847033,"creation_date":1623846685,"answer_id":68002722,"question_id":68002052,"body_markdown":"From your question you seem to be under the impression that `.forEach` is &#39;better&#39; than `for(:)` and are now experimenting to prove this.\r\n\r\nYou can&#39;t prove it, because it&#39;s false. `.forEach` is often considerably _worse_. It&#39;s not shorter. Code-quality-wise, it usually results in less elegant code (&#39;elegant&#39; defined as: Easier to understand and follow, easier to modify in the face of change requests, easier to test. Not defined as &#39;looks prettier to me&#39; - There is no arguing about taste!)\r\n\r\nThere ARE reasons to use `.forEach`, but these are generally exotic.\r\n\r\n## Why is it worse?\r\n\r\nBecause lambdas are not transparent in regards to checked exceptions, control flow, and mutable local variables. These are all significant downsides that `for(:)` doesn&#39;t suffer from. The lack of mutable-local-variable-transparency is why you can&#39;t write this code, for example.\r\n\r\nSee below the fold for a full treatise if you are unsure of what these 3 concepts mean and how foreach does it well, lambdas do it badly, and in what scenarios lambdas actually shine and where this lack of transparency turns into upside.\r\n\r\n## How would I make the code example work with lambdas anyway?\r\n\r\nGenerally you need to adopt the function mindset. The problem here is that &#39;transparency of locals&#39; issue. You don&#39;t _WANT_ the locals to exist, they inherently mean parallelism isn&#39;t on the table (parallelism is rarely relevant, but the architecture of lambdas and streams is fundamentally designed that they should continue to operate efficiently and without race conditions even if it is relevant), and once you write code that fails in parallel scenarios, it tends to grate and cause issues when trying to adopt it into a lambda/stream style.\r\n\r\n## Nevermind all that, I want to just write my code!\r\n\r\nOnly real option is to use an `AtomicX` to carry the info:\r\n\r\n```\r\nAtomicInteger totalPrice = new AtomicInteger();\r\nAtomicInteger totalItems = new AtomicInteger();\r\nbasketItems.entrySet().forEach(b -&gt; {\r\n  totalPrice.add(b.getKey().getPrice() * b.getValue());\r\n  totalItems.add(b.getValue());\r\n});\r\n```\r\n\r\nThis is ugly, inefficient, lots of code, and not particularly readable. Hence why you shouldn&#39;t be doing this. This is not an improvement on `for(:)` whatsoever.\r\n\r\n## Tell me more about that &#39;think in lambdas&#39; thing.\r\n\r\nYou want each &#39;loop&#39; to stand alone, not interact with other loops, and then use a parallel approach to combine results. This is called map/reduce, and you should search the web for complete tutorials on this idea. lambdas/streams support the idea too. However, because you&#39;re gathering two things, it&#39;s considerably more complicated and you need a single object to represent all relevant info: Both the contribution to the total price, as well as the contribution to the item count.\r\n\r\nLet&#39;s say you JUST want to count items, nothing more. Then don&#39;t do:\r\n\r\n```\r\nAtomicInteger count_ = new AtomicInteger();\r\nbasketItems.values().forEach(x -&gt; count_.add(x));\r\nint count = count_.get();\r\n```\r\n\r\nbut do:\r\n\r\n```\r\nint count = basketItems.values().mapToInt(Integer::intValue).sum();\r\n```\r\n\r\nIn your case you&#39;re doing two things, so it gets considerably more complicated and hard to read code:\r\n\r\n```\r\nint[] totals = basketItems.entrySet()\r\n  .map(e -&gt; new int[] {e.getKey().getPrice() * e.getValue(), e.getValue()})\r\n  .collect(Collectors.reducing((a, b) -&gt; new int[] {a[0] + b[0], a[1] + b[1]}))\r\n  .orElse(new int[2]);\r\nint totalPrice = totals[0];\r\nint totalItems = totals[1];\r\n```\r\n\r\nThis will first map your item/amount pair into an int array where the first elem contains the total price, and the second contains the item count.\r\n\r\nIt then collects your stream of 2-size int arrays by merging the arrays into a single array.\r\n\r\nIt then returns this, using `[0, 0]` as standin in case you have an empty basket.\r\n\r\nThat&#39;s &#39;thinking in streams&#39;.\r\n\r\n## Is it shorter.\r\n\r\nHeck, no!\r\n\r\n* It is not a fair comparison if you force yourself to write out the intermediate type (in this case, `Map.Entry&lt;Item, Integer&gt;`), where in the lambda variant you don&#39;t. Use `var`.\r\n* It is not a fair comparison if you find it stylistically acceptable to pile the whole stream operation into one gigantic, brace-less line whilst also adopting a style guide that rigidly enforces braces everywhere else. Then you&#39;re just noticing that your own inconsistent style guide is weird, not that lambdas are fundamentally shorter, at all.\r\n\r\nWith that in mind, here is this code in for(:) form:\r\n\r\n```\r\ndouble totalPrice = 0;\r\nint items = 0;\r\n\r\nfor (var e : basketItems.entrySet()) {\r\n  totalPrice += entry.getKey().getPrice() * entry.getValue();\r\n  items += entry.getValue();\r\n}\r\n```\r\n\r\nSimple. Easy to read. Considerably less hacky (no int arrays just to carry info around). Likely an order of magnitude more performant. Pretty much better in every way.\r\n\r\n-----\r\n\r\n## In-depth: Lambdas and the transparencies\r\n\r\nThe conclusions drawn in this answer run counter to common if careless advice found in various corners on the internet. (Namely: Do not use lambdas or the functional approach unless the alternative is clearly much worse; when in doubt, don&#39;t use lambdas).\r\n\r\nThus, perhaps, one might think the burden of proof lies with this side of the argument (not sure this makes logical sense, but just in case, I guess).\r\n\r\nThus, an in-depth analysis of the 3 transparencies that lambdas do not have and the pros and cons:\r\n\r\n1. They are not checked exception transparent: If you write:\r\n\r\n```\r\ntry {\r\n    Runnable r = () -&gt; { throw new IOException(); }\r\n    r.run();\r\n} catch (IOException e) {}\r\n```\r\n\r\nit won&#39;t compile, even though your eyeballs and your brain are correctly telling you that it ought to - that IOException is thrown, and caught, guaranteed. It won&#39;t compile because your lambda body needs to &#39;fit&#39; the single abstract method in the `Runnable` interface which is not declared to allow you to throw `IOException`, therefore, you can&#39;t.\r\n\r\nit can be worked around by either aggressively rewrapping checked exceptions in unchecked ones; this ruins the point of checked exceptions and is a ton of boilerplate code to add, making lambdas long and unwieldy.\r\n\r\nA basic for loop / don&#39;t use lambdas, just doesn&#39;t suffer from this, at all:\r\n\r\n```\r\ntry {\r\n    throw new IOException();\r\n} catch (IOException e) {}\r\n```\r\n\r\ncompiles perfectly fine.\r\n\r\n2. They are not mutable local variable transparent.\r\n\r\n```\r\nint x = 0;\r\nList.of(&quot;a&quot;, &quot;b&quot;).forEach(elem -&gt; x++);\r\n```\r\n\r\nThis does not compile: Any non-final local variable cannot be accessed in lambdas within the scope of said local variable (the compiler knows which variable you&#39;re talking about, you just can&#39;t read or write to it). The compiler will do you a favour and treat any non-final local variable that is nevertheless never changed inside its entire scope as &#39;effectively final&#39; and let you read from it. However, writing to it from within a lambda is by definition impossible (as that would make it not effectively final). This is annoying. It can be worked around with `AtomicInteger` / `AtomicDouble` / `AtomicReference` (this is better than using `new int[1]` as vehicle).\r\n\r\nfor loops do not suffer from this. This compiles fine:\r\n\r\n```\r\nint x;\r\nfor (var elem : List.of(&quot;a&quot;, b&quot;)) x++;\r\n```\r\n\r\n3. They are not control flow transparent.\r\n\r\n```\r\nouter:\r\nwhile (true) {\r\n    List.of(&quot;a&quot;, &quot;b&quot;).forEach(x -&gt; {\r\n      // what goes here?\r\n    }\r\n    System.out.println(&quot;Hello&quot;);\r\n}\r\n```\r\n\r\nIn the &#39;what goes here&#39; section, imagine you want to abort not just this particular loop, but the __entire__ forEach run. For example, you want to stop processing when you hit `&quot;a&quot;`, and never even loop for `&quot;b&quot;`. __This is impossible__. Imagine you want to do something even more drastic break out of the while loop that surrounds it. __This is impossible__.\r\n\r\nBoth are quite possible with basic for loops:\r\n\r\n```\r\nouter:\r\nwhile (true) {\r\n  for (var e : List.of(&quot;a&quot;, &quot;b&quot;)) {\r\n     if (e.equals(&quot;a&quot;)) break; // break the for\r\n     if (e.equals(&quot;b&quot;)) break outer; // break the while\r\n  }\r\n}\r\n```\r\n\r\nThese 3 downsides turn, effectively, into upsides when the lambda &#39;travels&#39;. That is, the lambda is stored and run at some later time when the method that contains the code of the lambda has long since completed, or if the lambda is executed in an entirely different thread: All 3 downsides I list above become weird and confusing in such scenarios:\r\n\r\n1. That catch block? That entire method has ceased execution, all state is gone, code can&#39;t jump there, even though lexically it looks like it should, so that downside turned into an upside.\r\n\r\n2. If non-final locals can be seen and mutated in a lambda that runs in another thread, the local can no longer be declared on stack, it needs to silently be moved to heap. Should we start worrying about marking our locals as `volatile` now? All options, but right now in java a local is by definition limited to your thread and ceases to exist when your scope ends. That makes it easier to reason about code. These preconditions would have to go away. That&#39;s nasty. The downside turned into an upside.\r\n\r\n3. There is no while loop to continue or break to in this scenario. The code would be meaningless. The downside turned into an upside.\r\n\r\nThis results in the following conclusion:\r\n\r\nLambdas are __fantastic__, with no caveats, when they are used to write code that &#39;travels&#39; beyond the scope of where you wrote it, either because it is stored in a field and executed much later, or because it is run in another thread.\r\n\r\nLambdas are __dragged down with nasty caveats__, thus, bad style and a code smell, if they don&#39;t travel. It can still easily be the case that a lambda-based solution is correct even if the lambda does not &#39;travel&#39;, but they aren&#39;t just &#39;better by default&#39;. They are in fact WORSE by default.\r\n\r\nBecause of the above 2 rules, we get a third rule:\r\n\r\n__Calling `.forEach(elem -&gt; {...})` directly on a list, or on a stream that has no intermediate steps, is ALWAYS bad and a code smell!__\r\n\r\nIn other words, this is guaranteed silly:\r\n\r\n```\r\nlist.forEach(x -&gt; doStuff);\r\n\r\nset.stream().forEach(x -&gt; doStuff);\r\n```\r\n\r\nJust use basic for loops instead.\r\n\r\nThe `.forEach` terminal should therefore rarely be used. It is non-silly code in only 3 scenarios:\r\n\r\n1. The underlying data structure is parallel in nature and the processing you need to do is similarly parallel, but you have no need to finetune the pool used to run it. This is rare (as in, usually if parallelism is relevant like this, you need more control, and fork/join is the answer, OR parallelism doesn&#39;t matter. Rare that you&#39;re right in the middle), but if you do, then this can help, as these can run in parallel whereas a foreach doesn&#39;t. This scenario is very rarely relevant.\r\n\r\n2. You already have a Consumer&lt;T&gt;, e.g. passed in:\r\n\r\n```\r\npublic void peekEvents(Consumer&lt;Event&gt; consumer) {\r\n    eventQueue.forEach(consumer);\r\n}\r\n```\r\n\r\n3. You have intermediates:\r\n\r\n```\r\neventQueue.stream().filter(Event::isPublic)\r\n  .map(Event::getWidget)\r\n  .forEach(widget -&gt; System.out.println(&quot;Widget with queued up events: &quot; + widget);\r\n```\r\n\r\nHere you filter and map - then it starts to make more sense to use `forEach`.\r\n","title":"Java lambda write foreach with entrySet","body":"<p>From your question you seem to be under the impression that <code>.forEach</code> is 'better' than <code>for(:)</code> and are now experimenting to prove this.</p>\n<p>You can't prove it, because it's false. <code>.forEach</code> is often considerably <em>worse</em>. It's not shorter. Code-quality-wise, it usually results in less elegant code ('elegant' defined as: Easier to understand and follow, easier to modify in the face of change requests, easier to test. Not defined as 'looks prettier to me' - There is no arguing about taste!)</p>\n<p>There ARE reasons to use <code>.forEach</code>, but these are generally exotic.</p>\n<h2>Why is it worse?</h2>\n<p>Because lambdas are not transparent in regards to checked exceptions, control flow, and mutable local variables. These are all significant downsides that <code>for(:)</code> doesn't suffer from. The lack of mutable-local-variable-transparency is why you can't write this code, for example.</p>\n<p>See below the fold for a full treatise if you are unsure of what these 3 concepts mean and how foreach does it well, lambdas do it badly, and in what scenarios lambdas actually shine and where this lack of transparency turns into upside.</p>\n<h2>How would I make the code example work with lambdas anyway?</h2>\n<p>Generally you need to adopt the function mindset. The problem here is that 'transparency of locals' issue. You don't <em>WANT</em> the locals to exist, they inherently mean parallelism isn't on the table (parallelism is rarely relevant, but the architecture of lambdas and streams is fundamentally designed that they should continue to operate efficiently and without race conditions even if it is relevant), and once you write code that fails in parallel scenarios, it tends to grate and cause issues when trying to adopt it into a lambda/stream style.</p>\n<h2>Nevermind all that, I want to just write my code!</h2>\n<p>Only real option is to use an <code>AtomicX</code> to carry the info:</p>\n<pre><code>AtomicInteger totalPrice = new AtomicInteger();\nAtomicInteger totalItems = new AtomicInteger();\nbasketItems.entrySet().forEach(b -&gt; {\n  totalPrice.add(b.getKey().getPrice() * b.getValue());\n  totalItems.add(b.getValue());\n});\n</code></pre>\n<p>This is ugly, inefficient, lots of code, and not particularly readable. Hence why you shouldn't be doing this. This is not an improvement on <code>for(:)</code> whatsoever.</p>\n<h2>Tell me more about that 'think in lambdas' thing.</h2>\n<p>You want each 'loop' to stand alone, not interact with other loops, and then use a parallel approach to combine results. This is called map/reduce, and you should search the web for complete tutorials on this idea. lambdas/streams support the idea too. However, because you're gathering two things, it's considerably more complicated and you need a single object to represent all relevant info: Both the contribution to the total price, as well as the contribution to the item count.</p>\n<p>Let's say you JUST want to count items, nothing more. Then don't do:</p>\n<pre><code>AtomicInteger count_ = new AtomicInteger();\nbasketItems.values().forEach(x -&gt; count_.add(x));\nint count = count_.get();\n</code></pre>\n<p>but do:</p>\n<pre><code>int count = basketItems.values().mapToInt(Integer::intValue).sum();\n</code></pre>\n<p>In your case you're doing two things, so it gets considerably more complicated and hard to read code:</p>\n<pre><code>int[] totals = basketItems.entrySet()\n  .map(e -&gt; new int[] {e.getKey().getPrice() * e.getValue(), e.getValue()})\n  .collect(Collectors.reducing((a, b) -&gt; new int[] {a[0] + b[0], a[1] + b[1]}))\n  .orElse(new int[2]);\nint totalPrice = totals[0];\nint totalItems = totals[1];\n</code></pre>\n<p>This will first map your item/amount pair into an int array where the first elem contains the total price, and the second contains the item count.</p>\n<p>It then collects your stream of 2-size int arrays by merging the arrays into a single array.</p>\n<p>It then returns this, using <code>[0, 0]</code> as standin in case you have an empty basket.</p>\n<p>That's 'thinking in streams'.</p>\n<h2>Is it shorter.</h2>\n<p>Heck, no!</p>\n<ul>\n<li>It is not a fair comparison if you force yourself to write out the intermediate type (in this case, <code>Map.Entry&lt;Item, Integer&gt;</code>), where in the lambda variant you don't. Use <code>var</code>.</li>\n<li>It is not a fair comparison if you find it stylistically acceptable to pile the whole stream operation into one gigantic, brace-less line whilst also adopting a style guide that rigidly enforces braces everywhere else. Then you're just noticing that your own inconsistent style guide is weird, not that lambdas are fundamentally shorter, at all.</li>\n</ul>\n<p>With that in mind, here is this code in for(:) form:</p>\n<pre><code>double totalPrice = 0;\nint items = 0;\n\nfor (var e : basketItems.entrySet()) {\n  totalPrice += entry.getKey().getPrice() * entry.getValue();\n  items += entry.getValue();\n}\n</code></pre>\n<p>Simple. Easy to read. Considerably less hacky (no int arrays just to carry info around). Likely an order of magnitude more performant. Pretty much better in every way.</p>\n<hr />\n<h2>In-depth: Lambdas and the transparencies</h2>\n<p>The conclusions drawn in this answer run counter to common if careless advice found in various corners on the internet. (Namely: Do not use lambdas or the functional approach unless the alternative is clearly much worse; when in doubt, don't use lambdas).</p>\n<p>Thus, perhaps, one might think the burden of proof lies with this side of the argument (not sure this makes logical sense, but just in case, I guess).</p>\n<p>Thus, an in-depth analysis of the 3 transparencies that lambdas do not have and the pros and cons:</p>\n<ol>\n<li>They are not checked exception transparent: If you write:</li>\n</ol>\n<pre><code>try {\n    Runnable r = () -&gt; { throw new IOException(); }\n    r.run();\n} catch (IOException e) {}\n</code></pre>\n<p>it won't compile, even though your eyeballs and your brain are correctly telling you that it ought to - that IOException is thrown, and caught, guaranteed. It won't compile because your lambda body needs to 'fit' the single abstract method in the <code>Runnable</code> interface which is not declared to allow you to throw <code>IOException</code>, therefore, you can't.</p>\n<p>it can be worked around by either aggressively rewrapping checked exceptions in unchecked ones; this ruins the point of checked exceptions and is a ton of boilerplate code to add, making lambdas long and unwieldy.</p>\n<p>A basic for loop / don't use lambdas, just doesn't suffer from this, at all:</p>\n<pre><code>try {\n    throw new IOException();\n} catch (IOException e) {}\n</code></pre>\n<p>compiles perfectly fine.</p>\n<ol start=\"2\">\n<li>They are not mutable local variable transparent.</li>\n</ol>\n<pre><code>int x = 0;\nList.of(&quot;a&quot;, &quot;b&quot;).forEach(elem -&gt; x++);\n</code></pre>\n<p>This does not compile: Any non-final local variable cannot be accessed in lambdas within the scope of said local variable (the compiler knows which variable you're talking about, you just can't read or write to it). The compiler will do you a favour and treat any non-final local variable that is nevertheless never changed inside its entire scope as 'effectively final' and let you read from it. However, writing to it from within a lambda is by definition impossible (as that would make it not effectively final). This is annoying. It can be worked around with <code>AtomicInteger</code> / <code>AtomicDouble</code> / <code>AtomicReference</code> (this is better than using <code>new int[1]</code> as vehicle).</p>\n<p>for loops do not suffer from this. This compiles fine:</p>\n<pre><code>int x;\nfor (var elem : List.of(&quot;a&quot;, b&quot;)) x++;\n</code></pre>\n<ol start=\"3\">\n<li>They are not control flow transparent.</li>\n</ol>\n<pre><code>outer:\nwhile (true) {\n    List.of(&quot;a&quot;, &quot;b&quot;).forEach(x -&gt; {\n      // what goes here?\n    }\n    System.out.println(&quot;Hello&quot;);\n}\n</code></pre>\n<p>In the 'what goes here' section, imagine you want to abort not just this particular loop, but the <strong>entire</strong> forEach run. For example, you want to stop processing when you hit <code>&quot;a&quot;</code>, and never even loop for <code>&quot;b&quot;</code>. <strong>This is impossible</strong>. Imagine you want to do something even more drastic break out of the while loop that surrounds it. <strong>This is impossible</strong>.</p>\n<p>Both are quite possible with basic for loops:</p>\n<pre><code>outer:\nwhile (true) {\n  for (var e : List.of(&quot;a&quot;, &quot;b&quot;)) {\n     if (e.equals(&quot;a&quot;)) break; // break the for\n     if (e.equals(&quot;b&quot;)) break outer; // break the while\n  }\n}\n</code></pre>\n<p>These 3 downsides turn, effectively, into upsides when the lambda 'travels'. That is, the lambda is stored and run at some later time when the method that contains the code of the lambda has long since completed, or if the lambda is executed in an entirely different thread: All 3 downsides I list above become weird and confusing in such scenarios:</p>\n<ol>\n<li><p>That catch block? That entire method has ceased execution, all state is gone, code can't jump there, even though lexically it looks like it should, so that downside turned into an upside.</p>\n</li>\n<li><p>If non-final locals can be seen and mutated in a lambda that runs in another thread, the local can no longer be declared on stack, it needs to silently be moved to heap. Should we start worrying about marking our locals as <code>volatile</code> now? All options, but right now in java a local is by definition limited to your thread and ceases to exist when your scope ends. That makes it easier to reason about code. These preconditions would have to go away. That's nasty. The downside turned into an upside.</p>\n</li>\n<li><p>There is no while loop to continue or break to in this scenario. The code would be meaningless. The downside turned into an upside.</p>\n</li>\n</ol>\n<p>This results in the following conclusion:</p>\n<p>Lambdas are <strong>fantastic</strong>, with no caveats, when they are used to write code that 'travels' beyond the scope of where you wrote it, either because it is stored in a field and executed much later, or because it is run in another thread.</p>\n<p>Lambdas are <strong>dragged down with nasty caveats</strong>, thus, bad style and a code smell, if they don't travel. It can still easily be the case that a lambda-based solution is correct even if the lambda does not 'travel', but they aren't just 'better by default'. They are in fact WORSE by default.</p>\n<p>Because of the above 2 rules, we get a third rule:</p>\n<p><strong>Calling <code>.forEach(elem -&gt; {...})</code> directly on a list, or on a stream that has no intermediate steps, is ALWAYS bad and a code smell!</strong></p>\n<p>In other words, this is guaranteed silly:</p>\n<pre><code>list.forEach(x -&gt; doStuff);\n\nset.stream().forEach(x -&gt; doStuff);\n</code></pre>\n<p>Just use basic for loops instead.</p>\n<p>The <code>.forEach</code> terminal should therefore rarely be used. It is non-silly code in only 3 scenarios:</p>\n<ol>\n<li><p>The underlying data structure is parallel in nature and the processing you need to do is similarly parallel, but you have no need to finetune the pool used to run it. This is rare (as in, usually if parallelism is relevant like this, you need more control, and fork/join is the answer, OR parallelism doesn't matter. Rare that you're right in the middle), but if you do, then this can help, as these can run in parallel whereas a foreach doesn't. This scenario is very rarely relevant.</p>\n</li>\n<li><p>You already have a Consumer, e.g. passed in:</p>\n</li>\n</ol>\n<pre><code>public void peekEvents(Consumer&lt;Event&gt; consumer) {\n    eventQueue.forEach(consumer);\n}\n</code></pre>\n<ol start=\"3\">\n<li>You have intermediates:</li>\n</ol>\n<pre><code>eventQueue.stream().filter(Event::isPublic)\n  .map(Event::getWidget)\n  .forEach(widget -&gt; System.out.println(&quot;Widget with queued up events: &quot; + widget);\n</code></pre>\n<p>Here you filter and map - then it starts to make more sense to use <code>forEach</code>.</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693084682,"creation_date":1693084682,"answer_id":76984879,"question_id":68002052,"body_markdown":"I am not sure if applying `forEach` is a strict requirement, but here is one possible solution using a combination of other Java 8 and Java 12 features:\r\n```\r\nPair&lt;Double, Integer&gt; res =\r\n    basketItems.entrySet().stream()\r\n        .peek(e -&gt; System.out.println(&quot;Key: &quot; + e.getKey() + &quot; Value: &quot; + e.getValue()))\r\n        .collect(\r\n            Collectors.teeing(\r\n                Collectors.summingDouble(e -&gt; e.getKey().getPrice() * e.getValue()),\r\n                Collectors.summingInt(Map.Entry::getValue),\r\n                Pair::of));\r\n```\r\n[`Collectors.teeing`][1] is available since Java 12.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Java lambda write foreach with entrySet","body":"<p>I am not sure if applying <code>forEach</code> is a strict requirement, but here is one possible solution using a combination of other Java 8 and Java 12 features:</p>\n<pre><code>Pair&lt;Double, Integer&gt; res =\n    basketItems.entrySet().stream()\n        .peek(e -&gt; System.out.println(&quot;Key: &quot; + e.getKey() + &quot; Value: &quot; + e.getValue()))\n        .collect(\n            Collectors.teeing(\n                Collectors.summingDouble(e -&gt; e.getKey().getPrice() * e.getValue()),\n                Collectors.summingInt(Map.Entry::getValue),\n                Pair::of));\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing</code></a> is available since Java 12.</p>\n"}],"owner":{"account_id":20844725,"reputation":35,"user_id":15310503,"display_name":"S. Orlowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":861,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68002722,"answer_count":3,"score":1,"last_activity_date":1693084682,"creation_date":1623843936,"question_id":68002052,"body_markdown":"I&#39;m trying to work with Maps and lambdas. Firstly I decide to write normal foreach loop and\r\nlater compare it with lambda and how its shorter. So firstly I have method which display key and values, after that I would like to get sum of this values. Key is object which contain name, price etc., values is count of item. \r\n\r\nBelow is normal foreach method.\r\n\r\n        double totalPrice = 0;\r\n        int items = 0;\r\n        for (Map.Entry&lt;Item, Integer&gt; entry : basketItems.entrySet()) {\r\n            System.out.println(&quot;Key: &quot; + entry.getKey() +\r\n                    &quot;Value: &quot; + entry.getValue());\r\n\r\n            totalPrice += entry.getKey().getPrice() * entry.getValue();\r\n            items += entry.getValue();\r\n        }\r\n\r\n        System.out.println(&quot;Wartość zam&#243;wienia: &quot; + String.format(&quot;%.2f&quot;, totalPrice));\r\n        System.out.println(&quot;Ilość przedmiot&#243;w: &quot; + items);\r\n\r\nThis same can I make with lambda like this.\r\n\r\n        basketItems.entrySet().forEach(\r\n                b -&gt; System.out.println(&quot;Key: &quot; + b.getKey() +\r\n                            &quot; Value: &quot; + b.getValue()));\r\n\r\nBut, how can I get my total price by that way in lambda? Its possible do that in one lambda? I have no idea.\r\n ","title":"Java lambda write foreach with entrySet","body":"<p>I'm trying to work with Maps and lambdas. Firstly I decide to write normal foreach loop and\nlater compare it with lambda and how its shorter. So firstly I have method which display key and values, after that I would like to get sum of this values. Key is object which contain name, price etc., values is count of item.</p>\n<p>Below is normal foreach method.</p>\n<pre><code>    double totalPrice = 0;\n    int items = 0;\n    for (Map.Entry&lt;Item, Integer&gt; entry : basketItems.entrySet()) {\n        System.out.println(&quot;Key: &quot; + entry.getKey() +\n                &quot;Value: &quot; + entry.getValue());\n\n        totalPrice += entry.getKey().getPrice() * entry.getValue();\n        items += entry.getValue();\n    }\n\n    System.out.println(&quot;Wartość zamówienia: &quot; + String.format(&quot;%.2f&quot;, totalPrice));\n    System.out.println(&quot;Ilość przedmiotów: &quot; + items);\n</code></pre>\n<p>This same can I make with lambda like this.</p>\n<pre><code>    basketItems.entrySet().forEach(\n            b -&gt; System.out.println(&quot;Key: &quot; + b.getKey() +\n                        &quot; Value: &quot; + b.getValue()));\n</code></pre>\n<p>But, how can I get my total price by that way in lambda? Its possible do that in one lambda? I have no idea.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1693084885,"post_id":76984865,"comment_id":135714207,"body_markdown":"Does this answer your question? [I want to do some task in Background in swing](https://stackoverflow.com/questions/31871365/i-want-to-do-some-task-in-background-in-swing)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31871365/i-want-to-do-some-task-in-background-in-swing\">I want to do some task in Background in swing</a>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1693084946,"post_id":76984865,"comment_id":135714216,"body_markdown":"Keep in mind that you must not block the GUI thread with your long running task. As long as `runSlowRequest()` is running with the GUI thread, no GUI updates are visible.","body":"Keep in mind that you must not block the GUI thread with your long running task. As long as <code>runSlowRequest()</code> is running with the GUI thread, no GUI updates are visible."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693085826,"post_id":76984865,"comment_id":135714285,"body_markdown":"Swing is single threaded and not thread safe - this means you must not execute long running or blocking operations within the Event Dispatching Thread and any updates to the ui  or any state the ui relies on must be done on the EDT. setIndeterminate may be triggering a repaint request automatically, but I wouldn’t rely on it. If I need the ui updated, I’d manually trigger it","body":"Swing is single threaded and not thread safe - this means you must not execute long running or blocking operations within the Event Dispatching Thread and any updates to the ui  or any state the ui relies on must be done on the EDT. setIndeterminate may be triggering a repaint request automatically, but I wouldn’t rely on it. If I need the ui updated, I’d manually trigger it"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693088584,"post_id":76984865,"comment_id":135714518,"body_markdown":"Recommended reading: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/","body":"Recommended reading: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurrency</a>"},{"owner":{"account_id":1292246,"reputation":611,"user_id":1244113,"accept_rate":29,"display_name":"springcorn"},"score":0,"creation_date":1693182997,"post_id":76984865,"comment_id":135722209,"body_markdown":"@Progman I think i knew the problem but reading it written like this made me wake up to it.","body":"@Progman I think i knew the problem but reading it written like this made me wake up to it."}],"owner":{"account_id":1292246,"reputation":611,"user_id":1244113,"accept_rate":29,"display_name":"springcorn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693084362,"creation_date":1693084362,"question_id":76984865,"body_markdown":"I often use a jprogressbar in indeterminate mode to communicate an ongoing process to user.\r\n\r\n    JProgressBar systemProcess = new JProgressBar();  \r\n    systemProcess.setString(processName);\r\n    systemProcess.setIndeterminate(true); \r\n    runSlowRequest();\r\n    systemProcess.setIndeterminate(false); \r\n\r\n\r\nI always have to put the JProgressBar in a thread or it does not show.  I have used various versions of a thread, SwingWorker, SwingUtilities.invokelater, etc.  \r\nThey all work, but when the thread ends the swing gui does a full repaint.\r\n\r\nIf I remove the thread the repaint doesn&#39;t occur but the progressbar doesn&#39;t work.\r\n\r\n\r\nWhy does a JProgressBar only work when in a thread?\r\n","title":"JProgressBar indeterminate mode, why thread required?","body":"<p>I often use a jprogressbar in indeterminate mode to communicate an ongoing process to user.</p>\n<pre><code>JProgressBar systemProcess = new JProgressBar();  \nsystemProcess.setString(processName);\nsystemProcess.setIndeterminate(true); \nrunSlowRequest();\nsystemProcess.setIndeterminate(false); \n</code></pre>\n<p>I always have to put the JProgressBar in a thread or it does not show.  I have used various versions of a thread, SwingWorker, SwingUtilities.invokelater, etc.<br />\nThey all work, but when the thread ends the swing gui does a full repaint.</p>\n<p>If I remove the thread the repaint doesn't occur but the progressbar doesn't work.</p>\n<p>Why does a JProgressBar only work when in a thread?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":4446214,"reputation":2261,"user_id":3619412,"display_name":"Manu"},"score":0,"creation_date":1438002310,"post_id":31650837,"comment_id":51252913,"body_markdown":"You want to check if product selected to add to cart and product actually added to cart are same or not. Is it?","body":"You want to check if product selected to add to cart and product actually added to cart are same or not. Is it?"},{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1438002424,"post_id":31650837,"comment_id":51252984,"body_markdown":"Yes. That too for first product in my search result.","body":"Yes. That too for first product in my search result."}],"answers":[{"comments":[{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1438001899,"post_id":31651695,"comment_id":51252592,"body_markdown":"details might be same for other product also. So comparing with details is not the way. It might be result in same product. but the product may be different by having same features.","body":"details might be same for other product also. So comparing with details is not the way. It might be result in same product. but the product may be different by having same features."},{"owner":{"account_id":3866973,"reputation":3011,"user_id":3203287,"accept_rate":100,"display_name":"Vicky"},"score":0,"creation_date":1438016465,"post_id":31651695,"comment_id":51262738,"body_markdown":"@SarithaG I can&#39;t get you. If the product on clicking redirects to the correct detail page you can be 100% sure that this is the product you selected bcoz multiple products cannot have same detail page and coming to your question about features actually in the above code we are also validating features &quot;Black, with 8 GB, with 1.2 GHz Processor&quot; by comparing it with cart page.Ex: if red color with 16 GB is selected it will be displayed in both detail and cart page like &quot;Red, with 16 GB, with 1.6 GHz Processor&quot;","body":"@SarithaG I can&#39;t get you. If the product on clicking redirects to the correct detail page you can be 100% sure that this is the product you selected bcoz multiple products cannot have same detail page and coming to your question about features actually in the above code we are also validating features &quot;Black, with 8 GB, with 1.2 GHz Processor&quot; by comparing it with cart page.Ex: if red color with 16 GB is selected it will be displayed in both detail and cart page like &quot;Red, with 16 GB, with 1.6 GHz Processor&quot;"},{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1438057123,"post_id":31651695,"comment_id":51278395,"body_markdown":"This feature may be same for some other product which has different name. So comparing with details is not correct way.","body":"This feature may be same for some other product which has different name. So comparing with details is not correct way."},{"owner":{"account_id":3866973,"reputation":3011,"user_id":3203287,"accept_rate":100,"display_name":"Vicky"},"score":0,"creation_date":1438058690,"post_id":31651695,"comment_id":51278778,"body_markdown":"But actually in this case we are comparing name also using the title if u notice &quot;Asus Zenfone 5 Price in India - Buy Asus Zenfone 5 Black 8 Online - Asus : Flipkart.com&quot; Do you mean to say there are multiple products using the same title ?.If it is about seller then you can get the seller name in product page and compare it with the cart page?","body":"But actually in this case we are comparing name also using the title if u notice &quot;Asus Zenfone 5 Price in India - Buy Asus Zenfone 5 Black 8 Online - Asus : Flipkart.com&quot; Do you mean to say there are multiple products using the same title ?.If it is about seller then you can get the seller name in product page and compare it with the cart page?"},{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1438058839,"post_id":31651695,"comment_id":51278812,"body_markdown":"Yes we have to compare with name also. But here the name is different. That&#39;s what i asked in my question. Names are different how can your compare with name?","body":"Yes we have to compare with name also. But here the name is different. That&#39;s what i asked in my question. Names are different how can your compare with name?"},{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1438064476,"post_id":31651695,"comment_id":51280801,"body_markdown":"Your answer works when there is only single product available in the cart. If there are more number of products are added to cart. Then that won&#39;t work out.","body":"Your answer works when there is only single product available in the cart. If there are more number of products are added to cart. Then that won&#39;t work out."},{"owner":{"account_id":3866973,"reputation":3011,"user_id":3203287,"accept_rate":100,"display_name":"Vicky"},"score":0,"creation_date":1438072949,"post_id":31651695,"comment_id":51285418,"body_markdown":"No this will work for more products also because each product is added as a seperate item in cart page(Ex: even if you add zenfone 5 red and zenfone 5 black it will be added as seperate items) you can apply the solution which u applied for checking 1st item for all items.One change which u have to do is instead of storing in a string store it in a arraylist by which u can do it for n number of products.But yes it will take time to check more products because we have to open all the links.But unfortunately that is the only way as there is no full product name displayed in view cart page","body":"No this will work for more products also because each product is added as a seperate item in cart page(Ex: even if you add zenfone 5 red and zenfone 5 black it will be added as seperate items) you can apply the solution which u applied for checking 1st item for all items.One change which u have to do is instead of storing in a string store it in a arraylist by which u can do it for n number of products.But yes it will take time to check more products because we have to open all the links.But unfortunately that is the only way as there is no full product name displayed in view cart page"}],"tags":[],"owner":{"account_id":3866973,"reputation":3011,"user_id":3203287,"accept_rate":100,"display_name":"Vicky"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438062496,"creation_date":1437995902,"answer_id":31651695,"question_id":31650837,"body_markdown":"After selecting the product in product detail page get the page title and store it in a String\r\n\r\n    String product_title=driver.getTitle();\r\n\r\nAfter adding the product to the cart in the cart page click the product image in the cart(You can also do this in another tab)\r\n\r\n    driver.findElement(By.xpath(&quot;//div[contains(@class,&#39;carty-image&#39;)]/a/img&quot;)).click();\r\n    \t\t\r\n    Assert.assertEquals(product_title, driver.getTitle());\r\n\r\nWe are comparing both the title&#39;s.In your case it should be &quot;Asus Zenfone 5 Price in India - Buy Asus Zenfone 5 Black 8 Online - Asus : Flipkart.com&quot; By this way you can be 100% sure that the product is the same product you selected.You can also check price in the details page and compare it with the cart page\r\n\r\nYou can also get the product attributes &quot;Black, with 8 GB, with 1.2 GHz Processor&quot; in detail page and compare it with the cart page\r\n\r\n    //product detail page\r\n    String detail_page=driver.findElement(By.xpath(&quot;//span[@class=&#39;subtitle&#39;]&quot;)).getText();\r\n    //cart page\t\t\r\n    String cart_page=driver.findElement(By.xpath(&quot;//p[contains(@class,&#39;fk-font-11&#39;)]&quot;)).getText();\r\n    Assert.assertEquals(detail_page, cart_page); \r\n\r\n**Edit** :\r\n\r\nYou cannot compare by using name in both product page and cart page bcoz if u look at the page source of cart page the name is &quot;Asus A501CG-2A508WWE/ A501CG-2A584WWE Zenfone...&quot; even if we write a regex and get the name ex : Asus zenfone we won&#39;t be able to get the full name Asus Zenfone 5 so this will not be the correct procedure to check.Only in the order summary section which appears after placing the order(clicking place order button in view cart page) you will be able to verify using the name &quot;Asus Zenfone 5&quot;.\r\n\r\n**Explanation about my solution** :\r\n\r\n**Step 1** : In the search page you click the first product(asus zenfone 5)\r\n\r\n**Step 2** : You will be redirected to the detail page of the product you selected here after selecting the features like color or storage the page will reload and after that get the page title it will be like ex : Asus Zenfone 5 Price in India - Buy Asus Zenfone 5 Red 8 Online - Asus : Flipkart.com and other features (like color, storage and processor selected),seller name \r\n\r\n**Step 3** : click add to cart button and go to the cart page\r\n\r\n**Step 4** : In the cart page verify whether all the features are present for checking the name the only thing you can do is click on the image of the product and open it in a new tab and then again get the title and compare it with the previous title which we got before adding the product to the cart.Thus you can verify that you have added the correct product.\r\n\r\nYou can also keep the another check to verify whether the product added is same like get the product id of the product before adding it to the cart and in the cart page get the **pid** attribute from the url and compare both of them \r\n\r\nHope this helps you...Kindly get back if you have any doubts","title":"Check Selected Product and product which is added to cart are same or not","body":"<p>After selecting the product in product detail page get the page title and store it in a String</p>\n\n<pre><code>String product_title=driver.getTitle();\n</code></pre>\n\n<p>After adding the product to the cart in the cart page click the product image in the cart(You can also do this in another tab)</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[contains(@class,'carty-image')]/a/img\")).click();\n\nAssert.assertEquals(product_title, driver.getTitle());\n</code></pre>\n\n<p>We are comparing both the title's.In your case it should be \"Asus Zenfone 5 Price in India - Buy Asus Zenfone 5 Black 8 Online - Asus : Flipkart.com\" By this way you can be 100% sure that the product is the same product you selected.You can also check price in the details page and compare it with the cart page</p>\n\n<p>You can also get the product attributes \"Black, with 8 GB, with 1.2 GHz Processor\" in detail page and compare it with the cart page</p>\n\n<pre><code>//product detail page\nString detail_page=driver.findElement(By.xpath(\"//span[@class='subtitle']\")).getText();\n//cart page     \nString cart_page=driver.findElement(By.xpath(\"//p[contains(@class,'fk-font-11')]\")).getText();\nAssert.assertEquals(detail_page, cart_page); \n</code></pre>\n\n<p><strong>Edit</strong> :</p>\n\n<p>You cannot compare by using name in both product page and cart page bcoz if u look at the page source of cart page the name is \"Asus A501CG-2A508WWE/ A501CG-2A584WWE Zenfone...\" even if we write a regex and get the name ex : Asus zenfone we won't be able to get the full name Asus Zenfone 5 so this will not be the correct procedure to check.Only in the order summary section which appears after placing the order(clicking place order button in view cart page) you will be able to verify using the name \"Asus Zenfone 5\".</p>\n\n<p><strong>Explanation about my solution</strong> :</p>\n\n<p><strong>Step 1</strong> : In the search page you click the first product(asus zenfone 5)</p>\n\n<p><strong>Step 2</strong> : You will be redirected to the detail page of the product you selected here after selecting the features like color or storage the page will reload and after that get the page title it will be like ex : Asus Zenfone 5 Price in India - Buy Asus Zenfone 5 Red 8 Online - Asus : Flipkart.com and other features (like color, storage and processor selected),seller name </p>\n\n<p><strong>Step 3</strong> : click add to cart button and go to the cart page</p>\n\n<p><strong>Step 4</strong> : In the cart page verify whether all the features are present for checking the name the only thing you can do is click on the image of the product and open it in a new tab and then again get the title and compare it with the previous title which we got before adding the product to the cart.Thus you can verify that you have added the correct product.</p>\n\n<p>You can also keep the another check to verify whether the product added is same like get the product id of the product before adding it to the cart and in the cart page get the <strong>pid</strong> attribute from the url and compare both of them </p>\n\n<p>Hope this helps you...Kindly get back if you have any doubts</p>\n"},{"comments":[{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1438059477,"post_id":31654976,"comment_id":51278998,"body_markdown":"What that ID will return??","body":"What that ID will return??"},{"owner":{"account_id":4446214,"reputation":2261,"user_id":3619412,"display_name":"Manu"},"score":0,"creation_date":1438066052,"post_id":31654976,"comment_id":51281645,"body_markdown":"@SarithaG if you search for &quot;Asus Zenfone 5&quot;, you will get `MOBE3HYEBFRKHRGG` as product id for both first product in search with name &quot;Asus Zenfone 5 (Black, with 8 GB, with 1.2 GHz Processor)&quot; and one on cart.","body":"@SarithaG if you search for &quot;Asus Zenfone 5&quot;, you will get <code>MOBE3HYEBFRKHRGG</code> as product id for both first product in search with name &quot;Asus Zenfone 5 (Black, with 8 GB, with 1.2 GHz Processor)&quot; and one on cart."},{"owner":{"account_id":4446214,"reputation":2261,"user_id":3619412,"display_name":"Manu"},"score":0,"creation_date":1438161121,"post_id":31654976,"comment_id":51332067,"body_markdown":"@SarithaG did the above solution worked for you? can i help if your have any other queries?","body":"@SarithaG did the above solution worked for you? can i help if your have any other queries?"}],"tags":[],"owner":{"account_id":4446214,"reputation":2261,"user_id":3619412,"display_name":"Manu"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438005059,"creation_date":1438005059,"answer_id":31654976,"question_id":31650837,"body_markdown":"I agree with you that just the Product name cannot be used to distinguish between different products as many products may have same or similar name and that may not give you the expected result.\r\n\r\nTry Product Id instead. Use the code to compare the Product Id&#39;s.\r\n\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@id=&#39;products&#39;]/div/div[1]/div[1]/div&quot;))\r\n          .getAttribute(&quot;data-pid&quot;)     //Id from first product in search result\r\n\r\n    driver.findElement(By.xpath(&quot;//*[@class=&#39;compare-items&#39;]/div[1]&quot;))\r\n          .getAttribute(&quot;item_id&quot;))    //Id from product added to cart\r\n \r\nAlso, there seems to be few dynamic XPath in your code, you may need to make it static so that test do not fail.\r\n\r\nLet me know if you have any queries. ","title":"Check Selected Product and product which is added to cart are same or not","body":"<p>I agree with you that just the Product name cannot be used to distinguish between different products as many products may have same or similar name and that may not give you the expected result.</p>\n\n<p>Try Product Id instead. Use the code to compare the Product Id's.</p>\n\n<pre><code>driver.findElement(By.xpath(\"//*[@id='products']/div/div[1]/div[1]/div\"))\n      .getAttribute(\"data-pid\")     //Id from first product in search result\n\ndriver.findElement(By.xpath(\"//*[@class='compare-items']/div[1]\"))\n      .getAttribute(\"item_id\"))    //Id from product added to cart\n</code></pre>\n\n<p>Also, there seems to be few dynamic XPath in your code, you may need to make it static so that test do not fail.</p>\n\n<p>Let me know if you have any queries. </p>\n"},{"comments":[{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1438064593,"post_id":31655195,"comment_id":51280857,"body_markdown":"If there are more than 100 products in the cart. Then we can&#39;t check by clicking every product..right?","body":"If there are more than 100 products in the cart. Then we can&#39;t check by clicking every product..right?"}],"tags":[],"owner":{"account_id":6484015,"reputation":463,"user_id":5020170,"display_name":"Hari kishen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438009679,"creation_date":1438005610,"answer_id":31655195,"question_id":31650837,"body_markdown":"I think the title with mobile model number is displayed in the cart page and where as in the Product Details page, only the title of phone is displayed.\r\n\r\nSo if you want to compare both the titles:- \r\n\r\n    //Product Details page.\r\n    Title is = Asus Zenfone 5.\r\n    String product = driver.findElement(By.xpath(&quot;//*[@itemprop=&#39;name&#39;]&quot;)).getText();\r\n\r\nNote:- Difference in the page is &quot;Add To Cart&quot; Button is enable and you can click it.\r\n\r\n//Cart Page\r\nAfter clicking on mobile image icon the Title is = Asus Zenfone 5.\r\nClick on the small Mobile image icon and it will takes to the bigger page. Then you can take get Title. \r\n\r\n    driver.findElement (By.xpath(&quot;//*[@class=&#39;carty-image fk-text-center fk-position-relative&#39;]/a/img&quot;)).click();\r\n    String cart = driver.findElement(By.xpath(&quot;//*[@class=&#39;title   Hover&#39;]&quot;)).getText();\r\n\r\nNote:- Difference in the page is &quot;Add To Cart&quot; Button is disable, As we have already added the Item to the cart.\r\n\r\nNow you can compare by.\r\n\r\n    Assert.assertEquals(product, cart); \r\n\r\nI hope this helps you.\r\n","title":"Check Selected Product and product which is added to cart are same or not","body":"<p>I think the title with mobile model number is displayed in the cart page and where as in the Product Details page, only the title of phone is displayed.</p>\n\n<p>So if you want to compare both the titles:- </p>\n\n<pre><code>//Product Details page.\nTitle is = Asus Zenfone 5.\nString product = driver.findElement(By.xpath(\"//*[@itemprop='name']\")).getText();\n</code></pre>\n\n<p>Note:- Difference in the page is \"Add To Cart\" Button is enable and you can click it.</p>\n\n<p>//Cart Page\nAfter clicking on mobile image icon the Title is = Asus Zenfone 5.\nClick on the small Mobile image icon and it will takes to the bigger page. Then you can take get Title. </p>\n\n<pre><code>driver.findElement (By.xpath(\"//*[@class='carty-image fk-text-center fk-position-relative']/a/img\")).click();\nString cart = driver.findElement(By.xpath(\"//*[@class='title   Hover']\")).getText();\n</code></pre>\n\n<p>Note:- Difference in the page is \"Add To Cart\" Button is disable, As we have already added the Item to the cart.</p>\n\n<p>Now you can compare by.</p>\n\n<pre><code>Assert.assertEquals(product, cart); \n</code></pre>\n\n<p>I hope this helps you.</p>\n"}],"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8593,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1693083860,"creation_date":1437993238,"question_id":31650837,"body_markdown":"I have searched for a mobile product which is of type **&quot; Asus Zenfone 5 &quot;** in **flipkart.com** website, search display many products. I selected first product and added it to cart.\r\n\r\nBelow is my code:\r\n\r\n   \r\n     @Test\r\n\t public void flipkartScript() throws InterruptedException {\r\n\r\n\t\tdriver.get(&quot;http://www.flipkart.com/&quot;);\r\n\t\tdriver.findElement(By.id(&quot;fk-top-search-box&quot;)).sendKeys(&quot;Asus Zenfone 5&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@value=&#39;Search&#39;]&quot;)).click();\r\n\r\n\t\t// Selecting first product\r\n\t\tdriver.findElement(By\r\n\t\t\t.xpath(&quot;.//*[@id=&#39;products&#39;]/div/div[1]/div[1]/div/div[1]/a[1]&quot;));\r\n\t\tString name = driver.findElement(By.className(&quot;title&quot;)).getText();\r\n\t\tString price = driver.findElement(By\r\n\t\t\t.xpath(&quot;//span[@class=&#39;selling-price omniture-field&#39;]&quot;)).getText();\r\n\t\tSystem.out.println(&quot;ProductName: &quot;+name + &quot;  ProductPrice: &quot;+price);\r\n\t\t\r\n\t\t//Adding selected product to cart\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@value=&#39;Add to Cart&#39;]&quot;)).click();\r\n\t\tThread.sleep(3000);\r\n\t\t\r\n\t\t//Checking product is available in cart or not\r\n\t\tdriver.findElement(By.xpath(&quot;//span[@class=&#39;cart-label&#39;]&quot;)).click();\r\n\t\tThread.sleep(5000);\r\n\t}\r\n\r\nEverything is working fine in my code.\r\n\r\nNow my doubt is, to check if Selected product and added product both are same. Product name in cart is different from the first product Name in the search results. We can only check if the product names are same or not. Other than that, is there any other option to check? So how can we check whether the selected product is same as the product which is in the cart??","title":"Check Selected Product and product which is added to cart are same or not","body":"<p>I have searched for a mobile product which is of type <strong>\" Asus Zenfone 5 \"</strong> in <strong>flipkart.com</strong> website, search display many products. I selected first product and added it to cart.</p>\n\n<p>Below is my code:</p>\n\n<pre><code> @Test\n public void flipkartScript() throws InterruptedException {\n\n    driver.get(\"http://www.flipkart.com/\");\n    driver.findElement(By.id(\"fk-top-search-box\")).sendKeys(\"Asus Zenfone 5\");\n    driver.findElement(By.xpath(\"//input[@value='Search']\")).click();\n\n    // Selecting first product\n    driver.findElement(By\n        .xpath(\".//*[@id='products']/div/div[1]/div[1]/div/div[1]/a[1]\"));\n    String name = driver.findElement(By.className(\"title\")).getText();\n    String price = driver.findElement(By\n        .xpath(\"//span[@class='selling-price omniture-field']\")).getText();\n    System.out.println(\"ProductName: \"+name + \"  ProductPrice: \"+price);\n\n    //Adding selected product to cart\n    driver.findElement(By.xpath(\"//input[@value='Add to Cart']\")).click();\n    Thread.sleep(3000);\n\n    //Checking product is available in cart or not\n    driver.findElement(By.xpath(\"//span[@class='cart-label']\")).click();\n    Thread.sleep(5000);\n}\n</code></pre>\n\n<p>Everything is working fine in my code.</p>\n\n<p>Now my doubt is, to check if Selected product and added product both are same. Product name in cart is different from the first product Name in the search results. We can only check if the product names are same or not. Other than that, is there any other option to check? So how can we check whether the selected product is same as the product which is in the cart??</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":3,"creation_date":1693009513,"post_id":76981132,"comment_id":135707803,"body_markdown":"I&#39;m not sure I understand. You want to check if your input is equal to this specific string, but you want to do it in a.... &quot;safe&quot; way? What&#39;s wrong with `mySpecialString.equals(userInput)`? Is there some specific security threat that you&#39;re worried about when comparing strings for equality?","body":"I&#39;m not sure I understand. You want to check if your input is equal to this specific string, but you want to do it in a.... &quot;safe&quot; way? What&#39;s wrong with <code>mySpecialString.equals(userInput)</code>? Is there some specific security threat that you&#39;re worried about when comparing strings for equality?"},{"owner":{"account_id":466379,"reputation":17103,"user_id":871096,"accept_rate":52,"display_name":"Robert Dodier"},"score":0,"creation_date":1693009547,"post_id":76981132,"comment_id":135707809,"body_markdown":"If I&#39;m not mistaken, `0001-01-01T00:00:00Z` is the origin of the time; I believe it should be parsed successfully (barring problems with the date parser), and the resulting number of milliseconds for the parsed date should be 0. So that&#39;s something you can check: if milliseconds == 0, then you have this special date.","body":"If I&#39;m not mistaken, <code>0001-01-01T00:00:00Z</code> is the origin of the time; I believe it should be parsed successfully (barring problems with the date parser), and the resulting number of milliseconds for the parsed date should be 0. So that&#39;s something you can check: if milliseconds == 0, then you have this special date."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1693010242,"post_id":76981132,"comment_id":135707851,"body_markdown":"@RobertDodier Actually, no, a zero `Instant` in Java is `1970-01-01T00:00:00Z` so the timestamp `0001-01-01T00:00:00Z` is some large negative number.","body":"@RobertDodier Actually, no, a zero <code>Instant</code> in Java is <code>1970-01-01T00:00:00Z</code> so the timestamp <code>0001-01-01T00:00:00Z</code> is some large negative number."},{"owner":{"account_id":466379,"reputation":17103,"user_id":871096,"accept_rate":52,"display_name":"Robert Dodier"},"score":0,"creation_date":1693011238,"post_id":76981132,"comment_id":135707898,"body_markdown":"@JimGarrison Hrm, yes, thanks for the reminder. Wishful thinking on my part, I guess.","body":"@JimGarrison Hrm, yes, thanks for the reminder. Wishful thinking on my part, I guess."},{"owner":{"account_id":248321,"reputation":62658,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1693013015,"post_id":76981132,"comment_id":135708001,"body_markdown":"Did you try checking the content of the string **before** attempting to parse it? If not, what do you mean by &quot;safe&quot;?","body":"Did you try checking the content of the string <b>before</b> attempting to parse it? If not, what do you mean by &quot;safe&quot;?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693031393,"post_id":76981132,"comment_id":135708920,"body_markdown":"Sorry, this is a horrible interface design. You probably can’t change it? Also I strongly recommend you don’t use the long outdated `Date`  class, it was always poorly designed. Stick to java.time, the modern Java date and time API.","body":"Sorry, this is a horrible interface design. You probably can’t change it? Also I strongly recommend you don’t use the long outdated <code>Date</code>  class, it was always poorly designed. Stick to java.time, the modern Java date and time API."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1693031549,"post_id":76981132,"comment_id":135708930,"body_markdown":"The safe thing to do is proper input validation. So if the instant is within, say, 10 years from now, it’s sound. If it’s your designated null placeholder instant, also accept it. In all other cases reject the input as invalid.","body":"The safe thing to do is proper input validation. So if the instant is within, say, 10 years from now, it’s sound. If it’s your designated null placeholder instant, also accept it. In all other cases reject the input as invalid."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1693033004,"post_id":76981159,"comment_id":135709017,"body_markdown":"Setting a limit to instants you accept to process is a good idea. The 1970 epoch seems rather arbitrary to me. Better to ask business what is a good limit. Judging from the examples in the question the instants seem to be very current, so maybe anything older than a day can be considered invalid. Neither you nor I know, but the OP can find out.","body":"Setting a limit to instants you accept to process is a good idea. The 1970 epoch seems rather arbitrary to me. Better to ask business what is a good limit. Judging from the examples in the question the instants seem to be very current, so maybe anything older than a day can be considered invalid. Neither you nor I know, but the OP can find out."}],"tags":[],"owner":{"account_id":4048441,"reputation":1429,"user_id":3328933,"accept_rate":71,"display_name":"My other car is a cadr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693010128,"creation_date":1693010128,"answer_id":76981159,"question_id":76981132,"body_markdown":"\r\nAssuming that you are only dealing with recent dates, I recommend comparing against the java.time.Instant.EPOCH constant. \r\n\r\n```\r\n        String dateStr = &quot;0001-01-01T00:00:00Z&quot;;\r\n        Instant instant = Instant.parse(dateStr);\r\n        if(instant.isBefore(java.time.Instant.EPOCH)){\r\n           // don&#39;t process this value\r\n        }\r\n        Date dt = Date.from(instant);\r\n```\r\nBut if you want to be on the extra safe side, you could make your own java.time.Instant constant that is somewhere around 2 AD. ","title":"Safe way to check &quot;0001-01-01T00:00:00Z&quot; in java?","body":"<p>Assuming that you are only dealing with recent dates, I recommend comparing against the java.time.Instant.EPOCH constant.</p>\n<pre><code>        String dateStr = &quot;0001-01-01T00:00:00Z&quot;;\n        Instant instant = Instant.parse(dateStr);\n        if(instant.isBefore(java.time.Instant.EPOCH)){\n           // don't process this value\n        }\n        Date dt = Date.from(instant);\n</code></pre>\n<p>But if you want to be on the extra safe side, you could make your own java.time.Instant constant that is somewhere around 2 AD.</p>\n"},{"tags":[],"owner":{"account_id":18135642,"reputation":41,"user_id":13190219,"display_name":"Gustavo Andres Benitez"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693011015,"creation_date":1693011015,"answer_id":76981183,"question_id":76981132,"body_markdown":"I would suggest a few things:\r\n- Use java.time fully and avoid java.util.Date: The java.time package is a superior API for date and time operations, and is generally recommended over the older java.util.Date and java.util.Calendar classes.\r\n\r\n- Check against a specific Instant: Instead of checking against a &quot;min&quot; value, you can specifically check against the &quot;null&quot; date you expect, which is &quot;0001-01-01T00:00:00Z&quot;.\r\n\r\nAn example would be:\r\n```import java.time.Instant;\r\n\r\npublic class Main {\r\n    private static final Instant NULL_INSTANT = Instant.parse(&quot;0001-01-01T00:00:00Z&quot;);\r\n\r\n    public static void main(String[] args) {\r\n        String dateStr = &quot;0001-01-01T00:00:00Z&quot;;\r\n        Instant instant = Instant.parse(dateStr);\r\n\r\n        if (instant.equals(NULL_INSTANT)) {\r\n            System.out.println(&quot;This is the null date.&quot;);\r\n        } else {\r\n            System.out.println(&quot;This is a valid date.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe benefit of using a constant Instant (NULL_INSTANT) is that you define your null value in just one place, making your code easier to maintain and less prone to errors. If for any reason the null representation changes in the future, you would only have to change the value of NULL_INSTANT.","title":"Safe way to check &quot;0001-01-01T00:00:00Z&quot; in java?","body":"<p>I would suggest a few things:</p>\n<ul>\n<li><p>Use java.time fully and avoid java.util.Date: The java.time package is a superior API for date and time operations, and is generally recommended over the older java.util.Date and java.util.Calendar classes.</p>\n</li>\n<li><p>Check against a specific Instant: Instead of checking against a &quot;min&quot; value, you can specifically check against the &quot;null&quot; date you expect, which is &quot;0001-01-01T00:00:00Z&quot;.</p>\n</li>\n</ul>\n<p>An example would be:</p>\n<pre><code>\npublic class Main {\n    private static final Instant NULL_INSTANT = Instant.parse(&quot;0001-01-01T00:00:00Z&quot;);\n\n    public static void main(String[] args) {\n        String dateStr = &quot;0001-01-01T00:00:00Z&quot;;\n        Instant instant = Instant.parse(dateStr);\n\n        if (instant.equals(NULL_INSTANT)) {\n            System.out.println(&quot;This is the null date.&quot;);\n        } else {\n            System.out.println(&quot;This is a valid date.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The benefit of using a constant Instant (NULL_INSTANT) is that you define your null value in just one place, making your code easier to maintain and less prone to errors. If for any reason the null representation changes in the future, you would only have to change the value of NULL_INSTANT.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693082436,"creation_date":1693080756,"answer_id":76984688,"question_id":76981132,"body_markdown":"## tl;dr\r\n\r\nUse [`org.threeten.extra.Interval`][1] class, with its “unbounded” concept.\r\n\r\n```java\r\nif( \r\n    startInput.equals( &quot;0001-01-01T00:00:00Z&quot; ) \r\n) {\r\n    return Interval.endingAt( Instant.parse( endInput ) ) ;  // Start is “unbounded”. \r\n} \r\n```\r\n\r\n```java\r\nif ( interval.isUnboundedStart() ) { … }\r\n```\r\n\r\n## `org.threeten.extra.Interval`\r\n\r\nPerhaps a more sophisticated solution would be to redesign your app to leverage the [`Interval`][1] class found in the [*ThreeTen-Extra*][5] library. This library extends the *java.time* functionality built into Java. \r\n\r\nThe `Interval` class represents a span of time attached to the timeline. Objects of this class contain a pair of [`Instant`][6] objects, meaning the beginning and ending of the span. \r\n\r\n    Interval interval = \r\n        Interval.of(\r\n            Instant.parse( &quot;2023-08-26T00:30:00Z&quot; ) ,\r\n            Instant.parse( &quot;2023-08-26T02:30:00Z&quot; )\r\n        }\r\n    ;\r\n\r\nThe `Interval` class can generate (and parse) text in standard [ISO 8601 format][7].\r\n\r\n&gt;interval.toString(): 2023-08-26T00:30:00Z/2023-08-26T02:30:00Z\r\n\r\n### `Duration`\r\n\r\nYou can ask the `Interval` for a [`Duration`][8] of time elapsed. A `Duration` is a count of hours-minutes-seconds-nanos, that is, a span of time *not* attached to the timeline.\r\n\r\n    Duration duration = interval.toDuration() ;\r\n\r\nThe `Duration` class can generate (and parse) text in standard [ISO 8601 format][9].\r\n\r\n&gt;duration.toString(): PT2H\r\n\r\n### “unbounded” span\r\n\r\nYour input processor can produce an `Interval` object where either the start or the end is missing. The `Interval` class represents &quot;missing&quot; by using [`Instant.MIN`][10] &amp; [`Instant.MAX`][11] rather than `null`. Such a value marks the `Interval` as “unbounded”. \r\n\r\n    // Input processor returns an `Interval` object.\r\n    final String NULL_FLAG = &quot;0001-01-01T00:00:00Z&quot; ;\r\n\r\n    if( \r\n        startInput.equals( NULL_FLAG ) &amp;&amp; endInput.equals( NULL_FLAG )\r\n    ) {\r\n        return Interval.ALL ;  // An interval over the whole time-line, from Instant.MIN to Instant.MAX.\r\n    } \r\n\r\n    if( \r\n        startInput.equals( NULL_FLAG ) \r\n    ) {\r\n        return Interval.endingAt( Instant.parse( endInput ) ) ;\r\n    } \r\n\r\n    if( \r\n        endInput.equals( NULL_FLAG ) \r\n    ) {\r\n        return Interval.startingAt( Instant.parse( endInput ) ) ;\r\n    } \r\n\r\n    return \r\n        Interval.of(\r\n            Instant.parse( startInput ) ,\r\n            Instant.parse( endInput )\r\n        }\r\n    ;\r\n\r\nThe calling code can then inspect the `Interval` object. That class offers methods to detect if either the start and/or end is “unbounded”, that is, holds `Instant.MIN` or `Instant.MAX` respectively.\r\n\r\n    if ( interval.isUnboundedStart() ) { … }\r\n    if ( interval.isUnboundedEnd() ) { … }\r\n\r\n### Other handy methods\r\n\r\nYou may find other methods on that class to be useful.\r\n\r\n    if ( interval.isEmpty() ) { … }  // Start and end are the same moment.\r\n\r\nTo get the very earliest start and the latest end, combine the intervals. Then interrogate for the resulting combo interval’s start and end.\r\n\r\n    Interval combo = intervalX.union( intervalY ).union( intervalZ ) ;\r\n    if ( combo.isEmpty() ) { … }                // The start equals the end.\r\n    else if ( combo.isUnboundedStart() ) { … }  // The start is `Instant.MIN`.\r\n    else if ( combo.isUnboundedEnd() ) { … }    // The end is `Instant.MAX`.\r\n    else {\r\n        Instant earliestStart = combo.getStart() ;\r\n        Instant latestEnd = combo.getEnd() ;\r\n    }\r\n\r\n\r\n  [1]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\r\n  [2]: https://stackoverflow.com/a/76981183/642706\r\n  [3]: https://stackoverflow.com/questions/76981132/safe-way-to-check-0001-01-01t000000z-in-java#comment135708930_76981132\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html\r\n  [5]: https://www.threeten.org/threeten-extra/\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html\r\n  [7]: https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Duration.html\r\n  [9]: https://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [10]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#MIN\r\n  [11]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#MAX","title":"Safe way to check &quot;0001-01-01T00:00:00Z&quot; in java?","body":"<h2>tl;dr</h2>\n<p>Use <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>org.threeten.extra.Interval</code></a> class, with its “unbounded” concept.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if( \n    startInput.equals( &quot;0001-01-01T00:00:00Z&quot; ) \n) {\n    return Interval.endingAt( Instant.parse( endInput ) ) ;  // Start is “unbounded”. \n} \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>if ( interval.isUnboundedStart() ) { … }\n</code></pre>\n<h2><code>org.threeten.extra.Interval</code></h2>\n<p>Perhaps a more sophisticated solution would be to redesign your app to leverage the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> class found in the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library. This library extends the <em>java.time</em> functionality built into Java.</p>\n<p>The <code>Interval</code> class represents a span of time attached to the timeline. Objects of this class contain a pair of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> objects, meaning the beginning and ending of the span.</p>\n<pre><code>Interval interval = \n    Interval.of(\n        Instant.parse( &quot;2023-08-26T00:30:00Z&quot; ) ,\n        Instant.parse( &quot;2023-08-26T02:30:00Z&quot; )\n    }\n;\n</code></pre>\n<p>The <code>Interval</code> class can generate (and parse) text in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\" rel=\"nofollow noreferrer\">ISO 8601 format</a>.</p>\n<blockquote>\n<p>interval.toString(): 2023-08-26T00:30:00Z/2023-08-26T02:30:00Z</p>\n</blockquote>\n<h3><code>Duration</code></h3>\n<p>You can ask the <code>Interval</code> for a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> of time elapsed. A <code>Duration</code> is a count of hours-minutes-seconds-nanos, that is, a span of time <em>not</em> attached to the timeline.</p>\n<pre><code>Duration duration = interval.toDuration() ;\n</code></pre>\n<p>The <code>Duration</code> class can generate (and parse) text in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO 8601 format</a>.</p>\n<blockquote>\n<p>duration.toString(): PT2H</p>\n</blockquote>\n<h3>“unbounded” span</h3>\n<p>Your input processor can produce an <code>Interval</code> object where either the start or the end is missing. The <code>Interval</code> class represents &quot;missing&quot; by using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#MIN\" rel=\"nofollow noreferrer\"><code>Instant.MIN</code></a> &amp; <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#MAX\" rel=\"nofollow noreferrer\"><code>Instant.MAX</code></a> rather than <code>null</code>. Such a value marks the <code>Interval</code> as “unbounded”.</p>\n<pre><code>// Input processor returns an `Interval` object.\nfinal String NULL_FLAG = &quot;0001-01-01T00:00:00Z&quot; ;\n\nif( \n    startInput.equals( NULL_FLAG ) &amp;&amp; endInput.equals( NULL_FLAG )\n) {\n    return Interval.ALL ;  // An interval over the whole time-line, from Instant.MIN to Instant.MAX.\n} \n\nif( \n    startInput.equals( NULL_FLAG ) \n) {\n    return Interval.endingAt( Instant.parse( endInput ) ) ;\n} \n\nif( \n    endInput.equals( NULL_FLAG ) \n) {\n    return Interval.startingAt( Instant.parse( endInput ) ) ;\n} \n\nreturn \n    Interval.of(\n        Instant.parse( startInput ) ,\n        Instant.parse( endInput )\n    }\n;\n</code></pre>\n<p>The calling code can then inspect the <code>Interval</code> object. That class offers methods to detect if either the start and/or end is “unbounded”, that is, holds <code>Instant.MIN</code> or <code>Instant.MAX</code> respectively.</p>\n<pre><code>if ( interval.isUnboundedStart() ) { … }\nif ( interval.isUnboundedEnd() ) { … }\n</code></pre>\n<h3>Other handy methods</h3>\n<p>You may find other methods on that class to be useful.</p>\n<pre><code>if ( interval.isEmpty() ) { … }  // Start and end are the same moment.\n</code></pre>\n<p>To get the very earliest start and the latest end, combine the intervals. Then interrogate for the resulting combo interval’s start and end.</p>\n<pre><code>Interval combo = intervalX.union( intervalY ).union( intervalZ ) ;\nif ( combo.isEmpty() ) { … }                // The start equals the end.\nelse if ( combo.isUnboundedStart() ) { … }  // The start is `Instant.MIN`.\nelse if ( combo.isUnboundedEnd() ) { … }    // The end is `Instant.MAX`.\nelse {\n    Instant earliestStart = combo.getStart() ;\n    Instant latestEnd = combo.getEnd() ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693082566,"creation_date":1693082566,"answer_id":76984772,"question_id":76981132,"body_markdown":"## `Optional` wrapper\r\n\r\nI like the [Answer by Benitez][2]. And I like the [Comment by Ole V.V.][3] suggesting you do proper input validation up front, before your business logic.\r\n\r\nIn combining those ideas, I think of using [`Optional`][4]. Process inputs first, detecting the value meant to indicate a null date-time value. The input processor returns an empty `Optional` for such null-indicative strings. Otherwise the input processor returns an `Optional` whose payload is a `Instant` object. \r\n\r\n    // Input processor\r\n    // Returns Optional &lt; Instant &gt;\r\n    if( input.equals( &quot;0001-01-01T00:00:00Z&quot; ) ) {\r\n        return Optional.empty() ;\r\n    } else {\r\n        return Optional.of( Instant.parse( input ) ) ;\r\n    }\r\n\r\nThe use of `Optional` forces the calling methods to deal with the fact that the `Instant` they expect may not be present. Perhaps this is what you meant by “safe”. \r\n\r\n\r\n  [2]: https://stackoverflow.com/a/76981183/642706\r\n  [3]: https://stackoverflow.com/questions/76981132/safe-way-to-check-0001-01-01t000000z-in-java#comment135708930_76981132\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html","title":"Safe way to check &quot;0001-01-01T00:00:00Z&quot; in java?","body":"<h2><code>Optional</code> wrapper</h2>\n<p>I like the <a href=\"https://stackoverflow.com/a/76981183/642706\">Answer by Benitez</a>. And I like the <a href=\"https://stackoverflow.com/questions/76981132/safe-way-to-check-0001-01-01t000000z-in-java#comment135708930_76981132\">Comment by Ole V.V.</a> suggesting you do proper input validation up front, before your business logic.</p>\n<p>In combining those ideas, I think of using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a>. Process inputs first, detecting the value meant to indicate a null date-time value. The input processor returns an empty <code>Optional</code> for such null-indicative strings. Otherwise the input processor returns an <code>Optional</code> whose payload is a <code>Instant</code> object.</p>\n<pre><code>// Input processor\n// Returns Optional &lt; Instant &gt;\nif( input.equals( &quot;0001-01-01T00:00:00Z&quot; ) ) {\n    return Optional.empty() ;\n} else {\n    return Optional.of( Instant.parse( input ) ) ;\n}\n</code></pre>\n<p>The use of <code>Optional</code> forces the calling methods to deal with the fact that the <code>Instant</code> they expect may not be present. Perhaps this is what you meant by “safe”.</p>\n"}],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1693082566,"creation_date":1693009205,"question_id":76981132,"body_markdown":"I have a service that processes incoming events with some date time fields.\r\n\r\nThey come in this kind of format: &quot;2023-08-26T00:30:00Z&quot;. When the date is undefined, it comes in like this &quot;0001-01-01T00:00:00Z&quot;. Basically it is their way of representing null.\r\n\r\nWhat is a safe way for me to check for this in our app? I emphasize safe because if the condition I use does not work properly, it can cause a big problem. The reason for this is: we use this date value to determine a time interval for a sporting event. It is a heuristic that takes multiple date intervals, and merges them together. \r\n\r\nThe event comes in like this\r\n```\r\n&quot;event&quot; : {\r\n    &quot;game_time_windows&quot;: [\r\n        {\r\n            &quot;startTime&quot;: &quot;2023-08-26T00:30:00Z&quot;,\r\n            &quot;endTime&quot;: &quot;2023-08-26T02:30:00Z&quot;\r\n        },\r\n        {\r\n            &quot;startTime&quot;: &quot;2023-08-26T00:40:00Z&quot;,\r\n            &quot;endTime&quot;: &quot;2023-08-26T02:40:00Z&quot;\r\n        },\r\n        {\r\n            &quot;startTime&quot;: &quot;2023-08-26T00:50:00Z&quot;,\r\n            &quot;endTime&quot;: &quot;2023-08-26T02:50:00Z&quot;\r\n        }\r\n...\r\n    ]\r\n}\r\n```\r\n\r\nAnd then we merge them like so:\r\n```\r\nactual_game_start_time = min(startTime1, startTime2, ...)\r\nactual_game_end_time = max(endTime1, endTime2, ...)\r\n```\r\n\r\nSo if we accidentally parse the value &quot;0001-01-01T00:00:00Z&quot;, we risk getting a final result that has a start time of the beginning of time, and this has very bad repercussions in our application.\r\n\r\nI guess I am just hoping there is some strongly typed constant value that I can check against in java so I don&#39;t have to solve this issue myself, something like:\r\n```\r\nimport java.util.Date;\r\nimport java.time.Instant;\r\n\r\nString dateStr = &quot;0001-01-01T00:00:00Z&quot;;\r\nDate dt = Date.from(Instant.parse(dateStr));\r\nif (dt.equals(Date.MIN_VALUE)) {\r\n    // don&#39;t process this value\r\n}\r\n```\r\n\r\nI thought about checking the year, even though `getYear()` in `java.util.Date` is deprecated, but it does not seem to work well...\r\n\r\n```\r\nString dateStr = &quot;0001-01-01T00:00:00Z&quot;;\r\nDate dt = Date.from(Instant.parse(dateStr));\r\nSystem.out.println(dt.getYear());\r\n// output: -1899\r\n```","title":"Safe way to check &quot;0001-01-01T00:00:00Z&quot; in java?","body":"<p>I have a service that processes incoming events with some date time fields.</p>\n<p>They come in this kind of format: &quot;2023-08-26T00:30:00Z&quot;. When the date is undefined, it comes in like this &quot;0001-01-01T00:00:00Z&quot;. Basically it is their way of representing null.</p>\n<p>What is a safe way for me to check for this in our app? I emphasize safe because if the condition I use does not work properly, it can cause a big problem. The reason for this is: we use this date value to determine a time interval for a sporting event. It is a heuristic that takes multiple date intervals, and merges them together.</p>\n<p>The event comes in like this</p>\n<pre><code>&quot;event&quot; : {\n    &quot;game_time_windows&quot;: [\n        {\n            &quot;startTime&quot;: &quot;2023-08-26T00:30:00Z&quot;,\n            &quot;endTime&quot;: &quot;2023-08-26T02:30:00Z&quot;\n        },\n        {\n            &quot;startTime&quot;: &quot;2023-08-26T00:40:00Z&quot;,\n            &quot;endTime&quot;: &quot;2023-08-26T02:40:00Z&quot;\n        },\n        {\n            &quot;startTime&quot;: &quot;2023-08-26T00:50:00Z&quot;,\n            &quot;endTime&quot;: &quot;2023-08-26T02:50:00Z&quot;\n        }\n...\n    ]\n}\n</code></pre>\n<p>And then we merge them like so:</p>\n<pre><code>actual_game_start_time = min(startTime1, startTime2, ...)\nactual_game_end_time = max(endTime1, endTime2, ...)\n</code></pre>\n<p>So if we accidentally parse the value &quot;0001-01-01T00:00:00Z&quot;, we risk getting a final result that has a start time of the beginning of time, and this has very bad repercussions in our application.</p>\n<p>I guess I am just hoping there is some strongly typed constant value that I can check against in java so I don't have to solve this issue myself, something like:</p>\n<pre><code>import java.util.Date;\nimport java.time.Instant;\n\nString dateStr = &quot;0001-01-01T00:00:00Z&quot;;\nDate dt = Date.from(Instant.parse(dateStr));\nif (dt.equals(Date.MIN_VALUE)) {\n    // don't process this value\n}\n</code></pre>\n<p>I thought about checking the year, even though <code>getYear()</code> in <code>java.util.Date</code> is deprecated, but it does not seem to work well...</p>\n<pre><code>String dateStr = &quot;0001-01-01T00:00:00Z&quot;;\nDate dt = Date.from(Instant.parse(dateStr));\nSystem.out.println(dt.getYear());\n// output: -1899\n</code></pre>\n"},{"tags":["java","generics","enums"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693062917,"post_id":76983559,"comment_id":135711782,"body_markdown":"Nah, even though `FOO` and `BAR` are classes, they&#39;re synthetic enum classes so you can&#39;t tie them into generics.","body":"Nah, even though <code>FOO</code> and <code>BAR</code> are classes, they&#39;re synthetic enum classes so you can&#39;t tie them into generics."},{"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"score":0,"creation_date":1693063016,"post_id":76983559,"comment_id":135711788,"body_markdown":"So there is absolutely no way to tie the `U` in put to the param in the enum values?","body":"So there is absolutely no way to tie the <code>U</code> in put to the param in the enum values?"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":0,"creation_date":1693063036,"post_id":76983559,"comment_id":135711790,"body_markdown":"What version of Java do you use ?","body":"What version of Java do you use ?"},{"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"score":0,"creation_date":1693063244,"post_id":76983559,"comment_id":135711809,"body_markdown":"I&#39;m using Java 17","body":"I&#39;m using Java 17"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693063288,"post_id":76983559,"comment_id":135711817,"body_markdown":"No, the enum values aren&#39;t even proper classes they&#39;re instances of the enum as seen [here](https://stackoverflow.com/q/31039980/2541560). I remembered that they were subclasses like `Enum$FOO` but they&#39;re actually instances and you can&#39;t work with instances in generics.","body":"No, the enum values aren&#39;t even proper classes they&#39;re instances of the enum as seen <a href=\"https://stackoverflow.com/q/31039980/2541560\">here</a>. I remembered that they were subclasses like <code>Enum$FOO</code> but they&#39;re actually instances and you can&#39;t work with instances in generics."},{"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"score":0,"creation_date":1693063370,"post_id":76983559,"comment_id":135711826,"body_markdown":"I know that there are instances. But without proper case classes added to Java I won&#39;t be able to get my type checking right?","body":"I know that there are instances. But without proper case classes added to Java I won&#39;t be able to get my type checking right?"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":0,"creation_date":1693063379,"post_id":76983559,"comment_id":135711828,"body_markdown":"As @Kayaman wrote, this is not possible with enum. You could used sealed interface. This is not an enum but it has some kin of &quot;enumeration&quot; property.","body":"As @Kayaman wrote, this is not possible with enum. You could used sealed interface. This is not an enum but it has some kin of &quot;enumeration&quot; property."},{"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"score":0,"creation_date":1693063442,"post_id":76983559,"comment_id":135711836,"body_markdown":"But with sealed interfaces the syntax will become a lot more cluttered, I wanted to keep it simple :/","body":"But with sealed interfaces the syntax will become a lot more cluttered, I wanted to keep it simple :/"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":1,"creation_date":1693063532,"post_id":76983559,"comment_id":135711846,"body_markdown":"Then, forget enum. Define ParamType with a generic, and instantiate instances directly in the interface  as static members.","body":"Then, forget enum. Define ParamType with a generic, and instantiate instances directly in the interface  as static members."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693076086,"post_id":76983559,"comment_id":135713316,"body_markdown":"I agree with Bastien.  Make your own pseudo-enum class with a private constructor and public static members that each have their own generic type.  An example of this is [StandardSocketOptions](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/StandardSocketOptions.html).","body":"I agree with Bastien.  Make your own pseudo-enum class with a private constructor and public static members that each have their own generic type.  An example of this is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/StandardSocketOptions.html\" rel=\"nofollow noreferrer\">StandardSocketOptions</a>."}],"answers":[{"comments":[{"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"score":1,"creation_date":1693089350,"post_id":76984724,"comment_id":135714585,"body_markdown":"So disappointing, thank you for the answer.","body":"So disappointing, thank you for the answer."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1693091768,"post_id":76984724,"comment_id":135714744,"body_markdown":"You and me both. I said in the mailing list, but if it weren&#39;t for this, I think enums would be perfect. This is literally their single, solitary flaw. And Java has better enums than literally any other non-JDK language out there. One of the few things Java can claim to be unparalleled at.","body":"You and me both. I said in the mailing list, but if it weren&#39;t for this, I think enums would be perfect. This is literally their single, solitary flaw. And Java has better enums than literally any other non-JDK language out there. One of the few things Java can claim to be unparalleled at."}],"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693081657,"creation_date":1693081657,"answer_id":76984724,"question_id":76983559,"body_markdown":"You are asking a very similar question to what I asked a while ago.\r\n\r\nLong story short, the current makers of Java are ***well aware of this issue***, and they tried to fix it, but decided that it was too much effort a few years back.\r\n\r\nHere is a link to their official attempt -- https://openjdk.org/jeps/301\r\n\r\nHere is a link to where they announced that they were giving up -- https://mail.openjdk.org/pipermail/amber-spec-experts/2017-May/000041.html\r\n\r\nHere is their second attempt -- https://mail.openjdk.org/pipermail/amber-spec-experts/2018-December/000876.html\r\n\r\nHere is me asking them for more context -- https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7914\r\n\r\nAs well as here -- https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7932","title":"Generics in enum for complex type checking","body":"<p>You are asking a very similar question to what I asked a while ago.</p>\n<p>Long story short, the current makers of Java are <em><strong>well aware of this issue</strong></em>, and they tried to fix it, but decided that it was too much effort a few years back.</p>\n<p>Here is a link to their official attempt -- <a href=\"https://openjdk.org/jeps/301\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/301</a></p>\n<p>Here is a link to where they announced that they were giving up -- <a href=\"https://mail.openjdk.org/pipermail/amber-spec-experts/2017-May/000041.html\" rel=\"nofollow noreferrer\">https://mail.openjdk.org/pipermail/amber-spec-experts/2017-May/000041.html</a></p>\n<p>Here is their second attempt -- <a href=\"https://mail.openjdk.org/pipermail/amber-spec-experts/2018-December/000876.html\" rel=\"nofollow noreferrer\">https://mail.openjdk.org/pipermail/amber-spec-experts/2018-December/000876.html</a></p>\n<p>Here is me asking them for more context -- <a href=\"https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7914\" rel=\"nofollow noreferrer\">https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7914</a></p>\n<p>As well as here -- <a href=\"https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7932\" rel=\"nofollow noreferrer\">https://mail.openjdk.org/pipermail/amber-dev/2023-March/thread.html#7932</a></p>\n"}],"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76984724,"answer_count":1,"score":2,"last_activity_date":1693081657,"creation_date":1693062662,"question_id":76983559,"body_markdown":"I got in this situation recently where I was creating a system of defined arguments to be provided to build messages based on an enum to ensure that every element is present in the dynamic args and so that the types are correctly checked on the arguments not to provide a nonsensical arg. \r\n\r\nHere is my code:\r\n\r\n```java\r\ninterface ParamList { Class&lt;?&gt; paramType(); }\r\n```\r\n\r\n```java\r\n@AllArgsConstructor\r\nenum ParamType extends ParamList {\r\n    FOO(Foo.class),\r\n    BAR(Bar.class);\r\n\r\n    @Getter\r\n    private final Class&lt;?&gt; paramType;\r\n}\r\n```\r\n\r\n```java\r\nclass MessageParams&lt;T extends Enum&lt;T&gt; &amp; ParamList&gt; {\r\n\r\n    private Map&lt;T, Object&gt; args;\r\n\r\n    // constructor...\r\n\r\n    public &lt;U&gt; MessageArgs&lt;T&gt; put(T key, U value) {\r\n        args.put(key, value);\r\n        return this;\r\n    }\r\n\r\n    // get...\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nMy problem is int he last class: `MessageParams`. I wonder if I could enforce the `U value` to be the `paramType()` of the provided `T` at compile-time (I omitted here my runtime check) so that I don&#39;t need to explicitly provide the generic when calling put to get correct hinting.\r\n\r\n","title":"Generics in enum for complex type checking","body":"<p>I got in this situation recently where I was creating a system of defined arguments to be provided to build messages based on an enum to ensure that every element is present in the dynamic args and so that the types are correctly checked on the arguments not to provide a nonsensical arg.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ParamList { Class&lt;?&gt; paramType(); }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\nenum ParamType extends ParamList {\n    FOO(Foo.class),\n    BAR(Bar.class);\n\n    @Getter\n    private final Class&lt;?&gt; paramType;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class MessageParams&lt;T extends Enum&lt;T&gt; &amp; ParamList&gt; {\n\n    private Map&lt;T, Object&gt; args;\n\n    // constructor...\n\n    public &lt;U&gt; MessageArgs&lt;T&gt; put(T key, U value) {\n        args.put(key, value);\n        return this;\n    }\n\n    // get...\n}\n</code></pre>\n<p>My problem is int he last class: <code>MessageParams</code>. I wonder if I could enforce the <code>U value</code> to be the <code>paramType()</code> of the provided <code>T</code> at compile-time (I omitted here my runtime check) so that I don't need to explicitly provide the generic when calling put to get correct hinting.</p>\n"},{"tags":["java","parsing","jsoup"],"answers":[{"tags":[],"owner":{"account_id":323244,"reputation":11569,"user_id":643141,"display_name":"Hauke Ingmar Schmidt"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1327435801,"creation_date":1327435801,"answer_id":8993397,"question_id":8993115,"body_markdown":"This\r\n\r\n    Elements divs = doc.select(&quot;article &gt; a[href] &gt; span[class=mick vtEnabled]&quot;);\r\n\r\nselects the div with the two classes.","title":"jSoup to check if a span class exists","body":"<p>This</p>\n\n<pre><code>Elements divs = doc.select(\"article &gt; a[href] &gt; span[class=mick vtEnabled]\");\n</code></pre>\n\n<p>selects the div with the two classes.</p>\n"},{"tags":[],"owner":{"account_id":431536,"reputation":2527,"user_id":815672,"accept_rate":50,"display_name":"Rodrigo Gauzmanf"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1328362311,"creation_date":1328362311,"answer_id":9141242,"question_id":8993115,"body_markdown":"\tElement span = doc.select(&quot;article.cik &gt; a.ci &gt; span.mick.vtEnabled&quot;).first();\r\n\tif(span != null){\r\n\t\tSystem.out.println(&quot;Exist!!&quot;);\r\n\t}\r\n\telse {\r\n\t\tSystem.out.println(&quot;No Span :(&quot;);\r\n\t}\r\n","title":"jSoup to check if a span class exists","body":"<pre><code>Element span = doc.select(\"article.cik &gt; a.ci &gt; span.mick.vtEnabled\").first();\nif(span != null){\n    System.out.println(\"Exist!!\");\n}\nelse {\n    System.out.println(\"No Span :(\");\n}\n</code></pre>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9274,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8993397,"answer_count":2,"score":4,"last_activity_date":1693081351,"creation_date":1327434525,"question_id":8993115,"body_markdown":"I have a HTML with the following format\r\n\r\n\r\n    &lt;article class=&quot;cik&quot; id=&quot;100&quot;&gt;\r\n      &lt;a class=&quot;ci&quot; href=&quot;/abc/1001/STUFF&quot;&gt;\r\n        &lt;img alt=&quot;Micky Mouse&quot; src=&quot;/images/1001.jpg&quot; /&gt;\r\n        &lt;span class=&quot;mick vtEnabled&quot;&gt;&lt;/span&gt;\r\n      &lt;/a&gt;\r\n    \r\n      &lt;div&gt;\r\n        &lt;a href=&quot;/abc/1001/STUFF&quot;&gt;Micky Mouse&lt;/a&gt;\r\n        &lt;span class=&quot;FP&quot;&gt;$88.00&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;span class=&quot;SP&quot;&gt;$49.90&lt;/span&gt;       \r\n      &lt;/div&gt;\r\n    &lt;/article&gt;\r\n\r\nIn the above code the &lt;a&gt; tag inside article has a span ```class=&quot;mick vtEnabled&quot;``` with no label. I want to check if this span tag with the class name specified is present within the article tag. How do I do that?\r\n\r\nI tried ```select(&quot;&gt; a[href] &gt; span.mick vtEnabled&quot;)``` and checked the size..it remains 0 for all the article tags irrespective if its set or not. Any inputs?\r\n","title":"jSoup to check if a span class exists","body":"<p>I have a HTML with the following format</p>\n<pre><code>&lt;article class=&quot;cik&quot; id=&quot;100&quot;&gt;\n  &lt;a class=&quot;ci&quot; href=&quot;/abc/1001/STUFF&quot;&gt;\n    &lt;img alt=&quot;Micky Mouse&quot; src=&quot;/images/1001.jpg&quot; /&gt;\n    &lt;span class=&quot;mick vtEnabled&quot;&gt;&lt;/span&gt;\n  &lt;/a&gt;\n\n  &lt;div&gt;\n    &lt;a href=&quot;/abc/1001/STUFF&quot;&gt;Micky Mouse&lt;/a&gt;\n    &lt;span class=&quot;FP&quot;&gt;$88.00&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;span class=&quot;SP&quot;&gt;$49.90&lt;/span&gt;       \n  &lt;/div&gt;\n&lt;/article&gt;\n</code></pre>\n<p>In the above code the  tag inside article has a span <code>class=&quot;mick vtEnabled&quot;</code> with no label. I want to check if this span tag with the class name specified is present within the article tag. How do I do that?</p>\n<p>I tried <code>select(&quot;&gt; a[href] &gt; span.mick vtEnabled&quot;)</code> and checked the size..it remains 0 for all the article tags irrespective if its set or not. Any inputs?</p>\n"},{"tags":["java","scala","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693080703,"creation_date":1693080703,"answer_id":76984683,"question_id":76984137,"body_markdown":"Event time windows always need watermarks.\r\n\r\nIn the case you mention with `fromElements` it appears that there are no watermarks, but actually there are. Whenever a bounded source (such as `fromElements`) reaches the end of its input, it generates one final watermark with the value MAX_WATERMARK. This causes all pending timers to be triggered, thus closing any open windows.\r\n\r\nThis is done to provide the semantics expected for batch jobs, which is that they produce their results after having consumed all of the input.","title":"Flink - When not to inject watermarks? for windowing","body":"<p>Event time windows always need watermarks.</p>\n<p>In the case you mention with <code>fromElements</code> it appears that there are no watermarks, but actually there are. Whenever a bounded source (such as <code>fromElements</code>) reaches the end of its input, it generates one final watermark with the value MAX_WATERMARK. This causes all pending timers to be triggered, thus closing any open windows.</p>\n<p>This is done to provide the semantics expected for batch jobs, which is that they produce their results after having consumed all of the input.</p>\n"}],"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76984683,"answer_count":1,"score":0,"last_activity_date":1693080703,"creation_date":1693071586,"question_id":76984137,"body_markdown":"I learnt that, Windowing of any stream data uses water marks, as boundaries\r\n\r\n-------\r\n\r\n\r\nIn the below code from [answer](https://stackoverflow.com/a/49895802/3317808), there is no water mark injected in the generated stream(`fromElements()`)\r\n\r\n\r\n    case class Record( key: String, value: Int )\r\n    \r\n    object Job extends App\r\n    {\r\n      val env = StreamExecutionEnvironment.getExecutionEnvironment\r\n      val data = env.fromElements( Record(&quot;01&quot;,1), Record(&quot;02&quot;,2), Record(&quot;03&quot;,3), Record(&quot;04&quot;,4), Record(&quot;05&quot;,5) )\r\n      val step1 = data.filter( record =&gt; record.value % 3 != 0  ) // introduces some data loss\r\n      val step2 = data.map( r =&gt; Record( r.key, r.value * 2 ) )\r\n      val step3 = data.map( r =&gt; Record( r.key, r.value * 3 ) )\r\n      val merged = step1.union( step2, step3 )\r\n      val keyed = merged.keyBy(0)\r\n      val windowed = keyed.timeWindow( Time.milliseconds( 50 ) )\r\n      val triggered = windowed.trigger( new CountTriggerWithTimeout( 3, env.getStreamTimeCharacteristic ) )\r\n      val summed = triggered.sum( 1 )\r\n      summed.print()\r\n      env.execute(&quot;test&quot;)\r\n    }\r\n\r\n----------------\r\n\r\n\r\n--------------\r\n\r\n\r\nIn the below code,\r\n\r\nkafka events have been water marked:\r\n\r\n    env.fromSource(kafkaSource, new CustomWatermarkStrategy(), &quot;Kafka Source With Custom Watermark Strategy&quot;)\r\n\r\n\r\n-----------------\r\n\r\nQuestion:\r\nwhen to inject watermarks? and when not to\r\n\r\n","title":"Flink - When not to inject watermarks? for windowing","body":"<p>I learnt that, Windowing of any stream data uses water marks, as boundaries</p>\n<hr />\n<p>In the below code from <a href=\"https://stackoverflow.com/a/49895802/3317808\">answer</a>, there is no water mark injected in the generated stream(<code>fromElements()</code>)</p>\n<pre><code>case class Record( key: String, value: Int )\n\nobject Job extends App\n{\n  val env = StreamExecutionEnvironment.getExecutionEnvironment\n  val data = env.fromElements( Record(&quot;01&quot;,1), Record(&quot;02&quot;,2), Record(&quot;03&quot;,3), Record(&quot;04&quot;,4), Record(&quot;05&quot;,5) )\n  val step1 = data.filter( record =&gt; record.value % 3 != 0  ) // introduces some data loss\n  val step2 = data.map( r =&gt; Record( r.key, r.value * 2 ) )\n  val step3 = data.map( r =&gt; Record( r.key, r.value * 3 ) )\n  val merged = step1.union( step2, step3 )\n  val keyed = merged.keyBy(0)\n  val windowed = keyed.timeWindow( Time.milliseconds( 50 ) )\n  val triggered = windowed.trigger( new CountTriggerWithTimeout( 3, env.getStreamTimeCharacteristic ) )\n  val summed = triggered.sum( 1 )\n  summed.print()\n  env.execute(&quot;test&quot;)\n}\n</code></pre>\n<hr />\n<hr />\n<p>In the below code,</p>\n<p>kafka events have been water marked:</p>\n<pre><code>env.fromSource(kafkaSource, new CustomWatermarkStrategy(), &quot;Kafka Source With Custom Watermark Strategy&quot;)\n</code></pre>\n<hr />\n<p>Question:\nwhen to inject watermarks? and when not to</p>\n"},{"tags":["java","spring","spring-security","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":6496784,"reputation":2573,"user_id":5029143,"accept_rate":82,"display_name":"SeaBiscuit"},"score":0,"creation_date":1457784052,"post_id":35957343,"comment_id":59570051,"body_markdown":"Try value=404 instead /pageNotFound see if that helps\nedited : value = /error","body":"Try value=404 instead /pageNotFound see if that helps edited : value = /error"},{"owner":{"account_id":6496784,"reputation":2573,"user_id":5029143,"accept_rate":82,"display_name":"SeaBiscuit"},"score":0,"creation_date":1457784517,"post_id":35957343,"comment_id":59570195,"body_markdown":"Did u try removing  `&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/pageNotFound&lt;/location&gt;\n&lt;/error-page&gt;\n\n&lt;error-page&gt;\n    &lt;error-code&gt;500&lt;/error-code&gt;\n    &lt;location&gt;/error&lt;/location&gt;\n&lt;/error-page&gt;`\nall together? I believe 404 will be resolved by default.\nAnyways i am gonna take a closer look at my config. when i get back to my pc.","body":"Did u try removing  <code>&lt;error-page&gt;     &lt;error-code&gt;404&lt;&#47;error-code&gt;     &lt;location&gt;&#47;pageNotFound&lt;&#47;location&gt; &lt;&#47;error-page&gt;  &lt;error-page&gt;     &lt;error-code&gt;500&lt;&#47;error-code&gt;     &lt;location&gt;&#47;error&lt;&#47;location&gt; &lt;&#47;error-page&gt;</code> all together? I believe 404 will be resolved by default. Anyways i am gonna take a closer look at my config. when i get back to my pc."}],"tags":[],"owner":{"account_id":6496784,"reputation":2573,"user_id":5029143,"accept_rate":82,"display_name":"SeaBiscuit"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457783803,"creation_date":1457783803,"answer_id":35957343,"question_id":35957040,"body_markdown":"Here you go \r\n\r\n    @RestController\r\n    public class RestErrorController implements ErrorController{\r\n\r\n\tprivate static final String PATH = &quot;/error&quot;;\r\n\t\r\n\t@Autowired\r\n    private ErrorAttributes errorAttributes;\r\n\t\r\n\t@RequestMapping(value=PATH,method=RequestMethod.GET)\r\n\tpublic ApiErrorExtended error(HttpServletRequest request, HttpServletResponse response){\r\n\t\t return new ApiErrorExtended( response.getStatus(),getErrorAttributes(request, true));\r\n\t}\r\n\t\r\n    private Map&lt;String, Object&gt; getErrorAttributes(HttpServletRequest request, boolean includeStackTrace) {\r\n        RequestAttributes requestAttributes = new ServletRequestAttributes(request);\r\n        return errorAttributes.getErrorAttributes(requestAttributes, includeStackTrace);\r\n    }  \r\n\r\n    public String getErrorPath() {\r\n        return PATH;\r\n    } \r\n    }\r\n\r\nThis is my rest error controller. You can modify it to return whatever u want. \r\n","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>Here you go </p>\n\n<pre><code>@RestController\npublic class RestErrorController implements ErrorController{\n\nprivate static final String PATH = \"/error\";\n\n@Autowired\nprivate ErrorAttributes errorAttributes;\n\n@RequestMapping(value=PATH,method=RequestMethod.GET)\npublic ApiErrorExtended error(HttpServletRequest request, HttpServletResponse response){\n     return new ApiErrorExtended( response.getStatus(),getErrorAttributes(request, true));\n}\n\nprivate Map&lt;String, Object&gt; getErrorAttributes(HttpServletRequest request, boolean includeStackTrace) {\n    RequestAttributes requestAttributes = new ServletRequestAttributes(request);\n    return errorAttributes.getErrorAttributes(requestAttributes, includeStackTrace);\n}  \n\npublic String getErrorPath() {\n    return PATH;\n} \n}\n</code></pre>\n\n<p>This is my rest error controller. You can modify it to return whatever u want. </p>\n"},{"comments":[{"owner":{"account_id":324114,"reputation":12953,"user_id":644518,"accept_rate":61,"display_name":"ajm"},"score":0,"creation_date":1457791343,"post_id":35958427,"comment_id":59572388,"body_markdown":"I am not using embedded tomcat. Will this still apply?","body":"I am not using embedded tomcat. Will this still apply?"},{"owner":{"account_id":7999707,"reputation":5543,"user_id":6034951,"display_name":"ekem chitsiga"},"score":0,"creation_date":1457940543,"post_id":35958427,"comment_id":59616651,"body_markdown":"What excpetion do you get when your remove the error pages in your web.xml.Probably Spring is throwing another exception wihich is not 404 due to a setup error. Post the error being displayed on tomcat`s default error page","body":"What excpetion do you get when your remove the error pages in your web.xml.Probably Spring is throwing another exception wihich is not 404 due to a setup error. Post the error being displayed on tomcat`s default error page"},{"owner":{"account_id":1014342,"reputation":2352,"user_id":3300205,"display_name":"avojak"},"score":1,"creation_date":1528381554,"post_id":35958427,"comment_id":88495096,"body_markdown":"Ironically that link is now dead.","body":"Ironically that link is now dead."},{"owner":{"account_id":4903002,"reputation":1493,"user_id":3950587,"accept_rate":100,"display_name":"Shailesh Vikram Singh"},"score":0,"creation_date":1643125487,"post_id":35958427,"comment_id":125253787,"body_markdown":"EmbeddedServletContainerCustomizer is not available in Spring Boot 2","body":"EmbeddedServletContainerCustomizer is not available in Spring Boot 2"}],"tags":[],"owner":{"account_id":5064545,"reputation":317,"user_id":4064957,"accept_rate":0,"display_name":"sahmada"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1458240378,"creation_date":1457790495,"answer_id":35958427,"question_id":35957040,"body_markdown":"Whould you like to add this `@Bean` to your spring application config, like this :\r\n\r\n    @Bean\r\n    public EmbeddedServletContainerCustomizer containerCustomizer() {\r\n        return new EmbeddedServletContainerCustomizer() {\r\n            @Override\r\n            public void customize(ConfigurableEmbeddedServletContainer container) {\r\n    \r\n                ErrorPage error404Page = new ErrorPage(HttpStatus.NOT_FOUND, &quot;/error404.html&quot;);\r\n                container.addErrorPages(error404Page);\r\n    \r\n            }\r\n        };\r\n    }\r\n\r\nand put `error404.html` in your static folder.\r\n\r\nReference :\r\nhttp://www.sporcic.org/2014/05/custom-error-pages-with-spring-boot/","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>Whould you like to add this <code>@Bean</code> to your spring application config, like this :</p>\n\n<pre><code>@Bean\npublic EmbeddedServletContainerCustomizer containerCustomizer() {\n    return new EmbeddedServletContainerCustomizer() {\n        @Override\n        public void customize(ConfigurableEmbeddedServletContainer container) {\n\n            ErrorPage error404Page = new ErrorPage(HttpStatus.NOT_FOUND, \"/error404.html\");\n            container.addErrorPages(error404Page);\n\n        }\n    };\n}\n</code></pre>\n\n<p>and put <code>error404.html</code> in your static folder.</p>\n\n<p>Reference :\n<a href=\"http://www.sporcic.org/2014/05/custom-error-pages-with-spring-boot/\" rel=\"nofollow\">http://www.sporcic.org/2014/05/custom-error-pages-with-spring-boot/</a></p>\n"},{"comments":[{"owner":{"account_id":324114,"reputation":12953,"user_id":644518,"accept_rate":61,"display_name":"ajm"},"score":0,"creation_date":1458026229,"post_id":36004709,"comment_id":59661429,"body_markdown":"I have tried that also. Does not work. Actually, it used to work in other non spring boot apps.","body":"I have tried that also. Does not work. Actually, it used to work in other non spring boot apps."}],"tags":[],"owner":{"account_id":1737078,"reputation":19,"user_id":1589388,"display_name":"tisboy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458025883,"creation_date":1458025883,"answer_id":36004709,"question_id":35957040,"body_markdown":"hi，you only need to configure the following:\r\n \r\n\r\n    &lt;error-page&gt;\r\n         &lt;error-code&gt;404&lt;/error-code&gt;\r\n         &lt;location&gt;/pageNotFound/404.jsp&lt;/location&gt;\r\n     &lt;/error-page&gt;\r\nand you configure the Java exception:\r\n\r\n    &lt;error-page&gt;\r\n     &lt;exception-type&gt;java.lang.Exception&lt;/exception-type&gt;\r\n     &lt;location&gt;/pageNotFound/exception.jsp&lt;/location&gt;\r\n   &lt;/error-page&gt;\r\n","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>hi，you only need to configure the following:</p>\n\n<pre><code>&lt;error-page&gt;\n     &lt;error-code&gt;404&lt;/error-code&gt;\n     &lt;location&gt;/pageNotFound/404.jsp&lt;/location&gt;\n &lt;/error-page&gt;\n</code></pre>\n\n<p>and you configure the Java exception:</p>\n\n<pre><code>&lt;error-page&gt;\n &lt;exception-type&gt;java.lang.Exception&lt;/exception-type&gt;\n &lt;location&gt;/pageNotFound/exception.jsp&lt;/location&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1460117472,"creation_date":1458146519,"answer_id":36041798,"question_id":35957040,"body_markdown":"First off, define an exception for each especial HTTP error you&#39;re going to handle. Here i&#39;m just defining one for handling `404 Not Found` case:\r\n\r\n    public class NotFoundException extends RuntimeException {}\r\nTo replace the default Spring Boot&#39;s error handling mechanism completely, we can implement `ErrorController`. Instead of just implementing the `ErrorController`, here i&#39;m extending `AbstractErrorController`, which implements the `ErrorController` and provides some auxiliary methods like `getStatus()`. \r\n\r\nAnyway, the basic idea is to handle all errors using an endpoint, say `/error`, and throw those pre-defined exceptions in case of their corresponding HTTP status codes:\r\n\r\n    @Controller\r\n    public class CustomErrorController extends AbstractErrorController {\r\n        private static final String ERROR_PATH=  &quot;/error&quot;;\r\n    \r\n        @Autowired\r\n        public CustomErrorController(ErrorAttributes errorAttributes) {\r\n            super(errorAttributes);\r\n        }\r\n    \r\n        /**\r\n         * Just catching the {@linkplain NotFoundException} exceptions and render\r\n         * the 404.jsp error page.\r\n         */\r\n        @ExceptionHandler(NotFoundException.class)\r\n        public String notFound() {\r\n            return &quot;404&quot;;\r\n        }\r\n    \r\n        /**\r\n         * Responsible for handling all errors and throw especial exceptions\r\n         * for some HTTP status codes. Otherwise, it will return a map that\r\n         * ultimately will be converted to a json error.\r\n         */\r\n        @RequestMapping(ERROR_PATH)\r\n        public ResponseEntity&lt;?&gt; handleErrors(HttpServletRequest request) {\r\n            HttpStatus status = getStatus(request);\r\n    \r\n            if (status.equals(HttpStatus.NOT_FOUND))\r\n                throw new NotFoundException();\r\n    \r\n            return ResponseEntity.status(status).body(getErrorAttributes(request, false));\r\n        }\r\n    \r\n        @Override\r\n        public String getErrorPath() {\r\n            return ERROR_PATH;\r\n        }\r\n    }\r\nOf course, this solution is only suitable for *Traditional Deployment*. If you&#39;re planning to use an Embedded Servlet Container, you&#39;re better off defining an `EmbeddedServletContainerCustomizer`.","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>First off, define an exception for each especial HTTP error you're going to handle. Here i'm just defining one for handling <code>404 Not Found</code> case:</p>\n\n<pre><code>public class NotFoundException extends RuntimeException {}\n</code></pre>\n\n<p>To replace the default Spring Boot's error handling mechanism completely, we can implement <code>ErrorController</code>. Instead of just implementing the <code>ErrorController</code>, here i'm extending <code>AbstractErrorController</code>, which implements the <code>ErrorController</code> and provides some auxiliary methods like <code>getStatus()</code>. </p>\n\n<p>Anyway, the basic idea is to handle all errors using an endpoint, say <code>/error</code>, and throw those pre-defined exceptions in case of their corresponding HTTP status codes:</p>\n\n<pre><code>@Controller\npublic class CustomErrorController extends AbstractErrorController {\n    private static final String ERROR_PATH=  \"/error\";\n\n    @Autowired\n    public CustomErrorController(ErrorAttributes errorAttributes) {\n        super(errorAttributes);\n    }\n\n    /**\n     * Just catching the {@linkplain NotFoundException} exceptions and render\n     * the 404.jsp error page.\n     */\n    @ExceptionHandler(NotFoundException.class)\n    public String notFound() {\n        return \"404\";\n    }\n\n    /**\n     * Responsible for handling all errors and throw especial exceptions\n     * for some HTTP status codes. Otherwise, it will return a map that\n     * ultimately will be converted to a json error.\n     */\n    @RequestMapping(ERROR_PATH)\n    public ResponseEntity&lt;?&gt; handleErrors(HttpServletRequest request) {\n        HttpStatus status = getStatus(request);\n\n        if (status.equals(HttpStatus.NOT_FOUND))\n            throw new NotFoundException();\n\n        return ResponseEntity.status(status).body(getErrorAttributes(request, false));\n    }\n\n    @Override\n    public String getErrorPath() {\n        return ERROR_PATH;\n    }\n}\n</code></pre>\n\n<p>Of course, this solution is only suitable for <em>Traditional Deployment</em>. If you're planning to use an Embedded Servlet Container, you're better off defining an <code>EmbeddedServletContainerCustomizer</code>.</p>\n"},{"tags":[],"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693080556,"creation_date":1693080556,"answer_id":76984669,"question_id":35957040,"body_markdown":"For applications that do not use Spring MVC, you can use the ErrorPageRegistrar interface to directly register ErrorPages:\r\n\r\n    import org.springframework.boot.web.server.ErrorPage;\r\n    import org.springframework.boot.web.server.ErrorPageRegistrar;\r\n    import org.springframework.boot.web.server.ErrorPageRegistry;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpStatus;\r\n    \r\n    @Configuration(proxyBeanMethods = false)\r\n    public class MyErrorPagesConfiguration {\r\n    \r\n        @Bean\r\n        public ErrorPageRegistrar errorPageRegistrar() {\r\n            return this::registerErrorPages;\r\n        }\r\n    \r\n        private void registerErrorPages(ErrorPageRegistry registry) {\r\n            registry.addErrorPages(new ErrorPage(HttpStatus.BAD_REQUEST, &quot;/400.html&quot;));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.error-handling.error-pages-without-spring-mvc","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>For applications that do not use Spring MVC, you can use the ErrorPageRegistrar interface to directly register ErrorPages:</p>\n<pre><code>import org.springframework.boot.web.server.ErrorPage;\nimport org.springframework.boot.web.server.ErrorPageRegistrar;\nimport org.springframework.boot.web.server.ErrorPageRegistry;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpStatus;\n\n@Configuration(proxyBeanMethods = false)\npublic class MyErrorPagesConfiguration {\n\n    @Bean\n    public ErrorPageRegistrar errorPageRegistrar() {\n        return this::registerErrorPages;\n    }\n\n    private void registerErrorPages(ErrorPageRegistry registry) {\n        registry.addErrorPages(new ErrorPage(HttpStatus.BAD_REQUEST, &quot;/400.html&quot;));\n    }\n\n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.error-handling.error-pages-without-spring-mvc\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.error-handling.error-pages-without-spring-mvc</a></p>\n"}],"owner":{"account_id":324114,"reputation":12953,"user_id":644518,"accept_rate":61,"display_name":"ajm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16622,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":36041798,"answer_count":5,"score":8,"last_activity_date":1693080556,"creation_date":1457781948,"question_id":35957040,"body_markdown":"I am using java config in spring boot, spring security application. I have configured the error controller as below. But whenever, I enter an invalid URL it goes to `error.jsp`, which is configured to handle the errors in the application:\r\n\r\n\r\n    @Controller\r\n    public class AppErrorController implements ErrorController {\r\n    \r\n    \tprivate static final String PATH = &quot;/error&quot;;\r\n    \r\n    \t@RequestMapping(value = &quot;/pageNotFound&quot;, method = { RequestMethod.GET, RequestMethod.POST })\r\n    \tpublic String pageNotFound() {\r\n    \t\treturn &quot;pageNotFound&quot;;\r\n    \t}\r\n    \r\n    \t@RequestMapping(value = &quot;/accessDenied&quot;, method = { RequestMethod.GET, RequestMethod.POST })\r\n    \tpublic String accessDenied() {\r\n    \t\treturn &quot;accessDenied&quot;;\r\n    \t}\r\n    \r\n    \t@RequestMapping(value = PATH)\r\n    \tpublic String error() {\r\n    \t\treturn &quot;error&quot;;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getErrorPath() {\r\n    \t\treturn PATH;\r\n    \t}\r\n    }\r\n\r\nweb.xml\r\n\r\n\r\n    &lt;error-page&gt;\r\n    \t&lt;error-code&gt;404&lt;/error-code&gt;\r\n    \t&lt;location&gt;/pageNotFound&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n    \r\n    &lt;error-page&gt;\r\n    \t&lt;error-code&gt;500&lt;/error-code&gt;\r\n    \t&lt;location&gt;/error&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\n\r\n404 is never thrown when the invalid URL is entered.\r\n\r\nAlso, I am not using embedded tomcat. I am deploying war to the external tomcat. I have this in my `application.yml` file:\r\n\r\n\r\n    server:\r\n        error:\r\n            whitelabel:\r\n                enabled: false\r\n\r\n\r\nBelow is the log in case if I enter a invalid URL. There is no error. It just redirects to `/error` in case of invalid URL:\r\n\r\n\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@371ef2a3\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/donotexisturl&#39;; against &#39;/static/**&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/donotexisturl&#39;; against &#39;/i18n/**&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 1 of 13 in additional filter chain; firing Filter: &#39;WebAsyncManagerIntegrationFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 2 of 13 in additional filter chain; firing Filter: &#39;SecurityContextPersistenceFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] w.c.HttpSessionSecurityContextRepository : Obtained a valid SecurityContext from SPRING_SECURITY_CONTEXT: &#39;org.springframework.security.core.context.SecurityContextImpl@b8db0c9d: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname=&#39;Adam&#39;, lastname=&#39;Milne&#39;, email=&#39;adam.milne@abcd.com&#39;, roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName=&#39;roleList&#39;, moduleId=2, moduleName=&#39;role&#39;}, ModuleOperation{moduleOperationId=8, moduleOperationName=&#39;deleteUser&#39;, moduleId=1, moduleName=&#39;user&#39;}&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 3 of 13 in additional filter chain; firing Filter: &#39;HeaderWriterFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6e929f31\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 4 of 13 in additional filter chain; firing Filter: &#39;CsrfFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 5 of 13 in additional filter chain; firing Filter: &#39;LogoutFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &#39;GET /donotexisturl&#39; doesn&#39;t match &#39;POST /logout\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 6 of 13 in additional filter chain; firing Filter: &#39;UsernamePasswordAuthenticationFilter&#39;\r\n    2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &#39;GET /donotexisturl&#39; doesn&#39;t match &#39;POST /checklogin\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 7 of 13 in additional filter chain; firing Filter: &#39;ConcurrentSessionFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 8 of 13 in additional filter chain; firing Filter: &#39;RequestCacheAwareFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 9 of 13 in additional filter chain; firing Filter: &#39;SecurityContextHolderAwareRequestFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 10 of 13 in additional filter chain; firing Filter: &#39;AnonymousAuthenticationFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: &#39;org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname=&#39;Adam&#39;, lastname=&#39;Milne&#39;, email=&#39;adam.milne@abcd.com&#39;, roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName=&#39;roleList&#39;, moduleId=2, moduleName=&#39;role&#39;}, ModuleOperation{moduleOperationId=8, moduleOperationName=&#39;deleteUser&#39;, moduleId=1, moduleName=&#39;user&#39;}&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 11 of 13 in additional filter chain; firing Filter: &#39;SessionManagementFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 12 of 13 in additional filter chain; firing Filter: &#39;ExceptionTranslationFilter&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 13 of 13 in additional filter chain; firing Filter: &#39;FilterSecurityInterceptor&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &#39;GET /donotexisturl&#39; doesn&#39;t match &#39;POST /logout\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/donotexisturl&#39;; against &#39;/login**&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/donotexisturl&#39;; against &#39;/error**&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/donotexisturl&#39;; against &#39;/checklogin**&#39;\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /doNotExistURL; Attributes: [fullyAuthenticated]\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname=&#39;Adam&#39;, lastname=&#39;Milne&#39;, email=&#39;adam.milne@abcd.com&#39;, roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName=&#39;roleList&#39;, moduleId=2, moduleName=&#39;role&#39;}, ModuleOperation{moduleOperationId=8, moduleOperationName=&#39;deleteUser&#39;, moduleId=1, moduleName=&#39;user&#39;}\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6ad88564, returned: 1\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: org.springframework.security.access.vote.AuthenticatedVoter@19007bb6, returned: 0\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: com.sts.app.core.user.security.AccessDecisionVoterImpl@1465b821, returned: 1\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL reached end of additional filter chain; proceeding with original chain\r\n    2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : DispatcherServlet with name &#39;dispatcherServlet&#39; processing GET request for [/gen/doNotExistURL]\r\n    2016-03-15 10:02:45.063 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Looking up handler method for path /doNotExistURL\r\n    2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Did not find handler method for [/doNotExistURL]\r\n    2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : Matching patterns for request [/doNotExistURL] are [/**]\r\n    2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : URI Template variables for request [/doNotExistURL] are {}\r\n    2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapping [/doNotExistURL] to HandlerExecutionChain with handler [ResourceHttpRequestHandler [locations=[ServletContext resource [/], class path resource [META-INF/resources/], class path resource [resources/], class path resource [static/], class path resource [public/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@87dd2cb]]] and 1 interceptor\r\n    2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Last-Modified value for [/gen/doNotExistURL] is: -1\r\n    2016-03-15 10:02:45.077 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Null ModelAndView returned to DispatcherServlet with name &#39;dispatcherServlet&#39;: assuming HandlerAdapter completed request handling\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Successfully completed request\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@371ef2a3\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@20ae74b1\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/error&#39;; against &#39;/static/**&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &#39;/error&#39;; against &#39;/i18n/**&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 1 of 13 in additional filter chain; firing Filter: &#39;WebAsyncManagerIntegrationFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 2 of 13 in additional filter chain; firing Filter: &#39;SecurityContextPersistenceFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] w.c.HttpSessionSecurityContextRepository : Obtained a valid SecurityContext from SPRING_SECURITY_CONTEXT: &#39;org.springframework.security.core.context.SecurityContextImpl@b8db0c9d: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname=&#39;Adam&#39;, lastname=&#39;Milne&#39;, email=&#39;adam.milne@abcd.com&#39;, roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName=&#39;roleList&#39;, moduleId=2, moduleName=&#39;role&#39;}, ModuleOperation{moduleOperationId=8, moduleOperationName=&#39;deleteUser&#39;, moduleId=1, moduleName=&#39;user&#39;}&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 3 of 13 in additional filter chain; firing Filter: &#39;HeaderWriterFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 4 of 13 in additional filter chain; firing Filter: &#39;CsrfFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 5 of 13 in additional filter chain; firing Filter: &#39;LogoutFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &#39;GET /error&#39; doesn&#39;t match &#39;POST /logout\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 6 of 13 in additional filter chain; firing Filter: &#39;UsernamePasswordAuthenticationFilter&#39;\r\n    2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &#39;GET /error&#39; doesn&#39;t match &#39;POST /checklogin\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 7 of 13 in additional filter chain; firing Filter: &#39;ConcurrentSessionFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 8 of 13 in additional filter chain; firing Filter: &#39;RequestCacheAwareFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 9 of 13 in additional filter chain; firing Filter: &#39;SecurityContextHolderAwareRequestFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 10 of 13 in additional filter chain; firing Filter: &#39;AnonymousAuthenticationFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: &#39;org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname=&#39;Adam&#39;, lastname=&#39;Milne&#39;, email=&#39;adam.milne@abcd.com&#39;, roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName=&#39;roleList&#39;, moduleId=2, moduleName=&#39;role&#39;}, ModuleOperation{moduleOperationId=8, moduleOperationName=&#39;deleteUser&#39;, moduleId=1, moduleName=&#39;user&#39;}&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 11 of 13 in additional filter chain; firing Filter: &#39;SessionManagementFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 12 of 13 in additional filter chain; firing Filter: &#39;ExceptionTranslationFilter&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 13 of 13 in additional filter chain; firing Filter: &#39;FilterSecurityInterceptor&#39;\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : DispatcherServlet with name &#39;dispatcherServlet&#39; processing GET request for [/gen/error]\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Looking up handler method for path /error\r\n    2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Returning handler method [public java.lang.String com.sts.app.core.common.web.AppErrorController.error()]\r\n\r\n","title":"How to show custom 404 page when user enters invalid URL in spring boot application?","body":"<p>I am using java config in spring boot, spring security application. I have configured the error controller as below. But whenever, I enter an invalid URL it goes to <code>error.jsp</code>, which is configured to handle the errors in the application:</p>\n\n<pre><code>@Controller\npublic class AppErrorController implements ErrorController {\n\n    private static final String PATH = \"/error\";\n\n    @RequestMapping(value = \"/pageNotFound\", method = { RequestMethod.GET, RequestMethod.POST })\n    public String pageNotFound() {\n        return \"pageNotFound\";\n    }\n\n    @RequestMapping(value = \"/accessDenied\", method = { RequestMethod.GET, RequestMethod.POST })\n    public String accessDenied() {\n        return \"accessDenied\";\n    }\n\n    @RequestMapping(value = PATH)\n    public String error() {\n        return \"error\";\n    }\n\n    @Override\n    public String getErrorPath() {\n        return PATH;\n    }\n}\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/pageNotFound&lt;/location&gt;\n&lt;/error-page&gt;\n\n&lt;error-page&gt;\n    &lt;error-code&gt;500&lt;/error-code&gt;\n    &lt;location&gt;/error&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n\n<p>404 is never thrown when the invalid URL is entered.</p>\n\n<p>Also, I am not using embedded tomcat. I am deploying war to the external tomcat. I have this in my <code>application.yml</code> file:</p>\n\n<pre><code>server:\n    error:\n        whitelabel:\n            enabled: false\n</code></pre>\n\n<p>Below is the log in case if I enter a invalid URL. There is no error. It just redirects to <code>/error</code> in case of invalid URL:</p>\n\n<pre><code>2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.connector.RequestFacade@371ef2a3\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/donotexisturl'; against '/static/**'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/donotexisturl'; against '/i18n/**'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 1 of 13 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 2 of 13 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] w.c.HttpSessionSecurityContextRepository : Obtained a valid SecurityContext from SPRING_SECURITY_CONTEXT: 'org.springframework.security.core.context.SecurityContextImpl@b8db0c9d: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname='Adam', lastname='Milne', email='adam.milne@abcd.com', roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName='roleList', moduleId=2, moduleName='role'}, ModuleOperation{moduleOperationId=8, moduleOperationName='deleteUser', moduleId=1, moduleName='user'}'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 3 of 13 in additional filter chain; firing Filter: 'HeaderWriterFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6e929f31\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 4 of 13 in additional filter chain; firing Filter: 'CsrfFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 5 of 13 in additional filter chain; firing Filter: 'LogoutFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /donotexisturl' doesn't match 'POST /logout\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 6 of 13 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'\n2016-03-15 10:02:45.061 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /donotexisturl' doesn't match 'POST /checklogin\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 7 of 13 in additional filter chain; firing Filter: 'ConcurrentSessionFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 8 of 13 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 9 of 13 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 10 of 13 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname='Adam', lastname='Milne', email='adam.milne@abcd.com', roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName='roleList', moduleId=2, moduleName='role'}, ModuleOperation{moduleOperationId=8, moduleOperationName='deleteUser', moduleId=1, moduleName='user'}'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 11 of 13 in additional filter chain; firing Filter: 'SessionManagementFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 12 of 13 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL at position 13 of 13 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /donotexisturl' doesn't match 'POST /logout\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/donotexisturl'; against '/login**'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/donotexisturl'; against '/error**'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/donotexisturl'; against '/checklogin**'\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /doNotExistURL; Attributes: [fullyAuthenticated]\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname='Adam', lastname='Milne', email='adam.milne@abcd.com', roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName='roleList', moduleId=2, moduleName='role'}, ModuleOperation{moduleOperationId=8, moduleOperationName='deleteUser', moduleId=1, moduleName='user'}\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6ad88564, returned: 1\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: org.springframework.security.access.vote.AuthenticatedVoter@19007bb6, returned: 0\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.access.vote.UnanimousBased  : Voter: com.sts.app.core.user.security.AccessDecisionVoterImpl@1465b821, returned: 1\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /doNotExistURL reached end of additional filter chain; proceeding with original chain\n2016-03-15 10:02:45.062 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : DispatcherServlet with name 'dispatcherServlet' processing GET request for [/gen/doNotExistURL]\n2016-03-15 10:02:45.063 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Looking up handler method for path /doNotExistURL\n2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Did not find handler method for [/doNotExistURL]\n2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : Matching patterns for request [/doNotExistURL] are [/**]\n2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : URI Template variables for request [/doNotExistURL] are {}\n2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapping [/doNotExistURL] to HandlerExecutionChain with handler [ResourceHttpRequestHandler [locations=[ServletContext resource [/], class path resource [META-INF/resources/], class path resource [resources/], class path resource [static/], class path resource [public/]], resolvers=[org.springframework.web.servlet.resource.PathResourceResolver@87dd2cb]]] and 1 interceptor\n2016-03-15 10:02:45.064 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Last-Modified value for [/gen/doNotExistURL] is: -1\n2016-03-15 10:02:45.077 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Null ModelAndView returned to DispatcherServlet with name 'dispatcherServlet': assuming HandlerAdapter completed request handling\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : Successfully completed request\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Cleared thread-bound request context: org.apache.catalina.connector.RequestFacade@371ef2a3\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.b.c.web.OrderedRequestContextFilter  : Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@20ae74b1\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/static/**'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/i18n/**'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 1 of 13 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 2 of 13 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] w.c.HttpSessionSecurityContextRepository : Obtained a valid SecurityContext from SPRING_SECURITY_CONTEXT: 'org.springframework.security.core.context.SecurityContextImpl@b8db0c9d: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname='Adam', lastname='Milne', email='adam.milne@abcd.com', roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName='roleList', moduleId=2, moduleName='role'}, ModuleOperation{moduleOperationId=8, moduleOperationName='deleteUser', moduleId=1, moduleName='user'}'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 3 of 13 in additional filter chain; firing Filter: 'HeaderWriterFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 4 of 13 in additional filter chain; firing Filter: 'CsrfFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 5 of 13 in additional filter chain; firing Filter: 'LogoutFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 6 of 13 in additional filter chain; firing Filter: 'UsernamePasswordAuthenticationFilter'\n2016-03-15 10:02:45.078 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /checklogin\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 7 of 13 in additional filter chain; firing Filter: 'ConcurrentSessionFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 8 of 13 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 9 of 13 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 10 of 13 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b8db0c9d: Principal: User{id=8, firstname='Adam', lastname='Milne', email='adam.milne@abcd.com', roleId=1}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@fffd148a: RemoteIpAddress: 127.0.0.1; SessionId: FED1F23633671F6E257CA9C5AFCEE216; Granted Authorities: ModuleOperation{moduleOperationId=1, moduleOperationName='roleList', moduleId=2, moduleName='role'}, ModuleOperation{moduleOperationId=8, moduleOperationName='deleteUser', moduleId=1, moduleName='user'}'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 11 of 13 in additional filter chain; firing Filter: 'SessionManagementFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 12 of 13 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error at position 13 of 13 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] o.s.web.servlet.DispatcherServlet        : DispatcherServlet with name 'dispatcherServlet' processing GET request for [/gen/error]\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Looking up handler method for path /error\n2016-03-15 10:02:45.079 DEBUG 9997 --- [io-8080-exec-22] s.w.s.m.m.a.RequestMappingHandlerMapping : Returning handler method [public java.lang.String com.sts.app.core.common.web.AppErrorController.error()]\n</code></pre>\n"},{"tags":["java","archive","identification"],"comments":[{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":1,"creation_date":1448529217,"post_id":33934178,"comment_id":55629077,"body_markdown":"Get the file name. split the file name with . and get extension. Check whether extension is rar or zip .","body":"Get the file name. split the file name with . and get extension. Check whether extension is rar or zip ."},{"owner":{"account_id":1041770,"reputation":29273,"user_id":1047662,"accept_rate":86,"display_name":"Cyclonecode"},"score":4,"creation_date":1512139349,"post_id":33934178,"comment_id":82148953,"body_markdown":"@Ravindrababu - and What is stoppning one from simply changing the extension of a non zip file to zip or rar?","body":"@Ravindrababu - and What is stoppning one from simply changing the extension of a non zip file to zip or rar?"}],"answers":[{"comments":[{"owner":{"account_id":10241347,"reputation":73,"user_id":9453716,"display_name":"Thanasis Namikazee"},"score":0,"creation_date":1682537621,"post_id":33934859,"comment_id":134233652,"body_markdown":"This does not work. For example I am using a .docx file and does not throw exception","body":"This does not work. For example I am using a .docx file and does not throw exception"}],"tags":[],"owner":{"account_id":7319449,"reputation":531,"user_id":5575911,"display_name":"hatze"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1448530108,"creation_date":1448530108,"answer_id":33934859,"question_id":33934178,"body_markdown":"Exception is thrown in line\r\n\r\n    ZipFile zipFile = new ZipFile(pathToFile.toFile());\r\n\r\nThat&#39;s because if a non-ZipFile is given as parameter for the `ZipFile`constructor the `ZipException` is thrown.\r\nSo you have to check **before** generating a new `ZipFile` Object if your file path points to a correct `ZipFile`. \r\nOne solution might be to check the extension of the file path like so\r\n\r\n     PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.zip&quot;);\r\n     boolean extensionCorrect = matcher.matches(path); ","title":"How to identify a zip file in java?","body":"<p>Exception is thrown in line</p>\n\n<pre><code>ZipFile zipFile = new ZipFile(pathToFile.toFile());\n</code></pre>\n\n<p>That's because if a non-ZipFile is given as parameter for the <code>ZipFile</code>constructor the <code>ZipException</code> is thrown.\nSo you have to check <strong>before</strong> generating a new <code>ZipFile</code> Object if your file path points to a correct <code>ZipFile</code>. \nOne solution might be to check the extension of the file path like so</p>\n\n<pre><code> PathMatcher matcher = FileSystems.getDefault().getPathMatcher(\"glob:*.zip\");\n boolean extensionCorrect = matcher.matches(path); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1192440,"reputation":1137,"user_id":1164913,"display_name":"bratkartoffel"},"score":2,"creation_date":1448531113,"post_id":33934896,"comment_id":55630366,"body_markdown":"Partly correct, there can be 3 different signatures, not just one.","body":"Partly correct, there can be 3 different signatures, not just one."}],"tags":[],"owner":{"account_id":5128734,"reputation":161,"user_id":4109758,"accept_rate":75,"display_name":"nanda"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1448530749,"creation_date":1448530231,"answer_id":33934896,"question_id":33934178,"body_markdown":"    RandomAccessFile raf = new RandomAccessFile(f, &quot;r&quot;);\r\n    \r\n    long n = raf.readInt();\r\n    \r\n    raf.close();\r\n    \r\n    if (n == 0x504B0304)\r\n    \r\n    &#160;&#160;&#160;&#160;System.out.println(&quot;Should be a zip file&quot;);\r\n    \r\n    else\r\n    \r\n    &#160;&#160;&#160;&#160;System.out.println(&quot;Not a zip file&quot;);\r\n\r\n\r\nYou can see it in  the following link.\r\nhttp://www.coderanch.com/t/381509/java/java/check-file-zip-file-java","title":"How to identify a zip file in java?","body":"<pre><code>RandomAccessFile raf = new RandomAccessFile(f, \"r\");\n\nlong n = raf.readInt();\n\nraf.close();\n\nif (n == 0x504B0304)\n\n    System.out.println(\"Should be a zip file\");\n\nelse\n\n    System.out.println(\"Not a zip file\");\n</code></pre>\n\n<p>You can see it in  the following link.\n<a href=\"http://www.coderanch.com/t/381509/java/java/check-file-zip-file-java\" rel=\"nofollow\">http://www.coderanch.com/t/381509/java/java/check-file-zip-file-java</a></p>\n"},{"tags":[],"owner":{"account_id":1192440,"reputation":1137,"user_id":1164913,"display_name":"bratkartoffel"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1448531298,"creation_date":1448530519,"answer_id":33934999,"question_id":33934178,"body_markdown":"I&#39;d suggest to open a plain InputStream an reading the first few bytes (magic bytes) and not to rely on the file extension as this can be easily spoofed. Also, you can omit the overhead creating and parsing the files.\r\n\r\nFor RAR the first bytes should be **52 61 72 21 1A 07**.\r\n\r\nFor ZIP it should be one of:\r\n\r\n - **50 4B 03 04**\r\n - **50 4B 05 06** (empty archive)\r\n - **50 4B 07 08** (spanned archive).\r\n\r\nSource: https://en.wikipedia.org/wiki/List_of_file_signatures\r\n\r\nAnother point, just looked at your code:\r\n\r\nWhy do you catch die InvalidZipException, throw it away and construct a new one? This way you lose all the information from the original exception, making it hard to debug and understand what exactly went wrong. Either don&#39;t catch it at all or, if you have to wrap it, do it right:\r\n\r\n    } catch (InvalidZipException e) {\r\n      throw new InvalidZipException(&quot;Not a zip file&quot;, e);\r\n    }","title":"How to identify a zip file in java?","body":"<p>I'd suggest to open a plain InputStream an reading the first few bytes (magic bytes) and not to rely on the file extension as this can be easily spoofed. Also, you can omit the overhead creating and parsing the files.</p>\n\n<p>For RAR the first bytes should be <strong>52 61 72 21 1A 07</strong>.</p>\n\n<p>For ZIP it should be one of:</p>\n\n<ul>\n<li><strong>50 4B 03 04</strong></li>\n<li><strong>50 4B 05 06</strong> (empty archive)</li>\n<li><strong>50 4B 07 08</strong> (spanned archive).</li>\n</ul>\n\n<p>Source: <a href=\"https://en.wikipedia.org/wiki/List_of_file_signatures\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/List_of_file_signatures</a></p>\n\n<p>Another point, just looked at your code:</p>\n\n<p>Why do you catch die InvalidZipException, throw it away and construct a new one? This way you lose all the information from the original exception, making it hard to debug and understand what exactly went wrong. Either don't catch it at all or, if you have to wrap it, do it right:</p>\n\n<pre><code>} catch (InvalidZipException e) {\n  throw new InvalidZipException(\"Not a zip file\", e);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1612383219,"post_id":47595502,"comment_id":116753228,"body_markdown":"Better use InputStream as it&#39;s handling a more general input, no?","body":"Better use InputStream as it&#39;s handling a more general input, no?"},{"owner":{"account_id":10241347,"reputation":73,"user_id":9453716,"display_name":"Thanasis Namikazee"},"score":0,"creation_date":1682537755,"post_id":47595502,"comment_id":134233678,"body_markdown":"This does not work for me. It evaluates a .docx file to true","body":"This does not work for me. It evaluates a .docx file to true"},{"owner":{"account_id":2595922,"reputation":3702,"user_id":2249614,"accept_rate":83,"display_name":"Fabian Braun"},"score":0,"creation_date":1682629234,"post_id":47595502,"comment_id":134250319,"body_markdown":"@ThanasisNamikazee a docx file is, in fact, a zip file with a changed file extension","body":"@ThanasisNamikazee a docx file is, in fact, a zip file with a changed file extension"},{"owner":{"account_id":10241347,"reputation":73,"user_id":9453716,"display_name":"Thanasis Namikazee"},"score":0,"creation_date":1682882617,"post_id":47595502,"comment_id":134281261,"body_markdown":"@FabianBraun its a fact I did not know about. So in reality this code works as expected.","body":"@FabianBraun its a fact I did not know about. So in reality this code works as expected."}],"tags":[],"owner":{"account_id":2595922,"reputation":3702,"user_id":2249614,"accept_rate":83,"display_name":"Fabian Braun"},"comment_count":4,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1555416407,"creation_date":1512138397,"answer_id":47595502,"question_id":33934178,"body_markdown":"Merging the answers of nanda &amp; bratkartoffel.\r\n\r\n    private static boolean isArchive(File f) {\r\n    \tint fileSignature = 0;\r\n    \ttry (RandomAccessFile raf = new RandomAccessFile(f, &quot;r&quot;)) {\r\n    \t\tfileSignature = raf.readInt();\r\n    \t} catch (IOException e) {\r\n    \t\t// handle if you like\r\n    \t}\r\n    \treturn fileSignature == 0x504B0304 || fileSignature == 0x504B0506 || fileSignature == 0x504B0708;\r\n    }","title":"How to identify a zip file in java?","body":"<p>Merging the answers of nanda &amp; bratkartoffel.</p>\n\n<pre><code>private static boolean isArchive(File f) {\n    int fileSignature = 0;\n    try (RandomAccessFile raf = new RandomAccessFile(f, \"r\")) {\n        fileSignature = raf.readInt();\n    } catch (IOException e) {\n        // handle if you like\n    }\n    return fileSignature == 0x504B0304 || fileSignature == 0x504B0506 || fileSignature == 0x504B0708;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649708312,"creation_date":1649708312,"answer_id":71833811,"question_id":33934178,"body_markdown":"[Apache Tika][1] was created to extract metadata from files, but one of its side benefits is it will determine a file&#39;s media-type by either its magic bytes and/or the files extension.\r\n\r\n```\r\npublic String detect(InputStream stream, String name) throws IOException\r\n```\r\n\r\n&gt; Detects the media type of the given document. The type detection is based on the content of the given document stream and the name of the document.\r\n\r\n\r\n  [1]: https://tika.apache.org/","title":"How to identify a zip file in java?","body":"<p><a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\">Apache Tika</a> was created to extract metadata from files, but one of its side benefits is it will determine a file's media-type by either its magic bytes and/or the files extension.</p>\n<pre><code>public String detect(InputStream stream, String name) throws IOException\n</code></pre>\n<blockquote>\n<p>Detects the media type of the given document. The type detection is based on the content of the given document stream and the name of the document.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1195086,"reputation":2530,"user_id":1166992,"accept_rate":83,"display_name":"Olivier Faucheux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693078893,"creation_date":1693078893,"answer_id":76984570,"question_id":33934178,"body_markdown":"I resolved it using Apache Tika (here for gzip):\r\n\r\n    final MimeTypes mimeTypes = MimeTypes.getDefaultMimeTypes(ClassLoader.getSystemClassLoader());\r\n    boolean isCompressed = mimeTypes.forName(&quot;application/gzip&quot;).matches(\r\n            FileUtils.readFileToByteArray(FileUtils.getFile(filepath))\r\n    );\r\n\r\nRemark: the library use the magic bytes, so it should be possible to read only some start bytes of the file instead of using `FileUtils.getFile()`.","title":"How to identify a zip file in java?","body":"<p>I resolved it using Apache Tika (here for gzip):</p>\n<pre><code>final MimeTypes mimeTypes = MimeTypes.getDefaultMimeTypes(ClassLoader.getSystemClassLoader());\nboolean isCompressed = mimeTypes.forName(&quot;application/gzip&quot;).matches(\n        FileUtils.readFileToByteArray(FileUtils.getFile(filepath))\n);\n</code></pre>\n<p>Remark: the library use the magic bytes, so it should be possible to read only some start bytes of the file instead of using <code>FileUtils.getFile()</code>.</p>\n"}],"owner":{"account_id":7228175,"reputation":209,"user_id":5516020,"accept_rate":0,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23576,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":6,"score":11,"last_activity_date":1693078893,"creation_date":1448528099,"question_id":33934178,"body_markdown":"I want to identify my archive whether it is `zip` or `rar`. But the problem I get runtime error before I can validate my file. I want to create custom notification:\r\n\r\n    public class ZipValidator {\r\n      public void validate(Path pathToFile) throws IOException {\r\n        try {\r\n          ZipFile zipFile = new ZipFile(pathToFile.toFile());\r\n          String zipname = zipFile.getName();\r\n        } catch (InvalidZipException e) {\r\n          throw new InvalidZipException(&quot;Not a zip file&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nAt the moment I have runtime error:\r\n\r\n    \r\n\r\n&gt; java.util.zip.ZipException: error in opening zip file","title":"How to identify a zip file in java?","body":"<p>I want to identify my archive whether it is <code>zip</code> or <code>rar</code>. But the problem I get runtime error before I can validate my file. I want to create custom notification:</p>\n\n<pre><code>public class ZipValidator {\n  public void validate(Path pathToFile) throws IOException {\n    try {\n      ZipFile zipFile = new ZipFile(pathToFile.toFile());\n      String zipname = zipFile.getName();\n    } catch (InvalidZipException e) {\n      throw new InvalidZipException(\"Not a zip file\");\n    }\n  }\n}\n</code></pre>\n\n<p>At the moment I have runtime error:</p>\n\n<blockquote>\n  <p>java.util.zip.ZipException: error in opening zip file</p>\n</blockquote>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1693068588,"post_id":76983889,"comment_id":135712476,"body_markdown":"Please [edit] your question to show your attempt and tell us what it is that you don&#39;t understand about it.","body":"Please <a href=\"https://stackoverflow.com/posts/76983889/edit\">edit</a> your question to show your attempt and tell us what it is that you don&#39;t understand about it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693073973,"post_id":76983889,"comment_id":135713115,"body_markdown":"`Random r = new Random();double a = r.nextDouble() &lt; 0.5;double b = r.nextDouble() &lt; 0.35;...`","body":"<code>Random r = new Random();double a = r.nextDouble() &lt; 0.5;double b = r.nextDouble() &lt; 0.35;...</code>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1693074085,"post_id":76983889,"comment_id":135713121,"body_markdown":"Great answer to a not-so-good question. In the future, please show more of your own efforts in the question, if only so that it is unique from prior similar questions. You show absolutely no research into prior questions in your own question, by the way.","body":"Great answer to a not-so-good question. In the future, please show more of your own efforts in the question, if only so that it is unique from prior similar questions. You show absolutely no research into prior questions in your own question, by the way."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693078634,"creation_date":1693069095,"answer_id":76983984,"question_id":76983889,"body_markdown":"[`Math.random()`][1] should almost never be used. It oversimplifies the job of &#39;create randomness&#39; and in doing so, just adds confusion and subtle bugs.\r\n\r\nInstead, the right way to do randomness is to __work with an instance of `java.util.Random`__.\r\n\r\nA trivial way to make one is simply [`new Random()`][2]. There are variants on the theme - you can for example go with [`SecureRandom.getInstanceStrong()`][3] instead - just `new Random()` tends to already be a source of randomness that is robust enough for security principles, but `SecureRandom.getInstanceStrong()` guarantees this and will crash (throw an exception) if for whatever reason the system is not capable of providing a random source that is suitable for use for providing randomness when generating keys for cryptography and the like. __As a beginner, just use `new Random()`__.\r\n\r\nAn instance of `j.u.Random` has various methods. The most important one is [`.nextInt(x)`][4]. This method returns a uniform-random value between 0 (inclusive) and x (exclusive). Thus:\r\n\r\n```\r\nRandom r = new Random();\r\n\r\n…\r\n\r\n// Roll 10 dice!\r\nfor (int i = 1; i &lt;= 10; i++) {\r\n  System.out.println(&quot;Diceroll &quot; + i + &quot;: &quot; + (rnd.nextInt(6) + 1));\r\n}\r\n```\r\n\r\n`rnd.nextInt(6)` can give 6 possible answers: 0, 1, 2, 3, 4, or 5. It will return one chosen uniformly randomly (uniform, meaning, each of those 6 options is exactly as likely as any of the other ones).\r\n\r\nYou may have read in a book or tutorial that you should use `1 + (int) (Math.random() * 6)` instead. __This is subtly broken__. It takes a university level understanding of the fundamentals of informatics to know why&lt;sup&gt;1&lt;/sup&gt;. Besides, `rnd.nextInt(6)` is simply easier to read and easier to use.\r\n\r\nLet&#39;s now look at your question. You&#39;ve stated all cases in nice whole percentages, that add up to 100. So, then, that&#39;s easy!\r\n\r\nOne trick is that you just have __one single randomness occurrence__ - one roll of the dice and off of that single roll we know whether to do event A, or event B, or event C. It&#39;s just.. it&#39;s a die with 100 faces. 50 of the faces should result in A, 35 of the faces in B, and the remaining 15 faces should result in C.\r\n\r\nHence, we only want __a single__ random number. Possibly you&#39;re trying to do this by first determining randomly if &#39;event A&#39; occurs, and then if A did not occur, use a second random number to determine of &#39;B&#39; should occur. This is just making things needlessly complicated, don&#39;t do that. Ask for one random number only:\r\n\r\n```\r\nint x = rnd.nextInt(100);\r\n// x is now 0, 1, 2, 3, 4, 5, ...., 97, 98, or 99. Uniformly chosen.\r\nif (x &lt; 50) {\r\n // 0-49 are all choices that match here, that&#39;s exactly 50%.\r\n eventA();\r\n} else if (x &lt; 85) {\r\n // 50-84 goes here, that&#39;s 35 options: 35% chance\r\n eventB();\r\n} else {\r\n //85-99 go here, that&#39;s 15 options, 15% chance\r\n  eventC();\r\n}\r\n```\r\n\r\nThe only &#39;trick&#39; we had to apply is to keep summing the odds. &#39;85&#39; is in the code above because 50+35 is 85. If you find this complicated you can let the computer do the math, if you prefer:\r\n\r\n```\r\nint z = rnd.nextInt(100);\r\nint odds = 0;\r\n\r\n/* Event A, 50% chance */\r\nodds += 50;\r\nif (z &lt; odds) {\r\n   eventA();\r\n   return; // or break - but we most not go any further than here!\r\n}\r\n\r\n/* Event B, 35% chance */\r\nodds += 35;\r\nif (z &lt; odds) {\r\n  eventB();\r\n  return;\r\n}\r\n\r\n/* event C, 15% chance */\r\nodds += 15;\r\nif (z &lt; odds) {\r\n  eventC();\r\n  return;\r\n}\r\n\r\nassert odds == 100;\r\n\r\nthrow new RuntimeException(&quot;We cannot possibly get here&quot;);\r\n```\r\n\r\n\r\n-----\r\n\r\n(1) If this goes over your head, it&#39;s not crucial to understand it - just know it&#39;s subtly broken. As in, broken, but you won&#39;t notice when testing and developing, so it shouldn&#39;t be used! - but, for the curious: It&#39;s the pigeonhole principle: `Math.random()` generates a `double`. Computers are finite concepts, so there is a large, __but finite__, amount of numbers that it can return. Unless that universe of answers it can give consists of Z numbers, where Z is __exactly__ divisible by 6, then by pigeonhole principle we can _prove_ that `1 + (int)(Math.random() * 6)` __cannot__ be exactly uniform: After all, if Z is, say, 16 numbers, how do you map those 16 results onto 6 outcomes such that each of the 6 is equally likely? That&#39;s not possible. QED. Computers, being binary things, tend to have everything be powers of 2. 6 is not a power of 2, hence it is rather unlikely `Math.random()`&#39;s output universe so happens to have a size that is exactly divisible by 6. And, without getting into the specifics of how `double` in fact works, indeed, it isn&#39;t. Thus, __not uniform__.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#random()\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#%3Cinit%3E()\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/SecureRandom.html#getInstanceStrong()\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#nextInt(int)","title":"How to make a random event in java","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#random()\" rel=\"nofollow noreferrer\"><code>Math.random()</code></a> should almost never be used. It oversimplifies the job of 'create randomness' and in doing so, just adds confusion and subtle bugs.</p>\n<p>Instead, the right way to do randomness is to <strong>work with an instance of <code>java.util.Random</code></strong>.</p>\n<p>A trivial way to make one is simply <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#%3Cinit%3E()\" rel=\"nofollow noreferrer\"><code>new Random()</code></a>. There are variants on the theme - you can for example go with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/security/SecureRandom.html#getInstanceStrong()\" rel=\"nofollow noreferrer\"><code>SecureRandom.getInstanceStrong()</code></a> instead - just <code>new Random()</code> tends to already be a source of randomness that is robust enough for security principles, but <code>SecureRandom.getInstanceStrong()</code> guarantees this and will crash (throw an exception) if for whatever reason the system is not capable of providing a random source that is suitable for use for providing randomness when generating keys for cryptography and the like. <strong>As a beginner, just use <code>new Random()</code></strong>.</p>\n<p>An instance of <code>j.u.Random</code> has various methods. The most important one is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Random.html#nextInt(int)\" rel=\"nofollow noreferrer\"><code>.nextInt(x)</code></a>. This method returns a uniform-random value between 0 (inclusive) and x (exclusive). Thus:</p>\n<pre><code>Random r = new Random();\n\n…\n\n// Roll 10 dice!\nfor (int i = 1; i &lt;= 10; i++) {\n  System.out.println(&quot;Diceroll &quot; + i + &quot;: &quot; + (rnd.nextInt(6) + 1));\n}\n</code></pre>\n<p><code>rnd.nextInt(6)</code> can give 6 possible answers: 0, 1, 2, 3, 4, or 5. It will return one chosen uniformly randomly (uniform, meaning, each of those 6 options is exactly as likely as any of the other ones).</p>\n<p>You may have read in a book or tutorial that you should use <code>1 + (int) (Math.random() * 6)</code> instead. <strong>This is subtly broken</strong>. It takes a university level understanding of the fundamentals of informatics to know why<sup>1</sup>. Besides, <code>rnd.nextInt(6)</code> is simply easier to read and easier to use.</p>\n<p>Let's now look at your question. You've stated all cases in nice whole percentages, that add up to 100. So, then, that's easy!</p>\n<p>One trick is that you just have <strong>one single randomness occurrence</strong> - one roll of the dice and off of that single roll we know whether to do event A, or event B, or event C. It's just.. it's a die with 100 faces. 50 of the faces should result in A, 35 of the faces in B, and the remaining 15 faces should result in C.</p>\n<p>Hence, we only want <strong>a single</strong> random number. Possibly you're trying to do this by first determining randomly if 'event A' occurs, and then if A did not occur, use a second random number to determine of 'B' should occur. This is just making things needlessly complicated, don't do that. Ask for one random number only:</p>\n<pre><code>int x = rnd.nextInt(100);\n// x is now 0, 1, 2, 3, 4, 5, ...., 97, 98, or 99. Uniformly chosen.\nif (x &lt; 50) {\n // 0-49 are all choices that match here, that's exactly 50%.\n eventA();\n} else if (x &lt; 85) {\n // 50-84 goes here, that's 35 options: 35% chance\n eventB();\n} else {\n //85-99 go here, that's 15 options, 15% chance\n  eventC();\n}\n</code></pre>\n<p>The only 'trick' we had to apply is to keep summing the odds. '85' is in the code above because 50+35 is 85. If you find this complicated you can let the computer do the math, if you prefer:</p>\n<pre><code>int z = rnd.nextInt(100);\nint odds = 0;\n\n/* Event A, 50% chance */\nodds += 50;\nif (z &lt; odds) {\n   eventA();\n   return; // or break - but we most not go any further than here!\n}\n\n/* Event B, 35% chance */\nodds += 35;\nif (z &lt; odds) {\n  eventB();\n  return;\n}\n\n/* event C, 15% chance */\nodds += 15;\nif (z &lt; odds) {\n  eventC();\n  return;\n}\n\nassert odds == 100;\n\nthrow new RuntimeException(&quot;We cannot possibly get here&quot;);\n</code></pre>\n<hr />\n<p>(1) If this goes over your head, it's not crucial to understand it - just know it's subtly broken. As in, broken, but you won't notice when testing and developing, so it shouldn't be used! - but, for the curious: It's the pigeonhole principle: <code>Math.random()</code> generates a <code>double</code>. Computers are finite concepts, so there is a large, <strong>but finite</strong>, amount of numbers that it can return. Unless that universe of answers it can give consists of Z numbers, where Z is <strong>exactly</strong> divisible by 6, then by pigeonhole principle we can <em>prove</em> that <code>1 + (int)(Math.random() * 6)</code> <strong>cannot</strong> be exactly uniform: After all, if Z is, say, 16 numbers, how do you map those 16 results onto 6 outcomes such that each of the 6 is equally likely? That's not possible. QED. Computers, being binary things, tend to have everything be powers of 2. 6 is not a power of 2, hence it is rather unlikely <code>Math.random()</code>'s output universe so happens to have a size that is exactly divisible by 6. And, without getting into the specifics of how <code>double</code> in fact works, indeed, it isn't. Thus, <strong>not uniform</strong>.</p>\n"}],"owner":{"account_id":29304480,"reputation":1,"user_id":22451861,"display_name":"ImVic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693069851,"accepted_answer_id":76983984,"answer_count":1,"score":-1,"last_activity_date":1693078634,"creation_date":1693067613,"question_id":76983889,"body_markdown":"I want to write a java program where there 50% chance for event a to occur, 35% chance for event b to occur and 15% chance for event c to occur and finally print the event which took place.\r\nThanks.\r\n\r\n\r\nI tried using math.random but it ended up being too complicated for me to understand.","title":"How to make a random event in java","body":"<p>I want to write a java program where there 50% chance for event a to occur, 35% chance for event b to occur and 15% chance for event c to occur and finally print the event which took place.\nThanks.</p>\n<p>I tried using math.random but it ended up being too complicated for me to understand.</p>\n"},{"tags":["java","visual-studio-code","unicode","encoding"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1693065299,"post_id":76983724,"comment_id":135712057,"body_markdown":"First of all, are you using a font that can display it?","body":"First of all, are you using a font that can display it?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693065374,"post_id":76983724,"comment_id":135712069,"body_markdown":"&quot;All I am asking for quick and easy solution !&quot; that&#39;s what everyone asks here, for free. Anyway, I&#39;d say you&#39;re on track with the issue being with console, you could test that by creating a text file with the character in UTF-8 and seeing if you can view it on your console. If you can, then the issue is somewhere else. But you can search SO yourself for these questions since there are dozens.","body":"&quot;All I am asking for quick and easy solution !&quot; that&#39;s what everyone asks here, for free. Anyway, I&#39;d say you&#39;re on track with the issue being with console, you could test that by creating a text file with the character in UTF-8 and seeing if you can view it on your console. If you can, then the issue is somewhere else. But you can search SO yourself for these questions since there are dozens."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693066353,"post_id":76983724,"comment_id":135712212,"body_markdown":"YI SYLLABLE NJIX (U+A432) with glyph `ꐲ` can be displayed by the font &#39;Code200&#39;. Then you&#39;ll be wanting to make sure your console supports Unicode","body":"YI SYLLABLE NJIX (U+A432) with glyph <code>ꐲ</code> can be displayed by the font &#39;Code200&#39;. Then you&#39;ll be wanting to make sure your console supports Unicode"},{"owner":{"account_id":21925303,"reputation":3,"user_id":18048370,"display_name":"Determinante"},"score":0,"creation_date":1693070840,"post_id":76983724,"comment_id":135712742,"body_markdown":"@g00se I don&#39;t know abt that yet.","body":"@g00se I don&#39;t know abt that yet."},{"owner":{"account_id":21925303,"reputation":3,"user_id":18048370,"display_name":"Determinante"},"score":0,"creation_date":1693071397,"post_id":76983724,"comment_id":135712813,"body_markdown":"come on -3 votes why ? because it probably lacks research effort , well it is time consuming to do the research although I would get a sol but as a college student I gotta prioritize and I have other things to do!!","body":"come on -3 votes why ? because it probably lacks research effort , well it is time consuming to do the research although I would get a sol but as a college student I gotta prioritize and I have other things to do!!"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693078566,"post_id":76983724,"comment_id":135713567,"body_markdown":"It would appear to be an issue with the _console_ output, my IDE uses _UTF-8_ and the character displays correctly.  _https://github.com/scalameta/metals/discussions/2591_.","body":"It would appear to be an issue with the <i>console</i> output, my IDE uses <i>UTF-8</i> and the character displays correctly.  <i><a href=\"https://github.com/scalameta/metals/discussions/2591\" rel=\"nofollow noreferrer\">github.com/scalameta/metals/discussions/2591</a></i>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693125244,"post_id":76983724,"comment_id":135716664,"body_markdown":"You can very usefully check what&#39;s going with the encoding with `System.out.println(java.util.HexFormat.of().formatHex((&quot;&quot;+c).getBytes()));` (for your variable `c`)","body":"You can very usefully check what&#39;s going with the encoding with <code>System.out.println(java.util.HexFormat.of().formatHex((&quot;&quot;+c)&zwnj;&#8203;.getBytes()));</code> (for your variable <code>c</code>)"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1693203416,"post_id":76983724,"comment_id":135723920,"body_markdown":"Welcome to StackOverflow. If an answer solves your problem you could click &#39;✔&#39; to mark it as an acceptable answer. If it helps you give it an upvote. If the answer is offtopic or doesn’t help at all, downvote or add a comment. See also [stackoverflow.com/help/why-vote](https://stackoverflow.com/help/why-vote)","body":"Welcome to StackOverflow. If an answer solves your problem you could click &#39;✔&#39; to mark it as an acceptable answer. If it helps you give it an upvote. If the answer is offtopic or doesn’t help at all, downvote or add a comment. See also <a href=\"https://stackoverflow.com/help/why-vote\">stackoverflow.com/help/why-vote</a>"}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693070196,"post_id":76983927,"comment_id":135712639,"body_markdown":"Actually, the number of Unicode codepoints is closer to a million than a billion.  The maximum codepoint is 10FFFF hex, so there are 1,114,112₁₀ codepoint values.  (Not that this invalidates any of your points.)","body":"Actually, the number of Unicode codepoints is closer to a million than a billion.  The maximum codepoint is 10FFFF hex, so there are 1,114,112₁₀ codepoint values.  (Not that this invalidates any of your points.)"},{"owner":{"account_id":21925303,"reputation":3,"user_id":18048370,"display_name":"Determinante"},"score":0,"creation_date":1693070721,"post_id":76983927,"comment_id":135712722,"body_markdown":"Wow! Thanks for the solution, now it&#39;s gonna take time comprehending it. As a novice, this really helps","body":"Wow! Thanks for the solution, now it&#39;s gonna take time comprehending it. As a novice, this really helps"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693077675,"post_id":76983927,"comment_id":135713471,"body_markdown":"[*Does Unicode have a defined maximum number of code points?*](https://stackoverflow.com/q/27415935/642706)","body":"<a href=\"https://stackoverflow.com/q/27415935/642706\"><i>Does Unicode have a defined maximum number of code points?</i></a>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1693078301,"post_id":76983927,"comment_id":135713538,"body_markdown":"I&#39;ve edited the answer, replacing billion to million. How convenient the edit was that simple :) Thanks for the insights, @VGR and Basil!","body":"I&#39;ve edited the answer, replacing billion to million. How convenient the edit was that simple :) Thanks for the insights, @VGR and Basil!"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693078282,"creation_date":1693068326,"answer_id":76983927,"question_id":76983724,"body_markdown":"You need some context to understand the answer.\r\n\r\n&gt; All I am asking for quick and easy solution !\r\n\r\nAnd I want world peace. We both asked for the impossible. There is a quick and easy solution, but from what you described it is not possible to know what that is, and it is not possible to explain to you what you need to tell us / what you need to do to find that quick and easy solution, without giving you a ton of context.\r\n\r\nThe answer is almost certainly &#39;go into your VSCode preferences/settings and change either an encoding setting or a font setting or both&#39;.\r\n\r\n## Fundamentals\r\n\r\nA lot of things in the computer world are based on bytes. For example, when you make connections over the internet (say, you type `www.stackoverflow.com` in your browser&#39;s toolbar and hit enter - your browser application tells the OS to tell the network system to connect to the internet and open a pipe. Kinda like picking up the telephone. Instead of voice audio being carried over the &#39;pipe&#39;, it&#39;s bytes). Files on disk? You read and write bytes to these.\r\n\r\nCrucially, also, applications are considered to have something called &#39;standard in&#39; and &#39;standard out&#39; - these are simply the inputs and outputs of the program. __By default__ if you start applications on the command line, the keyboard is hooked up to standard in, and the terminal (the big black box thing you&#39;re typing commands into) is hooked up as standard out. But you can change it, for example, in unixy systems you can write:\r\n\r\n```\r\ncat foo.txt &gt;/dev/printer\r\n```\r\n\r\nWhich will actually print out `foo.txt`. That&#39;s because the `cat` command means: &quot;Open the stated file and spew the entire contents out to the standard output&quot; and `&gt;/dev/printer` says: Instead of the default &#39;the black box thing&#39; as standard output, I want it to be sent to the file &#39;/dev/printer&#39; (which is a device, but in unix systems, they live on the file system too, so they have a path). Assuming things are hooked up right, the printer will spit out a page if you do this.\r\n\r\nThe crucial thing to understand is, __fundamentally, standard out and standard in are bytes, too!__\r\n\r\nHowever, __text and bytes aren&#39;t compatible__. A byte is a value between 0 and 255, i.e. it can represent at most 256 different unique things. However, there are __far__ more than 256 unique characters. Most of the computing world solves that problem by using unicode, but unicode about __a million__ symbols (or at least, has room for that many), clearly, we can&#39;t use a single byte to represent a unicode character.\r\n\r\nWhen you write `cat foo.txt`  you&#39;re asking cat to send the contents of that text file to the standard output (your screen, by default), but there&#39;s a problem here: standard output is a &#39;stream of bytes&#39;, and you don&#39;t want to see the bytes, you want to see characters. Thus, the code that runs that black box thing (`cmd.exe` on windows, your terminal and your shell on unixy systems) __is being tasked to interpret the bytes and guess what symbols those might represent__.\r\n\r\nIn order to do that, there is a charset encoding involved.\r\n\r\nThe key takeaway: __Anytime bytes turn into characters or vice versa, a charset encoding is applied__. To make things &#39;easy&#39;, _loads_ of systems will just take a wild stab in the dark and apply one whenever such conversions occur. `cat foo.txt` itself would do that, after all: you&#39;re not specifying a charset encoding. In fact, `cat` has no `cat --charset-encoding=UTF8` style option, because cat itself can only emit bytes, it&#39;s the terminal/cmd.exe/shell that has to do it.\r\n\r\nThe same rule applies __everywhere__. If the server that runs `stackoverflow.com` answers, it has to send bytes, your browser reads these but needs to show text, so it... applies a charset encoding to convert bytes to text. Similarly, when you submitted the form to submit your question, your browser had a bunch of characters, and had to apply a charset encoding to turn these into bytes in order to send it to the stackoverflow.com server.\r\n\r\n## Let&#39;s make that practical!\r\n\r\nLet&#39;s say I open an editor and write, literally:\r\n\r\n```\r\nclass Main { public static void main(String[] args) {\r\n  System.out.println(&quot;☃&quot;);\r\n}}\r\n```\r\n\r\nI then hit &#39;save&#39;.\r\n\r\nThis immediately causes some charset conversion to be applied. After all, the editor is a text-based notion, and when I save, that&#39;s: Write the contents of what I am writing to a file. Files are byte-based notions, thus, text-to-byte conversion occurs.\r\n\r\nYou&#39;ll find that every non-idiotic editor will indicate, or otherwise have some option, to tell it _what encoding to apply when saving your file_.\r\n\r\nI then switch to the command line and type:\r\n\r\n```\r\njavac Main.java\r\n```\r\n\r\njavac opens the file and parses my source code. Source code is a text based concept, files are a byte based concept, so _javac applies a charset encoding to turn the file contents into characters so it can parse them_. And, indeed, `javac` has a `--charset` option, as it should.\r\n\r\nFortunately, java has a built in system to store characters in a known manner in class files; no charset encoding is applied to do it, so at least here there is no char-to-byte conversion that we need to worry about.\r\n\r\nWe then type:\r\n\r\n```\r\njava Main\r\n```\r\n\r\nAnd the java executable dutifully powers up and executes the code in the main method. Which is to print that string (we established java class files have sorted that out for us; not all programming systems do, but java does, fortunately!) - it does that, but _`System.out` is a byte based concept_, so to do it, `java.exe` has to apply char-to-byte conversion, and thus, applies a charset encoding!\r\n\r\nThe bytes then arrive at `/bin/bash` which needs to turn that back into characters, and.. applies a charset encoding.\r\n\r\nSo, in this ridiculously simple act of writing a &#39;hello world&#39; java app and running it:\r\n\r\n* Our editor encoded text (our source code)\r\n* Our javac decoded a file (the file with our source code).\r\n* Our java executable encoded text (the snowman string)\r\n* Our terminal setup decoded bytes from the java.exe process&#39;s standard out (the snowman string)\r\n\r\nThose last 2 steps seem particularly stupid (we have text, why are we encoding it to bytes just so that the font rendering of the terminal can immediately decode those bytes right back to characters again??) - but, remember, the setup is that standard-in and standard-out can be redirected to printers, files, FTP servers, other applications, you name it.\r\n\r\n__Unless each of those 4 steps picked the same encoding, you get [mojibake](https://en.wikipedia.org/wiki/Mojibake)__.\r\n\r\nHopefully the entire chain all picks UTF-8, which is an encoding that can represent every single one of those ~million unicode symbols that exist. Not all charset encodings can do that. However, in practice, lots of systems (particularly windows) __do not__ have UTF_8 and mojibake is likely to occur.\r\n\r\n## So what explains that `?`?\r\n\r\nThere are 2 different explanations. From your question it simply isn&#39;t clear which of the two explanations is correct.\r\n\r\n### Explanation 1: Mojibake\r\n\r\nYou used `\\ua432` method in your java source file. You could have just as easily written:\r\n\r\n```\r\nchar c = &#39;ꐲ&#39;;\r\n```\r\n\r\nand __if your editor and `javac`&#39;s `--charset` option are in agreement__ this would have resulted in identical (literally, completely identical class files) results. That `\\u` thing is just a way to write such characters if you&#39;re not sure your editor&#39;s and `javac`&#39;s charsets line up, or if the charset you are using is incapable of storing this character. (Lots of different encodings treat ASCII symbols, which includes your basic space, a through `, 0 through 9, :, dollar, underscore, dash, etcetera - the same way. So if you take some text that consists solely of ASCII characters, encode it using one encoding, then decode it using a completely different encoding, often it works fine. __That still means your process is broken__, but you&#39;ll want realize this unless you render non-ASCII stuff. Such as ꐲ, but even &#235; and € aren&#39;t ASCII!.\r\n\r\nThus, you&#39;ve eliminated any opportunity for a mismatch in the first 2 steps (writing your source file, and having `javac` compile the source file). That leaves steps 3 and 4.\r\n\r\n__The little terminal-esque thingies in code editors are notorious for being crappy at encodings__. It&#39;s definitely possible that `java.exe` assumes the encoding the system uses is UTF_8, therefore converts your text via UTF_8 to bytes to send to its standard out, but that VSCode or where-ever you are running this actually applies, say, Cp1252 encoding or somesuch. If that&#39;s the case there&#39;s nothing you can do: Cp1252 can&#39;t represent ꐲ at all, so it&#39;s not possible to print it. Perhaps you can find a setting in VSCode to change the charset it uses to decode the bytes to characters (which it has to do to show the characters on your screen in the little terminal box thing in your editor).\r\n\r\n__ANSWER 1: Check your editor&#39;s setting, ensure that whatever your system&#39;s default charset encoding is, lines up. Most likely, just set everything to UTF-8__.\r\n\r\n## Explanation 2: Font limits\r\n\r\nAs I mentioned, unicode has room for a million symbols. It doesn&#39;t quite have that many, but there are __a lot__ of unicode symbols.\r\n\r\nUnicode just explains which number maps to which symbol. It doesn&#39;t actually dictate what things look like. A font does that: A font is a table that maps characters onto an image or vector instructions to actually draw these things on your display.\r\n\r\nFonts don&#39;t necessarily have an image for __every__ character.\r\n\r\nFor example:\r\n\r\n&gt; This sentence\r\n\r\n&gt; `This sentence`\r\n\r\nlooks completely different. Check the how in the second one, the &#39;i&#39; has serifs (little horizontal bars) and in the first one, it doesn&#39;t. That&#39;s because the actual characters are identical, but, a different font is used. One font maps the &#39;i&#39; character to the image &#39;i&#39;, the other to the image &#39;`i`&#39;.\r\n\r\n__ANSWER #2: The font used by VSCode in the &#39;terminal&#39; box simply doesn&#39;t have a mapping from A432 to any image at all. Which means the font rendering engine shows &#39;the placeholder &quot;I have no image for this character&quot; symbol instead, which _could_ be ?&#39;. To fix this, go into your VSCode settings and change which font is used in the console view.__\r\n\r\nThose &#39;images&#39; are generally called &#39;glyphs&#39;, so this condition is called a &#39;missing glyph&#39;.\r\n\r\nUsually, and the unicode spec strongly suggests this, font rendering engines should use the □ (white square, 25A1), or possibly � (replacement character) to do this. It would use ? only if the font also has no glyph for either of those. Which is certainly possible - various programmer fonts don&#39;t have _any_ glyphs for _anything_ outside of the ASCII range. If that is the case, `?` will be used instead, which is what you&#39;re seeing!\r\n\r\n----\r\n\r\n[1] Wellll, there&#39;s the whole topic of surrogate pairs and how one can colour an argument to say it really isn&#39;t true unicode, but OP specifically is complaining about complexity, and it doesn&#39;t apply to the exact symbol OP wants to display, so, let&#39;s not get into that.","title":"Katakana character in Java displaying as &#39;?&#39;","body":"<p>You need some context to understand the answer.</p>\n<blockquote>\n<p>All I am asking for quick and easy solution !</p>\n</blockquote>\n<p>And I want world peace. We both asked for the impossible. There is a quick and easy solution, but from what you described it is not possible to know what that is, and it is not possible to explain to you what you need to tell us / what you need to do to find that quick and easy solution, without giving you a ton of context.</p>\n<p>The answer is almost certainly 'go into your VSCode preferences/settings and change either an encoding setting or a font setting or both'.</p>\n<h2>Fundamentals</h2>\n<p>A lot of things in the computer world are based on bytes. For example, when you make connections over the internet (say, you type <code>www.stackoverflow.com</code> in your browser's toolbar and hit enter - your browser application tells the OS to tell the network system to connect to the internet and open a pipe. Kinda like picking up the telephone. Instead of voice audio being carried over the 'pipe', it's bytes). Files on disk? You read and write bytes to these.</p>\n<p>Crucially, also, applications are considered to have something called 'standard in' and 'standard out' - these are simply the inputs and outputs of the program. <strong>By default</strong> if you start applications on the command line, the keyboard is hooked up to standard in, and the terminal (the big black box thing you're typing commands into) is hooked up as standard out. But you can change it, for example, in unixy systems you can write:</p>\n<pre><code>cat foo.txt &gt;/dev/printer\n</code></pre>\n<p>Which will actually print out <code>foo.txt</code>. That's because the <code>cat</code> command means: &quot;Open the stated file and spew the entire contents out to the standard output&quot; and <code>&gt;/dev/printer</code> says: Instead of the default 'the black box thing' as standard output, I want it to be sent to the file '/dev/printer' (which is a device, but in unix systems, they live on the file system too, so they have a path). Assuming things are hooked up right, the printer will spit out a page if you do this.</p>\n<p>The crucial thing to understand is, <strong>fundamentally, standard out and standard in are bytes, too!</strong></p>\n<p>However, <strong>text and bytes aren't compatible</strong>. A byte is a value between 0 and 255, i.e. it can represent at most 256 different unique things. However, there are <strong>far</strong> more than 256 unique characters. Most of the computing world solves that problem by using unicode, but unicode about <strong>a million</strong> symbols (or at least, has room for that many), clearly, we can't use a single byte to represent a unicode character.</p>\n<p>When you write <code>cat foo.txt</code>  you're asking cat to send the contents of that text file to the standard output (your screen, by default), but there's a problem here: standard output is a 'stream of bytes', and you don't want to see the bytes, you want to see characters. Thus, the code that runs that black box thing (<code>cmd.exe</code> on windows, your terminal and your shell on unixy systems) <strong>is being tasked to interpret the bytes and guess what symbols those might represent</strong>.</p>\n<p>In order to do that, there is a charset encoding involved.</p>\n<p>The key takeaway: <strong>Anytime bytes turn into characters or vice versa, a charset encoding is applied</strong>. To make things 'easy', <em>loads</em> of systems will just take a wild stab in the dark and apply one whenever such conversions occur. <code>cat foo.txt</code> itself would do that, after all: you're not specifying a charset encoding. In fact, <code>cat</code> has no <code>cat --charset-encoding=UTF8</code> style option, because cat itself can only emit bytes, it's the terminal/cmd.exe/shell that has to do it.</p>\n<p>The same rule applies <strong>everywhere</strong>. If the server that runs <code>stackoverflow.com</code> answers, it has to send bytes, your browser reads these but needs to show text, so it... applies a charset encoding to convert bytes to text. Similarly, when you submitted the form to submit your question, your browser had a bunch of characters, and had to apply a charset encoding to turn these into bytes in order to send it to the stackoverflow.com server.</p>\n<h2>Let's make that practical!</h2>\n<p>Let's say I open an editor and write, literally:</p>\n<pre><code>class Main { public static void main(String[] args) {\n  System.out.println(&quot;☃&quot;);\n}}\n</code></pre>\n<p>I then hit 'save'.</p>\n<p>This immediately causes some charset conversion to be applied. After all, the editor is a text-based notion, and when I save, that's: Write the contents of what I am writing to a file. Files are byte-based notions, thus, text-to-byte conversion occurs.</p>\n<p>You'll find that every non-idiotic editor will indicate, or otherwise have some option, to tell it <em>what encoding to apply when saving your file</em>.</p>\n<p>I then switch to the command line and type:</p>\n<pre><code>javac Main.java\n</code></pre>\n<p>javac opens the file and parses my source code. Source code is a text based concept, files are a byte based concept, so <em>javac applies a charset encoding to turn the file contents into characters so it can parse them</em>. And, indeed, <code>javac</code> has a <code>--charset</code> option, as it should.</p>\n<p>Fortunately, java has a built in system to store characters in a known manner in class files; no charset encoding is applied to do it, so at least here there is no char-to-byte conversion that we need to worry about.</p>\n<p>We then type:</p>\n<pre><code>java Main\n</code></pre>\n<p>And the java executable dutifully powers up and executes the code in the main method. Which is to print that string (we established java class files have sorted that out for us; not all programming systems do, but java does, fortunately!) - it does that, but <em><code>System.out</code> is a byte based concept</em>, so to do it, <code>java.exe</code> has to apply char-to-byte conversion, and thus, applies a charset encoding!</p>\n<p>The bytes then arrive at <code>/bin/bash</code> which needs to turn that back into characters, and.. applies a charset encoding.</p>\n<p>So, in this ridiculously simple act of writing a 'hello world' java app and running it:</p>\n<ul>\n<li>Our editor encoded text (our source code)</li>\n<li>Our javac decoded a file (the file with our source code).</li>\n<li>Our java executable encoded text (the snowman string)</li>\n<li>Our terminal setup decoded bytes from the java.exe process's standard out (the snowman string)</li>\n</ul>\n<p>Those last 2 steps seem particularly stupid (we have text, why are we encoding it to bytes just so that the font rendering of the terminal can immediately decode those bytes right back to characters again??) - but, remember, the setup is that standard-in and standard-out can be redirected to printers, files, FTP servers, other applications, you name it.</p>\n<p><strong>Unless each of those 4 steps picked the same encoding, you get <a href=\"https://en.wikipedia.org/wiki/Mojibake\" rel=\"nofollow noreferrer\">mojibake</a></strong>.</p>\n<p>Hopefully the entire chain all picks UTF-8, which is an encoding that can represent every single one of those ~million unicode symbols that exist. Not all charset encodings can do that. However, in practice, lots of systems (particularly windows) <strong>do not</strong> have UTF_8 and mojibake is likely to occur.</p>\n<h2>So what explains that <code>?</code>?</h2>\n<p>There are 2 different explanations. From your question it simply isn't clear which of the two explanations is correct.</p>\n<h3>Explanation 1: Mojibake</h3>\n<p>You used <code>\\ua432</code> method in your java source file. You could have just as easily written:</p>\n<pre><code>char c = 'ꐲ';\n</code></pre>\n<p>and <strong>if your editor and <code>javac</code>'s <code>--charset</code> option are in agreement</strong> this would have resulted in identical (literally, completely identical class files) results. That <code>\\u</code> thing is just a way to write such characters if you're not sure your editor's and <code>javac</code>'s charsets line up, or if the charset you are using is incapable of storing this character. (Lots of different encodings treat ASCII symbols, which includes your basic space, a through `, 0 through 9, :, dollar, underscore, dash, etcetera - the same way. So if you take some text that consists solely of ASCII characters, encode it using one encoding, then decode it using a completely different encoding, often it works fine. <strong>That still means your process is broken</strong>, but you'll want realize this unless you render non-ASCII stuff. Such as ꐲ, but even ë and € aren't ASCII!.</p>\n<p>Thus, you've eliminated any opportunity for a mismatch in the first 2 steps (writing your source file, and having <code>javac</code> compile the source file). That leaves steps 3 and 4.</p>\n<p><strong>The little terminal-esque thingies in code editors are notorious for being crappy at encodings</strong>. It's definitely possible that <code>java.exe</code> assumes the encoding the system uses is UTF_8, therefore converts your text via UTF_8 to bytes to send to its standard out, but that VSCode or where-ever you are running this actually applies, say, Cp1252 encoding or somesuch. If that's the case there's nothing you can do: Cp1252 can't represent ꐲ at all, so it's not possible to print it. Perhaps you can find a setting in VSCode to change the charset it uses to decode the bytes to characters (which it has to do to show the characters on your screen in the little terminal box thing in your editor).</p>\n<p><strong>ANSWER 1: Check your editor's setting, ensure that whatever your system's default charset encoding is, lines up. Most likely, just set everything to UTF-8</strong>.</p>\n<h2>Explanation 2: Font limits</h2>\n<p>As I mentioned, unicode has room for a million symbols. It doesn't quite have that many, but there are <strong>a lot</strong> of unicode symbols.</p>\n<p>Unicode just explains which number maps to which symbol. It doesn't actually dictate what things look like. A font does that: A font is a table that maps characters onto an image or vector instructions to actually draw these things on your display.</p>\n<p>Fonts don't necessarily have an image for <strong>every</strong> character.</p>\n<p>For example:</p>\n<blockquote>\n<p>This sentence</p>\n</blockquote>\n<blockquote>\n<p><code>This sentence</code></p>\n</blockquote>\n<p>looks completely different. Check the how in the second one, the 'i' has serifs (little horizontal bars) and in the first one, it doesn't. That's because the actual characters are identical, but, a different font is used. One font maps the 'i' character to the image 'i', the other to the image '<code>i</code>'.</p>\n<p><strong>ANSWER #2: The font used by VSCode in the 'terminal' box simply doesn't have a mapping from A432 to any image at all. Which means the font rendering engine shows 'the placeholder &quot;I have no image for this character&quot; symbol instead, which <em>could</em> be ?'. To fix this, go into your VSCode settings and change which font is used in the console view.</strong></p>\n<p>Those 'images' are generally called 'glyphs', so this condition is called a 'missing glyph'.</p>\n<p>Usually, and the unicode spec strongly suggests this, font rendering engines should use the □ (white square, 25A1), or possibly � (replacement character) to do this. It would use ? only if the font also has no glyph for either of those. Which is certainly possible - various programmer fonts don't have <em>any</em> glyphs for <em>anything</em> outside of the ASCII range. If that is the case, <code>?</code> will be used instead, which is what you're seeing!</p>\n<hr />\n<p>[1] Wellll, there's the whole topic of surrogate pairs and how one can colour an argument to say it really isn't true unicode, but OP specifically is complaining about complexity, and it doesn't apply to the exact symbol OP wants to display, so, let's not get into that.</p>\n"}],"owner":{"account_id":21925303,"reputation":3,"user_id":18048370,"display_name":"Determinante"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76983927,"answer_count":1,"score":-3,"last_activity_date":1693078282,"creation_date":1693065048,"question_id":76983724,"body_markdown":"A question mark gets displayed on the terminal in VS code when I use a value of a Japanese katakana character in  hexadecimal. I want the character to be displayed.\r\n\r\n``` lang-java\r\nchar c=&#39;\\ua432&#39;;\r\n```\r\nWhen I display var c I get the output as:\r\n&gt;? \r\n\r\nI am a newbie to java,I use VS code and I follow the &#39;complete reference of java&#39; by Herbert Schildt\r\n\r\nThe book says: \r\n&gt;  For\r\nhexadecimal, you enter a backslash-u ( \\u), then exactly four hexadecimal digits. For\r\nexample, &#39; \\u0061&#39; is the ISO-Latin-1 &#39;a&#39; because the top byte is zero. \\ua432 &#39; is a Japanese\r\nKatakana character.\r\n\r\nI surfed SO however  I got my mind clogged with haze. I couldn&#39;t get a direct workaround for the problem, I couldn&#39;t understand those solutions. I found that the main reason maybe the\r\nconsole I am printing it to doesn&#39;t understand the character encoding I am writing out, or else the console font doesn&#39;t have a glyph for the character. I have no idea on how to solve it\r\n\r\nAll I am asking for quick and easy solution !\r\n\r\nI hope this question is not a dupe because if a solution is out there in SO I just want that to be an implementable solution.","title":"Katakana character in Java displaying as &#39;?&#39;","body":"<p>A question mark gets displayed on the terminal in VS code when I use a value of a Japanese katakana character in  hexadecimal. I want the character to be displayed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char c='\\ua432';\n</code></pre>\n<p>When I display var c I get the output as:</p>\n<blockquote>\n<p>?</p>\n</blockquote>\n<p>I am a newbie to java,I use VS code and I follow the 'complete reference of java' by Herbert Schildt</p>\n<p>The book says:</p>\n<blockquote>\n<p>For\nhexadecimal, you enter a backslash-u ( \\u), then exactly four hexadecimal digits. For\nexample, ' \\u0061' is the ISO-Latin-1 'a' because the top byte is zero. \\ua432 ' is a Japanese\nKatakana character.</p>\n</blockquote>\n<p>I surfed SO however  I got my mind clogged with haze. I couldn't get a direct workaround for the problem, I couldn't understand those solutions. I found that the main reason maybe the\nconsole I am printing it to doesn't understand the character encoding I am writing out, or else the console font doesn't have a glyph for the character. I have no idea on how to solve it</p>\n<p>All I am asking for quick and easy solution !</p>\n<p>I hope this question is not a dupe because if a solution is out there in SO I just want that to be an implementable solution.</p>\n"},{"tags":["java","spring","jdbc","crud","one-to-many"],"comments":[{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":1,"creation_date":1693085883,"post_id":76984463,"comment_id":135714290,"body_markdown":"Can you debug and see what is the value of the useId. Your `DELETE` statement and its usage looks correct to me and I suspect (without checking the behaviour myself) `userId` is null. The foreigner key relationship here has nothing to do with deletion. It would be the other way around; not allowing you to delete an `user` for as long there are `give` associated to it. Also the fact that you make two database trips one to retrieve the `giveToDelete` and one to actually delete is not not performant. I suggest you look into using `DELETE ....RETURNING` syntax.","body":"Can you debug and see what is the value of the useId. Your <code>DELETE</code> statement and its usage looks correct to me and I suspect (without checking the behaviour myself) <code>userId</code> is null. The foreigner key relationship here has nothing to do with deletion. It would be the other way around; not allowing you to delete an <code>user</code> for as long there are <code>give</code> associated to it. Also the fact that you make two database trips one to retrieve the <code>giveToDelete</code> and one to actually delete is not not performant. I suggest you look into using <code>DELETE ....RETURNING</code> syntax."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":1,"creation_date":1693086014,"post_id":76984463,"comment_id":135714301,"body_markdown":"Also in the `Give` table definition you don&#39;t need to specify `FOREIGN KEY` twice. Just the `CONSTRAINT FK_Give_Users FOREIGN KEY` will suffice for most (if not all) database engines.","body":"Also in the <code>Give</code> table definition you don&#39;t need to specify <code>FOREIGN KEY</code> twice. Just the <code>CONSTRAINT FK_Give_Users FOREIGN KEY</code> will suffice for most (if not all) database engines."},{"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"score":0,"creation_date":1693162539,"post_id":76984463,"comment_id":135720530,"body_markdown":"Thank you for input, so i can try to change things. I took out the  CONSTRAINT FK_Give_Users FOREIGN KEY (users_give_id) REFERENCES Users(id) and so far looks nothing is broken. I also took out @AuthenticationPrincipal UserDTO user to work only with id, and changed query to   String deleteQuery = &quot;DELETE FROM harvest.Give WHERE id = ?&quot;; and still get  error  No value supplied for the SQL parameter &#39;users_give_id&#39;: No value registered for key &#39;users_give_id&#39;","body":"Thank you for input, so i can try to change things. I took out the  CONSTRAINT FK_Give_Users FOREIGN KEY (users_give_id) REFERENCES Users(id) and so far looks nothing is broken. I also took out @AuthenticationPrincipal UserDTO user to work only with id, and changed query to   String deleteQuery = &quot;DELETE FROM harvest.Give WHERE id = ?&quot;; and still get  error  No value supplied for the SQL parameter &#39;users_give_id&#39;: No value registered for key &#39;users_give_id&#39;"},{"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"score":0,"creation_date":1693166755,"post_id":76984463,"comment_id":135720962,"body_markdown":"Ok, i fix it buy changing return type to void. Thank you, its helpful to discuss.","body":"Ok, i fix it buy changing return type to void. Thank you, its helpful to discuss."}],"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693077832,"creation_date":1693077029,"question_id":76984463,"body_markdown":"im writing application using jdbc and not using JPA methods. Somehow i cannot find sources and a way how to operate with relations. In this case i want to delete item in one table which has one-many relationship with other table, like this \r\n\r\n```\r\nCREATE TABLE Users\r\n(\r\n    id         BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,\r\n    username VARCHAR(50) NOT NULL,\r\n    email      VARCHAR(100) NOT NULL,\r\n    password   VARCHAR(255) DEFAULT NULL,\r\n    enabled    BOOLEAN DEFAULT FALSE,\r\n    non_locked BOOLEAN DEFAULT TRUE,\r\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\r\n    image_url  VARCHAR(255) DEFAULT &#39;https://cdn-icons-png.flaticon.com/512/149/149071.png&#39;,\r\n    CONSTRAINT UQ_Users_Email UNIQUE (email)\r\n);\r\n\r\nDROP TABLE IF EXISTS Give;\r\n\r\nCREATE TABLE Give (\r\n                      id BIGINT PRIMARY KEY AUTO_INCREMENT,\r\n                      date DATETIME DEFAULT CURRENT_TIMESTAMP,\r\n                      type VARCHAR(255) NOT NULL,\r\n                      amount DOUBLE NOT NULL,\r\n                      amount_type VARCHAR(10) NOT NULL,\r\n                      description VARCHAR(500),\r\n                      img_url  VARCHAR(255),\r\n                      location VARCHAR(500),\r\n                      status VARCHAR(255) NOT NULL,\r\n                      users_give_id BIGINT UNSIGNED NOT NULL,\r\n                      FOREIGN KEY (users_give_id) REFERENCES Users(id),\r\n                      CONSTRAINT FK_Give_Users FOREIGN KEY (users_give_id) REFERENCES Users(id)\r\n);\r\n```\r\n\r\nnow in repository implementation im executing the deletion \r\n\r\n```\r\n@Override\r\n    public Give deleteGive(Long id, Long userId) {\r\n        try {\r\nGive giveToDelete = get(id);\r\n            String deleteQuery = &quot;DELETE FROM Give WHERE id = ? AND users_give_id = ?&quot;;\r\n            int rowsAffected = jdbc.getJdbcTemplate().update(deleteQuery, id, userId);\r\n            if (rowsAffected == 0) {\r\n                throw new ApiException(&quot;No Give found by id: &quot; + id);\r\n            }\r\n            return giveToDelete;\r\n        } catch (EmptyResultDataAccessException exception) {\r\n            throw new ApiException(&quot;No Give found by id: &quot; + id);\r\n        } catch (Exception exception) {\r\n            log.error(exception.getMessage());\r\n            throw new ApiException(&quot;An error occurred. Please try again.&quot;);\r\n        }\r\n    }\r\n```\r\n\r\ni suspect that the way i handle users_give_id is not right, since its relation id, which also then needs to be deleted. Maybe someone is more familiar with jdbc and can explain the right approach to delete item and relation as well, otherwise, executing this i get error &quot;: No value supplied for the SQL parameter &#39;users_give_id&#39;: No value registered for key &#39;users_give_id&#39;&quot;. Would really appreciate even suggestion or some similar example with deletion, i can work on it.\r\n\r\nFor reference my controller method \r\n\r\n```\r\n    @DeleteMapping(&quot;/give/delete/{id}&quot;)\r\n    public ResponseEntity&lt;HttpResponse&gt; deleteGive(@AuthenticationPrincipal UserDTO user, @PathVariable(&quot;id&quot;) Long id) {\r\n        Long userId = user.getId();\r\n        Give deletedGive = giveService.deleteGive(id, userId);\r\n        return ResponseEntity.ok().body(\r\n                HttpResponse.builder()\r\n                        .timeStamp(now().toString())\r\n                        .data(of(&quot;give&quot;, deletedGive))\r\n                        .message(&quot;Give deleted&quot;)\r\n                        .status(OK)\r\n                        .statusCode(OK.value())\r\n                        .build());\r\n    }\r\n```","title":"Deleting item with jdbc from table with relations","body":"<p>im writing application using jdbc and not using JPA methods. Somehow i cannot find sources and a way how to operate with relations. In this case i want to delete item in one table which has one-many relationship with other table, like this</p>\n<pre><code>CREATE TABLE Users\n(\n    id         BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    username VARCHAR(50) NOT NULL,\n    email      VARCHAR(100) NOT NULL,\n    password   VARCHAR(255) DEFAULT NULL,\n    enabled    BOOLEAN DEFAULT FALSE,\n    non_locked BOOLEAN DEFAULT TRUE,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    image_url  VARCHAR(255) DEFAULT 'https://cdn-icons-png.flaticon.com/512/149/149071.png',\n    CONSTRAINT UQ_Users_Email UNIQUE (email)\n);\n\nDROP TABLE IF EXISTS Give;\n\nCREATE TABLE Give (\n                      id BIGINT PRIMARY KEY AUTO_INCREMENT,\n                      date DATETIME DEFAULT CURRENT_TIMESTAMP,\n                      type VARCHAR(255) NOT NULL,\n                      amount DOUBLE NOT NULL,\n                      amount_type VARCHAR(10) NOT NULL,\n                      description VARCHAR(500),\n                      img_url  VARCHAR(255),\n                      location VARCHAR(500),\n                      status VARCHAR(255) NOT NULL,\n                      users_give_id BIGINT UNSIGNED NOT NULL,\n                      FOREIGN KEY (users_give_id) REFERENCES Users(id),\n                      CONSTRAINT FK_Give_Users FOREIGN KEY (users_give_id) REFERENCES Users(id)\n);\n</code></pre>\n<p>now in repository implementation im executing the deletion</p>\n<pre><code>@Override\n    public Give deleteGive(Long id, Long userId) {\n        try {\nGive giveToDelete = get(id);\n            String deleteQuery = &quot;DELETE FROM Give WHERE id = ? AND users_give_id = ?&quot;;\n            int rowsAffected = jdbc.getJdbcTemplate().update(deleteQuery, id, userId);\n            if (rowsAffected == 0) {\n                throw new ApiException(&quot;No Give found by id: &quot; + id);\n            }\n            return giveToDelete;\n        } catch (EmptyResultDataAccessException exception) {\n            throw new ApiException(&quot;No Give found by id: &quot; + id);\n        } catch (Exception exception) {\n            log.error(exception.getMessage());\n            throw new ApiException(&quot;An error occurred. Please try again.&quot;);\n        }\n    }\n</code></pre>\n<p>i suspect that the way i handle users_give_id is not right, since its relation id, which also then needs to be deleted. Maybe someone is more familiar with jdbc and can explain the right approach to delete item and relation as well, otherwise, executing this i get error &quot;: No value supplied for the SQL parameter 'users_give_id': No value registered for key 'users_give_id'&quot;. Would really appreciate even suggestion or some similar example with deletion, i can work on it.</p>\n<p>For reference my controller method</p>\n<pre><code>    @DeleteMapping(&quot;/give/delete/{id}&quot;)\n    public ResponseEntity&lt;HttpResponse&gt; deleteGive(@AuthenticationPrincipal UserDTO user, @PathVariable(&quot;id&quot;) Long id) {\n        Long userId = user.getId();\n        Give deletedGive = giveService.deleteGive(id, userId);\n        return ResponseEntity.ok().body(\n                HttpResponse.builder()\n                        .timeStamp(now().toString())\n                        .data(of(&quot;give&quot;, deletedGive))\n                        .message(&quot;Give deleted&quot;)\n                        .status(OK)\n                        .statusCode(OK.value())\n                        .build());\n    }\n</code></pre>\n"},{"tags":["java","string","tabs","string-formatting"],"comments":[{"owner":{"account_id":4964280,"reputation":4147,"user_id":3994197,"accept_rate":38,"display_name":"Vishal Gajera"},"score":0,"creation_date":1497118096,"post_id":44476433,"comment_id":75948320,"body_markdown":"can you please display your code little bit more ? because as per seeing this 1-line, all looks good.","body":"can you please display your code little bit more ? because as per seeing this 1-line, all looks good."},{"owner":{"account_id":10017425,"reputation":1,"user_id":7408194,"accept_rate":0,"display_name":"MaskulinerJunge"},"score":0,"creation_date":1497127530,"post_id":44476433,"comment_id":75950948,"body_markdown":"My actually question was how I can make a String.format() of \\t\\t\\t because I heard that this is not very precise. I can send you the code private because of my teacher if you want","body":"My actually question was how I can make a String.format() of \\t\\t\\t because I heard that this is not very precise. I can send you the code private because of my teacher if you want"}],"owner":{"account_id":10017425,"reputation":1,"user_id":7408194,"accept_rate":0,"display_name":"MaskulinerJunge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693077352,"creation_date":1497117575,"question_id":44476433,"body_markdown":"I have a little bug to fix. You can see in the Picture 3 Months outputted. \r\n\r\n![That is the result what I get][1]\r\n\r\nSo that is my code how I display this result. I tried String.format but I don&#39;t know how to use it at this tabs. I tried it with these tabs but unfortunately I found out that the format for the first Month (January) is shorter than the other months. All months use 3 tabs but not the first one. \r\n\r\n    public LinkedList&lt;String&gt; buildMonth(int month) {\r\n        int lengthOfMonth = calender.getLengthOfMonth(this.year, month);\r\n        LinkedList&lt;String&gt; monthList = new LinkedList&lt;&gt;();\r\n        monthList.add(String.format(&quot;%-10s&quot;,monthname[month]) + String.format(&quot;%-17s&quot;, this.year));\r\n\r\n        for (int day = 1; day &lt;= lengthOfMonth; day++) {\r\n            int daynumber = kf.daynumber(day, month, this.year);\r\n            int weekday = kf.weekday_in_year(this.year, daynumber);\r\n        //weekday give me a number where I can find out which weekname\r\n            \r\n                String monthPlan = weekdayShort[weekday] + &quot;|&quot; + String.format(&quot;%02d&quot;,day) +&quot;|\\t\\t\\t|&quot; +String.format(&quot;%-10s&quot;,calender.getTwoDigit(daynumber));\r\n                monthList.add(monthPlan);\r\n            \r\n\r\n        }\r\n        return monthList;\r\n    }\r\n\r\nI hope anyone can help and sorry for my bad English.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lLrT0.png","title":"Define Stringformat for tabs?","body":"<p>I have a little bug to fix. You can see in the Picture 3 Months outputted.</p>\n<p><img src=\"https://i.stack.imgur.com/lLrT0.png\" alt=\"That is the result what I get\" /></p>\n<p>So that is my code how I display this result. I tried String.format but I don't know how to use it at this tabs. I tried it with these tabs but unfortunately I found out that the format for the first Month (January) is shorter than the other months. All months use 3 tabs but not the first one.</p>\n<pre><code>public LinkedList&lt;String&gt; buildMonth(int month) {\n    int lengthOfMonth = calender.getLengthOfMonth(this.year, month);\n    LinkedList&lt;String&gt; monthList = new LinkedList&lt;&gt;();\n    monthList.add(String.format(&quot;%-10s&quot;,monthname[month]) + String.format(&quot;%-17s&quot;, this.year));\n\n    for (int day = 1; day &lt;= lengthOfMonth; day++) {\n        int daynumber = kf.daynumber(day, month, this.year);\n        int weekday = kf.weekday_in_year(this.year, daynumber);\n    //weekday give me a number where I can find out which weekname\n        \n            String monthPlan = weekdayShort[weekday] + &quot;|&quot; + String.format(&quot;%02d&quot;,day) +&quot;|\\t\\t\\t|&quot; +String.format(&quot;%-10s&quot;,calender.getTwoDigit(daynumber));\n            monthList.add(monthPlan);\n        \n\n    }\n    return monthList;\n}\n</code></pre>\n<p>I hope anyone can help and sorry for my bad English.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1693071087,"post_id":76984082,"comment_id":135712777,"body_markdown":"Do you need that method to be accessible outside of the current package? If not, give it the default visibility (instead of making it `public`). If you do need it outside of the current package (which seems like something of a design flaw), then just make `java.sql` available via a `transitive` keyword in `module-info.java`","body":"Do you need that method to be accessible outside of the current package? If not, give it the default visibility (instead of making it <code>public</code>). If you do need it outside of the current package (which seems like something of a design flaw), then just make <code>java.sql</code> available via a <code>transitive</code> keyword in <code>module-info.java</code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1693071118,"post_id":76984082,"comment_id":135712780,"body_markdown":"Off-topic: please use proper naming conventions when posting your code","body":"Off-topic: please use proper naming conventions when posting your code"},{"owner":{"account_id":4374266,"reputation":487,"user_id":3567690,"accept_rate":29,"display_name":"F.M"},"score":2,"creation_date":1693071928,"post_id":76984082,"comment_id":135712876,"body_markdown":"@James_D Thanks a lot. Your advice solved my problem.","body":"@James_D Thanks a lot. Your advice solved my problem."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1693073212,"post_id":76984082,"comment_id":135713032,"body_markdown":"Created an answer from that comment.","body":"Created an answer from that comment."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693095190,"post_id":76984082,"comment_id":135714964,"body_markdown":"By the way: (a) you seem to be needlessly re-inventing [`DataSource`](https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/javax/sql/DataSource.html), and (b) `Class.forName` has not been needed for many years — in modern Java, JDBC drivers are automatically loaded via the [Java Service Provider Interface (SPI)](https://en.wikipedia.org/wiki/Service_provider_interface).","body":"By the way: (a) you seem to be needlessly re-inventing <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>DataSource</code></a>, and (b) <code>Class.forName</code> has not been needed for many years — in modern Java, JDBC drivers are automatically loaded via the <a href=\"https://en.wikipedia.org/wiki/Service_provider_interface\" rel=\"nofollow noreferrer\">Java Service Provider Interface (SPI)</a>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693073193,"creation_date":1693073193,"answer_id":76984236,"question_id":76984082,"body_markdown":"The warning occurs because you have a `public` method, `connect()`, defined in your public `DbConnect` class that has a return type of `Connection`. The method being `public` indicates the intention that the method can be called from anywhere, including any classes in other modules that require your module `myProject`. However, those classes will not be able to do so, because they will not be able to access the `Connection` class, which is in the `java.sql` module.\r\n\r\nYou probably don&#39;t need that method to be so widely accessible. The fact that your data is persisted to a relational database is, to a reasonable degree, an implementation detail that really shouldn&#39;t be exposed to other layers in your application.\r\n\r\nYou likely have some kind of data access class which accesses and persists domain objects and makes them available to other layers in your application (e.g. the presentation layer, with the UI etc.):\r\n\r\n    package myPackage;\r\n    \r\n    public class DataAccessor {\r\n    \r\n        private final Connection connection ;\r\n    \r\n        public DataAccessor() {\r\n            DbConnect dbConnect = new DbConnect();\r\n            this.connection = dbConnect.connect();\r\n        }\r\n    \r\n        public List&lt;Foo&gt; getAllFoos() throws Exception {\r\n            Statement statement = connection.createStatement();\r\n            ResultSet result = statement.executeQuery(&quot;SELECT * FROM foo&quot;);\r\n            List&lt;Foo&gt; foos = new ArrayList&lt;&gt;();\r\n            while (result.next()) {\r\n                Foo foo = new Foo();\r\n                foo.setBar(result.getString(&quot;bar&quot;))\r\n                // ...\r\n                foos.add(foo);\r\n            }\r\n            result.close();\r\n            statement.close();\r\n            return foos;\r\n        }\r\n    \r\n        // etc\r\n    }\r\n\r\nIn almost all cases, any data access classes belong in the same package as the `DbConnect` class, and the `DbConnect.connect()` method will not be needed anywhere outside that package. That means the `connect()` method does not need to be `public`, and it is general good practice to limit visibility only to the extent needed.\r\n\r\nIn this common case you can make the method have the default &quot;package-private&quot; visibility, which will remove the warning:\r\n\r\n    public class DbConnect {\r\n\r\n        private Connection connection;\r\n    \r\n        Connection connect() {\r\n            if (connection == null)\r\n            {         \r\n                try {\r\n                    Class.forName(databaseDriver);\r\n                    connection = (Connection) DriverManager.getConnection\r\n                            (databaseURL, getProperties());\r\n                }\r\n                catch (ClassNotFoundException | SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            return connection;\r\n        } \r\n    \r\n    }\r\n\r\nIn the (unlikely) event you really want to make the `connect()` method available publicly, you would need to make the `java.sql` module available to clients of your module. You can do this by requiring that module *transitively*:\r\n\r\n    module myProject{\r\n       requires transitive javafx.graphics;\r\n       requires javafx.controls;\r\n       requires javafx.fxml;\r\n       requires javafx.base;\r\n       requires javafx.web;\r\n       requires transitive java.sql;\r\n    \r\n       opens mypackage to javafx.fxml;\r\n       exports mypackage;\r\n    }\r\n\r\nBut again, it is quite unlikely you would need to do that, or need to structure your application to make that necessary.\r\n\r\n","title":"Why do I get java.sql may not be accessible to clients due to missing &#39;requires transitive&#39;","body":"<p>The warning occurs because you have a <code>public</code> method, <code>connect()</code>, defined in your public <code>DbConnect</code> class that has a return type of <code>Connection</code>. The method being <code>public</code> indicates the intention that the method can be called from anywhere, including any classes in other modules that require your module <code>myProject</code>. However, those classes will not be able to do so, because they will not be able to access the <code>Connection</code> class, which is in the <code>java.sql</code> module.</p>\n<p>You probably don't need that method to be so widely accessible. The fact that your data is persisted to a relational database is, to a reasonable degree, an implementation detail that really shouldn't be exposed to other layers in your application.</p>\n<p>You likely have some kind of data access class which accesses and persists domain objects and makes them available to other layers in your application (e.g. the presentation layer, with the UI etc.):</p>\n<pre><code>package myPackage;\n\npublic class DataAccessor {\n\n    private final Connection connection ;\n\n    public DataAccessor() {\n        DbConnect dbConnect = new DbConnect();\n        this.connection = dbConnect.connect();\n    }\n\n    public List&lt;Foo&gt; getAllFoos() throws Exception {\n        Statement statement = connection.createStatement();\n        ResultSet result = statement.executeQuery(&quot;SELECT * FROM foo&quot;);\n        List&lt;Foo&gt; foos = new ArrayList&lt;&gt;();\n        while (result.next()) {\n            Foo foo = new Foo();\n            foo.setBar(result.getString(&quot;bar&quot;))\n            // ...\n            foos.add(foo);\n        }\n        result.close();\n        statement.close();\n        return foos;\n    }\n\n    // etc\n}\n</code></pre>\n<p>In almost all cases, any data access classes belong in the same package as the <code>DbConnect</code> class, and the <code>DbConnect.connect()</code> method will not be needed anywhere outside that package. That means the <code>connect()</code> method does not need to be <code>public</code>, and it is general good practice to limit visibility only to the extent needed.</p>\n<p>In this common case you can make the method have the default &quot;package-private&quot; visibility, which will remove the warning:</p>\n<pre><code>public class DbConnect {\n\n    private Connection connection;\n\n    Connection connect() {\n        if (connection == null)\n        {         \n            try {\n                Class.forName(databaseDriver);\n                connection = (Connection) DriverManager.getConnection\n                        (databaseURL, getProperties());\n            }\n            catch (ClassNotFoundException | SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        return connection;\n    } \n\n}\n</code></pre>\n<p>In the (unlikely) event you really want to make the <code>connect()</code> method available publicly, you would need to make the <code>java.sql</code> module available to clients of your module. You can do this by requiring that module <em>transitively</em>:</p>\n<pre><code>module myProject{\n   requires transitive javafx.graphics;\n   requires javafx.controls;\n   requires javafx.fxml;\n   requires javafx.base;\n   requires javafx.web;\n   requires transitive java.sql;\n\n   opens mypackage to javafx.fxml;\n   exports mypackage;\n}\n</code></pre>\n<p>But again, it is quite unlikely you would need to do that, or need to structure your application to make that necessary.</p>\n"}],"owner":{"account_id":4374266,"reputation":487,"user_id":3567690,"accept_rate":29,"display_name":"F.M"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76984236,"answer_count":1,"score":2,"last_activity_date":1693074762,"creation_date":1693070799,"question_id":76984082,"body_markdown":"I used javafx and sdk20 for my project. I have some warnings in using database.(My IDE is eclipse)\r\n\r\nthe warnings are:\r\n\r\n    Description\tResource\tPath\tLocation\tType\r\n    The type Connection from module java.sql may not be accessible to clients due to missing  &#39;requires transitive&#39;\tdbConnect.java\t/myProject/src/mypackage line 25\tJava Problem\r\n\r\n\r\n\r\n\r\nthe db.java:\r\n\r\n    package mypackage;;\r\n    import java.io.IOException;\r\n    import java.sql.*;     // Use classes in java.sql package\r\n    import java.util.Properties;\r\n\r\n    public class dbConnect {\r\n\t // init database constants\r\n     static final String databaseDriver = &quot;oracle.jdbc.driver.OracleDriver&quot;;\r\n     static final String databaseURL = &quot;jdbc:oracle:thin:@localhost:1521:xe&quot;;\r\n     static final String username = &quot;system&quot;;\r\n     static final String pass = &quot;oracle&quot;;\r\n     private Connection connection;\r\n     private Properties properties;\r\n     private Statement statement;\r\n    \r\n    /**\r\n     * Connect to the database  \r\n     * \r\n     * @return Connection\r\n     */\r\n    public Connection connect()\r\n    {\r\n        if (connection == null)\r\n        {         \r\n            try {\r\n                Class.forName(databaseDriver);\r\n                connection = (Connection) DriverManager.getConnection\r\n                \t\t(databaseURL, getProperties());\r\n            }\r\n            catch (ClassNotFoundException | SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return connection;\r\n    }   \r\n    .\r\n    .\r\n    .\r\n\r\nmodjule-info.java\r\n\r\n    module myProject{\r\n\t   requires transitive javafx.graphics;\r\n\t   requires javafx.controls;\r\n\t   requires javafx.fxml;\r\n\t   requires javafx.base;\r\n\t   requires javafx.web;\r\n\t   requires java.sql;\r\n\r\n\t   opens mypackage to javafx.fxml;\r\n\t   exports mypackage;\r\n    }\r\n\r\nI have these warnings for ResultSet and PreparedStatement, too. I didn&#39;t type that section of code.","title":"Why do I get java.sql may not be accessible to clients due to missing &#39;requires transitive&#39;","body":"<p>I used javafx and sdk20 for my project. I have some warnings in using database.(My IDE is eclipse)</p>\n<p>the warnings are:</p>\n<pre><code>Description Resource    Path    Location    Type\nThe type Connection from module java.sql may not be accessible to clients due to missing  'requires transitive' dbConnect.java  /myProject/src/mypackage line 25    Java Problem\n</code></pre>\n<p>the db.java:</p>\n<pre><code>package mypackage;;\nimport java.io.IOException;\nimport java.sql.*;     // Use classes in java.sql package\nimport java.util.Properties;\n\npublic class dbConnect {\n // init database constants\n static final String databaseDriver = &quot;oracle.jdbc.driver.OracleDriver&quot;;\n static final String databaseURL = &quot;jdbc:oracle:thin:@localhost:1521:xe&quot;;\n static final String username = &quot;system&quot;;\n static final String pass = &quot;oracle&quot;;\n private Connection connection;\n private Properties properties;\n private Statement statement;\n\n/**\n * Connect to the database  \n * \n * @return Connection\n */\npublic Connection connect()\n{\n    if (connection == null)\n    {         \n        try {\n            Class.forName(databaseDriver);\n            connection = (Connection) DriverManager.getConnection\n                    (databaseURL, getProperties());\n        }\n        catch (ClassNotFoundException | SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    return connection;\n}   \n.\n.\n.\n</code></pre>\n<p>modjule-info.java</p>\n<pre><code>module myProject{\n   requires transitive javafx.graphics;\n   requires javafx.controls;\n   requires javafx.fxml;\n   requires javafx.base;\n   requires javafx.web;\n   requires java.sql;\n\n   opens mypackage to javafx.fxml;\n   exports mypackage;\n}\n</code></pre>\n<p>I have these warnings for ResultSet and PreparedStatement, too. I didn't type that section of code.</p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-query","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":1221675,"reputation":4074,"user_id":1188208,"accept_rate":90,"display_name":"Luis Lavieri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693074733,"creation_date":1693074733,"answer_id":76984316,"question_id":76979247,"body_markdown":"As suggested in [this](https://stackoverflow.com/a/55116346/1188208) post, the answer is to override the `getMappingBasePackages()` in the mongo config file:\r\n\r\n\r\n    @Override\r\n    protected Collection&lt;String&gt; getMappingBasePackages()\r\n    {\r\n        return Arrays.asList(&quot;com.myapp.models&quot;);\r\n    }","title":"MappingInstantiationException from MongoDB while trying to update a collection with an abstract class","body":"<p>As suggested in <a href=\"https://stackoverflow.com/a/55116346/1188208\">this</a> post, the answer is to override the <code>getMappingBasePackages()</code> in the mongo config file:</p>\n<pre><code>@Override\nprotected Collection&lt;String&gt; getMappingBasePackages()\n{\n    return Arrays.asList(&quot;com.myapp.models&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1221675,"reputation":4074,"user_id":1188208,"accept_rate":90,"display_name":"Luis Lavieri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76984316,"answer_count":1,"score":0,"last_activity_date":1693074733,"creation_date":1692983219,"question_id":76979247,"body_markdown":"So I&#39;m having this issue where I&#39;m using a single collection to store different  classes that inherit from the same abstract class wrapped in another class. I can insert these records without issue, but when I need to update a common property it fails. What can I do in this case?\r\n\r\n**Error:**\r\n\r\n&gt; &quot;Failed to instantiate com.models.Task using constructor\r\n&gt; public com.models.Task() with arguments &quot;\r\n\r\n**Classes**:\r\n    \r\n    //wrapper\r\n    @Data\r\n    @Document(collection=&quot;tasks&quot;)\r\n    public class WrapperTask {\r\n        @Id\r\n        private ObjectId id;\r\n        @BsonProperty(useDiscriminator = true)\r\n        private Task task;\r\n\r\n        public WrapperTask() {\r\n        }\r\n\r\n        public String getId() {\r\n            return Utils.ObjectId(this.id);\r\n        }\r\n    }\r\n\r\n    //abstract\r\n    @Data\r\n    @JsonTypeInfo( use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n    @JsonSubTypes({ \r\n        @Type(value = UploadTask.class, name = &quot;uploadTask&quot;),\r\n        //more classes\r\n    })\r\n    @BsonDiscriminator\r\n    public abstract class Task {\r\n        private TaskStatus status;\r\n        public int totalCount;\r\n        public int completedCount;\r\n\r\n        public Task() {\r\n            this.status = TaskStatus.NEW;\r\n        }\r\n    }\r\n\r\n    //child\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Document(collection = &quot;tasks&quot;)\r\n    @TypeAlias(&quot;uploadTask&quot;)\r\n    @BsonDiscriminator\r\n    public class UploadTask extends Task {\r\n\r\n        private LinkedList&lt;Document&gt; documents = new LinkedList&lt;&gt;();\r\n\r\n        public UploadTask(int totalCount) {\r\n            super();\r\n            this.totalCount = totalCount;\r\n        }\r\n\r\n        public UploadTask() {\r\n            super();\r\n        }\r\n    }\r\n\r\n**Logic:**\r\n\r\n    Query query = new Query(Criteria.where(&quot;_id&quot;).is(taskId));\r\n    Update update = new Update();\r\n    update = update.set(&quot;task.status&quot;, &quot;some status&quot;);\r\n        \r\n    if (taskType == UploadTask.class) {\r\n        Criteria criteria = Criteria.where(&quot;document.index&quot;).is(index);           \r\n        update = update.set(&quot;task.documents.$[document].status&quot;, &quot;some status&quot;);\r\n        update = update.set(&quot;task.documents.$[document].statusMessage&quot;, &quot;some message&quot;).filterArray(criteria);    \r\n    }\r\n\r\n    mongoOperations.findAndModify(query, update, options().upsert(false), WrapperTask.class);\r\n\r\nSo, how do I make this update work?\r\n\r\nThanks","title":"MappingInstantiationException from MongoDB while trying to update a collection with an abstract class","body":"<p>So I'm having this issue where I'm using a single collection to store different  classes that inherit from the same abstract class wrapped in another class. I can insert these records without issue, but when I need to update a common property it fails. What can I do in this case?</p>\n<p><strong>Error:</strong></p>\n<blockquote>\n<p>&quot;Failed to instantiate com.models.Task using constructor\npublic com.models.Task() with arguments &quot;</p>\n</blockquote>\n<p><strong>Classes</strong>:</p>\n<pre><code>//wrapper\n@Data\n@Document(collection=&quot;tasks&quot;)\npublic class WrapperTask {\n    @Id\n    private ObjectId id;\n    @BsonProperty(useDiscriminator = true)\n    private Task task;\n\n    public WrapperTask() {\n    }\n\n    public String getId() {\n        return Utils.ObjectId(this.id);\n    }\n}\n\n//abstract\n@Data\n@JsonTypeInfo( use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({ \n    @Type(value = UploadTask.class, name = &quot;uploadTask&quot;),\n    //more classes\n})\n@BsonDiscriminator\npublic abstract class Task {\n    private TaskStatus status;\n    public int totalCount;\n    public int completedCount;\n\n    public Task() {\n        this.status = TaskStatus.NEW;\n    }\n}\n\n//child\n@Data\n@EqualsAndHashCode(callSuper = true)\n@Document(collection = &quot;tasks&quot;)\n@TypeAlias(&quot;uploadTask&quot;)\n@BsonDiscriminator\npublic class UploadTask extends Task {\n\n    private LinkedList&lt;Document&gt; documents = new LinkedList&lt;&gt;();\n\n    public UploadTask(int totalCount) {\n        super();\n        this.totalCount = totalCount;\n    }\n\n    public UploadTask() {\n        super();\n    }\n}\n</code></pre>\n<p><strong>Logic:</strong></p>\n<pre><code>Query query = new Query(Criteria.where(&quot;_id&quot;).is(taskId));\nUpdate update = new Update();\nupdate = update.set(&quot;task.status&quot;, &quot;some status&quot;);\n    \nif (taskType == UploadTask.class) {\n    Criteria criteria = Criteria.where(&quot;document.index&quot;).is(index);           \n    update = update.set(&quot;task.documents.$[document].status&quot;, &quot;some status&quot;);\n    update = update.set(&quot;task.documents.$[document].statusMessage&quot;, &quot;some message&quot;).filterArray(criteria);    \n}\n\nmongoOperations.findAndModify(query, update, options().upsert(false), WrapperTask.class);\n</code></pre>\n<p>So, how do I make this update work?</p>\n<p>Thanks</p>\n"},{"tags":["java","string","sorting","date","hashmap"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1497131717,"post_id":44478426,"comment_id":75951921,"body_markdown":"You don&#39;t sort a hashmap - they&#39;re unordered (or rather, the ordering isn&#39;t specified, and can change).","body":"You don&#39;t sort a hashmap - they&#39;re unordered (or rather, the ordering isn&#39;t specified, and can change)."},{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":1,"creation_date":1497131886,"post_id":44478426,"comment_id":75951956,"body_markdown":"Are you looking for the implementation of a method along the lines of `List&lt;Event&gt; getEventsOrderedByDate(Map&lt;String, Event&gt; events)`?","body":"Are you looking for the implementation of a method along the lines of <code>List&lt;Event&gt; getEventsOrderedByDate(Map&lt;String, Event&gt; events)</code>?"},{"owner":{"account_id":9779820,"reputation":9719,"user_id":7248342,"display_name":"Thomas Fritsch"},"score":1,"creation_date":1497132470,"post_id":44478426,"comment_id":75952078,"body_markdown":"You can&#39;t sort a `HashMap`. You should use a [`TreeMap`](https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html) equipped with a specialized `Comparator`.","body":"You can&#39;t sort a <code>HashMap</code>. You should use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\"><code>TreeMap</code></a> equipped with a specialized <code>Comparator</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1497147815,"post_id":44478426,"comment_id":75954418,"body_markdown":"Handling dates and sorting maps have been addressed many times on Stack Overflow. Always search thoroughly before posting.","body":"Handling dates and sorting maps have been addressed many times on Stack Overflow. Always search thoroughly before posting."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1497139139,"post_id":44478978,"comment_id":75953273,"body_markdown":"There’s something I like about the idea. I would not use `float`s, though. I believe the strings are dates (without year becuase the same holidays occur every year), so `01.05` means May 1 and `14.02` means February 14. One may also prefer `ArrayList` and its own `sort` method (or `Collections.sort()`).","body":"There’s something I like about the idea. I would not use <code>float</code>s, though. I believe the strings are dates (without year becuase the same holidays occur every year), so <code>01.05</code> means May 1 and <code>14.02</code> means February 14. One may also prefer <code>ArrayList</code> and its own <code>sort</code> method (or <code>Collections.sort()</code>)."},{"owner":{"account_id":9326131,"reputation":19,"user_id":6923376,"display_name":"anish kumaramangalam"},"score":0,"creation_date":1497199775,"post_id":44478978,"comment_id":75966627,"body_markdown":"I did overlook the date thing and your solution makes more sense than mine.","body":"I did overlook the date thing and your solution makes more sense than mine."}],"tags":[],"owner":{"account_id":9326131,"reputation":19,"user_id":6923376,"display_name":"anish kumaramangalam"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497136845,"creation_date":1497136845,"answer_id":44478978,"question_id":44478426,"body_markdown":"-----\r\n\r\nIf you have to use a HashMap you could put your keys in a Float list or vector and sort your keys and Keep your HashMap.\r\n\r\n-----\r\n\r\n    java.util.HashMap&lt;String, Event&gt; holidayMap = new java.util.HashMap&lt;String, Event&gt;();\r\n\r\n\tholidayMap.put(&quot;01.05&quot;, new Event(&quot;1. Mai&quot;));\r\n\tholidayMap.put(&quot;14.02&quot;, new Event(&quot;Valentinseday&quot;);\r\n\t\t\r\n\tjava.util.Vector&lt;Float&gt; v = new java.util.Vector&lt;Float&gt;();\r\n\t\r\n    // Use an Iterator to loop through the HashMap and add it to the Vector\r\n\tIterator it = holidayMap.entrySet().iterator();\r\n\twhile (it.hasNext()) {\r\n\t    Map.Entry pair = (Map.Entry)it.next();\t        \r\n        v.add(Integer.valueOf((String) pair.getKey()));\r\n\t        \r\n    }\r\n\t    \r\n    // now all you have to do is sort your keys\r\n\tBubbleSort s = new BubbleSort(v);\r\n\r\n**Use your sorted keys in the list or Vector get sorted Map data on demand**\r\nBut I do suggest you use LinkedList or Binary Tree\r\n\r\n","title":"How to sort a Hashmap by key String?","body":"<hr>\n\n<p>If you have to use a HashMap you could put your keys in a Float list or vector and sort your keys and Keep your HashMap.</p>\n\n<hr>\n\n<pre><code>java.util.HashMap&lt;String, Event&gt; holidayMap = new java.util.HashMap&lt;String, Event&gt;();\n\nholidayMap.put(\"01.05\", new Event(\"1. Mai\"));\nholidayMap.put(\"14.02\", new Event(\"Valentinseday\");\n\njava.util.Vector&lt;Float&gt; v = new java.util.Vector&lt;Float&gt;();\n\n// Use an Iterator to loop through the HashMap and add it to the Vector\nIterator it = holidayMap.entrySet().iterator();\nwhile (it.hasNext()) {\n    Map.Entry pair = (Map.Entry)it.next();          \n    v.add(Integer.valueOf((String) pair.getKey()));\n\n}\n\n// now all you have to do is sort your keys\nBubbleSort s = new BubbleSort(v);\n</code></pre>\n\n<p><strong>Use your sorted keys in the list or Vector get sorted Map data on demand</strong>\nBut I do suggest you use LinkedList or Binary Tree</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497138358,"creation_date":1497137976,"answer_id":44479091,"question_id":44478426,"body_markdown":"There are two problems with this. I can solve one, but not the other precisely to your requirements as stated.\r\n\r\nThe easy one is how to sort the strings as date values. The solution is to use the built-in `MonthDay` class. This has a natural ordering from January 1 through December 31. It’s straightforward to parse your strings into `MonthDay` objects.\r\n\r\nThe part I cannot do is sort a `HashMap`. You cannot control the order of the entries in a `HashMap`. Suggestions include:\r\n\r\n - Take out all the data from the `HashMap` into a list (or array) and sort it.\r\n - Use a `SortedMap`, typically a `TreeMap` as Thomas Fritsch suggested in a comment\r\n - The closest I can get: Use a `LinkedHashMap`. You can control the order as either the insertion order or the access order. To sort the map, you need to sort the keys and then for each key in turn either remove it and reinsert, or just query its mapped value. `LinkedHashMap` is a subclass of `HashMap`, so it does count as one. Though this may give you what you asked for, it sounds a bit absurd in my ears.\r\n\r\nJust for illustration and aware that it conflicts with what you asked, here’s a way to convert you `HashMap&lt;String, Event&gt;` to a `TreeMap&lt;MonthDay, Evenet&gt;` using streams:\r\n\r\n\t    DateTimeFormatter parseFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM&quot;);\r\n\t\tSortedMap&lt;MonthDay, Event&gt; sortedHolidayMap = this.holidayMap\r\n\t    \t\t.entrySet()\r\n\t    \t\t.stream()\r\n\t    \t\t.collect(Collectors.toMap((Map.Entry&lt;String, Event&gt; e) -&gt; MonthDay.parse(e.getKey(), parseFormatter), \r\n\t    \t\t\t\t\t\t\t\t  (Map.Entry&lt;String, Event&gt; e) -&gt; e.getValue(),\r\n\t    \t\t\t\t\t\t\t\t  (u, v) -&gt; { throw new IllegalArgumentException(); },\r\n\t    \t\t\t\t\t\t\t\t  () -&gt; new TreeMap&lt;MonthDay, Event&gt;()));\r\n\r\nFor a first test I tried filling a few more holidays into the `HashMap`:\r\n\r\n\t    this.holidayMap.put(&quot;01.05&quot;, new Event(&quot;1. Mai&quot;));\r\n\t    this.holidayMap.put(&quot;14.02&quot;, new Event(&quot;Valentinesday&quot;));\r\n\t    this.holidayMap.put(&quot;03.10&quot;, new Event(&quot;Tag der deutschen Einheit&quot;));\r\n\t    this.holidayMap.put(&quot;01.01&quot;, new Event(&quot;New Year&quot;));\r\n\t    this.holidayMap.put(&quot;17.05&quot;, new Event(&quot;Grunnlovsdag&quot;));\r\n\t    this.holidayMap.put(&quot;17.03&quot;, new Event(&quot;St. Patrick&quot;));\r\n\r\nThey come out nicely sorted:\r\n\r\n    01.01 New Year\r\n    14.02 Valentinesday\r\n    17.03 St. Patrick\r\n    01.05 1. Mai\r\n    17.05 Grunnlovsdag\r\n    03.10 Tag der deutschen Einheit\r\n\r\n","title":"How to sort a Hashmap by key String?","body":"<p>There are two problems with this. I can solve one, but not the other precisely to your requirements as stated.</p>\n\n<p>The easy one is how to sort the strings as date values. The solution is to use the built-in <code>MonthDay</code> class. This has a natural ordering from January 1 through December 31. It’s straightforward to parse your strings into <code>MonthDay</code> objects.</p>\n\n<p>The part I cannot do is sort a <code>HashMap</code>. You cannot control the order of the entries in a <code>HashMap</code>. Suggestions include:</p>\n\n<ul>\n<li>Take out all the data from the <code>HashMap</code> into a list (or array) and sort it.</li>\n<li>Use a <code>SortedMap</code>, typically a <code>TreeMap</code> as Thomas Fritsch suggested in a comment</li>\n<li>The closest I can get: Use a <code>LinkedHashMap</code>. You can control the order as either the insertion order or the access order. To sort the map, you need to sort the keys and then for each key in turn either remove it and reinsert, or just query its mapped value. <code>LinkedHashMap</code> is a subclass of <code>HashMap</code>, so it does count as one. Though this may give you what you asked for, it sounds a bit absurd in my ears.</li>\n</ul>\n\n<p>Just for illustration and aware that it conflicts with what you asked, here’s a way to convert you <code>HashMap&lt;String, Event&gt;</code> to a <code>TreeMap&lt;MonthDay, Evenet&gt;</code> using streams:</p>\n\n<pre><code>    DateTimeFormatter parseFormatter = DateTimeFormatter.ofPattern(\"dd.MM\");\n    SortedMap&lt;MonthDay, Event&gt; sortedHolidayMap = this.holidayMap\n            .entrySet()\n            .stream()\n            .collect(Collectors.toMap((Map.Entry&lt;String, Event&gt; e) -&gt; MonthDay.parse(e.getKey(), parseFormatter), \n                                      (Map.Entry&lt;String, Event&gt; e) -&gt; e.getValue(),\n                                      (u, v) -&gt; { throw new IllegalArgumentException(); },\n                                      () -&gt; new TreeMap&lt;MonthDay, Event&gt;()));\n</code></pre>\n\n<p>For a first test I tried filling a few more holidays into the <code>HashMap</code>:</p>\n\n<pre><code>    this.holidayMap.put(\"01.05\", new Event(\"1. Mai\"));\n    this.holidayMap.put(\"14.02\", new Event(\"Valentinesday\"));\n    this.holidayMap.put(\"03.10\", new Event(\"Tag der deutschen Einheit\"));\n    this.holidayMap.put(\"01.01\", new Event(\"New Year\"));\n    this.holidayMap.put(\"17.05\", new Event(\"Grunnlovsdag\"));\n    this.holidayMap.put(\"17.03\", new Event(\"St. Patrick\"));\n</code></pre>\n\n<p>They come out nicely sorted:</p>\n\n<pre><code>01.01 New Year\n14.02 Valentinesday\n17.03 St. Patrick\n01.05 1. Mai\n17.05 Grunnlovsdag\n03.10 Tag der deutschen Einheit\n</code></pre>\n"}],"owner":{"account_id":10970171,"reputation":29,"user_id":8060716,"accept_rate":0,"display_name":"MichaelDev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1693074668,"creation_date":1497131656,"question_id":44478426,"body_markdown":"I am using some holiday dates in a HashMap.\r\n\r\n    this.holidayMap.put(&quot;01.05&quot;, new Event(&quot;1. Mai&quot;));\r\n    this.holidayMap.put(&quot;14.02&quot;, new Event(&quot;Valentinseday&quot;));\r\n\r\nThat is some of my input. I have a separate method to add them. Now I want to sort them by the String - Date but I have no clue how to do it. I have seen many post of simple Strings but mine are a bit difficult because of the date format.\r\n\r\nI just want to call a method which then sorts the HashMap.\r\nI don&#39;t want to change the HashMap in a other type. Because I must use a HashMap.\r\n\r\nI am sorry I have no code to present.\r\n\r\nBest Regards","title":"How to sort a Hashmap by key String?","body":"<p>I am using some holiday dates in a HashMap.</p>\n<pre><code>this.holidayMap.put(&quot;01.05&quot;, new Event(&quot;1. Mai&quot;));\nthis.holidayMap.put(&quot;14.02&quot;, new Event(&quot;Valentinseday&quot;));\n</code></pre>\n<p>That is some of my input. I have a separate method to add them. Now I want to sort them by the String - Date but I have no clue how to do it. I have seen many post of simple Strings but mine are a bit difficult because of the date format.</p>\n<p>I just want to call a method which then sorts the HashMap.\nI don't want to change the HashMap in a other type. Because I must use a HashMap.</p>\n<p>I am sorry I have no code to present.</p>\n<p>Best Regards</p>\n"},{"tags":["java","text","relative-path"],"answers":[{"comments":[{"owner":{"account_id":5360294,"reputation":531,"user_id":4271767,"accept_rate":58,"display_name":"Fran"},"score":0,"creation_date":1433968263,"post_id":30766716,"comment_id":49585505,"body_markdown":"And of course import your text file to your working directory","body":"And of course import your text file to your working directory"}],"tags":[],"owner":{"account_id":5360294,"reputation":531,"user_id":4271767,"accept_rate":58,"display_name":"Fran"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1670257899,"creation_date":1433968199,"answer_id":30766716,"question_id":30765270,"body_markdown":"When you try to open a file, it takes your current working path.\r\nFor example this working tree:\r\n\r\n    Project\r\n    |-&gt;src\r\n    |   |--&gt;MyClass.java\r\n    |   |--&gt;MyFile1.txt\r\n    |-&gt;res\r\n       |-&gt;files\r\n         |--&gt;MyFile2.txt\r\n\r\nYou can use `new File(&quot;MyFile1.txt&quot;);` for MyFile1. \r\n\r\nor \r\n\r\n`new File(&quot;./res/files/MyFile2.txt&quot;);` for MyFile2.","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>When you try to open a file, it takes your current working path.\nFor example this working tree:</p>\n<pre><code>Project\n|-&gt;src\n|   |--&gt;MyClass.java\n|   |--&gt;MyFile1.txt\n|-&gt;res\n   |-&gt;files\n     |--&gt;MyFile2.txt\n</code></pre>\n<p>You can use <code>new File(&quot;MyFile1.txt&quot;);</code> for MyFile1.</p>\n<p>or</p>\n<p><code>new File(&quot;./res/files/MyFile2.txt&quot;);</code> for MyFile2.</p>\n"},{"tags":[],"owner":{"account_id":8928754,"reputation":7427,"user_id":6662058,"display_name":"Ashwin"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1526746266,"creation_date":1526746266,"answer_id":50427174,"question_id":30765270,"body_markdown":"You need to start your path from src. &quot;src/your/path/file.txt&quot;. See my answer [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50427103/6662058","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>You need to start your path from src. \"src/your/path/file.txt\". See my answer <a href=\"https://stackoverflow.com/a/50427103/6662058\">here</a></p>\n"},{"comments":[{"owner":{"account_id":12614412,"reputation":179,"user_id":9320220,"display_name":"korayguney"},"score":0,"creation_date":1613893317,"post_id":63554622,"comment_id":117212879,"body_markdown":"This was the answer that I am looking for! Thanks @Big Pumpkin","body":"This was the answer that I am looking for! Thanks @Big Pumpkin"}],"tags":[],"owner":{"account_id":7717417,"reputation":4037,"user_id":5844686,"display_name":"Big Pumpkin"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598242360,"creation_date":1598242360,"answer_id":63554622,"question_id":30765270,"body_markdown":"If you have a multi-project setup, it may not be obvious what the &quot;root&quot; directory is for a relative path. In that case, open the `Terminal` tab in your IntelliJ and see what directory it lands in. That is the &quot;root&quot; directory. Your relative path should start there.","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>If you have a multi-project setup, it may not be obvious what the &quot;root&quot; directory is for a relative path. In that case, open the <code>Terminal</code> tab in your IntelliJ and see what directory it lands in. That is the &quot;root&quot; directory. Your relative path should start there.</p>\n"},{"tags":[],"owner":{"account_id":904283,"reputation":432,"user_id":970082,"accept_rate":86,"display_name":"Sasha Kolsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678585566,"creation_date":1678585566,"answer_id":75710640,"question_id":30765270,"body_markdown":"@Big Pumpkin\r\nNot sure about the terminal showing me the path of the &quot;root&quot;.\r\nBut it does turn out to be the top most directory in a multi-module project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N3lef.png","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>@Big Pumpkin\nNot sure about the terminal showing me the path of the &quot;root&quot;.\nBut it does turn out to be the top most directory in a multi-module project.</p>\n<p><a href=\"https://i.stack.imgur.com/N3lef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N3lef.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":29304994,"reputation":1,"user_id":22452250,"display_name":"Aswin T B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693074557,"creation_date":1693074557,"answer_id":76984305,"question_id":30765270,"body_markdown":"If file1.txt in &#39;src&#39; it will have path as &quot;src\\\\main\\\\java\\\\file1.txt&quot;. Relative path starts from src.","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>If file1.txt in 'src' it will have path as &quot;src\\main\\java\\file1.txt&quot;. Relative path starts from src.</p>\n"}],"owner":{"account_id":4021505,"reputation":435,"user_id":3498886,"accept_rate":56,"display_name":"gangwerz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31581,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":30766716,"answer_count":5,"score":10,"last_activity_date":1693074557,"creation_date":1433963548,"question_id":30765270,"body_markdown":"I have a program that reads numbers from a `.txt` file. My problem is where to place this file, or how to reference it with a relative path to make this file accessible without using the absolute path.","title":"Reference a Text File with relative path in Java with the IntelliJ IDEA","body":"<p>I have a program that reads numbers from a <code>.txt</code> file. My problem is where to place this file, or how to reference it with a relative path to make this file accessible without using the absolute path.</p>\n"},{"tags":["java","gradle","gradle-plugin","gradle-kotlin-dsl"],"answers":[{"tags":[],"owner":{"account_id":384599,"reputation":1379,"user_id":741217,"accept_rate":62,"display_name":"Rolf W."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661522691,"creation_date":1661522691,"answer_id":73502265,"question_id":72627792,"body_markdown":"I faced the same issue when implementing a similar plugin, and although I didn&#39;t find out why, I did manage to work around it:\r\n\r\n```kotlin\r\n// SettingsExtensions.kt\r\n\r\nimport org.gradle.api.Action\r\nimport org.gradle.api.initialization.Settings\r\nimport org.gradle.api.plugins.ExtensionAware\r\n\r\n/* WORKAROUND: for some reason a type-safe accessor is not generated for the extension,\r\n* even though it is present in the extension container where the plugin is applied.\r\n* This seems to work fine, and the extension methods are only available when the plugin\r\n* is actually applied. */\r\n\r\n/**\r\n * Retrieves the [modules][IncludeModulesExtension]\r\n * extension.\r\n */\r\nval Settings.modules: IncludeModulesExtension\r\n    get() =\r\n        (this as ExtensionAware).extensions.getByName(&quot;modules&quot;) as IncludeModulesExtension\r\n\r\n/**\r\n * Configures the [modules][IncludeModulesExtension] extension.\r\n */\r\nfun Settings.modules(configure: Action&lt;IncludeModulesExtension&gt;): Unit =\r\n    (this as ExtensionAware).extensions.configure(&quot;modules&quot;,\r\n        configure)\r\n```\r\n\r\nAs the comment explains, it behaves exactly the same as a generated type-safe accessor (same syntax and the extension is only available when the plugin is actually applied). \r\n\r\nI didn&#39;t test if it works for the Groovy DSL, but since the extension methods are syntactically identical to the generated accessors, I assume it does.\r\n\r\nAlternatively you can do without if instead of the `modules` DSL you do this in the settings script where the plugin is applied:\r\n\r\n```kotlin\r\nconfigure&lt;IncludeModulesExtension&gt; {\r\n    ...\r\n}\r\n```\r\n\r\nThis also works because even though the type-safe accessor is not generated, the extension _is_ properly initialized and added to the extensions container. But the DSL is obviously nicer.","title":"Gradle Settings plugin extension","body":"<p>I faced the same issue when implementing a similar plugin, and although I didn't find out why, I did manage to work around it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// SettingsExtensions.kt\n\nimport org.gradle.api.Action\nimport org.gradle.api.initialization.Settings\nimport org.gradle.api.plugins.ExtensionAware\n\n/* WORKAROUND: for some reason a type-safe accessor is not generated for the extension,\n* even though it is present in the extension container where the plugin is applied.\n* This seems to work fine, and the extension methods are only available when the plugin\n* is actually applied. */\n\n/**\n * Retrieves the [modules][IncludeModulesExtension]\n * extension.\n */\nval Settings.modules: IncludeModulesExtension\n    get() =\n        (this as ExtensionAware).extensions.getByName(&quot;modules&quot;) as IncludeModulesExtension\n\n/**\n * Configures the [modules][IncludeModulesExtension] extension.\n */\nfun Settings.modules(configure: Action&lt;IncludeModulesExtension&gt;): Unit =\n    (this as ExtensionAware).extensions.configure(&quot;modules&quot;,\n        configure)\n</code></pre>\n<p>As the comment explains, it behaves exactly the same as a generated type-safe accessor (same syntax and the extension is only available when the plugin is actually applied).</p>\n<p>I didn't test if it works for the Groovy DSL, but since the extension methods are syntactically identical to the generated accessors, I assume it does.</p>\n<p>Alternatively you can do without if instead of the <code>modules</code> DSL you do this in the settings script where the plugin is applied:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>configure&lt;IncludeModulesExtension&gt; {\n    ...\n}\n</code></pre>\n<p>This also works because even though the type-safe accessor is not generated, the extension <em>is</em> properly initialized and added to the extensions container. But the DSL is obviously nicer.</p>\n"},{"tags":[],"owner":{"account_id":24761962,"reputation":11,"user_id":18646253,"display_name":"Jukka Papinkivi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693074483,"creation_date":1693074483,"answer_id":76984301,"question_id":72627792,"body_markdown":"Add type-safe accessor to your plugin project. Make sure to put it on following package:\r\n```kotlin\r\npackage org.gradle.kotlin.dsl\r\n\r\nimport com.ieffects.gradle.server.IncludeModulesExtension\r\nimport org.gradle.api.initialization.Settings\r\n\r\nfun Settings.modules(action: IncludeModulesExtension.() -&gt; Unit) =\r\n    extensions.getByType(IncludeModulesExtension::class.java).action()\r\n\r\n```\r\n\r\nGradle has problems to generate DSL for settings on-the-fly. Might be chicken-egg problem when you apply plugin, Gradle has to generate DSL and you immediately try t configure it. Try restart Gradle &amp; IDE after adding plugin.\r\n","title":"Gradle Settings plugin extension","body":"<p>Add type-safe accessor to your plugin project. Make sure to put it on following package:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package org.gradle.kotlin.dsl\n\nimport com.ieffects.gradle.server.IncludeModulesExtension\nimport org.gradle.api.initialization.Settings\n\nfun Settings.modules(action: IncludeModulesExtension.() -&gt; Unit) =\n    extensions.getByType(IncludeModulesExtension::class.java).action()\n\n</code></pre>\n<p>Gradle has problems to generate DSL for settings on-the-fly. Might be chicken-egg problem when you apply plugin, Gradle has to generate DSL and you immediately try t configure it. Try restart Gradle &amp; IDE after adding plugin.</p>\n"}],"owner":{"account_id":17573941,"reputation":71,"user_id":12749122,"display_name":"Mischael Schill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693074483,"creation_date":1655280062,"question_id":72627792,"body_markdown":"I want to create a settings plugin (not project plugin) to simplify some stuff, but I cannot get the configuration clause to work. \r\n\r\nThis is my plugin (Java code)\r\n\r\n```\r\npublic class SettingsPlugin implements Plugin&lt;Settings&gt; {\r\n    @Override\r\n    public void apply(Settings target) {\r\n        target.getExtensions()\r\n              .create(&quot;modules&quot;, IncludeModulesExtension.class, target);\r\n\r\n        System.err.println(&quot;Applied settings plugin&quot;);\r\n    }\r\n}\r\n\r\npublic class IncludeModulesExtension {\r\n\tprivate final Settings _settings;\r\n\r\n\tpublic IncludeModulesExtension(Settings settings) {\r\n\t\t_settings = settings;\r\n\t}\r\n\r\n\tpublic void include(String path) {\r\n\t}\r\n}\r\n\r\n```\r\n\r\nMy problem is, that gradle is not picking up the &quot;modules&quot; dynamic function in my settings.gradle.kts:\r\n\r\n```\r\npluginManagement {\r\n\t...\r\n}\r\n\r\nplugins {\r\n    id(&quot;com.ieffects.gradle-tools.settings-server&quot;) version (&quot;7.0.23-SNAPSHOT&quot;)\r\n}\r\n\r\nmodules {\r\n\t\r\n}\r\n```\r\n\r\nI omitted the pluginManagement, the plugin is found and applied, however the &quot;modules&quot; is not picked up. What is it I&#39;m doing wrong?\r\n\r\n```\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 2 s 396 ms\r\nApplied settings plugin\r\ne: /Volumes/Development/Git/server-framework-galcon/settings.gradle.kts:22:1: Unresolved reference: modules\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nSettings file &#39;/Volumes/Development/Git/server-framework-galcon/settings.gradle.kts&#39; line: 22\r\n\r\n* What went wrong:\r\nScript compilation error:\r\n\r\n  Line 22: modules {\r\n           ^ Unresolved reference: modules\r\n\r\n1 error\r\n```\r\n\r\n","title":"Gradle Settings plugin extension","body":"<p>I want to create a settings plugin (not project plugin) to simplify some stuff, but I cannot get the configuration clause to work.</p>\n<p>This is my plugin (Java code)</p>\n<pre><code>public class SettingsPlugin implements Plugin&lt;Settings&gt; {\n    @Override\n    public void apply(Settings target) {\n        target.getExtensions()\n              .create(&quot;modules&quot;, IncludeModulesExtension.class, target);\n\n        System.err.println(&quot;Applied settings plugin&quot;);\n    }\n}\n\npublic class IncludeModulesExtension {\n    private final Settings _settings;\n\n    public IncludeModulesExtension(Settings settings) {\n        _settings = settings;\n    }\n\n    public void include(String path) {\n    }\n}\n\n</code></pre>\n<p>My problem is, that gradle is not picking up the &quot;modules&quot; dynamic function in my settings.gradle.kts:</p>\n<pre><code>pluginManagement {\n    ...\n}\n\nplugins {\n    id(&quot;com.ieffects.gradle-tools.settings-server&quot;) version (&quot;7.0.23-SNAPSHOT&quot;)\n}\n\nmodules {\n    \n}\n</code></pre>\n<p>I omitted the pluginManagement, the plugin is found and applied, however the &quot;modules&quot; is not picked up. What is it I'm doing wrong?</p>\n<pre><code>Starting Gradle Daemon...\nGradle Daemon started in 2 s 396 ms\nApplied settings plugin\ne: /Volumes/Development/Git/server-framework-galcon/settings.gradle.kts:22:1: Unresolved reference: modules\n\nFAILURE: Build failed with an exception.\n\n* Where:\nSettings file '/Volumes/Development/Git/server-framework-galcon/settings.gradle.kts' line: 22\n\n* What went wrong:\nScript compilation error:\n\n  Line 22: modules {\n           ^ Unresolved reference: modules\n\n1 error\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676295837,"post_id":75434622,"comment_id":133102732,"body_markdown":"I don&#39;t get the point about &quot;without having to wait till the inner Publisher completes; but making sure it&#39;s completed nevertheless&quot;.  Is it a fire-and-forget scenario or you want to return some result for further processing? And what do you mean by &quot;wait&quot; ?","body":"I don&#39;t get the point about &quot;without having to wait till the inner Publisher completes; but making sure it&#39;s completed nevertheless&quot;.  Is it a fire-and-forget scenario or you want to return some result for further processing? And what do you mean by &quot;wait&quot; ?"},{"owner":{"account_id":3047853,"reputation":1464,"user_id":2583044,"accept_rate":62,"display_name":"62mkv"},"score":0,"creation_date":1676363159,"post_id":75434622,"comment_id":133116871,"body_markdown":"it&#39;s almost &quot;fire-and-forget&quot; but I want to be _confident_ that the subscription will complete. The presented code is not giving me this confidence, for some reason. by &quot;wait&quot; I mean &quot;complete this Publisher (the one I return from the method) only *after* the other one&quot; - this is a thing I want to avoid. \n\nIn an imperative, blocking code, an analogous construct would be to start some processing on a separate thread and return immediately, without having to wait till that thread is done","body":"it&#39;s almost &quot;fire-and-forget&quot; but I want to be <i>confident</i> that the subscription will complete. The presented code is not giving me this confidence, for some reason. by &quot;wait&quot; I mean &quot;complete this Publisher (the one I return from the method) only <i>after</i> the other one&quot; - this is a thing I want to avoid.   In an imperative, blocking code, an analogous construct would be to start some processing on a separate thread and return immediately, without having to wait till that thread is done"}],"answers":[{"comments":[{"owner":{"account_id":3047853,"reputation":1464,"user_id":2583044,"accept_rate":62,"display_name":"62mkv"},"score":0,"creation_date":1676375263,"post_id":75445943,"comment_id":133120406,"body_markdown":"this is exactly what we do; question is - what guarantees do I have that it&#39;s safe thing to do? the value returned by `.subscribe()` is not stored anywhere; how can I be confident it&#39;s not going to be just removed by the GC with all it&#39;s subscriptions etc ? I am struggling to find anything in the official reference regarding this usage of `.subscribe()`","body":"this is exactly what we do; question is - what guarantees do I have that it&#39;s safe thing to do? the value returned by <code>.subscribe()</code> is not stored anywhere; how can I be confident it&#39;s not going to be just removed by the GC with all it&#39;s subscriptions etc ? I am struggling to find anything in the official reference regarding this usage of <code>.subscribe()</code>"},{"owner":{"account_id":3047853,"reputation":1464,"user_id":2583044,"accept_rate":62,"display_name":"62mkv"},"score":0,"creation_date":1676375374,"post_id":75445943,"comment_id":133120442,"body_markdown":"to be fair: I am quite certain I have used such tricks in the past too; I just started growing uneasy about it and want to find some tangible proof of either argument., whether it&#39;s perfectly fine pattern or if there&#39;re any implications to keep in mind","body":"to be fair: I am quite certain I have used such tricks in the past too; I just started growing uneasy about it and want to find some tangible proof of either argument., whether it&#39;s perfectly fine pattern or if there&#39;re any implications to keep in mind"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676375935,"post_id":75445943,"comment_id":133120595,"body_markdown":"actually there&#39;s nothing wrong to subscribe() in such cases somewhere in your application, because what the rule about subscribe() states is: the who is considered to be a consumer, the he should call subscribe(). Since the consumer of your separate process is the application itself (because it is a &quot;background processing&quot;), then there&#39;s nothing wrong with that. Also I don&#39;t see any problem with garbage collecting, since basically it works when there&#39;s no any reference found to an object.","body":"actually there&#39;s nothing wrong to subscribe() in such cases somewhere in your application, because what the rule about subscribe() states is: the who is considered to be a consumer, the he should call subscribe(). Since the consumer of your separate process is the application itself (because it is a &quot;background processing&quot;), then there&#39;s nothing wrong with that. Also I don&#39;t see any problem with garbage collecting, since basically it works when there&#39;s no any reference found to an object."},{"owner":{"account_id":3047853,"reputation":1464,"user_id":2583044,"accept_rate":62,"display_name":"62mkv"},"score":0,"creation_date":1676376591,"post_id":75445943,"comment_id":133120797,"body_markdown":"you mean even if Disposable is garbage-collected, subscription is bound to be completed? not cancelled?","body":"you mean even if Disposable is garbage-collected, subscription is bound to be completed? not cancelled?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676376620,"post_id":75445943,"comment_id":133120808,"body_markdown":"I think what you should care about is what Scheduler to provide in subscribeOn() in your case. Does your process perform some CPU-bound work? Then use Schedulers.parallel(). Does your process perform IO-operations (blocking/non-blocking)? Then use Schedulers.boundedElastic()","body":"I think what you should care about is what Scheduler to provide in subscribeOn() in your case. Does your process perform some CPU-bound work? Then use Schedulers.parallel(). Does your process perform IO-operations (blocking/non-blocking)? Then use Schedulers.boundedElastic()"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676376827,"post_id":75445943,"comment_id":133120880,"body_markdown":"it would be collected after the thread finished it&#39;s work. Since different thread and  it&#39;s stack will hold all necessary references.","body":"it would be collected after the thread finished it&#39;s work. Since different thread and  it&#39;s stack will hold all necessary references."},{"owner":{"account_id":3047853,"reputation":1464,"user_id":2583044,"accept_rate":62,"display_name":"62mkv"},"score":0,"creation_date":1676376903,"post_id":75445943,"comment_id":133120902,"body_markdown":"so basically you&#39;re saying that if we care to use the proper Scheduler for `.subscribeOn()` then such pattern of usage is perfectly fine?","body":"so basically you&#39;re saying that if we care to use the proper Scheduler for <code>.subscribeOn()</code> then such pattern of usage is perfectly fine?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1676376971,"post_id":75445943,"comment_id":133120923,"body_markdown":"Right, that&#39;s literally what I mean","body":"Right, that&#39;s literally what I mean"},{"owner":{"account_id":3047853,"reputation":1464,"user_id":2583044,"accept_rate":62,"display_name":"62mkv"},"score":0,"creation_date":1676377209,"post_id":75445943,"comment_id":133120991,"body_markdown":"Understood; well, that would be my assumption too.. for the most part I created this question in an attempt to get some feedback from Reactor team and eventually have this subject also discussed in the Reference pages.","body":"Understood; well, that would be my assumption too.. for the most part I created this question in an attempt to get some feedback from Reactor team and eventually have this subject also discussed in the Reference pages."},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1676377736,"post_id":75445943,"comment_id":133121154,"body_markdown":"Also one point to add: this approach may lead to problem &quot;fast producer - slow consumer&quot; if your separate process is really slow compared to the producer. Since you&#39;re losing backpressure benefits &quot;breaking&quot; your reactive chain &quot;in the middle&quot;. But it is debatable, because sometimes we really need some background processing of requests from producer.","body":"Also one point to add: this approach may lead to problem &quot;fast producer - slow consumer&quot; if your separate process is really slow compared to the producer. Since you&#39;re losing backpressure benefits &quot;breaking&quot; your reactive chain &quot;in the middle&quot;. But it is debatable, because sometimes we really need some background processing of requests from producer."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":1,"creation_date":1693316848,"post_id":75445943,"comment_id":135742512,"body_markdown":"I may add from my experience. We have a couple of projects where we use such technique, and I also had some concerns regarding it. But it seems to be working fine so far. GC doesn&#39;t touch it until it completes b/c references are still here. And we use `subscribeOn` usually.","body":"I may add from my experience. We have a couple of projects where we use such technique, and I also had some concerns regarding it. But it seems to be working fine so far. GC doesn&#39;t touch it until it completes b/c references are still here. And we use <code>subscribeOn</code> usually."}],"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676376312,"creation_date":1676367596,"answer_id":75445943,"question_id":75434622,"body_markdown":"If I understand you correctly, then it is basically a fire-and-forget scenario, but nothing prevents you from using additional operators on that chain to process the results.\r\n\r\nIf by *&quot;to beconfident that the subscription will complete&quot;* you mean *&quot;do something if it is completed successfully&quot;* or *&quot;do something if it is completed with error&quot;* then:\r\n\r\nIf you want to start some processing in a separate thread and return immediately, and also be *confident* in completion of that sepapate processing, then you can use both `subscribeOn()` and put some operators to that chain to handle the results of success or errors of that processing, just as you do when you build any reactive chain.\r\n\r\nTo handle the results you can use, for example, `.map()`, `doOnNext()`, `flatMap()`, `switchIfEmpty()`, etc., whatever fits your requirements, \r\n\r\nTo handle errors, you can use, for example, `onErrorResume()`, `onErrorContinue()`, `onErrorMap()`, `onErrorReturn()`, `doOnError()`, etc., whatever fits your requirements.\r\n\r\nHere is an example how it would look like:\r\n\r\n&lt;!-- language: java --&gt;\r\n    private Mono&lt;Void&gt; someHandler() {\r\n        someService.registerPlayer(internalPlayer)\r\n                // handle results\r\n                .doOnNext(...)\r\n        \r\n                // handle errors\r\n                .orErrorResume(...)\r\n                // the whole subscription process will happen on the thread provided by the Scheduler you specified\r\n                .subscribeOn(Schedulers.boundedElastic())\r\n                .subscribe();\r\n        // return immediately\r\n        return Mono.empty();\r\n    }","title":"Is it safe to just subscribe to Publishers in the assembly phase and leave it at that?","body":"<p>If I understand you correctly, then it is basically a fire-and-forget scenario, but nothing prevents you from using additional operators on that chain to process the results.</p>\n<p>If by <em>&quot;to beconfident that the subscription will complete&quot;</em> you mean <em>&quot;do something if it is completed successfully&quot;</em> or <em>&quot;do something if it is completed with error&quot;</em> then:</p>\n<p>If you want to start some processing in a separate thread and return immediately, and also be <em>confident</em> in completion of that sepapate processing, then you can use both <code>subscribeOn()</code> and put some operators to that chain to handle the results of success or errors of that processing, just as you do when you build any reactive chain.</p>\n<p>To handle the results you can use, for example, <code>.map()</code>, <code>doOnNext()</code>, <code>flatMap()</code>, <code>switchIfEmpty()</code>, etc., whatever fits your requirements,</p>\n<p>To handle errors, you can use, for example, <code>onErrorResume()</code>, <code>onErrorContinue()</code>, <code>onErrorMap()</code>, <code>onErrorReturn()</code>, <code>doOnError()</code>, etc., whatever fits your requirements.</p>\n<p>Here is an example how it would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Mono&lt;Void&gt; someHandler() {\n    someService.registerPlayer(internalPlayer)\n            // handle results\n            .doOnNext(...)\n    \n            // handle errors\n            .orErrorResume(...)\n            // the whole subscription process will happen on the thread provided by the Scheduler you specified\n            .subscribeOn(Schedulers.boundedElastic())\n            .subscribe();\n    // return immediately\n    return Mono.empty();\n}\n</code></pre>\n"}],"owner":{"account_id":3047853,"reputation":1464,"user_id":2583044,"accept_rate":62,"display_name":"62mkv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693074468,"creation_date":1676283861,"question_id":75434622,"body_markdown":"I&#39;ve asked in Gitter already but looks like it&#39;s not too active these days.. \r\n\r\nI was curious, is it safe to use such constructs in production code:\r\n\r\n```\r\nprivate Mono&lt;Void&gt; someHandler() {\r\n        someService.registerPlayer(internalPlayer)\r\n                        .subscribe();\r\n\r\n        return Mono.empty();\r\n    }\r\n\r\n```\r\n\r\nand then just use this `Publisher` from WebFlux controller method, for example? \r\n\r\ndo we have anything in the official documentation about it? All the examples I could find in the Reference, seem to be examples of calling reactive code from blocking code and observing behavior. \r\n\r\nI guess this Disposable returned here will be GC-ed quite soon, right?\r\nand what would be the right way to achieve similar result (emitting on the outer `Publisher` without having to wait till the inner `Publisher` completes; but making sure it&#39;s completed nevertheless)","title":"Is it safe to just subscribe to Publishers in the assembly phase and leave it at that?","body":"<p>I've asked in Gitter already but looks like it's not too active these days..</p>\n<p>I was curious, is it safe to use such constructs in production code:</p>\n<pre><code>private Mono&lt;Void&gt; someHandler() {\n        someService.registerPlayer(internalPlayer)\n                        .subscribe();\n\n        return Mono.empty();\n    }\n\n</code></pre>\n<p>and then just use this <code>Publisher</code> from WebFlux controller method, for example?</p>\n<p>do we have anything in the official documentation about it? All the examples I could find in the Reference, seem to be examples of calling reactive code from blocking code and observing behavior.</p>\n<p>I guess this Disposable returned here will be GC-ed quite soon, right?\nand what would be the right way to achieve similar result (emitting on the outer <code>Publisher</code> without having to wait till the inner <code>Publisher</code> completes; but making sure it's completed nevertheless)</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"score":1,"creation_date":1487174851,"post_id":42253486,"comment_id":71666534,"body_markdown":"Show us your full applicationContext.xml and if possible some part of your java code that references `FileItemFactory`.","body":"Show us your full applicationContext.xml and if possible some part of your java code that references <code>FileItemFactory</code>."},{"owner":{"account_id":10257066,"reputation":144,"user_id":7569626,"display_name":"Scientific.RAT"},"score":0,"creation_date":1487215076,"post_id":42253486,"comment_id":71685506,"body_markdown":"ok, I just add it to UPDATE. My java code never references `FileItemFactory`  `CommonsMultipartResolver` may reference","body":"ok, I just add it to UPDATE. My java code never references <code>FileItemFactory</code>  <code>CommonsMultipartResolver</code> may reference"}],"answers":[{"comments":[{"owner":{"account_id":10257066,"reputation":144,"user_id":7569626,"display_name":"Scientific.RAT"},"score":0,"creation_date":1487221625,"post_id":42264317,"comment_id":71687564,"body_markdown":"I tried to add it to my IDEA project by adding it to project libraries as I described in **UPDATE**, but it doesn&#39;t help. I&#39;m really confused.","body":"I tried to add it to my IDEA project by adding it to project libraries as I described in <b>UPDATE</b>, but it doesn&#39;t help. I&#39;m really confused."},{"owner":{"account_id":10257066,"reputation":144,"user_id":7569626,"display_name":"Scientific.RAT"},"score":0,"creation_date":1487559019,"post_id":42264317,"comment_id":71823954,"body_markdown":"Oh,it&#39;s my fault. I just found the problem. I forgot to add the jar `org.apache.commons.fileupload.FileItemFactory` to my artifacts(.war). I add it by configuring `project structrue`--&gt;`project settings`--&gt;`artifacts` --&gt;`output layout`","body":"Oh,it&#39;s my fault. I just found the problem. I forgot to add the jar <code>org.apache.commons.fileupload.FileItemFactory</code> to my artifacts(.war). I add it by configuring <code>project structrue</code>--&gt;<code>project settings</code>--&gt;<code>artifacts</code> --&gt;<code>output layout</code>"},{"owner":{"account_id":6783888,"reputation":841,"user_id":5223289,"accept_rate":64,"display_name":"saidfagan"},"score":2,"creation_date":1520943961,"post_id":42264317,"comment_id":85515229,"body_markdown":"I was able to avoid the problem by copying commons-fileupload.jar to the `lib` folder inside Apache Tomcat root folder.","body":"I was able to avoid the problem by copying commons-fileupload.jar to the <code>lib</code> folder inside Apache Tomcat root folder."},{"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"score":1,"creation_date":1611172872,"post_id":42264317,"comment_id":116369010,"body_markdown":"@OjonugwaJudeOchalifu. Done. Check it out.","body":"@OjonugwaJudeOchalifu. Done. Check it out."}],"tags":[],"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1611172850,"creation_date":1487215778,"answer_id":42264317,"question_id":42253486,"body_markdown":"Download [commons-fileupload](https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload/1.4) and keep it in your modules folder of your container. Apparently the class `org.springframework.web.multipart.commons.CommonsMultipartResolver` has a hard dependency on `org.apache.commons.fileupload.FileItemFactory` which is a class contained in the above jar. Once your container class loader loads this class, you wouldn&#39;t get this error.","title":"Fail to configure CommonsMultipartResolver in Spring4","body":"<p>Download <a href=\"https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload/1.4\" rel=\"nofollow noreferrer\">commons-fileupload</a> and keep it in your modules folder of your container. Apparently the class <code>org.springframework.web.multipart.commons.CommonsMultipartResolver</code> has a hard dependency on <code>org.apache.commons.fileupload.FileItemFactory</code> which is a class contained in the above jar. Once your container class loader loads this class, you wouldn't get this error.</p>\n"},{"tags":[],"owner":{"account_id":8767894,"reputation":1528,"user_id":6555698,"display_name":"Odwori"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611133327,"creation_date":1568199543,"answer_id":57887633,"question_id":42253486,"body_markdown":"If you are using maven then try\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt; &lt;!-- makesure you put a correct version here --&gt;\r\n\t\t&lt;/dependency&gt;","title":"Fail to configure CommonsMultipartResolver in Spring4","body":"<p>If you are using maven then try</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt; &lt;!-- makesure you put a correct version here --&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693034399,"post_id":76976850,"comment_id":135709093,"body_markdown":"_I&#39;ll make sure to document this accordingly._ Document it where?","body":"<i>I&#39;ll make sure to document this accordingly.</i> Document it where?"}],"tags":[],"owner":{"account_id":26138105,"reputation":1,"user_id":19827863,"display_name":"sudhanshu pandey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693073719,"creation_date":1692963553,"answer_id":76976850,"question_id":42253486,"body_markdown":"`org.springframework.web.multipart.commons.CommonsMultipartyResolver` has been superseded by `org.springframework.web.multipart.support.StandardServletMultipartResolver` since all Servlet 5.0+ containers have built-in multipart support now.\r\n\r\n","title":"Fail to configure CommonsMultipartResolver in Spring4","body":"<p><code>org.springframework.web.multipart.commons.CommonsMultipartyResolver</code> has been superseded by <code>org.springframework.web.multipart.support.StandardServletMultipartResolver</code> since all Servlet 5.0+ containers have built-in multipart support now.</p>\n"}],"owner":{"account_id":10257066,"reputation":144,"user_id":7569626,"display_name":"Scientific.RAT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13082,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":42264317,"answer_count":3,"score":9,"last_activity_date":1693073719,"creation_date":1487172468,"question_id":42253486,"body_markdown":"I configure CommonsMultipartResolver in applicationContext.xml like following:\r\n\r\n    &lt;bean id=&quot;multipartResolver&quot;\r\n          class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nbut it throws exception as following:\r\n\r\n    15-Feb-2017 22:17:35.049 INFO [RMI TCP Connection(2)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    15-Feb-2017 22:17:35.107 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Root WebApplicationContext: initialization started\r\n    15-Feb-2017 22:17:35.172 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.support.XmlWebApplicationContext.prepareRefresh Refreshing Root WebApplicationContext: startup date [Wed Feb 15 22:17:35 CST 2017]; root of context hierarchy\r\n    15-Feb-2017 22:17:35.240 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]\r\n    15-Feb-2017 22:17:35.563 WARNING [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.support.XmlWebApplicationContext.refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;multipartResolver&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.multipart.commons.CommonsMultipartResolver]: No default constructor found; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\r\n    15-Feb-2017 22:17:35.575 SEVERE [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Context initialization failed\r\n     org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;multipartResolver&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.multipart.commons.CommonsMultipartResolver]: No default constructor found; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1155)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n        ...\r\nI don&#39;t known why CommonsMultipartResolver failed to be instantiated. I can find CommonsMultipartResolver in spring-web-4.3.6.RELEASE.jar.\r\nBut this exception is thrown:\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\r\n\r\n\r\nWhat&#39;s wrong with my configuration?(I&#39;m using Intellij IDEA)    \r\n&lt;BR&gt;\r\n**UPDATE**  \r\nthis is my applicationContext.xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n        &lt;bean id=&quot;multipartResolver&quot;\r\n              class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nI have tried to solve the problem by adding `commons-fileupload` to IDEA project settings --&gt; libraries. But it does&#39;t help, problems still.  \r\n[project structure setting of IDEA][1]\r\n\r\n\r\n[project structure setting of IDEA][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yiilf.png\r\n  [2]: https://i.stack.imgur.com/8AANU.png","title":"Fail to configure CommonsMultipartResolver in Spring4","body":"<p>I configure CommonsMultipartResolver in applicationContext.xml like following:</p>\n\n<pre><code>&lt;bean id=\"multipartResolver\"\n      class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>but it throws exception as following:</p>\n\n<pre><code>15-Feb-2017 22:17:35.049 INFO [RMI TCP Connection(2)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n15-Feb-2017 22:17:35.107 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Root WebApplicationContext: initialization started\n15-Feb-2017 22:17:35.172 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.support.XmlWebApplicationContext.prepareRefresh Refreshing Root WebApplicationContext: startup date [Wed Feb 15 22:17:35 CST 2017]; root of context hierarchy\n15-Feb-2017 22:17:35.240 INFO [RMI TCP Connection(2)-127.0.0.1] org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]\n15-Feb-2017 22:17:35.563 WARNING [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.support.XmlWebApplicationContext.refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'multipartResolver' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.multipart.commons.CommonsMultipartResolver]: No default constructor found; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\n15-Feb-2017 22:17:35.575 SEVERE [RMI TCP Connection(2)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Context initialization failed\n org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'multipartResolver' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.multipart.commons.CommonsMultipartResolver]: No default constructor found; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1155)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    ...\n</code></pre>\n\n<p>I don't known why CommonsMultipartResolver failed to be instantiated. I can find CommonsMultipartResolver in spring-web-4.3.6.RELEASE.jar.\nBut this exception is thrown:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/apache/commons/fileupload/FileItemFactory\n</code></pre>\n\n<p>What's wrong with my configuration?(I'm using Intellij IDEA)<br>\n<BR>\n<strong>UPDATE</strong><br>\nthis is my applicationContext.xml</p>\n\n\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n    &lt;bean id=\"multipartResolver\"\n          class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>I have tried to solve the problem by adding <code>commons-fileupload</code> to IDEA project settings --> libraries. But it does't help, problems still.<br>\n<a href=\"https://i.stack.imgur.com/Yiilf.png\" rel=\"noreferrer\">project structure setting of IDEA</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/8AANU.png\" rel=\"noreferrer\">project structure setting of IDEA</a></p>\n"},{"tags":["java","regex","parsing","lexer"],"comments":[{"owner":{"account_id":8566752,"reputation":53339,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":1,"creation_date":1479598486,"post_id":40699005,"comment_id":68627223,"body_markdown":"Shouldn&#39;t your inner quotes be escaped? What is the rule that prevents `&quot;My foo, has &quot;` from being your first token?","body":"Shouldn&#39;t your inner quotes be escaped? What is the rule that prevents <code>&quot;My foo, has &quot;</code> from being your first token?"},{"owner":{"account_id":7227412,"reputation":79,"user_id":5515512,"accept_rate":83,"display_name":"Ronn"},"score":0,"creation_date":1479598764,"post_id":40699005,"comment_id":68627279,"body_markdown":"Yes it should have escaped but it does not. :(","body":"Yes it should have escaped but it does not. :("}],"answers":[{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1693072792,"post_id":40699928,"comment_id":135712978,"body_markdown":"This doesn&#39;t work because it consumes a quote from the desired outout.","body":"This doesn&#39;t work because it consumes a quote from the desired outout."}],"tags":[],"owner":{"account_id":5240719,"reputation":4724,"user_id":5103620,"accept_rate":71,"display_name":"Sebastian Lenartowicz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479607368,"creation_date":1479607368,"answer_id":40699928,"question_id":40699005,"body_markdown":"Try taking a different approach. `String.split()` in Java can take a regex argument, and if you split on this pattern:\r\n\r\n    (&quot;\\s*)?,(?(1)|\\s*&quot;)\r\n\r\nIt&#39;ll spit out the array you want (minus the commas). The way it works is it&#39;ll match a comma that&#39;s either preceded or followed by a quotation mark (but not both). It does this using a [conditional][1] (the `(?(1)|...)`, which will match its pattern if the first capturing group _does not_ match).\r\n\r\n[Demo on Regex101][2]\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/conditional.html\r\n  [2]: https://regex101.com/r/YZN6mE/1","title":"Regex for the tokenizing the String &quot;My foo has &quot;zero&quot; number&quot;,sugar,&quot;My bar has &quot;one number&quot;&quot;","body":"<p>Try taking a different approach. <code>String.split()</code> in Java can take a regex argument, and if you split on this pattern:</p>\n\n<pre><code>(\"\\s*)?,(?(1)|\\s*\")\n</code></pre>\n\n<p>It'll spit out the array you want (minus the commas). The way it works is it'll match a comma that's either preceded or followed by a quotation mark (but not both). It does this using a <a href=\"http://www.regular-expressions.info/conditional.html\" rel=\"nofollow noreferrer\">conditional</a> (the <code>(?(1)|...)</code>, which will match its pattern if the first capturing group <em>does not</em> match).</p>\n\n<p><a href=\"https://regex101.com/r/YZN6mE/1\" rel=\"nofollow noreferrer\">Demo on Regex101</a></p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693073536,"creation_date":1693072667,"answer_id":76984205,"question_id":40699005,"body_markdown":"When the input has balanced quotes, the trick is to only split on a comma when there&#39;s an *even* number of quotes after it:\r\n\r\n    String[] parts = str.split(&quot; *, *(?=(([^\\&quot;]*\\&quot;){2})*[^\\&quot;]*$)&quot;);\r\n\r\nSee [Java live demo][2] producing the desired output.\r\n\r\nSee [regex live demo][1] too.\r\n\r\n  [1]: https://rubular.com/r/ofhfSIeSfjXVUi\r\n  [2]: https://ideone.com/NFBrYU","title":"Regex for the tokenizing the String &quot;My foo has &quot;zero&quot; number&quot;,sugar,&quot;My bar has &quot;one number&quot;&quot;","body":"<p>When the input has balanced quotes, the trick is to only split on a comma when there's an <em>even</em> number of quotes after it:</p>\n<pre><code>String[] parts = str.split(&quot; *, *(?=(([^\\&quot;]*\\&quot;){2})*[^\\&quot;]*$)&quot;);\n</code></pre>\n<p>See <a href=\"https://ideone.com/NFBrYU\" rel=\"nofollow noreferrer\">Java live demo</a> producing the desired output.</p>\n<p>See <a href=\"https://rubular.com/r/ofhfSIeSfjXVUi\" rel=\"nofollow noreferrer\">regex live demo</a> too.</p>\n"}],"owner":{"account_id":7227412,"reputation":79,"user_id":5515512,"accept_rate":83,"display_name":"Ronn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1693073536,"creation_date":1479597902,"question_id":40699005,"body_markdown":"I am trying to tokenize the String in java\r\n\r\n    &quot;My foo, has &quot;zero&quot; number&quot;, sugar ,&quot;My bar has &quot;one or more&quot; numbers&quot;\r\nOutput should be like\r\n\r\n    &quot;My foo, has &quot;zero&quot; number&quot;\r\n    ,\r\n    sugar\r\n    ,\r\n    &quot;My bar has &quot;one or more&quot; numbers&quot;\r\n\r\nAlso i am using named capturing group to match them.\r\n\r\n    String[] p = new String[3];\r\n        p[0] = &quot;(?&lt;Special&gt;[\\\\[\\\\]/.$*\\\\-+=&gt;&lt;#()%,!|&amp;{}])&quot;; \r\n        p[1] = &quot;(?&lt;Literals&gt;\\&quot;[^\\&quot;]*\\&quot;)&quot;; \r\n        p[2] = &quot;(?&lt;Identifiers&gt;\\\\w+)&quot;;\r\n    for (String s: p) {\r\n            sb.append(String.format(&quot;|(%s)&quot;, s)); \r\n        } //for ends here\r\n\r\n        Pattern tp = Pattern.compile(new String(sb.substring(1))); // adding the patterns one after another separated by |\r\n\r\n        Matcher m = tp.matcher(line);\r\n\r\n        while (m.find()) { //searches if a token is matched.\r\n        if ((m.group(&quot;Special&quot;) != null)) {\r\n                System.out.println(m.group(&quot;Special&quot;));\r\n                continue;\r\n            }\r\n        else if((m.group(&quot;Literals&quot;) != null)) {\r\n                System.out.println(m.group(&quot;Literals&quot;));\r\n                continue;\r\n            }\r\n        else if((m.group(&quot;Identifiers&quot;) != null)) { \r\n                System.out.println(m.group(&quot;Identifiers&quot;));\r\n                continue;\r\n            }\r\n        }\r\nI am able to tokenize sugar(using it to match identifiers) using (\\\\w+) and , (using the regex in special). However for literals i am not able to match the group, i guess because of the inner quotes.","title":"Regex for the tokenizing the String &quot;My foo has &quot;zero&quot; number&quot;,sugar,&quot;My bar has &quot;one number&quot;&quot;","body":"<p>I am trying to tokenize the String in java</p>\n\n<pre><code>\"My foo, has \"zero\" number\", sugar ,\"My bar has \"one or more\" numbers\"\n</code></pre>\n\n<p>Output should be like</p>\n\n<pre><code>\"My foo, has \"zero\" number\"\n,\nsugar\n,\n\"My bar has \"one or more\" numbers\"\n</code></pre>\n\n<p>Also i am using named capturing group to match them.</p>\n\n<pre><code>String[] p = new String[3];\n    p[0] = \"(?&lt;Special&gt;[\\\\[\\\\]/.$*\\\\-+=&gt;&lt;#()%,!|&amp;{}])\"; \n    p[1] = \"(?&lt;Literals&gt;\\\"[^\\\"]*\\\")\"; \n    p[2] = \"(?&lt;Identifiers&gt;\\\\w+)\";\nfor (String s: p) {\n        sb.append(String.format(\"|(%s)\", s)); \n    } //for ends here\n\n    Pattern tp = Pattern.compile(new String(sb.substring(1))); // adding the patterns one after another separated by |\n\n    Matcher m = tp.matcher(line);\n\n    while (m.find()) { //searches if a token is matched.\n    if ((m.group(\"Special\") != null)) {\n            System.out.println(m.group(\"Special\"));\n            continue;\n        }\n    else if((m.group(\"Literals\") != null)) {\n            System.out.println(m.group(\"Literals\"));\n            continue;\n        }\n    else if((m.group(\"Identifiers\") != null)) { \n            System.out.println(m.group(\"Identifiers\"));\n            continue;\n        }\n    }\n</code></pre>\n\n<p>I am able to tokenize sugar(using it to match identifiers) using (\\w+) and , (using the regex in special). However for literals i am not able to match the group, i guess because of the inner quotes.</p>\n"},{"tags":["java","collision-detection","lwjgl","java-17","joml"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1692701362,"post_id":76952419,"comment_id":135656952,"body_markdown":"Can you post `Models.Sphere.getVertices`?","body":"Can you post <code>Models.Sphere.getVertices</code>?"},{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":0,"creation_date":1692704501,"post_id":76952419,"comment_id":135657562,"body_markdown":"Do you have a valid OpenGL context when calling the method? Not really the problem, but it&#39;s definitely a bad design decision to mix rendering code into the getVertices method if you also use it for something else than rendering.","body":"Do you have a valid OpenGL context when calling the method? Not really the problem, but it&#39;s definitely a bad design decision to mix rendering code into the getVertices method if you also use it for something else than rendering."},{"owner":{"account_id":28779521,"reputation":47,"user_id":22041411,"display_name":"notwhale"},"score":0,"creation_date":1692705054,"post_id":76952419,"comment_id":135657697,"body_markdown":"I have this line:\nGLFW.glfwMakeContextCurrent(window);\nis this called a valid OpenGL context?\ndo you know how to fix a mistake or design decision?","body":"I have this line: GLFW.glfwMakeContextCurrent(window); is this called a valid OpenGL context? do you know how to fix a mistake or design decision?"}],"answers":[{"tags":[],"owner":{"account_id":10122276,"reputation":21,"user_id":7478819,"display_name":"Schema"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693072488,"creation_date":1693072488,"answer_id":76984195,"question_id":76952419,"body_markdown":"Doing a collision you are probably in a different opengl state/context. Calling openGL functions in the wrong state/context at the wrong time could be the cause of the crash.\r\n\r\nThe main issue is that your Sphere.GetVertices() function uses glTexCoord2f and glColor3f while it&#39;s not clear what context you are in. You can only call those from the thread the GLContext was created in, you should also only call them during actual draw contexts (i.e. between glBegin and glEnd). \r\n\r\nRemoving glColor3f and glTexCoord2f from GetVertices() will likely fix the issue, especially since you don&#39;t need them there to begin with, as you aren&#39;t drawing those vertices at that time.","title":"why the second method call crashes java?","body":"<p>Doing a collision you are probably in a different opengl state/context. Calling openGL functions in the wrong state/context at the wrong time could be the cause of the crash.</p>\n<p>The main issue is that your Sphere.GetVertices() function uses glTexCoord2f and glColor3f while it's not clear what context you are in. You can only call those from the thread the GLContext was created in, you should also only call them during actual draw contexts (i.e. between glBegin and glEnd).</p>\n<p>Removing glColor3f and glTexCoord2f from GetVertices() will likely fix the issue, especially since you don't need them there to begin with, as you aren't drawing those vertices at that time.</p>\n"}],"owner":{"account_id":28779521,"reputation":47,"user_id":22041411,"display_name":"notwhale"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693072488,"creation_date":1692700399,"question_id":76952419,"body_markdown":"I&#39;m making a java 3d project with **lwjgl**.\r\n\r\nJava **crashes** when calling Sphere.getVertices() method. But when I try to detect a collision between two **cubes**, I see a black screen **with no components**, but java **doesn&#39;t** crash.\r\n\r\n**log**\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffbbedaa293, pid=2500, tid=1752\r\n#\r\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.7+7 (17.0.7+7) (build 17.0.7+7)\r\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (17.0.7+7, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# C  [lwjgl_opengl.dll+0xa293]\r\n#\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/adoptium/adoptium-support/issues\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -XX:+ShowCodeDetailsInExceptionMessages Main\r\n\r\nHost: Intel(R) Core(TM) i5-8265U CPU @ 1.60GHz, 8 cores, 7G,  Windows 10 , 64 bit Build 19041 (10.0.19041.3155)\r\nTime: Tue Aug 22 12:57:53 2023 RTZ 2 (s 10 , 64 bit Build 19041 (10.0.19041.3155) elapsed time: 0.495254 seconds (0d 0h 0m 0s)\r\n\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x000001bc95c0e1a0):  JavaThread &quot;main&quot; [_thread_in_native, id=1752, stack(0x000000481f200000,0x000000481f300000)]\r\n\r\nStack: [0x000000481f200000,0x000000481f300000],  sp=0x000000481f2ff4c8,  free space=1021k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  [lwjgl_opengl.dll+0xa293]\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  org.lwjgl.opengl.GL11.glColor3f(FFF)V+0\r\nj  Models.Sphere$1.&lt;init&gt;(LModels/Sphere;)V+21\r\nj  Models.Sphere.getVertices()Ljava/util/ArrayList;+5\r\nj  Engine.Component.checkColision(LEngine/Component;)Z+21\r\nj  Main.main([Ljava/lang/String;)V+86\r\nv  ~StubRoutines::call_stub\r\n\r\nsiginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x00000000000000b0\r\n\r\n\r\nRegister to memory mapping:\r\n\r\nRIP=0x00007ffbbedaa293 lwjgl_opengl.dll\r\nRAX=0x000001bcb84a83e0 points into unknown readable memory: 0x0000000000000000 | 00 00 00 00 00 00 00 00\r\nRBX={method} {0x000001bcb4704b78} &#39;glColor3f&#39; &#39;(FFF)V&#39; in &#39;org/lwjgl/opengl/GL11&#39;\r\nRCX=0x0 is NULL\r\nRDX=0x000000481f2ff560 is pointing into the stack for thread: 0x000001bc95c0e1a0\r\nRSP=0x000000481f2ff4c8 is pointing into the stack for thread: 0x000001bc95c0e1a0\r\nRBP=0x000000481f2ff550 is pointing into the stack for thread: 0x000001bc95c0e1a0\r\nRSI=0x000001bcb4007c98 is pointing into metadata\r\nRDI=0x0000000000009c1a is an unknown value\r\nR8 =0x0000000000000002 is an unknown value\r\nR9 =0x0000000000000002 is an unknown value\r\nR10=0x000001bca4c3d5f2 is at code_begin+946 in an Interpreter codelet\r\nmethod entry point (kind = native)  [0x000001bca4c3d240, 0x000001bca4c3dbc0]  2432 bytes\r\nR11=0x00000000894524c0 is an oop: java.lang.Class \r\n{0x00000000894524c0} - klass: &#39;java/lang/Class&#39;]\r\n```\r\n\r\n\r\n**Component.java** code:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.joml.Matrix4f;\r\nimport org.joml.Vector3f;\r\n\r\n\r\npublic abstract class Component {\r\n    private Vector3f pos = new Vector3f(0, 0, 0);\r\n    private Vector3f rotate = new Vector3f(0, 0, 0);\r\n    private Vector3f scale = new Vector3f(1, 1, 1);\r\n\r\n    public boolean checkColision(Component component) {\r\n        ArrayList&lt;Vector3f&gt; transformedVertices = transformVertices(getVertices(), pos, rotate, scale);\r\n        ArrayList&lt;Vector3f&gt; componentTransformedVertices = transformVertices(component.getVertices(), component.getPos(), component.getRotate(), component.getScale()); //The problem is probably here.\r\n\r\n\r\n        Vector3f max = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\r\n        Vector3f min = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\r\n\r\n        for(Vector3f vertex : transformedVertices) {\r\n            if(vertex.x &gt; max.x) max.x = vertex.x;\r\n            if(vertex.y &gt; max.y) max.y = vertex.y;\r\n            if(vertex.z &gt; max.z) max.z = vertex.z;\r\n\r\n            if(vertex.x &lt; min.x) min.x = vertex.x;\r\n            if(vertex.y &lt; min.y) min.y = vertex.y;\r\n            if(vertex.z &lt; min.z) min.z = vertex.z;\r\n        }\r\n\r\n        Vector3f componentMax = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\r\n        Vector3f componentMin = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\r\n\r\n        for(Vector3f vertex : componentTransformedVertices) {\r\n            if(vertex.x &gt; componentMax.x) componentMax.x = vertex.x;\r\n            if(vertex.y &gt; componentMax.y) componentMax.y = vertex.y;\r\n            if(vertex.z &gt; componentMax.z) componentMax.z = vertex.z;\r\n\r\n            if(vertex.x &lt; componentMin.x) componentMin.x = vertex.x;\r\n            if(vertex.y &lt; componentMin.y) componentMin.y = vertex.y;\r\n            if(vertex.z &lt; componentMin.z) componentMin.z = vertex.z;\r\n        }\r\n\r\n        if (max.x &lt;= componentMin.x || min.x &gt;= componentMax.x) return false;\r\n        if (max.y &lt;= componentMin.y || min.y &gt;= componentMax.y) return false;\r\n        if (max.z &lt;= componentMin.z || min.z &gt;= componentMax.z) return false;\r\n        return true;\r\n    }\r\n\r\n//some getters and setters.\r\n\r\n    public abstract ArrayList&lt;Vector3f&gt; getVertices(); //returns an arraylist of object vertex coordinates for collision detection.\r\n\r\n    private synchronized static ArrayList&lt;Vector3f&gt; transformVertices(ArrayList&lt;Vector3f&gt; vertices, Vector3f position, Vector3f rotation, Vector3f scale) {\r\n        ArrayList&lt;Vector3f&gt; transformedVertices = new ArrayList&lt;&gt;();\r\n        Matrix4f transformationMatrix = new Matrix4f()\r\n            .translate(position)\r\n            .rotateX((float) Math.toRadians(rotation.x))\r\n            .rotateY((float) Math.toRadians(rotation.y))\r\n            .rotateZ((float) Math.toRadians(rotation.z))\r\n            .scale(scale);\r\n\r\n        for (Vector3f vertex : vertices) {\r\n            Vector3f transformedVertex = new Vector3f(vertex);\r\n            transformedVertex.mulPosition(transformationMatrix);\r\n            transformedVertices.add(transformedVertex);\r\n        }\r\n\r\n        return transformedVertices;\r\n    }\r\n}\r\n```\r\n\r\n**Sphere.java** code:\r\n```\r\npackage Models;\r\n\r\nimport Engine.Component;\r\nimport org.lwjgl.opengl.GL11;\r\n\r\nimport static org.lwjgl.opengl.GL11.*;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport org.joml.Vector3f;\r\n\r\npublic class Sphere extends Component {\r\n    public float radius = 1.0f;\r\n    public int gradation = 100;\r\n    public final float PI = (float) Math.PI;\r\n    @Override\r\n    public void draw() {\r\n        float x, y, z, alpha, beta;\r\n        for (alpha = 0.0f; alpha &lt; Math.PI; alpha += PI / gradation) {\r\n            glBegin(GL_TRIANGLE_STRIP);\r\n            GL11.glColor3f(0.7f, 0.7f, 0.7f);\r\n            for (beta = 0.0f; beta &lt; 2.01f * Math.PI; beta += PI / gradation) {\r\n                x = (float) (radius * Math.cos(beta) * Math.sin(alpha));\r\n                y = (float) (radius * Math.sin(beta) * Math.sin(alpha));\r\n                z = (float) (radius * Math.cos(alpha));\r\n                glTexCoord2f(beta / (2.0f * PI), alpha / PI);\r\n                glVertex3f(x, y, z);\r\n                x = (float) (radius * Math.cos(beta) * Math.sin(alpha + PI / gradation));\r\n                y = (float) (radius * Math.sin(beta) * Math.sin(alpha + PI / gradation));\r\n                z = (float) (radius * Math.cos(alpha + PI / gradation));\r\n                glTexCoord2f(beta / (2.0f * PI), alpha / PI + 1.0f / gradation);\r\n                glVertex3f(x, y, z);\r\n            }\r\n            glEnd();\r\n        }\r\n    }\r\n    @Override\r\n    public ArrayList&lt;Vector3f&gt; getVertices() {\r\n        return new ArrayList&lt;Vector3f&gt;() {{\r\n            float x, y, z, alpha, beta;\r\n            for (alpha = 0.0f; alpha &lt; Math.PI; alpha += PI / gradation) {\r\n                GL11.glColor3f(0.7f, 0.7f, 0.7f);\r\n                for (beta = 0.0f; beta &lt; 2.01f * Math.PI; beta += PI / gradation) {\r\n                    x = (float) (radius * Math.cos(beta) * Math.sin(alpha));\r\n                    y = (float) (radius * Math.sin(beta) * Math.sin(alpha));\r\n                    z = (float) (radius * Math.cos(alpha));\r\n                    glTexCoord2f(beta / (2.0f * PI), alpha / PI);\r\n                    add(new Vector3f(x, y, z));\r\n                    x = (float) (radius * Math.cos(beta) * Math.sin(alpha + PI / gradation));\r\n                    y = (float) (radius * Math.sin(beta) * Math.sin(alpha + PI / gradation));\r\n                    z = (float) (radius * Math.cos(alpha + PI / gradation));\r\n                    glTexCoord2f(beta / (2.0f * PI), alpha / PI + 1.0f / gradation);\r\n                    add(new Vector3f(x, y, z));\r\n                }\r\n            }\r\n        }};\r\n    }\r\n}\r\n```\r\n\r\n**Cube.java** code:\r\n```\r\npackage Models;\r\n\r\nimport Engine.Component;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport org.joml.Vector3f;\r\nimport org.lwjgl.opengl.GL11;\r\n\r\npublic class Cube extends Component {\r\n    public float size = 1.0f;\r\n    @Override\r\n    public void draw() {\r\n        GL11.glBegin(GL11.GL_QUADS);\r\n        GL11.glColor3f(0.7f, 0.7f, 0.7f);\r\n\r\n        GL11.glVertex3f(-size, size, -size);\r\n        GL11.glVertex3f(size, size, -size);\r\n        GL11.glVertex3f(size, size, size);\r\n        GL11.glVertex3f(-size, size, size);\r\n\r\n        GL11.glVertex3f(-size, -size, -size);\r\n        GL11.glVertex3f(-size, -size, size);\r\n        GL11.glVertex3f(size, -size, size);\r\n        GL11.glVertex3f(size, -size, -size);\r\n\r\n        GL11.glVertex3f(-size, -size, size);\r\n        GL11.glVertex3f(-size, size, size);\r\n        GL11.glVertex3f(size, size, size);\r\n        GL11.glVertex3f(size, -size, size);\r\n\r\n        GL11.glVertex3f(-size, -size, -size);\r\n        GL11.glVertex3f(size, -size, -size);\r\n        GL11.glVertex3f(size, size, -size);\r\n        GL11.glVertex3f(-size, size, -size);\r\n\r\n        GL11.glVertex3f(-size, -size, -size);\r\n        GL11.glVertex3f(-size, -size, size);\r\n        GL11.glVertex3f(-size, size, size);\r\n        GL11.glVertex3f(-size, size, -size);\r\n\r\n        GL11.glVertex3f(size, -size, -size);\r\n        GL11.glVertex3f(size, size, -size);\r\n        GL11.glVertex3f(size, size, size);\r\n        GL11.glVertex3f(size, -size, size);\r\n\r\n        GL11.glEnd();\r\n    }\r\n\r\n    @Override\r\n    public ArrayList&lt;Vector3f&gt; getVertices() {\r\n        return new ArrayList&lt;Vector3f&gt;() {{\r\n            add(new Vector3f(-size, size, -size));\r\n            add(new Vector3f(size, size, -size));\r\n            add(new Vector3f(size, size, size));\r\n            add(new Vector3f(-size, size, size));\r\n            add(new Vector3f(-size, -size, -size));\r\n            add(new Vector3f(-size, -size, size));\r\n            add(new Vector3f(size, -size, size));\r\n            add(new Vector3f(size, -size, -size));\r\n            add(new Vector3f(-size, -size, size));\r\n            add(new Vector3f(-size, size, size));\r\n            add(new Vector3f(size, size, size));\r\n            add(new Vector3f(size, -size, size));\r\n            add(new Vector3f(-size, -size, -size));\r\n            add(new Vector3f(size, -size, -size));\r\n            add(new Vector3f(size, size, -size));\r\n            add(new Vector3f(-size, size, -size));\r\n            add(new Vector3f(-size, -size, -size));\r\n            add(new Vector3f(-size, -size, size));\r\n            add(new Vector3f(-size, size, size));\r\n            add(new Vector3f(-size, size, -size));\r\n            add(new Vector3f(size, -size, -size));\r\n            add(new Vector3f(size, size, -size));\r\n            add(new Vector3f(size, size, size));\r\n            add(new Vector3f(size, -size, size));\r\n        }};\r\n    }\r\n}\r\n\r\n```\r\n\r\nInstead of **crashing**, I would like to have a method that returns **true** when object boundaries are crossed.\r\n","title":"why the second method call crashes java?","body":"<p>I'm making a java 3d project with <strong>lwjgl</strong>.</p>\n<p>Java <strong>crashes</strong> when calling Sphere.getVertices() method. But when I try to detect a collision between two <strong>cubes</strong>, I see a black screen <strong>with no components</strong>, but java <strong>doesn't</strong> crash.</p>\n<p><strong>log</strong></p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffbbedaa293, pid=2500, tid=1752\n#\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.7+7 (17.0.7+7) (build 17.0.7+7)\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (17.0.7+7, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# C  [lwjgl_opengl.dll+0xa293]\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/adoptium/adoptium-support/issues\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -XX:+ShowCodeDetailsInExceptionMessages Main\n\nHost: Intel(R) Core(TM) i5-8265U CPU @ 1.60GHz, 8 cores, 7G,  Windows 10 , 64 bit Build 19041 (10.0.19041.3155)\nTime: Tue Aug 22 12:57:53 2023 RTZ 2 (s 10 , 64 bit Build 19041 (10.0.19041.3155) elapsed time: 0.495254 seconds (0d 0h 0m 0s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x000001bc95c0e1a0):  JavaThread &quot;main&quot; [_thread_in_native, id=1752, stack(0x000000481f200000,0x000000481f300000)]\n\nStack: [0x000000481f200000,0x000000481f300000],  sp=0x000000481f2ff4c8,  free space=1021k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [lwjgl_opengl.dll+0xa293]\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  org.lwjgl.opengl.GL11.glColor3f(FFF)V+0\nj  Models.Sphere$1.&lt;init&gt;(LModels/Sphere;)V+21\nj  Models.Sphere.getVertices()Ljava/util/ArrayList;+5\nj  Engine.Component.checkColision(LEngine/Component;)Z+21\nj  Main.main([Ljava/lang/String;)V+86\nv  ~StubRoutines::call_stub\n\nsiginfo: EXCEPTION_ACCESS_VIOLATION (0xc0000005), reading address 0x00000000000000b0\n\n\nRegister to memory mapping:\n\nRIP=0x00007ffbbedaa293 lwjgl_opengl.dll\nRAX=0x000001bcb84a83e0 points into unknown readable memory: 0x0000000000000000 | 00 00 00 00 00 00 00 00\nRBX={method} {0x000001bcb4704b78} 'glColor3f' '(FFF)V' in 'org/lwjgl/opengl/GL11'\nRCX=0x0 is NULL\nRDX=0x000000481f2ff560 is pointing into the stack for thread: 0x000001bc95c0e1a0\nRSP=0x000000481f2ff4c8 is pointing into the stack for thread: 0x000001bc95c0e1a0\nRBP=0x000000481f2ff550 is pointing into the stack for thread: 0x000001bc95c0e1a0\nRSI=0x000001bcb4007c98 is pointing into metadata\nRDI=0x0000000000009c1a is an unknown value\nR8 =0x0000000000000002 is an unknown value\nR9 =0x0000000000000002 is an unknown value\nR10=0x000001bca4c3d5f2 is at code_begin+946 in an Interpreter codelet\nmethod entry point (kind = native)  [0x000001bca4c3d240, 0x000001bca4c3dbc0]  2432 bytes\nR11=0x00000000894524c0 is an oop: java.lang.Class \n{0x00000000894524c0} - klass: 'java/lang/Class']\n</code></pre>\n<p><strong>Component.java</strong> code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport org.joml.Matrix4f;\nimport org.joml.Vector3f;\n\n\npublic abstract class Component {\n    private Vector3f pos = new Vector3f(0, 0, 0);\n    private Vector3f rotate = new Vector3f(0, 0, 0);\n    private Vector3f scale = new Vector3f(1, 1, 1);\n\n    public boolean checkColision(Component component) {\n        ArrayList&lt;Vector3f&gt; transformedVertices = transformVertices(getVertices(), pos, rotate, scale);\n        ArrayList&lt;Vector3f&gt; componentTransformedVertices = transformVertices(component.getVertices(), component.getPos(), component.getRotate(), component.getScale()); //The problem is probably here.\n\n\n        Vector3f max = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\n        Vector3f min = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\n\n        for(Vector3f vertex : transformedVertices) {\n            if(vertex.x &gt; max.x) max.x = vertex.x;\n            if(vertex.y &gt; max.y) max.y = vertex.y;\n            if(vertex.z &gt; max.z) max.z = vertex.z;\n\n            if(vertex.x &lt; min.x) min.x = vertex.x;\n            if(vertex.y &lt; min.y) min.y = vertex.y;\n            if(vertex.z &lt; min.z) min.z = vertex.z;\n        }\n\n        Vector3f componentMax = new Vector3f(Float.MIN_VALUE, Float.MIN_VALUE, Float.MIN_VALUE);\n        Vector3f componentMin = new Vector3f(Float.MAX_VALUE, Float.MAX_VALUE, Float.MAX_VALUE);\n\n        for(Vector3f vertex : componentTransformedVertices) {\n            if(vertex.x &gt; componentMax.x) componentMax.x = vertex.x;\n            if(vertex.y &gt; componentMax.y) componentMax.y = vertex.y;\n            if(vertex.z &gt; componentMax.z) componentMax.z = vertex.z;\n\n            if(vertex.x &lt; componentMin.x) componentMin.x = vertex.x;\n            if(vertex.y &lt; componentMin.y) componentMin.y = vertex.y;\n            if(vertex.z &lt; componentMin.z) componentMin.z = vertex.z;\n        }\n\n        if (max.x &lt;= componentMin.x || min.x &gt;= componentMax.x) return false;\n        if (max.y &lt;= componentMin.y || min.y &gt;= componentMax.y) return false;\n        if (max.z &lt;= componentMin.z || min.z &gt;= componentMax.z) return false;\n        return true;\n    }\n\n//some getters and setters.\n\n    public abstract ArrayList&lt;Vector3f&gt; getVertices(); //returns an arraylist of object vertex coordinates for collision detection.\n\n    private synchronized static ArrayList&lt;Vector3f&gt; transformVertices(ArrayList&lt;Vector3f&gt; vertices, Vector3f position, Vector3f rotation, Vector3f scale) {\n        ArrayList&lt;Vector3f&gt; transformedVertices = new ArrayList&lt;&gt;();\n        Matrix4f transformationMatrix = new Matrix4f()\n            .translate(position)\n            .rotateX((float) Math.toRadians(rotation.x))\n            .rotateY((float) Math.toRadians(rotation.y))\n            .rotateZ((float) Math.toRadians(rotation.z))\n            .scale(scale);\n\n        for (Vector3f vertex : vertices) {\n            Vector3f transformedVertex = new Vector3f(vertex);\n            transformedVertex.mulPosition(transformationMatrix);\n            transformedVertices.add(transformedVertex);\n        }\n\n        return transformedVertices;\n    }\n}\n</code></pre>\n<p><strong>Sphere.java</strong> code:</p>\n<pre><code>package Models;\n\nimport Engine.Component;\nimport org.lwjgl.opengl.GL11;\n\nimport static org.lwjgl.opengl.GL11.*;\n\nimport java.util.ArrayList;\n\nimport org.joml.Vector3f;\n\npublic class Sphere extends Component {\n    public float radius = 1.0f;\n    public int gradation = 100;\n    public final float PI = (float) Math.PI;\n    @Override\n    public void draw() {\n        float x, y, z, alpha, beta;\n        for (alpha = 0.0f; alpha &lt; Math.PI; alpha += PI / gradation) {\n            glBegin(GL_TRIANGLE_STRIP);\n            GL11.glColor3f(0.7f, 0.7f, 0.7f);\n            for (beta = 0.0f; beta &lt; 2.01f * Math.PI; beta += PI / gradation) {\n                x = (float) (radius * Math.cos(beta) * Math.sin(alpha));\n                y = (float) (radius * Math.sin(beta) * Math.sin(alpha));\n                z = (float) (radius * Math.cos(alpha));\n                glTexCoord2f(beta / (2.0f * PI), alpha / PI);\n                glVertex3f(x, y, z);\n                x = (float) (radius * Math.cos(beta) * Math.sin(alpha + PI / gradation));\n                y = (float) (radius * Math.sin(beta) * Math.sin(alpha + PI / gradation));\n                z = (float) (radius * Math.cos(alpha + PI / gradation));\n                glTexCoord2f(beta / (2.0f * PI), alpha / PI + 1.0f / gradation);\n                glVertex3f(x, y, z);\n            }\n            glEnd();\n        }\n    }\n    @Override\n    public ArrayList&lt;Vector3f&gt; getVertices() {\n        return new ArrayList&lt;Vector3f&gt;() {{\n            float x, y, z, alpha, beta;\n            for (alpha = 0.0f; alpha &lt; Math.PI; alpha += PI / gradation) {\n                GL11.glColor3f(0.7f, 0.7f, 0.7f);\n                for (beta = 0.0f; beta &lt; 2.01f * Math.PI; beta += PI / gradation) {\n                    x = (float) (radius * Math.cos(beta) * Math.sin(alpha));\n                    y = (float) (radius * Math.sin(beta) * Math.sin(alpha));\n                    z = (float) (radius * Math.cos(alpha));\n                    glTexCoord2f(beta / (2.0f * PI), alpha / PI);\n                    add(new Vector3f(x, y, z));\n                    x = (float) (radius * Math.cos(beta) * Math.sin(alpha + PI / gradation));\n                    y = (float) (radius * Math.sin(beta) * Math.sin(alpha + PI / gradation));\n                    z = (float) (radius * Math.cos(alpha + PI / gradation));\n                    glTexCoord2f(beta / (2.0f * PI), alpha / PI + 1.0f / gradation);\n                    add(new Vector3f(x, y, z));\n                }\n            }\n        }};\n    }\n}\n</code></pre>\n<p><strong>Cube.java</strong> code:</p>\n<pre><code>package Models;\n\nimport Engine.Component;\n\nimport java.util.ArrayList;\n\nimport org.joml.Vector3f;\nimport org.lwjgl.opengl.GL11;\n\npublic class Cube extends Component {\n    public float size = 1.0f;\n    @Override\n    public void draw() {\n        GL11.glBegin(GL11.GL_QUADS);\n        GL11.glColor3f(0.7f, 0.7f, 0.7f);\n\n        GL11.glVertex3f(-size, size, -size);\n        GL11.glVertex3f(size, size, -size);\n        GL11.glVertex3f(size, size, size);\n        GL11.glVertex3f(-size, size, size);\n\n        GL11.glVertex3f(-size, -size, -size);\n        GL11.glVertex3f(-size, -size, size);\n        GL11.glVertex3f(size, -size, size);\n        GL11.glVertex3f(size, -size, -size);\n\n        GL11.glVertex3f(-size, -size, size);\n        GL11.glVertex3f(-size, size, size);\n        GL11.glVertex3f(size, size, size);\n        GL11.glVertex3f(size, -size, size);\n\n        GL11.glVertex3f(-size, -size, -size);\n        GL11.glVertex3f(size, -size, -size);\n        GL11.glVertex3f(size, size, -size);\n        GL11.glVertex3f(-size, size, -size);\n\n        GL11.glVertex3f(-size, -size, -size);\n        GL11.glVertex3f(-size, -size, size);\n        GL11.glVertex3f(-size, size, size);\n        GL11.glVertex3f(-size, size, -size);\n\n        GL11.glVertex3f(size, -size, -size);\n        GL11.glVertex3f(size, size, -size);\n        GL11.glVertex3f(size, size, size);\n        GL11.glVertex3f(size, -size, size);\n\n        GL11.glEnd();\n    }\n\n    @Override\n    public ArrayList&lt;Vector3f&gt; getVertices() {\n        return new ArrayList&lt;Vector3f&gt;() {{\n            add(new Vector3f(-size, size, -size));\n            add(new Vector3f(size, size, -size));\n            add(new Vector3f(size, size, size));\n            add(new Vector3f(-size, size, size));\n            add(new Vector3f(-size, -size, -size));\n            add(new Vector3f(-size, -size, size));\n            add(new Vector3f(size, -size, size));\n            add(new Vector3f(size, -size, -size));\n            add(new Vector3f(-size, -size, size));\n            add(new Vector3f(-size, size, size));\n            add(new Vector3f(size, size, size));\n            add(new Vector3f(size, -size, size));\n            add(new Vector3f(-size, -size, -size));\n            add(new Vector3f(size, -size, -size));\n            add(new Vector3f(size, size, -size));\n            add(new Vector3f(-size, size, -size));\n            add(new Vector3f(-size, -size, -size));\n            add(new Vector3f(-size, -size, size));\n            add(new Vector3f(-size, size, size));\n            add(new Vector3f(-size, size, -size));\n            add(new Vector3f(size, -size, -size));\n            add(new Vector3f(size, size, -size));\n            add(new Vector3f(size, size, size));\n            add(new Vector3f(size, -size, size));\n        }};\n    }\n}\n\n</code></pre>\n<p>Instead of <strong>crashing</strong>, I would like to have a method that returns <strong>true</strong> when object boundaries are crossed.</p>\n"},{"tags":["java","intellij-idea","javafx","tableview","getter"],"comments":[{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":2,"creation_date":1692865303,"post_id":76967262,"comment_id":135682723,"body_markdown":"Well, if you don&#39;t have an error log at all, probably something in your events is wrong in the way you put it, as a tip try to debug on the lambda events you actually have, to see if it is really triggering. That&#39;s all I can say since there is no error log.","body":"Well, if you don&#39;t have an error log at all, probably something in your events is wrong in the way you put it, as a tip try to debug on the lambda events you actually have, to see if it is really triggering. That&#39;s all I can say since there is no error log."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1692900919,"post_id":76967262,"comment_id":135690786,"body_markdown":"That isn&#39;t about your post, but I strongly suggest you to start using Maven and Hibernate/Lombok dependencies within. I know it might look like a lot right now, but thrust me. 1 week understanding how to use it and you&#39;ll never want to make things the way you&#39;re doing right now. It&#39;s just so much easier and faster.","body":"That isn&#39;t about your post, but I strongly suggest you to start using Maven and Hibernate/Lombok dependencies within. I know it might look like a lot right now, but thrust me. 1 week understanding how to use it and you&#39;ll never want to make things the way you&#39;re doing right now. It&#39;s just so much easier and faster."}],"owner":{"account_id":23756960,"reputation":1,"user_id":17772974,"display_name":"Ilaria Meghi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693071517,"creation_date":1692863862,"question_id":76967262,"body_markdown":"I&#39;m trying to display data from a database in a TableView in JavaFx, and I&#39;m using the class CheckAssunzione for creating my assunzione object that will be used to populate the table. I also have a refresh button that should update the lines in the table but is not working either.\r\nI don&#39;t get any errors/warnings in the terminal so I really don&#39;t know what is wrong but it&#39;s not filling up my table at all. Thanks for your help \r\n\r\n\r\n\r\n```\r\nDBUTILS CLASS THAT DOES THE DB QUERIES\r\n    // assunzioni registrate dal paziente di ogni farmaco a lui prescritto\r\n    public static int getAssunzioniGiornalierePerFarmaco(int pid, int fid) {\r\n        Connection connection = DBConnection.getConn();\r\n        PreparedStatement pst = null;\r\n        try {\r\n            pst = connection.prepareStatement(&quot;SELECT COUNT(pid) AS n_ass FROM assunzione WHERE  pid = ? AND fid = ? AND date(dataora) = current_date&quot;);\r\n            pst.setInt(1, pid);\r\n            pst.setInt(2, fid);\r\n            ResultSet rs = pst.executeQuery();\r\n            if (rs.next()) {\r\n                return rs.getInt(&quot;n_ass&quot;);\r\n            }\r\n        }catch (SQLException e){\r\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    //assunzioni prescritte al paziente di ogni farmaco\r\n    public static int getAssunzioniPrescrittePerFarmaco(int pid, int fid) {\r\n        Connection connection = DBConnection.getConn();\r\n        PreparedStatement pst = null;\r\n        try {\r\n            pst = connection.prepareStatement(&quot;SELECT n_ass FROM terapia WHERE  pid = ? AND fid = ?&quot;);\r\n            pst.setInt(1, pid);\r\n            pst.setInt(2, fid);\r\n            ResultSet rs = pst.executeQuery();\r\n            if (rs.next()) {\r\n                return rs.getInt(&quot;n_ass&quot;);\r\n            }\r\n        }catch (SQLException e){\r\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\r\n        }\r\n        return 0;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nCHECKASSUNZIONE CLASS\r\npackage com.example.demosw2023;\r\n\r\npublic class CheckAssunzione {\r\n    private String nomeF;\r\n    private int n_assP;\r\n    private int n_assG;\r\n\r\n    public CheckAssunzione(String nomeF, int n_assP, int n_assG) {\r\n        this.nomeF = nomeF;\r\n        this.n_assP = n_assP;\r\n        this.n_assG = n_assG;\r\n    }\r\n\r\n    public String getNomeF() {\r\n        return nomeF;\r\n    }\r\n\r\n    public int getN_assP() {\r\n        return n_assP;\r\n    }\r\n\r\n    public int getN_assG() {\r\n        return n_assG;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nCONTROLLER CLASS THAT HAS THE TABLE\r\npackage com.example.demosw2023;\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport java.net.URL;\r\nimport java.sql.*;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class LoggedInPazController implements Initializable{\r\n    static int pidPaz;\r\n    static {\r\n        pidPaz = GetPid.pid;\r\n    }\r\n    @FXML\r\n    private Button b_logout;\r\n    @FXML\r\n    private Label label_welcome;\r\n    @FXML\r\n    private Button b_pressione;\r\n    @FXML\r\n    private Button b_sintomi;\r\n    @FXML\r\n    private Button b_farmaci;\r\n    @FXML\r\n    private Button b_segnalazioni;\r\n    @FXML\r\n    private Button b_contatta;\r\n    @FXML\r\n    private Button b_terapie;\r\n    @FXML\r\n    private Button b_refresh;\r\n\r\n    @FXML\r\n    private TableView&lt;CheckAssunzione&gt; tb_checkassunzioni;\r\n    ObservableList&lt;CheckAssunzione&gt; alert = FXCollections.observableArrayList();\r\n    @FXML\r\n    private TableColumn&lt;CheckAssunzione, String&gt; tc_farmaco;\r\n    @FXML\r\n    private TableColumn&lt;CheckAssunzione, Integer&gt; tc_assunzioniGiornaliere;\r\n    @FXML\r\n    private TableColumn&lt;CheckAssunzione, Integer&gt; tc_assunzioniPrescritte;\r\n\r\n    public void visualizzaAssunzioni(int pidPaz){\r\n        Connection connection = DBConnection.getConn();\r\n        PreparedStatement pst_F;\r\n        ResultSet rs_F;\r\n        try{\r\n            pst_F = connection.prepareStatement(&quot;SELECT F.nome, F.fid FROM terapia T JOIN farmaco F on T.fid = F.fid WHERE pid = ?&quot;);\r\n            pst_F.setInt(1, pidPaz);\r\n            rs_F = pst_F.executeQuery();\r\n\r\n            alert.clear();\r\n            while (rs_F.next()) {\r\n                String nomeF = rs_F.getString(&quot;nome&quot;);\r\n                int n_assP = DBUtils.getAssunzioniPrescrittePerFarmaco(pidPaz, rs_F.getInt(&quot;fid&quot;));\r\n                int n_assG = DBUtils.getAssunzioniGiornalierePerFarmaco(pidPaz, rs_F.getInt(&quot;fid&quot;));\r\n                CheckAssunzione assunzione = new CheckAssunzione(nomeF, n_assP, n_assG);\r\n                alert.add(assunzione);\r\n            }\r\n            tb_checkassunzioni.setItems(alert);\r\n        }catch(SQLException e){\r\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        tc_farmaco.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nomeF&quot;));\r\n        tc_assunzioniPrescritte.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;n_assP&quot;));\r\n        tc_assunzioniGiornaliere.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;n_assG&quot;));\r\n        b_refresh.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                visualizzaAssunzioni(pidPaz);\r\n            }\r\n        });\r\n\r\n        b_logout.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) { View.changeScene(event, &quot;AccessOpt.fxml&quot;, &quot;Log in!&quot;);\r\n            }\r\n        });\r\n        b_pressione.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.popUpScene(event, &quot;RegistraPressione.fxml&quot;, &quot;Registra le pressioni giornaliere&quot;);\r\n            }\r\n        });\r\n        b_farmaci.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.popUpScene(event, &quot;RegistraAssunzione.fxml&quot;, &quot;Registra le assunzioni di farmaci&quot;);\r\n            }\r\n        });\r\n        b_contatta.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.messageScene(event, &quot;Contatta.fxml&quot;, &quot;Contatta medico&quot;);\r\n            }\r\n        });\r\n        b_sintomi.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.popUpScene(event, &quot;RegistraSintomo.fxml&quot;, &quot;Registra i sintomi&quot;);\r\n            }\r\n        });\r\n        b_segnalazioni.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.popUpScene(event, &quot;RegistraPatologie.fxml&quot;, &quot;Registra le patologie&quot;);\r\n            }\r\n        });\r\n        b_terapie.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                View.popUpScene(event, &quot;RegistraTerapia.fxml&quot;, &quot;Registra terapie concomitanti&quot;);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void setUserInformation(String nome, String cognome){\r\n        label_welcome.setText(&quot;Benvenut@ &quot;+nome+&quot; &quot;+cognome+&quot;!&quot;);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve already populated another table using the same procedure and that is working properly. ","title":"IntelliJ seems to not recognize my getter methods","body":"<p>I'm trying to display data from a database in a TableView in JavaFx, and I'm using the class CheckAssunzione for creating my assunzione object that will be used to populate the table. I also have a refresh button that should update the lines in the table but is not working either.\nI don't get any errors/warnings in the terminal so I really don't know what is wrong but it's not filling up my table at all. Thanks for your help</p>\n<pre><code>DBUTILS CLASS THAT DOES THE DB QUERIES\n    // assunzioni registrate dal paziente di ogni farmaco a lui prescritto\n    public static int getAssunzioniGiornalierePerFarmaco(int pid, int fid) {\n        Connection connection = DBConnection.getConn();\n        PreparedStatement pst = null;\n        try {\n            pst = connection.prepareStatement(&quot;SELECT COUNT(pid) AS n_ass FROM assunzione WHERE  pid = ? AND fid = ? AND date(dataora) = current_date&quot;);\n            pst.setInt(1, pid);\n            pst.setInt(2, fid);\n            ResultSet rs = pst.executeQuery();\n            if (rs.next()) {\n                return rs.getInt(&quot;n_ass&quot;);\n            }\n        }catch (SQLException e){\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\n        }\n        return 0;\n    }\n\n    //assunzioni prescritte al paziente di ogni farmaco\n    public static int getAssunzioniPrescrittePerFarmaco(int pid, int fid) {\n        Connection connection = DBConnection.getConn();\n        PreparedStatement pst = null;\n        try {\n            pst = connection.prepareStatement(&quot;SELECT n_ass FROM terapia WHERE  pid = ? AND fid = ?&quot;);\n            pst.setInt(1, pid);\n            pst.setInt(2, fid);\n            ResultSet rs = pst.executeQuery();\n            if (rs.next()) {\n                return rs.getInt(&quot;n_ass&quot;);\n            }\n        }catch (SQLException e){\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\n        }\n        return 0;\n    }\n}\n</code></pre>\n<pre><code>CHECKASSUNZIONE CLASS\npackage com.example.demosw2023;\n\npublic class CheckAssunzione {\n    private String nomeF;\n    private int n_assP;\n    private int n_assG;\n\n    public CheckAssunzione(String nomeF, int n_assP, int n_assG) {\n        this.nomeF = nomeF;\n        this.n_assP = n_assP;\n        this.n_assG = n_assG;\n    }\n\n    public String getNomeF() {\n        return nomeF;\n    }\n\n    public int getN_assP() {\n        return n_assP;\n    }\n\n    public int getN_assG() {\n        return n_assG;\n    }\n}\n</code></pre>\n<pre><code>CONTROLLER CLASS THAT HAS THE TABLE\npackage com.example.demosw2023;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport java.net.URL;\nimport java.sql.*;\nimport java.util.ResourceBundle;\n\npublic class LoggedInPazController implements Initializable{\n    static int pidPaz;\n    static {\n        pidPaz = GetPid.pid;\n    }\n    @FXML\n    private Button b_logout;\n    @FXML\n    private Label label_welcome;\n    @FXML\n    private Button b_pressione;\n    @FXML\n    private Button b_sintomi;\n    @FXML\n    private Button b_farmaci;\n    @FXML\n    private Button b_segnalazioni;\n    @FXML\n    private Button b_contatta;\n    @FXML\n    private Button b_terapie;\n    @FXML\n    private Button b_refresh;\n\n    @FXML\n    private TableView&lt;CheckAssunzione&gt; tb_checkassunzioni;\n    ObservableList&lt;CheckAssunzione&gt; alert = FXCollections.observableArrayList();\n    @FXML\n    private TableColumn&lt;CheckAssunzione, String&gt; tc_farmaco;\n    @FXML\n    private TableColumn&lt;CheckAssunzione, Integer&gt; tc_assunzioniGiornaliere;\n    @FXML\n    private TableColumn&lt;CheckAssunzione, Integer&gt; tc_assunzioniPrescritte;\n\n    public void visualizzaAssunzioni(int pidPaz){\n        Connection connection = DBConnection.getConn();\n        PreparedStatement pst_F;\n        ResultSet rs_F;\n        try{\n            pst_F = connection.prepareStatement(&quot;SELECT F.nome, F.fid FROM terapia T JOIN farmaco F on T.fid = F.fid WHERE pid = ?&quot;);\n            pst_F.setInt(1, pidPaz);\n            rs_F = pst_F.executeQuery();\n\n            alert.clear();\n            while (rs_F.next()) {\n                String nomeF = rs_F.getString(&quot;nome&quot;);\n                int n_assP = DBUtils.getAssunzioniPrescrittePerFarmaco(pidPaz, rs_F.getInt(&quot;fid&quot;));\n                int n_assG = DBUtils.getAssunzioniGiornalierePerFarmaco(pidPaz, rs_F.getInt(&quot;fid&quot;));\n                CheckAssunzione assunzione = new CheckAssunzione(nomeF, n_assP, n_assG);\n                alert.add(assunzione);\n            }\n            tb_checkassunzioni.setItems(alert);\n        }catch(SQLException e){\n            System.out.println(&quot;Errore lettura dati&quot; + e.getMessage());\n        }\n\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        tc_farmaco.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;nomeF&quot;));\n        tc_assunzioniPrescritte.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;n_assP&quot;));\n        tc_assunzioniGiornaliere.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;n_assG&quot;));\n        b_refresh.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                visualizzaAssunzioni(pidPaz);\n            }\n        });\n\n        b_logout.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) { View.changeScene(event, &quot;AccessOpt.fxml&quot;, &quot;Log in!&quot;);\n            }\n        });\n        b_pressione.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.popUpScene(event, &quot;RegistraPressione.fxml&quot;, &quot;Registra le pressioni giornaliere&quot;);\n            }\n        });\n        b_farmaci.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.popUpScene(event, &quot;RegistraAssunzione.fxml&quot;, &quot;Registra le assunzioni di farmaci&quot;);\n            }\n        });\n        b_contatta.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.messageScene(event, &quot;Contatta.fxml&quot;, &quot;Contatta medico&quot;);\n            }\n        });\n        b_sintomi.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.popUpScene(event, &quot;RegistraSintomo.fxml&quot;, &quot;Registra i sintomi&quot;);\n            }\n        });\n        b_segnalazioni.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.popUpScene(event, &quot;RegistraPatologie.fxml&quot;, &quot;Registra le patologie&quot;);\n            }\n        });\n        b_terapie.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                View.popUpScene(event, &quot;RegistraTerapia.fxml&quot;, &quot;Registra terapie concomitanti&quot;);\n            }\n        });\n\n    }\n\n    public void setUserInformation(String nome, String cognome){\n        label_welcome.setText(&quot;Benvenut@ &quot;+nome+&quot; &quot;+cognome+&quot;!&quot;);\n    }\n\n\n}\n</code></pre>\n<p>I've already populated another table using the same procedure and that is working properly.</p>\n"},{"tags":["java","spring","mongodb"],"answers":[{"tags":[],"owner":{"account_id":358380,"reputation":18171,"user_id":1388192,"accept_rate":100,"display_name":"Erwin Smout"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556103680,"creation_date":1556103680,"answer_id":55828531,"question_id":55827640,"body_markdown":"If your framework tool ***requires*** (visible) no-arg constructors (plus accompanying setters), and the class you have is ***required*** to stay as is, then you could roll your own, say, MutableVehicleRoutingProblemSolution where in the setters you could have :\r\n\r\n    this.vehicleRoutingProblemSolution = new VehicleRoutingProblemSolution(vehicleRoutingProblemSolution.getId(), newSolution);\r\n\r\nThus your MutableVehicleRoutingProblemSolution wraps around the existing VehicleRoutingProblemSolution.\r\n\r\nHacky smell to it, but it fits the requirements.\r\n\r\n(Or you could try to find a tool that is able to use, not annotations on the contained fields, but annotations on constructor arguments.)","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>If your framework tool <strong><em>requires</em></strong> (visible) no-arg constructors (plus accompanying setters), and the class you have is <strong><em>required</em></strong> to stay as is, then you could roll your own, say, MutableVehicleRoutingProblemSolution where in the setters you could have :</p>\n\n<pre><code>this.vehicleRoutingProblemSolution = new VehicleRoutingProblemSolution(vehicleRoutingProblemSolution.getId(), newSolution);\n</code></pre>\n\n<p>Thus your MutableVehicleRoutingProblemSolution wraps around the existing VehicleRoutingProblemSolution.</p>\n\n<p>Hacky smell to it, but it fits the requirements.</p>\n\n<p>(Or you could try to find a tool that is able to use, not annotations on the contained fields, but annotations on constructor arguments.)</p>\n"},{"comments":[{"owner":{"account_id":5301372,"reputation":197,"user_id":4230855,"accept_rate":83,"display_name":"xxx"},"score":0,"creation_date":1592978201,"post_id":58100985,"comment_id":110614370,"body_markdown":"Brilliant, I knew a constructor annotation existed but just did not know it, you are a life saver.","body":"Brilliant, I knew a constructor annotation existed but just did not know it, you are a life saver."},{"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"score":0,"creation_date":1626027565,"post_id":58100985,"comment_id":120777918,"body_markdown":"The PersistentConstructor doesn&#39;t have to be &#39;public&#39;, I prefer letting it as &#39;protected&#39; to indicate it is not meant to be used by other client classes. It can even be &#39;private&#39;, it works.","body":"The PersistentConstructor doesn&#39;t have to be &#39;public&#39;, I prefer letting it as &#39;protected&#39; to indicate it is not meant to be used by other client classes. It can even be &#39;private&#39;, it works."}],"tags":[],"owner":{"account_id":11873432,"reputation":528,"user_id":8689045,"display_name":"onouv"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1693071499,"creation_date":1569422439,"answer_id":58100985,"question_id":55827640,"body_markdown":"I ran into the exact same problem. A persistent immutable class containing other class instances, throwing that aforementioned exception when retrieved by this repository method: \r\n\r\n\r\n    public interface ProjectCodeCacheRepository extends MongoRepository&lt;CachedCode, String&gt; {\r\n    \tpublic CachedCode findByCode(String code);\t\r\n    \tpublic List&lt;CachedCode&gt; findByClientId(UUID clientId);\r\n    }\r\n    ...\r\n    List&lt;CachedCode&gt; cachedForClient = this.codeCacheRepo.`**findByClientId**`(clientId);\r\n    ...\r\n\r\nFollowing Erwin Smouts hints, this is nicely fixed by giving it a special constructor.  \r\n\r\nPrior to spring boot 3.0 the annotation used was:  `org.springframework.data.annotation.PersistenceConstructor`  \r\n\r\nAfter this version, the annotation was deprecated in favor of: `org.springframework.data.annotation.PersistenceCreator`  \r\n\r\nLike so: \r\n\r\n    @Document(collection=&quot;cachedcodes&quot;)\r\n    public class CachedCode {\r\n    \t\r\n    \t@PersistenceCreator\r\n    \tpublic CachedCode(String code, UUID clientId, LocalDateTime expiration) {\r\n    \t\tthis.code = code;\r\n    \t\tthis.clientId = clientId;\r\n    \t\tthis.expiration = expiration;\r\n    \t}\r\n    \t\r\n    \tpublic CachedCode(String code, UUID clientId, long secondsExpiring) {\r\n    \t\tthis.code = code;\r\n    \t\tthis.clientId = clientId;\r\n    \t\tthis.expiration = LocalDateTime.now().plusSeconds(secondsExpiring);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic UUID getClientId( ) {\r\n    \t\treturn this.clientId;\r\n    \t}\r\n    \t\t\t\r\n    \tpublic String getCode() {\r\n    \t\treturn this.code;\r\n    \t}\r\n    \t\t\r\n    \tpublic boolean hasExpired(LocalDateTime now) {\r\n    \t\treturn (expiration.isBefore(now));\r\n    \t}\r\n    \t\r\n    \t...\r\n        @Id\r\n    \tprivate final String code;\r\n    \tprivate final UUID clientId;\r\n    \tprivate final LocalDateTime expiration;\r\n    }\r\n\r\nSo, you should check if your VehicleRoutingProblemSolution has a) a constructor that matches the database fields (check in mongo client) and b) is annotated to be the one used by the driver (or whichever piece of Spring magic under the hood).\r\n\r\n\r\n\r\n","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>I ran into the exact same problem. A persistent immutable class containing other class instances, throwing that aforementioned exception when retrieved by this repository method:</p>\n<pre><code>public interface ProjectCodeCacheRepository extends MongoRepository&lt;CachedCode, String&gt; {\n    public CachedCode findByCode(String code);  \n    public List&lt;CachedCode&gt; findByClientId(UUID clientId);\n}\n...\nList&lt;CachedCode&gt; cachedForClient = this.codeCacheRepo.`**findByClientId**`(clientId);\n...\n</code></pre>\n<p>Following Erwin Smouts hints, this is nicely fixed by giving it a special constructor.</p>\n<p>Prior to spring boot 3.0 the annotation used was:  <code>org.springframework.data.annotation.PersistenceConstructor</code></p>\n<p>After this version, the annotation was deprecated in favor of: <code>org.springframework.data.annotation.PersistenceCreator</code></p>\n<p>Like so:</p>\n<pre><code>@Document(collection=&quot;cachedcodes&quot;)\npublic class CachedCode {\n    \n    @PersistenceCreator\n    public CachedCode(String code, UUID clientId, LocalDateTime expiration) {\n        this.code = code;\n        this.clientId = clientId;\n        this.expiration = expiration;\n    }\n    \n    public CachedCode(String code, UUID clientId, long secondsExpiring) {\n        this.code = code;\n        this.clientId = clientId;\n        this.expiration = LocalDateTime.now().plusSeconds(secondsExpiring);\n    }\n    \n    \n    public UUID getClientId( ) {\n        return this.clientId;\n    }\n            \n    public String getCode() {\n        return this.code;\n    }\n        \n    public boolean hasExpired(LocalDateTime now) {\n        return (expiration.isBefore(now));\n    }\n    \n    ...\n    @Id\n    private final String code;\n    private final UUID clientId;\n    private final LocalDateTime expiration;\n}\n</code></pre>\n<p>So, you should check if your VehicleRoutingProblemSolution has a) a constructor that matches the database fields (check in mongo client) and b) is annotated to be the one used by the driver (or whichever piece of Spring magic under the hood).</p>\n"},{"tags":[],"owner":{"account_id":1341772,"reputation":11,"user_id":7229948,"display_name":"subrata das"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632467074,"creation_date":1632466659,"answer_id":69310781,"question_id":55827640,"body_markdown":"This is a problem where the corresponding class does not have a no-arg constructor like - I was facing an issue with java.io.File.\r\n\r\nSolution:  \r\nIn general - change the declaration to Object class and convert where we are using the class.\r\n\r\n**from** \r\n\r\n    class MyClass{\r\n    \r\n        File myfile;\r\n    \r\n    }\r\n\r\n**to**\r\n\r\n    class MyClass{\r\n    \r\n        Object myFile;\r\n    \r\n    }","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>This is a problem where the corresponding class does not have a no-arg constructor like - I was facing an issue with java.io.File.</p>\n<p>Solution:<br />\nIn general - change the declaration to Object class and convert where we are using the class.</p>\n<p><strong>from</strong></p>\n<pre><code>class MyClass{\n\n    File myfile;\n\n}\n</code></pre>\n<p><strong>to</strong></p>\n<pre><code>class MyClass{\n\n    Object myFile;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41171,"reputation":20882,"user_id":119592,"accept_rate":75,"display_name":"Hamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633360535,"creation_date":1633360535,"answer_id":69438406,"question_id":55827640,"body_markdown":"For anyone using lombok, you need to remove the `@Builder` annotation on your class and use `@Data` instead, or follow the above solution to provide a specialized constructor","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>For anyone using lombok, you need to remove the <code>@Builder</code> annotation on your class and use <code>@Data</code> instead, or follow the above solution to provide a specialized constructor</p>\n"},{"tags":[],"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636397518,"creation_date":1636397518,"answer_id":69888513,"question_id":55827640,"body_markdown":"Oddly, I received this when I attempted to decorate a custom interface with ...\r\n\r\n    @Document(collection = &quot;Person&quot;)\r\n\r\n\r\nExample:\r\n\r\n\r\n    package test.barry.interfaces;\r\n    \r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    import org.springframework.data.mongodb.core.query.Query;\r\n    import org.springframework.data.mongodb.core.query.UpdateDefinition;\r\n    \r\n    \r\n    @Document(collection = &quot;Person&quot;)\r\n    public interface CustomRepository\r\n    {\r\n    \tvoid updatex(Query filterPredicate, UpdateDefinition updatePredicate);\r\n    }\r\n\r\n","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>Oddly, I received this when I attempted to decorate a custom interface with ...</p>\n<pre><code>@Document(collection = &quot;Person&quot;)\n</code></pre>\n<p>Example:</p>\n<pre><code>package test.barry.interfaces;\n\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.query.Query;\nimport org.springframework.data.mongodb.core.query.UpdateDefinition;\n\n\n@Document(collection = &quot;Person&quot;)\npublic interface CustomRepository\n{\n    void updatex(Query filterPredicate, UpdateDefinition updatePredicate);\n}\n</code></pre>\n"}],"owner":{"account_id":15732620,"reputation":153,"user_id":11352583,"display_name":"tambovflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19011,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":58100985,"answer_count":5,"score":10,"last_activity_date":1693071499,"creation_date":1556100888,"question_id":55827640,"body_markdown":"I use MongoDBRepository in spring boot, and when I save some object in database everything is ok. but when I find object by id spring does not allow do that. \r\n\r\nI try to change VehicleRoutingProblemSolution type to Object type, but  VehicleRoutingProblemSolution have other object field PickupService and it without default constructor to. And yes, this class has immutable... I can&#39;t create default constructors, what can I do?\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.graphhopper.jsprit.core.problem.solution.VehicleRoutingProblemSolution;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Document(collection = &quot;vrp_solutions&quot;)\r\npublic class VrpSolutionHolder {\r\n    // Specifies the solution id\r\n    @Id\r\n    @JsonProperty(&quot;id&quot;)\r\n    private String id;\r\n\r\n    // Specifies the solution id\r\n    @JsonProperty(&quot;solution&quot;)\r\n    private VehicleRoutingProblemSolution vehicleRoutingProblemSolution;\r\n\r\n    // Created at timestamp in millis\r\n    @JsonProperty(&quot;created_at&quot;)\r\n    private Long created_at = System.currentTimeMillis();\r\n\r\n\r\n    public VrpSolutionHolder(String id, VehicleRoutingProblemSolution vehicleRoutingProblemSolution) {\r\n        this.id = id;\r\n        this.vehicleRoutingProblemSolution = vehicleRoutingProblemSolution;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public VehicleRoutingProblemSolution getVehicleRoutingProblemSolution() {\r\n        return vehicleRoutingProblemSolution;\r\n    }\r\n\r\n    public void setVehicleRoutingProblemSolution(VehicleRoutingProblemSolution vehicleRoutingProblemSolution) {\r\n        this.vehicleRoutingProblemSolution = vehicleRoutingProblemSolution;\r\n    }\r\n\r\n    public Long getCreated_at() {\r\n        return created_at;\r\n    }\r\n\r\n    public void setCreated_at(Long created_at) {\r\n        this.created_at = created_at;\r\n    }\r\n}\r\n\r\n```\r\n\r\n&gt; org.springframework.web.util.NestedServletException: Request\r\n&gt; processing failed; nested exception is\r\n&gt; org.springframework.data.mapping.model.MappingInstantiationException:\r\n&gt; Failed to instantiate\r\n&gt; com.graphhopper.jsprit.core.problem.solution.VehicleRoutingProblemSolution\r\n&gt; using constructor NO_CONSTRUCTOR with arguments","title":"How to fix &quot; Failed to instantiate &#39;className&#39; using constructor NO_CONSTRUCTOR with arguments&quot; in immutable class","body":"<p>I use MongoDBRepository in spring boot, and when I save some object in database everything is ok. but when I find object by id spring does not allow do that. </p>\n\n<p>I try to change VehicleRoutingProblemSolution type to Object type, but  VehicleRoutingProblemSolution have other object field PickupService and it without default constructor to. And yes, this class has immutable... I can't create default constructors, what can I do?</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.graphhopper.jsprit.core.problem.solution.VehicleRoutingProblemSolution;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection = \"vrp_solutions\")\npublic class VrpSolutionHolder {\n    // Specifies the solution id\n    @Id\n    @JsonProperty(\"id\")\n    private String id;\n\n    // Specifies the solution id\n    @JsonProperty(\"solution\")\n    private VehicleRoutingProblemSolution vehicleRoutingProblemSolution;\n\n    // Created at timestamp in millis\n    @JsonProperty(\"created_at\")\n    private Long created_at = System.currentTimeMillis();\n\n\n    public VrpSolutionHolder(String id, VehicleRoutingProblemSolution vehicleRoutingProblemSolution) {\n        this.id = id;\n        this.vehicleRoutingProblemSolution = vehicleRoutingProblemSolution;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public VehicleRoutingProblemSolution getVehicleRoutingProblemSolution() {\n        return vehicleRoutingProblemSolution;\n    }\n\n    public void setVehicleRoutingProblemSolution(VehicleRoutingProblemSolution vehicleRoutingProblemSolution) {\n        this.vehicleRoutingProblemSolution = vehicleRoutingProblemSolution;\n    }\n\n    public Long getCreated_at() {\n        return created_at;\n    }\n\n    public void setCreated_at(Long created_at) {\n        this.created_at = created_at;\n    }\n}\n\n</code></pre>\n\n<blockquote>\n  <p>org.springframework.web.util.NestedServletException: Request\n  processing failed; nested exception is\n  org.springframework.data.mapping.model.MappingInstantiationException:\n  Failed to instantiate\n  com.graphhopper.jsprit.core.problem.solution.VehicleRoutingProblemSolution\n  using constructor NO_CONSTRUCTOR with arguments</p>\n</blockquote>\n"},{"tags":["java","arrays","search","binary"],"comments":[{"owner":{"account_id":1791855,"reputation":1370,"user_id":1632043,"accept_rate":50,"display_name":"Russell Gutierrez"},"score":2,"creation_date":1350280872,"post_id":12890065,"comment_id":17455599,"body_markdown":"can you provide the values that you pass to the method?","body":"can you provide the values that you pass to the method?"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":2,"creation_date":1350281233,"post_id":12890065,"comment_id":17455705,"body_markdown":"The code appears correct. Make sure that `arreglo` is sorted in ascending order. If if is not, that would explain the behavior you see.","body":"The code appears correct. Make sure that <code>arreglo</code> is sorted in ascending order. If if is not, that would explain the behavior you see."}],"answers":[{"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1350281064,"post_id":12890089,"comment_id":17455649,"body_markdown":"@PaulDinh  Maybe the OP can clarify.","body":"@PaulDinh  Maybe the OP can clarify."},{"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"score":1,"creation_date":1350281099,"post_id":12890089,"comment_id":17455660,"body_markdown":"This answer is out of scope, the goal is to exercise, to learn fundamental algorithms, not to realize a program.","body":"This answer is out of scope, the goal is to exercise, to learn fundamental algorithms, not to realize a program."}],"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1350280928,"creation_date":1350280928,"answer_id":12890089,"question_id":12890065,"body_markdown":"You can use `Arrays#binarySearch` or `Collections#binarySearch`, which are already available in library.  ","title":"Binary search in java","body":"<p>You can use <code>Arrays#binarySearch</code> or <code>Collections#binarySearch</code>, which are already available in library.  </p>\n"},{"tags":[],"owner":{"account_id":1587724,"reputation":1822,"user_id":1471699,"accept_rate":29,"display_name":"Srinivas B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350282103,"creation_date":1350281661,"answer_id":12890211,"question_id":12890065,"body_markdown":"Binary Search will only work with the sorted numbers. Please make sure that the array **arreglo** is sorted.\r\n\r\nIf your array is in Descending order then you have to change your logic a littel bit. \r\n\r\n         if (arreglo[centro] == buscar){\r\n           System.out.println(&quot;-Number &quot; + buscar + &quot; found in the &quot; + centro + &quot; position.&quot;);\r\n           encontrado=true;   \r\n           break; \r\n         } \r\n         else if (arreglo[centro] &gt; buscar) { \r\n           superior = centro + 1;\r\n         }\r\n         else{ \r\n           inferior = centro - 1; \r\n         }      ","title":"Binary search in java","body":"<p>Binary Search will only work with the sorted numbers. Please make sure that the array <strong>arreglo</strong> is sorted.</p>\n\n<p>If your array is in Descending order then you have to change your logic a littel bit. </p>\n\n<pre><code>     if (arreglo[centro] == buscar){\n       System.out.println(\"-Number \" + buscar + \" found in the \" + centro + \" position.\");\n       encontrado=true;   \n       break; \n     } \n     else if (arreglo[centro] &gt; buscar) { \n       superior = centro + 1;\n     }\n     else{ \n       inferior = centro - 1; \n     }      \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350281851,"creation_date":1350281851,"answer_id":12890248,"question_id":12890065,"body_markdown":"Here is my contribution:\r\n\r\n    public class BinarySearch\r\n    {\r\n       private static String search( String[] entries, String entry, int left, int right )\r\n       {\r\n          int index = ( left + right ) / 2;\r\n          if( left &gt; right || index &gt;= entries.length )\r\n          {\r\n             return null;\r\n          }\r\n          int cmp   = entries[index].compareTo( entry );\r\n          if( cmp == 0 )\r\n          {\r\n             return entry;\r\n          }\r\n          if( cmp &gt; 0 )\r\n          {\r\n             return search( entries, entry, left, index - 1 );\r\n          }\r\n          return search( entries, entry, index + 1, right );\r\n       }// String search( String[] entries, String entry, int left, int right )\r\n       \r\n       \r\n       \r\n       public static String search( String[] entries, String entry )\r\n       {\r\n          return search( entries, entry, 0, entries.length );\r\n       }// String search( String[] entries, String entry )\r\n       \r\n       \r\n       \r\n       public static void main( String[] args )\r\n       {\r\n          String[] entries = new String[] { &quot;Aubin&quot;, &quot;Barbara&quot;, &quot;George&quot;, &quot;Muriel&quot;, &quot;Sarah&quot;, &quot;Tom&quot; };\r\n          for( String entry : entries )\r\n          {\r\n             System.out.println( search( entries, entry ));\r\n          }\r\n          System.out.println( search( entries, &quot;Toto&quot; ));\r\n       }\r\n    \r\n    }\r\n\r\n","title":"Binary search in java","body":"<p>Here is my contribution:</p>\n\n<pre><code>public class BinarySearch\n{\n   private static String search( String[] entries, String entry, int left, int right )\n   {\n      int index = ( left + right ) / 2;\n      if( left &gt; right || index &gt;= entries.length )\n      {\n         return null;\n      }\n      int cmp   = entries[index].compareTo( entry );\n      if( cmp == 0 )\n      {\n         return entry;\n      }\n      if( cmp &gt; 0 )\n      {\n         return search( entries, entry, left, index - 1 );\n      }\n      return search( entries, entry, index + 1, right );\n   }// String search( String[] entries, String entry, int left, int right )\n\n\n\n   public static String search( String[] entries, String entry )\n   {\n      return search( entries, entry, 0, entries.length );\n   }// String search( String[] entries, String entry )\n\n\n\n   public static void main( String[] args )\n   {\n      String[] entries = new String[] { \"Aubin\", \"Barbara\", \"George\", \"Muriel\", \"Sarah\", \"Tom\" };\n      for( String entry : entries )\n      {\n         System.out.println( search( entries, entry ));\n      }\n      System.out.println( search( entries, \"Toto\" ));\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28797869,"reputation":1,"user_id":22055593,"display_name":"sagar chhabriya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693071311,"creation_date":1692974436,"answer_id":76978210,"question_id":12890065,"body_markdown":"```java\r\npackage Lab; //package\r\n                   \r\npublic class BinarySearch {\r\n\r\n    public static void main(String[] args) {\r\n        int arr[]={1,2,3,4,5,6,7,8,9}; \r\n        int beg=0, end=arr.length-1, mid = (beg+end)/2,item =10;\r\n        while(beg&lt;=end &amp;&amp; arr[mid] !=item)\r\n        {\r\n            if(item&gt;arr[mid]) beg=mid+1;\r\n\r\n             else if (item&lt;arr[mid]) end=mid-1;\r\n\r\n            mid = (beg+end)/2;\r\n        }\r\n        if(item==arr[mid])\r\n            System.out.println(&quot;Item foudn at indes&quot;+mid);\r\n        else \r\n            System.out.println(&quot;Item not found&quot;);\r\n        \r\n    }\r\n}\r\n```","title":"Binary search in java","body":"<pre class=\"lang-java prettyprint-override\"><code>package Lab; //package\n                   \npublic class BinarySearch {\n\n    public static void main(String[] args) {\n        int arr[]={1,2,3,4,5,6,7,8,9}; \n        int beg=0, end=arr.length-1, mid = (beg+end)/2,item =10;\n        while(beg&lt;=end &amp;&amp; arr[mid] !=item)\n        {\n            if(item&gt;arr[mid]) beg=mid+1;\n\n             else if (item&lt;arr[mid]) end=mid-1;\n\n            mid = (beg+end)/2;\n        }\n        if(item==arr[mid])\n            System.out.println(&quot;Item foudn at indes&quot;+mid);\n        else \n            System.out.println(&quot;Item not found&quot;);\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1595686,"reputation":1031,"user_id":1477869,"accept_rate":80,"display_name":"OHHH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1186,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1693071311,"creation_date":1350280749,"question_id":12890065,"body_markdown":"I am trying to implement a binary search in Java, doesn&#39;t work... don&#39;t know why, It always gives me an error saying the number wasn&#39;t found...\r\n\r\nI am not sure why, I&#39;m not seeing any error :S thanks for your help...\r\n\r\n \r\n\r\n    public void busquedaBinaria(int[] arreglo, int buscar) {        \r\n            \r\n            int centro = 0; //middle\r\n            int inferior = 0;\r\n            int superior = arreglo.length - 1;\r\n            boolean encontrado = false; //found flag\r\n\r\n            while(inferior &lt;= superior)\r\n            {\r\n                centro = (superior + inferior) / 2;            \r\n                  \r\n                  if (arreglo[centro] == buscar){\r\n                      System.out.println(&quot;-Number &quot; + buscar + &quot; found in the &quot; + centro + &quot; position.&quot;);\r\n                      encontrado=true;\r\n                      break;\r\n                  }\r\n                  else if (arreglo[centro] &gt; buscar) {\r\n                      superior = centro - 1;\r\n                  }\r\n                  else{\r\n                      inferior = centro + 1;\r\n                  }     \r\n                  System.out.println(centro);\r\n            }\r\n                    \r\n            if (encontrado == false) {\r\n                System.out.println(&quot;-Number &quot; + buscar + &quot; hasn&#39;t been found.&quot;);\r\n            }\r\n        }\r\n\r\n","title":"Binary search in java","body":"<p>I am trying to implement a binary search in Java, doesn't work... don't know why, It always gives me an error saying the number wasn't found...</p>\n\n<p>I am not sure why, I'm not seeing any error :S thanks for your help...</p>\n\n<pre><code>public void busquedaBinaria(int[] arreglo, int buscar) {        \n\n        int centro = 0; //middle\n        int inferior = 0;\n        int superior = arreglo.length - 1;\n        boolean encontrado = false; //found flag\n\n        while(inferior &lt;= superior)\n        {\n            centro = (superior + inferior) / 2;            \n\n              if (arreglo[centro] == buscar){\n                  System.out.println(\"-Number \" + buscar + \" found in the \" + centro + \" position.\");\n                  encontrado=true;\n                  break;\n              }\n              else if (arreglo[centro] &gt; buscar) {\n                  superior = centro - 1;\n              }\n              else{\n                  inferior = centro + 1;\n              }     \n              System.out.println(centro);\n        }\n\n        if (encontrado == false) {\n            System.out.println(\"-Number \" + buscar + \" hasn't been found.\");\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1633964019,"post_id":69528261,"comment_id":122893624,"body_markdown":"They&#39;re implemented in the interface itself as defaults. See for instance [Consumer.java](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/function/Consumer.java)","body":"They&#39;re implemented in the interface itself as defaults. See for instance <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/function/Consumer.java\" rel=\"nofollow noreferrer\">Consumer.java</a>"},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1633964120,"post_id":69528261,"comment_id":122893673,"body_markdown":"Look for the keyword `default`, for example in `default Consumer&lt;T&gt;\tandThen(Consumer&lt;? super T&gt; after)`.","body":"Look for the keyword <code>default</code>, for example in <code>default Consumer&lt;T&gt;\tandThen(Consumer&lt;? super T&gt; after)</code>."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1633964574,"post_id":69528261,"comment_id":122893857,"body_markdown":"@khelwood thank you for the link... but if the type in the Funtional Interface is generic T then how will the default know how to implement it? your link just shows andThen() calling accept() and accept() which seems like passing the buck back to the lambda expression!","body":"@khelwood thank you for the link... but if the type in the Funtional Interface is generic T then how will the default know how to implement it? your link just shows andThen() calling accept() and accept() which seems like passing the buck back to the lambda expression!"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1633964742,"post_id":69528261,"comment_id":122893926,"body_markdown":"What&#39;s wrong with that? `andThen()` accepts a generic argument and returns a lambda that calls a generic method. It is a generic implementation.","body":"What&#39;s wrong with that? <code>andThen()</code> accepts a generic argument and returns a lambda that calls a generic method. It is a generic implementation."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1634047217,"post_id":69528261,"comment_id":122917769,"body_markdown":"@khelwood What I was trying to point out; what if the semantics of the &quot;other methods&quot; are not trivial or straightforward as in the example you gave? I suppose we would have to handroll our own custom Functional Interface that implements them all?","body":"@khelwood What I was trying to point out; what if the semantics of the &quot;other methods&quot; are not trivial or straightforward as in the example you gave? I suppose we would have to handroll our own custom Functional Interface that implements them all?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1634048908,"post_id":69528261,"comment_id":122918654,"body_markdown":"The question you actually asked is &quot;Where are the implementations of these methods?&quot;. Now you&#39;re talking about some hypothetical other methods in some other hypothetical interface? I&#39;m not at all clear what you&#39;re getting at.","body":"The question you actually asked is &quot;Where are the implementations of these methods?&quot;. Now you&#39;re talking about some hypothetical other methods in some other hypothetical interface? I&#39;m not at all clear what you&#39;re getting at."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1634049456,"post_id":69528261,"comment_id":122918900,"body_markdown":"@khelwood Consider the `Predicate` Functional Interface. If I pass in a lambda expression to an implementing method, but the `and(), or(), negate()` are not straightforward. Then the default implementation will not cover it.","body":"@khelwood Consider the <code>Predicate</code> Functional Interface. If I pass in a lambda expression to an implementing method, but the <code>and(), or(), negate()</code> are not straightforward. Then the default implementation will not cover it."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1634050074,"post_id":69528261,"comment_id":122919183,"body_markdown":"What do you mean they won&#39;t cover it? They *do* cover it. What is leading you to think that they do not?","body":"What do you mean they won&#39;t cover it? They <i>do</i> cover it. What is leading you to think that they do not?"},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1634050758,"post_id":69528261,"comment_id":122919497,"body_markdown":"I&#39;ve voted to reopen. I&#39;d prefer it if we answered your question by explaining why the default implementations are sufficient as is and don&#39;t need to be overridden, rather than closing the question. There&#39;s nothing wrong with asking!","body":"I&#39;ve voted to reopen. I&#39;d prefer it if we answered your question by explaining why the default implementations are sufficient as is and don&#39;t need to be overridden, rather than closing the question. There&#39;s nothing wrong with asking!"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1634051278,"post_id":69528261,"comment_id":122919727,"body_markdown":"@likejudo What do you mean by &quot;straightforward&quot;? A *functional interface* is an interface with **exactly one abstract method**. `and`, `or` and `negate` are the interface&#39;s *concrete* methods, which is possible by means of the `default` keyword. A lambda expression is an implementation of a *functional interface*. The compiler will deduce which method is actually implemented by means of the lambda expression, because **it has exactly one abstract method**.","body":"@likejudo What do you mean by &quot;straightforward&quot;? A <i>functional interface</i> is an interface with <b>exactly one abstract method</b>. <code>and</code>, <code>or</code> and <code>negate</code> are the interface&#39;s <i>concrete</i> methods, which is possible by means of the <code>default</code> keyword. A lambda expression is an implementation of a <i>functional interface</i>. The compiler will deduce which method is actually implemented by means of the lambda expression, because <b>it has exactly one abstract method</b>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1634052433,"post_id":69528261,"comment_id":122920245,"body_markdown":"So the author of a functional interface may add as many `default` methods as he likes. All of those methods are concrete methods, which are irrelevant to lambda expressions. As long as the interface has *a single abstract method*, that is, a method definition without body (something like `void hello();`), then it&#39;s sufficient.","body":"So the author of a functional interface may add as many <code>default</code> methods as he likes. All of those methods are concrete methods, which are irrelevant to lambda expressions. As long as the interface has <i>a single abstract method</i>, that is, a method definition without body (something like <code>void hello();</code>), then it&#39;s sufficient."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1634052584,"post_id":69528261,"comment_id":122920330,"body_markdown":"If you extend some functional interface, say `Predicate`, and (re)implement `and`, `or` and `negate`, then it doesn&#39;t matter, this interface still contains a single abstract method.","body":"If you extend some functional interface, say <code>Predicate</code>, and (re)implement <code>and</code>, <code>or</code> and <code>negate</code>, then it doesn&#39;t matter, this interface still contains a single abstract method."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1634056055,"post_id":69528261,"comment_id":122921754,"body_markdown":"@MCEmperor As you pointed out, &quot;a lambda expression is an implementation of a Functional Interface&quot;. What I was trying to ask was, what if the default methods aren&#39;t consistent with the semantics of the lambda expression. In this example, what if the default implementation of `negate` is not consistent with the Predicate I pass in? In any case, the original question asked about the implementation of the &quot;other methods&quot;. It was not clear from the Java docs that the default methods will contain the implementation.","body":"@MCEmperor As you pointed out, &quot;a lambda expression is an implementation of a Functional Interface&quot;. What I was trying to ask was, what if the default methods aren&#39;t consistent with the semantics of the lambda expression. In this example, what if the default implementation of <code>negate</code> is not consistent with the Predicate I pass in? In any case, the original question asked about the implementation of the &quot;other methods&quot;. It was not clear from the Java docs that the default methods will contain the implementation."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1634056400,"post_id":69528261,"comment_id":122921896,"body_markdown":"@likejudo Well, [the docs *do* show](https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html) that those are `default` methods. Of course, this assumes that one knows how default methods actually work","body":"@likejudo Well, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\">the docs <i>do</i> show</a> that those are <code>default</code> methods. Of course, this assumes that one knows how default methods actually work"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1634129373,"post_id":69528261,"comment_id":122942738,"body_markdown":"@MCEmperor can you address the second part - &quot;In this example, what if the default implementation of negate is not consistent with the Predicate I pass in? &quot;","body":"@MCEmperor can you address the second part - &quot;In this example, what if the default implementation of negate is not consistent with the Predicate I pass in? &quot;"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1634130111,"post_id":69528261,"comment_id":122943058,"body_markdown":"@likejudo The default implementation of `negate()` returns a function that gives the opposite of the predicate. That is what `negate()` *means* for a predicate. In what circumstance would that not be the correct result?","body":"@likejudo The default implementation of <code>negate()</code> returns a function that gives the opposite of the predicate. That is what <code>negate()</code> <i>means</i> for a predicate. In what circumstance would that not be the correct result?"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1634130396,"post_id":69528261,"comment_id":122943182,"body_markdown":"@khelwood  how would you define &quot;opposite of the predicate&quot;? Only for a numeric value, it is understood.","body":"@khelwood  how would you define &quot;opposite of the predicate&quot;? Only for a numeric value, it is understood."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1634130526,"post_id":69528261,"comment_id":122943250,"body_markdown":"@likejudo No, a predicate always returns true or false. The opposite of true or false is very clearly defined. The negation of the predicate is a predicate that returns false where the original returns true, and returns true where the original returns false.","body":"@likejudo No, a predicate always returns true or false. The opposite of true or false is very clearly defined. The negation of the predicate is a predicate that returns false where the original returns true, and returns true where the original returns false."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1673802675,"post_id":69528261,"comment_id":132574149,"body_markdown":"@khelwood Can you please take a look at my answer and confirm if my understanding is correct? https://stackoverflow.com/a/75126847/398348","body":"@khelwood Can you please take a look at my answer and confirm if my understanding is correct? <a href=\"https://stackoverflow.com/a/75126847/398348\">stackoverflow.com/a/75126847/398348</a>"}],"answers":[{"comments":[{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1645190348,"post_id":69557412,"comment_id":125811614,"body_markdown":"Thank you for the detailed answer. For Functional interfaces like `BiFunction` which has an `andThen()` other method (with no &#39;obvious&#39; implementation), does this mean we would have to inherit from this interface and create a new one with a default method `andThen()`?","body":"Thank you for the detailed answer. For Functional interfaces like <code>BiFunction</code> which has an <code>andThen()</code> other method (with no &#39;obvious&#39; implementation), does this mean we would have to inherit from this interface and create a new one with a default method <code>andThen()</code>?"}],"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634282942,"creation_date":1634135604,"answer_id":69557412,"question_id":69528261,"body_markdown":"Well, I got the feeling you are missing something here.\r\n\r\nLet&#39;s consider the `Predicate` interface. I stripped it down with the elements not relevant to the question.\r\n\r\n```java\r\ninterface Predicate&lt;T&gt; {\r\n\r\n    boolean test(T t);\r\n\r\n    default Predicate&lt;T&gt; negate() {\r\n        return (t) -&gt; !test(t);\r\n    }\r\n}\r\n```\r\n\r\nThis is a *functional interface*: it has **exactly one abstract method**. The authors of this interface also added a method which they named `negate`. Its implementation returns a new `Predicate` which returns the exact opposite result when its `test` method is called. They added this method because they thought it would be useful.\r\n\r\nAs you can see, the `negate` method is default, and has a method body. **Methods which have a body, are never abstract.**\r\n\r\n&gt; Since a Functional Interface is passed to an implementing method by a lambda expression\r\n\r\nand\r\n\r\n&gt; If I pass in a lambda expression to an implementing method\r\n\r\nNot sure what you mean here, but I think it&#39;s poorly worded. A lambda expression can only be used where a functional interface is expected. So a lambda expression **is the implementation of the only abstract method of a functional interface**. The &quot;other&quot; methods are not relevant to this story so far.\r\n\r\nSay, I want to create a `Predicate` which tests if a string is equal to &quot;Hello&quot;. A typical implementation may look like this:\r\n\r\n```java\r\nstr -&gt; str.equals(&quot;Hello&quot;)\r\n```\r\n\r\nThis is (roughly) equivalent to this:\r\n\r\n```java\r\nclass PredicateImpl implements Predicate&lt;String&gt; {\r\n\r\n    @Override\r\n    public boolean test(String t) {\r\n        return t.equals(&quot;Hello&quot;);\r\n    }\r\n\r\n    public Predicate&lt;String&gt; negate() {\r\n        return new Predicate&lt;String&gt; {\r\n\r\n            @Override\r\n            public boolean test(String t) {\r\n                return !PredicateImpl.this.test(t);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, `negate()` returns a new Predicate which captures the predicate on which the method is called, and when its `test` method is called, it is deferred to the captured Predicate, and returns the resulting boolean inversed.\r\n\r\nA lambda expression **never implements a default method, as these are not abstract**. So `negate` is not overridden in any way at all.\r\n\r\n---\r\n\r\nOf course, this doesn&#39;t stop us from creating our own functional interface in order to tamper with the semantics of *negate*.\r\n\r\n```java\r\npublic interface MyPredicate&lt;T&gt; extends Predicate&lt;T&gt; {\r\n\r\n    @Override\r\n    public default MyPredicate&lt;T&gt; negate() {\r\n        return t -&gt; true; // Say what?! That&#39;s not a negation!\r\n    }\r\n}\r\n```\r\n\r\nNow let&#39;s first see the &quot;normal&quot; predicate in action:\r\n\r\n```java\r\nString s = &quot;Hello&quot;;\r\nPredicate&lt;String&gt; stringIsHello = t -&gt; t.equals(&quot;Hello&quot;);\r\nPredicate&lt;String&gt; stringIsNotHello = stringIsHello.negate();\r\nSystem.out.println(stringIsHello.test(s));\r\nSystem.out.println(stringIsNotHello.test(s));\r\n```\r\n\r\nOutputs, as expected:\r\n\r\n```none\r\ntrue\r\nfalse\r\n```\r\n\r\nNow let&#39;s use our custom predicate instead:\r\n\r\n```java\r\nString s = &quot;Hello&quot;;\r\nMyPredicate&lt;String&gt; p1 = t -&gt; t.equals(&quot;Hello&quot;);\r\nMyPredicate&lt;String&gt; p2 = p1.negate();\r\nSystem.out.println(p1.test(s));\r\nSystem.out.println(p2.test(s));\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\ntrue\r\ntrue\r\n```\r\n\r\nNow does `negate` in our `MyPredicate` what you expect it to do? Absolutely not. Does the compiler prevent you from actually doing it? No, it cannot and it will not.","title":"Who implements the &quot;other methods&quot; in a Functional Interface - and where?","body":"<p>Well, I got the feeling you are missing something here.</p>\n<p>Let's consider the <code>Predicate</code> interface. I stripped it down with the elements not relevant to the question.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Predicate&lt;T&gt; {\n\n    boolean test(T t);\n\n    default Predicate&lt;T&gt; negate() {\n        return (t) -&gt; !test(t);\n    }\n}\n</code></pre>\n<p>This is a <em>functional interface</em>: it has <strong>exactly one abstract method</strong>. The authors of this interface also added a method which they named <code>negate</code>. Its implementation returns a new <code>Predicate</code> which returns the exact opposite result when its <code>test</code> method is called. They added this method because they thought it would be useful.</p>\n<p>As you can see, the <code>negate</code> method is default, and has a method body. <strong>Methods which have a body, are never abstract.</strong></p>\n<blockquote>\n<p>Since a Functional Interface is passed to an implementing method by a lambda expression</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>If I pass in a lambda expression to an implementing method</p>\n</blockquote>\n<p>Not sure what you mean here, but I think it's poorly worded. A lambda expression can only be used where a functional interface is expected. So a lambda expression <strong>is the implementation of the only abstract method of a functional interface</strong>. The &quot;other&quot; methods are not relevant to this story so far.</p>\n<p>Say, I want to create a <code>Predicate</code> which tests if a string is equal to &quot;Hello&quot;. A typical implementation may look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>str -&gt; str.equals(&quot;Hello&quot;)\n</code></pre>\n<p>This is (roughly) equivalent to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PredicateImpl implements Predicate&lt;String&gt; {\n\n    @Override\n    public boolean test(String t) {\n        return t.equals(&quot;Hello&quot;);\n    }\n\n    public Predicate&lt;String&gt; negate() {\n        return new Predicate&lt;String&gt; {\n\n            @Override\n            public boolean test(String t) {\n                return !PredicateImpl.this.test(t);\n            }\n        };\n    }\n}\n</code></pre>\n<p>As you can see, <code>negate()</code> returns a new Predicate which captures the predicate on which the method is called, and when its <code>test</code> method is called, it is deferred to the captured Predicate, and returns the resulting boolean inversed.</p>\n<p>A lambda expression <strong>never implements a default method, as these are not abstract</strong>. So <code>negate</code> is not overridden in any way at all.</p>\n<hr />\n<p>Of course, this doesn't stop us from creating our own functional interface in order to tamper with the semantics of <em>negate</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyPredicate&lt;T&gt; extends Predicate&lt;T&gt; {\n\n    @Override\n    public default MyPredicate&lt;T&gt; negate() {\n        return t -&gt; true; // Say what?! That's not a negation!\n    }\n}\n</code></pre>\n<p>Now let's first see the &quot;normal&quot; predicate in action:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;Hello&quot;;\nPredicate&lt;String&gt; stringIsHello = t -&gt; t.equals(&quot;Hello&quot;);\nPredicate&lt;String&gt; stringIsNotHello = stringIsHello.negate();\nSystem.out.println(stringIsHello.test(s));\nSystem.out.println(stringIsNotHello.test(s));\n</code></pre>\n<p>Outputs, as expected:</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\nfalse\n</code></pre>\n<p>Now let's use our custom predicate instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;Hello&quot;;\nMyPredicate&lt;String&gt; p1 = t -&gt; t.equals(&quot;Hello&quot;);\nMyPredicate&lt;String&gt; p2 = p1.negate();\nSystem.out.println(p1.test(s));\nSystem.out.println(p2.test(s));\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\ntrue\n</code></pre>\n<p>Now does <code>negate</code> in our <code>MyPredicate</code> what you expect it to do? Absolutely not. Does the compiler prevent you from actually doing it? No, it cannot and it will not.</p>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673806857,"creation_date":1673802322,"answer_id":75126847,"question_id":69528261,"body_markdown":"While reading the topic of Lambdas again, I had the same question come to me and I came back here as I had not understood the other comments and answers.\r\n\r\nI think perhaps the answer is this - **the parameter to `andThen()` is another Funtional interface;** in this case, another `Consumer&lt;T&gt;`\r\n\r\n       default Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after)\r\n\r\nSo one can have chained methods with a **different lambda** following for the `andThen` clause.\r\n\r\n    void foo(Consumer&lt;T&gt; consumer1Lambda, Consumer&lt;T&gt; consumer2Lambda) {\r\n    \r\n        consumer1Lambda.test().andThen(consumer2Lambda);\r\n    }\r\n\r\n","title":"Who implements the &quot;other methods&quot; in a Functional Interface - and where?","body":"<p>While reading the topic of Lambdas again, I had the same question come to me and I came back here as I had not understood the other comments and answers.</p>\n<p>I think perhaps the answer is this - <strong>the parameter to <code>andThen()</code> is another Funtional interface;</strong> in this case, another <code>Consumer&lt;T&gt;</code></p>\n<pre><code>   default Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after)\n</code></pre>\n<p>So one can have chained methods with a <strong>different lambda</strong> following for the <code>andThen</code> clause.</p>\n<pre><code>void foo(Consumer&lt;T&gt; consumer1Lambda, Consumer&lt;T&gt; consumer2Lambda) {\n\n    consumer1Lambda.test().andThen(consumer2Lambda);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693070940,"creation_date":1693070940,"answer_id":76984092,"question_id":69528261,"body_markdown":"Actually, whether you need to implement the method or not (or even if you can), depends on the Functional interface.  For example here is a `BiConsumer` which implements the `accept` method and then chains subsequent implementations of the `andThen` method.\r\n```\r\nBiConsumer&lt;Integer, Integer&gt; mathResults = (x, y) -&gt; System.out\r\n         .printf(&quot;Here are the results for %s op %s:%n%n&quot;, x, y, x,y);\r\n mathResults = mathResults.andThen((x,y)-&gt;System.out.printf(&quot;Addition:       %s%n&quot;, x+y));\r\n mathResults = mathResults.andThen((x,y)-&gt;System.out.printf(&quot;Subtraction:    %s%n&quot;, x-y));\r\n mathResults = mathResults.andThen((x,y)-&gt;System.out.printf(&quot;Multiplication: %s%n&quot;, x*y));\r\n mathResults = mathResults.andThen((x,y)-&gt;System.out.printf(&quot;Division:       %s%n&quot;, (double)x/y));\r\n \r\nmathResults.accept(30,20);\r\n```\r\nprints\r\n```\r\nHere are the results for 30 op 20:\r\n\r\nAddition:       50\r\nSubtraction:    10\r\nMultiplication: 600\r\nDivision:       1.5\r\n","title":"Who implements the &quot;other methods&quot; in a Functional Interface - and where?","body":"<p>Actually, whether you need to implement the method or not (or even if you can), depends on the Functional interface.  For example here is a <code>BiConsumer</code> which implements the <code>accept</code> method and then chains subsequent implementations of the <code>andThen</code> method.</p>\n<pre><code>BiConsumer&lt;Integer, Integer&gt; mathResults = (x, y) -&gt; System.out\n         .printf(&quot;Here are the results for %s op %s:%n%n&quot;, x, y, x,y);\n mathResults = mathResults.andThen((x,y)-&gt;System.out.printf(&quot;Addition:       %s%n&quot;, x+y));\n mathResults = mathResults.andThen((x,y)-&gt;System.out.printf(&quot;Subtraction:    %s%n&quot;, x-y));\n mathResults = mathResults.andThen((x,y)-&gt;System.out.printf(&quot;Multiplication: %s%n&quot;, x*y));\n mathResults = mathResults.andThen((x,y)-&gt;System.out.printf(&quot;Division:       %s%n&quot;, (double)x/y));\n \nmathResults.accept(30,20);\n</code></pre>\n<p>prints</p>\n<pre><code>Here are the results for 30 op 20:\n\nAddition:       50\nSubtraction:    10\nMultiplication: 600\nDivision:       1.5\n</code></pre>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":3,"score":-5,"last_activity_date":1693070940,"creation_date":1633963946,"question_id":69528261,"body_markdown":"The &quot;other methods&quot; for Consumer&lt;T&gt; and BiConsumer&lt;T,U&gt; and BiFunction&lt;T,U,R&gt; is andThen().\r\n\r\nThe &quot;other methods&quot; for Function&lt;T,R&gt; UnaryOperator&lt;T&gt; are compose(), andThen(), identity().\r\n\r\nThe &quot;other methods&quot; for BinaryOperator&lt;T,T&gt; are andThen(), maxBy(), minBy().\r\n\r\nThe &quot;other methods&quot; for Predicate&lt;T&gt; is and(), or(), negate(), isEqual().\r\n\r\nThe &quot;other methods&quot; for BiPredicate&lt;T, U&gt; is and(), or(), negate().\r\n\r\nSince a Functional Interface is passed to an implementing method by a lambda expression, who will implement these other methods - and where?\r\n\r\n**Update:** What I was trying to point out; what if the semantics of the &quot;other methods&quot; are not trivial or straightforward as in the example in the comments below? Consider the `Predicate` Functional Interface. If I pass in a lambda expression to an implementing method, but the `and(), or(), negate()` are not straightforward. Then the default implementation will not cover it. I suppose we would have to handroll our own custom Functional Interface that extends the original one and implements all the &quot;other methods&quot;? \r\n\r\n**Update:** For Functional interfaces like `BiFunction` which has an `andThen()` other method, does this mean we would have to inherit from this interface and create a new one with a default method `andThen()`?\r\n","title":"Who implements the &quot;other methods&quot; in a Functional Interface - and where?","body":"<p>The &quot;other methods&quot; for Consumer and BiConsumer&lt;T,U&gt; and BiFunction&lt;T,U,R&gt; is andThen().</p>\n<p>The &quot;other methods&quot; for Function&lt;T,R&gt; UnaryOperator are compose(), andThen(), identity().</p>\n<p>The &quot;other methods&quot; for BinaryOperator&lt;T,T&gt; are andThen(), maxBy(), minBy().</p>\n<p>The &quot;other methods&quot; for Predicate is and(), or(), negate(), isEqual().</p>\n<p>The &quot;other methods&quot; for BiPredicate&lt;T, U&gt; is and(), or(), negate().</p>\n<p>Since a Functional Interface is passed to an implementing method by a lambda expression, who will implement these other methods - and where?</p>\n<p><strong>Update:</strong> What I was trying to point out; what if the semantics of the &quot;other methods&quot; are not trivial or straightforward as in the example in the comments below? Consider the <code>Predicate</code> Functional Interface. If I pass in a lambda expression to an implementing method, but the <code>and(), or(), negate()</code> are not straightforward. Then the default implementation will not cover it. I suppose we would have to handroll our own custom Functional Interface that extends the original one and implements all the &quot;other methods&quot;?</p>\n<p><strong>Update:</strong> For Functional interfaces like <code>BiFunction</code> which has an <code>andThen()</code> other method, does this mean we would have to inherit from this interface and create a new one with a default method <code>andThen()</code>?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"comments":[{"owner":{"account_id":8137070,"reputation":337,"user_id":6128394,"accept_rate":50,"display_name":"Vishal Mahuli"},"score":0,"creation_date":1506491797,"post_id":46427865,"comment_id":79836991,"body_markdown":"Thank you, I had the same opinion. However, It would be very helpful if you could post a code snippet on how to do it.","body":"Thank you, I had the same opinion. However, It would be very helpful if you could post a code snippet on how to do it."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1506516283,"post_id":46427865,"comment_id":79851980,"body_markdown":"Just create a new `KafkaMessageListenerContainer` (or `ConcurrentMessageListenerContainer`) and `start()` it.","body":"Just create a new <code>KafkaMessageListenerContainer</code> (or <code>ConcurrentMessageListenerContainer</code>) and <code>start()</code> it."},{"owner":{"account_id":8137070,"reputation":337,"user_id":6128394,"accept_rate":50,"display_name":"Vishal Mahuli"},"score":0,"creation_date":1506516765,"post_id":46427865,"comment_id":79852331,"body_markdown":"Start where? My consumer now is a POJO listener with @KafkaListener, There&#39;s a ConsumerConfig file where i write my consumer configs. Same file has containerFactory and a container, But KafkaListener annotation doesn&#39;t accept the container as a parameter. Where do i use this container object and start it?","body":"Start where? My consumer now is a POJO listener with @KafkaListener, There&#39;s a ConsumerConfig file where i write my consumer configs. Same file has containerFactory and a container, But KafkaListener annotation doesn&#39;t accept the container as a parameter. Where do i use this container object and start it?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1506517172,"post_id":46427865,"comment_id":79852652,"body_markdown":"You can&#39;t create `@KafkaListener` programmatically; just the underlying listener container with a regular `MessageListener`. You could create a `@KafkaListener` programmatically, if you load it into a new `ApplicationContext`.","body":"You can&#39;t create <code>@KafkaListener</code> programmatically; just the underlying listener container with a regular <code>MessageListener</code>. You could create a <code>@KafkaListener</code> programmatically, if you load it into a new <code>ApplicationContext</code>."},{"owner":{"account_id":8137070,"reputation":337,"user_id":6128394,"accept_rate":50,"display_name":"Vishal Mahuli"},"score":0,"creation_date":1506517311,"post_id":46427865,"comment_id":79852768,"body_markdown":"Yes, I will create a MessageListener programmatically in my consumer config file but how would the application know that this is the consumer listening to the topics? Is there a code posted for this somewhere that i can refer?","body":"Yes, I will create a MessageListener programmatically in my consumer config file but how would the application know that this is the consumer listening to the topics? Is there a code posted for this somewhere that i can refer?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1506517682,"post_id":46427865,"comment_id":79853037,"body_markdown":"Sorry; I don&#39;t understand the question; to consume from a new topic; simply create a new container, configure it and call `start()`.","body":"Sorry; I don&#39;t understand the question; to consume from a new topic; simply create a new container, configure it and call <code>start()</code>."},{"owner":{"account_id":8137070,"reputation":337,"user_id":6128394,"accept_rate":50,"display_name":"Vishal Mahuli"},"score":0,"creation_date":1506518252,"post_id":46427865,"comment_id":79853435,"body_markdown":"Creation and Config of container:\n\n    @Bean \n    public KafkaMessageListenerContainer&lt;String, String&gt; container() throws Exception { \n    \t ContainerProperties properties = new ContainerProperties(this.topics); // set more properties\n    \t properties.setPauseEnabled(true);\n    \t properties.setPauseAfter(0);\n         return new KafkaMessageListenerContainer&lt;&gt;(consumerFactory(), properties); \n    }","body":"Creation and Config of container:      @Bean      public KafkaMessageListenerContainer&lt;String, String&gt; container() throws Exception {      \t ContainerProperties properties = new ContainerProperties(this.topics); // set more properties     \t properties.setPauseEnabled(true);     \t properties.setPauseAfter(0);          return new KafkaMessageListenerContainer&lt;&gt;(consumerFactory(), properties);      }"},{"owner":{"account_id":8137070,"reputation":337,"user_id":6128394,"accept_rate":50,"display_name":"Vishal Mahuli"},"score":0,"creation_date":1506518334,"post_id":46427865,"comment_id":79853491,"body_markdown":"Starting of container:\n\n    @Bean\n    public void startContainer(){KafkaMessageListenerContainer&lt;String, String&gt; container = container();\n    \tcontainer.start();\n    \t\n    }\n\nAm i right?","body":"Starting of container:      @Bean     public void startContainer(){KafkaMessageListenerContainer&lt;String, String&gt; container = container();     \tcontainer.start();     \t     }  Am i right?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1506518530,"post_id":46427865,"comment_id":79853621,"body_markdown":"Don&#39;t put code in comments; it&#39;s hard to read; edit the question instead. Yes, it looks correct.","body":"Don&#39;t put code in comments; it&#39;s hard to read; edit the question instead. Yes, it looks correct."},{"owner":{"account_id":8137070,"reputation":337,"user_id":6128394,"accept_rate":50,"display_name":"Vishal Mahuli"},"score":0,"creation_date":1506518996,"post_id":46427865,"comment_id":79853990,"body_markdown":"Sure, will do! Now i assume that the listener has started, How do i access the record posted by the producer onto the queue using this container? Similar to listener(ConsumerRecord&lt;?,?&gt; record) usinf @KafkaListener?","body":"Sure, will do! Now i assume that the listener has started, How do i access the record posted by the producer onto the queue using this container? Similar to listener(ConsumerRecord&lt;?,?&gt; record) usinf @KafkaListener?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1506520970,"post_id":46427865,"comment_id":79855528,"body_markdown":"`containerProperties.setMessageListener(myListener)`. Where `myListener` implements one of the [listener interfaces](https://docs.spring.io/spring-kafka/reference/htmlsingle/#message-listeners).","body":"<code>containerProperties.setMessageListener(myListener)</code>. Where <code>myListener</code> implements one of the <a href=\"https://docs.spring.io/spring-kafka/reference/htmlsingle/#message-listeners\" rel=\"nofollow noreferrer\">listener interfaces</a>."},{"owner":{"account_id":8137070,"reputation":337,"user_id":6128394,"accept_rate":50,"display_name":"Vishal Mahuli"},"score":0,"creation_date":1506576834,"post_id":46427865,"comment_id":79877968,"body_markdown":"Thanks a ton @Gary, It worked like a charm. Please bear with me for some more time and have a look at this one too:  https://stackoverflow.com/questions/46447119/how-to-pause-a-kafka-consumer/46447801#46447801","body":"Thanks a ton @Gary, It worked like a charm. Please bear with me for some more time and have a look at this one too:  <a href=\"https://stackoverflow.com/questions/46447119/how-to-pause-a-kafka-consumer/46447801#46447801\" title=\"how to pause a kafka consumer\">stackoverflow.com/questions/46447119/&hellip;</a>"},{"owner":{"account_id":6770704,"reputation":307,"user_id":5214137,"accept_rate":100,"display_name":"Akshansh Jain"},"score":0,"creation_date":1629126100,"post_id":46427865,"comment_id":121598320,"body_markdown":"In the above discussed implementation, if I use ConcurrentMessageListenerContainer, is there any possible way to consume messages in a batch?","body":"In the above discussed implementation, if I use ConcurrentMessageListenerContainer, is there any possible way to consume messages in a batch?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1629126375,"post_id":46427865,"comment_id":121598457,"body_markdown":"Don&#39;t ask new questions in comments; especially when the answer is 4 years old; the framework has moved on since then. Yes,  `setBatchListener(true)` on the container factory. If you need more help, ask a new question.","body":"Don&#39;t ask new questions in comments; especially when the answer is 4 years old; the framework has moved on since then. Yes,  <code>setBatchListener(true)</code> on the container factory. If you need more help, ask a new question."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1629126737,"post_id":46427865,"comment_id":121598642,"body_markdown":"If you are creating the container yourself, just inject a BatchMessageListener; if you are using a container factory to create the container, setBatchListener(true) on the factory so that it will use the correct adapter.","body":"If you are creating the container yourself, just inject a BatchMessageListener; if you are using a container factory to create the container, setBatchListener(true) on the factory so that it will use the correct adapter."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":15,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1506432449,"creation_date":1506432449,"answer_id":46427865,"question_id":46400329,"body_markdown":"You cannot &quot;dynamically pass topics to Kafka listener &quot;; you have to programmatically create a listener container instead.","title":"How to pass topics dynamically to a kafka listener?","body":"<p>You cannot \"dynamically pass topics to Kafka listener \"; you have to programmatically create a listener container instead.</p>\n"},{"comments":[{"owner":{"account_id":14251631,"reputation":175,"user_id":10295109,"display_name":"st.ebberr"},"score":0,"creation_date":1622105826,"post_id":47587050,"comment_id":119696644,"body_markdown":"Now it doesn&#39;t work: getTopics() returns a copy of the topics array","body":"Now it doesn&#39;t work: getTopics() returns a copy of the topics array"}],"tags":[],"owner":{"account_id":12399339,"reputation":11,"user_id":9037340,"display_name":"gaonb"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512105716,"creation_date":1512105350,"answer_id":47587050,"question_id":46400329,"body_markdown":"you can  change Topics at runtime  dynamicly!!!!\r\n\r\n    @Component\r\n    public class StoppingErrorHandler implements ErrorHandler {\r\n    \r\n        @Autowired\r\n        private KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry;\r\n         \r\n        @Override\r\n        public void handle(Exception thrownException, ConsumerRecord&lt;?, ?&gt; record) {\r\n            ConcurrentMessageListenerContainer listenerContainer = (ConcurrentMessageListenerContainer)kafkaListenerEndpointRegistry.getListenerContainer(&quot;fence&quot;);\r\n            ContainerProperties cp=listenerContainer.getContainerProperties();\r\n            String[] topics =cp.getTopics();\r\n            topics[0]=&quot;gaonb&quot;;\r\n            listenerContainer.stop();\r\n            listenerContainer.start();\r\n        }\r\n    }","title":"How to pass topics dynamically to a kafka listener?","body":"<p>you can  change Topics at runtime  dynamicly!!!!</p>\n\n<pre><code>@Component\npublic class StoppingErrorHandler implements ErrorHandler {\n\n    @Autowired\n    private KafkaListenerEndpointRegistry kafkaListenerEndpointRegistry;\n\n    @Override\n    public void handle(Exception thrownException, ConsumerRecord&lt;?, ?&gt; record) {\n        ConcurrentMessageListenerContainer listenerContainer = (ConcurrentMessageListenerContainer)kafkaListenerEndpointRegistry.getListenerContainer(\"fence\");\n        ContainerProperties cp=listenerContainer.getContainerProperties();\n        String[] topics =cp.getTopics();\n        topics[0]=\"gaonb\";\n        listenerContainer.stop();\n        listenerContainer.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":209589,"reputation":97,"user_id":460705,"display_name":"Saber Chebka"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533652793,"creation_date":1533652793,"answer_id":51729490,"question_id":46400329,"body_markdown":"**Here is a working solution:**\r\n\r\n    // Start brokers without using the &quot;@KafkaListener&quot; annotation\r\n    Map&lt;String, Object&gt; consumerProps = consumerProps(&quot;my-srv1:9092&quot;, &quot;my-group&quot;, &quot;false&quot;);\r\n    DefaultKafkaConsumerFactory&lt;String, String&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps);\r\n    ContainerProperties containerProperties = new ContainerProperties(&quot;my-topic&quot;);\r\n    KafkaMessageListenerContainer container = new KafkaMessageListenerContainer&lt;&gt;(cf, containerProperties);\r\n    final BlockingQueue&lt;ConsumerRecord&lt;String, String&gt;&gt; records = new LinkedBlockingQueue&lt;&gt;();\r\n    container.setupMessageListener((MessageListener&lt;String, String&gt;) record -&gt; {\r\n    \tlog.error(&quot;Message received: &quot; + record);\r\n    \trecords.add(record);\r\n    });\r\n    container.start();\r\n\r\n    /**\r\n     * Set up test properties for an {@code &lt;Integer, String&gt;} consumer.\r\n     * @param brokersCommaSep the bootstrapServers property (comma separated servers).\r\n     * @param group the group id.\r\n     * @param autoCommit the auto commit.\r\n     * @return the properties.\r\n     */\r\n    public static Map&lt;String, Object&gt; consumerProps(String brokersCommaSep, String group, String autoCommit) {\r\n    \tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    \tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokersCommaSep);\r\n    \tprops.put(ConsumerConfig.GROUP_ID_CONFIG, group);\r\n    \tprops.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, autoCommit);\r\n    \tprops.put(ConsumerConfig.AUTO_COMMIT_INTERVAL_MS_CONFIG, &quot;10&quot;);\r\n    \tprops.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 60000);\r\n    \tprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, IntegerDeserializer.class);\r\n    \tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    \treturn props;\r\n    }\r\n\r\nHope it can help.","title":"How to pass topics dynamically to a kafka listener?","body":"<p><strong>Here is a working solution:</strong></p>\n\n<pre><code>// Start brokers without using the \"@KafkaListener\" annotation\nMap&lt;String, Object&gt; consumerProps = consumerProps(\"my-srv1:9092\", \"my-group\", \"false\");\nDefaultKafkaConsumerFactory&lt;String, String&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps);\nContainerProperties containerProperties = new ContainerProperties(\"my-topic\");\nKafkaMessageListenerContainer container = new KafkaMessageListenerContainer&lt;&gt;(cf, containerProperties);\nfinal BlockingQueue&lt;ConsumerRecord&lt;String, String&gt;&gt; records = new LinkedBlockingQueue&lt;&gt;();\ncontainer.setupMessageListener((MessageListener&lt;String, String&gt;) record -&gt; {\n    log.error(\"Message received: \" + record);\n    records.add(record);\n});\ncontainer.start();\n\n/**\n * Set up test properties for an {@code &lt;Integer, String&gt;} consumer.\n * @param brokersCommaSep the bootstrapServers property (comma separated servers).\n * @param group the group id.\n * @param autoCommit the auto commit.\n * @return the properties.\n */\npublic static Map&lt;String, Object&gt; consumerProps(String brokersCommaSep, String group, String autoCommit) {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokersCommaSep);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, group);\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, autoCommit);\n    props.put(ConsumerConfig.AUTO_COMMIT_INTERVAL_MS_CONFIG, \"10\");\n    props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, 60000);\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, IntegerDeserializer.class);\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    return props;\n}\n</code></pre>\n\n<p>Hope it can help.</p>\n"},{"comments":[{"owner":{"account_id":134218,"reputation":1753,"user_id":336184,"accept_rate":91,"display_name":"Max"},"score":5,"creation_date":1597728864,"post_id":57462441,"comment_id":112220632,"body_markdown":"thanks. Alternatively topics may come via application.yml prop: `@KafkaListener(topics = {&quot;${someprop}&quot;})`","body":"thanks. Alternatively topics may come via application.yml prop: <code>@KafkaListener(topics = {&quot;${someprop}&quot;})</code>"},{"owner":{"account_id":2683345,"reputation":568,"user_id":2318202,"accept_rate":100,"display_name":"Kamil Chaber"},"score":1,"creation_date":1611841234,"post_id":57462441,"comment_id":116583741,"body_markdown":"What is more, `kafkaTopicNameProvider.provideName()` can also return a `String[]` and allow to configure multiple topics using a single `SpEL`","body":"What is more, <code>kafkaTopicNameProvider.provideName()</code> can also return a <code>String[]</code> and allow to configure multiple topics using a single <code>SpEL</code>"},{"owner":{"account_id":4445411,"reputation":937,"user_id":3618853,"display_name":"sngjuk"},"score":0,"creation_date":1699605874,"post_id":57462441,"comment_id":136555681,"body_markdown":"if your class name is &quot;SomeBean&quot; and want to access it in SpEL, &quot;#{someBean.field}&quot;. note its lower case.","body":"if your class name is &quot;SomeBean&quot; and want to access it in SpEL, &quot;#{someBean.field}&quot;. note its lower case."}],"tags":[],"owner":{"account_id":508680,"reputation":739,"user_id":1064161,"display_name":"Gunslinger"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1565617649,"creation_date":1565617649,"answer_id":57462441,"question_id":46400329,"body_markdown":"The easiest solution I found was to use SpEL:\r\n\r\n    @Autowired\r\n    private SomeBean kafkaTopicNameProvider;\r\n\r\n    @KafkaListener(topics = &quot;#{kafkaTopicNameProvider.provideName()}&quot;)\r\n    public void listener() { ... }\r\n\r\n\r\n\r\n","title":"How to pass topics dynamically to a kafka listener?","body":"<p>The easiest solution I found was to use SpEL:</p>\n\n<pre><code>@Autowired\nprivate SomeBean kafkaTopicNameProvider;\n\n@KafkaListener(topics = \"#{kafkaTopicNameProvider.provideName()}\")\npublic void listener() { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16091376,"reputation":41,"user_id":11614720,"display_name":"Minkiu Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568040572,"creation_date":1568040572,"answer_id":57856422,"question_id":46400329,"body_markdown":"I made kafka listener for runtime registration, de-registration, start, stop.\r\n\r\n \r\n    public class KafkaListener {\r\n\r\n         private final KafkaListenerContainerFactory kafkaListenerContainerFactory;\r\n         private final Map&lt;String, MessageListenerContainer&gt; registeredTopicMap;\r\n\r\n    /** Kafka listener registration at runtime.**/\r\n    public void register(final Supplier&lt;Set&lt;String&gt;&gt; topicSupplier, final Supplier&lt;MessageListener&gt; messageListenerSupplier) {\r\n\r\n        synchronized (lock) {\r\n            final Set&lt;String&gt; registeredTopics = getRegisteredTopics();\r\n            final Set&lt;String&gt; topics = topicSupplier.get();\r\n\r\n            if (topics.isEmpty()) {\r\n                return;\r\n            }\r\n\r\n            topics.stream()\r\n                    .filter(topic -&gt; !registeredTopics.contains(topic))\r\n                    .forEach(topic -&gt; doRegister(topic, messageListenerSupplier.get()));\r\n        }\r\n    }\r\n\r\n\r\n    private void doRegister(final String topic, final MessageListener messageListener) {\r\n        final MessageListenerContainer messageListenerContainer = kafkaListenerContainerFactory.createContainer(topic);\r\n        messageListenerContainer.setupMessageListener(messageListener);\r\n        messageListenerContainer.start();\r\n\r\n        registeredTopicMap.put(topic, messageListenerContainer);\r\n    }\r\n\r\n---------------------------------------------------\r\n\r\n\r\nFull source code\r\n: https://github.com/pkgonan/kafka-listener\r\n\r\n\r\nFirst, try it.\r\n\r\n    docker-compose up -d\r\n\r\nAnd then. call api.\r\n\r\n    curl -XPOST /consumers/order/register .....\r\n\r\n    curl -XPOST /consumers/order/de-register .....\r\n\r\n    curl -XPOST /consumers/order/stop\r\n\r\n    curl -XPOST /consumers/order/start\r\n\r\n\r\n\r\n","title":"How to pass topics dynamically to a kafka listener?","body":"<p>I made kafka listener for runtime registration, de-registration, start, stop.</p>\n\n<pre><code>public class KafkaListener {\n\n     private final KafkaListenerContainerFactory kafkaListenerContainerFactory;\n     private final Map&lt;String, MessageListenerContainer&gt; registeredTopicMap;\n\n/** Kafka listener registration at runtime.**/\npublic void register(final Supplier&lt;Set&lt;String&gt;&gt; topicSupplier, final Supplier&lt;MessageListener&gt; messageListenerSupplier) {\n\n    synchronized (lock) {\n        final Set&lt;String&gt; registeredTopics = getRegisteredTopics();\n        final Set&lt;String&gt; topics = topicSupplier.get();\n\n        if (topics.isEmpty()) {\n            return;\n        }\n\n        topics.stream()\n                .filter(topic -&gt; !registeredTopics.contains(topic))\n                .forEach(topic -&gt; doRegister(topic, messageListenerSupplier.get()));\n    }\n}\n\n\nprivate void doRegister(final String topic, final MessageListener messageListener) {\n    final MessageListenerContainer messageListenerContainer = kafkaListenerContainerFactory.createContainer(topic);\n    messageListenerContainer.setupMessageListener(messageListener);\n    messageListenerContainer.start();\n\n    registeredTopicMap.put(topic, messageListenerContainer);\n}\n</code></pre>\n\n<hr>\n\n<p>Full source code\n: <a href=\"https://github.com/pkgonan/kafka-listener\" rel=\"nofollow noreferrer\">https://github.com/pkgonan/kafka-listener</a></p>\n\n<p>First, try it.</p>\n\n<pre><code>docker-compose up -d\n</code></pre>\n\n<p>And then. call api.</p>\n\n<pre><code>curl -XPOST /consumers/order/register .....\n\ncurl -XPOST /consumers/order/de-register .....\n\ncurl -XPOST /consumers/order/stop\n\ncurl -XPOST /consumers/order/start\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8766085,"reputation":76,"user_id":6554392,"accept_rate":20,"display_name":"Hemant Vyas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693070893,"creation_date":1693070893,"answer_id":76984088,"question_id":46400329,"body_markdown":"In case anyone looking to build a module which can be used as a library, do checkout https://github.com/313hemant313/TheGameKafka\r\n\r\nBased on clientName we can get KafkaProducer and KafkaConsumer, sample usage:\r\n\r\n    TheGameKafkaProducer&lt;String, String&gt; theGameKafkaProducer = theGameKafkaProducerFactory.getTheGameKafkaProducer(\r\n        &quot;testClient&quot;);\r\n    theGameKafkaProducer.send(&quot;this is a test msg from TheGameKafkaProducer&quot;);\r\n    \r\n    TheGameKafkaConsumer&lt;String, String&gt; theGameKafkaConsumer = theGameKafkaConsumerFactory.getTheGameKafkaConsumer(\r\n        &quot;testClient&quot;);\r\n    theGameKafkaConsumer.listen(messageListener());\r\n    \r\n    private MessageListener&lt;String, String&gt; messageListener() {\r\n      return rec -&gt; log.info(&quot;TheGameKafkaConsumer listened : {}&quot;, rec);\r\n    }\r\n\r\nSample config:\r\n\r\n    the-game-kafka:\r\n      clientConsumerProperties:\r\n        - clientName: &quot;testClient&quot;\r\n          topic: &quot;testTopic&quot;\r\n          enabled: true\r\n          kafkaProperties:\r\n            consumer:\r\n              bootstrapServers: localhost:9094\r\n              groupId: &quot;tgk-group&quot;\r\n              autoOffset: earliest\r\n              keyDeserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n              value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n              properties:\r\n                spring:\r\n                  json:\r\n                    trusted:\r\n                      packages: &quot;*&quot;\r\n                  deserializer:\r\n                    value:\r\n                      delegate:\r\n                        class: org.apache.kafka.common.serialization.StringDeserializer\r\n      clientProducerProperties:\r\n        - clientName: &quot;testClient&quot;\r\n          topic: &quot;testTopic&quot;\r\n          enabled: true\r\n          kafkaProperties:\r\n            producer:\r\n              bootstrapServers: localhost:9094\r\n\r\nInspired by https://github.com/pkgonan/kafka-listener.","title":"How to pass topics dynamically to a kafka listener?","body":"<p>In case anyone looking to build a module which can be used as a library, do checkout <a href=\"https://github.com/313hemant313/TheGameKafka\" rel=\"nofollow noreferrer\">https://github.com/313hemant313/TheGameKafka</a></p>\n<p>Based on clientName we can get KafkaProducer and KafkaConsumer, sample usage:</p>\n<pre><code>TheGameKafkaProducer&lt;String, String&gt; theGameKafkaProducer = theGameKafkaProducerFactory.getTheGameKafkaProducer(\n    &quot;testClient&quot;);\ntheGameKafkaProducer.send(&quot;this is a test msg from TheGameKafkaProducer&quot;);\n\nTheGameKafkaConsumer&lt;String, String&gt; theGameKafkaConsumer = theGameKafkaConsumerFactory.getTheGameKafkaConsumer(\n    &quot;testClient&quot;);\ntheGameKafkaConsumer.listen(messageListener());\n\nprivate MessageListener&lt;String, String&gt; messageListener() {\n  return rec -&gt; log.info(&quot;TheGameKafkaConsumer listened : {}&quot;, rec);\n}\n</code></pre>\n<p>Sample config:</p>\n<pre><code>the-game-kafka:\n  clientConsumerProperties:\n    - clientName: &quot;testClient&quot;\n      topic: &quot;testTopic&quot;\n      enabled: true\n      kafkaProperties:\n        consumer:\n          bootstrapServers: localhost:9094\n          groupId: &quot;tgk-group&quot;\n          autoOffset: earliest\n          keyDeserializer: org.apache.kafka.common.serialization.StringDeserializer\n          value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\n          properties:\n            spring:\n              json:\n                trusted:\n                  packages: &quot;*&quot;\n              deserializer:\n                value:\n                  delegate:\n                    class: org.apache.kafka.common.serialization.StringDeserializer\n  clientProducerProperties:\n    - clientName: &quot;testClient&quot;\n      topic: &quot;testTopic&quot;\n      enabled: true\n      kafkaProperties:\n        producer:\n          bootstrapServers: localhost:9094\n</code></pre>\n<p>Inspired by <a href=\"https://github.com/pkgonan/kafka-listener\" rel=\"nofollow noreferrer\">https://github.com/pkgonan/kafka-listener</a>.</p>\n"}],"owner":{"account_id":8137070,"reputation":337,"user_id":6128394,"accept_rate":50,"display_name":"Vishal Mahuli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16425,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":46427865,"answer_count":6,"score":11,"last_activity_date":1693070893,"creation_date":1506326799,"question_id":46400329,"body_markdown":"From a couple of days I&#39;m trying out ways to dynamically pass topics to Kafka listener rather than using them through keys from a Java DSL. Anyone around done this before or could throw some light on what is the best way to achieve this?","title":"How to pass topics dynamically to a kafka listener?","body":"<p>From a couple of days I'm trying out ways to dynamically pass topics to Kafka listener rather than using them through keys from a Java DSL. Anyone around done this before or could throw some light on what is the best way to achieve this?</p>\n"},{"tags":["java","spring-boot","unit-testing","spring-batch","junit5"],"answers":[{"tags":[],"owner":{"account_id":14420242,"reputation":123,"user_id":10416462,"display_name":"Sxc-Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693070772,"creation_date":1693070772,"answer_id":76984078,"question_id":76963846,"body_markdown":"`org.hibernate.service.spi.ServiceException` error probably occurred because hibernate cannot find a data source bean.\r\n\r\nYou are using `@SpringJUnitConfig` annotation. It defines context configuration. You probably don&#39;t have a data source bean in your `xxxConfiguration.class`. \r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringJUnitConfig.html\r\n\r\n\r\n1. Do I have to create a new datasource or can I use the data source config that I already have in the application to connect to the DB2 database?\r\n- You do not have to create new data source for test. Existing data source can be used. \r\n\r\n \r\n2. If I can reuse the old datasource and its configuration, will it be automatically done?\r\n- No. You need to scan for dasource bean. If you are using Spring Boot, one way is to use `@SpringBootTest` annotation. You can also create data source bean in your `xxxConfiguration.class` \r\n\r\n3. The step uses beans that are created by executing .sql files. How\r\n    can I immitate this process while testing a step?\r\n- You can place .sql files where the bean is looking for them. Depending on your code, you might be able to read the sql file directly or mock the bean.\r\n    \r\n\r\n4. I dont want to use any embedded database- is it possible to keep the same configuration and test the application?\r\n- Yes\r\n\r\n5. I have to reach the maximum possible test covergae like 80%. What will be a better sapproach like testing individual steps or the whole end to end test to reach a good test coverage?\r\n- Chasing test coverage is bad idea. Your decision should be based on what is \r\nmost effective. I would do end to end test for all batch job. If a specific step is complex, you can test it separately. Separate step test is not required for simple step.\r\n\r\n6. I have Flow in the application that uses different step. If I test the Flow will the step also tested?\r\n- Yes","title":"How to test a Spring batch application with @SpringBatchTest?","body":"<p><code>org.hibernate.service.spi.ServiceException</code> error probably occurred because hibernate cannot find a data source bean.</p>\n<p>You are using <code>@SpringJUnitConfig</code> annotation. It defines context configuration. You probably don't have a data source bean in your <code>xxxConfiguration.class</code>.\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringJUnitConfig.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/SpringJUnitConfig.html</a></p>\n<ol>\n<li>Do I have to create a new datasource or can I use the data source config that I already have in the application to connect to the DB2 database?</li>\n</ol>\n<ul>\n<li>You do not have to create new data source for test. Existing data source can be used.</li>\n</ul>\n<ol start=\"2\">\n<li>If I can reuse the old datasource and its configuration, will it be automatically done?</li>\n</ol>\n<ul>\n<li>No. You need to scan for dasource bean. If you are using Spring Boot, one way is to use <code>@SpringBootTest</code> annotation. You can also create data source bean in your <code>xxxConfiguration.class</code></li>\n</ul>\n<ol start=\"3\">\n<li>The step uses beans that are created by executing .sql files. How\ncan I immitate this process while testing a step?</li>\n</ol>\n<ul>\n<li>You can place .sql files where the bean is looking for them. Depending on your code, you might be able to read the sql file directly or mock the bean.</li>\n</ul>\n<ol start=\"4\">\n<li>I dont want to use any embedded database- is it possible to keep the same configuration and test the application?</li>\n</ol>\n<ul>\n<li>Yes</li>\n</ul>\n<ol start=\"5\">\n<li>I have to reach the maximum possible test covergae like 80%. What will be a better sapproach like testing individual steps or the whole end to end test to reach a good test coverage?</li>\n</ol>\n<ul>\n<li>Chasing test coverage is bad idea. Your decision should be based on what is\nmost effective. I would do end to end test for all batch job. If a specific step is complex, you can test it separately. Separate step test is not required for simple step.</li>\n</ul>\n<ol start=\"6\">\n<li>I have Flow in the application that uses different step. If I test the Flow will the step also tested?</li>\n</ol>\n<ul>\n<li>Yes</li>\n</ul>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693070772,"creation_date":1692813652,"question_id":76963846,"body_markdown":"I have a Sping batch application that has 3 steps like all batch jobs -&gt; read from a DB2 database, process the data and write it to a csv file. I have followed the spring batch test documentation and created the basic structure. However, I have a lot of open questions. \r\n1. Do I have to create a new datasource or can I use the data source config that I already have in the application to connect to the DB2 database? \r\n1. If I can reuse the old datasource and its configuration, will it be automatically done?\r\n1. The `step` uses beans that are created by executing `.sql` files. How can I immitate this process while testing a `step`?\r\n1. I dont want to use any embedded database- is it possible to keep the same configuration and test the application?\r\n1. I have to reach the maximum possible test covergae like 80%. What will be a better sapproach like testing individual steps or the whole end to end test to reach a good test coverage?\r\n1. I have `Flow` in the application that uses different `step`. If I test the `Flow` will the step also tested?\r\n\r\nI have created a basic structure for the test -\r\n\r\n\r\n```\r\n@EnableAutoConfiguration\r\n@EnableBatchProcessing\r\n@SpringJUnitConfig(xxxConfiguration.class)\r\n@SpringBatchTest\r\npublic class BatchTest {\r\n\r\n    @Autowired\r\n    private JobLauncherTestUtils jobLauncherTestUtils;\r\n\r\n    @Autowired\r\n    private JobRepositoryTestUtils jobRepositoryTestUtils;\r\n\r\n    @BeforeEach\r\n    public void clearJobExecutions() {\r\n        this.jobRepositoryTestUtils.removeJobExecutions();\r\n    }\r\n\r\n    @Test\r\n    public void testMyJob() throws Exception {\r\n        // given\r\n        JobParameters jobParameters = this.jobLauncherTestUtils.getUniqueJobParameters();\r\n\r\n        // when\r\n        JobExecution jobExecution = this.jobLauncherTestUtils.launchJob(jobParameters);\r\n\r\n        // then\r\n        //Assertions.assertEquals(ExitStatus.COMPLETED, jobExecution.getExitStatus());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThe errors that I have received looks like -\r\n\r\n\r\n```\r\n9:55:12.081 [main] DEBUG org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator - JDBC version : 4.1\r\n19:55:12.239 [main] WARN  org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata\r\norg.hibernate.HibernateException: Unable to determine Dialect to use [name=DB2, majorVersion=12]; user must register resolver or explicitly set &#39;hibernate.dialect&#39;\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:109) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:97) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\r\n19:55:12.278 [main] DEBUG org.hibernate.service.spi.ServiceBinding - Overriding existing service binding [org.hibernate.engine.jdbc.connections.spi.ConnectionProvider]\r\n19:55:12.279 [main] ERROR org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n19:55:12.281 [main] WARN  org.springframework.context.support.GenericApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n19:55:12.289 [main] ERROR org.springframework.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@27a0a5a2] to prepare test instance [BatchTest@6b5f8707]\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-5.3.25.jar:5.3.25]\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.25.jar:5.3.25]\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.3.25.jar:5.3.25]\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.3.25.jar:5.3.25]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.25.jar:5.3.25]\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.25.jar:5.3.25]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[?:?]\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\r\n\tat java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[?:?]\r\n\tat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[?:?]\r\n\tat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658) ~[?:?]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat java.util.Optional.orElseGet(Optional.java:369) ~[?:?]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1541) ~[?:?]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1541) ~[?:?]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:?]\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:?]\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:?]\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:?]\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) ~[junit-rt.jar:?]\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) ~[junit-rt.jar:?]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\r\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.25.jar:5.3.25]\r\n```\r\n\r\nI see all databse connection related errors. How should I proceed?","title":"How to test a Spring batch application with @SpringBatchTest?","body":"<p>I have a Sping batch application that has 3 steps like all batch jobs -&gt; read from a DB2 database, process the data and write it to a csv file. I have followed the spring batch test documentation and created the basic structure. However, I have a lot of open questions.</p>\n<ol>\n<li>Do I have to create a new datasource or can I use the data source config that I already have in the application to connect to the DB2 database?</li>\n<li>If I can reuse the old datasource and its configuration, will it be automatically done?</li>\n<li>The <code>step</code> uses beans that are created by executing <code>.sql</code> files. How can I immitate this process while testing a <code>step</code>?</li>\n<li>I dont want to use any embedded database- is it possible to keep the same configuration and test the application?</li>\n<li>I have to reach the maximum possible test covergae like 80%. What will be a better sapproach like testing individual steps or the whole end to end test to reach a good test coverage?</li>\n<li>I have <code>Flow</code> in the application that uses different <code>step</code>. If I test the <code>Flow</code> will the step also tested?</li>\n</ol>\n<p>I have created a basic structure for the test -</p>\n<pre><code>@EnableAutoConfiguration\n@EnableBatchProcessing\n@SpringJUnitConfig(xxxConfiguration.class)\n@SpringBatchTest\npublic class BatchTest {\n\n    @Autowired\n    private JobLauncherTestUtils jobLauncherTestUtils;\n\n    @Autowired\n    private JobRepositoryTestUtils jobRepositoryTestUtils;\n\n    @BeforeEach\n    public void clearJobExecutions() {\n        this.jobRepositoryTestUtils.removeJobExecutions();\n    }\n\n    @Test\n    public void testMyJob() throws Exception {\n        // given\n        JobParameters jobParameters = this.jobLauncherTestUtils.getUniqueJobParameters();\n\n        // when\n        JobExecution jobExecution = this.jobLauncherTestUtils.launchJob(jobParameters);\n\n        // then\n        //Assertions.assertEquals(ExitStatus.COMPLETED, jobExecution.getExitStatus());\n    }\n\n}\n\n</code></pre>\n<p>The errors that I have received looks like -</p>\n<pre><code>9:55:12.081 [main] DEBUG org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator - JDBC version : 4.1\n19:55:12.239 [main] WARN  org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata\norg.hibernate.HibernateException: Unable to determine Dialect to use [name=DB2, majorVersion=12]; user must register resolver or explicitly set 'hibernate.dialect'\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:109) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:97) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.25.jar:5.3.25]\n\n19:55:12.278 [main] DEBUG org.hibernate.service.spi.ServiceBinding - Overriding existing service binding [org.hibernate.engine.jdbc.connections.spi.ConnectionProvider]\n19:55:12.279 [main] ERROR org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n19:55:12.281 [main] WARN  org.springframework.context.support.GenericApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n19:55:12.289 [main] ERROR org.springframework.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@27a0a5a2] to prepare test instance [BatchTest@6b5f8707]\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-5.3.25.jar:5.3.25]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.25.jar:5.3.25]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.3.25.jar:5.3.25]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.3.25.jar:5.3.25]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.25.jar:5.3.25]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.25.jar:5.3.25]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[?:?]\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[?:?]\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[?:?]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\n    at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[?:?]\n    at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[?:?]\n    at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[?:?]\n    at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658) ~[?:?]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at java.util.Optional.orElseGet(Optional.java:369) ~[?:?]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.1.jar:5.8.1]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.util.ArrayList.forEach(ArrayList.java:1541) ~[?:?]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.util.ArrayList.forEach(ArrayList.java:1541) ~[?:?]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57) ~[junit5-rt.jar:?]\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38) ~[junit-rt.jar:?]\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11) ~[idea_rt.jar:?]\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35) ~[junit-rt.jar:?]\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232) ~[junit-rt.jar:?]\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55) ~[junit-rt.jar:?]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.25.jar:5.3.25]\n\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.25.jar:5.3.25]\n</code></pre>\n<p>I see all databse connection related errors. How should I proceed?</p>\n"},{"tags":["java","oop","inheritance","package","protected"],"answers":[{"comments":[{"owner":{"account_id":20082852,"reputation":13,"user_id":14725111,"display_name":"zenmonkey"},"score":0,"creation_date":1693068109,"post_id":76983904,"comment_id":135712423,"body_markdown":"okay sorry but im a complete beginner to java i have no idea what sealed means. also i exclusively care about making classB a child of classA, while classB is still in packageB. The fact that i cannot name classes protected i know, the why i dont understand","body":"okay sorry but im a complete beginner to java i have no idea what sealed means. also i exclusively care about making classB a child of classA, while classB is still in packageB. The fact that i cannot name classes protected i know, the why i dont understand"},{"owner":{"account_id":29277281,"reputation":1,"user_id":22430760,"display_name":"justsomeone"},"score":0,"creation_date":1693068759,"post_id":76983904,"comment_id":135712492,"body_markdown":"do not be sorry i am beginner too\n\nsealed mean that the sealed class on our case A will be extended by only the classes defined on the permit part\n\nnon-sealed mean any thing can extended it of course without forgetting to apply the public/package private modifier\n\ni also modify my answer to add another option\n\nwhy protected does not work case protected for classes apply only for inner class to be more generic for inner type that what the java creator choose to do","body":"do not be sorry i am beginner too  sealed mean that the sealed class on our case A will be extended by only the classes defined on the permit part  non-sealed mean any thing can extended it of course without forgetting to apply the public/package private modifier  i also modify my answer to add another option  why protected does not work case protected for classes apply only for inner class to be more generic for inner type that what the java creator choose to do"},{"owner":{"account_id":29277281,"reputation":1,"user_id":22430760,"display_name":"justsomeone"},"score":0,"creation_date":1693069058,"post_id":76983904,"comment_id":135712514,"body_markdown":"@zenmonkey for extra details about sealed https://docs.oracle.com/en/java/javase/20/language/sealed-classes-and-interfaces.html#GUID-0C709461-CC33-419A-82BF-61461336E65F","body":"@zenmonkey for extra details about sealed <a href=\"https://docs.oracle.com/en/java/javase/20/language/sealed-classes-and-interfaces.html#GUID-0C709461-CC33-419A-82BF-61461336E65F\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/language/&hellip;</a>"},{"owner":{"account_id":20082852,"reputation":13,"user_id":14725111,"display_name":"zenmonkey"},"score":0,"creation_date":1693069596,"post_id":76983904,"comment_id":135712568,"body_markdown":"okay cool but i dont really care what sealed means. i only gave the example of classB as a reason as to why we would need protected class. thats my question. understanding why protected class is not allowed. istill dont ge why.","body":"okay cool but i dont really care what sealed means. i only gave the example of classB as a reason as to why we would need protected class. thats my question. understanding why protected class is not allowed. istill dont ge why."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1693069903,"post_id":76983904,"comment_id":135712603,"body_markdown":"The underlying question OP has is: &quot;I want code outside of the package to be able to `extend` me, but if they aren&#39;t extending me, they can&#39;t do anything with me&#39;. `sealed` __does not solve that problem in any way__, and therefore, this isn&#39;t an answer to the question in any way. I was toying with &#39;maybe OP wants sealed&#39; too, but thinking it through, it just doesn&#39;t apply here.","body":"The underlying question OP has is: &quot;I want code outside of the package to be able to <code>extend</code> me, but if they aren&#39;t extending me, they can&#39;t do anything with me&#39;. <code>sealed</code> <b>does not solve that problem in any way</b>, and therefore, this isn&#39;t an answer to the question in any way. I was toying with &#39;maybe OP wants sealed&#39; too, but thinking it through, it just doesn&#39;t apply here."},{"owner":{"account_id":29277281,"reputation":1,"user_id":22430760,"display_name":"justsomeone"},"score":0,"creation_date":1693070278,"post_id":76983904,"comment_id":135712652,"body_markdown":"this how the accessibility determined in java\nhttps://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.6.1\n\nclass a and b are top level class \nif you still want to know why no protected not allowed for top level class? \nshort answer that what the java creator choose to do \nit same as why int is 4 byte bit size why not more or less?","body":"this how the accessibility determined in java <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.6.1\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.&zwnj;&#8203;6.1</a>  class a and b are top level class  if you still want to know why no protected not allowed for top level class?  short answer that what the java creator choose to do  it same as why int is 4 byte bit size why not more or less?"},{"owner":{"account_id":29277281,"reputation":1,"user_id":22430760,"display_name":"justsomeone"},"score":0,"creation_date":1693070370,"post_id":76983904,"comment_id":135712666,"body_markdown":"@rzwitserloot totally agree but i do not have enough points to make comments so sorry","body":"@rzwitserloot totally agree but i do not have enough points to make comments so sorry"},{"owner":{"account_id":20082852,"reputation":13,"user_id":14725111,"display_name":"zenmonkey"},"score":0,"creation_date":1693070429,"post_id":76983904,"comment_id":135712674,"body_markdown":"@rzwitserloot yes pretty much thats what  i mena. im trying to give an example where we would need a protected class. im trying to understand WHY protected classes are not allowed.","body":"@rzwitserloot yes pretty much thats what  i mena. im trying to give an example where we would need a protected class. im trying to understand WHY protected classes are not allowed."}],"tags":[],"owner":{"account_id":29277281,"reputation":1,"user_id":22430760,"display_name":"justsomeone"},"comment_count":8,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693068860,"creation_date":1693067912,"answer_id":76983904,"question_id":76983870,"body_markdown":"you can not use protected \r\n\r\nother way around it that you use sealed but both classes should be on same package\r\n\r\nso this for class A\r\n\r\n    package a;\r\n    \r\n    sealed class A permits B {\r\n    }\r\n\r\n\r\nand this for class B\r\n\r\n    package a;\r\n    \r\n    public non-sealed/final class B extends A{\r\n    }\r\n    \r\nor\r\n\r\n    public sealed class B extends A permits Z{\r\n    }\r\n\r\n\r\nanother option to define both class on single file like the following\r\n\r\n    package a;\r\n    \r\n    class A {\r\n    }\r\n    \r\n    class B extends A{\r\n    \r\n    }\r\n\r\n","title":"Why ant we have protected top level class in java?","body":"<p>you can not use protected</p>\n<p>other way around it that you use sealed but both classes should be on same package</p>\n<p>so this for class A</p>\n<pre><code>package a;\n\nsealed class A permits B {\n}\n</code></pre>\n<p>and this for class B</p>\n<pre><code>package a;\n\npublic non-sealed/final class B extends A{\n}\n</code></pre>\n<p>or</p>\n<pre><code>public sealed class B extends A permits Z{\n}\n</code></pre>\n<p>another option to define both class on single file like the following</p>\n<pre><code>package a;\n\nclass A {\n}\n\nclass B extends A{\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20082852,"reputation":13,"user_id":14725111,"display_name":"zenmonkey"},"score":0,"creation_date":1693072647,"post_id":76984056,"comment_id":135712959,"body_markdown":"okay thanks. thats pretty much what i meant. i thought there was some theoretical reason i was missing.","body":"okay thanks. thats pretty much what i meant. i thought there was some theoretical reason i was missing."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693070375,"creation_date":1693070375,"answer_id":76984056,"question_id":76983870,"body_markdown":"In basis, what you asked for is __not possible__. The problem is a semantic/philosophy argument: What does `protected` really _mean_?\r\n\r\nSure, it&#39;s defined as: &quot;Only accessible / visible by anything else in the same package, and any subclasses&quot;.\r\n\r\nHowever, if I write:\r\n\r\n```\r\nclass ClassB extends ClassA {}\r\n```\r\n\r\nwhere ClassB and ClassA are _not_ in the same package, and ClassA has hypotetically `protected` access level, how does the chicken and egg situation work? In order to &#39;parse and understand&#39; `extends ClassA`, we need to be in a valid context (in the same package, or be a subclass), but we aren&#39;t in that context quite yet.\r\n\r\nWe can update the lang spec to decree that for the purposes of understanding any `extends` or `implements` clauses, that we should act as if we are in the right context for the purposes of `protected`. But that is an additional complication.\r\n\r\nHence, instead, the spec erred on the side of caution and simply doesn&#39;t allow it.\r\n\r\nSo, to answer your _direct_ question:\r\n\r\nQ: Why can&#39;t we we have protected top level class in java?\r\n\r\nA: __Because the spec says so__.\r\n\r\nThat&#39;s it. That&#39;s the answer.\r\n\r\nI assume you find that answer not very satisfying. But it is the answer.\r\n\r\nSo let&#39;s instead answer your underlying question, which is _actually_:\r\n\r\nQ: I have a class (`ClassA`) that I do not want any code outside of `ClassA`&#39;s package to be able to access - I do not want any code to invoke static methods or read static fields (`ClassA.someStaticMethod()`), and I do not want any code to be able to create new instances (`new ClassA()`) either. However, I __do__ want code outside of `ClassA`&#39;s package to write `extends ClassA`.\r\n\r\n\r\nBut, unfortunately, the answer there is: That is a bizarre question, and I (and, evidently, the authors of the java language specification) cannot fathom any realistic scenarios where you&#39;d want such an access level.\r\n\r\nThere is no access level modifier that means: &quot;This method is not accessible to code outside of the class, __except__ for source files who source file name starts with the letter &#39;Q&#39;, _those_ can access it&quot;. For the same reason: That&#39;s so bizarre the authors didn&#39;t foresee any need for it, and therefore, the language doesn&#39;t support it.\r\n\r\nI suggest you make it `public`, and document it accordingly. Alternatively, consider that the only useful things you can do with a class __are always focused on members of it__. There&#39;s nothing useful you can do with, literally:\r\n\r\n```\r\nclass ExampleUselessClass {\r\n // the class is completely empty. There is nothing here.\r\n}\r\n```\r\n\r\nThen who cares what the access level of that class is? It&#39;s not useful, in any way.\r\n\r\nThus, you can effectively get what you want _by making every __member__ within `ClassA` protected instead_.\r\n\r\nIf you have:\r\n\r\n```\r\npublic class ClassA {\r\n\r\n  protected static final String SOME_CONSTANT = &quot;Hello&quot;;\r\n  protected int someField = 5;\r\n\r\n  protected ClassA() {\r\n    // our constructor\r\n  }\r\n\r\n  protected void foo() {\r\n    // some method\r\n  }\r\n}\r\n```\r\n\r\nThen explain to me what code in other packages can do, that _you do not want it to do_? Think it through. Other code can&#39;t write `new ClassA()` (unless they `extends ClassA`), they can&#39;t write `ClassA.SOME_CONSTANT`, they can&#39;t write `someInstanceOfClassB.foo()` unless you override `foo()` in `ClassB`. What&#39;s left, other than academic pointless cases, such as, say:\r\n\r\n```\r\nClass&lt;?&gt; classRef = ClassA.class;\r\n```\r\n\r\nrestricted access levels (`private`, package private, `protected`) __are API access tools__: They let you mark parts of your API as: &quot;Hey, I do not feel like documenting precisely what these methods do, and I reserve the right to modify this stuff in backwards incompatible ways in point releases.&quot;.\r\n\r\nIt doesn&#39;t mean anything further. access levels aren&#39;t security tools. Code that wants to &#39;access private stuff&#39; can do so trivially (using reflection, or just hacking the class file, that&#39;s trivial to do). That&#39;s not the point of `private` and friends. Whatever&#39;s left isn&#39;t API related and therefore isn&#39;t relevant. There&#39;s no purpose to denying other code from writing `ClassA.class` or otherwise referring to the existence of `ClassA` itself (not to anything it can do, i.e. any of its fields/methods/inner types).\r\n","title":"Why ant we have protected top level class in java?","body":"<p>In basis, what you asked for is <strong>not possible</strong>. The problem is a semantic/philosophy argument: What does <code>protected</code> really <em>mean</em>?</p>\n<p>Sure, it's defined as: &quot;Only accessible / visible by anything else in the same package, and any subclasses&quot;.</p>\n<p>However, if I write:</p>\n<pre><code>class ClassB extends ClassA {}\n</code></pre>\n<p>where ClassB and ClassA are <em>not</em> in the same package, and ClassA has hypotetically <code>protected</code> access level, how does the chicken and egg situation work? In order to 'parse and understand' <code>extends ClassA</code>, we need to be in a valid context (in the same package, or be a subclass), but we aren't in that context quite yet.</p>\n<p>We can update the lang spec to decree that for the purposes of understanding any <code>extends</code> or <code>implements</code> clauses, that we should act as if we are in the right context for the purposes of <code>protected</code>. But that is an additional complication.</p>\n<p>Hence, instead, the spec erred on the side of caution and simply doesn't allow it.</p>\n<p>So, to answer your <em>direct</em> question:</p>\n<p>Q: Why can't we we have protected top level class in java?</p>\n<p>A: <strong>Because the spec says so</strong>.</p>\n<p>That's it. That's the answer.</p>\n<p>I assume you find that answer not very satisfying. But it is the answer.</p>\n<p>So let's instead answer your underlying question, which is <em>actually</em>:</p>\n<p>Q: I have a class (<code>ClassA</code>) that I do not want any code outside of <code>ClassA</code>'s package to be able to access - I do not want any code to invoke static methods or read static fields (<code>ClassA.someStaticMethod()</code>), and I do not want any code to be able to create new instances (<code>new ClassA()</code>) either. However, I <strong>do</strong> want code outside of <code>ClassA</code>'s package to write <code>extends ClassA</code>.</p>\n<p>But, unfortunately, the answer there is: That is a bizarre question, and I (and, evidently, the authors of the java language specification) cannot fathom any realistic scenarios where you'd want such an access level.</p>\n<p>There is no access level modifier that means: &quot;This method is not accessible to code outside of the class, <strong>except</strong> for source files who source file name starts with the letter 'Q', <em>those</em> can access it&quot;. For the same reason: That's so bizarre the authors didn't foresee any need for it, and therefore, the language doesn't support it.</p>\n<p>I suggest you make it <code>public</code>, and document it accordingly. Alternatively, consider that the only useful things you can do with a class <strong>are always focused on members of it</strong>. There's nothing useful you can do with, literally:</p>\n<pre><code>class ExampleUselessClass {\n // the class is completely empty. There is nothing here.\n}\n</code></pre>\n<p>Then who cares what the access level of that class is? It's not useful, in any way.</p>\n<p>Thus, you can effectively get what you want <em>by making every <strong>member</strong> within <code>ClassA</code> protected instead</em>.</p>\n<p>If you have:</p>\n<pre><code>public class ClassA {\n\n  protected static final String SOME_CONSTANT = &quot;Hello&quot;;\n  protected int someField = 5;\n\n  protected ClassA() {\n    // our constructor\n  }\n\n  protected void foo() {\n    // some method\n  }\n}\n</code></pre>\n<p>Then explain to me what code in other packages can do, that <em>you do not want it to do</em>? Think it through. Other code can't write <code>new ClassA()</code> (unless they <code>extends ClassA</code>), they can't write <code>ClassA.SOME_CONSTANT</code>, they can't write <code>someInstanceOfClassB.foo()</code> unless you override <code>foo()</code> in <code>ClassB</code>. What's left, other than academic pointless cases, such as, say:</p>\n<pre><code>Class&lt;?&gt; classRef = ClassA.class;\n</code></pre>\n<p>restricted access levels (<code>private</code>, package private, <code>protected</code>) <strong>are API access tools</strong>: They let you mark parts of your API as: &quot;Hey, I do not feel like documenting precisely what these methods do, and I reserve the right to modify this stuff in backwards incompatible ways in point releases.&quot;.</p>\n<p>It doesn't mean anything further. access levels aren't security tools. Code that wants to 'access private stuff' can do so trivially (using reflection, or just hacking the class file, that's trivial to do). That's not the point of <code>private</code> and friends. Whatever's left isn't API related and therefore isn't relevant. There's no purpose to denying other code from writing <code>ClassA.class</code> or otherwise referring to the existence of <code>ClassA</code> itself (not to anything it can do, i.e. any of its fields/methods/inner types).</p>\n"}],"owner":{"account_id":20082852,"reputation":13,"user_id":14725111,"display_name":"zenmonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693270002,"accepted_answer_id":76984056,"answer_count":2,"score":-1,"last_activity_date":1693070375,"creation_date":1693067319,"question_id":76983870,"body_markdown":"If i have a top level class classA in packageA, and i want to make a classB extend classA, but i want to include classB in packageB, without any other class in packageB being able to have access to classA (so classA cannot be public), wouldnt this mean that classA must be accessible to its own package plus its children that are in other packages, hence shouldnt classA be protected?\r\nobviously we can solve this by moving classB to packageA but what if we cannot do for some reason?\r\n\r\nalright i guess i have to fill this in too, i tried making classA protected and i got an error.","title":"Why ant we have protected top level class in java?","body":"<p>If i have a top level class classA in packageA, and i want to make a classB extend classA, but i want to include classB in packageB, without any other class in packageB being able to have access to classA (so classA cannot be public), wouldnt this mean that classA must be accessible to its own package plus its children that are in other packages, hence shouldnt classA be protected?\nobviously we can solve this by moving classB to packageA but what if we cannot do for some reason?</p>\n<p>alright i guess i have to fill this in too, i tried making classA protected and i got an error.</p>\n"},{"tags":["java","arrays","list","data-structures"],"answers":[{"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":2,"creation_date":1255971250,"post_id":1589842,"comment_id":1453015,"body_markdown":"To be precise: If you like to micro-optimize, you would generally use an array.","body":"To be precise: If you like to micro-optimize, you would generally use an array."}],"tags":[],"owner":{"display_name":"user153498"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1255971187,"creation_date":1255971187,"answer_id":1589842,"question_id":1589813,"body_markdown":"If you want the array of items to expand (i.e. if you don&#39;t know what the size of the list will be beforehand), a List will be beneficial. However, if you want performance, you would generally use an array.","title":"When to use a List over an Array in Java?","body":"<p>If you want the array of items to expand (i.e. if you don't know what the size of the list will be beforehand), a List will be beneficial. However, if you want performance, you would generally use an array.</p>\n"},{"comments":[{"owner":{"account_id":36166,"reputation":38849,"user_id":103043,"display_name":"akf"},"score":0,"creation_date":1255971846,"post_id":1589843,"comment_id":1453095,"body_markdown":"&quot;particularly iterator support&quot;: note that the enhanced for loop supports arrays as well as Lists.","body":"&quot;particularly iterator support&quot;: note that the enhanced for loop supports arrays as well as Lists."},{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":0,"creation_date":1255972101,"post_id":1589843,"comment_id":1453125,"body_markdown":"Though not as functional as a true iterator, the new for-loop in Java 5 gives syntactic sugar for iterating over arrays.","body":"Though not as functional as a true iterator, the new for-loop in Java 5 gives syntactic sugar for iterating over arrays."},{"owner":{"account_id":14448,"reputation":5643,"user_id":29734,"accept_rate":77,"display_name":"Chris Kessel"},"score":0,"creation_date":1255973068,"post_id":1589843,"comment_id":1453226,"body_markdown":"Right, like Michael said, the for loop is syntactic sugar. There are times where you need your object to implement Iterator, such as passing Lists to things like a Comparator.","body":"Right, like Michael said, the for loop is syntactic sugar. There are times where you need your object to implement Iterator, such as passing Lists to things like a Comparator."},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1255973536,"post_id":1589843,"comment_id":1453270,"body_markdown":"@Chris Kessel: Yeah, except the Arrays class has a static method that takes an array and a Comparator that you should be using with an array: http://java.sun.com/javase/6/docs/api/java/util/Arrays.html#sort(T[],%20java.util.Comparator)","body":"@Chris Kessel: Yeah, except the Arrays class has a static method that takes an array and a Comparator that you should be using with an array: <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Arrays.html#sort(T[],%20java.util.Comparator)\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/util/&hellip;</a>"}],"tags":[],"owner":{"account_id":14448,"reputation":5643,"user_id":29734,"accept_rate":77,"display_name":"Chris Kessel"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1255971211,"creation_date":1255971211,"answer_id":1589843,"question_id":1589813,"body_markdown":"Pretty much always prefer a list. Lists have much more functionality, particularly iterator support. You can convert a list to an array at any time with the toArray() method.","title":"When to use a List over an Array in Java?","body":"<p>Pretty much always prefer a list. Lists have much more functionality, particularly iterator support. You can convert a list to an array at any time with the toArray() method.</p>\n"},{"tags":[],"owner":{"account_id":48447,"reputation":44848,"user_id":143938,"display_name":"Jonathan Feinberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255971227,"creation_date":1255971227,"answer_id":1589846,"question_id":1589813,"body_markdown":"It depends on what kind of List.\r\n\r\nIt&#39;s better to use a LinkedList if you know you&#39;ll be inserting many elements in positions other than the end. LinkedList is not suitable for random access (getting the i&#39;th element).\r\n\r\nIt&#39;s better to use an ArrayList if you don&#39;t know, in advance, how many elements there are going to be. The ArrayList correctly amortizes the cost of growing the backing array as you add more elements to it, and is suitable for random access once the elements are in place. An ArrayList can be efficiently sorted.\r\n\r\n","title":"When to use a List over an Array in Java?","body":"<p>It depends on what kind of List.</p>\n\n<p>It's better to use a LinkedList if you know you'll be inserting many elements in positions other than the end. LinkedList is not suitable for random access (getting the i'th element).</p>\n\n<p>It's better to use an ArrayList if you don't know, in advance, how many elements there are going to be. The ArrayList correctly amortizes the cost of growing the backing array as you add more elements to it, and is suitable for random access once the elements are in place. An ArrayList can be efficiently sorted.</p>\n"},{"comments":[{"owner":{"account_id":10611,"reputation":110117,"user_id":20128,"accept_rate":73,"display_name":"serg"},"score":0,"creation_date":1255975955,"post_id":1589952,"comment_id":1453533,"body_markdown":"Linked List is not O(1) insert unless you are inserting elements at the beginning or the end. Its main purpose is custom implementations of stacks and queues.","body":"Linked List is not O(1) insert unless you are inserting elements at the beginning or the end. Its main purpose is custom implementations of stacks and queues."},{"owner":{"account_id":38540,"reputation":4664,"user_id":110672,"accept_rate":60,"display_name":"Dolphin"},"score":1,"creation_date":1255976448,"post_id":1589952,"comment_id":1453585,"body_markdown":"Linked list insert is O(1) at a known location.  You can do an O(1) insert in the middle of the list.  Finding the place to insert may be O(n) if your list is not a queue or a stack.  The distinction is important when trying to compare data structures.","body":"Linked list insert is O(1) at a known location.  You can do an O(1) insert in the middle of the list.  Finding the place to insert may be O(n) if your list is not a queue or a stack.  The distinction is important when trying to compare data structures."},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":2,"creation_date":1255977179,"post_id":1589952,"comment_id":1453650,"body_markdown":"One thing not noted is that you&#39;re better off declaring the variable as its interface (i.e. List or Queue) rather than its implementing class.  This way, you can change the implementation at some later date without changing anything else in the code.","body":"One thing not noted is that you&#39;re better off declaring the variable as its interface (i.e. List or Queue) rather than its implementing class.  This way, you can change the implementation at some later date without changing anything else in the code."},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":2,"creation_date":1255977301,"post_id":1589952,"comment_id":1453657,"body_markdown":"As an example: `List&lt;String&gt; myList = new ArrayList&lt;String&gt;();` or `List&lt;String&gt; myList = new LinkedList&lt;String&gt;();`  Note that myList is a `List&lt;String&gt;` in both examples.","body":"As an example: <code>List&lt;String&gt; myList = new ArrayList&lt;String&gt;();</code> or <code>List&lt;String&gt; myList = new LinkedList&lt;String&gt;();</code>  Note that myList is a <code>List&lt;String&gt;</code> in both examples."},{"owner":{"account_id":25109,"reputation":6880,"user_id":64301,"accept_rate":92,"display_name":"Tom Neyland"},"score":0,"creation_date":1255979319,"post_id":1589952,"comment_id":1453815,"body_markdown":"@ R. Bemrose, good point, hope you dont mind that I edited it into the answer.","body":"@ R. Bemrose, good point, hope you dont mind that I edited it into the answer."},{"owner":{"account_id":1521739,"reputation":3696,"user_id":1421194,"accept_rate":73,"display_name":"Sasha"},"score":1,"creation_date":1461058833,"post_id":1589952,"comment_id":61014839,"body_markdown":"This answer actually doesn&#39;t say anything about benefits of T[] over ArrayList&lt;T&gt; and/or benefits of ArrayList&lt;T&gt; over T[]. While choice between all other container types (e.g. ArrayList&lt;T&gt; vs LinkedList&lt;T&gt;, or ArrayList&lt;T&gt; vs HashSet&lt;T&gt;, etc) is quite obvious, the choice between ArrayList&lt;T&gt; and T[] isn&#39;t (because both arrange items in memory sequentially), so this answer actually doesn&#39;t address the main question.","body":"This answer actually doesn&#39;t say anything about benefits of T[] over ArrayList&lt;T&gt; and/or benefits of ArrayList&lt;T&gt; over T[]. While choice between all other container types (e.g. ArrayList&lt;T&gt; vs LinkedList&lt;T&gt;, or ArrayList&lt;T&gt; vs HashSet&lt;T&gt;, etc) is quite obvious, the choice between ArrayList&lt;T&gt; and T[] isn&#39;t (because both arrange items in memory sequentially), so this answer actually doesn&#39;t address the main question."}],"tags":[],"owner":{"account_id":25109,"reputation":6880,"user_id":64301,"accept_rate":92,"display_name":"Tom Neyland"},"comment_count":6,"down_vote_count":2,"up_vote_count":46,"is_accepted":true,"score":44,"last_activity_date":1693069279,"creation_date":1255972559,"answer_id":1589952,"question_id":1589813,"body_markdown":"I see the question as being the opposite- \r\n\r\nWhen should you use an Array over a List? \r\n\r\nOnly you have a specific reason to do so (e.g.: Project Constraints, Memory Concerns (not really a good reason), etc.)\r\n\r\nLists are much easier to use (imo) and have much more functionality. \r\n\r\nNote: You should also consider whether or not something like a Set, or another data structure is a better fit than a List for what you are trying to do.\r\n\r\nEach data structure, and implementation, has different pros/cons. Pick the ones that excel at the things that you need to do.\r\n\r\nIf you need get() to be O(1) for any item? Likely use an ArrayList, Need O(1) insert()? Possibly a Linked List. Need O(1) contains()? Possibly a Hashset.\r\n\r\n\r\n\r\n**TLDR: Each data structure is good at some things, and bad at others. Look at your objectives and choose the data structure that best fits the given problem.**\r\n\r\nEdit: \r\n\r\n\r\n&gt; One thing not noted is that you&#39;re better off declaring the variable\r\n&gt; as its interface (i.e. List or Queue) rather than its implementing\r\n&gt; class. This way, you can change the implementation at some later date\r\n&gt; without changing anything else in the code.\r\n\r\nAs an example: \r\n    \r\n\r\n    List&lt;String&gt; myList = new ArrayList&lt;String&gt;(); \r\n\r\nvs\r\n\r\n    List&lt;String&gt; myList = new LinkedList&lt;String&gt;();\r\n\r\n&gt; Note that myList is a List&lt;String&gt; in both examples.\r\n&gt; --**R. Bemrose**\r\n\r\n \r\n\r\n","title":"When to use a List over an Array in Java?","body":"<p>I see the question as being the opposite-</p>\n<p>When should you use an Array over a List?</p>\n<p>Only you have a specific reason to do so (e.g.: Project Constraints, Memory Concerns (not really a good reason), etc.)</p>\n<p>Lists are much easier to use (imo) and have much more functionality.</p>\n<p>Note: You should also consider whether or not something like a Set, or another data structure is a better fit than a List for what you are trying to do.</p>\n<p>Each data structure, and implementation, has different pros/cons. Pick the ones that excel at the things that you need to do.</p>\n<p>If you need get() to be O(1) for any item? Likely use an ArrayList, Need O(1) insert()? Possibly a Linked List. Need O(1) contains()? Possibly a Hashset.</p>\n<p><strong>TLDR: Each data structure is good at some things, and bad at others. Look at your objectives and choose the data structure that best fits the given problem.</strong></p>\n<p>Edit:</p>\n<blockquote>\n<p>One thing not noted is that you're better off declaring the variable\nas its interface (i.e. List or Queue) rather than its implementing\nclass. This way, you can change the implementation at some later date\nwithout changing anything else in the code.</p>\n</blockquote>\n<p>As an example:</p>\n<pre><code>List&lt;String&gt; myList = new ArrayList&lt;String&gt;(); \n</code></pre>\n<p>vs</p>\n<pre><code>List&lt;String&gt; myList = new LinkedList&lt;String&gt;();\n</code></pre>\n<blockquote>\n<p>Note that myList is a List in both examples.\n--<strong>R. Bemrose</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9110,"reputation":1980,"user_id":16685,"accept_rate":83,"display_name":"p3t0r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1255972607,"creation_date":1255972607,"answer_id":1589955,"question_id":1589813,"body_markdown":"In many cases the type of collection used is an implementation detail which shouldn&#39;t be exposed to the outside world. The more generic your returntype is the more flexibility you have changing the implementation afterwards.\r\n\r\nArrays (primitive type, ie. new int[10]) are not generic, you won&#39;t be able to change you implementation without an internal conversion or altering the client code. You might want to consider Iterable&lt;T&gt; as a returntype.","title":"When to use a List over an Array in Java?","body":"<p>In many cases the type of collection used is an implementation detail which shouldn't be exposed to the outside world. The more generic your returntype is the more flexibility you have changing the implementation afterwards.</p>\n\n<p>Arrays (primitive type, ie. new int[10]) are not generic, you won't be able to change you implementation without an internal conversion or altering the client code. You might want to consider Iterable as a returntype.</p>\n"},{"comments":[{"owner":{"account_id":60322,"reputation":958,"user_id":180244,"display_name":"vdr"},"score":0,"creation_date":1255976001,"post_id":1589966,"comment_id":1453538,"body_markdown":"Not sure about the screen example - you can resize the screen size anytime. That is even common if you are for example using RemoteDesktop/citrix or move an application to the 2nd screen.","body":"Not sure about the screen example - you can resize the screen size anytime. That is even common if you are for example using RemoteDesktop/citrix or move an application to the 2nd screen."},{"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"score":1,"creation_date":1256047096,"post_id":1589966,"comment_id":1458745,"body_markdown":"If you move an application screen-to-screen, you&#39;re dealing with a window, not a screen, which is something dealing with a user, not hardware.  If you&#39;re opening a remote desktop, it&#39;s a new initialization/runtime.  I don&#39;t want to nitpick too much, but I&#39;d like to stand by what I said.  :)","body":"If you move an application screen-to-screen, you&#39;re dealing with a window, not a screen, which is something dealing with a user, not hardware.  If you&#39;re opening a remote desktop, it&#39;s a new initialization/runtime.  I don&#39;t want to nitpick too much, but I&#39;d like to stand by what I said.  :)"}],"tags":[],"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1255972746,"creation_date":1255972746,"answer_id":1589966,"question_id":1589813,"body_markdown":"If you know how many things you&#39;ll be holding, you&#39;ll want an array.  My screen is 1024x768, and a buffer of pixels for that isn&#39;t going to change in size *ever* during runtime.\r\n\r\nIf you know you&#39;ll need to access specific indexes (go get item #763!), use an array or array-backed list.\r\n\r\nIf you need to add or remove items from the group regularly, use a linked list.\r\n\r\n\r\n***In general, dealing with hardware, arrays, dealing with users, lists.***","title":"When to use a List over an Array in Java?","body":"<p>If you know how many things you'll be holding, you'll want an array.  My screen is 1024x768, and a buffer of pixels for that isn't going to change in size <em>ever</em> during runtime.</p>\n\n<p>If you know you'll need to access specific indexes (go get item #763!), use an array or array-backed list.</p>\n\n<p>If you need to add or remove items from the group regularly, use a linked list.</p>\n\n<p><strong><em>In general, dealing with hardware, arrays, dealing with users, lists.</em></strong></p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1255972751,"creation_date":1255972751,"answer_id":1589967,"question_id":1589813,"body_markdown":"Rules of thumb:\r\n\r\n - Use a `List` for reference types.\r\n - Use arrays for primitives.\r\n - If you have to deal with an API that is using arrays, it might be useful to use arrays. OTOH, it may be useful to enforce defensive copying with the type system by using `List`s.\r\n - If you are doing a lot of `List` type operations on the sequence and it is not in a performance/memory critical section, then use `List`.\r\n - Low-level optimisations may use arrays. Expect nastiness with low-level optimisations.\r\n\r\n","title":"When to use a List over an Array in Java?","body":"<p>Rules of thumb:</p>\n\n<ul>\n<li>Use a <code>List</code> for reference types.</li>\n<li>Use arrays for primitives.</li>\n<li>If you have to deal with an API that is using arrays, it might be useful to use arrays. OTOH, it may be useful to enforce defensive copying with the type system by using <code>List</code>s.</li>\n<li>If you are doing a lot of <code>List</code> type operations on the sequence and it is not in a performance/memory critical section, then use <code>List</code>.</li>\n<li>Low-level optimisations may use arrays. Expect nastiness with low-level optimisations.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26938,"reputation":4932,"user_id":70551,"accept_rate":68,"display_name":"Surya"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1255973212,"creation_date":1255973212,"answer_id":1590004,"question_id":1589813,"body_markdown":"Always prefer lists. \r\n\r\nArrays when \r\n\r\n1. Varargs for a method ( I guess you are forced to use Arrays here ).\r\n2. When you want your collections to be covariant ( arrays of reference types are covariant ).\r\n3. Performance critical code. ","title":"When to use a List over an Array in Java?","body":"<p>Always prefer lists. </p>\n\n<p>Arrays when </p>\n\n<ol>\n<li>Varargs for a method ( I guess you are forced to use Arrays here ).</li>\n<li>When you want your collections to be covariant ( arrays of reference types are covariant ).</li>\n<li>Performance critical code. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":60322,"reputation":958,"user_id":180244,"display_name":"vdr"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1255975716,"creation_date":1255975716,"answer_id":1590207,"question_id":1589813,"body_markdown":"Most people have answered it already.\r\n\r\nThere are almost no good reason to use an array instead of List. The main exception being the primitive array (like `int[]`). You cannot create a primitive list (must have `List&lt;Integer&gt;`).\r\n\r\nThe most important difference is that when using List you can decide what implementation will be used. The most obvious is to chose LinkedList or ArrayList. \r\n\r\nI would like to point out in this answer that choosing the implementation gives you very fine grained control over the data that is simply not available to array:\r\n\r\n1. You can prevent client from modifying your list by wrapping your list in a `Collection.unmodifiableList`\r\n1. You can synchronize a list for multithreading using `Collection.synchronizedList`\r\n1. You can create a fixed length queue with implementation of `LinkedBlockingQueue`\r\n1. ... etc\r\n\r\nIn any case, even if you don&#39;t want (now) any extra feature of the list. Just use an ArrayList and size it with the size of the array you would have created. It will use an Array in the back-end and the performance difference with a real array will be negligible. (except for primitive arrays) \r\n","title":"When to use a List over an Array in Java?","body":"<p>Most people have answered it already.</p>\n\n<p>There are almost no good reason to use an array instead of List. The main exception being the primitive array (like <code>int[]</code>). You cannot create a primitive list (must have <code>List&lt;Integer&gt;</code>).</p>\n\n<p>The most important difference is that when using List you can decide what implementation will be used. The most obvious is to chose LinkedList or ArrayList. </p>\n\n<p>I would like to point out in this answer that choosing the implementation gives you very fine grained control over the data that is simply not available to array:</p>\n\n<ol>\n<li>You can prevent client from modifying your list by wrapping your list in a <code>Collection.unmodifiableList</code></li>\n<li>You can synchronize a list for multithreading using <code>Collection.synchronizedList</code></li>\n<li>You can create a fixed length queue with implementation of <code>LinkedBlockingQueue</code></li>\n<li>... etc</li>\n</ol>\n\n<p>In any case, even if you don't want (now) any extra feature of the list. Just use an ArrayList and size it with the size of the array you would have created. It will use an Array in the back-end and the performance difference with a real array will be negligible. (except for primitive arrays) </p>\n"}],"owner":{"account_id":65437,"reputation":5760,"user_id":192549,"accept_rate":96,"display_name":"John Moffitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38837,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":1589952,"answer_count":9,"score":38,"last_activity_date":1693069279,"creation_date":1255970910,"question_id":1589813,"body_markdown":"In Java, when would it be preferential to use a List rather than an Array?","title":"When to use a List over an Array in Java?","body":"<p>In Java, when would it be preferential to use a List rather than an Array?</p>\n"},{"tags":["java","spring-boot","maven","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693069046,"post_id":76983950,"comment_id":135712513,"body_markdown":"Your tests are failing... so without the full log output including the parts for the failing test and the tests code itself it&#39;s not even possible to make an educated gues...","body":"Your tests are failing... so without the full log output including the parts for the failing test and the tests code itself it&#39;s not even possible to make an educated gues..."},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1693069448,"post_id":76983950,"comment_id":135712551,"body_markdown":"Cannot post logs here due to limitations: https://controlc.com/3378c4af","body":"Cannot post logs here due to limitations: <a href=\"https://controlc.com/3378c4af\" rel=\"nofollow noreferrer\">controlc.com/3378c4af</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693070619,"post_id":76983950,"comment_id":135712705,"body_markdown":"The output shows things like `[ERROR] Tests run: 7, Failures: 0, Errors: 7, Skipped: 0, Time elapsed: 1.039 s &lt;&lt;&lt; FAILURE! -- in com.parkingtime.test.controllers.AuthenticationControllerTests com.parkingtime.test.controllers.AuthenticationControllerTests.verifyEmail_verifyUserEmailAddress_shouldReturn202AcceptedStatusCode -- Time elapsed: 0.957 s &lt;&lt;&lt; ERROR!\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1415975187\n\tat java.base/java.lang.StringLatin1.charAt(StringLatin1.java:48)\n\tat java.base/java.lang.String.charAt(String.java:1517)`","body":"The output shows things like <code>[ERROR] Tests run: 7, Failures: 0, Errors: 7, Skipped: 0, Time elapsed: 1.039 s &lt;&lt;&lt; FAILURE! -- in com.parkingtime.test.controllers.AuthenticationControllerTes&zwnj;&#8203;ts com.parkingtime.test.controllers.AuthenticationControllerTes&zwnj;&#8203;ts.verifyEmail_verif&zwnj;&#8203;yUserEmailAddress_sh&zwnj;&#8203;ouldReturn202Accepte&zwnj;&#8203;dStatusCode -- Time elapsed: 0.957 s &lt;&lt;&lt; ERROR! java.lang.StringIndexOutOfBoundsException: String index out of range: -1415975187 \tat java.base&#47;java.lang.StringLatin1.charAt(StringLatin1.java:48&zwnj;&#8203;) \tat java.base&#47;java.lang.String.charAt(String.java:1517)</code>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693070627,"post_id":76983950,"comment_id":135712708,"body_markdown":"Check : `\tat com.parkingtime.test.controllers.AuthenticationControllerTests.register_signUpUserThroughController_shouldReturn200OkStatus(AuthenticationControllerTests.java:164)`....","body":"Check : `\tat com.parkingtime.test.controllers.AuthenticationControllerTes&zwnj;&#8203;ts.register_signUpUs&zwnj;&#8203;erThroughController_&zwnj;&#8203;shouldReturn200OkSta&zwnj;&#8203;tus(AuthenticationCo&zwnj;&#8203;ntrollerTests.java:1&zwnj;&#8203;64)`...."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693070663,"post_id":76983950,"comment_id":135712716,"body_markdown":"And: `Suppressed: org.junit.platform.commons.PreconditionViolationException: Configuration error: You must configure at least one set of arguments for this @ParameterizedTest\n\t\tat org.junit.platform.commons.util.Preconditions.condition(Preconditions.java:299)\n\t\tat org.junit.jupiter.params.ParameterizedTestExtension.lambda$provideTestTemplateInvocationContexts$5(ParameterizedTestExtension.java:98)\n\t\tat java.base/java.util.stream.AbstractPipeline.close(AbstractPipeline.java:323)\n\t\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273)\n\t\t... 57 more`","body":"And: <code>Suppressed: org.junit.platform.commons.PreconditionViolationException: Configuration error: You must configure at least one set of arguments for this @ParameterizedTest \t\tat org.junit.platform.commons.util.Preconditions.condition(Prec&zwnj;&#8203;onditions.java:299) \t\tat org.junit.jupiter.params.ParameterizedTestExtension.lambda$p&zwnj;&#8203;rovideTestTemplateIn&zwnj;&#8203;vocationContexts$5(P&zwnj;&#8203;arameterizedTestExte&zwnj;&#8203;nsion.java:98) \t\tat java.base&#47;java.util.stream.AbstractPipeline.close(AbstractPi&zwnj;&#8203;peline.java:323) \t\tat java.base&#47;java.util.stream.ReferencePipeline$7$1.accept(Refe&zwnj;&#8203;rencePipeline.java:2&zwnj;&#8203;73) \t\t... 57 more</code>"},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1693071456,"post_id":76983950,"comment_id":135712824,"body_markdown":"Strange thing because I have set-up the arguments: https://controlc.com/52e6ec95","body":"Strange thing because I have set-up the arguments: <a href=\"https://controlc.com/52e6ec95\" rel=\"nofollow noreferrer\">controlc.com/52e6ec95</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693073142,"post_id":76983950,"comment_id":135713028,"body_markdown":"I would pickup a debugger and check those tests ... in particular AuthenticationControllerTests in line 164.. from the error...","body":"I would pickup a debugger and check those tests ... in particular AuthenticationControllerTests in line 164.. from the error..."}],"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693068640,"creation_date":1693068640,"question_id":76983950,"body_markdown":"I am facing an issue with the Surefire plugin, for some strange reason tests are failing and I am getting this error, the idea is to run tests locally without any issues. Is there a solution for my issue? This is the first time that I am getting issue with this message, probably you will know how to fix it.\r\n```\r\nPlease refer to C:\\Users\\rener\\IdeaProjects\\parking-time-microservice\\application\\target\\surefire-reports for the individual test results.\r\nPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n```\r\nHere is my pom\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.parkingtime&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parking-time-project&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;application&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.parkingtime.parking-time-project&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n            &lt;version&gt;${parent.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Maven Surefire plugin issue with dump files - Java Maven","body":"<p>I am facing an issue with the Surefire plugin, for some strange reason tests are failing and I am getting this error, the idea is to run tests locally without any issues. Is there a solution for my issue? This is the first time that I am getting issue with this message, probably you will know how to fix it.</p>\n<pre><code>Please refer to C:\\Users\\rener\\IdeaProjects\\parking-time-microservice\\application\\target\\surefire-reports for the individual test results.\nPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n</code></pre>\n<p>Here is my pom</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.parkingtime&lt;/groupId&gt;\n        &lt;artifactId&gt;parking-time-project&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;application&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.parkingtime.parking-time-project&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;${parent.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","unix","sonarqube"],"comments":[{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":0,"creation_date":1565267708,"post_id":57411462,"comment_id":101305414,"body_markdown":"Did u get chance to look into  setting up the [Sonarqube-scanner](https://www.digitalocean.com/community/tutorials/how-to-ensure-code-quality-with-sonarqube-on-ubuntu-18-04)","body":"Did u get chance to look into  setting up the <a href=\"https://www.digitalocean.com/community/tutorials/how-to-ensure-code-quality-with-sonarqube-on-ubuntu-18-04\" rel=\"nofollow noreferrer\">Sonarqube-scanner</a>"},{"owner":{"account_id":16446442,"reputation":104,"user_id":11881151,"display_name":"Hubi"},"score":0,"creation_date":1565270773,"post_id":57411462,"comment_id":101307507,"body_markdown":"Yes, I did, but it ask for /usr/local/lib not /opt/sonnarscanner","body":"Yes, I did, but it ask for /usr/local/lib not /opt/sonnarscanner"}],"owner":{"account_id":16446442,"reputation":104,"user_id":11881151,"display_name":"Hubi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693068613,"creation_date":1565263459,"question_id":57411462,"body_markdown":"I&#39;ve installed `sonarqube` and it works on `localhost:9000` Sonar scanner doesn&#39;t work.\r\n\r\n**I&#39;ve tried** to change `sonar-scanner-cli-4.0.0.1744.jar` file location. But it doesn&#39;t work anyway. \r\n\r\n```\r\nsonar-scanner\r\nFile does not exist: /usr/local/lib/sonar-scanner-cli-4.0.0.1744.jar\r\n&#39;/usr/local&#39; does not point to a valid installation directory: /usr/local\r\n```\r\nI expect to run `sonar scanner`, and I think that I need to change default `sonar-scanner` `sonar-scanner-cli-4.0.0.1744.jar` location.","title":"sonar-scanner doesn&#39;t see *.jar file","body":"<p>I've installed <code>sonarqube</code> and it works on <code>localhost:9000</code> Sonar scanner doesn't work.</p>\n<p><strong>I've tried</strong> to change <code>sonar-scanner-cli-4.0.0.1744.jar</code> file location. But it doesn't work anyway.</p>\n<pre><code>sonar-scanner\nFile does not exist: /usr/local/lib/sonar-scanner-cli-4.0.0.1744.jar\n'/usr/local' does not point to a valid installation directory: /usr/local\n</code></pre>\n<p>I expect to run <code>sonar scanner</code>, and I think that I need to change default <code>sonar-scanner</code> <code>sonar-scanner-cli-4.0.0.1744.jar</code> location.</p>\n"},{"tags":["java","testing","junit","decorator"],"comments":[{"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"score":0,"creation_date":1582712906,"post_id":60411587,"comment_id":106869151,"body_markdown":"I would create a perl or python script that lists all occurences of `/\\stest[A-Z]/` where current or previous line does not contain `@Test`. This list should be small enough to visit and fix all of them.","body":"I would create a perl or python script that lists all occurences of <code>&#47;\\stest[A-Z]&#47;</code> where current or previous line does not contain <code>@Test</code>. This list should be small enough to visit and fix all of them."}],"answers":[{"comments":[{"owner":{"account_id":8517850,"reputation":466,"user_id":6385742,"accept_rate":75,"display_name":"Veslav"},"score":0,"creation_date":1582808015,"post_id":60411687,"comment_id":106909563,"body_markdown":"This seems like the easiest option for me to implement. Using sonarlint.","body":"This seems like the easiest option for me to implement. Using sonarlint."}],"tags":[],"owner":{"account_id":5165781,"reputation":108,"user_id":4135813,"display_name":"Łukasz Ozimek"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693068516,"creation_date":1582712643,"answer_id":60411687,"question_id":60411587,"body_markdown":"I were you I would look at some Sonar rule here I found something that may can match requirement:\r\n\r\nhttps://rules.sonarsource.com/java/RSPEC-2187","title":"Java and JUnit, find missing @Test decorators","body":"<p>I were you I would look at some Sonar rule here I found something that may can match requirement:</p>\n<p><a href=\"https://rules.sonarsource.com/java/RSPEC-2187\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-2187</a></p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582718172,"creation_date":1582717474,"answer_id":60413197,"question_id":60411587,"body_markdown":"&gt; But in one case someone forgot to put an @Test decorator on top of the\r\n&gt; test.\r\n&gt;\r\n\r\nAnd \r\n&gt; I want to find code like this, it&#39;s a test without @Test:\r\n&gt; \r\n&gt; `public void testExceptionInBla() {    // some test }`\r\n\r\nAnnotating the method with `@Test` or specifying a `test` prefix in the method name is about the same thing in terms of consequences if the developer forgets to do that.    \r\nIf the `@Test` is the way today, that is not chance.  \r\nThe `@Test` annotation brings two real advantages on the `test` prefix :   \r\n\r\n1) it is checked at compile test. For example `@Tast` will provoke a compilation error while `tastWhen...()` will not.     \r\n\r\n2) `@Test` makes the test method name more straight readable : it allows to focus on the scenario with a functional language. \r\n`should_throw_exception_if_blabla()` sounds more meaningful than `test_should_throw_exception_if_blabla()`.    \r\n\r\nAbout your issue : how to ensure that tests are effectively executed, I would take things in another way. Generally you want to ensure that unit tests execution covers a minimum level of the application source code (while you can go down at package or class level if makes sense).   \r\nAnd that is the coverage tools goal (Jacoco for example) to do that job. \r\nYou can even add rules to make the build fail if the level of coverage of classes belonging to some package are not covered at least at a specified minimum level ([look at that post][1]).   \r\n\r\n\r\n----------\r\n\r\n\r\nSmall Adding :   \r\nIf you really ensure that methods of test are correctly annotated, you have a way :    \r\n1) you have to choose a convention for test methods : for example all instance and not private methods in a test class are test methods.   \r\n2) Create a Sonar rule that retrieves all non private instance methods of test classes and ensure that all these methods are annotated with `@Test`.    \r\n3) Add that rule to your Sonar rules.    \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54055625/how-to-specify-the-specific-packages-for-the-jacoco-check","title":"Java and JUnit, find missing @Test decorators","body":"<blockquote>\n  <p>But in one case someone forgot to put an @Test decorator on top of the\n  test.</p>\n</blockquote>\n\n<p>And </p>\n\n<blockquote>\n  <p>I want to find code like this, it's a test without @Test:</p>\n  \n  <p><code>public void testExceptionInBla() {    // some test }</code></p>\n</blockquote>\n\n<p>Annotating the method with <code>@Test</code> or specifying a <code>test</code> prefix in the method name is about the same thing in terms of consequences if the developer forgets to do that.<br>\nIf the <code>@Test</code> is the way today, that is not chance.<br>\nThe <code>@Test</code> annotation brings two real advantages on the <code>test</code> prefix :   </p>\n\n<p>1) it is checked at compile test. For example <code>@Tast</code> will provoke a compilation error while <code>tastWhen...()</code> will not.     </p>\n\n<p>2) <code>@Test</code> makes the test method name more straight readable : it allows to focus on the scenario with a functional language. \n<code>should_throw_exception_if_blabla()</code> sounds more meaningful than <code>test_should_throw_exception_if_blabla()</code>.    </p>\n\n<p>About your issue : how to ensure that tests are effectively executed, I would take things in another way. Generally you want to ensure that unit tests execution covers a minimum level of the application source code (while you can go down at package or class level if makes sense).<br>\nAnd that is the coverage tools goal (Jacoco for example) to do that job. \nYou can even add rules to make the build fail if the level of coverage of classes belonging to some package are not covered at least at a specified minimum level (<a href=\"https://stackoverflow.com/questions/54055625/how-to-specify-the-specific-packages-for-the-jacoco-check\">look at that post</a>).   </p>\n\n<hr>\n\n<p>Small Adding :<br>\nIf you really ensure that methods of test are correctly annotated, you have a way :<br>\n1) you have to choose a convention for test methods : for example all instance and not private methods in a test class are test methods.<br>\n2) Create a Sonar rule that retrieves all non private instance methods of test classes and ensure that all these methods are annotated with <code>@Test</code>.<br>\n3) Add that rule to your Sonar rules.    </p>\n"}],"owner":{"account_id":8517850,"reputation":466,"user_id":6385742,"accept_rate":75,"display_name":"Veslav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60411687,"answer_count":2,"score":2,"last_activity_date":1693068516,"creation_date":1582712289,"question_id":60411587,"body_markdown":"Let&#39;s say we have a project full of unit tests (thousands) and they all should look like this\r\n\r\n```\r\n@Test\r\npublic void testExceptionInBla() {\r\n   // some test\r\n}\r\n```\r\n\r\nBut in one case someone forgot to put an @Test decorator on top of the test.\r\n\r\nWhat would be an easy way to spot those tests, without looking through all the code manually?\r\n\r\nI want to find code like this, it&#39;s a test without @Test:\r\n```\r\npublic void testExceptionInBla() {\r\n   // some test\r\n}\r\n```\r\n","title":"Java and JUnit, find missing @Test decorators","body":"<p>Let's say we have a project full of unit tests (thousands) and they all should look like this</p>\n\n<pre><code>@Test\npublic void testExceptionInBla() {\n   // some test\n}\n</code></pre>\n\n<p>But in one case someone forgot to put an @Test decorator on top of the test.</p>\n\n<p>What would be an easy way to spot those tests, without looking through all the code manually?</p>\n\n<p>I want to find code like this, it's a test without @Test:</p>\n\n<pre><code>public void testExceptionInBla() {\n   // some test\n}\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":5393069,"reputation":9570,"user_id":4295017,"display_name":"Dmitry Egorov"},"score":0,"creation_date":1484031678,"post_id":41562843,"comment_id":70330158,"body_markdown":"What if the text does not start with a tagged group: https://regex101.com/r/HBka56/10?","body":"What if the text does not start with a tagged group: <a href=\"https://regex101.com/r/HBka56/10\" rel=\"nofollow noreferrer\">regex101.com/r/HBka56/10</a>?"}],"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1484032208,"creation_date":1484031297,"answer_id":41562843,"question_id":41562705,"body_markdown":"You can use this regex to get both parts separately:\r\n\r\n    \\{(\\w+)\\}(.*?){/\\1}((?:(?!\\{\\w+\\}).)*)\r\n\r\n- Group #2 will give you text in between the tags.\r\n- Group #3 will give you text outside the tags.\r\n\r\n[RegEx Demo][1]\r\n\r\n---\r\n\r\nIf your input doesn&#39;t start with a tag then use:\r\n\r\n    ((?:(?!\\{\\w+\\}).)*)\\{(\\w+)\\}(.*?){/\\2}((?:(?!\\{\\w+\\}).)*)\r\n\r\n- Group #1 + Group #4 will give you text outside the tags.\r\n- Group #3 will give you text inside the tags.\r\n\r\n  [1]: https://regex101.com/r/HBka56/9\r\n","title":"Fetch datas between two tags","body":"<p>You can use this regex to get both parts separately:</p>\n\n<pre><code>\\{(\\w+)\\}(.*?){/\\1}((?:(?!\\{\\w+\\}).)*)\n</code></pre>\n\n<ul>\n<li>Group #2 will give you text in between the tags.</li>\n<li>Group #3 will give you text outside the tags.</li>\n</ul>\n\n<p><a href=\"https://regex101.com/r/HBka56/9\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n\n<hr>\n\n<p>If your input doesn't start with a tag then use:</p>\n\n<pre><code>((?:(?!\\{\\w+\\}).)*)\\{(\\w+)\\}(.*?){/\\2}((?:(?!\\{\\w+\\}).)*)\n</code></pre>\n\n<ul>\n<li>Group #1 + Group #4 will give you text outside the tags.</li>\n<li>Group #3 will give you text inside the tags.</li>\n</ul>\n"}],"owner":{"display_name":"user3600801"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41562843,"answer_count":1,"score":0,"last_activity_date":1693068421,"creation_date":1484030771,"question_id":41562705,"body_markdown":"I have got the following string\r\n\r\n       String s =  &quot;{s}lorem ipsum{/s}\r\n        explanation for lorem ipsum\r\n        {s}dolar sit amet{/s}\r\n        explanation for dolar sit amet&quot;;\r\n\r\n\r\nI would like to parse it in two ways. I want to fetch the texts thats within {s}{/s} tag and texts thats not enclosed by {s}{/s}.\r\n\r\n\r\nI tried the following code.\r\n\r\n\r\n     String firstRemovePattern        = &quot;\\\\{&quot;  + &quot;\\\\}&quot;;\r\n                String replacedWithFirstPattern  = s.replaceAll(firstRemovePattern, &quot;&quot;);\r\n\r\n\r\nbut the above code doesnt fetch the expected strings. How can i be able to sort this out?","title":"Fetch datas between two tags","body":"<p>I have got the following string</p>\n\n<pre><code>   String s =  \"{s}lorem ipsum{/s}\n    explanation for lorem ipsum\n    {s}dolar sit amet{/s}\n    explanation for dolar sit amet\";\n</code></pre>\n\n<p>I would like to parse it in two ways. I want to fetch the texts thats within {s}{/s} tag and texts thats not enclosed by {s}{/s}.</p>\n\n<p>I tried the following code.</p>\n\n<pre><code> String firstRemovePattern        = \"\\\\{\"  + \"\\\\}\";\n            String replacedWithFirstPattern  = s.replaceAll(firstRemovePattern, \"\");\n</code></pre>\n\n<p>but the above code doesnt fetch the expected strings. How can i be able to sort this out?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1462826828,"post_id":37094871,"comment_id":61791105,"body_markdown":"Are you sure you are doing a `cp` and not a `mv` when you backup the old catalina.out?","body":"Are you sure you are doing a <code>cp</code> and not a <code>mv</code> when you backup the old catalina.out?"},{"owner":{"account_id":17466472,"reputation":747,"user_id":12663117,"display_name":"Nate T"},"score":0,"creation_date":1632653374,"post_id":37094871,"comment_id":122546302,"body_markdown":"/dev/null is an eternal stream of null chars! type `cat /dev/null` and youll see what I mean. btw.. `ctrl  + c `  should stop the process. The best way","body":"/dev/null is an eternal stream of null chars! type <code>cat &#47;dev&#47;null</code> and youll see what I mean. btw.. <code>ctrl  + c </code>  should stop the process. The best way"},{"owner":{"account_id":17466472,"reputation":747,"user_id":12663117,"display_name":"Nate T"},"score":0,"creation_date":1632653808,"post_id":37094871,"comment_id":122546395,"body_markdown":"To anyone else who finds themselves in a similar situation, The best way to solve your issue is to do what I said above. This pulls the stream from your descriptor into stdout. from there the interrupt kills it. The old &quot;trap n&#39; kill&quot; XD","body":"To anyone else who finds themselves in a similar situation, The best way to solve your issue is to do what I said above. This pulls the stream from your descriptor into stdout. from there the interrupt kills it. The old &quot;trap n&#39; kill&quot; XD"}],"answers":[{"tags":[],"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462821866,"creation_date":1462821866,"answer_id":37123857,"question_id":37094871,"body_markdown":"What you are looking for is log rotation. Since this requires a low-level [signal support](http://www.gnu.org/software/libc/manual/html_node/Miscellaneous-Signals.html) while the process is running, you should do this indirectly. You can use [this procedure](https://confluence.atlassian.com/jirakb/how-to-rotate-the-catalina-log-file-224398003.html) to achieve this. This is also documented on [Tomcat Wiki](http://wiki.apache.org/tomcat/FAQ/Logging#Q10).","title":"How to clear catalina.out without disabling further logging?","body":"<p>What you are looking for is log rotation. Since this requires a low-level <a href=\"http://www.gnu.org/software/libc/manual/html_node/Miscellaneous-Signals.html\" rel=\"nofollow\">signal support</a> while the process is running, you should do this indirectly. You can use <a href=\"https://confluence.atlassian.com/jirakb/how-to-rotate-the-catalina-log-file-224398003.html\" rel=\"nofollow\">this procedure</a> to achieve this. This is also documented on <a href=\"http://wiki.apache.org/tomcat/FAQ/Logging#Q10\" rel=\"nofollow\">Tomcat Wiki</a>.</p>\n"},{"comments":[{"owner":{"account_id":4950292,"reputation":880,"user_id":3984468,"accept_rate":91,"display_name":"Jibby"},"score":1,"creation_date":1462825773,"post_id":37124354,"comment_id":61790542,"body_markdown":"Could you elaborate on the file descriptor not changing, including why cat /dev/null would change it but echo would not?","body":"Could you elaborate on the file descriptor not changing, including why cat /dev/null would change it but echo would not?"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":3,"creation_date":1462865819,"post_id":37124354,"comment_id":61803589,"body_markdown":"@Jibbyj, to be honest. I do not know. It does its job.","body":"@Jibbyj, to be honest. I do not know. It does its job."},{"owner":{"account_id":7321085,"reputation":549,"user_id":5577106,"accept_rate":32,"display_name":"karthi"},"score":0,"creation_date":1535086859,"post_id":37124354,"comment_id":90944662,"body_markdown":"About file descriptors: [https://stackoverflow.com/questions/5256599/what-are-file-descriptors-explained-in-simple-terms](https://stackoverflow.com/questions/5256599/what-are-file-descriptors-explained-in-simple-terms)","body":"About file descriptors: <a href=\"https://stackoverflow.com/questions/5256599/what-are-file-descriptors-explained-in-simple-terms\">https://stackoverflow.com/questions/5256599/what-are-file-de&zwnj;&#8203;scriptors-explained-&zwnj;&#8203;in-simple-terms</a>"},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1632669229,"post_id":37124354,"comment_id":122549799,"body_markdown":"@Michael-O echo with no string to echo will write nothing.  The `&gt;` redirect will take the &quot;nothing&quot; output and overwrite the file.  This isn&#39;t different than cat-ing `/dev/null`, which also provides a &quot;nothing&quot; to trigger `&gt;`&#39;s overwriting of the file.","body":"@Michael-O echo with no string to echo will write nothing.  The <code>&gt;</code> redirect will take the &quot;nothing&quot; output and overwrite the file.  This isn&#39;t different than cat-ing <code>&#47;dev&#47;null</code>, which also provides a &quot;nothing&quot; to trigger <code>&gt;</code>&#39;s overwriting of the file."}],"tags":[],"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"comment_count":4,"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1462823640,"creation_date":1462823640,"answer_id":37124354,"question_id":37094871,"body_markdown":"Easy as cake: `echo &gt; catalina.out`. The file descriptor won&#39;t change and `java` can continue to write to that file.","title":"How to clear catalina.out without disabling further logging?","body":"<p>Easy as cake: <code>echo &gt; catalina.out</code>. The file descriptor won't change and <code>java</code> can continue to write to that file.</p>\n"},{"comments":[{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1462824179,"post_id":37124389,"comment_id":61789810,"body_markdown":"Note you may need to modify the log file location, if your tomcat catalina.out file is at a different path. Likewise, you can read about logrotate and modify the other values to suit your liking.","body":"Note you may need to modify the log file location, if your tomcat catalina.out file is at a different path. Likewise, you can read about logrotate and modify the other values to suit your liking."},{"owner":{"account_id":4950292,"reputation":880,"user_id":3984468,"accept_rate":91,"display_name":"Jibby"},"score":0,"creation_date":1462825706,"post_id":37124389,"comment_id":61790519,"body_markdown":"I&#39;ve used the traditional way, but it definitely seems to disrupt the processes that currently hold open file handles...","body":"I&#39;ve used the traditional way, but it definitely seems to disrupt the processes that currently hold open file handles..."},{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":1,"creation_date":1490289757,"post_id":37124389,"comment_id":73057853,"body_markdown":"It would be very helpful for you to explain the contents of the logrotate file you&#39;re creating.  Also, creating a file called `tomcat` is only appropriate if that&#39;s the process name correct?  On Ubuntu 14 for tomcat 7 the process is actually `tomcat7`, for example.","body":"It would be very helpful for you to explain the contents of the logrotate file you&#39;re creating.  Also, creating a file called <code>tomcat</code> is only appropriate if that&#39;s the process name correct?  On Ubuntu 14 for tomcat 7 the process is actually <code>tomcat7</code>, for example."},{"owner":{"account_id":17466472,"reputation":747,"user_id":12663117,"display_name":"Nate T"},"score":0,"creation_date":1632652751,"post_id":37124389,"comment_id":122546162,"body_markdown":"The traditional way is to just archive / zip /change the name, e.g. `full_file.log`, to any of (full_file.log.1,  full_file.1, full_file.~,  full_file.log.09262021, etc.)and start a new one under the old name. Many times Ive needed super old log files to save the curent state of a machine.","body":"The traditional way is to just archive / zip /change the name, e.g. <code>full_file.log</code>, to any of (full_file.log.1,  full_file.1, full_file.~,  full_file.log.09262021, etc.)and start a new one under the old name. Many times Ive needed super old log files to save the curent state of a machine."},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1632669077,"post_id":37124389,"comment_id":122549766,"body_markdown":"How does changing the name prevent the open file handle from writing to the new name?  And how do you start a new log file under the old name without a program that&#39;s explicitly designed to create a new file (like one that does so after receiving a signal)?  Many offer facilities to do what you ask, but not all, and I think the shortness of comments has you leaving out a few steps.  Why not write up a full answer instead?","body":"How does changing the name prevent the open file handle from writing to the new name?  And how do you start a new log file under the old name without a program that&#39;s explicitly designed to create a new file (like one that does so after receiving a signal)?  Many offer facilities to do what you ask, but not all, and I think the shortness of comments has you leaving out a few steps.  Why not write up a full answer instead?"}],"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":5,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1462823825,"creation_date":1462823825,"answer_id":37124389,"question_id":37094871,"body_markdown":"The traditional way is to \r\n\r\n    cat /dev/null &gt; catalina.out\r\n\r\nIt will clear the log file, and will not disrupt the processes that currently hold open file handles.  \r\n\r\nThe better way is to not lose your logging information, by rotating out the log file.  To do this, create or edit the file `/etc/logrotate.d/tomcat` and have its contents read\r\n\r\n    /var/log/tomcat/catalina.out {   copytruncate   daily   rotate 7   compress   missingok   size 5M  }\r\n\r\nThen restart logrotate with the command (as root)\r\n\r\n    /usr/sbin/logrotate /etc/logrotate.conf\r\n\r\nAnd you should have the log file rotated out daily, or if the size exceeds 5M, with the last seven logs kept for debugging purposes.\r\n\r\n\r\n","title":"How to clear catalina.out without disabling further logging?","body":"<p>The traditional way is to </p>\n\n<pre><code>cat /dev/null &gt; catalina.out\n</code></pre>\n\n<p>It will clear the log file, and will not disrupt the processes that currently hold open file handles.  </p>\n\n<p>The better way is to not lose your logging information, by rotating out the log file.  To do this, create or edit the file <code>/etc/logrotate.d/tomcat</code> and have its contents read</p>\n\n<pre><code>/var/log/tomcat/catalina.out {   copytruncate   daily   rotate 7   compress   missingok   size 5M  }\n</code></pre>\n\n<p>Then restart logrotate with the command (as root)</p>\n\n<pre><code>/usr/sbin/logrotate /etc/logrotate.conf\n</code></pre>\n\n<p>And you should have the log file rotated out daily, or if the size exceeds 5M, with the last seven logs kept for debugging purposes.</p>\n"},{"comments":[{"owner":{"account_id":4950292,"reputation":880,"user_id":3984468,"accept_rate":91,"display_name":"Jibby"},"score":0,"creation_date":1462825849,"post_id":37124808,"comment_id":61790581,"body_markdown":"Could you please explain why truncating is better than cat /dev/null?","body":"Could you please explain why truncating is better than cat /dev/null?"},{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":2,"creation_date":1490289122,"post_id":37124808,"comment_id":73057426,"body_markdown":"@Jibbyj op asked how to truncate the file.  I think the question is why anyone would `echo /dev/null &gt; catalina.out` instead of using `truncate`.  The latter is both semantically and technically the correct way to do so.","body":"@Jibbyj op asked how to truncate the file.  I think the question is why anyone would <code>echo &#47;dev&#47;null &gt; catalina.out</code> instead of using <code>truncate</code>.  The latter is both semantically and technically the correct way to do so."},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1542894507,"post_id":37124808,"comment_id":93738475,"body_markdown":"damn! I was doing an `echo /dev/null` instead and was wondering why it didn&#39;t work","body":"damn! I was doing an <code>echo &#47;dev&#47;null</code> instead and was wondering why it didn&#39;t work"},{"owner":{"account_id":11415843,"reputation":71,"user_id":8874665,"display_name":"Kyo"},"score":1,"creation_date":1693040139,"post_id":37124808,"comment_id":135709603,"body_markdown":"Didn&#39;t we need to remove the `M` from the command? I am asking because there is junk file named `M` created. The command supposed to look like: `truncate -s 0 catalina.out`","body":"Didn&#39;t we need to remove the <code>M</code> from the command? I am asking because there is junk file named <code>M</code> created. The command supposed to look like: <code>truncate -s 0 catalina.out</code>"},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1693068389,"post_id":37124808,"comment_id":135712454,"body_markdown":"@Kyo you are right.  The `M` is suppose to be touching the `0`.  I updated my answer with the fix.  Thank you for pointing this out!","body":"@Kyo you are right.  The <code>M</code> is suppose to be touching the <code>0</code>.  I updated my answer with the fix.  Thank you for pointing this out!"}],"tags":[],"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"comment_count":5,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1693068330,"creation_date":1462825428,"answer_id":37124808,"question_id":37094871,"body_markdown":"You can truncate the file.  This makes logical sense also since it is essentially what you are trying to do.\r\n\r\n`truncate -s 0M catalina.out`\r\n\r\nFYI:  Doing a `cat /dev/null &gt; file` does not alter the inode of the file.\r\n\r\n    logs]$ls -i test.log\r\n    19794063 test.log\r\n    logs]$\r\n    logs]$cat /dev/null &gt; test.log\r\n    logs]$ls -i test.log\r\n    19794063 test.log\r\n\r\nAlso, I had a separate command tailing live data into `test.log` during these commands.  After running these commands the tail to `test.log` still worked without a problem.  This does not answer your question as to why it stopped working, but it helps rule out change in inode.\r\n","title":"How to clear catalina.out without disabling further logging?","body":"<p>You can truncate the file.  This makes logical sense also since it is essentially what you are trying to do.</p>\n<p><code>truncate -s 0M catalina.out</code></p>\n<p>FYI:  Doing a <code>cat /dev/null &gt; file</code> does not alter the inode of the file.</p>\n<pre><code>logs]$ls -i test.log\n19794063 test.log\nlogs]$\nlogs]$cat /dev/null &gt; test.log\nlogs]$ls -i test.log\n19794063 test.log\n</code></pre>\n<p>Also, I had a separate command tailing live data into <code>test.log</code> during these commands.  After running these commands the tail to <code>test.log</code> still worked without a problem.  This does not answer your question as to why it stopped working, but it helps rule out change in inode.</p>\n"},{"tags":[],"owner":{"account_id":18964567,"reputation":11,"user_id":13839308,"display_name":"vipul kashiv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593503685,"creation_date":1593503685,"answer_id":62652738,"question_id":37094871,"body_markdown":"go to the folder /opt/tomcat/logs/\r\ntype in command line --\r\n\r\nsudo echo &gt; catalina.out\r\n\r\nyou can run this without shutting down tomcat server . . \r\nyou can also schedule this command on daily or weekly basis . .   ","title":"How to clear catalina.out without disabling further logging?","body":"<p>go to the folder /opt/tomcat/logs/\ntype in command line --</p>\n<p>sudo echo &gt; catalina.out</p>\n<p>you can run this without shutting down tomcat server . .\nyou can also schedule this command on daily or weekly basis . .</p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651916332,"creation_date":1651916332,"answer_id":72151289,"question_id":37094871,"body_markdown":"If the `catalina.out` is deleted after `tomcat` is stopped, it will create a new `catalina.out` once `tomcat` starts again and it is totally safe. \r\n\r\nBut if you remove the `catalina.out` while `tomcat` is running, it will keep on logging to `catalina.out` which is removed already (reference of the file is hold by the `tomcat`) hence the space will not be released. So you will need to restart the `tomcat` sever to release the space. It is not recommended. \r\n\r\nActually you can clear the log of `catalina.out` file without stopping tomcat with the command below.\r\n\r\n    sudo cat /dev/null &gt; /opt/tomcat/apache-tomcat-9.0.37/logs/catalina.out  \r\n\r\nTo keep `catalina.out` smaller, either one of the following ways can be used:\r\n\r\n 1. You could use the above `Linux` command and add it to a `CronScheduler`\r\n    to run daily/ weekly/ monthly or yearly as preferred.\r\n\r\n \r\n\r\n 1. Use `logrotate` tool in `Linux`. It is a log managing command-line tool\r\n    in Linux. This can rotate the log files under different conditions.\r\n    Particularly, **we can rotate log files on a fixed duration or if the\r\n    file has grown to a certain size.** You can click [here][1] for more\r\n    info on this. \r\n\r\n  [1]: https://www.baeldung.com/linux/rotating-logs-logrotate#:~:text=logrotate%20is%20a%20log%20managing,manage%20the%20matching%20log%20files","title":"How to clear catalina.out without disabling further logging?","body":"<p>If the <code>catalina.out</code> is deleted after <code>tomcat</code> is stopped, it will create a new <code>catalina.out</code> once <code>tomcat</code> starts again and it is totally safe.</p>\n<p>But if you remove the <code>catalina.out</code> while <code>tomcat</code> is running, it will keep on logging to <code>catalina.out</code> which is removed already (reference of the file is hold by the <code>tomcat</code>) hence the space will not be released. So you will need to restart the <code>tomcat</code> sever to release the space. It is not recommended.</p>\n<p>Actually you can clear the log of <code>catalina.out</code> file without stopping tomcat with the command below.</p>\n<pre><code>sudo cat /dev/null &gt; /opt/tomcat/apache-tomcat-9.0.37/logs/catalina.out  \n</code></pre>\n<p>To keep <code>catalina.out</code> smaller, either one of the following ways can be used:</p>\n<ol>\n<li><p>You could use the above <code>Linux</code> command and add it to a <code>CronScheduler</code>\nto run daily/ weekly/ monthly or yearly as preferred.</p>\n</li>\n<li><p>Use <code>logrotate</code> tool in <code>Linux</code>. It is a log managing command-line tool\nin Linux. This can rotate the log files under different conditions.\nParticularly, <strong>we can rotate log files on a fixed duration or if the\nfile has grown to a certain size.</strong> You can click <a href=\"https://www.baeldung.com/linux/rotating-logs-logrotate#:%7E:text=logrotate%20is%20a%20log%20managing,manage%20the%20matching%20log%20files\" rel=\"nofollow noreferrer\">here</a> for more\ninfo on this.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7305801,"reputation":56,"user_id":5566760,"display_name":"Parveen Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652454836,"creation_date":1652454836,"answer_id":72231839,"question_id":37094871,"body_markdown":"Simple and straight forward solution:\r\n\r\necho &quot;&quot; &gt; catalina.out\r\n\r\nNote: Add sudo if required ","title":"How to clear catalina.out without disabling further logging?","body":"<p>Simple and straight forward solution:</p>\n<p>echo &quot;&quot; &gt; catalina.out</p>\n<p>Note: Add sudo if required</p>\n"}],"owner":{"account_id":4950292,"reputation":880,"user_id":3984468,"accept_rate":91,"display_name":"Jibby"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64814,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":37124354,"answer_count":7,"score":29,"last_activity_date":1693068330,"creation_date":1462665608,"question_id":37094871,"body_markdown":"Every once in a while our catalina.out file gets very very large (yes, I will be implementing slf4j and logback in my applications to prevent this in the future). But for now, when I go to cycle the logs, I copy catalina.out to catalina.{date} and execute `cat /dev/null &gt; catalina.out`. The problem is, tomcat will capture no further logs after I do that, until tomcat is restarted the next morning, and this is not ideal. Why does this happen? And is there a way to avoid it?","title":"How to clear catalina.out without disabling further logging?","body":"<p>Every once in a while our catalina.out file gets very very large (yes, I will be implementing slf4j and logback in my applications to prevent this in the future). But for now, when I go to cycle the logs, I copy catalina.out to catalina.{date} and execute <code>cat /dev/null &gt; catalina.out</code>. The problem is, tomcat will capture no further logs after I do that, until tomcat is restarted the next morning, and this is not ideal. Why does this happen? And is there a way to avoid it?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":0,"creation_date":1481775230,"post_id":41156304,"comment_id":69514283,"body_markdown":"What is the expected output?","body":"What is the expected output?"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1481775232,"post_id":41156304,"comment_id":69514286,"body_markdown":"It is not clear which data you need to extract, but since your data is CSV at least at the top level, I might be for first splitting by comma.  If you expect nested data, then regex may not be the right tool here, you should use a parse instead.","body":"It is not clear which data you need to extract, but since your data is CSV at least at the top level, I might be for first splitting by comma.  If you expect nested data, then regex may not be the right tool here, you should use a parse instead."},{"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"score":0,"creation_date":1481775339,"post_id":41156304,"comment_id":69514308,"body_markdown":"@Thrasher I have edited the question. Please have a look again","body":"@Thrasher I have edited the question. Please have a look again"},{"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"score":0,"creation_date":1481775381,"post_id":41156304,"comment_id":69514317,"body_markdown":"@TimBiegeleisen splitting would incur lot of string processing. After splitting for commas, I need to split the brackets of different types and so on. A pattern matching solution would be better.","body":"@TimBiegeleisen splitting would incur lot of string processing. After splitting for commas, I need to split the brackets of different types and so on. A pattern matching solution would be better."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1481775447,"post_id":41156304,"comment_id":69514337,"body_markdown":"@mayooran You should probably be using a parser here because the brackets are nested.  And regex _also_ requires a lot of string processing, don&#39;t think that just because it fits in a single line that it does not require processing.","body":"@mayooran You should probably be using a parser here because the brackets are nested.  And regex <i>also</i> requires a lot of string processing, don&#39;t think that just because it fits in a single line that it does not require processing."},{"owner":{"account_id":4564789,"reputation":6023,"user_id":3706088,"accept_rate":60,"display_name":"Nishanth Matha"},"score":1,"creation_date":1481775465,"post_id":41156304,"comment_id":69514344,"body_markdown":"all your doing is stripping `{,(,),}` you dont need a regex for it","body":"all your doing is stripping <code>{,(,),}</code> you dont need a regex for it"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1481775550,"post_id":41156304,"comment_id":69514365,"body_markdown":"@may the &quot;string processing overhead&quot; would be measured in microseconds. It&#39;s not a big deal.","body":"@may the &quot;string processing overhead&quot; would be measured in microseconds. It&#39;s not a big deal."},{"owner":{"account_id":7412110,"reputation":237,"user_id":5639169,"accept_rate":50,"display_name":"recurf"},"score":0,"creation_date":1481776411,"post_id":41156304,"comment_id":69514571,"body_markdown":"Possible duplicate of [Java - Comma-separated records into String Array?](http://stackoverflow.com/questions/13312120/java-comma-separated-records-into-string-array)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/13312120/java-comma-separated-records-into-string-array\">Java - Comma-separated records into String Array?</a>"},{"owner":{"account_id":1196398,"reputation":6672,"user_id":1168041,"accept_rate":72,"display_name":"leeyuiwah"},"score":0,"creation_date":1482274512,"post_id":41156304,"comment_id":69705690,"body_markdown":"@mayooran -- Do you need the field values for further processing? If so, please see my answer below.","body":"@mayooran -- Do you need the field values for further processing? If so, please see my answer below."},{"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"score":1,"creation_date":1482289244,"post_id":41156304,"comment_id":69709435,"body_markdown":"@leeyuiwah thanks mate! I will try it during this weekend and let you know :)","body":"@leeyuiwah thanks mate! I will try it during this weekend and let you know :)"}],"answers":[{"comments":[{"owner":{"account_id":8463731,"reputation":38767,"user_id":6348498,"accept_rate":92,"display_name":"Gurwinder Singh"},"score":0,"creation_date":1481775545,"post_id":41156344,"comment_id":69514364,"body_markdown":"In expected output, OP has given `and` instead of comma. I don&#39;t know how that works.","body":"In expected output, OP has given <code>and</code> instead of comma. I don&#39;t know how that works."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1481775606,"post_id":41156344,"comment_id":69514377,"body_markdown":"@gur I think OP was just using English, not actual output.","body":"@gur I think OP was just using English, not actual output."},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":0,"creation_date":1481784675,"post_id":41156344,"comment_id":69517362,"body_markdown":"when comes to regex, master Bohemian always be the number one :)","body":"when comes to regex, master Bohemian always be the number one :)"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1481775480,"creation_date":1481775480,"answer_id":41156344,"question_id":41156304,"body_markdown":"Try this:\r\n\r\n    String[] parts = str.replaceAll(&quot;}|\\\\{&quot;, &quot;&quot;).split(&quot;,&quot;);\r\n","title":"How to extract the below pattern from a string?","body":"<p>Try this:</p>\n\n<pre><code>String[] parts = str.replaceAll(\"}|\\\\{\", \"\").split(\",\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481775740,"creation_date":1481775740,"answer_id":41156382,"question_id":41156304,"body_markdown":"Are you forced to use a pattern?  If not, feel free to use this.\r\n\r\n    private static List&lt;String&gt; flattenPigBag(String s) {\r\n\t\treturn Arrays.asList(s.replaceAll(&quot;[(){}]&quot;, &quot;&quot;).split(&quot;,&quot;));\r\n\t}\r\n\r\nOutput:\r\n\r\n    [firstName1, lastName1, College1, 24, 25, Street, 23, City1, Country1]","title":"How to extract the below pattern from a string?","body":"<p>Are you forced to use a pattern?  If not, feel free to use this.</p>\n\n<pre><code>private static List&lt;String&gt; flattenPigBag(String s) {\n    return Arrays.asList(s.replaceAll(\"[(){}]\", \"\").split(\",\"));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[firstName1, lastName1, College1, 24, 25, Street, 23, City1, Country1]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1481777587,"post_id":41156557,"comment_id":69514843,"body_markdown":"That regex, my eyes!","body":"That regex, my eyes!"},{"owner":{"account_id":1196398,"reputation":6672,"user_id":1168041,"accept_rate":72,"display_name":"leeyuiwah"},"score":0,"creation_date":1482274426,"post_id":41156557,"comment_id":69705666,"body_markdown":"Thanks for pointing that out.  I updated my regex to use named-capture group to make the code easier to read and maintain.","body":"Thanks for pointing that out.  I updated my regex to use named-capture group to make the code easier to read and maintain."}],"tags":[],"owner":{"account_id":1196398,"reputation":6672,"user_id":1168041,"accept_rate":72,"display_name":"leeyuiwah"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482274384,"creation_date":1481776899,"answer_id":41156557,"question_id":41156304,"body_markdown":"I assume you need to extract the individual fields for further processing.  So here is what I would do.  In my test program I just print out the fields, but I imagine in your program you may take those field values and use them somehow (e.g. apply them to some setters of a Java object)\r\n\r\n\timport java.util.regex.Matcher;\r\n\timport java.util.regex.Pattern;\r\n\t\r\n\tpublic class RegexMatchingWithNamedCaptureGroup {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString regex = &quot;\\\\{(\\\\(&quot;\r\n\t\t\t\t\t+ &quot;(?&lt;firstName&gt;[^,]*)&quot;\r\n\t\t\t\t\t+ &quot;,(?&lt;lastName&gt;[^,]*)&quot;\r\n\t\t\t\t\t+ &quot;,(?&lt;college&gt;[^,]*)&quot;\r\n\t\t\t\t\t+ &quot;,\\\\{\\\\(&quot;\r\n\t\t\t\t\t+ &quot;(?&lt;num1&gt;\\\\d*)&quot;\r\n\t\t\t\t\t+ &quot;,(?&lt;num2&gt;\\\\d*)\\\\)\\\\}&quot;\r\n\t\t\t\t\t+ &quot;,\\\\{\\\\((?&lt;street&gt;[^,]*)&quot;\r\n\t\t\t\t\t+ &quot;,(?&lt;streetNum&gt;\\\\d*)\\\\)\\\\}&quot;\r\n\t\t\t\t\t+ &quot;,(?&lt;city&gt;[^,]*)&quot;\r\n\t\t\t\t\t+ &quot;,(?&lt;country&gt;[^,]*)&quot;\r\n\t\t\t\t\t+ &quot;\\\\))\\\\}&quot;;\r\n\t\t\tString input\r\n\t\t\t= &quot;{(firstName1,lastName1,College1,{(24,25)},{(Street,23)},City1,Country1)}&quot;;\r\n\t\t\tPattern p = Pattern.compile(regex);\r\n\t\t\tMatcher m = p.matcher(input);\r\n\t\t\tif (m.find()) {\r\n\t\t\t\tString firstName \t= m.group(&quot;firstName&quot;);\r\n\t\t\t\tString lastName \t= m.group(&quot;lastName&quot;);\r\n\t\t\t\tString college\t\t= m.group(&quot;college&quot;);\r\n\t\t\t\tString num1\t\t\t= m.group(&quot;num1&quot;);\r\n\t\t\t\tString num2\t\t\t= m.group(&quot;num2&quot;);\r\n\t\t\t\tString street\t\t= m.group(&quot;street&quot;);\r\n\t\t\t\tString streetNum\t= m.group(&quot;streetNum&quot;);\r\n\t\t\t\tString city\t\t\t= m.group(&quot;city&quot;);\r\n\t\t\t\tString country\t\t= m.group(&quot;country&quot;);\r\n\t\t\t\tSystem.out.println(firstName\r\n\t\t\t\t\t\t\t\t\t+ &quot;,&quot; + lastName\r\n\t\t\t\t\t\t\t\t\t+ &quot;,&quot; + college\r\n\t\t\t\t\t\t\t\t\t+ &quot;,&quot; + num1\r\n\t\t\t\t\t\t\t\t\t+ &quot;,&quot; + num2\r\n\t\t\t\t\t\t\t\t\t+ &quot;,&quot; + street\r\n\t\t\t\t\t\t\t\t\t+ &quot;,&quot; + streetNum\r\n\t\t\t\t\t\t\t\t\t+ &quot;,&quot; + city\r\n\t\t\t\t\t\t\t\t\t+ &quot;,&quot; + country\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.err.println(&quot;Does not match!&quot;);\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nThe output of this program is this:\r\n\r\n    firstName1,lastName1,College1,24,25,Street,23,City1,Country1\r\n","title":"How to extract the below pattern from a string?","body":"<p>I assume you need to extract the individual fields for further processing.  So here is what I would do.  In my test program I just print out the fields, but I imagine in your program you may take those field values and use them somehow (e.g. apply them to some setters of a Java object)</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class RegexMatchingWithNamedCaptureGroup {\n\n    public static void main(String[] args) {\n        String regex = \"\\\\{(\\\\(\"\n                + \"(?&lt;firstName&gt;[^,]*)\"\n                + \",(?&lt;lastName&gt;[^,]*)\"\n                + \",(?&lt;college&gt;[^,]*)\"\n                + \",\\\\{\\\\(\"\n                + \"(?&lt;num1&gt;\\\\d*)\"\n                + \",(?&lt;num2&gt;\\\\d*)\\\\)\\\\}\"\n                + \",\\\\{\\\\((?&lt;street&gt;[^,]*)\"\n                + \",(?&lt;streetNum&gt;\\\\d*)\\\\)\\\\}\"\n                + \",(?&lt;city&gt;[^,]*)\"\n                + \",(?&lt;country&gt;[^,]*)\"\n                + \"\\\\))\\\\}\";\n        String input\n        = \"{(firstName1,lastName1,College1,{(24,25)},{(Street,23)},City1,Country1)}\";\n        Pattern p = Pattern.compile(regex);\n        Matcher m = p.matcher(input);\n        if (m.find()) {\n            String firstName    = m.group(\"firstName\");\n            String lastName     = m.group(\"lastName\");\n            String college      = m.group(\"college\");\n            String num1         = m.group(\"num1\");\n            String num2         = m.group(\"num2\");\n            String street       = m.group(\"street\");\n            String streetNum    = m.group(\"streetNum\");\n            String city         = m.group(\"city\");\n            String country      = m.group(\"country\");\n            System.out.println(firstName\n                                + \",\" + lastName\n                                + \",\" + college\n                                + \",\" + num1\n                                + \",\" + num2\n                                + \",\" + street\n                                + \",\" + streetNum\n                                + \",\" + city\n                                + \",\" + country\n                                );\n        } else {\n            System.err.println(\"Does not match!\");\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>The output of this program is this:</p>\n\n<pre><code>firstName1,lastName1,College1,24,25,Street,23,City1,Country1\n</code></pre>\n"}],"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41156344,"answer_count":3,"score":3,"last_activity_date":1693067888,"creation_date":1481775103,"question_id":41156304,"body_markdown":"I have a string which looks like below.\r\n\r\n    {(firstName1,lastName1,College1,{(24,25)},{(Street,23)},City1,Country1)}\r\n\r\nI need to extract the details/values from the above and add them to a list. By details I mean:\r\n\r\n     [&quot;firstName1&quot;,&quot;lastName1&quot;,&quot;College1&quot;,&quot;24&quot;,&quot;25&quot;,&quot;Street&quot;,&quot;23&quot;,&quot;City1&quot;, &quot;country1&quot;]\r\n\r\nHow can I achieve the above? I tried the below method but not sure how to get all curly braces and brackets into the pattern.\r\n\r\n    private static String flattenPigBag(String pigdata) {\r\n        String s = &quot;&quot;;\r\n        Pattern p = Pattern.compile(&quot;\\\\{(.*)}&quot;);\r\n        Matcher m = p.matcher(pigdata);\r\n        while (m.find()) {\r\n            s = m.group(1);\r\n            System.out.println(&quot;answer : &quot; + s);\r\n        }\r\n        return s;\r\n    }\r\n\r\n","title":"How to extract the below pattern from a string?","body":"<p>I have a string which looks like below.</p>\n\n<pre><code>{(firstName1,lastName1,College1,{(24,25)},{(Street,23)},City1,Country1)}\n</code></pre>\n\n<p>I need to extract the details/values from the above and add them to a list. By details I mean:</p>\n\n<pre><code> [\"firstName1\",\"lastName1\",\"College1\",\"24\",\"25\",\"Street\",\"23\",\"City1\", \"country1\"]\n</code></pre>\n\n<p>How can I achieve the above? I tried the below method but not sure how to get all curly braces and brackets into the pattern.</p>\n\n<pre><code>private static String flattenPigBag(String pigdata) {\n    String s = \"\";\n    Pattern p = Pattern.compile(\"\\\\{(.*)}\");\n    Matcher m = p.matcher(pigdata);\n    while (m.find()) {\n        s = m.group(1);\n        System.out.println(\"answer : \" + s);\n    }\n    return s;\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5860066,"reputation":13485,"user_id":4616087,"display_name":"Marvin"},"score":1,"creation_date":1481663187,"post_id":41130496,"comment_id":69465198,"body_markdown":"Get rid of the `/`.","body":"Get rid of the <code>&#47;</code>."},{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":0,"creation_date":1481663207,"post_id":41130496,"comment_id":69465214,"body_markdown":"Omit the javascript regex delimiters you&#39;re using, i.e. `Pattern.compile(&quot;^.*([A-Z])&quot;);`","body":"Omit the javascript regex delimiters you&#39;re using, i.e. <code>Pattern.compile(&quot;^.*([A-Z])&quot;);</code>"},{"owner":{"account_id":7134580,"reputation":381,"user_id":5454709,"accept_rate":80,"display_name":"Chad Estes"},"score":0,"creation_date":1481664088,"post_id":41130496,"comment_id":69465666,"body_markdown":"Java, javascript, same thing no? ;-P  Thanks so much for picking out what I was doing wrong.  I&#39;ve been banging my head on it for what seems like hours.","body":"Java, javascript, same thing no? ;-P  Thanks so much for picking out what I was doing wrong.  I&#39;ve been banging my head on it for what seems like hours."}],"answers":[{"comments":[{"owner":{"account_id":7134580,"reputation":381,"user_id":5454709,"accept_rate":80,"display_name":"Chad Estes"},"score":0,"creation_date":1481664146,"post_id":41130560,"comment_id":69465693,"body_markdown":"Indeed it does!","body":"Indeed it does!"},{"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"score":0,"creation_date":1481664228,"post_id":41130560,"comment_id":69465739,"body_markdown":"@Chad If you face issue with regex you can try out http://regexr.com/. It is very useful.","body":"@Chad If you face issue with regex you can try out <a href=\"http://regexr.com/\" rel=\"nofollow noreferrer\">regexr.com</a>. It is very useful."}],"tags":[],"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1481663238,"creation_date":1481663238,"answer_id":41130560,"question_id":41130496,"body_markdown":"Just remove `/` from regex it will work.\r\n\r\nSo your final regex will be `^.*([A-Z])` and `Pattern` object will be created as follows:\r\n\r\n    Pattern p2 = Pattern.compile(&quot;^.*([A-Z])&quot;);\r\n\r\nThis will give you the desired result.","title":"Issue with regex pattern/matcher","body":"<p>Just remove <code>/</code> from regex it will work.</p>\n\n<p>So your final regex will be <code>^.*([A-Z])</code> and <code>Pattern</code> object will be created as follows:</p>\n\n<pre><code>Pattern p2 = Pattern.compile(\"^.*([A-Z])\");\n</code></pre>\n\n<p>This will give you the desired result.</p>\n"},{"tags":[],"owner":{"account_id":5860066,"reputation":13485,"user_id":4616087,"display_name":"Marvin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481664203,"creation_date":1481664203,"answer_id":41130785,"question_id":41130496,"body_markdown":"The `/` are Javascript regex delimiters, you don&#39;t use them in Java. You probably used a Javascript regex tester.\r\n\r\n[See this example:][1]\r\n\r\n    public static void main(String[] args) {\r\n\t\tString s2 = &quot;K000&quot;;\r\n\t\tString a2 = &quot;&quot;;\r\n\t\tString n2 = &quot;&quot;;\r\n \r\n\t\tPattern p2 = Pattern.compile(&quot;^.*([A-Z])&quot;);\r\n\t\tMatcher m2 = p2.matcher(s2);\r\n\t\tif (m2.find()) {\r\n\t\t\tint pos2 = m2.end();\r\n\t\t\ta2 = s2.substring(0, pos2);\r\n\t\t\tn2 = s2.substring(pos2);\r\n\t\t}\r\n \r\n\t\tSystem.out.println(a2); // K\r\n\t\tSystem.out.println(n2); // 000\r\n\t}\r\n\r\nNote that you could also use another pattern, which seems a bit more straightforward (and lets the matcher do the work for you).\r\n\r\n[See this example:][2]\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString s2 = &quot;K000&quot;;\r\n\t\tString a2 = &quot;&quot;;\r\n\t\tString n2 = &quot;&quot;;\r\n \r\n\t\tPattern p2 = Pattern.compile(&quot;([A-Z]+)(.+)&quot;);\r\n\t\tMatcher m2 = p2.matcher(s2);\r\n\t\tif (m2.matches()) {\r\n\t\t\ta2 = m2.group(1);\r\n\t\t\tn2 = m2.group(2);\r\n\t\t}\r\n \r\n\t\tSystem.out.println(a2); // K\r\n\t\tSystem.out.println(n2); // 000\r\n\t}\r\n\r\n(replace `+` by `*` if you don&#39;t want to require at least one character)\r\n\r\n  [1]: http://ideone.com/cfNK5l\r\n  [2]: http://ideone.com/FGSBok","title":"Issue with regex pattern/matcher","body":"<p>The <code>/</code> are Javascript regex delimiters, you don't use them in Java. You probably used a Javascript regex tester.</p>\n\n<p><a href=\"http://ideone.com/cfNK5l\" rel=\"nofollow noreferrer\">See this example:</a></p>\n\n<pre><code>public static void main(String[] args) {\n    String s2 = \"K000\";\n    String a2 = \"\";\n    String n2 = \"\";\n\n    Pattern p2 = Pattern.compile(\"^.*([A-Z])\");\n    Matcher m2 = p2.matcher(s2);\n    if (m2.find()) {\n        int pos2 = m2.end();\n        a2 = s2.substring(0, pos2);\n        n2 = s2.substring(pos2);\n    }\n\n    System.out.println(a2); // K\n    System.out.println(n2); // 000\n}\n</code></pre>\n\n<p>Note that you could also use another pattern, which seems a bit more straightforward (and lets the matcher do the work for you).</p>\n\n<p><a href=\"http://ideone.com/FGSBok\" rel=\"nofollow noreferrer\">See this example:</a></p>\n\n<pre><code>public static void main(String[] args) {\n    String s2 = \"K000\";\n    String a2 = \"\";\n    String n2 = \"\";\n\n    Pattern p2 = Pattern.compile(\"([A-Z]+)(.+)\");\n    Matcher m2 = p2.matcher(s2);\n    if (m2.matches()) {\n        a2 = m2.group(1);\n        n2 = m2.group(2);\n    }\n\n    System.out.println(a2); // K\n    System.out.println(n2); // 000\n}\n</code></pre>\n\n<p>(replace <code>+</code> by <code>*</code> if you don't want to require at least one character)</p>\n"}],"owner":{"account_id":7134580,"reputation":381,"user_id":5454709,"accept_rate":80,"display_name":"Chad Estes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":41130560,"answer_count":2,"score":-1,"last_activity_date":1693067883,"creation_date":1481662978,"question_id":41130496,"body_markdown":"    String s2 = &quot;K000&quot;;\r\n    Pattern p2 = Pattern.compile(&quot;/^.*([A-Z])/&quot;);\r\n    Matcher m2 = p2.matcher(s2);\r\n    \r\n    if (m2.find()) {\t\r\n    \tint pos2 = m2.end();\r\n    \ta2 = s2.substring(0,pos2);\r\n    \tn2 = s2.substring(pos2);\r\n    }\r\n\r\nI would expect a2 to be assigned the value &quot;K&quot; and n2 to be assigned the value &quot;000&quot;, but m2.find() never evaluates to true so the conditional statements are never processed.  I double checked my regex pattern on an online regex tester and for this string and this pattern it returns K as a match.  Any idea what I&#39;m doing wrong here?  \r\n\r\nUltimately, what I need to happen is to be able to assign from the beginning s2 all the way to the last capitol alpha found to a2 and any lowercase, numerics, special characters that occur after the last capitol alpha to n2.  \r\n\r\nAny help would be much appreciated.","title":"Issue with regex pattern/matcher","body":"<pre><code>String s2 = \"K000\";\nPattern p2 = Pattern.compile(\"/^.*([A-Z])/\");\nMatcher m2 = p2.matcher(s2);\n\nif (m2.find()) {    \n    int pos2 = m2.end();\n    a2 = s2.substring(0,pos2);\n    n2 = s2.substring(pos2);\n}\n</code></pre>\n\n<p>I would expect a2 to be assigned the value \"K\" and n2 to be assigned the value \"000\", but m2.find() never evaluates to true so the conditional statements are never processed.  I double checked my regex pattern on an online regex tester and for this string and this pattern it returns K as a match.  Any idea what I'm doing wrong here?  </p>\n\n<p>Ultimately, what I need to happen is to be able to assign from the beginning s2 all the way to the last capitol alpha found to a2 and any lowercase, numerics, special characters that occur after the last capitol alpha to n2.  </p>\n\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","regex","capture-group"],"comments":[{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":0,"creation_date":1481588942,"post_id":41111844,"comment_id":69428185,"body_markdown":"maybe an obvious answer, but you do realize you can use `groupCount()` to determine the number of groups?","body":"maybe an obvious answer, but you do realize you can use <code>groupCount()</code> to determine the number of groups?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1481589303,"post_id":41111844,"comment_id":69428280,"body_markdown":"Not really related but `StringBuilder` is used precisely to avoid string concatenation (which creates additional `StringBuilder`s for each concatenation expression). So instead of `regex.append(TAG + &quot;|&quot;);` use `regex.append(TAG).append(&quot;|&quot;);`.","body":"Not really related but <code>StringBuilder</code> is used precisely to avoid string concatenation (which creates additional <code>StringBuilder</code>s for each concatenation expression). So instead of <code>regex.append(TAG + &quot;|&quot;);</code> use <code>regex.append(TAG).append(&quot;|&quot;);</code>."},{"owner":{"account_id":7995334,"reputation":568,"user_id":6031844,"accept_rate":80,"display_name":"AndroidX"},"score":0,"creation_date":1481589772,"post_id":41111844,"comment_id":69428399,"body_markdown":"@PatrickParker the number of groups is not enough, I need to know _which_ groups to count.","body":"@PatrickParker the number of groups is not enough, I need to know <i>which</i> groups to count."},{"owner":{"account_id":7995334,"reputation":568,"user_id":6031844,"accept_rate":80,"display_name":"AndroidX"},"score":0,"creation_date":1481589897,"post_id":41111844,"comment_id":69428431,"body_markdown":"@Pshemo thanks, good to know ;)","body":"@Pshemo thanks, good to know ;)"}],"answers":[{"comments":[{"owner":{"account_id":88542,"reputation":7203,"user_id":244811,"display_name":"Scott Weaver"},"score":0,"creation_date":1481595580,"post_id":41111921,"comment_id":69429920,"body_markdown":"since it&#39;s not really a &quot;pattern&quot; but more a simply equality test, I don&#39;t know that regex is even needed here.","body":"since it&#39;s not really a &quot;pattern&quot; but more a simply equality test, I don&#39;t know that regex is even needed here."},{"owner":{"account_id":7995334,"reputation":568,"user_id":6031844,"accept_rate":80,"display_name":"AndroidX"},"score":0,"creation_date":1481595943,"post_id":41111921,"comment_id":69430009,"body_markdown":"I use patterns... the code above is just meant to be a simple example.","body":"I use patterns... the code above is just meant to be a simple example."}],"tags":[],"owner":{"account_id":88542,"reputation":7203,"user_id":244811,"display_name":"Scott Weaver"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1481589073,"creation_date":1481589073,"answer_id":41111921,"question_id":41111844,"body_markdown":"construct the regex to used [named groups][1]:\r\n\r\n    (?&lt;tag&gt;wordA)|(?&lt;wordx&gt;wordX)|(?&lt;anotherword&gt;anotherword)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/415635/244811","title":"Java regex - Determine which capture group was matched and count occurences","body":"<p>construct the regex to used <a href=\"https://stackoverflow.com/a/415635/244811\">named groups</a>:</p>\n\n<pre><code>(?&lt;tag&gt;wordA)|(?&lt;wordx&gt;wordX)|(?&lt;anotherword&gt;anotherword)\n</code></pre>\n"}],"owner":{"account_id":7995334,"reputation":568,"user_id":6031844,"accept_rate":80,"display_name":"AndroidX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1242,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":41111921,"answer_count":1,"score":-1,"last_activity_date":1693067879,"creation_date":1481588535,"question_id":41111844,"body_markdown":"Suppose that I want to build a very large regex with capture groups on run-time based on user&#39;s decisions.\r\n\r\nSimple example:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Test {    \r\n    \tstatic boolean findTag, findWordA, findOtherWord, findWordX;\r\n    \t\r\n    \tstatic final String TAG = &quot;(&lt;[^&gt;]+&gt;)&quot;;\r\n    \tstatic final String WORD_A = &quot;(wordA)&quot;;\r\n    \tstatic final String OTHER_WORD = &quot;(anotherword)&quot;;\r\n    \tstatic final String WORD_X = &quot;(wordX)&quot;;\r\n    \t\r\n    \tstatic int tagCount = 0;\r\n    \tstatic int wordACount = 0;\r\n    \tstatic int otherWordCount = 0;\r\n    \tstatic int wordXCount = 0;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Boolean options that will be supplied by the user\r\n    \t\t// make them all true in this example\r\n    \t\tfindTag = true;\r\n    \t\tfindWordA = true;\r\n    \t\tfindOtherWord = true;\r\n    \t\tfindWordX = true;\r\n    \t\t\r\n    \t\tString input = &quot;&lt;b&gt;this is an &lt;i&gt;input&lt;/i&gt; string that contains wordX, wordX, anotherword and wordA&lt;/b&gt;&quot;;\r\n    \t\t\r\n    \t\tStringBuilder regex = new StringBuilder();\r\n    \t\t\r\n    \t\tif (findTag)\r\n    \t\t\tregex.append(TAG + &quot;|&quot;);\r\n    \t\t\r\n    \t\tif (findWordA)\r\n    \t\t\tregex.append(WORD_A + &quot;|&quot;);\r\n    \t\t\r\n    \t\tif (findOtherWord)\r\n    \t\t\tregex.append(OTHER_WORD + &quot;|&quot;);\r\n    \t\t\r\n    \t\tif (findWordX)\r\n    \t\t\tregex.append(WORD_X + &quot;|&quot;);\r\n    \t\t\r\n    \t\tif (regex.length() &gt; 0) {\r\n    \t\t\tregex.setLength(regex.length() - 1);\r\n    \t\t\tPattern pattern = Pattern.compile(regex.toString());\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;\\nWHOLE REGEX: &quot; + regex.toString());\r\n    \t\t\tSystem.out.println(&quot;\\nINPUT STRING: &quot; + input);\r\n    \t\t\t\r\n    \t\t\tMatcher matcher = pattern.matcher(input);\r\n    \t\t\t\r\n    \t\t\twhile (matcher.find()) {\r\n    \t\t\t\t// only way I know of to find out which group was matched:\r\n    \t\t\t\tif (matcher.group(1) != null) tagCount++;\r\n    \t\t\t\tif (matcher.group(2) != null) wordACount++;\r\n    \t\t\t\tif (matcher.group(3) != null) otherWordCount++;\r\n    \t\t\t\tif (matcher.group(4) != null) wordXCount++;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println();\r\n    \t\t\tSystem.out.println(&quot;Group1 matches: &quot; + tagCount);\r\n    \t\t\tSystem.out.println(&quot;Group2 matches: &quot; + wordACount);\r\n    \t\t\tSystem.out.println(&quot;Group3 matches: &quot; + otherWordCount);\r\n    \t\t\tSystem.out.println(&quot;Group4 matches: &quot; + wordXCount);\r\n    \t\t\t\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;No regex to build.&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nThe problem is that I can only count each group&#39;s matches only when I know beforehand which regex/groups the user wants to find.\r\n\r\nNote that the full regex will contain a lot more capture groups and they will be more complex.\r\n\r\nHow can I determine which capture group was matched so that I can count each group&#39;s occurrences, without knowing beforehand which groups the user wants to find?\r\n\r\n","title":"Java regex - Determine which capture group was matched and count occurences","body":"<p>Suppose that I want to build a very large regex with capture groups on run-time based on user's decisions.</p>\n\n<p>Simple example:</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Test {    \n    static boolean findTag, findWordA, findOtherWord, findWordX;\n\n    static final String TAG = \"(&lt;[^&gt;]+&gt;)\";\n    static final String WORD_A = \"(wordA)\";\n    static final String OTHER_WORD = \"(anotherword)\";\n    static final String WORD_X = \"(wordX)\";\n\n    static int tagCount = 0;\n    static int wordACount = 0;\n    static int otherWordCount = 0;\n    static int wordXCount = 0;\n\n    public static void main(String[] args) {\n        // Boolean options that will be supplied by the user\n        // make them all true in this example\n        findTag = true;\n        findWordA = true;\n        findOtherWord = true;\n        findWordX = true;\n\n        String input = \"&lt;b&gt;this is an &lt;i&gt;input&lt;/i&gt; string that contains wordX, wordX, anotherword and wordA&lt;/b&gt;\";\n\n        StringBuilder regex = new StringBuilder();\n\n        if (findTag)\n            regex.append(TAG + \"|\");\n\n        if (findWordA)\n            regex.append(WORD_A + \"|\");\n\n        if (findOtherWord)\n            regex.append(OTHER_WORD + \"|\");\n\n        if (findWordX)\n            regex.append(WORD_X + \"|\");\n\n        if (regex.length() &gt; 0) {\n            regex.setLength(regex.length() - 1);\n            Pattern pattern = Pattern.compile(regex.toString());\n\n            System.out.println(\"\\nWHOLE REGEX: \" + regex.toString());\n            System.out.println(\"\\nINPUT STRING: \" + input);\n\n            Matcher matcher = pattern.matcher(input);\n\n            while (matcher.find()) {\n                // only way I know of to find out which group was matched:\n                if (matcher.group(1) != null) tagCount++;\n                if (matcher.group(2) != null) wordACount++;\n                if (matcher.group(3) != null) otherWordCount++;\n                if (matcher.group(4) != null) wordXCount++;\n            }\n\n            System.out.println();\n            System.out.println(\"Group1 matches: \" + tagCount);\n            System.out.println(\"Group2 matches: \" + wordACount);\n            System.out.println(\"Group3 matches: \" + otherWordCount);\n            System.out.println(\"Group4 matches: \" + wordXCount);\n\n        } else {\n            System.out.println(\"No regex to build.\");\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is that I can only count each group's matches only when I know beforehand which regex/groups the user wants to find.</p>\n\n<p>Note that the full regex will contain a lot more capture groups and they will be more complex.</p>\n\n<p>How can I determine which capture group was matched so that I can count each group's occurrences, without knowing beforehand which groups the user wants to find?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1913177,"reputation":3421,"user_id":1726419,"accept_rate":76,"display_name":"yossico"},"score":1,"creation_date":1480339834,"post_id":40845497,"comment_id":68907801,"body_markdown":"The circle is round, the Ball is a sphere","body":"The circle is round, the Ball is a sphere"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1480339920,"post_id":40845497,"comment_id":68907843,"body_markdown":"@yossico The ball is a sphere; all spheres are round; therefore the ball is round. Perfect syllogism.","body":"@yossico The ball is a sphere; all spheres are round; therefore the ball is round. Perfect syllogism."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1480340049,"post_id":40845497,"comment_id":68907918,"body_markdown":"You test each word against a full regex `((The|or|what) (Peter|Luke|Hans|ball))`. That is the main issue.","body":"You test each word against a full regex <code>((The|or|what) (Peter|Luke|Hans|ball))</code>. That is the main issue."},{"owner":{"account_id":5379612,"reputation":1327,"user_id":4285290,"display_name":"eldo"},"score":0,"creation_date":1480341311,"post_id":40845497,"comment_id":68908677,"body_markdown":"@yossico A ball can be round.","body":"@yossico A ball can be round."},{"owner":{"account_id":8809086,"reputation":21,"user_id":6582658,"display_name":"NIk Tsiv"},"score":0,"creation_date":1480369624,"post_id":40845497,"comment_id":68924764,"body_markdown":"Thank u very much!","body":"Thank u very much!"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1480341907,"creation_date":1480341907,"answer_id":40846218,"question_id":40845497,"body_markdown":"Your main issue is that you test each word against a full regex,  `((The|or|what) (Peter|Luke|Hans|ball))`. You need to extract the substrings from the sentence directly.\r\n\r\nI tried to preserve your cose as much as possible:\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n     \r\n    class Ideone\r\n    {\r\n    \tprivate static String[] sentence_to_array;\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\tString sentence = &quot;The ball is round&quot;;\r\n    \t    Pattern p = null;\r\n    \t    Matcher m = null;\r\n    \t    System.out.println(findings(p, m, sentence, regex()));\r\n    \t}\r\n    \tprivate static List&lt;String&gt; findings(Pattern p, Matcher m, String pieces, String fr) {\r\n    \t    p = Pattern.compile(fr);\r\n            m = p.matcher(pieces);\r\n            List&lt;String&gt; lst = new ArrayList&lt;&gt;();\r\n    \t\twhile (m.find()) {\r\n    \t\t\tlst.add(m.group());\r\n    \t    }//for\r\n    \t    return lst;\r\n    \t}//method\r\n    \tpublic static String first_regex() {\r\n    \t    return &quot;(The|or|what)&quot;;\r\n    \t}//Method\r\n    \tpublic static String second_regex() {\r\n    \t    return &quot;(Peter|Luke|Hans|ball)&quot;;\r\n    \t}//method\r\n    \tpublic static String regex() {//επιστρέφει το υποκείμενο ως regex\r\n    \t    return &quot;(&quot; + first_regex() + &quot; &quot; + second_regex() + &quot;)&quot;;\r\n    \t}//method\r\n    }\r\n\r\nSee the [Java demo](https://ideone.com/2WheIB)","title":"Find words with pattern on java code","body":"<p>Your main issue is that you test each word against a full regex,  <code>((The|or|what) (Peter|Luke|Hans|ball))</code>. You need to extract the substrings from the sentence directly.</p>\n\n<p>I tried to preserve your cose as much as possible:</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Ideone\n{\n    private static String[] sentence_to_array;\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String sentence = \"The ball is round\";\n        Pattern p = null;\n        Matcher m = null;\n        System.out.println(findings(p, m, sentence, regex()));\n    }\n    private static List&lt;String&gt; findings(Pattern p, Matcher m, String pieces, String fr) {\n        p = Pattern.compile(fr);\n        m = p.matcher(pieces);\n        List&lt;String&gt; lst = new ArrayList&lt;&gt;();\n        while (m.find()) {\n            lst.add(m.group());\n        }//for\n        return lst;\n    }//method\n    public static String first_regex() {\n        return \"(The|or|what)\";\n    }//Method\n    public static String second_regex() {\n        return \"(Peter|Luke|Hans|ball)\";\n    }//method\n    public static String regex() {//επιστρέφει το υποκείμενο ως regex\n        return \"(\" + first_regex() + \" \" + second_regex() + \")\";\n    }//method\n}\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/2WheIB\" rel=\"nofollow noreferrer\">Java demo</a></p>\n"}],"owner":{"account_id":8809086,"reputation":21,"user_id":6582658,"display_name":"NIk Tsiv"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":40846218,"answer_count":1,"score":0,"last_activity_date":1693067870,"creation_date":1480339695,"question_id":40845497,"body_markdown":"I have the following code, trying to extract two words(The ball) based on a regex(regex()), but matcher does not find these words. Can you help me?\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    public class change1 {\r\n        private static String[] sentence_to_array;\r\n        public static void main(String[] args) {\r\n            String sentence = &quot;The ball is round&quot;;\r\n            sentence_to_array = sentence.split(&quot; &quot;);        \r\n            Pattern p = null;\r\n            Matcher m = null;\r\n            String to_remove = findings(p, m, sentence_to_array, regex());\r\n        }//method\r\n        private static String findings(Pattern p, Matcher m, String[] pieces, String fr) {\r\n            String word = &quot;&quot;;\r\n            pieces = sentence_to_array;\r\n            p = Pattern.compile(fr);\r\n            for (String piece : pieces) {\r\n                m = p.matcher(piece);\r\n                if (m.find()) {\r\n                    word = word.concat(piece + &quot; &quot;);\r\n                }//if\r\n            }//for\r\n            return word;\r\n        }//method\r\n        public static String first_regex() {\r\n            return &quot;(The|or|what)&quot;;\r\n        }//Method\r\n        public static String second_regex() {\r\n            return &quot;(Peter|Luke|Hans|ball)&quot;;\r\n        }//method\r\n        public static String regex() {//επιστρέφει το υποκείμενο ως regex\r\n            return &quot;(&quot; + first_regex() + &quot; &quot; + second_regex() + &quot;)&quot;;\r\n        }//method\r\n    }//class","title":"Find words with pattern on java code","body":"<p>I have the following code, trying to extract two words(The ball) based on a regex(regex()), but matcher does not find these words. Can you help me?</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\npublic class change1 {\n    private static String[] sentence_to_array;\n    public static void main(String[] args) {\n        String sentence = \"The ball is round\";\n        sentence_to_array = sentence.split(\" \");        \n        Pattern p = null;\n        Matcher m = null;\n        String to_remove = findings(p, m, sentence_to_array, regex());\n    }//method\n    private static String findings(Pattern p, Matcher m, String[] pieces, String fr) {\n        String word = \"\";\n        pieces = sentence_to_array;\n        p = Pattern.compile(fr);\n        for (String piece : pieces) {\n            m = p.matcher(piece);\n            if (m.find()) {\n                word = word.concat(piece + \" \");\n            }//if\n        }//for\n        return word;\n    }//method\n    public static String first_regex() {\n        return \"(The|or|what)\";\n    }//Method\n    public static String second_regex() {\n        return \"(Peter|Luke|Hans|ball)\";\n    }//method\n    public static String regex() {//επιστρέφει το υποκείμενο ως regex\n        return \"(\" + first_regex() + \" \" + second_regex() + \")\";\n    }//method\n}//class\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1478551634,"creation_date":1478551107,"answer_id":40474170,"question_id":40474040,"body_markdown":"If you want to ensure that after one whitespace there is no another whitespace, but you don&#39;t actually want to include that second character which you will test in match (regardless if it was whitespace or not), you can use [negative lookahead][1] mechanism `(?!..)`. \r\n\r\nSo pattern which can match only whitespace at start of line if it doesn&#39;t have another whitespace after it may look like \r\n\r\n    Pattern whitespace = Pattern.compile(&quot;^\\\\s(?!\\\\s)&quot;);\r\n\r\nThis can be adapted for any number by spaces\r\n\r\n    Pattern whitespace = Pattern.compile(&quot;^\\\\s{3}(?!\\\\s)&quot;);\r\n\r\n  [1]: http://www.regular-expressions.info/lookaround.html#lookahead","title":"Java pattern usage","body":"<p>If you want to ensure that after one whitespace there is no another whitespace, but you don't actually want to include that second character which you will test in match (regardless if it was whitespace or not), you can use <a href=\"http://www.regular-expressions.info/lookaround.html#lookahead\" rel=\"nofollow noreferrer\">negative lookahead</a> mechanism <code>(?!..)</code>. </p>\n\n<p>So pattern which can match only whitespace at start of line if it doesn't have another whitespace after it may look like </p>\n\n<pre><code>Pattern whitespace = Pattern.compile(\"^\\\\s(?!\\\\s)\");\n</code></pre>\n\n<p>This can be adapted for any number by spaces</p>\n\n<pre><code>Pattern whitespace = Pattern.compile(\"^\\\\s{3}(?!\\\\s)\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6874,"reputation":2729,"user_id":11699,"accept_rate":71,"display_name":"Michael Bar-Sinai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478551759,"creation_date":1478551759,"answer_id":40474346,"question_id":40474040,"body_markdown":"A pattern may be an overkill here*. Use `Character.isWhitespace` and get a simpler code: \r\n\r\n    String in = &quot;   your input here&quot;;\r\n    int wsPrefix=0;\r\n    for ( ; wsPrefix &lt; in.length() &amp;&amp; Character.isWhitespace(in.charAt(wsPrefix)) ;\r\n          wsPrefix++ ) {}\r\n    System.out.println(&quot;wsPrefix = &quot; + wsPrefix);\r\n\r\n\r\n\\* For it is said:\r\n&gt; &quot;Some people, when confronted with a problem, think \r\n“I know, I&#39;ll use regular expressions.”   Now they have two problems.\r\n-- [Jaimie Zawinski, 1997][1]\r\n\r\n\r\n  [1]: http://regex.info/blog/2006-09-15/247","title":"Java pattern usage","body":"<p>A pattern may be an overkill here*. Use <code>Character.isWhitespace</code> and get a simpler code: </p>\n\n<pre><code>String in = \"   your input here\";\nint wsPrefix=0;\nfor ( ; wsPrefix &lt; in.length() &amp;&amp; Character.isWhitespace(in.charAt(wsPrefix)) ;\n      wsPrefix++ ) {}\nSystem.out.println(\"wsPrefix = \" + wsPrefix);\n</code></pre>\n\n<p>* For it is said:</p>\n\n<blockquote>\n  <p>\"Some people, when confronted with a problem, think \n  “I know, I'll use regular expressions.”   Now they have two problems.\n  -- <a href=\"http://regex.info/blog/2006-09-15/247\" rel=\"nofollow noreferrer\">Jaimie Zawinski, 1997</a></p>\n</blockquote>\n"}],"owner":{"account_id":9551095,"reputation":839,"user_id":7095217,"accept_rate":56,"display_name":"ivbtar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40474170,"answer_count":2,"score":0,"last_activity_date":1693067855,"creation_date":1478550653,"question_id":40474040,"body_markdown":"SCENARIO :\r\n\r\n\tPattern whitespace = Pattern.compile(&quot;^\\\\s&quot;);\r\n\tmatcher = whitespace.matcher(&quot;  WhiteSpace&quot;);\r\n\t\r\n\tPattern whitespace2 = Pattern.compile(&quot;^\\\\s\\\\s&quot;);\r\n\tmatcher2 = whitespace2.matcher(&quot;  WhiteSpace&quot;);\r\n\r\nI am trying to get whitespaces at the beginning of a line. I want to get exact number of white spaces matcher true. My string is `&quot;  WhiteSpace&quot;`.  \r\nProblem is both `matcher` and `matcher2` work on this string.  \r\n\r\nThe thing I want is:  \r\nA pattern that only get 1 white space, but this pattern should not work\r\nfor 2 white space string. In the scenario below both `matcher.find()` and `matcher2.find()` are true. But `matcher.find()` should be false, `matcher2.find()` should be true.\r\n\r\nI want matcher to be true for `&quot; WhiteSpace&quot;`,  false for `&quot;  WhiteSpace&quot;` (two spaces)  \r\nI want matcher2 to be true for :`&quot;  WhiteSpace&quot;`.\r\n\r\n\r\n\r\n---------------------------------------------------\r\n\r\nThe thing I want to do is;  \r\nI have a string  `&quot;  two whitespaces&quot;`.  \r\nBelow both if statements are true. `matcher` should be false.\r\n`matcher2` should be true.\r\n\r\n\tPattern whitespace = Pattern.compile(&quot;^\\\\s&quot;);\r\n\tmatcher = whitespace.matcher(&quot;  two whitespaces&quot;);\r\n\t\r\n\tPattern whitespace2 = Pattern.compile(&quot;^\\\\s\\\\s&quot;);\r\n\tmatcher2 = whitespace2.matcher(&quot;  two whitespaces&quot;);\r\n\r\n    if(matcher.find()==true){\r\n        //XXXXXXXXXXX\r\n    } else if(matcher2.find()==true){\r\n        //YYYYYYYYYYY\r\n    }","title":"Java pattern usage","body":"<p>SCENARIO :</p>\n\n<pre><code>Pattern whitespace = Pattern.compile(\"^\\\\s\");\nmatcher = whitespace.matcher(\"  WhiteSpace\");\n\nPattern whitespace2 = Pattern.compile(\"^\\\\s\\\\s\");\nmatcher2 = whitespace2.matcher(\"  WhiteSpace\");\n</code></pre>\n\n<p>I am trying to get whitespaces at the beginning of a line. I want to get exact number of white spaces matcher true. My string is <code>\"  WhiteSpace\"</code>.<br>\nProblem is both <code>matcher</code> and <code>matcher2</code> work on this string.  </p>\n\n<p>The thing I want is:<br>\nA pattern that only get 1 white space, but this pattern should not work\nfor 2 white space string. In the scenario below both <code>matcher.find()</code> and <code>matcher2.find()</code> are true. But <code>matcher.find()</code> should be false, <code>matcher2.find()</code> should be true.</p>\n\n<p>I want matcher to be true for <code>\" WhiteSpace\"</code>,  false for <code>\"  WhiteSpace\"</code> (two spaces)<br>\nI want matcher2 to be true for :<code>\"  WhiteSpace\"</code>.</p>\n\n<hr>\n\n<p>The thing I want to do is;<br>\nI have a string  <code>\"  two whitespaces\"</code>.<br>\nBelow both if statements are true. <code>matcher</code> should be false.\n<code>matcher2</code> should be true.</p>\n\n<pre><code>Pattern whitespace = Pattern.compile(\"^\\\\s\");\nmatcher = whitespace.matcher(\"  two whitespaces\");\n\nPattern whitespace2 = Pattern.compile(\"^\\\\s\\\\s\");\nmatcher2 = whitespace2.matcher(\"  two whitespaces\");\n\nif(matcher.find()==true){\n    //XXXXXXXXXXX\n} else if(matcher2.find()==true){\n    //YYYYYYYYYYY\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1477956963,"post_id":40351842,"comment_id":67958670,"body_markdown":"Filename _globbing_ is _**not**_ a regular expression; globbing is much more limited than regex. Also, `foo*` as a glob matches foo-with-anything-after, the equivalent as a regex would be `foo.*` = foo followed by any single char `.` zero-or-more times `*`","body":"Filename <i>globbing</i> is <i><b>not</b></i> a regular expression; globbing is much more limited than regex. Also, <code>foo*</code> as a glob matches foo-with-anything-after, the equivalent as a regex would be <code>foo.*</code> = foo followed by any single char <code>.</code> zero-or-more times <code>*</code>"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1477957388,"post_id":40351842,"comment_id":67958784,"body_markdown":"_&quot;Ideally, it would only match if the user enterred &quot;12345&quot;.&quot;_ Is part number _always_ the first part of the filename? Are all part numbers _exactly_ 5 digits? Is part number _always_ followed by a space?  Having a precise definition can help you find a good regex. I don&#39;t think globbing will do it in this case, although you could glob to reduce the match space and then regex match what globbing has found.","body":"<i>&quot;Ideally, it would only match if the user enterred &quot;12345&quot;.&quot;</i> Is part number <i>always</i> the first part of the filename? Are all part numbers <i>exactly</i> 5 digits? Is part number <i>always</i> followed by a space?  Having a precise definition can help you find a good regex. I don&#39;t think globbing will do it in this case, although you could glob to reduce the match space and then regex match what globbing has found."},{"owner":{"account_id":2274053,"reputation":1872,"user_id":2000793,"accept_rate":90,"display_name":"Eric Ed Lohmar"},"score":0,"creation_date":1478006116,"post_id":40351842,"comment_id":67974750,"body_markdown":"@StephenP For your first comment, it is my understanding that globbing and regex are both different ways one can create generalized strings to match against. You can see from the bottom part of my question that I decided to change from globbing to regex due to its limitations","body":"@StephenP For your first comment, it is my understanding that globbing and regex are both different ways one can create generalized strings to match against. You can see from the bottom part of my question that I decided to change from globbing to regex due to its limitations"},{"owner":{"account_id":2274053,"reputation":1872,"user_id":2000793,"accept_rate":90,"display_name":"Eric Ed Lohmar"},"score":0,"creation_date":1478006196,"post_id":40351842,"comment_id":67974797,"body_markdown":"@StephenP To you second comment; the part number is always first almost always with a space immediately following.","body":"@StephenP To you second comment; the part number is always first almost always with a space immediately following."}],"answers":[{"comments":[{"owner":{"account_id":2274053,"reputation":1872,"user_id":2000793,"accept_rate":90,"display_name":"Eric Ed Lohmar"},"score":0,"creation_date":1478008216,"post_id":40352385,"comment_id":67975898,"body_markdown":"If you read the first link I posted, right under the link that says &quot;What is a glob?&quot; is a line that states that regex can be used with PathMatchers. That&#39;s why I put &quot;regex: ...&quot; instead of &quot;glob: ...&quot; in my matching statement. However, it does seem like I&#39;ve over-complicated this. Thank you for simplifying it for me.","body":"If you read the first link I posted, right under the link that says &quot;What is a glob?&quot; is a line that states that regex can be used with PathMatchers. That&#39;s why I put &quot;regex: ...&quot; instead of &quot;glob: ...&quot; in my matching statement. However, it does seem like I&#39;ve over-complicated this. Thank you for simplifying it for me."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1478021813,"post_id":40352385,"comment_id":67984176,"body_markdown":"@Eric - I saw that _&quot;Glob syntax is easy to use and flexible but, if you prefer, you can also use regular expressions, or regex, syntax.&quot;_ but didn&#39;t see any way to do that. I&#39;ve now found [getPathMatcher](https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystem.html#getPathMatcher-java.lang.String-) which is where you can specify `&quot;regex:&lt;some-pattern&gt;&quot;` as the _syntaxAndPattern_ argument. Knowing this could benefit future readers.","body":"@Eric - I saw that <i>&quot;Glob syntax is easy to use and flexible but, if you prefer, you can also use regular expressions, or regex, syntax.&quot;</i> but didn&#39;t see any way to do that. I&#39;ve now found <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystem.html#getPathMatcher-java.lang.String-\" rel=\"nofollow noreferrer\">getPathMatcher</a> which is where you can specify <code>&quot;regex:&lt;some-pattern&gt;&quot;</code> as the <i>syntaxAndPattern</i> argument. Knowing this could benefit future readers."}],"tags":[],"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1478022397,"creation_date":1477959097,"answer_id":40352385,"question_id":40351842,"body_markdown":"**&quot;Does PathMatcher work differently than a regular Matcher?&quot;**  \r\nYes. a `PathMatcher` works with filename _globbing_&lt;sup&gt;[1]&lt;/sup&gt;, while a `Matcher` works with _regular expressions_.\r\n\r\nSee [What _Is_ a Glob?](https://docs.oracle.com/javase/tutorial/essential/io/fileOps.html#glob) in the tutorial you linked, and compare that with the documentation for [java.util.regex.Pattern](https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html).  \r\nGlobbing is quite a bit more limited that regular expression matching.\r\n\r\nIf you have a strict file naming convention that is rigorously adhere to you probably can use globbing (I take back that last part of my previous comment).\r\n\r\nLet&#39;s say your files are named as  \r\n`numeric part number` - `space` - `optional revision &amp; space` - `description`\r\n\r\nThat is, the part number can have a variable number of digits, but the space after the part number is required and always present.\r\n\r\nSo your example _&quot;12345 RevA Really Big Part 2: Electric Bugaloo&quot;_ fits that with partNum==12345, revision=&quot;RevA &quot;, description=&quot;Really Big Part 2: Electric Bugaloo&quot;\r\n\r\nA user enters a part number `P/N: 123` as a variable `userPN` and you construct a glob as  \r\n`String glob = userPN + &quot; *&quot;;` resulting in glob equalling `&quot;123 *&quot;`  \r\nThis will *not* match 12345, as you desire, because of the space after the 3 will not match the 4.\r\n\r\nIf there is *not* a required space after the part number in the filename, but what follows is _always_ alphabetic, either the Revision or the Description, you can construct a glob as  \r\n`String glob = userPN + &quot;[A-Z,a-z]*&quot;;` giving glob = `123[A-Z,a-z]*` which also won&#39;t match 12345 because an alphabetic must follow the 123 and the 4 is not in that character range.\r\n\r\nYou can make your character range more complicated, say `[A-Z,a-z, ]` for an _optional_ space, depending on your needs, **but** it all really comes down to your file naming convention.  You need to state that convention very precisely and adhere to it.\r\n\r\n----\r\n[1] a `PathMatcher` _can_ use a regular expression instead of globbing if you specify the &quot;syntax&quot; as `regex` when calling [FileSystem.getPathMatcher(String)](https://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html#getPathMatcher(java.lang.String)). This would be something like  \r\n\r\n    FileSystem fs = FileSystems.getDefault();\r\n    PathMatcher pm = fs.getPathMatcher(&quot;regex:\\\\d{5}\\\\s.*&quot;);","title":"Java Regex and PathMatcher","body":"<p><strong>\"Does PathMatcher work differently than a regular Matcher?\"</strong><br>\nYes. a <code>PathMatcher</code> works with filename <em>globbing</em><sup>[1]</sup>, while a <code>Matcher</code> works with <em>regular expressions</em>.</p>\n\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileOps.html#glob\" rel=\"nofollow noreferrer\">What <em>Is</em> a Glob?</a> in the tutorial you linked, and compare that with the documentation for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">java.util.regex.Pattern</a>.<br>\nGlobbing is quite a bit more limited that regular expression matching.</p>\n\n<p>If you have a strict file naming convention that is rigorously adhere to you probably can use globbing (I take back that last part of my previous comment).</p>\n\n<p>Let's say your files are named as<br>\n<code>numeric part number</code> - <code>space</code> - <code>optional revision &amp; space</code> - <code>description</code></p>\n\n<p>That is, the part number can have a variable number of digits, but the space after the part number is required and always present.</p>\n\n<p>So your example <em>\"12345 RevA Really Big Part 2: Electric Bugaloo\"</em> fits that with partNum==12345, revision=\"RevA \", description=\"Really Big Part 2: Electric Bugaloo\"</p>\n\n<p>A user enters a part number <code>P/N: 123</code> as a variable <code>userPN</code> and you construct a glob as<br>\n<code>String glob = userPN + \" *\";</code> resulting in glob equalling <code>\"123 *\"</code><br>\nThis will <em>not</em> match 12345, as you desire, because of the space after the 3 will not match the 4.</p>\n\n<p>If there is <em>not</em> a required space after the part number in the filename, but what follows is <em>always</em> alphabetic, either the Revision or the Description, you can construct a glob as<br>\n<code>String glob = userPN + \"[A-Z,a-z]*\";</code> giving glob = <code>123[A-Z,a-z]*</code> which also won't match 12345 because an alphabetic must follow the 123 and the 4 is not in that character range.</p>\n\n<p>You can make your character range more complicated, say <code>[A-Z,a-z, ]</code> for an <em>optional</em> space, depending on your needs, <strong>but</strong> it all really comes down to your file naming convention.  You need to state that convention very precisely and adhere to it.</p>\n\n<hr>\n\n<p>[1] a <code>PathMatcher</code> <em>can</em> use a regular expression instead of globbing if you specify the \"syntax\" as <code>regex</code> when calling <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html#getPathMatcher(java.lang.String)\" rel=\"nofollow noreferrer\">FileSystem.getPathMatcher(String)</a>. This would be something like  </p>\n\n<pre><code>FileSystem fs = FileSystems.getDefault();\nPathMatcher pm = fs.getPathMatcher(\"regex:\\\\d{5}\\\\s.*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12089545,"reputation":1,"user_id":8836491,"display_name":"Joseph Vykukal"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509009914,"creation_date":1509007775,"answer_id":46949736,"question_id":40351842,"body_markdown":"I think you go on it very complicated way. Why would you use pat Marc her in the first place when you don&#39;t look for events. \r\n\r\nMuch easier it would be to walk through the file tree and for each directory iterate directory stream to match your glob.","title":"Java Regex and PathMatcher","body":"<p>I think you go on it very complicated way. Why would you use pat Marc her in the first place when you don't look for events. </p>\n\n<p>Much easier it would be to walk through the file tree and for each directory iterate directory stream to match your glob.</p>\n"}],"owner":{"account_id":2274053,"reputation":1872,"user_id":2000793,"accept_rate":90,"display_name":"Eric Ed Lohmar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40352385,"answer_count":2,"score":1,"last_activity_date":1693067850,"creation_date":1477954967,"question_id":40351842,"body_markdown":"I&#39;m writing an application in Java that displays a list of files where the first word in the filename matches user defined string, then deletes or rearranges them depending on some preferences. I&#39;m currently in the phase of finding a good way to find my files. Using [this Java Tutorial][1] I ended up with something like this:\r\n\r\n    Path source = Paths.get(sourceText.getText());\r\n    Path dest = Paths.get(destText.getText());\r\n                    \r\n    System.out.println(&quot;Source:&quot; + source.toString());\r\n    System.out.println(&quot;P/N: &quot; + partNoText.getText());\r\n                    \r\n    String matchString = &quot;glob:**&quot; + partNoText.getText() + &quot;*&quot;;\r\n                    \r\n    System.out.println(&quot;Matching: &quot; + matchString);\r\n                    \r\n    fileFinder = new FileFinder(matchString);\r\n                    \r\n    try {\r\n        Files.walkFileTree(source, fileFinder);\r\n    } catch (IOException e1) {\r\n        e1.printStackTrace();\r\n    }\r\n    for (Path path : fileFinder.getResult()) {\r\n        System.out.println(&quot;Moving: &quot; + path.getFileName());\r\n        Path target = Paths.get(dest.toString() + &quot;\\\\&quot; + path.getFileName());\r\n                        \r\n        try {\r\n            Files.move(path, target, REPLACE_EXISTING);\r\n        } catch (IOException e1) {\r\n            e1.printStackTrace();\r\n        }\r\n    }\r\n\r\nwhere FileFinder extends SimpleFileVisitor&lt;Path&gt; and has this visitFile method:\r\n\r\n    public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n        System.out.println(file.toString());\r\n        System.out.println(fileMatcher.matches(file));\r\n        if (fileMatcher.matches(file)) {\r\n            result.add(file);\r\n            return FileVisitResult.CONTINUE;\r\n        }\r\n        return FileVisitResult.CONTINUE;\r\n    }\r\n\r\nMy issue with this is that the glob will pick up any file where the filename contains the part no. in any way. So if my file is called &quot;12345 RevA Really Big Part 2: Electric Bugaloo&quot; then the string would match if the user entered &quot;1&quot; or &quot;123&quot; or &quot;Bugaloo&quot;. Ideally, it would only match if the user enterred &quot;12345&quot;.\r\n\r\nI tried switching my matchString to `&quot;regex: .*&quot; + partNoText + &quot;\\\\b&quot;`, which works in the regex test harness I modified from [this other Java Tutorial][2]. What am I doing wrong? Does `PathMatcher` work differently than a regular `Matcher`?\r\n\r\nP.S. Any variable that has the word &quot;Text&quot; in it, like `sourceText` and `partNoText` are JTextFields. Hopefull that is the only part of the code that is mostly unclear from what I clipped out of it. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/io/find.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/regex/test_harness.html","title":"Java Regex and PathMatcher","body":"<p>I'm writing an application in Java that displays a list of files where the first word in the filename matches user defined string, then deletes or rearranges them depending on some preferences. I'm currently in the phase of finding a good way to find my files. Using <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/find.html\" rel=\"nofollow\">this Java Tutorial</a> I ended up with something like this:</p>\n\n<pre><code>Path source = Paths.get(sourceText.getText());\nPath dest = Paths.get(destText.getText());\n\nSystem.out.println(\"Source:\" + source.toString());\nSystem.out.println(\"P/N: \" + partNoText.getText());\n\nString matchString = \"glob:**\" + partNoText.getText() + \"*\";\n\nSystem.out.println(\"Matching: \" + matchString);\n\nfileFinder = new FileFinder(matchString);\n\ntry {\n    Files.walkFileTree(source, fileFinder);\n} catch (IOException e1) {\n    e1.printStackTrace();\n}\nfor (Path path : fileFinder.getResult()) {\n    System.out.println(\"Moving: \" + path.getFileName());\n    Path target = Paths.get(dest.toString() + \"\\\\\" + path.getFileName());\n\n    try {\n        Files.move(path, target, REPLACE_EXISTING);\n    } catch (IOException e1) {\n        e1.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>where FileFinder extends SimpleFileVisitor and has this visitFile method:</p>\n\n<pre><code>public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n    System.out.println(file.toString());\n    System.out.println(fileMatcher.matches(file));\n    if (fileMatcher.matches(file)) {\n        result.add(file);\n        return FileVisitResult.CONTINUE;\n    }\n    return FileVisitResult.CONTINUE;\n}\n</code></pre>\n\n<p>My issue with this is that the glob will pick up any file where the filename contains the part no. in any way. So if my file is called \"12345 RevA Really Big Part 2: Electric Bugaloo\" then the string would match if the user entered \"1\" or \"123\" or \"Bugaloo\". Ideally, it would only match if the user enterred \"12345\".</p>\n\n<p>I tried switching my matchString to <code>\"regex: .*\" + partNoText + \"\\\\b\"</code>, which works in the regex test harness I modified from <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/test_harness.html\" rel=\"nofollow\">this other Java Tutorial</a>. What am I doing wrong? Does <code>PathMatcher</code> work differently than a regular <code>Matcher</code>?</p>\n\n<p>P.S. Any variable that has the word \"Text\" in it, like <code>sourceText</code> and <code>partNoText</code> are JTextFields. Hopefull that is the only part of the code that is mostly unclear from what I clipped out of it. </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1477153370,"post_id":40194349,"comment_id":67654637,"body_markdown":"Read the Javadoc for `Pattern` carefully. Literal parentheses must be escaped since unescaped parentheses are metacharacters used for grouping.  I recommend you stop and spend some time learning regular expression syntax and grammar.  There are many resources on the web, as well as the Javadoc.","body":"Read the Javadoc for <code>Pattern</code> carefully. Literal parentheses must be escaped since unescaped parentheses are metacharacters used for grouping.  I recommend you stop and spend some time learning regular expression syntax and grammar.  There are many resources on the web, as well as the Javadoc."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1477153771,"post_id":40194349,"comment_id":67654773,"body_markdown":"What is your actual problem? What do you want to acheive?","body":"What is your actual problem? What do you want to acheive?"},{"owner":{"account_id":7432109,"reputation":113,"user_id":5652678,"accept_rate":33,"display_name":"digeridoo"},"score":0,"creation_date":1477154134,"post_id":40194349,"comment_id":67654884,"body_markdown":"the input i put in is ( a ) and and so i want it to print ( a ), but it ignores the parantheses, i edited my code to have \\\\( and \\\\) but it still does not work","body":"the input i put in is ( a ) and and so i want it to print ( a ), but it ignores the parantheses, i edited my code to have \\&#40; and \\&#41; but it still does not work"}],"answers":[{"comments":[{"owner":{"account_id":7432109,"reputation":113,"user_id":5652678,"accept_rate":33,"display_name":"digeridoo"},"score":0,"creation_date":1477154262,"post_id":40194422,"comment_id":67654926,"body_markdown":"Thank you, I knew about \\\\( and \\\\) before I put the question but I added the question raw to see if there any other problem, but the actual problem was the backspace like you mentioned and it worked out correctly","body":"Thank you, I knew about \\&#40; and \\&#41; before I put the question but I added the question raw to see if there any other problem, but the actual problem was the backspace like you mentioned and it worked out correctly"}],"tags":[],"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1477153661,"creation_date":1477153661,"answer_id":40194422,"question_id":40194349,"body_markdown":"There are 2 issues in your regular expression:\r\n\r\n 1. You added extract spaces such that it will expect space in the pattern to find which doesn&#39;t seem to be what you expect.\r\n 2. You did not escape the parentheses which are special characters used for grouping. You need to use double backslashes to escape them.\r\n\r\nYour regular expression should rather be `\\\\(|\\\\)|a`.\r\n\r\n**Output:**\r\n\r\n    (\r\n    a\r\n    )","title":"Pattern Matcher not accepting parantheses","body":"<p>There are 2 issues in your regular expression:</p>\n\n<ol>\n<li>You added extract spaces such that it will expect space in the pattern to find which doesn't seem to be what you expect.</li>\n<li>You did not escape the parentheses which are special characters used for grouping. You need to use double backslashes to escape them.</li>\n</ol>\n\n<p>Your regular expression should rather be <code>\\\\(|\\\\)|a</code>.</p>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>(\na\n)\n</code></pre>\n"}],"owner":{"account_id":7432109,"reputation":113,"user_id":5652678,"accept_rate":33,"display_name":"digeridoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":40194422,"answer_count":1,"score":-2,"last_activity_date":1693067842,"creation_date":1477153196,"question_id":40194349,"body_markdown":"       \r\n     public class T_token implements Lexer{\r\n            static Pattern p = Pattern.compile(&quot;\\\\( | \\\\) | a&quot;);\r\n            static Matcher d = p.matcher(&quot;( a )&quot;);\r\n\r\n          public static void main(String[] args) {\r\n              while (d.find()) {\r\n                System.out.println(d.group());\r\n              }\r\n          }\r\n\r\n\r\nWhen I compile and run this, the output is : \r\n\r\n    run:\r\n    \r\n     a\r\n    \r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\n\r\nSo the input I gave the matcher (variable d) was the string &quot;( a )&quot; but it only prints out a, not the parenthesis left and right brackets.. can someone tell me how i can fix this?\r\n","title":"Pattern Matcher not accepting parantheses","body":"<pre><code> public class T_token implements Lexer{\n        static Pattern p = Pattern.compile(\"\\\\( | \\\\) | a\");\n        static Matcher d = p.matcher(\"( a )\");\n\n      public static void main(String[] args) {\n          while (d.find()) {\n            System.out.println(d.group());\n          }\n      }\n</code></pre>\n\n<p>When I compile and run this, the output is : </p>\n\n<pre><code>run:\n\n a\n\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n\n<p>So the input I gave the matcher (variable d) was the string \"( a )\" but it only prints out a, not the parenthesis left and right brackets.. can someone tell me how i can fix this?</p>\n"},{"tags":["java","regex","string","replace"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1476367744,"post_id":40023349,"comment_id":67323670,"body_markdown":"Yes, with `Matcher#appendReplacement`","body":"Yes, with <code>Matcher#appendReplacement</code>"},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":4,"creation_date":1476367810,"post_id":40023349,"comment_id":67323716,"body_markdown":"Technically, you can&#39;t &quot;replace&quot; anything in a `String`, because objects of `String` are immutable. But you can create a new `String` containing the old prefix plus Integer.valueOf(suffix) + 1.","body":"Technically, you can&#39;t &quot;replace&quot; anything in a <code>String</code>, because objects of <code>String</code> are immutable. But you can create a new <code>String</code> containing the old prefix plus Integer.valueOf(suffix) + 1."},{"owner":{"account_id":1157274,"reputation":239,"user_id":1137555,"accept_rate":83,"display_name":"sonya"},"score":0,"creation_date":1476367844,"post_id":40023349,"comment_id":67323749,"body_markdown":"Yes, I know. I will update my question. Generate a new String :)","body":"Yes, I know. I will update my question. Generate a new String :)"},{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":0,"creation_date":1476367845,"post_id":40023349,"comment_id":67323750,"body_markdown":"You could use an IntStream, map it to an Integer, then produce a list of strings in one line of code.","body":"You could use an IntStream, map it to an Integer, then produce a list of strings in one line of code."},{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1476367900,"post_id":40023349,"comment_id":67323796,"body_markdown":"give an example of input and expected output","body":"give an example of input and expected output"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1476368809,"post_id":40023349,"comment_id":67324587,"body_markdown":"In this case, regex will only make the code longer, not shorter.","body":"In this case, regex will only make the code longer, not shorter."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1476369188,"post_id":40023349,"comment_id":67324933,"body_markdown":"What is the pattern of the String? The number is always at the end, always present, The splitter is `_`? Could you enumerate more condition ?","body":"What is the pattern of the String? The number is always at the end, always present, The splitter is <code>_</code>? Could you enumerate more condition ?"},{"owner":{"account_id":1157274,"reputation":239,"user_id":1137555,"accept_rate":83,"display_name":"sonya"},"score":0,"creation_date":1476369715,"post_id":40023349,"comment_id":67325357,"body_markdown":"No, this only an example. I would like to know solutions for replace any number in a String with the following one.","body":"No, this only an example. I would like to know solutions for replace any number in a String with the following one."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1476369824,"post_id":40023349,"comment_id":67325443,"body_markdown":"@rianna, then update your example. This is not clear for me (and others too). You need to specify a pattern, or patterns of String. (or a number anywhere...)","body":"@rianna, then update your example. This is not clear for me (and others too). You need to specify a pattern, or patterns of String. (or a number anywhere...)"},{"owner":{"account_id":1157274,"reputation":239,"user_id":1137555,"accept_rate":83,"display_name":"sonya"},"score":1,"creation_date":1476370104,"post_id":40023349,"comment_id":67325696,"body_markdown":"Thanks, Pavneet! Sorry for duplicating the questions.","body":"Thanks, Pavneet! Sorry for duplicating the questions."},{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1476370949,"post_id":40023349,"comment_id":67326370,"body_markdown":"don&#39;t be sorry , it was a good question though  :)","body":"don&#39;t be sorry , it was a good question though  :)"},{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1476371425,"post_id":40023349,"comment_id":67326715,"body_markdown":"don&#39;t be sorry , it was a good question though :) , you can try this too http://stackoverflow.com/questions/1453365/increment-digit-value-in-string , , plus the below given answers are also great examples too","body":"don&#39;t be sorry , it was a good question though :) , you can try this too <a href=\"http://stackoverflow.com/questions/1453365/increment-digit-value-in-string\" title=\"increment digit value in string\">stackoverflow.com/questions/1453365/&hellip;</a> , , plus the below given answers are also great examples too"},{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":0,"creation_date":1476462175,"post_id":40023349,"comment_id":67371711,"body_markdown":"Revising my comment from yesterday to use iterate() instead of generate().This does not satisfy the requirement of not recomposing the String, but it will generate any number of Strings in one line: List&lt;String&gt; strings = IntStream.iterate(0, x -&gt; ++x).limit(100) .mapToObj(x -&gt; &quot;REPEAT_FOR_&quot; + Integer.toString(x)) .collect(Collectors.toList());","body":"Revising my comment from yesterday to use iterate() instead of generate().This does not satisfy the requirement of not recomposing the String, but it will generate any number of Strings in one line: List&lt;String&gt; strings = IntStream.iterate(0, x -&gt; ++x).limit(100) .mapToObj(x -&gt; &quot;REPEAT_FOR_&quot; + Integer.toString(x)) .collect(Collectors.toList());"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":0,"creation_date":1477471712,"post_id":40023349,"comment_id":67776523,"body_markdown":"@rianna doesn&#39;t my answer resolve your problem?","body":"@rianna doesn&#39;t my answer resolve your problem?"}],"answers":[{"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1476368751,"post_id":40023731,"comment_id":67324526,"body_markdown":"OP says: **not by recomposing the String as &quot;REPEAT_FOR_&quot; and add the number after incrementation**","body":"OP says: <b>not by recomposing the String as &quot;REPEAT_FOR_&quot; and add the number after incrementation</b>"},{"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"score":0,"creation_date":1476368794,"post_id":40023731,"comment_id":67324570,"body_markdown":"but it seems his issue was he wanted to do it in one line.","body":"but it seems his issue was he wanted to do it in one line."}],"tags":[],"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476368770,"creation_date":1476368636,"answer_id":40023731,"question_id":40023349,"body_markdown":"I didn&#39;t use regex but here is the solution in one line. Considering your string remains the same.\r\n\r\n    public String getIncrementedString (String str){\r\n    return (&quot;REPEAT_FOR_&quot; + (Character.getNumericValue(str.charAt(11))+1));\r\n    }","title":"Dynamic incrementation of all numbers within a String","body":"<p>I didn't use regex but here is the solution in one line. Considering your string remains the same.</p>\n\n<pre><code>public String getIncrementedString (String str){\nreturn (\"REPEAT_FOR_\" + (Character.getNumericValue(str.charAt(11))+1));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1157274,"reputation":239,"user_id":1137555,"accept_rate":83,"display_name":"sonya"},"score":0,"creation_date":1476369516,"post_id":40024038,"comment_id":67325191,"body_markdown":"But if the number is not on the end of the string, it will not work. I came up to this solution: String nrToBeReplaced =  CharMatcher.DIGIT.retainFrom(value);\n        int nextNr = Integer.valueOf(nrToBeReplaced) + 1;\n        return value.replaceAll(value, String.valueOf(nextNr));","body":"But if the number is not on the end of the string, it will not work. I came up to this solution: String nrToBeReplaced =  CharMatcher.DIGIT.retainFrom(value);         int nextNr = Integer.valueOf(nrToBeReplaced) + 1;         return value.replaceAll(value, String.valueOf(nextNr));"},{"owner":{"account_id":7420171,"reputation":1871,"user_id":5644874,"accept_rate":86,"display_name":"Seek Addo"},"score":0,"creation_date":1476370374,"post_id":40024038,"comment_id":67325926,"body_markdown":"@rianna i have updated my answer with regex and it solves the issue you raised","body":"@rianna i have updated my answer with regex and it solves the issue you raised"}],"tags":[],"owner":{"account_id":7420171,"reputation":1871,"user_id":5644874,"accept_rate":86,"display_name":"Seek Addo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476370264,"creation_date":1476369443,"answer_id":40024038,"question_id":40023349,"body_markdown":"You can try this.\r\n\r\n    String ss = &quot;REPEAT_FOR_4&quot;;\r\n    int vd = Integer.valueOf(ss.substring(ss.length() - 1));\r\n    String nss = ss.replaceAll(&quot;\\\\d&quot;,String.valueOf(vd+1));\r\n    \r\n    System.out.println(nss);\r\n\r\noutput:\r\n\r\n&gt; REPEAT_FOR_5\r\n\r\nwith regex: if the digit is not at the end of the string.\r\n\r\n        String ss = &quot;REPEAT_5_FOR_ME&quot;;\r\n      \tPattern p = Pattern.compile(&quot;\\\\d+&quot;);\r\n      \tMatcher m = p.matcher(ss);\r\n      \tm.find();\r\n      \tString strb = m.group();\r\n      \tint vd = Integer.valueOf(strb);\r\n      \tString nss = ss.replaceAll(&quot;\\\\d&quot;,String.valueOf(vd+1));\r\n      \t\r\n        System.out.println(nss);\r\n\r\noutput:\r\n\r\n&gt; REPEAT_6_FOR_ME\r\n\r\n\r\nBase on the issue raised in the comments comments i think this solution with regex will help.\r\n\r\n    public static String convStr(String str){\r\n      \tPattern p = Pattern.compile(&quot;\\\\d+&quot;);\r\n      \tMatcher m = p.matcher(str);\r\n      \tm.find();\r\n      \tString strb = m.group();\r\n      \tint vd = Integer.valueOf(strb);\r\n      \treturn str.replaceAll(&quot;\\\\d&quot;,String.valueOf(vd+1));\r\n      }","title":"Dynamic incrementation of all numbers within a String","body":"<p>You can try this.</p>\n\n<pre><code>String ss = \"REPEAT_FOR_4\";\nint vd = Integer.valueOf(ss.substring(ss.length() - 1));\nString nss = ss.replaceAll(\"\\\\d\",String.valueOf(vd+1));\n\nSystem.out.println(nss);\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n  <p>REPEAT_FOR_5</p>\n</blockquote>\n\n<p>with regex: if the digit is not at the end of the string.</p>\n\n<pre><code>    String ss = \"REPEAT_5_FOR_ME\";\n    Pattern p = Pattern.compile(\"\\\\d+\");\n    Matcher m = p.matcher(ss);\n    m.find();\n    String strb = m.group();\n    int vd = Integer.valueOf(strb);\n    String nss = ss.replaceAll(\"\\\\d\",String.valueOf(vd+1));\n\n    System.out.println(nss);\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n  <p>REPEAT_6_FOR_ME</p>\n</blockquote>\n\n<p>Base on the issue raised in the comments comments i think this solution with regex will help.</p>\n\n<pre><code>public static String convStr(String str){\n    Pattern p = Pattern.compile(\"\\\\d+\");\n    Matcher m = p.matcher(str);\n    m.find();\n    String strb = m.group();\n    int vd = Integer.valueOf(strb);\n    return str.replaceAll(\"\\\\d\",String.valueOf(vd+1));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476369814,"creation_date":1476369814,"answer_id":40024170,"question_id":40023349,"body_markdown":"Yes of course it&#39;s possible. using regex `Pattern` and `Matcher`, here&#39;s what you will need to do:\r\n\r\n        String str = &quot;REPEAT_FOR_4&quot;;\r\n        Pattern p = Pattern.compile(&quot;([0-9]+)&quot;);\r\n        Matcher m = p.matcher(str);\r\n        StringBuffer s = new StringBuffer();\r\n        while (m.find())\r\n            m.appendReplacement(s, String.valueOf(1+ Integer.parseInt(m.group(1))));\r\n        String updated = s.toString();\r\n        System.out.println(updated);\r\n\r\nThis is [**a working Example**](http://ideone.com/a3xtIL) that returns `REPEAT_FOR_5` as output.","title":"Dynamic incrementation of all numbers within a String","body":"<p>Yes of course it's possible. using regex <code>Pattern</code> and <code>Matcher</code>, here's what you will need to do:</p>\n\n<pre><code>    String str = \"REPEAT_FOR_4\";\n    Pattern p = Pattern.compile(\"([0-9]+)\");\n    Matcher m = p.matcher(str);\n    StringBuffer s = new StringBuffer();\n    while (m.find())\n        m.appendReplacement(s, String.valueOf(1+ Integer.parseInt(m.group(1))));\n    String updated = s.toString();\n    System.out.println(updated);\n</code></pre>\n\n<p>This is <a href=\"http://ideone.com/a3xtIL\" rel=\"nofollow\"><strong>a working Example</strong></a> that returns <code>REPEAT_FOR_5</code> as output.</p>\n"}],"owner":{"account_id":1157274,"reputation":239,"user_id":1137555,"accept_rate":83,"display_name":"sonya"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1476370121,"answer_count":3,"score":4,"last_activity_date":1693067835,"creation_date":1476367698,"question_id":40023349,"body_markdown":"Is there any Java solution of replacing a digit in a String other than getting the digit using a matcher, increment it by one and replace it?\r\n\r\n&quot;REPEAT_FOR_4&quot; will return &quot;REPEAT_FOR_5&quot;\r\n&quot;REPEAT_FOR_10&quot; will return &quot;REPEAT_FOR_11&quot;\r\n\r\nI would like to do it in one line with regex and replace, not by recomposing the String as &quot;REPEAT_FOR_&quot; and add the number after incrementation.\r\nThank you!\r\n\r\nLater edit: I would like to know how to replace a number with the following one in a String.\r\n","title":"Dynamic incrementation of all numbers within a String","body":"<p>Is there any Java solution of replacing a digit in a String other than getting the digit using a matcher, increment it by one and replace it?</p>\n\n<p>\"REPEAT_FOR_4\" will return \"REPEAT_FOR_5\"\n\"REPEAT_FOR_10\" will return \"REPEAT_FOR_11\"</p>\n\n<p>I would like to do it in one line with regex and replace, not by recomposing the String as \"REPEAT_FOR_\" and add the number after incrementation.\nThank you!</p>\n\n<p>Later edit: I would like to know how to replace a number with the following one in a String.</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":5127359,"reputation":21,"user_id":4108870,"accept_rate":38,"display_name":"Rahul Kulhalli"},"score":0,"creation_date":1475734900,"post_id":39888539,"comment_id":67063910,"body_markdown":"Thank you! Just a small follow up question - how do I replace these matched tokens? I&#39;m relatively new to RegEx, so please forgive me if I sound gullible","body":"Thank you! Just a small follow up question - how do I replace these matched tokens? I&#39;m relatively new to RegEx, so please forgive me if I sound gullible"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1475735036,"post_id":39888539,"comment_id":67063971,"body_markdown":"`stringToAlter.replace(m.group(),&quot;WhateverAlterContent&quot;)`;","body":"<code>stringToAlter.replace(m.group(),&quot;WhateverAlterContent&quot;)</code>;"},{"owner":{"account_id":5127359,"reputation":21,"user_id":4108870,"accept_rate":38,"display_name":"Rahul Kulhalli"},"score":0,"creation_date":1475736589,"post_id":39888539,"comment_id":67064727,"body_markdown":"Is the following the right way?\n\n    for(...){\n        if(line[i].contains(&quot;somePattern&quot;)){\n            line[i] = line[i].replace(m.group(),&quot;myReplacement&quot;);\n        }\n    }","body":"Is the following the right way?      for(...){         if(line[i].contains(&quot;somePattern&quot;)){             line[i] = line[i].replace(m.group(),&quot;myReplacement&quot;);         }     }"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1475742334,"post_id":39888539,"comment_id":67068000,"body_markdown":"`String#contains` accepts char pattern (exact pattern) but not regex FYI. But in general yes it is fine. You can always skip `contains` check and simply do `replaceAll`. It accepts regex as argument and if there is no match - for that check you are using `contains` nothing will be replace - `String#contains` becomes surplus.","body":"<code>String#contains</code> accepts char pattern (exact pattern) but not regex FYI. But in general yes it is fine. You can always skip <code>contains</code> check and simply do <code>replaceAll</code>. It accepts regex as argument and if there is no match - for that check you are using <code>contains</code> nothing will be replace - <code>String#contains</code> becomes surplus."}],"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1475733475,"creation_date":1475733475,"answer_id":39888539,"question_id":39888457,"body_markdown":"Change \r\n\r\n    if(m.find()){\r\n        System.out.println(m.group());\r\n    }\r\n\r\nto\r\n\r\n    while(m.find()){\r\n            System.out.println(m.group());\r\n    }\r\n\r\nas `NAME` and `BRANCH` are on the same line.\r\n\r\n\r\n`Matcher#find()` will find first match in string, not all matches. To get all matches you have to call `find()` multiple times.\r\n","title":"What kind of regex should I use for the following template?","body":"<p>Change </p>\n\n<pre><code>if(m.find()){\n    System.out.println(m.group());\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>while(m.find()){\n        System.out.println(m.group());\n}\n</code></pre>\n\n<p>as <code>NAME</code> and <code>BRANCH</code> are on the same line.</p>\n\n<p><code>Matcher#find()</code> will find first match in string, not all matches. To get all matches you have to call <code>find()</code> multiple times.</p>\n"}],"owner":{"account_id":5127359,"reputation":21,"user_id":4108870,"accept_rate":38,"display_name":"Rahul Kulhalli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39888539,"answer_count":1,"score":0,"last_activity_date":1693067821,"creation_date":1475733142,"question_id":39888457,"body_markdown":"I&#39;m writing a Java program that calculates a person&#39;s average salary, and prints the monthly deductions in a template. The template is something like this:\r\n\r\n    ==============BILL==============\r\n    |  NAME: xXxX     BRANCH : xxx |\r\n    |                              |\r\n    |    Month 1 : xxx.xxx         |\r\n    |    Month 2 : xxxx.xx         |\r\n    |     &lt;other Months&gt;           |\r\n    |    Month 12 : xxx.xx         |\r\n    |                              |\r\n    |     TOTAL : ____________     |\r\n    ================================\r\n\r\nI am using the following pattern to try and capture the elements:\r\n\r\n    //template is stored in string.\r\n    String[] lines = msg.split(&quot;\\n&quot;);\r\n    Pattern p = Pattern.compile(&quot;[xX\\\\._]+&quot;);\r\n    for(String line : lines){\r\n        Matcher m = p.matcher(line);\r\n        if(m.find()){\r\n            System.out.println(m.group());\r\n        }\r\n        else{\r\n            System.out.println(&quot;no match found...&quot;);\r\n        }\r\n    }\r\n\r\nThe output I&#39;m getting is something like this:\r\n\r\n    xXxX\r\n    xxx.xxx\r\n    xxxx.xx\r\n    xxx.xx\r\n    ____________\r\n\r\nHowever, I&#39;m not able to match the &#39;xxx&#39; of BRANCH. How do I extract that pattern?\r\n    ","title":"What kind of regex should I use for the following template?","body":"<p>I'm writing a Java program that calculates a person's average salary, and prints the monthly deductions in a template. The template is something like this:</p>\n\n<pre><code>==============BILL==============\n|  NAME: xXxX     BRANCH : xxx |\n|                              |\n|    Month 1 : xxx.xxx         |\n|    Month 2 : xxxx.xx         |\n|     &lt;other Months&gt;           |\n|    Month 12 : xxx.xx         |\n|                              |\n|     TOTAL : ____________     |\n================================\n</code></pre>\n\n<p>I am using the following pattern to try and capture the elements:</p>\n\n<pre><code>//template is stored in string.\nString[] lines = msg.split(\"\\n\");\nPattern p = Pattern.compile(\"[xX\\\\._]+\");\nfor(String line : lines){\n    Matcher m = p.matcher(line);\n    if(m.find()){\n        System.out.println(m.group());\n    }\n    else{\n        System.out.println(\"no match found...\");\n    }\n}\n</code></pre>\n\n<p>The output I'm getting is something like this:</p>\n\n<pre><code>xXxX\nxxx.xxx\nxxxx.xx\nxxx.xx\n____________\n</code></pre>\n\n<p>However, I'm not able to match the 'xxx' of BRANCH. How do I extract that pattern?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":5777595,"reputation":2976,"user_id":5189673,"display_name":"Leon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474826269,"creation_date":1474826269,"answer_id":39689999,"question_id":39689923,"body_markdown":"The way I would do it, is using a `Map` with the patterns mapping to objects like `Runnable` who are then called to execute the code. Alternativly you could map to strings and then have a `switch` statement for those stings to execute your code. \r\n\r\nTo check the patterns you would then simply iterate over the map and test each pattern with its own matcher.","title":"Check a String for several regex and say which one matched","body":"<p>The way I would do it, is using a <code>Map</code> with the patterns mapping to objects like <code>Runnable</code> who are then called to execute the code. Alternativly you could map to strings and then have a <code>switch</code> statement for those stings to execute your code. </p>\n\n<p>To check the patterns you would then simply iterate over the map and test each pattern with its own matcher.</p>\n"},{"comments":[{"owner":{"account_id":6202971,"reputation":582,"user_id":4832075,"accept_rate":68,"display_name":"InDaPond"},"score":0,"creation_date":1474827111,"post_id":39690036,"comment_id":66679598,"body_markdown":"Ah yes, I feel like this is what I was looking for - using your second approach is faster? I thought I&#39;d rather not use Pattern.matcher.(expression).find()   because it would be compiled again and again and again.. while the 2nd approach just compiles it once.\nIs my understanding of this correct? I am still a beginner at programming.","body":"Ah yes, I feel like this is what I was looking for - using your second approach is faster? I thought I&#39;d rather not use Pattern.matcher.(expression).find()   because it would be compiled again and again and again.. while the 2nd approach just compiles it once. Is my understanding of this correct? I am still a beginner at programming."},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":1,"creation_date":1474827355,"post_id":39690036,"comment_id":66679673,"body_markdown":"@InDaPond It&#39;s not that bad, because each pattern would be compiled only once - namely, when you call `compile()`. However, multiple instances of `Matcher` would be created, which may be sub-optimal. Despite all that, you should pick the approach that reads better to you (and optionally to people who would be reviewing/maintaining your code). The speed is a distant second, because most of the time spent in your system would be passing the data to the server and back.","body":"@InDaPond It&#39;s not that bad, because each pattern would be compiled only once - namely, when you call <code>compile()</code>. However, multiple instances of <code>Matcher</code> would be created, which may be sub-optimal. Despite all that, you should pick the approach that reads better to you (and optionally to people who would be reviewing/maintaining your code). The speed is a distant second, because most of the time spent in your system would be passing the data to the server and back."},{"owner":{"account_id":6202971,"reputation":582,"user_id":4832075,"accept_rate":68,"display_name":"InDaPond"},"score":0,"creation_date":1475010298,"post_id":39690036,"comment_id":66766435,"body_markdown":"I tried to contact you via chat, but had no Idea how to. I have a follow-up question, maybe you want to visit me there, too:\nhttp://stackoverflow.com/questions/39734233/mulserver-nooby-code-adress-already-in-use-but-it-is-not\nThanks!","body":"I tried to contact you via chat, but had no Idea how to. I have a follow-up question, maybe you want to visit me there, too: <a href=\"http://stackoverflow.com/questions/39734233/mulserver-nooby-code-adress-already-in-use-but-it-is-not\" title=\"mulserver nooby code adress already in use but it is not\">stackoverflow.com/questions/39734233/&hellip;</a> Thanks!"},{"owner":{"account_id":6202971,"reputation":582,"user_id":4832075,"accept_rate":68,"display_name":"InDaPond"},"score":0,"creation_date":1475170127,"post_id":39690036,"comment_id":66847244,"body_markdown":"I still have no valid response on this. Might take a look? @dasblinkenlight\nhttp://stackoverflow.com/questions/39756825/threaded-server-stuck-on-accept-aka-how-to-shutdown-a-multhreaded-server-via-c","body":"I still have no valid response on this. Might take a look? @dasblinkenlight <a href=\"http://stackoverflow.com/questions/39756825/threaded-server-stuck-on-accept-aka-how-to-shutdown-a-multhreaded-server-via-c\" title=\"threaded server stuck on accept aka how to shutdown a multhreaded server via c\">stackoverflow.com/questions/39756825/&hellip;</a>"}],"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1474826456,"creation_date":1474826456,"answer_id":39690036,"question_id":39689923,"body_markdown":"You do it pattern-by-pattern, and use an `if` instead of `switch`:\r\n\r\n    if (lowercase.matcher(inputStr).find()) {\r\n        ... // Do something\r\n    } else if (reverse.matcher(inputStr).find()) {\r\n        ... // Do something else\r\n    } else {\r\n        ...\r\n    }\r\n\r\nYou can combine all patterns into one, and use *capturing groups* instead:\r\n\r\n    Pattern all = Pattern.compile(\r\n        &quot;(?&lt;lower&gt;LOWERCASE.*)|(?&lt;upper&gt;UPPERCASE.*)|(?&lt;reverse&gt;REVERSE.*)|...&quot;\r\n    );\r\n    Matcher m = all.matcher(inputStr);\r\n    if (m.find()) {\r\n        String upper = m.group(&quot;upper&quot;);\r\n        String lower = m.group(&quot;lower&quot;);\r\n        String reverse = m.group(&quot;reverse&quot;);\r\n        if (upper != null) {\r\n            ... // Do something\r\n        }\r\n        if (lower != null) {\r\n            ... // Do something\r\n        }\r\n        if (reverse != null) {\r\n            ... // Do something\r\n        }\r\n    }\r\n\r\nNote that the code above uses named capturing groups (`&lt;upper&gt;`, `&lt;lower&gt;`, etc.) ","title":"Check a String for several regex and say which one matched","body":"<p>You do it pattern-by-pattern, and use an <code>if</code> instead of <code>switch</code>:</p>\n\n<pre><code>if (lowercase.matcher(inputStr).find()) {\n    ... // Do something\n} else if (reverse.matcher(inputStr).find()) {\n    ... // Do something else\n} else {\n    ...\n}\n</code></pre>\n\n<p>You can combine all patterns into one, and use <em>capturing groups</em> instead:</p>\n\n<pre><code>Pattern all = Pattern.compile(\n    \"(?&lt;lower&gt;LOWERCASE.*)|(?&lt;upper&gt;UPPERCASE.*)|(?&lt;reverse&gt;REVERSE.*)|...\"\n);\nMatcher m = all.matcher(inputStr);\nif (m.find()) {\n    String upper = m.group(\"upper\");\n    String lower = m.group(\"lower\");\n    String reverse = m.group(\"reverse\");\n    if (upper != null) {\n        ... // Do something\n    }\n    if (lower != null) {\n        ... // Do something\n    }\n    if (reverse != null) {\n        ... // Do something\n    }\n}\n</code></pre>\n\n<p>Note that the code above uses named capturing groups (<code>&lt;upper&gt;</code>, <code>&lt;lower&gt;</code>, etc.) </p>\n"}],"owner":{"account_id":6202971,"reputation":582,"user_id":4832075,"accept_rate":68,"display_name":"InDaPond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39690036,"answer_count":2,"score":2,"last_activity_date":1693067805,"creation_date":1474825817,"question_id":39689923,"body_markdown":"First of all I know there are already thousands of RegEx posts, sadly my google/stackoverflow search skills didn&#39;t help to find what I was looking for.\r\n\r\nI have a Server client communication. The client awaits a user&#39;s input.\r\nThen he sends it to the server and the server checks if it is a valid command.\r\n\r\n    Pattern lowercase = Pattern.compile(&quot;LOWERCASE.*&quot;);\r\n\tPattern  uppercase = Pattern.compile(&quot;UPPERCASE.*&quot;);\r\n\tPattern  reverse = Pattern.compile(&quot;REVERSE.*&quot;);\r\n\tPattern  bye = Pattern.compile(&quot;BYE&quot;);\r\n\tPattern  shutdown = Pattern.compile(&quot;SHUTDOWN&quot;);\r\n\t\r\nIf it starts with one of those commands, do a certain action.\r\nI have problems creating a Matcher that checks for several patterns and then I want to go into something like\r\n\r\n    Matcher.matches(uppercase|reverse|bye|...) //Is this how I do it?\r\n    switch(inputString){\r\n    case(lowercase):  do something\r\n    case(reverse):    do something else\r\n    }\r\n\r\nand so on.\r\nI hope my request is understandable.\r\nAnd there will be multiple clients talking to the server, in case this is relevant for the answer(like Threading and static Patterns dont work well or sth)\r\n\r\nThank you.\r\n","title":"Check a String for several regex and say which one matched","body":"<p>First of all I know there are already thousands of RegEx posts, sadly my google/stackoverflow search skills didn't help to find what I was looking for.</p>\n\n<p>I have a Server client communication. The client awaits a user's input.\nThen he sends it to the server and the server checks if it is a valid command.</p>\n\n<pre><code>Pattern lowercase = Pattern.compile(\"LOWERCASE.*\");\nPattern  uppercase = Pattern.compile(\"UPPERCASE.*\");\nPattern  reverse = Pattern.compile(\"REVERSE.*\");\nPattern  bye = Pattern.compile(\"BYE\");\nPattern  shutdown = Pattern.compile(\"SHUTDOWN\");\n</code></pre>\n\n<p>If it starts with one of those commands, do a certain action.\nI have problems creating a Matcher that checks for several patterns and then I want to go into something like</p>\n\n<pre><code>Matcher.matches(uppercase|reverse|bye|...) //Is this how I do it?\nswitch(inputString){\ncase(lowercase):  do something\ncase(reverse):    do something else\n}\n</code></pre>\n\n<p>and so on.\nI hope my request is understandable.\nAnd there will be multiple clients talking to the server, in case this is relevant for the answer(like Threading and static Patterns dont work well or sth)</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","regex","string"],"answers":[{"comments":[{"owner":{"account_id":3970976,"reputation":109,"user_id":3275589,"accept_rate":38,"display_name":"4Kings"},"score":1,"creation_date":1473233889,"post_id":39363893,"comment_id":66056654,"body_markdown":"This worked. Didn&#39;t think of escaping those dollar signs. Many thanks! :)","body":"This worked. Didn&#39;t think of escaping those dollar signs. Many thanks! :)"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1473234099,"post_id":39363893,"comment_id":66056761,"body_markdown":"@4Kings - As mentioned by LukStorms, you might want to escape the `.` as well","body":"@4Kings - As mentioned by LukStorms, you might want to escape the <code>.</code> as well"}],"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1473233767,"creation_date":1473233767,"answer_id":39363893,"question_id":39363870,"body_markdown":"You need to escape each `$` individually (or use `pattern.quote`) (`$` is a *special character* in regex). Use \r\n\r\n`boolean result = valuepairName.matches(&quot;sc_mpl_MAX_AUD_TIME_To_(20|32|82)_Val.\\\\$\\\\$DATE_TO_LOAD&quot;);`","title":"Java regex matching with or clause","body":"<p>You need to escape each <code>$</code> individually (or use <code>pattern.quote</code>) (<code>$</code> is a <em>special character</em> in regex). Use </p>\n\n<p><code>boolean result = valuepairName.matches(\"sc_mpl_MAX_AUD_TIME_To_(20|32|82)_Val.\\\\$\\\\$DATE_TO_LOAD\");</code></p>\n"}],"owner":{"account_id":3970976,"reputation":109,"user_id":3275589,"accept_rate":38,"display_name":"4Kings"},"comment_count":0,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1473234032,"accepted_answer_id":39363893,"answer_count":1,"score":-1,"last_activity_date":1693067769,"creation_date":1473233676,"question_id":39363870,"body_markdown":"I&#39;ve got the following code\r\n\r\n    String valuepairName = &quot;sc_mpl_MAX_AUD_TIME_To_20_Val.$$DATE_TO_LOAD&quot;;\r\n    boolean result = valuepairName.matches(&quot;sc_mpl_MAX_AUD_TIME_To_(20|32|82)_Val.$$DATE_TO_LOAD&quot;);\r\n\r\nThe result evaluates to false, but I cannot see the mistake.\r\nThis must be very trivial, hence it&#39;s driving me crazy :(","title":"Java regex matching with or clause","body":"<p>I've got the following code</p>\n\n<pre><code>String valuepairName = \"sc_mpl_MAX_AUD_TIME_To_20_Val.$$DATE_TO_LOAD\";\nboolean result = valuepairName.matches(\"sc_mpl_MAX_AUD_TIME_To_(20|32|82)_Val.$$DATE_TO_LOAD\");\n</code></pre>\n\n<p>The result evaluates to false, but I cannot see the mistake.\nThis must be very trivial, hence it's driving me crazy :(</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1472567705,"post_id":39230355,"comment_id":65797713,"body_markdown":"The file contains `\\043` literally? In source code, that&#39;s replaced by the compiler. You get no such behavior when you read it from wherever at runtime.","body":"The file contains <code>\\043</code> literally? In source code, that&#39;s replaced by the compiler. You get no such behavior when you read it from wherever at runtime."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1472567795,"post_id":39230355,"comment_id":65797778,"body_markdown":"Why do you want to avoid #?","body":"Why do you want to avoid #?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1472568632,"post_id":39230355,"comment_id":65798378,"body_markdown":"Then use `\\u0023` if you do not want to use `#`. Please provide an [MCVE (minimal complete verifiable example)](http://stackoverflow.com/help/mcve). I suspect you just do not have `#` in your input.","body":"Then use <code>\\u0023</code> if you do not want to use <code>#</code>. Please provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE (minimal complete verifiable example)</a>. I suspect you just do not have <code>#</code> in your input."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1472568932,"post_id":39230355,"comment_id":65798618,"body_markdown":"I had the wrong duplicate and I can&#39;t find a more relevant one. What you want to do is parse an _octal escape_ sequence from a file.","body":"I had the wrong duplicate and I can&#39;t find a more relevant one. What you want to do is parse an <i>octal escape</i> sequence from a file."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1472569991,"post_id":39230355,"comment_id":65799422,"body_markdown":"@SotiriosDelimanolis: http://stackoverflow.com/questions/3537706/how-to-unescape-a-java-string-literal-in-java?","body":"@SotiriosDelimanolis: <a href=\"http://stackoverflow.com/questions/3537706/how-to-unescape-a-java-string-literal-in-java\" title=\"how to unescape a java string literal in java\">stackoverflow.com/questions/3537706/&hellip;</a>?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1472570092,"post_id":39230355,"comment_id":65799503,"body_markdown":"@WiktorStribiżew It&#39;s hidden somewhere in there. Up to you :)","body":"@WiktorStribiżew It&#39;s hidden somewhere in there. Up to you :)"},{"owner":{"account_id":9103365,"reputation":1,"user_id":6774754,"display_name":"alejandro romero"},"score":0,"creation_date":1472577595,"post_id":39230355,"comment_id":65804187,"body_markdown":"the main idea is to build a small scanner, and to use a file representation like the Trivial Graph Format, wish is very basic an easy to understand, the problem is that &#39;#&#39; is use as a divider in the file specification to separate data from nodes and edges. So the use for representations like \\u0023 en Unicode and \\x043 en octal for that symbol.","body":"the main idea is to build a small scanner, and to use a file representation like the Trivial Graph Format, wish is very basic an easy to understand, the problem is that &#39;#&#39; is use as a divider in the file specification to separate data from nodes and edges. So the use for representations like \\u0023 en Unicode and \\x043 en octal for that symbol."}],"answers":[{"tags":[],"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472575328,"creation_date":1472575328,"answer_id":39232904,"question_id":39230355,"body_markdown":"\r\n     assertEquals(1, &quot;\\043&quot;.length());\r\n     assertEquals(&quot;#&quot;, &quot;\\043&quot;);\r\n\r\n... both pass.\r\n\r\nThat `\\043` gets turned into one character (&quot;#&quot;) by the Java compiler.\r\n\r\nIf you read a file containing:\r\n\r\n    \\043\r\n\r\n... into a String, then:\r\n\r\n     assertEquals(&quot;\\\\043&quot;, stringFromFile);\r\n\r\n... will pass. If you want a literal `\\` in your string, you need to escape it with another `\\`.\r\n\r\n","title":"Alternative representation for characters in REGEX","body":"<pre><code> assertEquals(1, \"\\043\".length());\n assertEquals(\"#\", \"\\043\");\n</code></pre>\n\n<p>... both pass.</p>\n\n<p>That <code>\\043</code> gets turned into one character (\"#\") by the Java compiler.</p>\n\n<p>If you read a file containing:</p>\n\n<pre><code>\\043\n</code></pre>\n\n<p>... into a String, then:</p>\n\n<pre><code> assertEquals(\"\\\\043\", stringFromFile);\n</code></pre>\n\n<p>... will pass. If you want a literal <code>\\</code> in your string, you need to escape it with another <code>\\</code>.</p>\n"}],"owner":{"account_id":9103365,"reputation":1,"user_id":6774754,"display_name":"alejandro romero"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693067757,"creation_date":1472567563,"question_id":39230355,"body_markdown":"Why am I not getting the same behavior when I build a Pattern from a literal regular expression and when I read the regular expression from a file?\r\n\r\n    String regex = &quot;(?xi)(title)[\\\\.:;](.*) \\043 Title property&quot;;\r\n    Pattern pattern = Pattern.compile(regex);\r\n    System.out.println(pattern);\r\n    // will print:\r\n \r\n\r\n&gt; (?xi)(title)\\[\\.:;](.*) # Title property\r\n\r\nThis expression works yet when I attempt to read the regular expression from a file I encounter an issue. The &#39;\\043&#39; isn&#39;t replaced to its proper form. Why so?\r\n\r\nI&#39;m trying to avoid the use of the literal &#39;#&#39; character symbol and thereby use and alternative representation of it because of other conflicts in my code.\r\n\r\n\r\n","title":"Alternative representation for characters in REGEX","body":"<p>Why am I not getting the same behavior when I build a Pattern from a literal regular expression and when I read the regular expression from a file?</p>\n\n<pre><code>String regex = \"(?xi)(title)[\\\\.:;](.*) \\043 Title property\";\nPattern pattern = Pattern.compile(regex);\nSystem.out.println(pattern);\n// will print:\n</code></pre>\n\n<blockquote>\n  <p>(?xi)(title)[.:;](.*) # Title property</p>\n</blockquote>\n\n<p>This expression works yet when I attempt to read the regular expression from a file I encounter an issue. The '\\043' isn't replaced to its proper form. Why so?</p>\n\n<p>I'm trying to avoid the use of the literal '#' character symbol and thereby use and alternative representation of it because of other conflicts in my code.</p>\n"},{"tags":["java","regex","stack-overflow"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1470864744,"post_id":38883448,"comment_id":65128664,"body_markdown":"You should not use regular expressions for parsing problems like XML. XML parsers are not hard to find.","body":"You should not use regular expressions for parsing problems like XML. XML parsers are not hard to find."},{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":0,"creation_date":1470871234,"post_id":38883448,"comment_id":65130694,"body_markdown":"Of course! We do use an XML parser, but before that we are doing some text pre-processing which is more complex than the example above. :-)","body":"Of course! We do use an XML parser, but before that we are doing some text pre-processing which is more complex than the example above. :-)"}],"answers":[{"comments":[{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":0,"creation_date":1470871143,"post_id":38883498,"comment_id":65130669,"body_markdown":"Yes, there is no point having an alternation as per my example above, since \\r and \\n can be replaced by the (?s) directive. Both alternatives in your answer work as expected. Thanks and +1. :-)","body":"Yes, there is no point having an alternation as per my example above, since \\r and \\n can be replaced by the (?s) directive. Both alternatives in your answer work as expected. Thanks and +1. :-)"},{"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"score":0,"creation_date":1509575119,"post_id":38883498,"comment_id":81077476,"body_markdown":"I have the same problem with a far simpler regex: (.|\\s)*   can you explain how I&#39;d avoid the SO pls? I&#39;m trying to create a pattern to match any character including line terminators etc. Thx","body":"I have the same problem with a far simpler regex: (.|\\s)*   can you explain how I&#39;d avoid the SO pls? I&#39;m trying to create a pattern to match any character including line terminators etc. Thx"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1509576013,"post_id":38883498,"comment_id":81077766,"body_markdown":"@Toby Same as here. Or, just replace `(.|\\s)*` with `(?s:.*)`","body":"@Toby Same as here. Or, just replace <code>(.|\\s)*</code> with <code>(?s:.*)</code>"},{"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"score":0,"creation_date":1509646369,"post_id":38883498,"comment_id":81113182,"body_markdown":"@WiktorStribiżew thanks, that worked a treat! I tried `(?s)(.+?)*` and it deferred the problem but larger input would still SO. Life saver!","body":"@WiktorStribiżew thanks, that worked a treat! I tried <code>(?s)(.+?)*</code> and it deferred the problem but larger input would still SO. Life saver!"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1509647324,"post_id":38883498,"comment_id":81113751,"body_markdown":"@Toby You need to either use appropriate parser for your input (if it is (X)HTML or JSON, or similar), or make sure you [unroll](http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop) the lazy dot pattern.","body":"@Toby You need to either use appropriate parser for your input (if it is (X)HTML or JSON, or similar), or make sure you <a href=\"http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop\" rel=\"nofollow noreferrer\">unroll</a> the lazy dot pattern."}],"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1470864175,"creation_date":1470863007,"answer_id":38883498,"question_id":38883448,"body_markdown":"Some more details on the [origin of the stack overflow issue][1]:\r\n\r\n&gt; Sometimes the regex `Pattern` class will throw a `StackOverflowError`. This is a manifestation of the [known bug #5050507][2], which has been in the `java.util.regex` package since Java 1.4. The bug is here to stay because it has &quot;won&#39;t fix&quot; status. This error occurs because the `Pattern` class compiles a regular expression into a small program which is then executed to find a match. This program is used recursively, and sometimes when too many recursive calls are made this error occurs. See the [description of the bug][2] for more details. **It seems it&#39;s triggered mostly by the use of alternations.**\r\n\r\nYour regex (that has alternations) is matching any 1+ characters between two tags.\r\n\r\nYou may either use a lazy dot matching pattern with the `Pattern.DOTALL` modifier (or the equivalent embedded flag `(?s)`) that will make the `.` match newline symbols as well:\r\n\r\n    (?s)&lt;Data&gt;(?&lt;data&gt;.+?)&lt;/Data&gt;\r\n\r\nSee [this regex demo][3]\r\n\r\nHowever, lazy dot matching patterns still consume lots of memory in case of huge inputs. The best way out is to use an [*unroll-the-loop method*](http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop):\r\n\r\n    &lt;Data&gt;(?&lt;data&gt;[^&lt;]*(?:&lt;(?!/?Data&gt;)[^&lt;]*)*)&lt;/Data&gt;\r\n\r\nSee the [regex demo](https://regex101.com/r/oG5aE9/1)\r\n\r\n**Details**:\r\n\r\n - `&lt;Data&gt;` - literal text `&lt;Data&gt;`\r\n - `(?&lt;data&gt;` - start of the capturing group &quot;data&quot;\r\n   - `[^&lt;]*` - zero or more characters other than `&lt;`\r\n   - `(?:&lt;(?!/?Data&gt;)[^&lt;]*)*` - 0 or more sequences of: \r\n      - `&lt;(?!/?Data&gt;)` - a `&lt;` that is not followed with `Data&gt;` or `/Data&gt;`\r\n      - `[^&lt;]*` - zero or more characters other than `&lt;`\r\n - `)` - end of the &quot;data&quot; group\r\n - `&lt;/Data&gt;` - closing delimiter\r\n\r\n\r\n  [1]: http://www.javaworld.com/article/2077757/core-java/optimizing-regular-expressions-in-java.html?page=4\r\n  [2]: http://www.javaworld.com/article/2077757/core-java/optimizing-regular-expressions-in-java.html?page=4#resources\r\n  [3]: https://regex101.com/r/rY5mI2/1","title":"Java regex to match start/end tags causes stack overflow","body":"<p>Some more details on the <a href=\"http://www.javaworld.com/article/2077757/core-java/optimizing-regular-expressions-in-java.html?page=4\" rel=\"noreferrer\">origin of the stack overflow issue</a>:</p>\n\n<blockquote>\n  <p>Sometimes the regex <code>Pattern</code> class will throw a <code>StackOverflowError</code>. This is a manifestation of the <a href=\"http://www.javaworld.com/article/2077757/core-java/optimizing-regular-expressions-in-java.html?page=4#resources\" rel=\"noreferrer\">known bug #5050507</a>, which has been in the <code>java.util.regex</code> package since Java 1.4. The bug is here to stay because it has \"won't fix\" status. This error occurs because the <code>Pattern</code> class compiles a regular expression into a small program which is then executed to find a match. This program is used recursively, and sometimes when too many recursive calls are made this error occurs. See the <a href=\"http://www.javaworld.com/article/2077757/core-java/optimizing-regular-expressions-in-java.html?page=4#resources\" rel=\"noreferrer\">description of the bug</a> for more details. <strong>It seems it's triggered mostly by the use of alternations.</strong></p>\n</blockquote>\n\n<p>Your regex (that has alternations) is matching any 1+ characters between two tags.</p>\n\n<p>You may either use a lazy dot matching pattern with the <code>Pattern.DOTALL</code> modifier (or the equivalent embedded flag <code>(?s)</code>) that will make the <code>.</code> match newline symbols as well:</p>\n\n<pre><code>(?s)&lt;Data&gt;(?&lt;data&gt;.+?)&lt;/Data&gt;\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/rY5mI2/1\" rel=\"noreferrer\">this regex demo</a></p>\n\n<p>However, lazy dot matching patterns still consume lots of memory in case of huge inputs. The best way out is to use an <a href=\"http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop\" rel=\"noreferrer\"><em>unroll-the-loop method</em></a>:</p>\n\n<pre><code>&lt;Data&gt;(?&lt;data&gt;[^&lt;]*(?:&lt;(?!/?Data&gt;)[^&lt;]*)*)&lt;/Data&gt;\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/oG5aE9/1\" rel=\"noreferrer\">regex demo</a></p>\n\n<p><strong>Details</strong>:</p>\n\n<ul>\n<li><code>&lt;Data&gt;</code> - literal text <code>&lt;Data&gt;</code></li>\n<li><code>(?&lt;data&gt;</code> - start of the capturing group \"data\"\n\n<ul>\n<li><code>[^&lt;]*</code> - zero or more characters other than <code>&lt;</code></li>\n<li><code>(?:&lt;(?!/?Data&gt;)[^&lt;]*)*</code> - 0 or more sequences of: \n\n<ul>\n<li><code>&lt;(?!/?Data&gt;)</code> - a <code>&lt;</code> that is not followed with <code>Data&gt;</code> or <code>/Data&gt;</code></li>\n<li><code>[^&lt;]*</code> - zero or more characters other than <code>&lt;</code></li>\n</ul></li>\n</ul></li>\n<li><code>)</code> - end of the \"data\" group</li>\n<li><code>&lt;/Data&gt;</code> - closing delimiter</li>\n</ul>\n"}],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1715,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38883498,"answer_count":1,"score":3,"last_activity_date":1693067745,"creation_date":1470862852,"question_id":38883448,"body_markdown":"The standard implementation of the `Java` `Pattern` class uses recursion to implement many forms of regular expressions (e.g., certain operators, alternation). \r\n\r\nThis approach causes stack overflow issues with input strings that exceed a (relatively small) length, which may not even be more than 1,000 characters, depending on the regex involved.\r\n\r\nA typical example of this is the following regex using alternation to extract a possibly multiline element (named `Data`) from a surrounding XML string, which has already been supplied:\r\n\r\n    &lt;Data&gt;(?&lt;data&gt;(?:.|\\r|\\n)+?)&lt;/Data&gt;\r\n\r\nThe above regex is used in with the `Matcher.find()` method to read the &quot;data&quot; capturing group and works as expected, until the length of the supplied input string exceeds 1,200 characters or so, in which case it causes a stack overflow.\r\n\r\nCan the above regex be rewritten to avoid the stack overflow issue?\r\n\r\n","title":"Java regex to match start/end tags causes stack overflow","body":"<p>The standard implementation of the <code>Java</code> <code>Pattern</code> class uses recursion to implement many forms of regular expressions (e.g., certain operators, alternation). </p>\n\n<p>This approach causes stack overflow issues with input strings that exceed a (relatively small) length, which may not even be more than 1,000 characters, depending on the regex involved.</p>\n\n<p>A typical example of this is the following regex using alternation to extract a possibly multiline element (named <code>Data</code>) from a surrounding XML string, which has already been supplied:</p>\n\n<pre><code>&lt;Data&gt;(?&lt;data&gt;(?:.|\\r|\\n)+?)&lt;/Data&gt;\n</code></pre>\n\n<p>The above regex is used in with the <code>Matcher.find()</code> method to read the \"data\" capturing group and works as expected, until the length of the supplied input string exceeds 1,200 characters or so, in which case it causes a stack overflow.</p>\n\n<p>Can the above regex be rewritten to avoid the stack overflow issue?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":365271,"reputation":30305,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"score":0,"creation_date":1469028902,"post_id":38484811,"comment_id":64371730,"body_markdown":"Why not using `&quot;6003 Honore Ave Suite 101 Sarasota Florida,\n   34238&quot;.contains(&quot;34238&quot;)` ?","body":"Why not using <code>&quot;6003 Honore Ave Suite 101 Sarasota Florida,    34238&quot;.contains(&quot;34238&quot;)</code> ?"},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1469028946,"post_id":38484811,"comment_id":64371762,"body_markdown":"It is US zip code format.We are not sure will get the same","body":"It is US zip code format.We are not sure will get the same"},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1469028989,"post_id":38484811,"comment_id":64371787,"body_markdown":"Finally I have to find weather that sentence has US zip code or not","body":"Finally I have to find weather that sentence has US zip code or not"},{"owner":{"account_id":6430407,"reputation":1114,"user_id":4983845,"accept_rate":93,"display_name":"Vale"},"score":0,"creation_date":1469029050,"post_id":38484811,"comment_id":64371832,"body_markdown":"Which of the two blocks produces ok?","body":"Which of the two blocks produces ok?"},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1469029079,"post_id":38484811,"comment_id":64371853,"body_markdown":"1st and 2nd blocks","body":"1st and 2nd blocks"},{"owner":{"account_id":365271,"reputation":30305,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"score":0,"creation_date":1469029442,"post_id":38484811,"comment_id":64372103,"body_markdown":"@PSR, your code works as it should work. The regex you are using matches only lines with `12345` or `12345-1234`. Check my answer for more details","body":"@PSR, your code works as it should work. The regex you are using matches only lines with <code>12345</code> or <code>12345-1234</code>. Check my answer for more details"}],"answers":[{"tags":[],"owner":{"account_id":365271,"reputation":30305,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1469029805,"creation_date":1469029085,"answer_id":38484912,"question_id":38484811,"body_markdown":"The code is good and working as expected. In the `2)` and `3)` block in your question you are using the same regex but different input strings.\r\n\r\nHowever, if you just want to check if a string must contain a US zip code, then the problem is that your regex is using anchors, so you are only matching lines that starts and finish with a zip code. \r\n\r\nThe strings that matches your regex are like `34238` or `34238-1234` and won&#39;t match `something 12345 something`.\r\n\r\nIf you remove the anchors, then you will match `whatever 12345 whatever`:\r\n\r\n\r\n    // Pattern pattern = Pattern.compile(&quot;^[0-9]{5}(?:-[0-9]{4})?$&quot;);\r\n    //                                    ^--------- Here -------^\r\n    Pattern pattern = Pattern.compile(&quot;[0-9]{5}(?:-[0-9]{4})?&quot;);\r\n    Matcher matcher = pattern.matcher(&quot;6003 Honore Ave Suite 101 Sarasota Florida, 34238&quot;);\r\n    if (matcher.find()) {\r\n        System.out.println(&quot;ok&quot;);\r\n    }\r\n\r\nBtw, if you just want to check if a string contains a zip code, then you can use `String.matches(..)`, like this:\r\n\r\n    String str = &quot;6003 Honore Ave Suite 101 Sarasota Florida, 34238&quot;;\r\n    if (str.matches(&quot;.*[0-9]{5}(?:-[0-9]{4})?.*&quot;)) {\r\n        System.out.println(&quot;ok&quot;);\r\n    }\r\n\r\n**[IDEOne demo](https://ideone.com/NuoTjM)**","title":"Java Pattern Matcher is not working for regex as expected","body":"<p>The code is good and working as expected. In the <code>2)</code> and <code>3)</code> block in your question you are using the same regex but different input strings.</p>\n\n<p>However, if you just want to check if a string must contain a US zip code, then the problem is that your regex is using anchors, so you are only matching lines that starts and finish with a zip code. </p>\n\n<p>The strings that matches your regex are like <code>34238</code> or <code>34238-1234</code> and won't match <code>something 12345 something</code>.</p>\n\n<p>If you remove the anchors, then you will match <code>whatever 12345 whatever</code>:</p>\n\n<pre><code>// Pattern pattern = Pattern.compile(\"^[0-9]{5}(?:-[0-9]{4})?$\");\n//                                    ^--------- Here -------^\nPattern pattern = Pattern.compile(\"[0-9]{5}(?:-[0-9]{4})?\");\nMatcher matcher = pattern.matcher(\"6003 Honore Ave Suite 101 Sarasota Florida, 34238\");\nif (matcher.find()) {\n    System.out.println(\"ok\");\n}\n</code></pre>\n\n<p>Btw, if you just want to check if a string contains a zip code, then you can use <code>String.matches(..)</code>, like this:</p>\n\n<pre><code>String str = \"6003 Honore Ave Suite 101 Sarasota Florida, 34238\";\nif (str.matches(\".*[0-9]{5}(?:-[0-9]{4})?.*\")) {\n    System.out.println(\"ok\");\n}\n</code></pre>\n\n<p><strong><a href=\"https://ideone.com/NuoTjM\" rel=\"nofollow\">IDEOne demo</a></strong></p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469029126,"creation_date":1469029126,"answer_id":38484930,"question_id":38484811,"body_markdown":"Although the pattern is the same, the input strings are different:\r\n\r\n- In your second example, you are matching a string consisting entirely of a zip code, so you get a match for `^...$` expression\r\n- The second example does not start with the zip code, so the `^` anchor prevents your regex from matching.\r\n\r\n`^` and `$` anchors are used when you want your expression to match the entire input line. When you want to match at the beginning, keep `^` and remove `$`; when you want to match at the end, remove `^` and keep `$`; when you want to match anywhere inside the string, remove both anchors.","title":"Java Pattern Matcher is not working for regex as expected","body":"<p>Although the pattern is the same, the input strings are different:</p>\n\n<ul>\n<li>In your second example, you are matching a string consisting entirely of a zip code, so you get a match for <code>^...$</code> expression</li>\n<li>The second example does not start with the zip code, so the <code>^</code> anchor prevents your regex from matching.</li>\n</ul>\n\n<p><code>^</code> and <code>$</code> anchors are used when you want your expression to match the entire input line. When you want to match at the beginning, keep <code>^</code> and remove <code>$</code>; when you want to match at the end, remove <code>^</code> and keep <code>$</code>; when you want to match anywhere inside the string, remove both anchors.</p>\n"}],"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1409,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693067728,"creation_date":1469028785,"question_id":38484811,"body_markdown":"   \r\n\r\n    1)  Pattern pattern = Pattern.compile(&quot;34238&quot;);\r\n       Matcher matcher = pattern.matcher(&quot;6003 Honore Ave Suite 101 Sarasota Florida,\r\n       34238&quot;);\r\n        if (matcher.find()) {\r\n        \tSystem.out.println(&quot;ok&quot;);\r\n        }\r\n\r\n    2)  Pattern pattern = Pattern.compile(&quot;^[0-9]{5}(?:-[0-9]{4})?$&quot;);\r\n\t\tMatcher matcher = pattern.matcher(&quot;34238&quot;);\r\n\t\tif (matcher.find()) {\r\n\t\t    System.out.println(&quot;ok&quot;);\r\n\t\t}\r\n\r\nOutput for the above code is: **ok**\r\n\r\nBut the following code is not printing anything:\r\n\r\n        Pattern pattern = Pattern.compile(&quot;^[0-9]{5}(?:-[0-9]{4})?$&quot;);\r\n    \tMatcher matcher = pattern.matcher(&quot;6003 Honore Ave Suite 101 Sarasota Florida, 34238&quot;);\r\n    \tif (matcher.find()) {\r\n    \t    System.out.println(&quot;ok&quot;);\r\n    \t}\r\n\r\n\r\nWhat is the reason for this not to print **ok**? I am using the same pattern here also.","title":"Java Pattern Matcher is not working for regex as expected","body":"<pre><code>1)  Pattern pattern = Pattern.compile(\"34238\");\n   Matcher matcher = pattern.matcher(\"6003 Honore Ave Suite 101 Sarasota Florida,\n   34238\");\n    if (matcher.find()) {\n        System.out.println(\"ok\");\n    }\n\n2)  Pattern pattern = Pattern.compile(\"^[0-9]{5}(?:-[0-9]{4})?$\");\n    Matcher matcher = pattern.matcher(\"34238\");\n    if (matcher.find()) {\n        System.out.println(\"ok\");\n    }\n</code></pre>\n\n<p>Output for the above code is: <strong>ok</strong></p>\n\n<p>But the following code is not printing anything:</p>\n\n<pre><code>    Pattern pattern = Pattern.compile(\"^[0-9]{5}(?:-[0-9]{4})?$\");\n    Matcher matcher = pattern.matcher(\"6003 Honore Ave Suite 101 Sarasota Florida, 34238\");\n    if (matcher.find()) {\n        System.out.println(\"ok\");\n    }\n</code></pre>\n\n<p>What is the reason for this not to print <strong>ok</strong>? I am using the same pattern here also.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1468844811,"post_id":38436577,"comment_id":64278828,"body_markdown":"Maybe you can add optional whitespaces `\\s*` before commas and use a single `String pattern1=&quot;(&quot; + word+&quot;\\\\w*,\\\\s*\\\\w*,\\\\s*\\\\w|\\\\w*,\\\\s*&quot;+word+&quot;\\\\w*,\\\\s*\\\\w|\\\\w*,\\\\s*\\\\w*,\\\\s*&quot;+word+&quot;\\\\w)&quot;;`? See https://ideone.com/w98knS","body":"Maybe you can add optional whitespaces <code>\\s*</code> before commas and use a single <code>String pattern1=&quot;(&quot; + word+&quot;\\\\w*,\\\\s*\\\\w*,\\\\s*\\\\w|\\\\w*,\\\\s*&quot;+word+&quot;\\\\w*,\\\\s*\\\\w|\\\\&zwnj;&#8203;w*,\\\\s*\\\\w*,\\\\s*&quot;+wo&zwnj;&#8203;rd+&quot;\\\\w)&quot;;</code>? See <a href=\"https://ideone.com/w98knS\" rel=\"nofollow noreferrer\">ideone.com/w98knS</a>"},{"owner":{"account_id":8131339,"reputation":385,"user_id":6124515,"accept_rate":67,"display_name":"Jenya Kirmiza"},"score":0,"creation_date":1468845206,"post_id":38436577,"comment_id":64279115,"body_markdown":"@WiktorStribiżew please see the clarifications ins the question. Its a cool idea but i need to use smth else for the second and the third param","body":"@WiktorStribiżew please see the clarifications ins the question. Its a cool idea but i need to use smth else for the second and the third param"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1468845418,"post_id":38436577,"comment_id":64279277,"body_markdown":"Like `String pattern1=&quot;(&quot; + word+&quot;\\\\w*,\\\\s*\\\\w+(?:\\\\s+\\\\w+)?,\\\\s*\\\\w+(?:\\\\s+\\\\w+)*|\\\\w+,\\\\s*&quot;+word+&quot;\\\\w*(?:\\\\s+\\\\w+)?,\\\\s*\\\\w+(?:\\\\s+\\\\w+)*|\\\\w+,\\\\s*\\\\w+(?:\\\\s+\\\\w+)?,\\\\s*&quot;+word+&quot;\\\\w*(?:\\\\s+\\\\w+)*)&quot;;`? ([Same link](https://ideone.com/w98knS))","body":"Like <code>String pattern1=&quot;(&quot; + word+&quot;\\\\w*,\\\\s*\\\\w+(?:\\\\s+\\\\w+)?,\\\\s*\\\\w+(?:\\\\s+\\\\w+)*|\\\\w+,&zwnj;&#8203;\\\\s*&quot;+word+&quot;\\\\w*(?:\\&zwnj;&#8203;\\s+\\\\w+)?,\\\\s*\\\\w+(?&zwnj;&#8203;:\\\\s+\\\\w+)*|\\\\w+,\\\\s&zwnj;&#8203;*\\\\w+(?:\\\\s+\\\\w+)?,\\&zwnj;&#8203;\\s*&quot;+word+&quot;\\\\w*(?:\\\\&zwnj;&#8203;s+\\\\w+)*)&quot;;</code>? (<a href=\"https://ideone.com/w98knS\" rel=\"nofollow noreferrer\">Same link</a>)"},{"owner":{"account_id":8131339,"reputation":385,"user_id":6124515,"accept_rate":67,"display_name":"Jenya Kirmiza"},"score":0,"creation_date":1468845572,"post_id":38436577,"comment_id":64279390,"body_markdown":"@WiktorStribiżew i mean like this: word=KB, &quot;KB..., KB....,KB....\nAfter KB it can be anything. It can contain symbols like - and whatever except comma.","body":"@WiktorStribiżew i mean like this: word=KB, &quot;KB..., KB....,KB.... After KB it can be anything. It can contain symbols like - and whatever except comma."},{"owner":{"account_id":8552085,"reputation":1146,"user_id":6408723,"display_name":"Maria Ivanova"},"score":0,"creation_date":1468846698,"post_id":38436577,"comment_id":64280209,"body_markdown":"What about this pattern: `(?=[\\b\\s]*)word`?","body":"What about this pattern: <code>(?=[\\b\\s]*)word</code>?"},{"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"score":0,"creation_date":1468847066,"post_id":38436577,"comment_id":64280469,"body_markdown":"Couldn&#39;t you tokenize the string using comma as the separator and use if string1.startsWith(&quot;SE&quot;)","body":"Couldn&#39;t you tokenize the string using comma as the separator and use if string1.startsWith(&quot;SE&quot;)"},{"owner":{"account_id":8131339,"reputation":385,"user_id":6124515,"accept_rate":67,"display_name":"Jenya Kirmiza"},"score":0,"creation_date":1468847112,"post_id":38436577,"comment_id":64280520,"body_markdown":"ye, i can but its not the fastest solution","body":"ye, i can but its not the fastest solution"}],"answers":[{"comments":[{"owner":{"account_id":8131339,"reputation":385,"user_id":6124515,"accept_rate":67,"display_name":"Jenya Kirmiza"},"score":0,"creation_date":1468845833,"post_id":38436984,"comment_id":64279585,"body_markdown":"if(stringInput.contains(text)) doesnt meet my needs. You see, i want to match the beginning of the first word. e.g. Word1, Word1 .....,Word1 .......\nContains will give me e.g. &quot;Contains&quot; &quot;ai&quot;, is not in the beginning of the word &quot;Contains&quot;","body":"if(stringInput.contains(text)) doesnt meet my needs. You see, i want to match the beginning of the first word. e.g. Word1, Word1 .....,Word1 ....... Contains will give me e.g. &quot;Contains&quot; &quot;ai&quot;, is not in the beginning of the word &quot;Contains&quot;"},{"owner":{"account_id":8525882,"reputation":2719,"user_id":6391367,"display_name":"explv"},"score":0,"creation_date":1468846031,"post_id":38436984,"comment_id":64279691,"body_markdown":"@JenyaKirmiza ah, I understand now.","body":"@JenyaKirmiza ah, I understand now."}],"tags":[],"owner":{"account_id":8525882,"reputation":2719,"user_id":6391367,"display_name":"explv"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1468849082,"creation_date":1468845619,"answer_id":38436984,"question_id":38436577,"body_markdown":"Your patterns are incorrect. I highly recommend you learn some more about regex:\r\n\r\nYour first pattern: `word+&quot;\\\\w*,\\\\s\\\\w*,\\\\w&quot;` matches:\r\n\r\n - The string to match\r\n - Followed by 0 or more word characters\r\n - Followed by a comma\r\n - Followed by a single white space character\r\n - Followed by 0 or more word characters\r\n - Followed by a comma\r\n - Followed by a single word character   \r\n\r\nThis pattern works for the given input String, however would fail if there is a space after the last comma.\r\n\r\nThe second pattern: `&quot;\\\\w*,\\\\.&quot;+word+&quot;\\\\w*,\\\\w&quot;` matches:\r\n\r\n - 0 or more word characters\r\n - Followed by a comma\r\n - Followed by a literal .\r\n - Followed by the string to match\r\n - Followed by 0 or more word characters\r\n - Followed by a comma\r\n - Followed by a single word character\r\n\r\nThis will not work because you have escaped the `.` character `\\\\.` which means it will match a literal `.` which your string does not contain.\r\n\r\nYour final pattern: `&quot;\\\\w*,\\\\w*,&quot;+word+&quot;\\\\w&quot;` matches:\r\n\r\n - 0 or more word characters\r\n - Followed by a comma\r\n - Followed by 0 or more word characters\r\n - Followed by a comma\r\n - Followed by the string to match\r\n - Followed by a single word character\r\n\r\nThis will fail because you have not accounted for white space after the commas.\r\n\r\nA single, correct regex pattern would be something like:\r\n\r\n    ^(?:%s.*,.*,.*)|(?:.*,\\\\s*%s.*,.*)|(?:.*,.*,\\\\s*%s.*)$\r\n\r\nWhere `%s` is your string to search for.\r\n\r\nExplanation:\r\n\r\n - `^` matches the start of the string, and `$` the end of it.\r\n - There are three non-capturing groups `(?:)`\r\n - Each group is separated by a `|` which means or. So only one of these groups needs to match.\r\n - The first group is to match the search text at the start of the first word, and so is simply, the search text followed by 0 or more of any character, followed by a comma, followed by 0 or more of any character...\r\n - The second group is to match the search text at the start of the second word, this is similar to the first pattern, except for we only want to match whitespace before the second word instead of any character.\r\n - The third group is to match the search text at the start of the third word, this pattern is pretty much the same as the second, just shifted along.\r\n\r\nUsage:\r\n\r\n    String pattern = String.format(&quot;^(?:%s.*,.*,.*)|(?:.*,\\\\s*%s.*,.*)|(?:.*,.*,\\\\s*%s.*)$&quot;, \r\n                searchText, searchText, searchText);\r\n        \r\n    Matcher m = Pattern.compile(pattern).matcher(stringInput);\r\n    System.out.println(m.find());\r\n\r\n\r\nHowever, there is a simpler solution without the need for a complex regex pattern.\r\n\r\nAlternative solution (split into words and check if any start with the search text):\r\n\r\n    private boolean anyWordStartsWith(final String words, final String search) {\r\n        for (final String word : words.split(&quot;\\\\s*,\\\\s*&quot;)) {\r\n            if(word.startsWith(search)) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nAlternative solution (Java 8):\r\n\r\n    boolean anyMatch = Arrays.stream(stringInput.split(&quot;\\\\s*,\\\\s*&quot;))\r\n                             .anyMatch(word -&gt; word.startsWith(searchText));\r\n\r\n","title":"match regex for three words search java","body":"<p>Your patterns are incorrect. I highly recommend you learn some more about regex:</p>\n\n<p>Your first pattern: <code>word+\"\\\\w*,\\\\s\\\\w*,\\\\w\"</code> matches:</p>\n\n<ul>\n<li>The string to match</li>\n<li>Followed by 0 or more word characters</li>\n<li>Followed by a comma</li>\n<li>Followed by a single white space character</li>\n<li>Followed by 0 or more word characters</li>\n<li>Followed by a comma</li>\n<li>Followed by a single word character   </li>\n</ul>\n\n<p>This pattern works for the given input String, however would fail if there is a space after the last comma.</p>\n\n<p>The second pattern: <code>\"\\\\w*,\\\\.\"+word+\"\\\\w*,\\\\w\"</code> matches:</p>\n\n<ul>\n<li>0 or more word characters</li>\n<li>Followed by a comma</li>\n<li>Followed by a literal .</li>\n<li>Followed by the string to match</li>\n<li>Followed by 0 or more word characters</li>\n<li>Followed by a comma</li>\n<li>Followed by a single word character</li>\n</ul>\n\n<p>This will not work because you have escaped the <code>.</code> character <code>\\\\.</code> which means it will match a literal <code>.</code> which your string does not contain.</p>\n\n<p>Your final pattern: <code>\"\\\\w*,\\\\w*,\"+word+\"\\\\w\"</code> matches:</p>\n\n<ul>\n<li>0 or more word characters</li>\n<li>Followed by a comma</li>\n<li>Followed by 0 or more word characters</li>\n<li>Followed by a comma</li>\n<li>Followed by the string to match</li>\n<li>Followed by a single word character</li>\n</ul>\n\n<p>This will fail because you have not accounted for white space after the commas.</p>\n\n<p>A single, correct regex pattern would be something like:</p>\n\n<pre><code>^(?:%s.*,.*,.*)|(?:.*,\\\\s*%s.*,.*)|(?:.*,.*,\\\\s*%s.*)$\n</code></pre>\n\n<p>Where <code>%s</code> is your string to search for.</p>\n\n<p>Explanation:</p>\n\n<ul>\n<li><code>^</code> matches the start of the string, and <code>$</code> the end of it.</li>\n<li>There are three non-capturing groups <code>(?:)</code></li>\n<li>Each group is separated by a <code>|</code> which means or. So only one of these groups needs to match.</li>\n<li>The first group is to match the search text at the start of the first word, and so is simply, the search text followed by 0 or more of any character, followed by a comma, followed by 0 or more of any character...</li>\n<li>The second group is to match the search text at the start of the second word, this is similar to the first pattern, except for we only want to match whitespace before the second word instead of any character.</li>\n<li>The third group is to match the search text at the start of the third word, this pattern is pretty much the same as the second, just shifted along.</li>\n</ul>\n\n<p>Usage:</p>\n\n<pre><code>String pattern = String.format(\"^(?:%s.*,.*,.*)|(?:.*,\\\\s*%s.*,.*)|(?:.*,.*,\\\\s*%s.*)$\", \n            searchText, searchText, searchText);\n\nMatcher m = Pattern.compile(pattern).matcher(stringInput);\nSystem.out.println(m.find());\n</code></pre>\n\n<p>However, there is a simpler solution without the need for a complex regex pattern.</p>\n\n<p>Alternative solution (split into words and check if any start with the search text):</p>\n\n<pre><code>private boolean anyWordStartsWith(final String words, final String search) {\n    for (final String word : words.split(\"\\\\s*,\\\\s*\")) {\n        if(word.startsWith(search)) return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>Alternative solution (Java 8):</p>\n\n<pre><code>boolean anyMatch = Arrays.stream(stringInput.split(\"\\\\s*,\\\\s*\"))\n                         .anyMatch(word -&gt; word.startsWith(searchText));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8131339,"reputation":385,"user_id":6124515,"accept_rate":67,"display_name":"Jenya Kirmiza"},"score":0,"creation_date":1468846058,"post_id":38437051,"comment_id":64279722,"body_markdown":"watch comment of  Wiktor Stribiżew he almost understood what i want, his approach is good","body":"watch comment of  Wiktor Stribiżew he almost understood what i want, his approach is good"},{"owner":{"account_id":6734881,"reputation":2313,"user_id":5190019,"accept_rate":91,"display_name":"Asoub"},"score":0,"creation_date":1468846531,"post_id":38437051,"comment_id":64280098,"body_markdown":"I see, it&#39;s well detailed. Also, why did you used \\\\w* instead of .* ? You could also have separated by comme (String.split(,)), removed spaces/whitespaces and checked them with String.beginwith(word). Depends on what you needed. GL","body":"I see, it&#39;s well detailed. Also, why did you used \\\\w* instead of .* ? You could also have separated by comme (String.split(,)), removed spaces/whitespaces and checked them with String.beginwith(word). Depends on what you needed. GL"},{"owner":{"account_id":8131339,"reputation":385,"user_id":6124515,"accept_rate":67,"display_name":"Jenya Kirmiza"},"score":0,"creation_date":1468846719,"post_id":38437051,"comment_id":64280232,"body_markdown":"ye, i know. i wanted to do it using regex.","body":"ye, i know. i wanted to do it using regex."}],"tags":[],"owner":{"account_id":6734881,"reputation":2313,"user_id":5190019,"accept_rate":91,"display_name":"Asoub"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468845781,"creation_date":1468845781,"answer_id":38437051,"question_id":38436577,"body_markdown":"For `pattern2`, the `\\\\.` will match the dot character, but there is not dot at this point (you might want to just use a dot, without the `\\\\`, to match any character)\r\n\r\nFor `pattern3`, you forgot the same dot (or the `\\\\s` you used in `pattern1`).\r\n\r\nSo this should look like:\r\n\r\n    String pattern1=word+&quot;\\\\w*,\\\\s\\\\w*,\\\\w&quot;;\r\n    String pattern2=&quot;\\\\w*,.&quot;+word+&quot;\\\\w*,\\\\w&quot;; // Or replace dot with \\\\s\r\n    String pattern3=&quot;\\\\w*,.\\\\w*,&quot;+word+&quot;\\\\w&quot;; //Same here\r\nif you want it to work with `stringInput=&quot;String, Text,Search&quot;;`","title":"match regex for three words search java","body":"<p>For <code>pattern2</code>, the <code>\\\\.</code> will match the dot character, but there is not dot at this point (you might want to just use a dot, without the <code>\\\\</code>, to match any character)</p>\n\n<p>For <code>pattern3</code>, you forgot the same dot (or the <code>\\\\s</code> you used in <code>pattern1</code>).</p>\n\n<p>So this should look like:</p>\n\n<pre><code>String pattern1=word+\"\\\\w*,\\\\s\\\\w*,\\\\w\";\nString pattern2=\"\\\\w*,.\"+word+\"\\\\w*,\\\\w\"; // Or replace dot with \\\\s\nString pattern3=\"\\\\w*,.\\\\w*,\"+word+\"\\\\w\"; //Same here\n</code></pre>\n\n<p>if you want it to work with <code>stringInput=\"String, Text,Search\";</code></p>\n"}],"owner":{"account_id":8131339,"reputation":385,"user_id":6124515,"accept_rate":67,"display_name":"Jenya Kirmiza"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1926,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":38436984,"answer_count":2,"score":2,"last_activity_date":1693067723,"creation_date":1468844375,"question_id":38436577,"body_markdown":"I have two symbol string query for search algo. And i have a string that consist of three words separated by comma. What i want is to search among these three prarms.\r\n\r\ne.g &quot;String, Text,Search&quot;\r\n\r\nif the input is &quot;Te&quot; the search should match, also &quot;Str&quot;, &quot;Se&quot; should match.  \r\n\r\n\r\nI implemented using regex. But it works only for the first word. Note that i have a space before the second word.\r\n\r\n\r\n            stringInput=&quot;String, Text,Search&quot;;\r\n            word=&quot;St&quot;;\r\n            String pattern1=word+&quot;\\\\w*,\\\\s\\\\w*,\\\\w&quot;;\r\n    \r\n            String pattern2=&quot;\\\\w*,\\\\.&quot;+word+&quot;\\\\w*,\\\\w&quot;;\r\n    \r\n            String pattern3=&quot;\\\\w*,\\\\w*,&quot;+word+&quot;\\\\w&quot;;\r\n    \r\n            Pattern patternCompiled1=Pattern.compile(pattern1);\r\n            Pattern patternCompiled2=Pattern.compile(pattern2);\r\n            Pattern patternCompiled3=Pattern.compile(pattern3);\r\n            Matcher matcher1= patternCompiled1.matcher(inputString);\r\n    \r\n            Matcher matcher2= patternCompiled2.matcher(inputString);\r\n    \r\n            Matcher matcher3= patternCompiled3.matcher(inputString);\r\n    \r\n                if(matcher1.find() || matcher2.find() || matcher3.find()){\r\n                    return true;\r\n                }\r\n\r\nCan you help me why it doesnt work for the second and the third word?\r\n\r\nSome clarifications\r\n\r\nWord1, String1, String2\r\nThe first param is always only one word, The second param can be two or more words, and the third param two - it can be several words separated by space. \r\neg. Text, Some Text,Other Text Text it can be anything Text, Some,Other Text\r\nalso it can contain different symbols, what i want is to make search to match first letters of first word from each param.","title":"match regex for three words search java","body":"<p>I have two symbol string query for search algo. And i have a string that consist of three words separated by comma. What i want is to search among these three prarms.</p>\n\n<p>e.g \"String, Text,Search\"</p>\n\n<p>if the input is \"Te\" the search should match, also \"Str\", \"Se\" should match.  </p>\n\n<p>I implemented using regex. But it works only for the first word. Note that i have a space before the second word.</p>\n\n<pre><code>        stringInput=\"String, Text,Search\";\n        word=\"St\";\n        String pattern1=word+\"\\\\w*,\\\\s\\\\w*,\\\\w\";\n\n        String pattern2=\"\\\\w*,\\\\.\"+word+\"\\\\w*,\\\\w\";\n\n        String pattern3=\"\\\\w*,\\\\w*,\"+word+\"\\\\w\";\n\n        Pattern patternCompiled1=Pattern.compile(pattern1);\n        Pattern patternCompiled2=Pattern.compile(pattern2);\n        Pattern patternCompiled3=Pattern.compile(pattern3);\n        Matcher matcher1= patternCompiled1.matcher(inputString);\n\n        Matcher matcher2= patternCompiled2.matcher(inputString);\n\n        Matcher matcher3= patternCompiled3.matcher(inputString);\n\n            if(matcher1.find() || matcher2.find() || matcher3.find()){\n                return true;\n            }\n</code></pre>\n\n<p>Can you help me why it doesnt work for the second and the third word?</p>\n\n<p>Some clarifications</p>\n\n<p>Word1, String1, String2\nThe first param is always only one word, The second param can be two or more words, and the third param two - it can be several words separated by space. \neg. Text, Some Text,Other Text Text it can be anything Text, Some,Other Text\nalso it can contain different symbols, what i want is to make search to match first letters of first word from each param.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1467901804,"creation_date":1467901804,"answer_id":38248143,"question_id":38247781,"body_markdown":"Seems like you should only apply that rule for Switzerland phone number, i.e. for `+41` numbers, because simply removing the first `0` from any international number is wrong.\r\n\r\nSo, `ph = ph.replaceFirst(&quot;^(\\\\+41)\\\\(?0?([0-9]{2})\\\\)?&quot;, &quot;$1$2&quot;)`.\r\n\r\nSee [regex101](https://regex101.com/r/kV3vW4/1) for how it works.","title":"Regex Replacing issue understanding","body":"<p>Seems like you should only apply that rule for Switzerland phone number, i.e. for <code>+41</code> numbers, because simply removing the first <code>0</code> from any international number is wrong.</p>\n\n<p>So, <code>ph = ph.replaceFirst(\"^(\\\\+41)\\\\(?0?([0-9]{2})\\\\)?\", \"$1$2\")</code>.</p>\n\n<p>See <a href=\"https://regex101.com/r/kV3vW4/1\" rel=\"nofollow\">regex101</a> for how it works.</p>\n"},{"tags":[],"owner":{"account_id":8248347,"reputation":23,"user_id":6203781,"display_name":"Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467965610,"creation_date":1467965610,"answer_id":38261926,"question_id":38247781,"body_markdown":"Thank you for your answer.\r\n\r\nI applied the Regex to my TestImport with the following code:\r\n\r\n     //...\r\n    \r\n    log.debug(&quot;Applying Regex :&quot; + SearchString + &quot; with Replace: &quot; + ReplaceString);\t\r\n    \t\t\t\t\t\r\n    log.debug(&quot;Applying Regex for Number:&quot; + Person.get(EPerson.Rufnummer));\r\n    Person.put(EPerson.Rufnummer, Person.get(EPerson.Rufnummer).replaceFirst(SearchString, ReplaceString));\r\n    log.debug(&quot;New Number is:&quot; +Person.get(EPerson.Rufnummer));\r\n    \t\t\t\t\t\r\n    log.debug(&quot;Applying Regex for Number:&quot; + Person.get(EPerson.RufnummerMobil));\r\n    Person.put(EPerson.RufnummerMobil, Person.get(EPerson.RufnummerMobil).replaceFirst(SearchString, ReplaceString));\r\n    log.debug(&quot;New Number is:&quot; +Person.get(EPerson.RufnummerMobil));\r\n        //...\r\n\r\nDEBUG [AddressbookFactory] Applying Numberfilter to: {Vorname=Testinator, Nachname=Test, Rufnummer=+410717271818, RufnummerMobil=, RufnummerPrivat=+41(071)7271818, Fax=, Strasse=, PLZ=, Stadt=, Bundesland=, Email=, Firma=, URL=} \r\n\r\n DEBUG [AddressbookFactory] Regex Detected \r\n\r\n DEBUG [AddressbookFactory] Applying Regex :^(\\+41)\\(?0?([0-9]{2})\\)? with Replace: $1$2 \r\n\r\n DEBUG [AddressbookFactory] Applying Regex for Number:+410717271818 \r\n\r\n DEBUG [AddressbookFactory] New Number is: +41717271818 \r\n\r\n DEBUG [AddressbookFactory] Applying Regex for Number:+41(071)7271818 \r\n\r\n DEBUG [AddressbookFactory] New Number is: +41717271818 \r\n...\r\n\r\nAnd it worked!\r\n\r\nThank you so much for your Quick Response!\r\n\r\nI marked your answer as useful, but trough my &quot;newbie&quot; Reputation it does not indicate it.\r\n\r\nThis Question is resolved.\r\n\r\nSincerly Fabian95qw\r\n","title":"Regex Replacing issue understanding","body":"<p>Thank you for your answer.</p>\n\n<p>I applied the Regex to my TestImport with the following code:</p>\n\n<pre><code> //...\n\nlog.debug(\"Applying Regex :\" + SearchString + \" with Replace: \" + ReplaceString);   \n\nlog.debug(\"Applying Regex for Number:\" + Person.get(EPerson.Rufnummer));\nPerson.put(EPerson.Rufnummer, Person.get(EPerson.Rufnummer).replaceFirst(SearchString, ReplaceString));\nlog.debug(\"New Number is:\" +Person.get(EPerson.Rufnummer));\n\nlog.debug(\"Applying Regex for Number:\" + Person.get(EPerson.RufnummerMobil));\nPerson.put(EPerson.RufnummerMobil, Person.get(EPerson.RufnummerMobil).replaceFirst(SearchString, ReplaceString));\nlog.debug(\"New Number is:\" +Person.get(EPerson.RufnummerMobil));\n    //...\n</code></pre>\n\n<p>DEBUG [AddressbookFactory] Applying Numberfilter to: {Vorname=Testinator, Nachname=Test, Rufnummer=+410717271818, RufnummerMobil=, RufnummerPrivat=+41(071)7271818, Fax=, Strasse=, PLZ=, Stadt=, Bundesland=, Email=, Firma=, URL=} </p>\n\n<p>DEBUG [AddressbookFactory] Regex Detected </p>\n\n<p>DEBUG [AddressbookFactory] Applying Regex :^(+41)(?0?([0-9]{2}))? with Replace: $1$2 </p>\n\n<p>DEBUG [AddressbookFactory] Applying Regex for Number:+410717271818 </p>\n\n<p>DEBUG [AddressbookFactory] New Number is: +41717271818 </p>\n\n<p>DEBUG [AddressbookFactory] Applying Regex for Number:+41(071)7271818 </p>\n\n<p>DEBUG [AddressbookFactory] New Number is: +41717271818 \n...</p>\n\n<p>And it worked!</p>\n\n<p>Thank you so much for your Quick Response!</p>\n\n<p>I marked your answer as useful, but trough my \"newbie\" Reputation it does not indicate it.</p>\n\n<p>This Question is resolved.</p>\n\n<p>Sincerly Fabian95qw</p>\n"}],"owner":{"account_id":8248347,"reputation":23,"user_id":6203781,"display_name":"Fabian Meier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38248143,"answer_count":2,"score":1,"last_activity_date":1693067687,"creation_date":1467900882,"question_id":38247781,"body_markdown":"I&#39;m trying to program a replacement logic for invalid phone numbers, which I provide with a Map&lt;String (Regex Pattern)&gt;&lt;String (Replace Pattern)&gt; \r\nI read through a few Regex expressions threads, but I don&#39;t know if this actually is possible.\r\n\r\nExample:\r\n\r\nInput phone number: +410712345678\r\n\r\nregex I&#39;m trying to use:\r\n\r\n     &quot;^\\\\+(?:[0-9] ?){6,14}[0-9]$&quot; \r\n\r\nnumber after regex and filtering should be: +41712345678. So actually removing the first Instance of 0.\r\n\r\nSecond example:\r\n\r\ninput phone number: +41(071)2345678\r\n\r\nregex I&#39;m trying to use: \r\n\r\n    &quot;^\\\\+(?:[0-9] ?)\\\\({0,3}\\\\){3,11}[0-9]$&quot;\r\n\r\nnumber after regex and filtering should be: +41712345678. So actually removing the First Instance of 0 and also the braces.\r\n\r\nI&#39;m trying to user some kind of pattern to automatically remove those invalid pieces from those phone numbers. The numbers need to be formatted that way to work with my VOIP application.\r\n\t\t\r\nIs there any way to create a filter pattern like that with regex?\r\n\r\n","title":"Regex Replacing issue understanding","body":"<p>I'm trying to program a replacement logic for invalid phone numbers, which I provide with a Map \nI read through a few Regex expressions threads, but I don't know if this actually is possible.</p>\n\n<p>Example:</p>\n\n<p>Input phone number: +410712345678</p>\n\n<p>regex I'm trying to use:</p>\n\n<pre><code> \"^\\\\+(?:[0-9] ?){6,14}[0-9]$\" \n</code></pre>\n\n<p>number after regex and filtering should be: +41712345678. So actually removing the first Instance of 0.</p>\n\n<p>Second example:</p>\n\n<p>input phone number: +41(071)2345678</p>\n\n<p>regex I'm trying to use: </p>\n\n<pre><code>\"^\\\\+(?:[0-9] ?)\\\\({0,3}\\\\){3,11}[0-9]$\"\n</code></pre>\n\n<p>number after regex and filtering should be: +41712345678. So actually removing the First Instance of 0 and also the braces.</p>\n\n<p>I'm trying to user some kind of pattern to automatically remove those invalid pieces from those phone numbers. The numbers need to be formatted that way to work with my VOIP application.</p>\n\n<p>Is there any way to create a filter pattern like that with regex?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2357483,"reputation":8316,"user_id":2064981,"accept_rate":75,"display_name":"SamWhan"},"score":0,"creation_date":1467369845,"post_id":38143357,"comment_id":63716394,"body_markdown":"What&#39;s with the &#39;\\&#39; before and after...? Try `\\\\brequestId=([^,]*),`.","body":"What&#39;s with the &#39;\\&#39; before and after...? Try <code>\\\\brequestId=([^,]*),</code>."},{"owner":{"account_id":1217891,"reputation":4757,"user_id":1185136,"accept_rate":82,"display_name":"Rudey"},"score":0,"creation_date":1467369915,"post_id":38143357,"comment_id":63716443,"body_markdown":"Do you really need regex? Using `indexOf()` you could find the indexes of the `=` and `,`. With those indexes you can easily use `substring()` to get the desired output.","body":"Do you really need regex? Using <code>indexOf()</code> you could find the indexes of the <code>=</code> and <code>,</code>. With those indexes you can easily use <code>substring()</code> to get the desired output."},{"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"score":0,"creation_date":1467369937,"post_id":38143357,"comment_id":63716456,"body_markdown":"following example from http://stackoverflow.com/questions/600733/using-java-to-find-substring-of-a-bigger-string-using-regular-expression, i merely just substituted the values for the square bracket","body":"following example from <a href=\"http://stackoverflow.com/questions/600733/using-java-to-find-substring-of-a-bigger-string-using-regular-expression\" title=\"using java to find substring of a bigger string using regular expression\">stackoverflow.com/questions/600733/&hellip;</a>, i merely just substituted the values for the square bracket"},{"owner":{"account_id":2374511,"reputation":896,"user_id":2078262,"display_name":"Kishore Reddy"},"score":3,"creation_date":1467369963,"post_id":38143357,"comment_id":63716472,"body_markdown":"It&#39;s look like, JSON string, you can parse string as JSON and then you can get that value easily.","body":"It&#39;s look like, JSON string, you can parse string as JSON and then you can get that value easily."},{"owner":{"account_id":1551580,"reputation":2663,"user_id":1443840,"accept_rate":48,"display_name":"Shekhar Khairnar"},"score":0,"creation_date":1467370751,"post_id":38143357,"comment_id":63716939,"body_markdown":"you can also use simple one as : requestId=(\\w+)","body":"you can also use simple one as : requestId=(\\w+)"}],"answers":[{"tags":[],"owner":{"account_id":2357483,"reputation":8316,"user_id":2064981,"accept_rate":75,"display_name":"SamWhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467369979,"creation_date":1467369979,"answer_id":38143446,"question_id":38143357,"body_markdown":"Your regex escapes the `r` in request and the `,` which makes no sence. Try\r\n\r\n    \\\\brequestId=([^,]*),\r\n\r\nwhich will match a word boundary - `\\b`, then `requestId=` and then capturing the ID (everything up to the `,`)","title":"java pattern match regex","body":"<p>Your regex escapes the <code>r</code> in request and the <code>,</code> which makes no sence. Try</p>\n\n<pre><code>\\\\brequestId=([^,]*),\n</code></pre>\n\n<p>which will match a word boundary - <code>\\b</code>, then <code>requestId=</code> and then capturing the ID (everything up to the <code>,</code>)</p>\n"},{"comments":[{"owner":{"account_id":2357483,"reputation":8316,"user_id":2064981,"accept_rate":75,"display_name":"SamWhan"},"score":1,"creation_date":1467370632,"post_id":38143450,"comment_id":63716874,"body_markdown":"Just an observation, this does it in 41 steps, mine in 16 ;)","body":"Just an observation, this does it in 41 steps, mine in 16 ;)"},{"owner":{"account_id":8552085,"reputation":1146,"user_id":6408723,"display_name":"Maria Ivanova"},"score":0,"creation_date":1467370812,"post_id":38143450,"comment_id":63716974,"body_markdown":"@ClasG, and mine in 28. So I guess yours is the most efficient. :)","body":"@ClasG, and mine in 28. So I guess yours is the most efficient. :)"},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1467371794,"post_id":38143450,"comment_id":63717625,"body_markdown":"@ClasG, I just corrected OP&#39;s solution, yours is good one, I&#39;ve upvoted","body":"@ClasG, I just corrected OP&#39;s solution, yours is good one, I&#39;ve upvoted"}],"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1467370368,"creation_date":1467370006,"answer_id":38143450,"question_id":38143357,"body_markdown":"    Pattern.compile(&quot;requestId=(.*?),&quot;);\r\n\r\nYou should delete redundant characters escape (`\\\\,` and `\\\\r` (it means the carriage-return character)) and it will work fine.","title":"java pattern match regex","body":"<pre><code>Pattern.compile(\"requestId=(.*?),\");\n</code></pre>\n\n<p>You should delete redundant characters escape (<code>\\\\,</code> and <code>\\\\r</code> (it means the carriage-return character)) and it will work fine.</p>\n"},{"comments":[{"owner":{"account_id":2357483,"reputation":8316,"user_id":2064981,"accept_rate":75,"display_name":"SamWhan"},"score":0,"creation_date":1467370257,"post_id":38143473,"comment_id":63716657,"body_markdown":"Why the `[]` around `\\w`? `(?&lt;=requestId=)(\\\\w*)` will do it (including the java escape).","body":"Why the <code>[]</code> around <code>\\w</code>? <code>(?&lt;=requestId=)(\\\\w*)</code> will do it (including the java escape)."},{"owner":{"account_id":8552085,"reputation":1146,"user_id":6408723,"display_name":"Maria Ivanova"},"score":0,"creation_date":1467370403,"post_id":38143473,"comment_id":63716753,"body_markdown":"OK. Edited. Just a habit, I guess.","body":"OK. Edited. Just a habit, I guess."},{"owner":{"account_id":8552085,"reputation":1146,"user_id":6408723,"display_name":"Maria Ivanova"},"score":0,"creation_date":1467370453,"post_id":38143473,"comment_id":63716775,"body_markdown":"I edited it now and escaped the slash. You should have no issues now.","body":"I edited it now and escaped the slash. You should have no issues now."}],"tags":[],"owner":{"account_id":8552085,"reputation":1146,"user_id":6408723,"display_name":"Maria Ivanova"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467370383,"creation_date":1467370066,"answer_id":38143473,"question_id":38143357,"body_markdown":"You can also try this: \r\n\r\n    (?&lt;=requestId=)(\\\\w*)","title":"java pattern match regex","body":"<p>You can also try this: </p>\n\n<pre><code>(?&lt;=requestId=)(\\\\w*)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1467370710,"post_id":38143555,"comment_id":63716912,"body_markdown":"Can you explain what you mean by &quot;if you put \\\\ then it search for string starting with \\&quot;? Are you talking about \\\\ in string (like in OP example) or \\\\ in regex (which will need to be written as &quot;\\\\\\\\&quot; in String) - because only second case would be true here.","body":"Can you explain what you mean by &quot;if you put \\\\ then it search for string starting with \\&quot;? Are you talking about \\\\ in string (like in OP example) or \\\\ in regex (which will need to be written as &quot;\\\\\\\\&quot; in String) - because only second case would be true here."},{"owner":{"account_id":7318394,"reputation":508,"user_id":5575169,"display_name":"Dipak Prajapati"},"score":0,"creation_date":1467372843,"post_id":38143555,"comment_id":63718295,"body_markdown":"yes i am talking about //(Double slash) in string so /(single slash) is an escape character thats why i have written //(Double slash). and you have to match a pattern which starts with **requestId=** not with (/)slash.","body":"yes i am talking about //(Double slash) in string so /(single slash) is an escape character thats why i have written //(Double slash). and you have to match a pattern which starts with <b>requestId=</b> not with (/)slash."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1467376635,"post_id":38143555,"comment_id":63720745,"body_markdown":"Problem with this explanation is that slash ``\\`` is also special not only in String literal, but also in regex syntax. So writing regex as string `&quot;\\\\r&quot;` will represent `\\r` which in Java&#39;s regex engine is interpreted as one of line separators (carriage return), not ``\\`` character followed by `r`.","body":"Problem with this explanation is that slash <code>\\</code> is also special not only in String literal, but also in regex syntax. So writing regex as string <code>&quot;\\\\r&quot;</code> will represent <code>\\r</code> which in Java&#39;s regex engine is interpreted as one of line separators (carriage return), not <code>\\</code> character followed by <code>r</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1467377459,"post_id":38143555,"comment_id":63721303,"body_markdown":"I edited your answer to add more explanation of OP problem (hope you don&#39;t mind).","body":"I edited your answer to add more explanation of OP problem (hope you don&#39;t mind)."}],"tags":[],"owner":{"account_id":7318394,"reputation":508,"user_id":5575169,"display_name":"Dipak Prajapati"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467376990,"creation_date":1467370310,"answer_id":38143555,"question_id":38143357,"body_markdown":"You don&#39;t need to surround your regex with `\\` (written as string `&quot;\\\\&quot;`) like in example mentioned by you earlier in comment: https://stackoverflow.com/questions/600733/using-java-to-find-substring-of-a-bigger-string-using-regular-expression. There `\\` was used to escape few of regex special characters which ware `[` and `]`. \r\n\r\nSo your regex `Pattern.compile(&quot;\\\\requestId=(.*?)\\\\,&quot;)` `\\\\r` part will represent `\\r` which is [carriage return][1] (one of line separators). So remove that `\\\\` before `r`. Also you don&#39;t need to escape `,` with `\\` since it is not regex special character (at least not in this context). So try with:\r\n\r\n    Pattern MY_PATTERN = Pattern.compile(&quot;requestId=(.*?),&quot;);\r\n    Matcher m = MY_PATTERN.matcher(&quot; {requestId=146bb94xxxxxR, value=false, tier=S3,ReceivedTime=0}&quot;);\r\n    while (m.find()) {\r\n        String s = m.group(1);\r\n        System.out.println(s);\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Carriage_return\r\n","title":"java pattern match regex","body":"<p>You don't need to surround your regex with <code>\\</code> (written as string <code>\"\\\\\"</code>) like in example mentioned by you earlier in comment: <a href=\"https://stackoverflow.com/questions/600733/using-java-to-find-substring-of-a-bigger-string-using-regular-expression\">Using Java to find substring of a bigger string using Regular Expression</a>. There <code>\\</code> was used to escape few of regex special characters which ware <code>[</code> and <code>]</code>. </p>\n\n<p>So your regex <code>Pattern.compile(\"\\\\requestId=(.*?)\\\\,\")</code> <code>\\\\r</code> part will represent <code>\\r</code> which is <a href=\"https://en.wikipedia.org/wiki/Carriage_return\" rel=\"nofollow noreferrer\">carriage return</a> (one of line separators). So remove that <code>\\\\</code> before <code>r</code>. Also you don't need to escape <code>,</code> with <code>\\</code> since it is not regex special character (at least not in this context). So try with:</p>\n\n<pre><code>Pattern MY_PATTERN = Pattern.compile(\"requestId=(.*?),\");\nMatcher m = MY_PATTERN.matcher(\" {requestId=146bb94xxxxxR, value=false, tier=S3,ReceivedTime=0}\");\nwhile (m.find()) {\n    String s = m.group(1);\n    System.out.println(s);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4232566,"reputation":1533,"user_id":3464596,"display_name":"Hrabosch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467370633,"creation_date":1467370633,"answer_id":38143658,"question_id":38143357,"body_markdown":"    public static void main(String[] args) {\r\n            String text = &quot;{requestId=146bb94xxxxxR, value=false, tier=S3,ReceivedTime=0}&quot;;\r\n            Pattern p = Pattern.compile(&quot;requestId=(.*?),&quot;);\r\n            Matcher m = p.matcher(text);\r\n            m.find();\r\n            System.out.println(m.group(1));\r\n    }\r\n\r\nOutput:\r\n`146bb94xxxxxR`","title":"java pattern match regex","body":"<pre><code>public static void main(String[] args) {\n        String text = \"{requestId=146bb94xxxxxR, value=false, tier=S3,ReceivedTime=0}\";\n        Pattern p = Pattern.compile(\"requestId=(.*?),\");\n        Matcher m = p.matcher(text);\n        m.find();\n        System.out.println(m.group(1));\n}\n</code></pre>\n\n<p>Output:\n<code>146bb94xxxxxR</code></p>\n"}],"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1714,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":38143450,"answer_count":5,"score":1,"last_activity_date":1693067683,"creation_date":1467369708,"question_id":38143357,"body_markdown":"I have the following string:\r\n\r\n    String p = &quot;{requestId=146bb94xxxxxR, value=false, tier=S3,ReceivedTime=0}&quot;;\r\n\r\nI want to extract the request Id value, so want my output to be\r\n\r\n    146bb94xxxxxR\r\n\r\nHere is what I tried\r\n\r\n    Pattern MY_PATTERN = Pattern.compile(&quot;\\\\requestId=(.*?)\\\\,&quot;);\r\n\tMatcher m = MY_PATTERN.matcher(p);\r\n\twhile (m.find()) {\r\n\t    String s = m.group(1); // s now contains &quot;BAR&quot;\r\n\t}\r\n\r\nHowever i get no output, there is a problem with the regex, but I am not sure how to correct it.","title":"java pattern match regex","body":"<p>I have the following string:</p>\n\n<pre><code>String p = \"{requestId=146bb94xxxxxR, value=false, tier=S3,ReceivedTime=0}\";\n</code></pre>\n\n<p>I want to extract the request Id value, so want my output to be</p>\n\n<pre><code>146bb94xxxxxR\n</code></pre>\n\n<p>Here is what I tried</p>\n\n<pre><code>Pattern MY_PATTERN = Pattern.compile(\"\\\\requestId=(.*?)\\\\,\");\nMatcher m = MY_PATTERN.matcher(p);\nwhile (m.find()) {\n    String s = m.group(1); // s now contains \"BAR\"\n}\n</code></pre>\n\n<p>However i get no output, there is a problem with the regex, but I am not sure how to correct it.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"score":0,"creation_date":1467146037,"post_id":38085762,"comment_id":63607892,"body_markdown":"You could `split(&quot;&amp;&quot;)` and then `split(&quot;=&quot;)` each valid result, though maybe it&#39;s kinda messy.","body":"You could <code>split(&quot;&amp;&quot;)</code> and then <code>split(&quot;=&quot;)</code> each valid result, though maybe it&#39;s kinda messy."},{"owner":{"account_id":4744420,"reputation":8265,"user_id":3836111,"accept_rate":70,"display_name":"Sebastian Proske"},"score":0,"creation_date":1467146144,"post_id":38085762,"comment_id":63607954,"body_markdown":"You might be after [word boundaries](http://www.regular-expressions.info/wordboundaries.html), as &amp; is not a word-character - or just split on &amp;, as suggested by @Zircon.","body":"You might be after <a href=\"http://www.regular-expressions.info/wordboundaries.html\" rel=\"nofollow noreferrer\">word boundaries</a>, as &amp; is not a word-character - or just split on &amp;, as suggested by @Zircon."},{"owner":{"account_id":7371440,"reputation":13,"user_id":5611482,"display_name":"Vernon Albayeros"},"score":0,"creation_date":1467146319,"post_id":38085762,"comment_id":63608045,"body_markdown":"@Zircon yeah, I have considered splitting, but where would be the fun in that? ;D I just know there must be a way to create a regex that looks for either an &quot;&amp;&quot; or a start of line. My pride is on the line here, I can&#39;t let this beat me.","body":"@Zircon yeah, I have considered splitting, but where would be the fun in that? ;D I just know there must be a way to create a regex that looks for either an &quot;&amp;&quot; or a start of line. My pride is on the line here, I can&#39;t let this beat me."},{"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"score":0,"creation_date":1467146426,"post_id":38085762,"comment_id":63608100,"body_markdown":"Fun is...fun and all, but I like to put the fun in functional.","body":"Fun is...fun and all, but I like to put the fun in functional."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":2,"creation_date":1467146443,"post_id":38085762,"comment_id":63608115,"body_markdown":"You can use: `(?&lt;=&amp;|^)xxx=true(?=&amp;|$)`","body":"You can use: <code>(?&lt;=&amp;|^)xxx=true(?=&amp;|$)</code>"},{"owner":{"account_id":7371440,"reputation":13,"user_id":5611482,"display_name":"Vernon Albayeros"},"score":0,"creation_date":1467146557,"post_id":38085762,"comment_id":63608175,"body_markdown":"@Zircon I know, I know, but this is for a personal project and I like going out of my way to find alternative solutions to simple problems since sometimes it comes in handy :)","body":"@Zircon I know, I know, but this is for a personal project and I like going out of my way to find alternative solutions to simple problems since sometimes it comes in handy :)"},{"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"score":0,"creation_date":1467146660,"post_id":38085762,"comment_id":63608238,"body_markdown":"That much I understand. It might be good to learn the regex solution to this problem, since Patterns can be very useful.","body":"That much I understand. It might be good to learn the regex solution to this problem, since Patterns can be very useful."},{"owner":{"account_id":7371440,"reputation":13,"user_id":5611482,"display_name":"Vernon Albayeros"},"score":1,"creation_date":1467146708,"post_id":38085762,"comment_id":63608254,"body_markdown":"@anubhava Oh lord, that works perfectly! I tried (&amp;|^) previously and it didn&#39;t work. All the java api says about expressions of the type (?&lt;=X) is &quot;X, via zero-width positive lookbehind&quot;, I would have never tried that. Thanks!","body":"@anubhava Oh lord, that works perfectly! I tried (&amp;|^) previously and it didn&#39;t work. All the java api says about expressions of the type (?&lt;=X) is &quot;X, via zero-width positive lookbehind&quot;, I would have never tried that. Thanks!"},{"owner":{"account_id":1220457,"reputation":592,"user_id":1187199,"display_name":"Stefan Balan"},"score":1,"creation_date":1467146916,"post_id":38085762,"comment_id":63608372,"body_markdown":"@anubhava beat me to the answer! :)\nMy go-to resource for regex is http://regexr.com/ See Reference &gt; Groups &amp; Lookaround.","body":"@anubhava beat me to the answer! :) My go-to resource for regex is <a href=\"http://regexr.com/\" rel=\"nofollow noreferrer\">regexr.com</a> See Reference &gt; Groups &amp; Lookaround."}],"answers":[{"tags":[],"owner":{"account_id":8067335,"reputation":1364,"user_id":6401364,"display_name":"Hani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467148150,"creation_date":1467148150,"answer_id":38086327,"question_id":38085762,"body_markdown":"you will need to use negative lookbehind matching \r\n\r\nSo your pattern should be\r\n\r\n    Pattern pattern1 = Pattern.compile(&quot;(?&lt;!y)xxx=true&quot;);\r\n    Pattern pattern2 = Pattern.compile(&quot;yxxx=true&quot;);\r\n    Pattern pattern3 = Pattern.compile(&quot;zzz=true&quot;);\r\n\r\n","title":"Find expression at start of line or after a punctuation","body":"<p>you will need to use negative lookbehind matching </p>\n\n<p>So your pattern should be</p>\n\n<pre><code>Pattern pattern1 = Pattern.compile(\"(?&lt;!y)xxx=true\");\nPattern pattern2 = Pattern.compile(\"yxxx=true\");\nPattern pattern3 = Pattern.compile(\"zzz=true\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8674867,"reputation":962,"user_id":6492540,"display_name":"buld0zzr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467194264,"creation_date":1467194264,"answer_id":38096253,"question_id":38085762,"body_markdown":"If your parameters and values contain only lowercase letters, then you can use a single pattern\r\n\r\n    (?:^|&amp;)([a-z]+)=([a-z]+)(?:&amp;|$)\r\n\r\nwith multiline matching to match parameters and values, then iterate over all matches and check what parameter you&#39;ve matched this time. This will work even if parameter names or their order change.\r\n\r\nAnother alternative is to parse this parameter string as URL parameter string.\r\n","title":"Find expression at start of line or after a punctuation","body":"<p>If your parameters and values contain only lowercase letters, then you can use a single pattern</p>\n\n<pre><code>(?:^|&amp;)([a-z]+)=([a-z]+)(?:&amp;|$)\n</code></pre>\n\n<p>with multiline matching to match parameters and values, then iterate over all matches and check what parameter you've matched this time. This will work even if parameter names or their order change.</p>\n\n<p>Another alternative is to parse this parameter string as URL parameter string.</p>\n"}],"owner":{"account_id":7371440,"reputation":13,"user_id":5611482,"display_name":"Vernon Albayeros"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693067677,"creation_date":1467145891,"question_id":38085762,"body_markdown":"This has been bothering me for the past few days and I can&#39;t seem to find the answer. Consider the following: \r\n\r\nI have a string called `&quot;options&quot;` which is in the form:\r\n\r\n    &quot;xxx=true&amp;yxxx=true&amp;zzz=false&quot; \r\n(yes, like an URL query). \r\n\r\nI have pattern matchers set up like so:\r\n\r\n    Pattern pattern1 = Pattern.compile(&quot;xxx=true&quot;);\r\n    Pattern pattern2 = Pattern.compile(&quot;yxxx=true&quot;);\r\n    Pattern pattern3 = Pattern.compile(&quot;zzz=true&quot;);\r\n\r\nMy problem comes with differentiating between the second and first pattern, since pattern1 finds a match in the `yxxx=true` case since it contains the `&quot;xxx=true&quot;` string. I&#39;ve looked everywhere, and could get away with splitting the first pattern to `&quot;&amp;xxx=true&quot;` and `&quot;^xxx=true&quot;` to cover the &quot;start of line&quot; and every other case, but I just know there must be some other way to do this.","title":"Find expression at start of line or after a punctuation","body":"<p>This has been bothering me for the past few days and I can't seem to find the answer. Consider the following: </p>\n\n<p>I have a string called <code>\"options\"</code> which is in the form:</p>\n\n<pre><code>\"xxx=true&amp;yxxx=true&amp;zzz=false\" \n</code></pre>\n\n<p>(yes, like an URL query). </p>\n\n<p>I have pattern matchers set up like so:</p>\n\n<pre><code>Pattern pattern1 = Pattern.compile(\"xxx=true\");\nPattern pattern2 = Pattern.compile(\"yxxx=true\");\nPattern pattern3 = Pattern.compile(\"zzz=true\");\n</code></pre>\n\n<p>My problem comes with differentiating between the second and first pattern, since pattern1 finds a match in the <code>yxxx=true</code> case since it contains the <code>\"xxx=true\"</code> string. I've looked everywhere, and could get away with splitting the first pattern to <code>\"&amp;xxx=true\"</code> and <code>\"^xxx=true\"</code> to cover the \"start of line\" and every other case, but I just know there must be some other way to do this.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2268336,"reputation":10952,"user_id":1996394,"accept_rate":80,"display_name":"rock321987"},"score":3,"creation_date":1464283724,"post_id":37467479,"comment_id":62433500,"body_markdown":"the error says it all:- _No match found_","body":"the error says it all:- <i>No match found</i>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1464283790,"post_id":37467479,"comment_id":62433542,"body_markdown":"Looks like `!loading` is true so `reg.reset(line).matches()` will not even be executed.","body":"Looks like <code>!loading</code> is true so <code>reg.reset(line).matches()</code> will not even be executed."},{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1464283792,"post_id":37467479,"comment_id":62433544,"body_markdown":"what is the value of `loading` ?","body":"what is the value of <code>loading</code> ?"},{"owner":{"account_id":1311677,"reputation":2627,"user_id":1259558,"accept_rate":53,"display_name":"Danny Gloudemans"},"score":0,"creation_date":1464283813,"post_id":37467479,"comment_id":62433559,"body_markdown":"The boolean loading is false, but you are still trying to get the match via reg.group(1). In the first code sample you have an if-statement that is checking if there is a match, in the second code sample you removed that if-statement.","body":"The boolean loading is false, but you are still trying to get the match via reg.group(1). In the first code sample you have an if-statement that is checking if there is a match, in the second code sample you removed that if-statement."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1464284474,"post_id":37467479,"comment_id":62433919,"body_markdown":"This looks like [XY problem](http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). It is easy to say why your code is not working, but proper solution would require knowledge about what you are trying to accomplish.","body":"This looks like <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. It is easy to say why your code is not working, but proper solution would require knowledge about what you are trying to accomplish."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1464285175,"post_id":37467479,"comment_id":62434295,"body_markdown":"@user6188402 Incorrect. The pattern defines exactly how many groups will be available. The actual matching may leave many of them `null`, but they still exist. Besides, if the group didn&#39;t exist, you&#39;d get `IndexOutOfBoundsException`, not `IllegalStateException`.","body":"@user6188402 Incorrect. The pattern defines exactly how many groups will be available. The actual matching may leave many of them <code>null</code>, but they still exist. Besides, if the group didn&#39;t exist, you&#39;d get <code>IndexOutOfBoundsException</code>, not <code>IllegalStateException</code>."}],"answers":[{"tags":[],"owner":{"account_id":7919293,"reputation":598,"user_id":5980792,"display_name":"Tobias Br&#246;samle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1464284190,"creation_date":1464284190,"answer_id":37467619,"question_id":37467479,"body_markdown":"If `loading == false`, `reg.reset(line).matches()` won&#39;t be executed, because `!loading` already is `true`. In your first example you then &quot;again&quot; check if there is a match and only then try to get the group. In your second example, you just assume that there is a match because you got there, which may not be true. \r\n\r\nIf the code you posted is all you do in this `if`-statement, you may get rid of the `!loading` check, as it doesn&#39;t matter if it&#39;s true or false - as soon as you find a match, you&#39;ll execute the code within the body, if you cannot find a match, it won&#39;t be executed.","title":"Why is Matcher.group() throwing illegal state exception?","body":"<p>If <code>loading == false</code>, <code>reg.reset(line).matches()</code> won't be executed, because <code>!loading</code> already is <code>true</code>. In your first example you then \"again\" check if there is a match and only then try to get the group. In your second example, you just assume that there is a match because you got there, which may not be true. </p>\n\n<p>If the code you posted is all you do in this <code>if</code>-statement, you may get rid of the <code>!loading</code> check, as it doesn't matter if it's true or false - as soon as you find a match, you'll execute the code within the body, if you cannot find a match, it won't be executed.</p>\n"}],"owner":{"account_id":1312868,"reputation":224,"user_id":1260472,"accept_rate":91,"display_name":"BudsNanKis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1300,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":37467619,"answer_count":1,"score":-1,"last_activity_date":1693067673,"creation_date":1464283686,"question_id":37467479,"body_markdown":"Why does the below code work fine\r\n\r\n    Matcher reg = Pattern.compile(&quot;(A|B)\\\\w{2}(C|D)&quot;).matcher(&quot;&quot;);\r\n    while ((line=reader.readLine()) != null)\r\n    {\r\n        if (!loading || reg.reset(line).matches()) \r\n        {\r\n            if (reg.reset(line).matches()) {\r\n        \t    String id = reg.group(1);\r\n            }\r\n\t    }\r\n    }\r\n\r\nbut \r\n\r\n    while ((line=reader.readLine()) != null)\r\n    {\r\n        if (!loading || reg.reset(line).matches()) \r\n        {\r\n        \t    String id = reg.group(1);\r\n\t    }\r\n    }\r\n\r\nthrows IllegalSyntaxException?\r\n\r\nI was surprised because I am already calling matches in the if condition. The expectation is that it returns the string matching the group, throws the exception instead. \r\n\r\n     java.lang.IllegalStateException: No match found\r\n\r\nWhat am I missing?","title":"Why is Matcher.group() throwing illegal state exception?","body":"<p>Why does the below code work fine</p>\n\n<pre><code>Matcher reg = Pattern.compile(\"(A|B)\\\\w{2}(C|D)\").matcher(\"\");\nwhile ((line=reader.readLine()) != null)\n{\n    if (!loading || reg.reset(line).matches()) \n    {\n        if (reg.reset(line).matches()) {\n            String id = reg.group(1);\n        }\n    }\n}\n</code></pre>\n\n<p>but </p>\n\n<pre><code>while ((line=reader.readLine()) != null)\n{\n    if (!loading || reg.reset(line).matches()) \n    {\n            String id = reg.group(1);\n    }\n}\n</code></pre>\n\n<p>throws IllegalSyntaxException?</p>\n\n<p>I was surprised because I am already calling matches in the if condition. The expectation is that it returns the string matching the group, throws the exception instead. </p>\n\n<pre><code> java.lang.IllegalStateException: No match found\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1464246483,"post_id":37453828,"comment_id":62408162,"body_markdown":"Please visit the [help] and read [ask].  You are expected to attempt the solution yourself and ask questions only after you have tried. Show us what you have tried.","body":"Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.  You are expected to attempt the solution yourself and ask questions only after you have tried. Show us what you have tried."},{"owner":{"account_id":2268336,"reputation":10952,"user_id":1996394,"accept_rate":80,"display_name":"rock321987"},"score":1,"creation_date":1464246485,"post_id":37453828,"comment_id":62408163,"body_markdown":"i don&#39;t see any space or dot after amount","body":"i don&#39;t see any space or dot after amount"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1464246612,"post_id":37453828,"comment_id":62408238,"body_markdown":"@AnoopLL - Try to be nicer, thanks.","body":"@AnoopLL - Try to be nicer, thanks."},{"owner":{"account_id":7950118,"reputation":51,"user_id":6001171,"accept_rate":50,"display_name":"jackSparrow"},"score":0,"creation_date":1464247585,"post_id":37453828,"comment_id":62408801,"body_markdown":"thanks @cricket_007","body":"thanks @cricket_007"},{"owner":{"account_id":7950118,"reputation":51,"user_id":6001171,"accept_rate":50,"display_name":"jackSparrow"},"score":0,"creation_date":1464247627,"post_id":37453828,"comment_id":62408822,"body_markdown":"Its ok @rock321987 as this is an example only with a case.","body":"Its ok @rock321987 as this is an example only with a case."}],"answers":[{"comments":[{"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"score":0,"creation_date":1464251749,"post_id":37453894,"comment_id":62411271,"body_markdown":"Yepp. Replacing `.*?` with `\\w*?`","body":"Yepp. Replacing <code>.*?</code> with <code>\\w*?</code>"}],"tags":[],"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464251757,"creation_date":1464246606,"answer_id":37453894,"question_id":37453828,"body_markdown":"This is the regex: `&quot;(#\\w*?[ .])&quot;`","title":"I want to find all words using java regex, that starts with &quot;#&quot; and ends with space or &quot;.&quot;","body":"<p>This is the regex: <code>\"(#\\w*?[ .])\"</code></p>\n"},{"comments":[{"owner":{"account_id":7950118,"reputation":51,"user_id":6001171,"accept_rate":50,"display_name":"jackSparrow"},"score":0,"creation_date":1464247366,"post_id":37453938,"comment_id":62408665,"body_markdown":"what i used is &quot;\\\\$(\\\\w+)&quot; and this will serves my purpose.\nthanks a lot man","body":"what i used is &quot;\\\\$(\\\\w+)&quot; and this will serves my purpose. thanks a lot man"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1464247544,"post_id":37453938,"comment_id":62408779,"body_markdown":"Don&#39;t you mean `#` instead of `$`? Yes, it works, however it matches words with all the range of characters ending with.","body":"Don&#39;t you mean <code>#</code> instead of <code>$</code>? Yes, it works, however it matches words with all the range of characters ending with."},{"owner":{"account_id":7950118,"reputation":51,"user_id":6001171,"accept_rate":50,"display_name":"jackSparrow"},"score":0,"creation_date":1464247888,"post_id":37453938,"comment_id":62408991,"body_markdown":"oh sorry it is  &quot;\\\\#(\\\\w+)","body":"oh sorry it is  &quot;\\\\#(\\\\w+)"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1464246765,"creation_date":1464246765,"answer_id":37453938,"question_id":37453828,"body_markdown":"This one should be the way:\r\n\r\n    #(\\w+)(?:[, .]|$)\r\n\r\n - `#` matches `#` literally\r\n - `\\w` is a word with at least one letter\r\n - `(?:)` is non-capturing group\r\n - `[, .]|$` is set of ending characters including the end of line `$`\r\n\r\n \r\nFor more information check out [Regex101][1].\r\n\r\nIn Java don&#39;t forget to escape with double `\\\\`:\r\n\r\n    String str = &quot;hi #myname, you  got #amount&quot;;\r\n    Matcher m = Pattern.compile(&quot;#(\\\\w+)(?:[, .]|$)&quot;).matcher(str);\r\n    while (m.find()) {\r\n       ...\r\n    }\r\n\r\n\r\n  [1]: https://regex101.com/r/yC1dR3/1","title":"I want to find all words using java regex, that starts with &quot;#&quot; and ends with space or &quot;.&quot;","body":"<p>This one should be the way:</p>\n\n<pre><code>#(\\w+)(?:[, .]|$)\n</code></pre>\n\n<ul>\n<li><code>#</code> matches <code>#</code> literally</li>\n<li><code>\\w</code> is a word with at least one letter</li>\n<li><code>(?:)</code> is non-capturing group</li>\n<li><code>[, .]|$</code> is set of ending characters including the end of line <code>$</code></li>\n</ul>\n\n<p>For more information check out <a href=\"https://regex101.com/r/yC1dR3/1\" rel=\"nofollow\">Regex101</a>.</p>\n\n<p>In Java don't forget to escape with double <code>\\\\</code>:</p>\n\n<pre><code>String str = \"hi #myname, you  got #amount\";\nMatcher m = Pattern.compile(\"#(\\\\w+)(?:[, .]|$)\").matcher(str);\nwhile (m.find()) {\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7950118,"reputation":51,"user_id":6001171,"accept_rate":50,"display_name":"jackSparrow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464425635,"creation_date":1464248012,"answer_id":37454341,"question_id":37453828,"body_markdown":"    String str = &quot;hi #myname, you  got #amount&quot;;\r\n    Matcher m = Pattern.compile(&quot;\\\\#(\\\\w+)&quot;).matcher(str);","title":"I want to find all words using java regex, that starts with &quot;#&quot; and ends with space or &quot;.&quot;","body":"<pre><code>String str = \"hi #myname, you  got #amount\";\nMatcher m = Pattern.compile(\"\\\\#(\\\\w+)\").matcher(str);\n</code></pre>\n"}],"owner":{"account_id":7950118,"reputation":51,"user_id":6001171,"accept_rate":50,"display_name":"jackSparrow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1858,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":37453938,"answer_count":3,"score":-4,"last_activity_date":1693067665,"creation_date":1464246394,"question_id":37453828,"body_markdown":"This is a sample string \r\n\r\n    hi #myname, you  got #amount\r\n\r\nI want to find all words using java regx, \r\nthat starts with `#` and ends with space or `.` \r\nexample `#myname`,`#amount`\r\n\r\nI tried the following Regex, but it doesn&#39;t work.\r\n\r\n    String regx = &quot;^#(\\\\s+)&quot;;\r\n","title":"I want to find all words using java regex, that starts with &quot;#&quot; and ends with space or &quot;.&quot;","body":"<p>This is a sample string </p>\n\n<pre><code>hi #myname, you  got #amount\n</code></pre>\n\n<p>I want to find all words using java regx, \nthat starts with <code>#</code> and ends with space or <code>.</code> \nexample <code>#myname</code>,<code>#amount</code></p>\n\n<p>I tried the following Regex, but it doesn't work.</p>\n\n<pre><code>String regx = \"^#(\\\\s+)\";\n</code></pre>\n"},{"tags":["java","regex","date","validation"],"comments":[{"owner":{"account_id":8480340,"reputation":861,"user_id":6360222,"display_name":"S. Kadakov"},"score":0,"creation_date":1464095090,"post_id":37414345,"comment_id":62335111,"body_markdown":"Why do you need manual validation? Just use [DateTimeFormatter](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) and catch exception.","body":"Why do you need manual validation? Just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> and catch exception."},{"owner":{"account_id":6238168,"reputation":321,"user_id":4852752,"accept_rate":100,"display_name":"John E."},"score":0,"creation_date":1464095213,"post_id":37414345,"comment_id":62335230,"body_markdown":"@S.Kadakov I know that I am not allowed to post my &quot;assignments&quot; here, but this is what my teacher wants to get from me, I&#39;ve already done it with `DateTimeFormatter`","body":"@S.Kadakov I know that I am not allowed to post my &quot;assignments&quot; here, but this is what my teacher wants to get from me, I&#39;ve already done it with <code>DateTimeFormatter</code>"}],"answers":[{"comments":[{"owner":{"account_id":6238168,"reputation":321,"user_id":4852752,"accept_rate":100,"display_name":"John E."},"score":0,"creation_date":1464095528,"post_id":37414569,"comment_id":62335505,"body_markdown":"I coped it from [here](http://stackoverflow.com/questions/10931179/need-regular-expression-for-validating-date-in-dd-mmm-yyyy-format)","body":"I coped it from <a href=\"http://stackoverflow.com/questions/10931179/need-regular-expression-for-validating-date-in-dd-mmm-yyyy-format\">here</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1464095783,"post_id":37414569,"comment_id":62335718,"body_markdown":"I&#39;m sure that your teacher will be pleased to hear that :-).  There is nothing wrong with the regex you copied, but you can&#39;t use it like you are trying to use it!","body":"I&#39;m sure that your teacher will be pleased to hear that :-).  There is nothing wrong with the regex you copied, but you can&#39;t use it like you are trying to use it!"},{"owner":{"account_id":6238168,"reputation":321,"user_id":4852752,"accept_rate":100,"display_name":"John E."},"score":0,"creation_date":1464095828,"post_id":37414569,"comment_id":62335755,"body_markdown":"Thank you very-very much, I fixed my problem, you were right! Thanks a lot!","body":"Thank you very-very much, I fixed my problem, you were right! Thanks a lot!"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1464096027,"post_id":37414569,"comment_id":62335901,"body_markdown":"Can I encourage you to STOP &quot;borrowing&quot; other people&#39;s code snippets to do your homework.  It is more effort to write your own code from scratch, but you will learn a lot more.  And I&#39;m SURE that is what your teacher (and future employers) actually want.","body":"Can I encourage you to STOP &quot;borrowing&quot; other people&#39;s code snippets to do your homework.  It is more effort to write your own code from scratch, but you will learn a lot more.  And I&#39;m SURE that is what your teacher (and future employers) actually want."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1464095673,"creation_date":1464095235,"answer_id":37414569,"question_id":37414345,"body_markdown":"Basically, the problem is that you are attempting to use a capture group in the regex that didn&#39;t match anything in the input string.\r\n\r\nI&#39;m not exactly sure, but the either the 3rd capture group is `([0][1-9])` or `([1-2][0-9])`, or there isn&#39;t one at all.  I note that you don&#39;t have any round brackets around the &quot;year&quot; section of your regex, so that can&#39;t be a capture group under any interpretation!\r\n\r\n**UPDATE** - according to this Q&amp;A: https://stackoverflow.com/questions/1313934/how-are-nested-capturing-groups-numbered-in-regular-expressions - capture groups can be nested, and they are numbered according to the order of the respective group&#39;s opening bracket.\r\n\r\nThat means that capture group 3 in your regex is the optional `([0][1-9])` group.\r\n\r\n\r\n","title":"Date validation with regex","body":"<p>Basically, the problem is that you are attempting to use a capture group in the regex that didn't match anything in the input string.</p>\n\n<p>I'm not exactly sure, but the either the 3rd capture group is <code>([0][1-9])</code> or <code>([1-2][0-9])</code>, or there isn't one at all.  I note that you don't have any round brackets around the \"year\" section of your regex, so that can't be a capture group under any interpretation!</p>\n\n<p><strong>UPDATE</strong> - according to this Q&amp;A: <a href=\"https://stackoverflow.com/questions/1313934/how-are-nested-capturing-groups-numbered-in-regular-expressions\">How are nested capturing groups numbered in regular expressions?</a> - capture groups can be nested, and they are numbered according to the order of the respective group's opening bracket.</p>\n\n<p>That means that capture group 3 in your regex is the optional <code>([0][1-9])</code> group.</p>\n"}],"owner":{"account_id":6238168,"reputation":321,"user_id":4852752,"accept_rate":100,"display_name":"John E."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":37414569,"answer_count":1,"score":-1,"last_activity_date":1693067642,"creation_date":1464094661,"question_id":37414345,"body_markdown":"I&#39;ve already asked a question about it [here][1], so I decided to do it from scratch one more time. I am trying to validate **dd-MMM-yyyy** format but for some reason I always get an error.\r\n\r\nHere is my code:\r\n\r\n    import java.util.*;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n     public class Review1_Main{\r\n\r\n     private static Pattern DATE_VALIDATION_PATTERN =\r\n          Pattern.compile(&quot;^(([1-9])|([0][1-9])|([1-2][0-9])|([3][0-1]))&quot; +\r\n                          &quot;\\\\-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|&quot; +\r\n                          &quot;Nov|Dec)\\\\-\\\\d{4}$&quot;);\r\n\r\n     public static boolean validate(final String date){\r\n\r\n     Matcher matcher = DATE_VALIDATION_PATTERN.matcher(date);\r\n\r\n     if(matcher.matches()){\r\n\r\n       matcher.reset();\r\n\r\n       if(matcher.find()){\r\n\r\n         String dd = matcher.group(1);\r\n         String mm = matcher.group(2);\r\n         int yy = Integer.parseInt(matcher.group(3));\r\n\r\n         if (dd.equals(&quot;31&quot;) &amp;&amp;  (mm.equals(&quot;Apr&quot;) || mm.equals(&quot;Jun&quot;) ||\r\n                                  mm.equals(&quot;Sep&quot;) || mm.equals(&quot;Nov&quot;))) {\r\n           return false;\r\n         } else if (mm.equals(&quot;Feb&quot;)) {\r\n\r\n           if(yy % 4==0){\r\n             if(dd.equals(&quot;30&quot;) || dd.equals(&quot;31&quot;)){\r\n               return false;\r\n             }else{\r\n              return true;\r\n             }\r\n           }else{\r\n             if(dd.equals(&quot;29&quot;)||dd.equals(&quot;30&quot;)||dd.equals(&quot;31&quot;)){\r\n               return false;\r\n             }else{\r\n               return true;\r\n             }\r\n           }\r\n         }else{\r\n           return true;\r\n         }\r\n       }else{\r\n         return false;\r\n       }\r\n     }else{\r\n       return false;\r\n     }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n     Scanner s = new Scanner(System.in);\r\n     System.out.print(&quot;Enter a date: &quot;);\r\n       String input = s.nextLine();\r\n     System.out.println(validate(input));\r\n    }\r\n    }\r\n\r\n\r\nAnd here is an error I get:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: null\r\n        at java.lang.Integer.parseInt(Integer.java:542)\r\n        at java.lang.Integer.parseInt(Integer.java:615)\r\n        at Review1_Main.validate(Review1_Main.java:21)\r\n        at Review1_Main.main(Review1_Main.java:57)\r\n\r\nI understand that this error means that my **input = null**, but I can&#39;t fix it. Any advice would be good. I really want to understand it!\r\n\r\nThank you!\r\n\r\n\r\n\r\n\r\n**Finally found the answer:**\r\n\r\n    private static Pattern DATE_VALIDATION_PATTERN = Pattern.compile(&quot;(0?[1-9]|[12][0-9]|3[01])-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|&quot; +\r\n                      &quot;Nov|Dec)-((19|20)\\\\d\\\\d)&quot;);\r\n\r\n  [1]: https://stackoverflow.com/questions/37403354/regex-calendar-validation","title":"Date validation with regex","body":"<p>I've already asked a question about it <a href=\"https://stackoverflow.com/questions/37403354/regex-calendar-validation\">here</a>, so I decided to do it from scratch one more time. I am trying to validate <strong>dd-MMM-yyyy</strong> format but for some reason I always get an error.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n public class Review1_Main{\n\n private static Pattern DATE_VALIDATION_PATTERN =\n      Pattern.compile(\"^(([1-9])|([0][1-9])|([1-2][0-9])|([3][0-1]))\" +\n                      \"\\\\-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|\" +\n                      \"Nov|Dec)\\\\-\\\\d{4}$\");\n\n public static boolean validate(final String date){\n\n Matcher matcher = DATE_VALIDATION_PATTERN.matcher(date);\n\n if(matcher.matches()){\n\n   matcher.reset();\n\n   if(matcher.find()){\n\n     String dd = matcher.group(1);\n     String mm = matcher.group(2);\n     int yy = Integer.parseInt(matcher.group(3));\n\n     if (dd.equals(\"31\") &amp;&amp;  (mm.equals(\"Apr\") || mm.equals(\"Jun\") ||\n                              mm.equals(\"Sep\") || mm.equals(\"Nov\"))) {\n       return false;\n     } else if (mm.equals(\"Feb\")) {\n\n       if(yy % 4==0){\n         if(dd.equals(\"30\") || dd.equals(\"31\")){\n           return false;\n         }else{\n          return true;\n         }\n       }else{\n         if(dd.equals(\"29\")||dd.equals(\"30\")||dd.equals(\"31\")){\n           return false;\n         }else{\n           return true;\n         }\n       }\n     }else{\n       return true;\n     }\n   }else{\n     return false;\n   }\n }else{\n   return false;\n }\n}\n\npublic static void main(String[] args) {\n\n Scanner s = new Scanner(System.in);\n System.out.print(\"Enter a date: \");\n   String input = s.nextLine();\n System.out.println(validate(input));\n}\n}\n</code></pre>\n\n<p>And here is an error I get:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NumberFormatException: null\n    at java.lang.Integer.parseInt(Integer.java:542)\n    at java.lang.Integer.parseInt(Integer.java:615)\n    at Review1_Main.validate(Review1_Main.java:21)\n    at Review1_Main.main(Review1_Main.java:57)\n</code></pre>\n\n<p>I understand that this error means that my <strong>input = null</strong>, but I can't fix it. Any advice would be good. I really want to understand it!</p>\n\n<p>Thank you!</p>\n\n<p><strong>Finally found the answer:</strong></p>\n\n<pre><code>private static Pattern DATE_VALIDATION_PATTERN = Pattern.compile(\"(0?[1-9]|[12][0-9]|3[01])-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|\" +\n                  \"Nov|Dec)-((19|20)\\\\d\\\\d)\");\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":7384865,"reputation":942,"user_id":5620200,"display_name":"Display Name"},"score":3,"creation_date":1461204014,"post_id":36758249,"comment_id":61096119,"body_markdown":"Can&#39;t you just add `_` after `&amp;`? Tested and works on [Regex101](https://regex101.com/).","body":"Can&#39;t you just add <code>_</code> after <code>&amp;</code>? Tested and works on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">Regex101</a>."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1461204084,"post_id":36758249,"comment_id":61096129,"body_markdown":"You seem to be allowing &amp; as well.","body":"You seem to be allowing &amp; as well."}],"answers":[{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1461204166,"post_id":36758298,"comment_id":61096154,"body_markdown":"What is the point of making this CASE_INSENSITIVE (which is expensive)? Seems the pattern already covers all uppercase and lowercase letters.","body":"What is the point of making this CASE_INSENSITIVE (which is expensive)? Seems the pattern already covers all uppercase and lowercase letters."},{"owner":{"account_id":7748830,"reputation":853,"user_id":5865486,"accept_rate":50,"display_name":"Right Of Zen"},"score":0,"creation_date":1461204813,"post_id":36758298,"comment_id":61096338,"body_markdown":"This is true; I was just making minimum modification to the given example. The `Pattern.CASE_INSENSITIVE` is redundant.","body":"This is true; I was just making minimum modification to the given example. The <code>Pattern.CASE_INSENSITIVE</code> is redundant."}],"tags":[],"owner":{"account_id":7748830,"reputation":853,"user_id":5865486,"accept_rate":50,"display_name":"Right Of Zen"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1461204097,"creation_date":1461204097,"answer_id":36758298,"question_id":36758249,"body_markdown":"Your regex expression is currently allowing any characters, digits and ampersands (&amp;). Just add an underscore to the negated set:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;[^_a-zA-Z0-9&amp;]&quot;, Pattern.CASE_INSENSITIVE);","title":"Java | Prevent any special characters EXCEPT underscores","body":"<p>Your regex expression is currently allowing any characters, digits and ampersands (&amp;). Just add an underscore to the negated set:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[^_a-zA-Z0-9&amp;]\", Pattern.CASE_INSENSITIVE);\n</code></pre>\n"}],"owner":{"account_id":8230092,"reputation":159,"user_id":6190999,"accept_rate":45,"display_name":"Nicster15"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36758298,"answer_count":1,"score":1,"last_activity_date":1693067633,"creation_date":1461203776,"question_id":36758249,"body_markdown":"As the title suggests, I want to check and prevent any special characters in a string. However, in doing so I prevent the underscore (which is fine to keep). Is there any way to allow underscores still?\r\n\r\n**This is how I handle the check:**\r\n\r\n          Pattern pattern = Pattern.compile(&quot;[^a-zA-Z0-9&amp;]&quot;, Pattern.CASE_INSENSITIVE);\r\n                    Matcher m = pattern.matcher(String.join(&quot;&quot;, args));\r\n                    if (m.find()) {\r\n                    //Code\r\n                    }\r\n","title":"Java | Prevent any special characters EXCEPT underscores","body":"<p>As the title suggests, I want to check and prevent any special characters in a string. However, in doing so I prevent the underscore (which is fine to keep). Is there any way to allow underscores still?</p>\n\n<p><strong>This is how I handle the check:</strong></p>\n\n<pre><code>      Pattern pattern = Pattern.compile(\"[^a-zA-Z0-9&amp;]\", Pattern.CASE_INSENSITIVE);\n                Matcher m = pattern.matcher(String.join(\"\", args));\n                if (m.find()) {\n                //Code\n                }\n</code></pre>\n"},{"tags":["java","regex","replaceall"],"answers":[{"comments":[{"owner":{"account_id":269976,"reputation":2469,"user_id":559644,"accept_rate":100,"display_name":"totoro"},"score":2,"creation_date":1460751624,"post_id":36656102,"comment_id":60905424,"body_markdown":"And the solution might be to make it non-greedy by adding a `?` after `*`.","body":"And the solution might be to make it non-greedy by adding a <code>?</code> after <code>*</code>."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1460751758,"post_id":36656102,"comment_id":60905485,"body_markdown":"No, I think the tempered greedy tokens should be fixed, it is not just about lazy or greedy quantifiers. Else, there would be no `[\\&#39;\\&quot;]`s around. Another capture group, a backrefrence and an alternative in the negative lookahead are required.","body":"No, I think the tempered greedy tokens should be fixed, it is not just about lazy or greedy quantifiers. Else, there would be no <code>[\\&#39;\\&quot;]</code>s around. Another capture group, a backrefrence and an alternative in the negative lookahead are required."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1460751978,"post_id":36656102,"comment_id":60905583,"body_markdown":"No need to support escaped sequences, these are not C strings.","body":"No need to support escaped sequences, these are not C strings."}],"tags":[],"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460752251,"creation_date":1460751379,"answer_id":36656102,"question_id":36656015,"body_markdown":"`.*` is greedy. The matcher captures `wtfguys.css&quot; href=&quot;wtfguys.css` as `$2`, not `wtfguys.css`. You can use `.*?` or `[^\\&quot;]*` instead, since URLs don&#39;t have even escaped quotes inside. Reference for this issue explaining several options (including the one mentioned by Wiktor): http://www.rexegg.com/regex-quantifiers.html#greedytrap.","title":"Why isn&#39;t java.util.regex.matcher not matching all instances in this string?","body":"<p><code>.*</code> is greedy. The matcher captures <code>wtfguys.css\" href=\"wtfguys.css</code> as <code>$2</code>, not <code>wtfguys.css</code>. You can use <code>.*?</code> or <code>[^\\\"]*</code> instead, since URLs don't have even escaped quotes inside. Reference for this issue explaining several options (including the one mentioned by Wiktor): <a href=\"http://www.rexegg.com/regex-quantifiers.html#greedytrap\" rel=\"nofollow\">http://www.rexegg.com/regex-quantifiers.html#greedytrap</a>.</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460752386,"creation_date":1460752386,"answer_id":36656341,"question_id":36656015,"body_markdown":"You are using regexps that attempt to match both single- and double quoted attribute values. The thing is, you may match a truncated value because none of the two patterns makes sure the opening quote matches the closing. Also, that quote should be missing in the value itself.\r\n\r\nSo, wrap the opening quote into a capture group, use a backrefrence as the closing delimiter and add the backrefrence as an alternative to the lookahead in the tempered greedy token. Then, fix the replacement patterns since the order of backreferences will change.\r\n\r\n    private static final Pattern resourceURLCSS\t\t= Pattern.compile(&quot;url\\\\(([&#39;\\&quot;])((?:(?!://|\\\\1).)*)\\\\1\\\\)&quot;);\r\n\tprivate static final Pattern resourceURLHTML\t= Pattern.compile(&quot;(href|src|url)=([&#39;\\&quot;])((?:(?!://|\\\\2).)*)\\\\2&quot;);\r\n\r\n    public static String makeCSSURLsAbsolute(String input, String baseURL)\r\n\t{\r\n\t\tMatcher matcher\t\t= resourceURLCSS.matcher(input);\r\n\t\treturn matcher.replaceAll(&quot;url(&#39;&quot;+baseURL+&quot;$2&#39;)&quot;);\r\n\t}\r\n\tpublic static String makeHTMLURLsAbsolute(String input, String baseURL)\r\n\t{\r\n\t\tMatcher matcher\t\t= resourceURLHTML.matcher(input);\r\n\t\treturn matcher.replaceAll(&quot;$1=\\&quot;&quot;+baseURL+&quot;$3\\&quot;&quot;);\r\n\t}\r\n\r\nSee the [IDEONE demo][1]\r\n\r\n\r\n  [1]: http://ideone.com/8XuUOW","title":"Why isn&#39;t java.util.regex.matcher not matching all instances in this string?","body":"<p>You are using regexps that attempt to match both single- and double quoted attribute values. The thing is, you may match a truncated value because none of the two patterns makes sure the opening quote matches the closing. Also, that quote should be missing in the value itself.</p>\n\n<p>So, wrap the opening quote into a capture group, use a backrefrence as the closing delimiter and add the backrefrence as an alternative to the lookahead in the tempered greedy token. Then, fix the replacement patterns since the order of backreferences will change.</p>\n\n<pre><code>private static final Pattern resourceURLCSS     = Pattern.compile(\"url\\\\((['\\\"])((?:(?!://|\\\\1).)*)\\\\1\\\\)\");\nprivate static final Pattern resourceURLHTML    = Pattern.compile(\"(href|src|url)=(['\\\"])((?:(?!://|\\\\2).)*)\\\\2\");\n\npublic static String makeCSSURLsAbsolute(String input, String baseURL)\n{\n    Matcher matcher     = resourceURLCSS.matcher(input);\n    return matcher.replaceAll(\"url('\"+baseURL+\"$2')\");\n}\npublic static String makeHTMLURLsAbsolute(String input, String baseURL)\n{\n    Matcher matcher     = resourceURLHTML.matcher(input);\n    return matcher.replaceAll(\"$1=\\\"\"+baseURL+\"$3\\\"\");\n}\n</code></pre>\n\n<p>See the <a href=\"http://ideone.com/8XuUOW\" rel=\"nofollow\">IDEONE demo</a></p>\n"}],"owner":{"account_id":2871851,"reputation":715,"user_id":2465014,"accept_rate":62,"display_name":"gdoug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693067622,"creation_date":1460751026,"question_id":36656015,"body_markdown":"I have the following code: http://ideone.com/mFUaqG\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    class RegexUtils\r\n    {\r\n    \tprivate static final Pattern resourceURLCSS\t\t= Pattern.compile(&quot;url\\\\([\\&#39;\\&quot;](((?!://).)*)[\\&#39;\\&quot;]\\\\)&quot;);\r\n    \tprivate static final Pattern resourceURLHTML\t= Pattern.compile(&quot;(href|src|url)=[\\&#39;\\&quot;](((?!://).)*)[\\&#39;\\&quot;]&quot;);\r\n    \t\r\n    \tpublic static String makeCSSURLsAbsolute(String input, String baseURL)\r\n    \t{\r\n    \t\tMatcher matcher\t\t= resourceURLCSS.matcher(input);\r\n    \t\treturn matcher.replaceAll(&quot;url(&#39;&quot;+baseURL+&quot;$1&#39;)&quot;);\r\n    \t}\r\n    \tpublic static String makeHTMLURLsAbsolute(String input, String baseURL)\r\n    \t{\r\n    \t\tMatcher matcher\t\t= resourceURLHTML.matcher(input);\r\n    \t\treturn matcher.replaceAll(&quot;$1=\\&quot;&quot;+baseURL+&quot;$2\\&quot;&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString fixed\t= RegexUtils.makeCSSURLsAbsolute(&quot;div#header { background-image: url(&#39;images/header-background.jpg&#39;); } div#header { background-image: url(&#39;images/header-background.jpg&#39;); }&quot;, &quot;http://www.google.ca/&quot;);\r\n    \t\tSystem.out.println(fixed);\r\n\t\t\r\n    \t\tfixed\t\t\t= RegexUtils.makeHTMLURLsAbsolute(&quot;href=\\&quot;wtfguys.css\\&quot; href=\\&quot;wtfguys.css\\&quot;&quot;, &quot;http://www.google.ca/&quot;);\r\n    \t\tSystem.out.println(fixed);\r\n    \t}\r\n    }\r\n\r\nUnfortunately, this code doesn&#39;t do what I expect, which is to replace all occurrences of the regular expression with the string replacement. We are essentially replacing relative URLs in CSS and HTML with absolute URLS. It only seems to replace the first occurrence, giving\r\n\r\n    div#header { background-image: url(&#39;http://www.google.ca/images/header-background.jpg&#39;); } div#header { background-image: url(&#39;images/header-background.jpg&#39;); }\r\n    href=&quot;http://www.google.ca/wtfguys.css&quot; href=&quot;wtfguys.css&quot;\r\n\r\nas output. Any suggestions?","title":"Why isn&#39;t java.util.regex.matcher not matching all instances in this string?","body":"<p>I have the following code: <a href=\"http://ideone.com/mFUaqG\" rel=\"nofollow\">http://ideone.com/mFUaqG</a></p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass RegexUtils\n{\n    private static final Pattern resourceURLCSS     = Pattern.compile(\"url\\\\([\\'\\\"](((?!://).)*)[\\'\\\"]\\\\)\");\n    private static final Pattern resourceURLHTML    = Pattern.compile(\"(href|src|url)=[\\'\\\"](((?!://).)*)[\\'\\\"]\");\n\n    public static String makeCSSURLsAbsolute(String input, String baseURL)\n    {\n        Matcher matcher     = resourceURLCSS.matcher(input);\n        return matcher.replaceAll(\"url('\"+baseURL+\"$1')\");\n    }\n    public static String makeHTMLURLsAbsolute(String input, String baseURL)\n    {\n        Matcher matcher     = resourceURLHTML.matcher(input);\n        return matcher.replaceAll(\"$1=\\\"\"+baseURL+\"$2\\\"\");\n    }\n\n    public static void main(String[] args)\n    {\n        String fixed    = RegexUtils.makeCSSURLsAbsolute(\"div#header { background-image: url('images/header-background.jpg'); } div#header { background-image: url('images/header-background.jpg'); }\", \"http://www.google.ca/\");\n        System.out.println(fixed);\n\n        fixed           = RegexUtils.makeHTMLURLsAbsolute(\"href=\\\"wtfguys.css\\\" href=\\\"wtfguys.css\\\"\", \"http://www.google.ca/\");\n        System.out.println(fixed);\n    }\n}\n</code></pre>\n\n<p>Unfortunately, this code doesn't do what I expect, which is to replace all occurrences of the regular expression with the string replacement. We are essentially replacing relative URLs in CSS and HTML with absolute URLS. It only seems to replace the first occurrence, giving</p>\n\n<pre><code>div#header { background-image: url('http://www.google.ca/images/header-background.jpg'); } div#header { background-image: url('images/header-background.jpg'); }\nhref=\"http://www.google.ca/wtfguys.css\" href=\"wtfguys.css\"\n</code></pre>\n\n<p>as output. Any suggestions?</p>\n"},{"tags":["java","android","android-developer-api"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693020168,"creation_date":1693019865,"answer_id":76981430,"question_id":76981154,"body_markdown":"Androidx is not Android.  It is not part of the Android SDK.  In fact the entire reason it exists is that it isn&#39;t part of the Android SDK, so it can be iterated on and updated separately without requiring an OS update.  This allows it to work around differences in SDK versions for you.\r\n\r\nWhen using anything in AndroidX, you never have to worry about the possibility of multiple versions.  You specify the version in your dependencies.  Then you use the version you specified there.\r\n\r\nIn particular, this API call was turned into a noop on tagetSDKVersion &gt; TIRAMISU because the functionality it&#39;s based on is no longer in the base SDK code-  you can see that in the base non-androidx webview:  https://developer.android.com/reference/android/webkit/WebSettings#setForceDark(int).  Since it doesn&#39;t exist on the base WebView, it can&#39;t exist in androidx webview unless there&#39;s an easy way to port the functionality (there isn&#39;t).\r\n\r\n\r\n\r\n","title":"Now library methods are deprecated based on library number instead of Android version?","body":"<p>Androidx is not Android.  It is not part of the Android SDK.  In fact the entire reason it exists is that it isn't part of the Android SDK, so it can be iterated on and updated separately without requiring an OS update.  This allows it to work around differences in SDK versions for you.</p>\n<p>When using anything in AndroidX, you never have to worry about the possibility of multiple versions.  You specify the version in your dependencies.  Then you use the version you specified there.</p>\n<p>In particular, this API call was turned into a noop on tagetSDKVersion &gt; TIRAMISU because the functionality it's based on is no longer in the base SDK code-  you can see that in the base non-androidx webview:  <a href=\"https://developer.android.com/reference/android/webkit/WebSettings#setForceDark(int)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/webkit/WebSettings#setForceDark(int)</a>.  Since it doesn't exist on the base WebView, it can't exist in androidx webview unless there's an easy way to port the functionality (there isn't).</p>\n"}],"owner":{"account_id":16114085,"reputation":563,"user_id":13452141,"display_name":"JP711"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76981430,"answer_count":1,"score":0,"last_activity_date":1693067618,"creation_date":1693010079,"question_id":76981154,"body_markdown":"I am working with the following code snippet:\r\n\r\n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.TIRAMISU){\r\n                WebSettingsCompat.setForceDark(myWebView.getSettings(), WebSettingsCompat.FORCE_DARK_ON);\r\n            }\r\n\r\nIt underlines the setForceDark method as deprecated, I understand that it should not be underlined since it is within the condition that verifies the Android version, [read here][1].\r\n\r\nSo [reading this other part][2] of the documentation indicates that the method has been deprecated since version 1.5.0 of the androidx.webkit:webkit library.\r\n\r\nMy question is, are deprecated methods now based on library version instead of Android version? If this answer is affirmative, since when? I have been offline for 3 months.\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/13/behavior-changes-13#webview-color-theme\r\n  [2]: https://developer.android.com/reference/androidx/webkit/WebSettingsCompat#setForceDark(android.webkit.WebSettings,int)","title":"Now library methods are deprecated based on library number instead of Android version?","body":"<p>I am working with the following code snippet:</p>\n<pre><code>if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.TIRAMISU){\n            WebSettingsCompat.setForceDark(myWebView.getSettings(), WebSettingsCompat.FORCE_DARK_ON);\n        }\n</code></pre>\n<p>It underlines the setForceDark method as deprecated, I understand that it should not be underlined since it is within the condition that verifies the Android version, <a href=\"https://developer.android.com/about/versions/13/behavior-changes-13#webview-color-theme\" rel=\"nofollow noreferrer\">read here</a>.</p>\n<p>So <a href=\"https://developer.android.com/reference/androidx/webkit/WebSettingsCompat#setForceDark(android.webkit.WebSettings,int)\" rel=\"nofollow noreferrer\">reading this other part</a> of the documentation indicates that the method has been deprecated since version 1.5.0 of the androidx.webkit:webkit library.</p>\n<p>My question is, are deprecated methods now based on library version instead of Android version? If this answer is affirmative, since when? I have been offline for 3 months.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5321648,"reputation":622,"user_id":4244932,"display_name":"Reversal"},"score":0,"creation_date":1459606799,"post_id":36373200,"comment_id":60366534,"body_markdown":"what&#39;s the result desired?","body":"what&#39;s the result desired?"}],"answers":[{"tags":[],"owner":{"account_id":5477831,"reputation":10136,"user_id":4355342,"accept_rate":75,"display_name":"Jyothi Babu Araja"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459600395,"creation_date":1459600395,"answer_id":36373299,"question_id":36373200,"body_markdown":"try this `/.*IfElseDemo.*/g`\r\n\r\nYou can check this [here][1]\r\n\r\n\r\n  [1]: http://regexr.com/3d4t2","title":"Regex match sentence Java","body":"<p>try this <code>/.*IfElseDemo.*/g</code></p>\n\n<p>You can check this <a href=\"http://regexr.com/3d4t2\" rel=\"nofollow\">here</a></p>\n"}],"owner":{"account_id":7493945,"reputation":227,"user_id":5694788,"accept_rate":74,"display_name":"Alexander  Tolkachev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":36373299,"answer_count":1,"score":0,"last_activity_date":1693067610,"creation_date":1459599832,"question_id":36373200,"body_markdown":"Need regex for matching sentence by single word\r\n\r\nSentence: \r\n\r\n&gt; &quot;The following program, IfElseDemo, &quot; +\r\n&gt;                 &quot;assigns a grade based on the value of a test score: &quot; +\r\n&gt;                 &quot;an A for a score of 90% or above, a B for a score of 80% or             above, and so on&quot;\r\n\r\nPattern word: `IfElseDemo`\r\n\r\nTryed: `&quot;[^.]* IfElseDemo,\\\\s [^.]*&quot;` but it doesn&#39;t work for me.","title":"Regex match sentence Java","body":"<p>Need regex for matching sentence by single word</p>\n\n<p>Sentence: </p>\n\n<blockquote>\n  <p>\"The following program, IfElseDemo, \" +\n                  \"assigns a grade based on the value of a test score: \" +\n                  \"an A for a score of 90% or above, a B for a score of 80% or             above, and so on\"</p>\n</blockquote>\n\n<p>Pattern word: <code>IfElseDemo</code></p>\n\n<p>Tryed: <code>\"[^.]* IfElseDemo,\\\\s [^.]*\"</code> but it doesn't work for me.</p>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"display_name":"user2705585"},"score":0,"creation_date":1459533756,"post_id":36362915,"comment_id":60345317,"body_markdown":"Did you included the library files ?","body":"Did you included the library files ?"},{"owner":{"account_id":5147173,"reputation":65,"user_id":4122825,"accept_rate":60,"display_name":"Vinay Kelkar"},"score":0,"creation_date":1459533900,"post_id":36362915,"comment_id":60345391,"body_markdown":"sorry.. but which library files? I didn&#39;t get you?","body":"sorry.. but which library files? I didn&#39;t get you?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1459533961,"post_id":36362915,"comment_id":60345423,"body_markdown":"I am afraid you have a typo. You need `(http(s?):/)(/[^/]+)+\\\\.(?:jpg|gif|png)` or even `https?:/(/[^/]+)+\\\\.(?:jpg|gif|png)`. See [demo](https://regex101.com/r/bN7cQ2/1)","body":"I am afraid you have a typo. You need <code>(http(s?):&#47;)(&#47;[^&#47;]+)+\\\\.(?:jpg|gif|png)</code> or even <code>https?:&#47;(&#47;[^&#47;]+)+\\\\.(?:jpg|gif|png)</code>. See <a href=\"https://regex101.com/r/bN7cQ2/1\" rel=\"nofollow noreferrer\">demo</a>"},{"owner":{"account_id":5147173,"reputation":65,"user_id":4122825,"accept_rate":60,"display_name":"Vinay Kelkar"},"score":0,"creation_date":1459534058,"post_id":36362915,"comment_id":60345477,"body_markdown":"okay wiktor! Let me check it :)","body":"okay wiktor! Let me check it :)"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1459534414,"post_id":36362915,"comment_id":60345692,"body_markdown":"that `+\\&quot; + \\&quot;` looks wrong","body":"that <code>+\\&quot; + \\&quot;</code> looks wrong"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1459534507,"post_id":36362915,"comment_id":60345738,"body_markdown":"See [Java demo](http://ideone.com/Z4QNrc). Note that `matches` requires a full string match, while `find` will find a partial match, a match inside a larger string.","body":"See <a href=\"http://ideone.com/Z4QNrc\" rel=\"nofollow noreferrer\">Java demo</a>. Note that <code>matches</code> requires a full string match, while <code>find</code> will find a partial match, a match inside a larger string."},{"owner":{"display_name":"user2705585"},"score":0,"creation_date":1459534647,"post_id":36362915,"comment_id":60345803,"body_markdown":"@VinayKelkar: [Pattern and Matcher Class](http://www.tutorialspoint.com/java/java_regular_expressions.htm)","body":"@VinayKelkar: <a href=\"http://www.tutorialspoint.com/java/java_regular_expressions.htm\" rel=\"nofollow noreferrer\">Pattern and Matcher Class</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user557597"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459534086,"creation_date":1459534086,"answer_id":36363044,"question_id":36362915,"body_markdown":"You&#39;ve escaped the double quotes in the string catenation  \r\nso the regex engine sees this `(http(s?):/)(/[^/]+)+&quot; + &quot;\\.(?:jpg|gif|png)`  \r\nafter c++ parses the string.  \r\n\r\nYou can un-escape it `&quot;(http(s?):/)(/[^/]+)+&quot; + &quot;\\\\.(?:jpg|gif|png)&quot;`   \r\nor just join them together `&quot;(http(s?):/)(/[^/]+)+\\\\.(?:jpg|gif|png)&quot;`  \r\n","title":"How to extract image url from a string?","body":"<p>You've escaped the double quotes in the string catenation<br>\nso the regex engine sees this <code>(http(s?):/)(/[^/]+)+\" + \"\\.(?:jpg|gif|png)</code><br>\nafter c++ parses the string.  </p>\n\n<p>You can un-escape it <code>\"(http(s?):/)(/[^/]+)+\" + \"\\\\.(?:jpg|gif|png)\"</code><br>\nor just join them together <code>\"(http(s?):/)(/[^/]+)+\\\\.(?:jpg|gif|png)\"</code>  </p>\n"},{"comments":[{"owner":{"account_id":5147173,"reputation":65,"user_id":4122825,"accept_rate":60,"display_name":"Vinay Kelkar"},"score":0,"creation_date":1459573605,"post_id":36363048,"comment_id":60357744,"body_markdown":"if the expression is always at the end...? I didn&#39;t get you mate? sorry...?","body":"if the expression is always at the end...? I didn&#39;t get you mate? sorry...?"},{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":0,"creation_date":1459607215,"post_id":36363048,"comment_id":60366672,"body_markdown":"@VinayKelkar, I apologize for not being clearer. If the text to be extracted is always at the end of the String (as in your example that ends with `/thumb3756d839adc5da3.jpg&#39;), then this regular expression will extract it. So if the URL always ends with the filename, this regex will pull it without the attempt to limit by a particular extension.","body":"@VinayKelkar, I apologize for not being clearer. If the text to be extracted is always at the end of the String (as in your example that ends with `/thumb3756d839adc5da3.jpg&#39;), then this regular expression will extract it. So if the URL always ends with the filename, this regex will pull it without the attempt to limit by a particular extension."}],"tags":[],"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459534114,"creation_date":1459534114,"answer_id":36363048,"question_id":36362915,"body_markdown":"If the expression is always at the end, I would suggest:\r\n\r\n\r\n    ([^/?]+)(?=/?(?:$|\\?))\r\n","title":"How to extract image url from a string?","body":"<p>If the expression is always at the end, I would suggest:</p>\n\n<pre><code>([^/?]+)(?=/?(?:$|\\?))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1459534897,"creation_date":1459534897,"answer_id":36363287,"question_id":36362915,"body_markdown":"You seem to have some issue with the regex, the `\\&quot; + \\&quot;` should come from some code you mistook for a regex. That subpattern requires a quote, one or more spaces, then a space, and another double quote to appear right before the extension. It matches something like [`http://www.medivision360.com/pharma/pages/articleImg/thumbnail/thumb3756d839adc5da3&quot;  &quot;.jpg`](https://regex101.com/r/cC2eE4/1).\r\n\r\nAlso, there are two redundant capture groups at the beginning, you do not need to use them.\r\n\r\nUse\r\n    \r\n    String regex = &quot;https?:/(?:/[^/]+)+\\\\.(?:jpg|gif|png)&quot;;\r\n\r\nSee [this demo](https://regex101.com/r/bN7cQ2/1)\r\n\r\n[Java demo][1]:\r\n\r\n    String rx = &quot;https?:/(?:/[^/]+)+\\\\.(?:jpg|gif|png)&quot;;\r\n\tString url = &quot;http://www.medivision360.com/pharma/pages/articleImg/thumbnail/thumb3756d839adc5da3.jpg&quot;;\r\n\tPattern pat = Pattern.compile(rx);\r\n\tMatcher matcher = pat.matcher(url);\r\n\tif (matcher.matches()) {\r\n\t\tSystem.out.println(matcher.group());\r\n\t}\r\n\r\nNote that `Matcher#matches()` requires a full string match, while `Matcher#find()` will find a partial match, a match inside a larger string.\r\n\r\n  [1]: http://ideone.com/Z4QNrc","title":"How to extract image url from a string?","body":"<p>You seem to have some issue with the regex, the <code>\\\" + \\\"</code> should come from some code you mistook for a regex. That subpattern requires a quote, one or more spaces, then a space, and another double quote to appear right before the extension. It matches something like <a href=\"https://regex101.com/r/cC2eE4/1\" rel=\"nofollow\"><code>http://www.medivision360.com/pharma/pages/articleImg/thumbnail/thumb3756d839adc5da3\"  \".jpg</code></a>.</p>\n\n<p>Also, there are two redundant capture groups at the beginning, you do not need to use them.</p>\n\n<p>Use</p>\n\n<pre><code>String regex = \"https?:/(?:/[^/]+)+\\\\.(?:jpg|gif|png)\";\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/bN7cQ2/1\" rel=\"nofollow\">this demo</a></p>\n\n<p><a href=\"http://ideone.com/Z4QNrc\" rel=\"nofollow\">Java demo</a>:</p>\n\n<pre><code>String rx = \"https?:/(?:/[^/]+)+\\\\.(?:jpg|gif|png)\";\nString url = \"http://www.medivision360.com/pharma/pages/articleImg/thumbnail/thumb3756d839adc5da3.jpg\";\nPattern pat = Pattern.compile(rx);\nMatcher matcher = pat.matcher(url);\nif (matcher.matches()) {\n    System.out.println(matcher.group());\n}\n</code></pre>\n\n<p>Note that <code>Matcher#matches()</code> requires a full string match, while <code>Matcher#find()</code> will find a partial match, a match inside a larger string.</p>\n"}],"owner":{"account_id":5147173,"reputation":65,"user_id":4122825,"accept_rate":60,"display_name":"Vinay Kelkar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36363287,"answer_count":3,"score":2,"last_activity_date":1693067604,"creation_date":1459533688,"question_id":36362915,"body_markdown":"I am trying to extract image url from inside of a string. I am using Pattern and Matcher. I am using a regular expression to match the same. Whenever I am trying to debug the code, both, matcher.matches() and matcher.find() result into false. \r\nI am attaching the image url and regular expression as well as my code. \r\n\r\n\r\n    Pattern pattern_name;\r\n    Matcher matcher_name;\r\n\r\n    String regex = &quot;(http(s?):/)(/[^/]+)+\\&quot; + \\&quot;\\\\.(?:jpg|gif|png)&quot;;\r\n    String url = &quot;http://www.medivision360.com/pharma/pages/articleImg/thumbnail/thumb3756d839adc5da3.jpg&quot;;\r\n\r\n    pattern_name = Pattern.compile(regex);\r\n    matcher_name = pattern_name.matcher(url);\r\n\r\n    matcher_name.matches();\r\n    matcher_name.find();","title":"How to extract image url from a string?","body":"<p>I am trying to extract image url from inside of a string. I am using Pattern and Matcher. I am using a regular expression to match the same. Whenever I am trying to debug the code, both, matcher.matches() and matcher.find() result into false. \nI am attaching the image url and regular expression as well as my code. </p>\n\n<pre><code>Pattern pattern_name;\nMatcher matcher_name;\n\nString regex = \"(http(s?):/)(/[^/]+)+\\\" + \\\"\\\\.(?:jpg|gif|png)\";\nString url = \"http://www.medivision360.com/pharma/pages/articleImg/thumbnail/thumb3756d839adc5da3.jpg\";\n\npattern_name = Pattern.compile(regex);\nmatcher_name = pattern_name.matcher(url);\n\nmatcher_name.matches();\nmatcher_name.find();\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9912,"page":222,"page_size":100}
