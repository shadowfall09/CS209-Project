{"items":[{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1688433304,"post_id":76608871,"comment_id":135070525,"body_markdown":"Have you tried it? What happened? What did you expect to happen instead? Did you see [ask]?","body":"Have you tried it? What happened? What did you expect to happen instead? Did you see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>?"},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":5,"creation_date":1688434598,"post_id":76608871,"comment_id":135070625,"body_markdown":"You can mock the `userRepository.findByEmail` with data that matches your case `when(userRepository.findByEmail(&quot;testmail&quot;)).thenReturn(Collections.emptyList())` this will produce an empty stream therefore the whole statement will be `false` upon running the test. Similarly, for a `true` scenario you can mock a List that contains the `userRequestDto` in question.","body":"You can mock the <code>userRepository.findByEmail</code> with data that matches your case <code>when(userRepository.findByEmail(&quot;testmail&quot;)).thenReturn(Coll&zwnj;&#8203;ections.emptyList())</code> this will produce an empty stream therefore the whole statement will be <code>false</code> upon running the test. Similarly, for a <code>true</code> scenario you can mock a List that contains the <code>userRequestDto</code> in question."},{"owner":{"account_id":28944913,"reputation":1,"user_id":22170695,"display_name":"Everton Nascimento"},"score":0,"creation_date":1688435372,"post_id":76608871,"comment_id":135070687,"body_markdown":"org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nBoolean cannot be returned by findByEmail()\nfindByEmail() should return Optional\n***\nIf you&#39;re unsure why you&#39;re getting above error read on.\nDue to the nature of the syntax above problem might occur because:\n1. This exception *might* occur in wrongly written multi-threaded tests.\n   Please refer to Mockito FAQ on limitations of concurrency testing.\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.","body":"org.mockito.exceptions.misusing.WrongTypeOfReturnValue:  Boolean cannot be returned by findByEmail() findByEmail() should return Optional *** If you&#39;re unsure why you&#39;re getting above error read on. Due to the nature of the syntax above problem might occur because: 1. This exception <i>might</i> occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency testing. 2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies -     - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1688438110,"post_id":76608871,"comment_id":135070870,"body_markdown":"If you are mocking your repository, you should let the `.stream() .anyMatch(c -&gt; !c.equals(userDtoRequest))` run normally, so that you have coverage of that code. Can you explain why you want to mock the whole thing?","body":"If you are mocking your repository, you should let the <code>.stream() .anyMatch(c -&gt; !c.equals(userDtoRequest))</code> run normally, so that you have coverage of that code. Can you explain why you want to mock the whole thing?"}],"answers":[{"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":1,"creation_date":1688461237,"post_id":76610859,"comment_id":135073876,"body_markdown":"Smooth explanation, but i would add aditionally that no matter if UNIT or higher level of testing i would avoid mocking DTOs/Request/... Since creating a usual test data setup can be done easy and fast. \nDon&#39;t be that lazy. Use real data/dto and just mock external dependencies/calls (service, repo, clients, ...). That&#39;s more suiteable for real-world development at the industry.","body":"Smooth explanation, but i would add aditionally that no matter if UNIT or higher level of testing i would avoid mocking DTOs/Request/... Since creating a usual test data setup can be done easy and fast.  Don&#39;t be that lazy. Use real data/dto and just mock external dependencies/calls (service, repo, clients, ...). That&#39;s more suiteable for real-world development at the industry."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1688461518,"post_id":76610859,"comment_id":135073936,"body_markdown":"Thanks for the feedback, I agree. The mock object would&#39;ve made more sense if it was some kind of service class being returned by a factory, or similar. I&#39;ve adjusted the code.","body":"Thanks for the feedback, I agree. The mock object would&#39;ve made more sense if it was some kind of service class being returned by a factory, or similar. I&#39;ve adjusted the code."}],"tags":[],"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688461515,"creation_date":1688460502,"answer_id":76610859,"question_id":76608871,"body_markdown":"When writing integration tests that require some form of mocking or stubbing, you want to mock as little as is necessary to replicate the desired behaviour.  \r\n\r\nSpecifically, you do *not* usually want to mock any underlying JRE (or any other language) functionality (it is out of scope for your test and is not always easily possible). `stream()`, `anyMatch()`, etc. are library functions that have already been extensively tested, and your test should execute them as normally so that you can verify your correct *usage* of these functions.\r\n\r\nThe standard way to do this then, would be to mock the return value of `userRepository.findByEmail(userDtoRequest.email())` and let the rest of the code run as normal.\r\n\r\n```\r\nUser user = new User(...);\r\nwhen(userRepository.findByEmail(userDtoRequest.email())).thenReturn(user);\r\n```","title":"Mockito &#39;when&#39; clause","body":"<p>When writing integration tests that require some form of mocking or stubbing, you want to mock as little as is necessary to replicate the desired behaviour.</p>\n<p>Specifically, you do <em>not</em> usually want to mock any underlying JRE (or any other language) functionality (it is out of scope for your test and is not always easily possible). <code>stream()</code>, <code>anyMatch()</code>, etc. are library functions that have already been extensively tested, and your test should execute them as normally so that you can verify your correct <em>usage</em> of these functions.</p>\n<p>The standard way to do this then, would be to mock the return value of <code>userRepository.findByEmail(userDtoRequest.email())</code> and let the rest of the code run as normal.</p>\n<pre><code>User user = new User(...);\nwhen(userRepository.findByEmail(userDtoRequest.email())).thenReturn(user);\n</code></pre>\n"}],"owner":{"account_id":28944913,"reputation":1,"user_id":22170695,"display_name":"Everton Nascimento"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688461515,"creation_date":1688433010,"question_id":76608871,"body_markdown":"I would like to create a Mockito &#39;when&#39; clause for the following statement:\r\n\r\n    boolean emailEmUso = userRepository.findByEmail(userDtoRequest.email())\r\n                    .stream()\r\n                    .anyMatch(c -&gt; !c.equals(userDtoRequest));\r\n\r\nIs it possible?\r\n\r\n    when(userRepository.findByEmail(userDtoRequest.email())\r\n          .stream()\r\n          .anyMatch(c -&gt; !c.equals(userDtoRequest)))\r\n          .thenReturn(false);\r\n\r\n","title":"Mockito &#39;when&#39; clause","body":"<p>I would like to create a Mockito 'when' clause for the following statement:</p>\n<pre><code>boolean emailEmUso = userRepository.findByEmail(userDtoRequest.email())\n                .stream()\n                .anyMatch(c -&gt; !c.equals(userDtoRequest));\n</code></pre>\n<p>Is it possible?</p>\n<pre><code>when(userRepository.findByEmail(userDtoRequest.email())\n      .stream()\n      .anyMatch(c -&gt; !c.equals(userDtoRequest)))\n      .thenReturn(false);\n</code></pre>\n"},{"tags":["java","proxy","ip"],"comments":[{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":27,"creation_date":1294189107,"post_id":4599933,"comment_id":5054279,"body_markdown":"hmm you sound like your up to something good.","body":"hmm you sound like your up to something good."}],"answers":[{"comments":[{"owner":{"account_id":939735,"reputation":610,"user_id":968020,"accept_rate":50,"display_name":"talawahtech"},"score":1,"creation_date":1406264592,"post_id":4599968,"comment_id":38773769,"body_markdown":"You should also note that the proxy configuration for HTTPS uses a slightly different property eg. System.setProperty(&quot;https.proxyHost&quot;, &quot;myProxyServer.com&quot;);. I was wondering why this wasn&#39;t working for me at first and it was because my code uses HTTPS.","body":"You should also note that the proxy configuration for HTTPS uses a slightly different property eg. System.setProperty(&quot;https.proxyHost&quot;, &quot;myProxyServer.com&quot;);. I was wondering why this wasn&#39;t working for me at first and it was because my code uses HTTPS."},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":2,"creation_date":1409041256,"post_id":4599968,"comment_id":39805066,"body_markdown":"Why is there no Proxy.Type.HTTPS (secure) constant at all?","body":"Why is there no Proxy.Type.HTTPS (secure) constant at all?"}],"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"comment_count":2,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1294191539,"creation_date":1294189313,"answer_id":4599968,"question_id":4599933,"body_markdown":"You can use the java system properties to set up a proxy or pass it as command line options. \r\n\r\nYou can find some details and samples [here][1].\r\n\r\nEx: Before opening the connection\r\n\r\n    System.setProperty(&quot;http.proxyHost&quot;, &quot;myProxyServer.com&quot;);\r\n    System.setProperty(&quot;http.proxyPort&quot;, &quot;80&quot;);\r\n\r\nOr you can use the default network proxies configured in the sytem\r\n\r\n    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n\r\nSince Java 1.5 you can create a instance of proxy and pass it to the `openConnection()` method.\r\n\r\n    Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;123.0.0.1&quot;, 8080));\r\n    URL url = new URL(&quot;http://www.yahoo.com&quot;);\r\n    HttpURLConnection uc = (HttpURLConnection)url.openConnection(proxy);\r\n    uc.connect();\r\n\r\nOr as [lisak][2] suggested, you can use some 3rd party libraries which supports your need better.\r\n\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0085.html\r\n  [2]: https://stackoverflow.com/questions/4599933/how-to-use-proxy-in-java/4599968#4600039","title":"How to use an HTTP proxy in java","body":"<p>You can use the java system properties to set up a proxy or pass it as command line options. </p>\n\n<p>You can find some details and samples <a href=\"http://www.rgagnon.com/javadetails/java-0085.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Ex: Before opening the connection</p>\n\n<pre><code>System.setProperty(\"http.proxyHost\", \"myProxyServer.com\");\nSystem.setProperty(\"http.proxyPort\", \"80\");\n</code></pre>\n\n<p>Or you can use the default network proxies configured in the sytem</p>\n\n<pre><code>System.setProperty(\"java.net.useSystemProxies\", \"true\");\n</code></pre>\n\n<p>Since Java 1.5 you can create a instance of proxy and pass it to the <code>openConnection()</code> method.</p>\n\n<pre><code>Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(\"123.0.0.1\", 8080));\nURL url = new URL(\"http://www.yahoo.com\");\nHttpURLConnection uc = (HttpURLConnection)url.openConnection(proxy);\nuc.connect();\n</code></pre>\n\n<p>Or as <a href=\"https://stackoverflow.com/questions/4599933/how-to-use-proxy-in-java/4599968#4600039\">lisak</a> suggested, you can use some 3rd party libraries which supports your need better.</p>\n"},{"comments":[{"owner":{"account_id":3234305,"reputation":319,"user_id":2728862,"display_name":"David Lakatos"},"score":0,"creation_date":1418386237,"post_id":4600039,"comment_id":43325872,"body_markdown":"Tutorial here: [link](https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e475)","body":"Tutorial here: <a href=\"https://hc.apache.org/httpcomponents-client-4.3.x/tutorial/html/connmgmt.html#d5e475\" rel=\"nofollow noreferrer\">link</a>"}],"tags":[],"owner":{"account_id":116952,"reputation":21661,"user_id":306488,"accept_rate":78,"display_name":"lisak"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1294190146,"creation_date":1294190146,"answer_id":4600039,"question_id":4599933,"body_markdown":"Or you can also use [HttpClient][1] which would suit your needs better. Check out the documentation, it&#39;s brief and very informative.\r\n\r\n    DefaultHttpClient httpclient = new DefaultHttpClient();\r\n    \r\n    HttpHost proxy = new HttpHost(&quot;someproxy&quot;, 8080);\r\n    httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\r\n\r\n  [1]: http://hc.apache.org\r\n","title":"How to use an HTTP proxy in java","body":"<p>Or you can also use <a href=\"http://hc.apache.org\">HttpClient</a> which would suit your needs better. Check out the documentation, it's brief and very informative.</p>\n\n<pre><code>DefaultHttpClient httpclient = new DefaultHttpClient();\n\nHttpHost proxy = new HttpHost(\"someproxy\", 8080);\nhttpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14929238,"reputation":1,"user_id":10779089,"display_name":"Shashank"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544592126,"creation_date":1544592126,"answer_id":53736534,"question_id":4599933,"body_markdown":"    Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;123.0.0.1&quot;, 8080));\r\n    URL url = new URL(&quot;http://www.yahoo.com&quot;);\r\n    HttpURLConnection uc = (HttpURLConnection)url.openConnection(proxy);\r\n    uc.connect();\r\n\r\nThis worked for me. I was able to use the proxy for the specific connection or transfer. Earlier we were using System.setProperty which used to set it at system level and all the requests internal/external started using the same proxy.\r\n\r\nAlso Proxy.Type.HTTP works for both http and https ","title":"How to use an HTTP proxy in java","body":"<pre><code>Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(\"123.0.0.1\", 8080));\nURL url = new URL(\"http://www.yahoo.com\");\nHttpURLConnection uc = (HttpURLConnection)url.openConnection(proxy);\nuc.connect();\n</code></pre>\n\n<p>This worked for me. I was able to use the proxy for the specific connection or transfer. Earlier we were using System.setProperty which used to set it at system level and all the requests internal/external started using the same proxy.</p>\n\n<p>Also Proxy.Type.HTTP works for both http and https </p>\n"},{"tags":[],"owner":{"account_id":5254815,"reputation":341,"user_id":4197995,"display_name":"dev_2014"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688461437,"creation_date":1688461437,"answer_id":76610976,"question_id":4599933,"body_markdown":"For me it worked by adding below line before opening connection.\r\n\r\n    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n\r\nIn case you need to use a specific proxy you can even set that in system properties.","title":"How to use an HTTP proxy in java","body":"<p>For me it worked by adding below line before opening connection.</p>\n<pre><code>System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n</code></pre>\n<p>In case you need to use a specific proxy you can even set that in system properties.</p>\n"}],"owner":{"account_id":695354,"reputation":239,"user_id":563331,"display_name":"Tim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68943,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":4,"score":23,"last_activity_date":1688461437,"creation_date":1294188815,"question_id":4599933,"body_markdown":"I am writing a code that connects to websites and checks some code, like a crawler. But I need to connect trough a proxy and change the IP address (so it doesn&#39;t show the client&#39;s IP in the server logs). \r\n\r\nHow can this be done through java? ","title":"How to use an HTTP proxy in java","body":"<p>I am writing a code that connects to websites and checks some code, like a crawler. But I need to connect trough a proxy and change the IP address (so it doesn't show the client's IP in the server logs). </p>\n\n<p>How can this be done through java? </p>\n"},{"tags":["java","spring-boot","opencsv"],"comments":[{"owner":{"account_id":8625756,"reputation":405,"user_id":6459046,"display_name":"Thomas Mwania"},"score":0,"creation_date":1557403510,"post_id":56056890,"comment_id":98758476,"body_markdown":"must you use Open Csv or any other way of validating the headers would be fine","body":"must you use Open Csv or any other way of validating the headers would be fine"}],"answers":[{"tags":[],"owner":{"account_id":8625756,"reputation":405,"user_id":6459046,"display_name":"Thomas Mwania"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596288792,"creation_date":1557404391,"answer_id":56059309,"question_id":56056890,"body_markdown":"Here is an alternative to your present problem.First, define what you expect your headers to look like. For example:\r\n\r\n`public static final ArrayList&lt;String&gt; fileFormat = new ArrayList&lt;&gt;\r\n            (Arrays.asList(&quot;Values1&quot;, &quot;Values2&quot;, &quot;Values3&quot;, &quot;Values4&quot;));`\r\nNow, write a method to return custom errors if any exist:\r\n\r\n    public String validateCsvFileDetails(MultipartFile file, Set&lt;String&gt; requiredHeadersArray) {\r\n        Set&lt;String&gt; errors = new HashSet&lt;&gt;();\r\n        try {\r\n            InputStream stream = file.getInputStream();\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(stream));\r\n            String headerLine = reader.readLine();\r\n            if (Objects.isNull(headerLine))\r\n                return &quot;The file has no headers, please ensure it has the correct upload format&quot;;\r\n            List&lt;String&gt; headersInFileList;\r\n            String[] headersInFileArray;\r\n            if (headerLine.contains(&quot;,&quot;)) {\r\n                headersInFileArray = StringUtils.split(headerLine, &quot;,&quot;);\r\n                headersInFileList = Arrays.asList(headersInFileArray);\r\n            } else//the headerline has only one headerfield\r\n            {\r\n                headersInFileList = Collections.singletonList(headerLine);\r\n            }\r\n            for (String header : requiredHeadersArray) {\r\n                if (!headersInFileList.contains(header))\r\n                    errors.add(&quot;The file has the wrong header format, please ensure &quot; + header + &quot; header is present&quot;);\r\n            }\r\n            //if there are errors, return it\r\n            if (!errors.isEmpty())\r\n                return sysUtils.getStringFromSet(errors);\r\n            //Ensure the csv file actually has values after the header, but don&#39;t read beyond the first line\r\n            String line;\r\n            int counter = 0;\r\n\r\n            while ((line = reader.readLine()) != null) {\r\n                counter++;\r\n                if (counter &gt; 0)\r\n                    break;\r\n            }\r\n            //if line is null return validation error\r\n            if (Objects.isNull(line))\r\n                return &quot;Cannot upload empty file&quot;;\r\n        } catch (Exception e) {\r\n            logger.error(new Object() {\r\n            }.getClass().getEnclosingMethod().getName(), e);\r\n            return &quot;System Error&quot;;\r\n        }\r\n\r\n        return null;\r\n\r\n    }\r\n\r\nNow you can validate you file headers as follows:\r\n\r\n  \r\n\r\n      String errors = validateCsvFileDetails(file, new HashSet&lt;&gt;(fileFormat));\r\n         if (errors != null)\r\n            return error\r\n        //proceed\r\n\r\n","title":"how to fetch and validate csv header in open csv?","body":"<p>Here is an alternative to your present problem.First, define what you expect your headers to look like. For example:</p>\n<p><code>public static final ArrayList&lt;String&gt; fileFormat = new ArrayList&lt;&gt; (Arrays.asList(&quot;Values1&quot;, &quot;Values2&quot;, &quot;Values3&quot;, &quot;Values4&quot;));</code>\nNow, write a method to return custom errors if any exist:</p>\n<pre><code>public String validateCsvFileDetails(MultipartFile file, Set&lt;String&gt; requiredHeadersArray) {\n    Set&lt;String&gt; errors = new HashSet&lt;&gt;();\n    try {\n        InputStream stream = file.getInputStream();\n        BufferedReader reader = new BufferedReader(new InputStreamReader(stream));\n        String headerLine = reader.readLine();\n        if (Objects.isNull(headerLine))\n            return &quot;The file has no headers, please ensure it has the correct upload format&quot;;\n        List&lt;String&gt; headersInFileList;\n        String[] headersInFileArray;\n        if (headerLine.contains(&quot;,&quot;)) {\n            headersInFileArray = StringUtils.split(headerLine, &quot;,&quot;);\n            headersInFileList = Arrays.asList(headersInFileArray);\n        } else//the headerline has only one headerfield\n        {\n            headersInFileList = Collections.singletonList(headerLine);\n        }\n        for (String header : requiredHeadersArray) {\n            if (!headersInFileList.contains(header))\n                errors.add(&quot;The file has the wrong header format, please ensure &quot; + header + &quot; header is present&quot;);\n        }\n        //if there are errors, return it\n        if (!errors.isEmpty())\n            return sysUtils.getStringFromSet(errors);\n        //Ensure the csv file actually has values after the header, but don't read beyond the first line\n        String line;\n        int counter = 0;\n\n        while ((line = reader.readLine()) != null) {\n            counter++;\n            if (counter &gt; 0)\n                break;\n        }\n        //if line is null return validation error\n        if (Objects.isNull(line))\n            return &quot;Cannot upload empty file&quot;;\n    } catch (Exception e) {\n        logger.error(new Object() {\n        }.getClass().getEnclosingMethod().getName(), e);\n        return &quot;System Error&quot;;\n    }\n\n    return null;\n\n}\n</code></pre>\n<p>Now you can validate you file headers as follows:</p>\n<pre><code>  String errors = validateCsvFileDetails(file, new HashSet&lt;&gt;(fileFormat));\n     if (errors != null)\n        return error\n    //proceed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14058462,"reputation":89,"user_id":10155165,"display_name":"Zenny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1558332265,"creation_date":1558332265,"answer_id":56215116,"question_id":56056890,"body_markdown":"Here I was comparing my csvHeader with originalHeader:\r\n\r\n \r\n\r\n    List&lt;String&gt; originalHeader = fileUploadUtility.getHeader(new StockCsv());\r\n    \r\n    List&lt;String&gt; invalidHeader = csvHeader.stream().filter(o -&gt; (originalHeader.stream().filter(f -&gt; f.equalsIgnoreCase(o)).count()) &lt; 1).collect(Collectors.toList());\r\n    \t\t\tif(null != invalidHeader &amp;&amp; invalidHeader.size() &gt; 0 &amp;&amp; invalidHeader.toString().replaceAll(&quot;\\\\[\\\\]&quot;, &quot;&quot;).length() &gt; 0) {\r\n    \t\t\t\tmsg = &quot;Invalid column(s) : &quot; + invalidHeader.toString().replace(&quot;, ]&quot;, &quot;]&quot;) + &quot;. Please remove invalid column(s) from file.&quot;;\r\n    \t\t\t\tresultMap.put(1, msg);\r\n    \t\t\t}\r\n    \r\n    \r\n     public List&lt;String&gt; getHeader(T pojo) {\r\n        // TODO Auto-generated method stub\r\n        final CustomMappingStrategy&lt;T&gt; mappingStrategy = new CustomMappingStrategy&lt;&gt;();\r\n        mappingStrategy.setType((Class&lt;? extends T&gt;) pojo.getClass());\r\n        String header[] = mappingStrategy.generateHeader();\r\n        List&lt;String&gt; strHeader = Arrays.asList(header);\r\n        return strHeader;\r\n      }","title":"how to fetch and validate csv header in open csv?","body":"<p>Here I was comparing my csvHeader with originalHeader:</p>\n\n<pre><code>List&lt;String&gt; originalHeader = fileUploadUtility.getHeader(new StockCsv());\n\nList&lt;String&gt; invalidHeader = csvHeader.stream().filter(o -&gt; (originalHeader.stream().filter(f -&gt; f.equalsIgnoreCase(o)).count()) &lt; 1).collect(Collectors.toList());\n            if(null != invalidHeader &amp;&amp; invalidHeader.size() &gt; 0 &amp;&amp; invalidHeader.toString().replaceAll(\"\\\\[\\\\]\", \"\").length() &gt; 0) {\n                msg = \"Invalid column(s) : \" + invalidHeader.toString().replace(\", ]\", \"]\") + \". Please remove invalid column(s) from file.\";\n                resultMap.put(1, msg);\n            }\n\n\n public List&lt;String&gt; getHeader(T pojo) {\n    // TODO Auto-generated method stub\n    final CustomMappingStrategy&lt;T&gt; mappingStrategy = new CustomMappingStrategy&lt;&gt;();\n    mappingStrategy.setType((Class&lt;? extends T&gt;) pojo.getClass());\n    String header[] = mappingStrategy.generateHeader();\n    List&lt;String&gt; strHeader = Arrays.asList(header);\n    return strHeader;\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1677274305,"post_id":59092759,"comment_id":133312393,"body_markdown":"have to pass a Type to this call: mappingStrategy.generateHeader(). Can you please explain what it should be as  HeaderColumnNameMappingStrategy is initialized with type T.","body":"have to pass a Type to this call: mappingStrategy.generateHeader(). Can you please explain what it should be as  HeaderColumnNameMappingStrategy is initialized with type T."},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1677274972,"post_id":59092759,"comment_id":133312505,"body_markdown":"Also, I am not using CsvReader, but parsing an incoming csv using CsvToBean, so can i use this approach.","body":"Also, I am not using CsvReader, but parsing an incoming csv using CsvToBean, so can i use this approach."}],"tags":[],"owner":{"account_id":13845569,"reputation":11,"user_id":9994797,"display_name":"Maksim Karatkou"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688461360,"creation_date":1574957318,"answer_id":59092759,"question_id":56056890,"body_markdown":"I found the following solution:\r\n\r\n1. Use @CsvBindByName with HeaderColumnNameMappingStrategy,e.g. annotate your bean properties with @CsvBindByName:\r\n```\r\n    public static class HollywoodActor {\r\n        private int id;\r\n        @CsvBindByName(column = &quot;First Name&quot;)\r\n        private String firstName;\r\n        @CsvBindByName(column = &quot;Last Name&quot;)\r\n        private String lastName;\r\n    // getter / setter\r\n    }\r\n```\r\n\r\n\r\n2. Add a method like this:\r\n```\r\n    public class CsvParser {\r\n\r\n        public &lt;T&gt; ParseResult&lt;T&gt; parseByPropertyNames(Reader csvReader, Class&lt;T&gt; beanClass) throws IOException {\r\n            CSVReader reader = new CSVReaderBuilder(csvReader).withCSVParser(new \r\n CSVParserBuilder().build()).build();\r\n            CsvToBean&lt;T&gt; bean = new CsvToBean();\r\n            HeaderColumnNameMappingStrategy&lt;T&gt; mappingStrategy = new HeaderColumnNameMappingStrategy();\r\n            mappingStrategy.setType(beanClass);\r\n            bean.setMappingStrategy(mappingStrategy);\r\n            bean.setCsvReader(reader);\r\n            List&lt;T&gt; beans = bean.parse();\r\n            return new CsvParseResult&lt;&gt;(mappingStrategy.generateHeader(), beans);\r\n        }\r\n\r\n```\r\nand also don&#39;t forget to add public class ParseResult\r\n```\r\n    public class ParseResult &lt;T&gt; {\r\n      private final String[] headers;\r\n      private final List&lt;T&gt; lines;\r\n      // all-args constructor &amp; getters\r\n    }\r\n```\r\n3. Use them in your code:\r\n```\r\n    String csv = &quot;Id,First Name,Last Name\\n&quot; + &quot;1, \\&quot;Johnny\\&quot;, \\&quot;Depp\\&quot;\\n&quot; + &quot;2, \\&quot;Al\\&quot;, \\&quot;Pacino\\&quot;&quot;;\r\n    CsvParseResult&lt;HollywoodActor&gt; parseResult = parser\r\n                .parseByPropertyNames(new InputStreamReader(new ByteArrayInputStream(csv.getBytes(StandardCharsets.UTF_8), HollywoodActor.class)));\r\n```\r\n4. From ParseResult.headers you can get actual headers from which were in your .csv file. Just compare them with what&#39;s expected.\r\n\r\nHope that helps!","title":"how to fetch and validate csv header in open csv?","body":"<p>I found the following solution:</p>\n<ol>\n<li>Use @CsvBindByName with HeaderColumnNameMappingStrategy,e.g. annotate your bean properties with @CsvBindByName:</li>\n</ol>\n<pre><code>    public static class HollywoodActor {\n        private int id;\n        @CsvBindByName(column = &quot;First Name&quot;)\n        private String firstName;\n        @CsvBindByName(column = &quot;Last Name&quot;)\n        private String lastName;\n    // getter / setter\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Add a method like this:</li>\n</ol>\n<pre><code>    public class CsvParser {\n\n        public &lt;T&gt; ParseResult&lt;T&gt; parseByPropertyNames(Reader csvReader, Class&lt;T&gt; beanClass) throws IOException {\n            CSVReader reader = new CSVReaderBuilder(csvReader).withCSVParser(new \n CSVParserBuilder().build()).build();\n            CsvToBean&lt;T&gt; bean = new CsvToBean();\n            HeaderColumnNameMappingStrategy&lt;T&gt; mappingStrategy = new HeaderColumnNameMappingStrategy();\n            mappingStrategy.setType(beanClass);\n            bean.setMappingStrategy(mappingStrategy);\n            bean.setCsvReader(reader);\n            List&lt;T&gt; beans = bean.parse();\n            return new CsvParseResult&lt;&gt;(mappingStrategy.generateHeader(), beans);\n        }\n\n</code></pre>\n<p>and also don't forget to add public class ParseResult</p>\n<pre><code>    public class ParseResult &lt;T&gt; {\n      private final String[] headers;\n      private final List&lt;T&gt; lines;\n      // all-args constructor &amp; getters\n    }\n</code></pre>\n<ol start=\"3\">\n<li>Use them in your code:</li>\n</ol>\n<pre><code>    String csv = &quot;Id,First Name,Last Name\\n&quot; + &quot;1, \\&quot;Johnny\\&quot;, \\&quot;Depp\\&quot;\\n&quot; + &quot;2, \\&quot;Al\\&quot;, \\&quot;Pacino\\&quot;&quot;;\n    CsvParseResult&lt;HollywoodActor&gt; parseResult = parser\n                .parseByPropertyNames(new InputStreamReader(new ByteArrayInputStream(csv.getBytes(StandardCharsets.UTF_8), HollywoodActor.class)));\n</code></pre>\n<ol start=\"4\">\n<li>From ParseResult.headers you can get actual headers from which were in your .csv file. Just compare them with what's expected.</li>\n</ol>\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":21480065,"reputation":1,"user_id":15827585,"display_name":"Philip Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620231643,"creation_date":1620087212,"answer_id":67377253,"question_id":56056890,"body_markdown":"\r\nGive this a try using captureHeader as a pre-filter:\r\n...\r\n\r\n    private class CustomHeaderColumnNameMappingStrategy&lt;T&gt; extends HeaderColumnNameMappingStrategy {\r\n        private String[] expectedHeadersOrdered = {&quot;Column1&quot;, &quot;Column2&quot;, &quot;Column3&quot;, &quot;Column4&quot;, &quot;Column5&quot;};\r\n        @Override\r\n        public void captureHeader(CSVReader reader) throws IOException, CsvRequiredFieldEmptyException {\r\n            String[] actualCsvHeaders = reader.peek();\r\n            String actualHeader, expectedHeader;\r\n            if (expectedHeadersOrdered.length &gt; actualCsvHeaders.length) {\r\n                throw new CsvRequiredFieldEmptyException(&quot;Missing header column.&quot;);\r\n            } else if (expectedHeadersOrdered.length &lt; actualCsvHeaders.length) {\r\n                throw new IOException(&quot;Unexpected extra header column.&quot;);\r\n            }\r\n            // Enforce strict column ordering with index\r\n\t        // TODO: you might want to employ simple hashMap, List, set, etc. as needed\r\n            for (int i=0; i&lt;actualCsvHeaders.length; i++) {\r\n                actualHeader = actualCsvHeaders[i];\r\n                expectedHeader = expectedHeadersOrdered[i];\r\n                if ( ! expectedHeader.equals(actualHeader) ) {\r\n                    throw new IOException(&quot;Header columns mismatch in ordering.&quot;);\r\n                }\r\n            }\r\n\r\n            super.captureHeader(reader); // Back to default processing if the headers include ordering are as expected\r\n        }\r\n    }\r\n\r\n\r\n        CustomHeaderColumnNameMappingStrategy yourMappingStrategy = new CustomHeaderColumnNameMappingStrategy&lt;YourPOJO&gt;();\r\n        ourMappingStrategy.setType(YourPOJO.class);\r\n        try {\r\n            pojosFromCsv = new CsvToBeanBuilder&lt;YourPOJO&gt;(new FileReader(csvFile))\r\n                    .withType(YourPOJO.class)\r\n                    .withMappingStrategy(yourMappingStrategy)\r\n                    .build();\r\n            pojosFromCsv.stream();\r\n\r\n}\r\n\r\nInspired by https://stackoverflow.com/questions/15775729/using-captureheader-in-opencsv?rq=1","title":"how to fetch and validate csv header in open csv?","body":"<p>Give this a try using captureHeader as a pre-filter:\n...</p>\n<pre><code>private class CustomHeaderColumnNameMappingStrategy&lt;T&gt; extends HeaderColumnNameMappingStrategy {\n    private String[] expectedHeadersOrdered = {&quot;Column1&quot;, &quot;Column2&quot;, &quot;Column3&quot;, &quot;Column4&quot;, &quot;Column5&quot;};\n    @Override\n    public void captureHeader(CSVReader reader) throws IOException, CsvRequiredFieldEmptyException {\n        String[] actualCsvHeaders = reader.peek();\n        String actualHeader, expectedHeader;\n        if (expectedHeadersOrdered.length &gt; actualCsvHeaders.length) {\n            throw new CsvRequiredFieldEmptyException(&quot;Missing header column.&quot;);\n        } else if (expectedHeadersOrdered.length &lt; actualCsvHeaders.length) {\n            throw new IOException(&quot;Unexpected extra header column.&quot;);\n        }\n        // Enforce strict column ordering with index\n        // TODO: you might want to employ simple hashMap, List, set, etc. as needed\n        for (int i=0; i&lt;actualCsvHeaders.length; i++) {\n            actualHeader = actualCsvHeaders[i];\n            expectedHeader = expectedHeadersOrdered[i];\n            if ( ! expectedHeader.equals(actualHeader) ) {\n                throw new IOException(&quot;Header columns mismatch in ordering.&quot;);\n            }\n        }\n\n        super.captureHeader(reader); // Back to default processing if the headers include ordering are as expected\n    }\n}\n\n\n    CustomHeaderColumnNameMappingStrategy yourMappingStrategy = new CustomHeaderColumnNameMappingStrategy&lt;YourPOJO&gt;();\n    ourMappingStrategy.setType(YourPOJO.class);\n    try {\n        pojosFromCsv = new CsvToBeanBuilder&lt;YourPOJO&gt;(new FileReader(csvFile))\n                .withType(YourPOJO.class)\n                .withMappingStrategy(yourMappingStrategy)\n                .build();\n        pojosFromCsv.stream();\n</code></pre>\n<p>}</p>\n<p>Inspired by <a href=\"https://stackoverflow.com/questions/15775729/using-captureheader-in-opencsv?rq=1\">Using captureHeader in OpenCSV</a></p>\n"}],"owner":{"account_id":14058462,"reputation":89,"user_id":10155165,"display_name":"Zenny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13664,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56215116,"answer_count":4,"score":2,"last_activity_date":1688461360,"creation_date":1557395907,"question_id":56056890,"body_markdown":"I want to fetch header from csv file . If I am not use this skipLines then I will get header at 0 index array . But I want to fetch header directly using HeaderColumnNameMappingStrategy but it will not work with my code.\r\n\r\nI also want to validate header column list ( like csv had not allowed to contain extra column)\r\n\r\nI had also check this https://stackoverflow.com/questions/35594121/how-to-validate-the-csv-headers-using-opencsv but it was not helpful to me.\r\n\r\n\t@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n\tpublic Map&lt;String, Object&gt; handleStockFileUpload(MultipartFile file, Long customerId) {\r\n\t\tMap&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\r\n\t\tresponseMap.put(&quot;datamap&quot;, &quot;&quot;);\r\n\t\tresponseMap.put(&quot;errormap&quot;, &quot;&quot;);\r\n    \tresponseMap.put(&quot;errorkeys&quot;, &quot;&quot;);\r\n    \t\r\n    \tList&lt;Map&lt;String, Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    \tList&lt;StockCsvDTO&gt; csvStockList = new ArrayList&lt;&gt;();\r\n    \t\r\n    \ttry {\r\n    \t\tString fileName = new SimpleDateFormat(&quot;yyyy_MM_dd_HHmmss&quot;).format(new Date()) + &quot;_&quot; + file.getOriginalFilename();\r\n\t\t\tresponseMap.put(&quot;filename&quot;, fileName);\r\n\t\t\t\r\n        \tFile stockFile = new File(productsUploadFilePath + fileName);\r\n        \tstockFile.getParentFile().mkdirs();\r\n            FileOutputStream fos = new FileOutputStream(stockFile);\r\n            fos.write(file.getBytes());\r\n            fos.close();\r\n            \r\n      \r\n            CsvTransfer csvTransfer = new CsvTransfer();\r\n            \r\n            \r\n            ColumnPositionMappingStrategy ms = new ColumnPositionMappingStrategy();\r\n            ms.setType(StockCsv.class);\r\n        \r\n            Reader reader = Files.newBufferedReader(Paths.get(productsUploadFilePath + fileName));\r\n            CSVReader csvReader =  new CSVReader(reader);\r\n            \r\n            CsvToBean cb = new CsvToBeanBuilder(reader)\r\n              .withType(StockCsv.class)\r\n              .withMappingStrategy(ms)\r\n              .withSkipLines(1)\r\n              .build();\r\n        \r\n           csvTransfer.setCsvList(cb.parse());\r\n           reader.close();\r\n           \r\n           \r\n           csvStockList = csvTransfer.getCsvList();\r\n           \r\n     \t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tresponseMap.put(&quot;status&quot;, &quot;servererror&quot;);\r\n\t\t}\r\n    \t\r\n    \t responseMap.put(&quot;datamap&quot;, csvStockList);\r\n\t\t\r\n\t\treturn responseMap;\r\n\t}","title":"how to fetch and validate csv header in open csv?","body":"<p>I want to fetch header from csv file . If I am not use this skipLines then I will get header at 0 index array . But I want to fetch header directly using HeaderColumnNameMappingStrategy but it will not work with my code.</p>\n\n<p>I also want to validate header column list ( like csv had not allowed to contain extra column)</p>\n\n<p>I had also check this <a href=\"https://stackoverflow.com/questions/35594121/how-to-validate-the-csv-headers-using-opencsv\">How to validate the csv headers using opencsv</a> but it was not helpful to me.</p>\n\n<pre><code>@SuppressWarnings({ \"unchecked\", \"rawtypes\" })\npublic Map&lt;String, Object&gt; handleStockFileUpload(MultipartFile file, Long customerId) {\n    Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\n    responseMap.put(\"datamap\", \"\");\n    responseMap.put(\"errormap\", \"\");\n    responseMap.put(\"errorkeys\", \"\");\n\n    List&lt;Map&lt;String, Integer&gt;&gt; list = new ArrayList&lt;&gt;();\n    List&lt;StockCsvDTO&gt; csvStockList = new ArrayList&lt;&gt;();\n\n    try {\n        String fileName = new SimpleDateFormat(\"yyyy_MM_dd_HHmmss\").format(new Date()) + \"_\" + file.getOriginalFilename();\n        responseMap.put(\"filename\", fileName);\n\n        File stockFile = new File(productsUploadFilePath + fileName);\n        stockFile.getParentFile().mkdirs();\n        FileOutputStream fos = new FileOutputStream(stockFile);\n        fos.write(file.getBytes());\n        fos.close();\n\n\n        CsvTransfer csvTransfer = new CsvTransfer();\n\n\n        ColumnPositionMappingStrategy ms = new ColumnPositionMappingStrategy();\n        ms.setType(StockCsv.class);\n\n        Reader reader = Files.newBufferedReader(Paths.get(productsUploadFilePath + fileName));\n        CSVReader csvReader =  new CSVReader(reader);\n\n        CsvToBean cb = new CsvToBeanBuilder(reader)\n          .withType(StockCsv.class)\n          .withMappingStrategy(ms)\n          .withSkipLines(1)\n          .build();\n\n       csvTransfer.setCsvList(cb.parse());\n       reader.close();\n\n\n       csvStockList = csvTransfer.getCsvList();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        responseMap.put(\"status\", \"servererror\");\n    }\n\n     responseMap.put(\"datamap\", csvStockList);\n\n    return responseMap;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688461112,"post_id":76610876,"comment_id":135073847,"body_markdown":"You can use an `UrlRewriteFilter` for that. Something like https://tuckey.org/urlrewrite/ this can rewrite your URL to strip the tenant and use it as paramter/header etc. Else stick with Jetty and fix the issues you have with this.","body":"You can use an <code>UrlRewriteFilter</code> for that. Something like <a href=\"https://tuckey.org/urlrewrite/\" rel=\"nofollow noreferrer\">tuckey.org/urlrewrite</a> this can rewrite your URL to strip the tenant and use it as paramter/header etc. Else stick with Jetty and fix the issues you have with this."}],"owner":{"account_id":137100,"reputation":17827,"user_id":341065,"accept_rate":72,"display_name":"wilx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688460601,"creation_date":1688460601,"question_id":76610876,"body_markdown":"We have an application which used to run with embedded Jetty. Unfortunately, it is not possible to use Jetty well in Spring Boot 3, so we are trying to migrate to embedded Tomcat while also migrating to Spring Boot 3 from 2.7.x.\r\n\r\nWe have to be able to serve APIs with dynamic URL prefix (context path?), e.g., `/TENANT_ID/some/prefix/some/api` while having only `@RestController`/`@RequestMapping` for `/some/api`. With Jetty, we used to use a Jetty Customizer object, which would do `request.setAttribute(WebUtils.INCLUDE_CONTEXT_PATH_ATTRIBUTE, contextPath)` and change the `pathInfo` of the request. This no longer works with Spring Boot 3 and Tomcat.\r\n\r\nMy question is, **how would I handle dynamic prefix (servlet/context path?) systematically within Spring Framework?** Is it even possible?\r\n\r\nI tried using `@RequestMapping` with regex parameter, e.g., `@RequestMapping(path = { &quot;/{tenantId:[0-9]+}/some/prefix/**&quot; })` on type level, but this syntax with the named parameter and regex does not seem to work on type level, it seems to work only on method level.","title":"Variable context paths or servlet paths in Spring Boot 3 application with embedded Tomcat","body":"<p>We have an application which used to run with embedded Jetty. Unfortunately, it is not possible to use Jetty well in Spring Boot 3, so we are trying to migrate to embedded Tomcat while also migrating to Spring Boot 3 from 2.7.x.</p>\n<p>We have to be able to serve APIs with dynamic URL prefix (context path?), e.g., <code>/TENANT_ID/some/prefix/some/api</code> while having only <code>@RestController</code>/<code>@RequestMapping</code> for <code>/some/api</code>. With Jetty, we used to use a Jetty Customizer object, which would do <code>request.setAttribute(WebUtils.INCLUDE_CONTEXT_PATH_ATTRIBUTE, contextPath)</code> and change the <code>pathInfo</code> of the request. This no longer works with Spring Boot 3 and Tomcat.</p>\n<p>My question is, <strong>how would I handle dynamic prefix (servlet/context path?) systematically within Spring Framework?</strong> Is it even possible?</p>\n<p>I tried using <code>@RequestMapping</code> with regex parameter, e.g., <code>@RequestMapping(path = { &quot;/{tenantId:[0-9]+}/some/prefix/**&quot; })</code> on type level, but this syntax with the named parameter and regex does not seem to work on type level, it seems to work only on method level.</p>\n"},{"tags":["java","kotlin","intellij-idea","syntax-highlighting","intellij-plugin"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1688470425,"post_id":76610872,"comment_id":135075803,"body_markdown":"Have you tried &quot;File&quot; -&gt; &quot;Invalidate caches&quot; and &quot;Invalidate and Restart&quot;?","body":"Have you tried &quot;File&quot; -&gt; &quot;Invalidate caches&quot; and &quot;Invalidate and Restart&quot;?"},{"owner":{"account_id":20292521,"reputation":211,"user_id":14883879,"display_name":"basti394"},"score":0,"creation_date":1688493934,"post_id":76610872,"comment_id":135080511,"body_markdown":"@k314159 oh yeah thanks, now it works &#128077;","body":"@k314159 oh yeah thanks, now it works 👍"}],"owner":{"account_id":20292521,"reputation":211,"user_id":14883879,"display_name":"basti394"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688460547,"creation_date":1688460547,"question_id":76610872,"body_markdown":"If I open a Spring project, IntelliJ, with version 2023.1, shows the following errors:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bddGM.png\r\n\r\nWhen you hover over the highlights, it says: &quot;Unresolved Reference: x&quot;\r\nAlthough these &quot;errors&quot; appear, I can build and run the project perfectly.\r\n\r\nWhen I open the same project with the previous IntelliJ version, everything is works perfectly.\r\n\r\nThis problem appeared out of nowhere a few weeks ago. Before that, everything worked fine with version 2023.1. I cannot explain why this suddenly happened. \r\n\r\nI would be happy about any advice :)","title":"IntelliJ 2023.1 highlights that Kotlin functions cannot be found","body":"<p>If I open a Spring project, IntelliJ, with version 2023.1, shows the following errors:\n<a href=\"https://i.stack.imgur.com/bddGM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bddGM.png\" alt=\"enter image description here\" /></a></p>\n<p>When you hover over the highlights, it says: &quot;Unresolved Reference: x&quot;\nAlthough these &quot;errors&quot; appear, I can build and run the project perfectly.</p>\n<p>When I open the same project with the previous IntelliJ version, everything is works perfectly.</p>\n<p>This problem appeared out of nowhere a few weeks ago. Before that, everything worked fine with version 2023.1. I cannot explain why this suddenly happened.</p>\n<p>I would be happy about any advice :)</p>\n"},{"tags":["java","apache-commons"],"comments":[{"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"score":0,"creation_date":1304948113,"post_id":5937567,"comment_id":6842554,"body_markdown":"Seems like a strange request. Do you need to access protected or default methods/variables?","body":"Seems like a strange request. Do you need to access protected or default methods/variables?"},{"owner":{"account_id":79514,"reputation":18551,"user_id":225396,"accept_rate":91,"display_name":"danny.lesnik"},"score":0,"creation_date":1304948419,"post_id":5937567,"comment_id":6842656,"body_markdown":"I have getters and setters, so I can use it.","body":"I have getters and setters, so I can use it."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1304948534,"post_id":5937567,"comment_id":6842688,"body_markdown":"I would say you have either a POJO or a Bean. &quot;POJO is an acronym for Plain Old Java Object. The name is used to emphasize that a given object is an ordinary Java Object, not a special object, and in particular not an Enterprise JavaBean. &quot; from the wikipedia entry of POJO","body":"I would say you have either a POJO or a Bean. &quot;POJO is an acronym for Plain Old Java Object. The name is used to emphasize that a given object is an ordinary Java Object, not a special object, and in particular not an Enterprise JavaBean. &quot; from the wikipedia entry of POJO"},{"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"score":0,"creation_date":1304948623,"post_id":5937567,"comment_id":6842707,"body_markdown":"If you don&#39;t need access to package scope stuff, then why not just use the classes from package B? There&#39;s no reason why you need the classes to be in package A.","body":"If you don&#39;t need access to package scope stuff, then why not just use the classes from package B? There&#39;s no reason why you need the classes to be in package A."},{"owner":{"account_id":79514,"reputation":18551,"user_id":225396,"accept_rate":91,"display_name":"danny.lesnik"},"score":0,"creation_date":1304949358,"post_id":5937567,"comment_id":6842954,"body_markdown":"Please see my update it will explain more.","body":"Please see my update it will explain more."},{"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"score":0,"creation_date":1304953036,"post_id":5937567,"comment_id":6844027,"body_markdown":"@danny - Still don&#39;t understand. Are you saying that the classes in package B are too complicated and you don&#39;t need all the 50 fields? If there is a default constructor (required by beans standards) then you can simply ignore the ones you don&#39;t require.","body":"@danny - Still don&#39;t understand. Are you saying that the classes in package B are too complicated and you don&#39;t need all the 50 fields? If there is a default constructor (required by beans standards) then you can simply ignore the ones you don&#39;t require."},{"owner":{"account_id":79514,"reputation":18551,"user_id":225396,"accept_rate":91,"display_name":"danny.lesnik"},"score":0,"creation_date":1304953687,"post_id":5937567,"comment_id":6844223,"body_markdown":"@Qwerky, You are right but If these classes has 40 items in common, I don&#39;t want to call setters and getters 40 times.","body":"@Qwerky, You are right but If these classes has 40 items in common, I don&#39;t want to call setters and getters 40 times."}],"answers":[{"comments":[{"owner":{"account_id":79514,"reputation":18551,"user_id":225396,"accept_rate":91,"display_name":"danny.lesnik"},"score":0,"creation_date":1304948733,"post_id":5937605,"comment_id":6842741,"body_markdown":"Unfortunately this code was not designed by me I just maintaining it now. Currently they are using constructors with 50 parameters which they got from the other class. :)","body":"Unfortunately this code was not designed by me I just maintaining it now. Currently they are using constructors with 50 parameters which they got from the other class. :)"},{"owner":{"account_id":26295,"reputation":15672,"user_id":68283,"accept_rate":82,"display_name":"Rich"},"score":0,"creation_date":1474298181,"post_id":5937605,"comment_id":66462945,"body_markdown":"An example being code generated by webservices. In my code I have to request an object by ID using getCustomerById() and then to update it I have to make a call to setCustomer(CustomerUpdateRequest). getCustomerId returns a CustomerResponse - all the fields inside are Strings/ints/longs, or are things like AddressResponse. The CustomerUpdateRequest contains Strings/ints/longs and AddressRequest, but all the field names are the same, ad-infinitum!","body":"An example being code generated by webservices. In my code I have to request an object by ID using getCustomerById() and then to update it I have to make a call to setCustomer(CustomerUpdateRequest). getCustomerId returns a CustomerResponse - all the fields inside are Strings/ints/longs, or are things like AddressResponse. The CustomerUpdateRequest contains Strings/ints/longs and AddressRequest, but all the field names are the same, ad-infinitum!"}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304948068,"creation_date":1304948068,"answer_id":5937605,"question_id":5937567,"body_markdown":"If DRY is a bedrock principle of computer science, what reason can you give for two identical, parallel object graphs?  Not only have you doubled your maintenance burden, but now you have to develop a recursive method to do nothing but ferry data from one to the other.\r\n\r\n","title":"Copy POJO content from one bean to another","body":"<p>If DRY is a bedrock principle of computer science, what reason can you give for two identical, parallel object graphs?  Not only have you doubled your maintenance burden, but now you have to develop a recursive method to do nothing but ferry data from one to the other.</p>\n"},{"tags":[],"owner":{"account_id":37339,"reputation":154,"user_id":106705,"display_name":"flo"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1383542004,"creation_date":1304949511,"answer_id":5937912,"question_id":5937567,"body_markdown":"Well.. [Dozer][1] may be just the thing you&#39;re looking for.\r\n\r\n. . .  its an object to object mapping framework. The idea is that: \r\n\r\n* Usually it will map by convention. \r\n* You can override this convention with a mapping file. \r\n\r\n. . therefore mapping files are as compact as possible. Its useful for many cases, such as mapping a use-case specify service payload on to the reusable core model objects. \r\n\r\nWhen delivering the SpringSource training courses we used to point out this framework very often. \r\n\r\n\r\n  [1]: http://dozer.sourceforge.net/ &quot;Dozer&quot;","title":"Copy POJO content from one bean to another","body":"<p>Well.. <a href=\"http://dozer.sourceforge.net/\" rel=\"nofollow\" title=\"Dozer\">Dozer</a> may be just the thing you're looking for.</p>\n\n<p>. . .  its an object to object mapping framework. The idea is that: </p>\n\n<ul>\n<li>Usually it will map by convention. </li>\n<li>You can override this convention with a mapping file. </li>\n</ul>\n\n<p>. . therefore mapping files are as compact as possible. Its useful for many cases, such as mapping a use-case specify service payload on to the reusable core model objects. </p>\n\n<p>When delivering the SpringSource training courses we used to point out this framework very often. </p>\n"},{"comments":[{"owner":{"account_id":79514,"reputation":18551,"user_id":225396,"accept_rate":91,"display_name":"danny.lesnik"},"score":0,"creation_date":1304953538,"post_id":5938296,"comment_id":6844181,"body_markdown":"Will apache BeanUtils copy items from different class? I always used it to copy the same pojos of the same class.","body":"Will apache BeanUtils copy items from different class? I always used it to copy the same pojos of the same class."},{"owner":{"account_id":65900,"reputation":24648,"user_id":193634,"accept_rate":84,"display_name":"Rosdi Kasim"},"score":1,"creation_date":1305011799,"post_id":5938296,"comment_id":6855431,"body_markdown":"Actually it does work, provided both class have identical getters and setters.","body":"Actually it does work, provided both class have identical getters and setters."},{"owner":{"account_id":24366,"reputation":7247,"user_id":61938,"accept_rate":71,"display_name":"Rob Grant"},"score":4,"creation_date":1377614420,"post_id":5938296,"comment_id":27144017,"body_markdown":"BeanUtils won&#39;t do deep copy, though. So nested beans etc won&#39;t work (bizarrely).","body":"BeanUtils won&#39;t do deep copy, though. So nested beans etc won&#39;t work (bizarrely)."},{"owner":{"account_id":3818241,"reputation":4374,"user_id":3167016,"accept_rate":94,"display_name":"TuGordoBello"},"score":0,"creation_date":1526320934,"post_id":5938296,"comment_id":87688924,"body_markdown":"Beanutils has third party issue, do you know other alternative?","body":"Beanutils has third party issue, do you know other alternative?"}],"tags":[],"owner":{"account_id":65900,"reputation":24648,"user_id":193634,"accept_rate":84,"display_name":"Rosdi Kasim"},"comment_count":4,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1511832434,"creation_date":1304951308,"answer_id":5938296,"question_id":5937567,"body_markdown":"Any reason why Apache [BeanUtils.copyProperties][1] does not work?\r\n   \r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#copyProperties-java.lang.Object-java.lang.Object-","title":"Copy POJO content from one bean to another","body":"<p>Any reason why Apache <a href=\"http://commons.apache.org/proper/commons-beanutils/javadocs/v1.9.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#copyProperties-java.lang.Object-java.lang.Object-\" rel=\"noreferrer\">BeanUtils.copyProperties</a> does not work?</p>\n"},{"tags":[],"owner":{"account_id":119212,"reputation":5614,"user_id":310760,"display_name":"FeelGood"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423849258,"creation_date":1423849258,"answer_id":28505459,"question_id":5937567,"body_markdown":"See to [mapstruct][1]. This tools generates code, so there is no overhead on reflection.\r\n\r\n\r\n  [1]: http://mapstruct.org/","title":"Copy POJO content from one bean to another","body":"<p>See to <a href=\"http://mapstruct.org/\" rel=\"noreferrer\">mapstruct</a>. This tools generates code, so there is no overhead on reflection.</p>\n"},{"comments":[{"owner":{"account_id":3011114,"reputation":1412,"user_id":2554622,"display_name":"Ashish Shetkar"},"score":0,"creation_date":1574848106,"post_id":44354050,"comment_id":104372905,"body_markdown":"is there any piece of code you forgot to add , this is not working - i tried but  could not find what was missing","body":"is there any piece of code you forgot to add , this is not working - i tried but  could not find what was missing"},{"owner":{"account_id":7078904,"reputation":345,"user_id":5417974,"display_name":"Luis Carlos"},"score":0,"creation_date":1577391870,"post_id":44354050,"comment_id":105160388,"body_markdown":"This code works to me, and is a generic code, don&#39;t have any special or missing piece of code. Could you please be more specific about why isn&#39;t working to you?","body":"This code works to me, and is a generic code, don&#39;t have any special or missing piece of code. Could you please be more specific about why isn&#39;t working to you?"}],"tags":[],"owner":{"account_id":7078904,"reputation":345,"user_id":5417974,"display_name":"Luis Carlos"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496579002,"creation_date":1496579002,"answer_id":44354050,"question_id":5937567,"body_markdown":"Copying fields values are a need I almost every project, for example for do the clone(). I also think that for accomplish some goals isn&#39;t necessary import .jars for using only one function. I would like share some little code in which I was working, there are some things that I left in the inkwell but in general it do the work. In this case I use reflection.\r\n\r\n    public class ObjectCopyTools {\r\n\r\n    static String[] bases = new String[] {&quot;byte&quot;, &quot;short&quot;, &quot;int&quot;, &quot;long&quot;, &quot;float&quot;, &quot;double&quot;, &quot;char&quot;, &quot;boolean&quot;};\r\n    static String[] equivalents = new String[] {&quot;Byte&quot;, &quot;Short&quot;, &quot;Integer&quot;, &quot;Long&quot;, &quot;Float&quot;, &quot;Double&quot;, &quot;Character&quot;, &quot;Boolean&quot;};\r\n    \r\n    static {\r\n        \r\n    }\r\n    \r\n    private static boolean areEquivalents(String type1, String type2){\r\n        for (int i = 0; i &lt; bases.length; i++) {\r\n            if((type1.equals(bases[i]) &amp;&amp; type2.equals(equivalents[i])) \r\n                    || (type2.equals(bases[i]) &amp;&amp; type1.equals(equivalents[i]))){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    public static &lt;T extends Object, Y extends Object&gt; Y deepReflectionObjectCopy(T origin, Class&lt;Y&gt; resultClass) {\r\n        Class&lt;? extends Object&gt; origClass = origin.getClass();\r\n        Y resultObject = null;\r\n        for (Constructor&lt;?&gt; constructor : resultClass.getConstructors()) {\r\n            if (constructor.getParameterCount() == 0) {\r\n                try {\r\n                    resultObject = (Y) constructor.newInstance();\r\n                }catch (InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        if(resultObject == null){\r\n            return null;\r\n        }\r\n        Field[] origFields = origClass.getDeclaredFields();\r\n        Field[] destFields = resultObject.getClass().getDeclaredFields();\r\n\r\n        Object value = null;\r\n        for(Field dstField: destFields){\r\n            try {\r\n                Field tempOrigField = origClass.getDeclaredField(dstField.getName());\r\n                if(tempOrigField.getType().equals(dstField.getType())\r\n                        || areEquivalents(tempOrigField.getType().getSimpleName(), dstField.getType().getSimpleName())){\r\n                    dstField.set(resultObject, tempOrigField.get(origin));\r\n                }\r\n            } catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) {\r\n            }\r\n        }\r\n        return resultObject;\r\n    }\r\n\r\nHope this help.","title":"Copy POJO content from one bean to another","body":"<p>Copying fields values are a need I almost every project, for example for do the clone(). I also think that for accomplish some goals isn't necessary import .jars for using only one function. I would like share some little code in which I was working, there are some things that I left in the inkwell but in general it do the work. In this case I use reflection.</p>\n\n<pre><code>public class ObjectCopyTools {\n\nstatic String[] bases = new String[] {\"byte\", \"short\", \"int\", \"long\", \"float\", \"double\", \"char\", \"boolean\"};\nstatic String[] equivalents = new String[] {\"Byte\", \"Short\", \"Integer\", \"Long\", \"Float\", \"Double\", \"Character\", \"Boolean\"};\n\nstatic {\n\n}\n\nprivate static boolean areEquivalents(String type1, String type2){\n    for (int i = 0; i &lt; bases.length; i++) {\n        if((type1.equals(bases[i]) &amp;&amp; type2.equals(equivalents[i])) \n                || (type2.equals(bases[i]) &amp;&amp; type1.equals(equivalents[i]))){\n            return true;\n        }\n    }\n    return false;\n}\n\npublic static &lt;T extends Object, Y extends Object&gt; Y deepReflectionObjectCopy(T origin, Class&lt;Y&gt; resultClass) {\n    Class&lt;? extends Object&gt; origClass = origin.getClass();\n    Y resultObject = null;\n    for (Constructor&lt;?&gt; constructor : resultClass.getConstructors()) {\n        if (constructor.getParameterCount() == 0) {\n            try {\n                resultObject = (Y) constructor.newInstance();\n            }catch (InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\n            }\n            break;\n        }\n    }\n    if(resultObject == null){\n        return null;\n    }\n    Field[] origFields = origClass.getDeclaredFields();\n    Field[] destFields = resultObject.getClass().getDeclaredFields();\n\n    Object value = null;\n    for(Field dstField: destFields){\n        try {\n            Field tempOrigField = origClass.getDeclaredField(dstField.getName());\n            if(tempOrigField.getType().equals(dstField.getType())\n                    || areEquivalents(tempOrigField.getType().getSimpleName(), dstField.getType().getSimpleName())){\n                dstField.set(resultObject, tempOrigField.get(origin));\n            }\n        } catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) {\n        }\n    }\n    return resultObject;\n}\n</code></pre>\n\n<p>Hope this help.</p>\n"},{"comments":[{"owner":{"account_id":7272464,"reputation":1498,"user_id":5544987,"display_name":"Don Jose"},"score":0,"creation_date":1564590627,"post_id":55524893,"comment_id":101084835,"body_markdown":"what if my attributes are in different cases ,any option?","body":"what if my attributes are in different cases ,any option?"}],"tags":[],"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554411954,"creation_date":1554411954,"answer_id":55524893,"question_id":5937567,"body_markdown":"If you already have spring dependencies you could use `org.springframework.beans.BeanUtils`\r\n\r\n    BeanUtils.copyProperties(from, to);\r\n","title":"Copy POJO content from one bean to another","body":"<p>If you already have spring dependencies you could use <code>org.springframework.beans.BeanUtils</code></p>\n\n<pre><code>BeanUtils.copyProperties(from, to);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564142764,"creation_date":1564142764,"answer_id":57219737,"question_id":5937567,"body_markdown":"Using PropertyUtils, you can copy onky the non null properties as follows:\r\n\r\n        private void copyNonNullProperties(Object destination,\r\n                Object source) {\r\n            try {\r\n                PropertyUtils.describe(source).entrySet().stream()\r\n                        .filter(source -&gt; source.getValue() != null)\r\n                        .filter(source -&gt; !source.getKey().equals(&quot;class&quot;))\r\n                        .forEach(source -&gt; {\r\n                            try {\r\n                                PropertyUtils.setProperty(destination, source.getKey(), source.getValue());\r\n                            } catch (Exception e22) {\r\n                                log.error(&quot;Error setting properties : {}&quot;, e22.getMessage());\r\n                            }\r\n                        });\r\n    \r\n            } catch (Exception e1) {\r\n                log.error(&quot;Error setting properties : {}&quot;, e1.getMessage());\r\n            }\r\n    \r\n        }","title":"Copy POJO content from one bean to another","body":"<p>Using PropertyUtils, you can copy onky the non null properties as follows:</p>\n\n<pre><code>    private void copyNonNullProperties(Object destination,\n            Object source) {\n        try {\n            PropertyUtils.describe(source).entrySet().stream()\n                    .filter(source -&gt; source.getValue() != null)\n                    .filter(source -&gt; !source.getKey().equals(\"class\"))\n                    .forEach(source -&gt; {\n                        try {\n                            PropertyUtils.setProperty(destination, source.getKey(), source.getValue());\n                        } catch (Exception e22) {\n                            log.error(\"Error setting properties : {}\", e22.getMessage());\n                        }\n                    });\n\n        } catch (Exception e1) {\n            log.error(\"Error setting properties : {}\", e1.getMessage());\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5818571,"reputation":11,"user_id":4587346,"display_name":"Fabio Borriello"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608132959,"creation_date":1608132959,"answer_id":65326404,"question_id":5937567,"body_markdown":"have you tried using [BULL][1]? you can find a guide on how to use it on [DZone][2]. It offers the possibility to also perform object transformation while coping.\r\nMoreover, it performs the copy recursively and don&#39;t need getter and setters defined.\r\n\r\n\r\n  [1]: https://github.com/HotelsDotCom/bull\r\n  [2]: https://dzone.com/articles/how-to-transform-any-type-of-java-bean-with-one-li","title":"Copy POJO content from one bean to another","body":"<p>have you tried using <a href=\"https://github.com/HotelsDotCom/bull\" rel=\"nofollow noreferrer\">BULL</a>? you can find a guide on how to use it on <a href=\"https://dzone.com/articles/how-to-transform-any-type-of-java-bean-with-one-li\" rel=\"nofollow noreferrer\">DZone</a>. It offers the possibility to also perform object transformation while coping.\nMoreover, it performs the copy recursively and don't need getter and setters defined.</p>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688460279,"creation_date":1688460279,"answer_id":76610827,"question_id":5937567,"body_markdown":"Try [jodd](https://github.com/oblac/jodd) library.\r\n\r\nDependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jodd&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jodd-bean&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCode example:\r\n\r\n    MyObject source = ...\r\n    MyObject target = ...\r\n    BeanCopy.beans(source, target).declared(true, true).copy();\r\n","title":"Copy POJO content from one bean to another","body":"<p>Try <a href=\"https://github.com/oblac/jodd\" rel=\"nofollow noreferrer\">jodd</a> library.</p>\n<p>Dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jodd&lt;/groupId&gt;\n    &lt;artifactId&gt;jodd-bean&lt;/artifactId&gt;\n    &lt;version&gt;5.1.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Code example:</p>\n<pre><code>MyObject source = ...\nMyObject target = ...\nBeanCopy.beans(source, target).declared(true, true).copy();\n</code></pre>\n"}],"owner":{"account_id":79514,"reputation":18551,"user_id":225396,"accept_rate":91,"display_name":"danny.lesnik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20818,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":5938296,"answer_count":9,"score":15,"last_activity_date":1688460279,"creation_date":1304947843,"question_id":5937567,"body_markdown":"I have few Pojos in different packages, each POJO contains set of the another pojo from the same package. I need to copy all items with the same name from Package B Pojos to objects in Package A. \r\n\r\nEaxmple:\r\n\r\n    package com.vanilla.packageA;\r\n    \r\n    public class Student{\r\n        \r\n        private String firstName;\r\n        private String lastName;\r\n        private Set&lt;Course&gt; course;\r\n        \r\n        //getters and setters ommited\r\n    \r\n    }   \r\n\r\n\r\n----------\r\n\r\n\r\n    package com.vanilla.packageA;\r\n\r\n        public class Course{\r\n        private String courseName;\r\n        private String courseDescription;\r\n    \r\n        //seters and getters\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    package com.vanilla.packageB;\r\n    \r\n    public class Student{\r\n    \r\n        private String firstName;\r\n        private String lastName;\r\n        private Address address;\r\n        private Set&lt;Course&gt; course;\r\n        Private Date birtday;\r\n    \r\n        //getters and setters ommited\r\n    \r\n    }   \r\n    \r\n\r\n\r\n----------\r\n\r\n\r\n    package com.vanilla.packageB;\r\n\r\n    public class Course{\r\n        private String courseName;\r\n        private String courseDescription;\r\n        private &lt;Lecturer&gt; lecturer;\r\n        private Integer hours;\r\n    \r\n        //seters and getters\r\n    } \r\n\r\nI want to copy recursively all items from `PackageB` classes to `packageA` classes which exists in `PaCkageB` and shares the same name.\r\n\r\nUpdates: \r\n\r\nGuys, I understand that that this is stupid question, but I need to maintain this code, now the code is written in the way that they have to call 50 getters and setter, or calling constructor with 50 parameters. \r\nUnfortunately,  I can&#39;t use the same object and I need to copy it, but I must find more &quot;elegant&quot; way to copy tese beans.","title":"Copy POJO content from one bean to another","body":"<p>I have few Pojos in different packages, each POJO contains set of the another pojo from the same package. I need to copy all items with the same name from Package B Pojos to objects in Package A. </p>\n\n<p>Eaxmple:</p>\n\n<pre><code>package com.vanilla.packageA;\n\npublic class Student{\n\n    private String firstName;\n    private String lastName;\n    private Set&lt;Course&gt; course;\n\n    //getters and setters ommited\n\n}   \n</code></pre>\n\n<hr>\n\n<pre><code>package com.vanilla.packageA;\n\n    public class Course{\n    private String courseName;\n    private String courseDescription;\n\n    //seters and getters\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package com.vanilla.packageB;\n\npublic class Student{\n\n    private String firstName;\n    private String lastName;\n    private Address address;\n    private Set&lt;Course&gt; course;\n    Private Date birtday;\n\n    //getters and setters ommited\n\n}   \n</code></pre>\n\n<hr>\n\n<pre><code>package com.vanilla.packageB;\n\npublic class Course{\n    private String courseName;\n    private String courseDescription;\n    private &lt;Lecturer&gt; lecturer;\n    private Integer hours;\n\n    //seters and getters\n} \n</code></pre>\n\n<p>I want to copy recursively all items from <code>PackageB</code> classes to <code>packageA</code> classes which exists in <code>PaCkageB</code> and shares the same name.</p>\n\n<p>Updates: </p>\n\n<p>Guys, I understand that that this is stupid question, but I need to maintain this code, now the code is written in the way that they have to call 50 getters and setter, or calling constructor with 50 parameters. \nUnfortunately,  I can't use the same object and I need to copy it, but I must find more \"elegant\" way to copy tese beans.</p>\n"},{"tags":["java","soap","saaj"],"owner":{"account_id":20211307,"reputation":115,"user_id":14823855,"display_name":"Pieter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688459916,"creation_date":1688459916,"question_id":76610779,"body_markdown":"In a Java 11 project the `com.sun.xml.messaging.saaj.saaj-impl` version 1.5.3 is used. I want to upgrade the project to the latest version, 3.0.2. However, when I do so, a test fails with a `SOAPException` with the message `javax.xml.soap.SOAPException: Unable to create SAAJ meta-factory: Provider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found`. I&#39;ve tried debugging the code, but it is unclear to me why the `SAAJMetaFactoryImpl` is missing. Why is the factory missing, what is going wrong here and how can I update the `saaj-impl` dependency?","title":"How to upgrade saaj-impl from 1.5.3 to 3.0.2?","body":"<p>In a Java 11 project the <code>com.sun.xml.messaging.saaj.saaj-impl</code> version 1.5.3 is used. I want to upgrade the project to the latest version, 3.0.2. However, when I do so, a test fails with a <code>SOAPException</code> with the message <code>javax.xml.soap.SOAPException: Unable to create SAAJ meta-factory: Provider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found</code>. I've tried debugging the code, but it is unclear to me why the <code>SAAJMetaFactoryImpl</code> is missing. Why is the factory missing, what is going wrong here and how can I update the <code>saaj-impl</code> dependency?</p>\n"},{"tags":["java","itext","signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1688447939,"post_id":76609200,"comment_id":135071609,"body_markdown":"At first glance the code looks OK. Merely you should use different coordinates for the signature widget in the second signing pass, but the two signatures should be visible in the signature panel nonetheless. Thus, can you share an example file before signing, after first signing, and after second signing for analysis?","body":"At first glance the code looks OK. Merely you should use different coordinates for the signature widget in the second signing pass, but the two signatures should be visible in the signature panel nonetheless. Thus, can you share an example file before signing, after first signing, and after second signing for analysis?"},{"owner":{"account_id":28909133,"reputation":11,"user_id":22142529,"display_name":"Ho&#224;ng Trung Ki&#234;n"},"score":0,"creation_date":1688448567,"post_id":76609200,"comment_id":135071659,"body_markdown":"this file not signing: https://drive.google.com/file/d/1CvVm-uL09c78y_yWswfw6Dcc3xFvz28x/view?usp=sharing, file first signing :https://drive.google.com/file/d/1YBOBPIb84XbQyYT8yJSzl1e4qDrYsWgc/view?usp=sharing , and second signing: https://drive.google.com/file/d/1SAtZVoDYz2jiiHi0xGfw0jiZJo7MJmcl/view?usp=sharing","body":"this file not signing: <a href=\"https://drive.google.com/file/d/1CvVm-uL09c78y_yWswfw6Dcc3xFvz28x/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1CvVm-uL09c78y_yWswfw6Dcc3xFvz28x/&hellip;</a>, file first signing :<a href=\"https://drive.google.com/file/d/1YBOBPIb84XbQyYT8yJSzl1e4qDrYsWgc/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1YBOBPIb84XbQyYT8yJSzl1e4qDrYsWgc/&hellip;</a> , and second signing: <a href=\"https://drive.google.com/file/d/1SAtZVoDYz2jiiHi0xGfw0jiZJo7MJmcl/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1SAtZVoDYz2jiiHi0xGfw0jiZJo7MJmcl/&hellip;</a>"},{"owner":{"account_id":28909133,"reputation":11,"user_id":22142529,"display_name":"Ho&#224;ng Trung Ki&#234;n"},"score":0,"creation_date":1688448769,"post_id":76609200,"comment_id":135071681,"body_markdown":"i change  coordinates but they still show only signature","body":"i change  coordinates but they still show only signature"},{"owner":{"account_id":2191327,"reputation":754,"user_id":1938284,"display_name":"Sreyas"},"score":0,"creation_date":1688457547,"post_id":76609200,"comment_id":135073092,"body_markdown":"The code snippet appears to create a new PdfStamper instance for each signature. If you want to add multiple signatures to the same PDF, you should reuse the same PdfStamper instance for each signature. This way, each signature will be added as a separate signature field in the document and the code snippet sets the visible signature position using the Rectangle(300, 600, 630, 500) parameters. Make sure that you are setting the signature field positions appropriately for each signature. If the rectangles overlap or have the same coordinates, the signatures may appear on top of each other.","body":"The code snippet appears to create a new PdfStamper instance for each signature. If you want to add multiple signatures to the same PDF, you should reuse the same PdfStamper instance for each signature. This way, each signature will be added as a separate signature field in the document and the code snippet sets the visible signature position using the Rectangle(300, 600, 630, 500) parameters. Make sure that you are setting the signature field positions appropriately for each signature. If the rectangles overlap or have the same coordinates, the signatures may appear on top of each other."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1688458032,"post_id":76609200,"comment_id":135073197,"body_markdown":"@Sreyas *&quot;The code snippet appears to create a new PdfStamper instance for each signature. If you want to add multiple signatures to the same PDF, you should reuse the same PdfStamper instance for each signature.&quot;* - This only is somewhat true if you want _the same, single signature_ to appear multiple times in the document. As I understand the OP, though, they want _multiple signatures_ in the PDF.","body":"@Sreyas <i>&quot;The code snippet appears to create a new PdfStamper instance for each signature. If you want to add multiple signatures to the same PDF, you should reuse the same PdfStamper instance for each signature.&quot;</i> - This only is somewhat true if you want <i>the same, single signature</i> to appear multiple times in the document. As I understand the OP, though, they want <i>multiple signatures</i> in the PDF."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1688459466,"post_id":76609200,"comment_id":135073472,"body_markdown":"@Ho&#224;ngTrungKi&#234;n Analyzing your example files it looks like the error is not in the code you show but in a PDF processing step executed between signings; in this in-between step the first signature was flattened; it looks like that step was executed in LibreOffice Draw.","body":"@Ho&#224;ngTrungKi&#234;n Analyzing your example files it looks like the error is not in the code you show but in a PDF processing step executed between signings; in this in-between step the first signature was flattened; it looks like that step was executed in LibreOffice Draw."}],"answers":[{"comments":[{"owner":{"account_id":28909133,"reputation":11,"user_id":22142529,"display_name":"Ho&#224;ng Trung Ki&#234;n"},"score":1,"creation_date":1688461643,"post_id":76610694,"comment_id":135073960,"body_markdown":"Thank you, what you said helped me fix the error","body":"Thank you, what you said helped me fix the error"}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688459287,"creation_date":1688459287,"answer_id":76610694,"question_id":76609200,"body_markdown":"Analyzing your example files it becomes clear that **the output of your first signing ([o.pdf][1]) is *not* the input of your second signing**! Some PDF processor processed it in-between and _flattened_ the signature field. Thus, the in-document appearance is still there but not the actual digital signature.\r\n\r\nSimilarly, by the way, your unsigned file ([test.pdf][2]) is not the input of your first signing, it also has been processed by some PDF processor before getting signed.\r\n\r\nIf one can take the PDF metadata of your files seriously (which one unfortunately cannot always do), the PDF processor that changed the PDFs before signing each time was LibreOffice 7.5 Draw.\r\n\r\nTo have multiple PDF signatures, therefore, _do not flatten the PDF after signing_ anymore.\r\n\r\n  [1]: https://drive.google.com/file/d/1YBOBPIb84XbQyYT8yJSzl1e4qDrYsWgc/view?usp=sharing\r\n  [2]: https://drive.google.com/file/d/1CvVm-uL09c78y_yWswfw6Dcc3xFvz28x/view?usp=sharing","title":"Multiple signing into pdf using itext 5","body":"<p>Analyzing your example files it becomes clear that <strong>the output of your first signing (<a href=\"https://drive.google.com/file/d/1YBOBPIb84XbQyYT8yJSzl1e4qDrYsWgc/view?usp=sharing\" rel=\"nofollow noreferrer\">o.pdf</a>) is <em>not</em> the input of your second signing</strong>! Some PDF processor processed it in-between and <em>flattened</em> the signature field. Thus, the in-document appearance is still there but not the actual digital signature.</p>\n<p>Similarly, by the way, your unsigned file (<a href=\"https://drive.google.com/file/d/1CvVm-uL09c78y_yWswfw6Dcc3xFvz28x/view?usp=sharing\" rel=\"nofollow noreferrer\">test.pdf</a>) is not the input of your first signing, it also has been processed by some PDF processor before getting signed.</p>\n<p>If one can take the PDF metadata of your files seriously (which one unfortunately cannot always do), the PDF processor that changed the PDFs before signing each time was LibreOffice 7.5 Draw.</p>\n<p>To have multiple PDF signatures, therefore, <em>do not flatten the PDF after signing</em> anymore.</p>\n"}],"owner":{"account_id":28909133,"reputation":11,"user_id":22142529,"display_name":"Ho&#224;ng Trung Ki&#234;n"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76610694,"answer_count":1,"score":0,"last_activity_date":1688459287,"creation_date":1688440966,"question_id":76609200,"body_markdown":"```\r\npublic List&lt;byte[]&gt; addSign1(List&lt;MultipartFile&gt; files, byte[] img, String[] certificates, SignReq signReq, HttpHeaders httpHeaders, AuthorizationReq authorizationReq) throws IOException, DocumentException, GeneralSecurityException {\r\n    PdfReader reader = new PdfReader(files.get(0).getBytes());\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    PdfStamper stamper = PdfStamper.createSignature(reader,outputStream,&#39;0&#39;,null ,true);\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    X509Certificate certificate = ((X509Certificate) cf.generateCertificate(\r\n            new ByteArrayInputStream(Base64.getDecoder().decode(certificates[0].replaceAll(&quot;\\r\\n&quot;, &quot;&quot;)))));\r\n    PdfSignatureAppearance sap = stamper.getSignatureAppearance();\r\n    sap.setReason(&quot;Hihi&quot;);\r\n    sap.setLocation(&quot;Hanoi&quot;);\r\n    sap.setVisibleSignature(new Rectangle(300, 600, 630, 500), 1, null);\r\n    sap.setCertificationLevel(PdfSignatureAppearance.NOT_CERTIFIED);\r\n    ExternalDigest digest = new BouncyCastleDigest();\r\n    ExternalSignature signature = new CustomExternalSignature(httpHeaders,signReq,authorizationReq,signatureServices); \r\n    MakeSignature.signDetached(sap,digest,signature,new Certificate[]{certificate},null,null,null,0, MakeSignature.CryptoStandard.CMS);\r\n    stamper.close();\r\n    reader.close();\r\n    List&lt;byte[]&gt; result = new ArrayList&lt;&gt;();\r\n    result.add(outputStream.toByteArray());\r\n    return result;\r\n}\r\n```\r\n\r\nWhen I sign the first time, and then sign the file for the second time, when I open the pdf file it only shows one signature and is the latest signature, where am I wrong? i want to show more signature into pdf","title":"Multiple signing into pdf using itext 5","body":"<pre><code>public List&lt;byte[]&gt; addSign1(List&lt;MultipartFile&gt; files, byte[] img, String[] certificates, SignReq signReq, HttpHeaders httpHeaders, AuthorizationReq authorizationReq) throws IOException, DocumentException, GeneralSecurityException {\n    PdfReader reader = new PdfReader(files.get(0).getBytes());\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    PdfStamper stamper = PdfStamper.createSignature(reader,outputStream,'0',null ,true);\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n    X509Certificate certificate = ((X509Certificate) cf.generateCertificate(\n            new ByteArrayInputStream(Base64.getDecoder().decode(certificates[0].replaceAll(&quot;\\r\\n&quot;, &quot;&quot;)))));\n    PdfSignatureAppearance sap = stamper.getSignatureAppearance();\n    sap.setReason(&quot;Hihi&quot;);\n    sap.setLocation(&quot;Hanoi&quot;);\n    sap.setVisibleSignature(new Rectangle(300, 600, 630, 500), 1, null);\n    sap.setCertificationLevel(PdfSignatureAppearance.NOT_CERTIFIED);\n    ExternalDigest digest = new BouncyCastleDigest();\n    ExternalSignature signature = new CustomExternalSignature(httpHeaders,signReq,authorizationReq,signatureServices); \n    MakeSignature.signDetached(sap,digest,signature,new Certificate[]{certificate},null,null,null,0, MakeSignature.CryptoStandard.CMS);\n    stamper.close();\n    reader.close();\n    List&lt;byte[]&gt; result = new ArrayList&lt;&gt;();\n    result.add(outputStream.toByteArray());\n    return result;\n}\n</code></pre>\n<p>When I sign the first time, and then sign the file for the second time, when I open the pdf file it only shows one signature and is the latest signature, where am I wrong? i want to show more signature into pdf</p>\n"},{"tags":["java","excel"],"owner":{"account_id":18167123,"reputation":87,"user_id":13217481,"display_name":"AlvinYueChao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688459151,"creation_date":1688459151,"question_id":76610684,"body_markdown":"Similar with existing question ( https://stackoverflow.com/questions/17183173/how-to-avoid-the-editing-of-a-macro-in-excel), I want a programming solution to prevent macro from editing, do you have any idea?\r\n\r\nUpdate: I found an available solution provided by Aspose.Cells. But the library has license cost which is expensive (about $10,000 for each version). Is there any other solution can do the same thing?\r\n\r\n    //import com.aspose.cells.Workbook\r\n    Workbook workbook = …\r\n    workbook.getVbaProject().protect(true, “test”);\r\n    …","title":"Is there programming solution to lock down macro in excel from editing？","body":"<p>Similar with existing question ( <a href=\"https://stackoverflow.com/questions/17183173/how-to-avoid-the-editing-of-a-macro-in-excel\">How to avoid the editing of a macro in Excel?</a>), I want a programming solution to prevent macro from editing, do you have any idea?</p>\n<p>Update: I found an available solution provided by Aspose.Cells. But the library has license cost which is expensive (about $10,000 for each version). Is there any other solution can do the same thing?</p>\n<pre><code>//import com.aspose.cells.Workbook\nWorkbook workbook = …\nworkbook.getVbaProject().protect(true, “test”);\n…\n</code></pre>\n"},{"tags":["java","spring-boot","logging"],"answers":[{"tags":[],"owner":{"account_id":4776151,"reputation":2653,"user_id":3859199,"display_name":"Bwvolleyball"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1571954699,"creation_date":1571954699,"answer_id":58549706,"question_id":58549705,"body_markdown":"The solution, [as found on this GitHub issues comment](https://github.com/spring-projects/spring-kafka/issues/714#issuecomment-399489205), is to surround the logger class / sub-class in `[]`.\r\n\r\nExample:\r\n\r\n```yml\r\nlogging:\r\n  level:\r\n    com.package.[ParentClass$LoggerOne]: INFO\r\n    com.package.[ParentClass$LoggerTwo]: ERROR\r\n    com.package.ParentClass: DEBUG\r\n```\r\n\r\nThis allows fine-grained control of logging levels for the parent class and any nested class contained within the parent.","title":"Setting Logging Levels for nested classes in Spring Boot Properties","body":"<p>The solution, <a href=\"https://github.com/spring-projects/spring-kafka/issues/714#issuecomment-399489205\" rel=\"noreferrer\">as found on this GitHub issues comment</a>, is to surround the logger class / sub-class in <code>[]</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>logging:\n  level:\n    com.package.[ParentClass$LoggerOne]: INFO\n    com.package.[ParentClass$LoggerTwo]: ERROR\n    com.package.ParentClass: DEBUG\n</code></pre>\n\n<p>This allows fine-grained control of logging levels for the parent class and any nested class contained within the parent.</p>\n"},{"tags":[],"owner":{"account_id":375536,"reputation":95,"user_id":726439,"display_name":"leafriend"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688459061,"creation_date":1688459061,"answer_id":76610675,"question_id":58549705,"body_markdown":"I tried to use brackets, and it works for me:\r\n\r\n```properties\r\nlogging.level.com.package[ParentClass$LoggerOne]=INFO\r\nlogging.level.com.package[ParentClass$LoggerTwo]=DEBUG\r\n```","title":"Setting Logging Levels for nested classes in Spring Boot Properties","body":"<p>I tried to use brackets, and it works for me:</p>\n<pre><code>logging.level.com.package[ParentClass$LoggerOne]=INFO\nlogging.level.com.package[ParentClass$LoggerTwo]=DEBUG\n</code></pre>\n"}],"owner":{"account_id":4776151,"reputation":2653,"user_id":3859199,"display_name":"Bwvolleyball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1413,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58549706,"answer_count":2,"score":5,"last_activity_date":1688459061,"creation_date":1571954699,"question_id":58549705,"body_markdown":"I am attempting to set logging levels separately for 2 nested class loggers, an example of this being loggers that are named:\r\n\r\n`com.package.ParentClass$LoggerOne` and `com.package.ParentClass$LoggerTwo`.  Adding loggers in the logback.xml file for those exact loggers works fine, but it doesn&#39;t seem to have any effect when trying to set the loggers for spring boot&#39;s `logging.level` properties group.\r\n\r\nA class with these loggers would look something like this:\r\n\r\n```java\r\nclass ParentClass {\r\n\r\n    private static Logger logger = LoggerFactory.getLogger(ParentClass.class);\r\n\r\n    // code that uses ParentClass logger\r\n\r\n    class LoggerOne {\r\n\r\n        private static Logger logger = LoggerFactory.getLogger(LoggerOne.class);\r\n\r\n        // code that uses LoggerOne logger\r\n\r\n\r\n    }\r\n\r\n    class LoggerTwo {\r\n\r\n        private static Logger logger = LoggerFactory.getLogger(LoggerTwo.class);\r\n\r\n        // code that uses LoggerTwo logger\r\n\r\n    }\r\n\r\n}\r\n```","title":"Setting Logging Levels for nested classes in Spring Boot Properties","body":"<p>I am attempting to set logging levels separately for 2 nested class loggers, an example of this being loggers that are named:</p>\n\n<p><code>com.package.ParentClass$LoggerOne</code> and <code>com.package.ParentClass$LoggerTwo</code>.  Adding loggers in the logback.xml file for those exact loggers works fine, but it doesn't seem to have any effect when trying to set the loggers for spring boot's <code>logging.level</code> properties group.</p>\n\n<p>A class with these loggers would look something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class ParentClass {\n\n    private static Logger logger = LoggerFactory.getLogger(ParentClass.class);\n\n    // code that uses ParentClass logger\n\n    class LoggerOne {\n\n        private static Logger logger = LoggerFactory.getLogger(LoggerOne.class);\n\n        // code that uses LoggerOne logger\n\n\n    }\n\n    class LoggerTwo {\n\n        private static Logger logger = LoggerFactory.getLogger(LoggerTwo.class);\n\n        // code that uses LoggerTwo logger\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","access-modifiers"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1688457576,"post_id":76610402,"comment_id":135073098,"body_markdown":"Also check [6.6.2. Details on protected Access](https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.6.2)","body":"Also check <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.6.2\" rel=\"nofollow noreferrer\">6.6.2. Details on protected Access</a>"},{"owner":{"account_id":28946641,"reputation":1,"user_id":22172099,"display_name":"Christian"},"score":0,"creation_date":1688458322,"post_id":76610402,"comment_id":135073247,"body_markdown":"Thanks for the tips! I couldn&#39;t find such a specific page for details about access to protected members. Could I ask you why, though? Is it just a design choice or is there some more deep explanation?","body":"Thanks for the tips! I couldn&#39;t find such a specific page for details about access to protected members. Could I ask you why, though? Is it just a design choice or is there some more deep explanation?"}],"answers":[{"comments":[{"owner":{"account_id":28946641,"reputation":1,"user_id":22172099,"display_name":"Christian"},"score":1,"creation_date":1688458800,"post_id":76610582,"comment_id":135073335,"body_markdown":"Thanks! That&#39;s the explanation I was looking for :)","body":"Thanks! That&#39;s the explanation I was looking for :)"}],"tags":[],"owner":{"account_id":12663309,"reputation":390,"user_id":9203459,"display_name":"varijkapil13"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688458332,"creation_date":1688458332,"answer_id":76610582,"question_id":76610402,"body_markdown":"TestPowers cannot access eleventh. Yes, when you write `sp.eleventh`, you are trying to directly access the property via TestPowers from SuperPowers. \r\n\r\nBecause of the protected access for eleventh, in Powers, and SuperPower being the child class of Powers, you are able to do `this.eleventh` or more accurately `super.eleventh` in SuperPowers. But the protected chain ends there. SuperPower, by inheritence, also &quot;declares&quot; eleventh as protected.\r\n\r\nSo when you write \r\n```\r\nSuperPowers sp = new SuperPowers();\r\nSystem.out.println(sp.eleventh);\r\n```\r\nin TestPowers class you are trying to access `eleventh` property **of** SuperPowers from **TestPowers**. But SuperPowers declares eleventh as protected. Therefore causing an error in your code.\r\n\r\nSo in order to access eleventh via direct access(from the SuperPowers object) you either need to extend SuperPowers on the TestPowers class or a better way is to generate a `public` getter for the property eleventh in the SuperPowers class like so:\r\n\r\n```\r\npublic int getEleventh(){\r\n  return this.elventh;\r\n}\r\n```\r\n\r\n\r\nthen you can call the getter like so:\r\n\r\n```\r\nSuperPowers sp = new SuperPowers();\r\nSystem.out.println(sp.getEleventh());\r\n```","title":"Accessing a protected field of a different-package class within a class through an object of another class extending the one containing the field","body":"<p>TestPowers cannot access eleventh. Yes, when you write <code>sp.eleventh</code>, you are trying to directly access the property via TestPowers from SuperPowers.</p>\n<p>Because of the protected access for eleventh, in Powers, and SuperPower being the child class of Powers, you are able to do <code>this.eleventh</code> or more accurately <code>super.eleventh</code> in SuperPowers. But the protected chain ends there. SuperPower, by inheritence, also &quot;declares&quot; eleventh as protected.</p>\n<p>So when you write</p>\n<pre><code>SuperPowers sp = new SuperPowers();\nSystem.out.println(sp.eleventh);\n</code></pre>\n<p>in TestPowers class you are trying to access <code>eleventh</code> property <strong>of</strong> SuperPowers from <strong>TestPowers</strong>. But SuperPowers declares eleventh as protected. Therefore causing an error in your code.</p>\n<p>So in order to access eleventh via direct access(from the SuperPowers object) you either need to extend SuperPowers on the TestPowers class or a better way is to generate a <code>public</code> getter for the property eleventh in the SuperPowers class like so:</p>\n<pre><code>public int getEleventh(){\n  return this.elventh;\n}\n</code></pre>\n<p>then you can call the getter like so:</p>\n<pre><code>SuperPowers sp = new SuperPowers();\nSystem.out.println(sp.getEleventh());\n</code></pre>\n"}],"owner":{"account_id":28946641,"reputation":1,"user_id":22172099,"display_name":"Christian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76610582,"answer_count":1,"score":0,"last_activity_date":1688458332,"creation_date":1688457001,"question_id":76610402,"body_markdown":"I just wanted to ask a question about access modifiers in Java. I already searched for a similar question without any luck.\r\nI have the following class:\r\n\\`\r\n\r\n```\r\npackage first.second; \r\npublic class Powers {\r\n    public int ninth = 512;\r\n    private int tenth = 1024;\r\n    protected int eleventh = 2048;\r\n    int twelfth = 4096;\r\n    \r\n    public static void main(String args[]){\r\n    \r\n        Powers p = new Powers();\r\n        System.out.println(p.tenth);\r\n        System.out.println(p.ninth);\r\n        System.out.println(p.eleventh);\r\n        System.out.println(p.twelfth);\r\n    \r\n    }\r\n}\r\n```\r\n\r\nThen, I have the following two classes located in the same package between them but in a different one with respect to class Powers:\r\n\r\n    package first; \r\n    import first.second.Powers;\r\n    \r\n    public class SuperPowers extends Powers {\r\n        \r\n        public void printPowers () {\r\n        \r\n            System.out.println(this.eleventh); // accessing directly to the protected field\r\n            SuperPowers sp = new SuperPowers();\r\n            System.out.println(sp.eleventh); // accessing it through a SuperPowers object\r\n            // System.out.println(twelfth); // ERROR\r\n        \r\n        }\r\n    }\r\n    \r\n    package first;\r\n    import first.second.Powers;\r\n    \r\n    public class TestPowers {\r\n    \r\n        public static void main(String[] args) {\r\n        \r\n            Powers p = new Powers();\r\n            System.out.println(p.ninth);\r\n            //System.out.println(p.tenth); // ERROR\r\n            //System.out.println(p.eleventh); // ERROR\r\n            //System.out.println(p.twelfth); // ERROR\r\n        \r\n            SuperPowers sp = new SuperPowers();\r\n            sp.printPowers(); // We can access it from SuperPowers, which extends Powers!\r\n            // System.out.println(sp.eleventh); // Although not directly :(\r\n        }\r\n    }\r\n\r\nI expected to be able to access through the dot notation &quot;eleventh&quot; field of class Powers through an object of class SuperPowers within the class Powers. I also tried to let TestPowers extends Powers, but it doesn&#39;t work either. Why?","title":"Accessing a protected field of a different-package class within a class through an object of another class extending the one containing the field","body":"<p>I just wanted to ask a question about access modifiers in Java. I already searched for a similar question without any luck.\nI have the following class:\n`</p>\n<pre><code>package first.second; \npublic class Powers {\n    public int ninth = 512;\n    private int tenth = 1024;\n    protected int eleventh = 2048;\n    int twelfth = 4096;\n    \n    public static void main(String args[]){\n    \n        Powers p = new Powers();\n        System.out.println(p.tenth);\n        System.out.println(p.ninth);\n        System.out.println(p.eleventh);\n        System.out.println(p.twelfth);\n    \n    }\n}\n</code></pre>\n<p>Then, I have the following two classes located in the same package between them but in a different one with respect to class Powers:</p>\n<pre><code>package first; \nimport first.second.Powers;\n\npublic class SuperPowers extends Powers {\n    \n    public void printPowers () {\n    \n        System.out.println(this.eleventh); // accessing directly to the protected field\n        SuperPowers sp = new SuperPowers();\n        System.out.println(sp.eleventh); // accessing it through a SuperPowers object\n        // System.out.println(twelfth); // ERROR\n    \n    }\n}\n\npackage first;\nimport first.second.Powers;\n\npublic class TestPowers {\n\n    public static void main(String[] args) {\n    \n        Powers p = new Powers();\n        System.out.println(p.ninth);\n        //System.out.println(p.tenth); // ERROR\n        //System.out.println(p.eleventh); // ERROR\n        //System.out.println(p.twelfth); // ERROR\n    \n        SuperPowers sp = new SuperPowers();\n        sp.printPowers(); // We can access it from SuperPowers, which extends Powers!\n        // System.out.println(sp.eleventh); // Although not directly :(\n    }\n}\n</code></pre>\n<p>I expected to be able to access through the dot notation &quot;eleventh&quot; field of class Powers through an object of class SuperPowers within the class Powers. I also tried to let TestPowers extends Powers, but it doesn't work either. Why?</p>\n"},{"tags":["java","hibernate-validator"],"answers":[{"comments":[{"owner":{"account_id":3510216,"reputation":1376,"user_id":2934716,"accept_rate":100,"display_name":"oreid"},"score":5,"creation_date":1637213746,"post_id":15211289,"comment_id":123767385,"body_markdown":"Just adding to this excellent answer to say that if you define your own annotation and would like to be able to check it programmatically (via `field.getAnnotation`) you&#39;ll need to annotate your annotation declaration with `@Retention(RetentionPolicy.RUNTIME)`.","body":"Just adding to this excellent answer to say that if you define your own annotation and would like to be able to check it programmatically (via <code>field.getAnnotation</code>) you&#39;ll need to annotate your annotation declaration with <code>@Retention(RetentionPolicy.RUNTIME)</code>."}],"tags":[],"owner":{"account_id":2277222,"reputation":796,"user_id":2003170,"display_name":"Pavla Nov&#225;kov&#225;"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1688458311,"creation_date":1362431782,"answer_id":15211289,"question_id":15210588,"body_markdown":"You can use `getAnnotation` ([docs][1]) to determine if there is a specific Annotation on the field, which takes the annotation class as a parameter:\r\n\r\n    field.getAnnotation( SomeAnnotation.class );\r\n\r\nHere is a method you can use to verify that a class has a field annotated by given annotation:\r\n\r\n    import java.lang.reflect.Field;\r\n    import javax.validation.constraints.NotNull;\r\n    import org.junit.Test;\r\n    import org.springframework.util.Assert;\r\n\r\n    public class TestHasAnnotatedField {\r\n        @Test\r\n        public void testHasFieldsWithAnnotation() throws SecurityException, NoSuchFieldException {\r\n            Class&lt;?&gt;[] classesToVerify = new Class[] {MyClass1.class, MyClass2.class};\r\n            for (Class&lt;?&gt; clazz : classesToVerify) {\r\n                Field field = clazz.getDeclaredField(&quot;something&quot;);\r\n                Assert.notNull(field.getAnnotation(NotNull.class));\r\n            }\r\n        }\r\n        static class MyClass1 { @NotNull String something; }\r\n        static class MyClass2 { @NotNull String something; }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#getAnnotation(java.lang.Class)","title":"Determine whether field is annotated with a given annotations","body":"<p>You can use <code>getAnnotation</code> (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#getAnnotation(java.lang.Class)\" rel=\"nofollow noreferrer\">docs</a>) to determine if there is a specific Annotation on the field, which takes the annotation class as a parameter:</p>\n<pre><code>field.getAnnotation( SomeAnnotation.class );\n</code></pre>\n<p>Here is a method you can use to verify that a class has a field annotated by given annotation:</p>\n<pre><code>import java.lang.reflect.Field;\nimport javax.validation.constraints.NotNull;\nimport org.junit.Test;\nimport org.springframework.util.Assert;\n\npublic class TestHasAnnotatedField {\n    @Test\n    public void testHasFieldsWithAnnotation() throws SecurityException, NoSuchFieldException {\n        Class&lt;?&gt;[] classesToVerify = new Class[] {MyClass1.class, MyClass2.class};\n        for (Class&lt;?&gt; clazz : classesToVerify) {\n            Field field = clazz.getDeclaredField(&quot;something&quot;);\n            Assert.notNull(field.getAnnotation(NotNull.class));\n        }\n    }\n    static class MyClass1 { @NotNull String something; }\n    static class MyClass2 { @NotNull String something; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1362479334,"creation_date":1362479334,"answer_id":15221466,"question_id":15210588,"body_markdown":"I am not sure I am following, but in case you want to verify whether a class and or its properties have a given Bean Validation constraint, you can use the meta data api. The entry point is _Validator#getConstraintsForClass(SomeClass.class)_. You get a _BeanDescriptor_. From there you can do _beanDescriptor#getConstraintsForProperty(&quot;something&quot;) which gives you a _PropertyDescriptor_. Via _propertyDescriptor#getConstraintDescriptors()_ you get then a set of _ConstraintDescriptors_ which you can iterate to verify that a given constraint annotation was used.\r\n\r\nNote, this is a Bean Validation specific solution compared to generic reflection as in the answer above, but it depends what you are really after. To be honest I don&#39;t quite understand your use case yet.","title":"Determine whether field is annotated with a given annotations","body":"<p>I am not sure I am following, but in case you want to verify whether a class and or its properties have a given Bean Validation constraint, you can use the meta data api. The entry point is <em>Validator#getConstraintsForClass(SomeClass.class)</em>. You get a <em>BeanDescriptor</em>. From there you can do _beanDescriptor#getConstraintsForProperty(\"something\") which gives you a <em>PropertyDescriptor</em>. Via <em>propertyDescriptor#getConstraintDescriptors()</em> you get then a set of <em>ConstraintDescriptors</em> which you can iterate to verify that a given constraint annotation was used.</p>\n\n<p>Note, this is a Bean Validation specific solution compared to generic reflection as in the answer above, but it depends what you are really after. To be honest I don't quite understand your use case yet.</p>\n"}],"owner":{"account_id":2445917,"reputation":153,"user_id":2133314,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21766,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":15211289,"answer_count":2,"score":15,"last_activity_date":1688458311,"creation_date":1362429185,"question_id":15210588,"body_markdown":"I don&#39;t know if you managed to figure out what i am trying to do just from the title so I&#39;ll try to explain with example\r\n\r\nLets suppose I have created my own annotation `@VerifySomething`\r\n\r\nAnd I have created test class for that annotation to make sure it works.\r\n\r\n\r\nNow lets suppose that I have class `SomeClass` with field `something` anoted with annotation `@VerifySomething`\r\n\r\n    class SomeClass {\r\n        @VerifySomething\r\n        String something;\r\n    }\r\n\r\n\r\nSo far so good, but now I want to create `test class` for my `SomeClass` however I don&#39;t see any point in verifying all the test cases of something as I have already checked that `@VerifySomething` works as it should in class which tests that annotation, however I need to make sure that field something actually has `@VerifySomething` annotation without copy pasting all these test cases.\r\n\r\nSo my question is, is there a way to check if some field has one or more required annotation without writing test cases I have already written in annotation test class to make sure it works as it should.\r\n\r\n\r\n\r\n\r\n","title":"Determine whether field is annotated with a given annotations","body":"<p>I don't know if you managed to figure out what i am trying to do just from the title so I'll try to explain with example</p>\n\n<p>Lets suppose I have created my own annotation <code>@VerifySomething</code></p>\n\n<p>And I have created test class for that annotation to make sure it works.</p>\n\n<p>Now lets suppose that I have class <code>SomeClass</code> with field <code>something</code> anoted with annotation <code>@VerifySomething</code></p>\n\n<pre><code>class SomeClass {\n    @VerifySomething\n    String something;\n}\n</code></pre>\n\n<p>So far so good, but now I want to create <code>test class</code> for my <code>SomeClass</code> however I don't see any point in verifying all the test cases of something as I have already checked that <code>@VerifySomething</code> works as it should in class which tests that annotation, however I need to make sure that field something actually has <code>@VerifySomething</code> annotation without copy pasting all these test cases.</p>\n\n<p>So my question is, is there a way to check if some field has one or more required annotation without writing test cases I have already written in annotation test class to make sure it works as it should.</p>\n"},{"tags":["java","spring","spring-batch","spring-batch-tasklet","spring-batch-stream"],"answers":[{"comments":[{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":0,"creation_date":1688813153,"post_id":76610562,"comment_id":135126207,"body_markdown":"Hi @Mahmoud thanks for your valuable answer, I am curious if we can use the async processor and async writer here.","body":"Hi @Mahmoud thanks for your valuable answer, I am curious if we can use the async processor and async writer here."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1688927923,"post_id":76610562,"comment_id":135137003,"body_markdown":"Async processor/writer falls under multi-threaded steps, but still not what you are describing. With async processor/writer, only the processor is run concurrently, the writer just unwraps `Future`s from the processor when ready and writes item in serial.","body":"Async processor/writer falls under multi-threaded steps, but still not what you are describing. With async processor/writer, only the processor is run concurrently, the writer just unwraps <code>Future</code>s from the processor when ready and writes item in serial."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688458133,"creation_date":1688458133,"answer_id":76610562,"question_id":76567483,"body_markdown":"The concurrency model you are looking for is not possible in Spring Batch as it is currently designed. The two single-JVM scaling options are multi-threaded steps, or partitioned steps.\r\n\r\nIf you really want something like you suggest, you need to provide a custom `ChunkProcessor` that is concurrent, but it will be up to you handle fault-tolerance and restartability.","title":"Spring Batch - How to make multi threaded Reader, Processor and Writer?","body":"<p>The concurrency model you are looking for is not possible in Spring Batch as it is currently designed. The two single-JVM scaling options are multi-threaded steps, or partitioned steps.</p>\n<p>If you really want something like you suggest, you need to provide a custom <code>ChunkProcessor</code> that is concurrent, but it will be up to you handle fault-tolerance and restartability.</p>\n"}],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688458133,"creation_date":1687888219,"question_id":76567483,"body_markdown":"&lt;h2&gt;What is the requirement?&lt;/h2&gt;\r\n\r\nI&#39;m using the Spring batch application for Bulk File Processing.\r\n\r\nSteps:\r\n1. Reading the file using network calls.\r\n2. Preparting **a** bulk JSON Payload and calling endpoint.\r\n3. Writing responses to files.\r\n\r\n&lt;h2&gt;What is going wrong?&lt;/h2&gt;\r\n\r\nEverything is going well, however is very slow. Usually taking a small file with 25K records 16 minutes to process with below steps:\r\n\r\n1. When the reader calls the Processor it blocks and awaits.\r\n2. Once the response gets ready then block again for write operation using slow IO.\r\n\r\nSuppose: \r\n\r\n1. The time taken for reading and preparing for JSON: 2s  [READER]\r\n2. The time taken for requesting: 2s  [Processor]\r\n3. The time taken for writing: 1s  [Writer]\r\n\r\n```java\r\nSingle Threaded Block Calls: READER --&gt; Processor --&gt; Writer. //Total 5 seconds per request.\r\n```\r\n\r\n&lt;h2&gt;How I want to process?&lt;/h2&gt;\r\n\r\nMulti-Threaded Block Calls: \r\n\r\n\r\n              |- - &gt; Processor - -&gt; Writer.\r\n    READER --&gt;|- - &gt; Processor - -&gt; Writer.\r\n              |- - &gt; Processor - -&gt; Writer.\r\n\r\n\r\nConfigurations used:\r\n\r\n```java\r\n  @Bean\r\n  public PlatformTransactionManager transactionManager() {\r\n    return new JpaTransactionManager();\r\n  }\r\n\r\n  @Bean\r\n  @Autowired\r\n  Step step1(JobRepository jobRepository) {\r\n    PlatformTransactionManager transactionManager = transactionManager();\r\n    StepBuilder stepBuilder = new StepBuilder(&quot;CARD TRANSFORMATION&quot;, jobRepository);\r\n    return stepBuilder\r\n        .&lt;List&lt;FileStructure&gt;, CardExtractOutputList&gt;chunk(1, transactionManager)\r\n        .reader(generalFileReader.reader(&quot;&quot;))\r\n        .processor(cardExtractFileProcessor)\r\n        .writer(cardExtractFileWriter)\r\n        .taskExecutor(taskExecutor())\r\n        .faultTolerant()\r\n        .retryLimit(3)\r\n        .retry(RuntimeException.class)\r\n        .build();\r\n  }\r\n\r\n\r\n\r\n  @Bean(name = &quot;jsob&quot;)\r\n  @Autowired\r\n  Job cardExtractFilejob(JobRepository jobRepository) {\r\n    JobBuilder jobBuilderFactory =\r\n        new JobBuilder(&quot;somename&quot;, jobRepository)\r\n            .incrementer(new RunIdIncrementer())\r\n            .listener(preJobListener)\r\n            .listener(postJobExecution);\r\n    return jobBuilderFactory.flow(step1(jobRepository)).end().build();\r\n  }\r\n\r\n\r\n  @Bean\r\n  public TaskExecutor taskExecutor() {\r\n    SimpleAsyncTaskExecutor asyncTaskExecutor = new SimpleAsyncTaskExecutor();\r\n    asyncTaskExecutor.setConcurrencyLimit(10);\r\n    return asyncTaskExecutor;\r\n  }\r\n```\r\n\r\nCustom Reader:\r\n\r\n```java\r\n  @Bean\r\n  @StepScope\r\n  @SneakyThrows\r\n  public MultiLinePeekableReader reader(\r\n      @Value(FILENAME_JOB_PARAM) final String fileName) {\r\n    FlatFileItemReader&lt;FileStructure&gt; itemReader = new FlatFileItemReader&lt;&gt;() {};\r\n    final String gcsLocationOfFile =\r\n        FilesUtility.getAbsoluteGCSPathOfAFile(fileName, gcsRelatedConfiguration);\r\n\r\n    final Resource resource = applicationContext.getResource(gcsLocationOfFile);\r\n    itemReader.setResource(resource);\r\n    itemReader.setName(&quot;FileReader : &quot; + fileName);\r\n    itemReader.setLineMapper(lineMapper());\r\n    itemReader.setStrict(true);\r\n\r\n    MultiLinePeekableReader multiLinePeekableReader = new MultiLinePeekableReader(fileName);\r\n    multiLinePeekableReader.setDelegate(itemReader);\r\n    return multiLinePeekableReader;\r\n  }\r\n\r\n  private LineMapper&lt;FileStructure&gt; lineMapper() {\r\n    DefaultLineMapper&lt;FileStructure&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n    DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n      ..\r\n    return lineMapper;\r\n  }\r\n}\r\n```\r\nMultiLinePeekableReader: \r\n```java\r\npublic class MultiLinePeekableReader implements ItemReader&lt;List&lt;FileStructure&gt;&gt;, ItemStream {\r\n private SingleItemPeekableItemReader&lt;FileStructure&gt; delegate;\r\n..\r\n  @Override\r\n  @SneakyThrows\r\n  @Bean\r\n  @StepScope\r\n  public synchronized List&lt;FileStructure&gt; read() {\r\n    List&lt;FileStructure&gt; records = null;\r\n    int readCount = fileProcessingConfiguration.itemsPerRead();\r\n    try {\r\n      for (FileStructure line; (line = this.delegate.read()) != null; ) {\r\n        seqNo = seqNo.add(new BigInteger(FileProcessingConstants.NUMBER_STRING_ONE));\r\n        line.setSequenceNo(seqNo.toString());\r\n        line.setMaskedSensitiveData(\r\n            FilesUtility.getMaskedSensitiveDataFromData(\r\n                line.getSensitiveData(),\r\n                fileProcessingConfiguration.leadingPersistCount(),\r\n                fileProcessingConfiguration.trailingPersistCount()));\r\n\r\n        if (readCount == fileProcessingConfiguration.itemsPerRead()) {\r\n          records = new ArrayList&lt;&gt;();\r\n          records.add(line);\r\n          readCount--;\r\n        } else {\r\n          records.add(line);\r\n          readCount--;\r\n          FileStructure nextLine = this.delegate.peek();\r\n          if (nextLine == null || readCount == 0) {\r\n            readCount = fileProcessingConfiguration.itemsPerRead();\r\n            return records;\r\n          }\r\n        }\r\n      }\r\n    } catch (FlatFileParseException parseException) {\r\n      if (records == null) {\r\n        records = new ArrayList&lt;&gt;();\r\n      }\r\n      ..\r\n    } \r\n    return records;\r\n  }\r\n\r\n  @Override\r\n  public void close() throws ItemStreamException {\r\n    this.delegate.close();\r\n  }\r\n\r\n  @Override\r\n  public void open(ExecutionContext executionContext) throws ItemStreamException {\r\n    this.delegate.open(executionContext);\r\n  }\r\n\r\n  @Override\r\n  public void update(ExecutionContext executionContext) throws ItemStreamException {\r\n    this.delegate.update(executionContext);\r\n  }\r\n\r\n  public void setDelegate(FlatFileItemReader&lt;FileStructure&gt; delegate) {\r\n    this.delegate = new SingleItemPeekableItemReader&lt;&gt;();\r\n    this.delegate.setDelegate(delegate);\r\n  }\r\n\r\n```\r\n\r\nAnswers already read but didn&#39;t found helpful:\r\n\r\nhttps://stackoverflow.com/questions/44245655/spring-batch-single-threaded-reader-and-multi-threaded-writer\r\n\r\nAny help would be really appreciated!","title":"Spring Batch - How to make multi threaded Reader, Processor and Writer?","body":"<h2>What is the requirement?</h2>\n<p>I'm using the Spring batch application for Bulk File Processing.</p>\n<p>Steps:</p>\n<ol>\n<li>Reading the file using network calls.</li>\n<li>Preparting <strong>a</strong> bulk JSON Payload and calling endpoint.</li>\n<li>Writing responses to files.</li>\n</ol>\n<h2>What is going wrong?</h2>\n<p>Everything is going well, however is very slow. Usually taking a small file with 25K records 16 minutes to process with below steps:</p>\n<ol>\n<li>When the reader calls the Processor it blocks and awaits.</li>\n<li>Once the response gets ready then block again for write operation using slow IO.</li>\n</ol>\n<p>Suppose:</p>\n<ol>\n<li>The time taken for reading and preparing for JSON: 2s  [READER]</li>\n<li>The time taken for requesting: 2s  [Processor]</li>\n<li>The time taken for writing: 1s  [Writer]</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Single Threaded Block Calls: READER --&gt; Processor --&gt; Writer. //Total 5 seconds per request.\n</code></pre>\n<h2>How I want to process?</h2>\n<p>Multi-Threaded Block Calls:</p>\n<pre><code>          |- - &gt; Processor - -&gt; Writer.\nREADER --&gt;|- - &gt; Processor - -&gt; Writer.\n          |- - &gt; Processor - -&gt; Writer.\n</code></pre>\n<p>Configurations used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  public PlatformTransactionManager transactionManager() {\n    return new JpaTransactionManager();\n  }\n\n  @Bean\n  @Autowired\n  Step step1(JobRepository jobRepository) {\n    PlatformTransactionManager transactionManager = transactionManager();\n    StepBuilder stepBuilder = new StepBuilder(&quot;CARD TRANSFORMATION&quot;, jobRepository);\n    return stepBuilder\n        .&lt;List&lt;FileStructure&gt;, CardExtractOutputList&gt;chunk(1, transactionManager)\n        .reader(generalFileReader.reader(&quot;&quot;))\n        .processor(cardExtractFileProcessor)\n        .writer(cardExtractFileWriter)\n        .taskExecutor(taskExecutor())\n        .faultTolerant()\n        .retryLimit(3)\n        .retry(RuntimeException.class)\n        .build();\n  }\n\n\n\n  @Bean(name = &quot;jsob&quot;)\n  @Autowired\n  Job cardExtractFilejob(JobRepository jobRepository) {\n    JobBuilder jobBuilderFactory =\n        new JobBuilder(&quot;somename&quot;, jobRepository)\n            .incrementer(new RunIdIncrementer())\n            .listener(preJobListener)\n            .listener(postJobExecution);\n    return jobBuilderFactory.flow(step1(jobRepository)).end().build();\n  }\n\n\n  @Bean\n  public TaskExecutor taskExecutor() {\n    SimpleAsyncTaskExecutor asyncTaskExecutor = new SimpleAsyncTaskExecutor();\n    asyncTaskExecutor.setConcurrencyLimit(10);\n    return asyncTaskExecutor;\n  }\n</code></pre>\n<p>Custom Reader:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  @StepScope\n  @SneakyThrows\n  public MultiLinePeekableReader reader(\n      @Value(FILENAME_JOB_PARAM) final String fileName) {\n    FlatFileItemReader&lt;FileStructure&gt; itemReader = new FlatFileItemReader&lt;&gt;() {};\n    final String gcsLocationOfFile =\n        FilesUtility.getAbsoluteGCSPathOfAFile(fileName, gcsRelatedConfiguration);\n\n    final Resource resource = applicationContext.getResource(gcsLocationOfFile);\n    itemReader.setResource(resource);\n    itemReader.setName(&quot;FileReader : &quot; + fileName);\n    itemReader.setLineMapper(lineMapper());\n    itemReader.setStrict(true);\n\n    MultiLinePeekableReader multiLinePeekableReader = new MultiLinePeekableReader(fileName);\n    multiLinePeekableReader.setDelegate(itemReader);\n    return multiLinePeekableReader;\n  }\n\n  private LineMapper&lt;FileStructure&gt; lineMapper() {\n    DefaultLineMapper&lt;FileStructure&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n    DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n      ..\n    return lineMapper;\n  }\n}\n</code></pre>\n<p>MultiLinePeekableReader:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MultiLinePeekableReader implements ItemReader&lt;List&lt;FileStructure&gt;&gt;, ItemStream {\n private SingleItemPeekableItemReader&lt;FileStructure&gt; delegate;\n..\n  @Override\n  @SneakyThrows\n  @Bean\n  @StepScope\n  public synchronized List&lt;FileStructure&gt; read() {\n    List&lt;FileStructure&gt; records = null;\n    int readCount = fileProcessingConfiguration.itemsPerRead();\n    try {\n      for (FileStructure line; (line = this.delegate.read()) != null; ) {\n        seqNo = seqNo.add(new BigInteger(FileProcessingConstants.NUMBER_STRING_ONE));\n        line.setSequenceNo(seqNo.toString());\n        line.setMaskedSensitiveData(\n            FilesUtility.getMaskedSensitiveDataFromData(\n                line.getSensitiveData(),\n                fileProcessingConfiguration.leadingPersistCount(),\n                fileProcessingConfiguration.trailingPersistCount()));\n\n        if (readCount == fileProcessingConfiguration.itemsPerRead()) {\n          records = new ArrayList&lt;&gt;();\n          records.add(line);\n          readCount--;\n        } else {\n          records.add(line);\n          readCount--;\n          FileStructure nextLine = this.delegate.peek();\n          if (nextLine == null || readCount == 0) {\n            readCount = fileProcessingConfiguration.itemsPerRead();\n            return records;\n          }\n        }\n      }\n    } catch (FlatFileParseException parseException) {\n      if (records == null) {\n        records = new ArrayList&lt;&gt;();\n      }\n      ..\n    } \n    return records;\n  }\n\n  @Override\n  public void close() throws ItemStreamException {\n    this.delegate.close();\n  }\n\n  @Override\n  public void open(ExecutionContext executionContext) throws ItemStreamException {\n    this.delegate.open(executionContext);\n  }\n\n  @Override\n  public void update(ExecutionContext executionContext) throws ItemStreamException {\n    this.delegate.update(executionContext);\n  }\n\n  public void setDelegate(FlatFileItemReader&lt;FileStructure&gt; delegate) {\n    this.delegate = new SingleItemPeekableItemReader&lt;&gt;();\n    this.delegate.setDelegate(delegate);\n  }\n\n</code></pre>\n<p>Answers already read but didn't found helpful:</p>\n<p><a href=\"https://stackoverflow.com/questions/44245655/spring-batch-single-threaded-reader-and-multi-threaded-writer\">Spring batch single threaded reader and multi threaded writer</a></p>\n<p>Any help would be really appreciated!</p>\n"},{"tags":["java","certificate","keystore"],"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":4,"creation_date":1532256982,"post_id":17935619,"comment_id":89897440,"body_markdown":"*cacerts* = *certificate authority certificates*?","body":"<i>cacerts</i> = <i>certificate authority certificates</i>?"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1375140442,"post_id":17935715,"comment_id":26208222,"body_markdown":"@dimas Evidently, but what he really means is &#39;requests&#39;.","body":"@dimas Evidently, but what he really means is &#39;requests&#39;."},{"owner":{"account_id":3408167,"reputation":690,"user_id":2859238,"accept_rate":32,"display_name":"user104309"},"score":1,"creation_date":1540968788,"post_id":17935715,"comment_id":93053163,"body_markdown":"@user207421 I believe in this answer the Java App is playing the role of a http client and the http url that our Java App calls is the server application. So KeyStore of our client Java app should have both private key + certificate ( signed public key ) and send only the certificate to the server app, right ? And if the server app is also a Java app it verifies the certificate sent by our client Java app, using its own cacert file, right ?","body":"@user207421 I believe in this answer the Java App is playing the role of a http client and the http url that our Java App calls is the server application. So KeyStore of our client Java app should have both private key + certificate ( signed public key ) and send only the certificate to the server app, right ? And if the server app is also a Java app it verifies the certificate sent by our client Java app, using its own cacert file, right ?"},{"owner":{"account_id":3262121,"reputation":791,"user_id":2747494,"display_name":"smido"},"score":1,"creation_date":1640679773,"post_id":17935715,"comment_id":124630392,"body_markdown":"== One does not simply share private keys ==, but yeah, they can be used for (client) authentication","body":"== One does not simply share private keys ==, but yeah, they can be used for (client) authentication"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682398742,"post_id":17935715,"comment_id":134204657,"body_markdown":"@user104309 Almost. The server must verify the client certificate, if any, regardless of whether it is written in Java or not. RFC 2246 and successors require it.","body":"@user104309 Almost. The server must verify the client certificate, if any, regardless of whether it is written in Java or not. RFC 2246 and successors require it."}],"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":4,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1532256746,"creation_date":1375139207,"answer_id":17935715,"question_id":17935619,"body_markdown":"cacerts is where Java stores public certificates of root CAs. Java uses cacerts to authenticate the servers.\r\n\r\nKeystore is where Java stores the private keys of the clients so that it can share it to the server when the server requests client authentication.\r\n","title":"What is difference between cacerts and keystore?","body":"<p>cacerts is where Java stores public certificates of root CAs. Java uses cacerts to authenticate the servers.</p>\n\n<p>Keystore is where Java stores the private keys of the clients so that it can share it to the server when the server requests client authentication.</p>\n"},{"comments":[{"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"score":0,"creation_date":1375141281,"post_id":17935851,"comment_id":26208443,"body_markdown":"Hi EJP thanks for the answers, I quoted that before I read any of your answers ;) So just a clarification if I summarize your answers in Francis and Pangea. Cacerts is used to authenticate clients requesting access or connection and for keystore i don&#39;t quite get it why you would want to authenticate yourself. :)","body":"Hi EJP thanks for the answers, I quoted that before I read any of your answers ;) So just a clarification if I summarize your answers in Francis and Pangea. Cacerts is used to authenticate clients requesting access or connection and for keystore i don&#39;t quite get it why you would want to authenticate yourself. :)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":31,"creation_date":1375141495,"post_id":17935851,"comment_id":26208512,"body_markdown":"Read what I wrote again. (1) A truststore is used to authenticate *peers.* If you&#39;re the client, the server is the peer; if you&#39;re the server, *vice versa.* (2) If you&#39;re the server, or if you&#39;re the client and the server requests client authentication, you have to authenticate yourself *to* the peer, so you need your own certificate and private key, which are in the keystore. (Confusingly, the same file format is used for both and it&#39;s called a keystore file.)","body":"Read what I wrote again. (1) A truststore is used to authenticate <i>peers.</i> If you&#39;re the client, the server is the peer; if you&#39;re the server, <i>vice versa.</i> (2) If you&#39;re the server, or if you&#39;re the client and the server requests client authentication, you have to authenticate yourself <i>to</i> the peer, so you need your own certificate and private key, which are in the keystore. (Confusingly, the same file format is used for both and it&#39;s called a keystore file.)"},{"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"score":0,"creation_date":1375142567,"post_id":17935851,"comment_id":26208783,"body_markdown":"OK got it, but just a follow up question. My cacerts contains all the certs stored in keystore and more. Although some certs including my application&#39;s private cert have different aliases but they have the same digital signatures. So ideally I can use my cacerts if I connect to the server and requests authentication?","body":"OK got it, but just a follow up question. My cacerts contains all the certs stored in keystore and more. Although some certs including my application&#39;s private cert have different aliases but they have the same digital signatures. So ideally I can use my cacerts if I connect to the server and requests authentication?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1391653140,"post_id":17935851,"comment_id":32620949,"body_markdown":"I don&#39;t understand the part about &#39;different aliases&#39;. Different from what? Your final question is answerable by experiment.","body":"I don&#39;t understand the part about &#39;different aliases&#39;. Different from what? Your final question is answerable by experiment."},{"owner":{"account_id":2511374,"reputation":401,"user_id":2183788,"accept_rate":62,"display_name":"raja777m"},"score":0,"creation_date":1441826337,"post_id":17935851,"comment_id":52835735,"body_markdown":"are cacerts same for all the environments or configured based on each environment?\nLIke can I use &#39;cacerts&#39; from PROD to UAT or SIT?","body":"are cacerts same for all the environments or configured based on each environment? LIke can I use &#39;cacerts&#39; from PROD to UAT or SIT?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":6,"creation_date":1445898068,"post_id":17935851,"comment_id":54509201,"body_markdown":"@raja777m `cacerts` is who you trust. I don&#39;t see any reason for that to change between environmenets, unless you commit the mistake of using self-signed certificates for test servers: a mistake because it means you&#39;re using different code paths in test and in production.","body":"@raja777m <code>cacerts</code> is who you trust. I don&#39;t see any reason for that to change between environmenets, unless you commit the mistake of using self-signed certificates for test servers: a mistake because it means you&#39;re using different code paths in test and in production."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1532257015,"post_id":17935851,"comment_id":89897450,"body_markdown":"Is `cacerts` specific to Java or not?","body":"Is <code>cacerts</code> specific to Java or not?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1563445385,"post_id":17935851,"comment_id":100706267,"body_markdown":"@PeterMortensen Yes, it is a file distributed with the JRE, in `lib\\security\\cacerts`. Your point?","body":"@PeterMortensen Yes, it is a file distributed with the JRE, in <code>lib\\security\\cacerts</code>. Your point?"}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":8,"down_vote_count":3,"up_vote_count":193,"is_accepted":true,"score":190,"last_activity_date":1375139954,"creation_date":1375139954,"answer_id":17935851,"question_id":17935619,"body_markdown":"&#39;cacerts&#39; is a truststore. A trust store is used to authenticate peers. A keystore is used to authenticate yourself.","title":"What is difference between cacerts and keystore?","body":"<p>'cacerts' is a truststore. A trust store is used to authenticate peers. A keystore is used to authenticate yourself.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1682398795,"post_id":56273887,"comment_id":134204662,"body_markdown":"The keystore is used to authenticate *to* other peers. The truststore is used to authenticate peers.","body":"The keystore is used to authenticate <i>to</i> other peers. The truststore is used to authenticate peers."}],"tags":[],"owner":{"account_id":15996778,"reputation":49,"user_id":11544516,"display_name":"Jawed"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1623743645,"creation_date":1558609594,"answer_id":56273887,"question_id":17935619,"body_markdown":"***Cacerts*** are details of trusted signing authorities who can issue certs. This what most of the browsers have due to which certs determined to be authentic.\r\n \r\n***Keystore*** has your service related certs to authenticate clients. ","title":"What is difference between cacerts and keystore?","body":"<p><em><strong>Cacerts</strong></em> are details of trusted signing authorities who can issue certs. This what most of the browsers have due to which certs determined to be authentic.</p>\n<p><em><strong>Keystore</strong></em> has your service related certs to authenticate clients.</p>\n"},{"tags":[],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1688458095,"creation_date":1688457697,"answer_id":76610506,"question_id":17935619,"body_markdown":"There are now better articles to explain the difference. This article explains it well:\r\nhttps://www.baeldung.com/java-keystore-truststore-difference\r\n\r\nFor some additional basics in laymans terms:\r\n\r\n - Terminology:\r\n    - Client: You are considered a client if you are reaching out to someone to get a service. You could even be a server, and you could still be the client from the perspective of a particular connection!  For example, if I am a web server, and I reach out to CuteCatPics.com for getting cat pics, then I am a client. \r\n    - Server: You are providing a service to someone. \r\n - How Secure HTTP connections work: \r\n    - Client reaches out to a server for a service. \r\n    - Eventually server is going to ask me for credentials to prove myself. So, before sending my password, I want to make sure that I am talking to the right server. I don&#39;t want to send my password to a fake server. (This is the common case where client sends password or JWT etc.)\r\n    - So, first Client asks the server to send its certificate. Client gets the certificate and checks within its **truststore** whether it is a valid certificate. Or, if the certificate is in turn signed by a certifying authority, then the certifying authority&#39;s certificate should be in my **truststore**. That&#39;s why Java&#39;s default trust store is called &quot;ca certs&quot;. \r\n    - Based on this, Client has concluded that the Server is genuine. Then the client sends password/JWT to the server to login. \r\n - How secure HTTP works when client also wants to use certificate to identify itself instead of passwords / JWTs: \r\n    - Once client has decided that Server is genuine, client sends its public certificate (taken from **keystore**) to that server.\r\n    - Server will pick a random number, encrypt it with the public certificate, and send it to the client challenging it to decrypt the encrypted random number.\r\n    - Client will use the matching private key (from **keystore**) to decrypt the encrypted random number, and reply to the server. Server is now confident that the Client indeed has the private key, and client&#39;s identity is confirmed. (Note that in this case, the server may also check the client&#39;s public certificate in its own **truststore**. Or, some other method of authorization.)(Answering private key challenge can only prove the identity that the client is in fact &quot;Mr. Mark Twain&quot; or &quot;BlogServerA.com&quot;. But, authorization deals with what services Mark Twain is entitled to on the server).\r\n - Other uses of Keystore:\r\n    - **Keystore** stores private keys and/or matching public certificates. This can be used to do token signing, document signing, etc.","title":"What is difference between cacerts and keystore?","body":"<p>There are now better articles to explain the difference. This article explains it well:\n<a href=\"https://www.baeldung.com/java-keystore-truststore-difference\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-keystore-truststore-difference</a></p>\n<p>For some additional basics in laymans terms:</p>\n<ul>\n<li>Terminology:\n<ul>\n<li>Client: You are considered a client if you are reaching out to someone to get a service. You could even be a server, and you could still be the client from the perspective of a particular connection!  For example, if I am a web server, and I reach out to CuteCatPics.com for getting cat pics, then I am a client.</li>\n<li>Server: You are providing a service to someone.</li>\n</ul>\n</li>\n<li>How Secure HTTP connections work:\n<ul>\n<li>Client reaches out to a server for a service.</li>\n<li>Eventually server is going to ask me for credentials to prove myself. So, before sending my password, I want to make sure that I am talking to the right server. I don't want to send my password to a fake server. (This is the common case where client sends password or JWT etc.)</li>\n<li>So, first Client asks the server to send its certificate. Client gets the certificate and checks within its <strong>truststore</strong> whether it is a valid certificate. Or, if the certificate is in turn signed by a certifying authority, then the certifying authority's certificate should be in my <strong>truststore</strong>. That's why Java's default trust store is called &quot;ca certs&quot;.</li>\n<li>Based on this, Client has concluded that the Server is genuine. Then the client sends password/JWT to the server to login.</li>\n</ul>\n</li>\n<li>How secure HTTP works when client also wants to use certificate to identify itself instead of passwords / JWTs:\n<ul>\n<li>Once client has decided that Server is genuine, client sends its public certificate (taken from <strong>keystore</strong>) to that server.</li>\n<li>Server will pick a random number, encrypt it with the public certificate, and send it to the client challenging it to decrypt the encrypted random number.</li>\n<li>Client will use the matching private key (from <strong>keystore</strong>) to decrypt the encrypted random number, and reply to the server. Server is now confident that the Client indeed has the private key, and client's identity is confirmed. (Note that in this case, the server may also check the client's public certificate in its own <strong>truststore</strong>. Or, some other method of authorization.)(Answering private key challenge can only prove the identity that the client is in fact &quot;Mr. Mark Twain&quot; or &quot;BlogServerA.com&quot;. But, authorization deals with what services Mark Twain is entitled to on the server).</li>\n</ul>\n</li>\n<li>Other uses of Keystore:\n<ul>\n<li><strong>Keystore</strong> stores private keys and/or matching public certificates. This can be used to do token signing, document signing, etc.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187915,"favorite_count":0,"down_vote_count":0,"up_vote_count":148,"accepted_answer_id":17935851,"answer_count":4,"score":148,"last_activity_date":1688458095,"creation_date":1375138762,"question_id":17935619,"body_markdown":"What&#39;s the difference between the two, cacerts and keystore?\r\n\r\nIf I use the definition found in these links, [cacerts][1] and [keystore][2], it seems that they&#39;re a collection of certificates, but in context of a (Java) distributed system. Which one is used to authenticate during an SSL connection? Both or just one of them or alternate?\r\n\r\n  [1]: http://help.support.gxs.com/help/index.jsp?topic=/security/concepts/what_is_a_cacerts_file.htm\r\n  [2]: http://en.wikipedia.org/wiki/Keystore\r\n\r\n\r\n","title":"What is difference between cacerts and keystore?","body":"<p>What's the difference between the two, cacerts and keystore?</p>\n\n<p>If I use the definition found in these links, <a href=\"http://help.support.gxs.com/help/index.jsp?topic=/security/concepts/what_is_a_cacerts_file.htm\" rel=\"noreferrer\">cacerts</a> and <a href=\"http://en.wikipedia.org/wiki/Keystore\" rel=\"noreferrer\">keystore</a>, it seems that they're a collection of certificates, but in context of a (Java) distributed system. Which one is used to authenticate during an SSL connection? Both or just one of them or alternate?</p>\n"},{"tags":["java","macos","javafx","moditect"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1688504681,"post_id":76610511,"comment_id":135081912,"body_markdown":"You need to [sign the app package on OS X](https://docs.oracle.com/en/java/javase/20/jpackage/support-application-features.html#GUID-8D9F0607-91F4-4070-8823-02FCAB12238D).  To do that I think you need to buy and use the correct certificate that Apple has issued to you as part of your Apple Developer program membership.","body":"You need to <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/support-application-features.html#GUID-8D9F0607-91F4-4070-8823-02FCAB12238D\" rel=\"nofollow noreferrer\">sign the app package on OS X</a>.  To do that I think you need to buy and use the correct certificate that Apple has issued to you as part of your Apple Developer program membership."}],"owner":{"account_id":27746768,"reputation":1,"user_id":21182101,"display_name":"Rubin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688458024,"creation_date":1688457765,"question_id":76610511,"body_markdown":"Yesterday I fixed generating runtime-image, but now when I want to generate an installer for Mac I am generate a pkg, dmg file, but the app is damaged \r\n\r\n[![enter image description here](https://i.stack.imgur.com/xiJ3t.png)](https://i.stack.imgur.com/xiJ3t.png)\r\n\r\nFor Windows this settings works. \r\n```\r\n        &lt;profile&gt;\r\n            &lt;id&gt;jpackage&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.8&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;jpackage&lt;/id&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;target&gt;\r\n                                        &lt;property name=&quot;version&quot; value=&quot;1.0&quot;/&gt;\r\n                                        &lt;ant antfile=&quot;${basedir}/build.xml&quot;&gt;\r\n                                            &lt;target name=&quot;current&quot;/&gt;\r\n                                        &lt;/ant&gt;\r\n                                    &lt;/target&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n```\r\nFor Windows\r\n```\r\n    &lt;target name=&quot;jpackage-win64&quot;&gt;\r\n        &lt;echo message=&quot;Run jpackage from ${platform}&quot;/&gt;\r\n        &lt;exec command=&quot;${JAVA_HOME}\\bin\\jpackage&quot;&gt;\r\n            &lt;arg line=&quot;--type exe&quot;/&gt;\r\n            &lt;arg line=&quot;--dest installer&quot;/&gt;\r\n            &lt;arg line=&quot;--name &#39;DocStore Sync&#39;&quot;/&gt;\r\n            &lt;arg line=&quot;--vendor &#39;Esempla Systems S.R.L&#39;&quot;/&gt;\r\n            &lt;arg line=&quot;--copyright &#39;Copyright &#169; 2023 Esempla Systems. All rights reserved.&#39;&quot;/&gt;\r\n            &lt;arg line=&quot;--description &#39;DocStore Sync application&#39;&quot;/&gt;\r\n            &lt;arg line=&quot;--license-file src\\main\\resources\\license.txt&quot;/&gt;\r\n            &lt;arg line=&quot;--app-version ${version}&quot;/&gt;\r\n            &lt;arg line=&quot;--verbose&quot;/&gt;\r\n            &lt;arg line=&quot;--win-menu&quot;/&gt;\r\n            &lt;arg line=&quot;--win-menu-group &#39;DocStore Sync&#39;&quot;/&gt;\r\n            &lt;arg line=&quot;--win-dir-chooser&quot;/&gt;\r\n            &lt;arg line=&quot;--win-shortcut&quot;/&gt;\r\n            &lt;arg line=&quot;--icon src\\main\\resources\\icon.ico&quot;/&gt;\r\n            &lt;arg line=&quot;--module docstore.sync/com.esempla.docstore.Launcher&quot;/&gt;\r\n            &lt;arg line=&quot;--runtime-image target\\runtime-image&quot;/&gt;\r\n        &lt;/exec&gt;\r\n    &lt;/target&gt;\r\n```\r\n\r\nFor mac\r\n```\r\n    &lt;target name=&quot;mac&quot;&gt;\r\n        &lt;echo message=&quot;Run jpackage from ${platform}&quot;/&gt;\r\n        &lt;exec command=&quot;/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin/jpackage&quot;&gt;\r\n            &lt;arg line=&quot;--type pkg&quot;/&gt; &lt;!-- Use the pkg type for macOS --&gt;\r\n            &lt;arg line=&quot;--dest installer&quot;/&gt;\r\n            &lt;arg line=&quot;--name &#39;DocStoreSync&#39;&quot;/&gt;\r\n            &lt;arg line=&quot;--vendor &#39;Esempla Systems S.R.L&#39;&quot;/&gt;\r\n            &lt;arg line=&quot;--copyright &#39;Copyright &#169; 2023 Esempla Systems. All rights reserved.&#39;&quot;/&gt;\r\n            &lt;arg line=&quot;--description &#39;DocStore Sync application&#39;&quot;/&gt;\r\n            &lt;arg line=&quot;--app-version ${version}&quot;/&gt;\r\n            &lt;arg line=&quot;--verbose&quot;/&gt;\r\n            &lt;arg line=&quot;--mac-package-identifier com.esempla.docstore&quot;/&gt;\r\n            &lt;arg line=&quot;--module docstore.sync/com.esempla.docstore.Launcher&quot;/&gt;\r\n            &lt;arg line=&quot;--main-class docstore.sync/com.esempla.docstore.Launcher&quot;/&gt;\r\n&lt;!--            &lt;arg line=&quot;&amp;#45;&amp;#45;main-jar docstore-sync-1.0-SNAPSHOT.jar&quot;/&gt;--&gt;\r\n            &lt;arg line=&quot;--icon src/main/resources/icon.icns&quot;/&gt;\r\n            &lt;arg line=&quot;--runtime-image target/runtime-image&quot;/&gt;\r\n        &lt;/exec&gt;\r\n    &lt;/target&gt;\r\n```\r\n\r\nRuntime image generated with moditect\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Merdz.png)](https://i.stack.imgur.com/Merdz.png)\r\n\r\n\r\nI want to generate an installer, but it is broken.","title":"Generate a installer for macos using moditect and ant","body":"<p>Yesterday I fixed generating runtime-image, but now when I want to generate an installer for Mac I am generate a pkg, dmg file, but the app is damaged</p>\n<p><a href=\"https://i.stack.imgur.com/xiJ3t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xiJ3t.png\" alt=\"enter image description here\" /></a></p>\n<p>For Windows this settings works.</p>\n<pre><code>        &lt;profile&gt;\n            &lt;id&gt;jpackage&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.8&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;jpackage&lt;/id&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;run&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;target&gt;\n                                        &lt;property name=&quot;version&quot; value=&quot;1.0&quot;/&gt;\n                                        &lt;ant antfile=&quot;${basedir}/build.xml&quot;&gt;\n                                            &lt;target name=&quot;current&quot;/&gt;\n                                        &lt;/ant&gt;\n                                    &lt;/target&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n</code></pre>\n<p>For Windows</p>\n<pre><code>    &lt;target name=&quot;jpackage-win64&quot;&gt;\n        &lt;echo message=&quot;Run jpackage from ${platform}&quot;/&gt;\n        &lt;exec command=&quot;${JAVA_HOME}\\bin\\jpackage&quot;&gt;\n            &lt;arg line=&quot;--type exe&quot;/&gt;\n            &lt;arg line=&quot;--dest installer&quot;/&gt;\n            &lt;arg line=&quot;--name 'DocStore Sync'&quot;/&gt;\n            &lt;arg line=&quot;--vendor 'Esempla Systems S.R.L'&quot;/&gt;\n            &lt;arg line=&quot;--copyright 'Copyright © 2023 Esempla Systems. All rights reserved.'&quot;/&gt;\n            &lt;arg line=&quot;--description 'DocStore Sync application'&quot;/&gt;\n            &lt;arg line=&quot;--license-file src\\main\\resources\\license.txt&quot;/&gt;\n            &lt;arg line=&quot;--app-version ${version}&quot;/&gt;\n            &lt;arg line=&quot;--verbose&quot;/&gt;\n            &lt;arg line=&quot;--win-menu&quot;/&gt;\n            &lt;arg line=&quot;--win-menu-group 'DocStore Sync'&quot;/&gt;\n            &lt;arg line=&quot;--win-dir-chooser&quot;/&gt;\n            &lt;arg line=&quot;--win-shortcut&quot;/&gt;\n            &lt;arg line=&quot;--icon src\\main\\resources\\icon.ico&quot;/&gt;\n            &lt;arg line=&quot;--module docstore.sync/com.esempla.docstore.Launcher&quot;/&gt;\n            &lt;arg line=&quot;--runtime-image target\\runtime-image&quot;/&gt;\n        &lt;/exec&gt;\n    &lt;/target&gt;\n</code></pre>\n<p>For mac</p>\n<pre><code>    &lt;target name=&quot;mac&quot;&gt;\n        &lt;echo message=&quot;Run jpackage from ${platform}&quot;/&gt;\n        &lt;exec command=&quot;/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/bin/jpackage&quot;&gt;\n            &lt;arg line=&quot;--type pkg&quot;/&gt; &lt;!-- Use the pkg type for macOS --&gt;\n            &lt;arg line=&quot;--dest installer&quot;/&gt;\n            &lt;arg line=&quot;--name 'DocStoreSync'&quot;/&gt;\n            &lt;arg line=&quot;--vendor 'Esempla Systems S.R.L'&quot;/&gt;\n            &lt;arg line=&quot;--copyright 'Copyright © 2023 Esempla Systems. All rights reserved.'&quot;/&gt;\n            &lt;arg line=&quot;--description 'DocStore Sync application'&quot;/&gt;\n            &lt;arg line=&quot;--app-version ${version}&quot;/&gt;\n            &lt;arg line=&quot;--verbose&quot;/&gt;\n            &lt;arg line=&quot;--mac-package-identifier com.esempla.docstore&quot;/&gt;\n            &lt;arg line=&quot;--module docstore.sync/com.esempla.docstore.Launcher&quot;/&gt;\n            &lt;arg line=&quot;--main-class docstore.sync/com.esempla.docstore.Launcher&quot;/&gt;\n&lt;!--            &lt;arg line=&quot;&amp;#45;&amp;#45;main-jar docstore-sync-1.0-SNAPSHOT.jar&quot;/&gt;--&gt;\n            &lt;arg line=&quot;--icon src/main/resources/icon.icns&quot;/&gt;\n            &lt;arg line=&quot;--runtime-image target/runtime-image&quot;/&gt;\n        &lt;/exec&gt;\n    &lt;/target&gt;\n</code></pre>\n<p>Runtime image generated with moditect</p>\n<p><a href=\"https://i.stack.imgur.com/Merdz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Merdz.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to generate an installer, but it is broken.</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688457299,"creation_date":1688457299,"answer_id":76610442,"question_id":76574399,"body_markdown":"The item writer bean definition method is executed at configuration time, but the actual reading of the item happens at runtime, so it is not possible to use the execution context (runtime information) to configure the writer.\r\n\r\nThe dynamic information needed to configure the writer in your case comes from one item. What you can do is create a preparation step that reads that information and puts it in the execution context, then configure a step scoped writer to read the information from the execution context. You can find an example here: https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#step-scope","title":"Spring batch - How to read Item property inside a bean creating a FlatFileItemWriter","body":"<p>The item writer bean definition method is executed at configuration time, but the actual reading of the item happens at runtime, so it is not possible to use the execution context (runtime information) to configure the writer.</p>\n<p>The dynamic information needed to configure the writer in your case comes from one item. What you can do is create a preparation step that reads that information and puts it in the execution context, then configure a step scoped writer to read the information from the execution context. You can find an example here: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#step-scope\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#step-scope</a></p>\n"}],"owner":{"account_id":12330817,"reputation":31,"user_id":8996898,"display_name":"zsp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688457299,"creation_date":1687964115,"question_id":76574399,"body_markdown":"I&#39;m having the following problem:\r\n\r\nI have the following bean being created in my configuration class\r\n\r\n```\t\r\n    @Bean\r\n    public ItemWriter&lt;MyItem&gt; outputFileWriter() {\r\n\t\tDateTimeFormatter dateDefaultFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n\t\tDateTimeFormatter hourDefaultFormatter = DateTimeFormatter.ofPattern(&quot;HHmmss&quot;);\r\n\t\t\r\n\t\tString outputFile = &quot;arq33&quot; + MyEnum.valueOf(((String) executionContext.get(&quot;myProperty&quot;)).substring(4, 6)) \r\n\t\t\t\t\t\t\t\t\t\t + dateDefaultFormatter.format(LocalDate.now()) \r\n\t\t\t\t\t\t\t\t\t\t + hourDefaultFormatter.format(LocalDateTime.now());\r\n\t\t\t\t\r\n        Resource exportFileResource = new FileSystemResource(folderOutput + outputFile); \r\n          \r\n        return new FlatFileItemWriterBuilder&lt;MyItem&gt;()\r\n                .name(&quot;outputFileWriter&quot;)\r\n                .lineAggregator(new MyFileLineAggregator(outputFile))\r\n                .resource(exportFileResource)\r\n                .build();\r\n    }\r\n```\r\nI need to create a file with a certain pattern in naming, but that file name depends on a property of the MyItem class, how can I make the FlatFileItemWriter able to read a property of the Item that will write to the file?\r\n\r\nI tried to use the executionContext, but I only get null (I put the executionContext in the configuration class itself):\r\n\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class BatchConfiguration {\r\n\r\n@Value(&quot;#{jobExecution.executionContext}&quot;)\r\n\tprivate ExecutionContext executionContext;\r\n   ...\r\n```\r\nI also thought about creating a custom FlatFileItemWriter, but I don&#39;t know if it&#39;s possible to create, I didn&#39;t find anything on the forum, only ItemWriter.\r\n\r\n```\r\n@StepScope\r\npublic class OutputFileWriter extends StepExecutionListenerSupport {\r\n\t\t\r\n\t@Value(&quot;${folder.output}&quot;)\r\n\tprivate String folderOutput;\r\n\t\r\n\t@Value(&quot;#{jobParameters[&#39;myProperty&#39;]}&quot;)\r\n    private String test;\r\n\t\r\n\tDateTimeFormatter dateDefaultFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n\tDateTimeFormatter hourDefaultFormatter = DateTimeFormatter.ofPattern(&quot;HHmmss&quot;);\r\n\t\r\n\tString outputFile = &quot;arq33&quot; + MyEnum.valueOf(test.substring(4, 6)) \r\n\t\t\t\t\t\t\t\t\t + dateDefaultFormatter.format(LocalDate.now()) \r\n\t\t\t\t\t\t\t\t\t + hourDefaultFormatter.format(LocalDateTime.now());\r\n\t\r\n\tprivate Resource exportFileResource = new FileSystemResource(folderOutput + outputFile);\r\n\t     \r\n    public FlatFileItemWriter&lt;MyItem&gt; writer() {\r\n        FlatFileItemWriter&lt;MyItem&gt; writer = new FlatFileItemWriter&lt;MyItem&gt;();\r\n\t    writer.setResource(exportFileResource);\r\n\t     \r\n\t    writer.setAppendAllowed(true);\r\n\t     \r\n\t    writer.setLineAggregator(new MyFileLineAggregator(outputFile));\r\n\t    \r\n\t    return writer;\r\n\t}\r\n}\r\n\r\n```\r\n","title":"Spring batch - How to read Item property inside a bean creating a FlatFileItemWriter","body":"<p>I'm having the following problem:</p>\n<p>I have the following bean being created in my configuration class</p>\n<pre><code>    @Bean\n    public ItemWriter&lt;MyItem&gt; outputFileWriter() {\n        DateTimeFormatter dateDefaultFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\n        DateTimeFormatter hourDefaultFormatter = DateTimeFormatter.ofPattern(&quot;HHmmss&quot;);\n        \n        String outputFile = &quot;arq33&quot; + MyEnum.valueOf(((String) executionContext.get(&quot;myProperty&quot;)).substring(4, 6)) \n                                         + dateDefaultFormatter.format(LocalDate.now()) \n                                         + hourDefaultFormatter.format(LocalDateTime.now());\n                \n        Resource exportFileResource = new FileSystemResource(folderOutput + outputFile); \n          \n        return new FlatFileItemWriterBuilder&lt;MyItem&gt;()\n                .name(&quot;outputFileWriter&quot;)\n                .lineAggregator(new MyFileLineAggregator(outputFile))\n                .resource(exportFileResource)\n                .build();\n    }\n</code></pre>\n<p>I need to create a file with a certain pattern in naming, but that file name depends on a property of the MyItem class, how can I make the FlatFileItemWriter able to read a property of the Item that will write to the file?</p>\n<p>I tried to use the executionContext, but I only get null (I put the executionContext in the configuration class itself):</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfiguration {\n\n@Value(&quot;#{jobExecution.executionContext}&quot;)\n    private ExecutionContext executionContext;\n   ...\n</code></pre>\n<p>I also thought about creating a custom FlatFileItemWriter, but I don't know if it's possible to create, I didn't find anything on the forum, only ItemWriter.</p>\n<pre><code>@StepScope\npublic class OutputFileWriter extends StepExecutionListenerSupport {\n        \n    @Value(&quot;${folder.output}&quot;)\n    private String folderOutput;\n    \n    @Value(&quot;#{jobParameters['myProperty']}&quot;)\n    private String test;\n    \n    DateTimeFormatter dateDefaultFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\n    DateTimeFormatter hourDefaultFormatter = DateTimeFormatter.ofPattern(&quot;HHmmss&quot;);\n    \n    String outputFile = &quot;arq33&quot; + MyEnum.valueOf(test.substring(4, 6)) \n                                     + dateDefaultFormatter.format(LocalDate.now()) \n                                     + hourDefaultFormatter.format(LocalDateTime.now());\n    \n    private Resource exportFileResource = new FileSystemResource(folderOutput + outputFile);\n         \n    public FlatFileItemWriter&lt;MyItem&gt; writer() {\n        FlatFileItemWriter&lt;MyItem&gt; writer = new FlatFileItemWriter&lt;MyItem&gt;();\n        writer.setResource(exportFileResource);\n         \n        writer.setAppendAllowed(true);\n         \n        writer.setLineAggregator(new MyFileLineAggregator(outputFile));\n        \n        return writer;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","gradle","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1688458076,"post_id":76610404,"comment_id":135073201,"body_markdown":"You are using SPring Boot why the tomcat plugin? You are using a Spring (BOot) version that is for JakartaEE, while you are shoehoring Tomcat 9 in there which is JavaEE. But as stated you shouldn&#39;t need that plugin anyway.","body":"You are using SPring Boot why the tomcat plugin? You are using a Spring (BOot) version that is for JakartaEE, while you are shoehoring Tomcat 9 in there which is JavaEE. But as stated you shouldn&#39;t need that plugin anyway."},{"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"score":0,"creation_date":1688481651,"post_id":76610404,"comment_id":135078359,"body_markdown":"@M.Deinum Thanks for your info about the shoehoring, I had no idea about the distinction between the two! Initially there were no Tomcat at all, just some web config and controllers like `web.xml` and `TestController.java`. It was that I didnt know how to run the project, which - after some googling - somehow led me to tomcat and eventually this mess.","body":"@M.Deinum Thanks for your info about the shoehoring, I had no idea about the distinction between the two! Initially there were no Tomcat at all, just some web config and controllers like <code>web.xml</code> and <code>TestController.java</code>. It was that I didnt know how to run the project, which - after some googling - somehow led me to tomcat and eventually this mess."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1688492966,"post_id":76610404,"comment_id":135080374,"body_markdown":"If you are using Spring Boot you don&#39;t need a `web.xml`, just a main class and your controllers. All the rest is going to be setup for you.","body":"If you are using Spring Boot you don&#39;t need a <code>web.xml</code>, just a main class and your controllers. All the rest is going to be setup for you."},{"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"score":0,"creation_date":1688539661,"post_id":76610404,"comment_id":135084955,"body_markdown":"@M.Deinum Hmm currently I think I want to grasp a bit about Spring MVC configuration using xml files before moving on with java class files. So base on your comment, I should rather create a pure Spring MVC project, instead of Spring Boot. Is that correct?","body":"@M.Deinum Hmm currently I think I want to grasp a bit about Spring MVC configuration using xml files before moving on with java class files. So base on your comment, I should rather create a pure Spring MVC project, instead of Spring Boot. Is that correct?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1688539769,"post_id":76610404,"comment_id":135084976,"body_markdown":"Don&#39;t bother, it doesn&#39;t add anything and Java config is preferred. Learning XML doesn&#39;t give you an advantages as both XML and Java config doe the same. Next to that you can learn SPring MVC with Spring Boot as well saves you a little setup of the `DispatcherServlet` and a servlet container. So I would strongly suggest don&#39;t do that and just pick Spring Boot and start from that.","body":"Don&#39;t bother, it doesn&#39;t add anything and Java config is preferred. Learning XML doesn&#39;t give you an advantages as both XML and Java config doe the same. Next to that you can learn SPring MVC with Spring Boot as well saves you a little setup of the <code>DispatcherServlet</code> and a servlet container. So I would strongly suggest don&#39;t do that and just pick Spring Boot and start from that."},{"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"score":0,"creation_date":1688567084,"post_id":76610404,"comment_id":135091010,"body_markdown":"Thank you a lot for your suggestion sir :) It really helped me save my time.","body":"Thank you a lot for your suggestion sir :) It really helped me save my time."}],"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688457017,"creation_date":1688457017,"question_id":76610404,"body_markdown":"I am learning to create a Spring MVC project using Tomcat plugin (https://github.com/bmuschko/gradle-tomcat-plugin). My project structure is as below:\r\n```\r\n[ jounPc.joun t2 ]::tree .\r\n.\r\n├── build\r\n│   ├── classes\r\n│   │   └── java\r\n│   │       └── main\r\n│   │           ├── META-INF\r\n│   │           └── org\r\n│   │               └── example\r\n│   │                   ├── Main.class\r\n│   │                   └── TestController.class\r\n│   ├── generated\r\n│   │   └── sources\r\n│   │       ├── annotationProcessor\r\n│   │       │   └── java\r\n│   │       │       └── main\r\n│   │       └── headers\r\n│   │           └── java\r\n│   │               └── main\r\n│   ├── libs\r\n│   │   ├── t2-1.0-SNAPSHOT-plain.war\r\n│   │   └── t2-1.0-SNAPSHOT.war\r\n│   ├── resolvedMainClassName\r\n│   └── tmp\r\n│       ├── bootWar\r\n│       │   └── MANIFEST.MF\r\n│       ├── compileJava\r\n│       │   ├── compileTransaction\r\n│       │   │   ├── backup-dir\r\n│       │   │   └── stash-dir\r\n│       │   │       └── TestController.class.uniqueId0\r\n│       │   └── previous-compilation-data.bin\r\n│       ├── ssl\r\n│       ├── tomcatRun\r\n│       │   └── work\r\n│       │       └── Tomcat\r\n│       │           └── localhost\r\n│       │               └── ROOT\r\n│       └── war\r\n│           └── MANIFEST.MF\r\n├── build.gradle.kts\r\n├── gradle\r\n│   └── wrapper\r\n│       ├── gradle-wrapper.jar\r\n│       └── gradle-wrapper.properties\r\n├── gradleLog\r\n├── gradlew\r\n├── gradlew.bat\r\n├── settings.gradle.kts\r\n└── src\r\n    ├── main\r\n    │   ├── java\r\n    │   │   └── org\r\n    │   │       └── example\r\n    │   │           ├── Main.java\r\n    │   │           └── TestController.java\r\n    │   ├── resources\r\n    │   └── webapp\r\n    │       └── WEB_INF\r\n    │           ├── index.jsp\r\n    │           ├── sample-servlet.xml\r\n    │           └── web.xml\r\n    └── test\r\n        ├── java\r\n        └── resources\r\n\r\n\r\n```\r\nAnd some of the files that I modified here\r\n- `build.gradle`\r\n```\r\nbuildscript {\r\n    repositories {\r\n        maven {\r\n            url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath(&quot;com.bmuschko:gradle-tomcat-plugin:2.7.0&quot;)\r\n    }\r\n}\r\n\r\nplugins {\r\n    id(&quot;java&quot;)\r\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.0&quot;\r\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n    id(&quot;com.bmuschko.tomcat&quot;) version &quot;2.7.0&quot;\r\n}\r\n\r\ngroup = &quot;org.example&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n//    implementation(&quot;org.springframework.boot:spring-boot-starter&quot;)\r\n    implementation(&quot;org.springframework:spring-webmvc:6.0.9&quot;)\r\n    implementation(&quot;javax.servlet:javax.servlet-api:3.0.1&quot;)\r\n    implementation(&quot;org.apache.tomcat:tomcat-jasper:10.1.10&quot;)\r\n\r\n    val tomcatVersion = &quot;9.0.73&quot;\r\n    tomcat(&quot;org.apache.tomcat.embed:tomcat-embed-core:${tomcatVersion}&quot;)\r\n    tomcat(&quot;org.apache.tomcat.embed:tomcat-embed-jasper:${tomcatVersion}&quot;)\r\n    tomcat(&quot;org.apache.tomcat.embed:tomcat-embed-logging-juli:9.0.0.M6&quot;)\r\n}\r\n\r\ntomcat {\r\n    httpProtocol = &quot;org.apache.coyote.http11.Http11Nio2Protocol&quot;\r\n    ajpProtocol  = &quot;org.apache.coyote.ajp.AjpNio2Protocol&quot;\r\n    httpPort = 8080\r\n    enableSSL = true\r\n    contextPath = &quot;/&quot;\r\n}\r\n```\r\n- `web.xml`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app\r\n        xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n        http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n        id=&quot;WebApp_ID&quot;\r\n        version=&quot;3.1&quot;&gt;\r\n\r\n    &lt;display-name&gt;spring-mvc-demo&lt;/display-name&gt;\r\n    &lt;absolute-ordering/&gt;\r\n\r\n    &lt;!--  Spring MVC Configs  --&gt;\r\n    &lt;!--  Step 1: Configure Spring MVC Dispatcher Servlet  --&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;sample&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/sample-servlet.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;!--  Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet  --&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;sample&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n- `sample-servlet.xml`\r\n```\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n       xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/context\r\n        http://www.springframework.org/schema/context/spring-context.xsd\r\n        http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n\r\n    &lt;!--  Step 3: Add support for component scanning  --&gt;\r\n    &lt;context:component-scan base-package=&quot;org.example&quot;/&gt;\r\n\r\n    &lt;!--  Step 4: Add support for conversion, formatting and validation support  --&gt;\r\n    &lt;mvc:annotation-driven/&gt;\r\n\r\n    &lt;!--  Step 5: Define Spring MVC view resolver  --&gt;\r\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/&quot;/&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n- A simple controller `TestController.java`\r\n```\r\npackage org.example;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class TestController {\r\n  @RequestMapping(&quot;/&quot;)\r\n  public String getInfo() {\r\n    return &quot;Test controller&quot;;\r\n  }\r\n}\r\n```\r\n\r\nThe problem is while gradle had no problems building it, nor retrieving the dependencies, it fails when I executed the server with `tomcatRun`. \r\n```\r\n$ gradle tomcatRun --stacktrace &gt; ./gradleLog\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:tomcatRun&#39;.\r\n&gt; An error occurred starting the Tomcat server.\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:tomcatRun&#39;.\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\r\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\nCaused by: org.gradle.api.GradleException: An error occurred starting the Tomcat server.\r\n        at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun.startTomcat(AbstractTomcatRun.groovy:376)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun$_validateConfigurationAndStartTomcat_closure3.doCall(AbstractTomcatRun.groovy:234)\r\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun$_validateConfigurationAndStartTomcat_closure3.doCall(AbstractTomcatRun.groovy)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at com.bmuschko.gradle.tomcat.internal.LoggingHandler.withJdkFileLogger(LoggingHandler.groovy:54)\r\n        at com.bmuschko.gradle.tomcat.internal.LoggingHandler$withJdkFileLogger.callStatic(Unknown Source)\r\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun.validateConfigurationAndStartTomcat(AbstractTomcatRun.groovy:233)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun$_start_closure2.doCall(AbstractTomcatRun.groovy:226)\r\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun$_start_closure2.doCall(AbstractTomcatRun.groovy)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at com.bmuschko.gradle.tomcat.internal.utils.TomcatThreadContextClassLoader.withClasspath(TomcatThreadContextClassLoader.groovy:30)\r\n        at com.bmuschko.gradle.tomcat.internal.utils.ThreadContextClassLoader$withClasspath.call(Unknown Source)\r\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun.start(AbstractTomcatRun.groovy:225)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\r\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)\r\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\r\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\r\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\r\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\r\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\r\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\r\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:70)\r\n        at org.gradle.internal.Either$Right.fold(Either.java:175)\r\n        at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\r\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\r\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\r\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76)\r\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37)\r\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\r\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\r\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\r\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\r\n        at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\r\n        at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)\r\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\nCaused by: groovy.lang.MissingMethodException: No signature of method: static sun.security.tools.keytool.Main.main() is applicable for argument types: ([Ljava.lang.String;) values: [[-genkey, -alias, localhost, -dname, CN=localhost,OU=Test,O=Test,C=US, ...]]\r\nPossible solutions: wait(), wait(long), any(), find(), wait(long, int), each(groovy.lang.Closure)\r\n        at com.bmuschko.gradle.tomcat.internal.ssl.SSLKeyStoreImpl.invokeKeyTool(SSLKeyStoreImpl.groovy:81)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at com.bmuschko.gradle.tomcat.internal.ssl.SSLKeyStoreImpl.createSSLCertificate(SSLKeyStoreImpl.groovy:52)\r\n        at com.bmuschko.gradle.tomcat.internal.ssl.SSLKeyStore$createSSLCertificate.call(Unknown Source)\r\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun.startTomcat(AbstractTomcatRun.groovy:347)\r\n        ... 129 more\r\n\r\n\r\n* Get more help at https://help.gradle.org\r\n```\r\nIs there any way or any keywords I can look for to resolve this? \r\n\r\nThank you very much in advance!\r\n\r\n===\r\n### Specs \r\nGradle version: 8.1.1\r\n\r\nKotlin:       1.8.10\r\n\r\nGroovy:       3.0.15\r\n\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n\r\nJVM:          20.0.1 (Oracle Corporation 20.0.1+9)\r\n\r\nOS:           Linux 6.3.9-arch1-1 amd64","title":"Failure in compiling a Spring MVC project with Tomcat plugin","body":"<p>I am learning to create a Spring MVC project using Tomcat plugin (<a href=\"https://github.com/bmuschko/gradle-tomcat-plugin\" rel=\"nofollow noreferrer\">https://github.com/bmuschko/gradle-tomcat-plugin</a>). My project structure is as below:</p>\n<pre><code>[ jounPc.joun t2 ]::tree .\n.\n├── build\n│   ├── classes\n│   │   └── java\n│   │       └── main\n│   │           ├── META-INF\n│   │           └── org\n│   │               └── example\n│   │                   ├── Main.class\n│   │                   └── TestController.class\n│   ├── generated\n│   │   └── sources\n│   │       ├── annotationProcessor\n│   │       │   └── java\n│   │       │       └── main\n│   │       └── headers\n│   │           └── java\n│   │               └── main\n│   ├── libs\n│   │   ├── t2-1.0-SNAPSHOT-plain.war\n│   │   └── t2-1.0-SNAPSHOT.war\n│   ├── resolvedMainClassName\n│   └── tmp\n│       ├── bootWar\n│       │   └── MANIFEST.MF\n│       ├── compileJava\n│       │   ├── compileTransaction\n│       │   │   ├── backup-dir\n│       │   │   └── stash-dir\n│       │   │       └── TestController.class.uniqueId0\n│       │   └── previous-compilation-data.bin\n│       ├── ssl\n│       ├── tomcatRun\n│       │   └── work\n│       │       └── Tomcat\n│       │           └── localhost\n│       │               └── ROOT\n│       └── war\n│           └── MANIFEST.MF\n├── build.gradle.kts\n├── gradle\n│   └── wrapper\n│       ├── gradle-wrapper.jar\n│       └── gradle-wrapper.properties\n├── gradleLog\n├── gradlew\n├── gradlew.bat\n├── settings.gradle.kts\n└── src\n    ├── main\n    │   ├── java\n    │   │   └── org\n    │   │       └── example\n    │   │           ├── Main.java\n    │   │           └── TestController.java\n    │   ├── resources\n    │   └── webapp\n    │       └── WEB_INF\n    │           ├── index.jsp\n    │           ├── sample-servlet.xml\n    │           └── web.xml\n    └── test\n        ├── java\n        └── resources\n\n\n</code></pre>\n<p>And some of the files that I modified here</p>\n<ul>\n<li><code>build.gradle</code></li>\n</ul>\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\n        }\n    }\n    dependencies {\n        classpath(&quot;com.bmuschko:gradle-tomcat-plugin:2.7.0&quot;)\n    }\n}\n\nplugins {\n    id(&quot;java&quot;)\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.0&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n    id(&quot;com.bmuschko.tomcat&quot;) version &quot;2.7.0&quot;\n}\n\ngroup = &quot;org.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n//    implementation(&quot;org.springframework.boot:spring-boot-starter&quot;)\n    implementation(&quot;org.springframework:spring-webmvc:6.0.9&quot;)\n    implementation(&quot;javax.servlet:javax.servlet-api:3.0.1&quot;)\n    implementation(&quot;org.apache.tomcat:tomcat-jasper:10.1.10&quot;)\n\n    val tomcatVersion = &quot;9.0.73&quot;\n    tomcat(&quot;org.apache.tomcat.embed:tomcat-embed-core:${tomcatVersion}&quot;)\n    tomcat(&quot;org.apache.tomcat.embed:tomcat-embed-jasper:${tomcatVersion}&quot;)\n    tomcat(&quot;org.apache.tomcat.embed:tomcat-embed-logging-juli:9.0.0.M6&quot;)\n}\n\ntomcat {\n    httpProtocol = &quot;org.apache.coyote.http11.Http11Nio2Protocol&quot;\n    ajpProtocol  = &quot;org.apache.coyote.ajp.AjpNio2Protocol&quot;\n    httpPort = 8080\n    enableSSL = true\n    contextPath = &quot;/&quot;\n}\n</code></pre>\n<ul>\n<li><code>web.xml</code></li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app\n        xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n        http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n        id=&quot;WebApp_ID&quot;\n        version=&quot;3.1&quot;&gt;\n\n    &lt;display-name&gt;spring-mvc-demo&lt;/display-name&gt;\n    &lt;absolute-ordering/&gt;\n\n    &lt;!--  Spring MVC Configs  --&gt;\n    &lt;!--  Step 1: Configure Spring MVC Dispatcher Servlet  --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;sample&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/sample-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!--  Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet  --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;sample&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<ul>\n<li><code>sample-servlet.xml</code></li>\n</ul>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n    &lt;!--  Step 3: Add support for component scanning  --&gt;\n    &lt;context:component-scan base-package=&quot;org.example&quot;/&gt;\n\n    &lt;!--  Step 4: Add support for conversion, formatting and validation support  --&gt;\n    &lt;mvc:annotation-driven/&gt;\n\n    &lt;!--  Step 5: Define Spring MVC view resolver  --&gt;\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<ul>\n<li>A simple controller <code>TestController.java</code></li>\n</ul>\n<pre><code>package org.example;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class TestController {\n  @RequestMapping(&quot;/&quot;)\n  public String getInfo() {\n    return &quot;Test controller&quot;;\n  }\n}\n</code></pre>\n<p>The problem is while gradle had no problems building it, nor retrieving the dependencies, it fails when I executed the server with <code>tomcatRun</code>.</p>\n<pre><code>$ gradle tomcatRun --stacktrace &gt; ./gradleLog\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':tomcatRun'.\n&gt; An error occurred starting the Tomcat server.\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':tomcatRun'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: org.gradle.api.GradleException: An error occurred starting the Tomcat server.\n        at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun.startTomcat(AbstractTomcatRun.groovy:376)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun$_validateConfigurationAndStartTomcat_closure3.doCall(AbstractTomcatRun.groovy:234)\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun$_validateConfigurationAndStartTomcat_closure3.doCall(AbstractTomcatRun.groovy)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at com.bmuschko.gradle.tomcat.internal.LoggingHandler.withJdkFileLogger(LoggingHandler.groovy:54)\n        at com.bmuschko.gradle.tomcat.internal.LoggingHandler$withJdkFileLogger.callStatic(Unknown Source)\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun.validateConfigurationAndStartTomcat(AbstractTomcatRun.groovy:233)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun$_start_closure2.doCall(AbstractTomcatRun.groovy:226)\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun$_start_closure2.doCall(AbstractTomcatRun.groovy)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at com.bmuschko.gradle.tomcat.internal.utils.TomcatThreadContextClassLoader.withClasspath(TomcatThreadContextClassLoader.groovy:30)\n        at com.bmuschko.gradle.tomcat.internal.utils.ThreadContextClassLoader$withClasspath.call(Unknown Source)\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun.start(AbstractTomcatRun.groovy:225)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n        at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\n        at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)\n        at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:70)\n        at org.gradle.internal.Either$Right.fold(Either.java:175)\n        at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\n        at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\n        at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\n        at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: groovy.lang.MissingMethodException: No signature of method: static sun.security.tools.keytool.Main.main() is applicable for argument types: ([Ljava.lang.String;) values: [[-genkey, -alias, localhost, -dname, CN=localhost,OU=Test,O=Test,C=US, ...]]\nPossible solutions: wait(), wait(long), any(), find(), wait(long, int), each(groovy.lang.Closure)\n        at com.bmuschko.gradle.tomcat.internal.ssl.SSLKeyStoreImpl.invokeKeyTool(SSLKeyStoreImpl.groovy:81)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at com.bmuschko.gradle.tomcat.internal.ssl.SSLKeyStoreImpl.createSSLCertificate(SSLKeyStoreImpl.groovy:52)\n        at com.bmuschko.gradle.tomcat.internal.ssl.SSLKeyStore$createSSLCertificate.call(Unknown Source)\n        at com.bmuschko.gradle.tomcat.tasks.AbstractTomcatRun.startTomcat(AbstractTomcatRun.groovy:347)\n        ... 129 more\n\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p>Is there any way or any keywords I can look for to resolve this?</p>\n<p>Thank you very much in advance!</p>\n<p>===</p>\n<h3>Specs</h3>\n<p>Gradle version: 8.1.1</p>\n<p>Kotlin:       1.8.10</p>\n<p>Groovy:       3.0.15</p>\n<p>Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021</p>\n<p>JVM:          20.0.1 (Oracle Corporation 20.0.1+9)</p>\n<p>OS:           Linux 6.3.9-arch1-1 amd64</p>\n"},{"tags":["java","spring-boot","google-analytics","google-analytics-api"],"owner":{"account_id":28939100,"reputation":1,"user_id":22165996,"display_name":"Swati Prajapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688456443,"creation_date":1688366882,"question_id":76602432,"body_markdown":"I want to track events from the spring boot, I have used the google analytics for that\r\nBut events are not getting tracked in dashboard.\r\n\r\n\r\n\r\n```\r\nprivate GoogleAnalyticsService gaService;\r\n\r\n@GetMapping\r\nString testEvents() throws ServletException {\r\n    gaService.trackEvent();\r\n    return &quot;Event tracked&quot;;\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n@Service\r\npublic class GoogleAnalyticsService {\r\n    \r\n    @Value(&quot;${GA_TRACKING_ID_2}&quot;)\r\n    private String GA_TRACKING_ID_2;\r\n   \r\n    Logger logger = LoggerFactory.getLogger(GoogleAnalyticsService.class);\r\n    @Autowired\r\n    RestTemplate restTemplate;\r\n\r\n    public void trackEvent() throws ServletException {\r\n        try {\r\n            HttpClient client = HttpClientBuilder.create().build();\r\n            URIBuilder builder = new URIBuilder();\r\n            builder\r\n                .setScheme(&quot;https&quot;)\r\n                .setHost(&quot;www.google-analytics.com&quot;)\r\n                .setPath(&quot;/collect&quot;)\r\n                .addParameter(&quot;v&quot;, &quot;1&quot;) // API Version.\r\n                .addParameter(&quot;tid&quot;, GA_TRACKING_ID_2) // Tracking ID / Property ID.\r\n                // Anonymous Client Identifier. Ideally, this should be a UUID that\r\n                // is associated with particular user, device, or browser instance.\r\n                .addParameter(&quot;cid&quot;, &quot;555&quot;)\r\n                .addParameter(&quot;t&quot;, &quot;event2&quot;) // Event hit type.\r\n                .addParameter(&quot;ec&quot;, &quot;example2&quot;) // Event category.\r\n                .addParameter(&quot;ea&quot;, &quot;test action2&quot;); // Event action.\r\n            URI uri = builder.build();\r\n            final HttpHeaders headers = new HttpHeaders();\r\n            headers.set(&quot;user-agent&quot;, &quot;test-User&quot;);\r\n            final HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n            ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(uri, HttpMethod.GET, entity, byte[].class);\r\n            logger.info(&quot;response: {}&quot;, response.getStatusCode());\r\n\r\n\r\n            // Handle the response if needed\r\n        } catch (URISyntaxException e) {\r\n            // Handle the exception\r\n            throw new ServletException(&quot;Problem building URI&quot;, e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI have also follow this link made all the changes mentioned still events are not getting publish in dashboard. Spring boot log shows me that the request is successful, but nothing appear in Google Analytics dashboard.\r\n\r\nhttps://cloud.google.com/appengine/docs/flexible/integrating-with-analytics?tab=java#top\r\n\r\nhttps://stackoverflow.com/questions/62151765/google-analytics-from-spring-boot-2\r\n\r\nCan anyone please tell what I am missing here.","title":"Google Analytics from Spring Boot","body":"<p>I want to track events from the spring boot, I have used the google analytics for that\nBut events are not getting tracked in dashboard.</p>\n<pre><code>private GoogleAnalyticsService gaService;\n\n@GetMapping\nString testEvents() throws ServletException {\n    gaService.trackEvent();\n    return &quot;Event tracked&quot;;\n}\n</code></pre>\n<pre><code>@Service\npublic class GoogleAnalyticsService {\n    \n    @Value(&quot;${GA_TRACKING_ID_2}&quot;)\n    private String GA_TRACKING_ID_2;\n   \n    Logger logger = LoggerFactory.getLogger(GoogleAnalyticsService.class);\n    @Autowired\n    RestTemplate restTemplate;\n\n    public void trackEvent() throws ServletException {\n        try {\n            HttpClient client = HttpClientBuilder.create().build();\n            URIBuilder builder = new URIBuilder();\n            builder\n                .setScheme(&quot;https&quot;)\n                .setHost(&quot;www.google-analytics.com&quot;)\n                .setPath(&quot;/collect&quot;)\n                .addParameter(&quot;v&quot;, &quot;1&quot;) // API Version.\n                .addParameter(&quot;tid&quot;, GA_TRACKING_ID_2) // Tracking ID / Property ID.\n                // Anonymous Client Identifier. Ideally, this should be a UUID that\n                // is associated with particular user, device, or browser instance.\n                .addParameter(&quot;cid&quot;, &quot;555&quot;)\n                .addParameter(&quot;t&quot;, &quot;event2&quot;) // Event hit type.\n                .addParameter(&quot;ec&quot;, &quot;example2&quot;) // Event category.\n                .addParameter(&quot;ea&quot;, &quot;test action2&quot;); // Event action.\n            URI uri = builder.build();\n            final HttpHeaders headers = new HttpHeaders();\n            headers.set(&quot;user-agent&quot;, &quot;test-User&quot;);\n            final HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\n            ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(uri, HttpMethod.GET, entity, byte[].class);\n            logger.info(&quot;response: {}&quot;, response.getStatusCode());\n\n\n            // Handle the response if needed\n        } catch (URISyntaxException e) {\n            // Handle the exception\n            throw new ServletException(&quot;Problem building URI&quot;, e);\n        }\n    }\n}\n\n</code></pre>\n<p>I have also follow this link made all the changes mentioned still events are not getting publish in dashboard. Spring boot log shows me that the request is successful, but nothing appear in Google Analytics dashboard.</p>\n<p><a href=\"https://cloud.google.com/appengine/docs/flexible/integrating-with-analytics?tab=java#top\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/flexible/integrating-with-analytics?tab=java#top</a></p>\n<p><a href=\"https://stackoverflow.com/questions/62151765/google-analytics-from-spring-boot-2\">Google Analytics from Spring Boot 2</a></p>\n<p>Can anyone please tell what I am missing here.</p>\n"},{"tags":["java","jpa","interface","spring-data-jpa","extends"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":3,"creation_date":1573835976,"post_id":58881221,"comment_id":104029717,"body_markdown":"One interface cannot *implement* another. An interface *extends* another interface, but a class *implements* an interface.","body":"One interface cannot <i>implement</i> another. An interface <i>extends</i> another interface, but a class <i>implements</i> an interface."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1573837038,"post_id":58881221,"comment_id":104030193,"body_markdown":"@ernest_k Why don&#39;t you add this as the answer?","body":"@ernest_k Why don&#39;t you add this as the answer?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1573837738,"post_id":58881221,"comment_id":104030536,"body_markdown":"@SimonMartinelli I only added a likely correct guess. The question doesn&#39;t show that `TestRepository` is indeed an interface.","body":"@SimonMartinelli I only added a likely correct guess. The question doesn&#39;t show that <code>TestRepository</code> is indeed an interface."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1573900285,"post_id":58881221,"comment_id":104045477,"body_markdown":"@ernest_k Of course it does, unless the code doesn&#39;t compile.","body":"@ernest_k Of course it does, unless the code doesn&#39;t compile."},{"owner":{"account_id":4257508,"reputation":549,"user_id":4645447,"display_name":"Hilton Fernandes"},"score":0,"creation_date":1700094185,"post_id":58881221,"comment_id":136613887,"body_markdown":"If I have read it correctly, the question is about why not define classes using the interfaces. I am new to Spring, and have to learn a lot. As far as  I understood, Spring has a backstage machinery that creates anonymous classes from interfaces in the backstage -- either in the runtime, or using annotations.","body":"If I have read it correctly, the question is about why not define classes using the interfaces. I am new to Spring, and have to learn a lot. As far as  I understood, Spring has a backstage machinery that creates anonymous classes from interfaces in the backstage -- either in the runtime, or using annotations."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688456412,"creation_date":1573899910,"answer_id":58889720,"question_id":58881221,"body_markdown":"I assume your code looks like\r\n\r\n    interface TestRepository extends JpaRepository&lt;Test, Long&gt;\r\n\r\nSo TestRepository is an interface and interfaces can extend other interfaces not implement interfaces.\r\n\r\nThe TestRepository will be implemented from Spring Data JPA during runtime based on the SimpleJpaRepository\r\n\r\n&lt;https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java&gt;","title":"Why do we extend JpaRepository Interface and not implements it","body":"<p>I assume your code looks like</p>\n<pre><code>interface TestRepository extends JpaRepository&lt;Test, Long&gt;\n</code></pre>\n<p>So TestRepository is an interface and interfaces can extend other interfaces not implement interfaces.</p>\n<p>The TestRepository will be implemented from Spring Data JPA during runtime based on the SimpleJpaRepository</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/blob/main/spring-data-jpa/src/main/java/org/springframework/data/jpa/repository/support/SimpleJpaRepository.java</a></p>\n"},{"tags":[],"owner":{"account_id":17111412,"reputation":129,"user_id":12382107,"display_name":"sai"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573905891,"creation_date":1573901025,"answer_id":58889854,"question_id":58881221,"body_markdown":"In Java\r\n\r\n1. Class extends Class \r\n       `class Test Extends Thread`\r\n2. interface Extend interface \r\n        `public interface TestI extends Runtime`\r\n3. class implements interface \r\n      `public class Test implements Runnable` \r\n   \r\n","title":"Why do we extend JpaRepository Interface and not implements it","body":"<p>In Java</p>\n\n<ol>\n<li>Class extends Class \n   <code>class Test Extends Thread</code></li>\n<li>interface Extend interface \n    <code>public interface TestI extends Runtime</code></li>\n<li>class implements interface \n  <code>public class Test implements Runnable</code> </li>\n</ol>\n"}],"owner":{"account_id":13367587,"reputation":71,"user_id":10337836,"display_name":"A Tariq"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4908,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":58889720,"answer_count":2,"score":6,"last_activity_date":1688456412,"creation_date":1573835794,"question_id":58881221,"body_markdown":"`TestRepository ***extends*** JpaRespotiroy&lt;Test,Long&gt;`\r\n\r\nJpaRepository is an interface. Why do we extend it and not implement it as we know in Java? As far as I know, interfaces are implemented, not extended. \r\n\r\nCan somebody explain to me please? ","title":"Why do we extend JpaRepository Interface and not implements it","body":"<p><code>TestRepository ***extends*** JpaRespotiroy&lt;Test,Long&gt;</code></p>\n\n<p>JpaRepository is an interface. Why do we extend it and not implement it as we know in Java? As far as I know, interfaces are implemented, not extended. </p>\n\n<p>Can somebody explain to me please? </p>\n"},{"tags":["java","spring-boot","apache-kafka"],"answers":[{"tags":[],"owner":{"display_name":"user11311618"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1555922378,"creation_date":1555922378,"answer_id":55791543,"question_id":55790274,"body_markdown":"the problem was that i was calling Consumer from Application.java as well , hence i had 2 instance of `Kafka consumer` but i limited my group size as 1.\r\n\r\nThe producer problem was due to properties i set up for the producer.\r\n\r\nsorry for the trouble.","title":"Removed 0 expired offsets in 1 milliseconds. (kafka.coordinator.group.GroupMetadataManager)","body":"<p>the problem was that i was calling Consumer from Application.java as well , hence i had 2 instance of <code>Kafka consumer</code> but i limited my group size as 1.</p>\n\n<p>The producer problem was due to properties i set up for the producer.</p>\n\n<p>sorry for the trouble.</p>\n"}],"owner":{"display_name":"user11311618"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55791543,"answer_count":1,"score":0,"last_activity_date":1688456410,"creation_date":1555915744,"question_id":55790274,"body_markdown":"I&#39;m new to kafka. i&#39;m trying to call kafka consumer through my spring boot and kafka-producer through my terminal.\r\n\r\nThe code worked fine previously but recently i keep getting this the log form consumer side\r\n\r\n    2019-04-22 11:56:39.415  INFO 10253 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version : 2.0.1\r\n    2019-04-22 11:56:39.416  INFO 10253 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId : fa14705e51bd2ce5\r\n    2019-04-22 11:56:39.424  INFO 10253 --- [           main] org.apache.kafka.clients.Metadata        : Cluster ID: iR8AmeB9RC-eqS7rrFyYGw\r\n    2019-04-22 11:56:39.425  INFO 10253 --- [           main] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] Discovered group coordinator akash-Lenovo-ideapad-330-15IKB:9092 (id: 2147483647 rack: null)\r\n    2019-04-22 11:56:39.426  INFO 10253 --- [           main] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] Revoking previously assigned partitions []\r\n    2019-04-22 11:56:39.427  INFO 10253 --- [           main] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] (Re-)joining group\r\n    2019-04-22 11:56:42.164  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:56:45.183  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:56:48.201  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:56:51.218  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:56:54.235  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:56:57.256  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:57:00.276  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:57:03.294  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:57:06.315  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n    2019-04-22 11:57:09.334  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\r\n\r\nand this from producer side\r\n\r\n    2019-04-22 11:57:47,755] INFO [GroupMetadataManager brokerId=0] Removed 0 expired offsets in 1 milliseconds. (kafka.coordinator.group.GroupMetadataManager)\r\n    [2019-04-22 12:00:38,119] INFO [GroupCoordinator 0]: Member consumer-1-c8b9d4fd-d2e3-45a3-8f9a-2e825a9a87bd in group com.stellapps.rtc has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\r\n    [2019-04-22 12:00:38,123] INFO [GroupCoordinator 0]: Stabilized group com.stellapps.rtc generation 11 (__consumer_offsets-30) (kafka.coordinator.group.GroupCoordinator)\r\n    [2019-04-22 12:00:48,124] INFO [GroupCoordinator 0]: Member consumer-2-8f068bb6-d78c-458f-9775-d6b13ca54b57 in group com.stellapps.rtc has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\r\n    [2019-04-22 12:00:48,125] INFO [GroupCoordinator 0]: Preparing to rebalance group com.stellapps.rtc in state PreparingRebalance with old generation 11 (__consumer_offsets-30) (reason: removing member consumer-2-8f068bb6-d78c-458f-9775-d6b13ca54b57 on heartbeat expiration) (kafka.coordinator.group.GroupCoordinator)\r\n    [2019-04-22 12:00:48,125] INFO [GroupCoordinator 0]: Group com.stellapps.rtc with generation 12 is now empty (__consumer_offsets-30) (kafka.coordinator.group.GroupCoordinator)\r\n    [2019-04-22 12:07:47,755] INFO [GroupMetadataManager brokerId=0] Removed 0 expired offsets in 0 milliseconds. (kafka.coordinator.group.GroupMetadataManager)\r\n\r\n\r\nthe consumer does not accept any input from the producer. I tried changing the poll value but no vain , the message keeps coming or the consumer simply does not accept the input form producer.\r\n\r\nhere is my Spring boot code.\r\n\r\n\r\n\r\n    import com.stellapps.rtc.reset.RTCInterpreter;\r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.clients.consumer.KafkaConsumer;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecords;\r\n    import org.apache.kafka.clients.consumer.Consumer;\r\n    import org.apache.kafka.common.serialization.LongDeserializer;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import com.stellapps.rtc.reset.json.DataParser;\r\n    \r\n    import java.time.Duration;\r\n    import java.util.Collections;\r\n    import java.util.Properties;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    \r\n    @Component\r\n    public class DataConsumer {\r\n    \r\n        @Autowired\r\n        private RTCInterpreter interpret;\r\n    \r\n    \r\n        private Consumer&lt;Long, String&gt; createConsumer(String topic) {\r\n            final String BOOTSTRAP_SERVERS = &quot;localhost:9092&quot;;\r\n            final Properties props = new Properties();\r\n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\r\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;com.stellapps.rtc&quot;); // group Id of the consumer group (if a consumer\r\n            // group exists).\r\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, LongDeserializer.class.getName());\r\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n            // Create the consumer using props.\r\n            final Consumer&lt;Long, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\r\n            // Subscribe to the topic.\r\n            consumer.subscribe(Collections.singletonList(topic));\r\n            return consumer;\r\n        }\r\n    \r\n       public void runConsumer(String topic) throws InterruptedException {\r\n            try {\r\n                final Consumer&lt;Long, String&gt; consumer = createConsumer(topic);\r\n    \r\n                final int giveUp = 1000;\r\n                int noRecordsCount = 0;\r\n                while (true) {\r\n                    final ConsumerRecords&lt;Long, String&gt; consumerRecords = consumer.poll(Duration.ofSeconds(1));\r\n                    if (consumerRecords.count() == 0) {\r\n                        noRecordsCount++;\r\n                        if (noRecordsCount &gt; giveUp)\r\n                            break;\r\n                        else\r\n                            continue;\r\n                    }\r\n                    consumerRecords.forEach(record -&gt; {\r\n                        // System.out.printf(&quot; %s\\n&quot;, record.value().getClass().getName());\r\n                        interpret.call(record.value());\r\n                    });\r\n                    consumer.commitAsync();\r\n                }\r\n                consumer.close();\r\n                System.out.println(&quot;Kafka is closed&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            try {\r\n                Runnable r = new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        System.out.println(Thread.currentThread().getName());\r\n    \r\n                        try {\r\n                            runConsumer(&quot;consume&quot;);  \r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n    \r\n                    }\r\n                };\r\n                Thread run = new Thread(r);\r\n                run.join();\r\n                run.start();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nplease help me.","title":"Removed 0 expired offsets in 1 milliseconds. (kafka.coordinator.group.GroupMetadataManager)","body":"<p>I'm new to kafka. i'm trying to call kafka consumer through my spring boot and kafka-producer through my terminal.</p>\n\n<p>The code worked fine previously but recently i keep getting this the log form consumer side</p>\n\n<pre><code>2019-04-22 11:56:39.415  INFO 10253 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version : 2.0.1\n2019-04-22 11:56:39.416  INFO 10253 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId : fa14705e51bd2ce5\n2019-04-22 11:56:39.424  INFO 10253 --- [           main] org.apache.kafka.clients.Metadata        : Cluster ID: iR8AmeB9RC-eqS7rrFyYGw\n2019-04-22 11:56:39.425  INFO 10253 --- [           main] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] Discovered group coordinator akash-Lenovo-ideapad-330-15IKB:9092 (id: 2147483647 rack: null)\n2019-04-22 11:56:39.426  INFO 10253 --- [           main] o.a.k.c.c.internals.ConsumerCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] Revoking previously assigned partitions []\n2019-04-22 11:56:39.427  INFO 10253 --- [           main] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-2, groupId=com.stellapps.rtc] (Re-)joining group\n2019-04-22 11:56:42.164  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:56:45.183  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:56:48.201  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:56:51.218  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:56:54.235  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:56:57.256  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:57:00.276  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:57:03.294  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:57:06.315  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n2019-04-22 11:57:09.334  INFO 10253 --- [m.stellapps.rtc] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-1, groupId=com.stellapps.rtc] Attempt to heartbeat failed since group is rebalancing\n</code></pre>\n\n<p>and this from producer side</p>\n\n<pre><code>2019-04-22 11:57:47,755] INFO [GroupMetadataManager brokerId=0] Removed 0 expired offsets in 1 milliseconds. (kafka.coordinator.group.GroupMetadataManager)\n[2019-04-22 12:00:38,119] INFO [GroupCoordinator 0]: Member consumer-1-c8b9d4fd-d2e3-45a3-8f9a-2e825a9a87bd in group com.stellapps.rtc has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\n[2019-04-22 12:00:38,123] INFO [GroupCoordinator 0]: Stabilized group com.stellapps.rtc generation 11 (__consumer_offsets-30) (kafka.coordinator.group.GroupCoordinator)\n[2019-04-22 12:00:48,124] INFO [GroupCoordinator 0]: Member consumer-2-8f068bb6-d78c-458f-9775-d6b13ca54b57 in group com.stellapps.rtc has failed, removing it from the group (kafka.coordinator.group.GroupCoordinator)\n[2019-04-22 12:00:48,125] INFO [GroupCoordinator 0]: Preparing to rebalance group com.stellapps.rtc in state PreparingRebalance with old generation 11 (__consumer_offsets-30) (reason: removing member consumer-2-8f068bb6-d78c-458f-9775-d6b13ca54b57 on heartbeat expiration) (kafka.coordinator.group.GroupCoordinator)\n[2019-04-22 12:00:48,125] INFO [GroupCoordinator 0]: Group com.stellapps.rtc with generation 12 is now empty (__consumer_offsets-30) (kafka.coordinator.group.GroupCoordinator)\n[2019-04-22 12:07:47,755] INFO [GroupMetadataManager brokerId=0] Removed 0 expired offsets in 0 milliseconds. (kafka.coordinator.group.GroupMetadataManager)\n</code></pre>\n\n<p>the consumer does not accept any input from the producer. I tried changing the poll value but no vain , the message keeps coming or the consumer simply does not accept the input form producer.</p>\n\n<p>here is my Spring boot code.</p>\n\n<pre><code>import com.stellapps.rtc.reset.RTCInterpreter;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport org.apache.kafka.clients.consumer.Consumer;\nimport org.apache.kafka.common.serialization.LongDeserializer;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport com.stellapps.rtc.reset.json.DataParser;\n\nimport java.time.Duration;\nimport java.util.Collections;\nimport java.util.Properties;\n\nimport javax.annotation.PostConstruct;\n\n@Component\npublic class DataConsumer {\n\n    @Autowired\n    private RTCInterpreter interpret;\n\n\n    private Consumer&lt;Long, String&gt; createConsumer(String topic) {\n        final String BOOTSTRAP_SERVERS = \"localhost:9092\";\n        final Properties props = new Properties();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, \"com.stellapps.rtc\"); // group Id of the consumer group (if a consumer\n        // group exists).\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, LongDeserializer.class.getName());\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        // Create the consumer using props.\n        final Consumer&lt;Long, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\n        // Subscribe to the topic.\n        consumer.subscribe(Collections.singletonList(topic));\n        return consumer;\n    }\n\n   public void runConsumer(String topic) throws InterruptedException {\n        try {\n            final Consumer&lt;Long, String&gt; consumer = createConsumer(topic);\n\n            final int giveUp = 1000;\n            int noRecordsCount = 0;\n            while (true) {\n                final ConsumerRecords&lt;Long, String&gt; consumerRecords = consumer.poll(Duration.ofSeconds(1));\n                if (consumerRecords.count() == 0) {\n                    noRecordsCount++;\n                    if (noRecordsCount &gt; giveUp)\n                        break;\n                    else\n                        continue;\n                }\n                consumerRecords.forEach(record -&gt; {\n                    // System.out.printf(\" %s\\n\", record.value().getClass().getName());\n                    interpret.call(record.value());\n                });\n                consumer.commitAsync();\n            }\n            consumer.close();\n            System.out.println(\"Kafka is closed\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @PostConstruct\n    public void init() {\n        try {\n            Runnable r = new Runnable() {\n                @Override\n                public void run() {\n                    System.out.println(Thread.currentThread().getName());\n\n                    try {\n                        runConsumer(\"consume\");  \n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n\n                }\n            };\n            Thread run = new Thread(r);\n            run.join();\n            run.start();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>please help me.</p>\n"},{"tags":["java","function","aws-lambda","micronaut","poc"],"comments":[{"owner":{"account_id":95078,"reputation":7995,"user_id":259167,"display_name":"Graeme Rocher"},"score":1,"creation_date":1624266383,"post_id":67894014,"comment_id":120301897,"body_markdown":"Does the generate test not show how to do that? https://micronaut.io/launch/?javaVersion=JDK_11&amp;lang=JAVA&amp;build=MAVEN&amp;test=JUNIT&amp;name=demo&amp;package=com.example&amp;type=FUNCTION&amp;version=2.5.6&amp;activity=preview&amp;showing=/src/test/java/com/example/BookRequestHandlerTest.java","body":"Does the generate test not show how to do that? <a href=\"https://micronaut.io/launch/?javaVersion=JDK_11&amp;lang=JAVA&amp;build=MAVEN&amp;test=JUNIT&amp;name=demo&amp;package=com.example&amp;type=FUNCTION&amp;version=2.5.6&amp;activity=preview&amp;showing=/src/test/java/com/example/BookRequestHandlerTest.java\" rel=\"nofollow noreferrer\">micronaut.io/launch/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1662361144,"post_id":67990939,"comment_id":129979530,"body_markdown":"How to do the same in `Gradle`?","body":"How to do the same in <code>Gradle</code>?"}],"tags":[],"owner":{"account_id":21821657,"reputation":34,"user_id":16117790,"display_name":"Fernando Soto Dev"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1623788144,"creation_date":1623778071,"answer_id":67990939,"question_id":67894014,"body_markdown":"Maven profiles can be used to select the runtime (in this expample uses netty) and the main class:\r\n```xml\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;exec.mainClass&gt;micronaut.Application&lt;/exec.mainClass&gt;\r\n                &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\r\n            &lt;/properties&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\r\n                    &lt;scope&gt;compile&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\nCreate the main class with a controller with a Post method that calls the function\r\n```java\r\npackage micronaut;\r\n\r\nimport io.micronaut.http.annotation.Body;\r\nimport io.micronaut.http.annotation.Controller;\r\nimport io.micronaut.http.annotation.Post;\r\nimport io.micronaut.runtime.Micronaut;\r\nimport micronaut.test.Book;\r\nimport micronaut.test.BookRequestHandler;\r\nimport micronaut.test.BookSaved;\r\n\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        Micronaut.run(Application.class, args);\r\n    }\r\n\r\n    @Controller()\r\n    public static class LambdaController {\r\n\r\n        private static final BookRequestHandler handler = new BookRequestHandler();\r\n\r\n        @Post\r\n        public BookSaved execute(@Body Book book) {\r\n            return handler.execute(book);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nand run with\r\n```sh\r\nmvnw mn:run -Plocal\r\n```\r\n\r\nNow you can use\r\n```sh\r\ncurl --location --request POST &#39;http://localhost:8080/&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--data-raw &#39;{&quot;name&quot;: &quot;Test&quot;}&#39;\r\n```\r\nreturning\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;Test&quot;,\r\n    &quot;isbn&quot;: &quot;2a163c3d-4bd6-444d-914d-58daf3e649b8&quot;\r\n}\r\n```\r\n\r\nThis a bit hacky, to test your function you can see *micronaut-test/src/test/java/micronaut/test/BookRequestHandlerTest.java* class or see [Testing Lambda Handlers][1] official docs.\r\n\r\n**Note:** For applications created with **mn create-app -f aws-lambda ...** is not needed the *&lt;exec.mainClass&gt;* in pom.xml, and the Application.java is generated.\r\n\r\n\r\n  [1]: https://micronaut-projects.github.io/micronaut-aws/latest/guide/#lambdaTesting","title":"Running micronaut serverless locally","body":"<p>Maven profiles can be used to select the runtime (in this expample uses netty) and the main class:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;exec.mainClass&gt;micronaut.Application&lt;/exec.mainClass&gt;\n                &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\n            &lt;/properties&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                    &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\n                    &lt;scope&gt;compile&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>Create the main class with a controller with a Post method that calls the function</p>\n<pre class=\"lang-java prettyprint-override\"><code>package micronaut;\n\nimport io.micronaut.http.annotation.Body;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Post;\nimport io.micronaut.runtime.Micronaut;\nimport micronaut.test.Book;\nimport micronaut.test.BookRequestHandler;\nimport micronaut.test.BookSaved;\n\npublic class Application {\n\n    public static void main(String[] args) {\n        Micronaut.run(Application.class, args);\n    }\n\n    @Controller()\n    public static class LambdaController {\n\n        private static final BookRequestHandler handler = new BookRequestHandler();\n\n        @Post\n        public BookSaved execute(@Body Book book) {\n            return handler.execute(book);\n        }\n    }\n}\n\n</code></pre>\n<p>and run with</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvnw mn:run -Plocal\n</code></pre>\n<p>Now you can use</p>\n<pre class=\"lang-sh prettyprint-override\"><code>curl --location --request POST 'http://localhost:8080/' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{&quot;name&quot;: &quot;Test&quot;}'\n</code></pre>\n<p>returning</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;Test&quot;,\n    &quot;isbn&quot;: &quot;2a163c3d-4bd6-444d-914d-58daf3e649b8&quot;\n}\n</code></pre>\n<p>This a bit hacky, to test your function you can see <em>micronaut-test/src/test/java/micronaut/test/BookRequestHandlerTest.java</em> class or see <a href=\"https://micronaut-projects.github.io/micronaut-aws/latest/guide/#lambdaTesting\" rel=\"nofollow noreferrer\">Testing Lambda Handlers</a> official docs.</p>\n<p><strong>Note:</strong> For applications created with <strong>mn create-app -f aws-lambda ...</strong> is not needed the <em>&lt;exec.mainClass&gt;</em> in pom.xml, and the Application.java is generated.</p>\n"},{"tags":[],"owner":{"account_id":18045393,"reputation":1,"user_id":13116533,"display_name":"Dangari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688456325,"creation_date":1688456325,"answer_id":76610317,"question_id":67894014,"body_markdown":"I wanted to achieve the same result using a Micronaut project with Gradle and Kotlin, and after extensive searching, this was the only solution I found. Now, I&#39;d like to share my solution with others who may encounter the same problem while working with Gradle.\r\n\r\nDefine a new configuration in your build.gradle file:\r\n\r\n    configurations {\r\n        create(&quot;localRuntime&quot;)\r\n    }\r\nAdd the Micronaut Netty runtime dependency to your dependencies block:\r\n\r\n    dependencies {\r\n        ...\r\n        localRuntime(&quot;io.micronaut:micronaut-http-server-netty:$micronautVersion&quot;)\r\n    }\r\nMake sure to replace $micronautVersion with the appropriate version of Micronaut.\r\nCreate a new Gradle task to run the project locally:\r\n\r\n    tasks.register(&#39;runLocal&#39;, JavaExec) {\r\n        print(configurations.getByName(&quot;localRuntime&quot;))\r\n        classpath = configurations.getByName(&quot;localRuntime&quot;) + sourceSets.main.runtimeClasspath\r\n        mainClass = &quot;com.example.ApplicationKt&quot;\r\n        args(&quot;--micronaut.runtime=netty&quot;)\r\n    }\r\n\r\nRun the project locally using the `runLocal` task: \r\n\r\n    gradle runLocal\r\n\r\nMy `Application.kt`:\r\n\r\n    package com.example\r\n    \r\n    import io.micronaut.runtime.Micronaut.run\r\n    \r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n    \trun(*args)\r\n    }\r\n\r\nController:\r\n\r\n    package com.example\r\n    \r\n    import io.micronaut.http.annotation.Controller\r\n    import io.micronaut.http.annotation.Get\r\n    \r\n    @Controller\r\n    class ExampleController {\r\n    \r\n        @Get(&quot;/hello&quot;)\r\n        fun helloWorld() = mapOf(&quot;message&quot; to &quot;Hello World&quot;)\r\n    }","title":"Running micronaut serverless locally","body":"<p>I wanted to achieve the same result using a Micronaut project with Gradle and Kotlin, and after extensive searching, this was the only solution I found. Now, I'd like to share my solution with others who may encounter the same problem while working with Gradle.</p>\n<p>Define a new configuration in your build.gradle file:</p>\n<pre><code>configurations {\n    create(&quot;localRuntime&quot;)\n}\n</code></pre>\n<p>Add the Micronaut Netty runtime dependency to your dependencies block:</p>\n<pre><code>dependencies {\n    ...\n    localRuntime(&quot;io.micronaut:micronaut-http-server-netty:$micronautVersion&quot;)\n}\n</code></pre>\n<p>Make sure to replace $micronautVersion with the appropriate version of Micronaut.\nCreate a new Gradle task to run the project locally:</p>\n<pre><code>tasks.register('runLocal', JavaExec) {\n    print(configurations.getByName(&quot;localRuntime&quot;))\n    classpath = configurations.getByName(&quot;localRuntime&quot;) + sourceSets.main.runtimeClasspath\n    mainClass = &quot;com.example.ApplicationKt&quot;\n    args(&quot;--micronaut.runtime=netty&quot;)\n}\n</code></pre>\n<p>Run the project locally using the <code>runLocal</code> task:</p>\n<pre><code>gradle runLocal\n</code></pre>\n<p>My <code>Application.kt</code>:</p>\n<pre><code>package com.example\n\nimport io.micronaut.runtime.Micronaut.run\n\n\nfun main(args: Array&lt;String&gt;) {\n    run(*args)\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>package com.example\n\nimport io.micronaut.http.annotation.Controller\nimport io.micronaut.http.annotation.Get\n\n@Controller\nclass ExampleController {\n\n    @Get(&quot;/hello&quot;)\n    fun helloWorld() = mapOf(&quot;message&quot; to &quot;Hello World&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":7591077,"reputation":43,"user_id":5758727,"display_name":"MrBlackV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1242,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67990939,"answer_count":2,"score":2,"last_activity_date":1688456325,"creation_date":1623183229,"question_id":67894014,"body_markdown":"I&#39;m trying to create an AWS Lambda function with micronaut using functions i.e. I created my poc project with:\r\n\r\n    mn create-function-app --build=maven --jdk=11 micronaut-test\r\n\r\nI can build and deploy it to AWS very easily but I wonder if there is a way to run it locally so I can quickly test changes in the same way you can run a regular micronaut app with \r\n\r\n    mvn mn:run\r\n\r\nRight now is just the sample app, reformulating my question; Can I trigger the execute method in BookRequestHandler without uploading it to AWS?\r\n\r\nThanks in advance.","title":"Running micronaut serverless locally","body":"<p>I'm trying to create an AWS Lambda function with micronaut using functions i.e. I created my poc project with:</p>\n<pre><code>mn create-function-app --build=maven --jdk=11 micronaut-test\n</code></pre>\n<p>I can build and deploy it to AWS very easily but I wonder if there is a way to run it locally so I can quickly test changes in the same way you can run a regular micronaut app with</p>\n<pre><code>mvn mn:run\n</code></pre>\n<p>Right now is just the sample app, reformulating my question; Can I trigger the execute method in BookRequestHandler without uploading it to AWS?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","maven","spring-boot","docker","pom.xml"],"comments":[{"owner":{"account_id":6275737,"reputation":340,"user_id":4878465,"display_name":"Fana Sithole"},"score":1,"creation_date":1565041718,"post_id":57366246,"comment_id":101219099,"body_markdown":"Out of interest though, why do you want your container to run the maven build? This can be run by the host and you just copy the `.jar` into your container","body":"Out of interest though, why do you want your container to run the maven build? This can be run by the host and you just copy the <code>.jar</code> into your container"},{"owner":{"account_id":6178319,"reputation":141,"user_id":4814583,"accept_rate":57,"display_name":"Ricki"},"score":0,"creation_date":1565042651,"post_id":57366246,"comment_id":101219336,"body_markdown":"to make it a bit more automatic and not have to be building on the host","body":"to make it a bit more automatic and not have to be building on the host"},{"owner":{"account_id":6275737,"reputation":340,"user_id":4878465,"display_name":"Fana Sithole"},"score":1,"creation_date":1565043018,"post_id":57366246,"comment_id":101219429,"body_markdown":"Generally, a dedicated build server, like Jenkins is used for such tasks and the resulting artefacts are used to build a container but for local development, your way  works","body":"Generally, a dedicated build server, like Jenkins is used for such tasks and the resulting artefacts are used to build a container but for local development, your way  works"},{"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"score":0,"creation_date":1660657063,"post_id":57366246,"comment_id":129579871,"body_markdown":"I had the same problem and I solved it by doing a git clone from the docker container itself that brings the full repo including the parent, and then I used mvnw install -pl to install only the modules I need.","body":"I had the same problem and I solved it by doing a git clone from the docker container itself that brings the full repo including the parent, and then I used mvnw install -pl to install only the modules I need."}],"answers":[{"comments":[{"owner":{"account_id":6178319,"reputation":141,"user_id":4814583,"accept_rate":57,"display_name":"Ricki"},"score":0,"creation_date":1565042867,"post_id":57366462,"comment_id":101219397,"body_markdown":"I understand what you mean, but if looking for another way if there is,projects hace dependencies with in them and y should be ok by building a web.jar","body":"I understand what you mean, but if looking for another way if there is,projects hace dependencies with in them and y should be ok by building a web.jar"},{"owner":{"account_id":6275737,"reputation":340,"user_id":4878465,"display_name":"Fana Sithole"},"score":1,"creation_date":1565043161,"post_id":57366462,"comment_id":101219464,"body_markdown":"I&#39;m not sure I fully get your question here. Please edit your comment","body":"I&#39;m not sure I fully get your question here. Please edit your comment"},{"owner":{"account_id":6178319,"reputation":141,"user_id":4814583,"accept_rate":57,"display_name":"Ricki"},"score":0,"creation_date":1565044084,"post_id":57366462,"comment_id":101219659,"body_markdown":"I&#39;m sorry I misunderstood you, the parent module is core witch is packaged as a pom, so I don&#39;t know how to approach this,you sugests y have to add a settings.xml?","body":"I&#39;m sorry I misunderstood you, the parent module is core witch is packaged as a pom, so I don&#39;t know how to approach this,you sugests y have to add a settings.xml?"},{"owner":{"account_id":6178319,"reputation":141,"user_id":4814583,"accept_rate":57,"display_name":"Ricki"},"score":0,"creation_date":1565091710,"post_id":57366462,"comment_id":101234884,"body_markdown":"in my case y only want to dockerize the web module but im getting this error as i said so i will try out your solution","body":"in my case y only want to dockerize the web module but im getting this error as i said so i will try out your solution"},{"owner":{"account_id":6275737,"reputation":340,"user_id":4878465,"display_name":"Fana Sithole"},"score":1,"creation_date":1565122224,"post_id":57366462,"comment_id":101250953,"body_markdown":"I&#39;m aware of that and the solution is for you to dockerize you `web` module. The complexity is added by your requirement to run a maven build in your container, hence your container takes a dual role of assembling your application and being a runtime. Let me know how it goes though","body":"I&#39;m aware of that and the solution is for you to dockerize you <code>web</code> module. The complexity is added by your requirement to run a maven build in your container, hence your container takes a dual role of assembling your application and being a runtime. Let me know how it goes though"},{"owner":{"account_id":6178319,"reputation":141,"user_id":4814583,"accept_rate":57,"display_name":"Ricki"},"score":0,"creation_date":1565129298,"post_id":57366462,"comment_id":101253237,"body_markdown":"yes, I&#39;m trying to deploy the web module, but wen building with maven, I&#39;m getting that it can&#39;t resolve dependencies from domain module, so I&#39;m trying to build one single jar but still same error message","body":"yes, I&#39;m trying to deploy the web module, but wen building with maven, I&#39;m getting that it can&#39;t resolve dependencies from domain module, so I&#39;m trying to build one single jar but still same error message"},{"owner":{"account_id":6275737,"reputation":340,"user_id":4878465,"display_name":"Fana Sithole"},"score":1,"creation_date":1565146355,"post_id":57366462,"comment_id":101256184,"body_markdown":"Have you deployed your parent pom to a maven repository?","body":"Have you deployed your parent pom to a maven repository?"},{"owner":{"account_id":6178319,"reputation":141,"user_id":4814583,"accept_rate":57,"display_name":"Ricki"},"score":0,"creation_date":1565154810,"post_id":57366462,"comment_id":101257856,"body_markdown":"I&#39;m having a look how to actually do this, I&#39;m checking the maven deploy plugin this way could deploy all my target jars and then at build time to fetch them back? I&#39;m looking at an example, or do you suggest a different approach?","body":"I&#39;m having a look how to actually do this, I&#39;m checking the maven deploy plugin this way could deploy all my target jars and then at build time to fetch them back? I&#39;m looking at an example, or do you suggest a different approach?"},{"owner":{"account_id":6275737,"reputation":340,"user_id":4878465,"display_name":"Fana Sithole"},"score":1,"creation_date":1565156153,"post_id":57366462,"comment_id":101258207,"body_markdown":"That’s correct. You can run your repository as a Docker container as well if you like. When you go the Docker route, you will have to make sure both your Docker containers or on the same network. Last I checked you could use the link flag when you run your web Docker container","body":"That’s correct. You can run your repository as a Docker container as well if you like. When you go the Docker route, you will have to make sure both your Docker containers or on the same network. Last I checked you could use the link flag when you run your web Docker container"},{"owner":{"account_id":6178319,"reputation":141,"user_id":4814583,"accept_rate":57,"display_name":"Ricki"},"score":0,"creation_date":1565175175,"post_id":57366462,"comment_id":101267260,"body_markdown":"could i add my 2 Jars just before build on the docker file?","body":"could i add my 2 Jars just before build on the docker file?"},{"owner":{"account_id":6178319,"reputation":141,"user_id":4814583,"accept_rate":57,"display_name":"Ricki"},"score":0,"creation_date":1565176652,"post_id":57366462,"comment_id":101268100,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/197606/discussion-between-ricki-and-fana-sithole).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/197606/discussion-between-ricki-and-fana-sithole\">continue this discussion in chat</a>."},{"owner":{"account_id":7349006,"reputation":609,"user_id":5595861,"display_name":"ali Falahati"},"score":1,"creation_date":1603175381,"post_id":57366462,"comment_id":113945099,"body_markdown":"I dont understand very well. how we can dockerize a springboot application when we have parent pom.xml?","body":"I dont understand very well. how we can dockerize a springboot application when we have parent pom.xml?"},{"owner":{"account_id":2219863,"reputation":191,"user_id":1959534,"accept_rate":95,"display_name":"David S"},"score":0,"creation_date":1644349459,"post_id":57366462,"comment_id":125582360,"body_markdown":"Put -1 because it doesn&#39;t address the root problem, correct solution should be to build the artifacts inside the docker instance. Not to do external work.","body":"Put -1 because it doesn&#39;t address the root problem, correct solution should be to build the artifacts inside the docker instance. Not to do external work."}],"tags":[],"owner":{"account_id":6275737,"reputation":340,"user_id":4878465,"display_name":"Fana Sithole"},"comment_count":13,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1565046335,"creation_date":1565041616,"answer_id":57366462,"question_id":57366246,"body_markdown":"Maven is a tool that enables a declarative way of managing your project&#39;s dependencies. It does that by standardising the way jar and pom files (artifacts) are shared by projects and uses maven coordinates to declare a project dependency (groupId, artifactId and version) which are then looked up in a large public maven repository of jar and pom files called Maven Central.\r\n\r\nIn order to have your jar/pom files (like your core for example) managed as a maven artifact, you need to deploy your artifact to either the Maven Central (public repository accessible by anyone) or a private repository some where in your private network (or even on the internet, and maybe with authentication). In the case of a private repository, you need to include the you private repository so that your maven execution not only looks for artifacts in Maven Central, but also in your private repository. You can achieve this by adding the following to your `settings.xml` file:\r\n\r\n```xml\r\n&lt;!-- Authentication here --&gt;\r\n&lt;servers&gt;\r\n  &lt;server&gt;\r\n      &lt;id&gt;nexus&lt;/id&gt;\r\n      &lt;username&gt;some_username&lt;/username&gt;\r\n      &lt;password&gt;some_passowrd&lt;/password&gt;\r\n    &lt;/server&gt;\r\n&lt;/servers&gt;\r\n...\r\n &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;nexus&lt;/id&gt;\r\n      &lt;!--Override the repository (and pluginRepository) &quot;central&quot; from the\r\n   Maven Super POM --&gt;\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;nexus-release&lt;/id&gt;\r\n          &lt;name&gt;nexus-release&lt;/name&gt;\r\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;nexus-thirdparty&lt;/id&gt;\r\n          &lt;name&gt;nexus-thirdparty&lt;/name&gt;\r\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/thirdparty&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n      &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n          &lt;id&gt;nexus-plugin-release&lt;/id&gt;\r\n          &lt;name&gt;nexus-plugin-release&lt;/name&gt;\r\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/releases/&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n        &lt;pluginRepository&gt;\r\n          &lt;id&gt;nexus-plugin-third-party&lt;/id&gt;\r\n          &lt;name&gt;nexus-plugin-third-party&lt;/name&gt;\r\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/thirdparty/&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n      &lt;/pluginRepositories&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n...\r\n```\r\n\r\nI noticed your child `pom.xml` file references a custom parent module. You need to make sure that your parent module is in a maven repository (Nexus/Artifactory) and that you supply a `settings.xml` file with the repository settings for the Docker container to be able to pull the parent pom.","title":"Non-resolvable parent POM on Docker Build","body":"<p>Maven is a tool that enables a declarative way of managing your project's dependencies. It does that by standardising the way jar and pom files (artifacts) are shared by projects and uses maven coordinates to declare a project dependency (groupId, artifactId and version) which are then looked up in a large public maven repository of jar and pom files called Maven Central.</p>\n\n<p>In order to have your jar/pom files (like your core for example) managed as a maven artifact, you need to deploy your artifact to either the Maven Central (public repository accessible by anyone) or a private repository some where in your private network (or even on the internet, and maybe with authentication). In the case of a private repository, you need to include the you private repository so that your maven execution not only looks for artifacts in Maven Central, but also in your private repository. You can achieve this by adding the following to your <code>settings.xml</code> file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Authentication here --&gt;\n&lt;servers&gt;\n  &lt;server&gt;\n      &lt;id&gt;nexus&lt;/id&gt;\n      &lt;username&gt;some_username&lt;/username&gt;\n      &lt;password&gt;some_passowrd&lt;/password&gt;\n    &lt;/server&gt;\n&lt;/servers&gt;\n...\n &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;nexus&lt;/id&gt;\n      &lt;!--Override the repository (and pluginRepository) \"central\" from the\n   Maven Super POM --&gt;\n      &lt;repositories&gt;\n        &lt;repository&gt;\n          &lt;id&gt;nexus-release&lt;/id&gt;\n          &lt;name&gt;nexus-release&lt;/name&gt;\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/releases&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n          &lt;id&gt;nexus-thirdparty&lt;/id&gt;\n          &lt;name&gt;nexus-thirdparty&lt;/name&gt;\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/thirdparty&lt;/url&gt;\n        &lt;/repository&gt;\n      &lt;/repositories&gt;\n      &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n          &lt;id&gt;nexus-plugin-release&lt;/id&gt;\n          &lt;name&gt;nexus-plugin-release&lt;/name&gt;\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/releases/&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n          &lt;id&gt;nexus-plugin-third-party&lt;/id&gt;\n          &lt;name&gt;nexus-plugin-third-party&lt;/name&gt;\n          &lt;url&gt;http://hostname_or_ip_address/content/repositories/thirdparty/&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n      &lt;/pluginRepositories&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n...\n</code></pre>\n\n<p>I noticed your child <code>pom.xml</code> file references a custom parent module. You need to make sure that your parent module is in a maven repository (Nexus/Artifactory) and that you supply a <code>settings.xml</code> file with the repository settings for the Docker container to be able to pull the parent pom.</p>\n"},{"tags":[],"owner":{"account_id":60136,"reputation":6403,"user_id":179744,"accept_rate":88,"display_name":"Robocide"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688455930,"creation_date":1688455930,"answer_id":76610285,"question_id":57366246,"body_markdown":"In my case i was getting this due to the fact that apparently the Dockerfile instructions as copy can not see the parent folders !\r\n\r\nmeaning \r\nif you have a structure : \r\n\r\n    ParentProject\r\n    | \r\n    --&gt; Child Module A \r\n    --&gt; pom.xml\r\n    --&gt; DockerFile\r\n    | \r\n    --&gt; Child Module B  \r\n    --&gt; pom.xml\r\n    --&gt; DockerFile\r\n    |\r\n    -&gt; pom.xml\r\n\r\nthe Dockerfiles inside the modules can&#39;t perform actions like : \r\n\r\n    COPY ../pom.xml /\r\n\r\nbecause it can&#39;t access localSystem &quot;..&quot; !! the solution was to move the Dockerfiles to the parent folder like this : \r\n\r\n    ParentProject\r\n    | \r\n    --&gt; Child Module A \r\n    --&gt; pom.xml\r\n    | \r\n    --&gt; Child Module B  \r\n    --&gt; pom.xml\r\n    |\r\n    --&gt; DockerFileA\r\n    --&gt; DockerFileB\r\n    -&gt; pom.xml\r\n\r\nand then i was just doing something like this : \r\n\r\n    WORKDIR /app\r\n    \r\n    COPY ./pom.xml /app\r\n    \r\n    COPY ./ChildA/pom.xml /app/child-project/\r\n\r\nIt took me tons of times to figure this out, i needed to create a container just with COPY instructions without running maven , and then i drilled into the container files and found that the pom parent was not copied and actually somehow the docker copied the child pom as the parent pom for this instruction : \r\n\r\n    COPY ../pom.xml /\r\n\r\nso you should know that when building docker , you can&#39;t copy files from parent folders in your localMachine since it does not have access to it. \r\nand it will execute the same command on the current folder, which makes it really hard to detect since no error is thrown upon it scenario.\r\n\r\n","title":"Non-resolvable parent POM on Docker Build","body":"<p>In my case i was getting this due to the fact that apparently the Dockerfile instructions as copy can not see the parent folders !</p>\n<p>meaning\nif you have a structure :</p>\n<pre><code>ParentProject\n| \n--&gt; Child Module A \n--&gt; pom.xml\n--&gt; DockerFile\n| \n--&gt; Child Module B  \n--&gt; pom.xml\n--&gt; DockerFile\n|\n-&gt; pom.xml\n</code></pre>\n<p>the Dockerfiles inside the modules can't perform actions like :</p>\n<pre><code>COPY ../pom.xml /\n</code></pre>\n<p>because it can't access localSystem &quot;..&quot; !! the solution was to move the Dockerfiles to the parent folder like this :</p>\n<pre><code>ParentProject\n| \n--&gt; Child Module A \n--&gt; pom.xml\n| \n--&gt; Child Module B  \n--&gt; pom.xml\n|\n--&gt; DockerFileA\n--&gt; DockerFileB\n-&gt; pom.xml\n</code></pre>\n<p>and then i was just doing something like this :</p>\n<pre><code>WORKDIR /app\n\nCOPY ./pom.xml /app\n\nCOPY ./ChildA/pom.xml /app/child-project/\n</code></pre>\n<p>It took me tons of times to figure this out, i needed to create a container just with COPY instructions without running maven , and then i drilled into the container files and found that the pom parent was not copied and actually somehow the docker copied the child pom as the parent pom for this instruction :</p>\n<pre><code>COPY ../pom.xml /\n</code></pre>\n<p>so you should know that when building docker , you can't copy files from parent folders in your localMachine since it does not have access to it.\nand it will execute the same command on the current folder, which makes it really hard to detect since no error is thrown upon it scenario.</p>\n"}],"owner":{"account_id":6178319,"reputation":141,"user_id":4814583,"accept_rate":57,"display_name":"Ricki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5625,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":57366462,"answer_count":2,"score":5,"last_activity_date":1688455930,"creation_date":1565040144,"question_id":57366246,"body_markdown":"I’m trying to build a Docker image from my DockerFile but  keep getting an error like it can&#39;t find the parent `pom.xml` to perform a maven command in the docker file and build the project.\r\nIve been looking around and you see what people do is the add to the child `pom.xml` a reference to the parent pom.xml y tried adding a `relativePath&gt;.. /pom.xml/relativePath&gt;` to the child but still won&#39;t work.\r\n##Maven-multimodule project\r\n\r\n\r\n[![project structure[1]][1]\r\n\r\n\r\n\r\n##DockerFile\r\n\r\n    FROM alpine/git as clone\r\n    WORKDIR /app\r\n    RUN git clone https://github.com/RicardoVargasLeslie/manager.git\r\n    \r\n    FROM openjdk:8-jdk-alpine as build\r\n    WORKDIR /workspace/app\r\n    \r\n    COPY mvnw .\r\n    COPY .mvn .mvn\r\n    COPY pom.xml .\r\n    COPY src src\r\n    \r\n    RUN ./mvnw install -DskipTests\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/Web-0.0.1-SNAPSHOT.jar&quot;]\r\n\r\n##Child-pom.xml(Web)\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;com.imricki.manager&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;artifactId&gt;Web&lt;/artifactId&gt;\r\n    \t&lt;name&gt;Web&lt;/name&gt;\r\n    \t&lt;description&gt;Web Module&lt;/description&gt;\r\n\r\n##Parent-pom.xml(Core)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.imricki.manager&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Core&lt;/name&gt;\r\n    \t&lt;description&gt;Core Module&lt;/description&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n###Docker comand to build image\r\n\r\n    docker build -t rest-api .\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/koK4I.png\r\n\r\n\r\n\r\n##Comand-line Trace\r\n\r\n    $ docker build -t rest-api .\r\n    Sending build context to Docker daemon  42.92MB\r\n    Step 1/11 : FROM alpine/git as clone\r\n     ---&gt; a1d22e4b51ad\r\n    Step 2/11 : WORKDIR /app\r\n     ---&gt; Using cache\r\n     ---&gt; e53f5b4941b5\r\n    Step 3/11 : RUN git clone https://github.com/RicardoVargasLeslie/manager.git\r\n     ---&gt; Using cache\r\n     ---&gt; 490b2afea22c\r\n    Step 4/11 : FROM openjdk:8-jdk-alpine as build\r\n     ---&gt; a3562aa0b991\r\n    Step 5/11 : WORKDIR /workspace/app\r\n     ---&gt; Using cache\r\n     ---&gt; 0b7c106319e9\r\n    Step 6/11 : COPY mvnw .\r\n     ---&gt; Using cache\r\n     ---&gt; 2c7ab0b79d25\r\n    Step 7/11 : COPY .mvn .mvn\r\n     ---&gt; Using cache\r\n     ---&gt; eb9ec36b737a\r\n    Step 8/11 : COPY pom.xml .\r\n     ---&gt; Using cache\r\n     ---&gt; 2296a5fbd6ae\r\n    Step 9/11 : COPY src src\r\n     ---&gt; Using cache\r\n     ---&gt; 022a609f4376\r\n    Step 10/11 : RUN ./mvnw install -DskipTests\r\n     ---&gt; Running in 897cff2e3c3b\r\n    [INFO] Scanning for projects...\r\n    [ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n    [FATAL] Non-resolvable parent POM for com.imricki.manager:Web:[unknown-version]: Could not find artifact com.imricki.manager:core:pom:0.0.1-SNAPSHOT and &#39;parent.relativePath&#39; points at wrong local POM @ line 5, column 10\r\n     @\r\n    [ERROR] The build could not read 1 project -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR]   The project com.imricki.manager:Web:[unknown-version] (/workspace/app/pom.xml) has 1 error\r\n    [ERROR]     Non-resolvable parent POM for com.imricki.manager:Web:[unknown-version]: Could not find artifact com.imricki.manager:core:pom:0.0.1-SNAPSHOT and &#39;parent.relativePath&#39; points at wrong local POM @ line 5, column 10 -&gt; [Help 2]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n    [ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n    The command &#39;/bin/sh -c ./mvnw install -DskipTests&#39; returned a non-zero code: 1\r\n\r\n\r\n\r\nI’m  not sure what wron or how to make the build work,thanks for any help.","title":"Non-resolvable parent POM on Docker Build","body":"<p>I’m trying to build a Docker image from my DockerFile but  keep getting an error like it can't find the parent <code>pom.xml</code> to perform a maven command in the docker file and build the project.\nIve been looking around and you see what people do is the add to the child <code>pom.xml</code> a reference to the parent pom.xml y tried adding a <code>relativePath&gt;.. /pom.xml/relativePath&gt;</code> to the child but still won't work.</p>\n\n<h2>Maven-multimodule project</h2>\n\n<p>[<img src=\"https://i.stack.imgur.com/koK4I.png\" alt=\"project structure[1]\"></p>\n\n<h2>DockerFile</h2>\n\n<pre><code>FROM alpine/git as clone\nWORKDIR /app\nRUN git clone https://github.com/RicardoVargasLeslie/manager.git\n\nFROM openjdk:8-jdk-alpine as build\nWORKDIR /workspace/app\n\nCOPY mvnw .\nCOPY .mvn .mvn\nCOPY pom.xml .\nCOPY src src\n\nRUN ./mvnw install -DskipTests\n\nENTRYPOINT [\"java\",\"-jar\",\"/Web-0.0.1-SNAPSHOT.jar\"]\n</code></pre>\n\n<h2>Child-pom.xml(Web)</h2>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.imricki.manager&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;Web&lt;/artifactId&gt;\n    &lt;name&gt;Web&lt;/name&gt;\n    &lt;description&gt;Web Module&lt;/description&gt;\n</code></pre>\n\n<h2>Parent-pom.xml(Core)</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.imricki.manager&lt;/groupId&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Core&lt;/name&gt;\n    &lt;description&gt;Core Module&lt;/description&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n\n<h3>Docker comand to build image</h3>\n\n<pre><code>docker build -t rest-api .\n</code></pre>\n\n<h2>Comand-line Trace</h2>\n\n<pre><code>$ docker build -t rest-api .\nSending build context to Docker daemon  42.92MB\nStep 1/11 : FROM alpine/git as clone\n ---&gt; a1d22e4b51ad\nStep 2/11 : WORKDIR /app\n ---&gt; Using cache\n ---&gt; e53f5b4941b5\nStep 3/11 : RUN git clone https://github.com/RicardoVargasLeslie/manager.git\n ---&gt; Using cache\n ---&gt; 490b2afea22c\nStep 4/11 : FROM openjdk:8-jdk-alpine as build\n ---&gt; a3562aa0b991\nStep 5/11 : WORKDIR /workspace/app\n ---&gt; Using cache\n ---&gt; 0b7c106319e9\nStep 6/11 : COPY mvnw .\n ---&gt; Using cache\n ---&gt; 2c7ab0b79d25\nStep 7/11 : COPY .mvn .mvn\n ---&gt; Using cache\n ---&gt; eb9ec36b737a\nStep 8/11 : COPY pom.xml .\n ---&gt; Using cache\n ---&gt; 2296a5fbd6ae\nStep 9/11 : COPY src src\n ---&gt; Using cache\n ---&gt; 022a609f4376\nStep 10/11 : RUN ./mvnw install -DskipTests\n ---&gt; Running in 897cff2e3c3b\n[INFO] Scanning for projects...\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[FATAL] Non-resolvable parent POM for com.imricki.manager:Web:[unknown-version]: Could not find artifact com.imricki.manager:core:pom:0.0.1-SNAPSHOT and 'parent.relativePath' points at wrong local POM @ line 5, column 10\n @\n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]\n[ERROR]   The project com.imricki.manager:Web:[unknown-version] (/workspace/app/pom.xml) has 1 error\n[ERROR]     Non-resolvable parent POM for com.imricki.manager:Web:[unknown-version]: Could not find artifact com.imricki.manager:core:pom:0.0.1-SNAPSHOT and 'parent.relativePath' points at wrong local POM @ line 5, column 10 -&gt; [Help 2]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\nThe command '/bin/sh -c ./mvnw install -DskipTests' returned a non-zero code: 1\n</code></pre>\n\n<p>I’m  not sure what wron or how to make the build work,thanks for any help.</p>\n"},{"tags":["java","postgresql","dspace"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1688455818,"post_id":76610238,"comment_id":135072764,"body_markdown":"Yes, it looks like it should be `item` and not `ıtem`, but what is your actual question? Where does that query come from?","body":"Yes, it looks like it should be <code>item</code> and not <code>ıtem</code>, but what is your actual question? Where does that query come from?"},{"owner":{"account_id":28946551,"reputation":1,"user_id":22172018,"display_name":"hsnbsrn"},"score":0,"creation_date":1688456074,"post_id":76610238,"comment_id":135072804,"body_markdown":"When I visit the URL &quot;http://localhost:8080/xmlui/submissions,&quot; I receive the following error message: &quot;Invalid path: &#39;ıtem.metadata&#39; [SELECT item FROM org.dspace.content.Item as item left join ıtem.metadata dc_date_accessioned WITH dc_date_accessioned.metadataField.id = :dc_date_accessioned WHERE item.inArchive = :in_archive AND item.submitter =:submitter ORDER BY STR(dc_date_accessioned.value) desc].&quot;\n\nI&#39;m not sure which file this query is coming from, and I&#39;m looking for assistance on resolving this issue","body":"When I visit the URL &quot;<a href=\"http://localhost:8080/xmlui/submissions\" rel=\"nofollow noreferrer\">localhost:8080/xmlui/submissions</a>,&quot; I receive the following error message: &quot;Invalid path: &#39;ıtem.metadata&#39; [SELECT item FROM org.dspace.content.Item as item left join ıtem.metadata dc_date_accessioned WITH dc_date_accessioned.metadataField.id = :dc_date_accessioned WHERE item.inArchive = :in_archive AND item.submitter =:submitter ORDER BY STR(dc_date_accessioned.value) desc].&quot;  I&#39;m not sure which file this query is coming from, and I&#39;m looking for assistance on resolving this issue"}],"owner":{"account_id":28946551,"reputation":1,"user_id":22172018,"display_name":"hsnbsrn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688455559,"creation_date":1688455559,"question_id":76610238,"body_markdown":"I&#39;m encountering an &quot;Invalid path&quot; error while executing a query in DSpace. The error message specifically points to the path &#39;ıtem.metadata&#39;. However, I believe the correct path should be &#39;item.metadata&#39;.\r\n\r\n[enter image description here](https://i.stack.imgur.com/sANTF.png)\r\n\r\n\r\nI would appreciate any insights or suggestions on how to resolve this error and execute the query successfully. Thank you!","title":"Invalid path error in DSpace query - &#39;ıtem.metadata&#39;","body":"<p>I'm encountering an &quot;Invalid path&quot; error while executing a query in DSpace. The error message specifically points to the path 'ıtem.metadata'. However, I believe the correct path should be 'item.metadata'.</p>\n<p><a href=\"https://i.stack.imgur.com/sANTF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I would appreciate any insights or suggestions on how to resolve this error and execute the query successfully. Thank you!</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":26268383,"reputation":1,"user_id":19938611,"display_name":"Saritha "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688455313,"creation_date":1688454633,"question_id":76610121,"body_markdown":"I have a page where I will be getting multiple status list i.e. Completed , pending and In progress.\r\nFor each status I should check whether the Bypass button is enabled or not?\r\n\r\n\r\nhere is my code \r\n\r\n```java\r\nMap&lt;String, Long&gt; projectTasks = workflowApi.getProjectTasks(projectDetails.getId());\r\nList&lt;TaskStatus&gt; taskList = Arrays.asList(TaskStatus.PENDING, TaskStatus.IN_PROGRESS,\r\nTaskStatus.COMPLETED, TaskStatus.REJECTED, TaskStatus.SUSPENDED);\r\ntaskList.get(0).getStatus();\r\n\r\nSystem.out.println(&quot;The status lists are:&quot;+ taskList);\r\n```\r\n\r\nI am able to print the Status list but not able to assert the Button display status.","title":"How do we check the Button is enabled for the List of the Task status using Selenium Java","body":"<p>I have a page where I will be getting multiple status list i.e. Completed , pending and In progress.\nFor each status I should check whether the Bypass button is enabled or not?</p>\n<p>here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Long&gt; projectTasks = workflowApi.getProjectTasks(projectDetails.getId());\nList&lt;TaskStatus&gt; taskList = Arrays.asList(TaskStatus.PENDING, TaskStatus.IN_PROGRESS,\nTaskStatus.COMPLETED, TaskStatus.REJECTED, TaskStatus.SUSPENDED);\ntaskList.get(0).getStatus();\n\nSystem.out.println(&quot;The status lists are:&quot;+ taskList);\n</code></pre>\n<p>I am able to print the Status list but not able to assert the Button display status.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1366105,"reputation":4796,"user_id":1302488,"accept_rate":25,"display_name":"Yogesh Prajapati"},"score":1,"creation_date":1597412445,"post_id":63413862,"comment_id":112132141,"body_markdown":"Can you please provide complete request? curl maybe?","body":"Can you please provide complete request? curl maybe?"}],"answers":[{"comments":[{"owner":{"account_id":16248673,"reputation":21,"user_id":11733147,"display_name":"qian he"},"score":0,"creation_date":1597417609,"post_id":63413902,"comment_id":112134793,"body_markdown":"but i think it&#39;s not easy to parse complex mulitpart","body":"but i think it&#39;s not easy to parse complex mulitpart"}],"tags":[],"owner":{"account_id":19288918,"reputation":347,"user_id":14099362,"display_name":"JeroSquartini"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597415323,"creation_date":1597412406,"answer_id":63413902,"question_id":63413862,"body_markdown":"You can store and separate those values in an Array of Strings: \r\n\r\n    String[] array = &quot;allyourinputtext&quot;.split(&quot;;&quot;);\r\n\r\nThis will separate the values after a semicolon. Then, you can access each value by doing this: \r\n\r\n    String content = array[0];\r\n    String name = array[1];\r\n    ...\r\n\r\nThis doesn&#39;t solve the WHOLE problem(since not all values are separated by semicolons), but you can play with the arguments you pass to split() to separate your values. \r\n\r\nNote: If you want to parse a String to int (the length value for example) you can use: \r\n\r\n    int length = Integer.parseInt(array[index];","title":"parse multipart/form-data response in spring","body":"<p>You can store and separate those values in an Array of Strings:</p>\n<pre><code>String[] array = &quot;allyourinputtext&quot;.split(&quot;;&quot;);\n</code></pre>\n<p>This will separate the values after a semicolon. Then, you can access each value by doing this:</p>\n<pre><code>String content = array[0];\nString name = array[1];\n...\n</code></pre>\n<p>This doesn't solve the WHOLE problem(since not all values are separated by semicolons), but you can play with the arguments you pass to split() to separate your values.</p>\n<p>Note: If you want to parse a String to int (the length value for example) you can use:</p>\n<pre><code>int length = Integer.parseInt(array[index];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613993353,"creation_date":1613993353,"answer_id":66314852,"question_id":63413862,"body_markdown":"Since you&#39;re using Spring you already have the Apache fileupload and http classes available. `MultipartStream` is designed to be attached to an incoming byte stream and can provide progress updates as data arrives. \r\n\r\nThis simple example illustrates a non-streaming scenario where you&#39;ve already buffered the whole incoming body.\r\n\r\n```\r\nbyte[] yourResponse = ... // the whole response as a byte array\r\nString yourContentType = ... // the Content-Type header string\r\n\r\nContentType contentType = ContentType.parse(yourContentType);\r\n\r\nMultipartStream multipartStream = new MultipartStream(\r\n  new ByteArrayInputStream(yourResponse),\r\n  contentType.getParameter(&quot;boundary&quot;).getBytes(), \r\n  1024,    // internal buffer size (you choose)\r\n  null);   // progress indicator (none)\r\n\r\nboolean nextPart = multipartStream.skipPreamble();\r\nwhile (nextPart) {\r\n\r\n  ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n  String partHeaders = multipartStream.readHeaders();\r\n  multipartStream.readBodyData(output);\r\n\r\n  // do something with the multi-line part headers\r\n  // do something with the part &#39;output&#39; byte array\r\n\r\n  nextPart = multipartStream.readBoundary();\r\n}\r\n```\r\nAdd exception handling as required.","title":"parse multipart/form-data response in spring","body":"<p>Since you're using Spring you already have the Apache fileupload and http classes available. <code>MultipartStream</code> is designed to be attached to an incoming byte stream and can provide progress updates as data arrives.</p>\n<p>This simple example illustrates a non-streaming scenario where you've already buffered the whole incoming body.</p>\n<pre><code>byte[] yourResponse = ... // the whole response as a byte array\nString yourContentType = ... // the Content-Type header string\n\nContentType contentType = ContentType.parse(yourContentType);\n\nMultipartStream multipartStream = new MultipartStream(\n  new ByteArrayInputStream(yourResponse),\n  contentType.getParameter(&quot;boundary&quot;).getBytes(), \n  1024,    // internal buffer size (you choose)\n  null);   // progress indicator (none)\n\nboolean nextPart = multipartStream.skipPreamble();\nwhile (nextPart) {\n\n  ByteArrayOutputStream output = new ByteArrayOutputStream();\n  String partHeaders = multipartStream.readHeaders();\n  multipartStream.readBodyData(output);\n\n  // do something with the multi-line part headers\n  // do something with the part 'output' byte array\n\n  nextPart = multipartStream.readBoundary();\n}\n</code></pre>\n<p>Add exception handling as required.</p>\n"},{"tags":[],"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688455080,"creation_date":1688455080,"answer_id":76610173,"question_id":63413862,"body_markdown":"My situation: I knew the multipart that I&#39;m receiving is a multivaluemap like this:\r\n\r\n&gt; MultiValueMap&lt;String, Resource&gt;\r\n\r\nFirst of all, you need to figure out the boundary.\r\n\r\n        String contentTypeHeader = response.getHeaders().getFirst(HttpHeaders.CONTENT_TYPE);\r\n        String boundary = null;\r\n\r\n        if (contentTypeHeader != null) {\r\n            MediaType mediaType = MediaType.parseMediaType(contentTypeHeader);\r\n            boundary = mediaType.getParameter(&quot;boundary&quot;);\r\n        }\r\n\r\nThen, make the multipart stream.\r\n\r\n    MultipartStream multipartStream = new MultipartStream(\r\n                new ByteArrayInputStream(body),\r\n                boundary.getBytes(),\r\n                1024,\r\n                null);\r\n\r\nMake a multivaluemap from this multiPartStream\r\n\r\n    boolean nextPart = multipartStream.skipPreamble();\r\n        while (nextPart) {\r\n\r\n            ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n            // Read the headers of the current part.\r\n            // After .readHeaders(), the stream&#39;s position will be at the start of the part&#39;s body, ready for you to read the part&#39;s actual content.\r\n            multipartStream.readHeaders();\r\n            multipartStream.readBodyData(output);\r\n\r\n            ByteArrayResource resource = new ByteArrayResource(output.toByteArray());\r\n            multiValueMap.add(&quot;file&quot;, resource);\r\n            nextPart = multipartStream.readBoundary();\r\n        }\r\n        return multiValueMap;\r\n\r\n","title":"parse multipart/form-data response in spring","body":"<p>My situation: I knew the multipart that I'm receiving is a multivaluemap like this:</p>\n<blockquote>\n<p>MultiValueMap&lt;String, Resource&gt;</p>\n</blockquote>\n<p>First of all, you need to figure out the boundary.</p>\n<pre><code>    String contentTypeHeader = response.getHeaders().getFirst(HttpHeaders.CONTENT_TYPE);\n    String boundary = null;\n\n    if (contentTypeHeader != null) {\n        MediaType mediaType = MediaType.parseMediaType(contentTypeHeader);\n        boundary = mediaType.getParameter(&quot;boundary&quot;);\n    }\n</code></pre>\n<p>Then, make the multipart stream.</p>\n<pre><code>MultipartStream multipartStream = new MultipartStream(\n            new ByteArrayInputStream(body),\n            boundary.getBytes(),\n            1024,\n            null);\n</code></pre>\n<p>Make a multivaluemap from this multiPartStream</p>\n<pre><code>boolean nextPart = multipartStream.skipPreamble();\n    while (nextPart) {\n\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\n        // Read the headers of the current part.\n        // After .readHeaders(), the stream's position will be at the start of the part's body, ready for you to read the part's actual content.\n        multipartStream.readHeaders();\n        multipartStream.readBodyData(output);\n\n        ByteArrayResource resource = new ByteArrayResource(output.toByteArray());\n        multiValueMap.add(&quot;file&quot;, resource);\n        nextPart = multipartStream.readBoundary();\n    }\n    return multiValueMap;\n</code></pre>\n"}],"owner":{"account_id":16248673,"reputation":21,"user_id":11733147,"display_name":"qian he"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2089,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1688455080,"creation_date":1597412240,"question_id":63413862,"body_markdown":"I need to receive multipart/form-data response \r\nbut i have no idea on how to parse this kind of response\r\n\r\nFor example\r\n```\r\n--mf8sckatxs4PpMnOLF6ltSv26ZJc5qxy9qq\r\nContent-Disposition: form-data; name=&quot;arguments&quot;\r\nContent-Type: text/plain;charset=UTF-8\r\nContent-Length: 311\r\n[{&quot;code&quot;:200,&quot;message&quot;:&quot;123&quot;}]\r\n\r\nContent-Disposition: form-data; name=&quot;_0&quot;; filename=&quot;0_BODY_feature&quot;\r\nContent-Type: application/octet-stream\r\nContent-Length: 407 \r\nbinarydata\r\n```","title":"parse multipart/form-data response in spring","body":"<p>I need to receive multipart/form-data response\nbut i have no idea on how to parse this kind of response</p>\n<p>For example</p>\n<pre><code>--mf8sckatxs4PpMnOLF6ltSv26ZJc5qxy9qq\nContent-Disposition: form-data; name=&quot;arguments&quot;\nContent-Type: text/plain;charset=UTF-8\nContent-Length: 311\n[{&quot;code&quot;:200,&quot;message&quot;:&quot;123&quot;}]\n\nContent-Disposition: form-data; name=&quot;_0&quot;; filename=&quot;0_BODY_feature&quot;\nContent-Type: application/octet-stream\nContent-Length: 407 \nbinarydata\n</code></pre>\n"},{"tags":["python","java","jython"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":0,"creation_date":1688455154,"post_id":76610115,"comment_id":135072645,"body_markdown":"You need to install the requests module into the same environment as your python binary.","body":"You need to install the requests module into the same environment as your python binary."},{"owner":{"account_id":21031256,"reputation":13,"user_id":15455589,"display_name":"Milind Yadav"},"score":0,"creation_date":1688458821,"post_id":76610115,"comment_id":135073340,"body_markdown":"yes i checked that its already there","body":"yes i checked that its already there"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688471161,"post_id":76610115,"comment_id":135075949,"body_markdown":"@ewokx there is no Python binary in the jython implementation","body":"@ewokx there is no Python binary in the jython implementation"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688471186,"post_id":76610115,"comment_id":135075951,"body_markdown":"@MilindYadav &quot;yes i checked that its already there&quot; there where exactly?","body":"@MilindYadav &quot;yes i checked that its already there&quot; there where exactly?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688471240,"post_id":76610115,"comment_id":135075958,"body_markdown":"Does this answer your question? [Importing python modules in jython](https://stackoverflow.com/questions/3256135/importing-python-modules-in-jython)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3256135/importing-python-modules-in-jython\">Importing python modules in jython</a>"}],"owner":{"account_id":21031256,"reputation":13,"user_id":15455589,"display_name":"Milind Yadav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688454566,"creation_date":1688454566,"question_id":76610115,"body_markdown":"This the java code i am using \r\n```\r\n\tpublic void get_Inv_hash_ids(String token ,String url ,String url1) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tString pythonPath = &quot;/Users/milind.yadav/anaconda3/bin/python&quot;; // Replace with the actual directory path\r\n\r\n\t\r\n\t\t    Properties properties = new Properties();\r\n\t        properties.setProperty(&quot;python.path&quot;, &quot;/Users/milind.yadav/anaconda3/bin/python&quot;); // Replace with the actual directory path\r\n\r\n\t        // Initialize PythonInterpreter with the specified properties\r\n//\t        PythonInterpreter.initialize(System.getProperties(), properties, new String[] { pythonPath });\t\t\t\r\n\t\t\t \r\n\t\tPythonInterpreter interpreter = new PythonInterpreter();\r\n\r\n        // Execute the Python script\r\n        interpreter.execfile(&quot;/Users/milind.yadav/Downloads/batch_id_script.py&quot;);\r\n        \r\n        // Get a reference to the Python function\r\n        interpreter.eval(&quot;get invoice ids from py script&quot;);\r\n        PyObject invoice_ids = interpreter.get(&quot;batch_id_fetcher&quot;);\r\n        \r\n        // Pass parameters to the Python function and call it\r\n        PyObject result = invoice_ids.__call__(new PyString(token), new PyString(url),new PyString(url1));        \r\n        // Convert the result to a Java integer\r\n        String concatenated_invoice_ids = (String) result.__tojava__(String.class);\r\n        \r\n        // Print the sum\r\n        System.out.println(&quot;Sum: &quot; + concatenated_invoice_ids);\r\n        \r\n        // Clean up the interpreter\r\n        interpreter.close();\r\n       \r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Exception occured ...&quot;+e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n        \r\n    }\r\n```\r\nAnd Here is the python script i am using\r\n```\r\nimport requests\r\n    import json\r\n    from jsonpath_ng import jsonpath, parse\r\n    def batch_id_fetcher(token,batchurl,url):\r\n        invoice_object_ids=[]\r\n        header = {&quot;Authorization&quot; : &quot;Token &quot;+token}\r\n        batch_response=requests.get(batchurl, headers=header)\r\n        batch_data=json.loads(batch_response.text)\r\n        invoice_object_ids= batch_data[&quot;results&quot;][0][&quot;exported_invoice_ids&quot;]\r\n        inv_url = url+&quot;invoices/?object_id=&quot;\r\n        header = {&quot;Authorization&quot; : &quot;Token &quot;+token}\r\n        invoice_hash_list=[]\r\n        invoice_hashes=&quot;&quot;\r\n        \r\n        for i in invoice_object_ids:\r\n            n_url=inv_url+str(i)\r\n            response = requests.get(n_url, headers=header)\r\n            json_data = json.loads(response.text)\r\n            invoice_hash_list.append(json_data[&quot;results&quot;][0][&quot;id&quot;])\r\n        invoice_hashes = &quot;,&quot;.join(str(i) for i in invoice_hash_list)\r\n        return invoice_hashes\r\n```\r\n\r\nThis is the error I am getting\r\n\r\nException occured ...ImportError: No module named requests\r\n\r\nI have included all the required libraries in java as well as added all the maven dependencies\r\n Am I missing something thing in this\r\n","title":"I am using jython library in java to execute a python script but it is not fetch python libraries","body":"<p>This the java code i am using</p>\n<pre><code>    public void get_Inv_hash_ids(String token ,String url ,String url1) {\n        \n        try {\n            String pythonPath = &quot;/Users/milind.yadav/anaconda3/bin/python&quot;; // Replace with the actual directory path\n\n    \n            Properties properties = new Properties();\n            properties.setProperty(&quot;python.path&quot;, &quot;/Users/milind.yadav/anaconda3/bin/python&quot;); // Replace with the actual directory path\n\n            // Initialize PythonInterpreter with the specified properties\n//          PythonInterpreter.initialize(System.getProperties(), properties, new String[] { pythonPath });          \n             \n        PythonInterpreter interpreter = new PythonInterpreter();\n\n        // Execute the Python script\n        interpreter.execfile(&quot;/Users/milind.yadav/Downloads/batch_id_script.py&quot;);\n        \n        // Get a reference to the Python function\n        interpreter.eval(&quot;get invoice ids from py script&quot;);\n        PyObject invoice_ids = interpreter.get(&quot;batch_id_fetcher&quot;);\n        \n        // Pass parameters to the Python function and call it\n        PyObject result = invoice_ids.__call__(new PyString(token), new PyString(url),new PyString(url1));        \n        // Convert the result to a Java integer\n        String concatenated_invoice_ids = (String) result.__tojava__(String.class);\n        \n        // Print the sum\n        System.out.println(&quot;Sum: &quot; + concatenated_invoice_ids);\n        \n        // Clean up the interpreter\n        interpreter.close();\n       \n        }\n        catch (Exception e) {\n            System.out.println(&quot;Exception occured ...&quot;+e.getMessage());\n            e.printStackTrace();\n            \n        }\n        \n        \n    }\n</code></pre>\n<p>And Here is the python script i am using</p>\n<pre><code>import requests\n    import json\n    from jsonpath_ng import jsonpath, parse\n    def batch_id_fetcher(token,batchurl,url):\n        invoice_object_ids=[]\n        header = {&quot;Authorization&quot; : &quot;Token &quot;+token}\n        batch_response=requests.get(batchurl, headers=header)\n        batch_data=json.loads(batch_response.text)\n        invoice_object_ids= batch_data[&quot;results&quot;][0][&quot;exported_invoice_ids&quot;]\n        inv_url = url+&quot;invoices/?object_id=&quot;\n        header = {&quot;Authorization&quot; : &quot;Token &quot;+token}\n        invoice_hash_list=[]\n        invoice_hashes=&quot;&quot;\n        \n        for i in invoice_object_ids:\n            n_url=inv_url+str(i)\n            response = requests.get(n_url, headers=header)\n            json_data = json.loads(response.text)\n            invoice_hash_list.append(json_data[&quot;results&quot;][0][&quot;id&quot;])\n        invoice_hashes = &quot;,&quot;.join(str(i) for i in invoice_hash_list)\n        return invoice_hashes\n</code></pre>\n<p>This is the error I am getting</p>\n<p>Exception occured ...ImportError: No module named requests</p>\n<p>I have included all the required libraries in java as well as added all the maven dependencies\nAm I missing something thing in this</p>\n"},{"tags":["java","json","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":12953224,"reputation":523,"user_id":9364868,"display_name":"Kedar"},"score":1,"creation_date":1688106780,"post_id":76586452,"comment_id":135031966,"body_markdown":"Please try with this syntax `@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, CONCAT(&#39;$[&#39;, :index, &#39;].revenue&#39;)) &quot;+ &quot; WHERE d.year = :year &quot;)`","body":"Please try with this syntax <code>@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, CONCAT(&#39;$[&#39;, :index, &#39;].revenue&#39;)) &quot;+ &quot; WHERE d.year = :year &quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688453736,"creation_date":1688453736,"answer_id":76610019,"question_id":76586452,"body_markdown":"The solution as commented by Kedar Thakkar worked. Using concat to append my dynamic index was successful and gave me appropriate result.\r\n\r\n    @Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, CONCAT(&#39;$[&#39;, :index, &#39;].revenue&#39;)) &quot;+ &quot; WHERE d.year = :year &quot;)","title":"Spring JPA Query - JSON_REMOVE - Pass query index dynamically","body":"<p>The solution as commented by Kedar Thakkar worked. Using concat to append my dynamic index was successful and gave me appropriate result.</p>\n<pre><code>@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, CONCAT('$[', :index, '].revenue')) &quot;+ &quot; WHERE d.year = :year &quot;)\n</code></pre>\n"}],"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688453736,"creation_date":1688105411,"question_id":76586452,"body_markdown":"I&#39;m using **JSON_REMOVE** method for removing one field from my JSON array column. Below is the query I wrote in JPA - \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, &#39;$[0].revenue&#39;) &quot;\r\n            + &quot; WHERE d.year = :year &quot;)\r\n    void resetRevenue(Integer year);\r\n\r\nThe above query works. But now I want to dynamically pass the index value like - \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, &#39;$[ :index ].revenue&#39;) &quot;\r\n            + &quot; WHERE d.year = :year &quot;)\r\n    void resetRevenue(Integer index, Integer year);\r\n\r\nWhen I try above I get error - ```java.sql.SQLSyntaxErrorException: Invalid JSON path expression. The error is around character position 3.```\r\n\r\nI even tried below query - \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, &#39;$[ ?1 ].revenue&#39;) &quot;\r\n            + &quot; WHERE d.year = ?2 &quot;)\r\n    void resetRevenue(Integer index, Integer year);\r\n\r\nBut got error - ```org.springframework.dao.InvalidDataAccessResourceUsageException: Ordinal parameter not bound : 2```","title":"Spring JPA Query - JSON_REMOVE - Pass query index dynamically","body":"<p>I'm using <strong>JSON_REMOVE</strong> method for removing one field from my JSON array column. Below is the query I wrote in JPA -</p>\n<pre><code>@Modifying\n@Transactional\n@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, '$[0].revenue') &quot;\n        + &quot; WHERE d.year = :year &quot;)\nvoid resetRevenue(Integer year);\n</code></pre>\n<p>The above query works. But now I want to dynamically pass the index value like -</p>\n<pre><code>@Modifying\n@Transactional\n@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, '$[ :index ].revenue') &quot;\n        + &quot; WHERE d.year = :year &quot;)\nvoid resetRevenue(Integer index, Integer year);\n</code></pre>\n<p>When I try above I get error - <code>java.sql.SQLSyntaxErrorException: Invalid JSON path expression. The error is around character position 3.</code></p>\n<p>I even tried below query -</p>\n<pre><code>@Modifying\n@Transactional\n@Query(&quot;UPDATE Data d SET d.month = JSON_REMOVE(d.month, '$[ ?1 ].revenue') &quot;\n        + &quot; WHERE d.year = ?2 &quot;)\nvoid resetRevenue(Integer index, Integer year);\n</code></pre>\n<p>But got error - <code>org.springframework.dao.InvalidDataAccessResourceUsageException: Ordinal parameter not bound : 2</code></p>\n"},{"tags":["java","spring","mongodb","spring-boot","performance"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1688405696,"post_id":76606887,"comment_id":135067130,"body_markdown":"What specifically is crashing? What&#39;s the error message? What is the `index` defined as?","body":"What specifically is crashing? What&#39;s the error message? What is the <code>index</code> defined as?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1688453359,"post_id":76606887,"comment_id":135072314,"body_markdown":"Sorry, I just wanted to have better syntax for it. On my PC I saw all the text in orange. Feel free to revert my edit )\n\nAlso, could you add the stack trace to the question?","body":"Sorry, I just wanted to have better syntax for it. On my PC I saw all the text in orange. Feel free to revert my edit )  Also, could you add the stack trace to the question?"}],"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688453583,"creation_date":1688404167,"question_id":76606887,"body_markdown":"We are using Java, Spring Boot and MongoDB in our application. my code is working properly but for a particular `spaceId` there are 150K record so service is crashing.\r\n\r\nMy requirement is to get count of success and failed record for last 12 month. so for each month it will send `success count` and `failed count`. I am writing below method for it.\r\n```java\r\npublic AggregatedData findGrpoupedData(String pId, String tId, String spaceId, String type) {\r\n    Criteria criteria = criteriaBuild(pId, tId, spaceId, type);\r\n    List&lt;AggregationOperation&gt; aggregationOperation = aggregateOperations(criteria);\r\n    AggregationResults&lt;StatusAndDate&gt; iterator = mongoTemplate.aggregate(Aggregation.newAggregation(aggregationOperation), &quot;consumerEmailReportingData&quot;, StatusAndDate.class);\r\n    List&lt;Document&gt; docs = (List&lt;Document&gt;) iterator.getRawResults().get(&quot;results&quot;);\r\n    AggregatedData aggregatedData = getReports(docs, type);\r\n    setConsumerData(aggregatedData, pId, tId, spaceId);\r\n    return aggregatedData;\r\n}\r\n```\r\nthere is `index` in my database collection. Could you please suggest some better way to modify our code to get my service working even if huge record is there?. can we do some operation at `DB` end?\r\n\r\nbelow are the methods which have been called from my original method.\r\n\r\n```java\r\nprivate Criteria criteriaBuild(String pid, String tId, String spaceId, String type) {\r\n    List&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\r\n    LocalDateTime date = dateParser.getLocalDateTime(type);\r\n    criteriaList.add(Criteria.where(ConsumerNotificationsConstants.CREATED_AT).gte(Date.from(date.atZone(ZoneId.systemDefault()).toInstant())));\r\n    if (StringUtils.isNotBlank(pid) &amp;&amp; StringUtils.isNotBlank(tId)) {\r\n        criteriaList.add(Criteria.where(ConsumerNotificationsConstants.PROGRAM_ID).is(pid));\r\n        criteriaList.add(Criteria.where(ConsumerNotificationsConstants.TENANT).is(tId));\r\n    } else if (StringUtils.isNotBlank(spaceId)) {\r\n        criteriaList.add(Criteria.where(EmailReportingConstants.SITE_ID).is(spaceId));\r\n    }\r\n    Criteria criteria = new Criteria();\r\n    criteria.andOperator(criteriaList);\r\n    return criteria;\r\n}\r\n    \t\r\nprivate List&lt;AggregationOperation&gt; aggregateOperations(Criteria criteria) {\r\n    List&lt;AggregationOperation&gt; aggregationOperation = new ArrayList&lt;&gt;();\r\n    aggregationOperation.add(Aggregation.project(STATUS, createdAt, EmailReportingConstants.SITE_ID,\r\n                    ConsumerNotificationsConstants.PROGRAM_ID,ConsumerNotificationsConstants.TENANT));\r\n    aggregationOperation.add(Aggregation.match(criteria));\r\n    return aggregationOperation;\r\n}\r\n```","title":"Service is crashing if query returns huge record","body":"<p>We are using Java, Spring Boot and MongoDB in our application. my code is working properly but for a particular <code>spaceId</code> there are 150K record so service is crashing.</p>\n<p>My requirement is to get count of success and failed record for last 12 month. so for each month it will send <code>success count</code> and <code>failed count</code>. I am writing below method for it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public AggregatedData findGrpoupedData(String pId, String tId, String spaceId, String type) {\n    Criteria criteria = criteriaBuild(pId, tId, spaceId, type);\n    List&lt;AggregationOperation&gt; aggregationOperation = aggregateOperations(criteria);\n    AggregationResults&lt;StatusAndDate&gt; iterator = mongoTemplate.aggregate(Aggregation.newAggregation(aggregationOperation), &quot;consumerEmailReportingData&quot;, StatusAndDate.class);\n    List&lt;Document&gt; docs = (List&lt;Document&gt;) iterator.getRawResults().get(&quot;results&quot;);\n    AggregatedData aggregatedData = getReports(docs, type);\n    setConsumerData(aggregatedData, pId, tId, spaceId);\n    return aggregatedData;\n}\n</code></pre>\n<p>there is <code>index</code> in my database collection. Could you please suggest some better way to modify our code to get my service working even if huge record is there?. can we do some operation at <code>DB</code> end?</p>\n<p>below are the methods which have been called from my original method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Criteria criteriaBuild(String pid, String tId, String spaceId, String type) {\n    List&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\n    LocalDateTime date = dateParser.getLocalDateTime(type);\n    criteriaList.add(Criteria.where(ConsumerNotificationsConstants.CREATED_AT).gte(Date.from(date.atZone(ZoneId.systemDefault()).toInstant())));\n    if (StringUtils.isNotBlank(pid) &amp;&amp; StringUtils.isNotBlank(tId)) {\n        criteriaList.add(Criteria.where(ConsumerNotificationsConstants.PROGRAM_ID).is(pid));\n        criteriaList.add(Criteria.where(ConsumerNotificationsConstants.TENANT).is(tId));\n    } else if (StringUtils.isNotBlank(spaceId)) {\n        criteriaList.add(Criteria.where(EmailReportingConstants.SITE_ID).is(spaceId));\n    }\n    Criteria criteria = new Criteria();\n    criteria.andOperator(criteriaList);\n    return criteria;\n}\n        \nprivate List&lt;AggregationOperation&gt; aggregateOperations(Criteria criteria) {\n    List&lt;AggregationOperation&gt; aggregationOperation = new ArrayList&lt;&gt;();\n    aggregationOperation.add(Aggregation.project(STATUS, createdAt, EmailReportingConstants.SITE_ID,\n                    ConsumerNotificationsConstants.PROGRAM_ID,ConsumerNotificationsConstants.TENANT));\n    aggregationOperation.add(Aggregation.match(criteria));\n    return aggregationOperation;\n}\n</code></pre>\n"},{"tags":["java","list","arraylist","collections"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1688452598,"post_id":76609915,"comment_id":135072188,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1688452676,"post_id":76609915,"comment_id":135072208,"body_markdown":"Additionally, please format your code with conventional indentation - it&#39;s *really* hard to read like this. Any IDE should be able to automatically format the code for you. When posting a question, ask yourself: &quot;Would I want to look into helping someone with a question written like this, or is it too hard to understand?&quot;","body":"Additionally, please format your code with conventional indentation - it&#39;s <i>really</i> hard to read like this. Any IDE should be able to automatically format the code for you. When posting a question, ask yourself: &quot;Would I want to look into helping someone with a question written like this, or is it too hard to understand?&quot;"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1688452794,"post_id":76609915,"comment_id":135072224,"body_markdown":"Hint: what do you expect `l.addAll(row)` to do? What does the documentation for it suggest? Suppose you `l` were a `List&lt;String&gt;` variable, and `row` were a `String` variable, would you expect to be able to call `l.addAll(row)` in that case, and if so what would you expect it to do?","body":"Hint: what do you expect <code>l.addAll(row)</code> to do? What does the documentation for it suggest? Suppose you <code>l</code> were a <code>List&lt;String&gt;</code> variable, and <code>row</code> were a <code>String</code> variable, would you expect to be able to call <code>l.addAll(row)</code> in that case, and if so what would you expect it to do?"},{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":0,"creation_date":1688452877,"post_id":76609915,"comment_id":135072234,"body_markdown":"I&#39;ve tried to run your code and I get ` No signature of method: java.lang.Integer.get() is applicable for argument types: (java.lang.Integer) values: [0]`. This expression doesn&#39;t make sense to me: `l.get(i-1).get(j-1)`. `l` is a list of integers, you take integer and tries to get something from it... why?","body":"I&#39;ve tried to run your code and I get ` No signature of method: java.lang.Integer.get() is applicable for argument types: (java.lang.Integer) values: [0]<code>. This expression doesn&#39;t make sense to me: </code>l.get(i-1).get(j-1)<code>. </code>l` is a list of integers, you take integer and tries to get something from it... why?"},{"owner":{"account_id":7259207,"reputation":92,"user_id":5536648,"display_name":"A R K"},"score":0,"creation_date":1688453099,"post_id":76609915,"comment_id":135072269,"body_markdown":"addAll() method expect the same type of the source list List&lt;List&lt;Integer&gt;, but you are trying to add List&lt;Integer&gt; using addAll, one way to fix this is use the this code  l.addAll(Collections.singleton(row));","body":"addAll() method expect the same type of the source list List&lt;List&lt;Integer&gt;, but you are trying to add List&lt;Integer&gt; using addAll, one way to fix this is use the this code  l.addAll(Collections.singleton(row));"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688453087,"creation_date":1688453087,"answer_id":76609959,"question_id":76609915,"body_markdown":"The purpose of `addAll()` is to add multiple items to the list. So if you have two lists of the same type and want to copy elements from one to another, you could call `list1.addAll(list2)` instead of having to call `list1.add()` for each element in `list2`. \r\n\r\nIn this case, the outer list contains elements of type `List`. That means that `addAll()` expects a collection of lists as its argument, but you&#39;re only passing a single `List&lt;Integer&gt;`. If your intent is to add that one list to the others in `l`, just use `add()`.","title":"I am stuck at a question and as a beginner in Java it seems overwhelming. Can someone help me understand why exactly my code isn&#39;t working?","body":"<p>The purpose of <code>addAll()</code> is to add multiple items to the list. So if you have two lists of the same type and want to copy elements from one to another, you could call <code>list1.addAll(list2)</code> instead of having to call <code>list1.add()</code> for each element in <code>list2</code>.</p>\n<p>In this case, the outer list contains elements of type <code>List</code>. That means that <code>addAll()</code> expects a collection of lists as its argument, but you're only passing a single <code>List&lt;Integer&gt;</code>. If your intent is to add that one list to the others in <code>l</code>, just use <code>add()</code>.</p>\n"}],"owner":{"account_id":28945985,"reputation":9,"user_id":22171558,"display_name":"Shruti  Tiwari"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1688453300,"answer_count":1,"score":0,"last_activity_date":1688453332,"creation_date":1688452525,"question_id":76609915,"body_markdown":"```\r\nclass Solution {     \r\n\r\n\tpublic List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {  \r\n\r\n\t\tList&lt;List&lt;Integer&gt;&gt; l = new ArrayList&lt;List&lt;Integer&gt;&gt;();        \r\n\t\tArrayList&lt;Integer&gt; row;         \r\n\t\tint v;        \r\n\t\tfor(int i=0;i&lt;numRows;i++)         \r\n\t\t{              \r\n\t\t\trow = new ArrayList&lt;Integer&gt;();             \r\n\t\t\tfor(int j=0;j&lt;=i;j++)              \r\n\t\t\t{                  \r\n\t\t\t\tif(j==0||j==i)                  \r\n\t\t\t\t{                   \r\n\t\t\t\t\trow.add(1);                 \r\n\t\t\t\t\tcontinue;                  \r\n\t\t\t\t}                  \r\n\t\t\t\tv=l.get(i-1).get(j-1)+l.get(i-1).get(j);            \r\n\t\t\t\trow.add(v);              \r\n\t\t\t}              \r\n\t\t\tl.addAll(row);         \r\n\t\t}         \r\n\t\treturn l;     \r\n\t} \r\n}\r\n```\r\n\r\nThis is my code and I am confused that why can&#39;t I use `addAll()` method to add the collection (`ArrayList`) to the list.\r\n\r\nIf I replace `addAll()` with `add()` it works fine.\r\n\r\nThis is a pascals triangle question and logic is correct and have got the correct answer by replacing `addAll()` by `add()` method.\r\n\r\nAlso this is the error I got:\r\n\r\n&gt;error: incompatible types: ArrayList&lt;Integer&gt; cannot be converted to `Collection&lt;? extends List&lt;Integer&gt;&gt; l.addAll(row);`\r\n\r\n\r\nI want to know whether we can add an `ArrayList` to a list using `addAll` method.\r\n","title":"I am stuck at a question and as a beginner in Java it seems overwhelming. Can someone help me understand why exactly my code isn&#39;t working?","body":"<pre><code>class Solution {     \n\n    public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {  \n\n        List&lt;List&lt;Integer&gt;&gt; l = new ArrayList&lt;List&lt;Integer&gt;&gt;();        \n        ArrayList&lt;Integer&gt; row;         \n        int v;        \n        for(int i=0;i&lt;numRows;i++)         \n        {              \n            row = new ArrayList&lt;Integer&gt;();             \n            for(int j=0;j&lt;=i;j++)              \n            {                  \n                if(j==0||j==i)                  \n                {                   \n                    row.add(1);                 \n                    continue;                  \n                }                  \n                v=l.get(i-1).get(j-1)+l.get(i-1).get(j);            \n                row.add(v);              \n            }              \n            l.addAll(row);         \n        }         \n        return l;     \n    } \n}\n</code></pre>\n<p>This is my code and I am confused that why can't I use <code>addAll()</code> method to add the collection (<code>ArrayList</code>) to the list.</p>\n<p>If I replace <code>addAll()</code> with <code>add()</code> it works fine.</p>\n<p>This is a pascals triangle question and logic is correct and have got the correct answer by replacing <code>addAll()</code> by <code>add()</code> method.</p>\n<p>Also this is the error I got:</p>\n<blockquote>\n<p>error: incompatible types: ArrayList cannot be converted to <code>Collection&lt;? extends List&lt;Integer&gt;&gt; l.addAll(row);</code></p>\n</blockquote>\n<p>I want to know whether we can add an <code>ArrayList</code> to a list using <code>addAll</code> method.</p>\n"},{"tags":["java","docker","kubernetes","logback"],"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688453091,"creation_date":1688453091,"question_id":76609960,"body_markdown":"I have java Spring (not Spring Boot) app, which is launched in Kubernetes using Docker. I&#39;m trying to set the path to logback.xml via parameters, but my app doesn&#39;t see it.\r\n\r\nIn my dockerfile I have this line for launching my app:\r\n\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;run/app.jar&quot;,&quot;-Xms128m&quot;,&quot;-Xmx4096m&quot;,&quot;-Dlogback.configurationFile=/logconfig/logback.xml&quot;,&quot;--spring.config.location=file:///appconfig/application.properties&quot;]\r\n\r\nlogback.xml is placed to the pod via ConfigMap and Deployment.yaml,\r\n\r\nI have such directory structure in the pod:\r\n\r\n    /\r\n    /run/app.jar\r\n    /logconfig/logback.xml \r\n\r\nIf I move to the run folder and try to cat config file (like this: `@w:/run# cat /logconfig/logback.xml` ) inside my launched pod I receive correct output. So, this means I do really have /logconfig/logback.xml in a place I expect it to be.\r\n\r\nAlso, I have no logback.xml inside my jar-file (I have excluded it in the configuration of packaging in pom.xml)\r\n\r\nIf it matters in some way, as an OS inside the pod I have Debian GNU/Linux 11 (bullseye).\r\n\r\nFor logging I use \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.16&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nSo, what is wrong in my configuration, why my app doesn&#39;t see my external logback.xml?\r\n\r\nPS: by doesn&#39;t see I mean that if I place logback.xml inside jar-file, when launching the app, I receive some output in logs about logback configuration plus logback uses that logging level, which I specify in logback.xml. But if I delete logback.xml from jar-file, then there is no information in logs about logback configuration, plus, it doesn&#39;t matter what log level is set in logback.xml, logs will always be on DEBUG level.\r\n","title":"Why Java-app doesn&#39;t see external logback.xml location?","body":"<p>I have java Spring (not Spring Boot) app, which is launched in Kubernetes using Docker. I'm trying to set the path to logback.xml via parameters, but my app doesn't see it.</p>\n<p>In my dockerfile I have this line for launching my app:</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;run/app.jar&quot;,&quot;-Xms128m&quot;,&quot;-Xmx4096m&quot;,&quot;-Dlogback.configurationFile=/logconfig/logback.xml&quot;,&quot;--spring.config.location=file:///appconfig/application.properties&quot;]\n</code></pre>\n<p>logback.xml is placed to the pod via ConfigMap and Deployment.yaml,</p>\n<p>I have such directory structure in the pod:</p>\n<pre><code>/\n/run/app.jar\n/logconfig/logback.xml \n</code></pre>\n<p>If I move to the run folder and try to cat config file (like this: <code>@w:/run# cat /logconfig/logback.xml</code> ) inside my launched pod I receive correct output. So, this means I do really have /logconfig/logback.xml in a place I expect it to be.</p>\n<p>Also, I have no logback.xml inside my jar-file (I have excluded it in the configuration of packaging in pom.xml)</p>\n<p>If it matters in some way, as an OS inside the pod I have Debian GNU/Linux 11 (bullseye).</p>\n<p>For logging I use</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n    &lt;version&gt;7.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.16&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>So, what is wrong in my configuration, why my app doesn't see my external logback.xml?</p>\n<p>PS: by doesn't see I mean that if I place logback.xml inside jar-file, when launching the app, I receive some output in logs about logback configuration plus logback uses that logging level, which I specify in logback.xml. But if I delete logback.xml from jar-file, then there is no information in logs about logback configuration, plus, it doesn't matter what log level is set in logback.xml, logs will always be on DEBUG level.</p>\n"},{"tags":["java","android","notifications"],"answers":[{"tags":[],"owner":{"account_id":20986291,"reputation":19,"user_id":15420019,"display_name":"Aaraf Rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688452760,"creation_date":1688452760,"answer_id":76609934,"question_id":76602545,"body_markdown":"Just done that by using Power Manager\r\n\r\n**AndroidManifest.xml**\r\n\r\n    &lt;activity\r\n            android:name=&quot;.IncomingCall&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:launchMode=&quot;singleInstance&quot;\r\n            android:showOnLockScreen=&quot;true&quot;\r\n            android:screenOrientation=&quot;sensorPortrait&quot; /&gt;\r\n\r\n**Activity from where to shift**\r\n\r\n    PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n        PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK | PowerManager.ACQUIRE_CAUSES_WAKEUP, &quot;myalarmapp:alarm.&quot;);\r\n        wl.acquire(5000);\r\n\r\n        Intent startAlarmActivity = new Intent(getApplicationContext(), IncomingCall.class);\r\n        startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        startActivity(startAlarmActivity);\r\n\r\n        wl.release();\r\n\r\n\r\n**Destination Activity**\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\r\n\r\n            setShowWhenLocked(true);\r\n            setTurnScreenOn(true);\r\n            KeyguardManager keyguardManager = (KeyguardManager) getSystemService(Context.KEYGUARD_SERVICE);\r\n            keyguardManager.requestDismissKeyguard(this, null);\r\n        } else {\r\n            final Window win = getWindow();\r\n            win.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);\r\n            win.addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON\r\n                    | WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON\r\n                    | WindowManager.LayoutParams.FLAG_ALLOW_LOCK_WHILE_SCREEN_ON);\r\n        }","title":"Show Activity on Lock Screen java Android","body":"<p>Just done that by using Power Manager</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;activity\n        android:name=&quot;.IncomingCall&quot;\n        android:exported=&quot;false&quot;\n        android:launchMode=&quot;singleInstance&quot;\n        android:showOnLockScreen=&quot;true&quot;\n        android:screenOrientation=&quot;sensorPortrait&quot; /&gt;\n</code></pre>\n<p><strong>Activity from where to shift</strong></p>\n<pre><code>PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\n    PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK | PowerManager.ACQUIRE_CAUSES_WAKEUP, &quot;myalarmapp:alarm.&quot;);\n    wl.acquire(5000);\n\n    Intent startAlarmActivity = new Intent(getApplicationContext(), IncomingCall.class);\n    startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n    startAlarmActivity.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    startActivity(startAlarmActivity);\n\n    wl.release();\n</code></pre>\n<p><strong>Destination Activity</strong></p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\n\n        setShowWhenLocked(true);\n        setTurnScreenOn(true);\n        KeyguardManager keyguardManager = (KeyguardManager) getSystemService(Context.KEYGUARD_SERVICE);\n        keyguardManager.requestDismissKeyguard(this, null);\n    } else {\n        final Window win = getWindow();\n        win.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);\n        win.addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON\n                | WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON\n                | WindowManager.LayoutParams.FLAG_ALLOW_LOCK_WHILE_SCREEN_ON);\n    }\n</code></pre>\n"}],"owner":{"account_id":20986291,"reputation":19,"user_id":15420019,"display_name":"Aaraf Rao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688452760,"creation_date":1688367967,"question_id":76602545,"body_markdown":"I need to implement a sort of call functionality with the help of Firebase notification but the problem is the screen that is visible on the notification received is not showing if the screen is locked can anyone give any tips about that? \r\nRegards,","title":"Show Activity on Lock Screen java Android","body":"<p>I need to implement a sort of call functionality with the help of Firebase notification but the problem is the screen that is visible on the notification received is not showing if the screen is locked can anyone give any tips about that?\nRegards,</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"score":0,"creation_date":1688447254,"post_id":76608867,"comment_id":135071553,"body_markdown":"You have already set the `jwt` token in AuthenticationResponse object so why you need to set it into a header??","body":"You have already set the <code>jwt</code> token in AuthenticationResponse object so why you need to set it into a header??"},{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1688476388,"post_id":76608867,"comment_id":135077126,"body_markdown":"This is actually for a social media clone project where the token would not set in the header as that’s where my frontend calls to the backend to check the token so I did a smaller one to check how to set it in the header","body":"This is actually for a social media clone project where the token would not set in the header as that’s where my frontend calls to the backend to check the token so I did a smaller one to check how to set it in the header"},{"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"score":0,"creation_date":1688477594,"post_id":76608867,"comment_id":135077387,"body_markdown":"you can use ResponseEntity class for setting up the `Authorization` like \n`ResponseEntity.ok() .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt).body(response);` as given by `@Angshuman` below.","body":"you can use ResponseEntity class for setting up the <code>Authorization</code> like  <code>ResponseEntity.ok() .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt).body(response);</code> as given by <code>@Angshuman</code> below."}],"answers":[{"comments":[{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1688510027,"post_id":76609930,"comment_id":135082510,"body_markdown":"The .body(response) works but the .header() doesn&#39;t. Is it because I have to return a new response entity?","body":"The .body(response) works but the .header() doesn&#39;t. Is it because I have to return a new response entity?"},{"owner":{"account_id":7958698,"reputation":60,"user_id":6007143,"display_name":"Angshuman"},"score":0,"creation_date":1688541566,"post_id":76609930,"comment_id":135085312,"body_markdown":"Could you show the response from the API including the Header? That will make things more clear.","body":"Could you show the response from the API including the Header? That will make things more clear."},{"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"score":0,"creation_date":1689126997,"post_id":76609930,"comment_id":135167912,"body_markdown":"Sorry for the delayed response. Only saw this post now. But I figured out that I had to paste the authorization string in header and then it resets.","body":"Sorry for the delayed response. Only saw this post now. But I figured out that I had to paste the authorization string in header and then it resets."}],"tags":[],"owner":{"account_id":7958698,"reputation":60,"user_id":6007143,"display_name":"Angshuman"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688452694,"creation_date":1688452694,"answer_id":76609930,"question_id":76608867,"body_markdown":"In the RestController `createAuthenticationToken` method, you are sending a `AuthenticationResponse` object (which I assume is a DTO class) and not the `HttpServletResponse` object where you have actually set the `Authorization` header. So, the `jwt` token is being sent in the body of the response only and not in the header. I have modified your code to send the token in both the body and the header. To send it only in the header, simply send `null` in the body.\r\n\r\n```java\r\n\r\n@RestController\r\npublic class AuthController {\r\n    \r\n    @PostMapping(&quot;/auth&quot;)\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws BadCredentialsException, DisabledException, UsernameNotFoundException {\r\n        try {\r\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getEmail(), authenticationRequest.getPassword()));\r\n        } catch (BadCredentialsException e) {\r\n            throw new BadCredentialsException(e.getMessage());\r\n        } catch (DisabledException disabledException) {\r\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;User not created. Register first&quot;);\r\n        }\r\n        \r\n        final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getEmail());\r\n        final String jwt = jwtUtil.generateToken(userDetails.getUsername());\r\n        \r\n        AuthenticationResponse response = new AuthenticationResponse(jwt);\r\n        \r\n        return ResponseEntity.ok()\r\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                .body(response);\r\n    }\r\n}\r\n```","title":"How to setHeader for jwt token","body":"<p>In the RestController <code>createAuthenticationToken</code> method, you are sending a <code>AuthenticationResponse</code> object (which I assume is a DTO class) and not the <code>HttpServletResponse</code> object where you have actually set the <code>Authorization</code> header. So, the <code>jwt</code> token is being sent in the body of the response only and not in the header. I have modified your code to send the token in both the body and the header. To send it only in the header, simply send <code>null</code> in the body.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RestController\npublic class AuthController {\n    \n    @PostMapping(&quot;/auth&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws BadCredentialsException, DisabledException, UsernameNotFoundException {\n        try {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getEmail(), authenticationRequest.getPassword()));\n        } catch (BadCredentialsException e) {\n            throw new BadCredentialsException(e.getMessage());\n        } catch (DisabledException disabledException) {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;User not created. Register first&quot;);\n        }\n        \n        final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getEmail());\n        final String jwt = jwtUtil.generateToken(userDetails.getUsername());\n        \n        AuthenticationResponse response = new AuthenticationResponse(jwt);\n        \n        return ResponseEntity.ok()\n                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                .body(response);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688452694,"creation_date":1688432905,"question_id":76608867,"body_markdown":"I&#39;m trying to set the header for the JWT token that prints into the body on Postman. I would like some help to what I should add as I&#39;m quite new to this jwt token stuff. I want to add a new &quot;Authorization&quot; header with the Bearer token.\r\n\r\n````\r\npackage com.example.jwtspringsecurity.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        return httpSecurity.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()\r\n                .and()\r\n                .authorizeHttpRequests().requestMatchers(&quot;/api/**&quot;)\r\n                .authenticated().and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and().build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\r\n        return configuration.getAuthenticationManager();\r\n    }\r\n}\r\n````\r\n````\r\npackage com.example.jwtspringsecurity.controller;\r\n\r\nimport com.example.jwtspringsecurity.dto.AuthenticationRequest;\r\nimport com.example.jwtspringsecurity.dto.AuthenticationResponse;\r\nimport com.example.jwtspringsecurity.service.jwt.UserDetailsServiceImpl;\r\nimport com.example.jwtspringsecurity.util.JwtUtil;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.DisabledException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.io.IOException;\r\n\r\n@RestController\r\npublic class AuthController {\r\n\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private JwtUtil jwtUtil;\r\n\r\n    @PostMapping(&quot;/auth&quot;)\r\n    public AuthenticationResponse createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest, HttpServletResponse response) throws BadCredentialsException, DisabledException, UsernameNotFoundException, IOException {\r\n        try {\r\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getEmail(), authenticationRequest.getPassword()));\r\n        } catch (BadCredentialsException e) {\r\n            throw new BadCredentialsException(e.getMessage());\r\n        } catch (DisabledException disabledException) {\r\n            response.sendError(HttpServletResponse.SC_NOT_FOUND, &quot;user not created. Register first&quot;);\r\n            return null;\r\n        }\r\n        final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getEmail());\r\n        final String jwt = jwtUtil.generateToken(userDetails.getUsername());\r\n        response.setHeader(&quot;Authorization&quot; ,jwt);\r\n\r\n        return new AuthenticationResponse(jwt);\r\n    }\r\n}\r\n````\r\n````\r\npackage com.example.jwtspringsecurity.util;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport io.jsonwebtoken.io.Decoders;\r\nimport java.security.Key;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\nimport io.jsonwebtoken.security.Keys;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class JwtUtil {\r\n    public static final String SECRET = &quot;5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437&quot;;\r\n\r\n    public String extractUsername(String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    public Date extractExpiration(String token) {\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n\r\n    private Claims extractAllClaims(String token) {\r\n        return Jwts\r\n                .parserBuilder()\r\n                .setSigningKey(getSignKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    private Boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    public Boolean validateToken(String token, UserDetails userDetails) {\r\n        final String username = extractUsername(token);\r\n        return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\r\n    }\r\n\r\n    public String generateToken(String userName){\r\n        Map&lt;String,Object&gt; claims=new HashMap&lt;&gt;();\r\n        return createToken(claims,userName);\r\n    }\r\n\r\n    private String createToken(Map&lt;String, Object&gt; claims, String userName) {\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setSubject(userName)\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis()+1000*60*30))\r\n                .signWith(getSignKey(), SignatureAlgorithm.HS256).compact();\r\n    }\r\n\r\n    private Key getSignKey() {\r\n        byte[] keyBytes= Decoders.BASE64.decode(SECRET);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n}\r\n````\r\nThese are my configurate for the security api but let me know if you would like to see other code snippets. Thank you.","title":"How to setHeader for jwt token","body":"<p>I'm trying to set the header for the JWT token that prints into the body on Postman. I would like some help to what I should add as I'm quite new to this jwt token stuff. I want to add a new &quot;Authorization&quot; header with the Bearer token.</p>\n<pre><code>package com.example.jwtspringsecurity.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class AppConfig {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/register&quot;, &quot;/auth&quot;).permitAll()\n                .and()\n                .authorizeHttpRequests().requestMatchers(&quot;/api/**&quot;)\n                .authenticated().and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and().build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\n        return configuration.getAuthenticationManager();\n    }\n}\n</code></pre>\n<pre><code>package com.example.jwtspringsecurity.controller;\n\nimport com.example.jwtspringsecurity.dto.AuthenticationRequest;\nimport com.example.jwtspringsecurity.dto.AuthenticationResponse;\nimport com.example.jwtspringsecurity.service.jwt.UserDetailsServiceImpl;\nimport com.example.jwtspringsecurity.util.JwtUtil;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.DisabledException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.io.IOException;\n\n@RestController\npublic class AuthController {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private JwtUtil jwtUtil;\n\n    @PostMapping(&quot;/auth&quot;)\n    public AuthenticationResponse createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest, HttpServletResponse response) throws BadCredentialsException, DisabledException, UsernameNotFoundException, IOException {\n        try {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authenticationRequest.getEmail(), authenticationRequest.getPassword()));\n        } catch (BadCredentialsException e) {\n            throw new BadCredentialsException(e.getMessage());\n        } catch (DisabledException disabledException) {\n            response.sendError(HttpServletResponse.SC_NOT_FOUND, &quot;user not created. Register first&quot;);\n            return null;\n        }\n        final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getEmail());\n        final String jwt = jwtUtil.generateToken(userDetails.getUsername());\n        response.setHeader(&quot;Authorization&quot; ,jwt);\n\n        return new AuthenticationResponse(jwt);\n    }\n}\n</code></pre>\n<pre><code>package com.example.jwtspringsecurity.util;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport io.jsonwebtoken.io.Decoders;\nimport java.security.Key;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\nimport io.jsonwebtoken.security.Keys;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class JwtUtil {\n    public static final String SECRET = &quot;5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437&quot;;\n\n    public String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    public Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    private Claims extractAllClaims(String token) {\n        return Jwts\n                .parserBuilder()\n                .setSigningKey(getSignKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    private Boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    public Boolean validateToken(String token, UserDetails userDetails) {\n        final String username = extractUsername(token);\n        return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\n    }\n\n    public String generateToken(String userName){\n        Map&lt;String,Object&gt; claims=new HashMap&lt;&gt;();\n        return createToken(claims,userName);\n    }\n\n    private String createToken(Map&lt;String, Object&gt; claims, String userName) {\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(userName)\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis()+1000*60*30))\n                .signWith(getSignKey(), SignatureAlgorithm.HS256).compact();\n    }\n\n    private Key getSignKey() {\n        byte[] keyBytes= Decoders.BASE64.decode(SECRET);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n}\n</code></pre>\n<p>These are my configurate for the security api but let me know if you would like to see other code snippets. Thank you.</p>\n"},{"tags":["java","osgi"],"answers":[{"comments":[{"owner":{"account_id":7795,"reputation":116415,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"score":0,"creation_date":1688481999,"post_id":76609909,"comment_id":135078428,"body_markdown":"Yea, I was just having a &quot;shower moment&quot; and that occurred to me as well. So, the premise is that you fire up the framework, and then the framework &quot;never&quot; calls into the OSGI world, rather one of the OSGI modules is the &quot;main&quot; that starts when it starts, and everything lives in the happy OSGI classloader world from there?","body":"Yea, I was just having a &quot;shower moment&quot; and that occurred to me as well. So, the premise is that you fire up the framework, and then the framework &quot;never&quot; calls into the OSGI world, rather one of the OSGI modules is the &quot;main&quot; that starts when it starts, and everything lives in the happy OSGI classloader world from there?"},{"owner":{"account_id":892776,"reputation":19529,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"score":0,"creation_date":1688573224,"post_id":76609909,"comment_id":135092584,"body_markdown":"Yes .. this is at least the simplest way to use OSGi. If you want to use OSGi as a kind of plugin system for an application living outside of OSGi then you have to export the APIs using the system bundle exports.","body":"Yes .. this is at least the simplest way to use OSGi. If you want to use OSGi as a kind of plugin system for an application living outside of OSGi then you have to export the APIs using the system bundle exports."},{"owner":{"account_id":7795,"reputation":116415,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"score":0,"creation_date":1688576465,"post_id":76609909,"comment_id":135093239,"body_markdown":"Do you have an example or reference about how to export the API from the host application?","body":"Do you have an example or reference about how to export the API from the host application?"},{"owner":{"account_id":892776,"reputation":19529,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"score":0,"creation_date":1688719195,"post_id":76609909,"comment_id":135114366,"body_markdown":"Just add the package names you want to export to the framework property org.osgi.framework.system.packages.extra.\nAlso do not install the api bundle as there should only be one export of the package.","body":"Just add the package names you want to export to the framework property org.osgi.framework.system.packages.extra. Also do not install the api bundle as there should only be one export of the package."},{"owner":{"account_id":7795,"reputation":116415,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"score":0,"creation_date":1688762388,"post_id":76609909,"comment_id":135122302,"body_markdown":"Yes, that was the trick. That also helped explain how to &quot;bridge&quot; from my app into the OSGI world. Thanks again!","body":"Yes, that was the trick. That also helped explain how to &quot;bridge&quot; from my app into the OSGI world. Thanks again!"}],"tags":[],"owner":{"account_id":892776,"reputation":19529,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688452455,"creation_date":1688452455,"answer_id":76609909,"question_id":76606686,"body_markdown":"The problem is that inside OSGi HelloService interface is loaded from the bundle api-1.0.jar.\r\nOutside of OSGi HelloService interface is loaded from a jar on the classpath. \r\n\r\nSo when you ask for the service references for HelloService you do not see any. \r\nThe best way to interact with your service is from inside another OSGi bundle. \r\n\r\nIf you must interact with the service from outside OSGi then instead of installing the api bundle you could export the package from system bundle.\r\nUse the run property: org.osgi.framework.system.packages.extra\r\n","title":"OSGI can not find ServiceReference","body":"<p>The problem is that inside OSGi HelloService interface is loaded from the bundle api-1.0.jar.\nOutside of OSGi HelloService interface is loaded from a jar on the classpath.</p>\n<p>So when you ask for the service references for HelloService you do not see any.\nThe best way to interact with your service is from inside another OSGi bundle.</p>\n<p>If you must interact with the service from outside OSGi then instead of installing the api bundle you could export the package from system bundle.\nUse the run property: org.osgi.framework.system.packages.extra</p>\n"}],"owner":{"account_id":7795,"reputation":116415,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76609909,"answer_count":1,"score":1,"last_activity_date":1688452455,"creation_date":1688402311,"question_id":76606686,"body_markdown":"I have a very simple program starting up an OSGI framework (Felix in this case):\r\n\r\n            final Map configMap = new HashMap();\r\n            configMap.put(Constants.FRAMEWORK_STORAGE_CLEAN, &quot;onFirstInit&quot;);\r\n            m_framework = new Felix(configMap);\r\n            m_framework.init();\r\n\r\n            final BundleContext context = m_framework.getBundleContext();\r\n\r\n            Bundle api = context.installBundle(&quot;file:../api/target/api-1.0.jar&quot;);\r\n            Bundle provider = context.installBundle(&quot;file:../hello/target/hello-1.0.jar&quot;);\r\n\r\n            m_framework.start();\r\n\r\n            api.start();\r\n            provider.start();\r\n\r\n            System.out.println(&quot;List of all service references:&quot;);\r\n            ServiceReference[] ss = context.getAllServiceReferences(null, null);\r\n            for (ServiceReference sr : ss) {\r\n                System.out.println(&quot;sr = &quot; + sr);\r\n            }\r\n            System.out.println(HelloService.class.getName());            \r\n            ServiceReference&lt;HelloService&gt; sr = (ServiceReference&lt;HelloService&gt;) context.getServiceReference(HelloService.class.getName());\r\n            HelloService hs = context.getService(sr);\r\n            System.out.println(&quot;hs: &quot; + hs.sayHello(&quot;Bob&quot;));\r\n\r\n            m_framework.stop();\r\n\r\nI have an API bundle which contains the `HelloService` interface class.\r\n\r\nI have a Hello bundle which contains an implementation of the `HelloService`, conveniently named `HelloServiceImpl`.\r\n\r\nThese both seems fine, I can load them here and in the Felix console, I can&#39;t load the implementation without loading and starting the API (as expected).\r\n\r\nI have simple debug println in the bundles to show them being activated, and the `HelloServiceImpl` being constructed.\r\n\r\nThis is how I register the service in the Hello module:\r\n\r\n        System.out.println(&quot;Hello service implementation activated&quot;);\r\n        HelloService hs = new HelloServiceImpl();\r\n        context.registerService(HelloService.class.getName(), hs, null);\r\n        System.out.println(&quot;Registered &quot; + hs + &quot; to &quot; + HelloService.class.getName());\r\n\r\nI print out all of the Service References in the framework, and see that there is, indeed, a `HelloService` reference listed (output below).\r\n\r\nBut when I try to look up the `ServiceReference`, so that I can invoke the service, the framework is returning null.\r\n\r\nBelow is the output of this routine:\r\n\r\n    API Activator fired.\r\n    Hello service implementation activated\r\n    HelloServiceImpl created\r\n    Registered com.mycompany.hello.HelloServiceImpl@64bf3bbf to com.mycompany.api.HelloService\r\n    List of all service references:\r\n    sr = [org.osgi.service.packageadmin.PackageAdmin]\r\n    sr = [org.osgi.service.condition.Condition]\r\n    sr = [com.mycompany.api.HelloService]\r\n    sr = [org.osgi.service.startlevel.StartLevel]\r\n    sr = [org.osgi.service.resolver.Resolver]\r\n    com.mycompany.api.HelloService\r\n    Error starting program: java.lang.NullPointerException: Specified service reference cannot be null.\r\n    java.lang.NullPointerException: Specified service reference cannot be null.\r\n    \tat org.apache.felix.framework.BundleContextImpl.getService(BundleContextImpl.java:440)\r\n    \tat com.mycompany.main.Main.main(Main.java:40)\r\n\r\nClearly missing something fundamental, curious why this is not working.\r\n","title":"OSGI can not find ServiceReference","body":"<p>I have a very simple program starting up an OSGI framework (Felix in this case):</p>\n<pre><code>        final Map configMap = new HashMap();\n        configMap.put(Constants.FRAMEWORK_STORAGE_CLEAN, &quot;onFirstInit&quot;);\n        m_framework = new Felix(configMap);\n        m_framework.init();\n\n        final BundleContext context = m_framework.getBundleContext();\n\n        Bundle api = context.installBundle(&quot;file:../api/target/api-1.0.jar&quot;);\n        Bundle provider = context.installBundle(&quot;file:../hello/target/hello-1.0.jar&quot;);\n\n        m_framework.start();\n\n        api.start();\n        provider.start();\n\n        System.out.println(&quot;List of all service references:&quot;);\n        ServiceReference[] ss = context.getAllServiceReferences(null, null);\n        for (ServiceReference sr : ss) {\n            System.out.println(&quot;sr = &quot; + sr);\n        }\n        System.out.println(HelloService.class.getName());            \n        ServiceReference&lt;HelloService&gt; sr = (ServiceReference&lt;HelloService&gt;) context.getServiceReference(HelloService.class.getName());\n        HelloService hs = context.getService(sr);\n        System.out.println(&quot;hs: &quot; + hs.sayHello(&quot;Bob&quot;));\n\n        m_framework.stop();\n</code></pre>\n<p>I have an API bundle which contains the <code>HelloService</code> interface class.</p>\n<p>I have a Hello bundle which contains an implementation of the <code>HelloService</code>, conveniently named <code>HelloServiceImpl</code>.</p>\n<p>These both seems fine, I can load them here and in the Felix console, I can't load the implementation without loading and starting the API (as expected).</p>\n<p>I have simple debug println in the bundles to show them being activated, and the <code>HelloServiceImpl</code> being constructed.</p>\n<p>This is how I register the service in the Hello module:</p>\n<pre><code>    System.out.println(&quot;Hello service implementation activated&quot;);\n    HelloService hs = new HelloServiceImpl();\n    context.registerService(HelloService.class.getName(), hs, null);\n    System.out.println(&quot;Registered &quot; + hs + &quot; to &quot; + HelloService.class.getName());\n</code></pre>\n<p>I print out all of the Service References in the framework, and see that there is, indeed, a <code>HelloService</code> reference listed (output below).</p>\n<p>But when I try to look up the <code>ServiceReference</code>, so that I can invoke the service, the framework is returning null.</p>\n<p>Below is the output of this routine:</p>\n<pre><code>API Activator fired.\nHello service implementation activated\nHelloServiceImpl created\nRegistered com.mycompany.hello.HelloServiceImpl@64bf3bbf to com.mycompany.api.HelloService\nList of all service references:\nsr = [org.osgi.service.packageadmin.PackageAdmin]\nsr = [org.osgi.service.condition.Condition]\nsr = [com.mycompany.api.HelloService]\nsr = [org.osgi.service.startlevel.StartLevel]\nsr = [org.osgi.service.resolver.Resolver]\ncom.mycompany.api.HelloService\nError starting program: java.lang.NullPointerException: Specified service reference cannot be null.\njava.lang.NullPointerException: Specified service reference cannot be null.\n    at org.apache.felix.framework.BundleContextImpl.getService(BundleContextImpl.java:440)\n    at com.mycompany.main.Main.main(Main.java:40)\n</code></pre>\n<p>Clearly missing something fundamental, curious why this is not working.</p>\n"},{"tags":["java","spring","mongodb","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688452455,"creation_date":1688452455,"answer_id":76609910,"question_id":76605708,"body_markdown":"You can try this query   \r\n \r\n\r\n    @Query(&quot;{ &#39;id&#39; : { $regex: &#39;^?0&#39;, $options: &#39;i&#39; } }&quot;)\r\n    public List&lt;DBEntity&gt; findByIdStartingWith(String id);","title":"How to Query MongoDB using Spring JPA along with StartingWIth","body":"<p>You can try this query</p>\n<pre><code>@Query(&quot;{ 'id' : { $regex: '^?0', $options: 'i' } }&quot;)\npublic List&lt;DBEntity&gt; findByIdStartingWith(String id);\n</code></pre>\n"}],"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76609910,"answer_count":1,"score":2,"last_activity_date":1688452455,"creation_date":1688394581,"question_id":76605708,"body_markdown":"My mongo db has documents with `_id` defined as `string`. Typical values for `_id` s are \r\n\r\n- `abc#1234` \r\n- `abc#2345` \r\n- `aby#5678`. \r\n- `abx#123`\r\n\r\nI want to do a prefix query around `abc#` to return `abc#1234` `abc#2345` (given that _id are sorted in Mongo, I think the prefix query will be efficient --more efficient than 2ndry indexes --Please correct me if I am wrong)\r\n\r\nI tried the below and it returned a list of size 0. \r\n\r\n```\r\n@Repository\r\npublic interface DBEntityRespository  extends MongoRepository&lt;DBEntity, String&gt; {\r\n    public List&lt;DBEntity&gt; findByIdStartingWith(String id);\r\n}\r\n\r\n```\r\nentity is defined as...\r\n\r\n```\r\n@Document(collection = &quot;someDBEntity&quot;)\r\n@Data\r\n@Accessors(chain = true)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class DBEntity {\r\n\r\n    @Id\r\n    @JsonProperty(&quot;_id&quot;)\r\n    private String id;\r\n...\r\n...\r\n...\r\n}\r\n```\r\n\r\nI am calling the repository as follows\r\n```\r\n   @GetMapping(&quot;/v1/x&quot;)\r\n    public String hi(){\r\n        List&lt;DBEntity&gt; list = repo.findByIdStartingWith(&quot;abc&quot;);// &lt;&lt; tried with ^abc , /abc/, abc.* but no luck\r\n        System.out.println(list.size() ); // &lt;&lt; returns list of size 0\r\n        return &quot;success&quot;;\r\n    }\r\n```\r\n\r\nAny thoughts on how to get the issue fixed? and return the full documents matching the prefix `abc` ??\r\n","title":"How to Query MongoDB using Spring JPA along with StartingWIth","body":"<p>My mongo db has documents with <code>_id</code> defined as <code>string</code>. Typical values for <code>_id</code> s are</p>\n<ul>\n<li><code>abc#1234</code></li>\n<li><code>abc#2345</code></li>\n<li><code>aby#5678</code>.</li>\n<li><code>abx#123</code></li>\n</ul>\n<p>I want to do a prefix query around <code>abc#</code> to return <code>abc#1234</code> <code>abc#2345</code> (given that _id are sorted in Mongo, I think the prefix query will be efficient --more efficient than 2ndry indexes --Please correct me if I am wrong)</p>\n<p>I tried the below and it returned a list of size 0.</p>\n<pre><code>@Repository\npublic interface DBEntityRespository  extends MongoRepository&lt;DBEntity, String&gt; {\n    public List&lt;DBEntity&gt; findByIdStartingWith(String id);\n}\n\n</code></pre>\n<p>entity is defined as...</p>\n<pre><code>@Document(collection = &quot;someDBEntity&quot;)\n@Data\n@Accessors(chain = true)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class DBEntity {\n\n    @Id\n    @JsonProperty(&quot;_id&quot;)\n    private String id;\n...\n...\n...\n}\n</code></pre>\n<p>I am calling the repository as follows</p>\n<pre><code>   @GetMapping(&quot;/v1/x&quot;)\n    public String hi(){\n        List&lt;DBEntity&gt; list = repo.findByIdStartingWith(&quot;abc&quot;);// &lt;&lt; tried with ^abc , /abc/, abc.* but no luck\n        System.out.println(list.size() ); // &lt;&lt; returns list of size 0\n        return &quot;success&quot;;\n    }\n</code></pre>\n<p>Any thoughts on how to get the issue fixed? and return the full documents matching the prefix <code>abc</code> ??</p>\n"},{"tags":["java","android","react-native","google-play"],"owner":{"account_id":8383373,"reputation":105,"user_id":6294558,"accept_rate":40,"display_name":"jais"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688452090,"creation_date":1688383519,"question_id":76604278,"body_markdown":"I have a simple broadcast receiver, which will always run in the background. Testing locally on my device doesn&#39;t have any problem. In PlayStore throws below exception\r\n\r\nException \r\n\r\n&gt; Exception java.lang.RuntimeException:   at\r\n&gt; android.app.ActivityThread.handleReceiver (ActivityThread.java:3990)  \r\n&gt; at android.app.ActivityThread.access$1500 (ActivityThread.java:233)  \r\n&gt; at android.app.ActivityThread$H.handleMessage\r\n&gt; (ActivityThread.java:2006)   at android.os.Handler.dispatchMessage\r\n&gt; (Handler.java:107)   at android.os.Looper.loop (Looper.java:241)   at\r\n&gt; android.app.ActivityThread.main (ActivityThread.java:7582)   at\r\n&gt; java.lang.reflect.Method.invoke   at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\r\n&gt; (RuntimeInit.java:492)   at com.android.internal.os.ZygoteInit.main\r\n&gt; (ZygoteInit.java:941) Caused by java.lang.IllegalStateException:   at\r\n&gt; android.app.ContextImpl.startServiceCommon (ContextImpl.java:1637)  \r\n&gt; at android.app.ContextImpl.startService (ContextImpl.java:1592)   at\r\n&gt; android.content.ContextWrapper.startService (ContextWrapper.java:669) \r\n&gt; at android.content.ContextWrapper.startService\r\n&gt; (ContextWrapper.java:669)   at com.app.BootBrodcastReceiver.onReceive\r\n&gt; (BootBrodcastReceiver.java:14)   at\r\n&gt; android.app.ActivityThread.handleReceiver (ActivityThread.java:3981)\r\n\r\nBelow implemented code BootBrodcastReceiver.java.java\r\n\r\n    package com.app;\r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    \r\n    public class BootBrodcastReceiver extends BroadcastReceiver {\r\n        static final String ACTION = &quot;android.intent.action.BOOT_COMPLETED&quot;;\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction().equals(ACTION)) {\r\n                //Service\r\n                Intent serviceIntent = new Intent(context, intentService.class);\r\n                context.startService(serviceIntent); &lt;-line 14\r\n            }\r\n        }\r\n    }\r\n","title":"Exception java.lang.RuntimeException on PlayStore Console","body":"<p>I have a simple broadcast receiver, which will always run in the background. Testing locally on my device doesn't have any problem. In PlayStore throws below exception</p>\n<p>Exception</p>\n<blockquote>\n<p>Exception java.lang.RuntimeException:   at\nandroid.app.ActivityThread.handleReceiver (ActivityThread.java:3990)<br />\nat android.app.ActivityThread.access$1500 (ActivityThread.java:233)<br />\nat android.app.ActivityThread$H.handleMessage\n(ActivityThread.java:2006)   at android.os.Handler.dispatchMessage\n(Handler.java:107)   at android.os.Looper.loop (Looper.java:241)   at\nandroid.app.ActivityThread.main (ActivityThread.java:7582)   at\njava.lang.reflect.Method.invoke   at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\n(RuntimeInit.java:492)   at com.android.internal.os.ZygoteInit.main\n(ZygoteInit.java:941) Caused by java.lang.IllegalStateException:   at\nandroid.app.ContextImpl.startServiceCommon (ContextImpl.java:1637)<br />\nat android.app.ContextImpl.startService (ContextImpl.java:1592)   at\nandroid.content.ContextWrapper.startService (ContextWrapper.java:669)\nat android.content.ContextWrapper.startService\n(ContextWrapper.java:669)   at com.app.BootBrodcastReceiver.onReceive\n(BootBrodcastReceiver.java:14)   at\nandroid.app.ActivityThread.handleReceiver (ActivityThread.java:3981)</p>\n</blockquote>\n<p>Below implemented code BootBrodcastReceiver.java.java</p>\n<pre><code>package com.app;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\n\npublic class BootBrodcastReceiver extends BroadcastReceiver {\n    static final String ACTION = &quot;android.intent.action.BOOT_COMPLETED&quot;;\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction().equals(ACTION)) {\n            //Service\n            Intent serviceIntent = new Intent(context, intentService.class);\n            context.startService(serviceIntent); &lt;-line 14\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","docker","openshift"],"comments":[{"owner":{"account_id":12454242,"reputation":310,"user_id":9067966,"display_name":"pikkuez"},"score":0,"creation_date":1570100536,"post_id":58217665,"comment_id":102811489,"body_markdown":"Do you mean by jvm argument or doing it by a program?","body":"Do you mean by jvm argument or doing it by a program?"},{"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"score":0,"creation_date":1570104801,"post_id":58217665,"comment_id":102813600,"body_markdown":"Just by openshift from Browser or Openshift Commandline.","body":"Just by openshift from Browser or Openshift Commandline."}],"answers":[{"comments":[{"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"score":0,"creation_date":1570105465,"post_id":58219028,"comment_id":102813925,"body_markdown":"But where will be the log file getting created in the POD i&#39;m not sure.","body":"But where will be the log file getting created in the POD i&#39;m not sure."},{"owner":{"account_id":332120,"reputation":4862,"user_id":657224,"accept_rate":17,"display_name":"Mike"},"score":0,"creation_date":1570107418,"post_id":58219028,"comment_id":102815060,"body_markdown":"@Lucia that depends on how you configure logging. If you&#39;re using a logging framework such as log4j or logback, then you can configure the logs to go to both stdout (so the container will get them) and a file of your choosing.","body":"@Lucia that depends on how you configure logging. If you&#39;re using a logging framework such as log4j or logback, then you can configure the logs to go to both stdout (so the container will get them) and a file of your choosing."},{"owner":{"account_id":3412318,"reputation":1160,"user_id":2861978,"display_name":"ionescu77"},"score":0,"creation_date":1580912977,"post_id":58219028,"comment_id":106254471,"body_markdown":"The tip with `oc rsync` is good. The problem I have is that rsync is not installed in the pod. :(","body":"The tip with <code>oc rsync</code> is good. The problem I have is that rsync is not installed in the pod. :("},{"owner":{"account_id":332120,"reputation":4862,"user_id":657224,"accept_rate":17,"display_name":"Mike"},"score":1,"creation_date":1580913957,"post_id":58219028,"comment_id":106255103,"body_markdown":"@ionescu77 What about `tar`? Looks like OC will fallback to creating a tar file and copy it out of the container if `rsync` is not present locally or in the pod: https://docs.openshift.com/container-platform/3.11/dev_guide/copy_files_to_container.html#copying-requirements","body":"@ionescu77 What about <code>tar</code>? Looks like OC will fallback to creating a tar file and copy it out of the container if <code>rsync</code> is not present locally or in the pod: <a href=\"https://docs.openshift.com/container-platform/3.11/dev_guide/copy_files_to_container.html#copying-requirements\" rel=\"nofollow noreferrer\">docs.openshift.com/container-platform/3.11/dev_guide/&hellip;</a>"}],"tags":[],"owner":{"account_id":332120,"reputation":4862,"user_id":657224,"accept_rate":17,"display_name":"Mike"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570105476,"creation_date":1570105394,"answer_id":58219028,"question_id":58217665,"body_markdown":"You can copy files in and out of pods using the [rsync][1] command.\r\n\r\nOr use the `logs` command like you are and just redirect to a file so you can edit it locally:\r\n\r\n    oc logs  &lt;podname&gt; &amp;&gt; /path/to/file\r\n\r\n\r\n  [1]: https://docs.openshift.com/enterprise/3.1/dev_guide/copy_files_to_container.html","title":"How to get the logs of a POD in openshift to local file","body":"<p>You can copy files in and out of pods using the <a href=\"https://docs.openshift.com/enterprise/3.1/dev_guide/copy_files_to_container.html\" rel=\"nofollow noreferrer\">rsync</a> command.</p>\n\n<p>Or use the <code>logs</code> command like you are and just redirect to a file so you can edit it locally:</p>\n\n<pre><code>oc logs  &lt;podname&gt; &amp;&gt; /path/to/file\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12180010,"reputation":4443,"user_id":8891738,"display_name":"Daein Park"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570109438,"creation_date":1570109438,"answer_id":58220238,"question_id":58217665,"body_markdown":"&gt; That just prints the log into cmd prompt, but i want whole log to be copied from server to local file. So that i can find some particular lines or errors. Is is possible?\r\n\r\nWhat about check `/var/log/containers` on the node which pods are running ?\r\nThere are all container logs which are symbolic links as `&lt;pod name&gt;_&lt;namespace&gt;_&lt;container name&gt;-&lt;hash&gt;` format. Basically, `oc logs` also refers the same container logs at there.\r\n\r\ne.g.&gt;\r\n~~~\r\nnode ~# ls -1 /var/log/containers\r\nalertmanager-main-0_openshift-monitoring_alertmanager-123...789.log\r\nalertmanager-main-0_openshift-monitoring_alertmanager-456...123.log\r\nalertmanager-main-0_openshift-monitoring_alertmanager-proxy-789...456.log\r\n...\r\n~~~","title":"How to get the logs of a POD in openshift to local file","body":"<blockquote>\n  <p>That just prints the log into cmd prompt, but i want whole log to be copied from server to local file. So that i can find some particular lines or errors. Is is possible?</p>\n</blockquote>\n\n<p>What about check <code>/var/log/containers</code> on the node which pods are running ?\nThere are all container logs which are symbolic links as <code>&lt;pod name&gt;_&lt;namespace&gt;_&lt;container name&gt;-&lt;hash&gt;</code> format. Basically, <code>oc logs</code> also refers the same container logs at there.</p>\n\n<p>e.g.></p>\n\n<pre><code>node ~# ls -1 /var/log/containers\nalertmanager-main-0_openshift-monitoring_alertmanager-123...789.log\nalertmanager-main-0_openshift-monitoring_alertmanager-456...123.log\nalertmanager-main-0_openshift-monitoring_alertmanager-proxy-789...456.log\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":364598,"reputation":309,"user_id":709066,"display_name":"Megadotnet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576568993,"creation_date":1576567629,"answer_id":59369409,"question_id":58217665,"body_markdown":"login from oc cli tools, then switch to project, execute:\r\n\r\n    oc logs &lt;podname&gt; &gt;&gt; &lt;podname&gt;.log","title":"How to get the logs of a POD in openshift to local file","body":"<p>login from oc cli tools, then switch to project, execute:</p>\n\n<pre><code>oc logs &lt;podname&gt; &gt;&gt; &lt;podname&gt;.log\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3412318,"reputation":1160,"user_id":2861978,"display_name":"ionescu77"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580916798,"creation_date":1580916798,"answer_id":60079165,"question_id":58217665,"body_markdown":"## oc rsync\r\nTry `oc rsync` as suggested above:\r\n```\r\noc rsync &lt;pod&gt;:/path/to/file localfilename\r\n```\r\n\r\nHowever in my case I got:\r\n```\r\nWARNING: cannot use rsync: rsync not available in container &lt;pod&gt;\r\n```\r\n\r\n## oc cp\r\nSo I tried try `oc cp`, and it worked:\r\n\r\n```\r\noc cp &lt;namespace&gt;/&lt;pod&gt;:/path/to/file local_filename\r\n```\r\n\r\nWithout specifying the namespace the copy command will not work (and display no error message), so I had to which project the pod belongs.\r\n\r\n### Identify a pod&#39;s project/namespace\r\n\r\n - `&lt;pod&gt;` is the pod name\r\n - `&lt;namespace&gt;` is actually the project the `&lt;pod&gt;` belongs to.\r\n - use `oc project` to list current project, or\r\n - `oc projects` to list all projects\r\n - or or search for the pod name in all projects `oc get pods --all-namespaces | egrep &lt;pod&gt;`\r\n\r\n### Important Note\r\n```\r\n # !!!Important Note!!!\r\n # Requires that the &#39;tar&#39; binary is present in your container\r\n # image.  If &#39;tar&#39; is not present, &#39;kubectl cp&#39; will fail.\r\n```\r\n```\r\n # about my environment\r\n # oc version\r\n # oc 3.6, openshift 3.7, kubernetes 1.7\r\n```\r\n### Docs:\r\n[OpenShift 4.3 Oficial Documentation - copying files](https://docs.openshift.com/container-platform/4.3/nodes/containers/nodes-containers-copying-files.html)","title":"How to get the logs of a POD in openshift to local file","body":"<h2>oc rsync</h2>\n\n<p>Try <code>oc rsync</code> as suggested above:</p>\n\n<pre><code>oc rsync &lt;pod&gt;:/path/to/file localfilename\n</code></pre>\n\n<p>However in my case I got:</p>\n\n<pre><code>WARNING: cannot use rsync: rsync not available in container &lt;pod&gt;\n</code></pre>\n\n<h2>oc cp</h2>\n\n<p>So I tried try <code>oc cp</code>, and it worked:</p>\n\n<pre><code>oc cp &lt;namespace&gt;/&lt;pod&gt;:/path/to/file local_filename\n</code></pre>\n\n<p>Without specifying the namespace the copy command will not work (and display no error message), so I had to which project the pod belongs.</p>\n\n<h3>Identify a pod's project/namespace</h3>\n\n<ul>\n<li><code>&lt;pod&gt;</code> is the pod name</li>\n<li><code>&lt;namespace&gt;</code> is actually the project the <code>&lt;pod&gt;</code> belongs to.</li>\n<li>use <code>oc project</code> to list current project, or</li>\n<li><code>oc projects</code> to list all projects</li>\n<li>or or search for the pod name in all projects <code>oc get pods --all-namespaces | egrep &lt;pod&gt;</code></li>\n</ul>\n\n<h3>Important Note</h3>\n\n<pre><code> # !!!Important Note!!!\n # Requires that the 'tar' binary is present in your container\n # image.  If 'tar' is not present, 'kubectl cp' will fail.\n</code></pre>\n\n<pre><code> # about my environment\n # oc version\n # oc 3.6, openshift 3.7, kubernetes 1.7\n</code></pre>\n\n<h3>Docs:</h3>\n\n<p><a href=\"https://docs.openshift.com/container-platform/4.3/nodes/containers/nodes-containers-copying-files.html\" rel=\"nofollow noreferrer\">OpenShift 4.3 Oficial Documentation - copying files</a></p>\n"},{"tags":[],"owner":{"account_id":10398985,"reputation":281,"user_id":7667916,"display_name":"deepak prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581459201,"creation_date":1581459201,"answer_id":60178169,"question_id":58217665,"body_markdown":"&lt;p&gt;To download the file from fabric pod to your local machine&lt;/p&gt;\r\n\r\n - To Connect to the fabric instance with oc login command\r\n   &lt;p&gt;oc login url--token=&amp;lttoken&gt;&amp;gt&lt;/p&gt;\r\n - Check to connect pod using terminal\r\n   &lt;p&gt;oc rsh &amp;ltpodname&amp;gt &lt;/p&gt;\r\n   &lt;p&gt;Just Check if it connects to POD and do some ls -lh(it should give some response)&lt;/p&gt;\r\n - To Copy the file from remote POD to your local:\r\n   &lt;p&gt;oc rsync &amp;ltpodname&amp;gt:&amp;ltpath&amp;gt/logs.txt localfilename &lt;/p&gt;","title":"How to get the logs of a POD in openshift to local file","body":"<p>To download the file from fabric pod to your local machine</p>\n\n<ul>\n<li>To Connect to the fabric instance with oc login command\n\n<p>oc login url--token=&lttoken>&gt</p></li>\n<li>Check to connect pod using terminal\n\n<p>oc rsh &ltpodname&gt </p>\n\n<p>Just Check if it connects to POD and do some ls -lh(it should give some response)</p></li>\n<li>To Copy the file from remote POD to your local:\n\n<p>oc rsync &ltpodname&gt:&ltpath&gt/logs.txt localfilename </p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1592405758,"post_id":62430946,"comment_id":110414878,"body_markdown":"This seems very similar to existing answers. Please explain how this works and why it is supposed to help. Particularily please point out how this is better than the other answers, or at least in which aspect it has an advantage.","body":"This seems very similar to existing answers. Please explain how this works and why it is supposed to help. Particularily please point out how this is better than the other answers, or at least in which aspect it has an advantage."}],"tags":[],"owner":{"account_id":4433240,"reputation":31,"user_id":3609850,"display_name":"icaromagnago"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1592404225,"creation_date":1592402837,"answer_id":62430946,"question_id":58217665,"body_markdown":"From your oc CLI tool execute:\r\n\r\n    oc logs pod_name -n project_name &gt; filename.log","title":"How to get the logs of a POD in openshift to local file","body":"<p>From your oc CLI tool execute:</p>\n\n<pre><code>oc logs pod_name -n project_name &gt; filename.log\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19125832,"reputation":1,"user_id":13968833,"display_name":"GeekWoman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595327758,"creation_date":1595325534,"answer_id":63011990,"question_id":58217665,"body_markdown":"1. Extract the oc login command.\r\n2. Login into oc using login command on cli client.\r\n3. Navigate to namespace where pod is hosted -&gt; oc project project-name\r\n4. Type in -&gt; oc logs podname &gt; pods_logs.txt\r\n\r\nLog file is generated in the current directory. ","title":"How to get the logs of a POD in openshift to local file","body":"<ol>\n<li>Extract the oc login command.</li>\n<li>Login into oc using login command on cli client.</li>\n<li>Navigate to namespace where pod is hosted -&gt; oc project project-name</li>\n<li>Type in -&gt; oc logs podname &gt; pods_logs.txt</li>\n</ol>\n<p>Log file is generated in the current directory.</p>\n"},{"tags":[],"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1595583182,"creation_date":1595583182,"answer_id":63070839,"question_id":58217665,"body_markdown":"oc logs pod_name -n project_name &gt; filename.log\r\n\r\nthis works for me","title":"How to get the logs of a POD in openshift to local file","body":"<p>oc logs pod_name -n project_name &gt; filename.log</p>\n<p>this works for me</p>\n"},{"tags":[],"owner":{"account_id":20802053,"reputation":1,"user_id":15277852,"display_name":"ulix1808"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614195391,"creation_date":1614195391,"answer_id":66357750,"question_id":58217665,"body_markdown":"for me the way it works was to copy the folder with the logs  I was intended to get from my pod to the default path were the pod sent you when you login in the pod \r\nand then apply:\r\n\r\n\r\n\r\n    oc cp &lt;namespace&gt;/&lt;pod&gt;:&lt;myFolder&gt; .\r\n\r\n","title":"How to get the logs of a POD in openshift to local file","body":"<p>for me the way it works was to copy the folder with the logs  I was intended to get from my pod to the default path were the pod sent you when you login in the pod\nand then apply:</p>\n<pre><code>oc cp &lt;namespace&gt;/&lt;pod&gt;:&lt;myFolder&gt; .\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12940422,"reputation":1,"user_id":9356428,"display_name":"Anupam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688451333,"creation_date":1688451258,"answer_id":76609804,"question_id":58217665,"body_markdown":"Try following command.\r\n\r\n\r\n\r\noc logs -f **podname** &gt; **log-file-name**","title":"How to get the logs of a POD in openshift to local file","body":"<p>Try following command.</p>\n<p>oc logs -f <strong>podname</strong> &gt; <strong>log-file-name</strong></p>\n"}],"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42461,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":10,"score":6,"last_activity_date":1688451333,"creation_date":1570100154,"question_id":58217665,"body_markdown":"I have my spring boot application running on Openshift as container built using docker Image. I have enabled the logging in my application and prints all the logs. \r\nNow i want to examine the log files of the POD to check for any errors, since one my request is failing.  I do know about the command line option `oc logs -f &lt;podname&gt;`\r\nThat just prints the log into cmd prompt, but i want whole log to be copied from server to local file.\r\nSo that i can find some particular lines or errors. Is is possible?","title":"How to get the logs of a POD in openshift to local file","body":"<p>I have my spring boot application running on Openshift as container built using docker Image. I have enabled the logging in my application and prints all the logs. \nNow i want to examine the log files of the POD to check for any errors, since one my request is failing.  I do know about the command line option <code>oc logs -f &lt;podname&gt;</code>\nThat just prints the log into cmd prompt, but i want whole log to be copied from server to local file.\nSo that i can find some particular lines or errors. Is is possible?</p>\n"},{"tags":["java","int","hashcode","primitive"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1344541440,"post_id":11890805,"comment_id":15824948,"body_markdown":"You can&#39;t call methods on primitives. Although it can be autoboxed, and then as an `Integer` (or similar) you&#39;ll get `Integer.hashCode`.","body":"You can&#39;t call methods on primitives. Although it can be autoboxed, and then as an <code>Integer</code> (or similar) you&#39;ll get <code>Integer.hashCode</code>."},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1344541560,"post_id":11890805,"comment_id":15825004,"body_markdown":"In that case, we could be more helpful and add what the hashCodes would be for the wrapper classes.","body":"In that case, we could be more helpful and add what the hashCodes would be for the wrapper classes."},{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":0,"creation_date":1344541583,"post_id":11890805,"comment_id":15825012,"body_markdown":"The hashcode of an integer is the integer itself.","body":"The hashcode of an integer is the integer itself."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1344541720,"post_id":11890805,"comment_id":15825083,"body_markdown":"@DennisMeng Can you not read the API docs?","body":"@DennisMeng Can you not read the API docs?"},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":3,"creation_date":1344541846,"post_id":11890805,"comment_id":15825145,"body_markdown":"I could, but the point of my comment was that we shouldn&#39;t shut the OP down just because of a minor technicality. The point of my comment was that we should probably be giving answers closer to the actual spirit of the problem.","body":"I could, but the point of my comment was that we shouldn&#39;t shut the OP down just because of a minor technicality. The point of my comment was that we should probably be giving answers closer to the actual spirit of the problem."}],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1479915097,"creation_date":1344541463,"answer_id":11890816,"question_id":11890805,"body_markdown":"No `hashCode()` method for primitive type `int` available.\r\n\r\n`Integer` is Wrapper class type and `hashcode()` returns an `int`","title":"Hashcode of an int","body":"<p>No <code>hashCode()</code> method for primitive type <code>int</code> available.</p>\n\n<p><code>Integer</code> is Wrapper class type and <code>hashcode()</code> returns an <code>int</code></p>\n"},{"comments":[{"owner":{"account_id":333062,"reputation":28113,"user_id":658718,"accept_rate":100,"display_name":"Konrad Reiche"},"score":18,"creation_date":1344541823,"post_id":11890843,"comment_id":15825133,"body_markdown":"I got curious about the `long` hash code and have looked it up, it&#39;s: `(int)(value ^ (value &gt;&gt;&gt; 32));`","body":"I got curious about the <code>long</code> hash code and have looked it up, it&#39;s: <code>(int)(value ^ (value &gt;&gt;&gt; 32));</code>"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1344541935,"post_id":11890843,"comment_id":15825176,"body_markdown":"@platzhirsch Yes, that&#39;s how it&#39;s implemented in `java.lang.Long`, and that&#39;s what Effective Java recommends.","body":"@platzhirsch Yes, that&#39;s how it&#39;s implemented in <code>java.lang.Long</code>, and that&#39;s what Effective Java recommends."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344541966,"post_id":11890843,"comment_id":15825184,"body_markdown":"@MarkoTopolnik actually I think [this](http://download.java.net/openjdk/jdk7/) is probably a lot more useful.","body":"@MarkoTopolnik actually I think <a href=\"http://download.java.net/openjdk/jdk7/\" rel=\"nofollow noreferrer\">this</a> is probably a lot more useful."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1344542122,"post_id":11890843,"comment_id":15825256,"body_markdown":"@veer You mean browsing through the JDK code? There will be no mention of a primitive type&#39;s hashcode there. Maybe you mean inspecting `hashCode` of primitive wrappers---in that case I&#39;d recommend [grepcode](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Long.java#Long.hashCode%28%29) over the unwieldy download.","body":"@veer You mean browsing through the JDK code? There will be no mention of a primitive type&#39;s hashcode there. Maybe you mean inspecting <code>hashCode</code> of primitive wrappers---in that case I&#39;d recommend <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Long.java#Long.hashCode%28%29\" rel=\"nofollow noreferrer\">grepcode</a> over the unwieldy download."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":4,"down_vote_count":2,"up_vote_count":49,"is_accepted":true,"score":47,"last_activity_date":1688450542,"creation_date":1344541559,"answer_id":11890843,"question_id":11890805,"body_markdown":"For the `hashCode` of an `int` the most natural choice is to use the `int` itself. A better question is what to use for the `hashCode` of a `long` since it doesn&#39;t fit into the `int`-sized hashcode. Generally, your best source for that&amp;mdash;and all `hashCode`-related questions&amp;mdash;would be [Effective Java](http://www.oracle.com/technetwork/java/effectivejava-136174.html).\r\n\r\nHere&#39;s what Effective Java recommends (and the JDK uses) for the `long` type:\r\n\r\n    (int) (value ^ (value &gt;&gt;&gt; 32))","title":"Hashcode of an int","body":"<p>For the <code>hashCode</code> of an <code>int</code> the most natural choice is to use the <code>int</code> itself. A better question is what to use for the <code>hashCode</code> of a <code>long</code> since it doesn't fit into the <code>int</code>-sized hashcode. Generally, your best source for that—and all <code>hashCode</code>-related questions—would be <a href=\"http://www.oracle.com/technetwork/java/effectivejava-136174.html\" rel=\"nofollow noreferrer\">Effective Java</a>.</p>\n<p>Here's what Effective Java recommends (and the JDK uses) for the <code>long</code> type:</p>\n<pre><code>(int) (value ^ (value &gt;&gt;&gt; 32))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4837710,"reputation":1386,"user_id":3903762,"accept_rate":90,"display_name":"MANU"},"score":0,"creation_date":1496652786,"post_id":11890876,"comment_id":75731613,"body_markdown":"Note: It&#39;s correct but the question was meant for primitive int and not Integer object holding &#39;integer&#39; value","body":"Note: It&#39;s correct but the question was meant for primitive int and not Integer object holding &#39;integer&#39; value"}],"tags":[],"owner":{"account_id":333062,"reputation":28113,"user_id":658718,"accept_rate":100,"display_name":"Konrad Reiche"},"comment_count":1,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1344541700,"creation_date":1344541700,"answer_id":11890876,"question_id":11890805,"body_markdown":"Taken from the `Integer.class` source code:\r\n\r\n    /**\r\n     * Returns a hash code for this {@code Integer}.\r\n     *\r\n     * @return  a hash code value for this object, equal to the\r\n     *          primitive {@code int} value represented by this\r\n     *          {@code Integer} object.\r\n     */\r\n    public int hashCode() {\r\n        return value;\r\n    }\r\n\r\nWhere `value` is the value of the integer.","title":"Hashcode of an int","body":"<p>Taken from the <code>Integer.class</code> source code:</p>\n\n<pre><code>/**\n * Returns a hash code for this {@code Integer}.\n *\n * @return  a hash code value for this object, equal to the\n *          primitive {@code int} value represented by this\n *          {@code Integer} object.\n */\npublic int hashCode() {\n    return value;\n}\n</code></pre>\n\n<p>Where <code>value</code> is the value of the integer.</p>\n"},{"comments":[{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":3,"creation_date":1467198168,"post_id":34813061,"comment_id":63629652,"body_markdown":"the retval intermediary variable isn&#39;t really necessary in this code as it is only being used once.","body":"the retval intermediary variable isn&#39;t really necessary in this code as it is only being used once."}],"tags":[],"owner":{"account_id":5140389,"reputation":1138,"user_id":4117975,"accept_rate":62,"display_name":"Amogh Mishra"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516892391,"creation_date":1452867517,"answer_id":34813061,"question_id":11890805,"body_markdown":"The `java.lang.Integer.hashCode()` method returns a hash code value for primitive value of `int` but represented as an `Integer` object.\r\n\r\n\r\n    /**\r\n     * Returns a hash code value for an Integer,\r\n     * equal to the primitive int value it represents.\r\n     */\r\n    public class IntegerDemo {\r\n\r\n        public static void main(String[] args){\r\n            Integer i = new Integer(&quot;20&quot;);\r\n            System.out.println(&quot;Value = &quot; + i.hashCode());\r\n        }\r\n\r\n    }`\r\n\r\n**Results:**\r\n&gt;Value = 20\r\n\r\nSource Link: http://www.tutorialspoint.com/java/lang/integer_hashcode.htm","title":"Hashcode of an int","body":"<p>The <code>java.lang.Integer.hashCode()</code> method returns a hash code value for primitive value of <code>int</code> but represented as an <code>Integer</code> object.</p>\n\n<pre><code>/**\n * Returns a hash code value for an Integer,\n * equal to the primitive int value it represents.\n */\npublic class IntegerDemo {\n\n    public static void main(String[] args){\n        Integer i = new Integer(\"20\");\n        System.out.println(\"Value = \" + i.hashCode());\n    }\n\n}`\n</code></pre>\n\n<p><strong>Results:</strong></p>\n\n<blockquote>\n  <p>Value = 20</p>\n</blockquote>\n\n<p>Source Link: <a href=\"http://www.tutorialspoint.com/java/lang/integer_hashcode.htm\" rel=\"nofollow noreferrer\">http://www.tutorialspoint.com/java/lang/integer_hashcode.htm</a></p>\n"}],"owner":{"account_id":1708270,"reputation":407,"user_id":1566884,"accept_rate":25,"display_name":"Ed Lee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64528,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":11890843,"answer_count":4,"score":39,"last_activity_date":1688450542,"creation_date":1344541412,"question_id":11890805,"body_markdown":"What is the hashcode of a primitive type, such as int?\r\n\r\nfor example, let&#39;s say num was an interger.\r\n\r\n\r\n    int hasCode = 0;\r\n\r\n    if (num != 0) {\r\n      hasCode = hasCode + num.hashCode();\r\n    }","title":"Hashcode of an int","body":"<p>What is the hashcode of a primitive type, such as int?</p>\n\n<p>for example, let's say num was an interger.</p>\n\n<pre><code>int hasCode = 0;\n\nif (num != 0) {\n  hasCode = hasCode + num.hashCode();\n}\n</code></pre>\n"},{"tags":["java","spring","cookies","websocket","gateway"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1688452232,"post_id":76609755,"comment_id":135072124,"body_markdown":"Have you tried to use a different name instead of `X-Authorization` , for example `my-cookie` and see if that gets forwarded or also removed?\n\nI would think that somewhere in Azure something (Gateway?) is removing all those headers for security reason.\n\nThis is just speculation","body":"Have you tried to use a different name instead of <code>X-Authorization</code> , for example <code>my-cookie</code> and see if that gets forwarded or also removed?  I would think that somewhere in Azure something (Gateway?) is removing all those headers for security reason.  This is just speculation"},{"owner":{"account_id":26338497,"reputation":15,"user_id":19997982,"display_name":"Fellou98"},"score":0,"creation_date":1688453370,"post_id":76609755,"comment_id":135072316,"body_markdown":"I didn&#39;t, gonna try it in a while","body":"I didn&#39;t, gonna try it in a while"}],"owner":{"account_id":26338497,"reputation":15,"user_id":19997982,"display_name":"Fellou98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688450514,"creation_date":1688450514,"question_id":76609755,"body_markdown":"**Hello** &lt;br&gt;\r\n--------------\r\n\r\nSo I have been working on websocket project and decided to add authorization to it. I came up with an idea that i can add cookie variable named X-Authorization on my client side, and im doing it like this &lt;br&gt;\r\n\r\n 1. **TypeScript implementation**\r\n\r\n``` \r\nasync connectToWebSocket():Promise&lt;void&gt; {\r\n      const token = await this.keycloakService.getToken();\r\n      this.cookieService.set(&#39;X-Authorization&#39;, token);\r\n        this.socket = new WebSocket(&quot;ws://url_address:8080/path&quot;);\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nRequest is going through Spring Cloud Gateway and is being forwarded to downstream service that handles taking token from given cookie and put it in proper header in OncePerRequest filter like this &lt;br&gt;\r\n\r\n 2. **Java implementation**\r\n\r\n```\r\n@Override\r\n    protected void doFilterInternal(@NotNull HttpServletRequest request,@NotNull HttpServletResponse response,@NotNull FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        log.info(&quot;Filtering request&quot;);\r\n        String token = extractTokenFromRequest(request);\r\n        log.info(&quot;extracted token&quot;);\r\n        if (StringUtils.hasText(token)) {\r\n            log.info(&quot;Passing to next filter&quot;);\r\n            filterChain.doFilter(new TokenHttpServletRequestWrapper(request, token), response);\r\n        } else {\r\n            throw new TokenRetrieveException(&quot;No token provided&quot;, HttpStatus.UNAUTHORIZED);\r\n        }\r\n    }\r\n\r\n    private String extractTokenFromRequest(HttpServletRequest request) {\r\n        log.info(&quot;getting cookie&quot;);\r\n        Cookie[] cookies = request.getCookies();\r\n        if (cookies != null) {\r\n            log.info(&quot;cookie not null&quot;);\r\n            Optional&lt;Cookie&gt; tokenCookie = Arrays.stream(cookies)\r\n                    .filter(cookie -&gt; &quot;X-Authorization&quot;.equals(cookie.getName()))\r\n                    .findFirst();\r\n            if (tokenCookie.isPresent()) {\r\n                return tokenCookie.get().getValue();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n 3. **Problem starts here** &lt;br&gt;\r\n\r\nWhen I start everything up from docker compose with local addresses (localhost:8080 etc.) everything works fine and cookies are being send to cloud gateway and then to downstream service that handles it, in short - no problem. &lt;br&gt;\r\n\r\nBut when i set everything up(change addresses from localhost to server address) to run docker compose on Azure VM when i send same request with same cookie it doesn&#39;t even reach Spring Cloud Gateway and it&#39;s being deleted somewhere and I have no idea what to search for.\r\n\r\n\r\n----------\r\n\r\n\r\nWhat are your ideas about it and what can be the cause of this problem?","title":"Modified cookie doesn&#39;t reach Spring Cloud Gateway","body":"<h2><strong>Hello</strong> <br></h2>\n<p>So I have been working on websocket project and decided to add authorization to it. I came up with an idea that i can add cookie variable named X-Authorization on my client side, and im doing it like this <br></p>\n<ol>\n<li><strong>TypeScript implementation</strong></li>\n</ol>\n<pre><code>async connectToWebSocket():Promise&lt;void&gt; {\n      const token = await this.keycloakService.getToken();\n      this.cookieService.set('X-Authorization', token);\n        this.socket = new WebSocket(&quot;ws://url_address:8080/path&quot;);\n}\n</code></pre>\n<hr />\n<p>Request is going through Spring Cloud Gateway and is being forwarded to downstream service that handles taking token from given cookie and put it in proper header in OncePerRequest filter like this <br></p>\n<ol start=\"2\">\n<li><strong>Java implementation</strong></li>\n</ol>\n<pre><code>@Override\n    protected void doFilterInternal(@NotNull HttpServletRequest request,@NotNull HttpServletResponse response,@NotNull FilterChain filterChain)\n            throws ServletException, IOException {\n        log.info(&quot;Filtering request&quot;);\n        String token = extractTokenFromRequest(request);\n        log.info(&quot;extracted token&quot;);\n        if (StringUtils.hasText(token)) {\n            log.info(&quot;Passing to next filter&quot;);\n            filterChain.doFilter(new TokenHttpServletRequestWrapper(request, token), response);\n        } else {\n            throw new TokenRetrieveException(&quot;No token provided&quot;, HttpStatus.UNAUTHORIZED);\n        }\n    }\n\n    private String extractTokenFromRequest(HttpServletRequest request) {\n        log.info(&quot;getting cookie&quot;);\n        Cookie[] cookies = request.getCookies();\n        if (cookies != null) {\n            log.info(&quot;cookie not null&quot;);\n            Optional&lt;Cookie&gt; tokenCookie = Arrays.stream(cookies)\n                    .filter(cookie -&gt; &quot;X-Authorization&quot;.equals(cookie.getName()))\n                    .findFirst();\n            if (tokenCookie.isPresent()) {\n                return tokenCookie.get().getValue();\n            }\n        }\n        return null;\n    }\n</code></pre>\n<hr />\n<ol start=\"3\">\n<li><strong>Problem starts here</strong> <br></li>\n</ol>\n<p>When I start everything up from docker compose with local addresses (localhost:8080 etc.) everything works fine and cookies are being send to cloud gateway and then to downstream service that handles it, in short - no problem. <br></p>\n<p>But when i set everything up(change addresses from localhost to server address) to run docker compose on Azure VM when i send same request with same cookie it doesn't even reach Spring Cloud Gateway and it's being deleted somewhere and I have no idea what to search for.</p>\n<hr />\n<p>What are your ideas about it and what can be the cause of this problem?</p>\n"},{"tags":["java","sql-server","spring-boot","ssl","pkix"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1660050800,"post_id":73291498,"comment_id":129437164,"body_markdown":"Why would you download a certificate from a random web site to add to your key store?","body":"Why would you download a certificate from a random web site to add to your key store?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1660050818,"post_id":73291498,"comment_id":129437175,"body_markdown":"Are you using JDBC Driver 10.2 for SQL Server (or later)? 10.2 introduced a breaking change that applies `Encrypt=true` by default, ref: [JDBC Driver 10.2 for SQL Server Released](https://techcommunity.microsoft.com/t5/sql-server-blog/jdbc-driver-10-2-for-sql-server-released/ba-p/3100754).","body":"Are you using JDBC Driver 10.2 for SQL Server (or later)? 10.2 introduced a breaking change that applies <code>Encrypt=true</code> by default, ref: <a href=\"https://techcommunity.microsoft.com/t5/sql-server-blog/jdbc-driver-10-2-for-sql-server-released/ba-p/3100754\" rel=\"nofollow noreferrer\">JDBC Driver 10.2 for SQL Server Released</a>."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":2,"creation_date":1660050883,"post_id":73291498,"comment_id":129437211,"body_markdown":"SQL Server is installed with its own self-signed certificate, that&#39;s the one for which you need the public key to add to your key store. You can find this via SQL Server (version) Configuration Manager &gt; SQL Server Network Configuration &gt; right-click Protocols for (your instance name) &gt; Properties &gt; Certificate tab. Click the View button and in the certificate dialog that opens, click the Details tab and the Copy to File... button to export its public key. You can then add that public key to your key store.","body":"SQL Server is installed with its own self-signed certificate, that&#39;s the one for which you need the public key to add to your key store. You can find this via SQL Server (version) Configuration Manager &gt; SQL Server Network Configuration &gt; right-click Protocols for (your instance name) &gt; Properties &gt; Certificate tab. Click the View button and in the certificate dialog that opens, click the Details tab and the Copy to File... button to export its public key. You can then add that public key to your key store."},{"owner":{"account_id":23139579,"reputation":205,"user_id":17243293,"display_name":"taathy"},"score":0,"creation_date":1660058979,"post_id":73291498,"comment_id":129440739,"body_markdown":"@AlwaysLearning: Think thats the correct answer, because it fixed the issue. I really appreciate your help!!","body":"@AlwaysLearning: Think thats the correct answer, because it fixed the issue. I really appreciate your help!!"},{"owner":{"account_id":22806068,"reputation":400,"user_id":16958095,"display_name":"Ahmed Hosny"},"score":0,"creation_date":1664437975,"post_id":73291498,"comment_id":130472863,"body_markdown":"@AlwaysLearning the view button inthe certificate is disabled can u please help ?","body":"@AlwaysLearning the view button inthe certificate is disabled can u please help ?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1664442778,"post_id":73291498,"comment_id":130474537,"body_markdown":"In the same dialog with the View button is a dropdown list of the available certificates. If it&#39;s not displaying a selection then the View button will be disabled.","body":"In the same dialog with the View button is a dropdown list of the available certificates. If it&#39;s not displaying a selection then the View button will be disabled."},{"owner":{"account_id":1253330,"reputation":121,"user_id":1213289,"accept_rate":20,"display_name":"mjk6035"},"score":0,"creation_date":1668766050,"post_id":73291498,"comment_id":131491107,"body_markdown":"@AlwaysLearning answer is correct . I too was facing the same problem  and AlwaysLearning  suggestion resolved the issue\n\nThank you","body":"@AlwaysLearning answer is correct . I too was facing the same problem  and AlwaysLearning  suggestion resolved the issue  Thank you"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1689020636,"post_id":73291498,"comment_id":135151561,"body_markdown":"Does this answer your question? [The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed:](https://stackoverflow.com/questions/71374815/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71374815/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure\">The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed:</a>"}],"answers":[{"tags":[],"owner":{"account_id":10925100,"reputation":976,"user_id":8030048,"display_name":"M. Amer"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1666027371,"creation_date":1666027371,"answer_id":74100964,"question_id":73291498,"body_markdown":"I faced the same issue with spring boot 2.7.4&lt;br/&gt;\r\n--------------------------------------------------\r\n\r\nand it Seems from the comments you&#39;re using driver 10.2.X\r\n\r\nit turns out that since 2.7.0 the JDBC **Driver 10.2** for SQL Server is used\r\n&lt;br/&gt;instead of **9.4.1.jre8** for 2.6.x\r\n\r\nSo you&#39;ve 1 of 2 solutions that worked for me:\r\n\r\n **1. Use the older version of mssql-jdbc driver** &lt;br/&gt;\r\n\r\n```\r\n\t&lt;properties&gt;\t\r\n\t\t&lt;mssql-jdbc.version&gt;9.4.1.jre8&lt;/mssql-jdbc.version&gt;\r\n    &lt;/properties&gt;\r\n```\r\n **2. Or ask the driver to just trust the whatever the Sql server certiticate is**\r\n&lt;br/&gt;\r\nyou can do so by adding this to the connection string:\r\n```\r\njdbc:sqlserver://hOSt:pORt;databaseName=dbName;encrypt=true;trustServerCertificate=true\r\n```\r\n","title":"SQL Server/Spring Boot: PKIX path building failed: unable to find valid certification path to requested target","body":"<h2>I faced the same issue with spring boot 2.7.4<br/></h2>\n<p>and it Seems from the comments you're using driver 10.2.X</p>\n<p>it turns out that since 2.7.0 the JDBC <strong>Driver 10.2</strong> for SQL Server is used\n<br/>instead of <strong>9.4.1.jre8</strong> for 2.6.x</p>\n<p>So you've 1 of 2 solutions that worked for me:</p>\n<p><strong>1. Use the older version of mssql-jdbc driver</strong> <br/></p>\n<pre><code>    &lt;properties&gt;    \n        &lt;mssql-jdbc.version&gt;9.4.1.jre8&lt;/mssql-jdbc.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p><strong>2. Or ask the driver to just trust the whatever the Sql server certiticate is</strong>\n<br/>\nyou can do so by adding this to the connection string:</p>\n<pre><code>jdbc:sqlserver://hOSt:pORt;databaseName=dbName;encrypt=true;trustServerCertificate=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28945984,"reputation":51,"user_id":22171557,"display_name":"Blaze"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688450206,"creation_date":1688450206,"answer_id":76609728,"question_id":73291498,"body_markdown":"I had same problem with existing server and it helps:  \r\nNotification that helped: **encrypt=true;trustServerCertificate=true**   \r\nAlso remember when you creating entity in java, be sure that you have same one created in database.\r\n\r\n```java\r\n# Microsoft SQL Server config\r\n\r\nspring.datasource.url=jdbc:sqlserver://serverNameOrAdress:1443;databaseName=****;encrypt=true;trustServerCertificate=true\r\nspring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect\r\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.datasource.username=***\r\nspring.datasource.password=***\r\n```","title":"SQL Server/Spring Boot: PKIX path building failed: unable to find valid certification path to requested target","body":"<p>I had same problem with existing server and it helps:<br />\nNotification that helped: <strong>encrypt=true;trustServerCertificate=true</strong><br />\nAlso remember when you creating entity in java, be sure that you have same one created in database.</p>\n<pre class=\"lang-java prettyprint-override\"><code># Microsoft SQL Server config\n\nspring.datasource.url=jdbc:sqlserver://serverNameOrAdress:1443;databaseName=****;encrypt=true;trustServerCertificate=true\nspring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.datasource.username=***\nspring.datasource.password=***\n</code></pre>\n"}],"owner":{"account_id":23139579,"reputation":205,"user_id":17243293,"display_name":"taathy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19887,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1688450206,"creation_date":1660046700,"question_id":73291498,"body_markdown":"I install SQL Server on my local computer and embedd it into my Spring Boot application. After starting Tomcat I get the following error:\r\n\r\n`&#39;PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&#39;. ClientConnectionId:85411829-6853-4fdb-9373-b4c93e1d5e8f`\r\n\r\nI know that this error is well documenteted. I followed many guides and read much about it, but all  advices I found did not fix my issue. \r\n\r\nWhat I had done: \r\n\r\n - Download a random SSL-certificate from a website and add it to the\r\n   cacert file in the Java directory ([descriped here][1]).\r\n   \r\n - Configure Spring Boot for SQL Server ([descriped here][2])\r\n   \r\n - Configure SSL Encryption for SQL Server ([descriped here][3])\r\n\r\nNo one of these advices fixed the error. The only thing I realize is that if I set `spring.jpa.hibernate.ddl-auto` in my `application.properties` to `none` the program shows the error message, but it did not abort running. \r\n\r\nThe application.properties looks like this:\r\n\r\n    spring.datasource.url=jdbc:sqlserver://localhost;databaseName=Car\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=password123\r\n    spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\n    server.port=8443\r\n    server.ssl.key-alias=selfsigned_localhost_sslserver\r\n    server.ssl.key-password=changeit\r\n    server.ssl.key-store=classpath:ssl-server.jks\r\n    server.ssl.key-store-provider=SUN\r\n    server.ssl.key-store-type=JKS\r\n\r\nMy dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIn SQL Server I create a database with tables and data in it. \r\n\r\nDid someone of you have an further advice how to fix this error?\r\n\r\n  [1]: https://stackoverflow.com/questions/14947517/pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexce\r\n  [2]: https://springframework.guru/configuring-spring-boot-for-microsoft-sql-server/\r\n  [3]: https://www.mssqltips.com/sqlservertip/3299/how-to-configure-ssl-encryption-in-sql-server/","title":"SQL Server/Spring Boot: PKIX path building failed: unable to find valid certification path to requested target","body":"<p>I install SQL Server on my local computer and embedd it into my Spring Boot application. After starting Tomcat I get the following error:</p>\n<p><code>'PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target'. ClientConnectionId:85411829-6853-4fdb-9373-b4c93e1d5e8f</code></p>\n<p>I know that this error is well documenteted. I followed many guides and read much about it, but all  advices I found did not fix my issue.</p>\n<p>What I had done:</p>\n<ul>\n<li><p>Download a random SSL-certificate from a website and add it to the\ncacert file in the Java directory (<a href=\"https://stackoverflow.com/questions/14947517/pkix-path-building-failed-sun-security-provider-certpath-suncertpathbuilderexce\">descriped here</a>).</p>\n</li>\n<li><p>Configure Spring Boot for SQL Server (<a href=\"https://springframework.guru/configuring-spring-boot-for-microsoft-sql-server/\" rel=\"noreferrer\">descriped here</a>)</p>\n</li>\n<li><p>Configure SSL Encryption for SQL Server (<a href=\"https://www.mssqltips.com/sqlservertip/3299/how-to-configure-ssl-encryption-in-sql-server/\" rel=\"noreferrer\">descriped here</a>)</p>\n</li>\n</ul>\n<p>No one of these advices fixed the error. The only thing I realize is that if I set <code>spring.jpa.hibernate.ddl-auto</code> in my <code>application.properties</code> to <code>none</code> the program shows the error message, but it did not abort running.</p>\n<p>The application.properties looks like this:</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://localhost;databaseName=Car\nspring.datasource.username=admin\nspring.datasource.password=password123\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\nserver.port=8443\nserver.ssl.key-alias=selfsigned_localhost_sslserver\nserver.ssl.key-password=changeit\nserver.ssl.key-store=classpath:ssl-server.jks\nserver.ssl.key-store-provider=SUN\nserver.ssl.key-store-type=JKS\n</code></pre>\n<p>My dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>In SQL Server I create a database with tables and data in it.</p>\n<p>Did someone of you have an further advice how to fix this error?</p>\n"},{"tags":["java","spring-boot","apache-kafka","log4j2"],"answers":[{"comments":[{"owner":{"account_id":5896567,"reputation":197,"user_id":4641534,"display_name":"Sezer Aydın"},"score":0,"creation_date":1688450618,"post_id":76609716,"comment_id":135071902,"body_markdown":"thank you so much. it works for me.\n\nappender.kafka.layout.k1.type=KeyValuePair\nappender.kafka.layout.k1.key=originalGuid\nappender.kafka.layout.k1.value= $${ctx:originalGuid:-}","body":"thank you so much. it works for me.  appender.kafka.layout.k1.type=KeyValuePair appender.kafka.layout.k1.key=originalGuid appender.kafka.layout.k1.value= $${ctx:originalGuid:-}"}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688450081,"creation_date":1688450081,"answer_id":76609716,"question_id":76604678,"body_markdown":"Since `KeyValuePair` is a subcomponent of `JsonLayout`, its prefix needs to start with `appender.kafka.layout`, e.g.:\r\n\r\n```\r\nappender.kafka.layout.k1.type=KeyValuePair\r\nappender.kafka.layout.k1.name=originalGuid\r\nappender.kafka.layout.k1.value=value\r\n```","title":"Set KeyValuePair in KafkaAppender","body":"<p>Since <code>KeyValuePair</code> is a subcomponent of <code>JsonLayout</code>, its prefix needs to start with <code>appender.kafka.layout</code>, e.g.:</p>\n<pre><code>appender.kafka.layout.k1.type=KeyValuePair\nappender.kafka.layout.k1.name=originalGuid\nappender.kafka.layout.k1.value=value\n</code></pre>\n"}],"owner":{"account_id":5896567,"reputation":197,"user_id":4641534,"display_name":"Sezer Aydın"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76609716,"answer_count":1,"score":0,"last_activity_date":1688450081,"creation_date":1688386721,"question_id":76604678,"body_markdown":" \r\nHere i want to set key value pair. all other features are working.\r\n\r\ni want to use log4j2.properties file.\r\n\r\n```\r\nappender.kafka=org.apache.kafka\r\nappender.kafka.type= kafka\r\nappender.kafka.name= kafkaAppender\r\nappender.kafka.topic= NewTopic\r\nappender.kafka.property.type=Property\r\nappender.kafka.property.name=bootstrap.servers\r\nappender.kafka.property.value=host:ip\r\nappender.kafka.property2.type=Property\r\nappender.kafka.property2.name=group.id\r\nappender.kafka.property2.value=new_group_id\r\nappender.kafka.layout.type = JSONLayout\r\nappender.kafka.property3.type=KeyValuePair  &lt;--- not work\r\nappender.kafka.property3.name=originalGuid  &lt;--- not work\r\nappender.kafka.property3.value= value       &lt;--- not work\r\n\r\n```\r\nit works when i try it this way. but i dont want to use log4j2.xml file.\r\n\r\n```\r\n       &lt;Kafka name=&quot;kafkaLogAppender&quot; topic=&quot;${kafka.topic.logs}&quot;&gt;\r\n            &lt;JsonLayout&gt;\r\n                &lt;KeyValuePair key=&quot;guid&quot; value=&quot;$${ctx:guid:-}&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;originalGuid&quot; value=&quot;$${ctx:originalGuid:-}&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;gateGroupCode&quot; value=&quot;$${ctx:gateGroupCode:-}&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;037Message&quot; value=&quot;$${ctx:037Message:-}&quot;/&gt;\r\n                &lt;KeyValuePair key=&quot;titleMessage&quot; value=&quot;$${ctx:titleMessage:-}&quot;/&gt;\r\n            &lt;/JsonLayout&gt;\r\n            &lt;Property name=&quot;bootstrap.servers&quot;&gt;${bootstrap.servers}&lt;/Property&gt;\r\n            &lt;Property name=&quot;group.id&quot;&gt;${group.id}&lt;/Property&gt;\r\n            &lt;MarkerFilter marker=&quot;${audit.logmarker}&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\r\n        &lt;/Kafka&gt; \r\n```\r\n\r\nbut when I tried in properties file, I couldn&#39;t set the keyvaluepair.","title":"Set KeyValuePair in KafkaAppender","body":"<p>Here i want to set key value pair. all other features are working.</p>\n<p>i want to use log4j2.properties file.</p>\n<pre><code>appender.kafka=org.apache.kafka\nappender.kafka.type= kafka\nappender.kafka.name= kafkaAppender\nappender.kafka.topic= NewTopic\nappender.kafka.property.type=Property\nappender.kafka.property.name=bootstrap.servers\nappender.kafka.property.value=host:ip\nappender.kafka.property2.type=Property\nappender.kafka.property2.name=group.id\nappender.kafka.property2.value=new_group_id\nappender.kafka.layout.type = JSONLayout\nappender.kafka.property3.type=KeyValuePair  &lt;--- not work\nappender.kafka.property3.name=originalGuid  &lt;--- not work\nappender.kafka.property3.value= value       &lt;--- not work\n\n</code></pre>\n<p>it works when i try it this way. but i dont want to use log4j2.xml file.</p>\n<pre><code>       &lt;Kafka name=&quot;kafkaLogAppender&quot; topic=&quot;${kafka.topic.logs}&quot;&gt;\n            &lt;JsonLayout&gt;\n                &lt;KeyValuePair key=&quot;guid&quot; value=&quot;$${ctx:guid:-}&quot;/&gt;\n                &lt;KeyValuePair key=&quot;originalGuid&quot; value=&quot;$${ctx:originalGuid:-}&quot;/&gt;\n                &lt;KeyValuePair key=&quot;gateGroupCode&quot; value=&quot;$${ctx:gateGroupCode:-}&quot;/&gt;\n                &lt;KeyValuePair key=&quot;037Message&quot; value=&quot;$${ctx:037Message:-}&quot;/&gt;\n                &lt;KeyValuePair key=&quot;titleMessage&quot; value=&quot;$${ctx:titleMessage:-}&quot;/&gt;\n            &lt;/JsonLayout&gt;\n            &lt;Property name=&quot;bootstrap.servers&quot;&gt;${bootstrap.servers}&lt;/Property&gt;\n            &lt;Property name=&quot;group.id&quot;&gt;${group.id}&lt;/Property&gt;\n            &lt;MarkerFilter marker=&quot;${audit.logmarker}&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\n        &lt;/Kafka&gt; \n</code></pre>\n<p>but when I tried in properties file, I couldn't set the keyvaluepair.</p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","jedis"],"answers":[{"comments":[{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1643171604,"post_id":69109704,"comment_id":125266800,"body_markdown":"Thanks @Joao Dias.\n redis.clients:jedis:3.6.3 is compatible with spring-boot-starter-data-redis:2.5.3","body":"Thanks @Joao Dias.  redis.clients:jedis:3.6.3 is compatible with spring-boot-starter-data-redis:2.5.3"},{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1643171928,"post_id":69109704,"comment_id":125266833,"body_markdown":"I can&#39;t find the jedis dependence under `spring-boot-starter-data-redis`, how did you find it ?\n\nthe gradle command I use `./gradlew dependencies`\n\nThe dependence graph is [like this ](https://s3.bmp.ovh/imgs/2022/01/6e06a10ddae0f021.png)","body":"I can&#39;t find the jedis dependence under <code>spring-boot-starter-data-redis</code>, how did you find it ?  the gradle command I use <code>.&#47;gradlew dependencies</code>  The dependence graph is [like this ](<a href=\"https://s3.bmp.ovh/imgs/2022/01/6e06a10ddae0f021.png\" rel=\"nofollow noreferrer\">s3.bmp.ovh/imgs/2022/01/6e06a10ddae0f021.png</a>)"},{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1643203737,"post_id":69109704,"comment_id":125276456,"body_markdown":"Thank you. I found the source code of these version config. It&#39;s https://github.com/spring-projects/spring-boot/blob/v2.5.3/spring-boot-project/spring-boot-dependencies/build.gradle#L845 in case someone want it.","body":"Thank you. I found the source code of these version config. It&#39;s <a href=\"https://github.com/spring-projects/spring-boot/blob/v2.5.3/spring-boot-project/spring-boot-dependencies/build.gradle#L845\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/v2.5.3/&hellip;</a> in case someone want it."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1643214878,"post_id":69109704,"comment_id":125281677,"body_markdown":"Were you able to solve the issue?","body":"Were you able to solve the issue?"},{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1643263920,"post_id":69109704,"comment_id":125294510,"body_markdown":"Yes, it was solved, thank you Dias. \n\nI was trying to use jedis:4.0.1 with spring-boot-starter-data-redis:2.5.3, it failed.","body":"Yes, it was solved, thank you Dias.   I was trying to use jedis:4.0.1 with spring-boot-starter-data-redis:2.5.3, it failed."},{"owner":{"account_id":15398978,"reputation":316,"user_id":11109119,"display_name":"Guy_g23"},"score":0,"creation_date":1667921610,"post_id":69109704,"comment_id":131280590,"body_markdown":"Works for me without the &lt;version&gt; tag, thanks!","body":"Works for me without the &lt;version&gt; tag, thanks!"}],"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"comment_count":6,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1643201862,"creation_date":1631135385,"answer_id":69109704,"question_id":69109109,"body_markdown":"`spring-boot-starter-data-redis` already includes `jedis` as a dependency so you shouldn&#39;t add it to your pom.xml with a version that might not be compatible with your `spring-boot-starter-data-redis`.\r\n\r\nIn the case of `spring-boot-starter-data-redis` version 2.5.0, it includes `jedis` version 3.6.3 but you override this with version 3.1.0, which might not be compatible with `spring-boot-starter-data-redis` version 2.5.0.\r\n\r\nAlways check the dependencies already included in the Spring Boot Starters because incompatibilities are exactly what they try to avoid.\r\n\r\nHaving said all that, I am not completely sure that this will solve the issue, but it is a good place to start.\r\n\r\n\r\n----------\r\n\r\n**Update 26/01/2022**\r\n\r\nThe `spring-boot-starter-data-redis` dependency `pom.xml` includes the following dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n  &lt;version&gt;2.5.1&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis `spring-data-redis` dependency `pom.xml` already includes `jedis` version:\r\n```xml\r\n&lt;properties&gt;\r\n  (...)\r\n  &lt;jedis&gt;3.6.0&lt;/jedis&gt;\r\n  (...)\r\n&lt;/properties&gt;\r\n```\r\n\r\nAnd the dependency itself:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n  &lt;version&gt;${jedis}&lt;/version&gt;\r\n  &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis means that you should only add the dependency to your `pom.xml` but set no version so that the one set in `spring-data-redis` is used as follows:\r\n```xml\r\n&lt;dependencies&gt;\r\n  (...)\r\n  &lt;!-- OTHER DEPENDENCIES --&gt;\r\n  \r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n  \r\n  (...)\r\n  &lt;!-- OTHER DEPENDENCIES --&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"ClassNotFoundException while JedisClient initialization in Spring Boot 2.5.4 application","body":"<p><code>spring-boot-starter-data-redis</code> already includes <code>jedis</code> as a dependency so you shouldn't add it to your pom.xml with a version that might not be compatible with your <code>spring-boot-starter-data-redis</code>.</p>\n<p>In the case of <code>spring-boot-starter-data-redis</code> version 2.5.0, it includes <code>jedis</code> version 3.6.3 but you override this with version 3.1.0, which might not be compatible with <code>spring-boot-starter-data-redis</code> version 2.5.0.</p>\n<p>Always check the dependencies already included in the Spring Boot Starters because incompatibilities are exactly what they try to avoid.</p>\n<p>Having said all that, I am not completely sure that this will solve the issue, but it is a good place to start.</p>\n<hr />\n<p><strong>Update 26/01/2022</strong></p>\n<p>The <code>spring-boot-starter-data-redis</code> dependency <code>pom.xml</code> includes the following dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n  &lt;version&gt;2.5.1&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This <code>spring-data-redis</code> dependency <code>pom.xml</code> already includes <code>jedis</code> version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  (...)\n  &lt;jedis&gt;3.6.0&lt;/jedis&gt;\n  (...)\n&lt;/properties&gt;\n</code></pre>\n<p>And the dependency itself:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n  &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n  &lt;version&gt;${jedis}&lt;/version&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This means that you should only add the dependency to your <code>pom.xml</code> but set no version so that the one set in <code>spring-data-redis</code> is used as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  (...)\n  &lt;!-- OTHER DEPENDENCIES --&gt;\n  \n  &lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  \n  (...)\n  &lt;!-- OTHER DEPENDENCIES --&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4504855,"reputation":174,"user_id":3662481,"accept_rate":57,"display_name":"Sabarish"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661725589,"creation_date":1661725589,"answer_id":73522703,"question_id":69109109,"body_markdown":"Spent several hours, so posting for spring boot versions 2.7.3 to be helpful for others.\r\n\r\n`spring-boot-starter-data-redis` uses lettuce by default instead of jedis client. You would have to exclude `lettuce` and include `jedis` instead. \r\n\r\n```\r\nimplementation (&#39;org.springframework.boot:spring-boot-starter-data-redis&#39;) {\r\n\t\texclude group: &#39;io.lettuce.lettuce-core&#39;\r\n\t}\r\n\timplementation &#39;com.github.houbb:redis-client-jedis:0.0.3&#39;```\r\n","title":"ClassNotFoundException while JedisClient initialization in Spring Boot 2.5.4 application","body":"<p>Spent several hours, so posting for spring boot versions 2.7.3 to be helpful for others.</p>\n<p><code>spring-boot-starter-data-redis</code> uses lettuce by default instead of jedis client. You would have to exclude <code>lettuce</code> and include <code>jedis</code> instead.</p>\n<pre><code>implementation ('org.springframework.boot:spring-boot-starter-data-redis') {\n        exclude group: 'io.lettuce.lettuce-core'\n    }\n    implementation 'com.github.houbb:redis-client-jedis:0.0.3'```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6390330,"reputation":527,"user_id":4956735,"display_name":"Seyon Seyon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686814680,"creation_date":1686814340,"answer_id":76480124,"question_id":69109109,"body_markdown":"I had a similar issue(not exactly same) with spring boot 2.7.12&lt;br&gt;I dont&#39;t have enough time to elaborate the error perfectly. I got an error message &lt;br&gt;\r\n&#39;java.lang.NoClassDefFoundError: redis/clients/jedis/JedisClientConfig&#39;\r\n\r\nReason for this error &quot;by default Redis is  using lettuce&quot;. If we want to switch to jedis, we can do small trick explicitly add jedis dependency\r\n&lt;br&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBy default i had spring-boot-starter-data-redis without version after adding above dependency my pom was\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"ClassNotFoundException while JedisClient initialization in Spring Boot 2.5.4 application","body":"<p>I had a similar issue(not exactly same) with spring boot 2.7.12<br>I dont't have enough time to elaborate the error perfectly. I got an error message <br>\n'java.lang.NoClassDefFoundError: redis/clients/jedis/JedisClientConfig'</p>\n<p>Reason for this error &quot;by default Redis is  using lettuce&quot;. If we want to switch to jedis, we can do small trick explicitly add jedis dependency\n<br></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>By default i had spring-boot-starter-data-redis without version after adding above dependency my pom was</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20846399,"reputation":121,"user_id":15311807,"display_name":"Ayush Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688449551,"creation_date":1688449551,"answer_id":76609685,"question_id":69109109,"body_markdown":"For anyone facing the same issue in spring-boot 3.x+\r\n\r\nThe combination that worked for me is\r\n\r\n```\r\n// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-redis\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-redis:3.1.1&#39;\r\n\t// https://mvnrepository.com/artifact/redis.clients/jedis\r\n\timplementation &#39;redis.clients:jedis:4.4.3&#39;\r\n```\r\n\r\nFull build.gradle\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\t// https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui\r\n\timplementation &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0&#39;\r\n\t// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-redis\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-redis:3.1.1&#39;\r\n\t// https://mvnrepository.com/artifact/redis.clients/jedis\r\n\timplementation &#39;redis.clients:jedis:4.4.3&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```","title":"ClassNotFoundException while JedisClient initialization in Spring Boot 2.5.4 application","body":"<p>For anyone facing the same issue in spring-boot 3.x+</p>\n<p>The combination that worked for me is</p>\n<pre><code>// https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-redis\n    implementation 'org.springframework.boot:spring-boot-starter-data-redis:3.1.1'\n    // https://mvnrepository.com/artifact/redis.clients/jedis\n    implementation 'redis.clients:jedis:4.4.3'\n</code></pre>\n<p>Full build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    annotationProcessor 'org.projectlombok:lombok'\n    // https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui\n    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0'\n    // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-redis\n    implementation 'org.springframework.boot:spring-boot-starter-data-redis:3.1.1'\n    // https://mvnrepository.com/artifact/redis.clients/jedis\n    implementation 'redis.clients:jedis:4.4.3'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n"}],"owner":{"account_id":14672099,"reputation":1179,"user_id":10596295,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20826,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":69109704,"answer_count":4,"score":10,"last_activity_date":1688449551,"creation_date":1631131787,"question_id":69109109,"body_markdown":"I have a Spring Boot 2.5.4 application in which I would like to add Redis and access it via Spring Data Redis. My current configuration looks like this: \r\n\r\n```pom.xml```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5.4&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n  &lt;/parent&gt;\r\n  &lt;groupId&gt;com.application&lt;/groupId&gt;\r\n  &lt;artifactId&gt;ApiGateway&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;ApiGateway&lt;/name&gt;\r\n  &lt;description&gt;ApiGateway&lt;/description&gt;\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;15&lt;/java.version&gt;\r\n    &lt;spring-boot-starter-redis.version&gt;2.5.0&lt;/spring-boot-starter-redis.version&gt;\r\n    &lt;redis.version&gt;3.1.0&lt;/redis.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot-starter-redis.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- OTHER DEPENDENCIES --&gt;\r\n\t\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n      &lt;version&gt;${redis.version}&lt;/version&gt;\r\n      &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk-cognitoidp&lt;/artifactId&gt;\r\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- OTHER DEPENDENCIES --&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;excludes&gt;\r\n            &lt;exclude&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/exclude&gt;\r\n          &lt;/excludes&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n```RedisConfiguration.java```\r\n\r\n```\r\n@Configuration\r\n@PropertySource(&quot;classpath:redis.properties&quot;)\r\npublic class RedisConfiguration {\r\n\r\n  @Value(&quot;${redis.host}&quot;)\r\n  private String host;\r\n\r\n  @Value(&quot;${redis.port}&quot;)\r\n  private int port;\r\n\r\n  @Value(&quot;${redis.database}&quot;)\r\n  private int database;\r\n\r\n  @Value(&quot;${redis.password}&quot;)\r\n  private String password;\r\n\r\n  @Value(&quot;${redis.timeout}&quot;)\r\n  private String timeout;\r\n\r\n  @Bean\r\n  public JedisConnectionFactory jedisConnectionFactory() {\r\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\r\n    redisConfiguration.setHostName(host);\r\n    redisConfiguration.setPort(port);\r\n    redisConfiguration.setDatabase(database);\r\n    redisConfiguration.setPassword(RedisPassword.of(password));\r\n\r\n    JedisClientConfigurationBuilder jedisClientConfiguration = JedisClientConfiguration.builder();\r\n    jedisClientConfiguration.connectTimeout(Duration.ofMillis(Long.parseLong(timeout)));\r\n\r\n    return new JedisConnectionFactory(redisConfiguration, jedisClientConfiguration.build());\r\n  }\r\n\r\n  @Bean\r\n  public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n    template.setConnectionFactory(jedisConnectionFactory());\r\n    return template;\r\n  }\r\n}\r\n```\r\n\r\nfor current configuration while application start I am receiving \r\n```\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method &#39;redisTemplate&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jedisConnectionFactory&#39; defined in class path resource [com/application/apigateway/intrastructure/cache/RedisConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method &#39;jedisConnectionFactory&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 33 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jedisConnectionFactory&#39; defined in class path resource [com/application/apigateway/intrastructure/cache/RedisConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method &#39;jedisConnectionFactory&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.jedisConnectionFactory(&lt;generated&gt;)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration.redisTemplate(RedisConfiguration.java:51)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.CGLIB$redisTemplate$0(&lt;generated&gt;)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244$$FastClassBySpringCGLIB$$c9ce6595.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.redisTemplate(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 34 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method &#39;jedisConnectionFactory&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 57 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnectionFactory.&lt;init&gt;(JedisConnectionFactory.java:97)\r\n\tat org.springframework.data.redis.connection.jedis.JedisConnectionFactory.&lt;init&gt;(JedisConnectionFactory.java:232)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration.jedisConnectionFactory(RedisConfiguration.java:45)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.CGLIB$jedisConnectionFactory$1(&lt;generated&gt;)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244$$FastClassBySpringCGLIB$$c9ce6595.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.jedisConnectionFactory(&lt;generated&gt;)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 58 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: redis.clients.jedis.DefaultJedisClientConfig\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 71 common frames omitted\r\n```\r\n\r\nSo far I have tried manipulating the ```redis.clients``` and ```spring-boot-starter-data-redis``` versions by decreasing and increasing it but always problems with initialization occur. Every single tutorial which I found doesn&#39;t contain configuration for the new Spring Boot application version. I Will be grateful for suggestions on how to manipulate the pom.xml version of ```redis.clients``` and ```spring-boot-starter-data-redis``` to make the application starts again. ","title":"ClassNotFoundException while JedisClient initialization in Spring Boot 2.5.4 application","body":"<p>I have a Spring Boot 2.5.4 application in which I would like to add Redis and access it via Spring Data Redis. My current configuration looks like this:</p>\n<p><code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;relativePath/&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;com.application&lt;/groupId&gt;\n  &lt;artifactId&gt;ApiGateway&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;ApiGateway&lt;/name&gt;\n  &lt;description&gt;ApiGateway&lt;/description&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;spring-boot-starter-redis.version&gt;2.5.0&lt;/spring-boot-starter-redis.version&gt;\n    &lt;redis.version&gt;3.1.0&lt;/redis.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot-starter-redis.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- OTHER DEPENDENCIES --&gt;\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n      &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n      &lt;version&gt;${redis.version}&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk-cognitoidp&lt;/artifactId&gt;\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\n      &lt;version&gt;${aws.sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- OTHER DEPENDENCIES --&gt;\n\n  &lt;/dependencies&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><code>RedisConfiguration.java</code></p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:redis.properties&quot;)\npublic class RedisConfiguration {\n\n  @Value(&quot;${redis.host}&quot;)\n  private String host;\n\n  @Value(&quot;${redis.port}&quot;)\n  private int port;\n\n  @Value(&quot;${redis.database}&quot;)\n  private int database;\n\n  @Value(&quot;${redis.password}&quot;)\n  private String password;\n\n  @Value(&quot;${redis.timeout}&quot;)\n  private String timeout;\n\n  @Bean\n  public JedisConnectionFactory jedisConnectionFactory() {\n    RedisStandaloneConfiguration redisConfiguration = new RedisStandaloneConfiguration();\n    redisConfiguration.setHostName(host);\n    redisConfiguration.setPort(port);\n    redisConfiguration.setDatabase(database);\n    redisConfiguration.setPassword(RedisPassword.of(password));\n\n    JedisClientConfigurationBuilder jedisClientConfiguration = JedisClientConfiguration.builder();\n    jedisClientConfiguration.connectTimeout(Duration.ofMillis(Long.parseLong(timeout)));\n\n    return new JedisConnectionFactory(redisConfiguration, jedisClientConfiguration.build());\n  }\n\n  @Bean\n  public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(jedisConnectionFactory());\n    return template;\n  }\n}\n</code></pre>\n<p>for current configuration while application start I am receiving</p>\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.core.RedisTemplate]: Factory method 'redisTemplate' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jedisConnectionFactory' defined in class path resource [com/application/apigateway/intrastructure/cache/RedisConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method 'jedisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 33 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jedisConnectionFactory' defined in class path resource [com/application/apigateway/intrastructure/cache/RedisConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method 'jedisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.jedisConnectionFactory(&lt;generated&gt;)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration.redisTemplate(RedisConfiguration.java:51)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.CGLIB$redisTemplate$0(&lt;generated&gt;)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244$$FastClassBySpringCGLIB$$c9ce6595.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.redisTemplate(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 34 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.redis.connection.jedis.JedisConnectionFactory]: Factory method 'jedisConnectionFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 57 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: redis/clients/jedis/DefaultJedisClientConfig\n    at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.&lt;init&gt;(JedisConnectionFactory.java:97)\n    at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.&lt;init&gt;(JedisConnectionFactory.java:232)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration.jedisConnectionFactory(RedisConfiguration.java:45)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.CGLIB$jedisConnectionFactory$1(&lt;generated&gt;)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244$$FastClassBySpringCGLIB$$c9ce6595.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com.application.apigateway.intrastructure.cache.RedisConfiguration$$EnhancerBySpringCGLIB$$63c8a244.jedisConnectionFactory(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 58 common frames omitted\nCaused by: java.lang.ClassNotFoundException: redis.clients.jedis.DefaultJedisClientConfig\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 71 common frames omitted\n</code></pre>\n<p>So far I have tried manipulating the <code>redis.clients</code> and <code>spring-boot-starter-data-redis</code> versions by decreasing and increasing it but always problems with initialization occur. Every single tutorial which I found doesn't contain configuration for the new Spring Boot application version. I Will be grateful for suggestions on how to manipulate the pom.xml version of <code>redis.clients</code> and <code>spring-boot-starter-data-redis</code> to make the application starts again.</p>\n"},{"tags":["java","selenium-webdriver","testing","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688374227,"creation_date":1688373880,"answer_id":76603166,"question_id":76601437,"body_markdown":"Use below XPath expression for first product:\r\n````\r\n(//h5[@class=&#39;product-card__title&#39;])[1]\r\n````\r\n\r\nFor second product:\r\n````\r\n(//h5[@class=&#39;product-card__title&#39;])[2]\r\n````\r\nand so on..\r\n\r\n**Working code for your reference:**\r\n````\r\npublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.lcwaikiki.com/tr-TR/TR/kategori/erkek/tisort&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\r\n\t\t\r\n\t\t// Accept cookies\r\n\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;T&#252;m &#199;erezlere İzin Ver&#39;]&quot;))).click();\r\n\t\t\r\n\t\t// Click on first product\r\n\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//h5[@class=&#39;product-card__title&#39;])[1]&quot;))).click();\r\n\r\n}\r\n````\r\n\r\nImports required:\r\n````\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport java.time.Duration;\r\nimport org.openqa.selenium.By;\r\n````","title":"How can i make click between same class name, same name and same title on Selenium Java","body":"<p>Use below XPath expression for first product:</p>\n<pre><code>(//h5[@class='product-card__title'])[1]\n</code></pre>\n<p>For second product:</p>\n<pre><code>(//h5[@class='product-card__title'])[2]\n</code></pre>\n<p>and so on..</p>\n<p><strong>Working code for your reference:</strong></p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.lcwaikiki.com/tr-TR/TR/kategori/erkek/tisort&quot;);\n        driver.manage().window().maximize();\n        WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\n        \n        // Accept cookies\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Tüm Çerezlere İzin Ver']&quot;))).click();\n        \n        // Click on first product\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//h5[@class='product-card__title'])[1]&quot;))).click();\n\n}\n</code></pre>\n<p>Imports required:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport java.time.Duration;\nimport org.openqa.selenium.By;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16369709,"reputation":393,"user_id":11823237,"display_name":"Lakshitha Samod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688448144,"creation_date":1688448144,"answer_id":76609591,"question_id":76601437,"body_markdown":"I also faced this same issue. If you want to always click on the first product on the page, you can modify your code to **use the findElements method instead of findElement** and then select the first element from the list.\r\n\r\nIn below code, findElements returns a list of all elements matching the given XPath expression. Then, we check if the list is not empty to ensure that there is at least one product on the page. If there is a product, we select the first element from the list using get(0) and click on it.\r\n\r\n\r\n    List&lt;WebElement&gt; products = driver.findElements(By.xpath(&quot;//h5[@class=&#39;product-card__title&#39;]&quot;));\r\n    if (!products.isEmpty()) {\r\n        WebElement buttonToClick = products.get(0);\r\n        buttonToClick.click();\r\n    }\r\n\r\n","title":"How can i make click between same class name, same name and same title on Selenium Java","body":"<p>I also faced this same issue. If you want to always click on the first product on the page, you can modify your code to <strong>use the findElements method instead of findElement</strong> and then select the first element from the list.</p>\n<p>In below code, findElements returns a list of all elements matching the given XPath expression. Then, we check if the list is not empty to ensure that there is at least one product on the page. If there is a product, we select the first element from the list using get(0) and click on it.</p>\n<pre><code>List&lt;WebElement&gt; products = driver.findElements(By.xpath(&quot;//h5[@class='product-card__title']&quot;));\nif (!products.isEmpty()) {\n    WebElement buttonToClick = products.get(0);\n    buttonToClick.click();\n}\n</code></pre>\n"}],"owner":{"account_id":28937823,"reputation":1,"user_id":22164971,"display_name":"apocistaken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688448144,"creation_date":1688348751,"question_id":76601437,"body_markdown":"https://www.lcwaikiki.com/tr-TR/TR/kategori/erkek/tisort \r\n\r\nOn this page all products have same XPath and when I wanna click on product my test is fail.\r\n**I don&#39;t wanna click specific item, I always wanna click to first product**.\r\n\r\nI&#39;m trying to click on with this code:\r\n```` \r\nWebElement butttonToClick = driver.findElement(By.xpath(&quot;//h5[@class=&#39;product-card__title&#39;]&quot;));\r\nbutttonToClick.click();\r\n````\r\nI always change the XPath and also try to click on second or third item but it&#39;s not work. I&#39;m newbie I couldn&#39;t find a solution for that thanks for your time guys.","title":"How can i make click between same class name, same name and same title on Selenium Java","body":"<p><a href=\"https://www.lcwaikiki.com/tr-TR/TR/kategori/erkek/tisort\" rel=\"nofollow noreferrer\">https://www.lcwaikiki.com/tr-TR/TR/kategori/erkek/tisort</a></p>\n<p>On this page all products have same XPath and when I wanna click on product my test is fail.\n<strong>I don't wanna click specific item, I always wanna click to first product</strong>.</p>\n<p>I'm trying to click on with this code:</p>\n<pre><code>WebElement butttonToClick = driver.findElement(By.xpath(&quot;//h5[@class='product-card__title']&quot;));\nbutttonToClick.click();\n</code></pre>\n<p>I always change the XPath and also try to click on second or third item but it's not work. I'm newbie I couldn't find a solution for that thanks for your time guys.</p>\n"},{"tags":["java","android","android-mediaplayer"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688397147,"post_id":76604034,"comment_id":135065411,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":26624667,"reputation":9,"user_id":20242890,"display_name":"Joe john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688447303,"creation_date":1688381400,"question_id":76604034,"body_markdown":"I&#39;ve developed a media player that plays music and displays a notification with controls for play, pause next, and previous functions. I need the app to play its notification in media player just like Spotify thanks in advance\r\n\r\n[this is my current notification](https://i.stack.imgur.com/sBG7q.jpg)\r\n[this is the work i intented](https://i.stack.imgur.com/dg1j7.jpg)\r\n\r\nmy BackgroundMusicService \r\n```\r\npackage com.example.knowyourtemple.view.service;\r\n\r\nimport static androidx.fragment.app.FragmentManager.TAG;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.app.PendingIntent;\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.media.MediaPlayer;\r\nimport android.net.Uri;\r\nimport android.os.Binder;\r\nimport android.os.Build;\r\nimport android.os.Handler;\r\nimport android.os.IBinder;\r\nimport android.support.v4.media.session.MediaSessionCompat;\r\nimport android.util.Log;\r\nimport android.widget.RemoteViews;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.NotificationCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.media.app.NotificationCompat.MediaStyle;\r\n\r\nimport com.example.knowyourtemple.MainActivity;\r\nimport com.example.knowyourtemple.R;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class BackgroundMusicService extends Service implements MediaPlayer.OnPreparedListener {\r\n    public static final String ACTION_START = &quot;com.example.knowyourtemple.START&quot;;\r\n    public static final String ACTION_PAUSE = &quot;com.example.knowyourtemple.PAUSE&quot;;\r\n    public static final String ACTION_RESUME = &quot;com.example.knowyourtemple.RESUME&quot;;\r\n    public static final String ACTION_SEEK = &quot;com.example.knowyourtemple.SEEK&quot;;\r\n    public static final String ACTION_PREVIOUS = &quot;com.example.knowyourtemple.PREVIOUS&quot;;\r\n    public static final String ACTION_NEXT = &quot;com.example.knowyourtemple.NEXT&quot;;\r\n    private Handler handler = new Handler();\r\n\r\n    private MediaPlayer mediaPlayer;\r\n    private String currentSongName;\r\n    private static final int NOTIFICATION_ID = 1;\r\n    private static final String CHANNEL_ID = &quot;background_music_channel&quot;;\r\n    private NotificationManager notificationManager;\r\n    private MediaSessionCompat mediaSession;\r\n\r\n    private boolean isPlaying = false;\r\n    private int currentPosition;\r\n    private int duration;\r\n    private final IBinder binder = new LocalBinder();\r\n    private MusicPlayerCallback callback;\r\n    private Fragment fragment;\r\n\r\n    public void setFragment(Fragment fragment) {\r\n        this.fragment = fragment;\r\n    }\r\n\r\n    public interface MusicPlayerCallback {\r\n        void onPrepared(int duration);\r\n\r\n        void onProgress(int progress, int max);\r\n\r\n        void onNextSong();\r\n\r\n        void onPreviousSong();\r\n\r\n        void onResumeSong();\r\n\r\n        void onPauseSong();\r\n    }\r\n\r\n    public class LocalBinder extends Binder {\r\n        public BackgroundMusicService getService() {\r\n            return BackgroundMusicService.this;\r\n        }\r\n    }\r\n\r\n    public void setCallback(MusicPlayerCallback callback) {\r\n        this.callback = callback;\r\n    }\r\n\r\n    public MusicPlayerCallback getCallback() {\r\n        return callback;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        mediaPlayer = new MediaPlayer();\r\n        mediaPlayer.setOnPreparedListener(this);\r\n        notificationManager = getSystemService(NotificationManager.class);\r\n        mediaSession = new MediaSessionCompat(this, &quot;BackgroundMusicService&quot;);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;Background Music&quot;, NotificationManager.IMPORTANCE_LOW);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        if (intent != null) {\r\n            String action = intent.getAction();\r\n            if (action != null) {\r\n                if (action.equals(ACTION_START)) {\r\n                    String fileName = intent.getStringExtra(&quot;FileName&quot;);\r\n                    String songName = intent.getStringExtra(&quot;SongName&quot;);\r\n                    int startPosition = intent.getIntExtra(&quot;StartPosition&quot;, 0);\r\n                    mediaPlayer.seekTo(startPosition);\r\n\r\n                    startMusic(fileName, songName);\r\n                } else if (action.equals(ACTION_PAUSE)) {\r\n                    pauseMusic();\r\n                } else if (action.equals(ACTION_RESUME)) {\r\n                    resumeMusic();\r\n                } else if (action.equals(ACTION_SEEK)) {\r\n                    int position = intent.getIntExtra(&quot;Position&quot;, 0);\r\n                    seekToPosition(position);\r\n                } else if (action.equals(ACTION_NEXT)) {\r\n                    playNextSong();\r\n                } else if (action.equals(ACTION_PREVIOUS)) {\r\n                    playPreviousSong();\r\n                }\r\n            }\r\n        }\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n\r\n    public void pauseMusic() {\r\n        if (mediaPlayer.isPlaying()) {\r\n            mediaPlayer.pause();\r\n            currentPosition = mediaPlayer.getCurrentPosition();\r\n            isPlaying = false;\r\n            mediaSession.setActive(false);\r\n            showNotification();\r\n\r\n            if (callback != null) {\r\n                callback.onPauseSong();\r\n            }\r\n        }\r\n        handler.removeCallbacksAndMessages(null);\r\n    }\r\n\r\n    public void resumeMusic() {\r\n        if (!mediaPlayer.isPlaying()) {\r\n            mediaPlayer.seekTo(currentPosition);\r\n            mediaPlayer.start();\r\n            isPlaying = true;\r\n            mediaSession.setActive(true);\r\n            showNotification();\r\n\r\n            if (callback != null) {\r\n                callback.onResumeSong();\r\n            }\r\n        }\r\n        updateNotificationProgressPeriodically();\r\n    }\r\n\r\n    private void playPreviousSong() {\r\n        if (callback != null) {\r\n            callback.onPreviousSong();\r\n        }\r\n    }\r\n\r\n    public void playNextSong() {\r\n        if (callback != null) {\r\n            callback.onNextSong();\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n    public void startMusic(String fileName, String songName) {\r\n        if (fileName != null) {\r\n            isPlaying = true;\r\n            currentSongName = songName;\r\n            Log.d(TAG, &quot;startMusic: &quot; + currentSongName);\r\n            int resourceId = getResources().getIdentifier(fileName, &quot;raw&quot;, getPackageName());\r\n            Uri uri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + resourceId);\r\n\r\n            try {\r\n                mediaPlayer.reset();\r\n                mediaPlayer.setDataSource(getApplicationContext(), uri);\r\n                mediaPlayer.prepareAsync();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void seekToPosition(int position) {\r\n        if (mediaPlayer.isPlaying()) {\r\n            mediaPlayer.seekTo(position);\r\n            showNotification();\r\n        }\r\n    }\r\n\r\n    public int getCurrentPosition() {\r\n        return mediaPlayer.getCurrentPosition();\r\n    }\r\n\r\n    public int getDuration() {\r\n        return mediaPlayer.getDuration();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return binder;\r\n    }\r\n\r\n    @Override\r\n    public void onPrepared(MediaPlayer mediaPlayer) {\r\n        duration = mediaPlayer.getDuration();\r\n        // Notify the callback that the media player is prepared\r\n        if (callback != null) {\r\n            callback.onPrepared(duration);\r\n        }\r\n        mediaPlayer.start();\r\n        showNotification();\r\n        updateNotificationProgressPeriodically();\r\n\r\n        if (currentPosition &gt; 0) {\r\n            mediaPlayer.seekTo(currentPosition);\r\n            currentPosition = 0; // Reset the saved position\r\n        }\r\n    }\r\n\r\n    private void updateNotificationProgressPeriodically() {\r\n        // Create a new Runnable that will update the progress and post it with a delay of 1 second\r\n        Runnable progressUpdateRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // Update the progress of the SeekBar in the notification\r\n                showNotification();\r\n\r\n                // Post the same Runnable again after a delay of 1 second\r\n                handler.postDelayed(this, 1000);\r\n            }\r\n        };\r\n\r\n        // Start the periodic progress update\r\n        handler.post(progressUpdateRunnable);\r\n    }\r\n\r\n \r\n private void showNotification() {\r\n     // Create the notification channel (if needed)\r\n     createNotificationChannel();\r\n\r\n     int progress = mediaPlayer.getCurrentPosition();\r\n     int max = mediaPlayer.getDuration();\r\n\r\n     if (callback != null) {\r\n         callback.onProgress(progress, max);\r\n     }\r\n\r\n     // Create the remote views for the custom layout\r\n     RemoteViews contentView = new RemoteViews(getPackageName(), R.layout.custom_notification_layout);\r\n\r\n     contentView.setTextViewText(R.id.subtitleTextView, currentSongName);\r\n\r\n     // Set the progress bar\r\n     contentView.setProgressBar(R.id.progressSeekBar, max, progress, false);\r\n\r\n     // Set the playback buttons\r\n     contentView.setOnClickPendingIntent(R.id.notification_previousButton, createPendingIntent(ACTION_PREVIOUS));\r\n\r\n     String action = isPlaying ? ACTION_PAUSE : ACTION_RESUME;\r\n     int playPauseIconResId = isPlaying ? R.drawable.baseline_pause_24 : R.drawable.baseline_play_arrow_24;\r\n\r\n     contentView.setOnClickPendingIntent(R.id.notification_playPauseButton, createPendingIntent(action));\r\n     contentView.setImageViewResource(R.id.notification_playPauseButton, playPauseIconResId);\r\n     contentView.setInt(R.id.notification_playPauseButton, &quot;setImageResource&quot;, playPauseIconResId);\r\n\r\n     contentView.setOnClickPendingIntent(R.id.notification_nextButton, createPendingIntent(ACTION_NEXT));\r\n\r\n     // Create the pending intent for the notification\r\n     Intent intent = new Intent(this, MainActivity.class);\r\n     PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n     // Create the notification builder\r\n     NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n             .setSmallIcon(R.drawable.ic_music_note)\r\n             .setContentIntent(pendingIntent)\r\n             .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n             .setShowWhen(false)\r\n             .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n             .setCustomContentView(contentView)\r\n             .setOngoing(true); // Set the notification as ongoing (cannot be dismissed by the user)\r\n\r\n     // Set the large icon\r\n     Bitmap largeIcon = BitmapFactory.decodeResource(getResources(), R.drawable.ic_music_icon);\r\n     builder.setLargeIcon(largeIcon);\r\n\r\n     // Update the notification\r\n     notificationManager.notify(NOTIFICATION_ID, builder.build());\r\n }\r\n\r\n\r\n    private PendingIntent createPendingIntent(String action) {\r\n        Intent intent = new Intent(this, BackgroundMusicService.class);\r\n        intent.setAction(action);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            return PendingIntent.getService(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n        } else {\r\n            return PendingIntent.getService(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = &quot;Background Music Channel&quot;;\r\n            String description = &quot;Channel for background music playback&quot;;\r\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n            channel.setDescription(description);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        if (mediaPlayer != null) {\r\n            mediaPlayer.release();\r\n            mediaPlayer = null;\r\n        }\r\n        mediaSession.release();\r\n        stopForeground(true);\r\n        stopSelf();\r\n    }\r\n}\r\n\r\n```\r\nthis is fragment\r\n\r\n```\r\npackage com.example.knowyourtemple.view.activity;\r\n\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.ServiceConnection;\r\nimport android.media.MediaPlayer;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.IBinder;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.SeekBar;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.request.RequestOptions;\r\nimport com.example.knowyourtemple.R;\r\nimport com.example.knowyourtemple.businesslogic.pojo.PojoMusic;\r\nimport com.example.knowyourtemple.databinding.FragmentPlayMusicBinding;\r\nimport com.example.knowyourtemple.view.service.BackgroundMusicService;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class FragmentPlayMusic extends Fragment implements BackgroundMusicService.MusicPlayerCallback {\r\n\r\n    private FragmentPlayMusicBinding binding;\r\n    private Button playButton;\r\n    private Button previousButton;\r\n    private Button nextButton;\r\n    private SeekBar seekBar;\r\n    private int currentPosition = 0;\r\n    private boolean isPlaying = false;\r\n    private ArrayList&lt;PojoMusic&gt; musicList;\r\n    private Handler handler;\r\n    private Runnable runnable;\r\n    private MediaPlayer mediaPlayer;\r\n    private BackgroundMusicService backgroundMusicService;\r\n    private BackgroundMusicService.MusicPlayerCallback callback;\r\n\r\n    private ServiceConnection connection = new ServiceConnection() {\r\n        @Override\r\n        public void onServiceConnected(ComponentName componentName, IBinder iBinder) {\r\n            if (iBinder instanceof BackgroundMusicService.LocalBinder) {\r\n                BackgroundMusicService.LocalBinder binder = (BackgroundMusicService.LocalBinder) iBinder;\r\n                backgroundMusicService = binder.getService();\r\n                callback = FragmentPlayMusic.this;  // Assign the callback from the fragment itself\r\n                backgroundMusicService.setCallback(callback);  // Set the callback in the service\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onServiceDisconnected(ComponentName componentName) {\r\n            backgroundMusicService = null;\r\n        }\r\n    };\r\n\r\n    public static FragmentPlayMusic newInstance(PojoMusic music, ArrayList&lt;PojoMusic&gt; musicList) {\r\n        FragmentPlayMusic fragment = new FragmentPlayMusic();\r\n        Bundle args = new Bundle();\r\n        args.putSerializable(&quot;PojoMusic&quot;, music);\r\n        args.putSerializable(&quot;MusicList&quot;, musicList);\r\n        args.putInt(&quot;StartPosition&quot;, 0); // Add the start position argument\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        binding = FragmentPlayMusicBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        PojoMusic music = (PojoMusic) getArguments().getSerializable(&quot;PojoMusic&quot;);\r\n        musicList = (ArrayList&lt;PojoMusic&gt;) getArguments().getSerializable(&quot;MusicList&quot;);\r\n        binding.setMusic(music);\r\n        Glide.with(requireContext())\r\n                .load(music.getImg())\r\n                .apply(RequestOptions.circleCropTransform())\r\n                .placeholder(R.drawable.ic_setting_banner)\r\n                .into(binding.video);\r\n\r\n        binding.playButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (isPlaying) {\r\n                    pauseMusic();\r\n                } else {\r\n                    startMusic();\r\n                }\r\n                togglePlayButtonImage();\r\n            }\r\n        });\r\n        bindMusicService();\r\n\r\n        binding.previousbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                playPreviousSong();\r\n            }\r\n        });\r\n\r\n        binding.nextbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                playNextSong();\r\n            }\r\n        });\r\n\r\n        seekBar = binding.seekBar;\r\n\r\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n            /*    if (fromUser) {\r\n                    seekToPosition(progress);\r\n                }*/\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n                handler.removeCallbacks(runnable);\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n                int progress = seekBar.getProgress();\r\n                seekToPosition(progress);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    public void playPreviousSong() {\r\n        if (musicList != null &amp;&amp; musicList.size() &gt; 1) {\r\n            currentPosition--;\r\n            if (currentPosition &lt; 0) {\r\n                currentPosition = musicList.size() - 1; // Wrap around to the last song\r\n            }\r\n            playCurrentSong();\r\n            startMusic();\r\n        }\r\n    }\r\n    public void playNextSong() {\r\n        if (musicList != null &amp;&amp; musicList.size() &gt; 1) {\r\n            currentPosition++;\r\n            if (currentPosition &gt;= musicList.size()) {\r\n                currentPosition = 0; // Wrap around to the first song\r\n            }\r\n            playCurrentSong();\r\n            startMusic();\r\n        }\r\n    }\r\n\r\n\r\n    private void playCurrentSong() {\r\n        if (musicList != null &amp;&amp; currentPosition &gt;= 0 &amp;&amp; currentPosition &lt; musicList.size()) {\r\n            PojoMusic currentMusic = musicList.get(currentPosition);\r\n            binding.setMusic(currentMusic);\r\n\r\n            if (mediaPlayer != null) {\r\n                if (mediaPlayer.isPlaying()) {\r\n                    mediaPlayer.stop();\r\n                }\r\n                mediaPlayer.release();\r\n            }\r\n\r\n            initializeMediaPlayer();\r\n            startMusic(); // Call startMusic() after initializing the MediaPlayer\r\n        }\r\n    }\r\n\r\n    private void initializeMediaPlayer() {\r\n        PojoMusic music = (PojoMusic) getArguments().getSerializable(&quot;PojoMusic&quot;);\r\n        String songResourceName = music.getSongResourceName();\r\n        int songResourceId = getResources().getIdentifier(songResourceName, &quot;raw&quot;, requireActivity().getPackageName());\r\n\r\n        mediaPlayer = MediaPlayer.create(getActivity(), songResourceId);\r\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mediaPlayer) {\r\n                playNextSong();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void startMusic() {\r\n        isPlaying = true;\r\n        String fileName = binding.getMusic().getSongResourceName();\r\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\r\n        serviceIntent.setAction(BackgroundMusicService.ACTION_START);\r\n        serviceIntent.putExtra(&quot;FileName&quot;, fileName);\r\n        String songName = binding.getMusic().getName();\r\n        serviceIntent.putExtra(&quot;SongName&quot;, songName);\r\n        // Get the last known position from the service and pass it to the intent\r\n        BackgroundMusicService musicService = getMusicService();\r\n        if (musicService != null) {\r\n            int currentPosition = musicService.getCurrentPosition();\r\n            serviceIntent.putExtra(&quot;Position&quot;, currentPosition);\r\n        }\r\n\r\n        requireActivity().startService(serviceIntent);\r\n        updateSeekBarProgress();\r\n    }\r\n\r\n    private void pauseMusic() {\r\n        isPlaying = false;\r\n        if (backgroundMusicService != null) {\r\n            backgroundMusicService.pauseMusic();\r\n        }\r\n        handler.removeCallbacks(runnable);\r\n    }\r\n\r\n    private void togglePlayButtonImage() {\r\n        if (isPlaying) {\r\n            binding.playButton.setImageResource(R.drawable.baseline_pause_24);\r\n        } else {\r\n            binding.playButton.setImageResource(R.drawable.baseline_play_arrow_24);\r\n        }\r\n    }\r\n\r\n\r\n    private void updateSeekBarProgress() {\r\n        if (handler != null &amp;&amp; runnable != null) {\r\n            // Remove any existing callbacks to prevent multiple Runnables running simultaneously\r\n            handler.removeCallbacks(runnable);\r\n        }\r\n        handler = new Handler();\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n                BackgroundMusicService musicService = getMusicService();\r\n                if (musicService != null) {\r\n                    int currentPosition = musicService.getCurrentPosition();\r\n                    int duration = musicService.getDuration();\r\n                    seekBar.setMax(duration);\r\n                    seekBar.setProgress(currentPosition);\r\n                    // Notify the callback with the progress values\r\n                    callback.onProgress(currentPosition, duration);\r\n                }\r\n                handler.postDelayed(this, 1000);\r\n            }\r\n        };\r\n        handler.postDelayed(runnable, 0);\r\n    }\r\n\r\n    private BackgroundMusicService getMusicService() {\r\n        return backgroundMusicService;\r\n    }\r\n\r\n    private void seekToPosition(int position) {\r\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\r\n        serviceIntent.setAction(BackgroundMusicService.ACTION_SEEK);\r\n        serviceIntent.putExtra(&quot;Position&quot;, position);\r\n        requireActivity().startService(serviceIntent);\r\n    }\r\n\r\n    private void bindMusicService() {\r\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\r\n        requireActivity().bindService(serviceIntent, connection, Context.BIND_AUTO_CREATE);\r\n        if (backgroundMusicService != null) {\r\n            backgroundMusicService.setCallback(this);\r\n        }\r\n    }\r\n\r\n    private void unbindMusicService() {\r\n        requireActivity().unbindService(connection);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n\r\n        // Remove any pending callbacks from the handler\r\n        if (handler != null &amp;&amp; runnable != null) {\r\n            handler.removeCallbacks(runnable);\r\n        }\r\n\r\n        // Unbind the service when the fragment is destroyed\r\n        unbindMusicService();\r\n\r\n        // Stop the service when the fragment is destroyed\r\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\r\n        requireActivity().stopService(serviceIntent);\r\n\r\n        binding = null;\r\n    }\r\n\r\n    @Override\r\n    public void onPrepared(int duration) {\r\n        seekBar.setMax(duration);\r\n    }\r\n\r\n    @Override\r\n    public void onProgress(int progress, int max) {\r\n        seekBar.setProgress(progress);\r\n        seekBar.setMax(max);\r\n    }\r\n\r\n    @Override\r\n    public void onNextSong() {\r\n        playNextSong();\r\n    }\r\n\r\n    @Override\r\n    public void onPreviousSong() {\r\n       playPreviousSong();\r\n    }\r\n\r\n    @Override\r\n    public void onResumeSong() {\r\n        startMusic();\r\n        togglePlayButtonImage();\r\n    }\r\n\r\n    @Override\r\n    public void onPauseSong() {\r\n        pauseMusic();\r\n        togglePlayButtonImage();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI want my notification to work like Spotify","title":"mediaplayer with notification in android java","body":"<p>I've developed a media player that plays music and displays a notification with controls for play, pause next, and previous functions. I need the app to play its notification in media player just like Spotify thanks in advance</p>\n<p><a href=\"https://i.stack.imgur.com/sBG7q.jpg\" rel=\"nofollow noreferrer\">this is my current notification</a>\n<a href=\"https://i.stack.imgur.com/dg1j7.jpg\" rel=\"nofollow noreferrer\">this is the work i intented</a></p>\n<p>my BackgroundMusicService</p>\n<pre><code>package com.example.knowyourtemple.view.service;\n\nimport static androidx.fragment.app.FragmentManager.TAG;\n\nimport android.annotation.SuppressLint;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.app.PendingIntent;\nimport android.app.Service;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.media.MediaPlayer;\nimport android.net.Uri;\nimport android.os.Binder;\nimport android.os.Build;\nimport android.os.Handler;\nimport android.os.IBinder;\nimport android.support.v4.media.session.MediaSessionCompat;\nimport android.util.Log;\nimport android.widget.RemoteViews;\n\nimport androidx.annotation.Nullable;\nimport androidx.core.app.NotificationCompat;\nimport androidx.fragment.app.Fragment;\nimport androidx.media.app.NotificationCompat.MediaStyle;\n\nimport com.example.knowyourtemple.MainActivity;\nimport com.example.knowyourtemple.R;\n\nimport java.io.IOException;\n\npublic class BackgroundMusicService extends Service implements MediaPlayer.OnPreparedListener {\n    public static final String ACTION_START = &quot;com.example.knowyourtemple.START&quot;;\n    public static final String ACTION_PAUSE = &quot;com.example.knowyourtemple.PAUSE&quot;;\n    public static final String ACTION_RESUME = &quot;com.example.knowyourtemple.RESUME&quot;;\n    public static final String ACTION_SEEK = &quot;com.example.knowyourtemple.SEEK&quot;;\n    public static final String ACTION_PREVIOUS = &quot;com.example.knowyourtemple.PREVIOUS&quot;;\n    public static final String ACTION_NEXT = &quot;com.example.knowyourtemple.NEXT&quot;;\n    private Handler handler = new Handler();\n\n    private MediaPlayer mediaPlayer;\n    private String currentSongName;\n    private static final int NOTIFICATION_ID = 1;\n    private static final String CHANNEL_ID = &quot;background_music_channel&quot;;\n    private NotificationManager notificationManager;\n    private MediaSessionCompat mediaSession;\n\n    private boolean isPlaying = false;\n    private int currentPosition;\n    private int duration;\n    private final IBinder binder = new LocalBinder();\n    private MusicPlayerCallback callback;\n    private Fragment fragment;\n\n    public void setFragment(Fragment fragment) {\n        this.fragment = fragment;\n    }\n\n    public interface MusicPlayerCallback {\n        void onPrepared(int duration);\n\n        void onProgress(int progress, int max);\n\n        void onNextSong();\n\n        void onPreviousSong();\n\n        void onResumeSong();\n\n        void onPauseSong();\n    }\n\n    public class LocalBinder extends Binder {\n        public BackgroundMusicService getService() {\n            return BackgroundMusicService.this;\n        }\n    }\n\n    public void setCallback(MusicPlayerCallback callback) {\n        this.callback = callback;\n    }\n\n    public MusicPlayerCallback getCallback() {\n        return callback;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mediaPlayer = new MediaPlayer();\n        mediaPlayer.setOnPreparedListener(this);\n        notificationManager = getSystemService(NotificationManager.class);\n        mediaSession = new MediaSessionCompat(this, &quot;BackgroundMusicService&quot;);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;Background Music&quot;, NotificationManager.IMPORTANCE_LOW);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        if (intent != null) {\n            String action = intent.getAction();\n            if (action != null) {\n                if (action.equals(ACTION_START)) {\n                    String fileName = intent.getStringExtra(&quot;FileName&quot;);\n                    String songName = intent.getStringExtra(&quot;SongName&quot;);\n                    int startPosition = intent.getIntExtra(&quot;StartPosition&quot;, 0);\n                    mediaPlayer.seekTo(startPosition);\n\n                    startMusic(fileName, songName);\n                } else if (action.equals(ACTION_PAUSE)) {\n                    pauseMusic();\n                } else if (action.equals(ACTION_RESUME)) {\n                    resumeMusic();\n                } else if (action.equals(ACTION_SEEK)) {\n                    int position = intent.getIntExtra(&quot;Position&quot;, 0);\n                    seekToPosition(position);\n                } else if (action.equals(ACTION_NEXT)) {\n                    playNextSong();\n                } else if (action.equals(ACTION_PREVIOUS)) {\n                    playPreviousSong();\n                }\n            }\n        }\n        return super.onStartCommand(intent, flags, startId);\n    }\n\n    public void pauseMusic() {\n        if (mediaPlayer.isPlaying()) {\n            mediaPlayer.pause();\n            currentPosition = mediaPlayer.getCurrentPosition();\n            isPlaying = false;\n            mediaSession.setActive(false);\n            showNotification();\n\n            if (callback != null) {\n                callback.onPauseSong();\n            }\n        }\n        handler.removeCallbacksAndMessages(null);\n    }\n\n    public void resumeMusic() {\n        if (!mediaPlayer.isPlaying()) {\n            mediaPlayer.seekTo(currentPosition);\n            mediaPlayer.start();\n            isPlaying = true;\n            mediaSession.setActive(true);\n            showNotification();\n\n            if (callback != null) {\n                callback.onResumeSong();\n            }\n        }\n        updateNotificationProgressPeriodically();\n    }\n\n    private void playPreviousSong() {\n        if (callback != null) {\n            callback.onPreviousSong();\n        }\n    }\n\n    public void playNextSong() {\n        if (callback != null) {\n            callback.onNextSong();\n        }\n    }\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    public void startMusic(String fileName, String songName) {\n        if (fileName != null) {\n            isPlaying = true;\n            currentSongName = songName;\n            Log.d(TAG, &quot;startMusic: &quot; + currentSongName);\n            int resourceId = getResources().getIdentifier(fileName, &quot;raw&quot;, getPackageName());\n            Uri uri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + resourceId);\n\n            try {\n                mediaPlayer.reset();\n                mediaPlayer.setDataSource(getApplicationContext(), uri);\n                mediaPlayer.prepareAsync();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private void seekToPosition(int position) {\n        if (mediaPlayer.isPlaying()) {\n            mediaPlayer.seekTo(position);\n            showNotification();\n        }\n    }\n\n    public int getCurrentPosition() {\n        return mediaPlayer.getCurrentPosition();\n    }\n\n    public int getDuration() {\n        return mediaPlayer.getDuration();\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return binder;\n    }\n\n    @Override\n    public void onPrepared(MediaPlayer mediaPlayer) {\n        duration = mediaPlayer.getDuration();\n        // Notify the callback that the media player is prepared\n        if (callback != null) {\n            callback.onPrepared(duration);\n        }\n        mediaPlayer.start();\n        showNotification();\n        updateNotificationProgressPeriodically();\n\n        if (currentPosition &gt; 0) {\n            mediaPlayer.seekTo(currentPosition);\n            currentPosition = 0; // Reset the saved position\n        }\n    }\n\n    private void updateNotificationProgressPeriodically() {\n        // Create a new Runnable that will update the progress and post it with a delay of 1 second\n        Runnable progressUpdateRunnable = new Runnable() {\n            @Override\n            public void run() {\n                // Update the progress of the SeekBar in the notification\n                showNotification();\n\n                // Post the same Runnable again after a delay of 1 second\n                handler.postDelayed(this, 1000);\n            }\n        };\n\n        // Start the periodic progress update\n        handler.post(progressUpdateRunnable);\n    }\n\n \n private void showNotification() {\n     // Create the notification channel (if needed)\n     createNotificationChannel();\n\n     int progress = mediaPlayer.getCurrentPosition();\n     int max = mediaPlayer.getDuration();\n\n     if (callback != null) {\n         callback.onProgress(progress, max);\n     }\n\n     // Create the remote views for the custom layout\n     RemoteViews contentView = new RemoteViews(getPackageName(), R.layout.custom_notification_layout);\n\n     contentView.setTextViewText(R.id.subtitleTextView, currentSongName);\n\n     // Set the progress bar\n     contentView.setProgressBar(R.id.progressSeekBar, max, progress, false);\n\n     // Set the playback buttons\n     contentView.setOnClickPendingIntent(R.id.notification_previousButton, createPendingIntent(ACTION_PREVIOUS));\n\n     String action = isPlaying ? ACTION_PAUSE : ACTION_RESUME;\n     int playPauseIconResId = isPlaying ? R.drawable.baseline_pause_24 : R.drawable.baseline_play_arrow_24;\n\n     contentView.setOnClickPendingIntent(R.id.notification_playPauseButton, createPendingIntent(action));\n     contentView.setImageViewResource(R.id.notification_playPauseButton, playPauseIconResId);\n     contentView.setInt(R.id.notification_playPauseButton, &quot;setImageResource&quot;, playPauseIconResId);\n\n     contentView.setOnClickPendingIntent(R.id.notification_nextButton, createPendingIntent(ACTION_NEXT));\n\n     // Create the pending intent for the notification\n     Intent intent = new Intent(this, MainActivity.class);\n     PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n\n     // Create the notification builder\n     NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID)\n             .setSmallIcon(R.drawable.ic_music_note)\n             .setContentIntent(pendingIntent)\n             .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n             .setShowWhen(false)\n             .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n             .setCustomContentView(contentView)\n             .setOngoing(true); // Set the notification as ongoing (cannot be dismissed by the user)\n\n     // Set the large icon\n     Bitmap largeIcon = BitmapFactory.decodeResource(getResources(), R.drawable.ic_music_icon);\n     builder.setLargeIcon(largeIcon);\n\n     // Update the notification\n     notificationManager.notify(NOTIFICATION_ID, builder.build());\n }\n\n\n    private PendingIntent createPendingIntent(String action) {\n        Intent intent = new Intent(this, BackgroundMusicService.class);\n        intent.setAction(action);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            return PendingIntent.getService(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n        } else {\n            return PendingIntent.getService(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n    }\n\n\n\n    private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            CharSequence name = &quot;Background Music Channel&quot;;\n            String description = &quot;Channel for background music playback&quot;;\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\n            channel.setDescription(description);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n\n\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        if (mediaPlayer != null) {\n            mediaPlayer.release();\n            mediaPlayer = null;\n        }\n        mediaSession.release();\n        stopForeground(true);\n        stopSelf();\n    }\n}\n\n</code></pre>\n<p>this is fragment</p>\n<pre><code>package com.example.knowyourtemple.view.activity;\n\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.ServiceConnection;\nimport android.media.MediaPlayer;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.IBinder;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.SeekBar;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport com.bumptech.glide.Glide;\nimport com.bumptech.glide.request.RequestOptions;\nimport com.example.knowyourtemple.R;\nimport com.example.knowyourtemple.businesslogic.pojo.PojoMusic;\nimport com.example.knowyourtemple.databinding.FragmentPlayMusicBinding;\nimport com.example.knowyourtemple.view.service.BackgroundMusicService;\n\nimport java.util.ArrayList;\n\npublic class FragmentPlayMusic extends Fragment implements BackgroundMusicService.MusicPlayerCallback {\n\n    private FragmentPlayMusicBinding binding;\n    private Button playButton;\n    private Button previousButton;\n    private Button nextButton;\n    private SeekBar seekBar;\n    private int currentPosition = 0;\n    private boolean isPlaying = false;\n    private ArrayList&lt;PojoMusic&gt; musicList;\n    private Handler handler;\n    private Runnable runnable;\n    private MediaPlayer mediaPlayer;\n    private BackgroundMusicService backgroundMusicService;\n    private BackgroundMusicService.MusicPlayerCallback callback;\n\n    private ServiceConnection connection = new ServiceConnection() {\n        @Override\n        public void onServiceConnected(ComponentName componentName, IBinder iBinder) {\n            if (iBinder instanceof BackgroundMusicService.LocalBinder) {\n                BackgroundMusicService.LocalBinder binder = (BackgroundMusicService.LocalBinder) iBinder;\n                backgroundMusicService = binder.getService();\n                callback = FragmentPlayMusic.this;  // Assign the callback from the fragment itself\n                backgroundMusicService.setCallback(callback);  // Set the callback in the service\n            }\n        }\n\n        @Override\n        public void onServiceDisconnected(ComponentName componentName) {\n            backgroundMusicService = null;\n        }\n    };\n\n    public static FragmentPlayMusic newInstance(PojoMusic music, ArrayList&lt;PojoMusic&gt; musicList) {\n        FragmentPlayMusic fragment = new FragmentPlayMusic();\n        Bundle args = new Bundle();\n        args.putSerializable(&quot;PojoMusic&quot;, music);\n        args.putSerializable(&quot;MusicList&quot;, musicList);\n        args.putInt(&quot;StartPosition&quot;, 0); // Add the start position argument\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        binding = FragmentPlayMusicBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        PojoMusic music = (PojoMusic) getArguments().getSerializable(&quot;PojoMusic&quot;);\n        musicList = (ArrayList&lt;PojoMusic&gt;) getArguments().getSerializable(&quot;MusicList&quot;);\n        binding.setMusic(music);\n        Glide.with(requireContext())\n                .load(music.getImg())\n                .apply(RequestOptions.circleCropTransform())\n                .placeholder(R.drawable.ic_setting_banner)\n                .into(binding.video);\n\n        binding.playButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (isPlaying) {\n                    pauseMusic();\n                } else {\n                    startMusic();\n                }\n                togglePlayButtonImage();\n            }\n        });\n        bindMusicService();\n\n        binding.previousbutton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                playPreviousSong();\n            }\n        });\n\n        binding.nextbutton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                playNextSong();\n            }\n        });\n\n        seekBar = binding.seekBar;\n\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n            /*    if (fromUser) {\n                    seekToPosition(progress);\n                }*/\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n                handler.removeCallbacks(runnable);\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n                int progress = seekBar.getProgress();\n                seekToPosition(progress);\n            }\n\n        });\n    }\n\n    public void playPreviousSong() {\n        if (musicList != null &amp;&amp; musicList.size() &gt; 1) {\n            currentPosition--;\n            if (currentPosition &lt; 0) {\n                currentPosition = musicList.size() - 1; // Wrap around to the last song\n            }\n            playCurrentSong();\n            startMusic();\n        }\n    }\n    public void playNextSong() {\n        if (musicList != null &amp;&amp; musicList.size() &gt; 1) {\n            currentPosition++;\n            if (currentPosition &gt;= musicList.size()) {\n                currentPosition = 0; // Wrap around to the first song\n            }\n            playCurrentSong();\n            startMusic();\n        }\n    }\n\n\n    private void playCurrentSong() {\n        if (musicList != null &amp;&amp; currentPosition &gt;= 0 &amp;&amp; currentPosition &lt; musicList.size()) {\n            PojoMusic currentMusic = musicList.get(currentPosition);\n            binding.setMusic(currentMusic);\n\n            if (mediaPlayer != null) {\n                if (mediaPlayer.isPlaying()) {\n                    mediaPlayer.stop();\n                }\n                mediaPlayer.release();\n            }\n\n            initializeMediaPlayer();\n            startMusic(); // Call startMusic() after initializing the MediaPlayer\n        }\n    }\n\n    private void initializeMediaPlayer() {\n        PojoMusic music = (PojoMusic) getArguments().getSerializable(&quot;PojoMusic&quot;);\n        String songResourceName = music.getSongResourceName();\n        int songResourceId = getResources().getIdentifier(songResourceName, &quot;raw&quot;, requireActivity().getPackageName());\n\n        mediaPlayer = MediaPlayer.create(getActivity(), songResourceId);\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mediaPlayer) {\n                playNextSong();\n            }\n        });\n    }\n\n\n\n\n\n\n\n\n\n\n\n    private void startMusic() {\n        isPlaying = true;\n        String fileName = binding.getMusic().getSongResourceName();\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\n        serviceIntent.setAction(BackgroundMusicService.ACTION_START);\n        serviceIntent.putExtra(&quot;FileName&quot;, fileName);\n        String songName = binding.getMusic().getName();\n        serviceIntent.putExtra(&quot;SongName&quot;, songName);\n        // Get the last known position from the service and pass it to the intent\n        BackgroundMusicService musicService = getMusicService();\n        if (musicService != null) {\n            int currentPosition = musicService.getCurrentPosition();\n            serviceIntent.putExtra(&quot;Position&quot;, currentPosition);\n        }\n\n        requireActivity().startService(serviceIntent);\n        updateSeekBarProgress();\n    }\n\n    private void pauseMusic() {\n        isPlaying = false;\n        if (backgroundMusicService != null) {\n            backgroundMusicService.pauseMusic();\n        }\n        handler.removeCallbacks(runnable);\n    }\n\n    private void togglePlayButtonImage() {\n        if (isPlaying) {\n            binding.playButton.setImageResource(R.drawable.baseline_pause_24);\n        } else {\n            binding.playButton.setImageResource(R.drawable.baseline_play_arrow_24);\n        }\n    }\n\n\n    private void updateSeekBarProgress() {\n        if (handler != null &amp;&amp; runnable != null) {\n            // Remove any existing callbacks to prevent multiple Runnables running simultaneously\n            handler.removeCallbacks(runnable);\n        }\n        handler = new Handler();\n        runnable = new Runnable() {\n            @Override\n            public void run() {\n\n                BackgroundMusicService musicService = getMusicService();\n                if (musicService != null) {\n                    int currentPosition = musicService.getCurrentPosition();\n                    int duration = musicService.getDuration();\n                    seekBar.setMax(duration);\n                    seekBar.setProgress(currentPosition);\n                    // Notify the callback with the progress values\n                    callback.onProgress(currentPosition, duration);\n                }\n                handler.postDelayed(this, 1000);\n            }\n        };\n        handler.postDelayed(runnable, 0);\n    }\n\n    private BackgroundMusicService getMusicService() {\n        return backgroundMusicService;\n    }\n\n    private void seekToPosition(int position) {\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\n        serviceIntent.setAction(BackgroundMusicService.ACTION_SEEK);\n        serviceIntent.putExtra(&quot;Position&quot;, position);\n        requireActivity().startService(serviceIntent);\n    }\n\n    private void bindMusicService() {\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\n        requireActivity().bindService(serviceIntent, connection, Context.BIND_AUTO_CREATE);\n        if (backgroundMusicService != null) {\n            backgroundMusicService.setCallback(this);\n        }\n    }\n\n    private void unbindMusicService() {\n        requireActivity().unbindService(connection);\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n\n        // Remove any pending callbacks from the handler\n        if (handler != null &amp;&amp; runnable != null) {\n            handler.removeCallbacks(runnable);\n        }\n\n        // Unbind the service when the fragment is destroyed\n        unbindMusicService();\n\n        // Stop the service when the fragment is destroyed\n        Intent serviceIntent = new Intent(requireContext(), BackgroundMusicService.class);\n        requireActivity().stopService(serviceIntent);\n\n        binding = null;\n    }\n\n    @Override\n    public void onPrepared(int duration) {\n        seekBar.setMax(duration);\n    }\n\n    @Override\n    public void onProgress(int progress, int max) {\n        seekBar.setProgress(progress);\n        seekBar.setMax(max);\n    }\n\n    @Override\n    public void onNextSong() {\n        playNextSong();\n    }\n\n    @Override\n    public void onPreviousSong() {\n       playPreviousSong();\n    }\n\n    @Override\n    public void onResumeSong() {\n        startMusic();\n        togglePlayButtonImage();\n    }\n\n    @Override\n    public void onPauseSong() {\n        pauseMusic();\n        togglePlayButtonImage();\n    }\n}\n</code></pre>\n<p>I want my notification to work like Spotify</p>\n"},{"tags":["java","maven","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687415115,"post_id":76522880,"comment_id":134934015,"body_markdown":"First you should upgrade the maven-surefire-plugin version to the most recent, because you are using a version wich is of 2017!... Check here: https://maven.apache.org/plugins/. And most important why have you defined all this within a profile?","body":"First you should upgrade the maven-surefire-plugin version to the most recent, because you are using a version wich is of 2017!... Check here: <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>. And most important why have you defined all this within a profile?"}],"answers":[{"tags":[],"owner":{"account_id":9019647,"reputation":66,"user_id":6721152,"display_name":"prashanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688447287,"creation_date":1688447287,"answer_id":76609525,"question_id":76522880,"body_markdown":"Updating testng version to 7.8.0, in pom dependency, fixed the issue.\r\n\r\n    Before:\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.2.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    After:\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.8.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;","title":"The testcase execution order differed between testng.xml and maven surefire","body":"<p>Updating testng version to 7.8.0, in pom dependency, fixed the issue.</p>\n<pre><code>Before:\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.2.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\nAfter:\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.8.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9019647,"reputation":66,"user_id":6721152,"display_name":"prashanth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688447287,"creation_date":1687347548,"question_id":76522880,"body_markdown":"Triggered testng.xml from eclipse, and worked as expected (the order of the classes were as given in testng.xml). On triggering the same using maven surefire from command line (mvn clean , mvn install), the order of the classes differed. Example, maven triggers tc01 of Class8 instead of tc01 of class1. This confirms that the  execution order of classes between testng and sure fire differed. \r\n\r\nWill surefire ignore the order followed by testng.xml ? If so any flag to force sure fire to follow as given in testng.xml ? After investing good amount of time and analysis to design the suite (testng.xml), I hope the maven would be able to trigger testng.xml with the way it exists. Did try few of the options available online but could not help.\r\n\r\nThank you in advance.\r\n\r\nBelow are the testng.xml and sure fire data.\r\n\r\n\r\n    testng.xml\r\n    &lt;test thread-count=&quot;5&quot; name=&quot;REGRESSION Test&quot; preserve-order=&quot;true&quot; enabled=&quot;true&quot;&gt;\r\n    &lt;class name=&quot;com.org.ipac.Login.LoginPage&quot; /&gt;\r\n    \r\n\r\n    pom.xml\r\n     &lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;suiteXmlFile&gt;C:\\trunk\\Hyd2019\\Selenium\\IPAC\\testng.xml&lt;/suiteXmlFile&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;Regression&lt;/id&gt;\r\n    \t\t\t&lt;build&gt;\r\n    \t\t\t\t&lt;plugins&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;2.20&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t &lt;!-- &lt;runOrder&gt;filesystem&lt;/runOrder&gt;--&gt;\r\n    \t\t\t\t\t\t\t&lt;suiteXmlFiles&gt;\r\n    \t\t\t\t\t\t\t\t&lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\r\n    \t\t\t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t\t\t&lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n    \t\t\t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;finalName&gt;TIB_ip-test-ipac_${project.version}_win_x86_64&lt;/finalName&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;descriptors&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;descriptor&gt;src/main/assembly/zip.xml&lt;/descriptor&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/descriptors&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;/plugins&gt;\r\n    \t\t\t&lt;/build&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \r\n    \r\n       ","title":"The testcase execution order differed between testng.xml and maven surefire","body":"<p>Triggered testng.xml from eclipse, and worked as expected (the order of the classes were as given in testng.xml). On triggering the same using maven surefire from command line (mvn clean , mvn install), the order of the classes differed. Example, maven triggers tc01 of Class8 instead of tc01 of class1. This confirms that the  execution order of classes between testng and sure fire differed.</p>\n<p>Will surefire ignore the order followed by testng.xml ? If so any flag to force sure fire to follow as given in testng.xml ? After investing good amount of time and analysis to design the suite (testng.xml), I hope the maven would be able to trigger testng.xml with the way it exists. Did try few of the options available online but could not help.</p>\n<p>Thank you in advance.</p>\n<p>Below are the testng.xml and sure fire data.</p>\n<pre><code>testng.xml\n&lt;test thread-count=&quot;5&quot; name=&quot;REGRESSION Test&quot; preserve-order=&quot;true&quot; enabled=&quot;true&quot;&gt;\n&lt;class name=&quot;com.org.ipac.Login.LoginPage&quot; /&gt;\n\n\npom.xml\n &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;suiteXmlFile&gt;C:\\trunk\\Hyd2019\\Selenium\\IPAC\\testng.xml&lt;/suiteXmlFile&gt;\n    &lt;/properties&gt;\n&lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;Regression&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.20&lt;/version&gt;\n                        &lt;configuration&gt;\n                             &lt;!-- &lt;runOrder&gt;filesystem&lt;/runOrder&gt;--&gt;\n                            &lt;suiteXmlFiles&gt;\n                                &lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\n                            &lt;/suiteXmlFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.8.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                            &lt;source&gt;1.8&lt;/source&gt;\n                            &lt;target&gt;1.8&lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;single&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;finalName&gt;TIB_ip-test-ipac_${project.version}_win_x86_64&lt;/finalName&gt;\n                                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                                    &lt;descriptors&gt;\n                                        &lt;descriptor&gt;src/main/assembly/zip.xml&lt;/descriptor&gt;\n                                    &lt;/descriptors&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n\n   \n</code></pre>\n"},{"tags":["java","android","google-maps","polygon"],"comments":[{"owner":{"account_id":19505437,"reputation":433,"user_id":14270580,"display_name":"Venus"},"score":1,"creation_date":1688397803,"post_id":76605706,"comment_id":135065577,"body_markdown":"Have you ever used GeoJSON file?\nI think it&#39;s possible by using GeoJsonLayer that&#39;s created with geojson file.","body":"Have you ever used GeoJSON file? I think it&#39;s possible by using GeoJsonLayer that&#39;s created with geojson file."}],"answers":[{"comments":[{"owner":{"account_id":28942034,"reputation":31,"user_id":22168412,"display_name":"Hardik Patel"},"score":0,"creation_date":1688453001,"post_id":76609509,"comment_id":135072254,"body_markdown":"Thanks for your help. but I need dynamically draw area boundaries and same are available in JavaScript provided by google map. and Trulia android app also did this functionality.","body":"Thanks for your help. but I need dynamically draw area boundaries and same are available in JavaScript provided by google map. and Trulia android app also did this functionality."}],"tags":[],"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688446944,"creation_date":1688446944,"answer_id":76609509,"question_id":76605706,"body_markdown":"## Using a GeoJSON file to show area boundaries ##\r\n\r\nAs mentioned in the comment, using a GeoJSON file will make this possible, and you can do so by using the [Google Maps Android GeoJSON Utility](https://developers.google.com/maps/documentation/android-sdk/utility/geojson).\r\n\r\nas per the documentation:\r\n\r\n&gt; GeoJSON is an extension of the JSON data format and represents\r\n&gt; geographical data. Using this utility, you can store geographical\r\n&gt; features in GeoJSON format and render them as a layer on top of the\r\n&gt; map. To add and remove your GeoJSON data to and from the map, call\r\n&gt; `addLayerToMap()` and `removeLayerFromMap()` respectively. Similarly you\r\n&gt; can add and remove individual features by calling `addFeature()` and\r\n&gt; `removeFeature()` and passing in a GeoJsonFeature object. If you want to\r\n&gt; access the features, you can call `getFeatures()` to get an iterable of\r\n&gt; all GeoJsonFeature objects that have been added to the layer.\r\n\r\nFor example, we can use a GeoJSON file that contains a multi polygon of the boundary of USA called `usa.json` and save it to your `resource/raw` folder.\r\n\r\n## usa.json ##\r\n\r\n    {\r\n      &quot;type&quot;: &quot;FeatureCollection&quot;,\r\n      &quot;features&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;Feature&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;stroke&quot;: &quot;#f53b3b&quot;,\r\n            &quot;stroke-width&quot;: 2,\r\n            &quot;stroke-opacity&quot;: 1,\r\n            &quot;fill&quot;: &quot;#555555&quot;,\r\n            &quot;fill-opacity&quot;: 0.5\r\n          },\r\n          &quot;geometry&quot;: {\r\n            &quot;type&quot;: &quot;MultiPolygon&quot;,\r\n            &quot;coordinates&quot;: [\r\n              [\r\n                [\r\n                  [\r\n                    -124.45312499999999,\r\n                    48.22467264956519\r\n                  ],\r\n                  [\r\n                    -123.57421875,\r\n                    39.436192999314095\r\n                  ],\r\n                  [\r\n                    -120.32226562500001,\r\n                    34.45221847282654\r\n                  ],\r\n                  [\r\n                    -116.89453125,\r\n                    32.54681317351514\r\n                  ],\r\n                  [\r\n                    -114.873046875,\r\n                    32.69486597787505\r\n                  ],\r\n                  [\r\n                    -110.56640625,\r\n                    31.27855085894653\r\n                  ],\r\n                  [\r\n                    -108.720703125,\r\n                    31.50362930577303\r\n                  ],\r\n                  [\r\n                    -106.5234375,\r\n                    31.653381399664\r\n                  ],\r\n                  [\r\n                    -104.853515625,\r\n                    30.221101852485987\r\n                  ],\r\n                  [\r\n                    -103.095703125,\r\n                    29.152161283318915\r\n                  ],\r\n                  [\r\n                    -102.65625,\r\n                    29.6880527498568\r\n                  ],\r\n                  [\r\n                    -101.689453125,\r\n                    29.76437737516313\r\n                  ],\r\n                  [\r\n                    -97.294921875,\r\n                    25.799891182088334\r\n                  ],\r\n                  [\r\n                    -96.94335937499999,\r\n                    28.304380682962783\r\n                  ],\r\n                  [\r\n                    -93.779296875,\r\n                    29.458731185355344\r\n                  ],\r\n                  [\r\n                    -89.736328125,\r\n                    29.305561325527698\r\n                  ],\r\n                  [\r\n                    -88.76953125,\r\n                    30.372875188118016\r\n                  ],\r\n                  [\r\n                    -83.84765625,\r\n                    29.916852233070173\r\n                  ],\r\n                  [\r\n                    -81.298828125,\r\n                    25.3241665257384\r\n                  ],\r\n                  [\r\n                    -80.068359375,\r\n                    26.43122806450644\r\n                  ],\r\n                  [\r\n                    -82.001953125,\r\n                    30.977609093348686\r\n                  ],\r\n                  [\r\n                    -75.498046875,\r\n                    35.817813158696616\r\n                  ],\r\n                  [\r\n                    -73.564453125,\r\n                    40.84706035607122\r\n                  ],\r\n                  [\r\n                    -66.97265625,\r\n                    44.5278427984555\r\n                  ],\r\n                  [\r\n                    -68.5546875,\r\n                    47.21956811231547\r\n                  ],\r\n                  [\r\n                    -79.189453125,\r\n                    43.13306116240612\r\n                  ],\r\n                  [\r\n                    -83.3203125,\r\n                    41.83682786072714\r\n                  ],\r\n                  [\r\n                    -82.353515625,\r\n                    44.902577996288876\r\n                  ],\r\n                  [\r\n                    -88.24218749999999,\r\n                    47.81315451752768\r\n                  ],\r\n                  [\r\n                    -95.09765625,\r\n                    48.922499263758255\r\n                  ],\r\n                  [\r\n                    -124.45312499999999,\r\n                    48.22467264956519\r\n                  ]\r\n                ]\r\n              ],\r\n              [\r\n                [\r\n                  [\r\n                    -141.064453125,\r\n                    69.62651016802958\r\n                  ],\r\n                  [\r\n                    -152.9296875,\r\n                    70.64176873584621\r\n                  ],\r\n                  [\r\n                    -157.32421875,\r\n                    70.90226826757711\r\n                  ],\r\n                  [\r\n                    -166.376953125,\r\n                    68.43151284537514\r\n                  ],\r\n                  [\r\n                    -160.6640625,\r\n                    66.30220547599842\r\n                  ],\r\n                  [\r\n                    -164.53125,\r\n                    66.40795547978848\r\n                  ],\r\n                  [\r\n                    -168.22265625,\r\n                    65.62202261510642\r\n                  ],\r\n                  [\r\n                    -165.322265625,\r\n                    64.35893097894458\r\n                  ],\r\n                  [\r\n                    -161.19140625,\r\n                    64.66151739623564\r\n                  ],\r\n                  [\r\n                    -161.19140625,\r\n                    63.35212928507874\r\n                  ],\r\n                  [\r\n                    -164.53125,\r\n                    63.11463763252091\r\n                  ],\r\n                  [\r\n                    -166.11328125,\r\n                    61.60639637138628\r\n                  ],\r\n                  [\r\n                    -164.53125,\r\n                    60.71619779357714\r\n                  ],\r\n                  [\r\n                    -167.080078125,\r\n                    60.108670463036\r\n                  ],\r\n                  [\r\n                    -162.24609375,\r\n                    59.7563950493563\r\n                  ],\r\n                  [\r\n                    -161.806640625,\r\n                    58.63121664342478\r\n                  ],\r\n                  [\r\n                    -158.115234375,\r\n                    58.6769376725869\r\n                  ],\r\n                  [\r\n                    -168.3984375,\r\n                    52.908902047770255\r\n                  ],\r\n                  [\r\n                    -157.1484375,\r\n                    56.992882804633986\r\n                  ],\r\n                  [\r\n                    -153.80859375,\r\n                    56.70450561416937\r\n                  ],\r\n                  [\r\n                    -151.962890625,\r\n                    57.938183012205315\r\n                  ],\r\n                  [\r\n                    -148.7109375,\r\n                    60.19615576604439\r\n                  ],\r\n                  [\r\n                    -145.810546875,\r\n                    60.326947742998414\r\n                  ],\r\n                  [\r\n                    -140.9765625,\r\n                    60.1524422143808\r\n                  ],\r\n                  [\r\n                    -141.064453125,\r\n                    69.62651016802958\r\n                  ]\r\n                ]\r\n              ],\r\n              [\r\n                [\r\n                  [\r\n                    -160.20263671875,\r\n                    21.80030805097259\r\n                  ],\r\n                  [\r\n                    -159.63134765625,\r\n                    22.248428704383624\r\n                  ],\r\n                  [\r\n                    -159.30175781249997,\r\n                    22.14670778001263\r\n                  ],\r\n                  [\r\n                    -156.005859375,\r\n                    20.715015145512087\r\n                  ],\r\n                  [\r\n                    -154.75341796875,\r\n                    19.518375478601566\r\n                  ],\r\n                  [\r\n                    -155.76416015625,\r\n                    18.93746442964186\r\n                  ],\r\n                  [\r\n                    -156.02783203124997,\r\n                    19.766703551716976\r\n                  ],\r\n                  [\r\n                    -155.76416015625,\r\n                    20.076570104545173\r\n                  ],\r\n                  [\r\n                    -156.4892578125,\r\n                    20.591652120829167\r\n                  ],\r\n                  [\r\n                    -156.99462890624997,\r\n                    20.756113874762082\r\n                  ],\r\n                  [\r\n                    -158.115234375,\r\n                    21.37124437061831\r\n                  ],\r\n                  [\r\n                    -159.45556640625,\r\n                    21.820707853875017\r\n                  ],\r\n                  [\r\n                    -160.20263671875,\r\n                    21.80030805097259\r\n                  ]\r\n                ]\r\n              ]\r\n            ]\r\n          },\r\n          &quot;properties&quot;: {\r\n            &quot;title&quot;: &quot;MultiPolygon United States of America&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n\r\nThen you can create a function to retrieve the file from your resource folder like so:\r\n\r\n        private void retrieveFileFromResource() {\r\n            try {\r\n                GeoJsonLayer layer = new GeoJsonLayer(getMap(), R.raw.usa, this);\r\n\r\n                // this will be the function to add the layer on the map and \r\n                // I&#39;ll put it also below.\r\n                addGeoJsonLayerToMap(layer);\r\n            } catch (IOException e) {\r\n                Log.e(mLogTag, &quot;GeoJSON file could not be read&quot;);\r\n            } catch (JSONException e) {\r\n                Log.e(mLogTag, &quot;GeoJSON file could not be converted to a JSONObject&quot;);\r\n            }\r\n        }\r\n\r\nThen finally, add the layer on the map:\r\n\r\n        private void addGeoJsonLayerToMap(GeoJsonLayer layer) {\r\n            layer.addLayerToMap();\r\n            // Demonstrate receiving features via GeoJsonLayer clicks.\r\n            layer.setOnFeatureClickListener(new GeoJsonLayer.GeoJsonOnFeatureClickListener() {\r\n                @Override\r\n                public void onFeatureClick(Feature feature) {\r\n                    Toast.makeText(GeoJsonDemoActivity.this,\r\n                            &quot;Feature clicked: &quot; + feature.getProperty(&quot;title&quot;),\r\n                            Toast.LENGTH_SHORT).show();\r\n                }\r\n    \r\n            });\r\n        }\r\n\r\nIt should look something like this:\r\n\r\n[![geoJSON boundary sample][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DzaNd.png\r\n\r\nYou can also clone the [android-maps-utils](https://github.com/googlemaps/android-maps-utils) library and play around with their GeoJSON samples.\r\n\r\nI hope this helps!","title":"How to show the places or Area boundaries in google map Android?","body":"<h2>Using a GeoJSON file to show area boundaries</h2>\n<p>As mentioned in the comment, using a GeoJSON file will make this possible, and you can do so by using the <a href=\"https://developers.google.com/maps/documentation/android-sdk/utility/geojson\" rel=\"nofollow noreferrer\">Google Maps Android GeoJSON Utility</a>.</p>\n<p>as per the documentation:</p>\n<blockquote>\n<p>GeoJSON is an extension of the JSON data format and represents\ngeographical data. Using this utility, you can store geographical\nfeatures in GeoJSON format and render them as a layer on top of the\nmap. To add and remove your GeoJSON data to and from the map, call\n<code>addLayerToMap()</code> and <code>removeLayerFromMap()</code> respectively. Similarly you\ncan add and remove individual features by calling <code>addFeature()</code> and\n<code>removeFeature()</code> and passing in a GeoJsonFeature object. If you want to\naccess the features, you can call <code>getFeatures()</code> to get an iterable of\nall GeoJsonFeature objects that have been added to the layer.</p>\n</blockquote>\n<p>For example, we can use a GeoJSON file that contains a multi polygon of the boundary of USA called <code>usa.json</code> and save it to your <code>resource/raw</code> folder.</p>\n<h2>usa.json</h2>\n<pre><code>{\n  &quot;type&quot;: &quot;FeatureCollection&quot;,\n  &quot;features&quot;: [\n    {\n      &quot;type&quot;: &quot;Feature&quot;,\n      &quot;properties&quot;: {\n        &quot;stroke&quot;: &quot;#f53b3b&quot;,\n        &quot;stroke-width&quot;: 2,\n        &quot;stroke-opacity&quot;: 1,\n        &quot;fill&quot;: &quot;#555555&quot;,\n        &quot;fill-opacity&quot;: 0.5\n      },\n      &quot;geometry&quot;: {\n        &quot;type&quot;: &quot;MultiPolygon&quot;,\n        &quot;coordinates&quot;: [\n          [\n            [\n              [\n                -124.45312499999999,\n                48.22467264956519\n              ],\n              [\n                -123.57421875,\n                39.436192999314095\n              ],\n              [\n                -120.32226562500001,\n                34.45221847282654\n              ],\n              [\n                -116.89453125,\n                32.54681317351514\n              ],\n              [\n                -114.873046875,\n                32.69486597787505\n              ],\n              [\n                -110.56640625,\n                31.27855085894653\n              ],\n              [\n                -108.720703125,\n                31.50362930577303\n              ],\n              [\n                -106.5234375,\n                31.653381399664\n              ],\n              [\n                -104.853515625,\n                30.221101852485987\n              ],\n              [\n                -103.095703125,\n                29.152161283318915\n              ],\n              [\n                -102.65625,\n                29.6880527498568\n              ],\n              [\n                -101.689453125,\n                29.76437737516313\n              ],\n              [\n                -97.294921875,\n                25.799891182088334\n              ],\n              [\n                -96.94335937499999,\n                28.304380682962783\n              ],\n              [\n                -93.779296875,\n                29.458731185355344\n              ],\n              [\n                -89.736328125,\n                29.305561325527698\n              ],\n              [\n                -88.76953125,\n                30.372875188118016\n              ],\n              [\n                -83.84765625,\n                29.916852233070173\n              ],\n              [\n                -81.298828125,\n                25.3241665257384\n              ],\n              [\n                -80.068359375,\n                26.43122806450644\n              ],\n              [\n                -82.001953125,\n                30.977609093348686\n              ],\n              [\n                -75.498046875,\n                35.817813158696616\n              ],\n              [\n                -73.564453125,\n                40.84706035607122\n              ],\n              [\n                -66.97265625,\n                44.5278427984555\n              ],\n              [\n                -68.5546875,\n                47.21956811231547\n              ],\n              [\n                -79.189453125,\n                43.13306116240612\n              ],\n              [\n                -83.3203125,\n                41.83682786072714\n              ],\n              [\n                -82.353515625,\n                44.902577996288876\n              ],\n              [\n                -88.24218749999999,\n                47.81315451752768\n              ],\n              [\n                -95.09765625,\n                48.922499263758255\n              ],\n              [\n                -124.45312499999999,\n                48.22467264956519\n              ]\n            ]\n          ],\n          [\n            [\n              [\n                -141.064453125,\n                69.62651016802958\n              ],\n              [\n                -152.9296875,\n                70.64176873584621\n              ],\n              [\n                -157.32421875,\n                70.90226826757711\n              ],\n              [\n                -166.376953125,\n                68.43151284537514\n              ],\n              [\n                -160.6640625,\n                66.30220547599842\n              ],\n              [\n                -164.53125,\n                66.40795547978848\n              ],\n              [\n                -168.22265625,\n                65.62202261510642\n              ],\n              [\n                -165.322265625,\n                64.35893097894458\n              ],\n              [\n                -161.19140625,\n                64.66151739623564\n              ],\n              [\n                -161.19140625,\n                63.35212928507874\n              ],\n              [\n                -164.53125,\n                63.11463763252091\n              ],\n              [\n                -166.11328125,\n                61.60639637138628\n              ],\n              [\n                -164.53125,\n                60.71619779357714\n              ],\n              [\n                -167.080078125,\n                60.108670463036\n              ],\n              [\n                -162.24609375,\n                59.7563950493563\n              ],\n              [\n                -161.806640625,\n                58.63121664342478\n              ],\n              [\n                -158.115234375,\n                58.6769376725869\n              ],\n              [\n                -168.3984375,\n                52.908902047770255\n              ],\n              [\n                -157.1484375,\n                56.992882804633986\n              ],\n              [\n                -153.80859375,\n                56.70450561416937\n              ],\n              [\n                -151.962890625,\n                57.938183012205315\n              ],\n              [\n                -148.7109375,\n                60.19615576604439\n              ],\n              [\n                -145.810546875,\n                60.326947742998414\n              ],\n              [\n                -140.9765625,\n                60.1524422143808\n              ],\n              [\n                -141.064453125,\n                69.62651016802958\n              ]\n            ]\n          ],\n          [\n            [\n              [\n                -160.20263671875,\n                21.80030805097259\n              ],\n              [\n                -159.63134765625,\n                22.248428704383624\n              ],\n              [\n                -159.30175781249997,\n                22.14670778001263\n              ],\n              [\n                -156.005859375,\n                20.715015145512087\n              ],\n              [\n                -154.75341796875,\n                19.518375478601566\n              ],\n              [\n                -155.76416015625,\n                18.93746442964186\n              ],\n              [\n                -156.02783203124997,\n                19.766703551716976\n              ],\n              [\n                -155.76416015625,\n                20.076570104545173\n              ],\n              [\n                -156.4892578125,\n                20.591652120829167\n              ],\n              [\n                -156.99462890624997,\n                20.756113874762082\n              ],\n              [\n                -158.115234375,\n                21.37124437061831\n              ],\n              [\n                -159.45556640625,\n                21.820707853875017\n              ],\n              [\n                -160.20263671875,\n                21.80030805097259\n              ]\n            ]\n          ]\n        ]\n      },\n      &quot;properties&quot;: {\n        &quot;title&quot;: &quot;MultiPolygon United States of America&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Then you can create a function to retrieve the file from your resource folder like so:</p>\n<pre><code>    private void retrieveFileFromResource() {\n        try {\n            GeoJsonLayer layer = new GeoJsonLayer(getMap(), R.raw.usa, this);\n\n            // this will be the function to add the layer on the map and \n            // I'll put it also below.\n            addGeoJsonLayerToMap(layer);\n        } catch (IOException e) {\n            Log.e(mLogTag, &quot;GeoJSON file could not be read&quot;);\n        } catch (JSONException e) {\n            Log.e(mLogTag, &quot;GeoJSON file could not be converted to a JSONObject&quot;);\n        }\n    }\n</code></pre>\n<p>Then finally, add the layer on the map:</p>\n<pre><code>    private void addGeoJsonLayerToMap(GeoJsonLayer layer) {\n        layer.addLayerToMap();\n        // Demonstrate receiving features via GeoJsonLayer clicks.\n        layer.setOnFeatureClickListener(new GeoJsonLayer.GeoJsonOnFeatureClickListener() {\n            @Override\n            public void onFeatureClick(Feature feature) {\n                Toast.makeText(GeoJsonDemoActivity.this,\n                        &quot;Feature clicked: &quot; + feature.getProperty(&quot;title&quot;),\n                        Toast.LENGTH_SHORT).show();\n            }\n\n        });\n    }\n</code></pre>\n<p>It should look something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/DzaNd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DzaNd.png\" alt=\"geoJSON boundary sample\" /></a></p>\n<p>You can also clone the <a href=\"https://github.com/googlemaps/android-maps-utils\" rel=\"nofollow noreferrer\">android-maps-utils</a> library and play around with their GeoJSON samples.</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":28942034,"reputation":31,"user_id":22168412,"display_name":"Hardik Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1688446944,"creation_date":1688394555,"question_id":76605706,"body_markdown":"[Sample Image][1]\r\n\r\nI have searched for hours in the official maps docs and there was no clue how to add city boundaries in android google map. Its available for web in JavaScript https://developers.google.com/maps/documentation/javascript/dds-boundaries/style-polygon#maps_boundaries_simple-javascript. but for android its not available. Is this possible in android some way?\r\n\r\n\r\n\r\nI tried to Style a boundary polygon, data-driven style in map but didn&#39;t find anything useful.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LEn7t.jpg","title":"How to show the places or Area boundaries in google map Android?","body":"<p><a href=\"https://i.stack.imgur.com/LEn7t.jpg\" rel=\"nofollow noreferrer\">Sample Image</a></p>\n<p>I have searched for hours in the official maps docs and there was no clue how to add city boundaries in android google map. Its available for web in JavaScript <a href=\"https://developers.google.com/maps/documentation/javascript/dds-boundaries/style-polygon#maps_boundaries_simple-javascript\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/javascript/dds-boundaries/style-polygon#maps_boundaries_simple-javascript</a>. but for android its not available. Is this possible in android some way?</p>\n<p>I tried to Style a boundary polygon, data-driven style in map but didn't find anything useful.</p>\n"},{"tags":["java","spring","java-11"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686817033,"post_id":76479698,"comment_id":134852212,"body_markdown":"Your code snippet produces a `Date` object, not an output `String`. If you have problems with the output, include the code that produces the output.","body":"Your code snippet produces a <code>Date</code> object, not an output <code>String</code>. If you have problems with the output, include the code that produces the output."},{"owner":{"account_id":2540600,"reputation":1123,"user_id":2206489,"accept_rate":100,"display_name":"Keshav"},"score":0,"creation_date":1688446119,"post_id":76479698,"comment_id":135071456,"body_markdown":"@Holger Yes. Expected outcome is Date object only!","body":"@Holger Yes. Expected outcome is Date object only!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688448087,"post_id":76479698,"comment_id":135071621,"body_markdown":"but (as already commented/answered multiple times on this site) a `java.util.Date`: (i) has no format (just a default format for the return of its `toString()` method); (ii) it represents an instant in time, despite its name - so it always have a *time component*; **(iii)** strongly recommended not to use the `Date`, `Calendar`, `SimpleDateFormat`, ... classes - these were outdated almost 10 years ago (Java 8) by the `java.time` package","body":"but (as already commented/answered multiple times on this site) a <code>java.util.Date</code>: (i) has no format (just a default format for the return of its <code>toString()</code> method); (ii) it represents an instant in time, despite its name - so it always have a <i>time component</i>; <b>(iii)</b> strongly recommended not to use the <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code>, ... classes - these were outdated almost 10 years ago (Java 8) by the <code>java.time</code> package"}],"answers":[{"comments":[{"owner":{"account_id":2540600,"reputation":1123,"user_id":2206489,"accept_rate":100,"display_name":"Keshav"},"score":0,"creation_date":1688446083,"post_id":76479861,"comment_id":135071452,"body_markdown":"it will create the String object only at the end. I wanted to have date object.","body":"it will create the String object only at the end. I wanted to have date object."}],"tags":[],"owner":{"account_id":15166915,"reputation":36,"user_id":10944185,"display_name":"R.wa"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686814251,"creation_date":1686812133,"answer_id":76479861,"question_id":76479698,"body_markdown":"1, there&#39;s an inconsistency in this string. December 6, 2002, was actually a Friday, not a Tuesday. The &quot;Tue&quot; at the beginning of the string seems to be a mistake.\r\n\r\n2,  The newer java.time package (available in Java 8 and later) provides a more robust framework for handling date and time.\r\n```Java\r\nString dateStr = &quot;Tue Dec 06 00:00:00 EDT 2002&quot;;\r\n\r\n// Adjust the date string to omit the day of the week.\r\ndateStr = dateStr.substring(4);\r\n\r\nDateTimeFormatter parseFormat = DateTimeFormatter.ofPattern(&quot;MMM dd HH:mm:ss z yyyy&quot;, Locale.US);\r\nZonedDateTime dateTime = ZonedDateTime.parse(dateStr, parseFormat);\r\n\r\nDateTimeFormatter outputFormat = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\nString outputDateStr = outputFormat.format(dateTime);\r\n\r\nSystem.out.println(outputDateStr);\r\n```","title":"Remove timezone/time element from Date object in Java 11","body":"<p>1, there's an inconsistency in this string. December 6, 2002, was actually a Friday, not a Tuesday. The &quot;Tue&quot; at the beginning of the string seems to be a mistake.</p>\n<p>2,  The newer java.time package (available in Java 8 and later) provides a more robust framework for handling date and time.</p>\n<pre><code>String dateStr = &quot;Tue Dec 06 00:00:00 EDT 2002&quot;;\n\n// Adjust the date string to omit the day of the week.\ndateStr = dateStr.substring(4);\n\nDateTimeFormatter parseFormat = DateTimeFormatter.ofPattern(&quot;MMM dd HH:mm:ss z yyyy&quot;, Locale.US);\nZonedDateTime dateTime = ZonedDateTime.parse(dateStr, parseFormat);\n\nDateTimeFormatter outputFormat = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\nString outputDateStr = outputFormat.format(dateTime);\n\nSystem.out.println(outputDateStr);\n</code></pre>\n"}],"owner":{"account_id":2540600,"reputation":1123,"user_id":2206489,"accept_rate":100,"display_name":"Keshav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76479861,"answer_count":1,"score":0,"last_activity_date":1688446153,"creation_date":1686810504,"question_id":76479698,"body_markdown":"I have below string being fetched:\r\n\r\n&gt;    String dateStr = &quot;Tue Dec 06 00:00:00 EDT 2002&quot;;\r\n\r\nBut when I am parsing using the below `DateFormat` object shown as below\r\n\r\n     DateFormat myDateFormat = new SimpleDateFormat(&quot;E MMM dd HH:mm:ss z yyyy&quot;);\r\n     Date myDate=dateFormatTime.parse(myDateFormat);\r\n\r\nEven if I try to format or parse the resultant `myDate` object , I am not able to remove the timezone/time constraint from the resultant Date object.\r\n\r\nExpected output is  `Date` object of just `DD/MM/YYYY` format only.\r\n","title":"Remove timezone/time element from Date object in Java 11","body":"<p>I have below string being fetched:</p>\n<blockquote>\n<p>String dateStr = &quot;Tue Dec 06 00:00:00 EDT 2002&quot;;</p>\n</blockquote>\n<p>But when I am parsing using the below <code>DateFormat</code> object shown as below</p>\n<pre><code> DateFormat myDateFormat = new SimpleDateFormat(&quot;E MMM dd HH:mm:ss z yyyy&quot;);\n Date myDate=dateFormatTime.parse(myDateFormat);\n</code></pre>\n<p>Even if I try to format or parse the resultant <code>myDate</code> object , I am not able to remove the timezone/time constraint from the resultant Date object.</p>\n<p>Expected output is  <code>Date</code> object of just <code>DD/MM/YYYY</code> format only.</p>\n"},{"tags":["java","spring","scheduling","quartz-scheduler"],"answers":[{"comments":[{"owner":{"account_id":35244,"reputation":335,"user_id":99767,"display_name":"Edward"},"score":7,"creation_date":1361463226,"post_id":4386095,"comment_id":21081507,"body_markdown":"&quot;It&#39;s [Quartz] a bit of a pig&quot; - it&#39;s 2 years later and I&#39;m doing the same comparison as @chris. Is Quartz still difficult to use via Spring?","body":"&quot;It&#39;s [Quartz] a bit of a pig&quot; - it&#39;s 2 years later and I&#39;m doing the same comparison as @chris. Is Quartz still difficult to use via Spring?"},{"owner":{"account_id":1079466,"reputation":3052,"user_id":1076868,"accept_rate":74,"display_name":"Rushabh Patel"},"score":7,"creation_date":1437121493,"post_id":4386095,"comment_id":50908301,"body_markdown":"Does @Scheduled support CLUSTER? If so then how can I achieve it?","body":"Does @Scheduled support CLUSTER? If so then how can I achieve it?"},{"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"score":7,"creation_date":1481301521,"post_id":4386095,"comment_id":69336975,"body_markdown":"No, @Scheduled does not support cluster or multi node environments, which seems to be its only major limitation and the main reason a lot of people still use Quartz.","body":"No, @Scheduled does not support cluster or multi node environments, which seems to be its only major limitation and the main reason a lot of people still use Quartz."},{"owner":{"account_id":1850140,"reputation":906,"user_id":1676841,"accept_rate":73,"display_name":"learner"},"score":2,"creation_date":1486379836,"post_id":4386095,"comment_id":71304239,"body_markdown":"I have use quartz with Spring&#39;s wrapper and have developed a scheduler module for our company. I find it a good choice. Quartz with spring is not complex. And it works perfectly in a clustered environment. We didn&#39;t found any issue working with it.","body":"I have use quartz with Spring&#39;s wrapper and have developed a scheduler module for our company. I find it a good choice. Quartz with spring is not complex. And it works perfectly in a clustered environment. We didn&#39;t found any issue working with it."},{"owner":{"account_id":3944449,"reputation":407,"user_id":3257644,"display_name":"Mahesh"},"score":4,"creation_date":1498500166,"post_id":4386095,"comment_id":76512717,"body_markdown":"Nice article by Khalid Saleem - http://khalidsaleem.blogspot.in/2015/03/quartz-scheduler-vs-spring-scheduler.html. Basically, Spring Scheduler (Spring 3.0+) is a truly light weight implementation that will suffice for simple scheduling needs and, it provides annotation support for both Task Scheduling and Asynchronous method execution. It provides support for fixed rate &amp; delay and cron based scheduling. But, Quartz provides support for enterprise level features like JTA and clustering; it comes with JobPersistence (JDBC &amp; RAM stores) which can be used for Fail-safe &amp; Load Balancing purposes.","body":"Nice article by Khalid Saleem - <a href=\"http://khalidsaleem.blogspot.in/2015/03/quartz-scheduler-vs-spring-scheduler.html\" rel=\"nofollow noreferrer\">khalidsaleem.blogspot.in/2015/03/&hellip;</a>. Basically, Spring Scheduler (Spring 3.0+) is a truly light weight implementation that will suffice for simple scheduling needs and, it provides annotation support for both Task Scheduling and Asynchronous method execution. It provides support for fixed rate &amp; delay and cron based scheduling. But, Quartz provides support for enterprise level features like JTA and clustering; it comes with JobPersistence (JDBC &amp; RAM stores) which can be used for Fail-safe &amp; Load Balancing purposes."}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":5,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1291801761,"creation_date":1291801761,"answer_id":4386095,"question_id":4385719,"body_markdown":"Quartz is an order of magnitude more complex than Spring&#39;s built in scheduler, including support for persistent, transactional and distributed jobs. It&#39;s a bit of a pig, though, even with Spring&#39;s API support. \r\n\r\nIf all you need to is to execute methods on a bean every X seconds, or on a cron schedule, then `@Scheduled` (or the various options in Spring&#39;s [`&lt;task&gt;` config schema][1]) is probably enough\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/scheduling.html#scheduling-task-namespace","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>Quartz is an order of magnitude more complex than Spring's built in scheduler, including support for persistent, transactional and distributed jobs. It's a bit of a pig, though, even with Spring's API support. </p>\n\n<p>If all you need to is to execute methods on a bean every X seconds, or on a cron schedule, then <code>@Scheduled</code> (or the various options in Spring's <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/scheduling.html#scheduling-task-namespace\" rel=\"noreferrer\"><code>&lt;task&gt;</code> config schema</a>) is probably enough</p>\n"},{"tags":[],"owner":{"account_id":11026111,"reputation":2882,"user_id":8098978,"display_name":"lzagkaretos"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1505416008,"creation_date":1505416008,"answer_id":46226560,"question_id":4385719,"body_markdown":"I have to state my own experience regarding use of `@Scheduled` versus `Quartz` as scheduling implementation in a Spring application.\r\n\r\nScheduling jobs had the following requirements:\r\n\r\n - End users should have the ability to save and schedule (define execution time) their own tasks\r\n - Scheduled jobs during server downtime should not get omitted from jobs queue\r\n\r\nHence, we have to try and use Quartz implementation (version 2.2.3) in order to support persistence of jobs in a database. Some basic conclusions are the following:\r\n\r\n - Integration with a Spring 4 MVC application is not difficult at all using quartz.properties file.\r\n - We had the ability to choose a second database for storing the jobs from the main database.\r\n - Jobs scheduled during server downtime begin running as long as server comes up.\r\n - As a bonus we managed to maintain in main database some useful (and more user-oriented) information about user defined scheduled jobs using custom `JobListener` and `TriggerListener`.\r\n - Quartz is a very helpful library in applications with more complex scheduling requirements.","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>I have to state my own experience regarding use of <code>@Scheduled</code> versus <code>Quartz</code> as scheduling implementation in a Spring application.</p>\n\n<p>Scheduling jobs had the following requirements:</p>\n\n<ul>\n<li>End users should have the ability to save and schedule (define execution time) their own tasks</li>\n<li>Scheduled jobs during server downtime should not get omitted from jobs queue</li>\n</ul>\n\n<p>Hence, we have to try and use Quartz implementation (version 2.2.3) in order to support persistence of jobs in a database. Some basic conclusions are the following:</p>\n\n<ul>\n<li>Integration with a Spring 4 MVC application is not difficult at all using quartz.properties file.</li>\n<li>We had the ability to choose a second database for storing the jobs from the main database.</li>\n<li>Jobs scheduled during server downtime begin running as long as server comes up.</li>\n<li>As a bonus we managed to maintain in main database some useful (and more user-oriented) information about user defined scheduled jobs using custom <code>JobListener</code> and <code>TriggerListener</code>.</li>\n<li>Quartz is a very helpful library in applications with more complex scheduling requirements.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15404279,"reputation":149,"user_id":11112803,"display_name":"Cyril Sojan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551337246,"creation_date":1551336529,"answer_id":54919935,"question_id":4385719,"body_markdown":"In Spring you could schedule task by using FixedRate,FixedDelay and cron. But most of the scheduled job requires dynamic handling of execution time. So in this scenario it is better to use Quartz as it provide the option to store scheduled jobs in DBJobstore as well as RAMJobstore.","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>In Spring you could schedule task by using FixedRate,FixedDelay and cron. But most of the scheduled job requires dynamic handling of execution time. So in this scenario it is better to use Quartz as it provide the option to store scheduled jobs in DBJobstore as well as RAMJobstore.</p>\n"},{"tags":[],"owner":{"account_id":3558487,"reputation":1004,"user_id":2971549,"display_name":"Saman Salehi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688445967,"creation_date":1558505286,"answer_id":56250311,"question_id":4385719,"body_markdown":"According to [Quartz Documentation][1], we can use some more complex features that don&#39;t exist in @Scheduler. For example:\r\n\r\n 1. in Quartz we can place a scheduler in stand-by mode with\r\n    `scheduler.standby();` and re schedule it with `scheduler.start();`.\r\n 2. shutting down a scheduler before the execution of the job or after that with\r\n    `scheduler.shutdown(true);` and `scheduler.shutdown(false);`\r\n 3. storing a job for later use and when you need the job you can\r\n    triggered it.\r\n\r\n```\r\nJobDetail job1 =newJob(MyJobClass.class).\r\nwithIdentity(&quot;job1&quot;,&quot;group1&quot;).\r\nstoreDurably().\r\nbuild();\r\n```\r\n \r\n 4. Add the new job to the scheduler, instructing it to &quot;replace&quot;  the existing job with the given name and group (if any).\r\n   \r\n```\r\nJobDetail job1 = newJob(MyJobClass.class).\r\nwithIdentity(&quot;job1&quot;, &quot;group1&quot;).\r\nbuild();\r\n```\r\n\r\n[1]: http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/index.html","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>According to <a href=\"http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/cookbook/index.html\" rel=\"nofollow noreferrer\">Quartz Documentation</a>, we can use some more complex features that don't exist in @Scheduler. For example:</p>\n<ol>\n<li>in Quartz we can place a scheduler in stand-by mode with\n<code>scheduler.standby();</code> and re schedule it with <code>scheduler.start();</code>.</li>\n<li>shutting down a scheduler before the execution of the job or after that with\n<code>scheduler.shutdown(true);</code> and <code>scheduler.shutdown(false);</code></li>\n<li>storing a job for later use and when you need the job you can\ntriggered it.</li>\n</ol>\n<pre><code>JobDetail job1 =newJob(MyJobClass.class).\nwithIdentity(&quot;job1&quot;,&quot;group1&quot;).\nstoreDurably().\nbuild();\n</code></pre>\n<ol start=\"4\">\n<li>Add the new job to the scheduler, instructing it to &quot;replace&quot;  the existing job with the given name and group (if any).</li>\n</ol>\n<pre><code>JobDetail job1 = newJob(MyJobClass.class).\nwithIdentity(&quot;job1&quot;, &quot;group1&quot;).\nbuild();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5433678,"reputation":21,"user_id":4323757,"display_name":"Arpit Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678818060,"creation_date":1678818060,"answer_id":75736987,"question_id":4385719,"body_markdown":"Spring provides an easy way to implement API for scheduling jobs. It works great until we deploy multiple instances of our application.\r\n\r\nSpring, by default, cannot handle scheduler synchronization over multiple instances. It executes the jobs simultaneously on every node instead.\r\n\r\nYou can look at ShedLock — a Java library that makes sure our scheduled tasks run only once at the same time and is an alternative to Quartz.","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>Spring provides an easy way to implement API for scheduling jobs. It works great until we deploy multiple instances of our application.</p>\n<p>Spring, by default, cannot handle scheduler synchronization over multiple instances. It executes the jobs simultaneously on every node instead.</p>\n<p>You can look at ShedLock — a Java library that makes sure our scheduled tasks run only once at the same time and is an alternative to Quartz.</p>\n"}],"owner":{"account_id":180690,"reputation":3838,"user_id":414173,"accept_rate":50,"display_name":"chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49893,"favorite_count":0,"down_vote_count":1,"up_vote_count":64,"answer_count":5,"score":63,"last_activity_date":1688445967,"creation_date":1291799092,"question_id":4385719,"body_markdown":"I&#39;m reading the [Spring 3.0 doc][1]s regarding scheduling. I&#39;m leaning towards Spring&#39;s JobDetailBean for Quartz. However, the **@Scheduled** annotation has captured my eye. It appears this is another way of scheduling task using the Spring Framework. Based on the docs, Spring provides three way of scheduling:\r\n\r\n 1. @Scheduled\r\n 2. Via Quartz\r\n 3. Via JDK Timer\r\n\r\nI have no interest in the JDK Timer. Why should I choose @Scheduled over Quartz? (When I mention Quartz I mean using Spring&#39;s bean wrapper for Quartz).\r\n\r\nLet&#39;s say my use case is complex enough that I will be communicating to a third-party web service to import and export data at specified intervals.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/scheduling.html","title":"Spring Scheduling: @Scheduled vs Quartz","body":"<p>I'm reading the <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/scheduling.html\" rel=\"noreferrer\">Spring 3.0 doc</a>s regarding scheduling. I'm leaning towards Spring's JobDetailBean for Quartz. However, the <strong>@Scheduled</strong> annotation has captured my eye. It appears this is another way of scheduling task using the Spring Framework. Based on the docs, Spring provides three way of scheduling:</p>\n\n<ol>\n<li>@Scheduled</li>\n<li>Via Quartz</li>\n<li>Via JDK Timer</li>\n</ol>\n\n<p>I have no interest in the JDK Timer. Why should I choose @Scheduled over Quartz? (When I mention Quartz I mean using Spring's bean wrapper for Quartz).</p>\n\n<p>Let's say my use case is complex enough that I will be communicating to a third-party web service to import and export data at specified intervals.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"score":0,"creation_date":1688362749,"post_id":76596710,"comment_id":135058827,"body_markdown":"Are you using spring boot version 3?","body":"Are you using spring boot version 3?"},{"owner":{"account_id":28918510,"reputation":31,"user_id":22149985,"display_name":"igorbuosi"},"score":0,"creation_date":1688430068,"post_id":76596710,"comment_id":135070248,"body_markdown":"Yes, I am.  &lt;version&gt;3.0.4&lt;/version&gt;","body":"Yes, I am.  &lt;version&gt;3.0.4&lt;/version&gt;"},{"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"score":0,"creation_date":1688445260,"post_id":76596710,"comment_id":135071399,"body_markdown":"so you have to upgrade your security config code for spring boot 3. In spring boot 3 some methods and annotations are deprecated. You can take reference from my code. Answer is available below.","body":"so you have to upgrade your security config code for spring boot 3. In spring boot 3 some methods and annotations are deprecated. You can take reference from my code. Answer is available below."}],"answers":[{"comments":[{"owner":{"account_id":28918510,"reputation":31,"user_id":22149985,"display_name":"igorbuosi"},"score":0,"creation_date":1688431435,"post_id":76597638,"comment_id":135070360,"body_markdown":"I&#39;m using sprint boot version 3 and antMatchers it&#39;s not avaiable.","body":"I&#39;m using sprint boot version 3 and antMatchers it&#39;s not avaiable."}],"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688278917,"creation_date":1688278917,"answer_id":76597638,"question_id":76596710,"body_markdown":"You have to disable frameOptions and allow h2 endpoints. Also if you will use swagger etc you have to allow its endpoints too. Here is working example:\r\n\r\n```\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n  ............\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .headers().frameOptions().disable().and()\r\n                .csrf().disable()\r\n                .cors().and()\r\n                .authorizeRequests(auth -&gt; {\r\n                    auth.antMatchers(&quot;/api/admin&quot;).hasAuthority(&quot;ADMIN&quot;);\r\n                    auth.antMatchers(&quot;/api/user&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;USER&quot;);\r\n                    auth.anyRequest().authenticated();\r\n                })\r\n                .formLogin().disable()\r\n                .httpBasic().disable()\r\n                .exceptionHandling().accessDeniedHandler(accessDeniedHandler)\r\n                .authenticationEntryPoint(authenticationEntryPoint)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring().antMatchers(&quot;/api/public&quot;,\r\n                &quot;/h2-console/**&quot;,\r\n                &quot;/swagger-resources/**&quot;,\r\n                &quot;/swagger-ui.html/**&quot;,\r\n                &quot;/swagger-resources/**&quot;,\r\n                &quot;/swagger-ui/**&quot;,\r\n                &quot;/v3/api-docs/**&quot;);\r\n    }\r\n\r\n}\r\n\r\n```","title":"Class SecurityConfig without WebSecurityConfigurerAdapter","body":"<p>You have to disable frameOptions and allow h2 endpoints. Also if you will use swagger etc you have to allow its endpoints too. Here is working example:</p>\n<pre><code>\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n  ............\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .headers().frameOptions().disable().and()\n                .csrf().disable()\n                .cors().and()\n                .authorizeRequests(auth -&gt; {\n                    auth.antMatchers(&quot;/api/admin&quot;).hasAuthority(&quot;ADMIN&quot;);\n                    auth.antMatchers(&quot;/api/user&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;USER&quot;);\n                    auth.anyRequest().authenticated();\n                })\n                .formLogin().disable()\n                .httpBasic().disable()\n                .exceptionHandling().accessDeniedHandler(accessDeniedHandler)\n                .authenticationEntryPoint(authenticationEntryPoint)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().antMatchers(&quot;/api/public&quot;,\n                &quot;/h2-console/**&quot;,\n                &quot;/swagger-resources/**&quot;,\n                &quot;/swagger-ui.html/**&quot;,\n                &quot;/swagger-resources/**&quot;,\n                &quot;/swagger-ui/**&quot;,\n                &quot;/v3/api-docs/**&quot;);\n    }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688445457,"creation_date":1688445457,"answer_id":76609438,"question_id":76596710,"body_markdown":"Security config file : \r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig {\r\n    \r\n        private final UserDetailServiceImpl userDetailsService;\r\n    \r\n    \r\n        private final BCryptPasswordEncoder encoder;\r\n    \r\n        private final JwtFilter filter;\r\n    \r\n        private final JwtAuthenticationEntryPoint point;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \r\n            http.csrf(csrf -&gt; csrf.disable())\r\n                    .authorizeRequests().\r\n                    requestMatchers(&quot;/category/add&quot;)\r\n                    .authenticated()\r\n                    .requestMatchers(&quot;/authenticate&quot;,&quot;/register&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and().exceptionHandling(ex -&gt; ex.authenticationEntryPoint(point))\r\n                    .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n            http.addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class);\r\n            return http.build();\r\n        }\r\n\r\n     @Bean\r\n        public AuthenticationManager authenticationManager() throws Exception {\r\n            return new CustomAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n            authenticationProvider.setUserDetailsService(userDetailsService);\r\n            authenticationProvider.setPasswordEncoder(encoder);\r\n            return authenticationProvider;\r\n        }\r\n    }\r\n\r\nCustomAuthentcationManager\r\n\r\n    public class CustomAuthenticationManager implements AuthenticationManager {\r\n    \r\n        @Autowired\r\n        private DaoAuthenticationProvider authenticationProvider;\r\n    \r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            return authenticationProvider.authenticate(authentication);\r\n        }\r\n    }","title":"Class SecurityConfig without WebSecurityConfigurerAdapter","body":"<p>Security config file :</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final UserDetailServiceImpl userDetailsService;\n\n\n    private final BCryptPasswordEncoder encoder;\n\n    private final JwtFilter filter;\n\n    private final JwtAuthenticationEntryPoint point;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.csrf(csrf -&gt; csrf.disable())\n                .authorizeRequests().\n                requestMatchers(&quot;/category/add&quot;)\n                .authenticated()\n                .requestMatchers(&quot;/authenticate&quot;,&quot;/register&quot;).permitAll()\n                .anyRequest()\n                .authenticated()\n                .and().exceptionHandling(ex -&gt; ex.authenticationEntryPoint(point))\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        http.addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n @Bean\n    public AuthenticationManager authenticationManager() throws Exception {\n        return new CustomAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        authenticationProvider.setPasswordEncoder(encoder);\n        return authenticationProvider;\n    }\n}\n</code></pre>\n<p>CustomAuthentcationManager</p>\n<pre><code>public class CustomAuthenticationManager implements AuthenticationManager {\n\n    @Autowired\n    private DaoAuthenticationProvider authenticationProvider;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        return authenticationProvider.authenticate(authentication);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28918510,"reputation":31,"user_id":22149985,"display_name":"igorbuosi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688445457,"creation_date":1688248496,"question_id":76596710,"body_markdown":"I&#39;m taking a spring course and the professor is using an older version of spring boot. I&#39;m trying to use a recent version, however it has some differences in the security part that I&#39;m having trouble with.\r\n\r\nThe biggest problem is in the implementation of SecurityConfig without extending WebConfigurerAdapter.\r\n\r\n**This is the teacher&#39;s example:**\r\n\r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\tprivate static final String[] PUBLIC_MATCHERS = { &quot;/h2-console/**&quot; };\r\n\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\tif (Arrays.asList(env.getActiveProfiles()).contains(&quot;test&quot;)) {\r\n\t\t\thttp.headers().frameOptions().disable();\r\n\t\t}\r\n\r\n\t\thttp.cors().and().csrf().disable();\r\n\t\thttp.authorizeRequests().antMatchers(PUBLIC_MATCHERS).permitAll().anyRequest().authenticated();\r\n\r\n\t\thttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n}\r\n```\r\n\r\n**And this is what I did: **\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig  {\r\nprivate static final String[] PUBLIC_MATCHERS = {&quot;/h2-console/**&quot;};\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS); //desliga a protecao a csrf, o que permite executar metodos POST,PUT,DELETE sem sessao de usuario\r\n        http.authorizeHttpRequests().requestMatchers(PathRequest.toH2Console()).permitAll().and().headers().frameOptions().disable(); //libera acesso ao h2-console\r\nhttp.cors();\r\n\r\nreturn http.build();\r\n}\r\n```\r\n\r\nWhen I try to access &quot;http://localhost:8080/h2-console/&quot; it&#39;s working normally, but if I try to access something different, the error **403 Forbidden** is returned.\r\n\r\nAccording to the course, if I try to access something different than &quot;h2-console&quot; it should redirect to a login page (browser) or returns the error **401 Unauthorized** (postman)  , example:\r\n[login page](https://i.stack.imgur.com/GbqoY.png)\r\n\r\nWhat should I change to work as expected ?","title":"Class SecurityConfig without WebSecurityConfigurerAdapter","body":"<p>I'm taking a spring course and the professor is using an older version of spring boot. I'm trying to use a recent version, however it has some differences in the security part that I'm having trouble with.</p>\n<p>The biggest problem is in the implementation of SecurityConfig without extending WebConfigurerAdapter.</p>\n<p><strong>This is the teacher's example:</strong></p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private static final String[] PUBLIC_MATCHERS = { &quot;/h2-console/**&quot; };\n\n    @Autowired\n    private Environment env;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        if (Arrays.asList(env.getActiveProfiles()).contains(&quot;test&quot;)) {\n            http.headers().frameOptions().disable();\n        }\n\n        http.cors().and().csrf().disable();\n        http.authorizeRequests().antMatchers(PUBLIC_MATCHERS).permitAll().anyRequest().authenticated();\n\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n}\n</code></pre>\n<p>**And this is what I did: **</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig  {\nprivate static final String[] PUBLIC_MATCHERS = {&quot;/h2-console/**&quot;};\n\n    @Autowired\n    private Environment env;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS); //desliga a protecao a csrf, o que permite executar metodos POST,PUT,DELETE sem sessao de usuario\n        http.authorizeHttpRequests().requestMatchers(PathRequest.toH2Console()).permitAll().and().headers().frameOptions().disable(); //libera acesso ao h2-console\nhttp.cors();\n\nreturn http.build();\n}\n</code></pre>\n<p>When I try to access &quot;http://localhost:8080/h2-console/&quot; it's working normally, but if I try to access something different, the error <strong>403 Forbidden</strong> is returned.</p>\n<p>According to the course, if I try to access something different than &quot;h2-console&quot; it should redirect to a login page (browser) or returns the error <strong>401 Unauthorized</strong> (postman)  , example:\n<a href=\"https://i.stack.imgur.com/GbqoY.png\" rel=\"nofollow noreferrer\">login page</a></p>\n<p>What should I change to work as expected ?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688445144,"creation_date":1688371258,"answer_id":76602863,"question_id":76589292,"body_markdown":"Here&#39;s an example\r\n\r\nA `DriverFactory` object that is responsible for allowing page objects access the driver object\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.Optional;\r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    public class DriverFactory {\r\n    \r\n      private static final ThreadLocal&lt;WebDriver&gt; webDriver = new ThreadLocal&lt;&gt;();\r\n    \r\n      static void set(WebDriver driver) {\r\n        webDriver.set(driver);\r\n      }\r\n    \r\n      public static WebDriver get() {\r\n        return Optional.ofNullable(webDriver.get())\r\n            .orElseThrow(() -&gt; new IllegalStateException(&quot;Driver is NOT initialised&quot;));\r\n      }\r\n    \r\n      static void remove() {\r\n        webDriver.remove();\r\n        webDriver.set(null);\r\n      }\r\n    }\r\n\r\nHere are the setup and teardown related classes that manage the webdriver lifecycle management\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import io.cucumber.java.Before;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    public class Setup {\r\n    \r\n      @Before\r\n      public void setWebDriver() {\r\n        WebDriver localDriver;\r\n    \r\n        String browser = System.getProperty(&quot;browser&quot;, &quot;chrome&quot;);\r\n        switch (browser) {\r\n          case &quot;chrome&quot;:\r\n            ChromeOptions chromeOptions = new ChromeOptions();\r\n            chromeOptions.addArguments(&quot;[&#39;start-maximized&#39;]&quot;);\r\n            localDriver = new ChromeDriver(chromeOptions);\r\n            break;\r\n          case &quot;firefox&quot;:\r\n            localDriver = new FirefoxDriver();\r\n            localDriver.manage().window().maximize();\r\n            break;\r\n          default:\r\n            throw new IllegalArgumentException(&quot;Browser \\&quot;&quot; + browser + &quot;\\&quot; isn&#39;t supported.&quot;);\r\n        }\r\n        DriverFactory.set(localDriver);\r\n      }\r\n    }\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import io.cucumber.java.After;\r\n    import io.cucumber.java.Scenario;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    public class TearDown {\r\n    \r\n      @After\r\n      public void quitDriver(Scenario scenario) {\r\n        WebDriver driver = DriverFactory.get();\r\n        try {\r\n          if (scenario.isFailed()) {\r\n            saveScreenshotsForScenario(driver, scenario);\r\n          }\r\n          driver.quit();\r\n        } finally {\r\n          DriverFactory.remove();\r\n        }\r\n      }\r\n    \r\n      private void saveScreenshotsForScenario(WebDriver driver, Scenario scenario) {\r\n        byte[] screenshot = ((TakesScreenshot) driver)\r\n            .getScreenshotAs(OutputType.BYTES);\r\n        scenario.attach(screenshot, &quot;image/png&quot;, &quot;screenshot&quot;);\r\n      }\r\n    }\r\n\r\nHere&#39;s the base class of all the page objects\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import driver.DriverFactory;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    \r\n    public class BasePage {\r\n    \r\n        public BasePage() {\r\n            PageFactory.initElements(DriverFactory.get(), this);\r\n        }\r\n    \r\n        public WebDriver driver() {\r\n            return DriverFactory.get();\r\n        }\r\n    }\r\n\r\nHere&#39;s how a sample child class would look like\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class HomePage extends BasePage {\r\n    \r\n      private static final String HOME_PAGE_URL = &quot;https://www.google.&quot;;\r\n    \r\n      @FindBy(xpath = &quot;//img[contains(@src,&#39;/images/branding/googlelogo&#39;)]&quot;)\r\n      private WebElement logo;\r\n    \r\n      @FindBy(xpath = &quot;//textarea[@title=&#39;Search&#39;]&quot;)\r\n      private WebElement searchInput;\r\n    \r\n    // rest of the code omitted for brevity\r\n    \r\n    }\r\n\r\n[The official documentation][1] can be followed for specific instructions on parallelism support in cucumber \r\n\r\nFollowing are the maven dependencies that I used for this sample\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n          &lt;version&gt;7.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n          &lt;version&gt;7.12.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n          &lt;version&gt;7.12.1&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n              &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;4.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n**EDIT:**\r\n\r\nLastly here&#39;s how a test class would look like, which would combine all of these along with the feature file and the step definitions (These have been intentionally excluded)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import io.cucumber.testng.AbstractTestNGCucumberTests;\r\n    import io.cucumber.testng.CucumberOptions;\r\n    import org.testng.annotations.DataProvider;\r\n    \r\n    @CucumberOptions(features = {&quot;src/test/resources/com/automatedtest/sample/Home_page.feature&quot;},\r\n        plugin = {&quot;pretty&quot;,\r\n            &quot;json:target/cucumber_json_reports/home-page.json&quot;,\r\n            &quot;html:target/home-page-html&quot;},\r\n        glue = {&quot;com.automatedtest.sample.infrastructure.driver&quot;,\r\n            &quot;com.automatedtest.sample.homepage&quot;})\r\n    public class HomePageTest extends AbstractTestNGCucumberTests {\r\n    \r\n      @Override\r\n      @DataProvider(parallel = true)\r\n      public Object[][] scenarios() {\r\n        return super.scenarios();\r\n      }\r\n    }\r\n\r\nHere in `@CucumberOptions`:\r\n\r\n - `features` - represents the location of the feature files that this test class represents\r\n - `glue` - represents the packages which contains your step definitions\r\n - `plugin` - captures the list of formatters that will render the report. We are essentially configuring our formatter such that: \r\n   - we get a pretty printed output on the console (`pretty`), \r\n   - a JSON\r\n   report gets generated in `target/cucumber_json_reports` with its name\r\n   as `home-page.json`\r\n   - a html report gets generated in `target` directory with its name as `home-page-html`\r\n\r\n  [1]: https://cucumber.io/docs/guides/parallel-execution/?lang=java#testng","title":"Java selenium - how to implement ThreadLocal&lt;WebDriver&gt; in page factory pattern framework?","body":"<p>Here's an example</p>\n<p>A <code>DriverFactory</code> object that is responsible for allowing page objects access the driver object</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Optional;\nimport org.openqa.selenium.WebDriver;\n\npublic class DriverFactory {\n\n  private static final ThreadLocal&lt;WebDriver&gt; webDriver = new ThreadLocal&lt;&gt;();\n\n  static void set(WebDriver driver) {\n    webDriver.set(driver);\n  }\n\n  public static WebDriver get() {\n    return Optional.ofNullable(webDriver.get())\n        .orElseThrow(() -&gt; new IllegalStateException(&quot;Driver is NOT initialised&quot;));\n  }\n\n  static void remove() {\n    webDriver.remove();\n    webDriver.set(null);\n  }\n}\n</code></pre>\n<p>Here are the setup and teardown related classes that manage the webdriver lifecycle management</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.cucumber.java.Before;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class Setup {\n\n  @Before\n  public void setWebDriver() {\n    WebDriver localDriver;\n\n    String browser = System.getProperty(&quot;browser&quot;, &quot;chrome&quot;);\n    switch (browser) {\n      case &quot;chrome&quot;:\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;['start-maximized']&quot;);\n        localDriver = new ChromeDriver(chromeOptions);\n        break;\n      case &quot;firefox&quot;:\n        localDriver = new FirefoxDriver();\n        localDriver.manage().window().maximize();\n        break;\n      default:\n        throw new IllegalArgumentException(&quot;Browser \\&quot;&quot; + browser + &quot;\\&quot; isn't supported.&quot;);\n    }\n    DriverFactory.set(localDriver);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import io.cucumber.java.After;\nimport io.cucumber.java.Scenario;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\n\npublic class TearDown {\n\n  @After\n  public void quitDriver(Scenario scenario) {\n    WebDriver driver = DriverFactory.get();\n    try {\n      if (scenario.isFailed()) {\n        saveScreenshotsForScenario(driver, scenario);\n      }\n      driver.quit();\n    } finally {\n      DriverFactory.remove();\n    }\n  }\n\n  private void saveScreenshotsForScenario(WebDriver driver, Scenario scenario) {\n    byte[] screenshot = ((TakesScreenshot) driver)\n        .getScreenshotAs(OutputType.BYTES);\n    scenario.attach(screenshot, &quot;image/png&quot;, &quot;screenshot&quot;);\n  }\n}\n</code></pre>\n<p>Here's the base class of all the page objects</p>\n<pre class=\"lang-java prettyprint-override\"><code>import driver.DriverFactory;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.PageFactory;\n\npublic class BasePage {\n\n    public BasePage() {\n        PageFactory.initElements(DriverFactory.get(), this);\n    }\n\n    public WebDriver driver() {\n        return DriverFactory.get();\n    }\n}\n</code></pre>\n<p>Here's how a sample child class would look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HomePage extends BasePage {\n\n  private static final String HOME_PAGE_URL = &quot;https://www.google.&quot;;\n\n  @FindBy(xpath = &quot;//img[contains(@src,'/images/branding/googlelogo')]&quot;)\n  private WebElement logo;\n\n  @FindBy(xpath = &quot;//textarea[@title='Search']&quot;)\n  private WebElement searchInput;\n\n// rest of the code omitted for brevity\n\n}\n</code></pre>\n<p><a href=\"https://cucumber.io/docs/guides/parallel-execution/?lang=java#testng\" rel=\"nofollow noreferrer\">The official documentation</a> can be followed for specific instructions on parallelism support in cucumber</p>\n<p>Following are the maven dependencies that I used for this sample</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;7.12.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n      &lt;version&gt;7.12.1&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;4.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>Lastly here's how a test class would look like, which would combine all of these along with the feature file and the step definitions (These have been intentionally excluded)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.CucumberOptions;\nimport org.testng.annotations.DataProvider;\n\n@CucumberOptions(features = {&quot;src/test/resources/com/automatedtest/sample/Home_page.feature&quot;},\n    plugin = {&quot;pretty&quot;,\n        &quot;json:target/cucumber_json_reports/home-page.json&quot;,\n        &quot;html:target/home-page-html&quot;},\n    glue = {&quot;com.automatedtest.sample.infrastructure.driver&quot;,\n        &quot;com.automatedtest.sample.homepage&quot;})\npublic class HomePageTest extends AbstractTestNGCucumberTests {\n\n  @Override\n  @DataProvider(parallel = true)\n  public Object[][] scenarios() {\n    return super.scenarios();\n  }\n}\n</code></pre>\n<p>Here in <code>@CucumberOptions</code>:</p>\n<ul>\n<li><code>features</code> - represents the location of the feature files that this test class represents</li>\n<li><code>glue</code> - represents the packages which contains your step definitions</li>\n<li><code>plugin</code> - captures the list of formatters that will render the report. We are essentially configuring our formatter such that:\n<ul>\n<li>we get a pretty printed output on the console (<code>pretty</code>),</li>\n<li>a JSON\nreport gets generated in <code>target/cucumber_json_reports</code> with its name\nas <code>home-page.json</code></li>\n<li>a html report gets generated in <code>target</code> directory with its name as <code>home-page-html</code></li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688445144,"creation_date":1688131092,"question_id":76589292,"body_markdown":"Could you tell me how to implement `static ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;WebDriver&gt;` to enable parallel testing possible ?\r\n\r\nThis is my base Page where webDriver is initialized\r\n\r\n    public class Page {\r\n    \r\n    @Getter @Setter\r\n    public static WebDriver driver;\r\n    \r\n    public Page(WebDriver driver) {\r\n        this.driver = driver;\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n\r\n    }\r\n\r\nThis is my step def class:\r\n\r\n    import static utils.Page.driver;\r\n    \r\n    public class LandingPageStepDefs {\r\n    \r\n        private LandingPage landingPage = new LandingPage(driver);\r\n       \r\n        @And(&quot;Customer does something&quot;)\r\n        public void customerDoesSomething() {\r\n            landingPage.doSomething();\r\n        }\r\n    }\r\n\r\nThis is my page object class\r\n\r\n    public class LandingPage extends Page {\r\n    \r\n        @FindBy(xpath = &quot;this is xpath&quot;)\r\n        private WebElement pageWebElement;\r\n    \r\n    }\r\n    \r\n    public LandingPage(WebDriver driver) {\r\n        super(driver);\r\n    }\r\n    \r\n    public void doSomething() {\r\n        pageWebElement.click();\r\n    }","title":"Java selenium - how to implement ThreadLocal&lt;WebDriver&gt; in page factory pattern framework?","body":"<p>Could you tell me how to implement <code>static ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;WebDriver&gt;</code> to enable parallel testing possible ?</p>\n<p>This is my base Page where webDriver is initialized</p>\n<pre><code>public class Page {\n\n@Getter @Setter\npublic static WebDriver driver;\n\npublic Page(WebDriver driver) {\n    this.driver = driver;\n    PageFactory.initElements(driver, this);\n}\n\n}\n</code></pre>\n<p>This is my step def class:</p>\n<pre><code>import static utils.Page.driver;\n\npublic class LandingPageStepDefs {\n\n    private LandingPage landingPage = new LandingPage(driver);\n   \n    @And(&quot;Customer does something&quot;)\n    public void customerDoesSomething() {\n        landingPage.doSomething();\n    }\n}\n</code></pre>\n<p>This is my page object class</p>\n<pre><code>public class LandingPage extends Page {\n\n    @FindBy(xpath = &quot;this is xpath&quot;)\n    private WebElement pageWebElement;\n\n}\n\npublic LandingPage(WebDriver driver) {\n    super(driver);\n}\n\npublic void doSomething() {\n    pageWebElement.click();\n}\n</code></pre>\n"},{"tags":["java","text-processing","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1688386539,"post_id":76603330,"comment_id":135063050,"body_markdown":"Can you edit your question and include the HTML that Tika generates via the Body content handler?","body":"Can you edit your question and include the HTML that Tika generates via the Body content handler?"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688443262,"creation_date":1688375090,"question_id":76603330,"body_markdown":"I&#39;m facing an issue with the extracting texts and phrases using Apache Tika. \r\n\r\nI made a unit test where it seems to be missing some expected elements and has additional unexpected elements in the actual results. \r\n\r\nHere&#39;s the `TextExtractor` class implementation:\r\n\r\n```java\r\n\r\npublic class TextExtractor {\r\n\r\n    public String[] extractPhrasesAndWords(InputStream stream) throws IOException, TikaException, SAXException {\r\n        BodyContentHandler handler = new BodyContentHandler(-1);\r\n        Metadata metadata = new Metadata();\r\n        Parser parser = new AutoDetectParser();\r\n        parser.parse(stream, handler, metadata, new ParseContext());\r\n\r\n        String content = handler.toString();\r\n\r\n        // Splitting into phrases\r\n        String[] phrases = content.split(&quot;: &quot;);\r\n\r\n        // Splitting into words\r\n        String[] words = content.split(&quot;\\\\s+&quot;);\r\n\r\n        // Combine both arrays\r\n        String[] result = Arrays.copyOf(phrases, phrases.length + words.length);\r\n        System.arraycopy(words, 0, result, phrases.length, words.length);\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nAnd here&#39;s the corresponding JUnit test, `TextExtractorTest`:\r\n\r\n```java\r\npublic class TextExtractorTest {\r\n\r\n    @Test\r\n    public void testExtractPhrasesAndWords() throws IOException, TikaException, SAXException {\r\n        String complexHtml = &quot;&lt;html&gt;&lt;body&gt;&quot; +\r\n                &quot;&lt;div&gt;&quot; +\r\n                &quot;&lt;h2&gt;Gravenhurst, or Thoughts on Good and Evil&lt;/h2&gt;&quot; +\r\n                &quot;&lt;p&gt;William Henry Smith (1808 - 1872)&lt;/p&gt;&quot; +\r\n                &quot;&lt;p&gt;Complete | Collaborative | English&lt;/p&gt;&quot; +\r\n                &quot;&lt;/div&gt;&quot; +\r\n                &quot;&lt;div&gt;&quot; +\r\n                &quot;&lt;h2&gt;The Voyagers: Being Legends and Romances of Atlantic Discovery&lt;/h2&gt;&quot; +\r\n                &quot;&lt;p&gt;P&#225;draic Colum (1881 - 1972)&lt;/p&gt;&quot; +\r\n                &quot;&lt;p&gt;Complete | Collaborative | English&lt;/p&gt;&quot; +\r\n                &quot;&lt;/div&gt;&quot; +\r\n                // add other mock listings here as needed\r\n                &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n        InputStream stream = new ByteArrayInputStream(complexHtml.getBytes());\r\n\r\n        TextExtractor extractor = new TextExtractor();\r\n        String[] result = extractor.extractPhrasesAndWords(stream);\r\n\r\n        // expected array here\r\n        String[] expected = {\r\n            &quot;Gravenhurst, or Thoughts on Good and Evil&quot;,\r\n            &quot;William Henry Smith (1808 - 1872)&quot;,\r\n            &quot;Complete | Collaborative | English&quot;,\r\n            &quot;The Voyagers&quot;,\r\n            &quot;Being Legends and Romances of Atlantic Discovery&quot;,\r\n            &quot;P&#225;draic Colum (1881 - 1972)&quot;,\r\n            &quot;Complete | Collaborative | English&quot;,\r\n            // individual words and symbols\r\n            &quot;Gravenhurst,&quot;,\r\n            &quot;or&quot;,\r\n            &quot;Thoughts&quot;,\r\n            &quot;on&quot;,\r\n            &quot;Good&quot;,\r\n            &quot;and&quot;,\r\n            &quot;Evil&quot;,\r\n            &quot;William&quot;,\r\n            &quot;Henry&quot;,\r\n            &quot;Smith&quot;,\r\n            &quot;(1808&quot;,\r\n            &quot;-&quot;,\r\n            &quot;1872)&quot;,\r\n            &quot;Complete&quot;,\r\n            &quot;|&quot;,\r\n            &quot;Collaborative&quot;,\r\n            &quot;|&quot;,\r\n            &quot;English&quot;,\r\n            &quot;The&quot;,\r\n            &quot;Voyagers&quot;,\r\n            &quot;Being&quot;,\r\n            &quot;Legends&quot;,\r\n            &quot;and&quot;,\r\n            &quot;Romances&quot;,\r\n            &quot;of&quot;,\r\n            &quot;Atlantic&quot;,\r\n            &quot;Discovery&quot;,\r\n            &quot;P&#225;draic&quot;,\r\n            &quot;Colum&quot;,\r\n            &quot;(1881&quot;,\r\n            &quot;-&quot;,\r\n            &quot;1972)&quot;,\r\n            &quot;Complete&quot;,\r\n            &quot;|&quot;,\r\n            &quot;Collaborative&quot;,\r\n            &quot;|&quot;,\r\n            &quot;English&quot;\r\n        };\r\n\r\n        Set&lt;String&gt; expectedSet = new HashSet&lt;&gt;(Arrays.asList(expected));\r\n        Set&lt;String&gt; resultSet = new HashSet&lt;&gt;(Arrays.asList(result));\r\n\r\n        // Check for missing elements in the expected array\r\n        for (String expectedElement : expected) {\r\n            if (!resultSet.contains(expectedElement)) {\r\n                System.out.println(&quot;Missing from actual: &quot; + expectedElement);\r\n            }\r\n        }\r\n\r\n        // Check for additional elements in the actual array\r\n        for (String actualElement : result) {\r\n            if (!expectedSet.contains(actualElement)) {\r\n                System.out.println(&quot;Additional in actual: &quot; + actualElement);\r\n            }\r\n        }\r\n\r\n        assertArrayEquals(expected, result);\r\n    }\r\n}\r\n```\r\n\r\nThe test output indicates that some elements are missing from the actual results and there are additional unexpected elements:\r\n\r\n```\r\nMissing from actual: Gravenhurst, or Thoughts on Good and Evil\r\nMissing from actual: William Henry Smith (1808 - 1872)\r\nMissing from actual: Complete | Collaborative | English\r\nMissing from actual: The Voyagers\r\nMissing from actual: Being Legends and Romances of Atlantic Discovery\r\nMissing from actual: P&#225;draic Colum (1881 - 1972)\r\nMissing from actual: Complete | Collaborative | English\r\nMissing from actual: Voyagers:\r\nAdditional in actual: Gravenhurst, or Thoughts on Good and Evil\r\nWilliam Henry Smith (1808 - 1872)\r\nComplete | Collaborative | English\r\nAdditional in actual: The Voyagers\r\nAdditional in actual: Being Legends and Romances of Atlantic Discovery\r\nAdditional in actual: P&#225;draic Colum (1881 - 1972)\r\nAdditional in actual: Complete | Collaborative | English\r\n```\r\n\r\nMoreover, the assertion fails with the following message:\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: array lengths differ,\r\nExpected: 44\r\nActual: 39\r\n```\r\n\r\nI have already reviewed the implementation of the `TextExtractor` class, and it seems to be splitting the content correctly into phrases and words. However, the actual results don&#39;t match the expected results.\r\n\r\nAny insights into what might be causing this issue and how to resolve it would be greatly appreciated.\r\n\r\n**Update:**\r\n\r\nHere&#39;s the string content from Tika handler:\r\n\r\n```\r\nGravenhurst, or Thoughts on Good and Evil\r\nWilliam Henry Smith (1808 - 1872)\r\nComplete | Collaborative | English\r\n\r\nThe Voyagers: Being Legends and Romances of Atlantic Discovery\r\nP&#225;draic Colum (1881 - 1972)\r\nComplete | Collaborative | English\r\n```","title":"Extracting phrases and words with Apache Tika","body":"<p>I'm facing an issue with the extracting texts and phrases using Apache Tika.</p>\n<p>I made a unit test where it seems to be missing some expected elements and has additional unexpected elements in the actual results.</p>\n<p>Here's the <code>TextExtractor</code> class implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class TextExtractor {\n\n    public String[] extractPhrasesAndWords(InputStream stream) throws IOException, TikaException, SAXException {\n        BodyContentHandler handler = new BodyContentHandler(-1);\n        Metadata metadata = new Metadata();\n        Parser parser = new AutoDetectParser();\n        parser.parse(stream, handler, metadata, new ParseContext());\n\n        String content = handler.toString();\n\n        // Splitting into phrases\n        String[] phrases = content.split(&quot;: &quot;);\n\n        // Splitting into words\n        String[] words = content.split(&quot;\\\\s+&quot;);\n\n        // Combine both arrays\n        String[] result = Arrays.copyOf(phrases, phrases.length + words.length);\n        System.arraycopy(words, 0, result, phrases.length, words.length);\n\n        return result;\n    }\n}\n</code></pre>\n<p>And here's the corresponding JUnit test, <code>TextExtractorTest</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TextExtractorTest {\n\n    @Test\n    public void testExtractPhrasesAndWords() throws IOException, TikaException, SAXException {\n        String complexHtml = &quot;&lt;html&gt;&lt;body&gt;&quot; +\n                &quot;&lt;div&gt;&quot; +\n                &quot;&lt;h2&gt;Gravenhurst, or Thoughts on Good and Evil&lt;/h2&gt;&quot; +\n                &quot;&lt;p&gt;William Henry Smith (1808 - 1872)&lt;/p&gt;&quot; +\n                &quot;&lt;p&gt;Complete | Collaborative | English&lt;/p&gt;&quot; +\n                &quot;&lt;/div&gt;&quot; +\n                &quot;&lt;div&gt;&quot; +\n                &quot;&lt;h2&gt;The Voyagers: Being Legends and Romances of Atlantic Discovery&lt;/h2&gt;&quot; +\n                &quot;&lt;p&gt;Pádraic Colum (1881 - 1972)&lt;/p&gt;&quot; +\n                &quot;&lt;p&gt;Complete | Collaborative | English&lt;/p&gt;&quot; +\n                &quot;&lt;/div&gt;&quot; +\n                // add other mock listings here as needed\n                &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\n\n        InputStream stream = new ByteArrayInputStream(complexHtml.getBytes());\n\n        TextExtractor extractor = new TextExtractor();\n        String[] result = extractor.extractPhrasesAndWords(stream);\n\n        // expected array here\n        String[] expected = {\n            &quot;Gravenhurst, or Thoughts on Good and Evil&quot;,\n            &quot;William Henry Smith (1808 - 1872)&quot;,\n            &quot;Complete | Collaborative | English&quot;,\n            &quot;The Voyagers&quot;,\n            &quot;Being Legends and Romances of Atlantic Discovery&quot;,\n            &quot;Pádraic Colum (1881 - 1972)&quot;,\n            &quot;Complete | Collaborative | English&quot;,\n            // individual words and symbols\n            &quot;Gravenhurst,&quot;,\n            &quot;or&quot;,\n            &quot;Thoughts&quot;,\n            &quot;on&quot;,\n            &quot;Good&quot;,\n            &quot;and&quot;,\n            &quot;Evil&quot;,\n            &quot;William&quot;,\n            &quot;Henry&quot;,\n            &quot;Smith&quot;,\n            &quot;(1808&quot;,\n            &quot;-&quot;,\n            &quot;1872)&quot;,\n            &quot;Complete&quot;,\n            &quot;|&quot;,\n            &quot;Collaborative&quot;,\n            &quot;|&quot;,\n            &quot;English&quot;,\n            &quot;The&quot;,\n            &quot;Voyagers&quot;,\n            &quot;Being&quot;,\n            &quot;Legends&quot;,\n            &quot;and&quot;,\n            &quot;Romances&quot;,\n            &quot;of&quot;,\n            &quot;Atlantic&quot;,\n            &quot;Discovery&quot;,\n            &quot;Pádraic&quot;,\n            &quot;Colum&quot;,\n            &quot;(1881&quot;,\n            &quot;-&quot;,\n            &quot;1972)&quot;,\n            &quot;Complete&quot;,\n            &quot;|&quot;,\n            &quot;Collaborative&quot;,\n            &quot;|&quot;,\n            &quot;English&quot;\n        };\n\n        Set&lt;String&gt; expectedSet = new HashSet&lt;&gt;(Arrays.asList(expected));\n        Set&lt;String&gt; resultSet = new HashSet&lt;&gt;(Arrays.asList(result));\n\n        // Check for missing elements in the expected array\n        for (String expectedElement : expected) {\n            if (!resultSet.contains(expectedElement)) {\n                System.out.println(&quot;Missing from actual: &quot; + expectedElement);\n            }\n        }\n\n        // Check for additional elements in the actual array\n        for (String actualElement : result) {\n            if (!expectedSet.contains(actualElement)) {\n                System.out.println(&quot;Additional in actual: &quot; + actualElement);\n            }\n        }\n\n        assertArrayEquals(expected, result);\n    }\n}\n</code></pre>\n<p>The test output indicates that some elements are missing from the actual results and there are additional unexpected elements:</p>\n<pre><code>Missing from actual: Gravenhurst, or Thoughts on Good and Evil\nMissing from actual: William Henry Smith (1808 - 1872)\nMissing from actual: Complete | Collaborative | English\nMissing from actual: The Voyagers\nMissing from actual: Being Legends and Romances of Atlantic Discovery\nMissing from actual: Pádraic Colum (1881 - 1972)\nMissing from actual: Complete | Collaborative | English\nMissing from actual: Voyagers:\nAdditional in actual: Gravenhurst, or Thoughts on Good and Evil\nWilliam Henry Smith (1808 - 1872)\nComplete | Collaborative | English\nAdditional in actual: The Voyagers\nAdditional in actual: Being Legends and Romances of Atlantic Discovery\nAdditional in actual: Pádraic Colum (1881 - 1972)\nAdditional in actual: Complete | Collaborative | English\n</code></pre>\n<p>Moreover, the assertion fails with the following message:</p>\n<pre><code>org.opentest4j.AssertionFailedError: array lengths differ,\nExpected: 44\nActual: 39\n</code></pre>\n<p>I have already reviewed the implementation of the <code>TextExtractor</code> class, and it seems to be splitting the content correctly into phrases and words. However, the actual results don't match the expected results.</p>\n<p>Any insights into what might be causing this issue and how to resolve it would be greatly appreciated.</p>\n<p><strong>Update:</strong></p>\n<p>Here's the string content from Tika handler:</p>\n<pre><code>Gravenhurst, or Thoughts on Good and Evil\nWilliam Henry Smith (1808 - 1872)\nComplete | Collaborative | English\n\nThe Voyagers: Being Legends and Romances of Atlantic Discovery\nPádraic Colum (1881 - 1972)\nComplete | Collaborative | English\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","spring-mvc","fetch-api"],"answers":[{"comments":[{"owner":{"account_id":19093357,"reputation":615,"user_id":13943198,"display_name":"HsuTingHuan"},"score":0,"creation_date":1666054358,"post_id":74063759,"comment_id":130839633,"body_markdown":"code block miss a bracket","body":"code block miss a bracket"}],"tags":[],"owner":{"account_id":20185676,"reputation":1,"user_id":14805074,"display_name":"HooDee"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688442760,"creation_date":1665715204,"answer_id":74063759,"question_id":74063690,"body_markdown":"try this way:\r\n\r\n     @Configuration\r\n    public class CrossConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOriginPatterns(&quot;*&quot;) // SpringBoot2.4.0 [allowedOriginPatterns]replace[allowedOrigins]\r\n                .allowedMethods(&quot;*&quot;)\r\n                .maxAge(3600)\r\n                .allowCredentials(true);\r\n    }}\r\n   \r\n","title":"Blocked Cross Origin Spring Boot And React","body":"<p>try this way:</p>\n<pre><code> @Configuration\npublic class CrossConfig implements WebMvcConfigurer {\n@Override\npublic void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/**&quot;)\n            .allowedOriginPatterns(&quot;*&quot;) // SpringBoot2.4.0 [allowedOriginPatterns]replace[allowedOrigins]\n            .allowedMethods(&quot;*&quot;)\n            .maxAge(3600)\n            .allowCredentials(true);\n}}\n</code></pre>\n"}],"owner":{"account_id":23805180,"reputation":1,"user_id":17814827,"display_name":"david"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688442760,"creation_date":1665714490,"question_id":74063690,"body_markdown":"I am working on a project in react and spring boot, and I got issue with the cross origin from my spring server, I put the crossOrogin annotation on my controller and is not working me I tried many ways (from spring official web) non of them worked to me. Is anyone can help me please with that I really don’t know what to do. Here is my [controller][1] , ;\r\n    },\r\n\r\n\r\n\r\n\r\nAnd this is my error with react:\r\n[error image for react uskg chrome][2]\r\n\r\n\r\n  [1]: https://github.com/sharas36/SpringBootProject/blob/master/src/main/java/com/springCoupon/controllers/CustomerController.java\r\n  [2]: https://i.stack.imgur.com/W2i8w.jpg","title":"Blocked Cross Origin Spring Boot And React","body":"<p>I am working on a project in react and spring boot, and I got issue with the cross origin from my spring server, I put the crossOrogin annotation on my controller and is not working me I tried many ways (from spring official web) non of them worked to me. Is anyone can help me please with that I really don’t know what to do. Here is my <a href=\"https://github.com/sharas36/SpringBootProject/blob/master/src/main/java/com/springCoupon/controllers/CustomerController.java\" rel=\"nofollow noreferrer\">controller</a> , ;\n},</p>\n<p>And this is my error with react:\n<a href=\"https://i.stack.imgur.com/W2i8w.jpg\" rel=\"nofollow noreferrer\">error image for react uskg chrome</a></p>\n"},{"tags":["java","elasticsearch","out-of-memory","logstash","heap-size"],"answers":[{"tags":[],"owner":{"account_id":5884889,"reputation":329,"user_id":4633210,"display_name":"morallo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1437062310,"creation_date":1437062310,"answer_id":31459156,"question_id":27156145,"body_markdown":"To increase heap size set the LS_HEAP_SIZE environment variable before launching logstash.\r\n\r\n`LS_HEAP_SIZE=2048m`\r\n\r\n","title":"Heap space error while executing logstash with a large dictionary (translate filter)","body":"<p>To increase heap size set the LS_HEAP_SIZE environment variable before launching logstash.</p>\n\n<p><code>LS_HEAP_SIZE=2048m</code></p>\n"},{"comments":[{"owner":{"account_id":8126950,"reputation":5100,"user_id":6121568,"display_name":"Emeeus"},"score":2,"creation_date":1616862866,"post_id":54404652,"comment_id":118138678,"body_markdown":"&quot;Paging has been added to master to relieve this pain&quot;","body":"&quot;Paging has been added to master to relieve this pain&quot;"}],"tags":[],"owner":{"account_id":4908756,"reputation":3826,"user_id":3954673,"display_name":"onlyme"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548687613,"creation_date":1548687613,"answer_id":54404652,"question_id":27156145,"body_markdown":"I was having the similar issue. Mine looks \r\n        \r\n    logstash &lt;Sequel::DatabaseError: Java::JavaLang::OutOfMemoryError: Java heap space \r\n\r\nTo solve this, I had to add some settings in my logstash config file.\r\nI added the bellow settings in the jdc section\r\n\r\n    jdbc_paging_enabled =&gt; true\r\n    jdbc_page_size =&gt; 200000\r\n\r\nYou can have a look on this thread\r\n[enter link description here][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/logstash-plugins/logstash-input-jdbc/issues/9","title":"Heap space error while executing logstash with a large dictionary (translate filter)","body":"<p>I was having the similar issue. Mine looks </p>\n\n<pre><code>logstash &lt;Sequel::DatabaseError: Java::JavaLang::OutOfMemoryError: Java heap space \n</code></pre>\n\n<p>To solve this, I had to add some settings in my logstash config file.\nI added the bellow settings in the jdc section</p>\n\n<pre><code>jdbc_paging_enabled =&gt; true\njdbc_page_size =&gt; 200000\n</code></pre>\n\n<p>You can have a look on this thread\n<a href=\"https://github.com/logstash-plugins/logstash-input-jdbc/issues/9\" rel=\"noreferrer\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":28306903,"reputation":1,"user_id":21644773,"display_name":"stouch"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688441206,"creation_date":1688032229,"answer_id":76579935,"question_id":27156145,"body_markdown":"I had a very large conf file and this solution worked in my case : https://discuss.elastic.co/t/changing-logstash-heap-size/69542/4 \r\n\r\n    LS_JAVA_OPTS=&quot;-Xmx2g -Xms1g&quot; bin/logstash -e &quot;&quot;\r\n\r\n","title":"Heap space error while executing logstash with a large dictionary (translate filter)","body":"<p>I had a very large conf file and this solution worked in my case : <a href=\"https://discuss.elastic.co/t/changing-logstash-heap-size/69542/4\" rel=\"nofollow noreferrer\">https://discuss.elastic.co/t/changing-logstash-heap-size/69542/4</a></p>\n<pre><code>LS_JAVA_OPTS=&quot;-Xmx2g -Xms1g&quot; bin/logstash -e &quot;&quot;\n</code></pre>\n"}],"owner":{"account_id":5204361,"reputation":605,"user_id":4162799,"accept_rate":50,"display_name":"Fares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31459156,"answer_count":3,"score":1,"last_activity_date":1688441235,"creation_date":1417025544,"question_id":27156145,"body_markdown":"I get an error \r\n\r\n    java.lang.OutOfMemoryError: Java heap space while executing logstash with a \r\n    large dictionary of 353 mega bytes in translate filter. \r\n\r\nI use it to do a lookup on my input data.\r\n\r\nI tried to allow the JVM to use more memory (with java -Xmx2048m). suppose i do it wrong because it has no effect.\r\n\r\nI tested my config file with &quot;smaller&quot; dictionary and it worked fine. Any help please ? how to give logstash enough RAM to not die ?\r\n\r\nMy config file looks like that :\r\n\r\n    input {  \r\n    file {\r\n      type =&gt; &quot;MERGED DATA&quot;\r\n      path =&gt; &quot;C:\\logstash-1.4.1\\bin\\...&quot;\r\n      start_position =&gt; &quot;beginning&quot;\r\n    \tsincedb_path =&gt; &quot;/dev/null&quot;}} \r\n    \r\n     filter {\r\n    grok {\r\n        match =&gt; [ &quot;message&quot;, &quot;...&quot; ]} \r\n    \r\n    if (...&quot;) {\r\n    translate {dictionary_path =&gt; &quot;C:\\logstash-1.4.1\\bin\\DICTIONARY.yaml&quot;  field =&gt; &quot;Contact_ID&quot;  destination =&gt; &quot;DATA&quot; fallback =&gt; &quot;no match&quot; refresh_interval =&gt; 60  }\r\n    \r\n    grok {match =&gt; [ &quot;DATA&quot;, &quot;...&quot; ]}\r\n    \r\n    mutate {remove_field =&gt; ...}\r\n    \r\n    else if ...\r\n    \r\n    else if ...\r\n     \r\n    mutate {   ... }\r\n    }\r\n    output { if [rabbit] == &quot;INFO&quot; {\r\n      elasticsearch {\r\n        host =&gt; &quot;localhost&quot;\r\n                }\r\n      stdout {}\r\n    }}\r\n","title":"Heap space error while executing logstash with a large dictionary (translate filter)","body":"<p>I get an error</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space while executing logstash with a \nlarge dictionary of 353 mega bytes in translate filter. \n</code></pre>\n<p>I use it to do a lookup on my input data.</p>\n<p>I tried to allow the JVM to use more memory (with java -Xmx2048m). suppose i do it wrong because it has no effect.</p>\n<p>I tested my config file with &quot;smaller&quot; dictionary and it worked fine. Any help please ? how to give logstash enough RAM to not die ?</p>\n<p>My config file looks like that :</p>\n<pre><code>input {  \nfile {\n  type =&gt; &quot;MERGED DATA&quot;\n  path =&gt; &quot;C:\\logstash-1.4.1\\bin\\...&quot;\n  start_position =&gt; &quot;beginning&quot;\n    sincedb_path =&gt; &quot;/dev/null&quot;}} \n\n filter {\ngrok {\n    match =&gt; [ &quot;message&quot;, &quot;...&quot; ]} \n\nif (...&quot;) {\ntranslate {dictionary_path =&gt; &quot;C:\\logstash-1.4.1\\bin\\DICTIONARY.yaml&quot;  field =&gt; &quot;Contact_ID&quot;  destination =&gt; &quot;DATA&quot; fallback =&gt; &quot;no match&quot; refresh_interval =&gt; 60  }\n\ngrok {match =&gt; [ &quot;DATA&quot;, &quot;...&quot; ]}\n\nmutate {remove_field =&gt; ...}\n\nelse if ...\n\nelse if ...\n \nmutate {   ... }\n}\noutput { if [rabbit] == &quot;INFO&quot; {\n  elasticsearch {\n    host =&gt; &quot;localhost&quot;\n            }\n  stdout {}\n}}\n</code></pre>\n"},{"tags":["java","arrays","join","separator"],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1468787363,"post_id":38425624,"comment_id":64257808,"body_markdown":"You can `.collect(Collectors.joining(&quot;,&quot;))` instead of the temp string array.","body":"You can <code>.collect(Collectors.joining(&quot;,&quot;))</code> instead of the temp string array."},{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":2,"creation_date":1468787616,"post_id":38425624,"comment_id":64257881,"body_markdown":"Nice overview! For the java 1.7 version: Technically you wont need the arr.length == 1 check before the loop but this works perfectly as well.","body":"Nice overview! For the java 1.7 version: Technically you wont need the arr.length == 1 check before the loop but this works perfectly as well."},{"owner":{"account_id":8666113,"reputation":3275,"user_id":6486583,"display_name":"spirit"},"score":0,"creation_date":1468787646,"post_id":38425624,"comment_id":64257892,"body_markdown":"@shmosel, nope. `Arrays.stream(arr)` produces an `IntStream` and in it there is no such `collect()` method.","body":"@shmosel, nope. <code>Arrays.stream(arr)</code> produces an <code>IntStream</code> and in it there is no such <code>collect()</code> method."}],"tags":[],"owner":{"account_id":8666113,"reputation":3275,"user_id":6486583,"display_name":"spirit"},"comment_count":3,"down_vote_count":1,"up_vote_count":89,"is_accepted":true,"score":88,"last_activity_date":1688438686,"creation_date":1468787100,"answer_id":38425624,"question_id":38425623,"body_markdown":"Here&#39;s what I came up with. There are several ways to do this and they depend on the tools you are using.\r\n\r\n---\r\n\r\nUsing `StringUtils` and `ArrayUtils` from [Commons Lang][1]:\r\n\r\n    int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\r\n    String result = StringUtils.join(ArrayUtils.toObject(arr), &quot; - &quot;);\r\n\r\nYou can&#39;t just use `StringUtils.join(arr, &quot; - &quot;);` because `StringUtils` doesn&#39;t have that overloaded version of method. Though, it has method `StringUtils.join(int[], char)`.\r\n\r\nWorks at any Java version, from 1.2.\r\n\r\n---\r\n\r\nUsing Java 8 streams:\r\n\r\nSomething like this:\r\n\r\n    int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\r\n\tString result = Arrays.stream(arr)\r\n\t\t\t.mapToObj(String::valueOf)\r\n\t\t\t.collect(Collectors.joining(&quot; - &quot;));\r\n\r\nIn fact, there are lot of variations to achieve it using streams.\r\n\r\nJava 8&#39;s method `String.join()` works only with strings, so to use it you still have to convert `int[]` to `String[]`.\r\n\r\n    String[] sarr = Arrays.stream(arr).mapToObj(String::valueOf).toArray(String[]::new);\r\n    String result = String.join(&quot; - &quot;, sarr);\r\n\r\n---\r\nIf you&#39;re stuck using Java 7 or earlier with no libraries, you could write your own utility method:\r\n\r\n\tpublic static String myJoin(int[] arr, String separator) {\r\n\t\tif (null == arr || 0 == arr.length) return &quot;&quot;;\r\n\r\n\t\tStringBuilder sb = new StringBuilder(256);\r\n\t\tsb.append(arr[0]);\r\n\r\n\t\t//if (arr.length == 1) return sb.toString();\r\n\r\n\t\tfor (int i = 1; i &lt; arr.length; i++) sb.append(separator).append(arr[i]);\r\n\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\nThen you can do:\r\n\r\n    int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\r\n    String result = myJoin(arr, &quot; - &quot;);\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/","title":"Java: join array of primitives with separator","body":"<p>Here's what I came up with. There are several ways to do this and they depend on the tools you are using.</p>\n<hr />\n<p>Using <code>StringUtils</code> and <code>ArrayUtils</code> from <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Commons Lang</a>:</p>\n<pre><code>int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\nString result = StringUtils.join(ArrayUtils.toObject(arr), &quot; - &quot;);\n</code></pre>\n<p>You can't just use <code>StringUtils.join(arr, &quot; - &quot;);</code> because <code>StringUtils</code> doesn't have that overloaded version of method. Though, it has method <code>StringUtils.join(int[], char)</code>.</p>\n<p>Works at any Java version, from 1.2.</p>\n<hr />\n<p>Using Java 8 streams:</p>\n<p>Something like this:</p>\n<pre><code>int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\nString result = Arrays.stream(arr)\n        .mapToObj(String::valueOf)\n        .collect(Collectors.joining(&quot; - &quot;));\n</code></pre>\n<p>In fact, there are lot of variations to achieve it using streams.</p>\n<p>Java 8's method <code>String.join()</code> works only with strings, so to use it you still have to convert <code>int[]</code> to <code>String[]</code>.</p>\n<pre><code>String[] sarr = Arrays.stream(arr).mapToObj(String::valueOf).toArray(String[]::new);\nString result = String.join(&quot; - &quot;, sarr);\n</code></pre>\n<hr />\n<p>If you're stuck using Java 7 or earlier with no libraries, you could write your own utility method:</p>\n<pre><code>public static String myJoin(int[] arr, String separator) {\n    if (null == arr || 0 == arr.length) return &quot;&quot;;\n\n    StringBuilder sb = new StringBuilder(256);\n    sb.append(arr[0]);\n\n    //if (arr.length == 1) return sb.toString();\n\n    for (int i = 1; i &lt; arr.length; i++) sb.append(separator).append(arr[i]);\n\n    return sb.toString();\n}\n</code></pre>\n<p>Then you can do:</p>\n<pre><code>int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\nString result = myJoin(arr, &quot; - &quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":2,"creation_date":1468787883,"post_id":38425673,"comment_id":64257971,"body_markdown":"For primitive arrays Gava provides primitive `.asList()` methods, e.g. [`Ints.asList()`](https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/primitives/Ints.html#asList(int...)) - you can&#39;t use `Array.asList()` with primitive arrays.","body":"For primitive arrays Gava provides primitive <code>.asList()</code> methods, e.g. <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/primitives/Ints.html#asList(int...)\" rel=\"nofollow noreferrer\"><code>Ints.asList()</code></a> - you can&#39;t use <code>Array.asList()</code> with primitive arrays."},{"owner":{"account_id":8666113,"reputation":3275,"user_id":6486583,"display_name":"spirit"},"score":0,"creation_date":1468788166,"post_id":38425673,"comment_id":64258074,"body_markdown":"yep, `Arrays.asList(arr)` will produce a `List` with size of 1 =) And that&#39;s one element will be our primitive array.","body":"yep, <code>Arrays.asList(arr)</code> will produce a <code>List</code> with size of 1 =) And that&#39;s one element will be our primitive array."}],"tags":[],"owner":{"account_id":1453902,"reputation":3608,"user_id":1370062,"accept_rate":96,"display_name":"RMachnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1468788187,"creation_date":1468787548,"answer_id":38425673,"question_id":38425623,"body_markdown":"You can use Guava for joining elements. More examples and docs you can find there. https://github.com/google/guava/wiki/StringsExplained\r\n\r\n    Joiner.on(&quot;-&quot;)\r\n          .join(texts);\r\n\r\nTo be more precise you should firstly wrap your array into a `List` with [`Arrays.asList()`][1] or Guava&#39;s [primitive-friendly][2] equivalents.\r\n\r\n    Joiner.on(&quot;-&quot;)\r\n          .join(Arrays.asList(1, 2, 3, 4, 5, 6, 7));\r\n\r\n    Joiner.on(&quot;-&quot;)\r\n          .join(Ints.asList(arr));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\r\n  [2]: https://github.com/google/guava/wiki/PrimitivesExplained#primitive-array-utilities","title":"Java: join array of primitives with separator","body":"<p>You can use Guava for joining elements. More examples and docs you can find there. <a href=\"https://github.com/google/guava/wiki/StringsExplained\" rel=\"nofollow\">https://github.com/google/guava/wiki/StringsExplained</a></p>\n\n<pre><code>Joiner.on(\"-\")\n      .join(texts);\n</code></pre>\n\n<p>To be more precise you should firstly wrap your array into a <code>List</code> with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\" rel=\"nofollow\"><code>Arrays.asList()</code></a> or Guava's <a href=\"https://github.com/google/guava/wiki/PrimitivesExplained#primitive-array-utilities\" rel=\"nofollow\">primitive-friendly</a> equivalents.</p>\n\n<pre><code>Joiner.on(\"-\")\n      .join(Arrays.asList(1, 2, 3, 4, 5, 6, 7));\n\nJoiner.on(\"-\")\n      .join(Ints.asList(arr));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8666113,"reputation":3275,"user_id":6486583,"display_name":"spirit"},"score":0,"creation_date":1468788511,"post_id":38425780,"comment_id":64258167,"body_markdown":"good one! as i said, there is a lot of ways to do this via streams.","body":"good one! as i said, there is a lot of ways to do this via streams."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1468788289,"creation_date":1468788289,"answer_id":38425780,"question_id":38425623,"body_markdown":"In Java 8+ you could use an [`IntStream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html) and a [`StringJoiner`](https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html). Something like,\r\n\r\n\tint[] arr = new int[] { 1, 2, 3, 4, 5, 6, 7 };\r\n\tStringJoiner sj = new StringJoiner(&quot; - &quot;);\r\n\tIntStream.of(arr).forEach(x -&gt; sj.add(String.valueOf(x)));\r\n\tSystem.out.println(sj.toString());\r\n\r\nOutput is (as requested)\r\n\r\n    1 - 2 - 3 - 4 - 5 - 6 - 7\r\n\r\n","title":"Java: join array of primitives with separator","body":"<p>In Java 8+ you could use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\"><code>IntStream</code></a> and a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"noreferrer\"><code>StringJoiner</code></a>. Something like,</p>\n\n<pre><code>int[] arr = new int[] { 1, 2, 3, 4, 5, 6, 7 };\nStringJoiner sj = new StringJoiner(\" - \");\nIntStream.of(arr).forEach(x -&gt; sj.add(String.valueOf(x)));\nSystem.out.println(sj.toString());\n</code></pre>\n\n<p>Output is (as requested)</p>\n\n<pre><code>1 - 2 - 3 - 4 - 5 - 6 - 7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8092089,"reputation":151,"user_id":6097713,"display_name":"engAnt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468789508,"creation_date":1468788309,"answer_id":38425786,"question_id":38425623,"body_markdown":"I&#39;m sure there&#39;s a way to do this in Kotlin/Scala or other JVM languages as well but you could always stick to keeping things simple for a small set of values like you have above:\r\n\r\n    int i, arrLen = arr.length;\r\n\t StringBuilder tmp = new StringBuilder();\r\n\t for (i=0; i&lt;arrLen-1; i++)\r\n\t\ttmp.append(arr[i] +&quot; - &quot;);\r\n\t tmp.append(arr[arrLen-1]);\r\n\t\t\r\n\t System.out.println( tmp.toString() );\r\n\r\n","title":"Java: join array of primitives with separator","body":"<p>I'm sure there's a way to do this in Kotlin/Scala or other JVM languages as well but you could always stick to keeping things simple for a small set of values like you have above:</p>\n\n<pre><code>int i, arrLen = arr.length;\n StringBuilder tmp = new StringBuilder();\n for (i=0; i&lt;arrLen-1; i++)\n    tmp.append(arr[i] +\" - \");\n tmp.append(arr[arrLen-1]);\n\n System.out.println( tmp.toString() );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1543594148,"post_id":47501361,"comment_id":93987777,"body_markdown":"OP wanted &quot; - &quot; as separator","body":"OP wanted &quot; - &quot; as separator"}],"tags":[],"owner":{"account_id":5156984,"reputation":289,"user_id":4129966,"display_name":"Lin W"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543587415,"creation_date":1511732887,"answer_id":47501361,"question_id":38425623,"body_markdown":"    int[] arr = new int[] { 1, 2, 3, 4, 5, 6, 7 };\r\n\r\n    IntStream.of(arr).mapToObj(i -&gt; String.valueOf(i)).collect(Collectors.joining(&quot;,&quot;)) ;","title":"Java: join array of primitives with separator","body":"<pre><code>int[] arr = new int[] { 1, 2, 3, 4, 5, 6, 7 };\n\nIntStream.of(arr).mapToObj(i -&gt; String.valueOf(i)).collect(Collectors.joining(\",\")) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534963640,"creation_date":1534963640,"answer_id":51973332,"question_id":38425623,"body_markdown":"I&#39;ve been looking for a way to join primitives in a Stream without first instantiating strings for each one of them. I&#39;ve come to this but it still requires boxing them.\r\n\r\n    LongStream.range(0, 500).boxed().collect(Collector.of(StringBuilder::new, (sb, v) -&gt; {\r\n        if (sb.length() != 0)\r\n            sb.append(&#39;,&#39;);\r\n        sb.append(v.longValue());\r\n    }, (a, b) -&gt; a.length() == 0 ? b : b.length() != 0 ? a.append(&#39;,&#39;).append(b) : a, StringBuilder::toString));","title":"Java: join array of primitives with separator","body":"<p>I've been looking for a way to join primitives in a Stream without first instantiating strings for each one of them. I've come to this but it still requires boxing them.</p>\n\n<pre><code>LongStream.range(0, 500).boxed().collect(Collector.of(StringBuilder::new, (sb, v) -&gt; {\n    if (sb.length() != 0)\n        sb.append(',');\n    sb.append(v.longValue());\n}, (a, b) -&gt; a.length() == 0 ? b : b.length() != 0 ? a.append(',').append(b) : a, StringBuilder::toString));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3510770,"reputation":157,"user_id":2935131,"display_name":"user2935131"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1550826519,"creation_date":1550823941,"answer_id":54822860,"question_id":38425623,"body_markdown":"Java 8 Solution would be like this:\r\n\r\n    Stream.of(1,2,3,4).map(String::valueOf).collect(Collectors.joining(&quot;-&quot;))","title":"Java: join array of primitives with separator","body":"<p>Java 8 Solution would be like this:</p>\n\n<pre><code>Stream.of(1,2,3,4).map(String::valueOf).collect(Collectors.joining(\"-\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2233181,"reputation":3815,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570503894,"creation_date":1570501938,"answer_id":58279497,"question_id":38425623,"body_markdown":"**For Java 7 or earlier.** \r\n\r\n    public static StringBuilder join(CharSequence delimiter, int... arr) {\r\n        if (null == delimiter || null == arr) throw new NullPointerException();\r\n\r\n        StringBuilder sb = new StringBuilder(String.valueOf(arr[0]));\r\n        for (int i = 1; i &lt; arr.length; i++) sb.append(delimiter).append(arr[i]);\r\n\r\n        return sb;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        StringBuilder sb = join(&quot; - &quot;, 1, 2, 3, 4);\r\n        System.out.println(sb.toString());//you could pass sb also coz println automatically call toString method within it\r\n        System.out.println(sb.insert(0, &quot;[&quot;).append(&quot;]&quot;));\r\n    }\r\n\r\n&gt; Output:\r\n\r\n&gt; 1 - 2 - 3 - 4\r\n\r\n&gt;[1 - 2 - 3 - 4]","title":"Java: join array of primitives with separator","body":"<p><strong>For Java 7 or earlier.</strong> </p>\n\n<pre><code>public static StringBuilder join(CharSequence delimiter, int... arr) {\n    if (null == delimiter || null == arr) throw new NullPointerException();\n\n    StringBuilder sb = new StringBuilder(String.valueOf(arr[0]));\n    for (int i = 1; i &lt; arr.length; i++) sb.append(delimiter).append(arr[i]);\n\n    return sb;\n}\n\npublic static void main(String[] args) {\n    StringBuilder sb = join(\" - \", 1, 2, 3, 4);\n    System.out.println(sb.toString());//you could pass sb also coz println automatically call toString method within it\n    System.out.println(sb.insert(0, \"[\").append(\"]\"));\n}\n</code></pre>\n\n<blockquote>\n  <p>Output:</p>\n  \n  <p>1 - 2 - 3 - 4</p>\n  \n  <p>[1 - 2 - 3 - 4]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4162561,"reputation":1412,"user_id":3412316,"accept_rate":20,"display_name":"Kiruahxh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596452075,"creation_date":1596444678,"answer_id":63226396,"question_id":38425623,"body_markdown":"If your delimiter is a **single char** you can use [StringUtils][1] from Common Lang:\r\n\r\n    int[] arr = {1, 2, 3, 4, 5, 6, 7};\r\n    String result = StringUtils.join(arr, &#39;-&#39;);\r\n\r\nHowever, if the delimiter is a String, you should use an alternative because StringUtils is behaving badly ([see this ticket][2]).\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\r\n  [2]: https://issues.apache.org/jira/browse/LANG-1593","title":"Java: join array of primitives with separator","body":"<p>If your delimiter is a <strong>single char</strong> you can use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> from Common Lang:</p>\n<pre><code>int[] arr = {1, 2, 3, 4, 5, 6, 7};\nString result = StringUtils.join(arr, '-');\n</code></pre>\n<p>However, if the delimiter is a String, you should use an alternative because StringUtils is behaving badly (<a href=\"https://issues.apache.org/jira/browse/LANG-1593\" rel=\"nofollow noreferrer\">see this ticket</a>).</p>\n"}],"owner":{"account_id":8666113,"reputation":3275,"user_id":6486583,"display_name":"spirit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73429,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":38425624,"answer_count":9,"score":43,"last_activity_date":1688438686,"creation_date":1468787100,"question_id":38425623,"body_markdown":"Suppose, I have an array:\r\n\r\n    int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\r\n\r\nAnd I need to join its elements using separator, for example, `&quot; - &quot;`, so as the result I should get string like this:\r\n\r\n    &quot;1 - 2 - 3 - 4 - 5 - 6 - 7&quot;\r\n\r\nHow could I do this?\r\n\r\n**PS:** yes, I know about [this][1] and [this][2] posts, but its solutions won&#39;t work with an array of primitives.\r\n\r\n  [1]: https://stackoverflow.com/questions/1978933/a-quick-and-easy-way-to-join-array-elements-with-a-separator-the-opposite-of-sp\r\n  [2]: https://stackoverflow.com/questions/1515437/java-function-for-arrays-like-phps-join","title":"Java: join array of primitives with separator","body":"<p>Suppose, I have an array:</p>\n\n<pre><code>int[] arr = new int[] {1, 2, 3, 4, 5, 6, 7};\n</code></pre>\n\n<p>And I need to join its elements using separator, for example, <code>\" - \"</code>, so as the result I should get string like this:</p>\n\n<pre><code>\"1 - 2 - 3 - 4 - 5 - 6 - 7\"\n</code></pre>\n\n<p>How could I do this?</p>\n\n<p><strong>PS:</strong> yes, I know about <a href=\"https://stackoverflow.com/questions/1978933/a-quick-and-easy-way-to-join-array-elements-with-a-separator-the-opposite-of-sp\">this</a> and <a href=\"https://stackoverflow.com/questions/1515437/java-function-for-arrays-like-phps-join\">this</a> posts, but its solutions won't work with an array of primitives.</p>\n"},{"tags":["java","protocol-buffers","avro"],"answers":[{"tags":[],"owner":{"account_id":2909719,"reputation":19935,"user_id":2494262,"accept_rate":64,"display_name":"MrE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668022519,"creation_date":1668022519,"answer_id":74380456,"question_id":74380074,"body_markdown":"So it seems like this Protobuf Object embeds multiple messages and picking a message type within the class helped get through this error.","title":"Convert Protobuf to Avro in Java: FileDescriptor can&#39;t be cast to Descriptor","body":"<p>So it seems like this Protobuf Object embeds multiple messages and picking a message type within the class helped get through this error.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1688560996,"post_id":76609103,"comment_id":135089358,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76609103/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28945198,"reputation":1,"user_id":22170928,"display_name":"zhengwenjie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688438494,"creation_date":1688438494,"answer_id":76609103,"question_id":74380074,"body_markdown":"I met the same problem and solved it . You need use the inner class of your proto class. like this com.cloud.log.proto.StaExpDetailProto$StaExpDetail ","title":"Convert Protobuf to Avro in Java: FileDescriptor can&#39;t be cast to Descriptor","body":"<p>I met the same problem and solved it . You need use the inner class of your proto class. like this com.cloud.log.proto.StaExpDetailProto$StaExpDetail</p>\n"}],"owner":{"account_id":2909719,"reputation":19935,"user_id":2494262,"accept_rate":64,"display_name":"MrE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688438494,"creation_date":1668020390,"question_id":74380074,"body_markdown":"Simply trying to get an Avro schema from a protobuf Java class with\r\n\r\n```java\r\nProtobufData model = ProtobufData.get();\r\nSchema schema = model.getSchema(MyProto);\r\n```\r\n\r\nthe MyProto class was generated from the `.proto` file with `protoc`\r\n\r\nbut on the `getSchema` call I get:\r\n\r\n```\r\njava.lang.ClassCastException: class com.google.protobuf.Descriptors$FileDescriptor \r\ncannot be cast to class com.google.protobuf.Descriptors$Descriptor\r\n```\r\nThe `org.apache.avro.protobuf.ProtobufData.getSchema` method looks like:\r\n\r\n```java\r\npublic Schema getSchema(Class c) {\r\n    Schema schema = schemaCache.get(c);\r\n\r\n    if (schema == null) {                         // cache miss\r\n      try {\r\n        Object descriptor = c.getMethod(&quot;getDescriptor&quot;).invoke(null);\r\n        if (c.isEnum())\r\n          schema = getSchema((EnumDescriptor)descriptor);\r\n        else\r\n          schema = getSchema((Descriptor)descriptor);  // &lt;-- fails here\r\n      } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n      schemaCache.put(c, schema);                 // update cache\r\n    }\r\n    return schema;\r\n  }\r\n``` \r\n\r\nand it fails at the casting to Descriptor.\r\n\r\nSo, I&#39;m not sure what I can do about this. I&#39;m not sure why my protobuf object class returns a `FileDescriptor` and not a `Descriptor`.\r\n","title":"Convert Protobuf to Avro in Java: FileDescriptor can&#39;t be cast to Descriptor","body":"<p>Simply trying to get an Avro schema from a protobuf Java class with</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProtobufData model = ProtobufData.get();\nSchema schema = model.getSchema(MyProto);\n</code></pre>\n<p>the MyProto class was generated from the <code>.proto</code> file with <code>protoc</code></p>\n<p>but on the <code>getSchema</code> call I get:</p>\n<pre><code>java.lang.ClassCastException: class com.google.protobuf.Descriptors$FileDescriptor \ncannot be cast to class com.google.protobuf.Descriptors$Descriptor\n</code></pre>\n<p>The <code>org.apache.avro.protobuf.ProtobufData.getSchema</code> method looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Schema getSchema(Class c) {\n    Schema schema = schemaCache.get(c);\n\n    if (schema == null) {                         // cache miss\n      try {\n        Object descriptor = c.getMethod(&quot;getDescriptor&quot;).invoke(null);\n        if (c.isEnum())\n          schema = getSchema((EnumDescriptor)descriptor);\n        else\n          schema = getSchema((Descriptor)descriptor);  // &lt;-- fails here\n      } catch (Exception e) {\n        throw new RuntimeException(e);\n      }\n      schemaCache.put(c, schema);                 // update cache\n    }\n    return schema;\n  }\n</code></pre>\n<p>and it fails at the casting to Descriptor.</p>\n<p>So, I'm not sure what I can do about this. I'm not sure why my protobuf object class returns a <code>FileDescriptor</code> and not a <code>Descriptor</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1688434601,"post_id":76608918,"comment_id":135070626,"body_markdown":"Garbage collector runs as a thread. Event Dispatch Thread could also be running. The JVM has multiple threads itself.","body":"Garbage collector runs as a thread. Event Dispatch Thread could also be running. The JVM has multiple threads itself."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1688435331,"post_id":76608918,"comment_id":135070681,"body_markdown":"Can&#39;t reproduce: https://ideone.com/Ek01Y0","body":"Can&#39;t reproduce: <a href=\"https://ideone.com/Ek01Y0\" rel=\"nofollow noreferrer\">ideone.com/Ek01Y0</a>"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688437296,"creation_date":1688436994,"answer_id":76609035,"question_id":76608918,"body_markdown":"On Linux, Java uses a thread to monitor for ctrl-break being typed.\r\n\r\nIf you look at the implementation of `Thread.activeCount()`:\r\n\r\n```\r\n    /**\r\n     * Returns an estimate of the number of {@linkplain #isAlive() live}\r\n     * platform threads in the current thread&#39;s thread group and its subgroups.\r\n     * Virtual threads are not included in the estimate.\r\n     *\r\n     * &lt;p&gt; The value returned is only an estimate because the number of\r\n     * threads may change dynamically while this method traverses internal\r\n     * data structures, and might be affected by the presence of certain\r\n     * system threads. This method is intended primarily for debugging\r\n     * and monitoring purposes.\r\n     *\r\n     * @return  an estimate of the number of live platform threads in the\r\n     *          current thread&#39;s thread group and in any other thread group\r\n     *          that has the current thread&#39;s thread group as an ancestor\r\n     */\r\n    public static int activeCount() {\r\n        return currentThread().getThreadGroup().activeCount();\r\n    }\r\n```\r\nIt refers only to threads in the thread group of which the current thread (i.e. main) is a member.\r\n\r\nWe can print the threads in the current thread group to the console:\r\n\r\n```\r\n        Thread.currentThread().getThreadGroup().list();\r\n```\r\nWhich on GNU/Linux (WSL2 anyway) prints:\r\n```\r\njava.lang.ThreadGroup[name=main,maxpri=10]\r\n    Thread[#1,main,5,main]\r\n    Thread[#26,Monitor Ctrl-Break,5,main]\r\n```\r\n\r\nIf you want to find out more about current threads, use the `ThreadMXBean`:\r\n```\r\nimport java.lang.management.ManagementFactory;\r\nimport java.lang.management.ThreadInfo;\r\nimport java.lang.management.ThreadMXBean;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(Thread.activeCount());\r\n\r\n        System.out.println(Thread.currentThread().getName());\r\n        Thread.currentThread().getThreadGroup().list();\r\n        ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\r\n        long[] ids = threadMXBean.getAllThreadIds();\r\n        for (long id: ids) {\r\n            ThreadInfo threadInfo = threadMXBean.getThreadInfo(id);\r\n            System.out.println(threadInfo);\r\n        }\r\n    }\r\n}\r\n```","title":"Thread.activeCount is giving me back an active count of 2 threads instead of 1 thread why?","body":"<p>On Linux, Java uses a thread to monitor for ctrl-break being typed.</p>\n<p>If you look at the implementation of <code>Thread.activeCount()</code>:</p>\n<pre><code>    /**\n     * Returns an estimate of the number of {@linkplain #isAlive() live}\n     * platform threads in the current thread's thread group and its subgroups.\n     * Virtual threads are not included in the estimate.\n     *\n     * &lt;p&gt; The value returned is only an estimate because the number of\n     * threads may change dynamically while this method traverses internal\n     * data structures, and might be affected by the presence of certain\n     * system threads. This method is intended primarily for debugging\n     * and monitoring purposes.\n     *\n     * @return  an estimate of the number of live platform threads in the\n     *          current thread's thread group and in any other thread group\n     *          that has the current thread's thread group as an ancestor\n     */\n    public static int activeCount() {\n        return currentThread().getThreadGroup().activeCount();\n    }\n</code></pre>\n<p>It refers only to threads in the thread group of which the current thread (i.e. main) is a member.</p>\n<p>We can print the threads in the current thread group to the console:</p>\n<pre><code>        Thread.currentThread().getThreadGroup().list();\n</code></pre>\n<p>Which on GNU/Linux (WSL2 anyway) prints:</p>\n<pre><code>java.lang.ThreadGroup[name=main,maxpri=10]\n    Thread[#1,main,5,main]\n    Thread[#26,Monitor Ctrl-Break,5,main]\n</code></pre>\n<p>If you want to find out more about current threads, use the <code>ThreadMXBean</code>:</p>\n<pre><code>import java.lang.management.ManagementFactory;\nimport java.lang.management.ThreadInfo;\nimport java.lang.management.ThreadMXBean;\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        System.out.println(Thread.activeCount());\n\n        System.out.println(Thread.currentThread().getName());\n        Thread.currentThread().getThreadGroup().list();\n        ThreadMXBean threadMXBean = ManagementFactory.getThreadMXBean();\n        long[] ids = threadMXBean.getAllThreadIds();\n        for (long id: ids) {\n            ThreadInfo threadInfo = threadMXBean.getThreadInfo(id);\n            System.out.println(threadInfo);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27893064,"reputation":1,"user_id":21299003,"display_name":"NotAGoodCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688437296,"creation_date":1688434312,"question_id":76608918,"body_markdown":"&gt; public class Prac {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(Thread.activeCount());\r\n\r\n        System.out.println(Thread.currentThread().getName());\r\n\r\n    }\r\n}\r\n\r\n................................................................................................................................................................................................................................................................................................................................................................................................................................\r\n&gt; \r\n\r\nshould return 1 thread","title":"Thread.activeCount is giving me back an active count of 2 threads instead of 1 thread why?","body":"<blockquote>\n<p>public class Prac {</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\n\n    System.out.println(Thread.activeCount());\n\n    System.out.println(Thread.currentThread().getName());\n\n}\n</code></pre>\n<p>}</p>\n<p>................................................................................................................................................................................................................................................................................................................................................................................................................................</p>\n<blockquote>\n</blockquote>\n<p>should return 1 thread</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13903,"reputation":393623,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1298389460,"creation_date":1298389460,"answer_id":5080334,"question_id":5080308,"body_markdown":"You would have to use a &lt;code&gt;[BigInteger][1]&lt;/code&gt;, since IPv6 addresses are larger than Java&#39;s native integer datatypes support, at 128 bits.\r\n\r\nDepending on in which format you have the IPv6 address (raw byte array, hexadecimal string, ...) there might or might not be a &lt;code&gt;BigInteger&lt;/code&gt; constructor that&#39;s suitable.\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html","title":"how to convert ipv6 address into integer in Java programming language","body":"<p>You would have to use a <code><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html\" rel=\"nofollow\">BigInteger</a></code>, since IPv6 addresses are larger than Java's native integer datatypes support, at 128 bits.</p>\n\n<p>Depending on in which format you have the IPv6 address (raw byte array, hexadecimal string, ...) there might or might not be a <code>BigInteger</code> constructor that's suitable.</p>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688434797,"creation_date":1553448875,"answer_id":55326573,"question_id":5080308,"body_markdown":"The [open-source IPAddress Java library](https://seancfoley.github.io/IPAddress/) can do the conversion.  Disclaimer: I am the project manager of the IPAddress library. \r\n\r\n    String str = &quot;2001:0db8:85a3:0000:0000:8a2e:0370:7334&quot;;\r\n\tIPAddressString addrStr = new IPAddressString(str);\r\n\tIPAddress addr  = addrStr.getAddress();\r\n\tBigInteger value = addr.getValue();\r\n\tSystem.out.println(value);\r\n\r\nOutput:\r\n\r\n    42540766452641154071740215577757643572\r\n\r\nAlso note the code works the same for IPv4 addresses.  \r\n\r\nThe library is also capable of doing the reverse conversion, constructing an IPv6Address instance from a BigInteger directly, or from an integer string as shown below.  The integer string must be a hexadecimal integer string with 32 digits.\r\n\r\nReverse conversion from a 32 digit hex integer string:\r\n\r\n    str = value.toString(16);\r\n\tint len = str.length();\r\n\tif(len &lt; 32) {\r\n\t\t// 32 zeros\r\n\t\tstr = &quot;00000000000000000000000000000000&quot;.substring(len) + str; \r\n\t}\r\n\taddrStr = new IPAddressString(str);\r\n\tSystem.out.println(addrStr.getAddress());\r\n\r\nOutput:\r\n\r\n    2001:db8:85a3::8a2e:370:7334","title":"how to convert ipv6 address into integer in Java programming language","body":"<p>The <a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">open-source IPAddress Java library</a> can do the conversion.  Disclaimer: I am the project manager of the IPAddress library.</p>\n<pre><code>String str = &quot;2001:0db8:85a3:0000:0000:8a2e:0370:7334&quot;;\nIPAddressString addrStr = new IPAddressString(str);\nIPAddress addr  = addrStr.getAddress();\nBigInteger value = addr.getValue();\nSystem.out.println(value);\n</code></pre>\n<p>Output:</p>\n<pre><code>42540766452641154071740215577757643572\n</code></pre>\n<p>Also note the code works the same for IPv4 addresses.</p>\n<p>The library is also capable of doing the reverse conversion, constructing an IPv6Address instance from a BigInteger directly, or from an integer string as shown below.  The integer string must be a hexadecimal integer string with 32 digits.</p>\n<p>Reverse conversion from a 32 digit hex integer string:</p>\n<pre><code>str = value.toString(16);\nint len = str.length();\nif(len &lt; 32) {\n    // 32 zeros\n    str = &quot;00000000000000000000000000000000&quot;.substring(len) + str; \n}\naddrStr = new IPAddressString(str);\nSystem.out.println(addrStr.getAddress());\n</code></pre>\n<p>Output:</p>\n<pre><code>2001:db8:85a3::8a2e:370:7334\n</code></pre>\n"}],"owner":{"account_id":33157,"reputation":12921,"user_id":92568,"accept_rate":77,"display_name":"Avinash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5080334,"answer_count":2,"score":1,"last_activity_date":1688434797,"creation_date":1298389314,"question_id":5080308,"body_markdown":"how to convert ipv6 address into integer in Java programming language","title":"how to convert ipv6 address into integer in Java programming language","body":"<p>how to convert ipv6 address into integer in Java programming language</p>\n"},{"tags":["java","authentication","spring-security","jwt","roles"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688420860,"post_id":76608125,"comment_id":135069434,"body_markdown":"can you show the request you are sending and response, screenshot of postman if possible","body":"can you show the request you are sending and response, screenshot of postman if possible"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688422054,"post_id":76608125,"comment_id":135069574,"body_markdown":"Added the images @AhmedNabil","body":"Added the images @AhmedNabil"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688422814,"post_id":76608125,"comment_id":135069665,"body_markdown":"I am sorry, can you add this line to application.properties &quot;server.error.include-message=always&quot; and show stack trace of the error","body":"I am sorry, can you add this line to application.properties &quot;server.error.include-message=always&quot; and show stack trace of the error"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688423316,"post_id":76608125,"comment_id":135069720,"body_markdown":"I already added it before","body":"I already added it before"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688423448,"post_id":76608125,"comment_id":135069741,"body_markdown":"where is the stack trace of spring ?","body":"where is the stack trace of spring ?"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688423504,"post_id":76608125,"comment_id":135069750,"body_markdown":"It does not print nothing :(","body":"It does not print nothing :("},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688423904,"post_id":76608125,"comment_id":135069793,"body_markdown":"I will change it into a .yml file to see if logs someting","body":"I will change it into a .yml file to see if logs someting"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688423997,"post_id":76608125,"comment_id":135069804,"body_markdown":"this doesn&#39;t matter :D (yaml and properties do the same)","body":"this doesn&#39;t matter :D (yaml and properties do the same)"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688424105,"post_id":76608125,"comment_id":135069815,"body_markdown":"Does it just not authorize the request?","body":"Does it just not authorize the request?"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688424366,"post_id":76608125,"comment_id":135069831,"body_markdown":"I think it&#39;s because something is not right with Roles configs, try removing the hasRole and preAuthorize to make sure everything else is right","body":"I think it&#39;s because something is not right with Roles configs, try removing the hasRole and preAuthorize to make sure everything else is right"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688424672,"post_id":76608125,"comment_id":135069857,"body_markdown":"Yes, with the @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;, &#39;CASHIER&#39;)&quot;) removed and with .permitAll() at this method matcher, worked fine, posting the return.","body":"Yes, with the @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;, &#39;CASHIER&#39;)&quot;) removed and with .permitAll() at this method matcher, worked fine, posting the return."},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688425200,"post_id":76608125,"comment_id":135069905,"body_markdown":"this could&#39;ve something to do with your jwt generating you can check your jwt using this website https://jwt.io/ and this repo has almost the same code as yours, you can compare them and find what you got wrong https://github.com/ahmd-nabil/spring-security6-demo","body":"this could&#39;ve something to do with your jwt generating you can check your jwt using this website <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> and this repo has almost the same code as yours, you can compare them and find what you got wrong <a href=\"https://github.com/ahmd-nabil/spring-security6-demo\" rel=\"nofollow noreferrer\">github.com/ahmd-nabil/spring-security6-demo</a>"},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688425851,"post_id":76608125,"comment_id":135069947,"body_markdown":"The user at the token is the same decompiled in the website, I&#39;ll try to redo all the implementation step by step and see if I miss something.","body":"The user at the token is the same decompiled in the website, I&#39;ll try to redo all the implementation step by step and see if I miss something."},{"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"score":0,"creation_date":1688430884,"post_id":76608125,"comment_id":135070311,"body_markdown":"It worked!!! I finally found it!","body":"It worked!!! I finally found it!"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1688457649,"post_id":76608125,"comment_id":135073121,"body_markdown":"just remember, using JWTs as sessions is a security risk and makes your application susceptible for XSS attacks. JWTs were never meant to be used as sessions https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens read the owasp guidelines https://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.html","body":"just remember, using JWTs as sessions is a security risk and makes your application susceptible for XSS attacks. JWTs were never meant to be used as sessions <a href=\"https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens\" rel=\"nofollow noreferrer\">developer.okta.com/blog/2017/08/17/&hellip;</a> read the owasp guidelines <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/JSON_Web_Token_for_Java_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">cheatsheetseries.owasp.org/cheatsheets/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1688431962,"creation_date":1688431962,"answer_id":76608825,"question_id":76608125,"body_markdown":"After a long search and documentation reading I finally find out what was my issue. I mapped the entities and the roles just by the prefixes &#39;**ADMIN**&#39;, &#39;**CASHIER**&#39;, ... But when using the function `hasAnyRoles`, the role should have the prefix role in their names like &#39;**ROLE_ADMIN**&#39;, &#39;**ROLE_CASHIER**&#39; and not just the name. But there already is a method to use without the prefixes &#39;**ROLE**&#39;, the `hasAuthority` method works with just the names!\r\n\r\nSo the solution was change the way I was mapping the chain filter method:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfigurations {\r\n    \r\n        private final JwtAuthenticationFilter jwtAuthFilter;\r\n        private final AuthenticationProvider authenticationProvider;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .csrf(AbstractHttpConfigurer::disable)\r\n                    .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    .authorizeHttpRequests(\r\n                            authorize -&gt; authorize\r\n                                    .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/register&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;CASHIER&quot;)\r\n                                    .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/authenticate&quot;).permitAll()\r\n                                    .anyRequest().authenticated()\r\n                    )\r\n                    .authenticationProvider(authenticationProvider)\r\n                    .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nIn this example I used the correct method for the approach. And worked fine!\r\n\r\n[![success][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3ia8B.png","title":"Implementing JWT acess and receiving Forbidden with all set up","body":"<p>After a long search and documentation reading I finally find out what was my issue. I mapped the entities and the roles just by the prefixes '<strong>ADMIN</strong>', '<strong>CASHIER</strong>', ... But when using the function <code>hasAnyRoles</code>, the role should have the prefix role in their names like '<strong>ROLE_ADMIN</strong>', '<strong>ROLE_CASHIER</strong>' and not just the name. But there already is a method to use without the prefixes '<strong>ROLE</strong>', the <code>hasAuthority</code> method works with just the names!</p>\n<p>So the solution was change the way I was mapping the chain filter method:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfigurations {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(\n                        authorize -&gt; authorize\n                                .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/register&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;CASHIER&quot;)\n                                .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/authenticate&quot;).permitAll()\n                                .anyRequest().authenticated()\n                )\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n}\n</code></pre>\n<p>In this example I used the correct method for the approach. And worked fine!</p>\n<p><a href=\"https://i.stack.imgur.com/3ia8B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ia8B.png\" alt=\"success\" /></a></p>\n"}],"owner":{"account_id":18406141,"reputation":9,"user_id":15066061,"display_name":"Leonardo Manzini"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76608825,"answer_count":1,"score":-1,"last_activity_date":1688431962,"creation_date":1688418712,"question_id":76608125,"body_markdown":"I&#39;m building a login and register application with java and spring boot version 3.1.1, I implemented the entities:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    \r\n        @Id\r\n        @Column(name = &quot;user_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String userName;\r\n        private String email;\r\n        private String password;\r\n        private LocalDate registrationDate;\r\n        @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;users_roles&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n        private Boolean locked = false;\r\n        private Boolean enabled = true;\r\n    \r\n        public User(String firstName, String lastName, String userName, String email, String password) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.userName = userName;\r\n            this.email = email;\r\n            this.password = password;\r\n            this.registrationDate = LocalDate.now();\r\n        }\r\n    }\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    @NoArgsConstructor\r\n    public class Role {\r\n    \r\n        @Id\r\n        @Column(name = &quot;role_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Enumerated(EnumType.STRING)\r\n        private UserRole roleName;\r\n    }\r\n\r\n    public enum UserRole {\r\n        WAITER,\r\n        KITCHEN,\r\n        CASHIER,\r\n        ADMIN;\r\n    }\r\n\r\n    @Getter\r\n    @AllArgsConstructor\r\n    public class AppUserDetails implements UserDetails {\r\n    \r\n        private final User user;\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            List&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n            user.getRoles().forEach(role -&gt; {\r\n                authorities.add(new SimpleGrantedAuthority(role.getRoleName().name()));\r\n            });\r\n            return authorities;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return user.getPassword();\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return user.getUserName();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return !user.getLocked();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return user.getEnabled();\r\n        }\r\n    }\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class UserService implements UserDetailsService {\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        @Override\r\n        @Transactional(readOnly = true)\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            return new AppUserDetails(userRepository.findByUserName(username).orElseThrow(() -&gt;\r\n                    new UsernameNotFoundException(String.format(&quot;User %s not found&quot;, username))));\r\n        }\r\n    }\r\n\r\nAnd the JWT filter, configurations and so on:\r\n\r\n    @Service\r\n    public class JwtService {\r\n    \r\n        @Value(&quot;${api.security.token.secret}&quot;)\r\n        private String secretKey;\r\n    \r\n        public String extractUsername(String token) {\r\n            return extractClaim(token, Claims::getSubject);\r\n        }\r\n    \r\n        public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n            final Claims claims = extractAllClaims(token);\r\n            return claimsResolver.apply(claims);\r\n        }\r\n    \r\n        public String generateTokens(UserDetails userDetails) {\r\n            return generateToken(new HashMap&lt;&gt;(), userDetails);\r\n        }\r\n    \r\n        public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\r\n            return Jwts.builder()\r\n                    .setClaims(extraClaims)\r\n                    .setSubject(userDetails.getUsername())\r\n                    .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                    .setExpiration(new Date((System.currentTimeMillis() + 1000 * 60 * 24)))\r\n                    .signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n                    .compact();\r\n        }\r\n    \r\n        public boolean isTokenValid(String token, UserDetails userDetails) {\r\n            final String username = extractUsername(token);\r\n            return (username.equals(userDetails.getUsername())) &amp;&amp; !isTokenExpired(token);\r\n        }\r\n    \r\n        private boolean isTokenExpired(String token) {\r\n            return extractExpiration(token).before(new Date());\r\n        }\r\n    \r\n        private Date extractExpiration(String token) {\r\n            return extractClaim(token, Claims::getExpiration);\r\n        }\r\n    \r\n        private Claims extractAllClaims (String token) {\r\n            return Jwts.parserBuilder().setSigningKey(getSignInKey()).build().parseClaimsJws(token).getBody();\r\n        }\r\n    \r\n        private Key getSignInKey() {\r\n            byte [] keysBytes = Decoders.BASE64.decode(secretKey);\r\n            return Keys.hmacShaKeyFor(keysBytes);\r\n        }\r\n    }\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n    \r\n        private final JwtService jwtService;\r\n        private final UserService userDetailsService;\r\n    \r\n        @Override\r\n        protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\r\n            final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n            final String jwt;\r\n            final String userName;\r\n    \r\n            if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n                filterChain.doFilter(request, response);\r\n                return;\r\n            }\r\n    \r\n            jwt = authHeader.substring(7);\r\n            userName = jwtService.extractUsername(jwt);\r\n    \r\n            if (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n                UserDetails userDetails = this.userDetailsService.loadUserByUsername(userName);\r\n                if (jwtService.isTokenValid(jwt, userDetails)) {\r\n                    UsernamePasswordAuthenticationToken authenticationToken =\r\n                            new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                    authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                }\r\n            }\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfigurations {\r\n    \r\n        private final JwtAuthenticationFilter jwtAuthFilter;\r\n        private final AuthenticationProvider authenticationProvider;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .csrf(AbstractHttpConfigurer::disable)\r\n                    .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    .authorizeHttpRequests(\r\n                            authorize -&gt; authorize\r\n                                    .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/register&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;CASHIER&quot;)\r\n                                    .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/authenticate&quot;).permitAll()\r\n                                    .anyRequest().authenticated()\r\n                    )\r\n                    .authenticationProvider(authenticationProvider)\r\n                    .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nEverytime I try to authenticate the token is generated with success:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(path = &quot;/api/v1/auth&quot;)\r\n    public class AuthenticationController {\r\n        \r\n        private final AuthenticationService authenticationService;\r\n    \r\n        @PostMapping(&quot;/register&quot;)\r\n        @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;, &#39;CASHIER&#39;)&quot;)\r\n        public ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody RegistrationRequest request) {\r\n            return new ResponseEntity&lt;&gt;(authenticationService.register(request), HttpStatus.CREATED);\r\n        }\r\n    \r\n        @PostMapping(&quot;/authenticate&quot;)\r\n        public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(@RequestBody AuthenticationRequest request) {\r\n            return new ResponseEntity&lt;&gt;(authenticationService.authenticate(request), HttpStatus.OK);\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class AuthenticationService {\r\n    \r\n        private final JwtService jwtService;\r\n        private final UserRepository userRepository;\r\n        private final PasswordEncoder passwordEncoder;\r\n        private final RolesRepository rolesRepository;\r\n        private final AuthenticationManager authenticationManager;\r\n    \r\n        public AuthenticationResponse register(RegistrationRequest request) {\r\n            User user = new User(\r\n                    request.getFirstName(),\r\n                    request.getLastName(),\r\n                    request.getUserName(),\r\n                    request.getEmail(),\r\n                    passwordEncoder.encode(request.getPassword())\r\n            );\r\n    \r\n            request.getRoles().forEach(role -&gt; user.getRoles().add(rolesRepository.findByRoleName(role).orElseThrow(\r\n                    () -&gt; new NoSuchElementException(String.format(&quot;Role %s was not found at database&quot;, role.name()))\r\n            )));\r\n    \r\n            userRepository.save(user);\r\n            return AuthenticationResponse.builder().token(&quot;Testando assim&quot;).build();\r\n        }\r\n    \r\n        // TODO add some errors to return message to user\r\n        // TODO add a constraint into username field\r\n        public AuthenticationResponse authenticate(AuthenticationRequest request) {\r\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getUsername(), request.getPassword()));\r\n    \r\n            User user = userRepository.findByUserName(request.getUsername()).orElseThrow(\r\n                    () -&gt; new NoSuchElementException(String.format(&quot;Username %s not found&quot;, request.getUsername())));\r\n    \r\n            var jwtToken = jwtService.generateTokens(new AppUserDetails(user));\r\n            return AuthenticationResponse.builder().token(jwtToken).build();\r\n        }\r\n    }\r\n\r\nI registered a User directly at database with the admin role, but when I try to register another user at the system using the admin user generated token at the authenticate method, I receive the 403 message forbidden with not even acessing the register method, there is something I missed? \r\n\r\nI can make the repository public and post the link if will be better.\r\n\r\nAdded the requests. Login to get the token:\r\n\r\n[![login][1]][1]\r\n\r\nSetting the bearer token at the request header for register:\r\n\r\n[![auth][2]][2]\r\n\r\n[![register-authorization][3]][3]\r\n\r\nRequest body with the message:\r\n\r\n[![request-body][4]][4]\r\n\r\nProperties printscreen:\r\n\r\n[![properties][5]][5]\r\n\r\nSpring return for the method:\r\n\r\n[![intellij-screen][6]][6]\r\n\r\nReturn without @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;, &#39;CASHIER&#39;)&quot;) and with .permitAll():\r\n\r\n[![return-succed][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2F3pI.png\r\n  [2]: https://i.stack.imgur.com/F7iLp.png\r\n  [3]: https://i.stack.imgur.com/JBmEb.png\r\n  [4]: https://i.stack.imgur.com/3AtkQ.png\r\n  [5]: https://i.stack.imgur.com/iFdaa.png\r\n  [6]: https://i.stack.imgur.com/CKHOo.png\r\n  [7]: https://i.stack.imgur.com/bYiVU.png","title":"Implementing JWT acess and receiving Forbidden with all set up","body":"<p>I'm building a login and register application with java and spring boot version 3.1.1, I implemented the entities:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@EqualsAndHashCode\n@NoArgsConstructor\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @Column(name = &quot;user_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String userName;\n    private String email;\n    private String password;\n    private LocalDate registrationDate;\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n    private Boolean locked = false;\n    private Boolean enabled = true;\n\n    public User(String firstName, String lastName, String userName, String email, String password) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.userName = userName;\n        this.email = email;\n        this.password = password;\n        this.registrationDate = LocalDate.now();\n    }\n}\n\n@Entity\n@Getter\n@Setter\n@EqualsAndHashCode\n@NoArgsConstructor\npublic class Role {\n\n    @Id\n    @Column(name = &quot;role_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Enumerated(EnumType.STRING)\n    private UserRole roleName;\n}\n\npublic enum UserRole {\n    WAITER,\n    KITCHEN,\n    CASHIER,\n    ADMIN;\n}\n\n@Getter\n@AllArgsConstructor\npublic class AppUserDetails implements UserDetails {\n\n    private final User user;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        List&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        user.getRoles().forEach(role -&gt; {\n            authorities.add(new SimpleGrantedAuthority(role.getRoleName().name()));\n        });\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getUserName();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return !user.getLocked();\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return user.getEnabled();\n    }\n}\n\n@Service\n@AllArgsConstructor\npublic class UserService implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n    @Override\n    @Transactional(readOnly = true)\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return new AppUserDetails(userRepository.findByUserName(username).orElseThrow(() -&gt;\n                new UsernameNotFoundException(String.format(&quot;User %s not found&quot;, username))));\n    }\n}\n</code></pre>\n<p>And the JWT filter, configurations and so on:</p>\n<pre><code>@Service\npublic class JwtService {\n\n    @Value(&quot;${api.security.token.secret}&quot;)\n    private String secretKey;\n\n    public String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    public String generateTokens(UserDetails userDetails) {\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\n    }\n\n    public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\n        return Jwts.builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date((System.currentTimeMillis() + 1000 * 60 * 24)))\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    public boolean isTokenValid(String token, UserDetails userDetails) {\n        final String username = extractUsername(token);\n        return (username.equals(userDetails.getUsername())) &amp;&amp; !isTokenExpired(token);\n    }\n\n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    private Claims extractAllClaims (String token) {\n        return Jwts.parserBuilder().setSigningKey(getSignInKey()).build().parseClaimsJws(token).getBody();\n    }\n\n    private Key getSignInKey() {\n        byte [] keysBytes = Decoders.BASE64.decode(secretKey);\n        return Keys.hmacShaKeyFor(keysBytes);\n    }\n}\n\n@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userName;\n\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        jwt = authHeader.substring(7);\n        userName = jwtService.extractUsername(jwt);\n\n        if (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userName);\n            if (jwtService.isTokenValid(jwt, userDetails)) {\n                UsernamePasswordAuthenticationToken authenticationToken =\n                        new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfigurations {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(\n                        authorize -&gt; authorize\n                                .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/register&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;CASHIER&quot;)\n                                .requestMatchers(HttpMethod.POST, &quot;/api/v*/auth/authenticate&quot;).permitAll()\n                                .anyRequest().authenticated()\n                )\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n}\n</code></pre>\n<p>Everytime I try to authenticate the token is generated with success:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(path = &quot;/api/v1/auth&quot;)\npublic class AuthenticationController {\n    \n    private final AuthenticationService authenticationService;\n\n    @PostMapping(&quot;/register&quot;)\n    @PreAuthorize(&quot;hasAnyRole('ADMIN', 'CASHIER')&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody RegistrationRequest request) {\n        return new ResponseEntity&lt;&gt;(authenticationService.register(request), HttpStatus.CREATED);\n    }\n\n    @PostMapping(&quot;/authenticate&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticate(@RequestBody AuthenticationRequest request) {\n        return new ResponseEntity&lt;&gt;(authenticationService.authenticate(request), HttpStatus.OK);\n    }\n}\n\n@Service\n@RequiredArgsConstructor\npublic class AuthenticationService {\n\n    private final JwtService jwtService;\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n    private final RolesRepository rolesRepository;\n    private final AuthenticationManager authenticationManager;\n\n    public AuthenticationResponse register(RegistrationRequest request) {\n        User user = new User(\n                request.getFirstName(),\n                request.getLastName(),\n                request.getUserName(),\n                request.getEmail(),\n                passwordEncoder.encode(request.getPassword())\n        );\n\n        request.getRoles().forEach(role -&gt; user.getRoles().add(rolesRepository.findByRoleName(role).orElseThrow(\n                () -&gt; new NoSuchElementException(String.format(&quot;Role %s was not found at database&quot;, role.name()))\n        )));\n\n        userRepository.save(user);\n        return AuthenticationResponse.builder().token(&quot;Testando assim&quot;).build();\n    }\n\n    // TODO add some errors to return message to user\n    // TODO add a constraint into username field\n    public AuthenticationResponse authenticate(AuthenticationRequest request) {\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(request.getUsername(), request.getPassword()));\n\n        User user = userRepository.findByUserName(request.getUsername()).orElseThrow(\n                () -&gt; new NoSuchElementException(String.format(&quot;Username %s not found&quot;, request.getUsername())));\n\n        var jwtToken = jwtService.generateTokens(new AppUserDetails(user));\n        return AuthenticationResponse.builder().token(jwtToken).build();\n    }\n}\n</code></pre>\n<p>I registered a User directly at database with the admin role, but when I try to register another user at the system using the admin user generated token at the authenticate method, I receive the 403 message forbidden with not even acessing the register method, there is something I missed?</p>\n<p>I can make the repository public and post the link if will be better.</p>\n<p>Added the requests. Login to get the token:</p>\n<p><a href=\"https://i.stack.imgur.com/2F3pI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2F3pI.png\" alt=\"login\" /></a></p>\n<p>Setting the bearer token at the request header for register:</p>\n<p><a href=\"https://i.stack.imgur.com/F7iLp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F7iLp.png\" alt=\"auth\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JBmEb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBmEb.png\" alt=\"register-authorization\" /></a></p>\n<p>Request body with the message:</p>\n<p><a href=\"https://i.stack.imgur.com/3AtkQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3AtkQ.png\" alt=\"request-body\" /></a></p>\n<p>Properties printscreen:</p>\n<p><a href=\"https://i.stack.imgur.com/iFdaa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iFdaa.png\" alt=\"properties\" /></a></p>\n<p>Spring return for the method:</p>\n<p><a href=\"https://i.stack.imgur.com/CKHOo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKHOo.png\" alt=\"intellij-screen\" /></a></p>\n<p>Return without @PreAuthorize(&quot;hasAnyRole('ADMIN', 'CASHIER')&quot;) and with .permitAll():</p>\n<p><a href=\"https://i.stack.imgur.com/bYiVU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bYiVU.png\" alt=\"return-succed\" /></a></p>\n"},{"tags":["java","generics","compiler-errors"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1629517386,"post_id":68869932,"comment_id":121713374,"body_markdown":"Please show a [mcve]. What are all those `xxx` about?","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What are all those <code>xxx</code> about?"}],"answers":[{"comments":[{"owner":{"account_id":4951627,"reputation":1332,"user_id":3985356,"accept_rate":74,"display_name":"CHANist"},"score":0,"creation_date":1629519455,"post_id":68870013,"comment_id":121713565,"body_markdown":"P.S. To learn more about Generics, you can have a look at 廖雪峰網頁https://www.liaoxuefeng.com/wiki/1252599548343744/1265102638843296. For complete understanding, go to have a look at Java Generics, by Oreilly. \nhttps://www.amazon.com/_/dp/0596527756?tag=oreilly20-20","body":"P.S. To learn more about Generics, you can have a look at 廖雪峰網頁https://www.liaoxuefeng.com/wiki/1252599548343744/12651&zwnj;&#8203;02638843296. For complete understanding, go to have a look at Java Generics, by Oreilly.  <a href=\"https://rads.stackoverflow.com/amzn/click/com/0596527756\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">amazon.com/_/dp/0596527756?tag=oreilly20-20</a>"},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1629538183,"post_id":68870013,"comment_id":121716267,"body_markdown":"Thank you. The design of third lib is a bad idea. But I can not modify the interface.","body":"Thank you. The design of third lib is a bad idea. But I can not modify the interface."},{"owner":{"account_id":4951627,"reputation":1332,"user_id":3985356,"accept_rate":74,"display_name":"CHANist"},"score":0,"creation_date":1629539623,"post_id":68870013,"comment_id":121716505,"body_markdown":"In case if you don&#39;t mind you can share the library code, so that the community and I can help u.","body":"In case if you don&#39;t mind you can share the library code, so that the community and I can help u."},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1629684973,"post_id":68870013,"comment_id":121743193,"body_markdown":"dubbo-remoting-etcd3 [EtcdClient](https://github.com/apache/dubbo/blob/2.7-native_image/dubbo-remoting/dubbo-remoting-etcd3/src/main/java/org/apache/dubbo/remoting/etcd/EtcdClient.java)  I need to extend etcd client with ssl support.","body":"dubbo-remoting-etcd3 <a href=\"https://github.com/apache/dubbo/blob/2.7-native_image/dubbo-remoting/dubbo-remoting-etcd3/src/main/java/org/apache/dubbo/remoting/etcd/EtcdClient.java\" rel=\"nofollow noreferrer\">EtcdClient</a>  I need to extend etcd client with ssl support."}],"tags":[],"owner":{"account_id":4951627,"reputation":1332,"user_id":3985356,"accept_rate":74,"display_name":"CHANist"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629518355,"creation_date":1629518355,"answer_id":68870013,"question_id":68869932,"body_markdown":"I am not sure what you exactly want. But what do you really want from \r\n```java\r\ninterface Client {\r\n    void create(String path);\r\n    void delete(String path);\r\n    List&lt;String&gt; getChildren(String path);\r\n    &lt;T&gt; T getChildListener(String path);\r\n}\r\n```\r\n\r\nIt seems a bit weird to specify in this way, as I don&#39;t think the interface by itself knows what T really is. \r\n\r\nA better interface setup may be the following: \r\n```java\r\ninterface Client&lt;T&gt; {\r\n    void create(String path);\r\n    void delete(String path);\r\n    List&lt;String&gt; getChildren(String path);\r\n    T getChildListener(String path);\r\n}\r\n\r\npublic class AbstractClient&lt;T&gt; implements Client&lt;T&gt; {\r\n   T getChildListener(String path) {\r\n       return xxx;\r\n   }\r\n}\r\n\r\npublic class MyClient extends AbstractClient&lt;PathWatcher&gt; {\r\n    ...\r\n}\r\n```\r\n\r\nNot sure, if this is what you want, though. ","title":"How to fix warning in extending a generic method in java?","body":"<p>I am not sure what you exactly want. But what do you really want from</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Client {\n    void create(String path);\n    void delete(String path);\n    List&lt;String&gt; getChildren(String path);\n    &lt;T&gt; T getChildListener(String path);\n}\n</code></pre>\n<p>It seems a bit weird to specify in this way, as I don't think the interface by itself knows what T really is.</p>\n<p>A better interface setup may be the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Client&lt;T&gt; {\n    void create(String path);\n    void delete(String path);\n    List&lt;String&gt; getChildren(String path);\n    T getChildListener(String path);\n}\n\npublic class AbstractClient&lt;T&gt; implements Client&lt;T&gt; {\n   T getChildListener(String path) {\n       return xxx;\n   }\n}\n\npublic class MyClient extends AbstractClient&lt;PathWatcher&gt; {\n    ...\n}\n</code></pre>\n<p>Not sure, if this is what you want, though.</p>\n"},{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630132578,"creation_date":1630132578,"answer_id":68961936,"question_id":68869932,"body_markdown":"A compromise : add `@SuppressWarnings(&quot;unchecked&quot;)` on MyClient class.","title":"How to fix warning in extending a generic method in java?","body":"<p>A compromise : add <code>@SuppressWarnings(&quot;unchecked&quot;)</code> on MyClient class.</p>\n"}],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688431417,"creation_date":1629516918,"question_id":68869932,"body_markdown":"There&#39;s a interface in third lib, which can not be modified. And I need to extend it. Code is like below:\r\n```\r\n// 3rd interface\r\ninterface Client {\r\n    void create(String path);\r\n    void delete(String path);\r\n    List&lt;String&gt; getChildren(String path);\r\n    &lt;T&gt; T getChildListener(String path);\r\n    xxxx\r\n}\r\n\r\n// 3rd abstract\r\nAbstractClient&lt;T&gt; implements Client {\r\n   xxx\r\n   T getChildListener(String path) {\r\n       return xxx;\r\n   }\r\n   xxx\r\n}\r\n```\r\n\r\nMy code like below:\r\n```\r\nclass MyClient extends AbstractClient&lt;PathWatcher&gt; {\r\n    ...\r\n}\r\n```\r\nCompiler warnings that:  \r\n\r\n&gt; return type requires unchecked conversion from xxx to T\r\n\r\nI try to add `@SuppressWarnings(xxx)` with cast, warning, all.  \r\nIt does not work. How can I fix this warning?  \r\nI **can not** modify the third lib.\r\n","title":"How to fix warning in extending a generic method in java?","body":"<p>There's a interface in third lib, which can not be modified. And I need to extend it. Code is like below:</p>\n<pre><code>// 3rd interface\ninterface Client {\n    void create(String path);\n    void delete(String path);\n    List&lt;String&gt; getChildren(String path);\n    &lt;T&gt; T getChildListener(String path);\n    xxxx\n}\n\n// 3rd abstract\nAbstractClient&lt;T&gt; implements Client {\n   xxx\n   T getChildListener(String path) {\n       return xxx;\n   }\n   xxx\n}\n</code></pre>\n<p>My code like below:</p>\n<pre><code>class MyClient extends AbstractClient&lt;PathWatcher&gt; {\n    ...\n}\n</code></pre>\n<p>Compiler warnings that:</p>\n<blockquote>\n<p>return type requires unchecked conversion from xxx to T</p>\n</blockquote>\n<p>I try to add <code>@SuppressWarnings(xxx)</code> with cast, warning, all.<br />\nIt does not work. How can I fix this warning?<br />\nI <strong>can not</strong> modify the third lib.</p>\n"},{"tags":["java","dynamodb-enhanced-client"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1688453012,"post_id":76608736,"comment_id":135072258,"body_markdown":"Does this help https://stackoverflow.com/questions/63786440/dynamodb-enhanced-how-to-query-using-secondaryindex-in-javaspring-boot","body":"Does this help <a href=\"https://stackoverflow.com/questions/63786440/dynamodb-enhanced-how-to-query-using-secondaryindex-in-javaspring-boot\" title=\"dynamodb enhanced how to query using secondaryindex in javaspring boot\">stackoverflow.com/questions/63786440/&hellip;</a>"}],"owner":{"account_id":3765824,"reputation":38,"user_id":3129407,"display_name":"adityagerrard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688429766,"creation_date":1688429766,"question_id":76608736,"body_markdown":"I&#39;ve a table structure, something like this\r\n\r\n```\r\naws dynamodb --endpoint-url=http://localhost:4566 create-table \\\r\n    --table-name localTable \\\r\n    --attribute-definitions \\\r\n        AttributeName=id,AttributeType=S \\\r\n        AttributeName=date,AttributeType=S \\\r\n    --key-schema \\\r\n        AttributeName=id,KeyType=HASH \\\r\n        AttributeName=date,KeyType=RANGE \\\r\n--provisioned-throughput \\\r\n        ReadCapacityUnits=10,WriteCapacityUnits=5\r\n```\r\nand some additional fields storing some json string,  time, process details etc.\r\n\r\nI want to query this table based on date rather than id (programmatically), but want to query single row for debug purposes using id ( like correlation-id, traceId etc).\r\nMy Program will pull 1k records use the data to some processing, but I&#39;m not able to come up with proper queryCondition as AWS sdk expects me to provide both PK, SK. \r\n\r\nThis is the code I played with, LMK if something I&#39;ve doing it incorrectly. \r\n\r\nI&#39;ve index too, but not sure how to use it using enhanced sdk, didn&#39;t mention\r\n\r\n```\r\n// sdk imports\r\nimport software.amazon.awssdk.enhanced.dynamodb.*;\r\nimport software.amazon.awssdk.enhanced.dynamodb.model.*;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\r\nimport software.amazon.awssdk.services.dynamodb.model.AttributeValue;\r\nimport software.amazon.awssdk.services.dynamodb.model.ReturnValue;\r\n\r\n....\r\n \r\n/**\r\n     * Get Documents between start date and end date\r\n     * @param primaryKey primary key\r\n     * @param secondaryKey sort key\r\n     * @return payload\r\n     */\r\n    @Override\r\n    public Payload read(String primaryKey, String secondaryKey) {\r\n        return productTable.getItem(Key.builder().partitionValue(primaryKey).sortValue(secondaryKey).build());\r\n    }\r\n\r\n    /**\r\n     * Read Record based on trace id\r\n     * @param sortKey primary identifier\r\n     * @return payload\r\n     */\r\n    @Override\r\n    public Collection&lt;Payload&gt; read(String sortKey) {\r\n        // tried enhanced query, but it expects partition.\r\n        QueryEnhancedRequest enhancedRequest = QueryEnhancedRequest.builder()\r\n                .queryConditional(QueryConditional.keyEqualTo(Key.builder().partitionValue(UUID.randomUUID().toString()).sortValue(sortKey).build()))\r\n                .scanIndexForward(false)\r\n                .consistentRead(false) // no need wait for updates\r\n                .build();\r\n\r\n        //Tried Expression\r\n \r\n        List&lt;Page&lt;Payload&gt;&gt; items = productTable.query(enhancedRequest).stream().collect(Collectors.toList());\r\n        //tried scan\r\n        Map&lt;String, AttributeValue&gt; start = (Map&lt;String, AttributeValue&gt;) new HashMap&lt;&gt;().put(&quot;createdAt&quot;, AttributeValue.builder().s(sortKey).build());\r\n        Iterator&lt;Page&lt;Payload&gt;&gt; a = productTable.scan(ScanEnhancedRequest.builder().exclusiveStartKey(start).build()).stream().iterator();\r\n    }\r\n\r\n    /**\r\n     * add item to dynamo db table\r\n     * @param payload input object\r\n     */\r\n    private void addItem(Payload payload) {\r\n        CompletableFuture.runAsync(()-&gt;productTable.putItemWithResponse(PutItemEnhancedRequest.builder(Payload.class).item(payload).returnValues(ReturnValue.ALL_OLD).build()))\r\n                .exceptionally(ex -&gt; {\r\n                    log.error(&quot;Unable to save item&quot;, ex);\r\n                    return null;\r\n                });\r\n     }\r\n```  \r\n\r\nI want to query this table based on date rather than id (programmatically), but want to query single row for debug purposes using id ( like correlation-id, traceId etc).\r\nMy Program will pull 1k records use the data to some processing, but I&#39;m not able to come up with proper queryCondition as AWS sdk expects me to provide both PK, SK. \r\n\r\nThis is the code I played with, LMK if something I&#39;ve doing it incorrectly. \r\n\r\nI&#39;ve index too, but not sure how to use it using enhanced sdk, didn&#39;t mention","title":"Is it possible to query dynamoDb table using only secondary key (SK)?","body":"<p>I've a table structure, something like this</p>\n<pre><code>aws dynamodb --endpoint-url=http://localhost:4566 create-table \\\n    --table-name localTable \\\n    --attribute-definitions \\\n        AttributeName=id,AttributeType=S \\\n        AttributeName=date,AttributeType=S \\\n    --key-schema \\\n        AttributeName=id,KeyType=HASH \\\n        AttributeName=date,KeyType=RANGE \\\n--provisioned-throughput \\\n        ReadCapacityUnits=10,WriteCapacityUnits=5\n</code></pre>\n<p>and some additional fields storing some json string,  time, process details etc.</p>\n<p>I want to query this table based on date rather than id (programmatically), but want to query single row for debug purposes using id ( like correlation-id, traceId etc).\nMy Program will pull 1k records use the data to some processing, but I'm not able to come up with proper queryCondition as AWS sdk expects me to provide both PK, SK.</p>\n<p>This is the code I played with, LMK if something I've doing it incorrectly.</p>\n<p>I've index too, but not sure how to use it using enhanced sdk, didn't mention</p>\n<pre><code>// sdk imports\nimport software.amazon.awssdk.enhanced.dynamodb.*;\nimport software.amazon.awssdk.enhanced.dynamodb.model.*;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\nimport software.amazon.awssdk.services.dynamodb.model.AttributeValue;\nimport software.amazon.awssdk.services.dynamodb.model.ReturnValue;\n\n....\n \n/**\n     * Get Documents between start date and end date\n     * @param primaryKey primary key\n     * @param secondaryKey sort key\n     * @return payload\n     */\n    @Override\n    public Payload read(String primaryKey, String secondaryKey) {\n        return productTable.getItem(Key.builder().partitionValue(primaryKey).sortValue(secondaryKey).build());\n    }\n\n    /**\n     * Read Record based on trace id\n     * @param sortKey primary identifier\n     * @return payload\n     */\n    @Override\n    public Collection&lt;Payload&gt; read(String sortKey) {\n        // tried enhanced query, but it expects partition.\n        QueryEnhancedRequest enhancedRequest = QueryEnhancedRequest.builder()\n                .queryConditional(QueryConditional.keyEqualTo(Key.builder().partitionValue(UUID.randomUUID().toString()).sortValue(sortKey).build()))\n                .scanIndexForward(false)\n                .consistentRead(false) // no need wait for updates\n                .build();\n\n        //Tried Expression\n \n        List&lt;Page&lt;Payload&gt;&gt; items = productTable.query(enhancedRequest).stream().collect(Collectors.toList());\n        //tried scan\n        Map&lt;String, AttributeValue&gt; start = (Map&lt;String, AttributeValue&gt;) new HashMap&lt;&gt;().put(&quot;createdAt&quot;, AttributeValue.builder().s(sortKey).build());\n        Iterator&lt;Page&lt;Payload&gt;&gt; a = productTable.scan(ScanEnhancedRequest.builder().exclusiveStartKey(start).build()).stream().iterator();\n    }\n\n    /**\n     * add item to dynamo db table\n     * @param payload input object\n     */\n    private void addItem(Payload payload) {\n        CompletableFuture.runAsync(()-&gt;productTable.putItemWithResponse(PutItemEnhancedRequest.builder(Payload.class).item(payload).returnValues(ReturnValue.ALL_OLD).build()))\n                .exceptionally(ex -&gt; {\n                    log.error(&quot;Unable to save item&quot;, ex);\n                    return null;\n                });\n     }\n</code></pre>\n<p>I want to query this table based on date rather than id (programmatically), but want to query single row for debug purposes using id ( like correlation-id, traceId etc).\nMy Program will pull 1k records use the data to some processing, but I'm not able to come up with proper queryCondition as AWS sdk expects me to provide both PK, SK.</p>\n<p>This is the code I played with, LMK if something I've doing it incorrectly.</p>\n<p>I've index too, but not sure how to use it using enhanced sdk, didn't mention</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674548849,"post_id":75218976,"comment_id":132731814,"body_markdown":"`&quot;jdbc:sqlite:D:\\Clients\\Client1\\sqlite\\clientdb.db&quot;` you should escape those backslashes: `&quot;jdbc:sqlite:D:\\\\Clients\\\\Client1\\\\sqlite\\\\clientdb.db&quot;`","body":"<code>&quot;jdbc:sqlite:D:\\Clients\\Client1\\sqlite\\clientdb.db&quot;</code> you should escape those backslashes: <code>&quot;jdbc:sqlite:D:\\\\Clients\\\\Client1\\\\sqlite\\\\clientdb.db&quot;</code>"},{"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"score":0,"creation_date":1674550095,"post_id":75218976,"comment_id":132732219,"body_markdown":"But it&#39;s able to create table with same connection string","body":"But it&#39;s able to create table with same connection string"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674550218,"post_id":75218976,"comment_id":132732254,"body_markdown":"That string doesn&#39;t even compile on my machine. So are you sure that&#39;s your actual code (or, even better, a [example])?","body":"That string doesn&#39;t even compile on my machine. So are you sure that&#39;s your actual code (or, even better, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)?"},{"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"score":0,"creation_date":1674551771,"post_id":75218976,"comment_id":132732727,"body_markdown":"I updated my code with connection string, &quot;jdbc:sqlite:D:/Clients/Client1/sqlite/clientDb.db&quot;","body":"I updated my code with connection string, &quot;jdbc:sqlite:D:/Clients/Client1/sqlite/clientDb.db&quot;"}],"owner":{"account_id":26336580,"reputation":1,"user_id":19996345,"display_name":"user19996345"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688429009,"creation_date":1674548644,"question_id":75218976,"body_markdown":"I use SQLite with Maven and Java8. I am able to create database and tables. But when I do a select query it is throwing exception on `PreaparedStatement`:\r\n\r\n&gt; org.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (no such table: test_table)\r\n\r\nMy database file is in &quot;D:/Clients/Client1/sqlite/clientDb.db&quot;.\r\n\r\n```\r\npublic boolean testSelectQuery(String val1, String val2) {\r\n\t\r\n    String sql = &quot;SELECT  *FROM test_table WHERE col1 = ? and col2 = ? &quot;;\r\n\tConnection connection = null;\r\n\tResultSet rs = null;\r\n    PreparedStatement pstmt = null;\r\n\r\n    try {\r\n\t    connection = DriverManager.getConnection(&quot;jdbc:sqlite:D:/Clients/Client1/sqlite/clientDb.db&quot;);\r\n\t    pstmt = connection.prepareStatement(sql);**// Throwing exception**\r\n\t    // set the value\r\n\t    pstmt.setString(1, val1);\r\n\t    pstmt.setString(2, val2);\r\n\t    rs = pstmt.executeQuery(sql);\r\n\t    return rs.isBeforeFirst();\r\n\r\n    } catch (SQLException e) {\r\n\t    return false;\r\n    } finally {\r\n\t    //close resources\r\n    }          \r\n}\r\n```\r\n\r\nI tried adding database name before table like `database.table_name` but it&#39;s not working.","title":"org.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (no such table: test_table)","body":"<p>I use SQLite with Maven and Java8. I am able to create database and tables. But when I do a select query it is throwing exception on <code>PreaparedStatement</code>:</p>\n<blockquote>\n<p>org.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (no such table: test_table)</p>\n</blockquote>\n<p>My database file is in &quot;D:/Clients/Client1/sqlite/clientDb.db&quot;.</p>\n<pre><code>public boolean testSelectQuery(String val1, String val2) {\n    \n    String sql = &quot;SELECT  *FROM test_table WHERE col1 = ? and col2 = ? &quot;;\n    Connection connection = null;\n    ResultSet rs = null;\n    PreparedStatement pstmt = null;\n\n    try {\n        connection = DriverManager.getConnection(&quot;jdbc:sqlite:D:/Clients/Client1/sqlite/clientDb.db&quot;);\n        pstmt = connection.prepareStatement(sql);**// Throwing exception**\n        // set the value\n        pstmt.setString(1, val1);\n        pstmt.setString(2, val2);\n        rs = pstmt.executeQuery(sql);\n        return rs.isBeforeFirst();\n\n    } catch (SQLException e) {\n        return false;\n    } finally {\n        //close resources\n    }          \n}\n</code></pre>\n<p>I tried adding database name before table like <code>database.table_name</code> but it's not working.</p>\n"},{"tags":["java","android","react-native","gradle"],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688428705,"creation_date":1688428705,"answer_id":76608686,"question_id":76607268,"body_markdown":"There are two major problems in your setup.\r\n\r\n1. you are using a Java version to run Gradle with which your Gradle version is not compatible with. See https://docs.gradle.org/current/userguide/compatibility.html for detailed information.\r\n\r\n2. as the error tells you, you are using `-XX:MaxPermSize` in `org.gradle.jvmargs`. This option is not used anymore since Java 8 which also is the minimum supported version to run Gradle, so the option is totally useless. Additionally, in the meantime the option was removed and thus your try to start with that option fails with a hard error. Remove that option and all should be fine for this part, but point 1 stays valid.","title":"Unable to start the demon process in android studio (Unrecognized VM option &#39;MaxPermSize=512m&#39;)","body":"<p>There are two major problems in your setup.</p>\n<ol>\n<li><p>you are using a Java version to run Gradle with which your Gradle version is not compatible with. See <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a> for detailed information.</p>\n</li>\n<li><p>as the error tells you, you are using <code>-XX:MaxPermSize</code> in <code>org.gradle.jvmargs</code>. This option is not used anymore since Java 8 which also is the minimum supported version to run Gradle, so the option is totally useless. Additionally, in the meantime the option was removed and thus your try to start with that option fails with a hard error. Remove that option and all should be fine for this part, but point 1 stays valid.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":17541756,"reputation":111,"user_id":12723803,"display_name":"HendyCrcs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688492905,"answer_count":1,"score":0,"last_activity_date":1688428705,"creation_date":1688408168,"question_id":76607268,"body_markdown":"I just upgrading my android studio to\r\n\r\n```\r\nAndroid Studio Flamingo | 2022.2.1 Patch 2\r\nBuild #AI-222.4459.24.2221.10121639, built on May 12, 2023\r\nRuntime version: 17.0.6+0-17.0.6b802.4-9586694 aarch64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nmacOS 12.5.1\r\nGC: G1 Young Generation, G1 Old Generation\r\nMemory: 3072M\r\nCores: 8\r\nMetal Rendering is ON\r\nRegistry:\r\n    external.system.auto.import.disabled=true\r\n    ide.text.editor.with.preview.show.floating.toolbar=false\r\n    gradle.version.catalogs.dynamic.support=true\r\n```\r\n\r\nbut suddenly my react native project was unable to start in android studio\r\n\r\nI got error when it&#39;s syncing to my project here is it looks like\r\n\r\n[![Unable to start the daemon process][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ISR9T.png\r\n\r\n```\r\nUnable to start the daemon process.\r\nThis problem might be caused by incorrect configuration of the daemon.\r\nFor example, an unrecognized jvm option is used.\r\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.2.1/userguide/gradle_daemon.html\r\nProcess command line: /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/bin/java -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xmx2048m -Dfile.encoding=UTF-8 -Duser.country=ID -Duser.language=en -Duser.variant -cp /Users/mochammadhendy_l/.gradle/wrapper/dists/gradle-6.2.1-bin/5m14x4d33sfxbtkeo25s43l8q/gradle-6.2.1/lib/gradle-launcher-6.2.1.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.2.1\r\nPlease read the following process output to find out more:\r\n-----------------------\r\nUnrecognized VM option &#39;MaxPermSize=512m&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n-----------------------\r\nCheck the JVM arguments defined for the gradle process in:\r\n - gradle.properties in project root directory\r\n\r\n```\r\n\r\ngradle.properties\r\n```\r\n# Project-wide Gradle settings.\r\n\r\n# IDE (e.g. Android Studio) users:\r\n# Gradle settings configured through the IDE *will override*\r\n# any settings specified in this file.\r\n\r\n# For more details on how to configure your build environment visit\r\n# http://www.gradle.org/docs/current/userguide/build_environment.html\r\n\r\n# Specifies the JVM arguments used for the daemon process.\r\n# The setting is particularly useful for tweaking memory settings.\r\n# Default value: -Xmx10248m -XX:MaxPermSize=256m\r\norg.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n\r\n# When configured, Gradle will run in incubating parallel mode.\r\n# This option should only be used with decoupled projects. More details, visit\r\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n# org.gradle.parallel=true\r\n\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\n```\r\n\r\nis there any way to make fix without downgrad","title":"Unable to start the demon process in android studio (Unrecognized VM option &#39;MaxPermSize=512m&#39;)","body":"<p>I just upgrading my android studio to</p>\n<pre><code>Android Studio Flamingo | 2022.2.1 Patch 2\nBuild #AI-222.4459.24.2221.10121639, built on May 12, 2023\nRuntime version: 17.0.6+0-17.0.6b802.4-9586694 aarch64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 12.5.1\nGC: G1 Young Generation, G1 Old Generation\nMemory: 3072M\nCores: 8\nMetal Rendering is ON\nRegistry:\n    external.system.auto.import.disabled=true\n    ide.text.editor.with.preview.show.floating.toolbar=false\n    gradle.version.catalogs.dynamic.support=true\n</code></pre>\n<p>but suddenly my react native project was unable to start in android studio</p>\n<p>I got error when it's syncing to my project here is it looks like</p>\n<p><a href=\"https://i.stack.imgur.com/ISR9T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ISR9T.png\" alt=\"Unable to start the daemon process\" /></a></p>\n<pre><code>Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.2.1/userguide/gradle_daemon.html\nProcess command line: /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/bin/java -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xmx2048m -Dfile.encoding=UTF-8 -Duser.country=ID -Duser.language=en -Duser.variant -cp /Users/mochammadhendy_l/.gradle/wrapper/dists/gradle-6.2.1-bin/5m14x4d33sfxbtkeo25s43l8q/gradle-6.2.1/lib/gradle-launcher-6.2.1.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.2.1\nPlease read the following process output to find out more:\n-----------------------\nUnrecognized VM option 'MaxPermSize=512m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n-----------------------\nCheck the JVM arguments defined for the gradle process in:\n - gradle.properties in project root directory\n\n</code></pre>\n<p>gradle.properties</p>\n<pre><code># Project-wide Gradle settings.\n\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\n# Default value: -Xmx10248m -XX:MaxPermSize=256m\norg.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>is there any way to make fix without downgrad</p>\n"},{"tags":["java","unit-testing","testing","jmockit","java-17"],"comments":[{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":0,"creation_date":1688126709,"post_id":76583119,"comment_id":135035677,"body_markdown":"Can you add the stacktrace?","body":"Can you add the stacktrace?"}],"answers":[{"tags":[],"owner":{"account_id":8065551,"reputation":303,"user_id":6079824,"accept_rate":85,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688428274,"creation_date":1688428274,"answer_id":76608672,"question_id":76583119,"body_markdown":"jmockit 1.49 doesn&#39;t support JDK 17. ","title":"Jmockit dependency with jdk17","body":"<p>jmockit 1.49 doesn't support JDK 17.</p>\n"}],"owner":{"account_id":8065551,"reputation":303,"user_id":6079824,"accept_rate":85,"display_name":"Patrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76608672,"answer_count":1,"score":1,"last_activity_date":1688428274,"creation_date":1688057613,"question_id":76583119,"body_markdown":"Moving from JDK 8 to JDK 17.\r\n\r\njmockit 1.24 is working fine with JDK 8\r\n\r\nI tried the newest version jmockit 1.49 with JDK 17\r\nAnd having error &quot;Jmockit didn&#39;t get initialized&quot;\r\n\r\nDoes jmockit 1.49 support JDK 17? \r\n\r\n","title":"Jmockit dependency with jdk17","body":"<p>Moving from JDK 8 to JDK 17.</p>\n<p>jmockit 1.24 is working fine with JDK 8</p>\n<p>I tried the newest version jmockit 1.49 with JDK 17\nAnd having error &quot;Jmockit didn't get initialized&quot;</p>\n<p>Does jmockit 1.49 support JDK 17?</p>\n"},{"tags":["java","kotlin","pagination","http-headers","micronaut"],"owner":{"account_id":22379297,"reputation":31,"user_id":16593124,"display_name":"HoneTheRat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688427444,"creation_date":1688427444,"question_id":76608630,"body_markdown":"Have spent the better part of a day looking for a nice way to read `Link` header from Micronaut&#39;s `HttpResponse` using a declarative client. Have a working solution, but feels like there should be something better...\r\n\r\nPre-req:\r\n\r\n- Micronaut version 3.9.3\r\n- Api that returns paged data\r\n- `Link` header contains information on first, last, next, and prev pages\r\n- Micronaut declarative client to call said api\r\n- Wish to get all pages from api using declarative client\r\n\r\nExample api response `Link` header:\r\n`Link: &lt;my/api/path?page=1&amp;per_page=50&gt;; rel=&quot;first&quot;, &lt;my/api/path?page=2&amp;per_page=50&gt;; rel=&quot;next&quot;, &lt;my/api/path?page=3&amp;per_page=50&gt;; rel=&quot;prev&quot;, &lt;my/api/path?page=4&amp;per_page=50&gt;; rel=&quot;last&quot;`\r\n\r\nCurrent setup:\r\n\r\n- client:\r\n\r\n```kotlin\r\n@Client(&quot;my-client&quot;)\r\n@Headers(\r\n  value = [\r\n    Header(name = &quot;content-type&quot;, value = MediaType.APPLICATION_JSON),\r\n    Header(name = &quot;x-api-key&quot;, value = &quot;\\${api.key}&quot;),\r\n  ]\r\n)\r\ninterface TestClient {\r\n  // per page included in my-path value\r\n  @Get(&quot;\\${my-path}&quot;)\r\n  suspend fun getData(@QueryValue page: Int): HttpResponse&lt;List&lt;Any&gt;&gt;\r\n}\r\n```\r\n\r\n- service:\r\n\r\n```kotlin\r\n@Singleton\r\nclass TestService(private val testClient: TestClient) {\r\n  suspend fun getAllData(): List&lt;Any&gt; {\r\n    val results = mutableListOf&lt;Any&gt;()\r\n    var page = 1\r\n    var hasNextPage = true\r\n\r\n    // Want to replace this if possible\r\n    while (hasNextPage) {\r\n      val response = testClient.getData(page)\r\n      results.addAll(response.body()!!)\r\n      page++\r\n      hasNextPage = response.header(HttpHeaders.LINK)?.contains(&quot;next&quot;) == true\r\n    }\r\n\r\n    return results\r\n  }\r\n}\r\n```\r\n\r\nThis all works, but the `response.header(HttpHeaders.LINK)?.contains(&quot;next&quot;) == true` feels weird to say the least. Seeing as there are ways to make paginated endpoints, it feels like there should also be ways to make paginated clients in a more &quot;Micronauty&quot; way. Ideal solution would probably be some way to mark this client as pageable or be able to actually read the `Link` header into some data type that is already provided via Micronaut or somer other common dep and not need to parse it ourselves. Seems there are quite a handful of other threads/questions around deserializing `Link` headers as well, so something else to definitely look into...","title":"Paged Micronaut http client","body":"<p>Have spent the better part of a day looking for a nice way to read <code>Link</code> header from Micronaut's <code>HttpResponse</code> using a declarative client. Have a working solution, but feels like there should be something better...</p>\n<p>Pre-req:</p>\n<ul>\n<li>Micronaut version 3.9.3</li>\n<li>Api that returns paged data</li>\n<li><code>Link</code> header contains information on first, last, next, and prev pages</li>\n<li>Micronaut declarative client to call said api</li>\n<li>Wish to get all pages from api using declarative client</li>\n</ul>\n<p>Example api response <code>Link</code> header:\n<code>Link: &lt;my/api/path?page=1&amp;per_page=50&gt;; rel=&quot;first&quot;, &lt;my/api/path?page=2&amp;per_page=50&gt;; rel=&quot;next&quot;, &lt;my/api/path?page=3&amp;per_page=50&gt;; rel=&quot;prev&quot;, &lt;my/api/path?page=4&amp;per_page=50&gt;; rel=&quot;last&quot;</code></p>\n<p>Current setup:</p>\n<ul>\n<li>client:</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Client(&quot;my-client&quot;)\n@Headers(\n  value = [\n    Header(name = &quot;content-type&quot;, value = MediaType.APPLICATION_JSON),\n    Header(name = &quot;x-api-key&quot;, value = &quot;\\${api.key}&quot;),\n  ]\n)\ninterface TestClient {\n  // per page included in my-path value\n  @Get(&quot;\\${my-path}&quot;)\n  suspend fun getData(@QueryValue page: Int): HttpResponse&lt;List&lt;Any&gt;&gt;\n}\n</code></pre>\n<ul>\n<li>service:</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Singleton\nclass TestService(private val testClient: TestClient) {\n  suspend fun getAllData(): List&lt;Any&gt; {\n    val results = mutableListOf&lt;Any&gt;()\n    var page = 1\n    var hasNextPage = true\n\n    // Want to replace this if possible\n    while (hasNextPage) {\n      val response = testClient.getData(page)\n      results.addAll(response.body()!!)\n      page++\n      hasNextPage = response.header(HttpHeaders.LINK)?.contains(&quot;next&quot;) == true\n    }\n\n    return results\n  }\n}\n</code></pre>\n<p>This all works, but the <code>response.header(HttpHeaders.LINK)?.contains(&quot;next&quot;) == true</code> feels weird to say the least. Seeing as there are ways to make paginated endpoints, it feels like there should also be ways to make paginated clients in a more &quot;Micronauty&quot; way. Ideal solution would probably be some way to mark this client as pageable or be able to actually read the <code>Link</code> header into some data type that is already provided via Micronaut or somer other common dep and not need to parse it ourselves. Seems there are quite a handful of other threads/questions around deserializing <code>Link</code> headers as well, so something else to definitely look into...</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1674285451,"post_id":75191474,"comment_id":132686211,"body_markdown":"thank you for ur time, I tried as u said, but it still gives the same compilation error :(","body":"thank you for ur time, I tried as u said, but it still gives the same compilation error :("},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1674285911,"post_id":75191474,"comment_id":132686257,"body_markdown":"wait, it worked actually, thank you for ur help :)","body":"wait, it worked actually, thank you for ur help :)"}],"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674281481,"creation_date":1674281481,"answer_id":75191474,"question_id":75191419,"body_markdown":"There are two main problems:\r\n\r\n(1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` \r\n\r\n(2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\n//REMOVE THIS\r\n//import javafx.event.ActionEvent;\r\n\r\n//ADD THIS\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class MainFrame extends JFrame {\r\n    final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\r\n    JTexThere are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport jThere are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.ava.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.tField tfFirstName, tfLastName;\r\n    JLabel lbWelcome;\r\n\r\n    public void initialize(){\r\n        /********** Form Panel ***************/\r\n        JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\r\n        lbFirstName.setFont(mainFont);\r\n\r\n        There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.tfFirstName = new JTextField();\r\n        tfFirstName.setFont(mainFont);\r\n\r\n        JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\r\n        lbLastName.setFont(mainFont);\r\n\r\n        tfLastName = new JTextField();\r\n        tfLastName.setFont(mainFont);\r\n\r\n        JPanel formPanel = new JPanel();\r\n        formPanel.setLayout(new GridLayout(4, 1, 5, 5));\r\n        formPanel.add(lbFirstName);\r\n        formPanel.add(tfFirstName);\r\n        formPanel.add(lbLastName);\r\n        formPanel.add(tfLastName);\r\n\r\n        /********** Welcome Label ***************/\r\n        lbWelcome = new JLabel();\r\n        lbWelcome.setFont(mainFont);\r\n\r\n        /********** Button Panel ***************/\r\n        JButton btnOK = new JButton(&quot;OK&quot;);\r\n        btnOK.setFont(mainFont);\r\n        btnOK.addActionListener(new ActionListener(){\r\n\r\n            @Overrideimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class MainFrame extends JFrame {\r\n    final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\r\n    JTextField tfFirstName, tfLastName;\r\n    JLabel lbWelcome;\r\n\r\n    public void initialize(){\r\n        /********** Form Panel ***************/\r\n        JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\r\n        lbFirstName.setFont(mainFont);\r\n\r\n        tfFirstName = new JTextField();\r\n        tfFirstName.setFont(mainFont);\r\n\r\n        JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\r\n        lbLastName.setFont(mainFont);\r\n\r\n        tfLastName = new JTextField();\r\n        tfLastName.setFont(mainFont);\r\n\r\n        JPanel formPanel = new JPanel();\r\n        formPanel.setLayout(new GridLayout(4, 1, 5, 5));\r\n        formPanel.add(lbFirstName);\r\n        formPanel.add(tfFirstName);\r\n        formPanel.add(lbLastName);\r\n        formPanel.add(tfLastName);\r\n\r\n        /********** Welcome Label ***************/\r\n        lbWelcome = new JLabel();\r\n        lbWelcome.setFont(mainFont);\r\n\r\n        /********** Button Panel ***************/\r\n        JButton btnOK = new JButton(&quot;OK&quot;);\r\n        btnOK.setFont(mainFont);\r\n        btnOK.addActionListener(new ActionListener(){\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e){\r\n                // TODO Auto-generated method stub\r\n                String firstName = tfFirstName.getText();\r\n                String lastName = tfLastName.getText();\r\n                lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\r\n            }\r\n        });\r\n\r\n        JButton btnClear = new JButton(&quot;Clear&quot;);\r\n        btnClear.setFont(mainFont);\r\n        btnClear.addActionListener(new ActionListener(){\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e){\r\n                tfFirstName.setText(&quot;&quot;);\r\n                tfLastName.setText(&quot;&quot;);\r\n                lbWelcome.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        JPanel buttonsPanel = new JPanel();\r\n        buttonsPanel.setLayout(new BorderLayout());\r\n\r\n//MOVE SEQUENCE JPanel mainPanel = new JPanel();\r\n        JPanel mainPanel = new JPanel();\r\n        mainPanel.setLayout(new BorderLayout());\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n        mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\r\n\r\n        add(mainPanel);\r\n\r\n\r\n\r\n        setTitle(&quot;Welcome&quot;);\r\n        setSize(500, 600);\r\n        setMinimumSize(new Dimension(300, 400));\r\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MainFrame myFrame = new MainFrame();\r\n        myFrame.initialize();\r\n    }\r\n}\r\n\r\n            public void actionPerformed(ActionEvent e){\r\n                // TODO Auto-generated method stub\r\n                String firstName = tfFirstName.getText();\r\n                String lastName = tfLastName.getText();\r\n                lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\r\n            }\r\n        });\r\n\r\n        JButton btnClear = new JButton(&quot;Clear&quot;);\r\n        btnClear.setFont(mainFont);\r\n        btnClear.addActionListener(new ActionListener(){\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e){\r\n                tfFirstName.setText(&quot;&quot;);\r\n                tfLastName.setText(&quot;&quot;);\r\n                lbWelcome.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        JPanel buttonsPanel = new JPanel();\r\n        buttonsPanel.setLayout(new BorderLayout());\r\n\r\n        JPanel mainPanel = new JPanel();\r\n        mainPanel.setLayout(new BorderLayout());\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n        mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\r\n\r\n        add(mainPanel);\r\n\r\n\r\n\r\n        setTitle(&quot;Welcome&quot;);\r\n        setSize(500, 600);\r\n        setMinimumSize(new Dimension(300, 400));\r\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MainFrame myFrame = new MainFrame();\r\n        myFrame.initialize();\r\n    }\r\n}\r\n```","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: at JavaProjectTest.src.MainFrame.main","body":"<p>There are two main problems:</p>\n<p>(1) <code>import javafx.event.ActionEvent;</code> should be changed to <code>import java.awt.event.ActionEvent; import java.awt.event.ActionListener;</code></p>\n<p>(2) The order of <code>JPanel mainPanel = new JPanel();</code> should be before using <code>mainPanel.setBackground(new Color(128, 128, 255));</code>.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\n//REMOVE THIS\n//import javafx.event.ActionEvent;\n\n//ADD THIS\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class MainFrame extends JFrame {\n    final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\n    JTexThere are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport jThere are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.ava.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.tField tfFirstName, tfLastName;\n    JLabel lbWelcome;\n\n    public void initialize(){\n        /********** Form Panel ***************/\n        JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\n        lbFirstName.setFont(mainFont);\n\n        There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.There are two main problems, (1) `import javafx.event.ActionEvent;` should be changed to `import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;` (2) The order of `JPanel mainPanel = new JPanel();` should be before using `mainPanel.setBackground(new Color(128, 128, 255));`.tfFirstName = new JTextField();\n        tfFirstName.setFont(mainFont);\n\n        JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\n        lbLastName.setFont(mainFont);\n\n        tfLastName = new JTextField();\n        tfLastName.setFont(mainFont);\n\n        JPanel formPanel = new JPanel();\n        formPanel.setLayout(new GridLayout(4, 1, 5, 5));\n        formPanel.add(lbFirstName);\n        formPanel.add(tfFirstName);\n        formPanel.add(lbLastName);\n        formPanel.add(tfLastName);\n\n        /********** Welcome Label ***************/\n        lbWelcome = new JLabel();\n        lbWelcome.setFont(mainFont);\n\n        /********** Button Panel ***************/\n        JButton btnOK = new JButton(&quot;OK&quot;);\n        btnOK.setFont(mainFont);\n        btnOK.addActionListener(new ActionListener(){\n\n            @Overrideimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class MainFrame extends JFrame {\n    final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\n    JTextField tfFirstName, tfLastName;\n    JLabel lbWelcome;\n\n    public void initialize(){\n        /********** Form Panel ***************/\n        JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\n        lbFirstName.setFont(mainFont);\n\n        tfFirstName = new JTextField();\n        tfFirstName.setFont(mainFont);\n\n        JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\n        lbLastName.setFont(mainFont);\n\n        tfLastName = new JTextField();\n        tfLastName.setFont(mainFont);\n\n        JPanel formPanel = new JPanel();\n        formPanel.setLayout(new GridLayout(4, 1, 5, 5));\n        formPanel.add(lbFirstName);\n        formPanel.add(tfFirstName);\n        formPanel.add(lbLastName);\n        formPanel.add(tfLastName);\n\n        /********** Welcome Label ***************/\n        lbWelcome = new JLabel();\n        lbWelcome.setFont(mainFont);\n\n        /********** Button Panel ***************/\n        JButton btnOK = new JButton(&quot;OK&quot;);\n        btnOK.setFont(mainFont);\n        btnOK.addActionListener(new ActionListener(){\n\n            @Override\n            public void actionPerformed(ActionEvent e){\n                // TODO Auto-generated method stub\n                String firstName = tfFirstName.getText();\n                String lastName = tfLastName.getText();\n                lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\n            }\n        });\n\n        JButton btnClear = new JButton(&quot;Clear&quot;);\n        btnClear.setFont(mainFont);\n        btnClear.addActionListener(new ActionListener(){\n\n            @Override\n            public void actionPerformed(ActionEvent e){\n                tfFirstName.setText(&quot;&quot;);\n                tfLastName.setText(&quot;&quot;);\n                lbWelcome.setText(&quot;&quot;);\n            }\n        });\n\n        JPanel buttonsPanel = new JPanel();\n        buttonsPanel.setLayout(new BorderLayout());\n\n//MOVE SEQUENCE JPanel mainPanel = new JPanel();\n        JPanel mainPanel = new JPanel();\n        mainPanel.setLayout(new BorderLayout());\n        mainPanel.setBackground(new Color(128, 128, 255));\n        mainPanel.add(formPanel, BorderLayout.NORTH);\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\n        mainPanel.setBackground(new Color(128, 128, 255));\n        mainPanel.add(formPanel, BorderLayout.NORTH);\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\n        mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\n\n        add(mainPanel);\n\n\n\n        setTitle(&quot;Welcome&quot;);\n        setSize(500, 600);\n        setMinimumSize(new Dimension(300, 400));\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        MainFrame myFrame = new MainFrame();\n        myFrame.initialize();\n    }\n}\n\n            public void actionPerformed(ActionEvent e){\n                // TODO Auto-generated method stub\n                String firstName = tfFirstName.getText();\n                String lastName = tfLastName.getText();\n                lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\n            }\n        });\n\n        JButton btnClear = new JButton(&quot;Clear&quot;);\n        btnClear.setFont(mainFont);\n        btnClear.addActionListener(new ActionListener(){\n\n            @Override\n            public void actionPerformed(ActionEvent e){\n                tfFirstName.setText(&quot;&quot;);\n                tfLastName.setText(&quot;&quot;);\n                lbWelcome.setText(&quot;&quot;);\n            }\n        });\n\n        JPanel buttonsPanel = new JPanel();\n        buttonsPanel.setLayout(new BorderLayout());\n\n        JPanel mainPanel = new JPanel();\n        mainPanel.setLayout(new BorderLayout());\n        mainPanel.setBackground(new Color(128, 128, 255));\n        mainPanel.add(formPanel, BorderLayout.NORTH);\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\n        mainPanel.setBackground(new Color(128, 128, 255));\n        mainPanel.add(formPanel, BorderLayout.NORTH);\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\n        mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\n\n        add(mainPanel);\n\n\n\n        setTitle(&quot;Welcome&quot;);\n        setSize(500, 600);\n        setMinimumSize(new Dimension(300, 400));\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        MainFrame myFrame = new MainFrame();\n        myFrame.initialize();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75191474,"answer_count":1,"score":0,"last_activity_date":1688427103,"creation_date":1674280554,"question_id":75191419,"body_markdown":"I&#39;m working on simple Java GUI Frame creation with buttons, it should show the frame with two buttons &quot;OK&quot; and &quot;Clear&quot; respectively. And two lines for writing the First Name and Last Name. I&#39;m using VS Code editor.  Following code gives compilation error, any help would be appreciated:\r\n\r\n     import java.awt.*;\r\n     import javax.swing.*;\r\n     import javafx.event.ActionEvent;\r\n\r\n          public class MainFrame extends JFrame{\r\n               final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\r\n               JTextField tfFirstName, tfLastName;\r\n               JLabel lbWelcome;\r\n\r\n          public void initialize(){\r\n        /********** Form Panel ***************/\r\n        JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\r\n        lbFirstName.setFont(mainFont);\r\n\r\n        tfFirstName = new JTextField();\r\n        tfFirstName.setFont(mainFont);\r\n\r\n        JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\r\n        lbLastName.setFont(mainFont);\r\n\r\n        tfLastName = new JTextField();\r\n        tfLastName.setFont(mainFont);\r\n\r\n        JPanel formPanel = new JPanel();\r\n        formPanel.setLayout(new GridLayout(4, 1, 5, 5));\r\n        formPanel.add(lbFirstName);\r\n        formPanel.add(tfFirstName);\r\n        formPanel.add(lbLastName);\r\n        formPanel.add(tfLastName);\r\n\r\n        /********** Welcome Label ***************/\r\n        lbWelcome = new JLabel();\r\n        lbWelcome.setFont(mainFont);\r\n\r\n        /********** Button Panel ***************/\r\n        JButton btnOK = new JButton(&quot;OK&quot;);\r\n        btnOK.setFont(mainFont);\r\n        btnOK.addActionListener(new ActionListener(){\r\n              \r\n            @Override\r\n            public void actionPerformed(ActionEvent e){\r\n                // TODO Auto-generated method stub\r\n                String firstName = tfFirstName.getText();\r\n                String lastName = tfLastName.getText();\r\n                lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\r\n            }\r\n        });\r\n\r\n        JButton btnClear = new JButton(&quot;Clear&quot;);\r\n        btnClear.setFont(mainFont);\r\n        btnClear.addActionListener(new ActionListener(){\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e){\r\n                tfFirstName.setText(&quot;&quot;);\r\n                tfLastName.setText(&quot;&quot;);\r\n                lbWelcome.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        JPanel buttonsPanel = new JPanel();\r\n        buttonsPanel.setLayout(new BorderLayout());\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n        mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\r\n\r\n        add(mainPanel);\r\n\r\n        JPanel mainPanel = new JPanel();\r\n        mainPanel.setLayout(new BorderLayout());\r\n        mainPanel.setBackground(new Color(128, 128, 255));\r\n        mainPanel.add(formPanel, BorderLayout.NORTH);\r\n        mainPanel.add(lbWelcome, BorderLayout.CENTER);\r\n\r\n        setTitle(&quot;Welcome&quot;);\r\n        setSize(500, 600);\r\n        setMinimumSize(new Dimension(300, 400));\r\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MainFrame myFrame = new MainFrame();\r\n        myFrame.initialize();\r\n    }\r\n    }\r\n\r\n- Compilation error message: \r\n\r\n        Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n        at JavaProjectTest.src.MainFrame.main(MainFrame.java:83)\r\n\r\n- Output result after fix:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HhQU9.jpg","title":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: at JavaProjectTest.src.MainFrame.main","body":"<p>I'm working on simple Java GUI Frame creation with buttons, it should show the frame with two buttons &quot;OK&quot; and &quot;Clear&quot; respectively. And two lines for writing the First Name and Last Name. I'm using VS Code editor.  Following code gives compilation error, any help would be appreciated:</p>\n<pre><code> import java.awt.*;\n import javax.swing.*;\n import javafx.event.ActionEvent;\n\n      public class MainFrame extends JFrame{\n           final private Font mainFont = new Font(&quot;Segoe print&quot;, Font.BOLD, 18);\n           JTextField tfFirstName, tfLastName;\n           JLabel lbWelcome;\n\n      public void initialize(){\n    /********** Form Panel ***************/\n    JLabel lbFirstName = new JLabel(&quot;First Name&quot;);\n    lbFirstName.setFont(mainFont);\n\n    tfFirstName = new JTextField();\n    tfFirstName.setFont(mainFont);\n\n    JLabel lbLastName = new JLabel(&quot;Last Name&quot;);\n    lbLastName.setFont(mainFont);\n\n    tfLastName = new JTextField();\n    tfLastName.setFont(mainFont);\n\n    JPanel formPanel = new JPanel();\n    formPanel.setLayout(new GridLayout(4, 1, 5, 5));\n    formPanel.add(lbFirstName);\n    formPanel.add(tfFirstName);\n    formPanel.add(lbLastName);\n    formPanel.add(tfLastName);\n\n    /********** Welcome Label ***************/\n    lbWelcome = new JLabel();\n    lbWelcome.setFont(mainFont);\n\n    /********** Button Panel ***************/\n    JButton btnOK = new JButton(&quot;OK&quot;);\n    btnOK.setFont(mainFont);\n    btnOK.addActionListener(new ActionListener(){\n          \n        @Override\n        public void actionPerformed(ActionEvent e){\n            // TODO Auto-generated method stub\n            String firstName = tfFirstName.getText();\n            String lastName = tfLastName.getText();\n            lbWelcome.setText(&quot;Hello &quot; + firstName + &quot; &quot; + lastName);\n        }\n    });\n\n    JButton btnClear = new JButton(&quot;Clear&quot;);\n    btnClear.setFont(mainFont);\n    btnClear.addActionListener(new ActionListener(){\n\n        @Override\n        public void actionPerformed(ActionEvent e){\n            tfFirstName.setText(&quot;&quot;);\n            tfLastName.setText(&quot;&quot;);\n            lbWelcome.setText(&quot;&quot;);\n        }\n    });\n\n    JPanel buttonsPanel = new JPanel();\n    buttonsPanel.setLayout(new BorderLayout());\n    mainPanel.setBackground(new Color(128, 128, 255));\n    mainPanel.add(formPanel, BorderLayout.NORTH);\n    mainPanel.add(lbWelcome, BorderLayout.CENTER);\n    mainPanel.add(buttonsPanel, BorderLayout.SOUTH);\n\n    add(mainPanel);\n\n    JPanel mainPanel = new JPanel();\n    mainPanel.setLayout(new BorderLayout());\n    mainPanel.setBackground(new Color(128, 128, 255));\n    mainPanel.add(formPanel, BorderLayout.NORTH);\n    mainPanel.add(lbWelcome, BorderLayout.CENTER);\n\n    setTitle(&quot;Welcome&quot;);\n    setSize(500, 600);\n    setMinimumSize(new Dimension(300, 400));\n    setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    setVisible(true);\n}\n\npublic static void main(String[] args) {\n    MainFrame myFrame = new MainFrame();\n    myFrame.initialize();\n}\n}\n</code></pre>\n<ul>\n<li><p>Compilation error message:</p>\n<pre><code>  Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n  at JavaProjectTest.src.MainFrame.main(MainFrame.java:83)\n</code></pre>\n</li>\n<li><p>Output result after fix:</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/HhQU9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HhQU9.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","image","web-applications"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686910487,"post_id":76485303,"comment_id":134866628,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":5156519,"reputation":3345,"user_id":5272567,"display_name":"Matthias"},"score":0,"creation_date":1686911331,"post_id":76485303,"comment_id":134866825,"body_markdown":"have you console logged fileData to make sure it is not empty?","body":"have you console logged fileData to make sure it is not empty?"}],"answers":[{"tags":[],"owner":{"account_id":26606954,"reputation":7,"user_id":20227628,"display_name":"Edwin Tigor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688426632,"creation_date":1688426540,"answer_id":76608584,"question_id":76485303,"body_markdown":"You can&#39;t do like that. You have to convert filepath to uri. And get base 64 from uri on android process.\r\n\r\nDon&#39;t do convert base64 on front end. Just complete the base 64 string format by adding &quot;data:image/jpeg;base64,&quot; into base64 string that have been processed on android before.","title":"Why don&#39;t my images show up properly on the front end?","body":"<p>You can't do like that. You have to convert filepath to uri. And get base 64 from uri on android process.</p>\n<p>Don't do convert base64 on front end. Just complete the base 64 string format by adding &quot;data:image/jpeg;base64,&quot; into base64 string that have been processed on android before.</p>\n"}],"owner":{"account_id":28748711,"reputation":27,"user_id":22017236,"display_name":"Popo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688426632,"creation_date":1686860895,"question_id":76485303,"body_markdown":"I am developing a web application for a university project but I&#39;m having trouble displaying images on the front-end. The below Java code is being used to process images on the back-end:\r\n\r\n```java\r\nprivate byte[] getImageBytes(String directoryPath, String id) {\r\n   FilenameFilter filter = (dir, name) -&gt; name.matches(&quot;^&quot; + id + &quot;\\\\b.*&quot;);\r\n   File directory = new File(directoryPath);\r\n   File[] matchingFiles = directory.listFiles(filter);\r\n\r\n   if (matchingFiles == null) {\r\n      return null;\r\n   }\r\n\r\n  try (FileInputStream fis = new FileInputStream(matchingFiles[0])) {\r\n       byte[] fileData = new byte[(int) matchingFiles[0].length()];\r\n       fis.read(fileData);\r\n      return fileData;\r\n  } catch (IOException e) {\r\n       System.out.println(&quot;File could not be read: &quot; + e.getMessage());\r\n      return null;\r\n  }\r\n}\r\n```\r\nThe resulting byte[] is then given to an object annotated with @XmlRootElement and then returned to the front-end.\r\n\r\nOn the front-end, I use the following code to receive and process the images:\r\n\r\n```javascript\r\nlet imageElement = document.createElement(&quot;img&quot;);\r\nlet fileData = news.image;\r\nlet uint8Array = new Uint8Array(fileData);\r\nlet base64String = btoa(String.fromCharCode.apply(null, uint8Array));\r\nimageElement.src = &#39;data:image/jpeg;base64,&#39; + base64String;\r\n```\r\n\r\nThe `news` object is a JSON object with the `image` key, which contains the byte array generated from the earlier processing.\r\n\r\nHowever, when I append the `imageElement` to the designated location, the image is not displayed correctly. The image appears as shown:\r\n\r\n[image isn&#39;t displayed correctly](https://i.stack.imgur.com/DNGsF.png)\r\n\r\nCan anyone help me understand what I might be doing wrong or if there are any other pieces of code that I might be missing? Thank you very much for your help!","title":"Why don&#39;t my images show up properly on the front end?","body":"<p>I am developing a web application for a university project but I'm having trouble displaying images on the front-end. The below Java code is being used to process images on the back-end:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private byte[] getImageBytes(String directoryPath, String id) {\n   FilenameFilter filter = (dir, name) -&gt; name.matches(&quot;^&quot; + id + &quot;\\\\b.*&quot;);\n   File directory = new File(directoryPath);\n   File[] matchingFiles = directory.listFiles(filter);\n\n   if (matchingFiles == null) {\n      return null;\n   }\n\n  try (FileInputStream fis = new FileInputStream(matchingFiles[0])) {\n       byte[] fileData = new byte[(int) matchingFiles[0].length()];\n       fis.read(fileData);\n      return fileData;\n  } catch (IOException e) {\n       System.out.println(&quot;File could not be read: &quot; + e.getMessage());\n      return null;\n  }\n}\n</code></pre>\n<p>The resulting byte[] is then given to an object annotated with @XmlRootElement and then returned to the front-end.</p>\n<p>On the front-end, I use the following code to receive and process the images:</p>\n<pre class=\"lang-js prettyprint-override\"><code>let imageElement = document.createElement(&quot;img&quot;);\nlet fileData = news.image;\nlet uint8Array = new Uint8Array(fileData);\nlet base64String = btoa(String.fromCharCode.apply(null, uint8Array));\nimageElement.src = 'data:image/jpeg;base64,' + base64String;\n</code></pre>\n<p>The <code>news</code> object is a JSON object with the <code>image</code> key, which contains the byte array generated from the earlier processing.</p>\n<p>However, when I append the <code>imageElement</code> to the designated location, the image is not displayed correctly. The image appears as shown:</p>\n<p><a href=\"https://i.stack.imgur.com/DNGsF.png\" rel=\"nofollow noreferrer\">image isn't displayed correctly</a></p>\n<p>Can anyone help me understand what I might be doing wrong or if there are any other pieces of code that I might be missing? Thank you very much for your help!</p>\n"},{"tags":["java","visual-studio-code","javafx"],"answers":[{"comments":[{"owner":{"account_id":28817475,"reputation":41,"user_id":22070765,"display_name":"Jason"},"score":0,"creation_date":1686986855,"post_id":76487508,"comment_id":134876649,"body_markdown":"Well I&#39;m not usre what kind of Java I am using, but it says version &quot;17.0.7&quot; when I typed java -version on my command prompt.","body":"Well I&#39;m not usre what kind of Java I am using, but it says version &quot;17.0.7&quot; when I typed java -version on my command prompt."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686897376,"creation_date":1686897376,"answer_id":76487508,"question_id":76486024,"body_markdown":"You better use the Java11 and above versions. And `vmArgs` is configured in *launch.json*, you need to use **Run and Debug** to debug, or `Start Debugging` or `Run Without Debugging` under the **Run** menu.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[*JavaFX and Visual Studio Code*][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DzTTn.png\r\n  [2]: https://openjfx.io/openjfx-docs/","title":"JavaFX in VScode. JavaFX runtime components are missing. Even though I have vmArgs","body":"<p>You better use the Java11 and above versions. And <code>vmArgs</code> is configured in <em>launch.json</em>, you need to use <strong>Run and Debug</strong> to debug, or <code>Start Debugging</code> or <code>Run Without Debugging</code> under the <strong>Run</strong> menu.</p>\n<p><a href=\"https://i.stack.imgur.com/DzTTn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DzTTn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\"><em>JavaFX and Visual Studio Code</em></a></p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686941645,"creation_date":1686901530,"answer_id":76487998,"question_id":76486024,"body_markdown":"### The standard solution is:\r\n\r\n * Follow the openjfx.io instructions, entitled [Getting Started with JavaFX: JavaFX and Visual Studio Code][1]\r\n\r\nI recommend that (if you really want to use Visual Studio), not what is in the rest of this answer.\r\n\r\n-----\r\n\r\nAn alternate solution is to use a JDK which includes JavaFX.\r\n\r\nThese instructions worked for me.  I make no guarantee they will work for you or continue to work without modification in the future.  I also do not offer support for these instructions, they are presented &quot;as-is&quot;.  \r\n\r\n----\r\n\r\n### Visual Studio Code and Azul Zulu &quot;JDK FX&quot; distribution, which includes JavaFX\r\n\r\nDownload and install Azul Zulu &quot;JDK FX&quot; for your OS and architecture.\r\n\r\nHere is a link to an example download for Java 20, OS X, x64, JDK FX package, you can go to the link and change the settings for your system, then download and run the installer (I choose a `.dmg` installer for Mac).\r\n\r\n * https://www.azul.com/downloads/?version=java-20-sts&amp;os=macos&amp;architecture=x86-64-bit&amp;package=jdk-fx#zulu\r\n\r\nThat will install the JDK &quot;somewhere&quot; on your system.  On a Mac you can find out where by typing:\r\n\r\n    /usr/libexec/java_home -V\r\n\r\nThat shows me:\r\n\r\n    20.0.1 (x86_64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 20.30.11&quot; /Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home\r\n\r\nSo now I know where the JDK is installed.\r\n\r\nThen to setup the JDK in Visual Studio, go to &quot;Java: Getting Started&quot; on the Visual Studio site:\r\n\r\n * https://code.visualstudio.com/docs/java/java-tutorial\r\n\r\nChoose &quot;Install the Coding Pack for Java - macOS&quot; (use the Windows link instead if that is your OS).  \r\n\r\nOnce the VSCode installation is done, set up Zulu as your default JDK.  To do that you need to follow the instructions &quot;Configure Runtime for Projects&quot; in the Visual Studio documentation:\r\n\r\n * https://code.visualstudio.com/docs/java/java-project\r\n\r\nThis requires you to [edit setings][2]. Type &quot;Command+,&quot; (on a Mac) to open settings, in the settings field type:\r\n\r\n    java.configuration.runtimes\r\n\r\nClick on the link displayed: &quot;Edit in settings.json&quot;.\r\n\r\nThe json file should be edited and saved to include this section (inside the outer `{` and `}` json structure):\r\n\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n           &quot;name&quot;: &quot;JavaSE-20&quot;,\r\n           &quot;path&quot;: &quot;/Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home&quot;,\r\n           &quot;default&quot;: true\r\n        }\r\n    ]\r\n \r\nThe name has to be one of `JavaSE-NN` where `NN` is a Java version.  I use `JavaSE-20`, because that is the version of the JDK which I got from Zulu.\r\n\r\nThe path is set to the path for the JDK that I got from the `java_home` command.\r\n\r\nOK, now you have your Java and IDE setup, you have to work on creating your project.  \r\n\r\nCreate a new folder on your machine (I used a terminal on a Mac to create a folder I named `hellofx`).  Then on the Visual Studio &quot;Welcome&quot; page, choose &quot;Open...&quot; and choose the new folder you just created.  It will prompt you if you trust the authors, choose &quot;Yes, I trust the authors&quot;, if you trust yourself.  In the Explorer on the left it will list your folder name in all caps, for me it says &quot;HELLOFX&quot;.  On the welcome screen choose &quot;New File...&quot;, choose &quot;New Java class&quot;.  Copy and paste the [HelloFX code from openjfx.io][3].\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class HelloFX extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            String javaVersion = System.getProperty(&quot;java.version&quot;);\r\n            String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\r\n            Label l = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\r\n            Scene scene = new Scene(new StackPane(l), 640, 480);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    }\r\n\r\nChoose File | Save and enter the name &quot;HelloFX.java&quot;.\r\n\r\nClick the arrow icon on the left of the screen and press &quot;Run and Debug&quot; to run the app.\r\n\r\nYour app will run and display a window using JavaFX with text in a Label, similar to that below:\r\n\r\n    Hello, JavaFX 20.0.1, running on Java 20.0.1.\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#IDE-VSCode\r\n  [2]: https://code.visualstudio.com/docs/getstarted/settings\r\n  [3]: https://github.com/openjfx/samples/blob/master/HelloFX/CLI/hellofx/HelloFX.java","title":"JavaFX in VScode. JavaFX runtime components are missing. Even though I have vmArgs","body":"<h3>The standard solution is:</h3>\n<ul>\n<li>Follow the openjfx.io instructions, entitled <a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">Getting Started with JavaFX: JavaFX and Visual Studio Code</a></li>\n</ul>\n<p>I recommend that (if you really want to use Visual Studio), not what is in the rest of this answer.</p>\n<hr />\n<p>An alternate solution is to use a JDK which includes JavaFX.</p>\n<p>These instructions worked for me.  I make no guarantee they will work for you or continue to work without modification in the future.  I also do not offer support for these instructions, they are presented &quot;as-is&quot;.</p>\n<hr />\n<h3>Visual Studio Code and Azul Zulu &quot;JDK FX&quot; distribution, which includes JavaFX</h3>\n<p>Download and install Azul Zulu &quot;JDK FX&quot; for your OS and architecture.</p>\n<p>Here is a link to an example download for Java 20, OS X, x64, JDK FX package, you can go to the link and change the settings for your system, then download and run the installer (I choose a <code>.dmg</code> installer for Mac).</p>\n<ul>\n<li><a href=\"https://www.azul.com/downloads/?version=java-20-sts&amp;os=macos&amp;architecture=x86-64-bit&amp;package=jdk-fx#zulu\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/?version=java-20-sts&amp;os=macos&amp;architecture=x86-64-bit&amp;package=jdk-fx#zulu</a></li>\n</ul>\n<p>That will install the JDK &quot;somewhere&quot; on your system.  On a Mac you can find out where by typing:</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>That shows me:</p>\n<pre><code>20.0.1 (x86_64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 20.30.11&quot; /Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home\n</code></pre>\n<p>So now I know where the JDK is installed.</p>\n<p>Then to setup the JDK in Visual Studio, go to &quot;Java: Getting Started&quot; on the Visual Studio site:</p>\n<ul>\n<li><a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-tutorial</a></li>\n</ul>\n<p>Choose &quot;Install the Coding Pack for Java - macOS&quot; (use the Windows link instead if that is your OS).</p>\n<p>Once the VSCode installation is done, set up Zulu as your default JDK.  To do that you need to follow the instructions &quot;Configure Runtime for Projects&quot; in the Visual Studio documentation:</p>\n<ul>\n<li><a href=\"https://code.visualstudio.com/docs/java/java-project\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project</a></li>\n</ul>\n<p>This requires you to <a href=\"https://code.visualstudio.com/docs/getstarted/settings\" rel=\"nofollow noreferrer\">edit setings</a>. Type &quot;Command+,&quot; (on a Mac) to open settings, in the settings field type:</p>\n<pre><code>java.configuration.runtimes\n</code></pre>\n<p>Click on the link displayed: &quot;Edit in settings.json&quot;.</p>\n<p>The json file should be edited and saved to include this section (inside the outer <code>{</code> and <code>}</code> json structure):</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n    {\n       &quot;name&quot;: &quot;JavaSE-20&quot;,\n       &quot;path&quot;: &quot;/Library/Java/JavaVirtualMachines/zulu-20.jdk/Contents/Home&quot;,\n       &quot;default&quot;: true\n    }\n]\n</code></pre>\n<p>The name has to be one of <code>JavaSE-NN</code> where <code>NN</code> is a Java version.  I use <code>JavaSE-20</code>, because that is the version of the JDK which I got from Zulu.</p>\n<p>The path is set to the path for the JDK that I got from the <code>java_home</code> command.</p>\n<p>OK, now you have your Java and IDE setup, you have to work on creating your project.</p>\n<p>Create a new folder on your machine (I used a terminal on a Mac to create a folder I named <code>hellofx</code>).  Then on the Visual Studio &quot;Welcome&quot; page, choose &quot;Open...&quot; and choose the new folder you just created.  It will prompt you if you trust the authors, choose &quot;Yes, I trust the authors&quot;, if you trust yourself.  In the Explorer on the left it will list your folder name in all caps, for me it says &quot;HELLOFX&quot;.  On the welcome screen choose &quot;New File...&quot;, choose &quot;New Java class&quot;.  Copy and paste the <a href=\"https://github.com/openjfx/samples/blob/master/HelloFX/CLI/hellofx/HelloFX.java\" rel=\"nofollow noreferrer\">HelloFX code from openjfx.io</a>.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class HelloFX extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        String javaVersion = System.getProperty(&quot;java.version&quot;);\n        String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\n        Label l = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\n        Scene scene = new Scene(new StackPane(l), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p>Choose File | Save and enter the name &quot;HelloFX.java&quot;.</p>\n<p>Click the arrow icon on the left of the screen and press &quot;Run and Debug&quot; to run the app.</p>\n<p>Your app will run and display a window using JavaFX with text in a Label, similar to that below:</p>\n<pre><code>Hello, JavaFX 20.0.1, running on Java 20.0.1.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28817475,"reputation":41,"user_id":22070765,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688425927,"creation_date":1687057799,"answer_id":76498902,"question_id":76486024,"body_markdown":"What I did is I deleted Java and everything, downloaded everything all over again, and followed this [Getting Started with JavaFX: JavaFX and Visual Studio Code][1].\r\nIt worked.\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#IDE-VSCode\r\n\r\nEdit: Sometimes it takes a long time to work, even though I have already saved my launch.json and setting.json files. Just make a copy of the whole file that works, it will save a lot of time.\r\n","title":"JavaFX in VScode. JavaFX runtime components are missing. Even though I have vmArgs","body":"<p>What I did is I deleted Java and everything, downloaded everything all over again, and followed this <a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">Getting Started with JavaFX: JavaFX and Visual Studio Code</a>.\nIt worked.</p>\n<p>Edit: Sometimes it takes a long time to work, even though I have already saved my launch.json and setting.json files. Just make a copy of the whole file that works, it will save a lot of time.</p>\n"}],"owner":{"account_id":28817475,"reputation":41,"user_id":22070765,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76498902,"answer_count":3,"score":1,"last_activity_date":1688425927,"creation_date":1686870541,"question_id":76486024,"body_markdown":"I am learning JavaFX using VScode, but I am continuously getting an error message stating, &quot;Error: JavaFX runtime components are missing and are required to run this application&quot;, despite having entered vmArgs in launch.json and adding JavaFX to the referenced library as shown in multiple tutorial videos. My vmArgs look something like this:\r\n\r\n```json\r\n&quot;vmArgs&quot;: &quot;--module-path C:/.../Desktop/javafx-sdk-20.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;, \r\n```\r\n\r\nI have tried multiple vmArgs, including having the JavaFX stored in the Download folder, but the error persists. I suspect that there may be an issue with my Configure Java Runtime, which appears to be empty, or something related to JAVA_HOME. Can someone help me resolve this issue? Thank you in advance.","title":"JavaFX in VScode. JavaFX runtime components are missing. Even though I have vmArgs","body":"<p>I am learning JavaFX using VScode, but I am continuously getting an error message stating, &quot;Error: JavaFX runtime components are missing and are required to run this application&quot;, despite having entered vmArgs in launch.json and adding JavaFX to the referenced library as shown in multiple tutorial videos. My vmArgs look something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;vmArgs&quot;: &quot;--module-path C:/.../Desktop/javafx-sdk-20.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;, \n</code></pre>\n<p>I have tried multiple vmArgs, including having the JavaFX stored in the Download folder, but the error persists. I suspect that there may be an issue with my Configure Java Runtime, which appears to be empty, or something related to JAVA_HOME. Can someone help me resolve this issue? Thank you in advance.</p>\n"},{"tags":["java","spring","classpath","banner"],"answers":[{"tags":[],"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1556093810,"creation_date":1556093810,"answer_id":55825370,"question_id":55825124,"body_markdown":"From Spring documentation \r\n\r\n&gt; The wildcard classpath relies on the getResources() method of the underlying classloader. As most application servers nowadays supply their own classloader implementation, the behavior might differ especially when dealing with jar files. A simple test to check if classpath* works is to use the classloader to load a file from within a jar on the classpath: getClass().getClassLoader().getResources(&quot;&lt;someFileInsideTheJar&gt;&quot;). Try this test with files that have the same name but are placed inside two different locations. In case an inappropriate result is returned, check the application server documentation for settings that might affect the classloader behavior.\r\n\r\nSo classPath is for load the resources from current class loader (simply for understanding will not read resources under jar or other project dependency)\r\n\r\nclasspath* will do the jar or other class loader resources.\r\n","title":"what&#39;s the difference between classpath and classpath* in spring boot?","body":"<p>From Spring documentation </p>\n\n<blockquote>\n  <p>The wildcard classpath relies on the getResources() method of the underlying classloader. As most application servers nowadays supply their own classloader implementation, the behavior might differ especially when dealing with jar files. A simple test to check if classpath* works is to use the classloader to load a file from within a jar on the classpath: getClass().getClassLoader().getResources(\"\"). Try this test with files that have the same name but are placed inside two different locations. In case an inappropriate result is returned, check the application server documentation for settings that might affect the classloader behavior.</p>\n</blockquote>\n\n<p>So classPath is for load the resources from current class loader (simply for understanding will not read resources under jar or other project dependency)</p>\n\n<p>classpath* will do the jar or other class loader resources.</p>\n"},{"tags":[],"owner":{"account_id":11642102,"reputation":11,"user_id":8526168,"display_name":"francis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556094925,"creation_date":1556094925,"answer_id":55825718,"question_id":55825124,"body_markdown":"First since Spring boot show banner in source.You can find the code in SpringApplication.class, printBanner  method is used for to show banner.Like \r\nmallikarjun said classPath is for load the resources from current class loader (simply for understanding will not read resources under jar or other project dependency) classpath* will do the jar or other class loader resources.\r\nIf you use  classpath*:banner.txt will find in the jar.","title":"what&#39;s the difference between classpath and classpath* in spring boot?","body":"<p>First since Spring boot show banner in source.You can find the code in SpringApplication.class, printBanner  method is used for to show banner.Like \nmallikarjun said classPath is for load the resources from current class loader (simply for understanding will not read resources under jar or other project dependency) classpath* will do the jar or other class loader resources.\nIf you use  classpath*:banner.txt will find in the jar.</p>\n"}],"owner":{"account_id":3006153,"reputation":630,"user_id":2550663,"display_name":"nimbus_debug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55825370,"answer_count":2,"score":0,"last_activity_date":1688425482,"creation_date":1556092987,"question_id":55825124,"body_markdown":"when I use spring boot banner configuration file, I find that: \r\n\r\n# it works:\r\n\r\n    spring.banner.location=classpath:banner.txt\r\n\r\n# not working:\r\n\r\n    spring.banner.location=classpath*:banner.txt\r\n\r\nSo what is the difference between `classpath:` and `classpath*:` ?","title":"what&#39;s the difference between classpath and classpath* in spring boot?","body":"<p>when I use spring boot banner configuration file, I find that:</p>\n<h1>it works:</h1>\n<pre><code>spring.banner.location=classpath:banner.txt\n</code></pre>\n<h1>not working:</h1>\n<pre><code>spring.banner.location=classpath*:banner.txt\n</code></pre>\n<p>So what is the difference between <code>classpath:</code> and <code>classpath*:</code> ?</p>\n"},{"tags":["java","spring","classpath"],"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1550996927,"post_id":3294423,"comment_id":96472367,"body_markdown":"Future readers, also see this bug, with a &quot;status=declined&quot;.  https://github.com/spring-projects/spring-framework/issues/16017   Just in case the URL ever eventually fails, the title of the bug post is &quot; Import of an XML file from the root of a JAR file with wildcard classpath and wildcard path does not work [SPR-11390] &quot;","body":"Future readers, also see this bug, with a &quot;status=declined&quot;.  <a href=\"https://github.com/spring-projects/spring-framework/issues/16017\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/16017</a>   Just in case the URL ever eventually fails, the title of the bug post is &quot; Import of an XML file from the root of a JAR file with wildcard classpath and wildcard path does not work [SPR-11390] &quot;"}],"answers":[{"comments":[{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":2,"creation_date":1442942276,"post_id":3294469,"comment_id":53288529,"body_markdown":"Will classpath* look in subdirectories too? In other words, if I have appContext.xml in the classpath root and one in /dir/appContext.xml, will it load both when I use classpath*:appContext.xml?","body":"Will classpath* look in subdirectories too? In other words, if I have appContext.xml in the classpath root and one in /dir/appContext.xml, will it load both when I use classpath*:appContext.xml?"}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":1,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1279660980,"creation_date":1279660980,"answer_id":3294469,"question_id":3294423,"body_markdown":"The `classpath*:...` syntax is useful primarily when you want to build an application context from multiple bean definition files, using wildcard syntax.\r\n\r\nFor example, if you construct your context using `classpath*:appContext.xml`, the classpath will be scanned for every resource called `appContext.xml` in the classpath, and the bean definitions from all of them merged into a single context.\r\n\r\nIn contrast, `classpath:conf/appContext.xml` will obtain one and only one file called `appContext.xml` from the the classpath. If there is more than one, the others will be ignored.","title":"Spring classpath prefix difference","body":"<p>The <code>classpath*:...</code> syntax is useful primarily when you want to build an application context from multiple bean definition files, using wildcard syntax.</p>\n\n<p>For example, if you construct your context using <code>classpath*:appContext.xml</code>, the classpath will be scanned for every resource called <code>appContext.xml</code> in the classpath, and the bean definitions from all of them merged into a single context.</p>\n\n<p>In contrast, <code>classpath:conf/appContext.xml</code> will obtain one and only one file called <code>appContext.xml</code> from the the classpath. If there is more than one, the others will be ignored.</p>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":8,"creation_date":1370717292,"post_id":3294506,"comment_id":24567455,"body_markdown":"there is one more interesting difference between them. See my question also : http://stackoverflow.com/questions/16985770/runwith-and-contextconfiguration-weird-behaviour","body":"there is one more interesting difference between them. See my question also : <a href=\"http://stackoverflow.com/questions/16985770/runwith-and-contextconfiguration-weird-behaviour\" title=\"runwith and contextconfiguration weird behaviour\">stackoverflow.com/questions/16985770/&hellip;</a>"},{"owner":{"account_id":112089,"reputation":22076,"user_id":295797,"accept_rate":73,"display_name":"Roy Truelove"},"score":37,"creation_date":1396639960,"post_id":3294506,"comment_id":34896470,"body_markdown":"One very important thing - if you use the * and Spring finds no matches, it will not complain.  If you don&#39;t use the * and there are no matches, the context will not start up (!)","body":"One very important thing - if you use the * and Spring finds no matches, it will not complain.  If you don&#39;t use the * and there are no matches, the context will not start up (!)"}],"tags":[],"owner":{"account_id":39177,"reputation":17181,"user_id":112877,"display_name":"Eugene Ryzhikov"},"comment_count":2,"down_vote_count":0,"up_vote_count":230,"is_accepted":true,"score":230,"last_activity_date":1425478555,"creation_date":1279661275,"answer_id":3294506,"question_id":3294423,"body_markdown":"**SIMPLE DEFINITION**\r\n\r\nThe `classpath*:conf/appContext.xml` simply means that **all appContext.xml files** under `conf` folders in all your jars on the classpath  will be picked up and joined into one big application context.\r\n\r\nIn contrast, `classpath:conf/appContext.xml` will load **only one such file**... the first one found on your classpath.","title":"Spring classpath prefix difference","body":"<p><strong>SIMPLE DEFINITION</strong></p>\n\n<p>The <code>classpath*:conf/appContext.xml</code> simply means that <strong>all appContext.xml files</strong> under <code>conf</code> folders in all your jars on the classpath  will be picked up and joined into one big application context.</p>\n\n<p>In contrast, <code>classpath:conf/appContext.xml</code> will load <strong>only one such file</strong>... the first one found on your classpath.</p>\n"},{"comments":[{"owner":{"account_id":298136,"reputation":8086,"user_id":604004,"accept_rate":43,"display_name":"GabrielOshiro"},"score":0,"creation_date":1537910366,"post_id":29148037,"comment_id":91954098,"body_markdown":"[Official Doc](https://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/resources.html) &quot;It&#39;s not possible to use the classpath*: prefix to construct an actual `Resource`, as a resource points to just one resource at a time.&quot; plus I just got this weird error, that is how I ended up here. If you are going to import resource then it makes no sense to use wildcard classpath prefix.","body":"<a href=\"https://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/resources.html\" rel=\"nofollow noreferrer\">Official Doc</a> &quot;It&#39;s not possible to use the classpath*: prefix to construct an actual <code>Resource</code>, as a resource points to just one resource at a time.&quot; plus I just got this weird error, that is how I ended up here. If you are going to import resource then it makes no sense to use wildcard classpath prefix."}],"tags":[],"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1688425182,"creation_date":1426777292,"answer_id":29148037,"question_id":3294423,"body_markdown":"**classpath\\*:** It refers to a **list of resources** and **loads all** such files present in the classpath and _**list can be empty**_ and if _**no such file is present**_ in the classpath then application **does not throw any exception** (just ignores the error).\r\n\r\n**classpath:** It refers to a **certain resource** and **loads only the first** file found on the classpath and _**if no such file is present in the classpath**_ then **it will throw an exception** \r\n\r\n    java.io.FileNotFoundException: \r\n    class path resource [conf/appContext.xml] cannot be opened because it does not exist","title":"Spring classpath prefix difference","body":"<p><strong>classpath*:</strong> It refers to a <strong>list of resources</strong> and <strong>loads all</strong> such files present in the classpath and <em><strong>list can be empty</strong></em> and if <em><strong>no such file is present</strong></em> in the classpath then application <strong>does not throw any exception</strong> (just ignores the error).</p>\n<p><strong>classpath:</strong> It refers to a <strong>certain resource</strong> and <strong>loads only the first</strong> file found on the classpath and <em><strong>if no such file is present in the classpath</strong></em> then <strong>it will throw an exception</strong></p>\n<pre><code>java.io.FileNotFoundException: \nclass path resource [conf/appContext.xml] cannot be opened because it does not exist\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1114178,"reputation":19029,"user_id":1103953,"accept_rate":57,"display_name":"Rotem jackoby"},"score":0,"creation_date":1553077996,"post_id":55258482,"comment_id":97248622,"body_markdown":"Can you please explain?","body":"Can you please explain?"}],"tags":[],"owner":{"account_id":15568253,"reputation":11,"user_id":11231400,"display_name":"zzz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553077500,"creation_date":1553077500,"answer_id":55258482,"question_id":3294423,"body_markdown":"The source code of Spring:\r\n\r\n```\r\npublic Resource[] getResources(String locationPattern) throws IOException {\r\n   Assert.notNull(locationPattern, &quot;Location pattern must not be null&quot;);\r\n   //CLASSPATH_ALL_URL_PREFIX=&quot;classpath*:&quot;\r\n   if (locationPattern.startsWith(CLASSPATH_ALL_URL_PREFIX)) {\r\n      // a class path resource (multiple resources for same name possible)\r\n      if (getPathMatcher().isPattern(locationPattern.substring(CLASSPATH_ALL_URL_PREFIX.length()))) {\r\n         // a class path resource pattern\r\n         return findPathMatchingResources(locationPattern);\r\n      }\r\n      else {\r\n         // all class path resources with the given name\r\n         return findAllClassPathResources(locationPattern.substring(CLASSPATH_ALL_URL_PREFIX.length()));\r\n      }\r\n   }\r\n   else {\r\n      // Only look for a pattern after a prefix here\r\n      // (to not get fooled by a pattern symbol in a strange prefix).\r\n      int prefixEnd = locationPattern.indexOf(&quot;:&quot;) + 1;\r\n      if (getPathMatcher().isPattern(locationPattern.substring(prefixEnd))) {\r\n         // a file pattern\r\n         return findPathMatchingResources(locationPattern);\r\n      }\r\n      else {\r\n         // a single resource with the given name\r\n         return new Resource[] {getResourceLoader().getResource(locationPattern)};\r\n      }\r\n   }\r\n}  \r\n```","title":"Spring classpath prefix difference","body":"<p>The source code of Spring:</p>\n\n<pre><code>public Resource[] getResources(String locationPattern) throws IOException {\n   Assert.notNull(locationPattern, \"Location pattern must not be null\");\n   //CLASSPATH_ALL_URL_PREFIX=\"classpath*:\"\n   if (locationPattern.startsWith(CLASSPATH_ALL_URL_PREFIX)) {\n      // a class path resource (multiple resources for same name possible)\n      if (getPathMatcher().isPattern(locationPattern.substring(CLASSPATH_ALL_URL_PREFIX.length()))) {\n         // a class path resource pattern\n         return findPathMatchingResources(locationPattern);\n      }\n      else {\n         // all class path resources with the given name\n         return findAllClassPathResources(locationPattern.substring(CLASSPATH_ALL_URL_PREFIX.length()));\n      }\n   }\n   else {\n      // Only look for a pattern after a prefix here\n      // (to not get fooled by a pattern symbol in a strange prefix).\n      int prefixEnd = locationPattern.indexOf(\":\") + 1;\n      if (getPathMatcher().isPattern(locationPattern.substring(prefixEnd))) {\n         // a file pattern\n         return findPathMatchingResources(locationPattern);\n      }\n      else {\n         // a single resource with the given name\n         return new Resource[] {getResourceLoader().getResource(locationPattern)};\n      }\n   }\n}  \n</code></pre>\n"}],"owner":{"account_id":35017,"reputation":19333,"user_id":99033,"accept_rate":74,"display_name":"JavaRocky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73380,"favorite_count":0,"down_vote_count":0,"up_vote_count":159,"accepted_answer_id":3294506,"answer_count":4,"score":159,"last_activity_date":1688425182,"creation_date":1279660575,"question_id":3294423,"body_markdown":"Documented at [4.7.2.2 The classpath*: prefix][1] it states\r\n\r\n&gt; This special prefix specifies that all\r\n&gt; classpath resources that match the\r\n&gt; given name must be obtained\r\n&gt; (internally, this essentially happens\r\n&gt; via a ClassLoader.getResources(...)\r\n&gt; call), and then merged to form the\r\n&gt; final application context definition.\r\n\r\nCan someone explain this? \r\n\r\nWhat is the difference between using `classpath*:conf/appContext.xml` as opposed to `classpath:conf/appContext.xml` without the asterisk.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/resources.html#resources-classpath-wildcards","title":"Spring classpath prefix difference","body":"<p>Documented at <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/resources.html#resources-classpath-wildcards\" rel=\"nofollow noreferrer\">4.7.2.2 The classpath*: prefix</a> it states</p>\n<blockquote>\n<p>This special prefix specifies that all\nclasspath resources that match the\ngiven name must be obtained\n(internally, this essentially happens\nvia a ClassLoader.getResources(...)\ncall), and then merged to form the\nfinal application context definition.</p>\n</blockquote>\n<p>Can someone explain this?</p>\n<p>What is the difference between using <code>classpath*:conf/appContext.xml</code> as opposed to <code>classpath:conf/appContext.xml</code> without the asterisk.</p>\n"},{"tags":["java","concurrency"],"answers":[{"comments":[{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1337092524,"post_id":10602987,"comment_id":13735656,"body_markdown":"+1 Nice find - Interesting how a read method may modify the map.","body":"+1 Nice find - Interesting how a read method may modify the map."},{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":1,"creation_date":1337117502,"post_id":10602987,"comment_id":13745883,"body_markdown":"@andersoj Ahh, that bug report makes it  clear. Since calling `size` on a `WeakHashMap` might modify the underlying map, a user who concurrently calls `size` on one might inadvertently corrupt it. This behavior is contrary to most (all?) other JDK `Map` implementations which would allow multiple threads to read their contents with no problems, so they decided to make the class a little bit thread-safe in order to maintain consistency with the `Map` specification.","body":"@andersoj Ahh, that bug report makes it  clear. Since calling <code>size</code> on a <code>WeakHashMap</code> might modify the underlying map, a user who concurrently calls <code>size</code> on one might inadvertently corrupt it. This behavior is contrary to most (all?) other JDK <code>Map</code> implementations which would allow multiple threads to read their contents with no problems, so they decided to make the class a little bit thread-safe in order to maintain consistency with the <code>Map</code> specification."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1485687063,"post_id":10602987,"comment_id":71021058,"body_markdown":"@John Vint for example LinkedHashMap get modifies the map because it stores acess ordering","body":"@John Vint for example LinkedHashMap get modifies the map because it stores acess ordering"}],"tags":[],"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688424288,"creation_date":1337092266,"answer_id":10602987,"question_id":10591851,"body_markdown":"If you look at [`ReferenceQueue`][1] you will see that it explicitly supports threading inside the platform, because it states that the `remove()` method will block until a new entry is available.\r\n\r\nThe `synchronized` you see in `WeakHashMap` is about ensuring that multiple threads accessing a `ReferenceQueue` are properly synchronized.\r\n\r\nYou might find this [related bug][2] interesting.\r\n\r\nTo answer your question, I think external synchronization of the `ReferenceQueue` is not required if you ensure it is only accessed by a single thread.  I would not use (and can&#39;t think of a good reason) to use a single `ReferenceQueue` as a consumer from multiple threads.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/ref/ReferenceQueue.html\r\n  [2]: https://bugs.openjdk.org/browse/JDK-6425537","title":"Should I synchronize on a ReferenceQueue?","body":"<p>If you look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ref/ReferenceQueue.html\" rel=\"nofollow noreferrer\"><code>ReferenceQueue</code></a> you will see that it explicitly supports threading inside the platform, because it states that the <code>remove()</code> method will block until a new entry is available.</p>\n<p>The <code>synchronized</code> you see in <code>WeakHashMap</code> is about ensuring that multiple threads accessing a <code>ReferenceQueue</code> are properly synchronized.</p>\n<p>You might find this <a href=\"https://bugs.openjdk.org/browse/JDK-6425537\" rel=\"nofollow noreferrer\">related bug</a> interesting.</p>\n<p>To answer your question, I think external synchronization of the <code>ReferenceQueue</code> is not required if you ensure it is only accessed by a single thread.  I would not use (and can't think of a good reason) to use a single <code>ReferenceQueue</code> as a consumer from multiple threads.</p>\n"}],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1311,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":10602987,"answer_count":1,"score":13,"last_activity_date":1688424288,"creation_date":1337034213,"question_id":10591851,"body_markdown":"I was taking a look at the source code for `WeakHashMap` and stumbled across this:\r\n\r\n    private final ReferenceQueue&lt;Object&gt; queue = new ReferenceQueue&lt;&gt;();\r\n\r\n    private void expungeStaleEntries() {\r\n        for (Object x; (x = queue.poll()) != null; ) {\r\n            synchronized (queue) {\r\n               /* snip */\r\n            }\r\n        }\r\n    }\r\n\r\nWhy does this method synchronize on the `ReferenceQueue`? [`WeakHashMap`][1] itself does not make claims to be thread safe:\r\n\r\n&gt; Like most collection classes, this class is not synchronized. A\r\n&gt; synchronized WeakHashMap may be constructed using the\r\n&gt; Collections.synchronizedMap method.\r\n\r\nWhich led me to believe that this implementation detail is to, somehow, ensure the thread safety of the `ReferenceQueue` itself (since the GC will be modifying it from its own `Thread`). However, [the documentation for `ReferenceQueue`][2] does not mention anything about any concurrency concerns, and taking a look at the source code for `ReferenceQueue` reveals that it doesn&#39;t even synchronize on itself (it uses an internal lock). \r\n\r\nWhy is `WeakHashMap` synchronizing on its `ReferenceQueue`? Should I synchronize on a `ReferenceQueue` every time I use it?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/WeakHashMap.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html","title":"Should I synchronize on a ReferenceQueue?","body":"<p>I was taking a look at the source code for <code>WeakHashMap</code> and stumbled across this:</p>\n\n<pre><code>private final ReferenceQueue&lt;Object&gt; queue = new ReferenceQueue&lt;&gt;();\n\nprivate void expungeStaleEntries() {\n    for (Object x; (x = queue.poll()) != null; ) {\n        synchronized (queue) {\n           /* snip */\n        }\n    }\n}\n</code></pre>\n\n<p>Why does this method synchronize on the <code>ReferenceQueue</code>? <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/WeakHashMap.html\" rel=\"noreferrer\"><code>WeakHashMap</code></a> itself does not make claims to be thread safe:</p>\n\n<blockquote>\n  <p>Like most collection classes, this class is not synchronized. A\n  synchronized WeakHashMap may be constructed using the\n  Collections.synchronizedMap method.</p>\n</blockquote>\n\n<p>Which led me to believe that this implementation detail is to, somehow, ensure the thread safety of the <code>ReferenceQueue</code> itself (since the GC will be modifying it from its own <code>Thread</code>). However, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html\" rel=\"noreferrer\">the documentation for <code>ReferenceQueue</code></a> does not mention anything about any concurrency concerns, and taking a look at the source code for <code>ReferenceQueue</code> reveals that it doesn't even synchronize on itself (it uses an internal lock). </p>\n\n<p>Why is <code>WeakHashMap</code> synchronizing on its <code>ReferenceQueue</code>? Should I synchronize on a <code>ReferenceQueue</code> every time I use it?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688450585,"post_id":76608477,"comment_id":135071893,"body_markdown":"Let me guess using Spring Boot 3.x? Remove the `persistence-api` dependency you choose to add. Fix compilation issues `javax` -&gt; `jakarta`, ditch the `@EnableJpaRepositories` and `@EntityScan` and restart your application. The error you get with the `jakarta` packates is the one to fix using `javax` packages isn&#39;t the solution.","body":"Let me guess using Spring Boot 3.x? Remove the <code>persistence-api</code> dependency you choose to add. Fix compilation issues <code>javax</code> -&gt; <code>jakarta</code>, ditch the <code>@EnableJpaRepositories</code> and <code>@EntityScan</code> and restart your application. The error you get with the <code>jakarta</code> packates is the one to fix using <code>javax</code> packages isn&#39;t the solution."},{"owner":{"account_id":11309024,"reputation":11,"user_id":8292652,"display_name":"Arjun Patel"},"score":0,"creation_date":1688478330,"post_id":76608477,"comment_id":135077562,"body_markdown":"Thank you @M.Deinum. I gave this a shot and was seeing some other errors and worked through those and now service is running. I&#39;m not sure why I am using jpx instead of jakarta, I believe the instructions i&#39;m following told me to do so. Is there any reason I should use jakarta instead of jpa for spring boot 3.x.x?","body":"Thank you @M.Deinum. I gave this a shot and was seeing some other errors and worked through those and now service is running. I&#39;m not sure why I am using jpx instead of jakarta, I believe the instructions i&#39;m following told me to do so. Is there any reason I should use jakarta instead of jpa for spring boot 3.x.x?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688478484,"post_id":76608477,"comment_id":135077607,"body_markdown":"Jakarta is JPA. Spring Boot before 3.x was JavaEE since Spring Boot 3 it is JakartaEE. Problem is most tutorials out there are outdated.","body":"Jakarta is JPA. Spring Boot before 3.x was JavaEE since Spring Boot 3 it is JakartaEE. Problem is most tutorials out there are outdated."}],"owner":{"account_id":11309024,"reputation":11,"user_id":8292652,"display_name":"Arjun Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688424102,"creation_date":1688424102,"question_id":76608477,"body_markdown":"Here is the entire error copied below:\r\n```\r\nError creating bean with name &#39;imagePropertiesController&#39;: Unsatisfied dependency expressed through field &#39;ImageService&#39;: Error creating bean with name &#39;imageService&#39;: Unsatisfied dependency expressed through field &#39;ImageRepository&#39;: Error creating bean with name &#39;imageRepository&#39; defined in com.example.imagequery.imageRepository defined in @EnableJpaRepositories declared on ImageQueryApplication: Not a managed type: class com.example.imagequery.imageProperties\r\n```\r\nI am attempting to run this spring boot api and am running into this error. I have tried any combination of entity and component scan to directly identify the Entity class to the application. None of that has worked so i&#39;m looking for another way to explicitly define the entity class. Is there an issue with my jpx use of entity annotation? I tried using jakarta as well and just had a different error. Any guidance is appreciated. I will copy the stack trace in if requested, I am leaving it out for now due to the length of this question. \r\n\r\nEDIT:\r\nAnother issue I&#39;ve seen commonly brought with this issue is to do with the file structure, all of these files are in the same folder and path (com.example.imagequery)\r\n\r\n\r\nHere is what my entity class looks like:\r\n```\r\npackage com.example.imagequery;\r\n\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\n\r\nimport javax.persistence.*;\r\n//Entity Model Class\r\n@Entity\r\n@Table(name = &quot;imageProperties&quot;)\r\n@EntityScan(basePackages = &quot;com.example.imagequery.imageProperties&quot;)\r\npublic class imageProperties {\r\n    private int id;\r\n    private String imageName;\r\n\r\n    public imageProperties(){\r\n    }\r\n\r\n    public imageProperties(int id, String imageName){\r\n        this.id = id;\r\n        this.imageName = imageName;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nHere is my application class:\r\n```\r\npackage com.example.imagequery;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;com.*&quot;)\r\n@EntityScan(&quot;com.example.imagequery.imageProperties&quot;)\r\npublic class ImageQueryApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ImageQueryApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\nHere is my service class:\r\n```\r\npackage com.example.imagequery;\r\nimport com.example.imagequery.imageProperties;\r\nimport com.example.imagequery.imageRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\n@Service\r\n@Transactional\r\npublic class imageService {\r\n    @Autowired\r\n    private imageRepository ImageRepository;\r\n    public List&lt;imageProperties&gt; listAllImages(){\r\n        return ImageRepository.findAll();\r\n    }\r\n\r\n    public void saveImage(imageProperties ImageProperties){\r\n        ImageRepository.save(ImageProperties);\r\n    }\r\n\r\n    public imageProperties getImage(Integer id){\r\n        return ImageRepository.findById(id).get();\r\n    }\r\n/*\r\n    public void getImageByObject(String object){\r\n        return ImageRepository\r\n    }\r\n    */\r\n}\r\n```\r\nHere is my repository class:\r\n```package com.example.imagequery;\r\n//JPA Data repository\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport com.example.imagequery.imageProperties;\r\n\r\npublic interface imageRepository extends JpaRepository&lt;imageProperties, Integer&gt;{\r\n}\r\n```\r\n...and here is my controller class:\r\n```package com.example.imagequery;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.NoSuchElementException;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/imageProperties&quot;)\r\npublic class imagePropertiesController {\r\n    @Autowired\r\n    imageService ImageService;\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    public List&lt;imageProperties&gt; list() {\r\n        return ImageService.listAllImages();\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;imageProperties&gt; get(@PathVariable Integer id) {\r\n        try {\r\n            imageProperties ImageProperties = ImageService.getImage(id);\r\n            return new ResponseEntity&lt;imageProperties&gt;(ImageProperties, HttpStatus.OK);\r\n        } catch (NoSuchElementException e) {\r\n            return new ResponseEntity&lt;imageProperties&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public void add(@RequestBody imageProperties ImageProperties) {\r\n        ImageService.saveImage(ImageProperties);\r\n    }\r\n}\r\n```\r\n","title":"Error creating bean with name &#39;imagePropertiesController&#39;: Unsatisfied dependency...Not a managed type: class com.example.imagequery.imageProperties","body":"<p>Here is the entire error copied below:</p>\n<pre><code>Error creating bean with name 'imagePropertiesController': Unsatisfied dependency expressed through field 'ImageService': Error creating bean with name 'imageService': Unsatisfied dependency expressed through field 'ImageRepository': Error creating bean with name 'imageRepository' defined in com.example.imagequery.imageRepository defined in @EnableJpaRepositories declared on ImageQueryApplication: Not a managed type: class com.example.imagequery.imageProperties\n</code></pre>\n<p>I am attempting to run this spring boot api and am running into this error. I have tried any combination of entity and component scan to directly identify the Entity class to the application. None of that has worked so i'm looking for another way to explicitly define the entity class. Is there an issue with my jpx use of entity annotation? I tried using jakarta as well and just had a different error. Any guidance is appreciated. I will copy the stack trace in if requested, I am leaving it out for now due to the length of this question.</p>\n<p>EDIT:\nAnother issue I've seen commonly brought with this issue is to do with the file structure, all of these files are in the same folder and path (com.example.imagequery)</p>\n<p>Here is what my entity class looks like:</p>\n<pre><code>package com.example.imagequery;\n\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\n\nimport javax.persistence.*;\n//Entity Model Class\n@Entity\n@Table(name = &quot;imageProperties&quot;)\n@EntityScan(basePackages = &quot;com.example.imagequery.imageProperties&quot;)\npublic class imageProperties {\n    private int id;\n    private String imageName;\n\n    public imageProperties(){\n    }\n\n    public imageProperties(int id, String imageName){\n        this.id = id;\n        this.imageName = imageName;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public int getId() {\n        return id;\n    }\n\n\n}\n</code></pre>\n<p>Here is my application class:</p>\n<pre><code>package com.example.imagequery;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories(&quot;com.*&quot;)\n@EntityScan(&quot;com.example.imagequery.imageProperties&quot;)\npublic class ImageQueryApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ImageQueryApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Here is my service class:</p>\n<pre><code>package com.example.imagequery;\nimport com.example.imagequery.imageProperties;\nimport com.example.imagequery.imageRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\n@Service\n@Transactional\npublic class imageService {\n    @Autowired\n    private imageRepository ImageRepository;\n    public List&lt;imageProperties&gt; listAllImages(){\n        return ImageRepository.findAll();\n    }\n\n    public void saveImage(imageProperties ImageProperties){\n        ImageRepository.save(ImageProperties);\n    }\n\n    public imageProperties getImage(Integer id){\n        return ImageRepository.findById(id).get();\n    }\n/*\n    public void getImageByObject(String object){\n        return ImageRepository\n    }\n    */\n}\n</code></pre>\n<p>Here is my repository class:</p>\n<pre><code>//JPA Data repository\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport com.example.imagequery.imageProperties;\n\npublic interface imageRepository extends JpaRepository&lt;imageProperties, Integer&gt;{\n}\n</code></pre>\n<p>...and here is my controller class:</p>\n<pre><code>\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.NoSuchElementException;\n\n@RestController\n@RequestMapping(&quot;/imageProperties&quot;)\npublic class imagePropertiesController {\n    @Autowired\n    imageService ImageService;\n\n    @GetMapping(&quot;&quot;)\n    public List&lt;imageProperties&gt; list() {\n        return ImageService.listAllImages();\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;imageProperties&gt; get(@PathVariable Integer id) {\n        try {\n            imageProperties ImageProperties = ImageService.getImage(id);\n            return new ResponseEntity&lt;imageProperties&gt;(ImageProperties, HttpStatus.OK);\n        } catch (NoSuchElementException e) {\n            return new ResponseEntity&lt;imageProperties&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n\n    @PostMapping(&quot;/&quot;)\n    public void add(@RequestBody imageProperties ImageProperties) {\n        ImageService.saveImage(ImageProperties);\n    }\n}\n</code></pre>\n"},{"tags":["java","testing","rotation","binary-search-tree"],"answers":[{"tags":[],"owner":{"account_id":20256955,"reputation":1,"user_id":14890496,"display_name":"Moses O"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1688423309,"creation_date":1688423309,"answer_id":76608429,"question_id":74199020,"body_markdown":"It sounds like you are working on a programming assignment involving binary search trees and rotations. I’m not sure what language you are using, but I can try to give you some general tips on how to debug your left rotation algorithm.\r\n\r\nFirst, you should make sure that you are updating the pointers correctly when you perform a left rotation. A left rotation involves moving the right child of the current node to be the new parent, and making the current node the left child of the new parent. You also need to adjust the subtrees accordingly, so that the left subtree of the new parent becomes the right subtree of the current node, and vice versa.\r\nSecond, you should check if your algorithm handles edge cases correctly, such as when the current node or its right child is null, or when the current node is the root of the tree. In these cases, you may need to return a different node or update the reference to the root.\r\n\r\nThird, you should test your algorithm with different inputs and outputs, and compare them with the expected results. You can use print statements or a debugger to trace the execution of your algorithm and see where it goes wrong. You can also use online tools such as this one to visualize your binary search tree and its rotations...","title":"Binary Search Tree failing left rotation","body":"<p>It sounds like you are working on a programming assignment involving binary search trees and rotations. I’m not sure what language you are using, but I can try to give you some general tips on how to debug your left rotation algorithm.</p>\n<p>First, you should make sure that you are updating the pointers correctly when you perform a left rotation. A left rotation involves moving the right child of the current node to be the new parent, and making the current node the left child of the new parent. You also need to adjust the subtrees accordingly, so that the left subtree of the new parent becomes the right subtree of the current node, and vice versa.\nSecond, you should check if your algorithm handles edge cases correctly, such as when the current node or its right child is null, or when the current node is the root of the tree. In these cases, you may need to return a different node or update the reference to the root.</p>\n<p>Third, you should test your algorithm with different inputs and outputs, and compare them with the expected results. You can use print statements or a debugger to trace the execution of your algorithm and see where it goes wrong. You can also use online tools such as this one to visualize your binary search tree and its rotations...</p>\n"}],"owner":{"account_id":24370960,"reputation":1,"user_id":18413473,"display_name":"akj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688423309,"creation_date":1666724762,"question_id":74199020,"body_markdown":"All of my tests pass for my Binary Search tree rotation program except when gradescope runs a left test rotation. The data used is creating a search tree with level order: 2, 1, 4, 3, 6, 5, 7 to be rotated around 4 and 2 and the level order result expected: 4, 2, 6, 1, 3, 5, 7 but on my IDE I got 2, 1, 3 which I assume set some nodes into null. I think there is something wrong with my left rotation algorithm but I am not really sure what it is. Any ideas?\r\n\r\n\r\n`\r\n```\r\n// --== CS400 Rotation Implementation Activity File Header ==--\r\n// Name: Arber Jonuzi\r\n// CSL Username: arber\r\n// Email: akjonuzi@wisc.edu\r\n// Lecture #: 003 @2:25pm\r\n// Notes to Grader: N/A\r\n\r\n\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.NoSuchElementException;\r\nimport java.util.Random;\r\nimport java.util.Stack;\r\n\r\n/**\r\n * Red-Black Tree implementation with a Node inner class for representing\r\n * the nodes of the tree. Currently, this implements a Binary Search Tree that\r\n * we will turn into a red black tree by modifying the insert functionality.\r\n * In this activity, we will start with implementing rotations for the binary\r\n * search tree insert algorithm. You can use this class&#39; insert method to build\r\n * a regular binary search tree, and its toString method to display a level-order\r\n * traversal of the tree.\r\n */\r\npublic class RedBlackTree&lt;T extends Comparable&lt;T&gt;&gt; {\r\n\r\n    /**\r\n     * This class represents a node holding a single value within a binary tree\r\n     * the parent, left, and right child references are always maintained.\r\n     */\r\n    protected static class Node&lt;T&gt; {\r\n        public T data;\r\n        public Node&lt;T&gt; parent; // null for root node\r\n        public Node&lt;T&gt; leftChild;\r\n        public Node&lt;T&gt; rightChild;\r\n        public Node(T data) { this.data = data; }\r\n        /**\r\n         * @return true when this node has a parent and is the left child of\r\n         * that parent, otherwise return false\r\n         */\r\n        public boolean isLeftChild() {\r\n            return parent != null &amp;&amp; parent.leftChild == this;\r\n        }\r\n        \r\n        public boolean isRightChild() {\r\n            return parent != null &amp;&amp; parent.rightChild == this;\r\n        }\r\n\r\n    }\r\n\r\n    protected Node&lt;T&gt; root; // reference to root node of tree, null when empty\r\n    protected int size = 0; // the number of values in the tree\r\n\r\n    /**\r\n     * Performs a naive insertion into a binary search tree: adding the input\r\n     * data value to a new node in a leaf position within the tree. After  \r\n     * this insertion, no attempt is made to restructure or balance the tree.\r\n     * This tree will not hold null references, nor duplicate data values.\r\n     * @param data to be added into this binary search tree\r\n     * @return true if the value was inserted, false if not\r\n     * @throws NullPointerException when the provided data argument is null\r\n     * @throws IllegalArgumentException when the newNode and subtree contain\r\n     *      equal data references\r\n     */\r\n    public boolean insert(T data) throws NullPointerException, IllegalArgumentException {\r\n        // null references cannot be stored within this tree\r\n        if(data == null) throw new NullPointerException(\r\n                &quot;This RedBlackTree cannot store null references.&quot;);\r\n\r\n        Node&lt;T&gt; newNode = new Node&lt;&gt;(data);\r\n        if(root == null) { root = newNode; size++; return true; } // add first node to an empty tree\r\n        else{\r\n            boolean returnValue = insertHelper(newNode,root); // recursively insert into subtree\r\n            if (returnValue) size++;\r\n            else throw new IllegalArgumentException(\r\n                    &quot;This RedBlackTree already contains that value.&quot;);\r\n            return returnValue;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Recursive helper method to find the subtree with a null reference in the\r\n     * position that the newNode should be inserted, and then extend this tree\r\n     * by the newNode in that position.\r\n     * @param newNode is the new node that is being added to this tree\r\n     * @param subtree is the reference to a node within this tree which the \r\n     *      newNode should be inserted as a descenedent beneath\r\n     * @return true is the value was inserted in subtree, false if not\r\n     */\r\n    private boolean insertHelper(Node&lt;T&gt; newNode, Node&lt;T&gt; subtree) {\r\n        int compare = newNode.data.compareTo(subtree.data);\r\n        // do not allow duplicate values to be stored within this tree\r\n        if(compare == 0) return false;\r\n\r\n            // store newNode within left subtree of subtree\r\n        else if(compare &lt; 0) {\r\n            if(subtree.leftChild == null) { // left subtree empty, add here\r\n                subtree.leftChild = newNode;\r\n                newNode.parent = subtree;\r\n                return true;\r\n                // otherwise continue recursive search for location to insert\r\n            } else return insertHelper(newNode, subtree.leftChild);\r\n        }\r\n\r\n        // store newNode within the right subtree of subtree\r\n        else {\r\n            if(subtree.rightChild == null) { // right subtree empty, add here\r\n                subtree.rightChild = newNode;\r\n                newNode.parent = subtree;\r\n                return true;\r\n                // otherwise continue recursive search for location to insert\r\n            } else return insertHelper(newNode, subtree.rightChild);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Performs the rotation operation on the provided nodes within this tree.\r\n     * When the provided child is a leftChild of the provided parent, this\r\n     * method will perform a right rotation. When the provided child is a\r\n     * rightChild of the provided parent, this method will perform a left rotation.\r\n     * When the provided nodes are not related in one of these ways, this method\r\n     * will throw an IllegalArgumentException.\r\n     * @param child is the node being rotated from child to parent position\r\n     *      (between these two node arguments)\r\n     * @param parent is the node being rotated from parent to child position\r\n     *      (between these two node arguments)\r\n     * @throws IllegalArgumentException when the provided child and parent\r\n     *      node references are not initially (pre-rotation) related that way\r\n     */\r\n    private void rotate(Node&lt;T&gt; child, Node&lt;T&gt; parent) throws IllegalArgumentException {\r\n        \r\n    \t//right rotation\r\n    \tif(child == parent.leftChild) {\r\n    \t\t\r\n    \t\tNode&lt;T&gt; left = null;\r\n        \tif(child.rightChild != null) {\r\n        \tleft = child.rightChild;}\r\n        \t\r\n        \tif(parent.isRightChild()) {\r\n        \t\tparent.parent.rightChild=child;\r\n        \t}\r\n    \t\t\r\n    \t\tparent.leftChild = left;\r\n    \t\t\r\n    \t\tparent.parent = child;\r\n    \t\tchild.parent = parent.parent;\r\n    \t\tchild.rightChild = parent;\r\n    \t\t\r\n    \t\tif(parent == root) {\r\n    \t\t\tchild.parent = null;\r\n    \t\t\troot = child;\r\n    \t\t}\r\n    \t\t\r\n\r\n        }\r\n    \t\r\n        //left rotation\r\n        else if(child == parent.rightChild) {\r\n        \t\r\n        \tNode&lt;T&gt; left = null;\r\n        \tif(child.leftChild!=null) {\r\n        \tleft = child.leftChild;}\r\n        \t\r\n\r\n        \tif(parent.isLeftChild()) {\r\n        \t\tparent.parent.leftChild=child;\r\n        \t}\r\n    \t\t\r\n    \t\tparent.rightChild = left;\r\n    \t\t\r\n    \t\tparent.parent = child;\r\n    \t\tchild.parent = parent.parent;\r\n    \t\tchild.leftChild = parent;\r\n    \t\t\r\n        }\r\n    \t\r\n    \t//exception\r\n        else {\r\n        \tthrow new IllegalArgumentException(&quot;Wrong left and right child&quot;);\r\n        }\r\n    \t\r\n    }\r\n    \r\n    /**\r\n     * Get the size of the tree (its number of nodes).\r\n     * @return the number of nodes in the tree\r\n     */\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\n    /**\r\n     * Method to check if the tree is empty (does not contain any node).\r\n     * @return true of this.size() return 0, false if this.size() &gt; 0\r\n     */\r\n    public boolean isEmpty() {\r\n        return this.size() == 0;\r\n    }\r\n\r\n    /**\r\n     * Checks whether the tree contains the value *data*.\r\n     * @param data the data value to test for\r\n     * @return true if *data* is in the tree, false if it is not in the tree\r\n     */\r\n    public boolean contains(T data) {\r\n        // null references will not be stored within this tree\r\n        if(data == null) throw new NullPointerException(\r\n                &quot;This RedBlackTree cannot store null references.&quot;);\r\n        return this.containsHelper(data, root);\r\n    }\r\n\r\n    /**\r\n     * Recursive helper method that recurses through the tree and looks\r\n     * for the value *data*.\r\n     * @param data the data value to look for\r\n     * @param subtree the subtree to search through\r\n     * @return true of the value is in the subtree, false if not\r\n     */\r\n    private boolean containsHelper(T data, Node&lt;T&gt; subtree) {\r\n        if (subtree == null) {\r\n            // we are at a null child, value is not in tree\r\n            return false;\r\n        } else {\r\n            int compare = data.compareTo(subtree.data);\r\n            if (compare &lt; 0) {\r\n                // go left in the tree\r\n                return containsHelper(data, subtree.leftChild);\r\n            } else if (compare &gt; 0) {\r\n                // go right in the tree\r\n                return containsHelper(data, subtree.rightChild);\r\n            } else {\r\n                // we found it :)\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * This method performs an inorder traversal of the tree. The string \r\n     * representations of each data value within this tree are assembled into a\r\n     * comma separated string within brackets (similar to many implementations \r\n     * of java.util.Collection, like java.util.ArrayList, LinkedList, etc).\r\n     * Note that this RedBlackTree class implementation of toString generates an\r\n     * inorder traversal. The toString of the Node class class above\r\n     * produces a level order traversal of the nodes / values of the tree.\r\n     * @return string containing the ordered values of this tree (in-order traversal)\r\n     */\r\n    public String toInOrderString() {\r\n        // generate a string of all values of the tree in (ordered) in-order\r\n        // traversal sequence\r\n        StringBuffer sb = new StringBuffer();\r\n        sb.append(&quot;[ &quot;);\r\n        sb.append(toInOrderStringHelper(&quot;&quot;, this.root));\r\n        if (this.root != null) {\r\n            sb.setLength(sb.length() - 2);\r\n        }\r\n        sb.append(&quot; ]&quot;);\r\n        return sb.toString();\r\n    }\r\n\r\n    private String toInOrderStringHelper(String str, Node&lt;T&gt; node){\r\n        if (node == null) {\r\n            return str;\r\n        }\r\n        str = toInOrderStringHelper(str, node.leftChild);\r\n        str += (node.data.toString() + &quot;, &quot;);\r\n        str = toInOrderStringHelper(str, node.rightChild);\r\n        return str;\r\n    }\r\n\r\n    /**\r\n     * This method performs a level order traversal of the tree rooted\r\n     * at the current node. The string representations of each data value\r\n     * within this tree are assembled into a comma separated string within\r\n     * brackets (similar to many implementations of java.util.Collection).\r\n     * Note that the Node&#39;s implementation of toString generates a level\r\n     * order traversal. The toString of the RedBlackTree class below\r\n     * produces an inorder traversal of the nodes / values of the tree.\r\n     * This method will be helpful as a helper for the debugging and testing\r\n     * of your rotation implementation.\r\n     * @return string containing the values of this tree in level order\r\n     */\r\n    public String toLevelOrderString() {\r\n        String output = &quot;[ &quot;;\r\n        if (this.root != null) {\r\n            LinkedList&lt;Node&lt;T&gt;&gt; q = new LinkedList&lt;&gt;();\r\n            q.add(this.root);\r\n            while(!q.isEmpty()) {\r\n                Node&lt;T&gt; next = q.removeFirst();\r\n                if(next.leftChild != null) q.add(next.leftChild);\r\n                if(next.rightChild != null) q.add(next.rightChild);\r\n                output += next.data.toString();\r\n                if(!q.isEmpty()) output += &quot;, &quot;;\r\n            }\r\n        }\r\n        return output + &quot; ]&quot;;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;level order: &quot; + this.toLevelOrderString() +\r\n                &quot;\\nin order: &quot; + this.toInOrderString();\r\n    }\r\n\r\n    \r\n    // Implement at least 3 boolean test methods by using the method signatures below,\r\n    // removing the comments around them and addind your testing code to them. You can\r\n    // use your notes from lecture for ideas on concrete examples of rotation to test for.\r\n    // Make sure to include rotations within and at the root of a tree in your test cases.\r\n    // If you are adding additional tests, then name the method similar to the ones given below.\r\n    // Eg: public static boolean test4() {}\r\n    // Do not change the method name or return type of the existing tests.\r\n    // You can run your tests by commenting in the calls to the test methods \r\n\r\n    //pass\r\n    public static boolean test1() {\r\n        \r\n    \tRedBlackTree test = new RedBlackTree();\r\n        \r\n        try {\r\n        \ttest.insert(1);\r\n        \ttest.insert(10);\r\n        \ttest.insert(16);\r\n        \ttest.insert(43);\r\n        \ttest.insert(6);\r\n        \ttest.insert(11);\r\n        \ttest.insert(18);\r\n        \ttest.rotate(test.root.rightChild.rightChild.leftChild, test.root.rightChild.rightChild);\r\n        \tSystem.out.println(test.toString());\r\n            \r\n        }\r\n        catch(IllegalArgumentException e) {\r\n        \treturn false;\r\n        }\r\n    \r\n        return true;\r\n    }\r\n    \r\n\r\n    //pass\r\n    public static boolean test2() {\r\n    \tRedBlackTree test = new RedBlackTree();\r\n        \r\n        try {\r\n        \ttest.insert(4);\r\n        \ttest.insert(2);\r\n        \ttest.insert(6);\r\n        \ttest.insert(1);\r\n        \ttest.insert(3);\r\n        \ttest.insert(5);\r\n        \ttest.insert(7);\r\n        \ttest.rotate(test.root.rightChild.leftChild, test.root.rightChild );\r\n        \tSystem.out.println(test.toString());\r\n            \r\n        }\r\n        catch(IllegalArgumentException e) {\r\n        \treturn false;\r\n        }\r\n         \r\n        return true;\r\n    }\r\n    \r\n\r\n    //tests  null exception\r\n    public static boolean test3() {\r\n\t\r\n    \tRedBlackTree test = new RedBlackTree();\r\n        \r\n        try {\r\n        \ttest.insert(14);\r\n        \ttest.insert(32);\r\n        \ttest.insert(46);\r\n        \ttest.insert(15);\r\n        \ttest.insert(34);\r\n        \ttest.insert(55);\r\n        \ttest.insert(37);\r\n        \ttest.rotate(test.root.leftChild.rightChild, test.root.leftChild );\r\n        \tSystem.out.println(test.toString());\r\n            \r\n        }\r\n        catch(IllegalArgumentException e) {\r\n        \treturn false;\r\n        }\r\n    \r\n        return true;\r\n    }\r\n    \r\n    //pass\r\n    public static boolean test4() {\r\n    \tRedBlackTree test = new RedBlackTree();\r\n        \r\n        try {\r\n        \ttest.insert(2);\r\n        \ttest.insert(1);\r\n        \ttest.insert(4);\r\n        \ttest.insert(3);\r\n        \ttest.insert(6);\r\n        \ttest.insert(5);\r\n        \ttest.insert(7);\r\n        \ttest.rotate(test.root.rightChild, test.root);\r\n        \tSystem.out.println(test.toString());\r\n            \r\n        }\r\n        catch(IllegalArgumentException e) {\r\n        \treturn false;\r\n        }\r\n         \r\n        return true;\r\n    }\r\n    \r\n\r\n    /**\r\n     * Main method to run tests. Comment out the lines for each test\r\n     * to run them.\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n        // System.out.println(&quot;Test 1 passed: &quot; + test1());\r\n        // System.out.println(&quot;Test 2 passed: &quot; + test2());\r\n        // System.out.println(&quot;Test 3 passed: &quot; + test3());\r\n         System.out.println(&quot;Test 4 passed: &quot; + test4());\r\n    }\r\n\r\n}\r\n```\r\n`\r\n\r\n\r\n\r\nI have tried creating other test cases to confirm and the left rotation still seems to be the issue.","title":"Binary Search Tree failing left rotation","body":"<p>All of my tests pass for my Binary Search tree rotation program except when gradescope runs a left test rotation. The data used is creating a search tree with level order: 2, 1, 4, 3, 6, 5, 7 to be rotated around 4 and 2 and the level order result expected: 4, 2, 6, 1, 3, 5, 7 but on my IDE I got 2, 1, 3 which I assume set some nodes into null. I think there is something wrong with my left rotation algorithm but I am not really sure what it is. Any ideas?</p>\n<p>`</p>\n<pre><code>// --== CS400 Rotation Implementation Activity File Header ==--\n// Name: Arber Jonuzi\n// CSL Username: arber\n// Email: akjonuzi@wisc.edu\n// Lecture #: 003 @2:25pm\n// Notes to Grader: N/A\n\n\n\nimport java.util.LinkedList;\nimport java.util.NoSuchElementException;\nimport java.util.Random;\nimport java.util.Stack;\n\n/**\n * Red-Black Tree implementation with a Node inner class for representing\n * the nodes of the tree. Currently, this implements a Binary Search Tree that\n * we will turn into a red black tree by modifying the insert functionality.\n * In this activity, we will start with implementing rotations for the binary\n * search tree insert algorithm. You can use this class' insert method to build\n * a regular binary search tree, and its toString method to display a level-order\n * traversal of the tree.\n */\npublic class RedBlackTree&lt;T extends Comparable&lt;T&gt;&gt; {\n\n    /**\n     * This class represents a node holding a single value within a binary tree\n     * the parent, left, and right child references are always maintained.\n     */\n    protected static class Node&lt;T&gt; {\n        public T data;\n        public Node&lt;T&gt; parent; // null for root node\n        public Node&lt;T&gt; leftChild;\n        public Node&lt;T&gt; rightChild;\n        public Node(T data) { this.data = data; }\n        /**\n         * @return true when this node has a parent and is the left child of\n         * that parent, otherwise return false\n         */\n        public boolean isLeftChild() {\n            return parent != null &amp;&amp; parent.leftChild == this;\n        }\n        \n        public boolean isRightChild() {\n            return parent != null &amp;&amp; parent.rightChild == this;\n        }\n\n    }\n\n    protected Node&lt;T&gt; root; // reference to root node of tree, null when empty\n    protected int size = 0; // the number of values in the tree\n\n    /**\n     * Performs a naive insertion into a binary search tree: adding the input\n     * data value to a new node in a leaf position within the tree. After  \n     * this insertion, no attempt is made to restructure or balance the tree.\n     * This tree will not hold null references, nor duplicate data values.\n     * @param data to be added into this binary search tree\n     * @return true if the value was inserted, false if not\n     * @throws NullPointerException when the provided data argument is null\n     * @throws IllegalArgumentException when the newNode and subtree contain\n     *      equal data references\n     */\n    public boolean insert(T data) throws NullPointerException, IllegalArgumentException {\n        // null references cannot be stored within this tree\n        if(data == null) throw new NullPointerException(\n                &quot;This RedBlackTree cannot store null references.&quot;);\n\n        Node&lt;T&gt; newNode = new Node&lt;&gt;(data);\n        if(root == null) { root = newNode; size++; return true; } // add first node to an empty tree\n        else{\n            boolean returnValue = insertHelper(newNode,root); // recursively insert into subtree\n            if (returnValue) size++;\n            else throw new IllegalArgumentException(\n                    &quot;This RedBlackTree already contains that value.&quot;);\n            return returnValue;\n        }\n    }\n\n    /**\n     * Recursive helper method to find the subtree with a null reference in the\n     * position that the newNode should be inserted, and then extend this tree\n     * by the newNode in that position.\n     * @param newNode is the new node that is being added to this tree\n     * @param subtree is the reference to a node within this tree which the \n     *      newNode should be inserted as a descenedent beneath\n     * @return true is the value was inserted in subtree, false if not\n     */\n    private boolean insertHelper(Node&lt;T&gt; newNode, Node&lt;T&gt; subtree) {\n        int compare = newNode.data.compareTo(subtree.data);\n        // do not allow duplicate values to be stored within this tree\n        if(compare == 0) return false;\n\n            // store newNode within left subtree of subtree\n        else if(compare &lt; 0) {\n            if(subtree.leftChild == null) { // left subtree empty, add here\n                subtree.leftChild = newNode;\n                newNode.parent = subtree;\n                return true;\n                // otherwise continue recursive search for location to insert\n            } else return insertHelper(newNode, subtree.leftChild);\n        }\n\n        // store newNode within the right subtree of subtree\n        else {\n            if(subtree.rightChild == null) { // right subtree empty, add here\n                subtree.rightChild = newNode;\n                newNode.parent = subtree;\n                return true;\n                // otherwise continue recursive search for location to insert\n            } else return insertHelper(newNode, subtree.rightChild);\n        }\n    }\n\n    /**\n     * Performs the rotation operation on the provided nodes within this tree.\n     * When the provided child is a leftChild of the provided parent, this\n     * method will perform a right rotation. When the provided child is a\n     * rightChild of the provided parent, this method will perform a left rotation.\n     * When the provided nodes are not related in one of these ways, this method\n     * will throw an IllegalArgumentException.\n     * @param child is the node being rotated from child to parent position\n     *      (between these two node arguments)\n     * @param parent is the node being rotated from parent to child position\n     *      (between these two node arguments)\n     * @throws IllegalArgumentException when the provided child and parent\n     *      node references are not initially (pre-rotation) related that way\n     */\n    private void rotate(Node&lt;T&gt; child, Node&lt;T&gt; parent) throws IllegalArgumentException {\n        \n        //right rotation\n        if(child == parent.leftChild) {\n            \n            Node&lt;T&gt; left = null;\n            if(child.rightChild != null) {\n            left = child.rightChild;}\n            \n            if(parent.isRightChild()) {\n                parent.parent.rightChild=child;\n            }\n            \n            parent.leftChild = left;\n            \n            parent.parent = child;\n            child.parent = parent.parent;\n            child.rightChild = parent;\n            \n            if(parent == root) {\n                child.parent = null;\n                root = child;\n            }\n            \n\n        }\n        \n        //left rotation\n        else if(child == parent.rightChild) {\n            \n            Node&lt;T&gt; left = null;\n            if(child.leftChild!=null) {\n            left = child.leftChild;}\n            \n\n            if(parent.isLeftChild()) {\n                parent.parent.leftChild=child;\n            }\n            \n            parent.rightChild = left;\n            \n            parent.parent = child;\n            child.parent = parent.parent;\n            child.leftChild = parent;\n            \n        }\n        \n        //exception\n        else {\n            throw new IllegalArgumentException(&quot;Wrong left and right child&quot;);\n        }\n        \n    }\n    \n    /**\n     * Get the size of the tree (its number of nodes).\n     * @return the number of nodes in the tree\n     */\n    public int size() {\n        return size;\n    }\n\n    /**\n     * Method to check if the tree is empty (does not contain any node).\n     * @return true of this.size() return 0, false if this.size() &gt; 0\n     */\n    public boolean isEmpty() {\n        return this.size() == 0;\n    }\n\n    /**\n     * Checks whether the tree contains the value *data*.\n     * @param data the data value to test for\n     * @return true if *data* is in the tree, false if it is not in the tree\n     */\n    public boolean contains(T data) {\n        // null references will not be stored within this tree\n        if(data == null) throw new NullPointerException(\n                &quot;This RedBlackTree cannot store null references.&quot;);\n        return this.containsHelper(data, root);\n    }\n\n    /**\n     * Recursive helper method that recurses through the tree and looks\n     * for the value *data*.\n     * @param data the data value to look for\n     * @param subtree the subtree to search through\n     * @return true of the value is in the subtree, false if not\n     */\n    private boolean containsHelper(T data, Node&lt;T&gt; subtree) {\n        if (subtree == null) {\n            // we are at a null child, value is not in tree\n            return false;\n        } else {\n            int compare = data.compareTo(subtree.data);\n            if (compare &lt; 0) {\n                // go left in the tree\n                return containsHelper(data, subtree.leftChild);\n            } else if (compare &gt; 0) {\n                // go right in the tree\n                return containsHelper(data, subtree.rightChild);\n            } else {\n                // we found it :)\n                return true;\n            }\n        }\n    }\n\n\n    /**\n     * This method performs an inorder traversal of the tree. The string \n     * representations of each data value within this tree are assembled into a\n     * comma separated string within brackets (similar to many implementations \n     * of java.util.Collection, like java.util.ArrayList, LinkedList, etc).\n     * Note that this RedBlackTree class implementation of toString generates an\n     * inorder traversal. The toString of the Node class class above\n     * produces a level order traversal of the nodes / values of the tree.\n     * @return string containing the ordered values of this tree (in-order traversal)\n     */\n    public String toInOrderString() {\n        // generate a string of all values of the tree in (ordered) in-order\n        // traversal sequence\n        StringBuffer sb = new StringBuffer();\n        sb.append(&quot;[ &quot;);\n        sb.append(toInOrderStringHelper(&quot;&quot;, this.root));\n        if (this.root != null) {\n            sb.setLength(sb.length() - 2);\n        }\n        sb.append(&quot; ]&quot;);\n        return sb.toString();\n    }\n\n    private String toInOrderStringHelper(String str, Node&lt;T&gt; node){\n        if (node == null) {\n            return str;\n        }\n        str = toInOrderStringHelper(str, node.leftChild);\n        str += (node.data.toString() + &quot;, &quot;);\n        str = toInOrderStringHelper(str, node.rightChild);\n        return str;\n    }\n\n    /**\n     * This method performs a level order traversal of the tree rooted\n     * at the current node. The string representations of each data value\n     * within this tree are assembled into a comma separated string within\n     * brackets (similar to many implementations of java.util.Collection).\n     * Note that the Node's implementation of toString generates a level\n     * order traversal. The toString of the RedBlackTree class below\n     * produces an inorder traversal of the nodes / values of the tree.\n     * This method will be helpful as a helper for the debugging and testing\n     * of your rotation implementation.\n     * @return string containing the values of this tree in level order\n     */\n    public String toLevelOrderString() {\n        String output = &quot;[ &quot;;\n        if (this.root != null) {\n            LinkedList&lt;Node&lt;T&gt;&gt; q = new LinkedList&lt;&gt;();\n            q.add(this.root);\n            while(!q.isEmpty()) {\n                Node&lt;T&gt; next = q.removeFirst();\n                if(next.leftChild != null) q.add(next.leftChild);\n                if(next.rightChild != null) q.add(next.rightChild);\n                output += next.data.toString();\n                if(!q.isEmpty()) output += &quot;, &quot;;\n            }\n        }\n        return output + &quot; ]&quot;;\n    }\n\n    public String toString() {\n        return &quot;level order: &quot; + this.toLevelOrderString() +\n                &quot;\\nin order: &quot; + this.toInOrderString();\n    }\n\n    \n    // Implement at least 3 boolean test methods by using the method signatures below,\n    // removing the comments around them and addind your testing code to them. You can\n    // use your notes from lecture for ideas on concrete examples of rotation to test for.\n    // Make sure to include rotations within and at the root of a tree in your test cases.\n    // If you are adding additional tests, then name the method similar to the ones given below.\n    // Eg: public static boolean test4() {}\n    // Do not change the method name or return type of the existing tests.\n    // You can run your tests by commenting in the calls to the test methods \n\n    //pass\n    public static boolean test1() {\n        \n        RedBlackTree test = new RedBlackTree();\n        \n        try {\n            test.insert(1);\n            test.insert(10);\n            test.insert(16);\n            test.insert(43);\n            test.insert(6);\n            test.insert(11);\n            test.insert(18);\n            test.rotate(test.root.rightChild.rightChild.leftChild, test.root.rightChild.rightChild);\n            System.out.println(test.toString());\n            \n        }\n        catch(IllegalArgumentException e) {\n            return false;\n        }\n    \n        return true;\n    }\n    \n\n    //pass\n    public static boolean test2() {\n        RedBlackTree test = new RedBlackTree();\n        \n        try {\n            test.insert(4);\n            test.insert(2);\n            test.insert(6);\n            test.insert(1);\n            test.insert(3);\n            test.insert(5);\n            test.insert(7);\n            test.rotate(test.root.rightChild.leftChild, test.root.rightChild );\n            System.out.println(test.toString());\n            \n        }\n        catch(IllegalArgumentException e) {\n            return false;\n        }\n         \n        return true;\n    }\n    \n\n    //tests  null exception\n    public static boolean test3() {\n    \n        RedBlackTree test = new RedBlackTree();\n        \n        try {\n            test.insert(14);\n            test.insert(32);\n            test.insert(46);\n            test.insert(15);\n            test.insert(34);\n            test.insert(55);\n            test.insert(37);\n            test.rotate(test.root.leftChild.rightChild, test.root.leftChild );\n            System.out.println(test.toString());\n            \n        }\n        catch(IllegalArgumentException e) {\n            return false;\n        }\n    \n        return true;\n    }\n    \n    //pass\n    public static boolean test4() {\n        RedBlackTree test = new RedBlackTree();\n        \n        try {\n            test.insert(2);\n            test.insert(1);\n            test.insert(4);\n            test.insert(3);\n            test.insert(6);\n            test.insert(5);\n            test.insert(7);\n            test.rotate(test.root.rightChild, test.root);\n            System.out.println(test.toString());\n            \n        }\n        catch(IllegalArgumentException e) {\n            return false;\n        }\n         \n        return true;\n    }\n    \n\n    /**\n     * Main method to run tests. Comment out the lines for each test\n     * to run them.\n     * @param args\n     */\n    public static void main(String[] args) {\n        // System.out.println(&quot;Test 1 passed: &quot; + test1());\n        // System.out.println(&quot;Test 2 passed: &quot; + test2());\n        // System.out.println(&quot;Test 3 passed: &quot; + test3());\n         System.out.println(&quot;Test 4 passed: &quot; + test4());\n    }\n\n}\n</code></pre>\n<p>`</p>\n<p>I have tried creating other test cases to confirm and the left rotation still seems to be the issue.</p>\n"},{"tags":["java","spring","spring-boot","recursion","spring-data"],"answers":[{"comments":[{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1688473368,"post_id":76608411,"comment_id":135076407,"body_markdown":"1: Thank you very much, I didn&#39;t know about the article, which was very good but a little bit complicated. But I haven&#39;t really even started to think about the problems that would start to occur when for example changing attributes of an entity. I am now using ```return getClass().hashCode();``` because that seems to be the easiest way to avoid these errors. But I still don&#39;t fully understand the natural key, as the attributes I had to comment out were natural keys. But I can&#39;t use them because of recursion. Or is it as simple as: natural keys I can&#39;t use?","body":"1: Thank you very much, I didn&#39;t know about the article, which was very good but a little bit complicated. But I haven&#39;t really even started to think about the problems that would start to occur when for example changing attributes of an entity. I am now using <code>return getClass().hashCode();</code> because that seems to be the easiest way to avoid these errors. But I still don&#39;t fully understand the natural key, as the attributes I had to comment out were natural keys. But I can&#39;t use them because of recursion. Or is it as simple as: natural keys I can&#39;t use?"},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1688473527,"post_id":76608411,"comment_id":135076432,"body_markdown":"2: Because in my class &quot;Klasse.java&quot; if I comment everything out that generates the recursion I am left with &quot;Id&quot; and &quot;name&quot; as options to use in my hashCode() method. But &quot;Id&quot; as you said isn&#39;t very good and &quot;name&quot; can&#39;t be a natural key because it doesn&#39;t have to be unique. The set of students (Set&lt;Schueler&gt;) is a natural key but I can&#39;t use it because that causes a recursion error. So now I am using ```return getClass().hashCode();``` and it seems to work but I am not sure if this is a good solution to my specific problem?","body":"2: Because in my class &quot;Klasse.java&quot; if I comment everything out that generates the recursion I am left with &quot;Id&quot; and &quot;name&quot; as options to use in my hashCode() method. But &quot;Id&quot; as you said isn&#39;t very good and &quot;name&quot; can&#39;t be a natural key because it doesn&#39;t have to be unique. The set of students (Set&lt;Schueler&gt;) is a natural key but I can&#39;t use it because that causes a recursion error. So now I am using <code>return getClass().hashCode();</code> and it seems to work but I am not sure if this is a good solution to my specific problem?"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688473868,"post_id":76608411,"comment_id":135076515,"body_markdown":"tbh I don&#39;t really understand your code, but If you are sure that set of students is the natural key then you should add equals and hashCode in Student class to break the cycle, I would advise you to take some time with a pen and paper and try to apply equals and hashcode for all entities in a way that applies your business logic and avoids cycles, hope that helps","body":"tbh I don&#39;t really understand your code, but If you are sure that set of students is the natural key then you should add equals and hashCode in Student class to break the cycle, I would advise you to take some time with a pen and paper and try to apply equals and hashcode for all entities in a way that applies your business logic and avoids cycles, hope that helps"},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":1,"creation_date":1688672632,"post_id":76608411,"comment_id":135109071,"body_markdown":"Thank you very much for your answer, I was arguing before, because I didn&#39;t want to implement it and have a look at my whole db again. But now that I wrote it down I could implement the methods for every class and there is no recursion anymore. I also learned about NK and a flaw in my system which I now fixed (I had no NK for my users, for login)","body":"Thank you very much for your answer, I was arguing before, because I didn&#39;t want to implement it and have a look at my whole db again. But now that I wrote it down I could implement the methods for every class and there is no recursion anymore. I also learned about NK and a flaw in my system which I now fixed (I had no NK for my users, for login)"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1688675217,"post_id":76608411,"comment_id":135109577,"body_markdown":"again, happy to help anytime :)","body":"again, happy to help anytime :)"}],"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688423071,"creation_date":1688423071,"answer_id":76608411,"question_id":76608084,"body_markdown":"from hibernate [docs][1]\r\n&gt; It is recommended that you implement equals() and hashCode() using Business key equality. Business key equality means that the equals() method compares only the properties that form the business key. It is a key that would identify our instance in the real world (a natural candidate key): Immutable or unique properties are usually good candidates for a business key.\r\n\r\nso you would have to identify your business requirements and check if your entity has attributes that qualify to be natural key.\r\notherwise you would use the primary key which has some pitfalls if entity isn&#39;t persisted or if you detach and reattach entities you can read more [here][2]\r\n\r\nalso I recommend reading [this blogpost][3] by Vlad Mihalcea \r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/4.0/manual/en-US/html/persistent-classes.html#persistent-classes-equalshashcode:~:text=It%20is%20recommended%20that%20you%20implement%20equals()%20and%20hashCode()%20using%20Business%20key%20equality.%20Business%20key%20equality%20means%20that%20the%20equals()%20method%20compares%20only%20the%20properties%20that%20form%20the%20business%20key.%20It%20is%20a%20key%20that%20would%20identify%20our%20instance%20in%20the%20real%20world%20(a%20natural%20candidate%20key)%3A\r\n  [2]: https://docs.jboss.org/hibernate/core/4.0/manual/en-US/html/persistent-classes.html#persistent-classes-equalshashcode:~:text=The%20most%20obvious,identity%20and%20equality.\r\n  [3]: https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/","title":"Spring Boot recursion in code because of bidirectional relationships","body":"<p>from hibernate <a href=\"https://docs.jboss.org/hibernate/core/4.0/manual/en-US/html/persistent-classes.html#persistent-classes-equalshashcode:%7E:text=It%20is%20recommended%20that%20you%20implement%20equals()%20and%20hashCode()%20using%20Business%20key%20equality.%20Business%20key%20equality%20means%20that%20the%20equals()%20method%20compares%20only%20the%20properties%20that%20form%20the%20business%20key.%20It%20is%20a%20key%20that%20would%20identify%20our%20instance%20in%20the%20real%20world%20(a%20natural%20candidate%20key)%3A\" rel=\"nofollow noreferrer\">docs</a></p>\n<blockquote>\n<p>It is recommended that you implement equals() and hashCode() using Business key equality. Business key equality means that the equals() method compares only the properties that form the business key. It is a key that would identify our instance in the real world (a natural candidate key): Immutable or unique properties are usually good candidates for a business key.</p>\n</blockquote>\n<p>so you would have to identify your business requirements and check if your entity has attributes that qualify to be natural key.\notherwise you would use the primary key which has some pitfalls if entity isn't persisted or if you detach and reattach entities you can read more <a href=\"https://docs.jboss.org/hibernate/core/4.0/manual/en-US/html/persistent-classes.html#persistent-classes-equalshashcode:%7E:text=The%20most%20obvious,identity%20and%20equality.\" rel=\"nofollow noreferrer\">here</a></p>\n<p>also I recommend reading <a href=\"https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">this blogpost</a> by Vlad Mihalcea</p>\n"}],"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76608411,"answer_count":1,"score":0,"last_activity_date":1688423071,"creation_date":1688418170,"question_id":76608084,"body_markdown":"I have a pretty weird error I have been sitting on for a few days. After learning about the [importance of ```hashCode()``` and ```equals()```](https://stackoverflow.com/questions/76589233/is-it-a-good-idea-to-use-id-for-comparison-with-assertj) and remembering I tried to implement these methods, for which I first used Intellij&#39;s [generate feature](https://www.jetbrains.com/help/idea/generate-equals-and-hashcode-wizard.html) and then, at least for the ```hashCode()``` method, did some things myself. This all is for the following unit test:\r\n```java\r\n@Test\r\n@DisplayName(&quot;Should return correct Stundenplan Eintrag given Lehrer [deutschLehrer]&quot;)\r\nvoid findByLehrer() {\r\n    List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrer(deutschLehrer);\r\n    assertEquals(stundenplanEintrag.get(0).hashCode(), stundenplanEintragExpected.hashCode());\r\n}\r\n```\r\n**StundenplanEintrag.java:**\r\n```\r\n@Override\r\npublic int hashCode() {\r\n    int prime = 31;\r\n    int result = 1;\r\n    result = prime * result + Id;\r\n    result = prime * result + stunde;\r\n    result = prime * result + (klasse != null ? klasse.hashCode() : 0);\r\n    result = prime * result + (fach != null ? fach.hashCode() : 0);\r\n    result = prime * result + (lehrer != null ? lehrer.hashCode() : 0);\r\n    result = prime * result + (tag != null ? tag.hashCode() : 0);\r\n    return result;\r\n}\r\n```\r\n**Klasse.java:**\r\n```java\r\n@Override\r\npublic int hashCode() {\r\n    int prime = 31;\r\n    int result = 1;\r\n    result = prime * result + Id;\r\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\r\n    result = prime * result + (schueler != null &amp;&amp; !schueler.isEmpty() ? schueler.hashCode() : 0);\r\n    // result = prime * result + (stundenplanEintrag != null &amp;&amp; !stundenplanEintrag.isEmpty() ? stundenplanEintrag.hashCode() : 0);\r\n    result = prime * result + (vertretungsplanEintrag != null &amp;&amp; !vertretungsplanEintrag.isEmpty() ? vertretungsplanEintrag.hashCode() : 0);\r\n    return result;\r\n}\r\n```\r\nHere the recursion occurs (this also is valid for the other classes Fach, Lehrer and Tag) because every class has a bidirectional relationship to **StundenplanEintrag.java**. So the recursion happens like this: ```StundenplanEintrag.java:hashCode -&gt; Klasse.java:hashCode -&gt; StundenplanEintrag.java:hashCode ...```. The only thing I found about this problem was this stackoverflow post: https://stackoverflow.com/questions/57932048/always-get-infinite-recursion-when-saving-onetomany-relation-already-used-json\r\n(And the other once are for infinite recursion in JSON responses, which is managable by annotations). Since I am implementing the methods on my own I can&#39;t use a annoation to do that for me. And simply excluding **EVERYTHING** that makes a recursion possible I also tried, which works and the test passes:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nStill, my ```hashCode()``` methods now look like this and I can&#39;t use any value that is in any relationship: \r\n```java\r\n@Override\r\npublic int hashCode() {\r\n    int prime = 31;\r\n    int result = 1;\r\n    result = prime * result + Id;\r\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\r\n    // result = prime * result + (schueler != null &amp;&amp; !schueler.isEmpty() ? schueler.hashCode() : 0);\r\n    // result = prime * result + (stundenplanEintrag != null &amp;&amp; !stundenplanEintrag.isEmpty() ? stundenplanEintrag.hashCode() : 0);\r\n    // result = prime * result + (vertretungsplanEintrag != null &amp;&amp; !vertretungsplanEintrag.isEmpty() ? vertretungsplanEintrag.hashCode() : 0);\r\n    return result;\r\n}\r\n```\r\n\r\nBut I really want unique hashCodes for which I want to use every attribute and not exclude most of them. Also, this applies to the ```toString()``` method, and if I want to print info I want to print info, I can&#39;t just exclude everything besides to integers, or atleast that wouldn&#39;t be very useful info. I know the Id basically is unique, but I just want to know if there maybe is a cleaner solution for this instead of avoiding the problem through just deleting the code?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mFbCB.png","title":"Spring Boot recursion in code because of bidirectional relationships","body":"<p>I have a pretty weird error I have been sitting on for a few days. After learning about the <a href=\"https://stackoverflow.com/questions/76589233/is-it-a-good-idea-to-use-id-for-comparison-with-assertj\">importance of <code>hashCode()</code> and <code>equals()</code></a> and remembering I tried to implement these methods, for which I first used Intellij's <a href=\"https://www.jetbrains.com/help/idea/generate-equals-and-hashcode-wizard.html\" rel=\"nofollow noreferrer\">generate feature</a> and then, at least for the <code>hashCode()</code> method, did some things myself. This all is for the following unit test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@DisplayName(&quot;Should return correct Stundenplan Eintrag given Lehrer [deutschLehrer]&quot;)\nvoid findByLehrer() {\n    List&lt;StundenplanEintrag&gt; stundenplanEintrag = stundenplanEintragRepository.findByLehrer(deutschLehrer);\n    assertEquals(stundenplanEintrag.get(0).hashCode(), stundenplanEintragExpected.hashCode());\n}\n</code></pre>\n<p><strong>StundenplanEintrag.java:</strong></p>\n<pre><code>@Override\npublic int hashCode() {\n    int prime = 31;\n    int result = 1;\n    result = prime * result + Id;\n    result = prime * result + stunde;\n    result = prime * result + (klasse != null ? klasse.hashCode() : 0);\n    result = prime * result + (fach != null ? fach.hashCode() : 0);\n    result = prime * result + (lehrer != null ? lehrer.hashCode() : 0);\n    result = prime * result + (tag != null ? tag.hashCode() : 0);\n    return result;\n}\n</code></pre>\n<p><strong>Klasse.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n    int prime = 31;\n    int result = 1;\n    result = prime * result + Id;\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\n    result = prime * result + (schueler != null &amp;&amp; !schueler.isEmpty() ? schueler.hashCode() : 0);\n    // result = prime * result + (stundenplanEintrag != null &amp;&amp; !stundenplanEintrag.isEmpty() ? stundenplanEintrag.hashCode() : 0);\n    result = prime * result + (vertretungsplanEintrag != null &amp;&amp; !vertretungsplanEintrag.isEmpty() ? vertretungsplanEintrag.hashCode() : 0);\n    return result;\n}\n</code></pre>\n<p>Here the recursion occurs (this also is valid for the other classes Fach, Lehrer and Tag) because every class has a bidirectional relationship to <strong>StundenplanEintrag.java</strong>. So the recursion happens like this: <code>StundenplanEintrag.java:hashCode -&gt; Klasse.java:hashCode -&gt; StundenplanEintrag.java:hashCode ...</code>. The only thing I found about this problem was this stackoverflow post: <a href=\"https://stackoverflow.com/questions/57932048/always-get-infinite-recursion-when-saving-onetomany-relation-already-used-json\">Always get infinite recursion when saving OneToMany relation (already used @JsonBackReference and @JsonManagedReference)</a>\n(And the other once are for infinite recursion in JSON responses, which is managable by annotations). Since I am implementing the methods on my own I can't use a annoation to do that for me. And simply excluding <strong>EVERYTHING</strong> that makes a recursion possible I also tried, which works and the test passes:</p>\n<p><a href=\"https://i.stack.imgur.com/mFbCB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mFbCB.png\" alt=\"enter image description here\" /></a></p>\n<p>Still, my <code>hashCode()</code> methods now look like this and I can't use any value that is in any relationship:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n    int prime = 31;\n    int result = 1;\n    result = prime * result + Id;\n    result = prime * result + ((name == null) ? 0 : name.hashCode());\n    // result = prime * result + (schueler != null &amp;&amp; !schueler.isEmpty() ? schueler.hashCode() : 0);\n    // result = prime * result + (stundenplanEintrag != null &amp;&amp; !stundenplanEintrag.isEmpty() ? stundenplanEintrag.hashCode() : 0);\n    // result = prime * result + (vertretungsplanEintrag != null &amp;&amp; !vertretungsplanEintrag.isEmpty() ? vertretungsplanEintrag.hashCode() : 0);\n    return result;\n}\n</code></pre>\n<p>But I really want unique hashCodes for which I want to use every attribute and not exclude most of them. Also, this applies to the <code>toString()</code> method, and if I want to print info I want to print info, I can't just exclude everything besides to integers, or atleast that wouldn't be very useful info. I know the Id basically is unique, but I just want to know if there maybe is a cleaner solution for this instead of avoiding the problem through just deleting the code?</p>\n"},{"tags":["java","android","android-layout","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688422187,"creation_date":1688404523,"answer_id":76606927,"question_id":76606583,"body_markdown":"A common error with using _RecyclerView_ is to set a value in the item view when some condition is met but not setting the value when the condition is not met. Remember that view holders are reused (recycled) by the _RecyclerView_.\r\n\r\nYour problem code is the following:\r\n\r\n     if (position &gt; 0)\r\n            {\r\n                if (messages.get(position - 1).isSent() != sent)\r\n                {\r\n                    RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) holder.messagesReceivedLayout.getRoot().getRootView().getLayoutParams();\r\n                    layoutParams.topMargin = 80;\r\n                    holder.messagesReceivedLayout.getRoot().getRootView().setLayoutParams(layoutParams);\r\n                }\r\n            }\r\n\r\nYou will always need to address the margin each time since you can&#39;t assume that it has the original value as defined in the layout file.","title":"Set margin between sent and received messages in RecyclerView","body":"<p>A common error with using <em>RecyclerView</em> is to set a value in the item view when some condition is met but not setting the value when the condition is not met. Remember that view holders are reused (recycled) by the <em>RecyclerView</em>.</p>\n<p>Your problem code is the following:</p>\n<pre><code> if (position &gt; 0)\n        {\n            if (messages.get(position - 1).isSent() != sent)\n            {\n                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) holder.messagesReceivedLayout.getRoot().getRootView().getLayoutParams();\n                layoutParams.topMargin = 80;\n                holder.messagesReceivedLayout.getRoot().getRootView().setLayoutParams(layoutParams);\n            }\n        }\n</code></pre>\n<p>You will always need to address the margin each time since you can't assume that it has the original value as defined in the layout file.</p>\n"}],"owner":{"account_id":23934400,"reputation":27,"user_id":17928367,"display_name":"Zagro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76606927,"answer_count":1,"score":1,"last_activity_date":1688422187,"creation_date":1688401469,"question_id":76606583,"body_markdown":"I am currently working on a chat app and want to add an extra margin between sent and received messages which however is not between 2 sent or 2 received messages. My solution is currently sometimes adding margin incorrectly. It&#39;s always adding margin between a sent and received messages but it&#39;s also sometimes adding margin between 2 sent or 2 received messages and sometimes it adds margin when I scroll to a message, even though it wasn&#39;t there before (images at the bottom)\r\n\r\nMessageAdapter.Java:\r\n```\r\npublic class MessageAdapter extends RecyclerView.Adapter&lt;MessageAdapter.MyViewHolder&gt;{\r\n\r\n    private List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\n\r\n    public MessageAdapter(List&lt;Message&gt; messages) {\r\n        this.messages = messages;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MyViewHolder(MessagesBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        boolean sent = messages.get(position).isSent();\r\n        String currentMessageContent = messages.get(position).getMessage();\r\n        String currentMessageTime = messages.get(position).getTime();\r\n\r\n        if (sent)\r\n        {\r\n            holder.messagesReceivedLayout.getRoot().setVisibility(View.GONE);\r\n            holder.messagesSentLayout.getRoot().setVisibility(View.VISIBLE);\r\n\r\n            holder.messagesSentLayout.messageSentTextContent.setText(currentMessageContent);\r\n            holder.messagesSentLayout.messageSentTextTime.setText(currentMessageTime);\r\n        }\r\n        else\r\n        {\r\n            holder.messagesSentLayout.getRoot().setVisibility(View.GONE);\r\n            holder.messagesReceivedLayout.getRoot().setVisibility(View.VISIBLE);\r\n\r\n            holder.messagesReceivedLayout.messageReceivedTextContent.setText(currentMessageContent);\r\n            holder.messagesReceivedLayout.messageReceivedTextTime.setText(currentMessageTime);\r\n        }\r\n\r\n        if (position &gt; 0)\r\n        {\r\n            if (messages.get(position - 1).isSent() != sent)\r\n            {\r\n                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) holder.messagesReceivedLayout.getRoot().getRootView().getLayoutParams();\r\n                layoutParams.topMargin = 80;\r\n                holder.messagesReceivedLayout.getRoot().getRootView().setLayoutParams(layoutParams);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return messages.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        MessageSentBinding messagesSentLayout;\r\n        MessageReceivedBinding messagesReceivedLayout;\r\n        public MyViewHolder(@NonNull MessagesBinding itemView) {\r\n            super(itemView.getRoot());\r\n\r\n            messagesSentLayout = itemView.messagesSentLayout;\r\n            messagesReceivedLayout = itemView.messagesReceivedLayout;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nmessages.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/messages_sent_layout&quot;\r\n        layout=&quot;@layout/message_sent&quot;/&gt;\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/messages_received_layout&quot;\r\n        layout=&quot;@layout/message_received&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nmessage_received.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/message_received_bg_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;-8dp&quot;\r\n        android:background=&quot;@drawable/message_received_bg&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@id/message_received_text_time&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@id/message_received_text_content&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/message_received_text_content&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:fontFamily=&quot;@font/dm_sans&quot;\r\n        android:text=&quot;Sample Text&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.4&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_received_bg_view&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/message_received_bg_view&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/message_received_text_time&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:fontFamily=&quot;@font/dm_sans_medium&quot;\r\n        android:text=&quot;12:02&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;#A9A9A9&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintDimensionRatio=&quot;2:1&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/message_received_text_content&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/message_received_bg_view&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/message_received_text_content&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.12&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nmessage_sent.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/message_sent_bg_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;-8dp&quot;\r\n        android:background=&quot;@drawable/message_sent_bg&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@id/message_sent_text_time&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.95&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@id/message_sent_text_content&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/message_sent_text_content&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:fontFamily=&quot;@font/dm_sans&quot;\r\n        android:text=&quot;Sample Text&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.4&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_sent_bg_view&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/message_sent_bg_view&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/message_sent_text_time&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:text=&quot;12:02&quot;\r\n        android:textColor=&quot;#A9A9A9&quot;\r\n        android:fontFamily=&quot;@font/dm_sans_medium&quot;\r\n        app:layout_constraintDimensionRatio=&quot;2:1&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.12&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.15&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@id/message_sent_bg_view&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_sent_bg_view&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/message_sent_text_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/message_sent_tick&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:padding=&quot;1.5dp&quot;\r\n        android:src=&quot;@drawable/read_message_tick&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/message_sent_text_time&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/message_sent_text_time&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/message_sent_text_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/message_sent_text_time&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nChat.java:\r\n```\r\npublic class Chat extends Fragment {\r\n\r\n    private MaterialButton sendButton;\r\n    private EditText inputText;\r\n    private MaterialCardView bottomNavBg;\r\n    private FragmentChatBinding binding;\r\n\r\n    private List&lt;Message&gt; messageList;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        binding = FragmentChatBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        inputText = binding.inputBottomChat;\r\n        bottomNavBg = binding.barChatBottom;\r\n        sendButton = binding.sendBottomChat;\r\n\r\n        getArgs();\r\n\r\n        messageList = new ArrayList&lt;&gt;();\r\n        addMessages();\r\n        clearFocus();\r\n        sendMessage();\r\n    }\r\n\r\n    private void clearFocus()\r\n    {\r\n        View.OnClickListener clearFocusListener = new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                inputText.clearFocus();\r\n                InputMethodManager imm = (InputMethodManager) requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                imm.hideSoftInputFromWindow(inputText.getWindowToken(), 0);\r\n            }\r\n        };\r\n\r\n        binding.getRoot().setOnClickListener(clearFocusListener);\r\n        binding.recyclerView.setOnClickListener(clearFocusListener);\r\n    }\r\n\r\n    private void addMessages()\r\n    {\r\n        messageList.add(new Message(&quot;Hello, how are you?&quot;, &quot;12:02&quot;, true));\r\n        messageList.add(new Message(&quot;I&#39;m fine?&quot;, &quot;12:03&quot;, false));\r\n        messageList.add(new Message(&quot;What are you doing?&quot;, &quot;12:03&quot;, false));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf?&quot;, &quot;12:03&quot;, false));\r\n        messageList.add(new Message(&quot;Nothing&quot;, &quot;12:04&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\r\n        loadMessages();\r\n    }\r\n\r\n    private void loadMessages()\r\n    {\r\n        MessageAdapter messageAdapter = new MessageAdapter(messageList);\r\n        binding.recyclerView.setAdapter(messageAdapter);\r\n        LinearLayoutManager manager = new LinearLayoutManager(requireActivity());\r\n        manager.setStackFromEnd(true);\r\n        binding.recyclerView.setLayoutManager(manager);\r\n        binding.recyclerView.scrollToPosition(messageAdapter.getItemCount()-1);\r\n    }\r\n```\r\n\r\nImages:\r\n[![Image1](https://i.stack.imgur.com/uXso7.jpg)](https://i.stack.imgur.com/uXso7.jpg)\r\n[![Image2](https://i.stack.imgur.com/vldTH.jpg)](https://i.stack.imgur.com/vldTH.jpg)\r\n[![Image3](https://i.stack.imgur.com/VUUar.jpg)](https://i.stack.imgur.com/VUUar.jpg)","title":"Set margin between sent and received messages in RecyclerView","body":"<p>I am currently working on a chat app and want to add an extra margin between sent and received messages which however is not between 2 sent or 2 received messages. My solution is currently sometimes adding margin incorrectly. It's always adding margin between a sent and received messages but it's also sometimes adding margin between 2 sent or 2 received messages and sometimes it adds margin when I scroll to a message, even though it wasn't there before (images at the bottom)</p>\n<p>MessageAdapter.Java:</p>\n<pre><code>public class MessageAdapter extends RecyclerView.Adapter&lt;MessageAdapter.MyViewHolder&gt;{\n\n    private List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\n\n    public MessageAdapter(List&lt;Message&gt; messages) {\n        this.messages = messages;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new MyViewHolder(MessagesBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        boolean sent = messages.get(position).isSent();\n        String currentMessageContent = messages.get(position).getMessage();\n        String currentMessageTime = messages.get(position).getTime();\n\n        if (sent)\n        {\n            holder.messagesReceivedLayout.getRoot().setVisibility(View.GONE);\n            holder.messagesSentLayout.getRoot().setVisibility(View.VISIBLE);\n\n            holder.messagesSentLayout.messageSentTextContent.setText(currentMessageContent);\n            holder.messagesSentLayout.messageSentTextTime.setText(currentMessageTime);\n        }\n        else\n        {\n            holder.messagesSentLayout.getRoot().setVisibility(View.GONE);\n            holder.messagesReceivedLayout.getRoot().setVisibility(View.VISIBLE);\n\n            holder.messagesReceivedLayout.messageReceivedTextContent.setText(currentMessageContent);\n            holder.messagesReceivedLayout.messageReceivedTextTime.setText(currentMessageTime);\n        }\n\n        if (position &gt; 0)\n        {\n            if (messages.get(position - 1).isSent() != sent)\n            {\n                RecyclerView.LayoutParams layoutParams = (RecyclerView.LayoutParams) holder.messagesReceivedLayout.getRoot().getRootView().getLayoutParams();\n                layoutParams.topMargin = 80;\n                holder.messagesReceivedLayout.getRoot().getRootView().setLayoutParams(layoutParams);\n            }\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return messages.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder\n    {\n        MessageSentBinding messagesSentLayout;\n        MessageReceivedBinding messagesReceivedLayout;\n        public MyViewHolder(@NonNull MessagesBinding itemView) {\n            super(itemView.getRoot());\n\n            messagesSentLayout = itemView.messagesSentLayout;\n            messagesReceivedLayout = itemView.messagesReceivedLayout;\n        }\n    }\n}\n</code></pre>\n<p>messages.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/messages_sent_layout&quot;\n        layout=&quot;@layout/message_sent&quot;/&gt;\n\n    &lt;include\n        android:id=&quot;@+id/messages_received_layout&quot;\n        layout=&quot;@layout/message_received&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>message_received.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;View\n        android:id=&quot;@+id/message_received_bg_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginTop=&quot;-8dp&quot;\n        android:background=&quot;@drawable/message_received_bg&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/message_received_text_time&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@id/message_received_text_content&quot;\n        app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/message_received_text_content&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:fontFamily=&quot;@font/dm_sans&quot;\n        android:text=&quot;Sample Text&quot;\n        android:textColor=&quot;@color/white&quot;\n        app:layout_constraintVertical_bias=&quot;0.4&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_received_bg_view&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/message_received_bg_view&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/message_received_text_time&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:fontFamily=&quot;@font/dm_sans_medium&quot;\n        android:text=&quot;12:02&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;#A9A9A9&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintDimensionRatio=&quot;2:1&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/message_received_text_content&quot;\n        app:layout_constraintHorizontal_bias=&quot;1&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/message_received_bg_view&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/message_received_text_content&quot;\n        app:layout_constraintWidth_percent=&quot;0.12&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>message_sent.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;View\n        android:id=&quot;@+id/message_sent_bg_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginTop=&quot;-8dp&quot;\n        android:background=&quot;@drawable/message_sent_bg&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/message_sent_text_time&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.95&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@id/message_sent_text_content&quot;\n        app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/message_sent_text_content&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:fontFamily=&quot;@font/dm_sans&quot;\n        android:text=&quot;Sample Text&quot;\n        android:textColor=&quot;@color/white&quot;\n        app:layout_constraintVertical_bias=&quot;0.4&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_sent_bg_view&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/message_sent_bg_view&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/message_sent_text_time&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:text=&quot;12:02&quot;\n        android:textColor=&quot;#A9A9A9&quot;\n        android:fontFamily=&quot;@font/dm_sans_medium&quot;\n        app:layout_constraintDimensionRatio=&quot;2:1&quot;\n        app:layout_constraintWidth_percent=&quot;0.12&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.15&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;@id/message_sent_bg_view&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@id/message_sent_bg_view&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/message_sent_text_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/message_sent_tick&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:padding=&quot;1.5dp&quot;\n        android:src=&quot;@drawable/read_message_tick&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/message_sent_text_time&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/message_sent_text_time&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/message_sent_text_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/message_sent_text_time&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Chat.java:</p>\n<pre><code>public class Chat extends Fragment {\n\n    private MaterialButton sendButton;\n    private EditText inputText;\n    private MaterialCardView bottomNavBg;\n    private FragmentChatBinding binding;\n\n    private List&lt;Message&gt; messageList;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        binding = FragmentChatBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        inputText = binding.inputBottomChat;\n        bottomNavBg = binding.barChatBottom;\n        sendButton = binding.sendBottomChat;\n\n        getArgs();\n\n        messageList = new ArrayList&lt;&gt;();\n        addMessages();\n        clearFocus();\n        sendMessage();\n    }\n\n    private void clearFocus()\n    {\n        View.OnClickListener clearFocusListener = new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                inputText.clearFocus();\n                InputMethodManager imm = (InputMethodManager) requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n                imm.hideSoftInputFromWindow(inputText.getWindowToken(), 0);\n            }\n        };\n\n        binding.getRoot().setOnClickListener(clearFocusListener);\n        binding.recyclerView.setOnClickListener(clearFocusListener);\n    }\n\n    private void addMessages()\n    {\n        messageList.add(new Message(&quot;Hello, how are you?&quot;, &quot;12:02&quot;, true));\n        messageList.add(new Message(&quot;I'm fine?&quot;, &quot;12:03&quot;, false));\n        messageList.add(new Message(&quot;What are you doing?&quot;, &quot;12:03&quot;, false));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf?&quot;, &quot;12:03&quot;, false));\n        messageList.add(new Message(&quot;Nothing&quot;, &quot;12:04&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, false));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        messageList.add(new Message(&quot;dfslkfjsdlkfjs dsljkfns,dkfj sdflksjfddlsk dsfkjfflkdsjfsdfj sdflksjdfldskjf&quot;, &quot;12:05&quot;, true));\n        loadMessages();\n    }\n\n    private void loadMessages()\n    {\n        MessageAdapter messageAdapter = new MessageAdapter(messageList);\n        binding.recyclerView.setAdapter(messageAdapter);\n        LinearLayoutManager manager = new LinearLayoutManager(requireActivity());\n        manager.setStackFromEnd(true);\n        binding.recyclerView.setLayoutManager(manager);\n        binding.recyclerView.scrollToPosition(messageAdapter.getItemCount()-1);\n    }\n</code></pre>\n<p>Images:\n<a href=\"https://i.stack.imgur.com/uXso7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uXso7.jpg\" alt=\"Image1\" /></a>\n<a href=\"https://i.stack.imgur.com/vldTH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vldTH.jpg\" alt=\"Image2\" /></a>\n<a href=\"https://i.stack.imgur.com/VUUar.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VUUar.jpg\" alt=\"Image3\" /></a></p>\n"},{"tags":["java","amazon-s3","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1571943058,"creation_date":1571943058,"answer_id":58547529,"question_id":58527920,"body_markdown":"There isn&#39;t a way to do it with the SDK yet, but [it might be available in the future][1].  In the meantime, you can write your own code using Java&#39;s `URI` class, or use `AmazonS3URI` from the old SDK and hope it keeps working.\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/issues/272","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>There isn't a way to do it with the SDK yet, but <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/272\" rel=\"noreferrer\">it might be available in the future</a>.  In the meantime, you can write your own code using Java's <code>URI</code> class, or use <code>AmazonS3URI</code> from the old SDK and hope it keeps working.</p>\n"},{"comments":[{"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"score":0,"creation_date":1583169429,"post_id":60481383,"comment_id":107017511,"body_markdown":"That should work if the bucket name is in the host.  You&#39;ll have to add some more logic if you want to handle the case where the bucket name is in the path.","body":"That should work if the bucket name is in the host.  You&#39;ll have to add some more logic if you want to handle the case where the bucket name is in the path."},{"owner":{"account_id":7196478,"reputation":587,"user_id":5495142,"display_name":"Bao Pham"},"score":1,"creation_date":1583178083,"post_id":60481383,"comment_id":107021246,"body_markdown":"This is the use case for me: `s3://bucketName/path1/path2/path3/`","body":"This is the use case for me: <code>s3:&#47;&#47;bucketName&#47;path1&#47;path2&#47;path3&#47;</code>"},{"owner":{"account_id":1909200,"reputation":366,"user_id":1723471,"display_name":"kidnan1991"},"score":1,"creation_date":1611716162,"post_id":60481383,"comment_id":116538516,"body_markdown":"Using give lib from Amazon lib, https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3URI.html","body":"Using give lib from Amazon lib, <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3URI.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":19734,"reputation":2007,"user_id":46489,"display_name":"Aleksandr Panzin"},"score":1,"creation_date":1643911277,"post_id":60481383,"comment_id":125471300,"body_markdown":"@kidnan1991 AmazonS3URI does not exist in AWS SDK v2","body":"@kidnan1991 AmazonS3URI does not exist in AWS SDK v2"}],"tags":[],"owner":{"account_id":7196478,"reputation":587,"user_id":5495142,"display_name":"Bao Pham"},"comment_count":4,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1583112299,"creation_date":1583111853,"answer_id":60481383,"question_id":58527920,"body_markdown":"This is what I did using `URI` from `java.net`:\r\n\r\n```java\r\nURI uri = new URI(s3Url);\r\n\r\nString bucketName = uri.getHost();\r\n\r\n// remove the first &quot;/&quot;\r\nString prefix = uri.getPath().substring(1);\r\n```","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>This is what I did using <code>URI</code> from <code>java.net</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>URI uri = new URI(s3Url);\n\nString bucketName = uri.getHost();\n\n// remove the first \"/\"\nString prefix = uri.getPath().substring(1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"score":0,"creation_date":1592845055,"post_id":61962699,"comment_id":110564668,"body_markdown":"Unfortunately, S3ObjectId isn&#39;t available in version 2.x of the API.  And this solution assumes that the host name contains the bucket, which isn&#39;t always the case.","body":"Unfortunately, S3ObjectId isn&#39;t available in version 2.x of the API.  And this solution assumes that the host name contains the bucket, which isn&#39;t always the case."}],"tags":[],"owner":{"account_id":3737085,"reputation":8822,"user_id":3107798,"accept_rate":50,"display_name":"jjbskir"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1590176494,"creation_date":1590176494,"answer_id":61962699,"question_id":58527920,"body_markdown":"Expanding upon @Bao Pham&#39;s answer, using `new URI(s3Url)` requires adding a try/catch, while if you use URI.create(s3Url), you don&#39;t need it. I also found it useful to use a `S3ObjectId` out of the parsed parts for re-usability.\r\n\r\n    public class S3Url {\r\n        public static S3ObjectId decode(String urlStr) {\r\n            URI uri = URI.create(urlStr);\r\n            return new S3ObjectId(uri.getHost(), uri.getPath().substring(1));\r\n        }\r\n    }","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>Expanding upon @Bao Pham's answer, using <code>new URI(s3Url)</code> requires adding a try/catch, while if you use URI.create(s3Url), you don't need it. I also found it useful to use a <code>S3ObjectId</code> out of the parsed parts for re-usability.</p>\n\n<pre><code>public class S3Url {\n    public static S3ObjectId decode(String urlStr) {\n        URI uri = URI.create(urlStr);\n        return new S3ObjectId(uri.getHost(), uri.getPath().substring(1));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35712,"reputation":862,"user_id":101247,"display_name":"Jon Hoffman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663944401,"creation_date":1663944401,"answer_id":73829504,"question_id":58527920,"body_markdown":"If you want all the functionality of `AmazonS3URI`, but don&#39;t want to import the entire library, you can also copy the source code. It&#39;s apache licensed\r\n\r\nhttps://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3URI.java","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>If you want all the functionality of <code>AmazonS3URI</code>, but don't want to import the entire library, you can also copy the source code. It's apache licensed</p>\n<p><a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3URI.java\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3URI.java</a></p>\n"},{"tags":[],"owner":{"account_id":28212647,"reputation":11,"user_id":21564637,"display_name":"user21564637"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680987605,"creation_date":1680610876,"answer_id":75929348,"question_id":58527920,"body_markdown":"This [pull request][1] adds this functionality to the SDK version 2.\r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/pull/3874","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>This <a href=\"https://github.com/aws/aws-sdk-java-v2/pull/3874\" rel=\"nofollow noreferrer\">pull request</a> adds this functionality to the SDK version 2.</p>\n"},{"tags":[],"owner":{"account_id":875392,"reputation":1699,"user_id":925141,"display_name":"Ryan J. McDonough"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688421929,"creation_date":1688421929,"answer_id":76608345,"question_id":58527920,"body_markdown":"What you want is the `S3Uri` class. This allows you to extract the S3-specific elements of an S3 or HTTPS URI that identifies the S3 Bucket. It&#39;s pretty simple. In one of my projects, I needed to pass the S3 URI of a CDK [S3 Asset](https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_s3_assets.Asset.html) to the S3 [Transfer Manager](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/transfer-manager.html) in a CDK custom resource. The `S3Uri` class made it simple:\r\n\r\n    S3Client s3Client = S3Client.create();\r\n    S3Utilities s3Utilities = s3Client.utilities();\r\n    S3Uri s3Uri = s3Utilities.parseUri(URI.create(&quot;s3://bucket/key&quot;));\r\n    DownloadFileRequest downloadFileRequest =\r\n                DownloadFileRequest.builder()\r\n                        .getObjectRequest(b -&gt; \r\n                               b.bucket(s3Uri.bucket().orElseThrow())\r\n                                .key(s3Uri.key().orElseThrow()))\r\n                        .destination(downloadLocation)\r\n                        .build();\r\nYou can find [more details here](https://aws.amazon.com/blogs/devops/s3-uri-parsing-is-now-available-in-aws-sdk-for-java-2-x/).","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>What you want is the <code>S3Uri</code> class. This allows you to extract the S3-specific elements of an S3 or HTTPS URI that identifies the S3 Bucket. It's pretty simple. In one of my projects, I needed to pass the S3 URI of a CDK <a href=\"https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_s3_assets.Asset.html\" rel=\"nofollow noreferrer\">S3 Asset</a> to the S3 <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/transfer-manager.html\" rel=\"nofollow noreferrer\">Transfer Manager</a> in a CDK custom resource. The <code>S3Uri</code> class made it simple:</p>\n<pre><code>S3Client s3Client = S3Client.create();\nS3Utilities s3Utilities = s3Client.utilities();\nS3Uri s3Uri = s3Utilities.parseUri(URI.create(&quot;s3://bucket/key&quot;));\nDownloadFileRequest downloadFileRequest =\n            DownloadFileRequest.builder()\n                    .getObjectRequest(b -&gt; \n                           b.bucket(s3Uri.bucket().orElseThrow())\n                            .key(s3Uri.key().orElseThrow()))\n                    .destination(downloadLocation)\n                    .build();\n</code></pre>\n<p>You can find <a href=\"https://aws.amazon.com/blogs/devops/s3-uri-parsing-is-now-available-in-aws-sdk-for-java-2-x/\" rel=\"nofollow noreferrer\">more details here</a>.</p>\n"}],"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11784,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":58547529,"answer_count":6,"score":8,"last_activity_date":1688421929,"creation_date":1571850808,"question_id":58527920,"body_markdown":"I&#39;m using the 2.x AWS Java SDK (https://docs.aws.amazon.com/sdk-for-java/index.html).  I need to get an S3 object using the friendly HTTP URL (e.g. `https://bucket.s3.region.amazonaws.com/key` or `https://s3.region.amazonaws.com/bucket/key`).\r\n\r\nThe old SDK included an `AmazonS3URI` class that could parse a URL and extract the bucket and key.  Does the 2.x SDK include similar functionality, or should I use Java&#39;s URI class to parse the URL?","title":"How to get an S3 object using a URL and the 2.x Java SDK?","body":"<p>I'm using the 2.x AWS Java SDK (<a href=\"https://docs.aws.amazon.com/sdk-for-java/index.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/sdk-for-java/index.html</a>).  I need to get an S3 object using the friendly HTTP URL (e.g. <code>https://bucket.s3.region.amazonaws.com/key</code> or <code>https://s3.region.amazonaws.com/bucket/key</code>).</p>\n\n<p>The old SDK included an <code>AmazonS3URI</code> class that could parse a URL and extract the bucket and key.  Does the 2.x SDK include similar functionality, or should I use Java's URI class to parse the URL?</p>\n"},{"tags":["java","android","kotlin","android-layout","android-view"],"comments":[{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1372486541,"post_id":17377245,"comment_id":25223961,"body_markdown":"try `textview.append()`.","body":"try <code>textview.append()</code>."}],"answers":[{"comments":[{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1372488657,"post_id":17377433,"comment_id":25224398,"body_markdown":"How I can count label_len?","body":"How I can count label_len?"},{"owner":{"account_id":2719286,"reputation":5496,"user_id":2345913,"display_name":"CRUSADER"},"score":0,"creation_date":1372488949,"post_id":17377433,"comment_id":25224465,"body_markdown":"`label_len` is something which will keep your number of dots impact on your textview.. Suppose `label_len = 10`, and word is BEER then setText will be `BEER......` and if word is Cookies then `Cookies...`  So, you can increase label_len value to get more dots without hampering display..","body":"<code>label_len</code> is something which will keep your number of dots impact on your textview.. Suppose <code>label_len = 10</code>, and word is BEER then setText will be <code>BEER......</code> and if word is Cookies then <code>Cookies...</code>  So, you can increase label_len value to get more dots without hampering display.."},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1372490014,"post_id":17377433,"comment_id":25224676,"body_markdown":"I don&#39;t know exactly how many dots should I put. Suppose I have a RelativeLayout which has children: 2 TextViews (First - for text with dots, Second - for value), the second TextView is aligned to right, first TextView is aligned to the left of parent and to_left_of second TextView. I just need to fill empty space of first TextView with dots before the second TextView.","body":"I don&#39;t know exactly how many dots should I put. Suppose I have a RelativeLayout which has children: 2 TextViews (First - for text with dots, Second - for value), the second TextView is aligned to right, first TextView is aligned to the left of parent and to_left_of second TextView. I just need to fill empty space of first TextView with dots before the second TextView."},{"owner":{"account_id":2719286,"reputation":5496,"user_id":2345913,"display_name":"CRUSADER"},"score":0,"creation_date":1372490309,"post_id":17377433,"comment_id":25224746,"body_markdown":"Haven&#39;t you read my answer properly, I said you can do with 1 textView, in you case RelaytiveLayout will now have only 1 child(textView)...","body":"Haven&#39;t you read my answer properly, I said you can do with 1 textView, in you case RelaytiveLayout will now have only 1 child(textView)..."}],"tags":[],"owner":{"account_id":2719286,"reputation":5496,"user_id":2345913,"display_name":"CRUSADER"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372487982,"creation_date":1372487506,"answer_id":17377433,"question_id":17377245,"body_markdown":"If &#39;.&#39;(dots) is your basic requirement then you can try like this..\r\n\r\nMy suggestion, Use only I `TextView` to fit in Beer...10     (hitch)\r\n\r\ntry like this..\r\n\r\n   \r\n\r\n \r\n\r\n        int label_len = 10;//Edit as per your requirement\r\n         String MoneyValue = &quot;20&quot;;\r\n        TextView tv = (TextView)findViewById(your id);\r\n        tv.setText(&quot;Beer&quot;);\r\n            \r\n        if(tv.getText().length() &lt; label_len){\r\n            for(int i = tv.getText().length(); i &lt; label_len; i++){\r\n            \r\n               tv.setText(tv.getText()+&quot;.&quot;);\r\n            }\r\n        }\r\n    tv.setText(tv.getText() + MoneyValue);\r\n\r\n\r\nThis is a sample with hardcoded value, you can try to add dynamically...\r\n\r\nHope this helps...","title":"Add dots to a TextView like in a receipt","body":"<p>If '.'(dots) is your basic requirement then you can try like this..</p>\n\n<p>My suggestion, Use only I <code>TextView</code> to fit in Beer...10     (hitch)</p>\n\n<p>try like this..</p>\n\n<pre><code>    int label_len = 10;//Edit as per your requirement\n     String MoneyValue = \"20\";\n    TextView tv = (TextView)findViewById(your id);\n    tv.setText(\"Beer\");\n\n    if(tv.getText().length() &lt; label_len){\n        for(int i = tv.getText().length(); i &lt; label_len; i++){\n\n           tv.setText(tv.getText()+\".\");\n        }\n    }\ntv.setText(tv.getText() + MoneyValue);\n</code></pre>\n\n<p>This is a sample with hardcoded value, you can try to add dynamically...</p>\n\n<p>Hope this helps...</p>\n"},{"comments":[{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1372490637,"post_id":17377741,"comment_id":25224839,"body_markdown":"Yes, But text I need to put dynamically. And singleLine=true  is unsuitable for me - The text can be more then one line.","body":"Yes, But text I need to put dynamically. And singleLine=true  is unsuitable for me - The text can be more then one line."},{"owner":{"account_id":483425,"reputation":6788,"user_id":898459,"accept_rate":17,"display_name":"Brijesh Thakur"},"score":0,"creation_date":1372491904,"post_id":17377741,"comment_id":25225108,"body_markdown":"Edited the answer. You can add the text dynamically. The second textview will get adjusted to bottom. Just run it by adding text dynamically.","body":"Edited the answer. You can add the text dynamically. The second textview will get adjusted to bottom. Just run it by adding text dynamically."},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1372495687,"post_id":17377741,"comment_id":25225800,"body_markdown":"If set singleLine=true it works properly. But without enabled this param the text jumps to the next row, e.g.: Milk............................................................................................................................................................................20\nBut I need:\nMilk................20","body":"If set singleLine=true it works properly. But without enabled this param the text jumps to the next row, e.g.: Milk........................................................&zwnj;&#8203;....................&zwnj;&#8203;....................&zwnj;&#8203;....................&zwnj;&#8203;....................&zwnj;&#8203;....................&zwnj;&#8203;................20 But I need: Milk................20"},{"owner":{"account_id":483425,"reputation":6788,"user_id":898459,"accept_rate":17,"display_name":"Brijesh Thakur"},"score":0,"creation_date":1372497015,"post_id":17377741,"comment_id":25226093,"body_markdown":"Thats what you wanted rite ?? if not then remove android:gravity=&quot;bottom&quot; from the second textview","body":"Thats what you wanted rite ?? if not then remove android:gravity=&quot;bottom&quot; from the second textview"},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1372497314,"post_id":17377741,"comment_id":25226152,"body_markdown":"The removal of android:gravity=&quot;bottom&quot; didn&#39;t help","body":"The removal of android:gravity=&quot;bottom&quot; didn&#39;t help"},{"owner":{"account_id":483425,"reputation":6788,"user_id":898459,"accept_rate":17,"display_name":"Brijesh Thakur"},"score":0,"creation_date":1372497879,"post_id":17377741,"comment_id":25226274,"body_markdown":"Attached screenshot after removing android:gravity and android:layout_gravity","body":"Attached screenshot after removing android:gravity and android:layout_gravity"},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1372498124,"post_id":17377741,"comment_id":25226322,"body_markdown":"Yes, that&#39;s it. But what I need is to display it without the second row with dots.","body":"Yes, that&#39;s it. But what I need is to display it without the second row with dots."},{"owner":{"account_id":483425,"reputation":6788,"user_id":898459,"accept_rate":17,"display_name":"Brijesh Thakur"},"score":0,"creation_date":1372498160,"post_id":17377741,"comment_id":25226327,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/32611/discussion-between-brijesh-thakur-and-user1731626)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/32611/discussion-between-brijesh-thakur-and-user1731626\">continue this discussion in chat</a>"}],"tags":[],"owner":{"account_id":483425,"reputation":6788,"user_id":898459,"accept_rate":17,"display_name":"Brijesh Thakur"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665002662,"creation_date":1372490166,"answer_id":17377741,"question_id":17377245,"body_markdown":"![enter image description here][1]You can achieve this by using layout.xml only. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;    \r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:![enter image description here][2]layout_height=&quot;fill_parent&quot;&gt;\r\n        &lt;LinearLayout android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;    \r\n            android:weightSum=&quot;1&quot;&gt;    \r\n            &lt;TextView android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_weight=&quot;0.9&quot;          \r\n              android:text=&quot;Milk..................................................................................................................................&quot; /&gt;\r\n            &lt;TextView android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_weight=&quot;0.1&quot;             \r\n                android:text=&quot;20&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nThis solution will work for all the device with different resolutions.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FbTvL.png\r\n  [2]: http://i.stack.imgur.com/wqppN.png","title":"Add dots to a TextView like in a receipt","body":"<p><img src=\"https://i.stack.imgur.com/FbTvL.png\" alt=\"enter image description here\" />You can achieve this by using layout.xml only.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;    \n    android:layout_width=&quot;fill_parent&quot;\n    android:![enter image description here][2]layout_height=&quot;fill_parent&quot;&gt;\n    &lt;LinearLayout android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;    \n        android:weightSum=&quot;1&quot;&gt;    \n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;0.9&quot;          \n          android:text=&quot;Milk..................................................................................................................................&quot; /&gt;\n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;0.1&quot;             \n            android:text=&quot;20&quot; /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>This solution will work for all the device with different resolutions.</p>\n"},{"comments":[{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1372496233,"post_id":17378269,"comment_id":25225921,"body_markdown":"But what if TextView no. 1 has more than one line (e.g. Smartphone product in the question). The textView will be stretched to the width of the most wide row (in the example it is the first row - &quot;Smartphone 10GB 3GHz&quot;), and dots will be placed from this width, not from the last row(&quot;camera&quot;) as I need.","body":"But what if TextView no. 1 has more than one line (e.g. Smartphone product in the question). The textView will be stretched to the width of the most wide row (in the example it is the first row - &quot;Smartphone 10GB 3GHz&quot;), and dots will be placed from this width, not from the last row(&quot;camera&quot;) as I need."},{"owner":{"account_id":978841,"reputation":3304,"user_id":999111,"display_name":"Jacek Milewski"},"score":0,"creation_date":1372496710,"post_id":17378269,"comment_id":25226028,"body_markdown":"right... not so trivial... in my solutions the dots wouldn&#39;t start right after the &#39;camera&#39; word, but at the right edge of TV no. 1. If it is not acceptable for you, you can use the onMeasure() methods of view, measure the width of text, TextView, and thw screen, and put as many dots that will fit the remaining space between name and the number (knowing also the width of one dot). This however may consume a lot of memory resources, since there may be a lot of computations required. Did you try that?","body":"right... not so trivial... in my solutions the dots wouldn&#39;t start right after the &#39;camera&#39; word, but at the right edge of TV no. 1. If it is not acceptable for you, you can use the onMeasure() methods of view, measure the width of text, TextView, and thw screen, and put as many dots that will fit the remaining space between name and the number (knowing also the width of one dot). This however may consume a lot of memory resources, since there may be a lot of computations required. Did you try that?"}],"tags":[],"owner":{"account_id":978841,"reputation":3304,"user_id":999111,"display_name":"Jacek Milewski"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1372494480,"creation_date":1372494480,"answer_id":17378269,"question_id":17377245,"body_markdown":"You should create THREE TextViews for each row, layed out one next to another:\r\n\r\n 1. TextView With product name (e.g. &#39;beer&#39;)\r\n 2. TextView with dots\r\n 3. TextView with number (e.g. &#39;20&#39;)\r\n\r\nThen put one product in one row. The Row should be relative layout where:\r\n\r\n - TextView no. 1 is aligned to left edge, with width set to wrap content\r\n - TextView no. 3 is aligneg to right edge, with width set to wrap content\r\n - TextView no. 2 is toLeftOf TV no. 3 and toRightOf TV no.1 and it should be filled with big amount of dots in XML file. this will never be changed. \r\n\r\nThis will work, since the TV no.2 will have width that will shrink and will always be fitted between product name and the price. believe me :)","title":"Add dots to a TextView like in a receipt","body":"<p>You should create THREE TextViews for each row, layed out one next to another:</p>\n\n<ol>\n<li>TextView With product name (e.g. 'beer')</li>\n<li>TextView with dots</li>\n<li>TextView with number (e.g. '20')</li>\n</ol>\n\n<p>Then put one product in one row. The Row should be relative layout where:</p>\n\n<ul>\n<li>TextView no. 1 is aligned to left edge, with width set to wrap content</li>\n<li>TextView no. 3 is aligneg to right edge, with width set to wrap content</li>\n<li>TextView no. 2 is toLeftOf TV no. 3 and toRightOf TV no.1 and it should be filled with big amount of dots in XML file. this will never be changed. </li>\n</ul>\n\n<p>This will work, since the TV no.2 will have width that will shrink and will always be fitted between product name and the price. believe me :)</p>\n"},{"comments":[{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1372499835,"post_id":17378928,"comment_id":25226752,"body_markdown":"This is similar as Jacek Milewski answer. My comment is below.","body":"This is similar as Jacek Milewski answer. My comment is below."},{"owner":{"account_id":133259,"reputation":11947,"user_id":334493,"accept_rate":86,"display_name":"Benoit Duffez"},"score":0,"creation_date":1372501150,"post_id":17378928,"comment_id":25227099,"body_markdown":"Yes indeed. But the dots as a background is more elegant than a lot of dots in a text view. Using a relative layout will make each row independent so it will work. Trust me.","body":"Yes indeed. But the dots as a background is more elegant than a lot of dots in a text view. Using a relative layout will make each row independent so it will work. Trust me."},{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1372502090,"post_id":17378928,"comment_id":25227339,"body_markdown":"Unsuitable for me, bcz the View (the second element) will be placed from width of whole TextView, but I need to place the dots from width of the last row of TextVeiw (e.g. Smartphone in the question).","body":"Unsuitable for me, bcz the View (the second element) will be placed from width of whole TextView, but I need to place the dots from width of the last row of TextVeiw (e.g. Smartphone in the question)."}],"tags":[],"owner":{"account_id":133259,"reputation":11947,"user_id":334493,"accept_rate":86,"display_name":"Benoit Duffez"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372499585,"creation_date":1372499585,"answer_id":17378928,"question_id":17377245,"body_markdown":"Use a relative layout: \r\n\r\n    TextView View TextView\r\n\r\nThe first set the width to wrap content, and below the text view of the previous row.  \r\nThe second view, set to to right of first text view, and use a background drawable with dots that repeat horizontally. Set the width to match parent.  \r\nThe last view, set to right of middle view and width to wrap content and aligned to right of parent.","title":"Add dots to a TextView like in a receipt","body":"<p>Use a relative layout: </p>\n\n<pre><code>TextView View TextView\n</code></pre>\n\n<p>The first set the width to wrap content, and below the text view of the previous row.<br>\nThe second view, set to to right of first text view, and use a background drawable with dots that repeat horizontally. Set the width to match parent.<br>\nThe last view, set to right of middle view and width to wrap content and aligned to right of parent.</p>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1518458362,"creation_date":1372519569,"answer_id":17381755,"question_id":17377245,"body_markdown":"**I have the solution. Maybe it will help someone.**&lt;br/&gt;\r\n\r\n 1. File check_info_item.xml:\r\n\r\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;match_parent&quot;\r\n              android:orientation=&quot;horizontal&quot;&gt;\r\n        &lt;RelativeLayout android:layout_width=&quot;match_parent&quot;\r\n                  android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\r\n                  android:layout_width=&quot;wrap_content&quot;\r\n                  android:id=&quot;@+id/txt_fake_value&quot;\r\n                  android:textSize=&quot;18dp&quot;\r\n                  android:textColor=&quot;@android:color/transparent&quot;\r\n                  android:layout_alignParentRight=&quot;true&quot;/&gt;\r\n        &lt;example.com.CheckInfoTextView android:layout_height=&quot;wrap_content&quot;\r\n                  android:layout_width=&quot;match_parent&quot;\r\n                  android:id=&quot;@+id/txt_fake_info&quot;\r\n                  android:textSize=&quot;18dp&quot;\r\n                  android:textColor=&quot;@android:color/transparent&quot;\r\n                  android:layout_alignParentLeft=&quot;true&quot;\r\n                  android:layout_toLeftOf=&quot;@id/txt_fake_value&quot;/&gt;\r\n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\r\n                  android:layout_width=&quot;wrap_content&quot;\r\n                  android:id=&quot;@+id/txt_check_info_value&quot;\r\n                  android:text=&quot;&quot;\r\n                  android:textSize=&quot;18dp&quot;\r\n                  android:textColor=&quot;#000&quot;\r\n                  android:layout_alignParentRight=&quot;true&quot;\r\n                  android:layout_alignBottom=&quot;@id/txt_fake_info&quot;/&gt;\r\n        &lt;example.com.CheckInfoTextView\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:textColor=&quot;#000&quot;\r\n                android:id=&quot;@+id/txt_check_info&quot;\r\n                android:text=&quot;&quot;\r\n                android:layout_alignParentLeft=&quot;true&quot;\r\n                android:layout_toLeftOf=&quot;@id/txt_check_info_value&quot;/&gt;\r\n        &lt;/RelativeLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n 2. Code to fill the info fields (in the Activity):\r\n\r\n            View row = getLayoutInflater().inflate(R.layout.check_info_item, null);\r\n            //Fake fields needed to align base fields in the xml file\r\n            TextView txtFakeValue = (TextView) row.findViewById(R.id.txt_fake_value);\r\n            txtFakeValue.setText(String.valueOf(pair.second));\r\n\r\n            TextView txtFake = (TextView) row.findViewById(R.id.txt_fake_info);\r\n            txtFake.setText(pair.first);\r\n\r\n            TextView txtValue = (TextView) row.findViewById(R.id.txt_check_info_value);\r\n            txtValue.setText(String.valueOf(pair.second));\r\n\r\n            TextView txtTitle = (TextView) row.findViewById(R.id.txt_check_info);\r\n            txtTitle.setText(pair.first);\r\n\r\n 3. And the CheckInfoTextView:\r\n\r\n        public class CheckInfoTextView extends TextView {\r\n\r\n\r\n            public CheckInfoTextView(Context context) {\r\n                super(context);\r\n            }\r\n\r\n            public CheckInfoTextView(Context context, AttributeSet attrs) {\r\n                super(context, attrs);\r\n            }\r\n\r\n            public CheckInfoTextView(Context context, AttributeSet attrs, int defStyle) {\r\n                super(context, attrs, defStyle);\r\n            }\r\n\r\n            @Override\r\n            public void onWindowFocusChanged(boolean hasWindowFocus) {\r\n                super.onWindowFocusChanged(hasWindowFocus);\r\n                if(!hasWindowFocus) return;\r\n\r\n                int requiredDots = getRequiredDotsNumber();\r\n                if(requiredDots == 0) {\r\n                    String text = getText().toString();\r\n                    StringBuilder result = new StringBuilder();\r\n                    result.append(text.substring(0, text.lastIndexOf(&#39; &#39;)));\r\n                    result.append(&quot;\\n&quot;);\r\n                    result.append(text.substring(text.lastIndexOf(&#39; &#39;) + 1));\r\n                    setText(result.toString());\r\n\r\n                    requiredDots = getRequiredDotsNumber();\r\n                }\r\n                String dots = &quot;&quot;;\r\n                for (int i = 0; i &lt; requiredDots; ++i) {\r\n                    dots += &quot; .&quot;;\r\n                }\r\n                setText(getText() + dots);\r\n            }\r\n\r\n            private int getRequiredDotsNumber() {\r\n                final int width = getWidth();\r\n                final int lastLineWidth = (int) getLayout().getLineWidth(getLineCount() - 1);\r\n                final int availableWidthForDots = width - lastLineWidth;\r\n                final int widthOfOneDot = getWidthOfOneDot();\r\n                final int widthOfTwoDotsWithSpace = getWidthOfTwoDotsWithSpace();\r\n                final int widthOfSpace = widthOfTwoDotsWithSpace - (widthOfOneDot * 2);\r\n                final int widthOfDotWithSpace = widthOfSpace + widthOfOneDot;\r\n                int numberOfDots = availableWidthForDots / widthOfDotWithSpace;\r\n                return numberOfDots;\r\n            }\r\n\r\n            private int getWidthOfTwoDotsWithSpace() {\r\n               return getStringWidth(&quot;. .&quot;);\r\n            }\r\n\r\n            private int getWidthOfOneDot() {\r\n               return getStringWidth(&quot;.&quot;);\r\n            }\r\n\r\n            private int getStringWidth(String text) {\r\n                Rect dotBounds = new Rect();\r\n                getPaint().getTextBounds(text,0,text.length(),dotBounds);\r\n                return dotBounds.width();\r\n            }\r\n        }","title":"Add dots to a TextView like in a receipt","body":"<p><strong>I have the solution. Maybe it will help someone.</strong><br/></p>\n\n<ol>\n<li><p>File check_info_item.xml:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"match_parent\"\n      android:orientation=\"horizontal\"&gt;\n&lt;RelativeLayout android:layout_width=\"match_parent\"\n          android:layout_height=\"wrap_content\"&gt;\n\n&lt;TextView android:layout_height=\"wrap_content\"\n          android:layout_width=\"wrap_content\"\n          android:id=\"@+id/txt_fake_value\"\n          android:textSize=\"18dp\"\n          android:textColor=\"@android:color/transparent\"\n          android:layout_alignParentRight=\"true\"/&gt;\n&lt;example.com.CheckInfoTextView android:layout_height=\"wrap_content\"\n          android:layout_width=\"match_parent\"\n          android:id=\"@+id/txt_fake_info\"\n          android:textSize=\"18dp\"\n          android:textColor=\"@android:color/transparent\"\n          android:layout_alignParentLeft=\"true\"\n          android:layout_toLeftOf=\"@id/txt_fake_value\"/&gt;\n&lt;TextView android:layout_height=\"wrap_content\"\n          android:layout_width=\"wrap_content\"\n          android:id=\"@+id/txt_check_info_value\"\n          android:text=\"\"\n          android:textSize=\"18dp\"\n          android:textColor=\"#000\"\n          android:layout_alignParentRight=\"true\"\n          android:layout_alignBottom=\"@id/txt_fake_info\"/&gt;\n&lt;example.com.CheckInfoTextView\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\"\n        android:textSize=\"18dp\"\n        android:textColor=\"#000\"\n        android:id=\"@+id/txt_check_info\"\n        android:text=\"\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_toLeftOf=\"@id/txt_check_info_value\"/&gt;\n&lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre></li>\n<li><p>Code to fill the info fields (in the Activity):</p>\n\n<pre><code>    View row = getLayoutInflater().inflate(R.layout.check_info_item, null);\n    //Fake fields needed to align base fields in the xml file\n    TextView txtFakeValue = (TextView) row.findViewById(R.id.txt_fake_value);\n    txtFakeValue.setText(String.valueOf(pair.second));\n\n    TextView txtFake = (TextView) row.findViewById(R.id.txt_fake_info);\n    txtFake.setText(pair.first);\n\n    TextView txtValue = (TextView) row.findViewById(R.id.txt_check_info_value);\n    txtValue.setText(String.valueOf(pair.second));\n\n    TextView txtTitle = (TextView) row.findViewById(R.id.txt_check_info);\n    txtTitle.setText(pair.first);\n</code></pre></li>\n<li><p>And the CheckInfoTextView:</p>\n\n<pre><code>public class CheckInfoTextView extends TextView {\n\n\n    public CheckInfoTextView(Context context) {\n        super(context);\n    }\n\n    public CheckInfoTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public CheckInfoTextView(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n    }\n\n    @Override\n    public void onWindowFocusChanged(boolean hasWindowFocus) {\n        super.onWindowFocusChanged(hasWindowFocus);\n        if(!hasWindowFocus) return;\n\n        int requiredDots = getRequiredDotsNumber();\n        if(requiredDots == 0) {\n            String text = getText().toString();\n            StringBuilder result = new StringBuilder();\n            result.append(text.substring(0, text.lastIndexOf(' ')));\n            result.append(\"\\n\");\n            result.append(text.substring(text.lastIndexOf(' ') + 1));\n            setText(result.toString());\n\n            requiredDots = getRequiredDotsNumber();\n        }\n        String dots = \"\";\n        for (int i = 0; i &lt; requiredDots; ++i) {\n            dots += \" .\";\n        }\n        setText(getText() + dots);\n    }\n\n    private int getRequiredDotsNumber() {\n        final int width = getWidth();\n        final int lastLineWidth = (int) getLayout().getLineWidth(getLineCount() - 1);\n        final int availableWidthForDots = width - lastLineWidth;\n        final int widthOfOneDot = getWidthOfOneDot();\n        final int widthOfTwoDotsWithSpace = getWidthOfTwoDotsWithSpace();\n        final int widthOfSpace = widthOfTwoDotsWithSpace - (widthOfOneDot * 2);\n        final int widthOfDotWithSpace = widthOfSpace + widthOfOneDot;\n        int numberOfDots = availableWidthForDots / widthOfDotWithSpace;\n        return numberOfDots;\n    }\n\n    private int getWidthOfTwoDotsWithSpace() {\n       return getStringWidth(\". .\");\n    }\n\n    private int getWidthOfOneDot() {\n       return getStringWidth(\".\");\n    }\n\n    private int getStringWidth(String text) {\n        Rect dotBounds = new Rect();\n        getPaint().getTextBounds(text,0,text.length(),dotBounds);\n        return dotBounds.width();\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":214634,"reputation":199,"user_id":468721,"accept_rate":47,"display_name":"Guedez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416505566,"creation_date":1416505566,"answer_id":27046140,"question_id":17377245,"body_markdown":"I&#39;ve changed Serg_&#39;s CheckinfoTextView class so that it both works in the eclipse layout editor, but also adds spaces if possible, to put the page number as close to the right side as possible. I&#39;ve also changed a bit how it is used.\r\n\r\nTo accomplish:\r\n\r\n    Milk...................23\r\n    Chocolate cookies......24\r\n\r\nset the text to &#39;Milk 23&#39; and &#39;Chocolate cookies 24&#39; respectively\r\n\r\nThe number of spaces is rounded to nearest rather than rounded down, so it&#39;s better to put the number a little bit over to the right rather than too much to the left\r\n\r\n    public class DotAutofillTextView extends TextView {\r\n\r\n\tprivate int availableWidthForDots;\r\n\tprivate int widthOfSpace;\r\n\tprivate int widthOfDotWithSpace;\r\n\r\n\tpublic DotAutofillTextView(Context context) {\r\n\t\tsuper(context);\r\n\t}\r\n\r\n\tpublic DotAutofillTextView(Context context, AttributeSet attrs) {\r\n\t\tsuper(context, attrs);\r\n\t}\r\n\r\n\tpublic DotAutofillTextView(Context context, AttributeSet attrs, int defStyle) {\r\n\t\tsuper(context, attrs, defStyle);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void onLayout(boolean changed, int left, int top, int right, int bottom) {\r\n\t\tint width = getWidth() - getPaddingLeft() - getPaddingRight();\r\n\t\tint lastLineWidth = (int) getLayout().getLineWidth(getLineCount() - 1);\r\n\t\tavailableWidthForDots = width - lastLineWidth;\r\n\t\tint widthOfOneDot = getWidthOfOneDot();\r\n\t\tint widthOfTwoDotsWithSpace = getWidthOfTwoDotsWithSpace();\r\n\t\twidthOfSpace = widthOfTwoDotsWithSpace - (widthOfOneDot * 2);\r\n\t\twidthOfDotWithSpace = widthOfSpace + widthOfOneDot;\r\n\t\tint requiredDots = getRequiredDotsNumber();\r\n\t\tif (requiredDots != 0) {\r\n\t\t\tint spaces = getRequiredSpacesNumber(requiredDots);\r\n\t\t\tStringBuilder result = new StringBuilder();\r\n\t\t\tString text = getText().toString();\r\n\t\t\tresult.append(text.substring(0, text.lastIndexOf(&#39; &#39;)));\r\n\t\t\tsetText(result.toString());\r\n\t\t\tStringBuilder dots = new StringBuilder();\r\n\t\t\tfor (int i = 0; i &lt; requiredDots; ++i) {\r\n\t\t\t\tdots.append(&quot; .&quot;);\r\n\t\t\t}\r\n\t\t\tfor (int i = 0; i &lt; spaces; ++i) {\r\n\t\t\t\tdots.append(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tresult.append(dots.toString());\r\n\t\t\tresult.append(text.substring(text.lastIndexOf(&#39; &#39;) + 1));\r\n\t\t\tsetText(result.toString());\r\n\t\t}\r\n\t\tsuper.onLayout(changed, left, top, right, bottom);\r\n\t}\r\n\r\n\tprivate int getRequiredSpacesNumber(int requiredDots) {\r\n\t\tfloat remain = (1f * availableWidthForDots) % (1f * widthOfDotWithSpace);\r\n\t\treturn (int) ((remain / widthOfSpace) + 0.5f);\r\n\t}\r\n\r\n\tprivate int getRequiredDotsNumber() {\r\n\t\tif (getLayout() == null) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tint numberOfDots = availableWidthForDots / widthOfDotWithSpace;\r\n\t\treturn numberOfDots;\r\n\t}\r\n\r\n\tprivate int getWidthOfTwoDotsWithSpace() {\r\n\t\treturn getStringWidth(&quot;. .&quot;);\r\n\t}\r\n\r\n\tprivate int getWidthOfOneDot() {\r\n\t\treturn getStringWidth(&quot;.&quot;);\r\n\t}\r\n\r\n\tprivate int getStringWidth(String text) {\r\n\t\tRect dotBounds = new Rect();\r\n\t\tgetPaint().getTextBounds(text, 0, text.length(), dotBounds);\r\n\t\treturn dotBounds.width();\r\n\t}\r\n}","title":"Add dots to a TextView like in a receipt","body":"<p>I've changed Serg_'s CheckinfoTextView class so that it both works in the eclipse layout editor, but also adds spaces if possible, to put the page number as close to the right side as possible. I've also changed a bit how it is used.</p>\n\n<p>To accomplish:</p>\n\n<pre><code>Milk...................23\nChocolate cookies......24\n</code></pre>\n\n<p>set the text to 'Milk 23' and 'Chocolate cookies 24' respectively</p>\n\n<p>The number of spaces is rounded to nearest rather than rounded down, so it's better to put the number a little bit over to the right rather than too much to the left</p>\n\n<pre><code>public class DotAutofillTextView extends TextView {\n\nprivate int availableWidthForDots;\nprivate int widthOfSpace;\nprivate int widthOfDotWithSpace;\n\npublic DotAutofillTextView(Context context) {\n    super(context);\n}\n\npublic DotAutofillTextView(Context context, AttributeSet attrs) {\n    super(context, attrs);\n}\n\npublic DotAutofillTextView(Context context, AttributeSet attrs, int defStyle) {\n    super(context, attrs, defStyle);\n}\n\n@Override\nprotected void onLayout(boolean changed, int left, int top, int right, int bottom) {\n    int width = getWidth() - getPaddingLeft() - getPaddingRight();\n    int lastLineWidth = (int) getLayout().getLineWidth(getLineCount() - 1);\n    availableWidthForDots = width - lastLineWidth;\n    int widthOfOneDot = getWidthOfOneDot();\n    int widthOfTwoDotsWithSpace = getWidthOfTwoDotsWithSpace();\n    widthOfSpace = widthOfTwoDotsWithSpace - (widthOfOneDot * 2);\n    widthOfDotWithSpace = widthOfSpace + widthOfOneDot;\n    int requiredDots = getRequiredDotsNumber();\n    if (requiredDots != 0) {\n        int spaces = getRequiredSpacesNumber(requiredDots);\n        StringBuilder result = new StringBuilder();\n        String text = getText().toString();\n        result.append(text.substring(0, text.lastIndexOf(' ')));\n        setText(result.toString());\n        StringBuilder dots = new StringBuilder();\n        for (int i = 0; i &lt; requiredDots; ++i) {\n            dots.append(\" .\");\n        }\n        for (int i = 0; i &lt; spaces; ++i) {\n            dots.append(\" \");\n        }\n        result.append(dots.toString());\n        result.append(text.substring(text.lastIndexOf(' ') + 1));\n        setText(result.toString());\n    }\n    super.onLayout(changed, left, top, right, bottom);\n}\n\nprivate int getRequiredSpacesNumber(int requiredDots) {\n    float remain = (1f * availableWidthForDots) % (1f * widthOfDotWithSpace);\n    return (int) ((remain / widthOfSpace) + 0.5f);\n}\n\nprivate int getRequiredDotsNumber() {\n    if (getLayout() == null) {\n        return 1;\n    }\n    int numberOfDots = availableWidthForDots / widthOfDotWithSpace;\n    return numberOfDots;\n}\n\nprivate int getWidthOfTwoDotsWithSpace() {\n    return getStringWidth(\". .\");\n}\n\nprivate int getWidthOfOneDot() {\n    return getStringWidth(\".\");\n}\n\nprivate int getStringWidth(String text) {\n    Rect dotBounds = new Rect();\n    getPaint().getTextBounds(text, 0, text.length(), dotBounds);\n    return dotBounds.width();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":15316666,"reputation":26,"user_id":11050372,"display_name":"Asuveroz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580332246,"creation_date":1580332246,"answer_id":59975635,"question_id":17377245,"body_markdown":"I&#39;ve had the same problem and found this solution using ConstraintLayout:\r\n\r\n       &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    &gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/item&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Phone&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                    /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:text=&quot;....................................................................................................&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintLeft_toRightOf=&quot;@id/item&quot;\r\n                    app:layout_constraintRight_toLeftOf=&quot;@id/price&quot;/&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/price&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;end&quot;\r\n                    android:text=&quot;100&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                    /&gt;\r\n       &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Add dots to a TextView like in a receipt","body":"<p>I've had the same problem and found this solution using ConstraintLayout:</p>\n\n<pre><code>   &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                &gt;\n\n            &lt;TextView\n                android:id=\"@+id/item\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Phone\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintLeft_toLeftOf=\"parent\"\n                /&gt;\n\n            &lt;TextView\n                android:layout_width=\"0dp\"\n                android:layout_height=\"match_parent\"\n                android:text=\"....................................................................................................\"\n                android:maxLines=\"1\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintLeft_toRightOf=\"@id/item\"\n                app:layout_constraintRight_toLeftOf=\"@id/price\"/&gt;\n\n            &lt;TextView\n                android:id=\"@+id/price\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:gravity=\"end\"\n                android:text=\"100\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintRight_toRightOf=\"parent\"\n                /&gt;\n   &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13320,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17381755,"answer_count":7,"score":6,"last_activity_date":1688421885,"creation_date":1372486130,"question_id":17377245,"body_markdown":"I want to implement something like a product list in a receipt: &lt;br/&gt;\r\nBread ......................................... 20&lt;br/&gt;\r\nMilk ............................................ 10&lt;br/&gt;\r\nCookies with jam ...................... 15&lt;br/&gt;\r\nSmartphone 10GB 3GHz&lt;br/&gt; \r\n1GB RAM NFC 10MPx &lt;br/&gt;\r\ncamera .................................... 400\r\n\r\nItem name (Bread, Milk) I think it shoud be a `TextView`, which I need to fill with dots.&lt;br/&gt;\r\nMoney (20, 10) is another `TextView` which shoud be aligned to the right of a screen.\r\n\r\nAny ideas how to do this? Maybe I need to inherit the `TextView` class and override onDraw()?&lt;br/&gt;\r\nMany thanks in advance!","title":"Add dots to a TextView like in a receipt","body":"<p>I want to implement something like a product list in a receipt: <br/>\nBread ......................................... 20<br/>\nMilk ............................................ 10<br/>\nCookies with jam ...................... 15<br/>\nSmartphone 10GB 3GHz<br/>\n1GB RAM NFC 10MPx <br/>\ncamera .................................... 400</p>\n<p>Item name (Bread, Milk) I think it shoud be a <code>TextView</code>, which I need to fill with dots.<br/>\nMoney (20, 10) is another <code>TextView</code> which shoud be aligned to the right of a screen.</p>\n<p>Any ideas how to do this? Maybe I need to inherit the <code>TextView</code> class and override onDraw()?<br/>\nMany thanks in advance!</p>\n"},{"tags":["java","margin","libreoffice"],"comments":[{"owner":{"account_id":6602823,"reputation":13044,"user_id":5100564,"accept_rate":100,"display_name":"Jim K"},"score":0,"creation_date":1688420856,"post_id":76606559,"comment_id":135069432,"body_markdown":"Whoever downvoted, please explain how to improve the post.","body":"Whoever downvoted, please explain how to improve the post."}],"answers":[{"tags":[],"owner":{"account_id":6602823,"reputation":13044,"user_id":5100564,"accept_rate":100,"display_name":"Jim K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688421147,"creation_date":1688419963,"answer_id":76608217,"question_id":76606559,"body_markdown":"In my answer at https://stackoverflow.com/questions/47737160/python-libreoffice-set-margin-values-optimal-height-and-print-document-with-uno, there is Python code that sets the `LeftMargin` property as an example.\r\n\r\nHere is some C# code I haven&#39;t tried, but should hopefully give an idea of the specific UNO interfaces needed in Java: https://stackoverflow.com/questions/14356350/openoffice-3-text-document-set-page-size-and-margins/\r\n\r\nThe developer guide at https://wiki.documentfoundation.org/Documentation/DevGuide/Text_Documents#Page_Layout is informative:\r\n&gt; A page layout in LibreOffice is always a page style. A page can not be hard formatted. To change the current page layout, retrieve the current page style from the text cursor property PageStyleName and get this page style from the StyleFamily PageStyles.\r\n\r\nCheck out the API docs if you haven&#39;t yet: https://api.libreoffice.org/docs/idl/ref/servicecom_1_1sun_1_1star_1_1style_1_1PageProperties.html","title":"Set Margin on Pages - Java (LibreOffice)","body":"<p>In my answer at <a href=\"https://stackoverflow.com/questions/47737160/python-libreoffice-set-margin-values-optimal-height-and-print-document-with-uno\">Python libreoffice set margin values, optimal height and print document with uno</a>, there is Python code that sets the <code>LeftMargin</code> property as an example.</p>\n<p>Here is some C# code I haven't tried, but should hopefully give an idea of the specific UNO interfaces needed in Java: <a href=\"https://stackoverflow.com/questions/14356350/openoffice-3-text-document-set-page-size-and-margins/\">OpenOffice 3 text document - set page size and margins</a></p>\n<p>The developer guide at <a href=\"https://wiki.documentfoundation.org/Documentation/DevGuide/Text_Documents#Page_Layout\" rel=\"nofollow noreferrer\">https://wiki.documentfoundation.org/Documentation/DevGuide/Text_Documents#Page_Layout</a> is informative:</p>\n<blockquote>\n<p>A page layout in LibreOffice is always a page style. A page can not be hard formatted. To change the current page layout, retrieve the current page style from the text cursor property PageStyleName and get this page style from the StyleFamily PageStyles.</p>\n</blockquote>\n<p>Check out the API docs if you haven't yet: <a href=\"https://api.libreoffice.org/docs/idl/ref/servicecom_1_1sun_1_1star_1_1style_1_1PageProperties.html\" rel=\"nofollow noreferrer\">https://api.libreoffice.org/docs/idl/ref/servicecom_1_1sun_1_1star_1_1style_1_1PageProperties.html</a></p>\n"}],"owner":{"account_id":9760841,"reputation":11,"user_id":7235984,"display_name":"Oleg Burakov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1688421147,"creation_date":1688401225,"question_id":76606559,"body_markdown":"I have set PaperOrientation and PaperFormat but I can&#39;t find where to set right,left,page margin. xPageProps always equals null.\r\n\r\n```\r\nstatic void setPaper(Object oDoc_To_Store, com.sun.star.view.PaperOrientation paperOrientation,com.sun.star.view.PaperFormat paperFormat) {\r\n    com.sun.star.view.XPrintable xPrintable = \r\n            UnoRuntime.queryInterface(\r\n            com.sun.star.view.XPrintable.class, oDoc_To_Store);\r\n    com.sun.star.beans.PropertyValue[] pv = new com.sun.star.beans.PropertyValue[2];\r\n    pv[0] = new PropertyValue();\r\n    pv[0].Name=&quot;PaperOrientation&quot;;\r\n    pv[0].Value=paperOrientation;//com.sun.star.view.PaperOrientation.LANDSCAPE;\r\n   // pv[0].State=pv[0].State.DEFAULT_VALUE;\r\n    pv[1] = new PropertyValue();\r\n    pv[1].Name=&quot;PaperFormat&quot;;\r\n    pv[1].Value=paperFormat;//com.sun.star.view.PaperFormat.A4;\r\n  //  pv[1].State=pv[0].State.DEFAULT_VALUE;\r\n\r\n    xPrintable.setPrinter(pv)\r\n\r\n    com.sun.star.beans.XPropertySet xPageProps = (com.sun.star.beans.XPropertySet)\r\n        UnoRuntime.queryInterface(\r\n            com.sun.star.beans.XPropertySet.class, xDrawPage);\r\n    if ((xPageProps!=null)) {// Always = null,\r\n    \tSystem.out.println(&quot;++++++++ xPageProps!=null&quot;);\r\n    \tProperty[] pp = xPageProps.getPropertySetInfo().getProperties();// \r\n    \tint ii =pp.length;\r\n    \tfor (int i = 0; i &lt; pp.length; i++) {\r\n    \t\t  System.out.println(pp[i].Name+&quot; &quot;+pp[i].Attributes+&quot; &quot;+pp[i].Type);\r\n        }\r\n    }\r\n```","title":"Set Margin on Pages - Java (LibreOffice)","body":"<p>I have set PaperOrientation and PaperFormat but I can't find where to set right,left,page margin. xPageProps always equals null.</p>\n<pre><code>static void setPaper(Object oDoc_To_Store, com.sun.star.view.PaperOrientation paperOrientation,com.sun.star.view.PaperFormat paperFormat) {\n    com.sun.star.view.XPrintable xPrintable = \n            UnoRuntime.queryInterface(\n            com.sun.star.view.XPrintable.class, oDoc_To_Store);\n    com.sun.star.beans.PropertyValue[] pv = new com.sun.star.beans.PropertyValue[2];\n    pv[0] = new PropertyValue();\n    pv[0].Name=&quot;PaperOrientation&quot;;\n    pv[0].Value=paperOrientation;//com.sun.star.view.PaperOrientation.LANDSCAPE;\n   // pv[0].State=pv[0].State.DEFAULT_VALUE;\n    pv[1] = new PropertyValue();\n    pv[1].Name=&quot;PaperFormat&quot;;\n    pv[1].Value=paperFormat;//com.sun.star.view.PaperFormat.A4;\n  //  pv[1].State=pv[0].State.DEFAULT_VALUE;\n\n    xPrintable.setPrinter(pv)\n\n    com.sun.star.beans.XPropertySet xPageProps = (com.sun.star.beans.XPropertySet)\n        UnoRuntime.queryInterface(\n            com.sun.star.beans.XPropertySet.class, xDrawPage);\n    if ((xPageProps!=null)) {// Always = null,\n        System.out.println(&quot;++++++++ xPageProps!=null&quot;);\n        Property[] pp = xPageProps.getPropertySetInfo().getProperties();// \n        int ii =pp.length;\n        for (int i = 0; i &lt; pp.length; i++) {\n              System.out.println(pp[i].Name+&quot; &quot;+pp[i].Attributes+&quot; &quot;+pp[i].Type);\n        }\n    }\n</code></pre>\n"},{"tags":["java","recursion","fibonacci"],"comments":[{"owner":{"account_id":739104,"reputation":4630,"user_id":703236,"display_name":"Adam"},"score":11,"creation_date":1335671068,"post_id":8965006,"comment_id":13364404,"body_markdown":"Note that this is recursive and runs in exponential time. It&#39;s inefficient for large values of N. Using an iterative approach I was able to compute the first 10,000 numbers in the sequence. They can be found here - http://goo.gl/hnbF5","body":"Note that this is recursive and runs in exponential time. It&#39;s inefficient for large values of N. Using an iterative approach I was able to compute the first 10,000 numbers in the sequence. They can be found here - <a href=\"http://goo.gl/hnbF5\" rel=\"nofollow noreferrer\">goo.gl/hnbF5</a>"},{"owner":{"account_id":418169,"reputation":3113,"user_id":1906361,"accept_rate":47,"display_name":"Shumail"},"score":0,"creation_date":1382358196,"post_id":8965006,"comment_id":28914906,"body_markdown":"@AdamFisher: Can you please share the code you used for computing 10,000 numbers in sequence ? I am actually curios to know it.","body":"@AdamFisher: Can you please share the code you used for computing 10,000 numbers in sequence ? I am actually curios to know it."},{"owner":{"account_id":3181754,"reputation":2736,"user_id":2688283,"display_name":"Ifeoma"},"score":4,"creation_date":1428444547,"post_id":8965006,"comment_id":47162586,"body_markdown":"@AdamFisher The link you referred to is dead.","body":"@AdamFisher The link you referred to is dead."},{"owner":{"account_id":317802,"reputation":924,"user_id":634678,"accept_rate":50,"display_name":"Chathura Palihakkara"},"score":2,"creation_date":1442114682,"post_id":8965006,"comment_id":52948710,"body_markdown":"This video will explain to understand recursive function in 10 minuts https://www.youtube.com/watch?v=t4MSwiqfLaY","body":"This video will explain to understand recursive function in 10 minuts <a href=\"https://www.youtube.com/watch?v=t4MSwiqfLaY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=t4MSwiqfLaY</a>"},{"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"score":0,"creation_date":1468495637,"post_id":8965006,"comment_id":64156347,"body_markdown":"Please have a look at mine solution.That is  optimized for recursive call I am bit surprised that nowhere this approach is mentioned on net","body":"Please have a look at mine solution.That is  optimized for recursive call I am bit surprised that nowhere this approach is mentioned on net"},{"owner":{"account_id":2019593,"reputation":7840,"user_id":1806099,"accept_rate":75,"display_name":"Skynet"},"score":0,"creation_date":1514538948,"post_id":8965006,"comment_id":83009344,"body_markdown":"For future readers, here is the holy grail of tracing double recursion: https://www.youtube.com/watch?v=PT0mS3thy6Q&amp;t=36s","body":"For future readers, here is the holy grail of tracing double recursion: <a href=\"https://www.youtube.com/watch?v=PT0mS3thy6Q&amp;t=36s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=PT0mS3thy6Q&amp;t=36s</a>"},{"owner":{"account_id":7149330,"reputation":232,"user_id":5495300,"display_name":"JavaGoPro"},"score":2,"creation_date":1519751659,"post_id":8965006,"comment_id":85033339,"body_markdown":"There is also an Iterative approach which might be less difficult for you. Great article on both Recursive and Iterative with code here - http://codeflex.co/java-get-fibonacci-number-by-index/","body":"There is also an Iterative approach which might be less difficult for you. Great article on both Recursive and Iterative with code here - <a href=\"http://codeflex.co/java-get-fibonacci-number-by-index/\" rel=\"nofollow noreferrer\">codeflex.co/java-get-fibonacci-number-by-index</a>"},{"owner":{"account_id":14083808,"reputation":612,"user_id":10174059,"display_name":"K Man"},"score":0,"creation_date":1548290962,"post_id":8965006,"comment_id":95492672,"body_markdown":"You should also return -1 if n is less than 0, or you will get an error.","body":"You should also return -1 if n is less than 0, or you will get an error."},{"owner":{"account_id":4006340,"reputation":1493,"user_id":3300911,"accept_rate":56,"display_name":"raikumardipak"},"score":0,"creation_date":1579975683,"post_id":8965006,"comment_id":105949101,"body_markdown":"@ChathuraPalihakkara That&#39;s a great video. Explaining recursion!","body":"@ChathuraPalihakkara That&#39;s a great video. Explaining recursion!"}],"answers":[{"tags":[],"owner":{"account_id":90866,"reputation":8063,"user_id":249878,"accept_rate":90,"display_name":"yurib"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1327269072,"creation_date":1327269072,"answer_id":8965031,"question_id":8965006,"body_markdown":"in the [fibonacci][1] sequence, the first two items are 0 and 1, each other item is the sum of the two previous items. i.e:  \r\n0 1 1 2 3 5 8...\r\n\r\nso the 5th item is the sum of the 4th and the 3rd items.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Fibonacci_number","title":"Java recursive Fibonacci sequence","body":"<p>in the <a href=\"http://en.wikipedia.org/wiki/Fibonacci_number\" rel=\"nofollow\">fibonacci</a> sequence, the first two items are 0 and 1, each other item is the sum of the two previous items. i.e:<br>\n0 1 1 2 3 5 8...</p>\n\n<p>so the 5th item is the sum of the 4th and the 3rd items.</p>\n"},{"comments":[{"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"score":0,"creation_date":1468494054,"post_id":8965075,"comment_id":64155327,"body_markdown":"it will work but not optimized until and unless its optimized. Please have a look at mine answer. Let me know in case of suggestions/comments","body":"it will work but not optimized until and unless its optimized. Please have a look at mine answer. Let me know in case of suggestions/comments"}],"tags":[],"owner":{"account_id":406517,"reputation":48699,"user_id":776084,"accept_rate":79,"display_name":"RanRag"},"comment_count":1,"down_vote_count":0,"up_vote_count":176,"is_accepted":true,"score":176,"last_activity_date":1327270092,"creation_date":1327269397,"answer_id":8965075,"question_id":8965006,"body_markdown":"In fibonacci sequence each item is the sum of the previous two. So, you wrote a recursive algorithm.\r\n\r\nSo, \r\n\r\n    fibonacci(5) = fibonacci(4) + fibonacci(3)\r\n    \r\n    fibonacci(3) = fibonacci(2) + fibonacci(1)\r\n\r\n    fibonacci(4) = fibonacci(3) + fibonacci(2)\r\n\r\n    fibonacci(2) = fibonacci(1) + fibonacci(0)\r\n\r\nNow you already know `fibonacci(1)==1 and fibonacci(0) == 0`. So, you can subsequently calculate the other values.\r\n\r\nNow,\r\n\r\n    fibonacci(2) = 1+0 = 1\r\n    fibonacci(3) = 1+1 = 2\r\n    fibonacci(4) = 2+1 = 3\r\n    fibonacci(5) = 3+2 = 5\r\n\r\nAnd from fibonacci sequence `0,1,1,2,3,5,8,13,21....` we can see that for `5th element` the fibonacci sequence returns `5`.\r\n\r\nSee here for [Recursion Tutorial][1].\r\n\r\n\r\n  [1]: http://www.danzig.us/java_class/recursion.html","title":"Java recursive Fibonacci sequence","body":"<p>In fibonacci sequence each item is the sum of the previous two. So, you wrote a recursive algorithm.</p>\n\n<p>So, </p>\n\n<pre><code>fibonacci(5) = fibonacci(4) + fibonacci(3)\n\nfibonacci(3) = fibonacci(2) + fibonacci(1)\n\nfibonacci(4) = fibonacci(3) + fibonacci(2)\n\nfibonacci(2) = fibonacci(1) + fibonacci(0)\n</code></pre>\n\n<p>Now you already know <code>fibonacci(1)==1 and fibonacci(0) == 0</code>. So, you can subsequently calculate the other values.</p>\n\n<p>Now,</p>\n\n<pre><code>fibonacci(2) = 1+0 = 1\nfibonacci(3) = 1+1 = 2\nfibonacci(4) = 2+1 = 3\nfibonacci(5) = 3+2 = 5\n</code></pre>\n\n<p>And from fibonacci sequence <code>0,1,1,2,3,5,8,13,21....</code> we can see that for <code>5th element</code> the fibonacci sequence returns <code>5</code>.</p>\n\n<p>See here for <a href=\"http://www.danzig.us/java_class/recursion.html\" rel=\"noreferrer\">Recursion Tutorial</a>.</p>\n"},{"comments":[{"owner":{"account_id":5190055,"reputation":391,"user_id":4153249,"display_name":"Amit"},"score":0,"creation_date":1551014248,"post_id":8965127,"comment_id":96476337,"body_markdown":"I think this answer explains the questions the best way. Really simple","body":"I think this answer explains the questions the best way. Really simple"},{"owner":{"account_id":2641225,"reputation":1877,"user_id":2284810,"accept_rate":50,"display_name":"Semicolon"},"score":0,"creation_date":1574613688,"post_id":8965127,"comment_id":104285529,"body_markdown":"This is neat. Explains both the value at nth term and the series it follows.","body":"This is neat. Explains both the value at nth term and the series it follows."}],"tags":[],"owner":{"account_id":351616,"reputation":3033,"user_id":688206,"display_name":"Dan Hardiker"},"comment_count":2,"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1327269749,"creation_date":1327269749,"answer_id":8965127,"question_id":8965006,"body_markdown":"In pseudo code, where n = 5, the following takes place:\r\n\r\n&gt; fibonacci(4) + fibonnacci(3)\r\n\r\nThis breaks down into:\r\n\r\n&gt; (fibonacci(3) + fibonnacci(2)) + (fibonacci(2) + fibonnacci(1))\r\n\r\nThis breaks down into:\r\n\r\n&gt; (((fibonacci(2) + fibonnacci(1)) + ((fibonacci(1) + fibonnacci(0))) + (((fibonacci(1) + fibonnacci(0)) + 1))\r\n\r\nThis breaks down into:\r\n\r\n&gt; ((((fibonacci(1) + fibonnacci(0)) + 1) + ((1 + 0)) + ((1 + 0) + 1))\r\n\r\nThis breaks down into:\r\n\r\n&gt; ((((1 + 0) + 1) + ((1 + 0)) + ((1 + 0) + 1))\r\n\r\nThis results in: **5**\r\n\r\nGiven the fibonnacci sequence is **1 1 2 3 5 8 ...**, the 5th element is 5. You can use the same methodology to figure out the other iterations. ","title":"Java recursive Fibonacci sequence","body":"<p>In pseudo code, where n = 5, the following takes place:</p>\n\n<blockquote>\n  <p>fibonacci(4) + fibonnacci(3)</p>\n</blockquote>\n\n<p>This breaks down into:</p>\n\n<blockquote>\n  <p>(fibonacci(3) + fibonnacci(2)) + (fibonacci(2) + fibonnacci(1))</p>\n</blockquote>\n\n<p>This breaks down into:</p>\n\n<blockquote>\n  <p>(((fibonacci(2) + fibonnacci(1)) + ((fibonacci(1) + fibonnacci(0))) + (((fibonacci(1) + fibonnacci(0)) + 1))</p>\n</blockquote>\n\n<p>This breaks down into:</p>\n\n<blockquote>\n  <p>((((fibonacci(1) + fibonnacci(0)) + 1) + ((1 + 0)) + ((1 + 0) + 1))</p>\n</blockquote>\n\n<p>This breaks down into:</p>\n\n<blockquote>\n  <p>((((1 + 0) + 1) + ((1 + 0)) + ((1 + 0) + 1))</p>\n</blockquote>\n\n<p>This results in: <strong>5</strong></p>\n\n<p>Given the fibonnacci sequence is <strong>1 1 2 3 5 8 ...</strong>, the 5th element is 5. You can use the same methodology to figure out the other iterations. </p>\n"},{"comments":[{"owner":{"account_id":4851597,"reputation":1975,"user_id":3913746,"accept_rate":72,"display_name":"pocockn"},"score":0,"creation_date":1464352616,"post_id":8965171,"comment_id":62463752,"body_markdown":"on the second line where does the 1 and 0 at the end come from?","body":"on the second line where does the 1 and 0 at the end come from?"},{"owner":{"account_id":1170788,"reputation":1999,"user_id":1148035,"accept_rate":88,"display_name":"tim"},"score":1,"creation_date":1464352891,"post_id":8965171,"comment_id":62463924,"body_markdown":"@pocockn fib(2) = fib(1) + fib(0)","body":"@pocockn fib(2) = fib(1) + fib(0)"},{"owner":{"account_id":4851597,"reputation":1975,"user_id":3913746,"accept_rate":72,"display_name":"pocockn"},"score":0,"creation_date":1464353093,"post_id":8965171,"comment_id":62464066,"body_markdown":"So you have fib (4) so n-1 and n-2 would be fib(3) + fib(2) then you do the n-1 and n-2 again you get -&gt; fib(2) + fib(1), where have you got the + fib(1) + fib(0) from? Added onto the end","body":"So you have fib (4) so n-1 and n-2 would be fib(3) + fib(2) then you do the n-1 and n-2 again you get -&gt; fib(2) + fib(1), where have you got the + fib(1) + fib(0) from? Added onto the end"},{"owner":{"account_id":1170788,"reputation":1999,"user_id":1148035,"accept_rate":88,"display_name":"tim"},"score":0,"creation_date":1464353799,"post_id":8965171,"comment_id":62464548,"body_markdown":"@pocockn fib(2) + fib(1) is from fib(3),  fib(1) + fib(0) is from fib(2)","body":"@pocockn fib(2) + fib(1) is from fib(3),  fib(1) + fib(0) is from fib(2)"}],"tags":[],"owner":{"account_id":1170788,"reputation":1999,"user_id":1148035,"accept_rate":88,"display_name":"tim"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1377811003,"creation_date":1327270079,"answer_id":8965171,"question_id":8965006,"body_markdown":"Recursion can be hard to grasp sometimes. Just evaluate it on a piece of paper for a small number:\r\n\r\n    fib(4)\r\n    -&gt; fib(3) + fib(2)\r\n    -&gt; fib(2) + fib(1) + fib(1) + fib(0)\r\n    -&gt; fib(1) + fib(0) + fib(1) + fib(1) + fib(0)\r\n    -&gt; 1 + 0 + 1 + 1 + 0\r\n    -&gt; 3\r\n\r\nI am not sure how Java actually evaluates this, but the result will be the same. ","title":"Java recursive Fibonacci sequence","body":"<p>Recursion can be hard to grasp sometimes. Just evaluate it on a piece of paper for a small number:</p>\n\n<pre><code>fib(4)\n-&gt; fib(3) + fib(2)\n-&gt; fib(2) + fib(1) + fib(1) + fib(0)\n-&gt; fib(1) + fib(0) + fib(1) + fib(1) + fib(0)\n-&gt; 1 + 0 + 1 + 1 + 0\n-&gt; 3\n</code></pre>\n\n<p>I am not sure how Java actually evaluates this, but the result will be the same. </p>\n"},{"tags":[],"owner":{"account_id":2773717,"reputation":1,"user_id":2387767,"display_name":"NorthYorker"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1368658354,"creation_date":1368657318,"answer_id":16576130,"question_id":8965006,"body_markdown":"    public long getFibonacci( int number) {\r\n        if ( number &lt;=2) {\r\n            return 1;\r\n        }\r\n        long lRet = 0;\r\n        lRet = getFibonacci( number -1) + getFibonacci( number -2);\r\n        return lRet;\r\n    }","title":"Java recursive Fibonacci sequence","body":"<pre><code>public long getFibonacci( int number) {\n    if ( number &lt;=2) {\n        return 1;\n    }\n    long lRet = 0;\n    lRet = getFibonacci( number -1) + getFibonacci( number -2);\n    return lRet;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2154822,"reputation":3613,"user_id":1910301,"accept_rate":73,"display_name":"Adarsh"},"score":0,"creation_date":1370106887,"post_id":16874997,"comment_id":24344115,"body_markdown":"What he needed to understand is how the code works and why it is written they way it is written.","body":"What he needed to understand is how the code works and why it is written they way it is written."},{"owner":{"account_id":2844990,"reputation":403,"user_id":2443646,"display_name":"Jaymelson Galang"},"score":0,"creation_date":1370163542,"post_id":16874997,"comment_id":24354650,"body_markdown":"I think i mention in my first sentence how it works?\ni write the code to make it more simple.\nbtw, sorry.","body":"I think i mention in my first sentence how it works? i write the code to make it more simple. btw, sorry."},{"owner":{"account_id":2154822,"reputation":3613,"user_id":1910301,"accept_rate":73,"display_name":"Adarsh"},"score":0,"creation_date":1370176100,"post_id":16874997,"comment_id":24357220,"body_markdown":"Nothing wrong with your code. Only the guy wanted to understand how that code worked. Check the answer by RanRag. Something of that sort :)","body":"Nothing wrong with your code. Only the guy wanted to understand how that code worked. Check the answer by RanRag. Something of that sort :)"},{"owner":{"account_id":2844990,"reputation":403,"user_id":2443646,"display_name":"Jaymelson Galang"},"score":0,"creation_date":1370177250,"post_id":16874997,"comment_id":24357483,"body_markdown":"ahh ok, sorry i am beginner here in stackoverflow. just want to help ^_^","body":"ahh ok, sorry i am beginner here in stackoverflow. just want to help ^_^"}],"tags":[],"owner":{"account_id":2844990,"reputation":403,"user_id":2443646,"display_name":"Jaymelson Galang"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1370106165,"creation_date":1370105705,"answer_id":16874997,"question_id":8965006,"body_markdown":"It is a basic sequence that display or get a output of\r\n1 1 2 3 5 8\r\nit is a sequence that the sum of previous number the current number will be display next. \r\n\r\nTry to watch link below Java Recursive Fibonacci sequence Tutorial\r\n\r\n    public static long getFibonacci(int number){\r\n    if(number&lt;=1) return number;\r\n    else return getFibonacci(number-1) + getFibonacci(number-2);\r\n    }\r\n\r\nClick Here [Watch Java Recursive Fibonacci sequence Tutorial][1] for spoon feeding \r\n\r\n\r\n  [1]: http://youtu.be/ajJ3K6-_OgM","title":"Java recursive Fibonacci sequence","body":"<p>It is a basic sequence that display or get a output of\n1 1 2 3 5 8\nit is a sequence that the sum of previous number the current number will be display next. </p>\n\n<p>Try to watch link below Java Recursive Fibonacci sequence Tutorial</p>\n\n<pre><code>public static long getFibonacci(int number){\nif(number&lt;=1) return number;\nelse return getFibonacci(number-1) + getFibonacci(number-2);\n}\n</code></pre>\n\n<p>Click Here <a href=\"http://youtu.be/ajJ3K6-_OgM\" rel=\"nofollow\">Watch Java Recursive Fibonacci sequence Tutorial</a> for spoon feeding </p>\n"},{"tags":[],"owner":{"account_id":3221091,"reputation":71,"user_id":2718538,"display_name":"user2718538"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1377529328,"creation_date":1377529328,"answer_id":18447202,"question_id":8965006,"body_markdown":"This is the best video I have found that fully explains recursion and the Fibonacci sequence in Java.\r\n\r\n\r\nhttp://www.youtube.com/watch?v=dsmBRUCzS7k\r\n\r\nThis is his code for the sequence and his explanation is better than I could ever do trying to type it out.\r\n\r\n\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint index = 0;\r\n\t\twhile (true)\r\n\t\t{\r\n\t\t\tSystem.out.println(fibonacci(index));\r\n\t\t\tindex++;\r\n\t\t}\r\n\t}\r\n\t\tpublic static long fibonacci (int i)\r\n\t\t{\r\n\t\t\tif (i == 0) return 0;\r\n\t\t\tif (i&lt;= 2) return 1;\r\n\t\t\t\r\n\t\t\tlong fibTerm = fibonacci(i - 1) + fibonacci(i - 2);\r\n\t\t\treturn fibTerm;\r\n\t\t}\r\n","title":"Java recursive Fibonacci sequence","body":"<p>This is the best video I have found that fully explains recursion and the Fibonacci sequence in Java.</p>\n\n<p><a href=\"http://www.youtube.com/watch?v=dsmBRUCzS7k\" rel=\"noreferrer\">http://www.youtube.com/watch?v=dsmBRUCzS7k</a></p>\n\n<p>This is his code for the sequence and his explanation is better than I could ever do trying to type it out.</p>\n\n<pre><code>public static void main(String[] args)\n{\n    int index = 0;\n    while (true)\n    {\n        System.out.println(fibonacci(index));\n        index++;\n    }\n}\n    public static long fibonacci (int i)\n    {\n        if (i == 0) return 0;\n        if (i&lt;= 2) return 1;\n\n        long fibTerm = fibonacci(i - 1) + fibonacci(i - 2);\n        return fibTerm;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1731999,"reputation":169,"user_id":1585411,"display_name":"Tiago Zortea"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382727795,"creation_date":1382727795,"answer_id":19597559,"question_id":8965006,"body_markdown":"Just to complement, if you want to be able to calculate larger numbers, you should use BigInteger.\r\n\r\nAn iterative example.\r\n\r\n    import java.math.BigInteger;\r\n    class Fibonacci{\r\n        public static void main(String args[]){\r\n            int n=10000;\r\n            BigInteger[] vec = new BigInteger[n];\r\n            vec[0]=BigInteger.ZERO;\r\n            vec[1]=BigInteger.ONE;\r\n            // calculating\r\n            for(int i = 2 ; i&lt;n ; i++){\r\n                vec[i]=vec[i-1].add(vec[i-2]);\r\n            }\r\n            // printing\r\n            for(int i = vec.length-1 ; i&gt;=0 ; i--){\r\n                System.out.println(vec[i]);\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n        }\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>Just to complement, if you want to be able to calculate larger numbers, you should use BigInteger.</p>\n\n<p>An iterative example.</p>\n\n<pre><code>import java.math.BigInteger;\nclass Fibonacci{\n    public static void main(String args[]){\n        int n=10000;\n        BigInteger[] vec = new BigInteger[n];\n        vec[0]=BigInteger.ZERO;\n        vec[1]=BigInteger.ONE;\n        // calculating\n        for(int i = 2 ; i&lt;n ; i++){\n            vec[i]=vec[i-1].add(vec[i-2]);\n        }\n        // printing\n        for(int i = vec.length-1 ; i&gt;=0 ; i--){\n            System.out.println(vec[i]);\n            System.out.println(\"\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3637138,"reputation":11,"user_id":3032222,"display_name":"Deepu"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1410634354,"creation_date":1385629644,"answer_id":20261757,"question_id":8965006,"body_markdown":"    public class Fibonaci{    \t\r\n    \r\n    \tstatic void fibonacci() {\r\n    \t    int ptr1 = 1, ptr2 = 1, ptr3 = 0;\r\n    \t    int temp = 0;\r\n    \t    BufferedReader Data=new BufferedReader (new InputStreamReader(System.in));\r\n    \t    try {\r\n    \t    \tSystem.out.println(&quot;The Number Value&#39;s fib you required ? &quot;);\r\n    \t    \tptr3 = Integer.parseInt(Data.readLine());\r\n    \t    \r\n    \t        System.out.print(ptr1 + &quot; &quot; + ptr2 + &quot; &quot;);\r\n    \t        for (int i = 0; i &lt; ptr3; i++) {\r\n    \t            System.out.print(ptr1 + ptr2 + &quot; &quot;);\r\n    \t            temp = ptr1;\r\n    \t            ptr1 = ptr2;\r\n    \t            ptr2 = temp + ptr2;\r\n    \t        }\r\n    \t    } catch(IOException err) {\r\n                System.out.println(&quot;Error!&quot; + err);\r\n    \t    } catch(NumberFormatException err) {\r\n                System.out.println(&quot;Invald Input!&quot;);\r\n            }\r\n    \t}\r\n    \t\r\n        public static void main(String[]args)throws Exception{    \r\n        \t\tFibonaci.fibonacci();\r\n        }   \r\n     }\r\n\r\nYou can do like this.   ","title":"Java recursive Fibonacci sequence","body":"<pre><code>public class Fibonaci{      \n\n    static void fibonacci() {\n        int ptr1 = 1, ptr2 = 1, ptr3 = 0;\n        int temp = 0;\n        BufferedReader Data=new BufferedReader (new InputStreamReader(System.in));\n        try {\n            System.out.println(\"The Number Value's fib you required ? \");\n            ptr3 = Integer.parseInt(Data.readLine());\n\n            System.out.print(ptr1 + \" \" + ptr2 + \" \");\n            for (int i = 0; i &lt; ptr3; i++) {\n                System.out.print(ptr1 + ptr2 + \" \");\n                temp = ptr1;\n                ptr1 = ptr2;\n                ptr2 = temp + ptr2;\n            }\n        } catch(IOException err) {\n            System.out.println(\"Error!\" + err);\n        } catch(NumberFormatException err) {\n            System.out.println(\"Invald Input!\");\n        }\n    }\n\n    public static void main(String[]args)throws Exception{    \n            Fibonaci.fibonacci();\n    }   \n }\n</code></pre>\n\n<p>You can do like this.   </p>\n"},{"comments":[{"owner":{"account_id":2450087,"reputation":639,"user_id":2296615,"accept_rate":75,"display_name":"Hal50000"},"score":5,"creation_date":1436354350,"post_id":20714795,"comment_id":50573146,"body_markdown":"Although some of the other answers explain recursion more clearly, this is probably the most relevant answer at a deeper level.","body":"Although some of the other answers explain recursion more clearly, this is probably the most relevant answer at a deeper level."},{"owner":{"account_id":275420,"reputation":12431,"user_id":568289,"accept_rate":75,"display_name":"richard"},"score":1,"creation_date":1437699299,"post_id":20714795,"comment_id":51152394,"body_markdown":"What does &quot;integer fill minus bit&quot; mean?","body":"What does &quot;integer fill minus bit&quot; mean?"},{"owner":{"account_id":95112,"reputation":2041,"user_id":259248,"accept_rate":75,"display_name":"Sergei Chicherin"},"score":1,"creation_date":1438059852,"post_id":20714795,"comment_id":51279116,"body_markdown":"@richard , it is about on how integer is stored.  After int reached 2^31-1 the next bit is about sign, so the number become negative.","body":"@richard , it is about on how integer is stored.  After int reached 2^31-1 the next bit is about sign, so the number become negative."},{"owner":{"account_id":1241806,"reputation":510,"user_id":1204234,"display_name":"v0rin"},"score":0,"creation_date":1480031414,"post_id":20714795,"comment_id":68813745,"body_markdown":"Much faster then recursive. The only reservation is that it won&#39;t work for n=1. Additional condition is needed","body":"Much faster then recursive. The only reservation is that it won&#39;t work for n=1. Additional condition is needed"},{"owner":{"account_id":3514634,"reputation":432,"user_id":2938375,"accept_rate":92,"display_name":"CowNorris"},"score":0,"creation_date":1486777236,"post_id":20714795,"comment_id":71507225,"body_markdown":"Hey, just wondering how was your diagram to represent the recursive calls generated?","body":"Hey, just wondering how was your diagram to represent the recursive calls generated?"},{"owner":{"account_id":95112,"reputation":2041,"user_id":259248,"accept_rate":75,"display_name":"Sergei Chicherin"},"score":0,"creation_date":1486932884,"post_id":20714795,"comment_id":71548200,"body_markdown":"@user2938375 it is a screenshot, but for Java profiling you can use VisualVM","body":"@user2938375 it is a screenshot, but for Java profiling you can use VisualVM"},{"owner":{"account_id":6608813,"reputation":978,"user_id":5104758,"accept_rate":93,"display_name":"lft93ryt"},"score":0,"creation_date":1491325786,"post_id":20714795,"comment_id":73498691,"body_markdown":"I love the way you thought of a more relevant explanation, which i generally ignore.","body":"I love the way you thought of a more relevant explanation, which i generally ignore."},{"owner":{"account_id":5339785,"reputation":720,"user_id":4694434,"display_name":"Manoj Krishna"},"score":0,"creation_date":1504686622,"post_id":20714795,"comment_id":79101199,"body_markdown":"@chro This may be a better answer but it does not use a recursive function.","body":"@chro This may be a better answer but it does not use a recursive function."},{"owner":{"account_id":8057581,"reputation":1501,"user_id":6074182,"accept_rate":88,"display_name":"Aemyl"},"score":2,"creation_date":1512999246,"post_id":20714795,"comment_id":82468730,"body_markdown":"_&quot;Each time it became 2^n worse&quot;_ actually the number of total function calls is `2*fibonacci(n+1)-1`, so it grows with the same complexity as the fibonacci numbers itself, which is 1.618^n instead of 2^n","body":"<i>&quot;Each time it became 2^n worse&quot;</i> actually the number of total function calls is <code>2*fibonacci(n+1)-1</code>, so it grows with the same complexity as the fibonacci numbers itself, which is 1.618^n instead of 2^n"},{"owner":{"account_id":2704546,"reputation":2297,"user_id":2334422,"display_name":"Ishan Liyanage"},"score":0,"creation_date":1559479636,"post_id":20714795,"comment_id":99426399,"body_markdown":"I think answer should be corrected,\n\ndouble fibbonaci(int n){\n        double prev=0d, next=1d, result=0d;\n        for (int i = 0; i &lt; n-1; i++) {\n            result=prev+next;\n            prev=next;\n            next=result;\n        }\n    return result;\n}","body":"I think answer should be corrected,  double fibbonaci(int n){         double prev=0d, next=1d, result=0d;         for (int i = 0; i &lt; n-1; i++) {             result=prev+next;             prev=next;             next=result;         }     return result; }"},{"owner":{"account_id":3668894,"reputation":1010,"user_id":3056525,"display_name":"TomDane"},"score":1,"creation_date":1659807113,"post_id":20714795,"comment_id":129384775,"body_markdown":"For the second point about complexity, does it make a difference if the language supports tail call optimization? Or does that only affect the stack height and not the runtime?","body":"For the second point about complexity, does it make a difference if the language supports tail call optimization? Or does that only affect the stack height and not the runtime?"}],"tags":[],"owner":{"account_id":95112,"reputation":2041,"user_id":259248,"accept_rate":75,"display_name":"Sergei Chicherin"},"comment_count":11,"down_vote_count":2,"up_vote_count":58,"is_accepted":false,"score":56,"last_activity_date":1688421132,"creation_date":1387593058,"answer_id":20714795,"question_id":8965006,"body_markdown":"There are 2 issues with your code:\r\n\r\n 1. The result is stored in int which can handle only a first 48 fibonacci numbers, after this the integer fill minus bit and result is wrong. But you never can run fibonacci(50).  \r\n 2. The code   `fibonacci(n - 1) + fibonacci(n - 2)`  is very inefficient. The problem is that the it calls fibonacci not 50 times but much more.  \r\n    - At first it calls fibonacci(49)+fibonacci(48),   \r\n    - next fibonacci(48)+fibonacci(47) and fibonacci(47)+fibonacci(46)...  \r\n    - Each time it became fibonacci(n) worse, so the **complexity is exponential**:\r\n![a visual &quot;call stack&quot; showing how calling fibonacci(7) will be inefficient][1]\r\n\r\n\r\nThe approach to non-recursive code:\r\n\r\n     double fibonacci(int n){\r\n    \tdouble prev=0d, next=1d, result=0d;\r\n    \tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tresult=prev+next;\r\n\t\t\tprev=next;\r\n\t\t\tnext=result;\r\n\t\t}\r\n    \treturn result;\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/keYhd.png","title":"Java recursive Fibonacci sequence","body":"<p>There are 2 issues with your code:</p>\n<ol>\n<li>The result is stored in int which can handle only a first 48 fibonacci numbers, after this the integer fill minus bit and result is wrong. But you never can run fibonacci(50).</li>\n<li>The code   <code>fibonacci(n - 1) + fibonacci(n - 2)</code>  is very inefficient. The problem is that the it calls fibonacci not 50 times but much more.\n<ul>\n<li>At first it calls fibonacci(49)+fibonacci(48),</li>\n<li>next fibonacci(48)+fibonacci(47) and fibonacci(47)+fibonacci(46)...</li>\n<li>Each time it became fibonacci(n) worse, so the <strong>complexity is exponential</strong>:\n<img src=\"https://i.stack.imgur.com/keYhd.png\" alt=\"a visual &quot;call stack&quot; showing how calling fibonacci(7) will be inefficient\" /></li>\n</ul>\n</li>\n</ol>\n<p>The approach to non-recursive code:</p>\n<pre><code> double fibonacci(int n){\n    double prev=0d, next=1d, result=0d;\n    for (int i = 0; i &lt; n; i++) {\n        result=prev+next;\n        prev=next;\n        next=result;\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4002474,"reputation":9,"user_id":3298135,"display_name":"vikas"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1392138093,"creation_date":1392136939,"answer_id":21707775,"question_id":8965006,"body_markdown":"http://en.wikipedia.org/wiki/Fibonacci_number in more details\r\n\r\n\r\n    public class Fibonacci {\r\n    \r\n        public static long fib(int n) {\r\n            if (n &lt;= 1) return n;\r\n            else return fib(n-1) + fib(n-2);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int N = Integer.parseInt(args[0]);\r\n            for (int i = 1; i &lt;= N; i++)\r\n                System.out.println(i + &quot;: &quot; + fib(i));\r\n        }\r\n    \r\n    }\r\n\r\nMake it that as simple as needed no need to use while loop and other loop\r\n","title":"Java recursive Fibonacci sequence","body":"<p><a href=\"http://en.wikipedia.org/wiki/Fibonacci_number\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Fibonacci_number</a> in more details</p>\n\n<pre><code>public class Fibonacci {\n\n    public static long fib(int n) {\n        if (n &lt;= 1) return n;\n        else return fib(n-1) + fib(n-2);\n    }\n\n    public static void main(String[] args) {\n        int N = Integer.parseInt(args[0]);\n        for (int i = 1; i &lt;= N; i++)\n            System.out.println(i + \": \" + fib(i));\n    }\n\n}\n</code></pre>\n\n<p>Make it that as simple as needed no need to use while loop and other loop</p>\n"},{"comments":[{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":0,"creation_date":1468780717,"post_id":21886898,"comment_id":64255891,"body_markdown":"Where is fib[] declared? What happens when negative value is passed for n? Did you mentioned fib type? \n\nPlease test your code locally before posting it to StackOverflow.","body":"Where is fib[] declared? What happens when negative value is passed for n? Did you mentioned fib type?   Please test your code locally before posting it to StackOverflow."}],"tags":[],"owner":{"account_id":3874355,"reputation":275,"user_id":3208800,"accept_rate":10,"display_name":"Muthu"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1466039470,"creation_date":1392828406,"answer_id":21886898,"question_id":8965006,"body_markdown":"Fibonacci series is one simple code that shows the power of dynamic programming. All we learned from school days is to run it via iterative or max recursive code. Recursive code works fine till 20 or so, if you give numbers bigger than that you will see it takes a lot of time to compute. In dynamic programming you can code as follows and it takes secs to compute the answer.\r\n\r\n\tstatic double fib(int n) {\r\n        if (n &lt; 2)\r\n\t\t\treturn n;\r\n\t\tif (fib[n] != 0)\r\n\t\t\treturn fib[n];\r\n\t\tfib[n] = fib(n - 1) + fib(n - 2);\r\n\t\treturn fib[n];\r\n\t}\r\n\r\nYou store values in an array and proceed to fresh computation only when the array cannot provide you the answer.","title":"Java recursive Fibonacci sequence","body":"<p>Fibonacci series is one simple code that shows the power of dynamic programming. All we learned from school days is to run it via iterative or max recursive code. Recursive code works fine till 20 or so, if you give numbers bigger than that you will see it takes a lot of time to compute. In dynamic programming you can code as follows and it takes secs to compute the answer.</p>\n\n<pre><code>static double fib(int n) {\n    if (n &lt; 2)\n        return n;\n    if (fib[n] != 0)\n        return fib[n];\n    fib[n] = fib(n - 1) + fib(n - 2);\n    return fib[n];\n}\n</code></pre>\n\n<p>You store values in an array and proceed to fresh computation only when the array cannot provide you the answer.</p>\n"},{"comments":[{"owner":{"account_id":2411044,"reputation":726,"user_id":2106092,"accept_rate":32,"display_name":"Amit_Hora"},"score":0,"creation_date":1486215565,"post_id":22165327,"comment_id":71255414,"body_markdown":"There is a programming methodology by which we can avoid calculating F(n) for same n again and again using Dynamic Programming","body":"There is a programming methodology by which we can avoid calculating F(n) for same n again and again using Dynamic Programming"}],"tags":[],"owner":{"account_id":2922454,"reputation":161,"user_id":2504416,"display_name":"Amandeep Kamboj"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1393917441,"creation_date":1393917441,"answer_id":22165327,"question_id":8965006,"body_markdown":"                                    F(n)\r\n                                    /    \\\r\n                                F(n-1)   F(n-2)\r\n                                /   \\     /      \\\r\n                            F(n-2) F(n-3) F(n-3)  F(n-4)\r\n                           /    \\\r\n                         F(n-3) F(n-4)\r\n          \r\nImportant point to note is this algorithm is exponential because it does not store the result of previous calculated numbers. eg F(n-3) is called 3 times. \r\n\r\nFor more details refer algorithm by dasgupta chapter 0.2  ","title":"Java recursive Fibonacci sequence","body":"<pre><code>                                F(n)\n                                /    \\\n                            F(n-1)   F(n-2)\n                            /   \\     /      \\\n                        F(n-2) F(n-3) F(n-3)  F(n-4)\n                       /    \\\n                     F(n-3) F(n-4)\n</code></pre>\n\n<p>Important point to note is this algorithm is exponential because it does not store the result of previous calculated numbers. eg F(n-3) is called 3 times. </p>\n\n<p>For more details refer algorithm by dasgupta chapter 0.2  </p>\n"},{"tags":[],"owner":{"account_id":4678123,"reputation":27,"user_id":3787713,"display_name":"user3787713"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1404052079,"creation_date":1404045712,"answer_id":24476145,"question_id":8965006,"body_markdown":"I think this is a simple way:\r\n\r\n    public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            int number = input.nextInt();\r\n            long a = 0;\r\n            long b = 1;\r\n            for(int i = 1; i&lt;number;i++){\r\n                long c = a +b;\r\n                a=b;\r\n                b=c;\r\n                System.out.println(c);\r\n            }\r\n        }\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>I think this is a simple way:</p>\n\n<pre><code>public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int number = input.nextInt();\n        long a = 0;\n        long b = 1;\n        for(int i = 1; i&lt;number;i++){\n            long c = a +b;\n            a=b;\n            b=c;\n            System.out.println(c);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5243034,"reputation":1,"user_id":4189572,"display_name":"T.B.Nanda"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1414496741,"creation_date":1414496741,"answer_id":26607529,"question_id":8965006,"body_markdown":"        import java.util.*;\r\n    /*\r\n    @ Author 12CSE54\r\n    @ Date 28.10.14\r\n    */\r\n        public class cfibonacci\r\n        {\r\n        public void print(int p)\r\n        {\r\n        int a=0,b=1,c;\r\n        int q[]=new int[30];\r\n        q[0]=a;\r\n        q[1]=b;\r\n        for(int i=2;i&lt;p;i++)\r\n        {\r\n        c=a+b;\r\n        q[i]=c;\r\n        a=b;\r\n        b=c;\r\n        }\r\n        System.out.println(&quot;elements are....\\n&quot;);\r\n        for(int i=0;i&lt;q.length;i++)\r\n        System.out.println(q[i]);\r\n        }\r\n        public static void main(String ar[])throws Exception\r\n        {\r\n        Scanner s=new Scanner(System.in);\r\n        int n;\r\n        System.out.println(&quot;Enter the number of elements\\n&quot;);\r\n        n=sc.nextInt();\r\n        cfibonacci c=new cfibonacci();\r\n        c.printf(n);\r\n        \r\n        }\r\n        }","title":"Java recursive Fibonacci sequence","body":"<pre><code>    import java.util.*;\n/*\n@ Author 12CSE54\n@ Date 28.10.14\n*/\n    public class cfibonacci\n    {\n    public void print(int p)\n    {\n    int a=0,b=1,c;\n    int q[]=new int[30];\n    q[0]=a;\n    q[1]=b;\n    for(int i=2;i&lt;p;i++)\n    {\n    c=a+b;\n    q[i]=c;\n    a=b;\n    b=c;\n    }\n    System.out.println(\"elements are....\\n\");\n    for(int i=0;i&lt;q.length;i++)\n    System.out.println(q[i]);\n    }\n    public static void main(String ar[])throws Exception\n    {\n    Scanner s=new Scanner(System.in);\n    int n;\n    System.out.println(\"Enter the number of elements\\n\");\n    n=sc.nextInt();\n    cfibonacci c=new cfibonacci();\n    c.printf(n);\n\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4900509,"reputation":101,"user_id":3948962,"display_name":"Rae"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1424142151,"creation_date":1424140677,"answer_id":28553801,"question_id":8965006,"body_markdown":"Michael Goodrich et al provide a really clever algorithm in Data Structures and Algorithms in Java, for solving fibonacci recursively in linear time by returning an array of [fib(n), fib(n-1)].\r\n\r\n    public static long[] fibGood(int n) {\r\n        if (n &lt; = 1) {\r\n            long[] answer = {n,0};\r\n            return answer;\r\n        } else {\r\n            long[] tmp = fibGood(n-1);\r\n            long[] answer = {tmp[0] + tmp[1], tmp[0]};\r\n            return answer;\r\n        }\r\n    }\r\n\r\nThis yields fib(n) = fibGood(n)[0].","title":"Java recursive Fibonacci sequence","body":"<p>Michael Goodrich et al provide a really clever algorithm in Data Structures and Algorithms in Java, for solving fibonacci recursively in linear time by returning an array of [fib(n), fib(n-1)].</p>\n\n<pre><code>public static long[] fibGood(int n) {\n    if (n &lt; = 1) {\n        long[] answer = {n,0};\n        return answer;\n    } else {\n        long[] tmp = fibGood(n-1);\n        long[] answer = {tmp[0] + tmp[1], tmp[0]};\n        return answer;\n    }\n}\n</code></pre>\n\n<p>This yields fib(n) = fibGood(n)[0].</p>\n"},{"tags":[],"owner":{"account_id":5691381,"reputation":261,"user_id":4499365,"accept_rate":0,"display_name":"Amarjit Datta"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498113779,"creation_date":1432469629,"answer_id":30423376,"question_id":8965006,"body_markdown":"For fibonacci recursive solution, it is important to save the output of smaller fibonacci numbers, while retrieving the value of larger number. This is called &quot;Memoizing&quot;.\r\n\r\nHere is a code that use *memoizing* the smaller fibonacci values, while retrieving larger fibonacci number. This code is efficient and doesn&#39;t make multiple requests of same function.\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class Fibonacci {\r\n      private HashMap&lt;Integer, Integer&gt; map;\r\n      public Fibonacci() {\r\n        map = new HashMap&lt;&gt;();\r\n      }\r\n      public int findFibonacciValue(int number) {\r\n        if (number == 0 || number == 1) {\r\n          return number;\r\n        }\r\n        else if (map.containsKey(number)) {\r\n          return map.get(number);\r\n        }\r\n        else {\r\n          int fibonacciValue = findFibonacciValue(number - 2) + findFibonacciValue(number - 1);\r\n          map.put(number, fibonacciValue);\r\n          return fibonacciValue;\r\n        }\r\n      }\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>For fibonacci recursive solution, it is important to save the output of smaller fibonacci numbers, while retrieving the value of larger number. This is called \"Memoizing\".</p>\n\n<p>Here is a code that use <em>memoizing</em> the smaller fibonacci values, while retrieving larger fibonacci number. This code is efficient and doesn't make multiple requests of same function.</p>\n\n<pre><code>import java.util.HashMap;\n\npublic class Fibonacci {\n  private HashMap&lt;Integer, Integer&gt; map;\n  public Fibonacci() {\n    map = new HashMap&lt;&gt;();\n  }\n  public int findFibonacciValue(int number) {\n    if (number == 0 || number == 1) {\n      return number;\n    }\n    else if (map.containsKey(number)) {\n      return map.get(number);\n    }\n    else {\n      int fibonacciValue = findFibonacciValue(number - 2) + findFibonacciValue(number - 1);\n      map.put(number, fibonacciValue);\n      return fibonacciValue;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3525689,"reputation":357,"user_id":2946861,"accept_rate":55,"display_name":"taylordurden"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1433034316,"creation_date":1433034316,"answer_id":30552823,"question_id":8965006,"body_markdown":"@chro is spot on, but s/he doesn&#39;t show the correct way to do this recursively.  Here&#39;s the solution:\r\n\r\n    class Fib {\r\n    \tstatic int count;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlog(fibWrong(20));  // 6765\r\n    \t\tlog(&quot;Count: &quot; + count); // 21891\r\n    \t\tcount = 0;\r\n    \t\tlog(fibRight(20)); // 6765\r\n    \t\tlog(&quot;Count: &quot; + count); // 19\r\n    \t}\r\n    \r\n    \tstatic long fibRight(long n) {\r\n    \t\treturn calcFib(n-2, 1, 1);\r\n    \t}\r\n    \r\n    \tstatic long fibWrong(long n) {\r\n    \t\tcount++;\r\n    \t\tif (n == 0 || n == 1) {\r\n    \t\t\treturn n;\r\n    \t\t} else if (n &lt; 0) {\r\n    \t\t\tlog(&quot;Overflow!&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t\treturn n;\r\n    \t\t} else {\r\n    \t\t\treturn fibWrong(n-1) + fibWrong(n-2);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tstatic long calcFib(long nth, long prev, long next) {\r\n    \t\tcount++;\r\n    \t\tif (nth-- == 0)\r\n    \t\t\treturn next;\r\n    \t\tif (prev+next &lt; 0) {\r\n    \t\t\tlog(&quot;Overflow with &quot; + (nth+1) \r\n    \t\t\t\t+ &quot; combinations remaining&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t\treturn calcFib(nth, next, prev+next);\r\n    \t}\r\n    \r\n    \tstatic void log(Object o) {\r\n    \t\tSystem.out.println(o);\r\n    \t}\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>@chro is spot on, but s/he doesn't show the correct way to do this recursively.  Here's the solution:</p>\n\n<pre><code>class Fib {\n    static int count;\n\n    public static void main(String[] args) {\n        log(fibWrong(20));  // 6765\n        log(\"Count: \" + count); // 21891\n        count = 0;\n        log(fibRight(20)); // 6765\n        log(\"Count: \" + count); // 19\n    }\n\n    static long fibRight(long n) {\n        return calcFib(n-2, 1, 1);\n    }\n\n    static long fibWrong(long n) {\n        count++;\n        if (n == 0 || n == 1) {\n            return n;\n        } else if (n &lt; 0) {\n            log(\"Overflow!\");\n            System.exit(1);\n            return n;\n        } else {\n            return fibWrong(n-1) + fibWrong(n-2);\n        }\n\n    }\n\n    static long calcFib(long nth, long prev, long next) {\n        count++;\n        if (nth-- == 0)\n            return next;\n        if (prev+next &lt; 0) {\n            log(\"Overflow with \" + (nth+1) \n                + \" combinations remaining\");\n            System.exit(1);\n        }\n        return calcFib(nth, next, prev+next);\n    }\n\n    static void log(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713492,"reputation":43,"user_id":1571079,"accept_rate":60,"display_name":"Ian Mukunya Douglas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1436529711,"creation_date":1436529711,"answer_id":31340261,"question_id":8965006,"body_markdown":"     public static long fib(int n) {\r\n        long population = 0;\r\n       \r\n        if ((n == 0) || (n == 1)) // base cases\r\n        {\r\n            return n;\r\n        } else // recursion step\r\n        {\r\n            \r\n            population+=fib(n - 1) + fib(n - 2);\r\n        }\r\n        \r\n        return population;\r\n    }","title":"Java recursive Fibonacci sequence","body":"<pre><code> public static long fib(int n) {\n    long population = 0;\n\n    if ((n == 0) || (n == 1)) // base cases\n    {\n        return n;\n    } else // recursion step\n    {\n\n        population+=fib(n - 1) + fib(n - 2);\n    }\n\n    return population;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1448401189,"post_id":33904296,"comment_id":55571311,"body_markdown":"How is this any different than [this](http://stackoverflow.com/a/31340261/1743880) or [this](http://stackoverflow.com/a/16874997/1743880) or [this](http://stackoverflow.com/a/18447202/1743880) answer?","body":"How is this any different than <a href=\"http://stackoverflow.com/a/31340261/1743880\">this</a> or <a href=\"http://stackoverflow.com/a/16874997/1743880\">this</a> or <a href=\"http://stackoverflow.com/a/18447202/1743880\">this</a> answer?"},{"owner":{"account_id":6943747,"reputation":843,"user_id":5329091,"display_name":"Otavio Ferreira"},"score":6,"creation_date":1448401772,"post_id":33904296,"comment_id":55571643,"body_markdown":"It&#39;s just shorter and easier to read, which algorithms should always be =)","body":"It&#39;s just shorter and easier to read, which algorithms should always be =)"},{"owner":{"account_id":13474005,"reputation":273,"user_id":9721589,"display_name":"KKKKK"},"score":0,"creation_date":1552253351,"post_id":33904296,"comment_id":96929662,"body_markdown":"@OtavioFerreira the only answer that has managed to solve my problem, good job","body":"@OtavioFerreira the only answer that has managed to solve my problem, good job"}],"tags":[],"owner":{"account_id":6943747,"reputation":843,"user_id":5329091,"display_name":"Otavio Ferreira"},"comment_count":3,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1448401670,"creation_date":1448401044,"answer_id":33904296,"question_id":8965006,"body_markdown":"You can also simplify your function, as follows:\r\n\r\n    public int fibonacci(int n)  {\r\n        if (n &lt; 2) return n;\r\n        \r\n        return fibonacci(n - 1) + fibonacci(n - 2);\r\n    }\r\n","title":"Java recursive Fibonacci sequence","body":"<p>You can also simplify your function, as follows:</p>\n\n<pre><code>public int fibonacci(int n)  {\n    if (n &lt; 2) return n;\n\n    return fibonacci(n - 1) + fibonacci(n - 2);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1467108708,"post_id":34328079,"comment_id":63583515,"body_markdown":"And the relevance of this answer (a loop) to the original question (explaining recursion) is?","body":"And the relevance of this answer (a loop) to the original question (explaining recursion) is?"}],"tags":[],"owner":{"account_id":6839719,"reputation":45,"user_id":5507739,"accept_rate":0,"display_name":"Jenny"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1452955783,"creation_date":1450334113,"answer_id":34328079,"question_id":8965006,"body_markdown":"Instead of using an array and doing some fancy things just two add two values is waste of time, I have found an efficient way to display/print,the famous Fibonacci sequence.\r\n\r\n\r\n\r\n    public static void main(String args[]){\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;This program lists the Fibonacci sequence.&quot;);\r\n    \t\t\r\n    \t\tint answer = 0;\r\n    \t\tint startValue = 1;\r\n    \t\tint sum = 0;\r\n    \t\t\r\n    \t\twhile (answer &lt; 10000){\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(answer);\r\n    \t\t\t\t\r\n    \t\t\tsum = add(answer,startValue);\r\n    \t\t\t\r\n    \t    \tstartValue = answer;\r\n    \t\t    answer = sum;\t\t\t\t\r\n    \t\t}\t\r\n    \t}\r\n    \t//This method return the sum of addition \r\n    \tprivate static int add(int A,int B){\r\n    \t\t\treturn A+B;\r\n    \t}","title":"Java recursive Fibonacci sequence","body":"<p>Instead of using an array and doing some fancy things just two add two values is waste of time, I have found an efficient way to display/print,the famous Fibonacci sequence.</p>\n\n<pre><code>public static void main(String args[]){\n\n        System.out.println(\"This program lists the Fibonacci sequence.\");\n\n        int answer = 0;\n        int startValue = 1;\n        int sum = 0;\n\n        while (answer &lt; 10000){\n\n            System.out.println(answer);\n\n            sum = add(answer,startValue);\n\n            startValue = answer;\n            answer = sum;               \n        }   \n    }\n    //This method return the sum of addition \n    private static int add(int A,int B){\n            return A+B;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468493968,"creation_date":1468493968,"answer_id":38372425,"question_id":8965006,"body_markdown":"RanRag(accepted) answer will work fine but that&#39;s not optimized solution until and unless it is memorized as  explained in Anil answer.\r\n\r\nFor recursive consider below approach, method calls of `TestFibonacci ` are minimum\r\n\r\n    public class TestFibonacci {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint n = 10;\r\n    \r\n    \t\tif (n == 1) {\r\n    \t\t\tSystem.out.println(1);\r\n    \r\n    \t\t} else if (n == 2) {\r\n    \t\t\tSystem.out.println(1);\r\n    \t\t\tSystem.out.println(1);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(1);\r\n    \t\t\tSystem.out.println(1);\r\n    \t\t\tint currentNo = 3;\r\n    \t\t\tcalFibRec(n, 1, 1, currentNo);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void calFibRec(int n, int secondLast, int last,\r\n    \t\t\tint currentNo) {\r\n    \t\tif (currentNo &lt;= n) {\r\n    \r\n    \t\t\tint sum = secondLast + last;\r\n    \t\t\tSystem.out.println(sum);\r\n    \t\t\tcalFibRec(n, last, sum, ++currentNo);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>RanRag(accepted) answer will work fine but that's not optimized solution until and unless it is memorized as  explained in Anil answer.</p>\n\n<p>For recursive consider below approach, method calls of <code>TestFibonacci</code> are minimum</p>\n\n<pre><code>public class TestFibonacci {\n\n    public static void main(String[] args) {\n\n        int n = 10;\n\n        if (n == 1) {\n            System.out.println(1);\n\n        } else if (n == 2) {\n            System.out.println(1);\n            System.out.println(1);\n        } else {\n            System.out.println(1);\n            System.out.println(1);\n            int currentNo = 3;\n            calFibRec(n, 1, 1, currentNo);\n        }\n\n    }\n\n    public static void calFibRec(int n, int secondLast, int last,\n            int currentNo) {\n        if (currentNo &lt;= n) {\n\n            int sum = secondLast + last;\n            System.out.println(sum);\n            calFibRec(n, last, sum, ++currentNo);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468781512,"creation_date":1468781512,"answer_id":38424798,"question_id":8965006,"body_markdown":"Most of solutions offered here run in O(2^n) complexity. Recalculating identical nodes in recursive tree is inefficient and wastes CPU cycles.\r\n\r\nWe can use memoization to make fibonacci function run in O(n) time\r\n\r\n    public static int fibonacci(int n) {\r\n        return fibonacci(n, new int[n + 1]);\r\n    }\r\n\r\n    public static int fibonacci(int i, int[] memo) {\r\n\r\n        if (i == 0 || i == 1) {\r\n            return i;\r\n        }\r\n\r\n        if (memo[i] == 0) {\r\n            memo[i] = fibonacci(i - 1, memo) + fibonacci(i - 2, memo);\r\n        }\r\n        return memo[i];\r\n    }\r\n\r\nIf we follow Bottom-Up Dynamic Programming route, below code is simple enough to compute fibonacci:\r\n\r\n    public static int fibonacci1(int n) {\r\n        if (n == 0) {\r\n            return n;\r\n        } else if (n == 1) {\r\n            return n;\r\n        }\r\n        final int[] memo = new int[n];\r\n\r\n        memo[0] = 0;\r\n        memo[1] = 1;\r\n\r\n        for (int i = 2; i &lt; n; i++) {\r\n            memo[i] = memo[i - 1] + memo[i - 2];\r\n        }\r\n        return memo[n - 1] + memo[n - 2];\r\n    }\r\n\r\n","title":"Java recursive Fibonacci sequence","body":"<p>Most of solutions offered here run in O(2^n) complexity. Recalculating identical nodes in recursive tree is inefficient and wastes CPU cycles.</p>\n\n<p>We can use memoization to make fibonacci function run in O(n) time</p>\n\n<pre><code>public static int fibonacci(int n) {\n    return fibonacci(n, new int[n + 1]);\n}\n\npublic static int fibonacci(int i, int[] memo) {\n\n    if (i == 0 || i == 1) {\n        return i;\n    }\n\n    if (memo[i] == 0) {\n        memo[i] = fibonacci(i - 1, memo) + fibonacci(i - 2, memo);\n    }\n    return memo[i];\n}\n</code></pre>\n\n<p>If we follow Bottom-Up Dynamic Programming route, below code is simple enough to compute fibonacci:</p>\n\n<pre><code>public static int fibonacci1(int n) {\n    if (n == 0) {\n        return n;\n    } else if (n == 1) {\n        return n;\n    }\n    final int[] memo = new int[n];\n\n    memo[0] = 0;\n    memo[1] = 1;\n\n    for (int i = 2; i &lt; n; i++) {\n        memo[i] = memo[i - 1] + memo[i - 2];\n    }\n    return memo[n - 1] + memo[n - 2];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3115001,"reputation":3712,"user_id":2709093,"display_name":"James K"},"score":2,"creation_date":1474789534,"post_id":39684505,"comment_id":66668782,"body_markdown":"Welcome to SO. While your answer does calculate the Fibonacci sequence. Your answer doesn&#39;t answer the OP, who asked about recursive functions.","body":"Welcome to SO. While your answer does calculate the Fibonacci sequence. Your answer doesn&#39;t answer the OP, who asked about recursive functions."}],"tags":[],"owner":{"account_id":9259471,"reputation":19,"user_id":6877082,"display_name":"Marcxcx"},"comment_count":1,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1498112018,"creation_date":1474789226,"answer_id":39684505,"question_id":8965006,"body_markdown":"Simple Fibonacci\r\n\t\r\n\tpublic static void main(String[]args){\r\n\t\t\r\n\t\tint i = 0;\r\n\t\tint u = 1;\r\n\t\t\r\n\t\twhile(i&lt;100){\r\n\t\t\tSystem.out.println(i);\r\n\t\t\ti = u+i;\r\n\t\t\tSystem.out.println(u);\r\n\t\t\tu = u+i;\r\n\t\t}\r\n\t  }\r\n    }\r\n","title":"Java recursive Fibonacci sequence","body":"<p>Simple Fibonacci</p>\n\n<pre><code>public static void main(String[]args){\n\n    int i = 0;\n    int u = 1;\n\n    while(i&lt;100){\n        System.out.println(i);\n        i = u+i;\n        System.out.println(u);\n        u = u+i;\n    }\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":1,"creation_date":1502413345,"post_id":44691479,"comment_id":78210572,"body_markdown":"&quot;Here we can see for loop is the best time wise&quot;; &quot;For Loop Time:347688&quot;; &quot;Memoization Time:327031&quot;; 347688 &gt; 327031.","body":"&quot;Here we can see for loop is the best time wise&quot;; &quot;For Loop Time:347688&quot;; &quot;Memoization Time:327031&quot;; 347688 &gt; 327031."},{"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"score":0,"creation_date":1502413587,"post_id":44691479,"comment_id":78210636,"body_markdown":"@CodeConfident Yeah, I just saw that mistake today and was about to correct it. Thanks anyways :).","body":"@CodeConfident Yeah, I just saw that mistake today and was about to correct it. Thanks anyways :)."}],"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1502436644,"creation_date":1498111995,"answer_id":44691479,"question_id":8965006,"body_markdown":"Most of the answers are good and explains how the recursion in fibonacci works. \r\n\r\nHere is an analysis on the three techniques which includes recursion as well: \r\n\r\n 1. *For Loop*\r\n 2. *Recursion*\r\n 3. *Memoization*\r\n\r\nHere is my code to test all three:\r\n\r\n    public class Fibonnaci {\r\n    \t// Output = 0 1 1 2 3 5 8 13\r\n    \r\n    \tstatic int fibMemo[];\r\n    \t\r\n    \tpublic static void main(String args[]) {\r\n    \t\tint num = 20;\r\n    \r\n    \t\tSystem.out.println(&quot;By For Loop&quot;);\r\n    \t\tLong startTimeForLoop = System.nanoTime();\r\n    \t\t// returns the fib series\r\n    \t\tint fibSeries[] = fib(num);\r\n    \t\tfor (int i = 0; i &lt; fibSeries.length; i++) {\r\n    \t\t\tSystem.out.print(&quot; &quot; + fibSeries[i] + &quot; &quot;);\r\n    \t\t}\r\n    \t\tLong stopTimeForLoop = System.nanoTime();\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\tSystem.out.println(&quot;For Loop Time:&quot; + (stopTimeForLoop - startTimeForLoop));\r\n    \r\n    \t\t\r\n    \t\tSystem.out.println(&quot;By Using Recursion&quot;);\r\n    \t\tLong startTimeRecursion = System.nanoTime();\r\n    \t\t// uses recursion\r\n    \t\tint fibSeriesRec[] = fibByRec(num);\r\n    \r\n    \t\tfor (int i = 0; i &lt; fibSeriesRec.length; i++) {\r\n    \t\t\tSystem.out.print(&quot; &quot; + fibSeriesRec[i] + &quot; &quot;);\r\n    \t\t}\r\n    \t\tLong stopTimeRecursion = System.nanoTime();\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\tSystem.out.println(&quot;Recursion Time:&quot; + (stopTimeRecursion -startTimeRecursion));\r\n    \r\n    \t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;By Using Memoization Technique&quot;);\r\n    \t\tLong startTimeMemo = System.nanoTime();\r\n    \t\t// uses memoization\r\n    \t\tfibMemo = new int[num];\r\n    \t\tfibByRecMemo(num-1);\r\n    \t\tfor (int i = 0; i &lt; fibMemo.length; i++) {\r\n    \t\t\tSystem.out.print(&quot; &quot; + fibMemo[i] + &quot; &quot;);\r\n    \t\t}\r\n    \t\tLong stopTimeMemo = System.nanoTime();\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\tSystem.out.println(&quot;Memoization Time:&quot; + (stopTimeMemo - startTimeMemo));\r\n    \r\n    \t}\r\n    \r\n    \t\r\n    \t//fib by memoization\r\n    \t\r\n    \tpublic static int fibByRecMemo(int num){\r\n    \t\t\r\n    \t\tif(num == 0){\r\n    \t\t\tfibMemo[0] = 0;\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(num ==1 || num ==2){\r\n    \t\t  fibMemo[num] = 1;\r\n    \t\t  return 1;\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(fibMemo[num] == 0){\r\n    \t\t\tfibMemo[num] = fibByRecMemo(num-1) + fibByRecMemo(num -2);\r\n    \t\t\treturn fibMemo[num];\r\n    \t\t}else{\r\n    \t\t\treturn fibMemo[num];\r\n    \t\t}\r\n    \t\t   \r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static int[] fibByRec(int num) {\r\n    \t\tint fib[] = new int[num];\r\n    \r\n    \t\tfor (int i = 0; i &lt; num; i++) {\r\n    \t\t\tfib[i] = fibRec(i);\r\n    \t\t}\r\n    \r\n    \t\treturn fib;\r\n    \t}\r\n    \r\n    \tpublic static int fibRec(int num) {\r\n    \t\tif (num == 0) {\r\n    \t\t\treturn 0;\r\n    \t\t} else if (num == 1 || num == 2) {\r\n    \t\t\treturn 1;\r\n    \t\t} else {\r\n    \t\t\treturn fibRec(num - 1) + fibRec(num - 2);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static int[] fib(int num) {\r\n    \t\tint fibSum[] = new int[num];\r\n    \t\tfor (int i = 0; i &lt; num; i++) {\r\n    \t\t\tif (i == 0) {\r\n    \t\t\t\tfibSum[i] = i;\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (i == 1 || i == 2) {\r\n    \t\t\t\tfibSum[i] = 1;\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\tfibSum[i] = fibSum[i - 1] + fibSum[i - 2];\r\n    \r\n    \t\t}\r\n    \t\treturn fibSum;\r\n    \t}\r\n    \r\n    }\r\n\r\nHere are the results:\r\n\r\n    By For Loop\r\n     0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \r\n    For Loop Time:347688\r\n    By Using Recursion\r\n     0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \r\n    Recursion Time:767004\r\n    By Using Memoization Technique\r\n     0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \r\n    Memoization Time:327031\r\n\r\nHence we can see memoization is the best *time wise* and for loop matches closely.\r\n\r\nBut recursion takes the longest and may be you should avoid in real life. Also if you are using recursion make sure that you optimize the solution.\r\n","title":"Java recursive Fibonacci sequence","body":"<p>Most of the answers are good and explains how the recursion in fibonacci works. </p>\n\n<p>Here is an analysis on the three techniques which includes recursion as well: </p>\n\n<ol>\n<li><em>For Loop</em></li>\n<li><em>Recursion</em></li>\n<li><em>Memoization</em></li>\n</ol>\n\n<p>Here is my code to test all three:</p>\n\n<pre><code>public class Fibonnaci {\n    // Output = 0 1 1 2 3 5 8 13\n\n    static int fibMemo[];\n\n    public static void main(String args[]) {\n        int num = 20;\n\n        System.out.println(\"By For Loop\");\n        Long startTimeForLoop = System.nanoTime();\n        // returns the fib series\n        int fibSeries[] = fib(num);\n        for (int i = 0; i &lt; fibSeries.length; i++) {\n            System.out.print(\" \" + fibSeries[i] + \" \");\n        }\n        Long stopTimeForLoop = System.nanoTime();\n        System.out.println(\"\");\n        System.out.println(\"For Loop Time:\" + (stopTimeForLoop - startTimeForLoop));\n\n\n        System.out.println(\"By Using Recursion\");\n        Long startTimeRecursion = System.nanoTime();\n        // uses recursion\n        int fibSeriesRec[] = fibByRec(num);\n\n        for (int i = 0; i &lt; fibSeriesRec.length; i++) {\n            System.out.print(\" \" + fibSeriesRec[i] + \" \");\n        }\n        Long stopTimeRecursion = System.nanoTime();\n        System.out.println(\"\");\n        System.out.println(\"Recursion Time:\" + (stopTimeRecursion -startTimeRecursion));\n\n\n\n        System.out.println(\"By Using Memoization Technique\");\n        Long startTimeMemo = System.nanoTime();\n        // uses memoization\n        fibMemo = new int[num];\n        fibByRecMemo(num-1);\n        for (int i = 0; i &lt; fibMemo.length; i++) {\n            System.out.print(\" \" + fibMemo[i] + \" \");\n        }\n        Long stopTimeMemo = System.nanoTime();\n        System.out.println(\"\");\n        System.out.println(\"Memoization Time:\" + (stopTimeMemo - startTimeMemo));\n\n    }\n\n\n    //fib by memoization\n\n    public static int fibByRecMemo(int num){\n\n        if(num == 0){\n            fibMemo[0] = 0;\n            return 0;\n        }\n\n        if(num ==1 || num ==2){\n          fibMemo[num] = 1;\n          return 1; \n        }\n\n        if(fibMemo[num] == 0){\n            fibMemo[num] = fibByRecMemo(num-1) + fibByRecMemo(num -2);\n            return fibMemo[num];\n        }else{\n            return fibMemo[num];\n        }\n\n    }\n\n\n    public static int[] fibByRec(int num) {\n        int fib[] = new int[num];\n\n        for (int i = 0; i &lt; num; i++) {\n            fib[i] = fibRec(i);\n        }\n\n        return fib;\n    }\n\n    public static int fibRec(int num) {\n        if (num == 0) {\n            return 0;\n        } else if (num == 1 || num == 2) {\n            return 1;\n        } else {\n            return fibRec(num - 1) + fibRec(num - 2);\n        }\n    }\n\n    public static int[] fib(int num) {\n        int fibSum[] = new int[num];\n        for (int i = 0; i &lt; num; i++) {\n            if (i == 0) {\n                fibSum[i] = i;\n                continue;\n            }\n\n            if (i == 1 || i == 2) {\n                fibSum[i] = 1;\n                continue;\n            }\n\n            fibSum[i] = fibSum[i - 1] + fibSum[i - 2];\n\n        }\n        return fibSum;\n    }\n\n}\n</code></pre>\n\n<p>Here are the results:</p>\n\n<pre><code>By For Loop\n 0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \nFor Loop Time:347688\nBy Using Recursion\n 0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \nRecursion Time:767004\nBy Using Memoization Technique\n 0  1  1  2  3  5  8  13  21  34  55  89  144  233  377  610  987  1597  2584  4181 \nMemoization Time:327031\n</code></pre>\n\n<p>Hence we can see memoization is the best <em>time wise</em> and for loop matches closely.</p>\n\n<p>But recursion takes the longest and may be you should avoid in real life. Also if you are using recursion make sure that you optimize the solution.</p>\n"},{"tags":[],"owner":{"display_name":"user6863325"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498681300,"creation_date":1498678471,"answer_id":44811131,"question_id":8965006,"body_markdown":"    public class febo \r\n    {\r\n     public static void main(String...a)\r\n     {\r\n      int x[]=new int[15];\t\r\n       x[0]=0;\r\n       x[1]=1;\r\n       for(int i=2;i&lt;x.length;i++)\r\n       {\r\n     \t  x[i]=x[i-1]+x[i-2];\r\n       }\r\n       for(int i=0;i&lt;x.length;i++)\r\n       {\r\n     \t  System.out.println(x[i]);\r\n       }\r\n     }\r\n    }\r\n\r\n","title":"Java recursive Fibonacci sequence","body":"<pre><code>public class febo \n{\n public static void main(String...a)\n {\n  int x[]=new int[15];  \n   x[0]=0;\n   x[1]=1;\n   for(int i=2;i&lt;x.length;i++)\n   {\n      x[i]=x[i-1]+x[i-2];\n   }\n   for(int i=0;i&lt;x.length;i++)\n   {\n      System.out.println(x[i]);\n   }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3904669,"reputation":37,"user_id":3231661,"display_name":"user3231661"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501580652,"creation_date":1501577645,"answer_id":45433244,"question_id":8965006,"body_markdown":"    public class FibonacciSeries {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tint N = scanner.nextInt();\r\n    \t\tfor (int i = 0; i &lt;= N; i++) {\r\n    \t\t\tint result = fibonacciSeries(i);\r\n    \t\t\tSystem.out.println(result);\r\n    \t\t}\r\n    \t\tscanner.close();\r\n    \t}\r\n    \r\n    \tprivate static int fibonacciSeries(int n) {\r\n    \t\tif (n &lt; 0) {\r\n    \t\t\treturn 1;\r\n    \t\t} else if (n &gt; 0) {\r\n    \t\t\treturn fibonacciSeries(n - 1) + fibonacciSeries(n - 2);\r\n    \t\t}\r\n    \t\treturn 0;\r\n    \t}\r\n    }","title":"Java recursive Fibonacci sequence","body":"<pre><code>public class FibonacciSeries {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int N = scanner.nextInt();\n        for (int i = 0; i &lt;= N; i++) {\n            int result = fibonacciSeries(i);\n            System.out.println(result);\n        }\n        scanner.close();\n    }\n\n    private static int fibonacciSeries(int n) {\n        if (n &lt; 0) {\n            return 1;\n        } else if (n &gt; 0) {\n            return fibonacciSeries(n - 1) + fibonacciSeries(n - 2);\n        }\n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502415804,"creation_date":1502415804,"answer_id":45625707,"question_id":8965006,"body_markdown":"# Why this answer is different\r\n\r\nEvery other answer either:\r\n\r\n - Prints instead of returns\r\n - Makes 2 recursive calls per iteration\r\n - Ignores the question by using loops\r\n\r\n(aside: none of these is actually efficient; use [Binet&#39;s formula][1] to directly calculate the n&lt;sup&gt;th&lt;/sup&gt; term)\r\n\r\n# Tail Recursive Fib\r\n\r\nHere is a recursive approach that avoids a double-recursive call by passing both the previous answer AND the one before that.\r\n\r\n    private static final int FIB_0 = 0;\r\n    private static final int FIB_1 = 1;\r\n    \r\n    private int calcFibonacci(final int target) {\r\n        if (target == 0) { return FIB_0; }\r\n        if (target == 1) { return FIB_1; }\r\n\r\n        return calcFibonacci(target, 1, FIB_1, FIB_0);\r\n    }\r\n    \r\n    private int calcFibonacci(final int target, final int previous, final int fibPrevious, final int fibPreviousMinusOne) {\r\n        final int current = previous + 1;\r\n        final int fibCurrent = fibPrevious + fibPreviousMinusOne;\r\n        // If you want, print here / memoize for future calls\r\n    \r\n        if (target == current) { return fibCurrent; }\r\n\r\n        return calcFibonacci(target, current, fibCurrent, fibPrevious);\r\n    }\r\n\r\n\r\n  [1]: http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/fibFormula.html#section1.2","title":"Java recursive Fibonacci sequence","body":"<h1>Why this answer is different</h1>\n\n<p>Every other answer either:</p>\n\n<ul>\n<li>Prints instead of returns</li>\n<li>Makes 2 recursive calls per iteration</li>\n<li>Ignores the question by using loops</li>\n</ul>\n\n<p>(aside: none of these is actually efficient; use <a href=\"http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/fibFormula.html#section1.2\" rel=\"nofollow noreferrer\">Binet's formula</a> to directly calculate the n<sup>th</sup> term)</p>\n\n<h1>Tail Recursive Fib</h1>\n\n<p>Here is a recursive approach that avoids a double-recursive call by passing both the previous answer AND the one before that.</p>\n\n<pre><code>private static final int FIB_0 = 0;\nprivate static final int FIB_1 = 1;\n\nprivate int calcFibonacci(final int target) {\n    if (target == 0) { return FIB_0; }\n    if (target == 1) { return FIB_1; }\n\n    return calcFibonacci(target, 1, FIB_1, FIB_0);\n}\n\nprivate int calcFibonacci(final int target, final int previous, final int fibPrevious, final int fibPreviousMinusOne) {\n    final int current = previous + 1;\n    final int fibCurrent = fibPrevious + fibPreviousMinusOne;\n    // If you want, print here / memoize for future calls\n\n    if (target == current) { return fibCurrent; }\n\n    return calcFibonacci(target, current, fibCurrent, fibPrevious);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8687812,"reputation":271,"user_id":6501649,"display_name":"Jeffrey Ferreiras"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512486371,"creation_date":1512486371,"answer_id":47656759,"question_id":8965006,"body_markdown":"A Fibbonacci sequence is one that sums the result of a number when added to the previous result starting with 1.\r\n         \r\n          so.. 1 + 1 = 2\r\n               2 + 3 = 5\r\n               3 + 5 = 8\r\n               5 + 8 = 13\r\n               8 + 13 = 21\r\n              \r\nOnce we understand what Fibbonacci is, we can begin to break down the code.\r\n \r\n    public int fibonacci(int n)  {\r\n        if(n == 0)\r\n            return 0;\r\n        else if(n == 1)\r\n          return 1;\r\n       else\r\n          return fibonacci(n - 1) + fibonacci(n - 2);\r\n    }\r\n \r\nThe first if statment checks for a base case, where the loop can break out. The else if statement below that is doing the same, but it could be re-written like so...\r\n \r\n        public int fibonacci(int n)  {\r\n            if(n &lt; 2)\r\n                 return n;\r\n       \r\n            return fibonacci(n - 1) + fibonacci(n - 2);\r\n        }\r\n \r\nNow that a base case is establish we have to understand the call stack.Your first call to &quot;fibonacci&quot; will be the last to resolve on the stack (sequence of calls) as they resolve in the reverse order from which they were called. The last method called resolves first, then the last to be called before that one and so on...\r\n \r\nSo, all the calls are made first before anything is &quot;calculated&quot; with those results. With an input of 8 we expect an output of 21 (see table above).\r\n \r\nfibonacci(n - 1) keeps being called until it reaches the base case, then fibonacci(n - 2) is called until it reaches the base case. When the stack starts summing the result in reverse order, the result will be like so...\r\n \r\n    1 + 1 = 1        ---- last call of the stack (hits a base case).\r\n    2 + 1 = 3        ---- Next level of the stack (resolving backwards).\r\n    2 + 3 = 5        ---- Next level of the stack (continuing to resolve).\r\n \r\nThey keep bubbling (resolving backwards) up until the correct sum is returned to the first call in the stack and that&#39;s how you get your answer.\r\n \r\nHaving said that, this algorithm is very inefficient because it calculates the same result for each branch the code splits into. A much better approach is a &quot;bottom up&quot; one where no Memoization (caching) or recursion (deep call stack) is required.\r\n \r\nLike so...\r\n \r\n \r\n            static int BottomUpFib(int current)\r\n            {\r\n                if (current &lt; 2) return current;\r\n   \r\n                int fib = 1;\r\n                int last = 1;\r\n   \r\n                for (int i = 2; i &lt; current; i++)\r\n                {\r\n                    int temp = fib;\r\n                    fib += last;\r\n                    last = temp;\r\n                }\r\n   \r\n                return fib;\r\n            }","title":"Java recursive Fibonacci sequence","body":"<p>A Fibbonacci sequence is one that sums the result of a number when added to the previous result starting with 1.</p>\n\n<pre><code>      so.. 1 + 1 = 2\n           2 + 3 = 5\n           3 + 5 = 8\n           5 + 8 = 13\n           8 + 13 = 21\n</code></pre>\n\n<p>Once we understand what Fibbonacci is, we can begin to break down the code.</p>\n\n<pre><code>public int fibonacci(int n)  {\n    if(n == 0)\n        return 0;\n    else if(n == 1)\n      return 1;\n   else\n      return fibonacci(n - 1) + fibonacci(n - 2);\n}\n</code></pre>\n\n<p>The first if statment checks for a base case, where the loop can break out. The else if statement below that is doing the same, but it could be re-written like so...</p>\n\n<pre><code>    public int fibonacci(int n)  {\n        if(n &lt; 2)\n             return n;\n\n        return fibonacci(n - 1) + fibonacci(n - 2);\n    }\n</code></pre>\n\n<p>Now that a base case is establish we have to understand the call stack.Your first call to \"fibonacci\" will be the last to resolve on the stack (sequence of calls) as they resolve in the reverse order from which they were called. The last method called resolves first, then the last to be called before that one and so on...</p>\n\n<p>So, all the calls are made first before anything is \"calculated\" with those results. With an input of 8 we expect an output of 21 (see table above).</p>\n\n<p>fibonacci(n - 1) keeps being called until it reaches the base case, then fibonacci(n - 2) is called until it reaches the base case. When the stack starts summing the result in reverse order, the result will be like so...</p>\n\n<pre><code>1 + 1 = 1        ---- last call of the stack (hits a base case).\n2 + 1 = 3        ---- Next level of the stack (resolving backwards).\n2 + 3 = 5        ---- Next level of the stack (continuing to resolve).\n</code></pre>\n\n<p>They keep bubbling (resolving backwards) up until the correct sum is returned to the first call in the stack and that's how you get your answer.</p>\n\n<p>Having said that, this algorithm is very inefficient because it calculates the same result for each branch the code splits into. A much better approach is a \"bottom up\" one where no Memoization (caching) or recursion (deep call stack) is required.</p>\n\n<p>Like so...</p>\n\n<pre><code>        static int BottomUpFib(int current)\n        {\n            if (current &lt; 2) return current;\n\n            int fib = 1;\n            int last = 1;\n\n            for (int i = 2; i &lt; current; i++)\n            {\n                int temp = fib;\n                fib += last;\n                last = temp;\n            }\n\n            return fib;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3883758,"reputation":51,"user_id":3215663,"display_name":"George Curington"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515545728,"creation_date":1515543917,"answer_id":48178621,"question_id":8965006,"body_markdown":"By using an internal ConcurrentHashMap which theoretically might allow\r\nthis recursive implementation to properly operate in a multithreaded \r\nenvironment, I have implemented a fib function that uses both BigInteger\r\nand Recursion. Takes about 53ms to calculate the first 100 fib numbers.\r\n\r\n   \r\n    private final Map&lt;BigInteger,BigInteger&gt; cacheBig  \r\n        = new ConcurrentHashMap&lt;&gt;();\r\n    public BigInteger fibRecursiveBigCache(BigInteger n) {\r\n        BigInteger a = cacheBig.computeIfAbsent(n, this::fibBigCache);\r\n        return a;\r\n    }\r\n    public BigInteger fibBigCache(BigInteger n) {\r\n        if ( n.compareTo(BigInteger.ONE ) &lt;= 0 ){\r\n            return n;\r\n        } else if (cacheBig.containsKey(n)){\r\n            return cacheBig.get(n);\r\n        } else {\r\n            return      \r\n                fibBigCache(n.subtract(BigInteger.ONE))\r\n                .add(fibBigCache(n.subtract(TWO)));\r\n        }\r\n    }\r\n      \r\n\r\n\r\nThe test code is:\r\n\r\n\r\n   \r\n    @Test\r\n    public void testFibRecursiveBigIntegerCache() {\r\n    \tlong start = System.currentTimeMillis();\r\n    \tFibonacciSeries fib = new FibonacciSeries();\r\n    \tIntStream.rangeClosed(0,100).forEach(p -&amp;R {\r\n    \t\tBigInteger n = BigInteger.valueOf(p);\r\n    \t\tn = fib.fibRecursiveBigCache(n);\r\n    \t\tSystem.out.println(String.format(&quot;fib of %d is %d&quot;, p,n));\r\n    \t});\r\n    \tlong end = System.currentTimeMillis();\r\n    \tSystem.out.println(&quot;elapsed:&quot; + \r\n        (end - start) + &quot;,&quot; + \r\n        ((end - start)/1000));\r\n    }\r\n   \r\n\r\n&lt;pre&gt;\r\nand output from the test is:\r\n    .\r\n    .\r\n    .\r\n    .\r\n    .\r\n    fib of 93 is 12200160415121876738\r\n    fib of 94 is 19740274219868223167\r\n    fib of 95 is 31940434634990099905\r\n    fib of 96 is 51680708854858323072\r\n    fib of 97 is 83621143489848422977\r\n    fib of 98 is 135301852344706746049\r\n    fib of 99 is 218922995834555169026\r\n    fib of 100 is 354224848179261915075\r\n    elapsed:58,0\r\n&lt;/pre&gt;","title":"Java recursive Fibonacci sequence","body":"<p>By using an internal ConcurrentHashMap which theoretically might allow\nthis recursive implementation to properly operate in a multithreaded \nenvironment, I have implemented a fib function that uses both BigInteger\nand Recursion. Takes about 53ms to calculate the first 100 fib numbers.</p>\n\n<pre><code>private final Map&lt;BigInteger,BigInteger&gt; cacheBig  \n    = new ConcurrentHashMap&lt;&gt;();\npublic BigInteger fibRecursiveBigCache(BigInteger n) {\n    BigInteger a = cacheBig.computeIfAbsent(n, this::fibBigCache);\n    return a;\n}\npublic BigInteger fibBigCache(BigInteger n) {\n    if ( n.compareTo(BigInteger.ONE ) &lt;= 0 ){\n        return n;\n    } else if (cacheBig.containsKey(n)){\n        return cacheBig.get(n);\n    } else {\n        return      \n            fibBigCache(n.subtract(BigInteger.ONE))\n            .add(fibBigCache(n.subtract(TWO)));\n    }\n}\n</code></pre>\n\n<p>The test code is:</p>\n\n<pre><code>@Test\npublic void testFibRecursiveBigIntegerCache() {\n    long start = System.currentTimeMillis();\n    FibonacciSeries fib = new FibonacciSeries();\n    IntStream.rangeClosed(0,100).forEach(p -&amp;R {\n        BigInteger n = BigInteger.valueOf(p);\n        n = fib.fibRecursiveBigCache(n);\n        System.out.println(String.format(\"fib of %d is %d\", p,n));\n    });\n    long end = System.currentTimeMillis();\n    System.out.println(\"elapsed:\" + \n    (end - start) + \",\" + \n    ((end - start)/1000));\n}\n</code></pre>\n\n<pre>\nand output from the test is:\n    .\n    .\n    .\n    .\n    .\n    fib of 93 is 12200160415121876738\n    fib of 94 is 19740274219868223167\n    fib of 95 is 31940434634990099905\n    fib of 96 is 51680708854858323072\n    fib of 97 is 83621143489848422977\n    fib of 98 is 135301852344706746049\n    fib of 99 is 218922995834555169026\n    fib of 100 is 354224848179261915075\n    elapsed:58,0\n</pre>\n"},{"tags":[],"owner":{"account_id":7422340,"reputation":2446,"user_id":5646176,"accept_rate":50,"display_name":"RonTLV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518088878,"creation_date":1518088878,"answer_id":48684283,"question_id":8965006,"body_markdown":"Here is a one line febonacci recursive:\r\n\r\n    public long fib( long n ) {\r\n            return n &lt;= 0 ? 0 : n == 1 ? 1 : fib( n - 1 ) + fib( n - 2 );\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>Here is a one line febonacci recursive:</p>\n\n<pre><code>public long fib( long n ) {\n        return n &lt;= 0 ? 0 : n == 1 ? 1 : fib( n - 1 ) + fib( n - 2 );\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11665644,"reputation":25,"user_id":8542449,"display_name":"Saurabh Agrawal"},"score":0,"creation_date":1568799675,"post_id":49691941,"comment_id":102386830,"body_markdown":"I don&#39;t know who voted me down. However, tweak in the code to print complete Fib series. Fib series program problem statement does not only mean to display last number. Hope the down-voters would have understood the actual purpose of code.","body":"I don&#39;t know who voted me down. However, tweak in the code to print complete Fib series. Fib series program problem statement does not only mean to display last number. Hope the down-voters would have understood the actual purpose of code."}],"tags":[],"owner":{"account_id":11665644,"reputation":25,"user_id":8542449,"display_name":"Saurabh Agrawal"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1523015366,"creation_date":1523014636,"answer_id":49691941,"question_id":8965006,"body_markdown":"Yes, it&#39;s important to memorize your calculated return value from each recursion method call, so that you can display the series in calling method.\r\n\r\nThere are some refinement in the implementation provided. Please find below implementation which gives us more correct and versatile output:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.stream.Collectors;\r\n\r\n    public class Fibonacci {\r\n\tprivate static HashMap&lt;Long, Long&gt; map;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlong n = 50;\r\n\t\tmap = new HashMap&lt;&gt;();\r\n\t\tfindFibonacciValue(n);\r\n\t\tSystem.out.println(map.values().stream().collect(Collectors.toList()));\r\n\t}\r\n\r\n\tpublic static long findFibonacciValue(long number) {\r\n\t\tif (number &lt;= 1) {\r\n\t\t\tif (number == 0) {\r\n\t\t\t\tmap.put(number, 0L);\r\n\t\t\t\treturn 0L;\r\n\t\t\t}\r\n\t\t\tmap.put(number, 1L);\r\n\t\t\treturn 1L;\r\n\t\t} else if (map.containsKey(number)) {\r\n\t\t\treturn map.get(number);\r\n\t\t} else {\r\n\t\t\tlong fibonacciValue = findFibonacciValue(number - 1L) + findFibonacciValue(number - 2L);\r\n\t\t\tmap.put(number, fibonacciValue);\r\n\t\t\treturn fibonacciValue;\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n\r\nOutput for number 50 is:\r\n\r\n    [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765, 10946, 17711, 28657, 46368, 75025, 121393, 196418, 317811, 514229, 832040, 1346269, 2178309, 3524578, 5702887, 9227465, 14930352, 24157817, 39088169, 63245986, 102334155, 165580141, 267914296, 433494437, 701408733, 1134903170, 1836311903, 2971215073, 4807526976, 7778742049, 12586269025]","title":"Java recursive Fibonacci sequence","body":"<p>Yes, it's important to memorize your calculated return value from each recursion method call, so that you can display the series in calling method.</p>\n\n<p>There are some refinement in the implementation provided. Please find below implementation which gives us more correct and versatile output:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.stream.Collectors;\n\npublic class Fibonacci {\nprivate static HashMap&lt;Long, Long&gt; map;\n\npublic static void main(String[] args) {\n    long n = 50;\n    map = new HashMap&lt;&gt;();\n    findFibonacciValue(n);\n    System.out.println(map.values().stream().collect(Collectors.toList()));\n}\n\npublic static long findFibonacciValue(long number) {\n    if (number &lt;= 1) {\n        if (number == 0) {\n            map.put(number, 0L);\n            return 0L;\n        }\n        map.put(number, 1L);\n        return 1L;\n    } else if (map.containsKey(number)) {\n        return map.get(number);\n    } else {\n        long fibonacciValue = findFibonacciValue(number - 1L) + findFibonacciValue(number - 2L);\n        map.put(number, fibonacciValue);\n        return fibonacciValue;\n    }\n}\n}\n</code></pre>\n\n<p>Output for number 50 is:</p>\n\n<pre><code>[0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765, 10946, 17711, 28657, 46368, 75025, 121393, 196418, 317811, 514229, 832040, 1346269, 2178309, 3524578, 5702887, 9227465, 14930352, 24157817, 39088169, 63245986, 102334155, 165580141, 267914296, 433494437, 701408733, 1134903170, 1836311903, 2971215073, 4807526976, 7778742049, 12586269025]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7608029,"reputation":4455,"user_id":5770004,"display_name":"Gavriel Cohen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525692776,"creation_date":1525692776,"answer_id":50213235,"question_id":8965006,"body_markdown":"Use `while`:\r\n\r\n    public int fib(int index) {\r\n\t\tint tmp = 0, step1 = 0, step2 = 1, fibNumber = 0;\r\n\t\twhile (tmp &lt; index - 1) {\r\n\t\t\tfibNumber = step1 + step2;\r\n\t\t\tstep1 = step2;\r\n\t\t\tstep2 = fibNumber;\r\n\t\t\ttmp += 1;\r\n\t\t};\r\n\t\treturn fibNumber;\r\n\t}\r\n\r\nThe advantage of this solution is that it&#39;s easy to read the code and understand it, hoping it helps","title":"Java recursive Fibonacci sequence","body":"<p>Use <code>while</code>:</p>\n\n<pre><code>public int fib(int index) {\n    int tmp = 0, step1 = 0, step2 = 1, fibNumber = 0;\n    while (tmp &lt; index - 1) {\n        fibNumber = step1 + step2;\n        step1 = step2;\n        step2 = fibNumber;\n        tmp += 1;\n    };\n    return fibNumber;\n}\n</code></pre>\n\n<p>The advantage of this solution is that it's easy to read the code and understand it, hoping it helps</p>\n"},{"tags":[],"owner":{"account_id":3342882,"reputation":871,"user_id":2808740,"accept_rate":100,"display_name":"Mathias Stavrou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528227183,"creation_date":1528227183,"answer_id":50707660,"question_id":8965006,"body_markdown":"A Fibbonacci sequence is one that sums the result of a number\r\nthen we have added to the previous result, we should started from 1.\r\nI was trying to find a solution based on algorithm, so i build the recursive code, noticed that i keep the previous number and i changed the position. I&#39;m searching the Fibbonacci sequence from 1 to 15. \r\n\r\n    public static void main(String args[]) {\r\n        \r\n        numbers(1,1,15);\r\n    }\r\n    \r\n    \r\n    public static int numbers(int a, int temp, int target)\r\n    {\r\n        if(target &lt;= a)\r\n        {\r\n            return a;\r\n        }\r\n        \r\n        System.out.print(a + &quot; &quot;);\r\n        \r\n        a = temp + a;\r\n        \r\n        return numbers(temp,a,target);\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>A Fibbonacci sequence is one that sums the result of a number\nthen we have added to the previous result, we should started from 1.\nI was trying to find a solution based on algorithm, so i build the recursive code, noticed that i keep the previous number and i changed the position. I'm searching the Fibbonacci sequence from 1 to 15. </p>\n\n<pre><code>public static void main(String args[]) {\n\n    numbers(1,1,15);\n}\n\n\npublic static int numbers(int a, int temp, int target)\n{\n    if(target &lt;= a)\n    {\n        return a;\n    }\n\n    System.out.print(a + \" \");\n\n    a = temp + a;\n\n    return numbers(temp,a,target);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9168037,"reputation":140,"user_id":6816791,"accept_rate":60,"display_name":"markus rytter"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1579115162,"creation_date":1551984829,"answer_id":55050914,"question_id":8965006,"body_markdown":"Try this\r\n\r\n    private static int fibonacci(int n){\r\n        if(n &lt;= 1)\r\n            return n;\r\n        return fibonacci(n - 1) + fibonacci(n - 2);\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>Try this</p>\n\n<pre><code>private static int fibonacci(int n){\n    if(n &lt;= 1)\n        return n;\n    return fibonacci(n - 1) + fibonacci(n - 2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7051471,"reputation":703,"user_id":5400374,"display_name":"Samir"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578822417,"creation_date":1561234913,"answer_id":56718902,"question_id":8965006,"body_markdown":"Here is O(1) solution :\r\n\r\n     private static long fibonacci(int n) {\r\n        double pha = pow(1 + sqrt(5), n);\r\n        double phb = pow(1 - sqrt(5), n);\r\n        double div = pow(2, n) * sqrt(5);\r\n        \r\n        return (long) ((pha - phb) / div);\r\n    }\r\n \r\n [ Binet&#39;s Fibonacci number formula][1] used for above implementation.\r\n For large inputs `long` can be replaced with `BigDecimal`.\r\n\r\n\r\n  [1]: http://mathworld.wolfram.com/FibonacciNumber.html","title":"Java recursive Fibonacci sequence","body":"<p>Here is O(1) solution :</p>\n\n<pre><code> private static long fibonacci(int n) {\n    double pha = pow(1 + sqrt(5), n);\n    double phb = pow(1 - sqrt(5), n);\n    double div = pow(2, n) * sqrt(5);\n\n    return (long) ((pha - phb) / div);\n}\n</code></pre>\n\n<p><a href=\"http://mathworld.wolfram.com/FibonacciNumber.html\" rel=\"nofollow noreferrer\"> Binet's Fibonacci number formula</a> used for above implementation.\n For large inputs <code>long</code> can be replaced with <code>BigDecimal</code>.</p>\n"},{"tags":[],"owner":{"account_id":9958740,"reputation":124,"user_id":7368720,"display_name":"GarbageCollector"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635929966,"creation_date":1635929966,"answer_id":69822084,"question_id":8965006,"body_markdown":"I could not find a simple one liner with a ternary operator. So here is one:\r\n\r\n    public int fibonacci(int n) {\r\n        return (n &lt; 2) ? n : fibonacci(n - 2) + fibonacci(n - 1);\r\n    }","title":"Java recursive Fibonacci sequence","body":"<p>I could not find a simple one liner with a ternary operator. So here is one:</p>\n<pre><code>public int fibonacci(int n) {\n    return (n &lt; 2) ? n : fibonacci(n - 2) + fibonacci(n - 1);\n}\n</code></pre>\n"}],"owner":{"account_id":1191231,"reputation":2004,"user_id":1163968,"accept_rate":80,"display_name":"Index Hacker"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540426,"favorite_count":0,"down_vote_count":5,"up_vote_count":172,"accepted_answer_id":8965075,"answer_count":37,"score":167,"last_activity_date":1688421132,"creation_date":1327268876,"question_id":8965006,"body_markdown":"Please explain this simple code:\r\n\r\n    public int fibonacci(int n)  {\r\n    \tif(n == 0)\r\n        \treturn 0;\r\n    \telse if(n == 1)\r\n          return 1;\r\n       else\r\n          return fibonacci(n - 1) + fibonacci(n - 2);\r\n    }\r\n\r\nI&#39;m confused with the last line especially because if n = 5 for example, then fibonacci(4) + fibonacci(3) would be called and so on but I don&#39;t understand how this algorithm calculates the value at index 5 by this method. Please explain with a lot of detail! \r\n","title":"Java recursive Fibonacci sequence","body":"<p>Please explain this simple code:</p>\n\n<pre><code>public int fibonacci(int n)  {\n    if(n == 0)\n        return 0;\n    else if(n == 1)\n      return 1;\n   else\n      return fibonacci(n - 1) + fibonacci(n - 2);\n}\n</code></pre>\n\n<p>I'm confused with the last line especially because if n = 5 for example, then fibonacci(4) + fibonacci(3) would be called and so on but I don't understand how this algorithm calculates the value at index 5 by this method. Please explain with a lot of detail! </p>\n"},{"tags":["java","json","spring-boot","rest"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688243170,"post_id":76596436,"comment_id":135048774,"body_markdown":"Do not use entity classes at controller level. Learn about 3tier architecture.","body":"Do not use entity classes at controller level. Learn about 3tier architecture."},{"owner":{"account_id":9953964,"reputation":111,"user_id":7365579,"display_name":"svil"},"score":0,"creation_date":1688243917,"post_id":76596436,"comment_id":135048844,"body_markdown":"Yes. I know, this code without service, i use Repository, Entity, Controller only. But how to add nested class to question in json?","body":"Yes. I know, this code without service, i use Repository, Entity, Controller only. But how to add nested class to question in json?"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688421108,"creation_date":1688421108,"answer_id":76608289,"question_id":76596436,"body_markdown":"You need to add @OneToMany mapping between Question and Answers","title":"How to get all json levels from different entities in one rest method?","body":"<p>You need to add @OneToMany mapping between Question and Answers</p>\n"}],"owner":{"account_id":9953964,"reputation":111,"user_id":7365579,"display_name":"svil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688421108,"creation_date":1688243031,"question_id":76596436,"body_markdown":"Java.String-boot.Rest api. There are three entities: media, question, answer. media and question are connected many-to-many. Question and answer are related one-to- many. Accordingly, media &quot;does not see&quot; the answers, that  &quot;sees&quot; only question.\r\n\r\n    public class Media {\r\n    ...\r\n    \r\n          @ManyToMany(fetch = FetchType.LAZY, cascade = { CascadeType.PERSIST, CascadeType.MERGE })\r\n          @JoinTable(name = &quot;media_question&quot;, joinColumns = { @JoinColumn(name = &quot;media_id&quot;) }, inverseJoinColumns = {\r\n              @JoinColumn(name = &quot;question_id&quot;) })\r\n          private Set&lt;Question&gt; questions = new HashSet&lt;&gt;();\r\n        ...\r\n        }   \r\n        \r\n    public class Question {\r\n    ...\r\n    @ManyToMany(fetch = FetchType.LAZY,\r\n          cascade = {\r\n              CascadeType.PERSIST,\r\n              CascadeType.MERGE\r\n          },\r\n          mappedBy = &quot;questions&quot;)\r\n    \r\n    \r\n      @JsonIgnore\r\n      private Set&lt;Media&gt; medias = new HashSet&lt;&gt;();\r\n    ...\r\n    }\r\n    \r\n    public class Answer {\r\n    ...\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;question_id&quot;, nullable = false)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        @JsonIgnore\r\n        private Question question;\r\n    ...\r\n    }\r\n\r\nController:\r\n\r\n    @GetMapping(&quot;/medias/{id}&quot;)\r\n      public ResponseEntity&lt;Media&gt; getMediaById(@PathVariable(&quot;id&quot;) long id) {\r\n        Media media= mediaRepository.findById(id)\r\n            .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Not found Media with id = &quot; + id));\r\n    \r\n        return new ResponseEntity&lt;&gt;(media, HttpStatus.OK);\r\n      }\r\n\r\nJSON must be with answers, but it doesn&#39;t :\r\n\r\n     [![{\r\n                  &quot;id&quot;: 5,\r\n                  &quot;title&quot;: &quot;test&quot;,\r\n                  &quot;description&quot;: &quot;so so&quot;,\r\n                  &quot;published&quot;: true,\r\n                  &quot;questions&quot;: [\r\n                    {\r\n                      &quot;id&quot;: 9,\r\n                      &quot;name&quot;: &quot;How many?&quot;\r\n                      &quot;answers&quot;:[\r\n                        {\r\n                          &quot;id&quot;: 1,\r\n                          &quot;name&quot;: &quot;5&quot;\r\n                        },\r\n                        {\r\n                          &quot;id&quot;: 2,\r\n                          &quot;name&quot;: &quot;2&quot;\r\n                        }\r\n                      ]\r\n                    }\r\n                  ]\r\n                }]","title":"How to get all json levels from different entities in one rest method?","body":"<p>Java.String-boot.Rest api. There are three entities: media, question, answer. media and question are connected many-to-many. Question and answer are related one-to- many. Accordingly, media &quot;does not see&quot; the answers, that  &quot;sees&quot; only question.</p>\n<pre><code>public class Media {\n...\n\n      @ManyToMany(fetch = FetchType.LAZY, cascade = { CascadeType.PERSIST, CascadeType.MERGE })\n      @JoinTable(name = &quot;media_question&quot;, joinColumns = { @JoinColumn(name = &quot;media_id&quot;) }, inverseJoinColumns = {\n          @JoinColumn(name = &quot;question_id&quot;) })\n      private Set&lt;Question&gt; questions = new HashSet&lt;&gt;();\n    ...\n    }   \n    \npublic class Question {\n...\n@ManyToMany(fetch = FetchType.LAZY,\n      cascade = {\n          CascadeType.PERSIST,\n          CascadeType.MERGE\n      },\n      mappedBy = &quot;questions&quot;)\n\n\n  @JsonIgnore\n  private Set&lt;Media&gt; medias = new HashSet&lt;&gt;();\n...\n}\n\npublic class Answer {\n...\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;question_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    private Question question;\n...\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@GetMapping(&quot;/medias/{id}&quot;)\n  public ResponseEntity&lt;Media&gt; getMediaById(@PathVariable(&quot;id&quot;) long id) {\n    Media media= mediaRepository.findById(id)\n        .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Not found Media with id = &quot; + id));\n\n    return new ResponseEntity&lt;&gt;(media, HttpStatus.OK);\n  }\n</code></pre>\n<p>JSON must be with answers, but it doesn't :</p>\n<pre><code> [![{\n              &quot;id&quot;: 5,\n              &quot;title&quot;: &quot;test&quot;,\n              &quot;description&quot;: &quot;so so&quot;,\n              &quot;published&quot;: true,\n              &quot;questions&quot;: [\n                {\n                  &quot;id&quot;: 9,\n                  &quot;name&quot;: &quot;How many?&quot;\n                  &quot;answers&quot;:[\n                    {\n                      &quot;id&quot;: 1,\n                      &quot;name&quot;: &quot;5&quot;\n                    },\n                    {\n                      &quot;id&quot;: 2,\n                      &quot;name&quot;: &quot;2&quot;\n                    }\n                  ]\n                }\n              ]\n            }]\n</code></pre>\n"},{"tags":["javascript","java","android","react-native","webview"],"owner":{"account_id":28889091,"reputation":1,"user_id":22126672,"display_name":"Zhang Wei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688420827,"creation_date":1687659178,"question_id":76548643,"body_markdown":"I am embedding webview(VueJS) in my react native app, on some devices it is fine but on some android models it is not. I have tried many ways on google and stackoverflow but it doesn&#39;t work.\r\n\r\nWhen i change the webview&#39;s path to google.com or any other page it&#39;s fine but for my vuejs page it throws an error. Here is the code in my react native:\r\n\r\n```javascript\r\nimport * as React from &#39;react&#39;;\r\nimport { Text, View, StyleSheet,Dimensions } from &#39;react-native&#39;;\r\nimport Constants from &#39;expo-constants&#39;;\r\nimport { WebView } from &#39;react-native-webview&#39;;\r\nimport { useRef } from &#39;react&#39;;\r\nexport default function App() {\r\n  return (\r\n   \r\n    \r\n    &lt;View style={styles.container}&gt;\r\n      &lt;WebView\r\n      setLayerType=&quot;software&quot;\r\n      mixedContentMode=&quot;always&quot;\r\n      ignoreSslError={true}\r\n        style = {{marginTop: 0, width: Dimensions.get(&#39;window&#39;).width, height: Dimensions.get(&#39;window&#39;).height}}\r\n        source={{ uri: &#39;mydomain&#39; }} \r\n        javaScriptEnabled={true}\r\n        domStorageEnabled={true}\r\n        // startInLoadingState={true}\r\n        mediaPlaybackRequiresUserAction={false}\r\n        nestedScrollEnabled={false}\r\n        setJavaScriptEnabled={false}\r\n        scalesPageToFit={true}\r\n        originWhitelist={[&#39;*&#39;]}\r\n      /&gt;\r\n       &lt;/View&gt;\r\n  );\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: &#39;center&#39;,\r\n    backgroundColor: &#39;#ecf0f1&#39;\r\n  },\r\n  webview:{\r\n    height: &#39;100%&#39;,\r\n  }\r\n});\r\n\r\n\r\n```\r\n\r\n\r\nHope to receive your support, thank you very much","title":"Why does the webview show a blank page(white screen) on some devices","body":"<p>I am embedding webview(VueJS) in my react native app, on some devices it is fine but on some android models it is not. I have tried many ways on google and stackoverflow but it doesn't work.</p>\n<p>When i change the webview's path to google.com or any other page it's fine but for my vuejs page it throws an error. Here is the code in my react native:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import * as React from 'react';\nimport { Text, View, StyleSheet,Dimensions } from 'react-native';\nimport Constants from 'expo-constants';\nimport { WebView } from 'react-native-webview';\nimport { useRef } from 'react';\nexport default function App() {\n  return (\n   \n    \n    &lt;View style={styles.container}&gt;\n      &lt;WebView\n      setLayerType=&quot;software&quot;\n      mixedContentMode=&quot;always&quot;\n      ignoreSslError={true}\n        style = {{marginTop: 0, width: Dimensions.get('window').width, height: Dimensions.get('window').height}}\n        source={{ uri: 'mydomain' }} \n        javaScriptEnabled={true}\n        domStorageEnabled={true}\n        // startInLoadingState={true}\n        mediaPlaybackRequiresUserAction={false}\n        nestedScrollEnabled={false}\n        setJavaScriptEnabled={false}\n        scalesPageToFit={true}\n        originWhitelist={['*']}\n      /&gt;\n       &lt;/View&gt;\n  );\n}\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    backgroundColor: '#ecf0f1'\n  },\n  webview:{\n    height: '100%',\n  }\n});\n\n\n</code></pre>\n<p>Hope to receive your support, thank you very much</p>\n"},{"tags":["java","xml","xsl-fo","apache-fop","xxe"],"comments":[{"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"score":0,"creation_date":1574682014,"post_id":59030909,"comment_id":104305738,"body_markdown":"These are all FOP errors. But you didn&#39;t provide the input files creating this FOP file and therefore your question is not answerable in the current state. Please provide the input files (XML + XSLT or at least the XML-FO output file).","body":"These are all FOP errors. But you didn&#39;t provide the input files creating this FOP file and therefore your question is not answerable in the current state. Please provide the input files (XML + XSLT or at least the XML-FO output file)."},{"owner":{"account_id":17171618,"reputation":33,"user_id":12428654,"display_name":"greggor"},"score":0,"creation_date":1574682930,"post_id":59030909,"comment_id":104306264,"body_markdown":"I edited my post and provided an XSL input file. I think an XML file is not really necessery. If I&#39;m wrong i can provide it too.","body":"I edited my post and provided an XSL input file. I think an XML file is not really necessery. If I&#39;m wrong i can provide it too."},{"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"score":0,"creation_date":1574688028,"post_id":59030909,"comment_id":104309009,"body_markdown":"I checked you code with the definition of [fo:simple-page-master](http://www.datypic.com/sc/fo11/e-fo_simple-page-master.html) and except for `initial-page-number=&quot;1&quot;`, it&#39;s all standard compliant. So, I guess, without the relevant part of the XML, I cannot  replicate the error.","body":"I checked you code with the definition of <a href=\"http://www.datypic.com/sc/fo11/e-fo_simple-page-master.html\" rel=\"nofollow noreferrer\">fo:simple-page-master</a> and except for <code>initial-page-number=&quot;1&quot;</code>, it&#39;s all standard compliant. So, I guess, without the relevant part of the XML, I cannot  replicate the error."},{"owner":{"account_id":17171618,"reputation":33,"user_id":12428654,"display_name":"greggor"},"score":0,"creation_date":1574690698,"post_id":59030909,"comment_id":104310580,"body_markdown":"XML input files can be these invoices: https://github.com/itplr-kosit/xrechnung-testsuite/tree/master/instances (or do You mean the FOP-Config XML?)\nI think my problem is the TransformerFactory that I use. When I change the implementing class, warnings disappear. Do you know, which implementation classes support this feature?","body":"XML input files can be these invoices: <a href=\"https://github.com/itplr-kosit/xrechnung-testsuite/tree/master/instances\" rel=\"nofollow noreferrer\">github.com/itplr-kosit/xrechnung-testsuite/tree/master/&hellip;</a> (or do You mean the FOP-Config XML?) I think my problem is the TransformerFactory that I use. When I change the implementing class, warnings disappear. Do you know, which implementation classes support this feature?"},{"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"score":0,"creation_date":1574697742,"post_id":59030909,"comment_id":104314396,"body_markdown":"I tried to reproduce your error with the first XML file from your link. Then I applied the XSLT and after that Apache FOP. The result is a PDF file containing two strings: `foo` and `bar`. The chain appears to work, but the output seems to need some improvement. However, I cannot reproduce the errors.","body":"I tried to reproduce your error with the first XML file from your link. Then I applied the XSLT and after that Apache FOP. The result is a PDF file containing two strings: <code>foo</code> and <code>bar</code>. The chain appears to work, but the output seems to need some improvement. However, I cannot reproduce the errors."},{"owner":{"account_id":17171618,"reputation":33,"user_id":12428654,"display_name":"greggor"},"score":0,"creation_date":1574752184,"post_id":59030909,"comment_id":104332278,"body_markdown":"Could you please tell me, which implementation class of TransformerFactory did you use? The chain works for me too as long as I don&#39;t set the secure processing feature. Thank you for help anyway.","body":"Could you please tell me, which implementation class of TransformerFactory did you use? The chain works for me too as long as I don&#39;t set the secure processing feature. Thank you for help anyway."},{"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"score":0,"creation_date":1574756534,"post_id":59030909,"comment_id":104334094,"body_markdown":"Actually, I did not use `TransformerFactory` at all. I just put the XML and the XSLT into an XSLT processor, and passed the result to _Apache FOP_ to transform it to a PDF file. Then I viewed the PDF using the standard PDF viewer of Ubuntu 18.04: `okular`. So, I used a different approach that&#39;s working as desired and made the point that your XML+XSLT seem to be OK. The problem must be somewhere else.","body":"Actually, I did not use <code>TransformerFactory</code> at all. I just put the XML and the XSLT into an XSLT processor, and passed the result to <i>Apache FOP</i> to transform it to a PDF file. Then I viewed the PDF using the standard PDF viewer of Ubuntu 18.04: <code>okular</code>. So, I used a different approach that&#39;s working as desired and made the point that your XML+XSLT seem to be OK. The problem must be somewhere else."}],"answers":[{"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688420467,"creation_date":1617237337,"answer_id":66897004,"question_id":59030909,"body_markdown":"This is due to xalan-2.7.2.\r\n\r\n[Here is the bug in Xalan-J](https://issues.apache.org/jira/browse/XALANJ-2591)\r\n\r\nSwitching to xalan-2.7.1 or earlier will solve your problem.\r\n\r\nYou may have to force exclusions for xalan on an Apache-FO dependency.\r\n\r\nYou can also overwrite with 2.7.2_3, which patches this problem.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n&lt;/dependency&gt;\r\n```\r\nUse of `&lt;!--$NO-MVN-MAN-VER$--&gt;` prevents overrides.\r\n\r\n*Note:* this bugfix was not migrated to xalan-2.7.3 for unspecified reasons and at this time there is no servicemix for 2.7.3 with the bugfix.","title":"Setting secure processing in TransformerFactory leads to Problems in XSL","body":"<p>This is due to xalan-2.7.2.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/XALANJ-2591\" rel=\"nofollow noreferrer\">Here is the bug in Xalan-J</a></p>\n<p>Switching to xalan-2.7.1 or earlier will solve your problem.</p>\n<p>You may have to force exclusions for xalan on an Apache-FO dependency.</p>\n<p>You can also overwrite with 2.7.2_3, which patches this problem.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Use of <code>&lt;!--$NO-MVN-MAN-VER$--&gt;</code> prevents overrides.</p>\n<p><em>Note:</em> this bugfix was not migrated to xalan-2.7.3 for unspecified reasons and at this time there is no servicemix for 2.7.3 with the bugfix.</p>\n"}],"owner":{"account_id":17171618,"reputation":33,"user_id":12428654,"display_name":"greggor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1688420467,"creation_date":1574681779,"question_id":59030909,"body_markdown":"I am generating a PDF document with XML file as input using Apache FOP 2.4.\r\nTo prevent XXE-Attacks I need to set the secure processing feature (FEATURE_SECURE_PROCESSING) in TransformerFactory:\r\n\r\n```\r\nInputStream xslTransformer = getClass().getClassLoader().getResourceAsStream(&quot;foo.xsl&quot;);\r\nTransformerFactory transformerFactory = TransformerFactory.newInstance();\r\ntransformerFactory.setFeature(FEATURE_SECURE_PROCESSING, true);\r\nTransformer transformer = transformerFactory.newTransformer(new StreamSource(xslTransformer));\r\ntransformer.transform(new DOMSource(), new SAXResult(fop.getDefaultHandler()));\r\n```\r\n\r\nAfter setting this feature I can&#39;t generate any PDF document and I&#39;m getting warnings:\r\n```\r\nSystemId Unknown; Line #49; Column #99; &quot;master-name&quot; attribute is not allowed on the fo:simple-page-master element!\r\nSystemId Unknown; Line #49; Column #99; &quot;initial-page-number&quot; attribute is not allowed on the fo:simple-page-master element!\r\nSystemId Unknown; Line #49; Column #99; &quot;page-height&quot; attribute is not allowed on the fo:simple-page-master element!\r\nSystemId Unknown; Line #49; Column #99; &quot;page-width&quot; attribute is not allowed on the fo:simple-page-master element!\r\netc ...\r\n```\r\n\r\nHere is a section of XSL file (foo.xsl):\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;2.0&quot;\r\n                xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;\r\n                xmlns:pdf=&quot;http://xmlgraphics.apache.org/fop/extensions/pdf&quot;&gt;\r\n\r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;fo:root&gt;\r\n            &lt;fo:layout-master-set&gt;\r\n                &lt;fo:simple-page-master master-name=&quot;A4-portrait&quot; initial-page-number=&quot;1&quot;\r\n                                       page-height=&quot;29.7cm&quot; page-width=&quot;21.0cm&quot; margin-top=&quot;0cm&quot;\r\n                                       margin-left=&quot;1cm&quot; margin-right=&quot;1.3cm&quot; margin-bottom=&quot;0cm&quot;&gt;\r\n                    &lt;fo:region-body margin-top=&quot;2.2cm&quot; margin-bottom=&quot;1.2cm&quot; margin-left=&quot;1.3cm&quot;/&gt;\r\n                    &lt;fo:region-before region-name=&quot;xsl-region-before&quot; extent=&quot;2.2cm&quot;/&gt;\r\n                    &lt;fo:region-after region-name=&quot;xsl-region-after&quot; extent=&quot;1.2cm&quot;/&gt;\r\n                    &lt;fo:region-start region-name=&quot;xsl-region-start&quot; extent=&quot;1.3cm&quot;/&gt;\r\n                &lt;/fo:simple-page-master&gt;\r\n            &lt;/fo:layout-master-set&gt;\r\n\r\n            &lt;fo:page-sequence master-reference=&quot;A4-portrait&quot; font-family=&quot;Consolas&quot; font-size=&quot;11&quot;&gt;\r\n                &lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;\r\n                    &lt;fo:block linefeed-treatment=&quot;preserve&quot; font-weight=&quot;bold&quot;&gt;\r\n                        foo\r\n                    &lt;/fo:block&gt;\r\n\r\n                    &lt;fo:block linefeed-treatment=&quot;preserve&quot;&gt;\r\n                        bar\r\n                    &lt;/fo:block&gt;\r\n\r\n                &lt;/fo:flow&gt;\r\n            &lt;/fo:page-sequence&gt;\r\n\r\n        &lt;/fo:root&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nHow should I use this feature and make it work? Java version is 8.","title":"Setting secure processing in TransformerFactory leads to Problems in XSL","body":"<p>I am generating a PDF document with XML file as input using Apache FOP 2.4.\nTo prevent XXE-Attacks I need to set the secure processing feature (FEATURE_SECURE_PROCESSING) in TransformerFactory:</p>\n\n<pre><code>InputStream xslTransformer = getClass().getClassLoader().getResourceAsStream(\"foo.xsl\");\nTransformerFactory transformerFactory = TransformerFactory.newInstance();\ntransformerFactory.setFeature(FEATURE_SECURE_PROCESSING, true);\nTransformer transformer = transformerFactory.newTransformer(new StreamSource(xslTransformer));\ntransformer.transform(new DOMSource(), new SAXResult(fop.getDefaultHandler()));\n</code></pre>\n\n<p>After setting this feature I can't generate any PDF document and I'm getting warnings:</p>\n\n<pre><code>SystemId Unknown; Line #49; Column #99; \"master-name\" attribute is not allowed on the fo:simple-page-master element!\nSystemId Unknown; Line #49; Column #99; \"initial-page-number\" attribute is not allowed on the fo:simple-page-master element!\nSystemId Unknown; Line #49; Column #99; \"page-height\" attribute is not allowed on the fo:simple-page-master element!\nSystemId Unknown; Line #49; Column #99; \"page-width\" attribute is not allowed on the fo:simple-page-master element!\netc ...\n</code></pre>\n\n<p>Here is a section of XSL file (foo.xsl):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"2.0\"\n                xmlns:fo=\"http://www.w3.org/1999/XSL/Format\"\n                xmlns:pdf=\"http://xmlgraphics.apache.org/fop/extensions/pdf\"&gt;\n\n    &lt;xsl:template match=\"/\"&gt;\n        &lt;fo:root&gt;\n            &lt;fo:layout-master-set&gt;\n                &lt;fo:simple-page-master master-name=\"A4-portrait\" initial-page-number=\"1\"\n                                       page-height=\"29.7cm\" page-width=\"21.0cm\" margin-top=\"0cm\"\n                                       margin-left=\"1cm\" margin-right=\"1.3cm\" margin-bottom=\"0cm\"&gt;\n                    &lt;fo:region-body margin-top=\"2.2cm\" margin-bottom=\"1.2cm\" margin-left=\"1.3cm\"/&gt;\n                    &lt;fo:region-before region-name=\"xsl-region-before\" extent=\"2.2cm\"/&gt;\n                    &lt;fo:region-after region-name=\"xsl-region-after\" extent=\"1.2cm\"/&gt;\n                    &lt;fo:region-start region-name=\"xsl-region-start\" extent=\"1.3cm\"/&gt;\n                &lt;/fo:simple-page-master&gt;\n            &lt;/fo:layout-master-set&gt;\n\n            &lt;fo:page-sequence master-reference=\"A4-portrait\" font-family=\"Consolas\" font-size=\"11\"&gt;\n                &lt;fo:flow flow-name=\"xsl-region-body\"&gt;\n                    &lt;fo:block linefeed-treatment=\"preserve\" font-weight=\"bold\"&gt;\n                        foo\n                    &lt;/fo:block&gt;\n\n                    &lt;fo:block linefeed-treatment=\"preserve\"&gt;\n                        bar\n                    &lt;/fo:block&gt;\n\n                &lt;/fo:flow&gt;\n            &lt;/fo:page-sequence&gt;\n\n        &lt;/fo:root&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>How should I use this feature and make it work? Java version is 8.</p>\n"},{"tags":["java","xslt"],"answers":[{"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688420404,"creation_date":1617237231,"answer_id":66896980,"question_id":66896815,"body_markdown":"**Solved**.  \r\n\r\nThis is due to xalan-2.7.2.  [Here is the bug in Xalan-J](https://issues.apache.org/jira/browse/XALANJ-2591)\r\n\r\nSwitching to xalan-2.7.1 solved the problem, but I ended up moving to 2.7.2_3 with an embedded patch, pending a future release.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nNote that this is **not** resolved with the Apache xalan-2.7.3 release and there is no servicemix at this time for 2.7.3.\r\n","title":"How to prevent a TransformerFactory with feature FEATURE_SECURE_PROCESSING set true from stripping attributes?","body":"<p><strong>Solved</strong>.</p>\n<p>This is due to xalan-2.7.2.  <a href=\"https://issues.apache.org/jira/browse/XALANJ-2591\" rel=\"nofollow noreferrer\">Here is the bug in Xalan-J</a></p>\n<p>Switching to xalan-2.7.1 solved the problem, but I ended up moving to 2.7.2_3 with an embedded patch, pending a future release.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note that this is <strong>not</strong> resolved with the Apache xalan-2.7.3 release and there is no servicemix at this time for 2.7.3.</p>\n"}],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66896980,"answer_count":1,"score":1,"last_activity_date":1688420404,"creation_date":1617235567,"question_id":66896815,"body_markdown":"I have 2 `TransformerFactory` instances: one default, one with secure processing feature set `true`.  Each generates a `Templates` for the same XSL file.  When I apply a transformation to XML data for each, I receive different results.\r\n\r\nThe output generated from the secure `TransformerFactory` stripped the attributes from my elements.  \r\nThe console output identified: `SystemId Unknown; Line #xx; Column #yy; &quot;zzzz&quot; attribute is not allowed on the vvvv element!`\r\n\r\n**What is going on here, and how do I prevent this?**  \r\n\r\nI am required to set secure processing to true, going forward.  Note that if I apply the attribute using the `xsl:attribute` tag (`&lt;xsl:attribute name=&quot;variable&quot;&gt;value&lt;/xsl:attribute&gt;`), then it is not ignored by the transformation, however I have many XSL files that are much larger than the sample and changing this would require a massive effort.\r\nThere must be a setting to allow for secure processing, but also allow for the strict attributes.\r\n\r\n**RESEARCH SECTION**\r\n\r\n* [Similar question](https://stackoverflow.com/questions/59030909/setting-secure-processing-in-transformerfactory-leads-to-problems-in-xsl) unanswered because it got conflated with a focus on Apache-FO instead of the actual problem, which is the secure transformer.\r\n\r\n* According to [this question](https://stackoverflow.com/questions/25273763/execute-xslt-with-xalan-in-secure-mode-to-create-xhtml-throws-transformerconfigu), this may be an issue with xalan-2.7.1/xalan-2.7.2 library; I will research and update dependencies.\r\n\r\n**DATA SECTION**\r\n\r\n**Sample Code**\r\n\r\n``` lang-java\r\npackage test;\r\n\r\nimport java.io.File;\r\nimport java.io.StringReader;\r\nimport java.io.StringWriter;\r\nimport java.nio.charset.Charset;\r\n\r\nimport javax.xml.transform.Templates;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport javax.xml.transform.stream.StreamSource;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\n\r\npublic class XformTest {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        try {\r\n\r\n            File BASE_FOLDER = new File(&quot;C:\\\\path-to-work-folder\\\\&quot;);\r\n                \r\n            File outFolder = new File(BASE_FOLDER, &quot;out_&quot; + System.currentTimeMillis());\r\n            outFolder.mkdirs();\r\n\r\n            String xmlData = FileUtils.readFileToString(new File(BASE_FOLDER, &quot;data.xml&quot;), Charset.defaultCharset());\r\n            File xslFile = new File(BASE_FOLDER, &quot;format.xsl&quot;);\r\n            \r\n            StreamSource dataSource = null;\r\n            StreamSource xslSource = null;\r\n            TransformerFactory factory = null;\r\n            Templates template = null;\r\n            Transformer transformer = null;\r\n            StringWriter writer = null;\r\n            File outFile = null;\r\n            String result = null;\r\n            \r\n            // DEFAULT\r\n            System.out.println(&quot;DEFAULT&quot;);\r\n            outFile = new File(outFolder, &quot;default.html&quot;);\r\n            dataSource = new StreamSource(new StringReader(xmlData));\r\n            xslSource = new StreamSource(FileUtils.openInputStream(xslFile));\r\n            factory = TransformerFactory.newInstance();\r\n            template = factory.newTemplates(xslSource);\r\n            transformer = template.newTransformer();\r\n            writer = new StringWriter();\r\n            transformer.transform(dataSource, new StreamResult(writer));\r\n            result = writer.toString();\r\n            FileUtils.writeStringToFile(outFile, result, Charset.defaultCharset());\r\n            \r\n            // SECURE\r\n            System.out.println(&quot;SECURE&quot;);\r\n            outFile = new File(outFolder, &quot;secure.html&quot;);\r\n            dataSource = new StreamSource(new StringReader(xmlData));\r\n            xslSource = new StreamSource(FileUtils.openInputStream(xslFile));\r\n            factory = TransformerFactory.newInstance();\r\n            factory.setFeature(&quot;http://javax.xml.XMLConstants/feature/secure-processing&quot;, true);\r\n            template = factory.newTemplates(xslSource);\r\n            transformer = template.newTransformer();\r\n            writer = new StringWriter();\r\n            transformer.transform(dataSource, new StreamResult(writer));\r\n            result = writer.toString();\r\n            FileUtils.writeStringToFile(outFile, result, Charset.defaultCharset());\r\n            \r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }     \r\n}\r\n```\r\n\r\n**Data File &quot;data.xml&quot;**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;page&gt;\r\n    &lt;record&gt;\r\n    &lt;data&gt;0&lt;/data&gt;\r\n    &lt;moredata&gt;888.88&lt;/moredata&gt;\r\n    &lt;info&gt;12345&lt;/info&gt;\r\n    &lt;name&gt;foo&lt;/name&gt;\r\n    &lt;/record&gt;\r\n    &lt;Address1&gt;123 ANY STREET&lt;/Address1&gt;\r\n    &lt;Address2&gt;SUITE 100&lt;/Address2&gt;\r\n    &lt;City&gt;ALBUQUERQUE&lt;/City&gt;\r\n    &lt;Country&gt;USA&lt;/Country&gt;\r\n    &lt;Fax&gt;1-(888)-686-8281&lt;/Fax&gt;\r\n    &lt;Name&gt;MISC 000000AA000CDDE&lt;/Name&gt;\r\n    &lt;State&gt;NM&lt;/State&gt;\r\n    &lt;Zip&gt;99999-999&lt;/Zip&gt;\r\n&lt;/page&gt;\r\n```\r\n\r\nXSL File **format.xsl**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n&lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; encoding=&quot;UTF-8&quot;/&gt;\r\n&lt;xsl:template match=&quot;/&quot;&gt;\r\n&lt;xsl:variable name=&quot;record&quot; select=&quot;page/record&quot;/&gt;\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n&lt;form&gt;\r\n&lt;input type=&quot;hidden&quot; name=&quot;hiddenInputName&quot; value=&quot;SpecialValue&quot;/&gt;\r\n&lt;table width=&quot;100%&quot; border=&quot;0&quot;&gt;\r\n&lt;tr&gt;&lt;td width=&quot;100%&quot;&gt;&lt;center&gt;&lt;span class=&quot;Heading&quot;&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;&lt;/center&gt;&lt;br/&gt;DATA: &lt;xsl:value-of select=&quot;page/City&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;\r\n&lt;tr&gt;&lt;td width=&quot;100%&quot;&gt;&lt;span class=&quot;BodyNormal&quot;&gt;&lt;b&gt;&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;&lt;/b&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n&lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nDefault (expected) Output: **&quot;default.html&quot;**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;html&gt;\r\n&lt;body&gt;\r\n&lt;form&gt;\r\n&lt;input value=&quot;SpecialValue&quot; name=&quot;hiddenInputName&quot; type=&quot;hidden&quot;/&gt;\r\n&lt;table border=&quot;0&quot; width=&quot;100%&quot;&gt;\r\n&lt;tr&gt;\r\n&lt;td width=&quot;100%&quot;&gt;\r\n&lt;center&gt;\r\n&lt;span class=&quot;Heading&quot;&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;\r\n&lt;/center&gt;\r\n&lt;br/&gt;DATA: ALBUQUERQUE&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td width=&quot;100%&quot;&gt;\r\n&lt;span class=&quot;BodyNormal&quot;&gt;\r\n&lt;b&gt;\r\n&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;\r\n&lt;/b&gt;\r\n&lt;/span&gt;\r\n&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\nSecure (truncated) Output: **&quot;secure.html&quot;**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;html&gt;\r\n&lt;body&gt;\r\n&lt;form&gt;\r\n&lt;input/&gt;\r\n&lt;table&gt;\r\n&lt;tr&gt;\r\n&lt;td&gt;\r\n&lt;center&gt;\r\n&lt;span&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;\r\n&lt;/center&gt;\r\n&lt;br/&gt;DATA: ALBUQUERQUE&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td&gt;\r\n&lt;span&gt;\r\n&lt;b&gt;\r\n&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;\r\n&lt;/b&gt;\r\n&lt;/span&gt;\r\n&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nConsole Output\r\n```\r\nDEFAULT\r\nSECURE\r\nSystemId Unknown; Line #9; Column #67; &quot;type&quot; attribute is not allowed on the input element!\r\nSystemId Unknown; Line #9; Column #67; &quot;name&quot; attribute is not allowed on the input element!\r\nSystemId Unknown; Line #9; Column #67; &quot;value&quot; attribute is not allowed on the input element!\r\nSystemId Unknown; Line #10; Column #32; &quot;width&quot; attribute is not allowed on the table element!\r\nSystemId Unknown; Line #10; Column #32; &quot;border&quot; attribute is not allowed on the table element!\r\nSystemId Unknown; Line #11; Column #22; &quot;width&quot; attribute is not allowed on the td element!\r\nSystemId Unknown; Line #11; Column #52; &quot;class&quot; attribute is not allowed on the span element!\r\nSystemId Unknown; Line #12; Column #22; &quot;width&quot; attribute is not allowed on the td element!\r\nSystemId Unknown; Line #12; Column #47; &quot;class&quot; attribute is not allowed on the span element!\r\n```","title":"How to prevent a TransformerFactory with feature FEATURE_SECURE_PROCESSING set true from stripping attributes?","body":"<p>I have 2 <code>TransformerFactory</code> instances: one default, one with secure processing feature set <code>true</code>.  Each generates a <code>Templates</code> for the same XSL file.  When I apply a transformation to XML data for each, I receive different results.</p>\n<p>The output generated from the secure <code>TransformerFactory</code> stripped the attributes from my elements.<br />\nThe console output identified: <code>SystemId Unknown; Line #xx; Column #yy; &quot;zzzz&quot; attribute is not allowed on the vvvv element!</code></p>\n<p><strong>What is going on here, and how do I prevent this?</strong></p>\n<p>I am required to set secure processing to true, going forward.  Note that if I apply the attribute using the <code>xsl:attribute</code> tag (<code>&lt;xsl:attribute name=&quot;variable&quot;&gt;value&lt;/xsl:attribute&gt;</code>), then it is not ignored by the transformation, however I have many XSL files that are much larger than the sample and changing this would require a massive effort.\nThere must be a setting to allow for secure processing, but also allow for the strict attributes.</p>\n<p><strong>RESEARCH SECTION</strong></p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/59030909/setting-secure-processing-in-transformerfactory-leads-to-problems-in-xsl\">Similar question</a> unanswered because it got conflated with a focus on Apache-FO instead of the actual problem, which is the secure transformer.</p>\n</li>\n<li><p>According to <a href=\"https://stackoverflow.com/questions/25273763/execute-xslt-with-xalan-in-secure-mode-to-create-xhtml-throws-transformerconfigu\">this question</a>, this may be an issue with xalan-2.7.1/xalan-2.7.2 library; I will research and update dependencies.</p>\n</li>\n</ul>\n<p><strong>DATA SECTION</strong></p>\n<p><strong>Sample Code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\nimport java.io.File;\nimport java.io.StringReader;\nimport java.io.StringWriter;\nimport java.nio.charset.Charset;\n\nimport javax.xml.transform.Templates;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.transform.stream.StreamSource;\n\nimport org.apache.commons.io.FileUtils;\n\npublic class XformTest {\n\n    public static void main(String[] args) {\n        \n        try {\n\n            File BASE_FOLDER = new File(&quot;C:\\\\path-to-work-folder\\\\&quot;);\n                \n            File outFolder = new File(BASE_FOLDER, &quot;out_&quot; + System.currentTimeMillis());\n            outFolder.mkdirs();\n\n            String xmlData = FileUtils.readFileToString(new File(BASE_FOLDER, &quot;data.xml&quot;), Charset.defaultCharset());\n            File xslFile = new File(BASE_FOLDER, &quot;format.xsl&quot;);\n            \n            StreamSource dataSource = null;\n            StreamSource xslSource = null;\n            TransformerFactory factory = null;\n            Templates template = null;\n            Transformer transformer = null;\n            StringWriter writer = null;\n            File outFile = null;\n            String result = null;\n            \n            // DEFAULT\n            System.out.println(&quot;DEFAULT&quot;);\n            outFile = new File(outFolder, &quot;default.html&quot;);\n            dataSource = new StreamSource(new StringReader(xmlData));\n            xslSource = new StreamSource(FileUtils.openInputStream(xslFile));\n            factory = TransformerFactory.newInstance();\n            template = factory.newTemplates(xslSource);\n            transformer = template.newTransformer();\n            writer = new StringWriter();\n            transformer.transform(dataSource, new StreamResult(writer));\n            result = writer.toString();\n            FileUtils.writeStringToFile(outFile, result, Charset.defaultCharset());\n            \n            // SECURE\n            System.out.println(&quot;SECURE&quot;);\n            outFile = new File(outFolder, &quot;secure.html&quot;);\n            dataSource = new StreamSource(new StringReader(xmlData));\n            xslSource = new StreamSource(FileUtils.openInputStream(xslFile));\n            factory = TransformerFactory.newInstance();\n            factory.setFeature(&quot;http://javax.xml.XMLConstants/feature/secure-processing&quot;, true);\n            template = factory.newTemplates(xslSource);\n            transformer = template.newTransformer();\n            writer = new StringWriter();\n            transformer.transform(dataSource, new StreamResult(writer));\n            result = writer.toString();\n            FileUtils.writeStringToFile(outFile, result, Charset.defaultCharset());\n            \n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }     \n}\n</code></pre>\n<p><strong>Data File &quot;data.xml&quot;</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;page&gt;\n    &lt;record&gt;\n    &lt;data&gt;0&lt;/data&gt;\n    &lt;moredata&gt;888.88&lt;/moredata&gt;\n    &lt;info&gt;12345&lt;/info&gt;\n    &lt;name&gt;foo&lt;/name&gt;\n    &lt;/record&gt;\n    &lt;Address1&gt;123 ANY STREET&lt;/Address1&gt;\n    &lt;Address2&gt;SUITE 100&lt;/Address2&gt;\n    &lt;City&gt;ALBUQUERQUE&lt;/City&gt;\n    &lt;Country&gt;USA&lt;/Country&gt;\n    &lt;Fax&gt;1-(888)-686-8281&lt;/Fax&gt;\n    &lt;Name&gt;MISC 000000AA000CDDE&lt;/Name&gt;\n    &lt;State&gt;NM&lt;/State&gt;\n    &lt;Zip&gt;99999-999&lt;/Zip&gt;\n&lt;/page&gt;\n</code></pre>\n<p>XSL File <strong>format.xsl</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; encoding=&quot;UTF-8&quot;/&gt;\n&lt;xsl:template match=&quot;/&quot;&gt;\n&lt;xsl:variable name=&quot;record&quot; select=&quot;page/record&quot;/&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;form&gt;\n&lt;input type=&quot;hidden&quot; name=&quot;hiddenInputName&quot; value=&quot;SpecialValue&quot;/&gt;\n&lt;table width=&quot;100%&quot; border=&quot;0&quot;&gt;\n&lt;tr&gt;&lt;td width=&quot;100%&quot;&gt;&lt;center&gt;&lt;span class=&quot;Heading&quot;&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;&lt;/center&gt;&lt;br/&gt;DATA: &lt;xsl:value-of select=&quot;page/City&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td width=&quot;100%&quot;&gt;&lt;span class=&quot;BodyNormal&quot;&gt;&lt;b&gt;&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;&lt;/b&gt;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Default (expected) Output: <strong>&quot;default.html&quot;</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;html&gt;\n&lt;body&gt;\n&lt;form&gt;\n&lt;input value=&quot;SpecialValue&quot; name=&quot;hiddenInputName&quot; type=&quot;hidden&quot;/&gt;\n&lt;table border=&quot;0&quot; width=&quot;100%&quot;&gt;\n&lt;tr&gt;\n&lt;td width=&quot;100%&quot;&gt;\n&lt;center&gt;\n&lt;span class=&quot;Heading&quot;&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;\n&lt;/center&gt;\n&lt;br/&gt;DATA: ALBUQUERQUE&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td width=&quot;100%&quot;&gt;\n&lt;span class=&quot;BodyNormal&quot;&gt;\n&lt;b&gt;\n&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;\n&lt;/b&gt;\n&lt;/span&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>Secure (truncated) Output: <strong>&quot;secure.html&quot;</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;html&gt;\n&lt;body&gt;\n&lt;form&gt;\n&lt;input/&gt;\n&lt;table&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;center&gt;\n&lt;span&gt;HELP ME FIGURE THIS OUT&lt;/span&gt;\n&lt;/center&gt;\n&lt;br/&gt;DATA: ALBUQUERQUE&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;span&gt;\n&lt;b&gt;\n&lt;i&gt;The span should have said BodyNormal 100% and the hidden input should have a name and value of hiddenInputName and SpecialValue respectively&lt;/i&gt;\n&lt;/b&gt;\n&lt;/span&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Console Output</p>\n<pre><code>DEFAULT\nSECURE\nSystemId Unknown; Line #9; Column #67; &quot;type&quot; attribute is not allowed on the input element!\nSystemId Unknown; Line #9; Column #67; &quot;name&quot; attribute is not allowed on the input element!\nSystemId Unknown; Line #9; Column #67; &quot;value&quot; attribute is not allowed on the input element!\nSystemId Unknown; Line #10; Column #32; &quot;width&quot; attribute is not allowed on the table element!\nSystemId Unknown; Line #10; Column #32; &quot;border&quot; attribute is not allowed on the table element!\nSystemId Unknown; Line #11; Column #22; &quot;width&quot; attribute is not allowed on the td element!\nSystemId Unknown; Line #11; Column #52; &quot;class&quot; attribute is not allowed on the span element!\nSystemId Unknown; Line #12; Column #22; &quot;width&quot; attribute is not allowed on the td element!\nSystemId Unknown; Line #12; Column #47; &quot;class&quot; attribute is not allowed on the span element!\n</code></pre>\n"},{"tags":["java","xslt","xalan"],"comments":[{"owner":{"account_id":2256518,"reputation":22293,"user_id":1987598,"accept_rate":80,"display_name":"Mathias M&#252;ller"},"score":0,"creation_date":1407919948,"post_id":25273763,"comment_id":39397492,"body_markdown":"Your stylesheet looks fine. Why do you need to run the transformation in secure processing mode?","body":"Your stylesheet looks fine. Why do you need to run the transformation in secure processing mode?"},{"owner":{"account_id":1119771,"reputation":329,"user_id":1108370,"accept_rate":75,"display_name":"kazvictor"},"score":0,"creation_date":1407952234,"post_id":25273763,"comment_id":39418016,"body_markdown":"I need to run the transformation in secure processing mode because our software can process stylesheets from an unknown (untrusted) source and so we need many of the secure mode protections.","body":"I need to run the transformation in secure processing mode because our software can process stylesheets from an unknown (untrusted) source and so we need many of the secure mode protections."},{"owner":{"account_id":2256518,"reputation":22293,"user_id":1987598,"accept_rate":80,"display_name":"Mathias M&#252;ller"},"score":0,"creation_date":1407953608,"post_id":25273763,"comment_id":39418790,"body_markdown":"Why not run this particular stylesheet in the less secure, normal mode? You have written it, so you know what to expect. Why do you have to process all stylesheets in the same mode?","body":"Why not run this particular stylesheet in the less secure, normal mode? You have written it, so you know what to expect. Why do you have to process all stylesheets in the same mode?"},{"owner":{"account_id":1119771,"reputation":329,"user_id":1108370,"accept_rate":75,"display_name":"kazvictor"},"score":0,"creation_date":1407966088,"post_id":25273763,"comment_id":39425633,"body_markdown":"The above stylesheet is an example stylesheet used to demonstrate the issue. In our application we allow a user to transform xml with a stylesheet they provide. Therefore, we cannot trust this stylesheet and so need to run the transformation in secure processing mode.","body":"The above stylesheet is an example stylesheet used to demonstrate the issue. In our application we allow a user to transform xml with a stylesheet they provide. Therefore, we cannot trust this stylesheet and so need to run the transformation in secure processing mode."},{"owner":{"account_id":945079,"reputation":2425,"user_id":972463,"display_name":"Sergey Ushakov"},"score":0,"creation_date":1408409749,"post_id":25273763,"comment_id":39568856,"body_markdown":"I wonder if Xalan complains on unknown attributes only or just on any attribute as Abel suggests in his answer? If only on unknown, then can&#39;t you make them known with a modified document type definition or whatever?","body":"I wonder if Xalan complains on unknown attributes only or just on any attribute as Abel suggests in his answer? If only on unknown, then can&#39;t you make them known with a modified document type definition or whatever?"},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1688420322,"post_id":25273763,"comment_id":135069355,"body_markdown":"This was fixed in Apache Servicemix Xalan version 2.7.2_3, but the bugfix was not released with Apache Xalan version 2.7.3","body":"This was fixed in Apache Servicemix Xalan version 2.7.2_3, but the bugfix was not released with Apache Xalan version 2.7.3"}],"answers":[{"comments":[{"owner":{"account_id":1119771,"reputation":329,"user_id":1108370,"accept_rate":75,"display_name":"kazvictor"},"score":0,"creation_date":1408401654,"post_id":25352274,"comment_id":39566809,"body_markdown":"I just tried with xml as the output method with no luck. It&#39;s starting to look like a bug to me. It&#39;s not very usable if you can&#39;t use attributes. I&#39;ve submitted this to the xalan mailing list and will update if I get a response.","body":"I just tried with xml as the output method with no luck. It&#39;s starting to look like a bug to me. It&#39;s not very usable if you can&#39;t use attributes. I&#39;ve submitted this to the xalan mailing list and will update if I get a response."},{"owner":{"account_id":38796,"reputation":56208,"user_id":111575,"accept_rate":96,"display_name":"Abel"},"score":0,"creation_date":1408413437,"post_id":25352274,"comment_id":39569673,"body_markdown":"@kazvictor Do you indeed get the same erroneous behaviour with any attribute, even when not creating an HTML root tag? Indeed a big bug it seems. Perhaps you can try an earlier built?","body":"@kazvictor Do you indeed get the same erroneous behaviour with any attribute, even when not creating an HTML root tag? Indeed a big bug it seems. Perhaps you can try an earlier built?"},{"owner":{"account_id":1119771,"reputation":329,"user_id":1108370,"accept_rate":75,"display_name":"kazvictor"},"score":0,"creation_date":1408471387,"post_id":25352274,"comment_id":39598617,"body_markdown":"Yes it appears to be an issue for any attribute. The example stylesheet from above is just a minimal stylesheet that reproduces the issue. This looks like it was caused by this specific change, I believe it work in builds before it: [http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h](http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h)","body":"Yes it appears to be an issue for any attribute. The example stylesheet from above is just a minimal stylesheet that reproduces the issue. This looks like it was caused by this specific change, I believe it work in builds before it: <a href=\"http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h\" rel=\"nofollow noreferrer\">http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7&zwnj;&#8203;_1_maint/src/org/apa&zwnj;&#8203;che/xalan/processor/&zwnj;&#8203;XSLTElementProcessor&zwnj;&#8203;.java?r1=1359736&amp;r2=&zwnj;&#8203;1581058&amp;pathrev=1581&zwnj;&#8203;058&amp;diff_format=h</a>"},{"owner":{"account_id":1119771,"reputation":329,"user_id":1108370,"accept_rate":75,"display_name":"kazvictor"},"score":1,"creation_date":1461526326,"post_id":25352274,"comment_id":61226785,"body_markdown":"An issue has been raised in the XalanJ project to track this bug: https://issues.apache.org/jira/browse/XALANJ-2591","body":"An issue has been raised in the XalanJ project to track this bug: <a href=\"https://issues.apache.org/jira/browse/XALANJ-2591\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/XALANJ-2591</a>"},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1617238891,"post_id":25352274,"comment_id":118251845,"body_markdown":"@Abel - don&#39;t you mean &quot;a bug of Xalan 2.7.2&quot;?","body":"@Abel - don&#39;t you mean &quot;a bug of Xalan 2.7.2&quot;?"}],"tags":[],"owner":{"account_id":38796,"reputation":56208,"user_id":111575,"accept_rate":96,"display_name":"Abel"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1408299841,"creation_date":1408299841,"answer_id":25352274,"question_id":25273763,"body_markdown":"The offending line in the referred to version of the Xalan source is:\r\n\r\n    if(attrDef.getName().compareTo(&quot;*&quot;)==0 &amp;&amp; handler.getStylesheetProcessor().isSecureProcessing())\r\n\r\nI&#39;m not 100% sure what is in `attrDef`, but I would guess it&#39;s your attribute, which will never have the value of `*` (but from the documentation on `XSLTAttributeDef`, the value `*` is allowed, but I don&#39;t know how, as it is not a qname).\r\n\r\nThe [documentation on secure processing][1] only limits the amount of attributes on a single element, but the limit is high, 10,000.\r\n\r\nThe way I see it, you hit a bug of Xalan 2.7.1. It prevents you from using any attribute. If the limit is imposed because only known attributes can be used, it still seems to be a bug, because `th` is allowed to take `colspan` as an attribute in both HTML and XHTML. You might try, though, if you see the same behavior if you change your output from `HTML` to `XML`.\r\n\r\n\r\n  [1]: https://jaxp.java.net/1.4/JAXP-Compatibility.html#JAXP_security","title":"Execute XSLT with Xalan in secure mode to create XHTML throws TransformerConfigurationException on creating attributes","body":"<p>The offending line in the referred to version of the Xalan source is:</p>\n\n<pre><code>if(attrDef.getName().compareTo(\"*\")==0 &amp;&amp; handler.getStylesheetProcessor().isSecureProcessing())\n</code></pre>\n\n<p>I'm not 100% sure what is in <code>attrDef</code>, but I would guess it's your attribute, which will never have the value of <code>*</code> (but from the documentation on <code>XSLTAttributeDef</code>, the value <code>*</code> is allowed, but I don't know how, as it is not a qname).</p>\n\n<p>The <a href=\"https://jaxp.java.net/1.4/JAXP-Compatibility.html#JAXP_security\" rel=\"nofollow\">documentation on secure processing</a> only limits the amount of attributes on a single element, but the limit is high, 10,000.</p>\n\n<p>The way I see it, you hit a bug of Xalan 2.7.1. It prevents you from using any attribute. If the limit is imposed because only known attributes can be used, it still seems to be a bug, because <code>th</code> is allowed to take <code>colspan</code> as an attribute in both HTML and XHTML. You might try, though, if you see the same behavior if you change your output from <code>HTML</code> to <code>XML</code>.</p>\n"},{"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688420257,"creation_date":1617244974,"answer_id":66897769,"question_id":25273763,"body_markdown":"\r\nThis is a bug that is resolved in the Apache Servicemix build of Xalan-2.7.2_3.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n&lt;/dependency&gt;\r\n```\r\nUse of `&lt;!--$NO-MVN-MAN-VER$--&gt;` prevents overrides.\r\n\r\n**NOTE** Beware, this bugfix was **NOT** added to Apache Xalan-2.7.3  \r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/xalan/xalan --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;xalan&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xalan&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Execute XSLT with Xalan in secure mode to create XHTML throws TransformerConfigurationException on creating attributes","body":"<p>This is a bug that is resolved in the Apache Servicemix build of Xalan-2.7.2_3.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Use of <code>&lt;!--$NO-MVN-MAN-VER$--&gt;</code> prevents overrides.</p>\n<p><strong>NOTE</strong> Beware, this bugfix was <strong>NOT</strong> added to Apache Xalan-2.7.3</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/xalan/xalan --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;xalan&lt;/groupId&gt;\n    &lt;artifactId&gt;xalan&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1119771,"reputation":329,"user_id":1108370,"accept_rate":75,"display_name":"kazvictor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2070,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":25352274,"answer_count":2,"score":5,"last_activity_date":1688420257,"creation_date":1407876396,"question_id":25273763,"body_markdown":"I&#39;m trying to use the updated version of Xalan (2.7.2) in secure mode and Having issue with it not able to understand unknown attributes.\r\nThe problem is, it prevents you from using any stylesheet that emits XHTML (in secure processing mode) because it disallows things like “colspan” attributes of “th” elements.\r\n\r\nThe associated changed file is here: http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h\r\n\r\nSee the following example:\r\n\r\n    import javax.xml.XMLConstants;\r\n    import javax.xml.transform.*;\r\n    import javax.xml.transform.stream.StreamSource;\r\n    import java.io.StringReader;\r\n    \r\n    public class XalanSecureAttributeRepro {\r\n        private static final String XSL =\r\n                &quot;&lt;xsl:stylesheet version=\\&quot;1.0\\&quot; xmlns:xsl=\\&quot;http://www.w3.org/1999/XSL/Transform\\&quot;&gt;\\n&quot; +\r\n                &quot;  &lt;xsl:output method=\\&quot;html\\&quot;/&gt;\\n&quot; +\r\n                &quot;  &lt;xsl:template match=\\&quot;/*\\&quot;&gt;\\n&quot; +\r\n                &quot;    &lt;th colspan=\\&quot;2\\&quot;/&gt;\\n&quot; +\r\n                &quot;  &lt;/xsl:template&gt;\\n&quot; +\r\n                &quot;&lt;/xsl:stylesheet&gt;&quot;;\r\n    \r\n        public static void main( String[] args ) throws Exception {\r\n            System.setProperty( &quot;javax.xml.transform.TransformerFactory&quot;, &quot;org.apache.xalan.processor.TransformerFactoryImpl&quot; );\r\n    \r\n            TransformerFactory tf = TransformerFactory.newInstance();\r\n            tf.setFeature( XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n            tf.setErrorListener( new DefaultErrorHandler( true ) );\r\n    \r\n            final Source source = new StreamSource( new StringReader( XSL ) );\r\n            Templates templates = tf.newTemplates( source ); // throws:\r\n                            // TransformerException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n        }\r\n    }\r\n\r\n\r\nIt returns this error:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.transform.TransformerConfigurationException: javax.xml.transform.TransformerException: org.xml.sax.SAXException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    javax.xml.transform.TransformerException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n\t    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:933)\r\n\t    at com.l7tech.example.XalanSecureAttributeRepro.main(XalanSecureAttributeRepro.java:27)\r\n\t    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\t    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t    at java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\n    Caused by: javax.xml.transform.TransformerException: org.xml.sax.SAXException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    javax.xml.transform.TransformerException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    \tat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:925)\r\n    \t... 6 more\r\n    Caused by: org.xml.sax.SAXException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    javax.xml.transform.TransformerException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    \tat org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:919)\r\n    \tat org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:947)\r\n    \tat org.apache.xalan.processor.XSLTElementProcessor.setPropertiesFromAttributes(XSLTElementProcessor.java:347)\r\n    \tat org.apache.xalan.processor.XSLTElementProcessor.setPropertiesFromAttributes(XSLTElementProcessor.java:267)\r\n    \tat org.apache.xalan.processor.ProcessorLRE.startElement(ProcessorLRE.java:283)\r\n    \tat org.apache.xalan.processor.StylesheetHandler.startElement(StylesheetHandler.java:623)\r\n    \tat org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)\r\n    \tat org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\r\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n    \tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n    \tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n    \tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\r\n\t    at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\r\n    \tat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\r\n    \tat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:917)\r\n    \t... 6 more\r\n    Caused by: javax.xml.transform.TransformerException: &quot;colspan&quot; attribute is not allowed on the th element!\r\n    \tat org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:904)\r\n    \t... 22 more\r\n\r\nAm I doing something wrong with the stylesheet or am I missing setting a feature on the transformer factory. How would you transform a stylesheet that emits (X)HTML in secure processing mode using Xalan?","title":"Execute XSLT with Xalan in secure mode to create XHTML throws TransformerConfigurationException on creating attributes","body":"<p>I'm trying to use the updated version of Xalan (2.7.2) in secure mode and Having issue with it not able to understand unknown attributes.\nThe problem is, it prevents you from using any stylesheet that emits XHTML (in secure processing mode) because it disallows things like “colspan” attributes of “th” elements.</p>\n\n<p>The associated changed file is here: <a href=\"http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h\" rel=\"nofollow\">http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h</a></p>\n\n<p>See the following example:</p>\n\n<pre><code>import javax.xml.XMLConstants;\nimport javax.xml.transform.*;\nimport javax.xml.transform.stream.StreamSource;\nimport java.io.StringReader;\n\npublic class XalanSecureAttributeRepro {\n    private static final String XSL =\n            \"&lt;xsl:stylesheet version=\\\"1.0\\\" xmlns:xsl=\\\"http://www.w3.org/1999/XSL/Transform\\\"&gt;\\n\" +\n            \"  &lt;xsl:output method=\\\"html\\\"/&gt;\\n\" +\n            \"  &lt;xsl:template match=\\\"/*\\\"&gt;\\n\" +\n            \"    &lt;th colspan=\\\"2\\\"/&gt;\\n\" +\n            \"  &lt;/xsl:template&gt;\\n\" +\n            \"&lt;/xsl:stylesheet&gt;\";\n\n    public static void main( String[] args ) throws Exception {\n        System.setProperty( \"javax.xml.transform.TransformerFactory\", \"org.apache.xalan.processor.TransformerFactoryImpl\" );\n\n        TransformerFactory tf = TransformerFactory.newInstance();\n        tf.setFeature( XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        tf.setErrorListener( new DefaultErrorHandler( true ) );\n\n        final Source source = new StreamSource( new StringReader( XSL ) );\n        Templates templates = tf.newTemplates( source ); // throws:\n                        // TransformerException: \"colspan\" attribute is not allowed on the th element!\n    }\n}\n</code></pre>\n\n<p>It returns this error:</p>\n\n<pre><code>Exception in thread \"main\" javax.xml.transform.TransformerConfigurationException: javax.xml.transform.TransformerException: org.xml.sax.SAXException: \"colspan\" attribute is not allowed on the th element!\njavax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:933)\n    at com.l7tech.example.XalanSecureAttributeRepro.main(XalanSecureAttributeRepro.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\nCaused by: javax.xml.transform.TransformerException: org.xml.sax.SAXException: \"colspan\" attribute is not allowed on the th element!\njavax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:925)\n    ... 6 more\nCaused by: org.xml.sax.SAXException: \"colspan\" attribute is not allowed on the th element!\njavax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:919)\n    at org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:947)\n    at org.apache.xalan.processor.XSLTElementProcessor.setPropertiesFromAttributes(XSLTElementProcessor.java:347)\n    at org.apache.xalan.processor.XSLTElementProcessor.setPropertiesFromAttributes(XSLTElementProcessor.java:267)\n    at org.apache.xalan.processor.ProcessorLRE.startElement(ProcessorLRE.java:283)\n    at org.apache.xalan.processor.StylesheetHandler.startElement(StylesheetHandler.java:623)\n    at org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)\n    at org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement(Unknown Source)\n    at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n    at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n    at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:917)\n    ... 6 more\nCaused by: javax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:904)\n    ... 22 more\n</code></pre>\n\n<p>Am I doing something wrong with the stylesheet or am I missing setting a feature on the transformer factory. How would you transform a stylesheet that emits (X)HTML in secure processing mode using Xalan?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":958669,"reputation":9639,"user_id":983476,"accept_rate":98,"display_name":"Allan Chua"},"score":0,"creation_date":1688083997,"post_id":76585198,"comment_id":135030024,"body_markdown":"Are you using CDK to provision a bucket outside the app or SDK to create a bucket inside your app?","body":"Are you using CDK to provision a bucket outside the app or SDK to create a bucket inside your app?"},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1688087282,"post_id":76585198,"comment_id":135030268,"body_markdown":"@jarmod I&#39;m trying to delete all objects in the S3 bucket. What other prefix do I specify for my use case??","body":"@jarmod I&#39;m trying to delete all objects in the S3 bucket. What other prefix do I specify for my use case??"},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1688135960,"post_id":76585198,"comment_id":135037730,"body_markdown":"Interestingly, a reported [issue](https://github.com/aws/aws-sdk-java-v2/issues/1438) suggests that an empty filter should be supplied. It then suggests doing this with a filter predicate that has an empty prefix, much as you are doing. And [this doc](https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-configuration-examples.html) also says to use an absent prefix while [this doc](https://docs.aws.amazon.com/AmazonS3/latest/userguide/intro-lifecycle-rules.html) says to specify an empty filter. Have you tried passing a null filter? Also, have you tried a null prefix instead of &quot;&quot;?","body":"Interestingly, a reported <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/1438\" rel=\"nofollow noreferrer\">issue</a> suggests that an empty filter should be supplied. It then suggests doing this with a filter predicate that has an empty prefix, much as you are doing. And <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-configuration-examples.html\" rel=\"nofollow noreferrer\">this doc</a> also says to use an absent prefix while <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/intro-lifecycle-rules.html\" rel=\"nofollow noreferrer\">this doc</a> says to specify an empty filter. Have you tried passing a null filter? Also, have you tried a null prefix instead of &quot;&quot;?"},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1689856489,"post_id":76585198,"comment_id":135274408,"body_markdown":"@adityaViswanatham I added both v1 and v2 SDK solutions. Did either work for you?","body":"@adityaViswanatham I added both v1 and v2 SDK solutions. Did either work for you?"},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1690584114,"post_id":76585198,"comment_id":135378952,"body_markdown":"@jarmod I&#39;m sorry for the late reply. The problem was having withExpiredObjectDeleteMarker() in the lifecycle rule. Instead setting .withExpiredNonCurrentVerions() to true helped fix the issue. Not sure why that&#39;s the case though.","body":"@jarmod I&#39;m sorry for the late reply. The problem was having withExpiredObjectDeleteMarker() in the lifecycle rule. Instead setting .withExpiredNonCurrentVerions() to true helped fix the issue. Not sure why that&#39;s the case though."}],"answers":[{"comments":[{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1688162283,"post_id":76591905,"comment_id":135042089,"body_markdown":"I see the same error even with the empty filer rule.","body":"I see the same error even with the empty filer rule."},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1688162962,"post_id":76591905,"comment_id":135042165,"body_markdown":"Can you update your post to show what code change you made? This v2 code works.","body":"Can you update your post to show what code change you made? This v2 code works."},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1688163757,"post_id":76591905,"comment_id":135042248,"body_markdown":"Updated the post","body":"Updated the post"},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1688164329,"post_id":76591905,"comment_id":135042300,"body_markdown":"Enabled debug level logs. This is what is seen: `&lt;LifecycleConfiguration&gt;&lt;Rule&gt;&lt;ID&gt;Delete objects in 1 days&lt;/ID&gt;&lt;Status&gt;Enabled&lt;/Status&gt;&lt;Filter&gt;&lt;/Filter&gt;&lt;Expiration&gt;&lt;Days&gt;1&lt;/Days&gt;&lt;ExpiredObjectDeleteMarker&gt;true&lt;/ExpiredObjectDeleteMarker&gt;&lt;/Expiration&gt;&lt;/Rule&gt;&lt;/LifecycleConfiguration&gt;`","body":"Enabled debug level logs. This is what is seen: <code>&lt;LifecycleConfiguration&gt;&lt;Rule&gt;&lt;ID&gt;Delete objects in 1 days&lt;&#47;ID&gt;&lt;Status&gt;Enabled&lt;&#47;Status&gt;&lt;Filter&gt;&lt;&#47;Filter&gt;&lt;Expiratio&zwnj;&#8203;n&gt;&lt;Days&gt;1&lt;&#47;Days&gt;&lt;Exp&zwnj;&#8203;iredObjectDeleteMark&zwnj;&#8203;er&gt;true&lt;&#47;ExpiredObje&zwnj;&#8203;ctDeleteMarker&gt;&lt;&#47;Exp&zwnj;&#8203;iration&gt;&lt;&#47;Rule&gt;&lt;&#47;Lif&zwnj;&#8203;ecycleConfiguration&gt;</code>"},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1688368300,"post_id":76591905,"comment_id":135059636,"body_markdown":"This is the aws sdk version I&#39;m using in the project.\n`implementation(&quot;com.amazonaws:aws-java-sdk:1.12.496&quot;)`","body":"This is the aws sdk version I&#39;m using in the project. <code>implementation(&quot;com.amazonaws:aws-java-sdk:1.12.496&quot;)</code>"}],"tags":[],"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688420256,"creation_date":1688155002,"answer_id":76591905,"question_id":76585198,"body_markdown":"I got this to work with the AWS Java SDK v1, as follows:\r\n\r\n    import com.amazonaws.AmazonClientException;\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\n    import com.amazonaws.services.s3.model.BucketLifecycleConfiguration;\r\n    import com.amazonaws.services.s3.model.lifecycle.LifecycleFilter;\r\n    \r\n    public class App {\r\n    \r\n         public static void setLifecycle(AmazonS3 s3, String bucketName) {\r\n    \r\n            try {\r\n                // Create a rule to delete all objects after 30 days.\r\n                BucketLifecycleConfiguration.Rule rule = new BucketLifecycleConfiguration.Rule()\r\n                        .withId(&quot;Delete objects in 30 days&quot;)\r\n                        .withFilter(new LifecycleFilter())\r\n                        .withExpirationInDays(30)\r\n                        .withStatus(BucketLifecycleConfiguration.ENABLED);\r\n    \r\n                BucketLifecycleConfiguration configuration = new BucketLifecycleConfiguration()\r\n                        .withRules(rule);\r\n                s3.setBucketLifecycleConfiguration(bucketName, configuration);\r\n            } catch (AmazonClientException e) {\r\n                System.err.println(e.getMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            AmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(Regions.US_EAST_1).build();\r\n            setLifecycle(s3, &quot;mybucket&quot;);\r\n        }\r\n    }\r\n\r\n\r\nThe code basically creates a default, empty filter rule instead of a prefix filter on &quot;&quot;.\r\n\r\nI was also able to get this to work with the current Java SDK v2, as follows.\r\n\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.S3Client;\r\n    import software.amazon.awssdk.services.s3.model.BucketLifecycleConfiguration;\r\n    import software.amazon.awssdk.services.s3.model.ExpirationStatus;\r\n    import software.amazon.awssdk.services.s3.model.LifecycleRuleFilter;\r\n    import software.amazon.awssdk.services.s3.model.LifecycleRule;\r\n    import software.amazon.awssdk.services.s3.model.LifecycleExpiration;\r\n    import software.amazon.awssdk.services.s3.model.S3Exception;\r\n    import software.amazon.awssdk.services.s3.model.PutBucketLifecycleConfigurationRequest;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    public class App {\r\n    \r\n         public static void setLifecycle(S3Client s3, String bucketName) {\r\n    \r\n            try {\r\n                // Create a rule to delete all objects after 30 days.\r\n                LifecycleRule rule = LifecycleRule.builder()\r\n                        .id(&quot;Delete after 30 days rule&quot;)\r\n                        .filter(LifecycleRuleFilter.builder().build())\r\n                        .expiration(LifecycleExpiration.builder().days(30).build())\r\n                        .status(ExpirationStatus.ENABLED)\r\n                        .build();\r\n    \r\n                BucketLifecycleConfiguration lifecycleConfiguration = BucketLifecycleConfiguration.builder()\r\n                        .rules(Collections.singletonList(rule))\r\n                        .build();\r\n    \r\n                PutBucketLifecycleConfigurationRequest request = PutBucketLifecycleConfigurationRequest.builder()\r\n                        .bucket(bucketName)\r\n                        .lifecycleConfiguration(lifecycleConfiguration)\r\n                        .build();\r\n    \r\n                s3.putBucketLifecycleConfiguration(request);\r\n            } catch (S3Exception e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Region region = Region.US_EAST_1;\r\n            S3Client s3 = S3Client.builder().region(region).build();\r\n            setLifecycle(s3, &quot;mybucket&quot;);\r\n            s3.close();\r\n        }\r\n    }\r\n\r\nI came to this conclusion because, after manually configuring a similar lifecycle in the AWS Console, the awscli description of that lifecycle configuration looked like this:\r\n\r\n    aws s3api get-bucket-lifecycle-configuration --bucket mybucket\r\n    {\r\n        &quot;Rules&quot;: [\r\n            {\r\n                &quot;Expiration&quot;: {\r\n                    &quot;Days&quot;: 30\r\n                },\r\n                &quot;ID&quot;: &quot;del30&quot;,\r\n                &quot;Filter&quot;: {},\r\n                &quot;Status&quot;: &quot;Enabled&quot;\r\n            }\r\n        ]\r\n    }","title":"Exception occurred when adding lifecycle rule to delete all objects from S3 bucket","body":"<p>I got this to work with the AWS Java SDK v1, as follows:</p>\n<pre><code>import com.amazonaws.AmazonClientException;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.BucketLifecycleConfiguration;\nimport com.amazonaws.services.s3.model.lifecycle.LifecycleFilter;\n\npublic class App {\n\n     public static void setLifecycle(AmazonS3 s3, String bucketName) {\n\n        try {\n            // Create a rule to delete all objects after 30 days.\n            BucketLifecycleConfiguration.Rule rule = new BucketLifecycleConfiguration.Rule()\n                    .withId(&quot;Delete objects in 30 days&quot;)\n                    .withFilter(new LifecycleFilter())\n                    .withExpirationInDays(30)\n                    .withStatus(BucketLifecycleConfiguration.ENABLED);\n\n            BucketLifecycleConfiguration configuration = new BucketLifecycleConfiguration()\n                    .withRules(rule);\n            s3.setBucketLifecycleConfiguration(bucketName, configuration);\n        } catch (AmazonClientException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n    }\n\n    public static void main(String[] args) {\n        AmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(Regions.US_EAST_1).build();\n        setLifecycle(s3, &quot;mybucket&quot;);\n    }\n}\n</code></pre>\n<p>The code basically creates a default, empty filter rule instead of a prefix filter on &quot;&quot;.</p>\n<p>I was also able to get this to work with the current Java SDK v2, as follows.</p>\n<pre><code>import software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.model.BucketLifecycleConfiguration;\nimport software.amazon.awssdk.services.s3.model.ExpirationStatus;\nimport software.amazon.awssdk.services.s3.model.LifecycleRuleFilter;\nimport software.amazon.awssdk.services.s3.model.LifecycleRule;\nimport software.amazon.awssdk.services.s3.model.LifecycleExpiration;\nimport software.amazon.awssdk.services.s3.model.S3Exception;\nimport software.amazon.awssdk.services.s3.model.PutBucketLifecycleConfigurationRequest;\n\nimport java.util.Collections;\n\npublic class App {\n\n     public static void setLifecycle(S3Client s3, String bucketName) {\n\n        try {\n            // Create a rule to delete all objects after 30 days.\n            LifecycleRule rule = LifecycleRule.builder()\n                    .id(&quot;Delete after 30 days rule&quot;)\n                    .filter(LifecycleRuleFilter.builder().build())\n                    .expiration(LifecycleExpiration.builder().days(30).build())\n                    .status(ExpirationStatus.ENABLED)\n                    .build();\n\n            BucketLifecycleConfiguration lifecycleConfiguration = BucketLifecycleConfiguration.builder()\n                    .rules(Collections.singletonList(rule))\n                    .build();\n\n            PutBucketLifecycleConfigurationRequest request = PutBucketLifecycleConfigurationRequest.builder()\n                    .bucket(bucketName)\n                    .lifecycleConfiguration(lifecycleConfiguration)\n                    .build();\n\n            s3.putBucketLifecycleConfiguration(request);\n        } catch (S3Exception e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n    }\n\n    public static void main(String[] args) {\n        Region region = Region.US_EAST_1;\n        S3Client s3 = S3Client.builder().region(region).build();\n        setLifecycle(s3, &quot;mybucket&quot;);\n        s3.close();\n    }\n}\n</code></pre>\n<p>I came to this conclusion because, after manually configuring a similar lifecycle in the AWS Console, the awscli description of that lifecycle configuration looked like this:</p>\n<pre><code>aws s3api get-bucket-lifecycle-configuration --bucket mybucket\n{\n    &quot;Rules&quot;: [\n        {\n            &quot;Expiration&quot;: {\n                &quot;Days&quot;: 30\n            },\n            &quot;ID&quot;: &quot;del30&quot;,\n            &quot;Filter&quot;: {},\n            &quot;Status&quot;: &quot;Enabled&quot;\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76591905,"answer_count":1,"score":1,"last_activity_date":1688420256,"creation_date":1688082188,"question_id":76585198,"body_markdown":"I&#39;m looking to add a lifecycle rule to delete all objects inside an S3 bucket after a certain number of days. I get the following error when I execute my code. Could this be due to the target prefix being null??\r\n\r\nError:\r\n\r\n**com.amazonaws.services.s3.model.AmazonS3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: Amazon S3; Status Code: 400; Error Code: MalformedXML; Request ID: 4FR7C3BE85YVEW57; S3 Extended Request ID: fcYaw7u//7o843GjDtGGIQRjYxAMbn7f1iepEIas/Yt5bybM9BjDZ0JbG+SVz/vvE1k/KjaKadQ=; Proxy: null), S3 Extended Request ID: fcYaw7u//7o843GjDtGGIQRjYxAMbn7f1iepEIas/Yt5bybM9BjDZ0JbG+SVz/vvE1k/KjaKadQ=**\r\n\r\n\r\nCode used for creating and setting lifecycle rule to bucket configuration:\r\n```\r\n        try {\r\n            BucketLifecycleConfiguration configuration = s3Client.getBucketLifecycleConfiguration(bucketName);\r\n            if (configuration == null) {\r\n                BucketLifecycleConfiguration.Rule rule = new BucketLifecycleConfiguration.Rule()\r\n                        .withId(&quot;Delete objects in &quot; + expirationInDays + &quot; days&quot;)\r\n                        .withFilter(new LifecycleFilter())\r\n                        .withExpirationInDays(expirationInDays)\r\n                        .withExpiredObjectDeleteMarker(true)\r\n                        .withStatus(BucketLifecycleConfiguration.ENABLED);\r\n\r\n                configuration = new BucketLifecycleConfiguration()\r\n                        .withRules(rule);\r\n                s3Client.setBucketLifecycleConfiguration(bucketName, configuration);\r\n                configuration = s3Client.getBucketLifecycleConfiguration(bucketName);\r\n            } else {\r\n                log.info(&quot;addLifecycleConfiguration: Lifecycle rules found in configuration. Skipping.&quot;);\r\n            }\r\n        } catch (AmazonClientException ex) {\r\n            log.error(&quot;addLifecycleConfiguration: AmazonClientException. ex={}&quot;, ex.getMessage());\r\n        }\r\n```\r\n\r\n[![Debug output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PXNlk.png","title":"Exception occurred when adding lifecycle rule to delete all objects from S3 bucket","body":"<p>I'm looking to add a lifecycle rule to delete all objects inside an S3 bucket after a certain number of days. I get the following error when I execute my code. Could this be due to the target prefix being null??</p>\n<p>Error:</p>\n<p><strong>com.amazonaws.services.s3.model.AmazonS3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: Amazon S3; Status Code: 400; Error Code: MalformedXML; Request ID: 4FR7C3BE85YVEW57; S3 Extended Request ID: fcYaw7u//7o843GjDtGGIQRjYxAMbn7f1iepEIas/Yt5bybM9BjDZ0JbG+SVz/vvE1k/KjaKadQ=; Proxy: null), S3 Extended Request ID: fcYaw7u//7o843GjDtGGIQRjYxAMbn7f1iepEIas/Yt5bybM9BjDZ0JbG+SVz/vvE1k/KjaKadQ=</strong></p>\n<p>Code used for creating and setting lifecycle rule to bucket configuration:</p>\n<pre><code>        try {\n            BucketLifecycleConfiguration configuration = s3Client.getBucketLifecycleConfiguration(bucketName);\n            if (configuration == null) {\n                BucketLifecycleConfiguration.Rule rule = new BucketLifecycleConfiguration.Rule()\n                        .withId(&quot;Delete objects in &quot; + expirationInDays + &quot; days&quot;)\n                        .withFilter(new LifecycleFilter())\n                        .withExpirationInDays(expirationInDays)\n                        .withExpiredObjectDeleteMarker(true)\n                        .withStatus(BucketLifecycleConfiguration.ENABLED);\n\n                configuration = new BucketLifecycleConfiguration()\n                        .withRules(rule);\n                s3Client.setBucketLifecycleConfiguration(bucketName, configuration);\n                configuration = s3Client.getBucketLifecycleConfiguration(bucketName);\n            } else {\n                log.info(&quot;addLifecycleConfiguration: Lifecycle rules found in configuration. Skipping.&quot;);\n            }\n        } catch (AmazonClientException ex) {\n            log.error(&quot;addLifecycleConfiguration: AmazonClientException. ex={}&quot;, ex.getMessage());\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PXNlk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXNlk.png\" alt=\"Debug output\" /></a></p>\n"},{"tags":["java","coding-style","conventions"],"comments":[{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":0,"creation_date":1412469088,"post_id":3004710,"comment_id":41081577,"body_markdown":"related question - http://stackoverflow.com/questions/22914927/creating-a-src-main-java-folder-structur-in-eclipse-witout-maven","body":"related question - <a href=\"http://stackoverflow.com/questions/22914927/creating-a-src-main-java-folder-structur-in-eclipse-witout-maven\" title=\"creating a src main java folder structur in eclipse witout maven\">stackoverflow.com/questions/22914927/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1276077538,"creation_date":1276077199,"answer_id":3004715,"question_id":3004710,"body_markdown":"Yes, this is the Maven convention.\r\n\r\nEven if your project is 100% Java (as is typical with Maven btw), you often have resource files (which go to `src/main/resources` according to the Maven convention), or web app stuff, or ... all these fit into the Maven system easily.\r\n\r\nIf you are happy with your current build system (whatever it is), there is no reason to switch to Maven. Otherwise, or if starting a new project, you could evaluate your options, including Maven.","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>Yes, this is the Maven convention.</p>\n\n<p>Even if your project is 100% Java (as is typical with Maven btw), you often have resource files (which go to <code>src/main/resources</code> according to the Maven convention), or web app stuff, or ... all these fit into the Maven system easily.</p>\n\n<p>If you are happy with your current build system (whatever it is), there is no reason to switch to Maven. Otherwise, or if starting a new project, you could evaluate your options, including Maven.</p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1276085066,"post_id":3004775,"comment_id":3070733,"body_markdown":"Usually the resources directory is also split into `src/main/resources` and `src/test/resources`.","body":"Usually the resources directory is also split into <code>src&#47;main&#47;resources</code> and <code>src&#47;test&#47;resources</code>."},{"owner":{"account_id":176669,"reputation":7451,"user_id":407502,"accept_rate":70,"display_name":"orbfish"},"score":0,"creation_date":1387834303,"post_id":3004775,"comment_id":31097396,"body_markdown":"I use a convention like the OP&#39;s, and I&#39;m able to put test code in the same package as source code just fine (project/src/com... and project/test/com...).  I can see why it would be nice to split up resources, but I have to say I&#39;ve never needed test-specific resources.","body":"I use a convention like the OP&#39;s, and I&#39;m able to put test code in the same package as source code just fine (project/src/com... and project/test/com...).  I can see why it would be nice to split up resources, but I have to say I&#39;ve never needed test-specific resources."},{"owner":{"account_id":315165,"reputation":697,"user_id":630779,"accept_rate":50,"display_name":"Matt Moran"},"score":2,"creation_date":1538303536,"post_id":3004775,"comment_id":92089333,"body_markdown":"Also, if your project uses more than one language, they sit well within the src/main/ and src/test structure. You could have src/main/groovy, src/main/kotlin, src/main/jython etc. The JVM now has a whole host of alternative languages aside from Java.","body":"Also, if your project uses more than one language, they sit well within the src/main/ and src/test structure. You could have src/main/groovy, src/main/kotlin, src/main/jython etc. The JVM now has a whole host of alternative languages aside from Java."}],"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"comment_count":3,"down_vote_count":1,"up_vote_count":68,"is_accepted":true,"score":67,"last_activity_date":1462319565,"creation_date":1276077716,"answer_id":3004775,"question_id":3004710,"body_markdown":"Main benefit is in having the `test` directory as subdirectory of `src` with the same directory structure as the one in `main`:\r\n\r\n - Project-A\r\n   - bin\r\n   - lib\r\n   - src\r\n     - main\r\n         - java\r\n             - RootLevelPackageClass.java\r\n         - resources\r\n     - test\r\n         - java\r\n             - TestRootLevelPackageClass.java\r\n         - resources\r\n\r\nAll package private methods of `RootLevelPackageClass` will be visible, i.e. testable from `TestRootLevelPackageClass`. Since the testing code is also source its place should be under `src` directory.\r\n       ","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>Main benefit is in having the <code>test</code> directory as subdirectory of <code>src</code> with the same directory structure as the one in <code>main</code>:</p>\n\n<ul>\n<li>Project-A\n\n<ul>\n<li>bin</li>\n<li>lib</li>\n<li>src\n\n<ul>\n<li>main\n\n<ul>\n<li>java\n\n<ul>\n<li>RootLevelPackageClass.java</li>\n</ul></li>\n<li>resources</li>\n</ul></li>\n<li>test\n\n<ul>\n<li>java\n\n<ul>\n<li>TestRootLevelPackageClass.java</li>\n</ul></li>\n<li>resources</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>All package private methods of <code>RootLevelPackageClass</code> will be visible, i.e. testable from <code>TestRootLevelPackageClass</code>. Since the testing code is also source its place should be under <code>src</code> directory.</p>\n"},{"comments":[{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":4,"creation_date":1276089568,"post_id":3004832,"comment_id":3071408,"body_markdown":"They *say* Maven is based on convention over configuration, but why are the `pom.xml`:s a billion lines long and what is all this complex XML in general...? :)","body":"They <i>say</i> Maven is based on convention over configuration, but why are the <code>pom.xml</code>:s a billion lines long and what is all this complex XML in general...? :)"},{"owner":{"account_id":13627,"reputation":5160,"user_id":27507,"accept_rate":90,"display_name":"sourcerebels"},"score":6,"creation_date":1276094396,"post_id":3004832,"comment_id":3072304,"body_markdown":"You are right. But for sure if you dont use /src/main/java as your source folder, your pom.xml will have a billion and one lines :-)","body":"You are right. But for sure if you dont use /src/main/java as your source folder, your pom.xml will have a billion and one lines :-)"},{"owner":{"account_id":176669,"reputation":7451,"user_id":407502,"accept_rate":70,"display_name":"orbfish"},"score":1,"creation_date":1387834191,"post_id":3004832,"comment_id":31097341,"body_markdown":"That&#39;s true if you&#39;re using maven - but Eclipse etc. can read and create a project with the user&#39;s convention just fine.","body":"That&#39;s true if you&#39;re using maven - but Eclipse etc. can read and create a project with the user&#39;s convention just fine."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":2,"creation_date":1462320192,"post_id":3004832,"comment_id":61584591,"body_markdown":"@Esko I think you got that wrong...then. It&#39;s _convention over configuration_. It&#39;s not _**no** configuration over configuration_. I consider the declarative, instead of imperative, nature of POMs a pure genious concept. XML is verbose, agreed. But with that the content is easily understandable and comprehensible. We started to refrain from using identifiers like `a`, `a1`, `a2`, `x`, `y`, `z` a long time ago, didn&#39;t we?","body":"@Esko I think you got that wrong...then. It&#39;s <i>convention over configuration</i>. It&#39;s not <i><b>no</b> configuration over configuration</i>. I consider the declarative, instead of imperative, nature of POMs a pure genious concept. XML is verbose, agreed. But with that the content is easily understandable and comprehensible. We started to refrain from using identifiers like <code>a</code>, <code>a1</code>, <code>a2</code>, <code>x</code>, <code>y</code>, <code>z</code> a long time ago, didn&#39;t we?"}],"tags":[],"owner":{"account_id":13627,"reputation":5160,"user_id":27507,"accept_rate":90,"display_name":"sourcerebels"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1276078136,"creation_date":1276078136,"answer_id":3004832,"question_id":3004710,"body_markdown":"Its a Maven convention.\r\n\r\nMaven is based on [Convention over configuration][1] paradigm. Thats means: if you dont follow this convention you must configure where the sources are located. Thats the main benefit IMHO.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Convention_over_configuration","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>Its a Maven convention.</p>\n\n<p>Maven is based on <a href=\"http://en.wikipedia.org/wiki/Convention_over_configuration\" rel=\"noreferrer\">Convention over configuration</a> paradigm. Thats means: if you dont follow this convention you must configure where the sources are located. Thats the main benefit IMHO.</p>\n"},{"comments":[{"owner":{"account_id":108005,"reputation":4460,"user_id":286881,"accept_rate":88,"display_name":"Chris"},"score":0,"creation_date":1276091752,"post_id":3006190,"comment_id":3071769,"body_markdown":"Hi,\n\nThanks for your comments. The structure you show in your answer is similar to the structure I use in my existing projects and the normal convention up until Maven it seems.\n\nI&#39;d be interested in your further views of Maven and what you would recommend for multi-project builds as an alternative and why (gradle/ant/ivy ...)?","body":"Hi,  Thanks for your comments. The structure you show in your answer is similar to the structure I use in my existing projects and the normal convention up until Maven it seems.  I&#39;d be interested in your further views of Maven and what you would recommend for multi-project builds as an alternative and why (gradle/ant/ivy ...)?"},{"owner":{"account_id":39695,"reputation":21676,"user_id":114584,"accept_rate":100,"display_name":"ndp"},"score":10,"creation_date":1276092841,"post_id":3006190,"comment_id":3072009,"body_markdown":"Source code repos, despite the name, are meant for binary as well as textual content. Maybe your projects have no dependencies on binary assets, but all my recent (web) projects have a visual (or aural), and they won&#39;t function without them. They are integral to the project. It&#39;s very beneficial to have them versioned along with the &quot;code&quot;. Not including them would just make everyone&#39;s job harder.","body":"Source code repos, despite the name, are meant for binary as well as textual content. Maybe your projects have no dependencies on binary assets, but all my recent (web) projects have a visual (or aural), and they won&#39;t function without them. They are integral to the project. It&#39;s very beneficial to have them versioned along with the &quot;code&quot;. Not including them would just make everyone&#39;s job harder."},{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":0,"creation_date":1276107742,"post_id":3006190,"comment_id":3074532,"body_markdown":"@ndp: Most versioning systems are made for textual content and very few support *proper* versioning of binary content. I do acknowledge they&#39;re integral to the project but that doesn&#39;t mean they necessarily belong to the same place as the actual source code.","body":"@ndp: Most versioning systems are made for textual content and very few support <i>proper</i> versioning of binary content. I do acknowledge they&#39;re integral to the project but that doesn&#39;t mean they necessarily belong to the same place as the actual source code."},{"owner":{"account_id":39695,"reputation":21676,"user_id":114584,"accept_rate":100,"display_name":"ndp"},"score":4,"creation_date":1276142484,"post_id":3006190,"comment_id":3077840,"body_markdown":".. What do you mean &quot;proper&quot; versioning of binary content? Every system I&#39;ve used in the last 20 years has allowed me to check in binary files. Sure, CVS was a little finicky, but these days git is perfect-- in fact, git treats all content as binary blobs (at least at the storage layer). What am I/we missing?","body":".. What do you mean &quot;proper&quot; versioning of binary content? Every system I&#39;ve used in the last 20 years has allowed me to check in binary files. Sure, CVS was a little finicky, but these days git is perfect-- in fact, git treats all content as binary blobs (at least at the storage layer). What am I/we missing?"},{"owner":{"account_id":71172,"reputation":4851,"user_id":205814,"accept_rate":74,"display_name":"JW."},"score":1,"creation_date":1409677335,"post_id":3006190,"comment_id":40041206,"body_markdown":"I agree with @ndp - Just because binary files are not easy to diff/version on a line-by-line basis does not mean they should be excluded from version control. It seems silly to &#39;throw the baby out with the bathwater&#39;.","body":"I agree with @ndp - Just because binary files are not easy to diff/version on a line-by-line basis does not mean they should be excluded from version control. It seems silly to &#39;throw the baby out with the bathwater&#39;."},{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":2,"creation_date":1409747372,"post_id":3006190,"comment_id":40069052,"body_markdown":"Hm, yet another of my years old things which I don&#39;t agree with even myself at this point :) Answers grow old, I suppose.","body":"Hm, yet another of my years old things which I don&#39;t agree with even myself at this point :) Answers grow old, I suppose."},{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":0,"creation_date":1412496195,"post_id":3006190,"comment_id":41085621,"body_markdown":"@Borat Well that would require me a whole lot more effort to actually state my full opinion on the matter at this point which would steer the answer away from what was originally asked. I understand the dilemma though, should we have an outdated answer - which isn&#39;t even that highly upvoted - to an old question or an updated answer to an old question that will never get much of an audience since it&#39;s last on the answers and people have learned to by extremely impatient and won&#39;t scroll all the way down anymore. I do admit being a bit lazy on updating this too, no question about that.","body":"@Borat Well that would require me a whole lot more effort to actually state my full opinion on the matter at this point which would steer the answer away from what was originally asked. I understand the dilemma though, should we have an outdated answer - which isn&#39;t even that highly upvoted - to an old question or an updated answer to an old question that will never get much of an audience since it&#39;s last on the answers and people have learned to by extremely impatient and won&#39;t scroll all the way down anymore. I do admit being a bit lazy on updating this too, no question about that."}],"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":7,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1276089856,"creation_date":1276089856,"answer_id":3006190,"question_id":3004710,"body_markdown":"Others have already told you it&#39;s a Maven convention, I&#39;m going to answer your question instead:\r\n\r\nAbsolutely none. Certainly it&#39;s beneficial to separate pieces of code to separate root folders, but usually you could achieve the same with\r\n\r\n - [root]\r\n   - src\r\n     - com.org.net\r\n         - Your.class\r\n   - test\r\n     - com.org.net\r\n         - YourTest.class\r\n   - lib\r\n   - bin\r\n   - resources\r\n\r\ninstead. In fact here&#39;s a big thing Maven does that&#39;s actually hugely **wrong**: It wants to add binary content to source code repository which is meant for textual content only! All binary content should be managed outside the source code repository, that includes images in web applications and whatnot.\r\n\r\nBut OK, lets assume that you&#39;ve decided to live in the somewhat smelly Maven ecosystem; then you should of course follow the Maven conventions as strictly as possible.","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>Others have already told you it's a Maven convention, I'm going to answer your question instead:</p>\n\n<p>Absolutely none. Certainly it's beneficial to separate pieces of code to separate root folders, but usually you could achieve the same with</p>\n\n<ul>\n<li>[root]\n\n<ul>\n<li>src\n\n<ul>\n<li>com.org.net\n\n<ul>\n<li>Your.class</li>\n</ul></li>\n</ul></li>\n<li>test\n\n<ul>\n<li>com.org.net\n\n<ul>\n<li>YourTest.class</li>\n</ul></li>\n</ul></li>\n<li>lib</li>\n<li>bin</li>\n<li>resources</li>\n</ul></li>\n</ul>\n\n<p>instead. In fact here's a big thing Maven does that's actually hugely <strong>wrong</strong>: It wants to add binary content to source code repository which is meant for textual content only! All binary content should be managed outside the source code repository, that includes images in web applications and whatnot.</p>\n\n<p>But OK, lets assume that you've decided to live in the somewhat smelly Maven ecosystem; then you should of course follow the Maven conventions as strictly as possible.</p>\n"},{"tags":[],"owner":{"account_id":39695,"reputation":21676,"user_id":114584,"accept_rate":100,"display_name":"ndp"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1276093235,"creation_date":1276093235,"answer_id":3006717,"question_id":3004710,"body_markdown":"Yes, this is a maven convention, but even if you&#39;re not using maven, there are benefits to using it:\r\n\r\n1. people new to the project will have an easier time coming up to speed, since it&#39;s a &quot;standard&quot;\r\n2. this convention is flexible and has a place for non-Java code and other things you don&#39;t have at this point. This is one reason it&#39;s popular and you may find it evolves better than a scheme you come up with on your own\r\n3. if you want to move to maven at some point it will be easy\r\n\r\nAlthough I wouldn&#39;t argue you should switch just to switch, when starting a new project there&#39;s really no reason to not use it-- unless you disagree philosophically with how it breaks the code up.","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>Yes, this is a maven convention, but even if you're not using maven, there are benefits to using it:</p>\n\n<ol>\n<li>people new to the project will have an easier time coming up to speed, since it's a \"standard\"</li>\n<li>this convention is flexible and has a place for non-Java code and other things you don't have at this point. This is one reason it's popular and you may find it evolves better than a scheme you come up with on your own</li>\n<li>if you want to move to maven at some point it will be easy</li>\n</ol>\n\n<p>Although I wouldn't argue you should switch just to switch, when starting a new project there's really no reason to not use it-- unless you disagree philosophically with how it breaks the code up.</p>\n"}],"owner":{"account_id":108005,"reputation":4460,"user_id":286881,"accept_rate":88,"display_name":"Chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33235,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":3004775,"answer_count":5,"score":63,"last_activity_date":1688418317,"creation_date":1276077154,"question_id":3004710,"body_markdown":"I&#39;ve noticed that a lot of projects have the following structure:\r\n\r\n* Project-A\r\n  * bin\r\n  * lib\r\n  * src\r\n     * main\r\n         * java\r\n             * RootLevelPackageClass.java\r\n\r\nI currently use the following convention (as my projects are 100% java):\r\n\r\n* Project-A\r\n  * bin\r\n  * lib\r\n  * src\r\n     * RootLevelPackageClass.java\r\n\r\nI&#39;m not currently using Maven but am wondering if this is a Maven convention or not or if there is another reason. Can someone explain why the first version is so popular these days and if I should adopt this new convention or not?","title":"What is the advantage of the &#39;src/main/java&#39;&#39; convention?","body":"<p>I've noticed that a lot of projects have the following structure:</p>\n<ul>\n<li>Project-A\n<ul>\n<li>bin</li>\n<li>lib</li>\n<li>src\n<ul>\n<li>main\n<ul>\n<li>java\n<ul>\n<li>RootLevelPackageClass.java</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>I currently use the following convention (as my projects are 100% java):</p>\n<ul>\n<li>Project-A\n<ul>\n<li>bin</li>\n<li>lib</li>\n<li>src\n<ul>\n<li>RootLevelPackageClass.java</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>I'm not currently using Maven but am wondering if this is a Maven convention or not or if there is another reason. Can someone explain why the first version is so popular these days and if I should adopt this new convention or not?</p>\n"},{"tags":["java","swagger"],"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688417511,"creation_date":1688417511,"question_id":76608031,"body_markdown":"I am using Swagger, however, when I make my post call to the service I keep getting the following error and I am not sure what I am missing in terms of my properties/code.\r\n\r\n`Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.util.Map&#39; for property &#39;data&#39;; Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.Map&#39; for property`\r\n\r\n\r\n    public class Control {\r\n        @PostMapping(value = &quot;/upload&quot;, produces = { MediaType.APPLICATION_JSON_VALUE }, consumes = {\r\n                MediaType.MULTIPART_FORM_DATA_VALUE })\r\n        public ResponseEntity&lt;Response&gt; upload(@ModelAttribute final UploadModel model) {\r\n            var response = service.uploadFile(model);\r\n            return ResponseEntity.ok(response);\r\n        }\r\n    }\r\n    \t\r\n    public class UploadModel {\r\n    \r\n    \tprivate String id;\r\n        private MultipartFile file;\r\n        private Map&lt;String, Object&gt; data;\r\n    \r\n    }\r\n\r\n\r\nI pass the following in swagger to my map data type:\r\n\r\n    {\r\n      &quot;additionalProp1&quot;: {},\r\n      &quot;additionalProp2&quot;: {},\r\n      &quot;additionalProp3&quot;: {}\r\n    }","title":"Swagger is not able to take in a Map as a request type","body":"<p>I am using Swagger, however, when I make my post call to the service I keep getting the following error and I am not sure what I am missing in terms of my properties/code.</p>\n<p><code>Failed to convert property value of type 'java.lang.String' to required type 'java.util.Map' for property 'data'; Cannot convert value of type 'java.lang.String' to required type 'java.util.Map' for property</code></p>\n<pre><code>public class Control {\n    @PostMapping(value = &quot;/upload&quot;, produces = { MediaType.APPLICATION_JSON_VALUE }, consumes = {\n            MediaType.MULTIPART_FORM_DATA_VALUE })\n    public ResponseEntity&lt;Response&gt; upload(@ModelAttribute final UploadModel model) {\n        var response = service.uploadFile(model);\n        return ResponseEntity.ok(response);\n    }\n}\n    \npublic class UploadModel {\n\n    private String id;\n    private MultipartFile file;\n    private Map&lt;String, Object&gt; data;\n\n}\n</code></pre>\n<p>I pass the following in swagger to my map data type:</p>\n<pre><code>{\n  &quot;additionalProp1&quot;: {},\n  &quot;additionalProp2&quot;: {},\n  &quot;additionalProp3&quot;: {}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","automation","cucumber","appium"],"owner":{"account_id":28834492,"reputation":1,"user_id":22084173,"display_name":"Gina Meidina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688416498,"creation_date":1688344349,"question_id":76601263,"body_markdown":"Hi im newbie in springboot, i try to use this framework to my automation mobile project, the problem its on console the print statement and log print twice, why? how to solve this?\r\n\r\n\r\nThis my app class\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n  public static void main(String[] args) {\r\n\r\n    SpringApplication.run(Application.class, args);\r\n  }\r\n}\r\n```\r\nThis my spring boot base test class\r\n```\r\n@CucumberContextConfiguration\r\n@SpringBootTest(classes = Application.class)\r\npublic class SpringBootBaseTest {\r\n\r\n}\r\n```\r\nThis my logback.xml \r\n\r\n```\r\n&lt;configuration&gt;\r\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;root level=&quot;info&quot;&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nThis my loginpagesteps class\r\n\r\n```\r\npublic class LoginPageSteps {\r\n  @Autowired\r\n  LoginPage loginPage;\r\n\r\n  @When(&quot;User click sign in button&quot;)\r\n  public void userClickSignInButtonInLoginPage() {\r\n    loginPage.testing();\r\n  }\r\n```\r\n\r\nThis my Login page class \r\n\r\n```\r\n@Slf4j\r\n@Component(&quot;com.mobile.automation.LoginPage&quot;)\r\npublic class LoginPage {\r\n  public void testing() {\r\n    System.out.println(&quot;hello&quot;);\r\n    log.info(&quot;hai&quot;);\r\n  }\r\n}\r\n```\r\n\r\nThis my cucumber feature class\r\n\r\n```\r\nFeature: Login\r\n  Scenario: Verify user can login with valid account\r\n    Given User click sign in button\r\n```\r\n\r\n\r\nWhen i run my code\r\n\r\n```\r\nhello\r\n07:19:50.900 [main] INFO  c.c.m.automation.pages.LoginPage - hai\r\nhello\r\n07:19:50.902 [main] INFO  c.c.m.automation.pages.LoginPage - hai\r\n```\r\n\r\n","title":"Print statement and logging spring boot cucumber print twice on console, how i avoid this? can i print only once?","body":"<p>Hi im newbie in springboot, i try to use this framework to my automation mobile project, the problem its on console the print statement and log print twice, why? how to solve this?</p>\n<p>This my app class</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n  public static void main(String[] args) {\n\n    SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n<p>This my spring boot base test class</p>\n<pre><code>@CucumberContextConfiguration\n@SpringBootTest(classes = Application.class)\npublic class SpringBootBaseTest {\n\n}\n</code></pre>\n<p>This my logback.xml</p>\n<pre><code>&lt;configuration&gt;\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>This my loginpagesteps class</p>\n<pre><code>public class LoginPageSteps {\n  @Autowired\n  LoginPage loginPage;\n\n  @When(&quot;User click sign in button&quot;)\n  public void userClickSignInButtonInLoginPage() {\n    loginPage.testing();\n  }\n</code></pre>\n<p>This my Login page class</p>\n<pre><code>@Slf4j\n@Component(&quot;com.mobile.automation.LoginPage&quot;)\npublic class LoginPage {\n  public void testing() {\n    System.out.println(&quot;hello&quot;);\n    log.info(&quot;hai&quot;);\n  }\n}\n</code></pre>\n<p>This my cucumber feature class</p>\n<pre><code>Feature: Login\n  Scenario: Verify user can login with valid account\n    Given User click sign in button\n</code></pre>\n<p>When i run my code</p>\n<pre><code>hello\n07:19:50.900 [main] INFO  c.c.m.automation.pages.LoginPage - hai\nhello\n07:19:50.902 [main] INFO  c.c.m.automation.pages.LoginPage - hai\n</code></pre>\n"},{"tags":["java","arrays","one-liner"],"comments":[{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":1,"creation_date":1415730126,"post_id":26871663,"comment_id":42301791,"body_markdown":"It would help explaining why you don&#39;t want to use a `for` loop. Are `while` loops okay? Is hiding the loop in a helper method, library, the JDK okay?","body":"It would help explaining why you don&#39;t want to use a <code>for</code> loop. Are <code>while</code> loops okay? Is hiding the loop in a helper method, library, the JDK okay?"}],"answers":[{"comments":[{"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"score":1,"creation_date":1415730042,"post_id":26871706,"comment_id":42301743,"body_markdown":"He has clearly stated..How can I achieve this without using for loop?","body":"He has clearly stated..How can I achieve this without using for loop?"},{"owner":{"account_id":2417303,"reputation":8587,"user_id":2111085,"accept_rate":64,"display_name":"Ernestas Gruodis"},"score":0,"creation_date":1415730228,"post_id":26871706,"comment_id":42301840,"body_markdown":"We have simple way to do it reverse `someString.split();`. So I thought it should be some very simple way to create tokenized `String` from `Array`","body":"We have simple way to do it reverse <code>someString.split();</code>. So I thought it should be some very simple way to create tokenized <code>String</code> from <code>Array</code>"}],"tags":[],"owner":{"account_id":5279453,"reputation":884,"user_id":4215308,"accept_rate":55,"display_name":"Zerp"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415729976,"creation_date":1415729976,"answer_id":26871706,"question_id":26871663,"body_markdown":"Edit: Why without a for loop?\r\n\r\nUse a StringBuilder\r\n\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    builder.append( myArray.remove(0));\r\n\r\n    for( String s : myArray) {\r\n        builder.append( &quot;&amp;&quot;);\r\n        builder.append( s);\r\n    }\r\n\r\n    String result = builder.toString();","title":"How to join Array to String (Java) in one line?","body":"<p>Edit: Why without a for loop?</p>\n\n<p>Use a StringBuilder</p>\n\n<pre><code>StringBuilder builder = new StringBuilder();\nbuilder.append( myArray.remove(0));\n\nfor( String s : myArray) {\n    builder.append( \"&amp;\");\n    builder.append( s);\n}\n\nString result = builder.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5156654,"reputation":10601,"user_id":4129726,"display_name":"Sergii Lagutin"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1688416156,"creation_date":1415730106,"answer_id":26871735,"question_id":26871663,"body_markdown":"Use Guava&#39;s [`Joiner`](https://github.com/google/guava/wiki/StringsExplained#joiner) or Java 8 [`StringJoiner`](https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html).","title":"How to join Array to String (Java) in one line?","body":"<p>Use Guava's <a href=\"https://github.com/google/guava/wiki/StringsExplained#joiner\" rel=\"nofollow noreferrer\"><code>Joiner</code></a> or Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\"><code>StringJoiner</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415730161,"creation_date":1415730161,"answer_id":26871761,"question_id":26871663,"body_markdown":"There&#39;s no way to do this job without some sort of iteration over the array.  Even languages that offer some form of a `join()` function (which do not include Java &lt; version 8) must internally perform some sort of iteration.\r\n\r\nAbout the simplest way to do it in Java &lt;= 7 is this:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    String result;\r\n\r\n    for (String s : myArray) {\r\n        sb.append(s).append(&#39;&amp;&#39;);\r\n    }\r\n    sb.deleteCharAt(sb.length() - 1);\r\n\r\n    result = sb.toString();\r\n\r\n","title":"How to join Array to String (Java) in one line?","body":"<p>There's no way to do this job without some sort of iteration over the array.  Even languages that offer some form of a <code>join()</code> function (which do not include Java &lt; version 8) must internally perform some sort of iteration.</p>\n\n<p>About the simplest way to do it in Java &lt;= 7 is this:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nString result;\n\nfor (String s : myArray) {\n    sb.append(s).append('&amp;');\n}\nsb.deleteCharAt(sb.length() - 1);\n\nresult = sb.toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2417303,"reputation":8587,"user_id":2111085,"accept_rate":64,"display_name":"Ernestas Gruodis"},"score":0,"creation_date":1415730407,"post_id":26871763,"comment_id":42301926,"body_markdown":"Super :) I&#39;m thinking why this method was introduced only now, in Java8... Very useful.","body":"Super :) I&#39;m thinking why this method was introduced only now, in Java8... Very useful."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1415730505,"post_id":26871763,"comment_id":42301964,"body_markdown":"@ErnestasGruodis I think a lot of people were thinking the same thing.  I&#39;m wondering why Java *still* doesn&#39;t have a method to let you create a string by concatenating another string or character _n_ times, since it&#39;s something I need a lot.","body":"@ErnestasGruodis I think a lot of people were thinking the same thing.  I&#39;m wondering why Java <i>still</i> doesn&#39;t have a method to let you create a string by concatenating another string or character <i>n</i> times, since it&#39;s something I need a lot."}],"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1688415803,"creation_date":1415730172,"answer_id":26871763,"question_id":26871663,"body_markdown":"Using Java 8, [`String.join(CharSequence delimiter, CharSequence... elements)`][1]:\r\n\r\n    String result = String.join(&quot;&amp;&quot;, myArray);\r\n\r\nUsing Java 7 or earlier, you either need a loop or recursion.  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-","title":"How to join Array to String (Java) in one line?","body":"<p>Using Java 8, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"nofollow noreferrer\"><code>String.join(CharSequence delimiter, CharSequence... elements)</code></a>:</p>\n<pre><code>String result = String.join(&quot;&amp;&quot;, myArray);\n</code></pre>\n<p>Using Java 7 or earlier, you either need a loop or recursion.</p>\n"},{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1688416253,"post_id":26871878,"comment_id":135068761,"body_markdown":"Benefit of Apache Commons compared to Java 8 (StringJoiner or String.join): it&#39;s **null-safe**.","body":"Benefit of Apache Commons compared to Java 8 (StringJoiner or String.join): it&#39;s <b>null-safe</b>."}],"tags":[],"owner":{"account_id":1446073,"reputation":1983,"user_id":1364499,"accept_rate":88,"display_name":"josivan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688416437,"creation_date":1415730539,"answer_id":26871878,"question_id":26871663,"body_markdown":"Use Apache Commons Lang, [`StringUtils.join(Object[] array, char separator)`][1].\r\n\r\nExample:\r\n```java\r\nString result = StringUtils.join(myArray, &#39;&amp;&#39;);\r\n```\r\n\r\nThis library is also compatible with Java 7 and earlier. Plus, it has a lot of overloaded methods.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#join(java.lang.Object[],%20char)","title":"How to join Array to String (Java) in one line?","body":"<p>Use Apache Commons Lang, <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#join(java.lang.Object%5B%5D,%20char)\" rel=\"nofollow noreferrer\"><code>StringUtils.join(Object[] array, char separator)</code></a>.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = StringUtils.join(myArray, '&amp;');\n</code></pre>\n<p>This library is also compatible with Java 7 and earlier. Plus, it has a lot of overloaded methods.</p>\n"}],"owner":{"account_id":2417303,"reputation":8587,"user_id":2111085,"accept_rate":64,"display_name":"Ernestas Gruodis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5488,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26871763,"answer_count":5,"score":4,"last_activity_date":1688416437,"creation_date":1415729838,"question_id":26871663,"body_markdown":"Let&#39;s assume there is an array:\r\n\r\n```java\r\nString[] myArray = new String[]{&quot;slim cat&quot;, &quot;fat cat&quot;, &quot;extremely fat cat&quot;};\r\n```\r\nNow I want to transform this array into a String joined with `&quot;&amp;&quot;`.\r\nSo that the output becomes:\r\n```\r\nslim cat&amp;fat cat&amp;extremely fat cat\r\n```\r\n\r\nI am trying to keep my code shorter and clean, without the need to manually type a `for` loop.\r\n\r\nI would like to have a short solution, like we use in reverse way with `someString.split();`.\r\n\r\nHow can I achieve this?","title":"How to join Array to String (Java) in one line?","body":"<p>Let's assume there is an array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] myArray = new String[]{&quot;slim cat&quot;, &quot;fat cat&quot;, &quot;extremely fat cat&quot;};\n</code></pre>\n<p>Now I want to transform this array into a String joined with <code>&quot;&amp;&quot;</code>.\nSo that the output becomes:</p>\n<pre><code>slim cat&amp;fat cat&amp;extremely fat cat\n</code></pre>\n<p>I am trying to keep my code shorter and clean, without the need to manually type a <code>for</code> loop.</p>\n<p>I would like to have a short solution, like we use in reverse way with <code>someString.split();</code>.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","vaadin","junit5","vaadin-flow"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":0,"creation_date":1688417487,"post_id":76607934,"comment_id":135068947,"body_markdown":"https://github.com/awaitility/awaitility Can help you to write asynchronous testing code.","body":"<a href=\"https://github.com/awaitility/awaitility\" rel=\"nofollow noreferrer\">github.com/awaitility/awaitility</a> Can help you to write asynchronous testing code."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":2,"creation_date":1688456225,"post_id":76607934,"comment_id":135072831,"body_markdown":"It kind of sounds like you&#39;re using the wrong testing methodology here. Unit tests are not integration tests, and it sounds like you&#39;re testing some integration that takes time to execute. Suitable integration testing tools like Selenium or Vaadin TestBench have built-in mechanisms for waiting that would be a natural fit for a case like this.","body":"It kind of sounds like you&#39;re using the wrong testing methodology here. Unit tests are not integration tests, and it sounds like you&#39;re testing some integration that takes time to execute. Suitable integration testing tools like Selenium or Vaadin TestBench have built-in mechanisms for waiting that would be a natural fit for a case like this."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1688573999,"post_id":76607934,"comment_id":135092774,"body_markdown":"@Knobie awaitility had the same issue sadly.","body":"@Knobie awaitility had the same issue sadly."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1688575203,"post_id":76607934,"comment_id":135093022,"body_markdown":"@ollitietavainen I&#39;m actually using TestBench (for some reason I thought I was using JUnit only - sometimes you forget the obvious when you&#39;ve been looking at a problem too long). Specifically vaadin-testbench-unit-junit5. That being said I don&#39;t see anything to wait for a component in Testbench. I&#39;m going to assume I&#39;m just not seeing something that is available.","body":"@ollitietavainen I&#39;m actually using TestBench (for some reason I thought I was using JUnit only - sometimes you forget the obvious when you&#39;ve been looking at a problem too long). Specifically vaadin-testbench-unit-junit5. That being said I don&#39;t see anything to wait for a component in Testbench. I&#39;m going to assume I&#39;m just not seeing something that is available."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1688575454,"post_id":76607934,"comment_id":135093063,"body_markdown":"@ollitietavainen I&#39;ve gone through the Vaadin documentation again and there only seems to be 4 pages https://vaadin.com/docs/latest/testing/ui-unit with nothing about waiting. I suspect I have to be missing something or that it&#39;s not in the documentation. Any suggestions would be appreciated. Thank you.","body":"@ollitietavainen I&#39;ve gone through the Vaadin documentation again and there only seems to be 4 pages <a href=\"https://vaadin.com/docs/latest/testing/ui-unit\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/testing/ui-unit</a> with nothing about waiting. I suspect I have to be missing something or that it&#39;s not in the documentation. Any suggestions would be appreciated. Thank you."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1688584105,"post_id":76607934,"comment_id":135094752,"body_markdown":"The TestBench product includes browser testing (Selenium-based) and serverless UI Unit Testing. Sounds like you&#39;re using the latter while you should be using the former.","body":"The TestBench product includes browser testing (Selenium-based) and serverless UI Unit Testing. Sounds like you&#39;re using the latter while you should be using the former."}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688416254,"creation_date":1688416254,"question_id":76607934,"body_markdown":"Specifically I&#39;m using JUnit 5 with Vaadin Flow (version 24) and when I click on a button it fires off a thread that can take a while for the screen to be updated. I then use:\r\n\r\n    UI.getCurrent().access(() -&gt; {\r\n        someComponent.setValue(doneStatus);\r\n    });\r\n\r\nto update the UI when the thread is completed. With Junit I&#39;m trying to do something along the lines of (ignoring any exception handling) in my JUnit test code:\r\n\r\n    while(checkIfDoneStatus(view.someComponent.getValue())) {\r\n    \tThread.sleep(100);\r\n    }\r\n\r\nThe problem is that doing this causes the Vaadin thread to sleep meaning the code in `UI.getCurrent().access() { ... };` is never run because it&#39;s always sleeping that code and not the JUnit test code. \r\n\r\nHow do I get my test code to sleep while waiting for Vaadin to be done it&#39;s work?\r\n\r\n","title":"How do I sleep the JUnit test in Vaadin with a background thread running?","body":"<p>Specifically I'm using JUnit 5 with Vaadin Flow (version 24) and when I click on a button it fires off a thread that can take a while for the screen to be updated. I then use:</p>\n<pre><code>UI.getCurrent().access(() -&gt; {\n    someComponent.setValue(doneStatus);\n});\n</code></pre>\n<p>to update the UI when the thread is completed. With Junit I'm trying to do something along the lines of (ignoring any exception handling) in my JUnit test code:</p>\n<pre><code>while(checkIfDoneStatus(view.someComponent.getValue())) {\n    Thread.sleep(100);\n}\n</code></pre>\n<p>The problem is that doing this causes the Vaadin thread to sleep meaning the code in <code>UI.getCurrent().access() { ... };</code> is never run because it's always sleeping that code and not the JUnit test code.</p>\n<p>How do I get my test code to sleep while waiting for Vaadin to be done it's work?</p>\n"},{"tags":["java","java-8","resteasy","completable-future"],"comments":[{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":3,"creation_date":1429031104,"post_id":29633195,"comment_id":47409035,"body_markdown":"Can you show the code with the Resteasy code inside the runAsync?","body":"Can you show the code with the Resteasy code inside the runAsync?"},{"owner":{"account_id":1400550,"reputation":1059,"user_id":1329423,"accept_rate":67,"display_name":"m1416"},"score":0,"creation_date":1429084710,"post_id":29633195,"comment_id":47429988,"body_markdown":"Hi, I added the Resteasy code inside the runAsync, thanks for taking the time to look at it","body":"Hi, I added the Resteasy code inside the runAsync, thanks for taking the time to look at it"},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":0,"creation_date":1429084991,"post_id":29633195,"comment_id":47430153,"body_markdown":"Where do you run the code? Do you use an application server?","body":"Where do you run the code? Do you use an application server?"},{"owner":{"account_id":1400550,"reputation":1059,"user_id":1329423,"accept_rate":67,"display_name":"m1416"},"score":0,"creation_date":1429097902,"post_id":29633195,"comment_id":47438137,"body_markdown":"i use play framework, under the hood play uses netty","body":"i use play framework, under the hood play uses netty"},{"owner":{"account_id":5368841,"reputation":9821,"user_id":4277915,"display_name":"flo"},"score":2,"creation_date":1429098588,"post_id":29633195,"comment_id":47438584,"body_markdown":"`CompleteableFuture` uses the common ForkJoinPool for selecting threads to ansychronously work in. Maybe there is some Context missing within those threads. I don&#39;t know the play framework/netty, but if one of them provides a ThreadFactory or a Threadpool with Threads in its context, you may try the runAsync(Runnable, Executor) method with those to provide the context.","body":"<code>CompleteableFuture</code> uses the common ForkJoinPool for selecting threads to ansychronously work in. Maybe there is some Context missing within those threads. I don&#39;t know the play framework/netty, but if one of them provides a ThreadFactory or a Threadpool with Threads in its context, you may try the runAsync(Runnable, Executor) method with those to provide the context."},{"owner":{"account_id":1400550,"reputation":1059,"user_id":1329423,"accept_rate":67,"display_name":"m1416"},"score":0,"creation_date":1429101093,"post_id":29633195,"comment_id":47440341,"body_markdown":"I thought the same and used a thredpoolexecutor (not from the framework but one I instantiated with new) it works with it, it also works if i just assign everything to a new runnable and then execute the run method. The problem is not that the code will not run inside a thread but that it will not run inside the completablefuture (with no threadpool) I would like to understand why","body":"I thought the same and used a thredpoolexecutor (not from the framework but one I instantiated with new) it works with it, it also works if i just assign everything to a new runnable and then execute the run method. The problem is not that the code will not run inside a thread but that it will not run inside the completablefuture (with no threadpool) I would like to understand why"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1429123934,"post_id":29633195,"comment_id":47456474,"body_markdown":"If using arbitrary threads/executors work, than it might not be the absence of associated information but the fact that the F/J default thread pool is shared and thus, wrongly associated information dangling from another, previous use of the same thread is present…","body":"If using arbitrary threads/executors work, than it might not be the absence of associated information but the fact that the F/J default thread pool is shared and thus, wrongly associated information dangling from another, previous use of the same thread is present…"},{"owner":{"account_id":2754470,"reputation":787,"user_id":2372992,"accept_rate":43,"display_name":"amritanshu"},"score":0,"creation_date":1522390690,"post_id":29633195,"comment_id":86146619,"body_markdown":"I tried your code with 3.5.0 RestEasy bits I was able to run your code without any problem, for 3.5.0 you need to use `AcceptEncodingGZIPFilter`","body":"I tried your code with 3.5.0 RestEasy bits I was able to run your code without any problem, for 3.5.0 you need to use <code>AcceptEncodingGZIPFilter</code>"}],"answers":[{"tags":[],"owner":{"account_id":3983739,"reputation":144,"user_id":3285000,"display_name":"kensei62"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688416048,"creation_date":1688145808,"answer_id":76591086,"question_id":29633195,"body_markdown":"I had this exact issue in Wildfly 26.1.3, which I believe uses RestEasy 4.7.7. If RestEasy was used in a &quot;normal&quot; method, it worked. If it was used in a thread created by CompletableFuture.runAsync, it failed with the &quot;Unable to find a MessageBodyReader&quot; error message.\r\n\r\nI used a debugger to see what was happening and I found that the RestEasy client was not properly configured when it was created in the thread. I was able to work around the problem by creating the client as follows:\r\n\r\n    Configuration configuration = LocalResteasyProviderFactory.getInstance().getConfiguration();\r\n    Client client = ClientBuilder.newClient(configuration);\r\n\r\nAdding this code resulted in a warning in the Wildfly server.log:\r\n\r\n    RESTEASY002155: Provider class org.jboss.resteasy.plugins.providers.jackson.PatchMethodFilter is already registered.  2nd registration is being ignored\r\n\r\nEDIT: after further research, the correct answer is to use `ManagedScheduledExecutorService` to execute the asynchronous task, not CompletableFuture. This ensures that the RestEasy configuration is correctly initialized.","title":"Java CompletableFuture + Resteasy","body":"<p>I had this exact issue in Wildfly 26.1.3, which I believe uses RestEasy 4.7.7. If RestEasy was used in a &quot;normal&quot; method, it worked. If it was used in a thread created by CompletableFuture.runAsync, it failed with the &quot;Unable to find a MessageBodyReader&quot; error message.</p>\n<p>I used a debugger to see what was happening and I found that the RestEasy client was not properly configured when it was created in the thread. I was able to work around the problem by creating the client as follows:</p>\n<pre><code>Configuration configuration = LocalResteasyProviderFactory.getInstance().getConfiguration();\nClient client = ClientBuilder.newClient(configuration);\n</code></pre>\n<p>Adding this code resulted in a warning in the Wildfly server.log:</p>\n<pre><code>RESTEASY002155: Provider class org.jboss.resteasy.plugins.providers.jackson.PatchMethodFilter is already registered.  2nd registration is being ignored\n</code></pre>\n<p>EDIT: after further research, the correct answer is to use <code>ManagedScheduledExecutorService</code> to execute the asynchronous task, not CompletableFuture. This ensures that the RestEasy configuration is correctly initialized.</p>\n"}],"owner":{"account_id":1400550,"reputation":1059,"user_id":1329423,"accept_rate":67,"display_name":"m1416"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1688416048,"creation_date":1429030677,"question_id":29633195,"body_markdown":"I have been using Java&#39;s CompletableFuture like this \r\n\r\n    CompletableFuture.runAsync(() -&gt; {//Some code here });\r\n\r\nWhen I try to use a Resteasy Client inside this block of code I get a \r\n\r\n    javax.ws.rs.ProcessingException: Unable to find a MessageBodyReader of content-type application/json;charset=utf-8 and type class java.lang.String\r\n\r\nIf i use the client outside of the completablefuture it works. The Resteasy code looks something like this \r\n\r\n            ResteasyClient client = new ResteasyClientBuilder().build();\r\n            client.register(new AcceptEncodingFilter(&quot;gzip&quot;));\r\n            ResteasyWebTarget target = client.target(exampleURL);\r\n\r\n            target = target.queryParam(&quot;1&quot;, 1)\r\n                    .queryParam(&quot;2&quot;, &quot;1&quot;)\r\n                    .queryParam(&quot;3&quot;, 3)\r\n                    .queryParam(&quot;4&quot;, 4)\r\n                    .queryParam(&quot;5&quot;, &quot;5&quot;);\r\n\r\n            Response response = target.request().get();\r\n            resultString = response.readEntity(String.class);\r\n\r\nI will run the resteasy code outisde of the completablefuture to &quot;fix&quot; the problem but would like to understand why this happens. \r\n\r\nThe resteasy code inside the CompletableFuture looks like this:\r\n\r\n \r\n\r\n    CompletableFuture.runAsync(() -&gt; {\r\n                try {\r\n                    ResteasyClient client = new ResteasyClientBuilder().build();\r\n                    client.register(new AcceptEncodingFilter(&quot;gzip&quot;));\r\n                    ResteasyWebTarget target = client.target(&quot;http://test.com&quot;);\r\n    \r\n                    target = target.queryParam(&quot;1&quot;, &quot;1&quot;)\r\n                            .queryParam(&quot;2&quot;, &quot;2&quot;)\r\n                            .queryParam(&quot;3&quot;, &quot;3&quot;)\r\n                            .queryParam(&quot;4&quot;, &quot;4&quot;)\r\n                            .queryParam(&quot;5&quot;, &quot;5&quot;);\r\n    \r\n                    Response response = target.request().get();\r\n                    String resultString = response.readEntity(String.class);\r\n    \r\n                    response.close();\r\n                    client.close();\r\n                } catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\nthe same code outside the CompletableFuture works ","title":"Java CompletableFuture + Resteasy","body":"<p>I have been using Java's CompletableFuture like this </p>\n\n<pre><code>CompletableFuture.runAsync(() -&gt; {//Some code here });\n</code></pre>\n\n<p>When I try to use a Resteasy Client inside this block of code I get a </p>\n\n<pre><code>javax.ws.rs.ProcessingException: Unable to find a MessageBodyReader of content-type application/json;charset=utf-8 and type class java.lang.String\n</code></pre>\n\n<p>If i use the client outside of the completablefuture it works. The Resteasy code looks something like this </p>\n\n<pre><code>        ResteasyClient client = new ResteasyClientBuilder().build();\n        client.register(new AcceptEncodingFilter(\"gzip\"));\n        ResteasyWebTarget target = client.target(exampleURL);\n\n        target = target.queryParam(\"1\", 1)\n                .queryParam(\"2\", \"1\")\n                .queryParam(\"3\", 3)\n                .queryParam(\"4\", 4)\n                .queryParam(\"5\", \"5\");\n\n        Response response = target.request().get();\n        resultString = response.readEntity(String.class);\n</code></pre>\n\n<p>I will run the resteasy code outisde of the completablefuture to \"fix\" the problem but would like to understand why this happens. </p>\n\n<p>The resteasy code inside the CompletableFuture looks like this:</p>\n\n<pre><code>CompletableFuture.runAsync(() -&gt; {\n            try {\n                ResteasyClient client = new ResteasyClientBuilder().build();\n                client.register(new AcceptEncodingFilter(\"gzip\"));\n                ResteasyWebTarget target = client.target(\"http://test.com\");\n\n                target = target.queryParam(\"1\", \"1\")\n                        .queryParam(\"2\", \"2\")\n                        .queryParam(\"3\", \"3\")\n                        .queryParam(\"4\", \"4\")\n                        .queryParam(\"5\", \"5\");\n\n                Response response = target.request().get();\n                String resultString = response.readEntity(String.class);\n\n                response.close();\n                client.close();\n            } catch (Exception e){\n                e.printStackTrace();\n            }\n        });\n</code></pre>\n\n<p>the same code outside the CompletableFuture works </p>\n"},{"tags":["java","arrays","exception","file-io","java.util.scanner"],"answers":[{"comments":[{"owner":{"account_id":28710505,"reputation":13,"user_id":21986087,"display_name":"JoubasaurusREX"},"score":0,"creation_date":1688413457,"post_id":76607510,"comment_id":135068320,"body_markdown":"Thanks! I changed the things you said but it still gives me the same exception.","body":"Thanks! I changed the things you said but it still gives me the same exception."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1688413581,"post_id":76607510,"comment_id":135068341,"body_markdown":"Can you please post just the parsing part with some data and not any of the object creation, etc.  I.e. read it in, assign it to variables, and continue.  And please include more than one line of your input.  Note that if one bit of data is out of order (i.e. a string is swapped for an int, you will get this error).  I did test that delimiter and it worked fine with repeated lines of your data example.  I presume you have no spaces in your lines. If you use a period instead of a comma you will also get that error.","body":"Can you please post just the parsing part with some data and not any of the object creation, etc.  I.e. read it in, assign it to variables, and continue.  And please include more than one line of your input.  Note that if one bit of data is out of order (i.e. a string is swapped for an int, you will get this error).  I did test that delimiter and it worked fine with repeated lines of your data example.  I presume you have no spaces in your lines. If you use a period instead of a comma you will also get that error."},{"owner":{"account_id":28710505,"reputation":13,"user_id":21986087,"display_name":"JoubasaurusREX"},"score":0,"creation_date":1688416914,"post_id":76607510,"comment_id":135068869,"body_markdown":"That worked thanks for the help!","body":"That worked thanks for the help!"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688415755,"creation_date":1688411315,"answer_id":76607510,"question_id":76607293,"body_markdown":"Change your input delimiter to\r\n```\r\ninput.useDelimiter(&quot;[,\\n\\r]+&quot;);\r\n```\r\nCarriage return and newline can sometimes be used together to signal end-of-line so you need to use the plus sign to use as many of the character class as required.\r\n\r\nAnd change `type = id.charAt(1);` to `type = id.charAt(0);` since the first character starts at `0` \r\n\r\n**Updated**\r\n\r\nI believe the problem is that if you get an invalid code,  you have not read in extra values so they are out of order. Doing the following may help but it depends on whether those extra values are there in the event the type is not found.\r\n```\r\n            if (type == &#39;B&#39;) {\r\n                rebeeps = input.nextInt();\r\n                likes = input.nextInt();\r\n            } else if (type == &#39;D&#39;) {\r\n                duration = input.nextInt();\r\n                shares = input.nextInt();\r\n            } else {\r\n                input.next(); // remove the lasts two values from the line\r\n                input.next();\r\n                System.out.println(&quot;Incorrect code:&quot;);\r\n            }\r\n```\r\nAnother solution would be to read in a line and then split on that line using commas and/or spaces as delimiters.  In this case, if there are any errors in input, the line is ignored.\r\n \r\n```\r\nwhile (input.hasNextLine()) {\r\n   String line = input.nextLine();\r\n   String[] tokens = line.split(&quot;[,\\\\s]+&quot;);\r\n   if (tokens.length != 5) {\r\n      // print error message and take action (continue loop)\r\n      continue;  // continue loop\r\n   }  else {\r\n      id = tokens[0];\r\n      type = id.charAt(0);\r\n      author = tokens[1];\r\n      views = Integer.parseInt(tokens[2]);\r\n    \r\n      if (type == &#39;B&#39;) {\r\n          rebeeps = Integer.parseInt(tokens[3]);\r\n          likes =   Integer.parseInt(tokens[4]);\r\n      } else if (type == &#39;D&#39;) {\r\n          duration = Integer.parseInt(tokens[3]);\r\n          shares = Integer.parseInt(tokens[4]);\r\n      } else {\r\n        System.out.println(&quot;Incorrect code:&quot;);\r\n      }\r\n}","title":"Java input.next() exception","body":"<p>Change your input delimiter to</p>\n<pre><code>input.useDelimiter(&quot;[,\\n\\r]+&quot;);\n</code></pre>\n<p>Carriage return and newline can sometimes be used together to signal end-of-line so you need to use the plus sign to use as many of the character class as required.</p>\n<p>And change <code>type = id.charAt(1);</code> to <code>type = id.charAt(0);</code> since the first character starts at <code>0</code></p>\n<p><strong>Updated</strong></p>\n<p>I believe the problem is that if you get an invalid code,  you have not read in extra values so they are out of order. Doing the following may help but it depends on whether those extra values are there in the event the type is not found.</p>\n<pre><code>            if (type == 'B') {\n                rebeeps = input.nextInt();\n                likes = input.nextInt();\n            } else if (type == 'D') {\n                duration = input.nextInt();\n                shares = input.nextInt();\n            } else {\n                input.next(); // remove the lasts two values from the line\n                input.next();\n                System.out.println(&quot;Incorrect code:&quot;);\n            }\n</code></pre>\n<p>Another solution would be to read in a line and then split on that line using commas and/or spaces as delimiters.  In this case, if there are any errors in input, the line is ignored.</p>\n<pre><code>while (input.hasNextLine()) {\n   String line = input.nextLine();\n   String[] tokens = line.split(&quot;[,\\\\s]+&quot;);\n   if (tokens.length != 5) {\n      // print error message and take action (continue loop)\n      continue;  // continue loop\n   }  else {\n      id = tokens[0];\n      type = id.charAt(0);\n      author = tokens[1];\n      views = Integer.parseInt(tokens[2]);\n    \n      if (type == 'B') {\n          rebeeps = Integer.parseInt(tokens[3]);\n          likes =   Integer.parseInt(tokens[4]);\n      } else if (type == 'D') {\n          duration = Integer.parseInt(tokens[3]);\n          shares = Integer.parseInt(tokens[4]);\n      } else {\n        System.out.println(&quot;Incorrect code:&quot;);\n      }\n}\n</code></pre>\n"}],"owner":{"account_id":28710505,"reputation":13,"user_id":21986087,"display_name":"JoubasaurusREX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76607510,"answer_count":1,"score":-2,"last_activity_date":1688415755,"creation_date":1688408485,"question_id":76607293,"body_markdown":"I have got the following code:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.io.Serializable;\r\nimport java.io.*;\r\n\r\npublic class Application implements Serializable{\r\n\r\n    private static Scanner input;\r\n\r\n    public static void openInput()\r\n    {\r\n        try\r\n        {\r\n            input = new Scanner(new File(&quot;postings.txt&quot;));\r\n            input.useDelimiter(&quot;[,\\\\n\\\\r]&quot;);\r\n            System.out.println(&quot;File opened(message1)&quot;);\r\n        }\r\n        catch(IOException ioe)\r\n        {\r\n            System.out.println(&quot;File has not opened&quot; + ioe);\r\n            System.exit(1);\r\n        }\r\n        System.out.println(&quot;File opened (message 2)&quot;);\r\n    }\r\n\r\n    public static void closeInput()\r\n    {\r\n        input.close();\r\n        System.out.println();\r\n    }\r\n\r\n    public static void application()\r\n    {\r\n        Media[] arr = new Media[25];\r\n        char type;\r\n        String id, author;\r\n        int views, likes, rebeeps, duration, shares;\r\n        int numObjects = 0; \r\n        while(input.hasNext())\r\n        {\r\n            id = input.next();\r\n            type = id.charAt(1);\r\n            author = input.next();\r\n            views = input.nextInt();\r\n            if (type == &#39;B&#39;)\r\n            {\r\n                rebeeps = input.nextInt();\r\n                likes = input.nextInt();\r\n                arr[numObjects++] = new Beeper(type+id,author,views,rebeeps,likes);\r\n            }\r\n            else if(type == &#39;D&#39;)\r\n            {\r\n                duration = input.nextInt();\r\n                shares = input.nextInt();\r\n                arr[numObjects++] = new DingDong(type+id,author,views,duration,shares);\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Incorrect code: &quot; + arr[numObjects]);\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;List of postings&quot;);\r\n        for(int i = 0; i &lt;= numObjects; numObjects++)\r\n        {\r\n            System.out.println(arr[numObjects]);\r\n        }\r\n\r\n        System.out.println(&quot;Scores of postings&quot;);\r\n        for(int i = 0; i&lt;= numObjects; numObjects++)\r\n        {\r\n            System.out.printf(&quot;%-8%7.2f&quot;,arr[numObjects].getID() + arr[numObjects].getAuthor() + arr[numObjects].calculateScore());\r\n        }\r\n\r\n        System.out.printf(&quot;%-8%7.2f&quot;,arr[numObjects].getID() + arr[numObjects].author + arr[numObjects]);\r\n\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        openInput();\r\n        application();\r\n        closeInput();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have Three classes One superclass and two subclasses\r\nSuperclass: Media\r\nsubclasses: DingDong, Beeper\r\n\r\nI am trying to get information from inside a textfile such as this:\r\nD123456,JohnD,28123,154,8045\r\n\r\nand save it to the array according to their specific classes, But I get the following exception when I run Application:\r\n\r\n```\r\nFile opened(message1)\r\nFile opened (message 2)\r\nIncorrect code: null\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n        at Application.application(Application.java:44)\r\n        at Application.main(Application.java:82)\r\n```\r\nThe variables in the code for the class Application are the same, and right, types as it is in the super and subclasses.\r\nPlease help!\r\n","title":"Java input.next() exception","body":"<p>I have got the following code:</p>\n<pre><code>import java.util.Scanner;\nimport java.io.Serializable;\nimport java.io.*;\n\npublic class Application implements Serializable{\n\n    private static Scanner input;\n\n    public static void openInput()\n    {\n        try\n        {\n            input = new Scanner(new File(&quot;postings.txt&quot;));\n            input.useDelimiter(&quot;[,\\\\n\\\\r]&quot;);\n            System.out.println(&quot;File opened(message1)&quot;);\n        }\n        catch(IOException ioe)\n        {\n            System.out.println(&quot;File has not opened&quot; + ioe);\n            System.exit(1);\n        }\n        System.out.println(&quot;File opened (message 2)&quot;);\n    }\n\n    public static void closeInput()\n    {\n        input.close();\n        System.out.println();\n    }\n\n    public static void application()\n    {\n        Media[] arr = new Media[25];\n        char type;\n        String id, author;\n        int views, likes, rebeeps, duration, shares;\n        int numObjects = 0; \n        while(input.hasNext())\n        {\n            id = input.next();\n            type = id.charAt(1);\n            author = input.next();\n            views = input.nextInt();\n            if (type == 'B')\n            {\n                rebeeps = input.nextInt();\n                likes = input.nextInt();\n                arr[numObjects++] = new Beeper(type+id,author,views,rebeeps,likes);\n            }\n            else if(type == 'D')\n            {\n                duration = input.nextInt();\n                shares = input.nextInt();\n                arr[numObjects++] = new DingDong(type+id,author,views,duration,shares);\n            }\n            else\n            {\n                System.out.println(&quot;Incorrect code: &quot; + arr[numObjects]);\n            }\n        }\n\n        System.out.println(&quot;List of postings&quot;);\n        for(int i = 0; i &lt;= numObjects; numObjects++)\n        {\n            System.out.println(arr[numObjects]);\n        }\n\n        System.out.println(&quot;Scores of postings&quot;);\n        for(int i = 0; i&lt;= numObjects; numObjects++)\n        {\n            System.out.printf(&quot;%-8%7.2f&quot;,arr[numObjects].getID() + arr[numObjects].getAuthor() + arr[numObjects].calculateScore());\n        }\n\n        System.out.printf(&quot;%-8%7.2f&quot;,arr[numObjects].getID() + arr[numObjects].author + arr[numObjects]);\n\n    }\n\n    public static void main(String[] args)\n    {\n        openInput();\n        application();\n        closeInput();\n    }\n}\n\n</code></pre>\n<p>I have Three classes One superclass and two subclasses\nSuperclass: Media\nsubclasses: DingDong, Beeper</p>\n<p>I am trying to get information from inside a textfile such as this:\nD123456,JohnD,28123,154,8045</p>\n<p>and save it to the array according to their specific classes, But I get the following exception when I run Application:</p>\n<pre><code>File opened(message1)\nFile opened (message 2)\nIncorrect code: null\nException in thread &quot;main&quot; java.util.InputMismatchException\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n        at Application.application(Application.java:44)\n        at Application.main(Application.java:82)\n</code></pre>\n<p>The variables in the code for the class Application are the same, and right, types as it is in the super and subclasses.\nPlease help!</p>\n"},{"tags":["java","mongodb","codec"],"comments":[{"owner":{"account_id":3244518,"reputation":1040,"user_id":2736516,"accept_rate":78,"display_name":"vedi0boy"},"score":0,"creation_date":1484240485,"post_id":41618203,"comment_id":70439268,"body_markdown":"I just found out that it has to do with me using `Item[]`, apparently it&#39;s not possible with MongoDB to use arrays, that sucks.","body":"I just found out that it has to do with me using <code>Item[]</code>, apparently it&#39;s not possible with MongoDB to use arrays, that sucks."},{"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"score":0,"creation_date":1642217368,"post_id":41618203,"comment_id":125018971,"body_markdown":"For those that follow, the default Lists/ArrayLists work fine; and if you really need an array it can be done!","body":"For those that follow, the default Lists/ArrayLists work fine; and if you really need an array it can be done!"}],"answers":[{"comments":[{"owner":{"account_id":3244518,"reputation":1040,"user_id":2736516,"accept_rate":78,"display_name":"vedi0boy"},"score":0,"creation_date":1550287815,"post_id":54272611,"comment_id":96224568,"body_markdown":"I&#39;m accepting your answer since I trust it and you put a lot of work into it, but I honestly haven&#39;t tried it and have no interest in trying since it&#39;s an old question, but thanks man!","body":"I&#39;m accepting your answer since I trust it and you put a lot of work into it, but I honestly haven&#39;t tried it and have no interest in trying since it&#39;s an old question, but thanks man!"},{"owner":{"account_id":1244990,"reputation":1982,"user_id":1206645,"display_name":"Tharaka Devinda"},"score":0,"creation_date":1553187060,"post_id":54272611,"comment_id":97300721,"body_markdown":"This method contains far more manual conversion than simply writing the object as a Document manually. :(","body":"This method contains far more manual conversion than simply writing the object as a Document manually. :("}],"tags":[],"owner":{"account_id":7577263,"reputation":2260,"user_id":5749217,"display_name":"Collin Krawll"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1547944826,"creation_date":1547944826,"answer_id":54272611,"question_id":41618203,"body_markdown":"You can do Mongo codecs for arrays using ArrayList as follows:\r\n\r\ncom.example.model.Order\r\n-------------------------\r\nThis is the class representing an Order. It includes an ArrayList of items.\r\n\r\n    package com.example.model;\r\n    \r\n    import java.util.ArrayList;\r\n    import org.bson.types.ObjectId;\r\n    \r\n    /**\r\n     * Class representing an Order.\r\n     */\r\n    public class Order\r\n    {\r\n        private ObjectId id;\r\n        private ArrayList&lt;Item&gt; items;\r\n    \r\n        /**\r\n         * Default constructor. Needed for testing.\r\n         */\r\n        public Order() {\r\n            this.items = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        /**\r\n         * Sets the id of the Order.\r\n         * @param id The new id of the Order.\r\n         */\r\n        public void setId(ObjectId id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        /**\r\n         * Gets the id of the Order.\r\n         * @return The id of the Order.\r\n         */\r\n        public ObjectId getId() {\r\n            return this.id;\r\n        }\r\n    \r\n        /**\r\n         * Sets the items for the Order.\r\n         * @param items The items for the Order.\r\n         */\r\n        public void setItems(ArrayList&lt;Item&gt; items) {\r\n            this.items = items;\r\n        }\r\n    \r\n        /**\r\n         * Gets the items for the Order.\r\n         * @return The items for the Order.\r\n         */\r\n        public ArrayList&lt;Item&gt; getItems() {\r\n            return items;\r\n        }\r\n    \r\n        /**\r\n         * Adds an item to the Order.\r\n         * @param item The new Item to add to the Order.\r\n         */\r\n        public void addItem(Item item) {\r\n            this.items.add(item);\r\n        }\r\n    }\r\n\r\ncom.example.model.Item\r\n----------------------\r\nThis is the class representing an Order Item. There can be any number of items that are a part of an order. Items are embedded within the Order document in Mongo.\r\n\r\n    package com.example.model;\r\n    \r\n    import org.bson.types.ObjectId;\r\n    \r\n    /**\r\n     * Class representing an order item.\r\n     */\r\n    public class Item\r\n    {\r\n        private ObjectId id;\r\n        private String name;\r\n    \r\n        /**\r\n         * Constructor.\r\n         */\r\n        public Item() {\r\n            //\r\n        }\r\n    \r\n        /**\r\n         * Sets the id of the Item.\r\n         * @param id The new id of the Item.\r\n         */\r\n        public void setId(ObjectId id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        /**\r\n         * Gets the id of the Item.\r\n         * @return The id of the Item.\r\n         */\r\n        public ObjectId getId() {\r\n            return this.id;\r\n        }\r\n    \r\n        /**\r\n         * Sets the name of the Item.\r\n         * @param name The new name of the Item.\r\n         */\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        /**\r\n         * Gets the name of the Item.\r\n         * @return The name of the Item.\r\n         */\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    }\r\n\r\ncom.example.mongo.ItemConverter\r\n-------------------------------\r\nSimple converter class that converts Items to/from Documents.\r\n\r\n    package com.example.mongo;\r\n    \r\n    import com.example.model.Item;\r\n    import org.bson.Document;\r\n    \r\n    /**\r\n     * Converts Mongo Documents to/from Items.\r\n     */\r\n    public class ItemConverter {\r\n        /**\r\n         * Convert the passed Item into a Mongo Document.\r\n         * @param item The Item that you want to convert into a Mongo Document.\r\n         * @return Returns the Document that was created from the passed Item.\r\n         */\r\n        public Document convert(Item item) {\r\n            Document document = new Document();\r\n            document.put(&quot;_id&quot;, item.getId());\r\n            document.put(&quot;name&quot;, item.getName());\r\n    \r\n            return document;\r\n        }\r\n    \r\n        /**\r\n         * Convert the passed Mongo Document into an Item.\r\n         * @param document The Document that you want to convert into an Item.\r\n         * @return Returns the Item that was created from the passed Mongo Document.\r\n         */\r\n        public Item convert(Document document) {\r\n            Item item = new Item();\r\n            item.setId(document.getObjectId(&quot;_id&quot;));\r\n            item.setName(document.getString(&quot;name&quot;));\r\n    \r\n            return item;\r\n        }\r\n    }\r\n\r\ncom.example.mongo.ItemCodec\r\n---------------------------\r\nCodec for encoding and decoding Items.\r\n\r\n    package com.example.mongo;\r\n    \r\n    import com.example.model.Item;\r\n    import com.mongodb.MongoClient;\r\n    import org.bson.BsonReader;\r\n    import org.bson.BsonString;\r\n    import org.bson.BsonValue;\r\n    import org.bson.BsonWriter;\r\n    import org.bson.Document;\r\n    import org.bson.codecs.Codec;\r\n    import org.bson.codecs.CollectibleCodec;\r\n    import org.bson.codecs.DecoderContext;\r\n    import org.bson.codecs.EncoderContext;\r\n    import org.bson.codecs.configuration.CodecRegistry;\r\n    import org.bson.types.ObjectId;\r\n    \r\n    /**\r\n     * Mongo Decoder for Items.\r\n     */\r\n    public class ItemCodec implements CollectibleCodec&lt;Item&gt; {\r\n    \r\n        private final CodecRegistry registry;\r\n        private final Codec&lt;Document&gt; documentCodec;\r\n        private final ItemConverter converter;\r\n    \r\n        /**\r\n         * Default constructor.\r\n         */\r\n        public ItemCodec() {\r\n            this.registry = MongoClient.getDefaultCodecRegistry();\r\n            this.documentCodec = this.registry.get(Document.class);\r\n            this.converter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Codec constructor.\r\n         * @param codec The existing codec to use.\r\n         */\r\n        public ItemCodec(Codec&lt;Document&gt; codec) {\r\n            this.documentCodec = codec;\r\n            this.registry = MongoClient.getDefaultCodecRegistry();\r\n            this.converter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Registry constructor.\r\n         * @param registry The CodecRegistry to use.\r\n         */\r\n        public ItemCodec(CodecRegistry registry) {\r\n            this.registry = registry;\r\n            this.documentCodec = this.registry.get(Document.class);\r\n            this.converter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Encode the passed Item into a Mongo/BSON document.\r\n         * @param writer The writer to use for encoding.\r\n         * @param item The Item to encode.\r\n         * @param encoderContext The EncoderContext to use for encoding.\r\n         */\r\n        @Override\r\n        public void encode(\r\n                        BsonWriter writer,\r\n                        Item item,\r\n                        EncoderContext encoderContext\r\n                    ) {\r\n            Document document = this.converter.convert(item);\r\n    \r\n            documentCodec.encode(writer, document, encoderContext);\r\n        }\r\n    \r\n        /**\r\n         * Get the class that this Codec works with.\r\n         * @return Returns the class that this Codec works with.\r\n         */\r\n        @Override\r\n        public Class&lt;Item&gt; getEncoderClass() {\r\n            return Item.class;\r\n        }\r\n    \r\n        /**\r\n         * Decodes a Mongo/BSON document into an Item.\r\n         * @param reader The reader containing the Document.\r\n         * @param decoderContext The DecoderContext to use for decoding.\r\n         * @return Returns the decoded Item.\r\n         */\r\n        @Override\r\n        public Item decode(BsonReader reader, DecoderContext decoderContext) {\r\n            Document document = documentCodec.decode(reader, decoderContext);\r\n            Item item = this.converter.convert(document);\r\n    \r\n            return item;\r\n        }\r\n    \r\n        /**\r\n         * Generates a new ObjectId for the passed Item (if absent).\r\n         * @param item The Item to work with.\r\n         * @return Returns the passed Item with a new id added if there\r\n         * was none.\r\n         */\r\n        @Override\r\n        public Item generateIdIfAbsentFromDocument(Item item) {\r\n            if (!documentHasId(item)) {\r\n                item.setId(new ObjectId());\r\n            }\r\n    \r\n            return item;\r\n        }\r\n    \r\n        /**\r\n         * Returns whether or not the passed Item has an id.\r\n         * @param Item The Item that you want to check for\r\n         * the presence of an id.\r\n         * @return Returns whether or not the passed Item has an id.\r\n         */\r\n        @Override\r\n        public boolean documentHasId(Item Item) {\r\n            return (Item.getName() != null);\r\n        }\r\n    \r\n        /**\r\n         * Gets the id of the passed Item. If there is no id, it will\r\n         * throw an IllegalStateException (RuntimeException).\r\n         * @param Item The Item whose id you want to get.\r\n         * @return Returns the id of the passed Item as a BsonValue.\r\n         */\r\n        @Override\r\n        public BsonValue getDocumentId(Item Item)\r\n        {\r\n            if (!documentHasId(Item)) {\r\n                throw new IllegalStateException(&quot;The document does not contain an _id&quot;);\r\n            }\r\n    \r\n            return new BsonString(Item.getName());\r\n        }\r\n    \r\n    }\r\n\r\ncom.example.mongo.OrderCodec\r\n----------------------------\r\nCodec for encoding/decoding Orders.\r\n\r\n    package com.example.mongo;\r\n    \r\n    import com.example.model.Item;\r\n    import com.example.model.Order;\r\n    import com.mongodb.MongoClient;\r\n    import java.util.ArrayList;\r\n    import org.bson.BsonReader;\r\n    import org.bson.BsonString;\r\n    import org.bson.BsonValue;\r\n    import org.bson.BsonWriter;\r\n    import org.bson.Document;\r\n    import org.bson.codecs.Codec;\r\n    import org.bson.codecs.CollectibleCodec;\r\n    import org.bson.codecs.DecoderContext;\r\n    import org.bson.codecs.EncoderContext;\r\n    import org.bson.codecs.configuration.CodecRegistry;\r\n    import org.bson.types.ObjectId;\r\n    \r\n    /**\r\n     * Mongo decoder for Orders.\r\n     */\r\n    public class OrderCodec implements CollectibleCodec&lt;Order&gt; {\r\n    \r\n        private final CodecRegistry registry;\r\n        private final Codec&lt;Document&gt; documentCodec;\r\n        private final ItemConverter itemConverter;\r\n    \r\n        /**\r\n         * Default constructor.\r\n         */\r\n        public OrderCodec() {\r\n            this.registry = MongoClient.getDefaultCodecRegistry();\r\n            this.documentCodec = this.registry.get(Document.class);\r\n            this.itemConverter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Codec constructor.\r\n         * @param codec The existing codec to use.\r\n         */\r\n        public OrderCodec(Codec&lt;Document&gt; codec) {\r\n            this.registry = MongoClient.getDefaultCodecRegistry();\r\n            this.documentCodec = codec;\r\n            this.itemConverter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Registry constructor.\r\n         * @param registry The CodecRegistry to use.\r\n         */\r\n        public OrderCodec(CodecRegistry registry) {\r\n            this.registry = registry;\r\n            this.documentCodec = this.registry.get(Document.class);\r\n            this.itemConverter = new ItemConverter();\r\n        }\r\n    \r\n        /**\r\n         * Encode the passed Order into a Mongo/BSON document.\r\n         * @param writer The writer to use for encoding.\r\n         * @param order The Order to encode.\r\n         * @param encoderContext The EncoderContext to use for encoding.\r\n         */\r\n        @Override\r\n        public void encode(\r\n                        BsonWriter writer,\r\n                        Order order,\r\n                        EncoderContext encoderContext\r\n                    ) {\r\n            Document document = new Document();\r\n            document.put(&quot;_id&quot;, order.getId());\r\n            document.put(&quot;items&quot;, order.getItems());\r\n    \r\n            documentCodec.encode(writer, document, encoderContext);\r\n        }\r\n    \r\n        /**\r\n         * Get the class that this Codec works with.\r\n         * @return Returns the class that this Codec works with.\r\n         */\r\n        @Override\r\n        public Class&lt;Order&gt; getEncoderClass() {\r\n            return Order.class;\r\n        }\r\n    \r\n        /**\r\n         * Decodes a Mongo/BSON document into an Order.\r\n         * @param reader The reader containing the Document.\r\n         * @param decoderContext The DecoderContext to use for decoding.\r\n         * @return Returns the decoded Order.\r\n         */\r\n        @Override\r\n        public Order decode(BsonReader reader, DecoderContext decoderContext) {\r\n            Document document = documentCodec.decode(reader, decoderContext);\r\n    \r\n            Order order = new Order();\r\n    \r\n            order.setId(document.getObjectId(&quot;_id&quot;));\r\n    \r\n            ArrayList&lt;Document&gt; docArr = (ArrayList) document.get(&quot;items&quot;);\r\n            for (Document doc : docArr) {\r\n                Item item = this.itemConverter.convert(doc);\r\n                order.addItem(item);\r\n            }\r\n    \r\n            return order;\r\n        }\r\n    \r\n        /**\r\n         * Generates a new ObjectId for the passed Order (if absent).\r\n         * @param order The Order to work with.\r\n         * @return Returns the passed Order with a new id added if there\r\n         * was none.\r\n         */\r\n        @Override\r\n        public Order generateIdIfAbsentFromDocument(Order order) {\r\n            if (!documentHasId(order)) {\r\n                order.setId(new ObjectId());\r\n            }\r\n    \r\n            return order;\r\n        }\r\n    \r\n        /**\r\n         * Returns whether or not the passed Order has an id.\r\n         * @param order The Order that you want to check for\r\n         * the presence of an id.\r\n         * @return Returns whether or not the passed Order has an id.\r\n         */\r\n        @Override\r\n        public boolean documentHasId(Order order) {\r\n            return (order.getId() != null);\r\n        }\r\n    \r\n        /**\r\n         * Gets the id of the passed Order. If there is no id, it will\r\n         * throw an IllegalStateException (RuntimeException).\r\n         * @param order The Order whose id you want to get.\r\n         * @return Returns the id of the passed Order as a BsonValue.\r\n         */\r\n        @Override\r\n        public BsonValue getDocumentId(Order order) {\r\n            if (!documentHasId(order)) {\r\n                throw new IllegalStateException(&quot;The document does not contain an _id&quot;);\r\n            }\r\n    \r\n            return new BsonString(order.getId().toHexString());\r\n        }\r\n    }\r\n\r\ncom.example.main.Main\r\n---------------------\r\nMain class for the app. Here we register the codecs and create our MongoClient.\r\n\r\n    package com.example.main;\r\n    \r\n    import com.example.model.Item;\r\n    import com.example.model.Order;\r\n    import com.example.mongo.ItemCodec;\r\n    import com.example.mongo.OrderCodec;\r\n    import com.mongodb.MongoClient;\r\n    import com.mongodb.MongoClientOptions;\r\n    import com.mongodb.ServerAddress;\r\n    import org.bson.Document;\r\n    import org.bson.codecs.Codec;\r\n    import org.bson.codecs.configuration.CodecRegistries;\r\n    import org.bson.codecs.configuration.CodecRegistry;\r\n    \r\n    /**\r\n     * Main class.\r\n     */\r\n    public class Main {\r\n    \r\n        /**\r\n         * Main function for the app.\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            CodecRegistry codecRegistry = MongoClient.getDefaultCodecRegistry();\r\n            Codec&lt;Document&gt; documentCodec = codecRegistry.get(Document.class);\r\n            Codec&lt;Item&gt; itemCodec = new ItemCodec(codecRegistry);\r\n            Codec&lt;Order&gt; orderCodec = new OrderCodec(codecRegistry);\r\n            codecRegistry = CodecRegistries.fromRegistries(\r\n                                                MongoClient.getDefaultCodecRegistry(),\r\n                                                CodecRegistries.fromCodecs(\r\n                                                    documentCodec,\r\n                                                    itemCodec,\r\n                                                    orderCodec\r\n                                                )\r\n                                            );\r\n    \r\n            MongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\r\n            MongoClient mongo = new MongoClient(new ServerAddress(&quot;localhost&quot;, 27018), options);\r\n    \r\n            // Your code here.\r\n        }\r\n    }\r\n\r\nFrom there you can read/write orders and items to/from Mongo.","title":"MongoDB: Register codecs (Java)","body":"<p>You can do Mongo codecs for arrays using ArrayList as follows:</p>\n\n<h2>com.example.model.Order</h2>\n\n<p>This is the class representing an Order. It includes an ArrayList of items.</p>\n\n<pre><code>package com.example.model;\n\nimport java.util.ArrayList;\nimport org.bson.types.ObjectId;\n\n/**\n * Class representing an Order.\n */\npublic class Order\n{\n    private ObjectId id;\n    private ArrayList&lt;Item&gt; items;\n\n    /**\n     * Default constructor. Needed for testing.\n     */\n    public Order() {\n        this.items = new ArrayList&lt;&gt;();\n    }\n\n    /**\n     * Sets the id of the Order.\n     * @param id The new id of the Order.\n     */\n    public void setId(ObjectId id) {\n        this.id = id;\n    }\n\n    /**\n     * Gets the id of the Order.\n     * @return The id of the Order.\n     */\n    public ObjectId getId() {\n        return this.id;\n    }\n\n    /**\n     * Sets the items for the Order.\n     * @param items The items for the Order.\n     */\n    public void setItems(ArrayList&lt;Item&gt; items) {\n        this.items = items;\n    }\n\n    /**\n     * Gets the items for the Order.\n     * @return The items for the Order.\n     */\n    public ArrayList&lt;Item&gt; getItems() {\n        return items;\n    }\n\n    /**\n     * Adds an item to the Order.\n     * @param item The new Item to add to the Order.\n     */\n    public void addItem(Item item) {\n        this.items.add(item);\n    }\n}\n</code></pre>\n\n<h2>com.example.model.Item</h2>\n\n<p>This is the class representing an Order Item. There can be any number of items that are a part of an order. Items are embedded within the Order document in Mongo.</p>\n\n<pre><code>package com.example.model;\n\nimport org.bson.types.ObjectId;\n\n/**\n * Class representing an order item.\n */\npublic class Item\n{\n    private ObjectId id;\n    private String name;\n\n    /**\n     * Constructor.\n     */\n    public Item() {\n        //\n    }\n\n    /**\n     * Sets the id of the Item.\n     * @param id The new id of the Item.\n     */\n    public void setId(ObjectId id) {\n        this.id = id;\n    }\n\n    /**\n     * Gets the id of the Item.\n     * @return The id of the Item.\n     */\n    public ObjectId getId() {\n        return this.id;\n    }\n\n    /**\n     * Sets the name of the Item.\n     * @param name The new name of the Item.\n     */\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    /**\n     * Gets the name of the Item.\n     * @return The name of the Item.\n     */\n    public String getName() {\n        return this.name;\n    }\n}\n</code></pre>\n\n<h2>com.example.mongo.ItemConverter</h2>\n\n<p>Simple converter class that converts Items to/from Documents.</p>\n\n<pre><code>package com.example.mongo;\n\nimport com.example.model.Item;\nimport org.bson.Document;\n\n/**\n * Converts Mongo Documents to/from Items.\n */\npublic class ItemConverter {\n    /**\n     * Convert the passed Item into a Mongo Document.\n     * @param item The Item that you want to convert into a Mongo Document.\n     * @return Returns the Document that was created from the passed Item.\n     */\n    public Document convert(Item item) {\n        Document document = new Document();\n        document.put(\"_id\", item.getId());\n        document.put(\"name\", item.getName());\n\n        return document;\n    }\n\n    /**\n     * Convert the passed Mongo Document into an Item.\n     * @param document The Document that you want to convert into an Item.\n     * @return Returns the Item that was created from the passed Mongo Document.\n     */\n    public Item convert(Document document) {\n        Item item = new Item();\n        item.setId(document.getObjectId(\"_id\"));\n        item.setName(document.getString(\"name\"));\n\n        return item;\n    }\n}\n</code></pre>\n\n<h2>com.example.mongo.ItemCodec</h2>\n\n<p>Codec for encoding and decoding Items.</p>\n\n<pre><code>package com.example.mongo;\n\nimport com.example.model.Item;\nimport com.mongodb.MongoClient;\nimport org.bson.BsonReader;\nimport org.bson.BsonString;\nimport org.bson.BsonValue;\nimport org.bson.BsonWriter;\nimport org.bson.Document;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.CollectibleCodec;\nimport org.bson.codecs.DecoderContext;\nimport org.bson.codecs.EncoderContext;\nimport org.bson.codecs.configuration.CodecRegistry;\nimport org.bson.types.ObjectId;\n\n/**\n * Mongo Decoder for Items.\n */\npublic class ItemCodec implements CollectibleCodec&lt;Item&gt; {\n\n    private final CodecRegistry registry;\n    private final Codec&lt;Document&gt; documentCodec;\n    private final ItemConverter converter;\n\n    /**\n     * Default constructor.\n     */\n    public ItemCodec() {\n        this.registry = MongoClient.getDefaultCodecRegistry();\n        this.documentCodec = this.registry.get(Document.class);\n        this.converter = new ItemConverter();\n    }\n\n    /**\n     * Codec constructor.\n     * @param codec The existing codec to use.\n     */\n    public ItemCodec(Codec&lt;Document&gt; codec) {\n        this.documentCodec = codec;\n        this.registry = MongoClient.getDefaultCodecRegistry();\n        this.converter = new ItemConverter();\n    }\n\n    /**\n     * Registry constructor.\n     * @param registry The CodecRegistry to use.\n     */\n    public ItemCodec(CodecRegistry registry) {\n        this.registry = registry;\n        this.documentCodec = this.registry.get(Document.class);\n        this.converter = new ItemConverter();\n    }\n\n    /**\n     * Encode the passed Item into a Mongo/BSON document.\n     * @param writer The writer to use for encoding.\n     * @param item The Item to encode.\n     * @param encoderContext The EncoderContext to use for encoding.\n     */\n    @Override\n    public void encode(\n                    BsonWriter writer,\n                    Item item,\n                    EncoderContext encoderContext\n                ) {\n        Document document = this.converter.convert(item);\n\n        documentCodec.encode(writer, document, encoderContext);\n    }\n\n    /**\n     * Get the class that this Codec works with.\n     * @return Returns the class that this Codec works with.\n     */\n    @Override\n    public Class&lt;Item&gt; getEncoderClass() {\n        return Item.class;\n    }\n\n    /**\n     * Decodes a Mongo/BSON document into an Item.\n     * @param reader The reader containing the Document.\n     * @param decoderContext The DecoderContext to use for decoding.\n     * @return Returns the decoded Item.\n     */\n    @Override\n    public Item decode(BsonReader reader, DecoderContext decoderContext) {\n        Document document = documentCodec.decode(reader, decoderContext);\n        Item item = this.converter.convert(document);\n\n        return item;\n    }\n\n    /**\n     * Generates a new ObjectId for the passed Item (if absent).\n     * @param item The Item to work with.\n     * @return Returns the passed Item with a new id added if there\n     * was none.\n     */\n    @Override\n    public Item generateIdIfAbsentFromDocument(Item item) {\n        if (!documentHasId(item)) {\n            item.setId(new ObjectId());\n        }\n\n        return item;\n    }\n\n    /**\n     * Returns whether or not the passed Item has an id.\n     * @param Item The Item that you want to check for\n     * the presence of an id.\n     * @return Returns whether or not the passed Item has an id.\n     */\n    @Override\n    public boolean documentHasId(Item Item) {\n        return (Item.getName() != null);\n    }\n\n    /**\n     * Gets the id of the passed Item. If there is no id, it will\n     * throw an IllegalStateException (RuntimeException).\n     * @param Item The Item whose id you want to get.\n     * @return Returns the id of the passed Item as a BsonValue.\n     */\n    @Override\n    public BsonValue getDocumentId(Item Item)\n    {\n        if (!documentHasId(Item)) {\n            throw new IllegalStateException(\"The document does not contain an _id\");\n        }\n\n        return new BsonString(Item.getName());\n    }\n\n}\n</code></pre>\n\n<h2>com.example.mongo.OrderCodec</h2>\n\n<p>Codec for encoding/decoding Orders.</p>\n\n<pre><code>package com.example.mongo;\n\nimport com.example.model.Item;\nimport com.example.model.Order;\nimport com.mongodb.MongoClient;\nimport java.util.ArrayList;\nimport org.bson.BsonReader;\nimport org.bson.BsonString;\nimport org.bson.BsonValue;\nimport org.bson.BsonWriter;\nimport org.bson.Document;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.CollectibleCodec;\nimport org.bson.codecs.DecoderContext;\nimport org.bson.codecs.EncoderContext;\nimport org.bson.codecs.configuration.CodecRegistry;\nimport org.bson.types.ObjectId;\n\n/**\n * Mongo decoder for Orders.\n */\npublic class OrderCodec implements CollectibleCodec&lt;Order&gt; {\n\n    private final CodecRegistry registry;\n    private final Codec&lt;Document&gt; documentCodec;\n    private final ItemConverter itemConverter;\n\n    /**\n     * Default constructor.\n     */\n    public OrderCodec() {\n        this.registry = MongoClient.getDefaultCodecRegistry();\n        this.documentCodec = this.registry.get(Document.class);\n        this.itemConverter = new ItemConverter();\n    }\n\n    /**\n     * Codec constructor.\n     * @param codec The existing codec to use.\n     */\n    public OrderCodec(Codec&lt;Document&gt; codec) {\n        this.registry = MongoClient.getDefaultCodecRegistry();\n        this.documentCodec = codec;\n        this.itemConverter = new ItemConverter();\n    }\n\n    /**\n     * Registry constructor.\n     * @param registry The CodecRegistry to use.\n     */\n    public OrderCodec(CodecRegistry registry) {\n        this.registry = registry;\n        this.documentCodec = this.registry.get(Document.class);\n        this.itemConverter = new ItemConverter();\n    }\n\n    /**\n     * Encode the passed Order into a Mongo/BSON document.\n     * @param writer The writer to use for encoding.\n     * @param order The Order to encode.\n     * @param encoderContext The EncoderContext to use for encoding.\n     */\n    @Override\n    public void encode(\n                    BsonWriter writer,\n                    Order order,\n                    EncoderContext encoderContext\n                ) {\n        Document document = new Document();\n        document.put(\"_id\", order.getId());\n        document.put(\"items\", order.getItems());\n\n        documentCodec.encode(writer, document, encoderContext);\n    }\n\n    /**\n     * Get the class that this Codec works with.\n     * @return Returns the class that this Codec works with.\n     */\n    @Override\n    public Class&lt;Order&gt; getEncoderClass() {\n        return Order.class;\n    }\n\n    /**\n     * Decodes a Mongo/BSON document into an Order.\n     * @param reader The reader containing the Document.\n     * @param decoderContext The DecoderContext to use for decoding.\n     * @return Returns the decoded Order.\n     */\n    @Override\n    public Order decode(BsonReader reader, DecoderContext decoderContext) {\n        Document document = documentCodec.decode(reader, decoderContext);\n\n        Order order = new Order();\n\n        order.setId(document.getObjectId(\"_id\"));\n\n        ArrayList&lt;Document&gt; docArr = (ArrayList) document.get(\"items\");\n        for (Document doc : docArr) {\n            Item item = this.itemConverter.convert(doc);\n            order.addItem(item);\n        }\n\n        return order;\n    }\n\n    /**\n     * Generates a new ObjectId for the passed Order (if absent).\n     * @param order The Order to work with.\n     * @return Returns the passed Order with a new id added if there\n     * was none.\n     */\n    @Override\n    public Order generateIdIfAbsentFromDocument(Order order) {\n        if (!documentHasId(order)) {\n            order.setId(new ObjectId());\n        }\n\n        return order;\n    }\n\n    /**\n     * Returns whether or not the passed Order has an id.\n     * @param order The Order that you want to check for\n     * the presence of an id.\n     * @return Returns whether or not the passed Order has an id.\n     */\n    @Override\n    public boolean documentHasId(Order order) {\n        return (order.getId() != null);\n    }\n\n    /**\n     * Gets the id of the passed Order. If there is no id, it will\n     * throw an IllegalStateException (RuntimeException).\n     * @param order The Order whose id you want to get.\n     * @return Returns the id of the passed Order as a BsonValue.\n     */\n    @Override\n    public BsonValue getDocumentId(Order order) {\n        if (!documentHasId(order)) {\n            throw new IllegalStateException(\"The document does not contain an _id\");\n        }\n\n        return new BsonString(order.getId().toHexString());\n    }\n}\n</code></pre>\n\n<h2>com.example.main.Main</h2>\n\n<p>Main class for the app. Here we register the codecs and create our MongoClient.</p>\n\n<pre><code>package com.example.main;\n\nimport com.example.model.Item;\nimport com.example.model.Order;\nimport com.example.mongo.ItemCodec;\nimport com.example.mongo.OrderCodec;\nimport com.mongodb.MongoClient;\nimport com.mongodb.MongoClientOptions;\nimport com.mongodb.ServerAddress;\nimport org.bson.Document;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.configuration.CodecRegistries;\nimport org.bson.codecs.configuration.CodecRegistry;\n\n/**\n * Main class.\n */\npublic class Main {\n\n    /**\n     * Main function for the app.\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        CodecRegistry codecRegistry = MongoClient.getDefaultCodecRegistry();\n        Codec&lt;Document&gt; documentCodec = codecRegistry.get(Document.class);\n        Codec&lt;Item&gt; itemCodec = new ItemCodec(codecRegistry);\n        Codec&lt;Order&gt; orderCodec = new OrderCodec(codecRegistry);\n        codecRegistry = CodecRegistries.fromRegistries(\n                                            MongoClient.getDefaultCodecRegistry(),\n                                            CodecRegistries.fromCodecs(\n                                                documentCodec,\n                                                itemCodec,\n                                                orderCodec\n                                            )\n                                        );\n\n        MongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\n        MongoClient mongo = new MongoClient(new ServerAddress(\"localhost\", 27018), options);\n\n        // Your code here.\n    }\n}\n</code></pre>\n\n<p>From there you can read/write orders and items to/from Mongo.</p>\n"},{"tags":[],"owner":{"account_id":2405743,"reputation":807,"user_id":2102275,"accept_rate":60,"display_name":"Tunde Pizzle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589747256,"creation_date":1589747256,"answer_id":61858329,"question_id":41618203,"body_markdown":"A better approach will be to implement your own CodecProvider. This way you can manage all used codec implementation. Using your case:\r\n\r\nCreate MyCodecProvider\r\n\r\n    public class MyCodecProvider implements CodecProvider {\r\n\r\n    private final BsonTypeClassMap bsonTypeClassMap;\r\n\r\n    public MyCodecProvider(final BsonTypeClassMap bsonTypeClassMap) {\r\n        this.bsonTypeClassMap = bsonTypeClassMap;\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; Codec&lt;T&gt; get(final Class&lt;T&gt; clazz, final CodecRegistry registry) {\r\n        if (clazz == Document.class) {\r\n            // construct DocumentCodec with a CodecRegistry and a BsonTypeClassMap\r\n            return (Codec&lt;T&gt;) new org.bson.codecs.DocumentCodec(registry, bsonTypeClassMap);\r\n        }\r\n        else if (clazz == Order.class) {\r\n            return (Codec&lt;T&gt;) new OrderCodec(registry);\r\n        }\r\n        else if (clazz == Item.class) {\r\n            return (Codec&lt;T&gt;) new ItemCodec(registry);\r\n        }\r\n\r\n        return null;\r\n      }\r\n    }\r\n\r\nNow you may simple do this in your main class.\r\n\r\n    Map&lt;BsonType, Class&lt;?&gt;&gt; replacements = new HashMap&lt;BsonType, Class&lt;?&gt;&gt;();\r\n        replacements.put(BsonType.DATE_TIME, Timestamp.class);\r\n//        replacements.put(BsonType.DATE_TIME, Timestamp.class); in case you have complex java type\r\n        \r\n        BsonTypeClassMap bsonTypeClassMap = new BsonTypeClassMap(replacements);\r\n\r\n\r\n        MyCodecProvider provider = new MyCodecProvider(bsonTypeClassMap);\r\n        CodecRegistry pojoCodecRegistry = fromRegistries(MongoClient.getDefaultCodecRegistry(),\r\n                fromProviders(PojoCodecProvider.builder().automatic(true).build()));\r\n        CodecRegistry codecRegistry = MongoClient.getDefaultCodecRegistry();\r\n        Codec&lt;Document&gt; documentCodec = codecRegistry.get(Document.class);\r\n\r\n        codecRegistry = CodecRegistries.fromRegistries(\r\n                CodecRegistries.fromProviders(provider),\r\n                CodecRegistries.fromRegistries(pojoCodecRegistry),\r\n                CodecRegistries.fromCodecs(documentCodec));\r\n    \r\n        MongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\r\n        MongoClient mongo = new MongoClient(new ServerAddress(&quot;localhost&quot;, 27018), options);\r\n","title":"MongoDB: Register codecs (Java)","body":"<p>A better approach will be to implement your own CodecProvider. This way you can manage all used codec implementation. Using your case:</p>\n\n<p>Create MyCodecProvider</p>\n\n<pre><code>public class MyCodecProvider implements CodecProvider {\n\nprivate final BsonTypeClassMap bsonTypeClassMap;\n\npublic MyCodecProvider(final BsonTypeClassMap bsonTypeClassMap) {\n    this.bsonTypeClassMap = bsonTypeClassMap;\n}\n\n@Override\npublic &lt;T&gt; Codec&lt;T&gt; get(final Class&lt;T&gt; clazz, final CodecRegistry registry) {\n    if (clazz == Document.class) {\n        // construct DocumentCodec with a CodecRegistry and a BsonTypeClassMap\n        return (Codec&lt;T&gt;) new org.bson.codecs.DocumentCodec(registry, bsonTypeClassMap);\n    }\n    else if (clazz == Order.class) {\n        return (Codec&lt;T&gt;) new OrderCodec(registry);\n    }\n    else if (clazz == Item.class) {\n        return (Codec&lt;T&gt;) new ItemCodec(registry);\n    }\n\n    return null;\n  }\n}\n</code></pre>\n\n<p>Now you may simple do this in your main class.</p>\n\n<pre><code>Map&lt;BsonType, Class&lt;?&gt;&gt; replacements = new HashMap&lt;BsonType, Class&lt;?&gt;&gt;();\n    replacements.put(BsonType.DATE_TIME, Timestamp.class);\n</code></pre>\n\n<p>//        replacements.put(BsonType.DATE_TIME, Timestamp.class); in case you have complex java type</p>\n\n<pre><code>    BsonTypeClassMap bsonTypeClassMap = new BsonTypeClassMap(replacements);\n\n\n    MyCodecProvider provider = new MyCodecProvider(bsonTypeClassMap);\n    CodecRegistry pojoCodecRegistry = fromRegistries(MongoClient.getDefaultCodecRegistry(),\n            fromProviders(PojoCodecProvider.builder().automatic(true).build()));\n    CodecRegistry codecRegistry = MongoClient.getDefaultCodecRegistry();\n    Codec&lt;Document&gt; documentCodec = codecRegistry.get(Document.class);\n\n    codecRegistry = CodecRegistries.fromRegistries(\n            CodecRegistries.fromProviders(provider),\n            CodecRegistries.fromRegistries(pojoCodecRegistry),\n            CodecRegistries.fromCodecs(documentCodec));\n\n    MongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\n    MongoClient mongo = new MongoClient(new ServerAddress(\"localhost\", 27018), options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662469313,"creation_date":1642218788,"answer_id":70718741,"question_id":41618203,"body_markdown":"The other answers are overly complicated.  For the vast majority of the of the POJO classes you&#39;ll use, you do not need to write a codec at all.  Just register your object:\r\n```\r\n// Don&#39;t you hate it when sample code does not include references?\r\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\r\nimport static org.bson.codecs.configuration.CodecRegistries.fromRegistries;\r\nimport org.bson.codecs.configuration.CodecRegistries;\r\nimport org.bson.codecs.configuration.CodecRegistry;\r\nimport com.mongodb.MongoClientSettings;\r\n\r\n...\r\n{\r\n    CodecRegistry myRegistry = fromRegistries(\r\n\t\t\t\tMongoClientSettings.getDefaultCodecRegistry(),\r\n\t\t\t\tfromProviders(\r\n\t\t\t\t\tPojoCodecProvider.builder()\r\n\t\t\t\t\t\t.register(Item.class)\r\n\t\t\t\t\t\t.build()\r\n\t\t\t\t\t)\r\n\t\t\t\t));\r\n\r\n```\r\n\r\nThe above code makes a new registry by combining it with the default registry.  This is important because the default registry covers a ton of Java objects (lists, maps, etc.)\r\n\r\nWhat if you have a lot of model objects?  No problem: register an entire package of objects...\r\n\r\n```\r\n{\r\n    CodecRegistry myRegistry = fromRegistries(\r\n\t\t\t\tMongoClientSettings.getDefaultCodecRegistry(),\r\n\t\t\t\tfromProviders(\r\n\t\t\t\t\tPojoCodecProvider.builder()\r\n\t\t\t\t\t\t.register(&quot;com.funkytown.model.package&quot;)\r\n\t\t\t\t\t\t.build()\r\n\t\t\t\t\t)\r\n\t\t\t\t));\r\n\r\n```\r\n\r\nSo next, how do you use this registry?  You have 3 options.  \r\n1) Attach it to a MongoClient instance:\r\n```\r\nMongoClient mongoClient = new MongoClient(&quot;localhost&quot;, MongoClientOptions.builder().codecRegistry(myRegistry).build());\r\n\r\n```\r\n2. Use it with a specific database:\r\n```\r\nmyDatabase = mongoClient.getDatabase(&quot;FunkyTown&quot;).withCodecRegistry(myRegistry);\r\n```\r\n3. Use it with a specific collection:\r\n```\r\nmyCollection = mongoClient.getDatabase(&quot;FunkyTown&quot;).getCollection(&quot;Items&quot;).withCodecRegistry(myRegistry);\r\n```\r\n\r\nThe MongoDB Documentation isn&#39;t the greatest, but in my experience the POJO functionality is fast and flexible.\r\n","title":"MongoDB: Register codecs (Java)","body":"<p>The other answers are overly complicated.  For the vast majority of the of the POJO classes you'll use, you do not need to write a codec at all.  Just register your object:</p>\n<pre><code>// Don't you hate it when sample code does not include references?\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\nimport static org.bson.codecs.configuration.CodecRegistries.fromRegistries;\nimport org.bson.codecs.configuration.CodecRegistries;\nimport org.bson.codecs.configuration.CodecRegistry;\nimport com.mongodb.MongoClientSettings;\n\n...\n{\n    CodecRegistry myRegistry = fromRegistries(\n                MongoClientSettings.getDefaultCodecRegistry(),\n                fromProviders(\n                    PojoCodecProvider.builder()\n                        .register(Item.class)\n                        .build()\n                    )\n                ));\n\n</code></pre>\n<p>The above code makes a new registry by combining it with the default registry.  This is important because the default registry covers a ton of Java objects (lists, maps, etc.)</p>\n<p>What if you have a lot of model objects?  No problem: register an entire package of objects...</p>\n<pre><code>{\n    CodecRegistry myRegistry = fromRegistries(\n                MongoClientSettings.getDefaultCodecRegistry(),\n                fromProviders(\n                    PojoCodecProvider.builder()\n                        .register(&quot;com.funkytown.model.package&quot;)\n                        .build()\n                    )\n                ));\n\n</code></pre>\n<p>So next, how do you use this registry?  You have 3 options.</p>\n<ol>\n<li>Attach it to a MongoClient instance:</li>\n</ol>\n<pre><code>MongoClient mongoClient = new MongoClient(&quot;localhost&quot;, MongoClientOptions.builder().codecRegistry(myRegistry).build());\n\n</code></pre>\n<ol start=\"2\">\n<li>Use it with a specific database:</li>\n</ol>\n<pre><code>myDatabase = mongoClient.getDatabase(&quot;FunkyTown&quot;).withCodecRegistry(myRegistry);\n</code></pre>\n<ol start=\"3\">\n<li>Use it with a specific collection:</li>\n</ol>\n<pre><code>myCollection = mongoClient.getDatabase(&quot;FunkyTown&quot;).getCollection(&quot;Items&quot;).withCodecRegistry(myRegistry);\n</code></pre>\n<p>The MongoDB Documentation isn't the greatest, but in my experience the POJO functionality is fast and flexible.</p>\n"},{"tags":[],"owner":{"account_id":3507932,"reputation":172,"user_id":3069985,"accept_rate":43,"display_name":"Hritcu Andrei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649587183,"creation_date":1649587183,"answer_id":71815796,"question_id":41618203,"body_markdown":"    @Bean\r\n    public MongoClientSettings mongoClientSettings() {\r\n        MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\r\n                .codecRegistry(createCustomCodecRegistry()).build();\r\n        return mongoClientSettings;\r\n    }\r\n\r\n    @Bean\r\n    public CodecRegistry createCustomCodecRegistry() {\r\n        return CodecRegistries.fromRegistries(\r\n                CodecRegistries.fromCodecs(\r\n                        new UuidCodec(UuidRepresentation.STANDARD),\r\n                        new ZonedDateTimeCodec()),\r\n                MongoClientSettings.getDefaultCodecRegistry()\r\n        );\r\n    }","title":"MongoDB: Register codecs (Java)","body":"<pre><code>@Bean\npublic MongoClientSettings mongoClientSettings() {\n    MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\n            .codecRegistry(createCustomCodecRegistry()).build();\n    return mongoClientSettings;\n}\n\n@Bean\npublic CodecRegistry createCustomCodecRegistry() {\n    return CodecRegistries.fromRegistries(\n            CodecRegistries.fromCodecs(\n                    new UuidCodec(UuidRepresentation.STANDARD),\n                    new ZonedDateTimeCodec()),\n            MongoClientSettings.getDefaultCodecRegistry()\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3633832,"reputation":11,"user_id":3029448,"display_name":"RHanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688415719,"creation_date":1688415719,"answer_id":76607894,"question_id":41618203,"body_markdown":"&gt; I just found out that it has to do with me using Item[], apparently\r\n&gt; it&#39;s not possible with MongoDB to use arrays, that sucks. –  vedi0boy \r\n&gt; Jan 12, 2017 at 17:01\r\n\r\nThis is great advice.  I was working with [MongoDB Quickstart][1] and trying to get it to work w/ the Azure Emulator and kept crapping out on &#39;codec issues&#39;.  After a couple of days of googling/frustration I came upon this post while creating my codecs.  \r\n\r\nThe Quick start has a couple of classes that define some variables as Arrays which, as you mentioned, can&#39;t be converted via the MongoDB Codec registery.  \r\n\r\nAfter I flipped those variables to Lists I was good to go.\r\n\r\nThanks for the advice :)\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/cosmos-db/mongodb/quickstart-java","title":"MongoDB: Register codecs (Java)","body":"<blockquote>\n<p>I just found out that it has to do with me using Item[], apparently\nit's not possible with MongoDB to use arrays, that sucks. –  vedi0boy\nJan 12, 2017 at 17:01</p>\n</blockquote>\n<p>This is great advice.  I was working with <a href=\"https://learn.microsoft.com/en-us/azure/cosmos-db/mongodb/quickstart-java\" rel=\"nofollow noreferrer\">MongoDB Quickstart</a> and trying to get it to work w/ the Azure Emulator and kept crapping out on 'codec issues'.  After a couple of days of googling/frustration I came upon this post while creating my codecs.</p>\n<p>The Quick start has a couple of classes that define some variables as Arrays which, as you mentioned, can't be converted via the MongoDB Codec registery.</p>\n<p>After I flipped those variables to Lists I was good to go.</p>\n<p>Thanks for the advice :)</p>\n"}],"owner":{"account_id":3244518,"reputation":1040,"user_id":2736516,"accept_rate":78,"display_name":"vedi0boy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19710,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":54272611,"answer_count":5,"score":9,"last_activity_date":1688415719,"creation_date":1484238258,"question_id":41618203,"body_markdown":"I&#39;ve been trying for about an hour now to register a codec I made for one of my classes in a game I am working on. The class is called `Item`. I tried the code and suggestions from these 3 places:\r\n\r\n - https://mongodb.github.io/mongo-java-driver/3.0/bson/codecs/\r\n - https://matteosilvestri.blogspot.ca/2015/03/overview-of-pluggable-codecs-in-mongodb.html\r\n - https://gist.github.com/JaiHirsch/cada9eaac3e24ef5a62a\r\n\r\nand here is the code I cam up with:\r\n\r\n    CodecRegistry defaultCodecRegistry = MongoClient.getDefaultCodecRegistry();\r\n    MyCodecProvider myCodecProvider = new MyCodecProvider();\r\n    ItemCodec itemCodec = new ItemCodec(defaultCodecRegistry);\r\n    \t\t\t\r\n    CodecRegistry codecRegistry = CodecRegistries.fromRegistries(CodecRegistries.fromCodecs(itemCodec), CodecRegistries.fromProviders(myCodecProvider), defaultCodecRegistry);;\r\n \tMongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\r\n    \t\t\t\r\n    client = new MongoClient(&quot;localhost:27017&quot;, options);\r\n\r\nSo I built a Codec and codec provider called `MyCodecProvider`, so what am I doing wrong, how can this be so complicated? Am I missing something? It seems more complicated than it needs to be. If you need more code please ask. Thanks.\r\n\r\nEdit: The exact error I get is `org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class [Lnet.hollowbit.archipeloserver.items.Item;.` Also, I am trying to parse an Item array, do I need to make a codec specifically for the array too?","title":"MongoDB: Register codecs (Java)","body":"<p>I've been trying for about an hour now to register a codec I made for one of my classes in a game I am working on. The class is called <code>Item</code>. I tried the code and suggestions from these 3 places:</p>\n\n<ul>\n<li><a href=\"https://mongodb.github.io/mongo-java-driver/3.0/bson/codecs/\" rel=\"noreferrer\">https://mongodb.github.io/mongo-java-driver/3.0/bson/codecs/</a></li>\n<li><a href=\"https://matteosilvestri.blogspot.ca/2015/03/overview-of-pluggable-codecs-in-mongodb.html\" rel=\"noreferrer\">https://matteosilvestri.blogspot.ca/2015/03/overview-of-pluggable-codecs-in-mongodb.html</a></li>\n<li><a href=\"https://gist.github.com/JaiHirsch/cada9eaac3e24ef5a62a\" rel=\"noreferrer\">https://gist.github.com/JaiHirsch/cada9eaac3e24ef5a62a</a></li>\n</ul>\n\n<p>and here is the code I cam up with:</p>\n\n<pre><code>CodecRegistry defaultCodecRegistry = MongoClient.getDefaultCodecRegistry();\nMyCodecProvider myCodecProvider = new MyCodecProvider();\nItemCodec itemCodec = new ItemCodec(defaultCodecRegistry);\n\nCodecRegistry codecRegistry = CodecRegistries.fromRegistries(CodecRegistries.fromCodecs(itemCodec), CodecRegistries.fromProviders(myCodecProvider), defaultCodecRegistry);;\nMongoClientOptions options = MongoClientOptions.builder().codecRegistry(codecRegistry).build();\n\nclient = new MongoClient(\"localhost:27017\", options);\n</code></pre>\n\n<p>So I built a Codec and codec provider called <code>MyCodecProvider</code>, so what am I doing wrong, how can this be so complicated? Am I missing something? It seems more complicated than it needs to be. If you need more code please ask. Thanks.</p>\n\n<p>Edit: The exact error I get is <code>org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class [Lnet.hollowbit.archipeloserver.items.Item;.</code> Also, I am trying to parse an Item array, do I need to make a codec specifically for the array too?</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":461096,"reputation":59403,"user_id":862594,"accept_rate":83,"display_name":"nickb"},"score":2,"creation_date":1528246231,"post_id":50710346,"comment_id":88430621,"body_markdown":"That error message is pointing to your `AppConfig` class, not the `SampleIFImpl` class.","body":"That error message is pointing to your <code>AppConfig</code> class, not the <code>SampleIFImpl</code> class."},{"owner":{"account_id":8617695,"reputation":3256,"user_id":6453895,"accept_rate":83,"display_name":"Indraneel Bende"},"score":0,"creation_date":1528251809,"post_id":50710346,"comment_id":88431712,"body_markdown":"A sample reproducing the issue would be helpful.","body":"A sample reproducing the issue would be helpful."},{"owner":{"account_id":13720194,"reputation":11,"user_id":9900319,"display_name":"Andakun"},"score":0,"creation_date":1528256756,"post_id":50710346,"comment_id":88432712,"body_markdown":"@nickb: Agreed as I mentioned in exception 1, but will you plz help me on understanding why it fails...since when i ran from sts run as spirng boot app...the logs printed in the console was having the property value but when i try to execute through soap ui for the same property it is throughing exception.","body":"@nickb: Agreed as I mentioned in exception 1, but will you plz help me on understanding why it fails...since when i ran from sts run as spirng boot app...the logs printed in the console was having the property value but when i try to execute through soap ui for the same property it is throughing exception."},{"owner":{"account_id":13720194,"reputation":11,"user_id":9900319,"display_name":"Andakun"},"score":0,"creation_date":1528257849,"post_id":50710346,"comment_id":88432976,"body_markdown":"@Indraneel Bende: How do you want me to share the sample?","body":"@Indraneel Bende: How do you want me to share the sample?"},{"owner":{"account_id":8617695,"reputation":3256,"user_id":6453895,"accept_rate":83,"display_name":"Indraneel Bende"},"score":0,"creation_date":1528257889,"post_id":50710346,"comment_id":88432986,"body_markdown":"prefer github for samples.","body":"prefer github for samples."},{"owner":{"account_id":6117912,"reputation":2451,"user_id":4772331,"display_name":"Gaurav Srivastav"},"score":0,"creation_date":1528258029,"post_id":50710346,"comment_id":88433024,"body_markdown":"I think your property file name should be application.dev.properties","body":"I think your property file name should be application.dev.properties"}],"answers":[{"comments":[{"owner":{"account_id":13720194,"reputation":11,"user_id":9900319,"display_name":"Andakun"},"score":0,"creation_date":1528317667,"post_id":50727836,"comment_id":88466287,"body_markdown":"ElChava: Thanks for your response, I tried the same approach but I used .properties instead of .yml. It was working fine for me as well for the first run while deploying war local from spring tool suite and welcome message printed as excepted, since I added the value(welcome.message) in my appconfig.class. But after the deployment i tried to execute the webservice I created as part of war from soap UI but at that time same @value defined in appconfig.class returns null.","body":"ElChava: Thanks for your response, I tried the same approach but I used .properties instead of .yml. It was working fine for me as well for the first run while deploying war local from spring tool suite and welcome message printed as excepted, since I added the value(welcome.message) in my appconfig.class. But after the deployment i tried to execute the webservice I created as part of war from soap UI but at that time same @value defined in appconfig.class returns null."},{"owner":{"account_id":11118669,"reputation":91,"user_id":8162229,"display_name":"ElChava"},"score":0,"creation_date":1528327094,"post_id":50727836,"comment_id":88469517,"body_markdown":"If you deployed the application, can you see the profiles active: dev in your logs ??","body":"If you deployed the application, can you see the profiles active: dev in your logs ??"},{"owner":{"account_id":13720194,"reputation":11,"user_id":9900319,"display_name":"Andakun"},"score":0,"creation_date":1528384033,"post_id":50727836,"comment_id":88496860,"body_markdown":"Elchava: Please find below logs where I am printing the value of welcome.message based on active profile. While deploying and starting the server.[2m2018-06-07 10:03:54.682[0;39m [32m INFO[0;39m [35m9864[0;39m [2m---[0;39m [2m[           main]\nProfile called*****DEV_PROFILE","body":"Elchava: Please find below logs where I am printing the value of welcome.message based on active profile. While deploying and starting the server.[2m2018-06-07 10:03:54.682[0;39m [32m INFO[0;39m [35m9864[0;39m [2m---[0;39m [2m[           main] Profile called*****DEV_PROFILE"}],"tags":[],"owner":{"account_id":11118669,"reputation":91,"user_id":8162229,"display_name":"ElChava"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528311935,"creation_date":1528311935,"answer_id":50727836,"question_id":50710346,"body_markdown":"I reproduced the escenario but I did some changes in the implementation \r\n\r\nthis is my application.yml \r\n    \r\n    spring:\r\n      profiles:\r\n        active:\r\n        - dev\r\n\r\nAnd this is my application-dev.yml \r\n\r\n    welcome:\r\n      message: Development\r\n\r\n\r\nFinally I&#180;m using the variable directly from the class where the value is needed\r\n\r\n    @Value(&quot;${welcome.message}&quot;)\r\n    private String welcomeMsg;","title":"spring boot application(profile specific).properties returns null","body":"<p>I reproduced the escenario but I did some changes in the implementation </p>\n\n<p>this is my application.yml </p>\n\n<pre><code>spring:\n  profiles:\n    active:\n    - dev\n</code></pre>\n\n<p>And this is my application-dev.yml </p>\n\n<pre><code>welcome:\n  message: Development\n</code></pre>\n\n<p>Finally I´m using the variable directly from the class where the value is needed</p>\n\n<pre><code>@Value(\"${welcome.message}\")\nprivate String welcomeMsg;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18947627,"reputation":760,"user_id":13826114,"display_name":"benicamera"},"score":1,"creation_date":1660899597,"post_id":73369894,"comment_id":129647496,"body_markdown":"Pay attention to punctuation and use code formatting for file names","body":"Pay attention to punctuation and use code formatting for file names"}],"tags":[],"owner":{"account_id":26074342,"reputation":1,"user_id":19773484,"display_name":"Adithya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660992918,"creation_date":1660632997,"answer_id":73369894,"question_id":50710346,"body_markdown":"instead of `application.yml` try giving `application.yaml`\r\nIt worked for me for the same issue like your&#39;s one\r\n","title":"spring boot application(profile specific).properties returns null","body":"<p>instead of <code>application.yml</code> try giving <code>application.yaml</code>\nIt worked for me for the same issue like your's one</p>\n"},{"tags":[],"owner":{"account_id":28944054,"reputation":1,"user_id":22170026,"display_name":"Phạm Ph&#250; Phước"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688415548,"creation_date":1688415548,"answer_id":76607880,"question_id":50710346,"body_markdown":"try to open terminal, type mvn clean install and it worked for me","title":"spring boot application(profile specific).properties returns null","body":"<p>try to open terminal, type mvn clean install and it worked for me</p>\n"}],"owner":{"account_id":13720194,"reputation":11,"user_id":9900319,"display_name":"Andakun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1864,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1688415548,"creation_date":1528241821,"question_id":50710346,"body_markdown":"I am trying to load profile specific property file values using springboot to my @webservice class. I followed the below steps,\r\n\r\n1) \r\n\r\n    created application.properties with profile to be active\r\n    spring.profiles.active=dev\r\n2) \r\n\r\n    Created application-dev.properties with following values\r\n    username = XXXXXXX\r\n    password = XXXXXXX\r\n    host = XXXXXXX\r\n    port = XXXXXXX\r\n    welcome.message = Development\r\n\r\n3) \r\n    \r\n     Created @Springbootapplication class\r\n4) \r\n\r\n    Created @configuration class for appconfig\r\n\r\n5) Started reading values of application-dev.properties in the appconfig class using\r\n\r\ncode:\r\n\r\n\r\n    public class AppConfig {\r\n    @Value(&quot;${welcome.message}&quot;)\r\n     private String welcomeMsg;\r\n     @Profile(&quot;dev&quot;)\r\n    @Bean\r\n    public MessageSource messageSourceDev() {\r\n    System.out.println(&quot;****Dev Profile called*****&quot;+welcomeMsg);\r\n\r\nwhen i run from spring tool suite, for the first time welcome message printed successfully in console.\r\n\r\n&quot;****Dev Profile called*****Development&quot;\r\n\r\nBut when I try to read the property values from the @webservice class I created,through soap UI, \r\n\r\nCode:\r\n\r\n    @WebService(serviceName = &quot;SampleIF&quot;, endpointInterface   = &quot;com.tc.services.sample.cxf.SampleIF&quot;)\r\n    public class SampleIFImpl implements SampleIF {\r\n\t@Value(&quot;${welcome.message}&quot;)\r\n\tprivate String welcomeMsg;\r\n        @Override\r\n\tpublic Contact CreateContract(Details details) {\r\n        System.out.println(&quot;****Welcome Message Val*****&quot;+welcomeMsg);\r\n\r\n\r\n\r\nEither it fails at appconfig.class by throwing the following exception\r\n\r\n\r\n\r\n\r\n 1)     \r\n        \r\n       \r\n       org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;appConfig&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;welcome.message&#39; in value &quot;${welcome.message}&quot;\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:379)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1348)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:578)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:88)\r\n\r\n\r\n\r\n2) Or @webservice class with null value\r\n\r\nPlease help me in resolving the issue. ","title":"spring boot application(profile specific).properties returns null","body":"<p>I am trying to load profile specific property file values using springboot to my @webservice class. I followed the below steps,</p>\n\n<p>1) </p>\n\n<pre><code>created application.properties with profile to be active\nspring.profiles.active=dev\n</code></pre>\n\n<p>2) </p>\n\n<pre><code>Created application-dev.properties with following values\nusername = XXXXXXX\npassword = XXXXXXX\nhost = XXXXXXX\nport = XXXXXXX\nwelcome.message = Development\n</code></pre>\n\n<p>3) </p>\n\n<pre><code> Created @Springbootapplication class\n</code></pre>\n\n<p>4) </p>\n\n<pre><code>Created @configuration class for appconfig\n</code></pre>\n\n<p>5) Started reading values of application-dev.properties in the appconfig class using</p>\n\n<p>code:</p>\n\n<pre><code>public class AppConfig {\n@Value(\"${welcome.message}\")\n private String welcomeMsg;\n @Profile(\"dev\")\n@Bean\npublic MessageSource messageSourceDev() {\nSystem.out.println(\"****Dev Profile called*****\"+welcomeMsg);\n</code></pre>\n\n<p>when i run from spring tool suite, for the first time welcome message printed successfully in console.</p>\n\n<p>\"****Dev Profile called*****Development\"</p>\n\n<p>But when I try to read the property values from the @webservice class I created,through soap UI, </p>\n\n<p>Code:</p>\n\n<pre><code>@WebService(serviceName = \"SampleIF\", endpointInterface   = \"com.tc.services.sample.cxf.SampleIF\")\npublic class SampleIFImpl implements SampleIF {\n@Value(\"${welcome.message}\")\nprivate String welcomeMsg;\n    @Override\npublic Contact CreateContract(Details details) {\n    System.out.println(\"****Welcome Message Val*****\"+welcomeMsg);\n</code></pre>\n\n<p>Either it fails at appconfig.class by throwing the following exception</p>\n\n<p>1)     </p>\n\n<pre><code>   org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appConfig': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'welcome.message' in value \"${welcome.message}\"\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:379)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1348)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:578)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\nat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:88)\n</code></pre>\n\n<p>2) Or @webservice class with null value</p>\n\n<p>Please help me in resolving the issue. </p>\n"},{"tags":["java","generics","linked-list","nodes","doubly-linked-list"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688432286,"post_id":76605442,"comment_id":135070452,"body_markdown":"Why? Why not use one generic class for all three types?","body":"Why? Why not use one generic class for all three types?"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688413215,"creation_date":1688413215,"answer_id":76607669,"question_id":76605442,"body_markdown":"The problem is that your main code is not the same for integers as the other two types.\r\n\r\nFor integers you have this code:\r\n\r\n```\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                if (arr[i] &lt; 0) {\r\n                    break;\r\n                }\r\n                dll.insertItem(arr[i]);\r\n            } // int-input\r\n```\r\n\r\nYou don&#39;t have this `break` for the other two types, and so those loops try to insert 10000(!) entries. As soon as the loop hits the default value a second time, your linked list implementation will complain that you&#39;re trying to insert that same default value twice.\r\n\r\nI would change the logic to keep track of how many items were really read from the file (by making `i` not local to the loop, and using it to limit the above mentioned loop), or even better: use `ArrayList`.\r\n\r\nCorrected code section with `ArrayList`:\r\n\r\n```\r\n        if (str.equals(&quot;i&quot;)) {\r\n            System.out.println(&quot;int&quot;);\r\n            List&lt;Integer&gt;arr = new ArrayList&lt;&gt;(); // int-input\r\n            try {\r\n                Scanner sc = new Scanner(new File(fname));\r\n                while (sc.hasNextInt()) {\r\n                    arr.add(sc.nextInt());\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + fname);\r\n                System.exit(1);\r\n            }\r\n            for (int value : arr) {\r\n                dll.insertItem(value);\r\n            }\r\n        }\r\n\r\n        else if (str.equals(&quot;s&quot;)) {\r\n            System.out.println(&quot;string&quot;);\r\n            List&lt;String&gt;arr = new ArrayList&lt;&gt;();\r\n            try {\r\n                Scanner sc = new Scanner(new File(fname));\r\n                while (sc.hasNextLine()) {\r\n                    arr.add(sc.nextLine());\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + fname);\r\n                System.exit(1);\r\n            }\r\n            for (String value : arr) {\r\n                dll_s.insertItem(value);\r\n            }\r\n        }\r\n\r\n         else if (str.equals(&quot;d&quot;)) { // double input\r\n            System.out.println(&quot;double&quot;);\r\n            List&lt;Double&gt;arr = new ArrayList&lt;&gt;();\r\n            try {\r\n                Scanner sc = new Scanner(new File(fname));\r\n                while (sc.hasNextDouble()) {\r\n                    arr.add(sc.nextDouble());\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + fname);\r\n                System.exit(1);\r\n            }\r\n            for (double value : arr) {\r\n                dll_d.insertItem(value);\r\n            }\r\n        }\r\n```\r\n \r\nIn `insertItem` there is also a little issue for when inserting in an empty list: in that case you should exit the function after having set `head` and `tail`:\r\n\r\n```\r\n    void insertItem(T item) {\r\n        Node&lt;T&gt; n = new Node&lt;&gt;();\r\n        n.data = item;\r\n        n.next = null;\r\n        n.back = null;\r\n        if (head == null) {\r\n            head = n;\r\n            tail = n;\r\n            return; // &lt;-- This was missing\r\n        }\r\n```\r\n","title":"Use generics to support three different types to make a doubly linked list","body":"<p>The problem is that your main code is not the same for integers as the other two types.</p>\n<p>For integers you have this code:</p>\n<pre><code>            for (int i = 0; i &lt; arr.length; i++) {\n                if (arr[i] &lt; 0) {\n                    break;\n                }\n                dll.insertItem(arr[i]);\n            } // int-input\n</code></pre>\n<p>You don't have this <code>break</code> for the other two types, and so those loops try to insert 10000(!) entries. As soon as the loop hits the default value a second time, your linked list implementation will complain that you're trying to insert that same default value twice.</p>\n<p>I would change the logic to keep track of how many items were really read from the file (by making <code>i</code> not local to the loop, and using it to limit the above mentioned loop), or even better: use <code>ArrayList</code>.</p>\n<p>Corrected code section with <code>ArrayList</code>:</p>\n<pre><code>        if (str.equals(&quot;i&quot;)) {\n            System.out.println(&quot;int&quot;);\n            List&lt;Integer&gt;arr = new ArrayList&lt;&gt;(); // int-input\n            try {\n                Scanner sc = new Scanner(new File(fname));\n                while (sc.hasNextInt()) {\n                    arr.add(sc.nextInt());\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + fname);\n                System.exit(1);\n            }\n            for (int value : arr) {\n                dll.insertItem(value);\n            }\n        }\n\n        else if (str.equals(&quot;s&quot;)) {\n            System.out.println(&quot;string&quot;);\n            List&lt;String&gt;arr = new ArrayList&lt;&gt;();\n            try {\n                Scanner sc = new Scanner(new File(fname));\n                while (sc.hasNextLine()) {\n                    arr.add(sc.nextLine());\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + fname);\n                System.exit(1);\n            }\n            for (String value : arr) {\n                dll_s.insertItem(value);\n            }\n        }\n\n         else if (str.equals(&quot;d&quot;)) { // double input\n            System.out.println(&quot;double&quot;);\n            List&lt;Double&gt;arr = new ArrayList&lt;&gt;();\n            try {\n                Scanner sc = new Scanner(new File(fname));\n                while (sc.hasNextDouble()) {\n                    arr.add(sc.nextDouble());\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + fname);\n                System.exit(1);\n            }\n            for (double value : arr) {\n                dll_d.insertItem(value);\n            }\n        }\n</code></pre>\n<p>In <code>insertItem</code> there is also a little issue for when inserting in an empty list: in that case you should exit the function after having set <code>head</code> and <code>tail</code>:</p>\n<pre><code>    void insertItem(T item) {\n        Node&lt;T&gt; n = new Node&lt;&gt;();\n        n.data = item;\n        n.next = null;\n        n.back = null;\n        if (head == null) {\n            head = n;\n            tail = n;\n            return; // &lt;-- This was missing\n        }\n</code></pre>\n"}],"owner":{"account_id":28309993,"reputation":3,"user_id":21647393,"display_name":"tof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688432256,"answer_count":1,"score":0,"last_activity_date":1688415448,"creation_date":1688392566,"question_id":76605442,"body_markdown":"I tried to make a doubly linked list class using generics, and make lists with three different data types (int, double, string).\r\n\r\nAs far as I know, `T` works just as a parameter for generics, and will get replaced by the datatype selected by the user. \r\n\r\nSo I created a list for the integer type first and checked that the program worked well when I used the integer data type. \r\n\r\nAfter checking it worked properly, I added two more lists which can support string and double, but I got an error. \r\n\r\n```\r\nclass DoublyLinkedList&lt;T extends Comparable&lt;T&gt;&gt; {\r\n    private Node&lt;T&gt; head;\r\n    private Node&lt;T&gt; tail;\r\n\r\n    DoublyLinkedList() {\r\n        head = null;\r\n        tail = null;\r\n    }\r\n\r\n    void insertItem(T item) {\r\n        Node&lt;T&gt; n = new Node&lt;&gt;();\r\n        n.data = item;\r\n        n.next = null;\r\n        n.back = null;\r\n        if (head == null) {\r\n            head = n;\r\n            tail = n;\r\n        }\r\n        if (item.compareTo(head.data) == 0) {\r\n            System.out.println(&quot;Item already exists&quot;);\r\n        }\r\n        if (item.compareTo(head.data) &lt; 0) {\r\n            n.next = head;\r\n            head.back = n;\r\n            head = n;\r\n            return;\r\n        }\r\n        if (item.compareTo(tail.data) &gt; 0) {\r\n            tail.next = n;\r\n            n.back = tail;\r\n            tail = n;\r\n            return;\r\n        }\r\n\r\n        Node&lt;T&gt; t = head; // t == currentPos\r\n\r\n        while (t != null &amp;&amp; item.compareTo(t.data) &gt; 0) {\r\n            t = t.next;\r\n        }\r\n        if (t.next != null &amp;&amp; item.compareTo(t.next.data) == 0) {\r\n            System.out.println(&quot;Sorry. You cannot insert the duplicate item&quot;);\r\n        } else {\r\n        Node&lt;T&gt; p = t.back;\r\n        p.next = n;\r\n        n.back = p;\r\n        n.next = t;\r\n        t.back = n;\r\n        }\r\n    }\r\n\r\n    void print() {\r\n        if (head == null) {\r\n            System.out.println(&quot;List is Empty!&quot;);\r\n        } else {\r\n            Node&lt;T&gt; t = head; // t == currentPos\r\n            while (t != null) {\r\n                System.out.print(t.data + &quot; &quot;);\r\n                t = t.next; // t == currentPos\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis  is Doubly linked list class, leaving out some unrelated methods.\r\n\r\nHere is the driver code:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n\r\npublic class Dlld {\r\n    public static void main(String[] args) {\r\n        DoublyLinkedList&lt;Integer&gt; dll = new DoublyLinkedList&lt;&gt;();\r\n        DoublyLinkedList&lt;Double&gt; dll_d = new DoublyLinkedList&lt;&gt;();\r\n        DoublyLinkedList&lt;String&gt; dll_s = new DoublyLinkedList&lt;&gt;();\r\n\r\n        System.out.print(&quot;Enter list type (i - integer, d - double, s - string) : &quot;);\r\n        Scanner sc_str = new Scanner (System.in);\r\n        String str = sc_str.next();\r\n        if (str.equals(&quot;i&quot;)) {\r\n            System.out.println(&quot;int&quot;);\r\n            int[] arr = new int[10000]; // int-input\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                arr[i] = -1;\r\n            }\r\n            try {\r\n                Scanner sc = new Scanner(new File(args[0]));\r\n                int i = 0;\r\n                while (sc.hasNextInt()) {\r\n                    arr[i++] = sc.nextInt();\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + args[0]);\r\n                System.exit(1);\r\n            }\r\n\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                if (arr[i] &lt; 0) {\r\n                    break;\r\n                }\r\n                dll.insertItem(arr[i]);\r\n            } // int-input\r\n        }\r\n\r\n        else if (str.equals(&quot;s&quot;)) {\r\n            System.out.println(&quot;string&quot;);\r\n            String[] arr_s = new String[10000]; // string-input\r\n            for (int i = 0; i &lt; arr_s.length; i++) {\r\n                arr_s[i] = new String();\r\n            }\r\n            try {\r\n                Scanner sc = new Scanner(new File(args[0]));\r\n                int i = 0;\r\n                while (sc.hasNextLine()) {\r\n                    arr_s[i++] = sc.nextLine();\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + args[0]);\r\n                System.exit(1);\r\n            }\r\n\r\n            for (int i = 0; i &lt; arr_s.length; i++) {\r\n                dll_s.insertItem(arr_s[i]);\r\n            } // string input\r\n        }\r\n\r\n         else if (str.equals(&quot;d&quot;)) { // double input\r\n            System.out.println(&quot;double&quot;);\r\n            Double[] arr_d = new Double[10000];\r\n            for (int i = 0; i &lt; arr_d.length; i++) {\r\n                arr_d[i] = -1.0;\r\n            }\r\n            try {\r\n                Scanner sc = new Scanner(new File(args[0]));\r\n                int i = 0;\r\n                while (sc.hasNextLine()) {\r\n                    arr_d[i++] = sc.nextDouble();\r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File not found: &quot; + args[0]);\r\n                System.exit(1);\r\n            }\r\n\r\n            for (int i = 0; i &lt; arr_d.length; i++) {\r\n                dll_d.insertItem(arr_d[i]);\r\n            } // double input\r\n        }\r\n\r\n        System.out.print(&quot;Enter a command:&quot;);\r\n        Scanner sc = new Scanner (System.in);\r\n        while (sc.hasNextLine()) {\r\n            String line = sc.nextLine();\r\n            String[] tokens = line.split(&quot; &quot;);\r\n            char c = tokens[0].charAt(0);\r\n\r\n            switch (c) {\r\n  \r\n                case &#39;p&#39;: {\r\n                    System.out.print(&quot;The list is : &quot;);\r\n                    if (str.equals(&quot;i&quot;)) {\r\n                        dll.print(); }\r\n\r\n                    else if (str.equals(&quot;s&quot;)) {\r\n                        dll_s.print(); }\r\n\r\n                     else if (str.equals(&quot;d&quot;)) {\r\n                        dll_d.print(); }\r\n                    System.out.println(&quot; &quot;);\r\n                    System.out.print(&quot;Enter a command:&quot;);\r\n                }\r\n                break;                \r\n\r\n                // ... other cases ... \r\n\r\n                default: {\r\n                    System.out.println(&quot;Command not found&quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n        sc.close();\r\n    }\r\n\r\n```\r\n\r\nHere, I made `if` statements to differentiate by the data type chosen by the user.\r\n\r\nAlso when the user enters &quot;p&quot; -- for &quot;print&quot; -- I used `if` statements to distinguish the three different data types.\r\n\r\nThe integer typed list (`dll`) is working fine, but for the other two types (`dll_s` and `dll_d`) the following output and error is produced:\r\n\r\n&gt; Item already exists&lt;br&gt;\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException:&lt;br&gt;\r\n&gt; Cannot assign field &quot;next&quot; because &quot;&lt;local4&gt;&quot; is null\r\n\r\nWhat is my mistake and how can I correct `insertItem()` to make it work? ","title":"Use generics to support three different types to make a doubly linked list","body":"<p>I tried to make a doubly linked list class using generics, and make lists with three different data types (int, double, string).</p>\n<p>As far as I know, <code>T</code> works just as a parameter for generics, and will get replaced by the datatype selected by the user.</p>\n<p>So I created a list for the integer type first and checked that the program worked well when I used the integer data type.</p>\n<p>After checking it worked properly, I added two more lists which can support string and double, but I got an error.</p>\n<pre><code>class DoublyLinkedList&lt;T extends Comparable&lt;T&gt;&gt; {\n    private Node&lt;T&gt; head;\n    private Node&lt;T&gt; tail;\n\n    DoublyLinkedList() {\n        head = null;\n        tail = null;\n    }\n\n    void insertItem(T item) {\n        Node&lt;T&gt; n = new Node&lt;&gt;();\n        n.data = item;\n        n.next = null;\n        n.back = null;\n        if (head == null) {\n            head = n;\n            tail = n;\n        }\n        if (item.compareTo(head.data) == 0) {\n            System.out.println(&quot;Item already exists&quot;);\n        }\n        if (item.compareTo(head.data) &lt; 0) {\n            n.next = head;\n            head.back = n;\n            head = n;\n            return;\n        }\n        if (item.compareTo(tail.data) &gt; 0) {\n            tail.next = n;\n            n.back = tail;\n            tail = n;\n            return;\n        }\n\n        Node&lt;T&gt; t = head; // t == currentPos\n\n        while (t != null &amp;&amp; item.compareTo(t.data) &gt; 0) {\n            t = t.next;\n        }\n        if (t.next != null &amp;&amp; item.compareTo(t.next.data) == 0) {\n            System.out.println(&quot;Sorry. You cannot insert the duplicate item&quot;);\n        } else {\n        Node&lt;T&gt; p = t.back;\n        p.next = n;\n        n.back = p;\n        n.next = t;\n        t.back = n;\n        }\n    }\n\n    void print() {\n        if (head == null) {\n            System.out.println(&quot;List is Empty!&quot;);\n        } else {\n            Node&lt;T&gt; t = head; // t == currentPos\n            while (t != null) {\n                System.out.print(t.data + &quot; &quot;);\n                t = t.next; // t == currentPos\n            }\n        }\n    }\n}\n</code></pre>\n<p>This  is Doubly linked list class, leaving out some unrelated methods.</p>\n<p>Here is the driver code:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class Dlld {\n    public static void main(String[] args) {\n        DoublyLinkedList&lt;Integer&gt; dll = new DoublyLinkedList&lt;&gt;();\n        DoublyLinkedList&lt;Double&gt; dll_d = new DoublyLinkedList&lt;&gt;();\n        DoublyLinkedList&lt;String&gt; dll_s = new DoublyLinkedList&lt;&gt;();\n\n        System.out.print(&quot;Enter list type (i - integer, d - double, s - string) : &quot;);\n        Scanner sc_str = new Scanner (System.in);\n        String str = sc_str.next();\n        if (str.equals(&quot;i&quot;)) {\n            System.out.println(&quot;int&quot;);\n            int[] arr = new int[10000]; // int-input\n            for (int i = 0; i &lt; arr.length; i++) {\n                arr[i] = -1;\n            }\n            try {\n                Scanner sc = new Scanner(new File(args[0]));\n                int i = 0;\n                while (sc.hasNextInt()) {\n                    arr[i++] = sc.nextInt();\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + args[0]);\n                System.exit(1);\n            }\n\n            for (int i = 0; i &lt; arr.length; i++) {\n                if (arr[i] &lt; 0) {\n                    break;\n                }\n                dll.insertItem(arr[i]);\n            } // int-input\n        }\n\n        else if (str.equals(&quot;s&quot;)) {\n            System.out.println(&quot;string&quot;);\n            String[] arr_s = new String[10000]; // string-input\n            for (int i = 0; i &lt; arr_s.length; i++) {\n                arr_s[i] = new String();\n            }\n            try {\n                Scanner sc = new Scanner(new File(args[0]));\n                int i = 0;\n                while (sc.hasNextLine()) {\n                    arr_s[i++] = sc.nextLine();\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + args[0]);\n                System.exit(1);\n            }\n\n            for (int i = 0; i &lt; arr_s.length; i++) {\n                dll_s.insertItem(arr_s[i]);\n            } // string input\n        }\n\n         else if (str.equals(&quot;d&quot;)) { // double input\n            System.out.println(&quot;double&quot;);\n            Double[] arr_d = new Double[10000];\n            for (int i = 0; i &lt; arr_d.length; i++) {\n                arr_d[i] = -1.0;\n            }\n            try {\n                Scanner sc = new Scanner(new File(args[0]));\n                int i = 0;\n                while (sc.hasNextLine()) {\n                    arr_d[i++] = sc.nextDouble();\n                }\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;File not found: &quot; + args[0]);\n                System.exit(1);\n            }\n\n            for (int i = 0; i &lt; arr_d.length; i++) {\n                dll_d.insertItem(arr_d[i]);\n            } // double input\n        }\n\n        System.out.print(&quot;Enter a command:&quot;);\n        Scanner sc = new Scanner (System.in);\n        while (sc.hasNextLine()) {\n            String line = sc.nextLine();\n            String[] tokens = line.split(&quot; &quot;);\n            char c = tokens[0].charAt(0);\n\n            switch (c) {\n  \n                case 'p': {\n                    System.out.print(&quot;The list is : &quot;);\n                    if (str.equals(&quot;i&quot;)) {\n                        dll.print(); }\n\n                    else if (str.equals(&quot;s&quot;)) {\n                        dll_s.print(); }\n\n                     else if (str.equals(&quot;d&quot;)) {\n                        dll_d.print(); }\n                    System.out.println(&quot; &quot;);\n                    System.out.print(&quot;Enter a command:&quot;);\n                }\n                break;                \n\n                // ... other cases ... \n\n                default: {\n                    System.out.println(&quot;Command not found&quot;);\n                }\n            }\n            System.out.println();\n        }\n        sc.close();\n    }\n\n</code></pre>\n<p>Here, I made <code>if</code> statements to differentiate by the data type chosen by the user.</p>\n<p>Also when the user enters &quot;p&quot; -- for &quot;print&quot; -- I used <code>if</code> statements to distinguish the three different data types.</p>\n<p>The integer typed list (<code>dll</code>) is working fine, but for the other two types (<code>dll_s</code> and <code>dll_d</code>) the following output and error is produced:</p>\n<blockquote>\n<p>Item already exists<br>\nException in thread &quot;main&quot; java.lang.NullPointerException:<br>\nCannot assign field &quot;next&quot; because &quot;&quot; is null</p>\n</blockquote>\n<p>What is my mistake and how can I correct <code>insertItem()</code> to make it work?</p>\n"},{"tags":["java","android","google-play"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1688415990,"post_id":76607721,"comment_id":135068719,"body_markdown":"I would not rely on key tool, it is outdated. Use `apksigner` from Android SDK instead, it has also the option to display the signer certificate hashes.","body":"I would not rely on key tool, it is outdated. Use <code>apksigner</code> from Android SDK instead, it has also the option to display the signer certificate hashes."}],"owner":{"account_id":13304760,"reputation":53,"user_id":9605019,"display_name":"UnderCode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688413861,"creation_date":1688413861,"question_id":76607721,"body_markdown":"We need to upload our app to other app stores, so the signing key of our app must be the same in all of them so that users can update it.\r\n\r\nAt first we uploaded an app bundle and the Play Console signed it with its own key and we couldn&#39;t update it on other app stores.\r\n\r\nAt this stage, the App signing key certificate was different from the Upload key certificate.\r\n\r\nThen we generated a .zip file from the keystore file we generated with Android Studio using the pepk.jar tool and uploaded it to the Play Console in the App integrity &gt;&gt; Upgrade your app signing key section.\r\n\r\nWe generated this .zip file using the following command that was mentioned in the Play Console:\r\n\r\n$ java -jar pepk.jar --keystore=android_studio_keystore.jks --alias= android_studio_keystore_alias --output=output.zip  --signing-keystore= android_studio_keystore.jks --signing-key-alias= android_studio_keystore_alias --encryptionkey=*************\r\nTo do this, we set both keystore and signing-keystore entries to be the same as the .jks file we created with Android Studio.\r\n\r\nAt this stage, the App signing key certificate was the same as the Upload key certificate.\r\n\r\nThen we uploaded a new version of the app bundle and it was published. But we still can&#39;t update it with other apps store version because their signed key is different.\r\n\r\nWe downloaded the latest version APK from the App Bundle Explorer in the Play Console and found its certificate fingerprint using the keytool -printcert -jarfile apkfile.apk command, which was different from the certificate fingerprint displayed in the Play Console.\r\n\r\nThen, for comparison, we generated a signed APK using Android Studio and the keystore we created and viewed its certificate fingerprint with the same keytool... command. Its information is the same as the information displayed on the App integrity in the Play Console.\r\n\r\nIt seems after the upgrade signed key with java keystore, the Play Console app bundle didn&#39;t sign with the new upload key.\r\n\r\ni expecting same with java keystore","title":"App signed key did not change after Upgrade signed key playstore","body":"<p>We need to upload our app to other app stores, so the signing key of our app must be the same in all of them so that users can update it.</p>\n<p>At first we uploaded an app bundle and the Play Console signed it with its own key and we couldn't update it on other app stores.</p>\n<p>At this stage, the App signing key certificate was different from the Upload key certificate.</p>\n<p>Then we generated a .zip file from the keystore file we generated with Android Studio using the pepk.jar tool and uploaded it to the Play Console in the App integrity &gt;&gt; Upgrade your app signing key section.</p>\n<p>We generated this .zip file using the following command that was mentioned in the Play Console:</p>\n<p>$ java -jar pepk.jar --keystore=android_studio_keystore.jks --alias= android_studio_keystore_alias --output=output.zip  --signing-keystore= android_studio_keystore.jks --signing-key-alias= android_studio_keystore_alias --encryptionkey=*************\nTo do this, we set both keystore and signing-keystore entries to be the same as the .jks file we created with Android Studio.</p>\n<p>At this stage, the App signing key certificate was the same as the Upload key certificate.</p>\n<p>Then we uploaded a new version of the app bundle and it was published. But we still can't update it with other apps store version because their signed key is different.</p>\n<p>We downloaded the latest version APK from the App Bundle Explorer in the Play Console and found its certificate fingerprint using the keytool -printcert -jarfile apkfile.apk command, which was different from the certificate fingerprint displayed in the Play Console.</p>\n<p>Then, for comparison, we generated a signed APK using Android Studio and the keystore we created and viewed its certificate fingerprint with the same keytool... command. Its information is the same as the information displayed on the App integrity in the Play Console.</p>\n<p>It seems after the upgrade signed key with java keystore, the Play Console app bundle didn't sign with the new upload key.</p>\n<p>i expecting same with java keystore</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":20019973,"reputation":101,"user_id":14675131,"display_name":"Anonymous Atom"},"score":0,"creation_date":1688413755,"post_id":76607685,"comment_id":135068369,"body_markdown":"Does this answer your question? [Sort ArrayList of custom Objects by property](https://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property\">Sort ArrayList of custom Objects by property</a>"}],"answers":[{"comments":[{"owner":{"account_id":28906571,"reputation":4357,"user_id":22140496,"display_name":"Pluto"},"score":0,"creation_date":1688415017,"post_id":76607711,"comment_id":135068584,"body_markdown":"You&#39;re welcome. If you have any other questions, please let me know.","body":"You&#39;re welcome. If you have any other questions, please let me know."}],"tags":[],"owner":{"account_id":28906571,"reputation":4357,"user_id":22140496,"display_name":"Pluto"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688413758,"creation_date":1688413758,"answer_id":76607711,"question_id":76607685,"body_markdown":"To sort a map by values in descending order, you can use the Java stream API and the Comparator interface. For example:\r\n\r\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for(char c : ch) {\r\n      if(map.get(c) == null) {\r\n          map.put(c, 1);\r\n      } else {\r\n        map.put(c, map.get(c)+1);\r\n      }\r\n    }\r\n    \r\n    Map&lt;Character, Integer&gt; sortedMap = map.entrySet()\r\n      .stream()\r\n      .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n      .collect(Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        Map.Entry::getValue, \r\n        (e1, e2) -&gt; e1,\r\n        LinkedHashMap::new\r\n      ));\r\n    \r\n    for(Map.Entry entry : sortedMap.entrySet()) {\r\n      System.out.println(&quot;Key is  &quot;+ entry.getKey() + &quot;  Value is  &quot; + entry.getValue());\r\n    }","title":"Sort map based on values in decreasing order","body":"<p>To sort a map by values in descending order, you can use the Java stream API and the Comparator interface. For example:</p>\n<pre><code>Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\nfor(char c : ch) {\n  if(map.get(c) == null) {\n      map.put(c, 1);\n  } else {\n    map.put(c, map.get(c)+1);\n  }\n}\n\nMap&lt;Character, Integer&gt; sortedMap = map.entrySet()\n  .stream()\n  .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n  .collect(Collectors.toMap(\n    Map.Entry::getKey,\n    Map.Entry::getValue, \n    (e1, e2) -&gt; e1,\n    LinkedHashMap::new\n  ));\n\nfor(Map.Entry entry : sortedMap.entrySet()) {\n  System.out.println(&quot;Key is  &quot;+ entry.getKey() + &quot;  Value is  &quot; + entry.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":8085618,"reputation":422,"user_id":6093274,"accept_rate":33,"display_name":"priyanka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76607711,"answer_count":1,"score":0,"last_activity_date":1688413758,"creation_date":1688413386,"question_id":76607685,"body_markdown":"     Map&lt;Character, Integer&gt; map = new HashMap();\r\n            for(char c : ch) {\r\n                if(map.get(c) == null) {\r\n                    map.put(c, 1);\r\n                } else {\r\n                    map.put(c, map.get(c)+1);\r\n                }\r\n            }\r\n            for(Map.Entry entry : map.entrySet()) {\r\n                System.out.println(&quot;Key is  &quot;+ entry.getKey() + &quot;  Value is  &quot; + entry.getValue());\r\n            }\r\n\r\nI have a String str = &quot;PriyankaTaneja&quot;\r\n\r\nI want to count the frequency of characters in the String using map and i want to sort the map in decreasing order of values, that means the character repeating the max number of times should be the first to print. \r\n","title":"Sort map based on values in decreasing order","body":"<pre><code> Map&lt;Character, Integer&gt; map = new HashMap();\n        for(char c : ch) {\n            if(map.get(c) == null) {\n                map.put(c, 1);\n            } else {\n                map.put(c, map.get(c)+1);\n            }\n        }\n        for(Map.Entry entry : map.entrySet()) {\n            System.out.println(&quot;Key is  &quot;+ entry.getKey() + &quot;  Value is  &quot; + entry.getValue());\n        }\n</code></pre>\n<p>I have a String str = &quot;PriyankaTaneja&quot;</p>\n<p>I want to count the frequency of characters in the String using map and i want to sort the map in decreasing order of values, that means the character repeating the max number of times should be the first to print.</p>\n"},{"tags":["java","html","css","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688453407,"post_id":76607589,"comment_id":135072318,"body_markdown":"All URLs are secured but `/` and `/login` add the `/static/**` to the list of public accessible URLs as wsell.","body":"All URLs are secured but <code>&#47;</code> and <code>&#47;login</code> add the <code>&#47;static&#47;**</code> to the list of public accessible URLs as wsell."}],"owner":{"account_id":28943680,"reputation":1,"user_id":22169727,"display_name":"Michele"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688412263,"creation_date":1688412263,"question_id":76607589,"body_markdown":"Thank you for taking the time to read my message. I have experience with Java, but I&#39;m currently facing a new challenge with Spring and Thymeleaf. I&#39;ve been working on a login system and encountered a significant issue: I&#39;m unable to successfully call files, such as photos or CSS files, from the static folder within the HTML files located in the resources folder. The files don&#39;t load at all. I suspect that this problem might be related to login &quot;obfuscation&quot;, but I&#39;m uncertain. I&#39;ve tried various approaches to resolve it, but haven&#39;t found a solution yet. Could someone please assist me? For reference, I have provided the key classes from my project below.\r\n\r\n\r\nMvCConfig:\r\n\r\n```\r\n@Configuration\r\npublic class MvcConfig implements WebMvcConfigurer {\r\n\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;login&quot;);\r\n        registry.addViewController(&quot;/hello&quot;).setViewName(&quot;hello&quot;);\r\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nWebSecConfig:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/&quot;, &quot;/login&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .defaultSuccessUrl(&quot;/hello&quot;, true)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n```\r\n\r\nLogin.html:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;EN&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Login&lt;/title&gt;\r\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;../static/style/login.css&quot;\r\n        th:href=&quot;@{/style/login.css}&quot; /&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;div class=&quot;login-container&quot;&gt;\r\n  &lt;img src=&quot;../templates/imgs/bank.svg&quot; alt=&quot;TrueBank&quot;&gt;\r\n  &lt;h2&gt;TrueBank Login&lt;/h2&gt;\r\n  &lt;form id=&quot;login-form&quot; method=&quot;post&quot;&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot; placeholder=&quot;Username&quot; required&gt;\r\n    &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot; placeholder=&quot;Password&quot; required&gt;\r\n    &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n  document.getElementById(&#39;login-form&#39;).addEventListener(&#39;submit&#39;, async function(event) {\r\n    event.preventDefault();\r\n\r\n    const username = document.getElementById(&#39;username&#39;).value;\r\n    const password = document.getElementById(&#39;password&#39;).value;\r\n\r\n    try {\r\n      const response = await fetch(&#39;/login&#39;, {\r\n        method: &#39;POST&#39;,\r\n        headers: {\r\n          &#39;Content-Type&#39;: &#39;application/json&#39;\r\n        },\r\n        body: JSON.stringify({ username, password })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Login success\r\n        alert(data.message);\r\n        // Redirect to another page or perform other actions\r\n      } else {\r\n        // Login failure\r\n        alert(data.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(&#39;An error occurred&#39;);\r\n    }\r\n  });\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n[Project Structure](https://i.stack.imgur.com/mM7M9.png)\r\n\r\n\r\nI attempted to include `@{/static/style/login.css}` in my project, but unfortunately, it was incorrect. I also attempted to replace `th:href` with `href` to avoid using it, but that approach did not work either.","title":"I&#39;d like to know how to incorporate a CSS file into my Spring project that uses Thymeleaf while implementing a Login system","body":"<p>Thank you for taking the time to read my message. I have experience with Java, but I'm currently facing a new challenge with Spring and Thymeleaf. I've been working on a login system and encountered a significant issue: I'm unable to successfully call files, such as photos or CSS files, from the static folder within the HTML files located in the resources folder. The files don't load at all. I suspect that this problem might be related to login &quot;obfuscation&quot;, but I'm uncertain. I've tried various approaches to resolve it, but haven't found a solution yet. Could someone please assist me? For reference, I have provided the key classes from my project below.</p>\n<p>MvCConfig:</p>\n<pre><code>@Configuration\npublic class MvcConfig implements WebMvcConfigurer {\n\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;login&quot;);\n        registry.addViewController(&quot;/hello&quot;).setViewName(&quot;hello&quot;);\n        registry.addViewController(&quot;/login&quot;).setViewName(&quot;login&quot;);\n    }\n    \n}\n</code></pre>\n<p>WebSecConfig:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/&quot;, &quot;/login&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .defaultSuccessUrl(&quot;/hello&quot;, true)\n                        .permitAll()\n                )\n                .logout((logout) -&gt; logout.permitAll());\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;password&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n</code></pre>\n<p>Login.html:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;EN&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Login&lt;/title&gt;\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;../static/style/login.css&quot;\n        th:href=&quot;@{/style/login.css}&quot; /&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div class=&quot;login-container&quot;&gt;\n  &lt;img src=&quot;../templates/imgs/bank.svg&quot; alt=&quot;TrueBank&quot;&gt;\n  &lt;h2&gt;TrueBank Login&lt;/h2&gt;\n  &lt;form id=&quot;login-form&quot; method=&quot;post&quot;&gt;\n    &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot; placeholder=&quot;Username&quot; required&gt;\n    &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot; placeholder=&quot;Password&quot; required&gt;\n    &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n  document.getElementById('login-form').addEventListener('submit', async function(event) {\n    event.preventDefault();\n\n    const username = document.getElementById('username').value;\n    const password = document.getElementById('password').value;\n\n    try {\n      const response = await fetch('/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ username, password })\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        // Login success\n        alert(data.message);\n        // Redirect to another page or perform other actions\n      } else {\n        // Login failure\n        alert(data.message);\n      }\n    } catch (error) {\n      console.error(error);\n      alert('An error occurred');\n    }\n  });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mM7M9.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<p>I attempted to include <code>@{/static/style/login.css}</code> in my project, but unfortunately, it was incorrect. I also attempted to replace <code>th:href</code> with <code>href</code> to avoid using it, but that approach did not work either.</p>\n"},{"tags":["java","json","spring","request"],"answers":[{"comments":[{"owner":{"account_id":23358723,"reputation":17,"user_id":17431300,"display_name":"Carry Flag"},"score":0,"creation_date":1687185840,"post_id":76507613,"comment_id":134897882,"body_markdown":"Actually, I can&#39;t do this, because the validation gets before, on a filter, which has this HttpServletRequest","body":"Actually, I can&#39;t do this, because the validation gets before, on a filter, which has this HttpServletRequest"}],"tags":[],"owner":{"account_id":10144817,"reputation":74,"user_id":9285431,"display_name":"Saurav Dudeja"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687185103,"creation_date":1687185103,"answer_id":76507613,"question_id":76507550,"body_markdown":"You can explicitly mention request header and validate the same\r\n\r\ne.g. \r\n\r\n    @GetMapping(&quot;/action&quot;)\r\n    public ResponseEntity&lt;String&gt; doAction(@RequestHeader(&quot;Content-Type&quot;) String headerValue) {\r\n        if (!headerValue.equals(MediaType.APPLICATION_JSON_VALUE)) {\r\n            // Throw exception\r\n        }\r\n        return ResponseEntity.ok(&quot;Ok!&quot;);\r\n    }","title":"Is there a way in spring boot to override a request header on HttpServletRequest?","body":"<p>You can explicitly mention request header and validate the same</p>\n<p>e.g.</p>\n<pre><code>@GetMapping(&quot;/action&quot;)\npublic ResponseEntity&lt;String&gt; doAction(@RequestHeader(&quot;Content-Type&quot;) String headerValue) {\n    if (!headerValue.equals(MediaType.APPLICATION_JSON_VALUE)) {\n        // Throw exception\n    }\n    return ResponseEntity.ok(&quot;Ok!&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23358723,"reputation":17,"user_id":17431300,"display_name":"Carry Flag"},"score":0,"creation_date":1687188660,"post_id":76507825,"comment_id":134898535,"body_markdown":"I actually tried using this approach, but, for some reason, it returns me the following error: ```HttpMediaTypeNotSupportedException: Content type &#39;application/octet-stream&#39; not supported```.","body":"I actually tried using this approach, but, for some reason, it returns me the following error: <code>HttpMediaTypeNotSupportedException: Content type &#39;application&#47;octet-stream&#39; not supported</code>."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1687189728,"post_id":76507825,"comment_id":134898778,"body_markdown":"@CarryFlag without any further information and a reproducible example it&#39;s difficult to tell where youre problem originates from.","body":"@CarryFlag without any further information and a reproducible example it&#39;s difficult to tell where youre problem originates from."}],"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688411944,"creation_date":1687186556,"answer_id":76507825,"question_id":76507550,"body_markdown":"Create a new servlet filter that is applied before the one which troubles you. In this filter you do not pass down the original `request` instance the filter chain but instead wrap it in a `jakarta.servlet.http.HttpServletRequestWrapper` that you extend to provide your default headers if the original is missing such a header.\r\n\r\nSomething along the lines of:\r\n```\r\npublic class HeaderDefaultsRequestWrapper extends HttpServletRequestWrapper {\r\n\r\n    private final Map&lt;String, String&gt; headerDefaults;\r\n    \r\n    public HeaderDefaultsRequestWrapper(HttpServletRequest request, Map&lt;String, String&gt; headerDefaults) {\r\n        super(request);\r\n        this.headerDefaults = headerDefaults;\r\n    }\r\n    \r\n    @Override\r\n    public String getHeader(String name) {\r\n        String header = super.getHeader(name);\r\n        if (header == null) {\r\n            // Also mind header casing here\r\n            return headerDefaults.get(name);\r\n        }\r\n        return header;\r\n    }\r\n}\r\n```\r\nAlso be sure to override `getHeaderNames()` and other stuff to create a consistent extension of that wrapper class.","title":"Is there a way in spring boot to override a request header on HttpServletRequest?","body":"<p>Create a new servlet filter that is applied before the one which troubles you. In this filter you do not pass down the original <code>request</code> instance the filter chain but instead wrap it in a <code>jakarta.servlet.http.HttpServletRequestWrapper</code> that you extend to provide your default headers if the original is missing such a header.</p>\n<p>Something along the lines of:</p>\n<pre><code>public class HeaderDefaultsRequestWrapper extends HttpServletRequestWrapper {\n\n    private final Map&lt;String, String&gt; headerDefaults;\n    \n    public HeaderDefaultsRequestWrapper(HttpServletRequest request, Map&lt;String, String&gt; headerDefaults) {\n        super(request);\n        this.headerDefaults = headerDefaults;\n    }\n    \n    @Override\n    public String getHeader(String name) {\n        String header = super.getHeader(name);\n        if (header == null) {\n            // Also mind header casing here\n            return headerDefaults.get(name);\n        }\n        return header;\n    }\n}\n</code></pre>\n<p>Also be sure to override <code>getHeaderNames()</code> and other stuff to create a consistent extension of that wrapper class.</p>\n"}],"owner":{"account_id":23358723,"reputation":17,"user_id":17431300,"display_name":"Carry Flag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76507825,"answer_count":2,"score":0,"last_activity_date":1688411944,"creation_date":1687184634,"question_id":76507550,"body_markdown":"I&#39;m trying to validate when the user doesn&#39;t provide a content-type header as a header, I want to default it as application/json on the `HttpServletRequest`, is this possible? I don&#39;t see any methods that would suit that. ","title":"Is there a way in spring boot to override a request header on HttpServletRequest?","body":"<p>I'm trying to validate when the user doesn't provide a content-type header as a header, I want to default it as application/json on the <code>HttpServletRequest</code>, is this possible? I don't see any methods that would suit that.</p>\n"},{"tags":["java","html","jquery","freemarker"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688411927,"creation_date":1688411927,"answer_id":76607563,"question_id":76606820,"body_markdown":"You are on the right track and almost solved it. You need to replace `&amp;size=` with `&amp;amp;size=` (`&amp;amp;` is the HTML entity for the &quot;&amp;&quot; character).\r\n\r\nThose two lines will then become:\r\n\r\n      &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\r\n      &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;","title":"The reference to entity &quot;size&quot; must end with the &#39;;&#39; delimiter","body":"<p>You are on the right track and almost solved it. You need to replace <code>&amp;size=</code> with <code>&amp;amp;size=</code> (<code>&amp;amp;</code> is the HTML entity for the &quot;&amp;&quot; character).</p>\n<p>Those two lines will then become:</p>\n<pre><code>  &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\n  &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\n</code></pre>\n"}],"owner":{"account_id":28141342,"reputation":1,"user_id":22068221,"display_name":"Display_name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688411927,"creation_date":1688403609,"question_id":76606820,"body_markdown":"I don&#39;t understand what the problem might be, it gives the error [Fatal error] :94:69: The reference to the &quot;size&quot; object should end with a separator &#39;;&#39;.\r\n\r\n```\r\n&lt;#macro pager url page&gt;\r\n    &lt;#if page.getTotalPages() gt 7&gt;\r\n        &lt;#assign\r\n        totalPages = page.getTotalPages()\r\n        pageNumber = page.getNumber() + 1\r\n\r\n        head = (pageNumber &gt; 4)?then([1, -1], [1, 2, 3])\r\n        tail = (pageNumber &lt; totalPages - 3)?then([-1, totalPages], [totalPages - 2, totalPages - 1, totalPages])\r\n        bodyBefore = (pageNumber &gt; 4 &amp;&amp; pageNumber &lt; totalPages - 1)?then([pageNumber - 2, pageNumber - 1], [])\r\n        bodyAfter = (pageNumber &gt; 2 &amp;&amp; pageNumber &lt; totalPages - 3)?then([pageNumber + 1, pageNumber + 2], [])\r\n\r\n        body = head + bodyBefore + (pageNumber &gt; 3 &amp;&amp; pageNumber &lt; totalPages - 2)?then([pageNumber], []) + bodyAfter + tail\r\n        &gt;\r\n    &lt;#else&gt;\r\n        &lt;#assign body = 1..page.getTotalPages()&gt;\r\n    &lt;/#if&gt;\r\n    &lt;div class=&quot;mt-3&quot;&gt;\r\n        &lt;ul class=&quot;pagination&quot;&gt;\r\n            &lt;li class=&quot;page-item disabled&quot;&gt;\r\n                &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;Страницы&lt;/a&gt;\r\n            &lt;/li&gt;\r\n            &lt;#list body as p&gt;\r\n                &lt;#if (p - 1) == page.getNumber()&gt;\r\n                    &lt;li class=&quot;page-item active&quot;&gt;\r\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                &lt;#elseif p == -1&gt;\r\n                    &lt;li class=&quot;page-item disabled&quot;&gt;\r\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;...&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                &lt;#else&gt;\r\n                    &lt;li class=&quot;page-item&quot;&gt;\r\n                        &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                &lt;/#if&gt;\r\n            &lt;/#list&gt;\r\n        &lt;/ul&gt;\r\n\r\n        &lt;ul class=&quot;pagination&quot;&gt;\r\n            &lt;li class=&quot;page-item disabled&quot;&gt;\r\n                &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;Элементов на странице&lt;/a&gt;\r\n            &lt;/li&gt;\r\n            &lt;#list [5, 10, 25, 50] as c&gt;\r\n                &lt;#if c == page.getSize()&gt;\r\n                    &lt;li class=&quot;page-item active&quot;&gt;\r\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                &lt;#else&gt;\r\n                    &lt;li class=&quot;page-item&quot;&gt;\r\n                        &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                &lt;/#if&gt;\r\n            &lt;/#list&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n&lt;/#macro&gt;\r\n```\r\n\r\n```\r\n\r\nimport com.example.Sweater.controller.MessageController;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.security.test.context.support.WithUserDetails;\r\nimport org.springframework.test.context.TestPropertySource;\r\nimport org.springframework.test.context.jdbc.Sql;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.request.MockHttpServletRequestBuilder;\r\n\r\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.csrf;\r\nimport static org.springframework.security.test.web.servlet.response.SecurityMockMvcResultMatchers.authenticated;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.xpath;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n//@TestPropertySource(&quot;/application-test.properties&quot;)\r\n//@Sql(value = {&quot;/create-user-before.sql&quot;, &quot;/messages-list-before.sql&quot;}, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\r\n//@Sql(value = {&quot;/messages-list-after.sql&quot;, &quot;/create-user-after.sql&quot;}, executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\r\n@WithUserDetails(value = &quot;admin2&quot;)\r\npublic class MessageControllerTest {\r\n    @Autowired\r\n    private MessageController controller;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void mainPageTest() throws Exception {\r\n        this.mockMvc.perform(get(&quot;/main&quot;))\r\n                .andDo(print())\r\n                .andExpect(authenticated()) \r\n                .andExpect(xpath(&quot;//div[@id=&#39;navbarSupportedContent&#39;]/div&quot;).string(&quot;admin2&quot;));\r\n    }\r\n```\r\n\r\n\r\nThese are two lines in which size is used-----------&gt;&gt;&gt;&gt;&gt;\r\n```\r\n  &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\r\n&lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\r\n```\r\n\r\n\r\n\r\nI noticed &amp; on &amp;amp, but it didn&#39;t help because it made me write the error [Fatal error] :94:69: The reference to the &quot;ampsize&quot; object should end with a separator &#39;;&#39;.","title":"The reference to entity &quot;size&quot; must end with the &#39;;&#39; delimiter","body":"<p>I don't understand what the problem might be, it gives the error [Fatal error] :94:69: The reference to the &quot;size&quot; object should end with a separator ';'.</p>\n<pre><code>&lt;#macro pager url page&gt;\n    &lt;#if page.getTotalPages() gt 7&gt;\n        &lt;#assign\n        totalPages = page.getTotalPages()\n        pageNumber = page.getNumber() + 1\n\n        head = (pageNumber &gt; 4)?then([1, -1], [1, 2, 3])\n        tail = (pageNumber &lt; totalPages - 3)?then([-1, totalPages], [totalPages - 2, totalPages - 1, totalPages])\n        bodyBefore = (pageNumber &gt; 4 &amp;&amp; pageNumber &lt; totalPages - 1)?then([pageNumber - 2, pageNumber - 1], [])\n        bodyAfter = (pageNumber &gt; 2 &amp;&amp; pageNumber &lt; totalPages - 3)?then([pageNumber + 1, pageNumber + 2], [])\n\n        body = head + bodyBefore + (pageNumber &gt; 3 &amp;&amp; pageNumber &lt; totalPages - 2)?then([pageNumber], []) + bodyAfter + tail\n        &gt;\n    &lt;#else&gt;\n        &lt;#assign body = 1..page.getTotalPages()&gt;\n    &lt;/#if&gt;\n    &lt;div class=&quot;mt-3&quot;&gt;\n        &lt;ul class=&quot;pagination&quot;&gt;\n            &lt;li class=&quot;page-item disabled&quot;&gt;\n                &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;Страницы&lt;/a&gt;\n            &lt;/li&gt;\n            &lt;#list body as p&gt;\n                &lt;#if (p - 1) == page.getNumber()&gt;\n                    &lt;li class=&quot;page-item active&quot;&gt;\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;#elseif p == -1&gt;\n                    &lt;li class=&quot;page-item disabled&quot;&gt;\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;...&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;#else&gt;\n                    &lt;li class=&quot;page-item&quot;&gt;\n                        &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/#if&gt;\n            &lt;/#list&gt;\n        &lt;/ul&gt;\n\n        &lt;ul class=&quot;pagination&quot;&gt;\n            &lt;li class=&quot;page-item disabled&quot;&gt;\n                &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;Элементов на странице&lt;/a&gt;\n            &lt;/li&gt;\n            &lt;#list [5, 10, 25, 50] as c&gt;\n                &lt;#if c == page.getSize()&gt;\n                    &lt;li class=&quot;page-item active&quot;&gt;\n                        &lt;a class=&quot;page-link&quot; href=&quot;#&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;#else&gt;\n                    &lt;li class=&quot;page-item&quot;&gt;\n                        &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/#if&gt;\n            &lt;/#list&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/#macro&gt;\n</code></pre>\n<pre><code>\nimport com.example.Sweater.controller.MessageController;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.security.test.context.support.WithUserDetails;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.jdbc.Sql;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.request.MockHttpServletRequestBuilder;\n\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.csrf;\nimport static org.springframework.security.test.web.servlet.response.SecurityMockMvcResultMatchers.authenticated;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.xpath;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc\n//@TestPropertySource(&quot;/application-test.properties&quot;)\n//@Sql(value = {&quot;/create-user-before.sql&quot;, &quot;/messages-list-before.sql&quot;}, executionPhase = Sql.ExecutionPhase.BEFORE_TEST_METHOD)\n//@Sql(value = {&quot;/messages-list-after.sql&quot;, &quot;/create-user-after.sql&quot;}, executionPhase = Sql.ExecutionPhase.AFTER_TEST_METHOD)\n@WithUserDetails(value = &quot;admin2&quot;)\npublic class MessageControllerTest {\n    @Autowired\n    private MessageController controller;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void mainPageTest() throws Exception {\n        this.mockMvc.perform(get(&quot;/main&quot;))\n                .andDo(print())\n                .andExpect(authenticated()) \n                .andExpect(xpath(&quot;//div[@id='navbarSupportedContent']/div&quot;).string(&quot;admin2&quot;));\n    }\n</code></pre>\n<p>These are two lines in which size is used-----------&gt;&gt;&gt;&gt;&gt;</p>\n<pre><code>  &lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${p - 1}&amp;size=${page.getSize()}&quot; tabindex=&quot;-1&quot;&gt;${p}&lt;/a&gt;\n&lt;a class=&quot;page-link&quot; href=&quot;${url}?page=${page.getNumber()}&amp;size=${c}&quot; tabindex=&quot;-1&quot;&gt;${c}&lt;/a&gt;\n</code></pre>\n<p>I noticed &amp; on &amp;amp, but it didn't help because it made me write the error [Fatal error] :94:69: The reference to the &quot;ampsize&quot; object should end with a separator ';'.</p>\n"},{"tags":["java","maven","testng","extentreports","selenium-java"],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688411907,"creation_date":1688399243,"question_id":76606328,"body_markdown":"I have a method called in my `@AfterMethod` in TestNG attempting to gather the counts of tests passed/failed/skipped, and in `@AfterSuite` printing out the counts. This also includes setting custom extent report status. When I run the Test Suite, I am getting a different count from `ITestResult` versus what is there in the logs (using maven surefire plugin).  See below the method and the difference in counts:\r\n\r\n`@AfterMethod`:\r\n```java\r\n@AfterMethod\r\npublic void closure(ITestResult res) {\r\n\tsuccess = 0;\r\n\tfailed = 0;\r\n\tskipped = 0;\r\n\r\n\tif (res.getStatus() == ITestResult.FAILURE) {\r\n\t\tString failScreenshotPath = ExtentCustom.getScreenshot(res.getName());\r\n\t\tExtentCustom.eachTest.log(Status.FAIL, ExtentCustom.getFailFont(&quot;Snapshot below : &quot; + res.getThrowable()),\r\n\t\t\t\tMediaEntityBuilder.createScreenCaptureFromPath(failScreenshotPath).build());\r\n\t\tfailed = res.getTestContext().getFailedTests().size();\r\n\t\tfailed++;\r\n\t} else if (res.getStatus() == ITestResult.SUCCESS) {\r\n\t\tString passScreenshotPath = ExtentCustom.getScreenshot(res.getName());\r\n\t\tExtentCustom.eachTest.log(Status.PASS, ExtentCustom.getPassFont(&quot;Snapshot below : &quot;),\r\n\t\t\t\tMediaEntityBuilder.createScreenCaptureFromPath(passScreenshotPath).build());\r\n\t\tsuccess = res.getTestContext().getPassedTests().size();\r\n\t\tsuccess++;\r\n\t} else {\r\n\t\tif (res.getStatus() == ITestResult.SKIP) {\r\n\t\t\tExtentCustom.eachTest.log(Status.SKIP, ExtentCustom.getInfoFont(&quot;Test Skipped&quot;));\r\n\t\t\tskipped = res.getTestContext().getSkippedTests().size();\r\n\t\t\tskipped++;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n`@AfterSuite` method:\r\n```java\r\n@AfterSuite\r\npublic void reportFlush() throws IOException, InterruptedException {\r\n\tExtentCustom.reportClosure();\r\n\tint total = success + failed + skipped;\r\n\tSystem.out.println(&quot;Total: &quot; + total + System.lineSeparator() + &quot;Passed: &quot; + success + System.lineSeparator()\r\n\t\t\t+ &quot;Failed: &quot; + failed + System.lineSeparator() + &quot;Skipped: &quot; + skipped);\r\n}\r\n```\r\n\r\nLogs:\r\n```\r\nTotal: 71\r\nPassed: 71\r\nFailed: 0\r\nSkipped: 0\r\n[ERROR] Tests run: 71, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 179.7 s &lt;&lt;&lt; FAILURE! -- in TestSuite\r\n```\r\n\r\nIs there a reason for the count difference?  The failure is coming from Selenium, but it seems to be disconnected from the TestNG result.  Please let me know for any suggestions.","title":"ITestResult Success/Failed/Skip Counts different from count in TestSuite","body":"<p>I have a method called in my <code>@AfterMethod</code> in TestNG attempting to gather the counts of tests passed/failed/skipped, and in <code>@AfterSuite</code> printing out the counts. This also includes setting custom extent report status. When I run the Test Suite, I am getting a different count from <code>ITestResult</code> versus what is there in the logs (using maven surefire plugin).  See below the method and the difference in counts:</p>\n<p><code>@AfterMethod</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AfterMethod\npublic void closure(ITestResult res) {\n    success = 0;\n    failed = 0;\n    skipped = 0;\n\n    if (res.getStatus() == ITestResult.FAILURE) {\n        String failScreenshotPath = ExtentCustom.getScreenshot(res.getName());\n        ExtentCustom.eachTest.log(Status.FAIL, ExtentCustom.getFailFont(&quot;Snapshot below : &quot; + res.getThrowable()),\n                MediaEntityBuilder.createScreenCaptureFromPath(failScreenshotPath).build());\n        failed = res.getTestContext().getFailedTests().size();\n        failed++;\n    } else if (res.getStatus() == ITestResult.SUCCESS) {\n        String passScreenshotPath = ExtentCustom.getScreenshot(res.getName());\n        ExtentCustom.eachTest.log(Status.PASS, ExtentCustom.getPassFont(&quot;Snapshot below : &quot;),\n                MediaEntityBuilder.createScreenCaptureFromPath(passScreenshotPath).build());\n        success = res.getTestContext().getPassedTests().size();\n        success++;\n    } else {\n        if (res.getStatus() == ITestResult.SKIP) {\n            ExtentCustom.eachTest.log(Status.SKIP, ExtentCustom.getInfoFont(&quot;Test Skipped&quot;));\n            skipped = res.getTestContext().getSkippedTests().size();\n            skipped++;\n        }\n    }\n}\n</code></pre>\n<p><code>@AfterSuite</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AfterSuite\npublic void reportFlush() throws IOException, InterruptedException {\n    ExtentCustom.reportClosure();\n    int total = success + failed + skipped;\n    System.out.println(&quot;Total: &quot; + total + System.lineSeparator() + &quot;Passed: &quot; + success + System.lineSeparator()\n            + &quot;Failed: &quot; + failed + System.lineSeparator() + &quot;Skipped: &quot; + skipped);\n}\n</code></pre>\n<p>Logs:</p>\n<pre><code>Total: 71\nPassed: 71\nFailed: 0\nSkipped: 0\n[ERROR] Tests run: 71, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 179.7 s &lt;&lt;&lt; FAILURE! -- in TestSuite\n</code></pre>\n<p>Is there a reason for the count difference?  The failure is coming from Selenium, but it seems to be disconnected from the TestNG result.  Please let me know for any suggestions.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":6331664,"reputation":526,"user_id":4916419,"accept_rate":71,"display_name":"AyoubMK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688411784,"creation_date":1688399732,"question_id":76606388,"body_markdown":"I have an Interceptor to log the request of each HTTP request:\r\n\r\n    @ControllerAdvice\r\n    public class RequestBodyInterceptor extends RequestBodyAdviceAdapter {\r\n\r\n    @Autowired\r\n    LoggingService logService;\r\n\r\n    @Autowired\r\n    HttpServletRequest request;\r\n\r\n    @Override\r\n    public Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter, Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n        logService.displayReq(request,body);\r\n        return super.afterBodyRead(body, inputMessage, parameter, targetType, converterType);\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(MethodParameter methodParameter, Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nTo configure which package can intercept, I added the `basePackages` attribute to `@ControllerAdvice` annotation with a value which I got from properties file:\r\n\r\n    @ControllerAdvice(basePackages = {&quot;${log.logged-packages}&quot;})\r\n\r\nWhen I put the package of my controllers it&#39;s work and I didn&#39;t see logs for the actuator/health endpoint :\r\n\r\n    log.logged-packages=com.my.package\r\n\r\nBut when I change the value to a list or just put the `org.springframework` package, I can&#39;t see any log of actuator calls :\r\n\r\n    log.logged-packages=org.springframework.boot.actuate\r\n\r\nOr \r\n\r\n    log.logged-packages=org.springframework.boot.actuate, com.my.package\r\n\r\nAny ideas, please?","title":"ControllerAdvice does not work with actuator/health","body":"<p>I have an Interceptor to log the request of each HTTP request:</p>\n<pre><code>@ControllerAdvice\npublic class RequestBodyInterceptor extends RequestBodyAdviceAdapter {\n\n@Autowired\nLoggingService logService;\n\n@Autowired\nHttpServletRequest request;\n\n@Override\npublic Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter, Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n    logService.displayReq(request,body);\n    return super.afterBodyRead(body, inputMessage, parameter, targetType, converterType);\n}\n\n@Override\npublic boolean supports(MethodParameter methodParameter, Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n    return true;\n}\n</code></pre>\n<p>}</p>\n<p>To configure which package can intercept, I added the <code>basePackages</code> attribute to <code>@ControllerAdvice</code> annotation with a value which I got from properties file:</p>\n<pre><code>@ControllerAdvice(basePackages = {&quot;${log.logged-packages}&quot;})\n</code></pre>\n<p>When I put the package of my controllers it's work and I didn't see logs for the actuator/health endpoint :</p>\n<pre><code>log.logged-packages=com.my.package\n</code></pre>\n<p>But when I change the value to a list or just put the <code>org.springframework</code> package, I can't see any log of actuator calls :</p>\n<pre><code>log.logged-packages=org.springframework.boot.actuate\n</code></pre>\n<p>Or</p>\n<pre><code>log.logged-packages=org.springframework.boot.actuate, com.my.package\n</code></pre>\n<p>Any ideas, please?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7835,"page":332,"page_size":100}
