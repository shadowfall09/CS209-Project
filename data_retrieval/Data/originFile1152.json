{"items":[{"tags":["java","tomcat","web-deployment","apache-tomee","payara"],"comments":[{"owner":{"account_id":15059358,"reputation":2281,"user_id":10868666,"display_name":"Adam Waldenberg"},"score":0,"creation_date":1658706778,"post_id":73076742,"comment_id":129110817,"body_markdown":"Have you tried setting `org.apache.catalina.STRICT_SERVLET_COMPLIANCE` ? I believe that makes Tomcat verify the web.xml (among other things).","body":"Have you tried setting <code>org.apache.catalina.STRICT_SERVLET_COMPLIANCE</code> ? I believe that makes Tomcat verify the web.xml (among other things)."},{"owner":{"account_id":2934677,"reputation":1448,"user_id":2513934,"display_name":"actunderdc"},"score":0,"creation_date":1658739121,"post_id":73076742,"comment_id":129116763,"body_markdown":"I added line org.apache.catalina.STRICT_SERVLET_COMPLIANCE=true to catalina.properties, but the effect is the same, the applications get deployed. I want to check the content of data properly inserted in web.xml (credentials for connecting to other systems), so Tomcat cannot know by itself that the data there is correct or not. I would like somehow to fail the deploy when an exception is thrown programatically from the code.","body":"I added line org.apache.catalina.STRICT_SERVLET_COMPLIANCE=true to catalina.properties, but the effect is the same, the applications get deployed. I want to check the content of data properly inserted in web.xml (credentials for connecting to other systems), so Tomcat cannot know by itself that the data there is correct or not. I would like somehow to fail the deploy when an exception is thrown programatically from the code."},{"owner":{"account_id":15059358,"reputation":2281,"user_id":10868666,"display_name":"Adam Waldenberg"},"score":1,"creation_date":1658955261,"post_id":73076742,"comment_id":129183788,"body_markdown":"Depending on how Tomcat behaves you can try moving this to a `ServletContextListener` and throw a runtime exception from `contextInitialized()`. On many servers this will fail the deployment and any requests to the application will return error 500. I dont think the spec defines how this must be handled though, so it&#39;s different between servers.","body":"Depending on how Tomcat behaves you can try moving this to a <code>ServletContextListener</code> and throw a runtime exception from <code>contextInitialized()</code>. On many servers this will fail the deployment and any requests to the application will return error 500. I dont think the spec defines how this must be handled though, so it&#39;s different between servers."}],"answers":[{"tags":[],"owner":{"account_id":15059358,"reputation":2281,"user_id":10868666,"display_name":"Adam Waldenberg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658996723,"creation_date":1658996261,"answer_id":73149446,"question_id":73076742,"body_markdown":"Move your logic to a `ServletContextListener` and throw a runtime exception from `contextInitialized()`. On many servers this will fail the deployment and any requests to the application will return `error 500`. The spec does not require this exact behaviour though, so the outcome is slightly different between servers.\r\n\r\nThis is an example implementation using a `ServletContextListener` that fails the deployment:\r\n\r\n```\r\npackage com.example;\r\nimport jakarta.servlet.ServletContextEvent;\r\nimport jakarta.servlet.ServletContextListener;\r\nimport jakarta.servlet.annotation.WebListener;\r\n\r\n@WebListener\r\npublic class ExampleServletContextListener implements ServletContextListener{\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent e) {\r\n        try {\r\n            callThatFailsAndThrowsAnException();\r\n\r\n            catch (Exception e) {\r\n                throw new UnavailableException(&quot;Something went very wrong - I&#39;m bailing out.&quot;);\r\n            }\r\n    }\r\n\r\n    @Override\r\n    public void contextDestroyed(ServletContextEvent e) {\r\n        /* Application shutdown */\r\n    }\r\n}\r\n```\r\n\r\n`@WebListener` registers the context listener with the container. If you are using an older version of JakartaEE/JavaEE and the annotation is unavailable, you can register the context listener in `web.xml` instead.","title":"Force deploy of web application to fail on Tomcat","body":"<p>Move your logic to a <code>ServletContextListener</code> and throw a runtime exception from <code>contextInitialized()</code>. On many servers this will fail the deployment and any requests to the application will return <code>error 500</code>. The spec does not require this exact behaviour though, so the outcome is slightly different between servers.</p>\n<p>This is an example implementation using a <code>ServletContextListener</code> that fails the deployment:</p>\n<pre><code>package com.example;\nimport jakarta.servlet.ServletContextEvent;\nimport jakarta.servlet.ServletContextListener;\nimport jakarta.servlet.annotation.WebListener;\n\n@WebListener\npublic class ExampleServletContextListener implements ServletContextListener{\n    @Override\n    public void contextInitialized(ServletContextEvent e) {\n        try {\n            callThatFailsAndThrowsAnException();\n\n            catch (Exception e) {\n                throw new UnavailableException(&quot;Something went very wrong - I'm bailing out.&quot;);\n            }\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent e) {\n        /* Application shutdown */\n    }\n}\n</code></pre>\n<p><code>@WebListener</code> registers the context listener with the container. If you are using an older version of JakartaEE/JavaEE and the annotation is unavailable, you can register the context listener in <code>web.xml</code> instead.</p>\n"}],"owner":{"account_id":2934677,"reputation":1448,"user_id":2513934,"display_name":"actunderdc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73149446,"answer_count":1,"score":3,"last_activity_date":1658996723,"creation_date":1658475385,"question_id":73076742,"body_markdown":"We are researching the possibility to migrate some web JSF applications from Payara 5 to Tomcat 9 (TomEE 8). We are using Java 11 and Java EE 7/8. Our applications connect to a backend server using RMI. At the moment, with Payara 5, when the code that connects us to the backend server fails (exception is thrown because server is unavailable or credentials defined in web.xml are invalid), the deployment fails.\r\n\r\nSee this piece of code:\r\n\r\n    public class MainServlet extends HttpServlet {\r\n      //constructor, variables etc.\r\n      @Override\r\n      public void init(ServletConfig config) throws ServletException {\r\n        super.init(config);\r\n        //read configurations from web.xml\r\n        try {\r\n          connectToBackendServer();\r\n        catch (Exception e) {\r\n          throw new UnavailableException(&quot;Cannot connect to Backend Server&quot;);\r\n        }\r\n      }\r\n      //other methods\r\n    }\r\n\r\nThe above piece of code makes the deployment fail on Payara 5, but Tomcat 9 allows the deployment. With Tomcat we notice that the backend is not ok by checking the logs or by trying the front-end and getting the errors. See the below picture where the NullPointerException is thrown by our *connectToBackendServer()* method.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWe are fully aware that this is not the best approach as the backend may fail later, after the successful deployment, but at least we are covering the cases when the configuration from *web.xml* is wrong.\r\n\r\nCan we achieve a similar functionality with Tomcat 9(TomEE 8)?\r\n\r\nThank you all in advance!\r\n\r\n\r\n \r\n   \r\n\r\n      \r\n\r\n..\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eR9Eo.png","title":"Force deploy of web application to fail on Tomcat","body":"<p>We are researching the possibility to migrate some web JSF applications from Payara 5 to Tomcat 9 (TomEE 8). We are using Java 11 and Java EE 7/8. Our applications connect to a backend server using RMI. At the moment, with Payara 5, when the code that connects us to the backend server fails (exception is thrown because server is unavailable or credentials defined in web.xml are invalid), the deployment fails.</p>\n<p>See this piece of code:</p>\n<pre><code>public class MainServlet extends HttpServlet {\n  //constructor, variables etc.\n  @Override\n  public void init(ServletConfig config) throws ServletException {\n    super.init(config);\n    //read configurations from web.xml\n    try {\n      connectToBackendServer();\n    catch (Exception e) {\n      throw new UnavailableException(&quot;Cannot connect to Backend Server&quot;);\n    }\n  }\n  //other methods\n}\n</code></pre>\n<p>The above piece of code makes the deployment fail on Payara 5, but Tomcat 9 allows the deployment. With Tomcat we notice that the backend is not ok by checking the logs or by trying the front-end and getting the errors. See the below picture where the NullPointerException is thrown by our <em>connectToBackendServer()</em> method.</p>\n<p><a href=\"https://i.stack.imgur.com/eR9Eo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eR9Eo.png\" alt=\"enter image description here\" /></a></p>\n<p>We are fully aware that this is not the best approach as the backend may fail later, after the successful deployment, but at least we are covering the cases when the configuration from <em>web.xml</em> is wrong.</p>\n<p>Can we achieve a similar functionality with Tomcat 9(TomEE 8)?</p>\n<p>Thank you all in advance!</p>\n<p>..</p>\n"},{"tags":["java","hibernate","hibernate-search","apache-karaf"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658993431,"creation_date":1658993431,"answer_id":73148872,"question_id":73148558,"body_markdown":"You are apparently trying to migrate to Hibernate Search 6.\r\n\r\nThe Hibernate team stopped investing in OSGi compatibility starting with Hibernate Search 6 (and ORM 6, IIRC) due to the disproportionate amount of maintenance it required, the difficulty of testing it (especially with newer JDK releases) and the relatively small number of users actually needing it (it&#39;s been almost two years since we dropped OSGi support, and you&#39;re the first one to ask about it) -- those were the main reasons I remember, at least.\r\n\r\nThat&#39;s not to say it cannot work, but the amount of effort necessary to make it work is unknown, and the core team has other priorities at the moment.\r\n\r\nIf you want to vote for OSGi support and/or organize with the community to contribute it, you can vote for it or discuss it here: https://hibernate.atlassian.net/browse/HSEARCH-3279\r\n\r\nAlternatively, I know there are external projects (can&#39;t remember the name) out there that provide wrappers to make libraries not designed with OSGi in mind, work in an OSGi container regardless. You may find an already existing wrapper there, or contribute your own.\r\n\r\nAs to `HibernateSearchContextProviderService`, I can only say it&#39;s added to Hibernate ORM through `org.hibernate.search.mapper.orm.mapping.impl.HibernateSearchContextProviderServiceContributor`, which is itself supposed to be picked up by Hibernate ORM through the service loader mechanism (see https://github.com/hibernate/hibernate-search/blob/0c0519a6ab5382b6008fdbb038f4484fd753c1e3/mapper/orm/src/main/resources/META-INF/services ).","title":"hibernate search mapper orm issue with HibernateSearchContextProviderService","body":"<p>You are apparently trying to migrate to Hibernate Search 6.</p>\n<p>The Hibernate team stopped investing in OSGi compatibility starting with Hibernate Search 6 (and ORM 6, IIRC) due to the disproportionate amount of maintenance it required, the difficulty of testing it (especially with newer JDK releases) and the relatively small number of users actually needing it (it's been almost two years since we dropped OSGi support, and you're the first one to ask about it) -- those were the main reasons I remember, at least.</p>\n<p>That's not to say it cannot work, but the amount of effort necessary to make it work is unknown, and the core team has other priorities at the moment.</p>\n<p>If you want to vote for OSGi support and/or organize with the community to contribute it, you can vote for it or discuss it here: <a href=\"https://hibernate.atlassian.net/browse/HSEARCH-3279\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HSEARCH-3279</a></p>\n<p>Alternatively, I know there are external projects (can't remember the name) out there that provide wrappers to make libraries not designed with OSGi in mind, work in an OSGi container regardless. You may find an already existing wrapper there, or contribute your own.</p>\n<p>As to <code>HibernateSearchContextProviderService</code>, I can only say it's added to Hibernate ORM through <code>org.hibernate.search.mapper.orm.mapping.impl.HibernateSearchContextProviderServiceContributor</code>, which is itself supposed to be picked up by Hibernate ORM through the service loader mechanism (see <a href=\"https://github.com/hibernate/hibernate-search/blob/0c0519a6ab5382b6008fdbb038f4484fd753c1e3/mapper/orm/src/main/resources/META-INF/services\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-search/blob/0c0519a6ab5382b6008fdbb038f4484fd753c1e3/mapper/orm/src/main/resources/META-INF/services</a> ).</p>\n"}],"owner":{"account_id":4458694,"reputation":3,"user_id":3628201,"display_name":"honey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658996630,"creation_date":1658991803,"question_id":73148558,"body_markdown":"I am facing a serious problem with hibernate search context provider. My hibernate-5.6.7-final was working perfectly fine. Now I need to add search feature to my entities. When I deployed it on karaf OSGI. i am getting hibernate HibernateSearchContextProviderService unknown service requested.\r\nMy exception given below:\r\n```\r\n&gt;&gt;&gt;&gt; Unknown service requested [org.hibernate.search.mapper.orm.mapping.impl.HibernateSearchContextProviderService]\r\n\r\n\t\t\t\t\t System Class \t::\torg.hibernate.service.UnknownServiceException\r\n\r\n\t\t\t\t\t Class \t\t::\torg.hibernate.service.internal.AbstractServiceRegistryImpl\r\n\t\t\t\t\t Method \t::\t getService\r\n\t\t\t\t\t Exception \t::\torg.hibernate.service.UnknownServiceExceptionorg.hibernate.service.UnknownServiceException: Unknown service requested [org.hibernate.search.mapper.orm.mapping.impl.HibernateSearchContextProviderService]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n\tat org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.getService(SessionFactoryServiceRegistryImpl.java:101)\r\n\tat org.hibernate.search.mapper.orm.common.impl.HibernateOrmUtils.getServiceOrFail(HibernateOrmUtils.java:132)\r\n\tat org.hibernate.search.mapper.orm.mapping.impl.HibernateSearchContextProviderService.get(HibernateSearchContextProviderService.java:27)\r\n\tat org.hibernate.search.mapper.orm.Search.createSearchSession(Search.java:129)\r\n\tat org.hibernate.search.mapper.orm.Search.session(Search.java:85)\r\n\tat software.SearchManagerImpl.init(SearchManagerImpl.java:176)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.aries.blueprint.utils.ReflectionUtils.invoke(ReflectionUtils.java:337)\r\n\tat org.apache.aries.blueprint.container.BeanRecipe.invoke(BeanRecipe.java:835)\r\n\tat org.apache.aries.blueprint.container.BeanRecipe.runBeanProcInit(BeanRecipe.java:591)\r\n\tat org.apache.aries.blueprint.container.BeanRecipe.internalCreate2(BeanRecipe.java:703)\r\n\tat org.apache.aries.blueprint.container.BeanRecipe.internalCreate(BeanRecipe.java:666)\r\n\tat org.apache.aries.blueprint.di.AbstractRecipe$1.call(AbstractRecipe.java:81)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.aries.blueprint.di.AbstractRecipe.create(AbstractRecipe.java:90)\r\n\tat org.apache.aries.blueprint.container.BlueprintRepository.createInstances(BlueprintRepository.java:360)\r\n\tat org.apache.aries.blueprint.container.BlueprintRepository.createAll(BlueprintRepository.java:190)\r\n\tat org.apache.aries.blueprint.container.BlueprintContainerImpl.instantiateEagerComponents(BlueprintContainerImpl.java:737)\r\n\tat org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:433)\r\n\tat org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:298)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.aries.blueprint.container.ExecutorServiceWrapper.run(ExecutorServiceWrapper.java:106)\r\n\tat org.apache.aries.blueprint.utils.threading.impl.DiscardableRunnable.run(DiscardableRunnable.java:45)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\nOn karaf bundle find class command:\r\nkaraf@root()&gt; bundle:find-class HibernateSearchContextProviderService\r\n```\r\norg.hibernate.search.mapper.orm (235)\r\norg/hibernate/search/mapper/orm/mapping/impl/HibernateSearchContextProviderService.class\r\norg/hibernate/search/mapper/orm/mapping/impl/HibernateSearchContextProviderServiceContributor.class\r\nwrap_file__home_sces117_.m2_repository_org_hibernate_search_hibernate-search-mapper-orm_6.1.4.Final_hibernate-search-mapper-orm-6.1.4.Final.jar (290)\r\norg/hibernate/search/mapper/orm/mapping/impl/HibernateSearchContextProviderService.class\r\norg/hibernate/search/mapper/orm/mapping/impl/HibernateSearchContextProviderServiceContributor.class\r\n```\r\nCan anyone help me what should i need to do?","title":"hibernate search mapper orm issue with HibernateSearchContextProviderService","body":"<p>I am facing a serious problem with hibernate search context provider. My hibernate-5.6.7-final was working perfectly fine. Now I need to add search feature to my entities. When I deployed it on karaf OSGI. i am getting hibernate HibernateSearchContextProviderService unknown service requested.\nMy exception given below:</p>\n<pre><code>&gt;&gt;&gt;&gt; Unknown service requested [org.hibernate.search.mapper.orm.mapping.impl.HibernateSearchContextProviderService]\n\n                     System Class   ::  org.hibernate.service.UnknownServiceException\n\n                     Class      ::  org.hibernate.service.internal.AbstractServiceRegistryImpl\n                     Method     ::   getService\n                     Exception  ::  org.hibernate.service.UnknownServiceExceptionorg.hibernate.service.UnknownServiceException: Unknown service requested [org.hibernate.search.mapper.orm.mapping.impl.HibernateSearchContextProviderService]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.getService(SessionFactoryServiceRegistryImpl.java:101)\n    at org.hibernate.search.mapper.orm.common.impl.HibernateOrmUtils.getServiceOrFail(HibernateOrmUtils.java:132)\n    at org.hibernate.search.mapper.orm.mapping.impl.HibernateSearchContextProviderService.get(HibernateSearchContextProviderService.java:27)\n    at org.hibernate.search.mapper.orm.Search.createSearchSession(Search.java:129)\n    at org.hibernate.search.mapper.orm.Search.session(Search.java:85)\n    at software.SearchManagerImpl.init(SearchManagerImpl.java:176)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.aries.blueprint.utils.ReflectionUtils.invoke(ReflectionUtils.java:337)\n    at org.apache.aries.blueprint.container.BeanRecipe.invoke(BeanRecipe.java:835)\n    at org.apache.aries.blueprint.container.BeanRecipe.runBeanProcInit(BeanRecipe.java:591)\n    at org.apache.aries.blueprint.container.BeanRecipe.internalCreate2(BeanRecipe.java:703)\n    at org.apache.aries.blueprint.container.BeanRecipe.internalCreate(BeanRecipe.java:666)\n    at org.apache.aries.blueprint.di.AbstractRecipe$1.call(AbstractRecipe.java:81)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.aries.blueprint.di.AbstractRecipe.create(AbstractRecipe.java:90)\n    at org.apache.aries.blueprint.container.BlueprintRepository.createInstances(BlueprintRepository.java:360)\n    at org.apache.aries.blueprint.container.BlueprintRepository.createAll(BlueprintRepository.java:190)\n    at org.apache.aries.blueprint.container.BlueprintContainerImpl.instantiateEagerComponents(BlueprintContainerImpl.java:737)\n    at org.apache.aries.blueprint.container.BlueprintContainerImpl.doRun(BlueprintContainerImpl.java:433)\n    at org.apache.aries.blueprint.container.BlueprintContainerImpl.run(BlueprintContainerImpl.java:298)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.aries.blueprint.container.ExecutorServiceWrapper.run(ExecutorServiceWrapper.java:106)\n    at org.apache.aries.blueprint.utils.threading.impl.DiscardableRunnable.run(DiscardableRunnable.java:45)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>On karaf bundle find class command:\nkaraf@root()&gt; bundle:find-class HibernateSearchContextProviderService</p>\n<pre><code>org.hibernate.search.mapper.orm (235)\norg/hibernate/search/mapper/orm/mapping/impl/HibernateSearchContextProviderService.class\norg/hibernate/search/mapper/orm/mapping/impl/HibernateSearchContextProviderServiceContributor.class\nwrap_file__home_sces117_.m2_repository_org_hibernate_search_hibernate-search-mapper-orm_6.1.4.Final_hibernate-search-mapper-orm-6.1.4.Final.jar (290)\norg/hibernate/search/mapper/orm/mapping/impl/HibernateSearchContextProviderService.class\norg/hibernate/search/mapper/orm/mapping/impl/HibernateSearchContextProviderServiceContributor.class\n</code></pre>\n<p>Can anyone help me what should i need to do?</p>\n"},{"tags":["java","hashmap","hash-collision"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658995939,"creation_date":1658995939,"answer_id":73149406,"question_id":73149306,"body_markdown":"Different `HashMap` objects don&#39;t share buckets.\r\n\r\nYour item #2 should be changed to &quot;different map keys *of the same `HashMap`* can end up in the same bucket&quot; and #4 is straight up wrong, as each `HashMap` has its own array of buckets to use that a totally independent of what any other `HashMap` does.","title":"How collision between different HashMap objects is avoided?","body":"<p>Different <code>HashMap</code> objects don't share buckets.</p>\n<p>Your item #2 should be changed to &quot;different map keys <em>of the same <code>HashMap</code></em> can end up in the same bucket&quot; and #4 is straight up wrong, as each <code>HashMap</code> has its own array of buckets to use that a totally independent of what any other <code>HashMap</code> does.</p>\n"}],"owner":{"account_id":25913773,"reputation":9,"user_id":19637456,"display_name":"vidma"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1659000113,"accepted_answer_id":73149406,"answer_count":1,"score":-1,"last_activity_date":1658995939,"creation_date":1658995494,"question_id":73149306,"body_markdown":"I have found that HashMaps calculate hashes for performance optimization. They use hashCode() to [split up Keys into different buckets][1], and equals() for further comparison within those buckets.\r\n\r\nHowever, I could not find an explanation of how collision between different HashMap objects is averted.\r\n\r\nCurrent understanding: \r\n 1. Different objects can have the same hash.\r\n 2. Thus different Map Keys can end up in the same bucket.\r\n 3. Keys of different maps can also have the same hash.\r\n 4. Thus Keys of independent map objects can also end up in the same bucket.\r\n\r\nIf assumptions 3 and 4 are correct, would not it be possible for different HashMaps overwrite each others Values by accident? Or retrieve a Value that belongs to a wrong Map?\r\n\r\nHow is this avoided?\r\n\r\ne.g.\r\n\r\nHashMap&lt;MyKey, Value&gt; map1 = new HashMap&lt;&gt;();\r\n\r\nHashMap&lt;MyKey, Value&gt; map2 = new HashMap&lt;&gt;();\r\n\r\nCan MyKey values of map1 and map2 end up in the same bucket? \r\n\r\nCan map2 instead of its own values start retrieving values of map1?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/6493946#6493946","title":"How collision between different HashMap objects is avoided?","body":"<p>I have found that HashMaps calculate hashes for performance optimization. They use hashCode() to <a href=\"https://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/6493946#6493946\">split up Keys into different buckets</a>, and equals() for further comparison within those buckets.</p>\n<p>However, I could not find an explanation of how collision between different HashMap objects is averted.</p>\n<p>Current understanding:</p>\n<ol>\n<li>Different objects can have the same hash.</li>\n<li>Thus different Map Keys can end up in the same bucket.</li>\n<li>Keys of different maps can also have the same hash.</li>\n<li>Thus Keys of independent map objects can also end up in the same bucket.</li>\n</ol>\n<p>If assumptions 3 and 4 are correct, would not it be possible for different HashMaps overwrite each others Values by accident? Or retrieve a Value that belongs to a wrong Map?</p>\n<p>How is this avoided?</p>\n<p>e.g.</p>\n<p>HashMap&lt;MyKey, Value&gt; map1 = new HashMap&lt;&gt;();</p>\n<p>HashMap&lt;MyKey, Value&gt; map2 = new HashMap&lt;&gt;();</p>\n<p>Can MyKey values of map1 and map2 end up in the same bucket?</p>\n<p>Can map2 instead of its own values start retrieving values of map1?</p>\n"},{"tags":["java","android","flutter","dart","android-intent"],"owner":{"account_id":485067,"reputation":51,"user_id":901149,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1658995679,"creation_date":1658951907,"question_id":73143957,"body_markdown":"I am integrating with an external service that directs me to an intent to open an application. It returns some intents in a normal intent pattern and `Uri.parse` is able to correctly parse and return me the Uri which I can then start the intent.\r\n```\r\nintent:myappscheme://appcard?acctid=6570685061#Intent;package=com.example.appid;end;\r\n```\r\n```import &#39;dart:ui&#39;;\r\n\r\nvoid main() {\r\n  try {\r\n    final url = &#39;intent:myappscheme://appcard?acctid=6570685061#Intent;package=com.example.appid;end;&#39;;\r\n    final uri = Uri.parse(url);\r\n    print(uri);\r\n  } catch (e) {\r\n    print(e);\r\n  }\r\n}\r\n```\r\n```\r\nintent:myappscheme://appcard?acctid=6570685061#Intent;package=com.example.appid;end;\r\n```\r\nThe service also returns this pattern which the dart `Uri.parse` method rejects\r\n```\r\nintent://%7B&quot;CD&quot;:&quot;test&quot;,&quot;TK&quot;:&quot;value&quot;%7D/#Intent;package=com.example.appname;scheme=appname;end\r\n```\r\n```\r\nimport &#39;dart:ui&#39;;\r\n\r\nvoid main() {\r\n  try {\r\n    final url = &#39;intent://%7B&quot;CD&quot;:&quot;test&quot;,&quot;TK&quot;:&quot;value&quot;%7D/#Intent;package=com.example.appname;scheme=appname;end&#39;;\r\n    final uri = Uri.decodeFull(url);\r\n    print(uri);\r\n    final uri1 = Uri.parse(uri);\r\n    print(uri1);\r\n  } catch (e) {\r\n    print(e);\r\n  }\r\n}\r\n```\r\nTesting with and without the decode I get the error:\r\n```\r\nintent://{&quot;CD&quot;:&quot;test&quot;,&quot;TK&quot;:&quot;value&quot;}/#Intent;package=com.example.appname;scheme=appname;end\r\nFormatException: Invalid port (at character 16)\r\nintent://{&quot;CD&quot;:&quot;test&quot;,&quot;TK&quot;:&quot;value&quot;}/#Intent;package=com.example.appname;sch...\r\n               ^\r\n```\r\nAndroid is able to parse this type of intent correctly, but I would like to control this from the Flutter/Dart side:\r\n```\r\nIntent intent = Intent.parseUri(intentUrl, Intent.URI_INTENT_SCHEME)\r\n```\r\n```\r\nIntent { \r\n  act=android.intent.action.VIEW \r\n  dat=appname://{&quot;CD&quot;:&quot;test&quot;,&quot;TK&quot;:&quot;value&quot;}/ \r\n  pkg=com.example.appname\r\n}\r\n```\r\nIs there a similar method or way that I can use `Uri.parse` within Flutter/Dart to handle this style of Intent?","title":"Dart Uri parse fails on intent with data","body":"<p>I am integrating with an external service that directs me to an intent to open an application. It returns some intents in a normal intent pattern and <code>Uri.parse</code> is able to correctly parse and return me the Uri which I can then start the intent.</p>\n<pre><code>intent:myappscheme://appcard?acctid=6570685061#Intent;package=com.example.appid;end;\n</code></pre>\n<pre><code>\nvoid main() {\n  try {\n    final url = 'intent:myappscheme://appcard?acctid=6570685061#Intent;package=com.example.appid;end;';\n    final uri = Uri.parse(url);\n    print(uri);\n  } catch (e) {\n    print(e);\n  }\n}\n</code></pre>\n<pre><code>intent:myappscheme://appcard?acctid=6570685061#Intent;package=com.example.appid;end;\n</code></pre>\n<p>The service also returns this pattern which the dart <code>Uri.parse</code> method rejects</p>\n<pre><code>intent://%7B&quot;CD&quot;:&quot;test&quot;,&quot;TK&quot;:&quot;value&quot;%7D/#Intent;package=com.example.appname;scheme=appname;end\n</code></pre>\n<pre><code>import 'dart:ui';\n\nvoid main() {\n  try {\n    final url = 'intent://%7B&quot;CD&quot;:&quot;test&quot;,&quot;TK&quot;:&quot;value&quot;%7D/#Intent;package=com.example.appname;scheme=appname;end';\n    final uri = Uri.decodeFull(url);\n    print(uri);\n    final uri1 = Uri.parse(uri);\n    print(uri1);\n  } catch (e) {\n    print(e);\n  }\n}\n</code></pre>\n<p>Testing with and without the decode I get the error:</p>\n<pre><code>intent://{&quot;CD&quot;:&quot;test&quot;,&quot;TK&quot;:&quot;value&quot;}/#Intent;package=com.example.appname;scheme=appname;end\nFormatException: Invalid port (at character 16)\nintent://{&quot;CD&quot;:&quot;test&quot;,&quot;TK&quot;:&quot;value&quot;}/#Intent;package=com.example.appname;sch...\n               ^\n</code></pre>\n<p>Android is able to parse this type of intent correctly, but I would like to control this from the Flutter/Dart side:</p>\n<pre><code>Intent intent = Intent.parseUri(intentUrl, Intent.URI_INTENT_SCHEME)\n</code></pre>\n<pre><code>Intent { \n  act=android.intent.action.VIEW \n  dat=appname://{&quot;CD&quot;:&quot;test&quot;,&quot;TK&quot;:&quot;value&quot;}/ \n  pkg=com.example.appname\n}\n</code></pre>\n<p>Is there a similar method or way that I can use <code>Uri.parse</code> within Flutter/Dart to handle this style of Intent?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4126617,"reputation":4151,"user_id":3385595,"accept_rate":83,"display_name":"purring pigeon"},"score":0,"creation_date":1552328024,"post_id":55106621,"comment_id":96958948,"body_markdown":"In Java this is not a compare - if (error = true); rather you can use if(error) if that is a boolean. or == if it&#39;s primitive.  use the .equals() check for Objects","body":"In Java this is not a compare - if (error = true); rather you can use if(error) if that is a boolean. or == if it&#39;s primitive.  use the .equals() check for Objects"},{"owner":{"account_id":15266441,"reputation":11,"user_id":11014938,"display_name":"SVJ99"},"score":0,"creation_date":1552330610,"post_id":55106621,"comment_id":96960102,"body_markdown":"Thanks! it worked I used the == instead and it worked fine.","body":"Thanks! it worked I used the == instead and it worked fine."}],"answers":[{"tags":[],"owner":{"account_id":15266441,"reputation":11,"user_id":11014938,"display_name":"SVJ99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658995095,"creation_date":1658995095,"answer_id":73149222,"question_id":55106621,"body_markdown":"I needed to compare the boolean. To check if the error is true:      \r\n\r\n    if (error){\r\n                log.setText(&quot;Data problems \\n============\\n&quot;);\r\n    \r\n            }","title":"How do I output a message using JFrame depending on whether data is incorrect or correct?","body":"<p>I needed to compare the boolean. To check if the error is true:</p>\n<pre><code>if (error){\n            log.setText(&quot;Data problems \\n============\\n&quot;);\n\n        }\n</code></pre>\n"}],"owner":{"account_id":15266441,"reputation":11,"user_id":11014938,"display_name":"SVJ99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73149222,"answer_count":1,"score":-1,"last_activity_date":1658995095,"creation_date":1552322808,"question_id":55106621,"body_markdown":"I have used a boolean method to decide whether the data is correct or not. For some reason, even when the data is correct or not the data still shows up as incorrect. The boolean is underlined and states that the variable error is never used. When the report button is clicked it should check if the data is correct or not.\r\nIf the data is not correct it should show \r\nData problems \r\n============\r\n    data errors here.\r\n\r\nIf the data is correct it should show \r\nMedical Report\r\n============\r\ndata here. \r\n\r\nhere is my code:\r\n\r\n    if (e.getSource()==reportButton )\r\n        {\r\n            int riskCounter =0;\r\n            boolean error = false;\r\n            \r\n            String convert = ageField.getText();\r\n            \r\n            if (error = true){\r\n                log.setText(&quot;Data problems \\n============\\n&quot;);\r\n                \r\n            }\r\n            else\r\n            {\r\n               log.setText(&quot;Medical Report \\n============\\n&quot;); \r\n            }\r\n            \r\n           try {\r\n              int age = Integer.parseInt(convert);\r\n               if (age &lt; 0 || age &gt; 116)\r\n               {\r\n                   log.append(&quot;Age can only be between 0 and 116!\\n&quot;);\r\n                   error = true;\r\n               }\r\n               else if (age &gt; 70)\r\n               {\r\n                   \r\n                   riskCounter++;\r\n                   error = false;\r\n               }\r\n               else \r\n               {\r\n               error = false;  \r\n               log.append(&quot;Age:  &quot; + age + &quot;\\n&quot;);    \r\n               }\r\n           }\r\n               catch (NumberFormatException r)\r\n                       {\r\n                           \r\n                           log.append(&quot;Integers only for Age!\\n&quot;);\r\n                           error = true;\r\n                       }\r\n         String smoke = smokesField.getText();\r\n         if (smoke.equalsIgnoreCase(&quot;y&quot;)) \r\n         {\r\n             error = false;\r\n             log.append(&quot;Smokes:   &quot;+smoke +&quot;\\n&quot;);\r\n              \r\n            riskCounter++;\r\n         }\r\n         else if (smoke.equalsIgnoreCase(&quot;n&quot;))\r\n         {  \r\n             log.append(&quot;Smokes:   &quot;+smoke +&quot;\\n&quot;);\r\n             error = false; \r\n         }\r\n         else\r\n         {\r\n             \r\n             error = true;\r\n             log.append(&quot;Smokes must be one of &#39;y&#39;, &#39;Y&#39;,&#39;n&#39;,&#39;N&#39;\\n&quot;);\r\n             \r\n         }\r\n         \r\n         \r\n         String overweight = overweightField.getText();\r\n         if (overweight.equalsIgnoreCase(&quot;y&quot;)) \r\n         {\r\n             log.append(overweight +&quot;\\n&quot;);\r\n              error = false;\r\n            riskCounter++;\r\n         }\r\n         else if (overweight.equalsIgnoreCase(&quot;n&quot;))\r\n         {\r\n             error = false;\r\n             log.append(&quot;Overweight:  &quot;+ overweight +&quot;\\n&quot;);\r\n         }\r\n         else\r\n         {\r\n             log.append(&quot;Overweight must be one of &#39;y&#39;, &#39;Y&#39;,&#39;n&#39;,&#39;N&#39;\\n&quot;);\r\n         }\r\n         \r\n         if (riskCounter &lt;=0)\r\n         {\r\n             log.append(&quot;Low Risk&quot;);\r\n         }\r\n         else if (riskCounter &gt;0 &amp;&amp; riskCounter &lt;2) \r\n         {\r\n             log.append(&quot;Medium Risk&quot;);\r\n         }\r\n         else if (riskCounter &gt;=2 &amp;&amp; riskCounter &lt;3)\r\n         {\r\n             log.append(&quot;High Risk&quot;);\r\n         }\r\n         else if (riskCounter &gt;=3)\r\n         {\r\n             log.append(&quot;Very High Risk&quot;); \r\n         }\r\n             \r\n         \r\n         \r\n        }\r\n\r\n","title":"How do I output a message using JFrame depending on whether data is incorrect or correct?","body":"<p>I have used a boolean method to decide whether the data is correct or not. For some reason, even when the data is correct or not the data still shows up as incorrect. The boolean is underlined and states that the variable error is never used. When the report button is clicked it should check if the data is correct or not.\nIf the data is not correct it should show </p>\n\n<h1>Data problems</h1>\n\n<pre><code>data errors here.\n</code></pre>\n\n<p>If the data is correct it should show </p>\n\n<h1>Medical Report</h1>\n\n<p>data here. </p>\n\n<p>here is my code:</p>\n\n<pre><code>if (e.getSource()==reportButton )\n    {\n        int riskCounter =0;\n        boolean error = false;\n\n        String convert = ageField.getText();\n\n        if (error = true){\n            log.setText(\"Data problems \\n============\\n\");\n\n        }\n        else\n        {\n           log.setText(\"Medical Report \\n============\\n\"); \n        }\n\n       try {\n          int age = Integer.parseInt(convert);\n           if (age &lt; 0 || age &gt; 116)\n           {\n               log.append(\"Age can only be between 0 and 116!\\n\");\n               error = true;\n           }\n           else if (age &gt; 70)\n           {\n\n               riskCounter++;\n               error = false;\n           }\n           else \n           {\n           error = false;  \n           log.append(\"Age:  \" + age + \"\\n\");    \n           }\n       }\n           catch (NumberFormatException r)\n                   {\n\n                       log.append(\"Integers only for Age!\\n\");\n                       error = true;\n                   }\n     String smoke = smokesField.getText();\n     if (smoke.equalsIgnoreCase(\"y\")) \n     {\n         error = false;\n         log.append(\"Smokes:   \"+smoke +\"\\n\");\n\n        riskCounter++;\n     }\n     else if (smoke.equalsIgnoreCase(\"n\"))\n     {  \n         log.append(\"Smokes:   \"+smoke +\"\\n\");\n         error = false; \n     }\n     else\n     {\n\n         error = true;\n         log.append(\"Smokes must be one of 'y', 'Y','n','N'\\n\");\n\n     }\n\n\n     String overweight = overweightField.getText();\n     if (overweight.equalsIgnoreCase(\"y\")) \n     {\n         log.append(overweight +\"\\n\");\n          error = false;\n        riskCounter++;\n     }\n     else if (overweight.equalsIgnoreCase(\"n\"))\n     {\n         error = false;\n         log.append(\"Overweight:  \"+ overweight +\"\\n\");\n     }\n     else\n     {\n         log.append(\"Overweight must be one of 'y', 'Y','n','N'\\n\");\n     }\n\n     if (riskCounter &lt;=0)\n     {\n         log.append(\"Low Risk\");\n     }\n     else if (riskCounter &gt;0 &amp;&amp; riskCounter &lt;2) \n     {\n         log.append(\"Medium Risk\");\n     }\n     else if (riskCounter &gt;=2 &amp;&amp; riskCounter &lt;3)\n     {\n         log.append(\"High Risk\");\n     }\n     else if (riskCounter &gt;=3)\n     {\n         log.append(\"Very High Risk\"); \n     }\n\n\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658995057,"creation_date":1658995057,"answer_id":73149208,"question_id":73148404,"body_markdown":"In Elasticsearch cluster you can connect to any node ip and that node will forward the request to other nodes in the Elasticsearch cluster, but this is not a ideal way of connecting to Elasticsearch cluster as that way single node becomes bottleneck and if that nodes goes down you will not be able to connect to Elasticsearch cluster.\r\n\r\nBest is to create a load balancer on top of all your Elasticsearch nodes and connect to your load balancer that will forward request to underlying Elasticsearch nodes.\r\n\r\nIf you can&#39;t create load balancer, instead of single node you can give all nodes ip in your Elasticsearch connection setting to avoid the problem described earlier and also very common as well.\r\n\r\nYou can create a Elasticsearch client by passing multiple Elasticsearch nodes  in the client builder.\r\n\r\n","title":"How to connect to multiple master nodes of elastic search cluster","body":"<p>In Elasticsearch cluster you can connect to any node ip and that node will forward the request to other nodes in the Elasticsearch cluster, but this is not a ideal way of connecting to Elasticsearch cluster as that way single node becomes bottleneck and if that nodes goes down you will not be able to connect to Elasticsearch cluster.</p>\n<p>Best is to create a load balancer on top of all your Elasticsearch nodes and connect to your load balancer that will forward request to underlying Elasticsearch nodes.</p>\n<p>If you can't create load balancer, instead of single node you can give all nodes ip in your Elasticsearch connection setting to avoid the problem described earlier and also very common as well.</p>\n<p>You can create a Elasticsearch client by passing multiple Elasticsearch nodes  in the client builder.</p>\n"}],"owner":{"account_id":25759152,"reputation":67,"user_id":19510367,"display_name":"Kunal Bhangale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1658995057,"creation_date":1658990958,"question_id":73148404,"body_markdown":"I have an elastic search cluster with two master nodes and two data nodes. And I need to connect to an elastic search cluster with two master nodes from spring boot.\r\n\r\nIs anybody knows how to connect the multinode elastic search cluster from spring boot?","title":"How to connect to multiple master nodes of elastic search cluster","body":"<p>I have an elastic search cluster with two master nodes and two data nodes. And I need to connect to an elastic search cluster with two master nodes from spring boot.</p>\n<p>Is anybody knows how to connect the multinode elastic search cluster from spring boot?</p>\n"},{"tags":["java","maven-2","build-process"],"answers":[{"tags":[],"owner":{"account_id":4357,"reputation":96489,"user_id":6508,"accept_rate":71,"display_name":"Jorge Ferreira"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1221562451,"creation_date":1221561943,"answer_id":71132,"question_id":71030,"body_markdown":"I am not sure if you can do it using the command line. You can on the other hand add repositories in the **pom.xml** as in the following example. Using this approach you do not need to change the **~/.m2/settings.xml** file.\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        ...\r\n        &lt;repositories&gt;\r\n        \t\t&lt;repository&gt;\r\n        \t\t\t&lt;id&gt;MavenCentral&lt;/id&gt;\r\n        \t\t\t&lt;name&gt;Maven repository&lt;/name&gt;\r\n        \t\t\t&lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n        \t\t\t&lt;releases&gt;\r\n        \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n        \t\t\t&lt;/releases&gt;\r\n        \t\t\t&lt;snapshots&gt;\r\n        \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n        \t\t\t&lt;/snapshots&gt;\r\n        \t\t&lt;/repository&gt;\r\n    ...\r\n        \t\t&lt;repository&gt;\r\n        \t\t\t&lt;id&gt;Codehaus Snapshots&lt;/id&gt;\r\n        \t\t\t&lt;url&gt;http://snapshots.repository.codehaus.org/&lt;/url&gt;\r\n        \t\t\t&lt;snapshots&gt;\r\n        \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n        \t\t\t&lt;/snapshots&gt;\r\n        \t\t\t&lt;releases&gt;\r\n        \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n        \t\t\t&lt;/releases&gt;\r\n        \t\t&lt;/repository&gt;\r\n        \t&lt;/repositories&gt;\r\n        \r\n        ...\r\n        \r\n        \t&lt;pluginRepositories&gt;\r\n        \t\t&lt;pluginRepository&gt;\r\n        \t\t\t&lt;id&gt;apache.snapshots&lt;/id&gt;\r\n        \t\t\t&lt;name&gt;Apache Snapshot Repository&lt;/name&gt;\r\n        \t\t\t&lt;url&gt;\r\n        \t\t\t\thttp://people.apache.org/repo/m2-snapshot-repository\r\n        \t\t\t&lt;/url&gt;\r\n        \t\t\t&lt;releases&gt;\r\n        \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n        \t\t\t&lt;/releases&gt;\r\n        \t\t&lt;/pluginRepository&gt;\r\n        \t\t&lt;pluginRepository&gt;\r\n        \t\t\t&lt;id&gt;Codehaus Snapshots&lt;/id&gt;\r\n        \t\t\t&lt;url&gt;http://snapshots.repository.codehaus.org/&lt;/url&gt;\r\n        \t\t\t&lt;snapshots&gt;\r\n        \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n        \t\t\t&lt;/snapshots&gt;\r\n        \t\t\t&lt;releases&gt;\r\n        \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n        \t\t\t&lt;/releases&gt;\r\n        \t\t&lt;/pluginRepository&gt;\r\n        \t&lt;/pluginRepositories&gt;\r\n        \r\n        ...\r\n        \r\n        &lt;/project&gt;\r\n\r\n","title":"Can I add maven repositories in the command line?","body":"<p>I am not sure if you can do it using the command line. You can on the other hand add repositories in the <strong>pom.xml</strong> as in the following example. Using this approach you do not need to change the <strong>~/.m2/settings.xml</strong> file.</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    ...\n    &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;MavenCentral&lt;/id&gt;\n                &lt;name&gt;Maven repository&lt;/name&gt;\n                &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n                &lt;releases&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;/releases&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n...\n            &lt;repository&gt;\n                &lt;id&gt;Codehaus Snapshots&lt;/id&gt;\n                &lt;url&gt;http://snapshots.repository.codehaus.org/&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n                &lt;releases&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/releases&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n\n    ...\n\n        &lt;pluginRepositories&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;apache.snapshots&lt;/id&gt;\n                &lt;name&gt;Apache Snapshot Repository&lt;/name&gt;\n                &lt;url&gt;\n                    http://people.apache.org/repo/m2-snapshot-repository\n                &lt;/url&gt;\n                &lt;releases&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/releases&gt;\n            &lt;/pluginRepository&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;Codehaus Snapshots&lt;/id&gt;\n                &lt;url&gt;http://snapshots.repository.codehaus.org/&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n                &lt;releases&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/releases&gt;\n            &lt;/pluginRepository&gt;\n        &lt;/pluginRepositories&gt;\n\n    ...\n\n    &lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4309,"reputation":7967,"user_id":6414,"accept_rate":57,"display_name":"Henry B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221562477,"creation_date":1221562477,"answer_id":71179,"question_id":71030,"body_markdown":"I haven&#39;t really used maven 2 before, our system is still working on maven 1.x because of some issues with maven 2.\r\n\r\nHowever, looking at the documentation for maven 2 it seems that there aren&#39;t any specific System properties like that. However, you could probably build one into your poms/settings using the System properties. See System properties part of this http://maven.apache.org/settings.html\r\n\r\nSo you&#39;d have ${maven.repository} in your settings file and then use the -Dmaven.repository like you do above.\r\n\r\nI am unsure as to if this would work, but with some tweaking I am sure you can come up with something.","title":"Can I add maven repositories in the command line?","body":"<p>I haven't really used maven 2 before, our system is still working on maven 1.x because of some issues with maven 2.</p>\n\n<p>However, looking at the documentation for maven 2 it seems that there aren't any specific System properties like that. However, you could probably build one into your poms/settings using the System properties. See System properties part of this <a href=\"http://maven.apache.org/settings.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/settings.html</a></p>\n\n<p>So you'd have ${maven.repository} in your settings file and then use the -Dmaven.repository like you do above.</p>\n\n<p>I am unsure as to if this would work, but with some tweaking I am sure you can come up with something.</p>\n"},{"tags":[],"owner":{"account_id":9431,"reputation":9825,"user_id":17428,"accept_rate":80,"display_name":"Eduard Wirch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1221763838,"creation_date":1221763526,"answer_id":95559,"question_id":71030,"body_markdown":"As\r\n@Jorge Ferreira\r\nalready said put your repository definitions in the pom.xml. Use [profiles](http://maven.apache.org/pom.html#Profiles) adittionally to select the repository to use via command line:\r\n\r\n\r\n\r\n    mvn deploy -P MyRepo2\r\n\r\n    mvn deploy -P MyRepo1","title":"Can I add maven repositories in the command line?","body":"<p>As\n@Jorge Ferreira\nalready said put your repository definitions in the pom.xml. Use <a href=\"http://maven.apache.org/pom.html#Profiles\" rel=\"nofollow noreferrer\">profiles</a> adittionally to select the repository to use via command line:</p>\n\n<pre><code>mvn deploy -P MyRepo2\n\nmvn deploy -P MyRepo1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9251,"reputation":5673,"user_id":17008,"accept_rate":75,"display_name":"Steve Moyer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221764323,"creation_date":1221764323,"answer_id":95711,"question_id":71030,"body_markdown":"Create a POM that has the repository settings that you want and then use a parent element in your project POMs to inherit the additional repositories.  The use of an &quot;organization&quot; POM has several other benefits when a group of projects belong to one team.","title":"Can I add maven repositories in the command line?","body":"<p>Create a POM that has the repository settings that you want and then use a parent element in your project POMs to inherit the additional repositories.  The use of an \"organization\" POM has several other benefits when a group of projects belong to one team.</p>\n"},{"tags":[],"owner":{"account_id":9774,"reputation":3303,"user_id":18187,"accept_rate":83,"display_name":"ddimitrov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1224938054,"creation_date":1221770783,"answer_id":96765,"question_id":71030,"body_markdown":"One of the goals for Maven&#39;t Project Object Model (POM) is to capture all information needed to reliably reproduce an artifact, thus passing settings impacting the artifact creation is strongly discouraged.\r\n\r\nTo achieve your goal, you can check in your user-level settings.xml file with each project and use the -s (or --settings) option to pass it to the build. ","title":"Can I add maven repositories in the command line?","body":"<p>One of the goals for Maven't Project Object Model (POM) is to capture all information needed to reliably reproduce an artifact, thus passing settings impacting the artifact creation is strongly discouraged.</p>\n\n<p>To achieve your goal, you can check in your user-level settings.xml file with each project and use the -s (or --settings) option to pass it to the build. </p>\n"},{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"down_vote_count":1,"up_vote_count":86,"is_accepted":true,"score":85,"last_activity_date":1473262232,"creation_date":1248782693,"answer_id":1193664,"question_id":71030,"body_markdown":"You can do this but you&#39;re probably better off doing it in the POM as others have said.\r\n\r\nOn the command line you can specify a property for the local repository, and another repository for the remote repositories. The remote repository will have all default settings though\r\n\r\nThe example below specifies two remote repositories and a custom local repository.\r\n\r\n    mvn package -Dmaven.repo.remote=http://www.ibiblio.org/maven/,http://myrepo \r\n      -Dmaven.repo.local=&quot;c:\\test\\repo&quot;","title":"Can I add maven repositories in the command line?","body":"<p>You can do this but you're probably better off doing it in the POM as others have said.</p>\n\n<p>On the command line you can specify a property for the local repository, and another repository for the remote repositories. The remote repository will have all default settings though</p>\n\n<p>The example below specifies two remote repositories and a custom local repository.</p>\n\n<pre><code>mvn package -Dmaven.repo.remote=http://www.ibiblio.org/maven/,http://myrepo \n  -Dmaven.repo.local=\"c:\\test\\repo\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55108,"reputation":49619,"user_id":165009,"accept_rate":100,"display_name":"Kevin Wright"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1262999674,"creation_date":1262999674,"answer_id":2031913,"question_id":71030,"body_markdown":"I&#39;ll assume here that you&#39;re asking this because you occasionally want to add a new 3rd-party repository to your builds.  I may be wrong of course... :)\r\n\r\nYour best bet in this case is to use a managed proxy such as artifactory or nexus.  Then make a one-time change in settings.xml to set this up as a mirror for the world.\r\n\r\nAny 3rd party repos that you need to add from that point on can be handled via the proxy.\r\n\r\n","title":"Can I add maven repositories in the command line?","body":"<p>I'll assume here that you're asking this because you occasionally want to add a new 3rd-party repository to your builds.  I may be wrong of course... :)</p>\n\n<p>Your best bet in this case is to use a managed proxy such as artifactory or nexus.  Then make a one-time change in settings.xml to set this up as a mirror for the world.</p>\n\n<p>Any 3rd party repos that you need to add from that point on can be handled via the proxy.</p>\n"},{"tags":[],"owner":{"account_id":8099215,"reputation":330,"user_id":6102698,"display_name":"YGXXII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658995001,"creation_date":1658993982,"answer_id":73148984,"question_id":71030,"body_markdown":"I am using `xmlstarlet` to achieve this. Tested for Maven 3 on CentOS 7, Maven 2 was not tested yet.\r\n\r\n\r\n```bash\r\nXML_FULLPATH=&quot;$HOME/.m2/settings.xml&quot;\r\nMIRROR_ID=&#39;example&#39;\r\nMIRROR_MIRROROF=&#39;*&#39;\r\nMIRROR_NAME=&#39;Example Mirror&#39;\r\nMIRROR_URL=&#39;http://example.com/maven2&#39;\r\n\r\n\r\n## Preview settings without comment:\r\nxmlstarlet ed -d &#39;//comment()&#39; &quot;$XML_FULLPATH&quot;\r\n\r\n\r\n## Add Mirror settings:\r\nxmlstarlet ed -L \\\r\n    --subnode &quot;/_:settings/_:mirrors&quot; --type elem --name &quot;mirrorTMP&quot; --value &quot;&quot; \\\r\n    --subnode &quot;/_:settings/_:mirrors/mirrorTMP&quot; --type elem --name &quot;id&quot; --value &quot;$MIRROR_ID&quot; \\\r\n    --subnode &quot;/_:settings/_:mirrors/mirrorTMP&quot; --type elem --name &quot;mirrorOf&quot; --value &quot;$MIRROR_MIRROROF&quot; \\\r\n    --subnode &quot;/_:settings/_:mirrors/mirrorTMP&quot; --type elem --name &quot;name&quot; --value &quot;$MIRROR_NAME&quot; \\\r\n    --subnode &quot;/_:settings/_:mirrors/mirrorTMP&quot; --type elem --name &quot;url&quot; --value &quot;$MIRROR_URL&quot; \\\r\n    --rename &quot;/_:settings/_:mirrors/mirrorTMP&quot; --value &quot;mirror&quot; \\\r\n    &quot;$XML_FULLPATH&quot;\r\n\r\n\r\n## Remove Mirror settings by id:\r\nxmlstarlet ed -L \\\r\n    --delete &quot;/_:settings/_:mirrors/_:mirror[_:id=\\&quot;$MIRROR_ID\\&quot;]&quot; \\\r\n    &quot;$XML_FULLPATH&quot;\r\n```\r\n\r\nThe idea is from: [How to insert a new element under another with xmlstarlet?](https://stackoverflow.com/a/9172796/6102698).","title":"Can I add maven repositories in the command line?","body":"<p>I am using <code>xmlstarlet</code> to achieve this. Tested for Maven 3 on CentOS 7, Maven 2 was not tested yet.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>XML_FULLPATH=&quot;$HOME/.m2/settings.xml&quot;\nMIRROR_ID='example'\nMIRROR_MIRROROF='*'\nMIRROR_NAME='Example Mirror'\nMIRROR_URL='http://example.com/maven2'\n\n\n## Preview settings without comment:\nxmlstarlet ed -d '//comment()' &quot;$XML_FULLPATH&quot;\n\n\n## Add Mirror settings:\nxmlstarlet ed -L \\\n    --subnode &quot;/_:settings/_:mirrors&quot; --type elem --name &quot;mirrorTMP&quot; --value &quot;&quot; \\\n    --subnode &quot;/_:settings/_:mirrors/mirrorTMP&quot; --type elem --name &quot;id&quot; --value &quot;$MIRROR_ID&quot; \\\n    --subnode &quot;/_:settings/_:mirrors/mirrorTMP&quot; --type elem --name &quot;mirrorOf&quot; --value &quot;$MIRROR_MIRROROF&quot; \\\n    --subnode &quot;/_:settings/_:mirrors/mirrorTMP&quot; --type elem --name &quot;name&quot; --value &quot;$MIRROR_NAME&quot; \\\n    --subnode &quot;/_:settings/_:mirrors/mirrorTMP&quot; --type elem --name &quot;url&quot; --value &quot;$MIRROR_URL&quot; \\\n    --rename &quot;/_:settings/_:mirrors/mirrorTMP&quot; --value &quot;mirror&quot; \\\n    &quot;$XML_FULLPATH&quot;\n\n\n## Remove Mirror settings by id:\nxmlstarlet ed -L \\\n    --delete &quot;/_:settings/_:mirrors/_:mirror[_:id=\\&quot;$MIRROR_ID\\&quot;]&quot; \\\n    &quot;$XML_FULLPATH&quot;\n</code></pre>\n<p>The idea is from: <a href=\"https://stackoverflow.com/a/9172796/6102698\">How to insert a new element under another with xmlstarlet?</a>.</p>\n"}],"owner":{"account_id":850,"reputation":5485,"user_id":1113,"accept_rate":57,"display_name":"Sindri Traustason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89202,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":1193664,"answer_count":8,"score":75,"last_activity_date":1658995001,"creation_date":1221560917,"question_id":71030,"body_markdown":"I&#39;m aware I can add maven repositories for fetching dependencies in ~/.m2/settings.xml. But is it possible to add a repository using command line, something like:\r\n\r\n    mvn install -Dmaven.repository=http://example.com/maven2\r\n\r\nThe reason I want to do this is because I&#39;m using a continuous integration tool where I have full control over the command line options it uses to call maven, but managing the settings.xml for the user that runs the integration tool is a bit of a hassle.","title":"Can I add maven repositories in the command line?","body":"<p>I'm aware I can add maven repositories for fetching dependencies in ~/.m2/settings.xml. But is it possible to add a repository using command line, something like:</p>\n\n<pre><code>mvn install -Dmaven.repository=http://example.com/maven2\n</code></pre>\n\n<p>The reason I want to do this is because I'm using a continuous integration tool where I have full control over the command line options it uses to call maven, but managing the settings.xml for the user that runs the integration tool is a bit of a hassle.</p>\n"},{"tags":["java","regex","pcre"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1658322293,"post_id":73052158,"comment_id":129022555,"body_markdown":"Java regex is based on the ICU regex library, not PCRE. Where are you using the regex? How? Maybe all you need is `^(?!.*not this).*(take that)`? See `^(?!.*(?:\\bId=&amp;quot;\\d+&amp;quot\\b|\\b4[78][0-9]{14}\\b)).*?(\\bhello\\b|\\b49[0-9]{14}\\b)` at https://regex101.com/r/iqbHPs/2","body":"Java regex is based on the ICU regex library, not PCRE. Where are you using the regex? How? Maybe all you need is <code>^(?!.*not this).*(take that)</code>? See <code>^(?!.*(?:\\bId=&amp;quot;\\d+&amp;quot\\b|\\b4[78][0-9]{14}\\b)).*?(\\bhel&zwnj;&#8203;lo\\b|\\b49[0-9]{14}\\b&zwnj;&#8203;)</code> at <a href=\"https://regex101.com/r/iqbHPs/2\" rel=\"nofollow noreferrer\">regex101.com/r/iqbHPs/2</a>"},{"owner":{"account_id":10626926,"reputation":187,"user_id":8257707,"display_name":"pikaraider"},"score":0,"creation_date":1658323129,"post_id":73052158,"comment_id":129023008,"body_markdown":"@WiktorStribiżew Can I use \\B instead of \\b in the exclusion patterns list to achieve my objective? This is just a sample regex. I&#39;m using it to match sensitive data like credit card #s and exclude them from getting matched when they occur in patterns like Id=&amp;quot;\\d+&amp;quot . Also, the relevant data can occur anywhere in the line. eg - https://regex101.com/r/7cwHKD/1 . here, it should not match *abc* on line 4.","body":"@WiktorStribiżew Can I use \\B instead of \\b in the exclusion patterns list to achieve my objective? This is just a sample regex. I&#39;m using it to match sensitive data like credit card #s and exclude them from getting matched when they occur in patterns like Id=&amp;quot;\\d+&amp;quot . Also, the relevant data can occur anywhere in the line. eg - <a href=\"https://regex101.com/r/7cwHKD/1\" rel=\"nofollow noreferrer\">regex101.com/r/7cwHKD/1</a> . here, it should not match <i>abc</i> on line 4."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1658323223,"post_id":73052158,"comment_id":129023057,"body_markdown":"`\\B` has nothing to do with your question. If all you need is a single match when a string has no specific pattern in it, the solution above is what you need.","body":"<code>\\B</code> has nothing to do with your question. If all you need is a single match when a string has no specific pattern in it, the solution above is what you need."},{"owner":{"account_id":10626926,"reputation":187,"user_id":8257707,"display_name":"pikaraider"},"score":0,"creation_date":1658323548,"post_id":73052158,"comment_id":129023198,"body_markdown":"What about regex101.com/r/7cwHKD/1 . Here, it should not match abc on line 4.","body":"What about regex101.com/r/7cwHKD/1 . Here, it should not match abc on line 4."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1658323606,"post_id":73052158,"comment_id":129023222,"body_markdown":"You do not have to care what is matched, `abc` is not captured. You can always access the captured group in code. What is your code?","body":"You do not have to care what is matched, <code>abc</code> is not captured. You can always access the captured group in code. What is your code?"},{"owner":{"account_id":10626926,"reputation":187,"user_id":8257707,"display_name":"pikaraider"},"score":0,"creation_date":1658391332,"post_id":73052158,"comment_id":129041025,"body_markdown":"@WiktorStribiżew instead of accessing the captured group in code, is there a way to modify the regex such that i get only the number as an exact match on line 4 at regex101.com/r/7cwHKD/1 ?","body":"@WiktorStribiżew instead of accessing the captured group in code, is there a way to modify the regex such that i get only the number as an exact match on line 4 at regex101.com/r/7cwHKD/1 ?"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1658391674,"post_id":73052158,"comment_id":129041147,"body_markdown":"Not the way you plan. https://regex101.com/r/7cwHKD/2","body":"Not the way you plan. <a href=\"https://regex101.com/r/7cwHKD/2\" rel=\"nofollow noreferrer\">regex101.com/r/7cwHKD/2</a>"},{"owner":{"account_id":10626926,"reputation":187,"user_id":8257707,"display_name":"pikaraider"},"score":0,"creation_date":1658393706,"post_id":73052158,"comment_id":129041885,"body_markdown":"Thanks! I&#39;m trying to exclude any digit number within \\bId=&amp;quot;\\d+&amp;quot\\b . You put a 16 digit number from getting matched in *(?!(?&lt;=\\bId=&amp;quot;\\d{16})&amp;quot\\b)* since I had one 16 digit inclusion pattern. When I try to use a quantifier {12,19} (since cc #s can be b/w 12 and 19 digits), i get an error - *A quantifier inside a lookbehind makes it non-fixed width*. How can I place a range of digits in *(?!(?&lt;=\\bId=&amp;quot;\\d{16})&amp;quot\\b)* . Hope I was clear in my explanation.","body":"Thanks! I&#39;m trying to exclude any digit number within \\bId=&amp;quot;\\d+&amp;quot\\b . You put a 16 digit number from getting matched in <i>(?!(?&lt;=\\bId=&amp;quot;\\d{16})&amp;quot\\b)</i> since I had one 16 digit inclusion pattern. When I try to use a quantifier {12,19} (since cc #s can be b/w 12 and 19 digits), i get an error - <i>A quantifier inside a lookbehind makes it non-fixed width</i>. How can I place a range of digits in <i>(?!(?&lt;=\\bId=&amp;quot;\\d{16})&amp;quot\\b)</i> . Hope I was clear in my explanation."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1658394514,"post_id":73052158,"comment_id":129042193,"body_markdown":"No, it is fine in Java, see https://regex101.com/r/7cwHKD/3. Just always use the right regex engine option when testing regexps.","body":"No, it is fine in Java, see <a href=\"https://regex101.com/r/7cwHKD/3\" rel=\"nofollow noreferrer\">regex101.com/r/7cwHKD/3</a>. Just always use the right regex engine option when testing regexps."},{"owner":{"account_id":10626926,"reputation":187,"user_id":8257707,"display_name":"pikaraider"},"score":0,"creation_date":1658871248,"post_id":73052158,"comment_id":129158783,"body_markdown":"@WiktorStribiżew I have this regex *&lt;[id]val&gt;-?[0-9]+\\.([0-9]+)?&lt;/[id]val&gt;* . Dont want to match any of the numbers in this. How can I go about doing it in the context of excluding the pattern from getting matched? I came up with https://regex101.com/r/aicSoc/1 and it matches the numbers after . which I dont want. Please help.","body":"@WiktorStribiżew I have this regex <i>&lt;[id]val&gt;-?[0-9]+\\.([0-9]+)?&lt;/[id]val&gt;</i> . Dont want to match any of the numbers in this. How can I go about doing it in the context of excluding the pattern from getting matched? I came up with <a href=\"https://regex101.com/r/aicSoc/1\" rel=\"nofollow noreferrer\">regex101.com/r/aicSoc/1</a> and it matches the numbers after . which I dont want. Please help."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658994931,"creation_date":1658994931,"answer_id":73149178,"question_id":73052158,"body_markdown":"You can use\r\n```none\r\n(?&lt;=&lt;[id]val&gt;-?[0-9]{12,19})\\.(?=[0-9]{0,19}&lt;/[id]val&gt;)\r\n```\r\nSee the [regex demo][1].\r\n\r\n - `(?&lt;=&lt;[id]val&gt;-?[0-9]{12,19})` - a positive lookbehind that matches a location that is immediately preceded with `&lt;`, `i` or `d`, `val&gt;`, and optional `-`, and then 12 to 19 digits\r\n - `\\.` - a dot\r\n - `(?=[0-9]{0,19}&lt;/[id]val&gt;)` - a positive lookahead that matches a location that is immediately followed with\r\n   - `[0-9]{0,19}` - zero to 19 digits\r\n    - `&lt;/[id]val&gt;` - `&lt;/`, `i` or `d` and then `val`.\r\n\r\n  [1]: https://regex101.com/r/nAwHU7/1\r\n","title":"Exclude matches using regex pattern","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?&lt;=&lt;[id]val&gt;-?[0-9]{12,19})\\.(?=[0-9]{0,19}&lt;/[id]val&gt;)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/nAwHU7/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<ul>\n<li><code>(?&lt;=&lt;[id]val&gt;-?[0-9]{12,19})</code> - a positive lookbehind that matches a location that is immediately preceded with <code>&lt;</code>, <code>i</code> or <code>d</code>, <code>val&gt;</code>, and optional <code>-</code>, and then 12 to 19 digits</li>\n<li><code>\\.</code> - a dot</li>\n<li><code>(?=[0-9]{0,19}&lt;/[id]val&gt;)</code> - a positive lookahead that matches a location that is immediately followed with\n<ul>\n<li><code>[0-9]{0,19}</code> - zero to 19 digits</li>\n<li><code>&lt;/[id]val&gt;</code> - <code>&lt;/</code>, <code>i</code> or <code>d</code> and then <code>val</code>.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":10626926,"reputation":187,"user_id":8257707,"display_name":"pikaraider"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1658994931,"creation_date":1658322239,"question_id":73052158,"body_markdown":"I have a few strings that have to be excluded from getting matched.\r\n\r\nFor example, a sample regex is\r\n\r\n    (?!(\\bId=&amp;quot;\\d+&amp;quot\\b|\\b4[78][0-9]{14}\\b))(\\bhello\\b|\\b49[0-9]{14}\\b)\r\n\r\nI&#39;m using `(?!exclusion patterns)(inclusion patterns)` to recreate the exclusion of matches. In this, exclusion patterns are\r\n\r\n    (\\bId=&amp;quot;\\d+&amp;quot\\b|\\b4[78][0-9]{14}\\b) \r\n\r\nAnd inclusion patterns are\r\n\r\n    (\\bhello\\b|\\b49[0-9]{14}\\b)\r\n\r\nHowever, it is showing a match on line 1 at https://regex101.com/r/iqbHPs/1 . I only expect a single match on line 4. \r\n\r\nWhy is it so?","title":"Exclude matches using regex pattern","body":"<p>I have a few strings that have to be excluded from getting matched.</p>\n<p>For example, a sample regex is</p>\n<pre><code>(?!(\\bId=&amp;quot;\\d+&amp;quot\\b|\\b4[78][0-9]{14}\\b))(\\bhello\\b|\\b49[0-9]{14}\\b)\n</code></pre>\n<p>I'm using <code>(?!exclusion patterns)(inclusion patterns)</code> to recreate the exclusion of matches. In this, exclusion patterns are</p>\n<pre><code>(\\bId=&amp;quot;\\d+&amp;quot\\b|\\b4[78][0-9]{14}\\b) \n</code></pre>\n<p>And inclusion patterns are</p>\n<pre><code>(\\bhello\\b|\\b49[0-9]{14}\\b)\n</code></pre>\n<p>However, it is showing a match on line 1 at <a href=\"https://regex101.com/r/iqbHPs/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/iqbHPs/1</a> . I only expect a single match on line 4.</p>\n<p>Why is it so?</p>\n"},{"tags":["java","android","android-studio","zxing"],"comments":[{"owner":{"account_id":5910769,"reputation":1788,"user_id":4651112,"display_name":"nuuneoi"},"score":0,"creation_date":1459864135,"post_id":36428241,"comment_id":60470828,"body_markdown":"Did you appear to be in Offline Mode?","body":"Did you appear to be in Offline Mode?"},{"owner":{"account_id":4098292,"reputation":237,"user_id":3364482,"accept_rate":37,"display_name":"MikeS"},"score":0,"creation_date":1459864602,"post_id":36428241,"comment_id":60471256,"body_markdown":"No, Offline Mode is not ticked. I&#39;m behind a proxy but Check Connection returns successful (In settings).","body":"No, Offline Mode is not ticked. I&#39;m behind a proxy but Check Connection returns successful (In settings)."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1459865453,"post_id":36428241,"comment_id":60471953,"body_markdown":"I made a commit to this project that works fine, and here is the Gradle file. https://github.com/xuxingliu922/DeviceSDK/blob/master/SmartDeviceSDK/build.gradle","body":"I made a commit to this project that works fine, and here is the Gradle file. <a href=\"https://github.com/xuxingliu922/DeviceSDK/blob/master/SmartDeviceSDK/build.gradle\" rel=\"nofollow noreferrer\">github.com/xuxingliu922/DeviceSDK/blob/master/SmartDeviceSDK&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":4098292,"reputation":237,"user_id":3364482,"accept_rate":37,"display_name":"MikeS"},"score":0,"creation_date":1459866899,"post_id":36428241,"comment_id":60473158,"body_markdown":"Thanks for that, I notice my BuildTools isn&#39;t &#39;x.x.2&#39; like yours is or the one on the github&#39;s project page. Going to upgrade now and see if that works.","body":"Thanks for that, I notice my BuildTools isn&#39;t &#39;x.x.2&#39; like yours is or the one on the github&#39;s project page. Going to upgrade now and see if that works."},{"owner":{"account_id":4098292,"reputation":237,"user_id":3364482,"accept_rate":37,"display_name":"MikeS"},"score":0,"creation_date":1459869543,"post_id":36428241,"comment_id":60475239,"body_markdown":"Upgraded buildToolsVersion &quot;23.0.3&quot; but still no avail :(","body":"Upgraded buildToolsVersion &quot;23.0.3&quot; but still no avail :("}],"answers":[{"tags":[],"owner":{"account_id":2827397,"reputation":3965,"user_id":2429753,"display_name":"Tom Sabel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459865186,"creation_date":1459865186,"answer_id":36428717,"question_id":36428241,"body_markdown":"Try this, this is the most recent version from git:\r\n\r\n    dependencies {\r\n        compile &#39;com.journeyapps:zxing-android-embedded:3.2.0@aar&#39;\r\n        compile &#39;com.google.zxing:core:3.2.1&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.1.0&#39;   // Version 23+ is required\r\n    }\r\n\r\n    android {\r\n        buildToolsVersion &#39;23.0.2&#39; // Older versions may give compile errors\r\n    }","title":"Adding Dependency ZXing android embedded","body":"<p>Try this, this is the most recent version from git:</p>\n\n<pre><code>dependencies {\n    compile 'com.journeyapps:zxing-android-embedded:3.2.0@aar'\n    compile 'com.google.zxing:core:3.2.1'\n    compile 'com.android.support:appcompat-v7:23.1.0'   // Version 23+ is required\n}\n\nandroid {\n    buildToolsVersion '23.0.2' // Older versions may give compile errors\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6499362,"reputation":512,"user_id":5030761,"accept_rate":83,"display_name":"klapeyron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460442447,"creation_date":1460442447,"answer_id":36565131,"question_id":36428241,"body_markdown":"There is my gradle file:\r\n\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.2&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;space.klapeyron.testqr&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 23\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.1.1&#39;\r\n    \r\n        //added by Klapeyron start\r\n        compile &#39;com.journeyapps:zxing-android-embedded:3.2.0@aar&#39;\r\n        compile &#39;com.google.zxing:core:3.2.1&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.1.0&#39;   // Version 23+ is required\r\n        //added by Klapeyron end\r\n    }\r\n    \r\n    //added by Klapeyron start\r\n    repositories {\r\n        jcenter()\r\n    }\r\n    //added by Klapeyron end","title":"Adding Dependency ZXing android embedded","body":"<p>There is my gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.2\"\n\n    defaultConfig {\n        applicationId \"space.klapeyron.testqr\"\n        minSdkVersion 15\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:23.1.1'\n\n    //added by Klapeyron start\n    compile 'com.journeyapps:zxing-android-embedded:3.2.0@aar'\n    compile 'com.google.zxing:core:3.2.1'\n    compile 'com.android.support:appcompat-v7:23.1.0'   // Version 23+ is required\n    //added by Klapeyron end\n}\n\n//added by Klapeyron start\nrepositories {\n    jcenter()\n}\n//added by Klapeyron end\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3321808,"reputation":912,"user_id":2792809,"display_name":"Gomez NL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535154328,"creation_date":1535147920,"answer_id":52012200,"question_id":36428241,"body_markdown":"In my case, I had to Upgrade my gradle to 3.4 and use implementation instead of compile: \r\n    \r\n    dependencies {\r\n       implementation &#39;com.journeyapps:zxing-android-embedded:3.0.2@aar&#39;\r\n       implementation &#39;com.google.zxing:core:3.2.0&#39;\r\n       //...\r\n    }\r\n\r\nYou might also need to clear the cache and restart if it still doesn&#39;t work. ","title":"Adding Dependency ZXing android embedded","body":"<p>In my case, I had to Upgrade my gradle to 3.4 and use implementation instead of compile: </p>\n\n<pre><code>dependencies {\n   implementation 'com.journeyapps:zxing-android-embedded:3.0.2@aar'\n   implementation 'com.google.zxing:core:3.2.0'\n   //...\n}\n</code></pre>\n\n<p>You might also need to clear the cache and restart if it still doesn't work. </p>\n"},{"tags":[],"owner":{"account_id":16166370,"reputation":83,"user_id":11671265,"display_name":"savera sleemy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574228579,"creation_date":1574228579,"answer_id":58947467,"question_id":36428241,"body_markdown":"In build.gradle (:app) add:\r\n```implementation &#39;com.journeyapps:zxing-android-embedded:4.0.0&#39;```\r\n```implementation &#39;com.google.zxing:core:3.4.0&#39;``` It works for me. Maybe it&#39;ll help somebody who get this error in 2019 :)","title":"Adding Dependency ZXing android embedded","body":"<p>In build.gradle (:app) add:\n<code>implementation 'com.journeyapps:zxing-android-embedded:4.0.0'</code>\n<code>implementation 'com.google.zxing:core:3.4.0'</code> It works for me. Maybe it'll help somebody who get this error in 2019 :)</p>\n"},{"tags":[],"owner":{"account_id":8887721,"reputation":7,"user_id":6635474,"display_name":"Antoine Luckenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580828858,"creation_date":1580828858,"answer_id":60060223,"question_id":36428241,"body_markdown":"This is how I have imported it : \r\n\r\n\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:3.2.0@aar&#39;\r\n    implementation &#39;com.google.zxing:core:3.2.1&#39;\r\n","title":"Adding Dependency ZXing android embedded","body":"<p>This is how I have imported it : </p>\n\n<pre><code>implementation 'com.journeyapps:zxing-android-embedded:3.2.0@aar'\nimplementation 'com.google.zxing:core:3.2.1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13243059,"reputation":21,"user_id":9562958,"display_name":"COANS International"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621224380,"creation_date":1621224380,"answer_id":67563871,"question_id":36428241,"body_markdown":"The latest version for 24+ is\r\n\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:4.2.0&#39;","title":"Adding Dependency ZXing android embedded","body":"<p>The latest version for 24+ is</p>\n<pre><code>implementation 'com.journeyapps:zxing-android-embedded:4.2.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17105196,"reputation":1,"user_id":12377369,"display_name":"Joanne Dela Cruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645089441,"creation_date":1645089441,"answer_id":71155307,"question_id":36428241,"body_markdown":"for the latest version i replaced\r\n\r\n    implementation &quot;com.journeyapps:zxing-android-3.4.0&quot;\r\n\r\nwith:\r\n\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:3.5.0&#39;\r\n\r\nand it worked for me","title":"Adding Dependency ZXing android embedded","body":"<p>for the latest version i replaced</p>\n<pre><code>implementation &quot;com.journeyapps:zxing-android-3.4.0&quot;\n</code></pre>\n<p>with:</p>\n<pre><code>implementation 'com.journeyapps:zxing-android-embedded:3.5.0'\n</code></pre>\n<p>and it worked for me</p>\n"}],"owner":{"account_id":4098292,"reputation":237,"user_id":3364482,"accept_rate":37,"display_name":"MikeS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13099,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":7,"score":2,"last_activity_date":1658994671,"creation_date":1459863999,"question_id":36428241,"body_markdown":"I&#39;ve started a new project in Android Studio and I want to import the zxing-android-embedded to allow to me create a simple barcode scanner within my application.\r\n[Found here on github][1]\r\n\r\nFollowing instruction on there and also on different sources like this SO answer:\r\nhttps://stackoverflow.com/a/23788163/3364482\r\n\r\nHowever I have added the compile optins to my `build.gradle` but I&#39;m getting the &quot;Failed to resolve&quot; errors:\r\n\r\n&gt; Failed to resolve: com.google.zxing:core:3.2.0  \r\n&gt; Failed to resolve: com.journeyapps:zxing-android-embedded:2.3.0  \r\n&gt; Failed to resolve: com.journeyapps:zxing-android-integration:2.3.0\r\n\r\nBut as far as I&#39;m aware my buid.gradle is as instructed:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.1&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.myapps.practice.helloworld&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 23\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n    repositories {\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        compile &#39;com.journeyapps:zxing-android-embedded:2.3.0@aar&#39;\r\n        compile &#39;com.journeyapps:zxing-android-integration:2.3.0@aar&#39;\r\n        compile &#39;com.google.zxing:core:3.2.0&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.1.1&#39;\r\n        compile &#39;com.android.support:design:23.1.1&#39;\r\n    }\r\n\r\n\r\nEDIT: I&#39;m not in Offline Mode.\r\n  [1]: https://github.com/journeyapps/zxing-android-embedded\r\n\r\n","title":"Adding Dependency ZXing android embedded","body":"<p>I've started a new project in Android Studio and I want to import the zxing-android-embedded to allow to me create a simple barcode scanner within my application.\n<a href=\"https://github.com/journeyapps/zxing-android-embedded\" rel=\"nofollow noreferrer\">Found here on github</a></p>\n\n<p>Following instruction on there and also on different sources like this SO answer:\n<a href=\"https://stackoverflow.com/a/23788163/3364482\">https://stackoverflow.com/a/23788163/3364482</a></p>\n\n<p>However I have added the compile optins to my <code>build.gradle</code> but I'm getting the \"Failed to resolve\" errors:</p>\n\n<blockquote>\n  <p>Failed to resolve: com.google.zxing:core:3.2.0<br>\n  Failed to resolve: com.journeyapps:zxing-android-embedded:2.3.0<br>\n  Failed to resolve: com.journeyapps:zxing-android-integration:2.3.0</p>\n</blockquote>\n\n<p>But as far as I'm aware my buid.gradle is as instructed:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.1\"\n\ndefaultConfig {\n    applicationId \"com.myapps.practice.helloworld\"\n    minSdkVersion 19\n    targetSdkVersion 23\n    versionCode 1\n    versionName \"1.0\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\nrepositories {\n    jcenter()\n}\ndependencies {\n    compile 'com.journeyapps:zxing-android-embedded:2.3.0@aar'\n    compile 'com.journeyapps:zxing-android-integration:2.3.0@aar'\n    compile 'com.google.zxing:core:3.2.0'\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile 'com.android.support:design:23.1.1'\n}\n</code></pre>\n\n<p>EDIT: I'm not in Offline Mode.</p>\n"},{"tags":["java","spring","database-connection","profiling","hikaricp"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1658949344,"post_id":73143132,"comment_id":129182061,"body_markdown":"&quot;thread A at the moment has 3 open connections&quot;, do you mean you want to track connection leaks, or is there another reason why there would be more than at most one connection at use per time per thread? Also, do the existing solutions (which you&#39;ve found on Google) not suit your needs?","body":"&quot;thread A at the moment has 3 open connections&quot;, do you mean you want to track connection leaks, or is there another reason why there would be more than at most one connection at use per time per thread? Also, do the existing solutions (which you&#39;ve found on Google) not suit your needs?"},{"owner":{"account_id":1873750,"reputation":2191,"user_id":1695427,"accept_rate":83,"display_name":"Majid Abdolhosseini"},"score":0,"creation_date":1658950015,"post_id":73143132,"comment_id":129182286,"body_markdown":"Actually I&#39;m having a connection being open for ever without any logs and output, I&#39;m wondering whether there is any other connection which is locking a table and that&#39;s the reason my query never gets executed and it&#39;s stuck for ever.","body":"Actually I&#39;m having a connection being open for ever without any logs and output, I&#39;m wondering whether there is any other connection which is locking a table and that&#39;s the reason my query never gets executed and it&#39;s stuck for ever."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1658950808,"post_id":73143132,"comment_id":129182509,"body_markdown":"Check locks, queries and connections from the database side if HikariCP&#39;s logging isn&#39;t enough.","body":"Check locks, queries and connections from the database side if HikariCP&#39;s logging isn&#39;t enough."}],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658994625,"creation_date":1658994625,"answer_id":73149113,"question_id":73143132,"body_markdown":"When you work with a connection pool like HikariCP, there are physical and virtual database connections. The connection pool opens the physical connections as required and hands out virtual connections that are wrappers to the physical connections. Virtual connections should be used for a short time only and closing them returns the physical connection to the pool.\r\n\r\nIn that sense each thread should never block more than one virtual connection. To find cases where a thread does not return a virtual connection, you can use the JDBC connection leak detection in [JProfiler][1]. It will show you virtual connections that have been open for a long time and are candidates for connection leaks. If you record CPU data, you can also see the stack trace where each such connection was requested by the thread.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nTo analyze connection usage in detail, the &quot;Events&quot; view of the JDBC probe can show you all executed statements but also which threads open and close physical database connections together with timestamps.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nDisclaimer: My company develops JProfiler\r\n\r\n\r\n  [1]: https://www.ej-technologies.com/products/jprofiler/overview.html\r\n  [2]: https://i.stack.imgur.com/iRQ3O.png\r\n  [3]: https://i.stack.imgur.com/eMF3T.png","title":"Spring more debugging insights for threads and database connections","body":"<p>When you work with a connection pool like HikariCP, there are physical and virtual database connections. The connection pool opens the physical connections as required and hands out virtual connections that are wrappers to the physical connections. Virtual connections should be used for a short time only and closing them returns the physical connection to the pool.</p>\n<p>In that sense each thread should never block more than one virtual connection. To find cases where a thread does not return a virtual connection, you can use the JDBC connection leak detection in <a href=\"https://www.ej-technologies.com/products/jprofiler/overview.html\" rel=\"nofollow noreferrer\">JProfiler</a>. It will show you virtual connections that have been open for a long time and are candidates for connection leaks. If you record CPU data, you can also see the stack trace where each such connection was requested by the thread.</p>\n<p><a href=\"https://i.stack.imgur.com/iRQ3O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iRQ3O.png\" alt=\"enter image description here\" /></a></p>\n<p>To analyze connection usage in detail, the &quot;Events&quot; view of the JDBC probe can show you all executed statements but also which threads open and close physical database connections together with timestamps.</p>\n<p><a href=\"https://i.stack.imgur.com/eMF3T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eMF3T.png\" alt=\"enter image description here\" /></a></p>\n<p>Disclaimer: My company develops JProfiler</p>\n"}],"owner":{"account_id":1873750,"reputation":2191,"user_id":1695427,"accept_rate":83,"display_name":"Majid Abdolhosseini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73149113,"answer_count":1,"score":2,"last_activity_date":1658994625,"creation_date":1658947411,"question_id":73143132,"body_markdown":"Using Java spring 2.5 (Tomcat container) and HikariCP and connection pooling system, How can I know at each moment how many Java threads are working and each thread has how many database connection ?\r\nAnd if possible I would like to have log for each thread and database connection separately. Like seeing for example thread A at the moment has 3 open connections to the database and these are queries being executed from each of those connections.","title":"Spring more debugging insights for threads and database connections","body":"<p>Using Java spring 2.5 (Tomcat container) and HikariCP and connection pooling system, How can I know at each moment how many Java threads are working and each thread has how many database connection ?\nAnd if possible I would like to have log for each thread and database connection separately. Like seeing for example thread A at the moment has 3 open connections to the database and these are queries being executed from each of those connections.</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1658755585,"post_id":73109880,"comment_id":129123204,"body_markdown":"At a glance, the mysql connector docs don&#39;t show any configs that describe what you want https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html. You would have to write code to do this yourself.","body":"At a glance, the mysql connector docs don&#39;t show any configs that describe what you want <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>. You would have to write code to do this yourself."},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1658759447,"post_id":73109880,"comment_id":129124948,"body_markdown":"You could try auto-registering an `AttributeConverter&lt;String, String&gt;` with `convertToDatabaseColumn(String)` implemented so that the input gets converted as needed, see https://vladmihalcea.com/jpa-attributeconverter/. Not tested, not sure whether it could work, but worth a shot I guess...","body":"You could try auto-registering an <code>AttributeConverter&lt;String, String&gt;</code> with <code>convertToDatabaseColumn(String)</code> implemented so that the input gets converted as needed, see <a href=\"https://vladmihalcea.com/jpa-attributeconverter/\" rel=\"nofollow noreferrer\">vladmihalcea.com/jpa-attributeconverter</a>. Not tested, not sure whether it could work, but worth a shot I guess..."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1658812742,"post_id":73109880,"comment_id":129137816,"body_markdown":"See &quot;truncated&quot; and &quot;question mark&quot; in https://stackoverflow.com/questions/38363566/trouble-with-utf8-characters-what-i-see-is-not-what-i-stored","body":"See &quot;truncated&quot; and &quot;question mark&quot; in <a href=\"https://stackoverflow.com/questions/38363566/trouble-with-utf8-characters-what-i-see-is-not-what-i-stored\" title=\"trouble with utf8 characters what i see is not what i stored\">stackoverflow.com/questions/38363566/&hellip;</a>"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1658812841,"post_id":73109880,"comment_id":129137834,"body_markdown":"Is the goal to delete any non-ascii characters?  That might result in an empty string.","body":"Is the goal to delete any non-ascii characters?  That might result in an empty string."},{"owner":{"account_id":1147494,"reputation":11,"user_id":1129929,"display_name":"Fasty"},"score":1,"creation_date":1658841780,"post_id":73109880,"comment_id":129148206,"body_markdown":"I was able to fix it. In case someone else encounters the problem, using &quot;latin1&quot; collation:\nThe MySQL drivers 8.0.29 no longer determines the character encoding by the default charset of the MySQL server, rather using &quot;utf8mb4&quot; by default.\nAdding &quot;&amp;characterEncoding=latin1&quot; to the jdbc url fixed the problem!","body":"I was able to fix it. In case someone else encounters the problem, using &quot;latin1&quot; collation: The MySQL drivers 8.0.29 no longer determines the character encoding by the default charset of the MySQL server, rather using &quot;utf8mb4&quot; by default. Adding &quot;&amp;characterEncoding=latin1&quot; to the jdbc url fixed the problem!"},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1658917481,"post_id":73109880,"comment_id":129169230,"body_markdown":"@Fasty nice, feel free to answer your own question, it could serve others :)","body":"@Fasty nice, feel free to answer your own question, it could serve others :)"}],"owner":{"account_id":1147494,"reputation":11,"user_id":1129929,"display_name":"Fasty"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658994579,"creation_date":1658754977,"question_id":73109880,"body_markdown":"We are porting our software from PHP to Java, using SpringBoot / JPA to store data.\r\nAll our data currently is stored in MySQL using the latin1 collation (ISO-8859-1), and this can&#39;t be changed yet.\r\n\r\nWith the PHP software, storing UTF8 characters into the database tables just worked - characters not in UTF-8 simply was omitted (or replaced by &quot;?&quot; chars).\r\n\r\nBut if we want to store a strings containing UTF-8 chars via SpringBoot results in this exception:\r\n\r\n```\r\n2022-07-25 10:54:43.894  WARN 84143 --- [nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1366, SQLState: 22001\r\n2022-07-25 10:54:43.897 ERROR 84143 --- [nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncation: Incorrect string value: &#39;\\xEF\\x82\\xA7;\\x0A\\x09...&#39; for column `tanss`.`mails`.`body` at row 1\r\n```\r\n\r\nIs there any way to just &quot;ignore&quot; them before persisting, so that only latin1 chars are stored (i.e. setting in application.properties or MySQL server)?\r\n\r\n\r\n--- UPDATE ---\r\n\r\nI was able to fix it. In case someone else encounters the problem, using &quot;latin1&quot; collation: The MySQL drivers 8.0.29 no longer determines the character encoding by the default charset of the MySQL server, rather using &quot;utf8mb4&quot; by default. Adding `&amp;characterEncoding=latin1` to the jdbc url fixed the problem! ","title":"&quot;Data truncation: Incorrect string value&quot; in SpringBoot/JPA with latin1 tables (MySQL)","body":"<p>We are porting our software from PHP to Java, using SpringBoot / JPA to store data.\nAll our data currently is stored in MySQL using the latin1 collation (ISO-8859-1), and this can't be changed yet.</p>\n<p>With the PHP software, storing UTF8 characters into the database tables just worked - characters not in UTF-8 simply was omitted (or replaced by &quot;?&quot; chars).</p>\n<p>But if we want to store a strings containing UTF-8 chars via SpringBoot results in this exception:</p>\n<pre><code>2022-07-25 10:54:43.894  WARN 84143 --- [nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1366, SQLState: 22001\n2022-07-25 10:54:43.897 ERROR 84143 --- [nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncation: Incorrect string value: '\\xEF\\x82\\xA7;\\x0A\\x09...' for column `tanss`.`mails`.`body` at row 1\n</code></pre>\n<p>Is there any way to just &quot;ignore&quot; them before persisting, so that only latin1 chars are stored (i.e. setting in application.properties or MySQL server)?</p>\n<p>--- UPDATE ---</p>\n<p>I was able to fix it. In case someone else encounters the problem, using &quot;latin1&quot; collation: The MySQL drivers 8.0.29 no longer determines the character encoding by the default charset of the MySQL server, rather using &quot;utf8mb4&quot; by default. Adding <code>&amp;characterEncoding=latin1</code> to the jdbc url fixed the problem!</p>\n"},{"tags":["java","readfile","writefile"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1658919117,"post_id":73136216,"comment_id":129169897,"body_markdown":"Think about it: if remainder __is not 0__, do this thing, otherwise, if remainder is __above 0__, do this thing. The second case (remainder above 0) can obviously never occur; if remainder is above 0, it is obviously not 0. More generally, `remainder` is incorrect - `number/2` just gets you the result of the division, you don&#39;t get the remainder. You want `%`, that gives you the remainder, and you want `else`. Not `else if...`. Just: If there is a remainder it is odd. Otherwise, it is even.","body":"Think about it: if remainder <b>is not 0</b>, do this thing, otherwise, if remainder is <b>above 0</b>, do this thing. The second case (remainder above 0) can obviously never occur; if remainder is above 0, it is obviously not 0. More generally, <code>remainder</code> is incorrect - <code>number&#47;2</code> just gets you the result of the division, you don&#39;t get the remainder. You want <code>%</code>, that gives you the remainder, and you want <code>else</code>. Not <code>else if...</code>. Just: If there is a remainder it is odd. Otherwise, it is even."}],"answers":[{"tags":[],"owner":{"account_id":12182703,"reputation":65,"user_id":8893685,"display_name":"bkomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658917624,"creation_date":1658917624,"answer_id":73136286,"question_id":73136216,"body_markdown":"If you want remainder you need to use modulo, not division.\r\n```\r\nremainder = number%2;\r\n```\r\nAlso:\r\n```\r\nelse if(remainder &gt; 0)\r\n```\r\nremainder can only be 0 or 1, so this condition makes little sense.\r\n\r\nYour try blocks are not correct - here is a nice article about how to do it correctly.\r\nhttps://www.baeldung.com/java-try-with-resources","title":"How to read integers from file?","body":"<p>If you want remainder you need to use modulo, not division.</p>\n<pre><code>remainder = number%2;\n</code></pre>\n<p>Also:</p>\n<pre><code>else if(remainder &gt; 0)\n</code></pre>\n<p>remainder can only be 0 or 1, so this condition makes little sense.</p>\n<p>Your try blocks are not correct - here is a nice article about how to do it correctly.\n<a href=\"https://www.baeldung.com/java-try-with-resources\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-try-with-resources</a></p>\n"},{"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658918067,"creation_date":1658918067,"answer_id":73136386,"question_id":73136216,"body_markdown":"To know if a number is odd or even, you have to know if it is divisible by 2 or not.\r\n\r\n```java\r\nif (number % 2 == 0) {\r\n  // It&#39;s an even number, write it to even.txt\r\n} else {\r\n  // It&#39;s an odd number, write it to odd.txt\r\n}\r\n```\r\n\r\n`number % 2 == 0` means that the `number` is divisible by 2 and leaves no remainder behind when divided by 2.\r\n\r\n`number %2 != 0` means that the `number` is NOT divisible by 2 and leaves a remainder behind when divided by 2.","title":"How to read integers from file?","body":"<p>To know if a number is odd or even, you have to know if it is divisible by 2 or not.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (number % 2 == 0) {\n  // It's an even number, write it to even.txt\n} else {\n  // It's an odd number, write it to odd.txt\n}\n</code></pre>\n<p><code>number % 2 == 0</code> means that the <code>number</code> is divisible by 2 and leaves no remainder behind when divided by 2.</p>\n<p><code>number %2 != 0</code> means that the <code>number</code> is NOT divisible by 2 and leaves a remainder behind when divided by 2.</p>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658921448,"creation_date":1658920890,"answer_id":73137018,"question_id":73136216,"body_markdown":"**Note :** The operator **modulo (%)** is used to get remainder value after division \r\n***for Example:   X % Y = Z means if X is divided by Y then it gave Z as remainder***\r\n\r\nSo the definition of **ODD** and **EVEN**\r\n\r\n - number % 2 != 0 for ODD \r\n - number % 2 == 0 for EVEN\r\n\r\nHere is correct code as you have posted having expected result: \r\n\r\n    public static void main(String[] args) {\r\n    \r\n            //Read &amp; Write from and To the file\r\n\r\n            File file = new File(&quot;source.txt&quot;);\r\n            File even = new File(&quot;even.txt&quot;);\r\n            File odd = new File(&quot;odd.txt&quot;);\r\n    \r\n            int number = 0;\r\n    \r\n            try (BufferedReader reader= new BufferedReader(new FileReader(file));\r\n                 PrintWriter evenWriter = new PrintWriter(even);\r\n                 PrintWriter oddWriter = new PrintWriter(odd);){\r\n    \r\n                String text = null;\r\n    \r\n                while ((text = reader.readLine()) != null) {\r\n                    number = Integer.parseInt(text) ;\r\n    \r\n                    if(number % 2 == 0) {\r\n                        evenWriter.println(number);\r\n                    }else{\r\n                        oddWriter.println(number);\r\n                    }\r\n    \r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\n**source.txt**\r\n\r\n    12\r\n    23\r\n    34\r\n    45\r\n    56\r\n    67\r\n    78\r\n    89\r\n    90\r\n**even.txt**\r\n\r\n    12\r\n    34\r\n    56\r\n    78\r\n    90\r\n\r\n**odd.txt**\r\n\r\n    23\r\n    45\r\n    67\r\n    89","title":"How to read integers from file?","body":"<p><strong>Note :</strong> The operator <strong>modulo (%)</strong> is used to get remainder value after division\n<em><strong>for Example:   X % Y = Z means if X is divided by Y then it gave Z as remainder</strong></em></p>\n<p>So the definition of <strong>ODD</strong> and <strong>EVEN</strong></p>\n<ul>\n<li>number % 2 != 0 for ODD</li>\n<li>number % 2 == 0 for EVEN</li>\n</ul>\n<p>Here is correct code as you have posted having expected result:</p>\n<pre><code>public static void main(String[] args) {\n\n        //Read &amp; Write from and To the file\n\n        File file = new File(&quot;source.txt&quot;);\n        File even = new File(&quot;even.txt&quot;);\n        File odd = new File(&quot;odd.txt&quot;);\n\n        int number = 0;\n\n        try (BufferedReader reader= new BufferedReader(new FileReader(file));\n             PrintWriter evenWriter = new PrintWriter(even);\n             PrintWriter oddWriter = new PrintWriter(odd);){\n\n            String text = null;\n\n            while ((text = reader.readLine()) != null) {\n                number = Integer.parseInt(text) ;\n\n                if(number % 2 == 0) {\n                    evenWriter.println(number);\n                }else{\n                    oddWriter.println(number);\n                }\n\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p><strong>source.txt</strong></p>\n<pre><code>12\n23\n34\n45\n56\n67\n78\n89\n90\n</code></pre>\n<p><strong>even.txt</strong></p>\n<pre><code>12\n34\n56\n78\n90\n</code></pre>\n<p><strong>odd.txt</strong></p>\n<pre><code>23\n45\n67\n89\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658932831,"creation_date":1658932831,"answer_id":73139978,"question_id":73136216,"body_markdown":"Here is another solution with some more generic readability. Assuming that the input file contains **numbers** separated with **space** or **new line** \r\n\r\n    public static void filterOddEvenNumberFromFile() {\r\n    \r\n            File input = new File(&quot;input.txt&quot;);\r\n            File evenOutput = new File(&quot;evenOutput.txt&quot;);\r\n            File oddOutput = new File(&quot;oddOutput.txt&quot;);\r\n           \r\n            List&lt;Integer&gt; evenList = new ArrayList&lt;&gt;();\r\n            List&lt;Integer&gt; oddList = new ArrayList&lt;&gt;();\r\n    \r\n           try (BufferedReader reader = new BufferedReader(new FileReader(input));\r\n                PrintWriter evenOutputWriter = new PrintWriter(evenOutput);\r\n                PrintWriter oddOutputWriter = new PrintWriter(oddOutput);\r\n               ) {\r\n    \r\n               String text = null;\r\n               String [] numbers;\r\n               while ((text = reader.readLine()) != null) {\r\n                   numbers = text.split(&quot; &quot;);\r\n                   for(String n:numbers){\r\n                       if(Integer.parseInt(n) % 2 == 0){\r\n                           evenList.add(Integer.parseInt(n));\r\n                       }else{\r\n                           oddList.add(Integer.parseInt(n));\r\n                       }\r\n                   }\r\n                   for(Integer even : evenList) {\r\n                       evenOutputWriter.print(even + &quot; &quot;);\r\n                   }\r\n                   for(Integer odd:oddList) {\r\n                       oddOutputWriter.print(odd + &quot; &quot;);\r\n                   }\r\n                   evenList.clear(); oddList.clear();\r\n               }\r\n           } catch (FileNotFoundException e) {\r\n               e.printStackTrace();\r\n           } catch (IOException e) {\r\n               e.printStackTrace();\r\n           }\r\n        }\r\n**input.txt**\r\n\r\n    12 23 34 45 56\r\n    67 78 89 90\r\n    98 76 54\r\n    32 10\r\n    90\r\n\r\n**evenOutput.txt**\r\n\r\n    12 34 56 78 90 98 76 54 32 10 90 \r\n\r\n**oddOutput.txt**\r\n\r\n    23 45 67 89 ","title":"How to read integers from file?","body":"<p>Here is another solution with some more generic readability. Assuming that the input file contains <strong>numbers</strong> separated with <strong>space</strong> or <strong>new line</strong></p>\n<pre><code>public static void filterOddEvenNumberFromFile() {\n\n        File input = new File(&quot;input.txt&quot;);\n        File evenOutput = new File(&quot;evenOutput.txt&quot;);\n        File oddOutput = new File(&quot;oddOutput.txt&quot;);\n       \n        List&lt;Integer&gt; evenList = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; oddList = new ArrayList&lt;&gt;();\n\n       try (BufferedReader reader = new BufferedReader(new FileReader(input));\n            PrintWriter evenOutputWriter = new PrintWriter(evenOutput);\n            PrintWriter oddOutputWriter = new PrintWriter(oddOutput);\n           ) {\n\n           String text = null;\n           String [] numbers;\n           while ((text = reader.readLine()) != null) {\n               numbers = text.split(&quot; &quot;);\n               for(String n:numbers){\n                   if(Integer.parseInt(n) % 2 == 0){\n                       evenList.add(Integer.parseInt(n));\n                   }else{\n                       oddList.add(Integer.parseInt(n));\n                   }\n               }\n               for(Integer even : evenList) {\n                   evenOutputWriter.print(even + &quot; &quot;);\n               }\n               for(Integer odd:oddList) {\n                   oddOutputWriter.print(odd + &quot; &quot;);\n               }\n               evenList.clear(); oddList.clear();\n           }\n       } catch (FileNotFoundException e) {\n           e.printStackTrace();\n       } catch (IOException e) {\n           e.printStackTrace();\n       }\n    }\n</code></pre>\n<p><strong>input.txt</strong></p>\n<pre><code>12 23 34 45 56\n67 78 89 90\n98 76 54\n32 10\n90\n</code></pre>\n<p><strong>evenOutput.txt</strong></p>\n<pre><code>12 34 56 78 90 98 76 54 32 10 90 \n</code></pre>\n<p><strong>oddOutput.txt</strong></p>\n<pre><code>23 45 67 89 \n</code></pre>\n"}],"owner":{"account_id":21597955,"reputation":3,"user_id":17673209,"display_name":"Eddie756"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73137018,"answer_count":4,"score":0,"last_activity_date":1658994545,"creation_date":1658917267,"question_id":73136216,"body_markdown":"I want to write a program that reads numbers from both.txt file and write to even.txt if its even and to odd.txt if its odd numbers in java. i need help\r\n\r\ni have managed to create these files\r\n\r\nI have tried the following but its not working:\r\n\r\n    public static void main(String[] args) throws FileNotFoundException, IOException{\r\n      File both = new File(&quot;/home/eddie/Desktop/both.txt&quot;); \r\n      File odd = new File(&quot;/home/eddie/Desktop/odd.txt&quot;);      \r\n      File even = new File(&quot;/home/eddie/Desktop/even.txt&quot;);\r\n      \r\n      Scanner myObj = new Scanner(System.in);\r\n       int number,remainder;\r\n        System.out.println(&quot;Please enter a number!&quot;);\r\n            number = myObj.nextInt();\r\n        \r\n         \r\n        try (PrintWriter pwboth = new PrintWriter(both)) {\r\n            pwboth.println(number);\r\n            pwboth.close(); \r\n        }\r\n        remainder = number/2;\r\n        \r\n        if (remainder != 0)\r\n        {\r\n            \r\n                    \r\n            \r\n                try (PrintWriter pwodd = new PrintWriter(odd)) {\r\n                    pwodd.println(number);\r\n                    pwodd.close();\r\n                }\r\n        } \r\n        else if(remainder &gt; 0)\r\n    {\r\n          try (PrintWriter pweven = new PrintWriter(even)) {\r\n               pweven.println(number);\r\n               pweven.close();\r\n            }\r\n    }\r\n    }\r\n\r\nThis code is only printing to odd.txt and both.txt even if its even number and i want the program to read numbers from the both file i just don&#39;t know how to go about it.","title":"How to read integers from file?","body":"<p>I want to write a program that reads numbers from both.txt file and write to even.txt if its even and to odd.txt if its odd numbers in java. i need help</p>\n<p>i have managed to create these files</p>\n<p>I have tried the following but its not working:</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException, IOException{\n  File both = new File(&quot;/home/eddie/Desktop/both.txt&quot;); \n  File odd = new File(&quot;/home/eddie/Desktop/odd.txt&quot;);      \n  File even = new File(&quot;/home/eddie/Desktop/even.txt&quot;);\n  \n  Scanner myObj = new Scanner(System.in);\n   int number,remainder;\n    System.out.println(&quot;Please enter a number!&quot;);\n        number = myObj.nextInt();\n    \n     \n    try (PrintWriter pwboth = new PrintWriter(both)) {\n        pwboth.println(number);\n        pwboth.close(); \n    }\n    remainder = number/2;\n    \n    if (remainder != 0)\n    {\n        \n                \n        \n            try (PrintWriter pwodd = new PrintWriter(odd)) {\n                pwodd.println(number);\n                pwodd.close();\n            }\n    } \n    else if(remainder &gt; 0)\n{\n      try (PrintWriter pweven = new PrintWriter(even)) {\n           pweven.println(number);\n           pweven.close();\n        }\n}\n}\n</code></pre>\n<p>This code is only printing to odd.txt and both.txt even if its even number and i want the program to read numbers from the both file i just don't know how to go about it.</p>\n"},{"tags":["java","spring-boot","apache-camel","quartz"],"answers":[{"tags":[],"owner":{"account_id":4595034,"reputation":75,"user_id":3727352,"display_name":"Sir3nka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658994520,"creation_date":1658994520,"answer_id":73149097,"question_id":73143596,"body_markdown":"Class for job was stored in db and it was referencing quartz2 package, recreating job table fixed the problem","title":"Quartz Issue with Camel 3.15.0","body":"<p>Class for job was stored in db and it was referencing quartz2 package, recreating job table fixed the problem</p>\n"}],"owner":{"account_id":4595034,"reputation":75,"user_id":3727352,"display_name":"Sir3nka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658994520,"creation_date":1658949880,"question_id":73143596,"body_markdown":"We have recently migrated from spring boot 1.5 to spring boot 2.6.4 and camel 2.X to 3.15.\r\nI&#39;ve noticed that our persisted jobs stopped working due to \r\n\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.camel.pollconsumer.quartz2.QuartzScheduledPollConsumerJob\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\r\n\r\nAs stated in https://camel.apache.org/manual/camel-3-migration-guide.html we have replaced \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-quartz2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nwith \t\t\r\n\r\n         &lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;camel-quartz&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n    \t &lt;/dependency&gt;\r\n\r\nquartz properties \r\n\r\n    org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.MSSQLDelegate\r\n    org.quartz.jobStore.isClustered=false\r\n    org.quartz.scheduler.instanceId=AUTO\r\n\r\n\r\nI assume the problem is that quartz is looking for a class that now lives under\r\n\r\norg.apache.camel.pollconsumer.**quartz**.QuartzScheduledPollConsumerJob\r\n\r\n\r\n\r\nParts of pom related to spring boot / Camel / Quartz Quartz 2.3, Camel 3.15.0, Spring Boot 2.6.4\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-quartz&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${quartz.version}&lt;/version&gt;\r\n\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;HikariCP-java7&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;quartz-jobs&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${quartz.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-ehcache&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-cxf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-ftp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-jms&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-soap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-csv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-bindy&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- For quartz compatibility of jdbc tirgger --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-quartz&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${camel.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-camel&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;geronimo-jta_1.0.1B_spec&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;geronimo-jta_1.0.1B_spec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Quartz Issue with Camel 3.15.0","body":"<p>We have recently migrated from spring boot 1.5 to spring boot 2.6.4 and camel 2.X to 3.15.\nI've noticed that our persisted jobs stopped working due to</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.apache.camel.pollconsumer.quartz2.QuartzScheduledPollConsumerJob\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n</code></pre>\n<p>As stated in <a href=\"https://camel.apache.org/manual/camel-3-migration-guide.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/camel-3-migration-guide.html</a> we have replaced</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-quartz2&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>with</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-quartz&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n     &lt;/dependency&gt;\n</code></pre>\n<p>quartz properties</p>\n<pre><code>org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.MSSQLDelegate\norg.quartz.jobStore.isClustered=false\norg.quartz.scheduler.instanceId=AUTO\n</code></pre>\n<p>I assume the problem is that quartz is looking for a class that now lives under</p>\n<p>org.apache.camel.pollconsumer.<strong>quartz</strong>.QuartzScheduledPollConsumerJob</p>\n<p>Parts of pom related to spring boot / Camel / Quartz Quartz 2.3, Camel 3.15.0, Spring Boot 2.6.4</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-quartz&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n            &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n            &lt;version&gt;${quartz.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n                    &lt;artifactId&gt;HikariCP-java7&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n            &lt;artifactId&gt;quartz-jobs&lt;/artifactId&gt;\n            &lt;version&gt;${quartz.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-ehcache&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-cxf&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-ftp&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jms&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-soap&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-csv&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-bindy&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- For quartz compatibility of jdbc tirgger --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-quartz&lt;/artifactId&gt;\n        &lt;version&gt;${camel.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;activemq-camel&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n                &lt;artifactId&gt;geronimo-jta_1.0.1B_spec&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n        &lt;artifactId&gt;geronimo-jta_1.0.1B_spec&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","jenkins","jenkins-pipeline","jenkins-plugins","jenkins-groovy"],"comments":[{"owner":{"account_id":3330925,"reputation":25960,"user_id":5343387,"accept_rate":86,"display_name":"Matthew Schuchard"},"score":0,"creation_date":1636553726,"post_id":69914285,"comment_id":123587863,"body_markdown":"Is the declarative pipeline syntax plugin installed?","body":"Is the declarative pipeline syntax plugin installed?"},{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1636555741,"post_id":69914285,"comment_id":123588864,"body_markdown":"In the future please add the code to the question, not a screenshot of the code.  I can tell you for sure that your script is fine.  Have you tried assigning the pipeline to master node instead of any?  That would be my first troubleshooting step.  I have a suspicion you&#39;re doing something wrong that isn&#39;t being shown here ( like maybe youre looking at the wrong log ).  Please give us the Jenkins version","body":"In the future please add the code to the question, not a screenshot of the code.  I can tell you for sure that your script is fine.  Have you tried assigning the pipeline to master node instead of any?  That would be my first troubleshooting step.  I have a suspicion you&#39;re doing something wrong that isn&#39;t being shown here ( like maybe youre looking at the wrong log ).  Please give us the Jenkins version"},{"owner":{"account_id":22815049,"reputation":11,"user_id":16965798,"display_name":"YMD"},"score":1,"creation_date":1636558014,"post_id":69914285,"comment_id":123589900,"body_markdown":"@MattSchuchard -- Many thanks for your suggestion! It worked!","body":"@MattSchuchard -- Many thanks for your suggestion! It worked!"},{"owner":{"account_id":22815049,"reputation":11,"user_id":16965798,"display_name":"YMD"},"score":1,"creation_date":1636558228,"post_id":69914285,"comment_id":123589999,"body_markdown":"@ChrisMaggiulli -- Many thanks for the feedback! Very new to Stack Overflow as you can see -- I&#39;ll be sure to post the source code in the appropriate code format. The answer was that the declarative pipeline syntax plugin was not installed -- what an oversight! Thanks once again for the assistance.","body":"@ChrisMaggiulli -- Many thanks for the feedback! Very new to Stack Overflow as you can see -- I&#39;ll be sure to post the source code in the appropriate code format. The answer was that the declarative pipeline syntax plugin was not installed -- what an oversight! Thanks once again for the assistance."}],"answers":[{"tags":[],"owner":{"account_id":24282095,"reputation":24,"user_id":18228447,"display_name":"Sandeepp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645602833,"creation_date":1645211369,"answer_id":71178692,"question_id":69914285,"body_markdown":"Could you please try this :\r\n\r\n        pipeline {\r\n            agent {label &#39;**REPLACE THE agent name here**&#39;}\r\n               stages {\r\n                   stage(&#39;Hello&#39;){\r\n                         steps {\r\n                               echo &quot;Hello World&quot;\r\n    \r\n                        }    \r\n    \r\n                  } \r\n            \r\n            }\r\n    }","title":"Pipeline ‘does not define any stages’, but it does?","body":"<p>Could you please try this :</p>\n<pre><code>    pipeline {\n        agent {label '**REPLACE THE agent name here**'}\n           stages {\n               stage('Hello'){\n                     steps {\n                           echo &quot;Hello World&quot;\n\n                    }    \n\n              } \n        \n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1317803,"reputation":9643,"user_id":1264304,"accept_rate":63,"display_name":"rok"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658994471,"creation_date":1658994471,"answer_id":73149089,"question_id":69914285,"body_markdown":"In my case [Pipeline: Declarative][1] plugin was missing. You can also install \r\n\r\n[Pipeline][2] plugin which includes this plugin. \r\n\r\n\r\n  [1]: https://plugins.jenkins.io/pipeline-model-definition/\r\n  [2]: https://plugins.jenkins.io/workflow-aggregator","title":"Pipeline ‘does not define any stages’, but it does?","body":"<p>In my case <a href=\"https://plugins.jenkins.io/pipeline-model-definition/\" rel=\"nofollow noreferrer\">Pipeline: Declarative</a> plugin was missing. You can also install</p>\n<p><a href=\"https://plugins.jenkins.io/workflow-aggregator\" rel=\"nofollow noreferrer\">Pipeline</a> plugin which includes this plugin.</p>\n"}],"owner":{"account_id":22815049,"reputation":11,"user_id":16965798,"display_name":"YMD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658994471,"creation_date":1636551489,"question_id":69914285,"body_markdown":"I am new to Jenkins and have decided to learn about the Pipeline declarative script. After reading and watching several tutorials on writing a simple Pipeline script, I decided to give it a go on Jenkins.\r\n\r\nWhen running the simple script, it displays the following error message - ‘This Pipeline has run successfully, but does not define any stages. Please use the stage step to define some stages in this Pipeline’.\r\n\r\n[![Groovy Script][1]][1]\r\n\r\n[![Console Output][2]][2]\r\n \r\n[![Stage View or lack of][3]][3]\r\n\r\n\r\nHowever, after combing through the script and comparing it to the tutorial scripts online, everything appears to be precisely the same. So what is going on here? Is it perhaps a JRE/JDK issue since the Stage View is not displaying?\r\n\r\nAny assistance in this matter is greatly appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eRpi1.png\r\n  [2]: https://i.stack.imgur.com/SgmSl.png\r\n  [3]: https://i.stack.imgur.com/dAo8l.png","title":"Pipeline ‘does not define any stages’, but it does?","body":"<p>I am new to Jenkins and have decided to learn about the Pipeline declarative script. After reading and watching several tutorials on writing a simple Pipeline script, I decided to give it a go on Jenkins.</p>\n<p>When running the simple script, it displays the following error message - ‘This Pipeline has run successfully, but does not define any stages. Please use the stage step to define some stages in this Pipeline’.</p>\n<p><a href=\"https://i.stack.imgur.com/eRpi1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eRpi1.png\" alt=\"Groovy Script\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/SgmSl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SgmSl.png\" alt=\"Console Output\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/dAo8l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dAo8l.png\" alt=\"Stage View or lack of\" /></a></p>\n<p>However, after combing through the script and comparing it to the tutorial scripts online, everything appears to be precisely the same. So what is going on here? Is it perhaps a JRE/JDK issue since the Stage View is not displaying?</p>\n<p>Any assistance in this matter is greatly appreciated.</p>\n"},{"tags":["java","java-8","locale","number-formatting"],"comments":[{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":1,"creation_date":1549542237,"post_id":54573057,"comment_id":95944210,"body_markdown":"So what are you printing to? What don&#39;t does it use?","body":"So what are you printing to? What don&#39;t does it use?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1549543911,"post_id":54573057,"comment_id":95945272,"body_markdown":"The problem is likely that your output device isn’t correctly configured for showing the € symbol and whatever China uses correctly. Or maybe unable to do that at all.","body":"The problem is likely that your output device isn’t correctly configured for showing the € symbol and whatever China uses correctly. Or maybe unable to do that at all."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1549544053,"post_id":54573057,"comment_id":95945362,"body_markdown":"I cannot reproduce. On my Java 1.8.0_91 I get `￥12,324.13` for China and `12&#160;324,13 €` for France.","body":"I cannot reproduce. On my Java 1.8.0_91 I get <code>￥12,324.13</code> for China and <code>12 324,13 €</code> for France."},{"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"score":1,"creation_date":1549544237,"post_id":54573057,"comment_id":95945484,"body_markdown":"Have a look at this, a similar issue- https://stackoverflow.com/questions/4967430/missing-currency-symbols-on-linux-server","body":"Have a look at this, a similar issue- <a href=\"https://stackoverflow.com/questions/4967430/missing-currency-symbols-on-linux-server\" title=\"missing currency symbols on linux server\">stackoverflow.com/questions/4967430/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1549580889,"post_id":54573057,"comment_id":95964342,"body_markdown":"Possible duplicate of [Missing currency symbols on linux server](https://stackoverflow.com/questions/4967430/missing-currency-symbols-on-linux-server)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4967430/missing-currency-symbols-on-linux-server\">Missing currency symbols on linux server</a>"}],"answers":[{"tags":[],"owner":{"account_id":8698372,"reputation":36,"user_id":6509084,"display_name":"Anshu Mishra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1553149438,"creation_date":1553147523,"answer_id":55274479,"question_id":54573057,"body_markdown":"for china use this code.\r\nNumberformat class&#39;s getCurrency().getSymbol(locale) will return currency symbol for particular region.\r\n\t&lt;code&gt;System.out.println(&quot;China: &quot; + china.getCurrency().getSymbol(Locale.CHINA) + china.format(payment));&lt;/code&gt;\r\n\r\nFor France use this\r\n&lt;code&gt;\r\nSystem.out.println(&quot;France: &quot; + france.format(payment) + &quot; &quot; + france.getCurrency().getSymbol(Locale.FRANCE));&lt;/code&gt;","title":"NumberFormat.getCurrencyInstance() not returning currency symbol for Locales CHINA and FRANCE (jdk-1.8)","body":"<p>for china use this code.\nNumberformat class's getCurrency().getSymbol(locale) will return currency symbol for particular region.\n    <code>System.out.println(\"China: \" + china.getCurrency().getSymbol(Locale.CHINA) + china.format(payment));</code></p>\n\n<p>For France use this\n<code>\nSystem.out.println(\"France: \" + france.format(payment) + \" \" + france.getCurrency().getSymbol(Locale.FRANCE));</code></p>\n"},{"tags":[],"owner":{"account_id":5278607,"reputation":702,"user_id":4214686,"display_name":"Maciej Trojniarz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575062352,"creation_date":1574059526,"answer_id":58909223,"question_id":54573057,"body_markdown":"The problem in Hackerrank challenge is that there is no UTF-8 encoding. Try to use this:\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\n\r\npublic class Solution {\r\n\r\npublic static void main(String[] args) {\r\n    /* Read input */\r\n    Scanner scanner = new Scanner(System.in);\r\n    double payment = scanner.nextDouble();\r\n    scanner.close();\r\n\r\n    /* Create custom Locale for India.*/\r\n    Locale indiaLocale = new Locale(&quot;en&quot;, &quot;IN&quot;);\r\n\r\n    /* Create NumberFormats using Locales */\r\n    NumberFormat us     = NumberFormat.getCurrencyInstance(Locale.US);\r\n    NumberFormat india  = NumberFormat.getCurrencyInstance(indiaLocale);\r\n    NumberFormat china  = NumberFormat.getCurrencyInstance(Locale.CHINA);\r\n    NumberFormat france = NumberFormat.getCurrencyInstance(Locale.FRANCE);\r\n\r\n    /* Print output */\r\n    try {\r\n      System.setOut(new PrintStream(new FileOutputStream(FileDescriptor.out), true, &quot;UTF-8&quot;));        \r\n      System.out.println(&quot;US: &quot;     + us.format(payment));\r\n      System.out.println(&quot;India: &quot;  + india.format(payment));\r\n      System.out.println(&quot;China: &quot;  + china.format(payment));\r\n      System.out.println(&quot;France: &quot; + france.format(payment));\r\n    } catch (Exception e) {\r\n      System.out.println(&quot;HackerRank please fix your test terminal&quot;);\r\n    }\r\n  }\r\n}\r\n```","title":"NumberFormat.getCurrencyInstance() not returning currency symbol for Locales CHINA and FRANCE (jdk-1.8)","body":"<p>The problem in Hackerrank challenge is that there is no UTF-8 encoding. Try to use this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class Solution {\n\npublic static void main(String[] args) {\n    /* Read input */\n    Scanner scanner = new Scanner(System.in);\n    double payment = scanner.nextDouble();\n    scanner.close();\n\n    /* Create custom Locale for India.*/\n    Locale indiaLocale = new Locale(\"en\", \"IN\");\n\n    /* Create NumberFormats using Locales */\n    NumberFormat us     = NumberFormat.getCurrencyInstance(Locale.US);\n    NumberFormat india  = NumberFormat.getCurrencyInstance(indiaLocale);\n    NumberFormat china  = NumberFormat.getCurrencyInstance(Locale.CHINA);\n    NumberFormat france = NumberFormat.getCurrencyInstance(Locale.FRANCE);\n\n    /* Print output */\n    try {\n      System.setOut(new PrintStream(new FileOutputStream(FileDescriptor.out), true, \"UTF-8\"));        \n      System.out.println(\"US: \"     + us.format(payment));\n      System.out.println(\"India: \"  + india.format(payment));\n      System.out.println(\"China: \"  + china.format(payment));\n      System.out.println(\"France: \" + france.format(payment));\n    } catch (Exception e) {\n      System.out.println(\"HackerRank please fix your test terminal\");\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12975493,"reputation":1,"user_id":9379640,"display_name":"Sanjeev Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577491984,"creation_date":1577491984,"answer_id":59507157,"question_id":54573057,"body_markdown":"The Solution will be like this;......\r\n\r\nFor Indian Ruppe,there is no Currency.. We have to format it using decimalFormatter as given below.\r\n    \r\n    DecimalFormat IndianCurrencyFormat = new DecimalFormat(&quot;##,##,###.00&quot;);\r\n                NumberFormat nf = NumberFormat.getCurrencyInstance(Locale.US);\r\n                NumberFormat nf1 = NumberFormat.getCurrencyInstance(Locale.CHINA);\r\n                NumberFormat nf2 = NumberFormat.getCurrencyInstance(Locale.FRANCE);\r\n                String us = nf.format(payment);\r\n                String india =&quot;Rs.&quot; + IndianCurrencyFormat.format(payment);\r\n                String china =nf1.format(payment);\r\n                String france =nf2.format(payment);\r\n               System.out.println(&quot;US: &quot; + us);\r\n            System.out.println(&quot;India: &quot; + india);\r\n            System.out.println(&quot;China: &quot; + china);\r\n            System.out.println(&quot;France: &quot; + france);\r\n\r\n\r\n ","title":"NumberFormat.getCurrencyInstance() not returning currency symbol for Locales CHINA and FRANCE (jdk-1.8)","body":"<p>The Solution will be like this;......</p>\n\n<p>For Indian Ruppe,there is no Currency.. We have to format it using decimalFormatter as given below.</p>\n\n<pre><code>DecimalFormat IndianCurrencyFormat = new DecimalFormat(\"##,##,###.00\");\n            NumberFormat nf = NumberFormat.getCurrencyInstance(Locale.US);\n            NumberFormat nf1 = NumberFormat.getCurrencyInstance(Locale.CHINA);\n            NumberFormat nf2 = NumberFormat.getCurrencyInstance(Locale.FRANCE);\n            String us = nf.format(payment);\n            String india =\"Rs.\" + IndianCurrencyFormat.format(payment);\n            String china =nf1.format(payment);\n            String france =nf2.format(payment);\n           System.out.println(\"US: \" + us);\n        System.out.println(\"India: \" + india);\n        System.out.println(\"China: \" + china);\n        System.out.println(\"France: \" + france);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9769397,"reputation":171,"user_id":7241837,"display_name":"Mandeep Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606002678,"creation_date":1606002678,"answer_id":64949345,"question_id":54573057,"body_markdown":"My solution just do substring get rid of UTF-8 issue\r\n    \r\n\r\n    \r\n    import java.text.DecimalFormat;\r\n    import java.text.NumberFormat;\r\n    import java.util.Locale;\r\n    /*\r\n     * input 12324.134\r\n     * output\r\n     * US: $12,324.13\r\n     * India: Rs.12,324.13\r\n     * China: ￥12,324.13\r\n     * France: 12 324,13 €\r\n     */\r\n    import java.util.Scanner;\r\n    \r\n    public class Solution {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\tdouble payment = scanner.nextDouble();\r\n    \t\tscanner.close();\r\n    \r\n    \t\t// Write your code here.\r\n    \r\n    \t\tDecimalFormat formatter = new DecimalFormat(&quot;###,###.00&quot;);\r\n    \t\tdouble roundOff = Math.round(payment * 100) / 100.00;\r\n    \t\tString us = NumberFormat.getCurrencyInstance().format(roundOff);\r\n    \t\tString india = &quot;Rs.&quot; + formatter.format(roundOff);\r\n    \t\tString china = NumberFormat.getCurrencyInstance(Locale.CHINA).format(roundOff);\r\n    \t\tString france_initial = NumberFormat.getCurrencyInstance(Locale.FRENCH).format(roundOff);\r\n    \t\tint len = france_initial.length();\r\n    \t\tString france = france_initial.substring(0, len - 1) + &quot; €&quot;;\r\n    \t\tSystem.out.println(&quot;US: &quot; + us);\r\n    \t\tSystem.out.println(&quot;India: &quot; + india);\r\n    \t\tSystem.out.println(&quot;China: &quot; + china);\r\n    \t\tSystem.out.println(&quot;France: &quot; + france);\r\n    \t}\r\n    }","title":"NumberFormat.getCurrencyInstance() not returning currency symbol for Locales CHINA and FRANCE (jdk-1.8)","body":"<p>My solution just do substring get rid of UTF-8 issue</p>\n<pre><code>import java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.util.Locale;\n/*\n * input 12324.134\n * output\n * US: $12,324.13\n * India: Rs.12,324.13\n * China: ￥12,324.13\n * France: 12 324,13 €\n */\nimport java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        double payment = scanner.nextDouble();\n        scanner.close();\n\n        // Write your code here.\n\n        DecimalFormat formatter = new DecimalFormat(&quot;###,###.00&quot;);\n        double roundOff = Math.round(payment * 100) / 100.00;\n        String us = NumberFormat.getCurrencyInstance().format(roundOff);\n        String india = &quot;Rs.&quot; + formatter.format(roundOff);\n        String china = NumberFormat.getCurrencyInstance(Locale.CHINA).format(roundOff);\n        String france_initial = NumberFormat.getCurrencyInstance(Locale.FRENCH).format(roundOff);\n        int len = france_initial.length();\n        String france = france_initial.substring(0, len - 1) + &quot; €&quot;;\n        System.out.println(&quot;US: &quot; + us);\n        System.out.println(&quot;India: &quot; + india);\n        System.out.println(&quot;China: &quot; + china);\n        System.out.println(&quot;France: &quot; + france);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17443838,"reputation":358,"user_id":12645260,"display_name":"heisenberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631560217,"creation_date":1631560217,"answer_id":69167942,"question_id":54573057,"body_markdown":" 1. In Case if you need to **set symbol** for a currency or If you\r\n    want to ***customize*** currency symbol, you can try this.\r\n\r\n   \r\n\r\n         Locale indialocal = new Locale(&quot;en&quot;,&quot;India&quot;);\r\n         NumberFormat india = NumberFormat.getCurrencyInstance(indialocal);\r\n    \r\n         DecimalFormatSymbols deciFs = new DecimalFormatSymbols();\r\n         deciFs.setCurrencySymbol(&quot;Rs.&quot;);\r\n         ((DecimalFormat) india).setDecimalFormatSymbols(deciFs);\r\n\r\n          System.out.println(&quot;India: &quot; + india.format(payment));\r\n\r\n","title":"NumberFormat.getCurrencyInstance() not returning currency symbol for Locales CHINA and FRANCE (jdk-1.8)","body":"<ol>\n<li><p>In Case if you need to <strong>set symbol</strong> for a currency or If you\nwant to <em><strong>customize</strong></em> currency symbol, you can try this.</p>\n<pre><code> Locale indialocal = new Locale(&quot;en&quot;,&quot;India&quot;);\n NumberFormat india = NumberFormat.getCurrencyInstance(indialocal);\n\n DecimalFormatSymbols deciFs = new DecimalFormatSymbols();\n deciFs.setCurrencySymbol(&quot;Rs.&quot;);\n ((DecimalFormat) india).setDecimalFormatSymbols(deciFs);\n\n  System.out.println(&quot;India: &quot; + india.format(payment));\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25596995,"reputation":1,"user_id":19372586,"display_name":"Arun Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655705785,"creation_date":1655705785,"answer_id":72682921,"question_id":54573057,"body_markdown":"You can also try this code, because above codes are not working on my laptop. \r\nSpecially for the symbol of YEN\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;Input --&gt; &quot;);\r\n        double payment = scanner.nextDouble();\r\n        scanner.close();\r\n        Locale indiaLocale = new Locale(&quot;en&quot;, &quot;IN&quot;);\r\n        NumberFormat u = NumberFormat.getCurrencyInstance(Locale.US);\r\n        NumberFormat i = NumberFormat.getCurrencyInstance(indiaLocale);\r\n        NumberFormat c = NumberFormat.getCurrencyInstance(Locale.SIMPLIFIED_CHINESE);\r\n        NumberFormat f = NumberFormat.getCurrencyInstance(Locale.FRANCE);\r\n\r\n        System.out.println(&quot;US: &quot; + u.format(payment));\r\n        System.out.println(&quot;India: &quot; + i.format(payment));\r\n        System.out.println(&quot;China: &quot; + c.format(payment));\r\n        System.out.println(&quot;France: &quot; + f.format(payment));\r\n\r\n\r\n    }\r\n\r\nIn your console --&gt;\r\n\r\nInput --&gt; 12324.134\r\n\r\nUS: $1,232.13\r\n\r\nIndia: ₹1,232.13\r\n\r\nChina: &#165;1,232.13\r\n\r\nFrance: 1 232,13&#160;€\r\n","title":"NumberFormat.getCurrencyInstance() not returning currency symbol for Locales CHINA and FRANCE (jdk-1.8)","body":"<p>You can also try this code, because above codes are not working on my laptop.\nSpecially for the symbol of YEN</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;Input --&gt; &quot;);\n    double payment = scanner.nextDouble();\n    scanner.close();\n    Locale indiaLocale = new Locale(&quot;en&quot;, &quot;IN&quot;);\n    NumberFormat u = NumberFormat.getCurrencyInstance(Locale.US);\n    NumberFormat i = NumberFormat.getCurrencyInstance(indiaLocale);\n    NumberFormat c = NumberFormat.getCurrencyInstance(Locale.SIMPLIFIED_CHINESE);\n    NumberFormat f = NumberFormat.getCurrencyInstance(Locale.FRANCE);\n\n    System.out.println(&quot;US: &quot; + u.format(payment));\n    System.out.println(&quot;India: &quot; + i.format(payment));\n    System.out.println(&quot;China: &quot; + c.format(payment));\n    System.out.println(&quot;France: &quot; + f.format(payment));\n\n\n}\n</code></pre>\n<p>In your console --&gt;</p>\n<p>Input --&gt; 12324.134</p>\n<p>US: $1,232.13</p>\n<p>India: ₹1,232.13</p>\n<p>China: ¥1,232.13</p>\n<p>France: 1 232,13 €</p>\n"},{"tags":[],"owner":{"account_id":24278761,"reputation":41,"user_id":18225658,"display_name":"StonedCodingTom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658409866,"creation_date":1658409866,"answer_id":73067068,"question_id":54573057,"body_markdown":"If your solution doesn&#39;t work because of yen symbol, try pasting that code, but in Java 7:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.text.NumberFormat;\r\n    import java.text.DecimalFormat;\r\n    \r\n    \r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            Scanner sc = new Scanner(System.in);\r\n            Double number = sc.nextDouble();\r\n            DecimalFormat IndianCurrencyFormat = new DecimalFormat(&quot;##,##,###.00&quot;);\r\n           \r\n      \r\n            \r\n            String formattedStr = NumberFormat.getCurrencyInstance(Locale.US).format(number);\r\n\r\n            System.out.println(&quot;US: &quot; + formattedStr);\r\n            System.out.println(&quot;India: Rs.&quot; + IndianCurrencyFormat.format(number));\r\n            formattedStr = NumberFormat.getCurrencyInstance(Locale.CHINA).format(number);\r\n            System.out.println(&quot;China: &quot; + formattedStr);\r\n            formattedStr = NumberFormat.getCurrencyInstance(Locale.FRANCE).format(number);\r\n            System.out.println(&quot;France: &quot; + formattedStr);\r\n    \r\n            \r\n            \r\n            \r\n        }\r\n    }\r\n\r\nIn Java 15 that doesn&#39;t work.","title":"NumberFormat.getCurrencyInstance() not returning currency symbol for Locales CHINA and FRANCE (jdk-1.8)","body":"<p>If your solution doesn't work because of yen symbol, try pasting that code, but in Java 7:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.NumberFormat;\nimport java.text.DecimalFormat;\n\n\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        \n        Scanner sc = new Scanner(System.in);\n        Double number = sc.nextDouble();\n        DecimalFormat IndianCurrencyFormat = new DecimalFormat(&quot;##,##,###.00&quot;);\n       \n  \n        \n        String formattedStr = NumberFormat.getCurrencyInstance(Locale.US).format(number);\n\n        System.out.println(&quot;US: &quot; + formattedStr);\n        System.out.println(&quot;India: Rs.&quot; + IndianCurrencyFormat.format(number));\n        formattedStr = NumberFormat.getCurrencyInstance(Locale.CHINA).format(number);\n        System.out.println(&quot;China: &quot; + formattedStr);\n        formattedStr = NumberFormat.getCurrencyInstance(Locale.FRANCE).format(number);\n        System.out.println(&quot;France: &quot; + formattedStr);\n\n        \n        \n        \n    }\n}\n</code></pre>\n<p>In Java 15 that doesn't work.</p>\n"},{"tags":[],"owner":{"account_id":10925458,"reputation":1,"user_id":8382179,"display_name":"Boga Srinivas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658994320,"creation_date":1658680767,"answer_id":73100229,"question_id":54573057,"body_markdown":"It might be difficult to format currencies manually. Instead you may want to create local instances via `.getCurrencyInstances(new Locale(&quot;X&quot;, &quot;Y&quot;))` method.\r\n\r\n- for CHINA arguments will be: `&quot;zh&quot;`, `&quot;CN&quot;`\r\n- for France : `&quot;sk&quot;`, `&quot;SK&quot;`\r\n\r\nexample:\r\n\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.text.NumberFormat;\r\n    \r\n    public class Solution {\r\n        \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            double payment = scanner.nextDouble();\r\n            scanner.close();\r\n            \r\n            // Write your code here.\r\n            \r\n            NumberFormat us1 = NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;));\r\n            String us = us1.format(payment);\r\n            \r\n            NumberFormat india1 = NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;IN&quot;));\r\n            String india = india1.format(payment);\r\n            \r\n            NumberFormat china1 = NumberFormat.getCurrencyInstance(new Locale(&quot;zh&quot;, &quot;CN&quot;));\r\n            String china = china1.format(payment);\r\n            \r\n            NumberFormat fr1 = NumberFormat.getCurrencyInstance(new Locale(&quot;sk&quot;, &quot;SK&quot;));\r\n            String fr = fr1.format(payment);\r\n            \r\n            System.out.println(&quot;US: &quot; +us);\r\n            System.out.println(&quot;India: &quot; +india);\r\n            System.out.println(&quot;China: &quot; +china);\r\n            System.out.println(&quot;France: &quot; +fr);\r\n        }\r\n    }\r\n\r\n","title":"NumberFormat.getCurrencyInstance() not returning currency symbol for Locales CHINA and FRANCE (jdk-1.8)","body":"<p>It might be difficult to format currencies manually. Instead you may want to create local instances via <code>.getCurrencyInstances(new Locale(&quot;X&quot;, &quot;Y&quot;))</code> method.</p>\n<ul>\n<li>for CHINA arguments will be: <code>&quot;zh&quot;</code>, <code>&quot;CN&quot;</code></li>\n<li>for France : <code>&quot;sk&quot;</code>, <code>&quot;SK&quot;</code></li>\n</ul>\n<p>example:</p>\n<pre><code>import java.util.*;\nimport java.text.*;\nimport java.text.NumberFormat;\n\npublic class Solution {\n    \n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        double payment = scanner.nextDouble();\n        scanner.close();\n        \n        // Write your code here.\n        \n        NumberFormat us1 = NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;));\n        String us = us1.format(payment);\n        \n        NumberFormat india1 = NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;IN&quot;));\n        String india = india1.format(payment);\n        \n        NumberFormat china1 = NumberFormat.getCurrencyInstance(new Locale(&quot;zh&quot;, &quot;CN&quot;));\n        String china = china1.format(payment);\n        \n        NumberFormat fr1 = NumberFormat.getCurrencyInstance(new Locale(&quot;sk&quot;, &quot;SK&quot;));\n        String fr = fr1.format(payment);\n        \n        System.out.println(&quot;US: &quot; +us);\n        System.out.println(&quot;India: &quot; +india);\n        System.out.println(&quot;China: &quot; +china);\n        System.out.println(&quot;France: &quot; +fr);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user10825379"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55274479,"answer_count":8,"score":0,"last_activity_date":1658994320,"creation_date":1549541428,"question_id":54573057,"body_markdown":"I have written a program to return double values with the currency symbols of some countries. For this I am using `getCurrencyInstance()` method to get symbol of particular country.\r\n\r\nThe problem is specific to my laptop&#39;s *JDK-1.8* and works fine on online compiler.\r\nThe problem, I am facing is that the currency symbol for *CHINA* and *FRANCE* are represented with &#39;?&#39;. But for *INDIA* and *US*, correct symbols are shown.\r\n\r\nI am working on this problem for a bit now. Hence, any leads would be helpful.\r\n\r\nHere is my code:\r\n\r\n    import java.util.Scanner;\r\n    import java.text.NumberFormat;\r\n    import java.util.Locale;\r\n\r\n    public class Solution {\r\n    \r\n    public static void main(String[] args) {\r\n        /* Read input */\r\n        Scanner scanner = new Scanner(System.in);\r\n        double payment = scanner.nextDouble();\r\n        scanner.close();\r\n\r\n        /* Create custom Locale for India.\r\n        Locale indiaLocale = new Locale(&quot;en&quot;, &quot;IN&quot;);\r\n\r\n        /* Create NumberFormats using Locales */\r\n        NumberFormat us     = NumberFormat.getCurrencyInstance(Locale.US);\r\n        NumberFormat india  = NumberFormat.getCurrencyInstance(indiaLocale);\r\n        NumberFormat china  = NumberFormat.getCurrencyInstance(Locale.CHINA);\r\n        NumberFormat france = NumberFormat.getCurrencyInstance(Locale.FRANCE);\r\n\r\n        /* Print output */        \r\n        System.out.println(&quot;US: &quot;     + us.format(payment));\r\n        System.out.println(&quot;India: &quot;  + india.format(payment));\r\n        System.out.println(&quot;China: &quot;  + china.format(payment));\r\n        System.out.println(&quot;France: &quot; + france.format(payment));\r\n    }\r\n    }\r\nThe corresponding output on my machine is:\r\n\r\n    12324.134\r\n    US: $12,324.13\r\n    India: Rs.12,324.13\r\n    China: ?12,324.13\r\n    France: 12&#160;324,13 ?\r\n\r\n","title":"NumberFormat.getCurrencyInstance() not returning currency symbol for Locales CHINA and FRANCE (jdk-1.8)","body":"<p>I have written a program to return double values with the currency symbols of some countries. For this I am using <code>getCurrencyInstance()</code> method to get symbol of particular country.</p>\n\n<p>The problem is specific to my laptop's <em>JDK-1.8</em> and works fine on online compiler.\nThe problem, I am facing is that the currency symbol for <em>CHINA</em> and <em>FRANCE</em> are represented with '?'. But for <em>INDIA</em> and <em>US</em>, correct symbols are shown.</p>\n\n<p>I am working on this problem for a bit now. Hence, any leads would be helpful.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import java.util.Scanner;\nimport java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class Solution {\n\npublic static void main(String[] args) {\n    /* Read input */\n    Scanner scanner = new Scanner(System.in);\n    double payment = scanner.nextDouble();\n    scanner.close();\n\n    /* Create custom Locale for India.\n    Locale indiaLocale = new Locale(\"en\", \"IN\");\n\n    /* Create NumberFormats using Locales */\n    NumberFormat us     = NumberFormat.getCurrencyInstance(Locale.US);\n    NumberFormat india  = NumberFormat.getCurrencyInstance(indiaLocale);\n    NumberFormat china  = NumberFormat.getCurrencyInstance(Locale.CHINA);\n    NumberFormat france = NumberFormat.getCurrencyInstance(Locale.FRANCE);\n\n    /* Print output */        \n    System.out.println(\"US: \"     + us.format(payment));\n    System.out.println(\"India: \"  + india.format(payment));\n    System.out.println(\"China: \"  + china.format(payment));\n    System.out.println(\"France: \" + france.format(payment));\n}\n}\n</code></pre>\n\n<p>The corresponding output on my machine is:</p>\n\n<pre><code>12324.134\nUS: $12,324.13\nIndia: Rs.12,324.13\nChina: ?12,324.13\nFrance: 12 324,13 ?\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1658995094,"post_id":73148967,"comment_id":129191528,"body_markdown":"By default the test is already transactional (`@DataJpaTest` itself is `@Transactional` already) and should work as  you describe.","body":"By default the test is already transactional (<code>@DataJpaTest</code> itself is <code>@Transactional</code> already) and should work as  you describe."},{"owner":{"account_id":316179,"reputation":1167,"user_id":632199,"accept_rate":98,"display_name":"Denis"},"score":0,"creation_date":1658995486,"post_id":73148967,"comment_id":129191667,"body_markdown":"It works partly. `userIsCreatedAndRead` is passed, user saved and read, but I guess that it&#39;s read from a local cache. Record is not actually flushed to the DB. `emailIsUnique` is failed, because records are not actually inserted in the DB, and I don&#39;t get unique constraint violation.","body":"It works partly. <code>userIsCreatedAndRead</code> is passed, user saved and read, but I guess that it&#39;s read from a local cache. Record is not actually flushed to the DB. <code>emailIsUnique</code> is failed, because records are not actually inserted in the DB, and I don&#39;t get unique constraint violation."},{"owner":{"account_id":316179,"reputation":1167,"user_id":632199,"accept_rate":98,"display_name":"Denis"},"score":0,"creation_date":1658995868,"post_id":73148967,"comment_id":129191800,"body_markdown":"If I add the following code `for (UserEntity u : userRepository.findAll()) { System.out.println(u); }` after a second user saving, then it forces records flush to the DB and I get `DataIntegrityViolationException` as expected. I guess I need a way to force records flush to DB in tests. Hmm... I could replace `CrudRepository` by `JpaRepository` and use `saveAndFlush()`. Maybe this solution is not so bad.","body":"If I add the following code <code>for (UserEntity u : userRepository.findAll()) { System.out.println(u); }</code> after a second user saving, then it forces records flush to the DB and I get <code>DataIntegrityViolationException</code> as expected. I guess I need a way to force records flush to DB in tests. Hmm... I could replace <code>CrudRepository</code> by <code>JpaRepository</code> and use <code>saveAndFlush()</code>. Maybe this solution is not so bad."},{"owner":{"account_id":316179,"reputation":1167,"user_id":632199,"accept_rate":98,"display_name":"Denis"},"score":0,"creation_date":1658996304,"post_id":73148967,"comment_id":129191878,"body_markdown":"But maybe there is another solutions without `JpaRepository`?","body":"But maybe there is another solutions without <code>JpaRepository</code>?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1658997075,"post_id":73148967,"comment_id":129192145,"body_markdown":"You can inject the `TestEntityManager` and between `save` calls call `TestEntityManager.flush` instead of modifying your code to please the test.","body":"You can inject the <code>TestEntityManager</code> and between <code>save</code> calls call <code>TestEntityManager.flush</code> instead of modifying your code to please the test."},{"owner":{"account_id":316179,"reputation":1167,"user_id":632199,"accept_rate":98,"display_name":"Denis"},"score":0,"creation_date":1658997611,"post_id":73148967,"comment_id":129192351,"body_markdown":"Thanks! The following code works: `assertThrows(PersistenceException.class, () -&gt; { userRepository.save(user2); testEntityManager.flush(); });` It&#39;s interesting that it throws another exception: `PersistenceException` instead of `DataIntegrityViolationException`. However, I think there is not much difference for testing.","body":"Thanks! The following code works: <code>assertThrows(PersistenceException.class, () -&gt; { userRepository.save(user2); testEntityManager.flush(); });</code> It&#39;s interesting that it throws another exception: <code>PersistenceException</code> instead of <code>DataIntegrityViolationException</code>. However, I think there is not much difference for testing."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1658997705,"post_id":73148967,"comment_id":129192390,"body_markdown":"Because you are calling the raw JPA API this way instead of through the repository and thus no exception translation will occur.","body":"Because you are calling the raw JPA API this way instead of through the repository and thus no exception translation will occur."}],"owner":{"account_id":316179,"reputation":1167,"user_id":632199,"accept_rate":98,"display_name":"Denis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658994309,"creation_date":1658993877,"question_id":73148967,"body_markdown":"Here is a sample entity and a repository in a Spring Boot application. I&#39;m trying to test it. I need to commit all changes inside each test and rollback them after the test is finished.\r\n\r\nIf I remove `@Transactional(propagation = Propagation.NOT_SUPPORTED)` then the changes not commited at all. And I don&#39;t get an exception when insert users with the same email and `emailIsUnique` is failed. If I add this annotation, then changes are commited and `emailIsUnique` is passed. But `userIsCreatedAndRead` is failed, because user John Doe is already created in `emailIsUnique` and not rollbacked.\r\n\r\nHow to fix it?\r\n\r\n```\r\npackage com.example.springdata.entities;\r\n\r\nimport java.util.UUID;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport javax.validation.constraints.Email;\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.Size;\r\n\r\nimport org.hibernate.annotations.NaturalId;\r\n\r\n@Entity(name = &quot;Users&quot;)\r\npublic class UserEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID id;\r\n\r\n    @NaturalId\r\n    @Column(length = 100, unique = true)\r\n    @NotNull\r\n    @Size(min = 3, max = 100)\r\n    private String login;\r\n\r\n    @Column(length = 100, unique = true)\r\n    @Email\r\n    private String email;\r\n\r\n    @Column(length = 100)\r\n    private String firstName;\r\n\r\n    @Column(length = 100)\r\n    private String lastName;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getLogin() {\r\n        return login;\r\n    }\r\n\r\n    public void setLogin(String login) {\r\n        this.login = login;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npackage com.example.springdata.repositories;\r\n\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.data.rest.core.annotation.RepositoryRestResource;\r\n\r\nimport com.example.springdata.entities.UserEntity;\r\n\r\n@RepositoryRestResource(path = &quot;users&quot;, collectionResourceRel = &quot;users&quot;)\r\npublic interface UserRepository extends CrudRepository&lt;UserEntity, UUID&gt; {\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.example.springdata.repositories;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport org.springframework.dao.DataIntegrityViolationException;\r\nimport org.springframework.test.annotation.Rollback;\r\nimport org.springframework.transaction.annotation.Propagation;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport com.example.springdata.entities.UserEntity;\r\n\r\nimport io.zonky.test.db.AutoConfigureEmbeddedDatabase;\r\nimport io.zonky.test.db.AutoConfigureEmbeddedDatabase.DatabaseProvider;\r\n\r\n@DataJpaTest\r\n@AutoConfigureEmbeddedDatabase(provider = DatabaseProvider.ZONKY)\r\n@Transactional(propagation = Propagation.NOT_SUPPORTED)\r\nclass UserRepositoryIntegrationTests {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Test\r\n    void userIsCreatedAndRead() {\r\n        UserEntity user = createEntity1();\r\n        userRepository.save(user);\r\n\r\n        assertThat(user.getId()).isNotNull();\r\n\r\n        Optional&lt;UserEntity&gt; optionalUser = userRepository.findById(user.getId());\r\n        assertThat(optionalUser).isPresent();\r\n\r\n        optionalUser.ifPresent(foundUser -&gt; assertThat(foundUser).usingRecursiveComparison().isEqualTo(user));\r\n    }\r\n\r\n    @Test\r\n    void emailIsUnique() {\r\n        UserEntity user1 = createEntity1();\r\n        userRepository.save(user1);\r\n\r\n        UserEntity user2 = createEntity2();\r\n        user2.setEmail(user1.getEmail());\r\n        assertThrows(DataIntegrityViolationException.class, () -&gt; userRepository.save(user2));\r\n    }\r\n\r\n    private UserEntity createEntity1() {\r\n        UserEntity user = new UserEntity();\r\n        user.setLogin(&quot;john&quot;); //$NON-NLS-1$\r\n        user.setFirstName(&quot;John&quot;); //$NON-NLS-1$\r\n        user.setLastName(&quot;Doe&quot;); //$NON-NLS-1$\r\n        user.setEmail(&quot;john.doe@example.com&quot;); //$NON-NLS-1$\r\n        return user;\r\n    }\r\n\r\n    private UserEntity createEntity2() {\r\n        UserEntity user = new UserEntity();\r\n        user.setLogin(&quot;jane&quot;); //$NON-NLS-1$\r\n        user.setFirstName(&quot;Jane&quot;); //$NON-NLS-1$\r\n        user.setLastName(&quot;Smith&quot;); //$NON-NLS-1$\r\n        user.setEmail(&quot;jane.smith@example.com&quot;); //$NON-NLS-1$\r\n        return user;\r\n    }\r\n\r\n}\r\n```","title":"How to commit changes inside tests and rollback them after each test?","body":"<p>Here is a sample entity and a repository in a Spring Boot application. I'm trying to test it. I need to commit all changes inside each test and rollback them after the test is finished.</p>\n<p>If I remove <code>@Transactional(propagation = Propagation.NOT_SUPPORTED)</code> then the changes not commited at all. And I don't get an exception when insert users with the same email and <code>emailIsUnique</code> is failed. If I add this annotation, then changes are commited and <code>emailIsUnique</code> is passed. But <code>userIsCreatedAndRead</code> is failed, because user John Doe is already created in <code>emailIsUnique</code> and not rollbacked.</p>\n<p>How to fix it?</p>\n<pre><code>package com.example.springdata.entities;\n\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\n\nimport org.hibernate.annotations.NaturalId;\n\n@Entity(name = &quot;Users&quot;)\npublic class UserEntity {\n\n    @Id\n    @GeneratedValue\n    private UUID id;\n\n    @NaturalId\n    @Column(length = 100, unique = true)\n    @NotNull\n    @Size(min = 3, max = 100)\n    private String login;\n\n    @Column(length = 100, unique = true)\n    @Email\n    private String email;\n\n    @Column(length = 100)\n    private String firstName;\n\n    @Column(length = 100)\n    private String lastName;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getLogin() {\n        return login;\n    }\n\n    public void setLogin(String login) {\n        this.login = login;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n}\n</code></pre>\n<pre><code>package com.example.springdata.repositories;\n\nimport java.util.UUID;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.data.rest.core.annotation.RepositoryRestResource;\n\nimport com.example.springdata.entities.UserEntity;\n\n@RepositoryRestResource(path = &quot;users&quot;, collectionResourceRel = &quot;users&quot;)\npublic interface UserRepository extends CrudRepository&lt;UserEntity, UUID&gt; {\n\n}\n</code></pre>\n<pre><code>package com.example.springdata.repositories;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\n\nimport java.util.Optional;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.dao.DataIntegrityViolationException;\nimport org.springframework.test.annotation.Rollback;\nimport org.springframework.transaction.annotation.Propagation;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.example.springdata.entities.UserEntity;\n\nimport io.zonky.test.db.AutoConfigureEmbeddedDatabase;\nimport io.zonky.test.db.AutoConfigureEmbeddedDatabase.DatabaseProvider;\n\n@DataJpaTest\n@AutoConfigureEmbeddedDatabase(provider = DatabaseProvider.ZONKY)\n@Transactional(propagation = Propagation.NOT_SUPPORTED)\nclass UserRepositoryIntegrationTests {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Test\n    void userIsCreatedAndRead() {\n        UserEntity user = createEntity1();\n        userRepository.save(user);\n\n        assertThat(user.getId()).isNotNull();\n\n        Optional&lt;UserEntity&gt; optionalUser = userRepository.findById(user.getId());\n        assertThat(optionalUser).isPresent();\n\n        optionalUser.ifPresent(foundUser -&gt; assertThat(foundUser).usingRecursiveComparison().isEqualTo(user));\n    }\n\n    @Test\n    void emailIsUnique() {\n        UserEntity user1 = createEntity1();\n        userRepository.save(user1);\n\n        UserEntity user2 = createEntity2();\n        user2.setEmail(user1.getEmail());\n        assertThrows(DataIntegrityViolationException.class, () -&gt; userRepository.save(user2));\n    }\n\n    private UserEntity createEntity1() {\n        UserEntity user = new UserEntity();\n        user.setLogin(&quot;john&quot;); //$NON-NLS-1$\n        user.setFirstName(&quot;John&quot;); //$NON-NLS-1$\n        user.setLastName(&quot;Doe&quot;); //$NON-NLS-1$\n        user.setEmail(&quot;john.doe@example.com&quot;); //$NON-NLS-1$\n        return user;\n    }\n\n    private UserEntity createEntity2() {\n        UserEntity user = new UserEntity();\n        user.setLogin(&quot;jane&quot;); //$NON-NLS-1$\n        user.setFirstName(&quot;Jane&quot;); //$NON-NLS-1$\n        user.setLastName(&quot;Smith&quot;); //$NON-NLS-1$\n        user.setEmail(&quot;jane.smith@example.com&quot;); //$NON-NLS-1$\n        return user;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1658991895,"post_id":73148095,"comment_id":129190462,"body_markdown":"You have to take permanent uri permission in onActivityResult in order to use an uri later.","body":"You have to take permanent uri permission in onActivityResult in order to use an uri later."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1658992013,"post_id":73148095,"comment_id":129190496,"body_markdown":"`Any ideas how to save this selected file ` ? You will not save that file. As then you would have a copy. You only have to remember which file it is. Indeed: save Uri.toString() to shared preferences.","body":"<code>Any ideas how to save this selected file </code> ? You will not save that file. As then you would have a copy. You only have to remember which file it is. Indeed: save Uri.toString() to shared preferences."},{"owner":{"account_id":17763883,"reputation":31,"user_id":12899275,"display_name":"Topstiks"},"score":0,"creation_date":1658992747,"post_id":73148095,"comment_id":129190722,"body_markdown":"How can I gain permanent uri permission? Right now I loose this permission when application is closed.","body":"How can I gain permanent uri permission? Right now I loose this permission when application is closed."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1658992937,"post_id":73148095,"comment_id":129190772,"body_markdown":"You should take persistable uri permission was the hint. Now did you google for it?","body":"You should take persistable uri permission was the hint. Now did you google for it?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658993044,"post_id":73148095,"comment_id":129190806,"body_markdown":"https://developer.android.com/training/data-storage/shared/documents-files#persist-permissions","body":"<a href=\"https://developer.android.com/training/data-storage/shared/documents-files#persist-permissions\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/shared/&hellip;</a>"},{"owner":{"account_id":17763883,"reputation":31,"user_id":12899275,"display_name":"Topstiks"},"score":1,"creation_date":1658993253,"post_id":73148095,"comment_id":129190871,"body_markdown":"After adding flags to the Intent (    Intent data = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n    data.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    data.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);) I still continue to get the error. And yes, I did google it.","body":"After adding flags to the Intent (    Intent data = new Intent(Intent.ACTION_OPEN_DOCUMENT);     data.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);     data.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);) I still continue to get the error. And yes, I did google it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1658993482,"post_id":73148095,"comment_id":129190950,"body_markdown":"You should not add those flags to your intent. Better read the link OneCricketeer gave you as there you see what to do. `contentResolver.takePersistableUriPermission(uri, takeFlags)`","body":"You should not add those flags to your intent. Better read the link OneCricketeer gave you as there you see what to do. <code>contentResolver.takePersistableUriPermission(uri, takeFlags)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658993743,"creation_date":1658989399,"answer_id":73148124,"question_id":73148095,"body_markdown":"Last I checked, `raw/assets` is considered read-only and is a build-time file location. Rather than copy anything, you can [reference the file&#39;s URI (absolute file path) after choosing](https://developer.android.com/training/data-storage/shared/documents-files#perform-operations), then save that as a String in [SharedPreferences](https://developer.android.com/training/data-storage/shared-preferences). \r\n\r\nHowever, you will need to catch exceptions if the saved file-path is renamed or moved and have the app re-prompt to choose that file, as well as handle Intent/URI permission requests, as indicated by the docs. ","title":"Save file from file-picker for later use (without picking again)","body":"<p>Last I checked, <code>raw/assets</code> is considered read-only and is a build-time file location. Rather than copy anything, you can <a href=\"https://developer.android.com/training/data-storage/shared/documents-files#perform-operations\" rel=\"nofollow noreferrer\">reference the file's URI (absolute file path) after choosing</a>, then save that as a String in <a href=\"https://developer.android.com/training/data-storage/shared-preferences\" rel=\"nofollow noreferrer\">SharedPreferences</a>.</p>\n<p>However, you will need to catch exceptions if the saved file-path is renamed or moved and have the app re-prompt to choose that file, as well as handle Intent/URI permission requests, as indicated by the docs.</p>\n"}],"owner":{"account_id":17763883,"reputation":31,"user_id":12899275,"display_name":"Topstiks"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658994255,"creation_date":1658989213,"question_id":73148095,"body_markdown":"I need to let user choose a file(certificate `.pem` file) from internal storage. This is used to access the server but when app is closed and reopened it would be annoying to choose cert every time. What I want to do is save this file for later use, how can that be done? If possible I would want to copy said cert file to application raw/assets folder.\r\nHere&#39;s how I get the file:\r\n \r\n\r\n        ActivityResultLauncher&lt;Intent&gt; sARL = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n        @Override\r\n        public void onActivityResult(ActivityResult result) {\r\n            if (result.getResultCode() == Activity.RESULT_OK){\r\n                Context context = getmInstanceActivity();\r\n                Intent data = result.getData();\r\n            }\r\n        }\r\n    });\r\n\r\n    public void openFileDialog( View view){\r\n    Intent data = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n    data.setType(&quot;*/*&quot;);\r\n    data = Intent.createChooser(data, &quot;Choose file&quot;);\r\n    sARL.launch(data);\r\n    }\r\n\r\nRight now I use the file, but this is hard coded to raw folder, which contains the cert for now. If possible, I would like to leave this part of the code as is.\r\n\r\n    InputStream certificateChainAsInputStream = MainActivity.getContext().getResources().openRawResource(R.raw.certFile);\r\n\r\nAny ideas how to save this selected file so you don&#39;t have to do it manually every time would be a great help.\r\n","title":"Save file from file-picker for later use (without picking again)","body":"<p>I need to let user choose a file(certificate <code>.pem</code> file) from internal storage. This is used to access the server but when app is closed and reopened it would be annoying to choose cert every time. What I want to do is save this file for later use, how can that be done? If possible I would want to copy said cert file to application raw/assets folder.\nHere's how I get the file:</p>\n<pre><code>    ActivityResultLauncher&lt;Intent&gt; sARL = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n    @Override\n    public void onActivityResult(ActivityResult result) {\n        if (result.getResultCode() == Activity.RESULT_OK){\n            Context context = getmInstanceActivity();\n            Intent data = result.getData();\n        }\n    }\n});\n\npublic void openFileDialog( View view){\nIntent data = new Intent(Intent.ACTION_OPEN_DOCUMENT);\ndata.setType(&quot;*/*&quot;);\ndata = Intent.createChooser(data, &quot;Choose file&quot;);\nsARL.launch(data);\n}\n</code></pre>\n<p>Right now I use the file, but this is hard coded to raw folder, which contains the cert for now. If possible, I would like to leave this part of the code as is.</p>\n<pre><code>InputStream certificateChainAsInputStream = MainActivity.getContext().getResources().openRawResource(R.raw.certFile);\n</code></pre>\n<p>Any ideas how to save this selected file so you don't have to do it manually every time would be a great help.</p>\n"},{"tags":["java","multithreading","rx-java","rx-java2","reactive"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1658989409,"post_id":73147932,"comment_id":129189705,"body_markdown":"Why are you using `blockingGet`? Use a regular `subscribe` which you can then get a `Diposable` for or use a 4-arg version to work with a composite too. Where is that `onAborted`?","body":"Why are you using <code>blockingGet</code>? Use a regular <code>subscribe</code> which you can then get a <code>Diposable</code> for or use a 4-arg version to work with a composite too. Where is that <code>onAborted</code>?"},{"owner":{"account_id":8690808,"reputation":63,"user_id":6503750,"display_name":"Parag Chimanpure"},"score":0,"creation_date":1658995784,"post_id":73147932,"comment_id":129191771,"body_markdown":"I have added a updated the code for better understanding","body":"I have added a updated the code for better understanding"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1658996596,"post_id":73147932,"comment_id":129191971,"body_markdown":"`doOnDispose` would be the main way of doing it, but then you&#39;d likely have to use `timeout` or `takeUntil()` with a `Subject` at the very end of the chain to trigger dispose.","body":"<code>doOnDispose</code> would be the main way of doing it, but then you&#39;d likely have to use <code>timeout</code> or <code>takeUntil()</code> with a <code>Subject</code> at the very end of the chain to trigger dispose."}],"owner":{"account_id":8690808,"reputation":63,"user_id":6503750,"display_name":"Parag Chimanpure"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658993753,"creation_date":1658988088,"question_id":73147932,"body_markdown":"I have a requirement to abort the Rx Java Observable chain, Take Until helps partially but does a graceful completion of Job. I need a handle onAborted on all the the observables part of this chain. Dispose/CompositeDispose none of them are helping to delegate the onAborted handle upward in observable.\r\n\r\nNote: The RxJava is not being used here for UI Operations, rather to process/transform shorter data streams in memory.\r\n\r\n```\r\ndataObservable.map(row -&gt; convertRow())\r\n\t\t\t\t\t//.takeUntil(getAbortPredicate()/*return true when abort set to true*/)\r\n\t\t\t\t\t.collect(Collectors.toList())\r\n\t\t\t\t\t.doFinally(getResetAbortAction()/*resets abort flag*/)\r\n\t\t\t\t\t.blockingGet()\r\n\r\n```\r\nThe dataObservable itself here is chain of observables. I want to interrupt all such observables involved &amp; get a handle on abort for each of them.\r\n\r\n```\r\n\r\npublic class A {\r\n    private Observable&lt;Row&gt; observable;\r\n    private Boolean aborted;\r\n    private SomeUtilityWithResources utilty\r\n    \r\n    public A(Observable&lt;Row&gt; observable){\r\n        this.observable = observable;\r\n        this.aborted = false;\r\n        this.utilty = SomeUtilityWithResources.Init();\r\n    }\r\n    \r\n    \r\n    \r\n    public A mergeOp1(A aRight){\r\n        \tObservable&lt;Row&gt; merged = observable.flatMap(lr -&gt; aRight.observable.map(rr -&gt; utilty.merge1(lr.toList(), rr.toList())));\r\n        \t//When abruptly aborted I want to call utilty.resources.abort().... something like joined.OnAborted(utility.resources.abort())\r\n        \t//Tried OnDispose()/OnError doesn&#39;t get invoked though\r\n        \t//utilty.merge1 also returns an Observable\r\n        \treturn new A(merged)\r\n    }\r\n    public A mergeOp2(A aRight){\r\n        \tObservable&lt;Row&gt; merged = observable.flatMap(lr -&gt; aRight.observable.map(rr -&gt; utilty.merge2(lr.toList(), rr.toList())));\r\n        \t//When abruptly aborted I want to call utilty.resources.abort().... something like joined.OnAborted(utility.resources.abort())\r\n        \t//Tried OnDispose()/OnError doesn&#39;t get invoked though\r\n        \t//utilty.merge2 also returns an Observable\r\n        \treturn new A(merged)\r\n    }\r\n    public A mergeOp3(A aRight){\r\n        \tObservable&lt;Row&gt; merged = observable.flatMap(lr -&gt; aRight.observable.map(rr -&gt; utilty.merge3(lr.toList(), rr.toList())));\r\n        \t//When abruptly aborted I want to call utilty.resources.abort().... something like joined.OnAborted(utility.resources.abort())\r\n        \t//Tried OnDispose()/OnError doesn&#39;t get invoked though\r\n        \t//utilty.merge3 also returns an Observable\r\n        \treturn new A(merged)\r\n    }\r\n    \r\n    public List&lt;Row&gt; execWay1(){\r\n        observable.map(row -&gt; convertRowWay1())\r\n                    //.takeUntil(getAbortPredicate()/*return true when abort set to true*/)\r\n                    .collect(Collectors.toList())\r\n                    .doFinally(getResetAbortAction()/*resets abort flag*/)\r\n                    .blockingGet()\r\n    }\r\n    public Long count(){\r\n        observable\r\n            //.takeUntil(getAbortPredicate()/*return true when abort set to true*/)\r\n            .count()\r\n\t\t\t.doFinally(getResetAbortAction(action.toString()))\r\n\t\t\t.blockingGet()\r\n    } \r\n    \r\n    public void abort(){\r\n        this.aborted = true;\r\n    }\r\n    private Action getResetAbortAction(String action) {\r\n\t\treturn new Action() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() throws Throwable {\r\n\t\t\t\tif (aborted.get()) {\r\n\t\t\t\t\taborted.set(false);\r\n\t\t\t\t\t//LOGGER.error(action + &quot; execution aborted successfully!&quot;);\r\n\t\t\t\t\t//throw new Exception(&quot;Aborted&quot;)\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tprivate Predicate&lt;T&gt; getAbortPredicate() {\r\n\t\treturn new Predicate&lt;T&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic boolean test(T t) throws Exception {\r\n\t\t\t\treturn aborted.get();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n\r\n\r\n/* Executor would be calling:\r\n\r\nA a = SomeUtilityWithResources.getDefaultObservableFromSomeSource();\r\na = a.mergeOp1.mergeOp2.mergedOp3\r\na.count()\r\n//if taking longer.... a.abort() on seperate thread;\r\na.execWay1();\r\n\r\n```","title":"How to Interrupt/Abort Rx Java Observable Chain Subscription?","body":"<p>I have a requirement to abort the Rx Java Observable chain, Take Until helps partially but does a graceful completion of Job. I need a handle onAborted on all the the observables part of this chain. Dispose/CompositeDispose none of them are helping to delegate the onAborted handle upward in observable.</p>\n<p>Note: The RxJava is not being used here for UI Operations, rather to process/transform shorter data streams in memory.</p>\n<pre><code>dataObservable.map(row -&gt; convertRow())\n                    //.takeUntil(getAbortPredicate()/*return true when abort set to true*/)\n                    .collect(Collectors.toList())\n                    .doFinally(getResetAbortAction()/*resets abort flag*/)\n                    .blockingGet()\n\n</code></pre>\n<p>The dataObservable itself here is chain of observables. I want to interrupt all such observables involved &amp; get a handle on abort for each of them.</p>\n<pre><code>\npublic class A {\n    private Observable&lt;Row&gt; observable;\n    private Boolean aborted;\n    private SomeUtilityWithResources utilty\n    \n    public A(Observable&lt;Row&gt; observable){\n        this.observable = observable;\n        this.aborted = false;\n        this.utilty = SomeUtilityWithResources.Init();\n    }\n    \n    \n    \n    public A mergeOp1(A aRight){\n            Observable&lt;Row&gt; merged = observable.flatMap(lr -&gt; aRight.observable.map(rr -&gt; utilty.merge1(lr.toList(), rr.toList())));\n            //When abruptly aborted I want to call utilty.resources.abort().... something like joined.OnAborted(utility.resources.abort())\n            //Tried OnDispose()/OnError doesn't get invoked though\n            //utilty.merge1 also returns an Observable\n            return new A(merged)\n    }\n    public A mergeOp2(A aRight){\n            Observable&lt;Row&gt; merged = observable.flatMap(lr -&gt; aRight.observable.map(rr -&gt; utilty.merge2(lr.toList(), rr.toList())));\n            //When abruptly aborted I want to call utilty.resources.abort().... something like joined.OnAborted(utility.resources.abort())\n            //Tried OnDispose()/OnError doesn't get invoked though\n            //utilty.merge2 also returns an Observable\n            return new A(merged)\n    }\n    public A mergeOp3(A aRight){\n            Observable&lt;Row&gt; merged = observable.flatMap(lr -&gt; aRight.observable.map(rr -&gt; utilty.merge3(lr.toList(), rr.toList())));\n            //When abruptly aborted I want to call utilty.resources.abort().... something like joined.OnAborted(utility.resources.abort())\n            //Tried OnDispose()/OnError doesn't get invoked though\n            //utilty.merge3 also returns an Observable\n            return new A(merged)\n    }\n    \n    public List&lt;Row&gt; execWay1(){\n        observable.map(row -&gt; convertRowWay1())\n                    //.takeUntil(getAbortPredicate()/*return true when abort set to true*/)\n                    .collect(Collectors.toList())\n                    .doFinally(getResetAbortAction()/*resets abort flag*/)\n                    .blockingGet()\n    }\n    public Long count(){\n        observable\n            //.takeUntil(getAbortPredicate()/*return true when abort set to true*/)\n            .count()\n            .doFinally(getResetAbortAction(action.toString()))\n            .blockingGet()\n    } \n    \n    public void abort(){\n        this.aborted = true;\n    }\n    private Action getResetAbortAction(String action) {\n        return new Action() {\n            @Override\n            public void run() throws Throwable {\n                if (aborted.get()) {\n                    aborted.set(false);\n                    //LOGGER.error(action + &quot; execution aborted successfully!&quot;);\n                    //throw new Exception(&quot;Aborted&quot;)\n                }\n\n            }\n        };\n    }\n\n    private Predicate&lt;T&gt; getAbortPredicate() {\n        return new Predicate&lt;T&gt;() {\n            @Override\n            public boolean test(T t) throws Exception {\n                return aborted.get();\n            }\n        };\n    }\n}\n\n\n/* Executor would be calling:\n\nA a = SomeUtilityWithResources.getDefaultObservableFromSomeSource();\na = a.mergeOp1.mergeOp2.mergedOp3\na.count()\n//if taking longer.... a.abort() on seperate thread;\na.execWay1();\n\n</code></pre>\n"},{"tags":["java","spring-mvc","spring-boot","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":64621,"reputation":1685,"user_id":190674,"accept_rate":50,"display_name":"erhanasikoglu"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1604410390,"creation_date":1525378045,"answer_id":50163092,"question_id":49348551,"body_markdown":"If you want to continue with boot starter packages, according to [release notes][1]  you need to override `authanticationManagerBean` method inside the `WebSecurityConfigurerAdapter` .\r\nHere code sample :\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Bean\r\n    \t@Override\r\n    \tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\treturn super.authenticationManagerBean();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#authenticationmanager-bean","title":"Could not autowire authentication manager in Spring Boot 2.0.0","body":"<p>If you want to continue with boot starter packages, according to <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#authenticationmanager-bean\" rel=\"noreferrer\">release notes</a>  you need to override <code>authanticationManagerBean</code> method inside the <code>WebSecurityConfigurerAdapter</code> .\nHere code sample :</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1658993640,"creation_date":1658993640,"answer_id":73148910,"question_id":49348551,"body_markdown":"In latest version of Spring Boot `2.7.2` , class `WebSecurityConfigurerAdapter` is deprecated and you have to use new style to write security configurations , \r\n\r\n[Spring Security without the WebSecurityConfigurerAdapter](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter)\r\n\r\nWith that being said , something like below works for me with Spring Boot 2.7.2 . \r\nI have a JWT token filter that required plugged in to verify incoming JWT Tokens.\r\nTrying to highlight the usage of - `SecurityFilterChain`  &amp; `AuthenticationConfiguration`\r\n\r\n\r\n\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.AuthenticationProvider;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.web.AuthenticationEntryPoint;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter;\r\n    import org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\r\n    import org.springframework.security.web.util.matcher.RequestMatcher;\r\n    \r\n    //import my custom jwt class package;\r\n    \r\n    import lombok.RequiredArgsConstructor;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    public class WebSecurityConfig {\r\n    \r\n        private final AuthenticationConfiguration authConfiguration;\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager() throws Exception {\r\n    \treturn authConfiguration.getAuthenticationManager();\r\n        }\r\n    \r\n        @Autowired\r\n        public void configure(AuthenticationManagerBuilder builder, AuthenticationProvider jwtAuthenticationProvider) {\r\n    \tbuilder.authenticationProvider(jwtAuthenticationProvider);\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain configure(HttpSecurity http, AuthenticationEntryPoint authenticationEntryPoint,\r\n    \t    RequestMatcher requestMatcher)\r\n    \t    throws Exception {\r\n    \thttp.cors().and().csrf().disable().exceptionHandling().authenticationEntryPoint(authenticationEntryPoint).and()\r\n    \t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\r\n    \t\t.antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\r\n    \t\t.antMatchers(HttpMethod.GET, List.of(&quot;/favicon.ico&quot;, &quot;/**/*.html&quot;).toArray(new String[0])).permitAll();\r\n    \r\n    \tAbstractAuthenticationProcessingFilter jwtFilter = new MyCustomClass(requestMatcher);\r\n    \tjwtFilter.setAuthenticationManager(authenticationManager());\r\n    \thttp.addFilterBefore(jwtFilter, BasicAuthenticationFilter.class);\r\n    \treturn http.build();\r\n        }\r\n    }\r\n\r\n","title":"Could not autowire authentication manager in Spring Boot 2.0.0","body":"<p>In latest version of Spring Boot <code>2.7.2</code> , class <code>WebSecurityConfigurerAdapter</code> is deprecated and you have to use new style to write security configurations ,</p>\n<p><a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"noreferrer\">Spring Security without the WebSecurityConfigurerAdapter</a></p>\n<p>With that being said , something like below works for me with Spring Boot 2.7.2 .\nI have a JWT token filter that required plugged in to verify incoming JWT Tokens.\nTrying to highlight the usage of - <code>SecurityFilterChain</code>  &amp; <code>AuthenticationConfiguration</code></p>\n<pre><code>import java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter;\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\nimport org.springframework.security.web.util.matcher.RequestMatcher;\n\n//import my custom jwt class package;\n\nimport lombok.RequiredArgsConstructor;\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class WebSecurityConfig {\n\n    private final AuthenticationConfiguration authConfiguration;\n\n    @Bean\n    public AuthenticationManager authenticationManager() throws Exception {\n    return authConfiguration.getAuthenticationManager();\n    }\n\n    @Autowired\n    public void configure(AuthenticationManagerBuilder builder, AuthenticationProvider jwtAuthenticationProvider) {\n    builder.authenticationProvider(jwtAuthenticationProvider);\n    }\n\n    @Bean\n    public SecurityFilterChain configure(HttpSecurity http, AuthenticationEntryPoint authenticationEntryPoint,\n        RequestMatcher requestMatcher)\n        throws Exception {\n    http.cors().and().csrf().disable().exceptionHandling().authenticationEntryPoint(authenticationEntryPoint).and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\n        .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\n        .antMatchers(HttpMethod.GET, List.of(&quot;/favicon.ico&quot;, &quot;/**/*.html&quot;).toArray(new String[0])).permitAll();\n\n    AbstractAuthenticationProcessingFilter jwtFilter = new MyCustomClass(requestMatcher);\n    jwtFilter.setAuthenticationManager(authenticationManager());\n    http.addFilterBefore(jwtFilter, BasicAuthenticationFilter.class);\n    return http.build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7941442,"reputation":415,"user_id":5995293,"display_name":"Zohaib Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24267,"favorite_count":0,"down_vote_count":2,"up_vote_count":24,"accepted_answer_id":50163092,"answer_count":2,"score":22,"last_activity_date":1658993640,"creation_date":1521380618,"question_id":49348551,"body_markdown":"So I&#39;ve been trying to implement oAuth2 in a simple Spring MVC app.\r\n\r\nIn the guide I was following, in their `AuthorizationServerConfigurerAdapter` they `@Autowired` an `AuthenticationManager`. They used Spring Boot version 1.5.2.\r\n\r\nI wanted to use Spring Boot 2.0.0 as this is the latest version so I wanted to learn the latest practices. However, in my pom.xml when I change:\r\n\r\n    \r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\nto:\r\n    \r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\nAll of a sudden, I can&#39;t autowire `AuthenticationManager`.\r\n\r\n`Could not autowire. No beans of &#39;AuthenticationManager&#39; type found.`\r\n\r\nCould someone come up with a solution to this?\r\n\r\nThanks!","title":"Could not autowire authentication manager in Spring Boot 2.0.0","body":"<p>So I've been trying to implement oAuth2 in a simple Spring MVC app.</p>\n\n<p>In the guide I was following, in their <code>AuthorizationServerConfigurerAdapter</code> they <code>@Autowired</code> an <code>AuthenticationManager</code>. They used Spring Boot version 1.5.2.</p>\n\n<p>I wanted to use Spring Boot 2.0.0 as this is the latest version so I wanted to learn the latest practices. However, in my pom.xml when I change:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>All of a sudden, I can't autowire <code>AuthenticationManager</code>.</p>\n\n<p><code>Could not autowire. No beans of 'AuthenticationManager' type found.</code></p>\n\n<p>Could someone come up with a solution to this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","twilio","twilio-api","msg","twilio-javascript"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1658987946,"post_id":73147867,"comment_id":129189330,"body_markdown":"I’m voting to close this question because it&#39;s a support question about the internal operation of a third-party service.","body":"I’m voting to close this question because it&#39;s a support question about the internal operation of a third-party service."},{"owner":{"account_id":25913995,"reputation":3,"user_id":19637651,"display_name":"vishvjeet shekhawat"},"score":0,"creation_date":1658991136,"post_id":73147867,"comment_id":129190215,"body_markdown":"Yes but if someone was facing the same So can share their experience .","body":"Yes but if someone was facing the same So can share their experience ."}],"answers":[{"tags":[],"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658993439,"creation_date":1658993439,"answer_id":73148874,"question_id":73147867,"body_markdown":"If you delete a messaging service the number will remain in your account. To delete a number you need to explicitly release it, either in the UI or [using the API][1].\r\n\r\n\r\n  [1]: https://www.twilio.com/docs/phone-numbers/api/incomingphonenumber-resource#delete-an-incomingphonenumber-resource","title":"If I delete messaging service in Twilio then it will also remove mobile number from it?","body":"<p>If you delete a messaging service the number will remain in your account. To delete a number you need to explicitly release it, either in the UI or <a href=\"https://www.twilio.com/docs/phone-numbers/api/incomingphonenumber-resource#delete-an-incomingphonenumber-resource\" rel=\"nofollow noreferrer\">using the API</a>.</p>\n"}],"owner":{"account_id":25913995,"reputation":3,"user_id":19637651,"display_name":"vishvjeet shekhawat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659012192,"accepted_answer_id":73148874,"answer_count":1,"score":0,"last_activity_date":1658993439,"creation_date":1658987619,"question_id":73147867,"body_markdown":"If I delete messaging service from Twilio then the mobile number is register will it also delete ?","title":"If I delete messaging service in Twilio then it will also remove mobile number from it?","body":"<p>If I delete messaging service from Twilio then the mobile number is register will it also delete ?</p>\n"},{"tags":["java","jsf","cassandra","primefaces","managed-bean"],"answers":[{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511921489,"creation_date":1511921489,"answer_id":47543946,"question_id":47542208,"body_markdown":"You should use the same guava version as your cassandra-driver-core dependency, to be safe. E.g. cassandra-driver-core 3.0.0 uses guava 16.0.1\r\n\r\nSee\r\nhttps://mvnrepository.com/artifact/com.datastax.cassandra/cassandra-driver-core\r\n\r\nThe error message only guesses your guava version.","title":"Getting a guava error while trying to connect to Cassandra in a managed bean","body":"<p>You should use the same guava version as your cassandra-driver-core dependency, to be safe. E.g. cassandra-driver-core 3.0.0 uses guava 16.0.1</p>\n\n<p>See\n<a href=\"https://mvnrepository.com/artifact/com.datastax.cassandra/cassandra-driver-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.datastax.cassandra/cassandra-driver-core</a></p>\n\n<p>The error message only guesses your guava version.</p>\n"}],"owner":{"account_id":12362043,"reputation":61,"user_id":9015865,"display_name":"Marco Ventura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1922,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658993407,"creation_date":1511909238,"question_id":47542208,"body_markdown":"It says i need guava&#39;s version to be over 16, but I&#39;m using guava 19. I even did mvn dependency:tree to check if something else is using guava, but there&#39;s only that version.    \r\n\r\n    @Named(value = &quot;glicoseChart&quot;)\r\n    @Dependent\r\n    public class GlicoseChart implements Serializable{\r\n    \r\n    private LineChartModel glicoseModel;\r\n    public LongTermPersistence longTerm;\r\n    \r\n    @PostConstruct\r\n    public void init() {\r\n        createLineModels();\r\n    }\r\n\r\n    public LineChartModel getGlicoseModel() {\r\n        return glicoseModel;\r\n    }\r\n    \r\n    private void createLineModels() {     \r\n        glicoseModel = initLinearModel();\r\n    }\r\n\r\n    private LineChartModel initLinearModel() \r\n    {\r\n        LineChartModel model = new LineChartModel();\r\n\r\n    longTerm = new LongTermPersistence();\r\n\r\n    // VVVVVVVVVVVVV\r\n    longTerm.connectB();\r\n\r\nIt gives an error trying to connect. And the connection code:\r\n\r\n     public void connectB()\r\n     {\r\n       this.cluster = Cluster.builder()\r\n               .addContactPoint(&quot;127.0.0.1&quot;)\r\n               .withPort(9042)\r\n               .build();\r\n       session = cluster.connect();\r\n    }\r\n\r\nIt gives an error trying to build the cluster. However, if I try to connect in another class, and not in the managed bean, it works just fine.\r\n\r\nHowever, inside the managed bean, i get this error:\r\n\r\n&gt;Caused by: com.datastax.driver.core.exceptions.DriverInternalError: Detected incompatible version of Guava in the classpath. You need 16.0.1 or higher. at com.datastax.driver.core.GuavaCompatibility.selectImplementation(GuavaCompatibility.java:138) at com.datastax.driver.core.GuavaCompatibility.(GuavaCompatibility.java:52)\r\n\r\nThe thing is, i&#39;m using guava-19.0, and it&#39;s saying im using 16 below, which is not true, since I can use that piece of code in another class&#39; main. I&#39;m using cassandra 3 btw.","title":"Getting a guava error while trying to connect to Cassandra in a managed bean","body":"<p>It says i need guava's version to be over 16, but I'm using guava 19. I even did mvn dependency:tree to check if something else is using guava, but there's only that version.    </p>\n\n<pre><code>@Named(value = \"glicoseChart\")\n@Dependent\npublic class GlicoseChart implements Serializable{\n\nprivate LineChartModel glicoseModel;\npublic LongTermPersistence longTerm;\n\n@PostConstruct\npublic void init() {\n    createLineModels();\n}\n\npublic LineChartModel getGlicoseModel() {\n    return glicoseModel;\n}\n\nprivate void createLineModels() {     \n    glicoseModel = initLinearModel();\n}\n\nprivate LineChartModel initLinearModel() \n{\n    LineChartModel model = new LineChartModel();\n\nlongTerm = new LongTermPersistence();\n\n// VVVVVVVVVVVVV\nlongTerm.connectB();\n</code></pre>\n\n<p>It gives an error trying to connect. And the connection code:</p>\n\n<pre><code> public void connectB()\n {\n   this.cluster = Cluster.builder()\n           .addContactPoint(\"127.0.0.1\")\n           .withPort(9042)\n           .build();\n   session = cluster.connect();\n}\n</code></pre>\n\n<p>It gives an error trying to build the cluster. However, if I try to connect in another class, and not in the managed bean, it works just fine.</p>\n\n<p>However, inside the managed bean, i get this error:</p>\n\n<blockquote>\n  <p>Caused by: com.datastax.driver.core.exceptions.DriverInternalError: Detected incompatible version of Guava in the classpath. You need 16.0.1 or higher. at com.datastax.driver.core.GuavaCompatibility.selectImplementation(GuavaCompatibility.java:138) at com.datastax.driver.core.GuavaCompatibility.(GuavaCompatibility.java:52)</p>\n</blockquote>\n\n<p>The thing is, i'm using guava-19.0, and it's saying im using 16 below, which is not true, since I can use that piece of code in another class' main. I'm using cassandra 3 btw.</p>\n"},{"tags":["java","cassandra","primefaces","guava","managed-bean"],"comments":[{"owner":{"account_id":271922,"reputation":8007,"user_id":562721,"accept_rate":43,"display_name":"jny"},"score":3,"creation_date":1511802485,"post_id":47516066,"comment_id":81988443,"body_markdown":"Check your dependencies. If you are using maven, use `mvn dependency:tree`. Probably one of your dependencies is pulling in older version of guava.","body":"Check your dependencies. If you are using maven, use <code>mvn dependency:tree</code>. Probably one of your dependencies is pulling in older version of guava."},{"owner":{"account_id":12362043,"reputation":61,"user_id":9015865,"display_name":"Marco Ventura"},"score":0,"creation_date":1511911177,"post_id":47516066,"comment_id":82042217,"body_markdown":"I tried that, but there was only one version of guava being used, and it was the version 19. So I&#39;m at a loss","body":"I tried that, but there was only one version of guava being used, and it was the version 19. So I&#39;m at a loss"},{"owner":{"account_id":271922,"reputation":8007,"user_id":562721,"accept_rate":43,"display_name":"jny"},"score":0,"creation_date":1511919353,"post_id":47516066,"comment_id":82044458,"body_markdown":"How and where do you deploy your managed bean?","body":"How and where do you deploy your managed bean?"},{"owner":{"account_id":12362043,"reputation":61,"user_id":9015865,"display_name":"Marco Ventura"},"score":0,"creation_date":1511949319,"post_id":47516066,"comment_id":82056173,"body_markdown":"&lt;p:chart type=&quot;line&quot; model=&quot;#{glicoseChart.glicoseModel}&quot; style=&quot;height:400px;&quot;/&gt;","body":"&lt;p:chart type=&quot;line&quot; model=&quot;#{glicoseChart.glicoseModel}&quot; style=&quot;height:400px;&quot;/&gt;"}],"owner":{"account_id":12362043,"reputation":61,"user_id":9015865,"display_name":"Marco Ventura"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658993339,"creation_date":1511801672,"question_id":47516066,"body_markdown":"\r\n\r\n   \r\n    @Named(value = &quot;glicoseChart&quot;)\r\n    @Dependent\r\n    public class GlicoseChart implements Serializable{\r\n\r\n    private LineChartModel glicoseModel;\r\n    public LongTermPersistence longTerm;\r\n   \r\n    @PostConstruct\r\n    public void init() {\r\n        createLineModels();\r\n    }\r\n    \r\n    public LineChartModel getGlicoseModel() {\r\n        return glicoseModel;\r\n    }\r\n        \r\n    private void createLineModels() {     \r\n        glicoseModel = initLinearModel();\r\n    }\r\n \r\n    private LineChartModel initLinearModel() \r\n    {\r\n        LineChartModel model = new LineChartModel();\r\n \r\n        longTerm = new LongTermPersistence();\r\n\r\n        // VVVVVVVVVVVVV\r\n        longTerm.connectB();\r\n\r\n\r\nIt gives an error trying to connect.\r\nAnd the connection code: \r\n\r\n     public void connectB()\r\n     {\r\n       this.cluster = Cluster.builder()\r\n               .addContactPoint(&quot;127.0.0.1&quot;)\r\n               .withPort(9042)\r\n               .build();\r\n       session = cluster.connect();\r\n\r\n    }\r\n\r\nIt gives an error trying to build the cluster.\r\nHowever, if I try to connect in another class, and not in the managed bean, it works just fine.\r\n\r\nHowever, inside the managed bean, i get this error:\r\n\r\n&gt;Caused by: com.datastax.driver.core.exceptions.DriverInternalError: Detected incompatible version of Guava in the classpath. You need 16.0.1 or higher.\r\nat com.datastax.driver.core.GuavaCompatibility.selectImplementation(GuavaCompatibility.java:138)\r\n\tat com.datastax.driver.core.GuavaCompatibility.&lt;clinit&gt;(GuavaCompatibility.java:52)\r\n\r\n\r\nThe thing is, i&#39;m using guava-19.0, and it&#39;s saying im using 16 below, which is not true, since I can use that piece of code in another class&#39; main. I&#39;m using cassandra 3 btw.","title":"Trying to connect to Cassandra in a managed bean. Getting a incompatible guava error","body":"<pre><code>@Named(value = \"glicoseChart\")\n@Dependent\npublic class GlicoseChart implements Serializable{\n\nprivate LineChartModel glicoseModel;\npublic LongTermPersistence longTerm;\n\n@PostConstruct\npublic void init() {\n    createLineModels();\n}\n\npublic LineChartModel getGlicoseModel() {\n    return glicoseModel;\n}\n\nprivate void createLineModels() {     \n    glicoseModel = initLinearModel();\n}\n\nprivate LineChartModel initLinearModel() \n{\n    LineChartModel model = new LineChartModel();\n\n    longTerm = new LongTermPersistence();\n\n    // VVVVVVVVVVVVV\n    longTerm.connectB();\n</code></pre>\n\n<p>It gives an error trying to connect.\nAnd the connection code: </p>\n\n<pre><code> public void connectB()\n {\n   this.cluster = Cluster.builder()\n           .addContactPoint(\"127.0.0.1\")\n           .withPort(9042)\n           .build();\n   session = cluster.connect();\n\n}\n</code></pre>\n\n<p>It gives an error trying to build the cluster.\nHowever, if I try to connect in another class, and not in the managed bean, it works just fine.</p>\n\n<p>However, inside the managed bean, i get this error:</p>\n\n<blockquote>\n  <p>Caused by: com.datastax.driver.core.exceptions.DriverInternalError: Detected incompatible version of Guava in the classpath. You need 16.0.1 or higher.\n  at com.datastax.driver.core.GuavaCompatibility.selectImplementation(GuavaCompatibility.java:138)\n      at com.datastax.driver.core.GuavaCompatibility.(GuavaCompatibility.java:52)</p>\n</blockquote>\n\n<p>The thing is, i'm using guava-19.0, and it's saying im using 16 below, which is not true, since I can use that piece of code in another class' main. I'm using cassandra 3 btw.</p>\n"},{"tags":["java","eclipse","maven","noclassdeffounderror","unirest"],"comments":[{"owner":{"account_id":447134,"reputation":1792,"user_id":840584,"display_name":"Ilya Lysenko"},"score":0,"creation_date":1584391680,"post_id":60712131,"comment_id":107418386,"body_markdown":"Is a dependency with the UnirestException assempled into your jar?","body":"Is a dependency with the UnirestException assempled into your jar?"},{"owner":{"account_id":17964378,"reputation":71,"user_id":13054577,"display_name":"Zishan Amin"},"score":0,"creation_date":1584392482,"post_id":60712131,"comment_id":107418610,"body_markdown":"here is the path..com.mashape.unirest.http.exceptions. This specific exception class is embedded within the unirest jar which I call as a dependency in my POM. The actual unirest JAR executable itself is not in my JAR but rather it is decalred in my manifest file...","body":"here is the path..com.mashape.unirest.http.exceptions. This specific exception class is embedded within the unirest jar which I call as a dependency in my POM. The actual unirest JAR executable itself is not in my JAR but rather it is decalred in my manifest file..."},{"owner":{"account_id":17964378,"reputation":71,"user_id":13054577,"display_name":"Zishan Amin"},"score":0,"creation_date":1584393872,"post_id":60712131,"comment_id":107419070,"body_markdown":"@IlyaLysenko OK I think I partially solved it. I copied the physical JAR dependencies into my &#39;target&#39; folder which houses my JAR executable. Running the program like this worked. However, is there a way I can embed these dependencies within my JAR file to avoid doing this? Is there a maven command for it?","body":"@IlyaLysenko OK I think I partially solved it. I copied the physical JAR dependencies into my &#39;target&#39; folder which houses my JAR executable. Running the program like this worked. However, is there a way I can embed these dependencies within my JAR file to avoid doing this? Is there a maven command for it?"},{"owner":{"account_id":447134,"reputation":1792,"user_id":840584,"display_name":"Ilya Lysenko"},"score":0,"creation_date":1584395780,"post_id":60712131,"comment_id":107419635,"body_markdown":"The `mvn package` command have to assemble a jar with dependencies.","body":"The <code>mvn package</code> command have to assemble a jar with dependencies."},{"owner":{"account_id":17964378,"reputation":71,"user_id":13054577,"display_name":"Zishan Amin"},"score":1,"creation_date":1584396659,"post_id":60712131,"comment_id":107419907,"body_markdown":"Thanks @IlyaLysenko! I used mvn clean compile assembly:single and it did the trick! Just needed to update the POM file and all dependencies were inserted into only 1 JAR.","body":"Thanks @IlyaLysenko! I used mvn clean compile assembly:single and it did the trick! Just needed to update the POM file and all dependencies were inserted into only 1 JAR."}],"answers":[{"tags":[],"owner":{"account_id":17964378,"reputation":71,"user_id":13054577,"display_name":"Zishan Amin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1584397120,"creation_date":1584397120,"answer_id":60713925,"question_id":60712131,"body_markdown":"With the help of @IlyaSenko I managed to figure it out. I needed to include all my JAR dependencies within my actual JAR as opposed to simply declaring the dependency within my POM file. I updated my POM with the below to achieve this..\r\n\r\n``` \r\n&lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;mainClass&gt;org.example.project.StockTracker&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n        &lt;descriptorRefs&gt;\r\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n        &lt;/descriptorRefs&gt;\r\n      &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThen executed the following command using Maven &quot;**mvn clean compile assembly:single**&quot; which bundled all the JARs into one executable JAR. JAR worked after that. ","title":"Unable to initialize main class, Caused by: java.lang.NoClassDefFoundError: com/mashape/unirest/http/exceptions/UnirestException [JAVA]","body":"<p>With the help of @IlyaSenko I managed to figure it out. I needed to include all my JAR dependencies within my actual JAR as opposed to simply declaring the dependency within my POM file. I updated my POM with the below to achieve this..</p>\n\n<pre><code>&lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;org.example.project.StockTracker&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n      &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Then executed the following command using Maven \"<strong>mvn clean compile assembly:single</strong>\" which bundled all the JARs into one executable JAR. JAR worked after that. </p>\n"}],"owner":{"account_id":17964378,"reputation":71,"user_id":13054577,"display_name":"Zishan Amin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21548,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60713925,"answer_count":1,"score":1,"last_activity_date":1658993030,"creation_date":1584386948,"question_id":60712131,"body_markdown":"**PROBLEM**\r\n\r\nAfter I run the Maven &#39;compile&#39;, &#39;install&#39; command in Eclipse to create an executable JAR and proceed to run that JAR I get the below error\r\n\r\n```Error: Unable to initialize main class org.example.project.StockTracker`\r\nCaused by: java.lang.NoClassDefFoundError: com/mashape/unirest/http/exceptions/UnirestException```\r\n\r\nI have no clue what is going on. How can I resolve this? Below are some further details. I updated the POM with the main-class information and set the classpath to &#39;true&#39;. \r\n\r\n**MAIN CLASS CODE**\r\n\r\n    package org.example.project;\r\n    \r\n    import com.mashape.unirest.http.HttpResponse;\r\n    import com.mashape.unirest.http.Unirest;\r\n    import com.mashape.unirest.http.exceptions.UnirestException;\r\n    \r\n    public class StockTracker {\r\n    \t\r\n    \tpublic static void main (String[] args) throws UnirestException, InterruptedException  {\r\n    \t\tHttpResponse&lt;String&gt; response = Unirest.get(&quot;https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/get-quotes?region=US&amp;lang=en&amp;symbols=TSLA&quot;)\r\n    \t\t\t\t\t.header(&quot;x-rapidapi-host&quot;, &quot;apidojo-yahoo-finance-v1.p.rapidapi.com&quot;)\r\n    \t\t\t\t\t.header(&quot;x-rapidapi-key&quot;, &quot;api-key&quot;)\r\n    \t\t\t\t\t.asString();\r\n    \t\t\r\n    \t\t//System.out.println(response.getBody());\r\n    \t\tSystem.out.println(&quot;response.getBody()&quot;);\r\n    \t}\r\n    }\r\n\r\n**UNIREST EXCEPTION CLASS CODE**\r\n\r\n    package com.mashape.unirest.http.exceptions;\r\n    \r\n    public class UnirestException extends Exception {\r\n    \r\n    \tprivate static final long serialVersionUID = -3714840499934575734L;\r\n    \r\n    \tpublic UnirestException(Exception e) {\r\n    \t\tsuper(e);\r\n    \t}\r\n    \r\n    \tpublic UnirestException(String msg) {\r\n    \t\tsuper(msg);\r\n    \t}\r\n    \r\n    }\r\n\r\n**MANIFEST-FILE IN JAR**\r\n\r\n    Manifest-Version: 1.0\r\n    Archiver-Version: Plexus Archiver\r\n    Created-By: Apache Maven 3.6.3\r\n    Built-By: Author\r\n    Build-Jdk: 13.0.1\r\n    Class-Path: unirest-java-1.4.9.jar httpclient-4.5.2.jar httpcore-4.4.4.j\r\n     ar commons-logging-1.2.jar commons-codec-1.9.jar httpasyncclient-4.1.1.\r\n     jar httpcore-nio-4.4.4.jar httpmime-4.5.2.jar json-20160212.jar\r\n    Main-Class: org.example.project.StockTracker\r\n\r\n","title":"Unable to initialize main class, Caused by: java.lang.NoClassDefFoundError: com/mashape/unirest/http/exceptions/UnirestException [JAVA]","body":"<p><strong>PROBLEM</strong></p>\n\n<p>After I run the Maven 'compile', 'install' command in Eclipse to create an executable JAR and proceed to run that JAR I get the below error</p>\n\n<p><code>Error: Unable to initialize main class org.example.project.StockTracker`\nCaused by: java.lang.NoClassDefFoundError: com/mashape/unirest/http/exceptions/UnirestException</code></p>\n\n<p>I have no clue what is going on. How can I resolve this? Below are some further details. I updated the POM with the main-class information and set the classpath to 'true'. </p>\n\n<p><strong>MAIN CLASS CODE</strong></p>\n\n<pre><code>package org.example.project;\n\nimport com.mashape.unirest.http.HttpResponse;\nimport com.mashape.unirest.http.Unirest;\nimport com.mashape.unirest.http.exceptions.UnirestException;\n\npublic class StockTracker {\n\n    public static void main (String[] args) throws UnirestException, InterruptedException  {\n        HttpResponse&lt;String&gt; response = Unirest.get(\"https://apidojo-yahoo-finance-v1.p.rapidapi.com/market/get-quotes?region=US&amp;lang=en&amp;symbols=TSLA\")\n                    .header(\"x-rapidapi-host\", \"apidojo-yahoo-finance-v1.p.rapidapi.com\")\n                    .header(\"x-rapidapi-key\", \"api-key\")\n                    .asString();\n\n        //System.out.println(response.getBody());\n        System.out.println(\"response.getBody()\");\n    }\n}\n</code></pre>\n\n<p><strong>UNIREST EXCEPTION CLASS CODE</strong></p>\n\n<pre><code>package com.mashape.unirest.http.exceptions;\n\npublic class UnirestException extends Exception {\n\n    private static final long serialVersionUID = -3714840499934575734L;\n\n    public UnirestException(Exception e) {\n        super(e);\n    }\n\n    public UnirestException(String msg) {\n        super(msg);\n    }\n\n}\n</code></pre>\n\n<p><strong>MANIFEST-FILE IN JAR</strong></p>\n\n<pre><code>Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nCreated-By: Apache Maven 3.6.3\nBuilt-By: Author\nBuild-Jdk: 13.0.1\nClass-Path: unirest-java-1.4.9.jar httpclient-4.5.2.jar httpcore-4.4.4.j\n ar commons-logging-1.2.jar commons-codec-1.9.jar httpasyncclient-4.1.1.\n jar httpcore-nio-4.4.4.jar httpmime-4.5.2.jar json-20160212.jar\nMain-Class: org.example.project.StockTracker\n</code></pre>\n"},{"tags":["java","jdbc","datasource"],"answers":[{"tags":[],"owner":{"account_id":2352386,"reputation":1585,"user_id":2060915,"accept_rate":67,"display_name":"NaveenKumar1410"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1574888923,"creation_date":1362390238,"answer_id":15198534,"question_id":15198319,"body_markdown":"`DriverManager`\r\n-------------------------------\r\n- hampers the application performance as the connections are created/closed in java classes.\r\n- does not support connection pooling.\r\n\r\n`DataSource`\r\n-------------------------------\r\n- improves application performance as connections are not created/closed within a class, they are managed by the application server and can be fetched while at runtime.\r\n- it provides a facility creating a pool of connections\r\n- helpful for enterprise applications ","title":"Why do we use a DataSource instead of a DriverManager?","body":"<h2><code>DriverManager</code></h2>\n\n<ul>\n<li>hampers the application performance as the connections are created/closed in java classes.</li>\n<li>does not support connection pooling.</li>\n</ul>\n\n<h2><code>DataSource</code></h2>\n\n<ul>\n<li>improves application performance as connections are not created/closed within a class, they are managed by the application server and can be fetched while at runtime.</li>\n<li>it provides a facility creating a pool of connections</li>\n<li>helpful for enterprise applications </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"down_vote_count":1,"up_vote_count":80,"is_accepted":true,"score":79,"last_activity_date":1574889017,"creation_date":1362391472,"answer_id":15198928,"question_id":15198319,"body_markdown":"Better scalability and maintenance\r\n\r\nFor `DriverManager` you need to know all the details (host, port, username, password, driver class) to connect to DB and to get connections. Externalizing those in a properties file doesn&#39;t change anything about the fact that you need to know them.\r\n\r\nUsing a `DataSource` you only need to know the JNDI name. The AppServer cares about the details and is not configured by the client application&#39;s vendor, but by an admin where the application is hosted.\r\n\r\nScalability:\r\n\r\nSuppose you need to create connections yourself, how would you deal with changing load, sometime you have 10 users sometime you have 1000, you can&#39;t just get a connection whenever you need one and later  &#39;release&#39; it so the Database server does not get out of connections, which leads you to connection pooling. `DriverManager` does not provide it, `DataSource` does.\r\n\r\nIf you are going to program a connection pool yourself then you have to use `DriverManager`, otherwise go with `DataSource`.","title":"Why do we use a DataSource instead of a DriverManager?","body":"<p>Better scalability and maintenance</p>\n\n<p>For <code>DriverManager</code> you need to know all the details (host, port, username, password, driver class) to connect to DB and to get connections. Externalizing those in a properties file doesn't change anything about the fact that you need to know them.</p>\n\n<p>Using a <code>DataSource</code> you only need to know the JNDI name. The AppServer cares about the details and is not configured by the client application's vendor, but by an admin where the application is hosted.</p>\n\n<p>Scalability:</p>\n\n<p>Suppose you need to create connections yourself, how would you deal with changing load, sometime you have 10 users sometime you have 1000, you can't just get a connection whenever you need one and later  'release' it so the Database server does not get out of connections, which leads you to connection pooling. <code>DriverManager</code> does not provide it, <code>DataSource</code> does.</p>\n\n<p>If you are going to program a connection pool yourself then you have to use <code>DriverManager</code>, otherwise go with <code>DataSource</code>.</p>\n"},{"tags":[],"owner":{"account_id":8084201,"reputation":304,"user_id":6092247,"display_name":"ansraju"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1469162203,"creation_date":1469162203,"answer_id":38518250,"question_id":15198319,"body_markdown":"We can get connection using a datasource as follows. Use the connection to perform any database query.\r\n\r\n    DataSource datasource = (DataSource) new InitialContext().lookup(dataSourceName);\r\n    Connection connection = datasource.getConnection();","title":"Why do we use a DataSource instead of a DriverManager?","body":"<p>We can get connection using a datasource as follows. Use the connection to perform any database query.</p>\n\n<pre><code>DataSource datasource = (DataSource) new InitialContext().lookup(dataSourceName);\nConnection connection = datasource.getConnection();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10127327,"reputation":49,"user_id":7482131,"display_name":"Ram Tiwary"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1492095962,"creation_date":1492092995,"answer_id":43394686,"question_id":15198319,"body_markdown":"Below code shows two way for getting connection.\r\n\r\nThere is no need to know about URL in case of `mySqlDataSource` as this line is commented.\r\n\r\n    public class MySqlDataSourceTest {\r\n\r\n\tpublic static void main(String[] args) throws SQLException, ClassNotFoundException {\r\n\r\n\t\r\n\t\t/************** using MysqlDataSource starts **************/\r\n\t\tMysqlDataSource d = new MysqlDataSource();\r\n\t\td.setUser(&quot;root&quot;);\r\n\t\td.setPassword(&quot;root&quot;);\r\n\t//\td.setUrl(&quot;jdbc:mysql://localhost:3306/manavrachna&quot;);\r\n\t\td.setDatabaseName(&quot;manavrachna&quot;);\r\n\t\tConnection c =  (Connection) d.getConnection();\r\n\t\t/************** using MysqlDataSource ends**************/\r\n\t\r\n\t\t\r\n\t\t/************** using DriverManager start **************/\r\n\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\tConnection c=(Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/manavrachna&quot;,&quot;root&quot;,&quot;root&quot;);\r\n\t\t/************** using DriverManager ends **************/\r\n\t\t\r\n\t\tStatement st=(Statement) c.createStatement();\r\n\t\tResultSet rs=st.executeQuery(&quot;select id from employee&quot;);\r\n\t\twhile(rs.next())\r\n\t\t{\r\n\t\t\tSystem.out.println(rs.getInt(1));\r\n\t\t}\r\n\r\n\t}\r\n\r\n    }","title":"Why do we use a DataSource instead of a DriverManager?","body":"<p>Below code shows two way for getting connection.</p>\n\n<p>There is no need to know about URL in case of <code>mySqlDataSource</code> as this line is commented.</p>\n\n<pre><code>public class MySqlDataSourceTest {\n\npublic static void main(String[] args) throws SQLException, ClassNotFoundException {\n\n\n    /************** using MysqlDataSource starts **************/\n    MysqlDataSource d = new MysqlDataSource();\n    d.setUser(\"root\");\n    d.setPassword(\"root\");\n//  d.setUrl(\"jdbc:mysql://localhost:3306/manavrachna\");\n    d.setDatabaseName(\"manavrachna\");\n    Connection c =  (Connection) d.getConnection();\n    /************** using MysqlDataSource ends**************/\n\n\n    /************** using DriverManager start **************/\n    Class.forName(\"com.mysql.jdbc.Driver\");\n    Connection c=(Connection) DriverManager.getConnection(\"jdbc:mysql://localhost:3306/manavrachna\",\"root\",\"root\");\n    /************** using DriverManager ends **************/\n\n    Statement st=(Statement) c.createStatement();\n    ResultSet rs=st.executeQuery(\"select id from employee\");\n    while(rs.next())\n    {\n        System.out.println(rs.getInt(1));\n    }\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574888894,"creation_date":1497202447,"answer_id":44486748,"question_id":15198319,"body_markdown":"`DataSource` objects can provide connection pooling and distributed transactions, so you may have to use `DataSource` if you need one of or both these features.","title":"Why do we use a DataSource instead of a DriverManager?","body":"<p><code>DataSource</code> objects can provide connection pooling and distributed transactions, so you may have to use <code>DataSource</code> if you need one of or both these features.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658992944,"creation_date":1658990705,"answer_id":73148345,"question_id":15198319,"body_markdown":"# tl;dr\r\n\r\n - `DataSource` is a way of *externalizing* the info needed to connect to a database server: server name or address, user name, user password, settings specific to your particular database engine, etc.\r\n - `DriverManager` is fine during your initial learning. But when deploying to production, you’ll not want to hard-code connection info within your codebase. In real work, use `DataSource` instead of `DriverManager` to access the externalized configuration info (address, name, password, etc.).\r\n - `Connection` is your live connection to the database. A `DataSource` object will make use of a `DriverManager` to get a `Connection` object for you to use in making queries to the database.\r\n\r\n# Details\r\n\r\nLet&#39;s look at the specifics of your Question.\r\n\r\n&gt; What I am trying to understand is what the difference is between a `Connection` and a `DataSource`\r\n\r\nA [`Connection`][1] object represents a live session with your database server, going back and forth to make queries and get results.\r\n\r\nA [`DataSource`][2] object holds the credentials needed to get a connection to the database. Typically, a `DataSource` holds a user name recognized by the database server, a password for that user, and various settings to customize any future sessions with the database. A `DataSource` is not &quot;open&quot; or &quot;closed&quot;; it merely holds the info needed to make a `Connection` which is open or closed. \r\n\r\n&gt; why it exists\r\n\r\n`Connection` exists as the conduit for conversation with a database server.\r\n\r\n`DataSource` exists as a way to avoid hard-coding connection info (user name, password, options) within your app’s code base. In real work, after you deploy your app you’ll not want to have to edit your code, recompile, and redeploy just because the [DBA][3] rotated passwords. \r\n\r\nAs a programmer, you do not want to be affected by deployment issues such as the database server’s machine network address, user names, user passwords, and such. You’ll want that info externalized outside of your codebase.\r\n\r\n&gt; externalizing database properties such as username, password, url etc in a property file and then use DriverManager work in the same way?\r\n\r\nNo. Your code would still be hard-coded to look for that property file. But there are other ways for DBAs and SysAdmins to configure and communicate that connection info (user name, passwords, server address, etc.). The Java programmer should *not* make assumptions about the choices and changes to be made during deployment.\r\n\r\nThe principal way to externalize that info is to place the info within a [directory server][4]. There are many directory server implementations. These are commonly accessed via a standardized interface, such as the [LDAP][5] interface. \r\n\r\nJava provides a facility for your Java-based app to interact with a directory service through the standardized interface. This facility is known as &#128073; [*Java Naming and Directory Interface (JNDI)*][6]. \r\n\r\nThrough JNDI, your app can **ask a directory service to provide a `DataSource` object** with your necessary connection info. By using JNDI, your app need not make assumptions about how your DBAs/SysAdmins chose to deliver this connection info to your app. Indeed, as a programmer you need know *nothing* about their deployment choices and changes. \r\n\r\n&gt; is the `DataSource` interface created only to have a common way of returning connections that can be pooled etc? \r\n\r\nThe connections returned by a call to [`DataSource#getConnection`][7] may or may not be part of a connection pool. As the Java programmer, you generally do not care. At deployment time, the DBAs/SysAdmins may initially deploy with non-pooled connections. Then later they may change to using pooled connections. Again, you need not care, and there is no need to edit your code, recompile, and redeploy. The DBAs can change the pooling without your involvement.\r\n\r\n&gt; In Java EE, does the application server implement this interface and the applications deployed to have a reference to a datasource instead of a connection?\r\n\r\nFYI, Java EE is now known as [*Jakarta EE*][8], after [Oracle Corp][9] transferred responsibility to the [Eclipse Foundation][10]. \r\n\r\nYou can use [JDBC][11] and `DataSource` objects in any kind of Java app: [console][12], desktop ([JavaFX][13]/[Swing][14]/[SWT][15]), [web app][16], [microservice][17], etc. \r\n\r\nBy &quot;this interface&quot;, if you mean the `DataSource` interface… No, the Jakarta EE implementation such as *Tomcat*, *Jetty*, *Glassfish*, *Payara*, *WildFly*, *JBoss*, *Open Liberty*, does *not* implement `DataSource`. Typically the [JDBC driver][18] provides an implementation, or your connection pool implementation does. \r\n\r\nAgain, this is configured at deployment by the DBA/SysAdmin rather than you the programmer during development. You should *not* bundle a JDBC driver with your Jakarta EE app. Instead configure your dependency manager (Maven, Gradle, etc.) to make a driver available transiently, only during development for your work, but not in the final artifact (`.war` file etc.) for deployment.\r\n\r\nThe Jakarta EE implementation handles getting your app a `DataSource` object. The implementation may itself act as the directory service; for example Tomcat can hold the connection info within its own configuration files, and then deliver that info to your app as a `DataSource` object. Or the DBAs/SysAdmins may configure the Jakarta EE implementation to connect to a separate directory server implementation such as [*Microsoft Active Directory*][19] or [*OpenLDAP*][20]. Again, all these details are none of your concern as the Java programmer. \r\n\r\n&gt;the applications deployed to have a reference to a datasource instead of a connection?\r\n\r\nIn a Jakarta EE deployment, the Jakarta EE implementation delivers a `DataSource` object to your app. Your app code then calls `getConnection` when needing to talk to the database server. Your app code then closes the resulting `Connection` object when done talking to the database server. \r\n\r\nTip: Use try-with-resources syntax to automatically close connections, statements, and other JDBC resources. As mentioned above, the `DataSource` object is not a resource in that sense, and is never opened or closed itself.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html\r\n  [3]: https://en.wikipedia.org/wiki/Database_administrator\r\n  [4]: https://en.wikipedia.org/wiki/Directory_service\r\n  [5]: https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol\r\n  [6]: https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html#getConnection()\r\n  [8]: https://jakarta.ee/\r\n  [9]: https://en.wikipedia.org/wiki/Oracle_Corporation\r\n  [10]: https://en.wikipedia.org/wiki/Eclipse_Foundation\r\n  [11]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [12]: https://en.wikipedia.org/wiki/Console_application\r\n  [13]: https://en.wikipedia.org/wiki/JavaFX\r\n  [14]: https://en.wikipedia.org/wiki/Swing_(Java)\r\n  [15]: https://en.wikipedia.org/wiki/Standard_Widget_Toolkit\r\n  [16]: https://en.wikipedia.org/wiki/Web_application\r\n  [17]: https://en.wikipedia.org/wiki/Microservices\r\n  [18]: https://en.wikipedia.org/wiki/JDBC_driver\r\n  [19]: https://en.wikipedia.org/wiki/Active_Directory\r\n  [20]: https://en.wikipedia.org/wiki/OpenLDAP","title":"Why do we use a DataSource instead of a DriverManager?","body":"<h1>tl;dr</h1>\n<ul>\n<li><code>DataSource</code> is a way of <em>externalizing</em> the info needed to connect to a database server: server name or address, user name, user password, settings specific to your particular database engine, etc.</li>\n<li><code>DriverManager</code> is fine during your initial learning. But when deploying to production, you’ll not want to hard-code connection info within your codebase. In real work, use <code>DataSource</code> instead of <code>DriverManager</code> to access the externalized configuration info (address, name, password, etc.).</li>\n<li><code>Connection</code> is your live connection to the database. A <code>DataSource</code> object will make use of a <code>DriverManager</code> to get a <code>Connection</code> object for you to use in making queries to the database.</li>\n</ul>\n<h1>Details</h1>\n<p>Let's look at the specifics of your Question.</p>\n<blockquote>\n<p>What I am trying to understand is what the difference is between a <code>Connection</code> and a <code>DataSource</code></p>\n</blockquote>\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html\" rel=\"noreferrer\"><code>Connection</code></a> object represents a live session with your database server, going back and forth to make queries and get results.</p>\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"noreferrer\"><code>DataSource</code></a> object holds the credentials needed to get a connection to the database. Typically, a <code>DataSource</code> holds a user name recognized by the database server, a password for that user, and various settings to customize any future sessions with the database. A <code>DataSource</code> is not &quot;open&quot; or &quot;closed&quot;; it merely holds the info needed to make a <code>Connection</code> which is open or closed.</p>\n<blockquote>\n<p>why it exists</p>\n</blockquote>\n<p><code>Connection</code> exists as the conduit for conversation with a database server.</p>\n<p><code>DataSource</code> exists as a way to avoid hard-coding connection info (user name, password, options) within your app’s code base. In real work, after you deploy your app you’ll not want to have to edit your code, recompile, and redeploy just because the <a href=\"https://en.wikipedia.org/wiki/Database_administrator\" rel=\"noreferrer\">DBA</a> rotated passwords.</p>\n<p>As a programmer, you do not want to be affected by deployment issues such as the database server’s machine network address, user names, user passwords, and such. You’ll want that info externalized outside of your codebase.</p>\n<blockquote>\n<p>externalizing database properties such as username, password, url etc in a property file and then use DriverManager work in the same way?</p>\n</blockquote>\n<p>No. Your code would still be hard-coded to look for that property file. But there are other ways for DBAs and SysAdmins to configure and communicate that connection info (user name, passwords, server address, etc.). The Java programmer should <em>not</em> make assumptions about the choices and changes to be made during deployment.</p>\n<p>The principal way to externalize that info is to place the info within a <a href=\"https://en.wikipedia.org/wiki/Directory_service\" rel=\"noreferrer\">directory server</a>. There are many directory server implementations. These are commonly accessed via a standardized interface, such as the <a href=\"https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol\" rel=\"noreferrer\">LDAP</a> interface.</p>\n<p>Java provides a facility for your Java-based app to interact with a directory service through the standardized interface. This facility is known as 👉 <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"noreferrer\"><em>Java Naming and Directory Interface (JNDI)</em></a>.</p>\n<p>Through JNDI, your app can <strong>ask a directory service to provide a <code>DataSource</code> object</strong> with your necessary connection info. By using JNDI, your app need not make assumptions about how your DBAs/SysAdmins chose to deliver this connection info to your app. Indeed, as a programmer you need know <em>nothing</em> about their deployment choices and changes.</p>\n<blockquote>\n<p>is the <code>DataSource</code> interface created only to have a common way of returning connections that can be pooled etc?</p>\n</blockquote>\n<p>The connections returned by a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html#getConnection()\" rel=\"noreferrer\"><code>DataSource#getConnection</code></a> may or may not be part of a connection pool. As the Java programmer, you generally do not care. At deployment time, the DBAs/SysAdmins may initially deploy with non-pooled connections. Then later they may change to using pooled connections. Again, you need not care, and there is no need to edit your code, recompile, and redeploy. The DBAs can change the pooling without your involvement.</p>\n<blockquote>\n<p>In Java EE, does the application server implement this interface and the applications deployed to have a reference to a datasource instead of a connection?</p>\n</blockquote>\n<p>FYI, Java EE is now known as <a href=\"https://jakarta.ee/\" rel=\"noreferrer\"><em>Jakarta EE</em></a>, after <a href=\"https://en.wikipedia.org/wiki/Oracle_Corporation\" rel=\"noreferrer\">Oracle Corp</a> transferred responsibility to the <a href=\"https://en.wikipedia.org/wiki/Eclipse_Foundation\" rel=\"noreferrer\">Eclipse Foundation</a>.</p>\n<p>You can use <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"noreferrer\">JDBC</a> and <code>DataSource</code> objects in any kind of Java app: <a href=\"https://en.wikipedia.org/wiki/Console_application\" rel=\"noreferrer\">console</a>, desktop (<a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"noreferrer\">JavaFX</a>/<a href=\"https://en.wikipedia.org/wiki/Swing_(Java)\" rel=\"noreferrer\">Swing</a>/<a href=\"https://en.wikipedia.org/wiki/Standard_Widget_Toolkit\" rel=\"noreferrer\">SWT</a>), <a href=\"https://en.wikipedia.org/wiki/Web_application\" rel=\"noreferrer\">web app</a>, <a href=\"https://en.wikipedia.org/wiki/Microservices\" rel=\"noreferrer\">microservice</a>, etc.</p>\n<p>By &quot;this interface&quot;, if you mean the <code>DataSource</code> interface… No, the Jakarta EE implementation such as <em>Tomcat</em>, <em>Jetty</em>, <em>Glassfish</em>, <em>Payara</em>, <em>WildFly</em>, <em>JBoss</em>, <em>Open Liberty</em>, does <em>not</em> implement <code>DataSource</code>. Typically the <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> provides an implementation, or your connection pool implementation does.</p>\n<p>Again, this is configured at deployment by the DBA/SysAdmin rather than you the programmer during development. You should <em>not</em> bundle a JDBC driver with your Jakarta EE app. Instead configure your dependency manager (Maven, Gradle, etc.) to make a driver available transiently, only during development for your work, but not in the final artifact (<code>.war</code> file etc.) for deployment.</p>\n<p>The Jakarta EE implementation handles getting your app a <code>DataSource</code> object. The implementation may itself act as the directory service; for example Tomcat can hold the connection info within its own configuration files, and then deliver that info to your app as a <code>DataSource</code> object. Or the DBAs/SysAdmins may configure the Jakarta EE implementation to connect to a separate directory server implementation such as <a href=\"https://en.wikipedia.org/wiki/Active_Directory\" rel=\"noreferrer\"><em>Microsoft Active Directory</em></a> or <a href=\"https://en.wikipedia.org/wiki/OpenLDAP\" rel=\"noreferrer\"><em>OpenLDAP</em></a>. Again, all these details are none of your concern as the Java programmer.</p>\n<blockquote>\n<p>the applications deployed to have a reference to a datasource instead of a connection?</p>\n</blockquote>\n<p>In a Jakarta EE deployment, the Jakarta EE implementation delivers a <code>DataSource</code> object to your app. Your app code then calls <code>getConnection</code> when needing to talk to the database server. Your app code then closes the resulting <code>Connection</code> object when done talking to the database server.</p>\n<p>Tip: Use try-with-resources syntax to automatically close connections, statements, and other JDBC resources. As mentioned above, the <code>DataSource</code> object is not a resource in that sense, and is never opened or closed itself.</p>\n"}],"owner":{"account_id":205346,"reputation":48091,"user_id":454049,"accept_rate":72,"display_name":"LuckyLuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96866,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":15198928,"answer_count":6,"score":107,"last_activity_date":1658992944,"creation_date":1362389435,"question_id":15198319,"body_markdown":"I am reading the Java JDBC specification (vr. 4) and I encountred this statement:\r\n\r\n&gt; DataSource — this interface was introduced in the JDBC 2.0 Optional\r\n&gt; Package  API. It is preferred over DriverManager because it allows\r\n&gt; details about the  underlying data source to be transparent to the\r\n&gt; application\r\n\r\nWhat I am trying to understand is what the difference is between a [`Connection`][1] and a [`DataSource`][2], and why it exists. I mean, the block above says that the details about a datasource is transparent to the application, but wouldn&#39;t externalizing database properties such as username, password, url etc in a property file and then use DriverManager work in the same way?\r\n\r\nAnd is the [`DataSource`][2] interface created only to have a common way of returning connections that can be pooled etc? In Java EE, does the application server implement this interface and the applications deployed to have a reference to a datasource instead of a connection?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html","title":"Why do we use a DataSource instead of a DriverManager?","body":"<p>I am reading the Java JDBC specification (vr. 4) and I encountred this statement:</p>\n\n<blockquote>\n  <p>DataSource — this interface was introduced in the JDBC 2.0 Optional\n  Package  API. It is preferred over DriverManager because it allows\n  details about the  underlying data source to be transparent to the\n  application</p>\n</blockquote>\n\n<p>What I am trying to understand is what the difference is between a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html\" rel=\"noreferrer\"><code>Connection</code></a> and a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html\" rel=\"noreferrer\"><code>DataSource</code></a>, and why it exists. I mean, the block above says that the details about a datasource is transparent to the application, but wouldn't externalizing database properties such as username, password, url etc in a property file and then use DriverManager work in the same way?</p>\n\n<p>And is the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sql/DataSource.html\" rel=\"noreferrer\"><code>DataSource</code></a> interface created only to have a common way of returning connections that can be pooled etc? In Java EE, does the application server implement this interface and the applications deployed to have a reference to a datasource instead of a connection?</p>\n"},{"tags":["java","cassandra","cassandra-3.0","lagom"],"comments":[{"owner":{"account_id":1331095,"reputation":1170,"user_id":1275007,"display_name":"Renato"},"score":0,"creation_date":1515453926,"post_id":48156685,"comment_id":83298455,"body_markdown":"What do you mean by &quot;manipulate data&quot;? Lagom embraces Event Sourcing / CQRS. On one side you produce events (write-side) and then you consume them and generate views for example (read-side).\n\nDo you mean you want to access the DB and change data directly?","body":"What do you mean by &quot;manipulate data&quot;? Lagom embraces Event Sourcing / CQRS. On one side you produce events (write-side) and then you consume them and generate views for example (read-side).  Do you mean you want to access the DB and change data directly?"},{"owner":{"account_id":4547836,"reputation":50,"user_id":3693843,"accept_rate":25,"display_name":"Amr"},"score":0,"creation_date":1515506488,"post_id":48156685,"comment_id":83318961,"body_markdown":"Thanks for your reply. \nI&#39;ve added an explanation.","body":"Thanks for your reply.  I&#39;ve added an explanation."}],"answers":[{"tags":[],"owner":{"account_id":1331095,"reputation":1170,"user_id":1275007,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1515576722,"creation_date":1515576722,"answer_id":48184214,"question_id":48156685,"body_markdown":"The three nodes will form an akka cluster and when one of the nodes get removed, the entities that were living there are moved to one of the other nodes. \r\n\r\nDetailed information about how that works can be founded here: \r\nhttps://doc.akka.io/docs/akka/current/cluster-sharding.html and https://doc.akka.io/docs/akka/current/cluster-sharding.html#how-it-works\r\n\r\nThe same will happen with any read-side processors. I&#39;m assuming here that you are using sharded tags. \r\nhttps://www.lagomframework.com/documentation/current/scala/ReadSide.html#Event-tags\r\n\r\nIf don&#39;t use sharded tags, you will have only one read-side processor running. In one of the nodes. \r\n\r\nps: For the record, because it was not clear from your last edit, there should be no dedicated Cassandra DB per node. All nodes should connect to the same Cassandra cluster. You should have different Cassandra nodes forming a cluster (not necessarily 3).","title":"Manipulate data from the database on multiple instances of the same service","body":"<p>The three nodes will form an akka cluster and when one of the nodes get removed, the entities that were living there are moved to one of the other nodes. </p>\n\n<p>Detailed information about how that works can be founded here: \n<a href=\"https://doc.akka.io/docs/akka/current/cluster-sharding.html\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka/current/cluster-sharding.html</a> and <a href=\"https://doc.akka.io/docs/akka/current/cluster-sharding.html#how-it-works\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka/current/cluster-sharding.html#how-it-works</a></p>\n\n<p>The same will happen with any read-side processors. I'm assuming here that you are using sharded tags. \n<a href=\"https://www.lagomframework.com/documentation/current/scala/ReadSide.html#Event-tags\" rel=\"nofollow noreferrer\">https://www.lagomframework.com/documentation/current/scala/ReadSide.html#Event-tags</a></p>\n\n<p>If don't use sharded tags, you will have only one read-side processor running. In one of the nodes. </p>\n\n<p>ps: For the record, because it was not clear from your last edit, there should be no dedicated Cassandra DB per node. All nodes should connect to the same Cassandra cluster. You should have different Cassandra nodes forming a cluster (not necessarily 3).</p>\n"}],"owner":{"account_id":4547836,"reputation":50,"user_id":3693843,"accept_rate":25,"display_name":"Amr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48184214,"answer_count":1,"score":1,"last_activity_date":1658992871,"creation_date":1515438750,"question_id":48156685,"body_markdown":"I&#39;m new to lagom and I&#39;m asking about How can I manipulate data from the database on multiple instances of the same service? \r\n\r\nDid read-side support that?\r\n\r\n**EDIT 1:** \r\nI&#39;m working on User management module.\r\n\r\nI&#39;ve put in place a ReadSide that listens to the User related events and updates the data in its database and I&#39;m using the ReadSide to get the list of all the users.\r\n\r\nI&#39;m currently in Dev so I have a 1 cluster node that runs 1 instance of my user service and another 1 cluster node that runs Cassandra DB. \r\n\r\nWhen deploying (to production) the user service and Cassandra to a multi-node cluster, I need to configure/create multiple (3 for the moment) instances of the user service. \r\n\r\nLet&#39;s assume that the deployment will be as follows: \r\n\r\n- node 1: runs instance 1 of user service and its cassandra DB \r\n- node 2: runs instance 2 of user service and its cassandra DB \r\n- node 3: runs instance 3 of user service and its cassandra DB \r\n\r\nA user &#39;SMITH&#39; calls a signup Webservice and instance 1 handles the request.\r\n\r\nLater for some reason (i.g. maintenance, failure ) instance 1 is no longer available.\r\n\r\nWill instance 2 or 3 recover from this unexpected &quot;situation&quot;?\r\nCan either of them handle ReadSide operations related to user &#39;SMITH&#39;? ","title":"Manipulate data from the database on multiple instances of the same service","body":"<p>I'm new to lagom and I'm asking about How can I manipulate data from the database on multiple instances of the same service? </p>\n\n<p>Did read-side support that?</p>\n\n<p><strong>EDIT 1:</strong> \nI'm working on User management module.</p>\n\n<p>I've put in place a ReadSide that listens to the User related events and updates the data in its database and I'm using the ReadSide to get the list of all the users.</p>\n\n<p>I'm currently in Dev so I have a 1 cluster node that runs 1 instance of my user service and another 1 cluster node that runs Cassandra DB. </p>\n\n<p>When deploying (to production) the user service and Cassandra to a multi-node cluster, I need to configure/create multiple (3 for the moment) instances of the user service. </p>\n\n<p>Let's assume that the deployment will be as follows: </p>\n\n<ul>\n<li>node 1: runs instance 1 of user service and its cassandra DB </li>\n<li>node 2: runs instance 2 of user service and its cassandra DB </li>\n<li>node 3: runs instance 3 of user service and its cassandra DB </li>\n</ul>\n\n<p>A user 'SMITH' calls a signup Webservice and instance 1 handles the request.</p>\n\n<p>Later for some reason (i.g. maintenance, failure ) instance 1 is no longer available.</p>\n\n<p>Will instance 2 or 3 recover from this unexpected \"situation\"?\nCan either of them handle ReadSide operations related to user 'SMITH'? </p>\n"},{"tags":["java","linux","cassandra","cassandra-3.0"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1514713385,"post_id":48041397,"comment_id":83053334,"body_markdown":"What distribution of linux are you using? And what do you see if you do `ls /usr/share/java`?","body":"What distribution of linux are you using? And what do you see if you do <code>ls &#47;usr&#47;share&#47;java</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7124383,"reputation":875,"user_id":5447798,"display_name":"NSchorr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1514716177,"creation_date":1514716177,"answer_id":48041707,"question_id":48041397,"body_markdown":"The Cassandra documentation says &quot;On the Cassandra nodes where the agents are installed, create the file /etc/default/datastax-agent and set the environment variables for JAVA_HOME and any other custom environment variables that the agent might need.&quot;  [https://docs.datastax.com/en/opscenter/6.1/opsc/install/opscCustomVariables_t.html][1]\r\n\r\n\r\n  [1]: https://docs.datastax.com/en/opscenter/6.1/opsc/install/opscCustomVariables_t.html","title":"Unable to find java executable. Check JAVA_HOME ... while starting Cassandra","body":"<p>The Cassandra documentation says \"On the Cassandra nodes where the agents are installed, create the file /etc/default/datastax-agent and set the environment variables for JAVA_HOME and any other custom environment variables that the agent might need.\"  <a href=\"https://docs.datastax.com/en/opscenter/6.1/opsc/install/opscCustomVariables_t.html\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/opscenter/6.1/opsc/install/opscCustomVariables_t.html</a></p>\n"}],"owner":{"account_id":6124395,"reputation":93,"user_id":4776888,"accept_rate":100,"display_name":"Sanjeev singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1820,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":48041707,"answer_count":1,"score":1,"last_activity_date":1658992726,"creation_date":1514712592,"question_id":48041397,"body_markdown":"***Running Cassandra***\r\n\r\n    $ apache-cassandra-3.11.1/bin/cassandra -f -R\r\n    Unable to find java executable. Check JAVA_HOME and PATH environment variables.\r\n\r\n***Java Settings are***\r\n\r\n    java -version\r\n    openjdk version &quot;1.8.0_121&quot;\r\n    OpenJDK Runtime Environment (Zulu 8.20.0.5-linux64) (build 1.8.0_121-b15)\r\n    OpenJDK 64-Bit Server VM (Zulu 8.20.0.5-linux64) (build 25.121-b15, mixed mode)\r\n\r\n    whereis java\r\n    java: /usr/bin/java /usr/lib/java /etc/java /usr/share/java /data/ytbigdata/anaconda3/bin/java\r\n\r\n    which java\r\n    ~/anaconda3/bin/java\r\n    \r\n    ~/.bash_profile setting\r\n    export JAVA_HOME=/data/ytbigdata/anaconda3/bin/java\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\n","title":"Unable to find java executable. Check JAVA_HOME ... while starting Cassandra","body":"<p><strong><em>Running Cassandra</em></strong></p>\n\n<pre><code>$ apache-cassandra-3.11.1/bin/cassandra -f -R\nUnable to find java executable. Check JAVA_HOME and PATH environment variables.\n</code></pre>\n\n<p><strong><em>Java Settings are</em></strong></p>\n\n<pre><code>java -version\nopenjdk version \"1.8.0_121\"\nOpenJDK Runtime Environment (Zulu 8.20.0.5-linux64) (build 1.8.0_121-b15)\nOpenJDK 64-Bit Server VM (Zulu 8.20.0.5-linux64) (build 25.121-b15, mixed mode)\n\nwhereis java\njava: /usr/bin/java /usr/lib/java /etc/java /usr/share/java /data/ytbigdata/anaconda3/bin/java\n\nwhich java\n~/anaconda3/bin/java\n\n~/.bash_profile setting\nexport JAVA_HOME=/data/ytbigdata/anaconda3/bin/java\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n"},{"tags":["java","cassandra","cassandra-3.0","datastax-java-driver"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1513253472,"post_id":47811789,"comment_id":82587354,"body_markdown":"Are the nodes reachable on network from location of you program?","body":"Are the nodes reachable on network from location of you program?"},{"owner":{"account_id":12499253,"reputation":1,"user_id":9098228,"display_name":"MaxMau"},"score":0,"creation_date":1513254080,"post_id":47811789,"comment_id":82587713,"body_markdown":"Yes they are. Not all reads are failing, just some of them at random times.","body":"Yes they are. Not all reads are failing, just some of them at random times."},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1513254360,"post_id":47811789,"comment_id":82587903,"body_markdown":"Maybe nodes are performing compaction at that time?","body":"Maybe nodes are performing compaction at that time?"}],"owner":{"account_id":12499253,"reputation":1,"user_id":9098228,"display_name":"MaxMau"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658992647,"creation_date":1513249513,"question_id":47811789,"body_markdown":"All, below is my schema:\r\n\r\n    CREATE TABLE test.lookup_provider_id (\r\n    provider_id text,\r\n    provider_source text,\r\n    gufi text,\r\n    PRIMARY KEY (provider_id, provider_source)\r\n    ) WITH CLUSTERING ORDER BY (provider_source ASC)\r\n    AND bloom_filter_fp_chance = 0.01\r\n    AND caching = {&#39;keys&#39;: &#39;ALL&#39;, &#39;rows_per_partition&#39;: &#39;NONE&#39;}\r\n    AND comment = &#39;&#39;\r\n    AND compaction = {&#39;class&#39;: &#39;org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy&#39;, &#39;max_threshold&#39;: &#39;32&#39;, &#39;min_threshold&#39;: &#39;4&#39;}\r\n    AND compression = {&#39;chunk_length_in_kb&#39;: &#39;64&#39;, &#39;class&#39;: &#39;org.apache.cassandra.io.compress.LZ4Compressor&#39;}\r\n    AND crc_check_chance = 1.0\r\n    AND dclocal_read_repair_chance = 0.1\r\n    AND default_time_to_live = 604800\r\n    AND gc_grace_seconds = 864000\r\n    AND max_index_interval = 2048\r\n    AND memtable_flush_period_in_ms = 0\r\n    AND min_index_interval = 128\r\n    AND read_repair_chance = 0.0\r\n    AND speculative_retry = &#39;99PERCENTILE&#39;;\r\n\r\nUsing the Java driver, I perform this kind of query :\r\n\r\n    SELECT gufi FROM test.lookup_provider_id WHERE provider_id = &#39;id&#39; AND provider_source = &#39;source&#39;;\r\n\r\nAnd I get this exception :\r\n\r\n&gt;java.util.concurrent.ExecutionException: com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency LOCAL_ONE (1 responses were required but only 0 replica responded)\r\n\tat com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:476)\r\n\tat com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:455)\r\n\tat com.thales.ecosystem.common.hazelcast.mapstore.LookupProviderIDMapStore.load(LookupProviderIDMapStore.java:145)\r\n\tat com.thales.ecosystem.common.hazelcast.mapstore.LookupProviderIDMapStore.load(LookupProviderIDMapStore.java:42)\r\n\tat com.hazelcast.map.impl.MapStoreWrapper.load(MapStoreWrapper.java:152)\r\n\tat com.hazelcast.map.impl.mapstore.writebehind.WriteBehindStore.load(WriteBehindStore.java:205)\r\n\tat com.hazelcast.map.impl.mapstore.writebehind.WriteBehindStore.load(WriteBehindStore.java:55)\r\n\tat com.hazelcast.map.impl.recordstore.DefaultRecordStore.loadRecordOrNull(DefaultRecordStore.java:398)\r\n\tat com.hazelcast.map.impl.recordstore.DefaultRecordStore.get(DefaultRecordStore.java:612)\r\n\tat com.hazelcast.map.impl.operation.GetOperation.run(GetOperation.java:43)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:186)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.run(OperationExecutorImpl.java:382)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.runOrExecute(OperationExecutorImpl.java:409)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvokeLocal(Invocation.java:534)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvoke(Invocation.java:519)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke0(Invocation.java:490)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke(Invocation.java:200)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.InvocationBuilderImpl.invoke(InvocationBuilderImpl.java:59)\r\n\tat com.hazelcast.client.impl.protocol.task.AbstractPartitionMessageTask.processMessage(AbstractPartitionMessageTask.java:67)\r\n\tat com.hazelcast.client.impl.protocol.task.AbstractMessageTask.initializeAndProcessMessage(AbstractMessageTask.java:123)\r\n\tat com.hazelcast.client.impl.protocol.task.AbstractMessageTask.run(AbstractMessageTask.java:103)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:142)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:127)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:102)\r\nCaused by: com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency LOCAL_ONE (1 responses were required but only 0 replica responded)\r\n\r\nI&#39;m using a cluster of 9 Cassandra 3.10 nodes deployed on different VMs (CentOS).\r\nUsing nodetool status shows that everything seems to be ok. And I can&#39;t see anything in logs that can give a clue on what is happening.\r\n\r\nI&#39;m a bit lost, so any help is appreciated!","title":"com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency LOCAL_ONE","body":"<p>All, below is my schema:</p>\n\n<pre><code>CREATE TABLE test.lookup_provider_id (\nprovider_id text,\nprovider_source text,\ngufi text,\nPRIMARY KEY (provider_id, provider_source)\n) WITH CLUSTERING ORDER BY (provider_source ASC)\nAND bloom_filter_fp_chance = 0.01\nAND caching = {'keys': 'ALL', 'rows_per_partition': 'NONE'}\nAND comment = ''\nAND compaction = {'class': 'org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy', 'max_threshold': '32', 'min_threshold': '4'}\nAND compression = {'chunk_length_in_kb': '64', 'class': 'org.apache.cassandra.io.compress.LZ4Compressor'}\nAND crc_check_chance = 1.0\nAND dclocal_read_repair_chance = 0.1\nAND default_time_to_live = 604800\nAND gc_grace_seconds = 864000\nAND max_index_interval = 2048\nAND memtable_flush_period_in_ms = 0\nAND min_index_interval = 128\nAND read_repair_chance = 0.0\nAND speculative_retry = '99PERCENTILE';\n</code></pre>\n\n<p>Using the Java driver, I perform this kind of query :</p>\n\n<pre><code>SELECT gufi FROM test.lookup_provider_id WHERE provider_id = 'id' AND provider_source = 'source';\n</code></pre>\n\n<p>And I get this exception :</p>\n\n<blockquote>\n  <p>java.util.concurrent.ExecutionException: com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency LOCAL_ONE (1 responses were required but only 0 replica responded)\n      at com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:476)\n      at com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:455)\n      at com.thales.ecosystem.common.hazelcast.mapstore.LookupProviderIDMapStore.load(LookupProviderIDMapStore.java:145)\n      at com.thales.ecosystem.common.hazelcast.mapstore.LookupProviderIDMapStore.load(LookupProviderIDMapStore.java:42)\n      at com.hazelcast.map.impl.MapStoreWrapper.load(MapStoreWrapper.java:152)\n      at com.hazelcast.map.impl.mapstore.writebehind.WriteBehindStore.load(WriteBehindStore.java:205)\n      at com.hazelcast.map.impl.mapstore.writebehind.WriteBehindStore.load(WriteBehindStore.java:55)\n      at com.hazelcast.map.impl.recordstore.DefaultRecordStore.loadRecordOrNull(DefaultRecordStore.java:398)\n      at com.hazelcast.map.impl.recordstore.DefaultRecordStore.get(DefaultRecordStore.java:612)\n      at com.hazelcast.map.impl.operation.GetOperation.run(GetOperation.java:43)\n      at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:186)\n      at com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.run(OperationExecutorImpl.java:382)\n      at com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.runOrExecute(OperationExecutorImpl.java:409)\n      at com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvokeLocal(Invocation.java:534)\n      at com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvoke(Invocation.java:519)\n      at com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke0(Invocation.java:490)\n      at com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke(Invocation.java:200)\n      at com.hazelcast.spi.impl.operationservice.impl.InvocationBuilderImpl.invoke(InvocationBuilderImpl.java:59)\n      at com.hazelcast.client.impl.protocol.task.AbstractPartitionMessageTask.processMessage(AbstractPartitionMessageTask.java:67)\n      at com.hazelcast.client.impl.protocol.task.AbstractMessageTask.initializeAndProcessMessage(AbstractMessageTask.java:123)\n      at com.hazelcast.client.impl.protocol.task.AbstractMessageTask.run(AbstractMessageTask.java:103)\n      at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:142)\n      at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:127)\n      at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:102)\n  Caused by: com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency LOCAL_ONE (1 responses were required but only 0 replica responded)</p>\n</blockquote>\n\n<p>I'm using a cluster of 9 Cassandra 3.10 nodes deployed on different VMs (CentOS).\nUsing nodetool status shows that everything seems to be ok. And I can't see anything in logs that can give a clue on what is happening.</p>\n\n<p>I'm a bit lost, so any help is appreciated!</p>\n"},{"tags":["java","kubernetes","java-client","kubernetes-cluster"],"answers":[{"tags":[],"owner":{"account_id":3714453,"reputation":1013,"user_id":3091006,"display_name":"aemaem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658992527,"creation_date":1658992527,"answer_id":73148701,"question_id":61060249,"body_markdown":"DryRun has been implemented with version `5.2.0` according to this issue https://github.com/fabric8io/kubernetes-client/issues/2588.\r\n\r\nIt can be used like this on many resources:\r\n``` lang-java\r\npetClient.inNamespace(currentNamespace).withName(&quot;dry-run-delete&quot;).dryRun().delete();\r\n```","title":"Is there an analog of --server-dry-run option in io.fabric8.kubernetes api (Java client for kubernetes)?","body":"<p>DryRun has been implemented with version <code>5.2.0</code> according to this issue <a href=\"https://github.com/fabric8io/kubernetes-client/issues/2588\" rel=\"nofollow noreferrer\">https://github.com/fabric8io/kubernetes-client/issues/2588</a>.</p>\n<p>It can be used like this on many resources:</p>\n<pre class=\"lang-java prettyprint-override\"><code>petClient.inNamespace(currentNamespace).withName(&quot;dry-run-delete&quot;).dryRun().delete();\n</code></pre>\n"}],"owner":{"account_id":13542891,"reputation":21,"user_id":9770103,"display_name":"Black-Knight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658992527,"creation_date":1586177343,"question_id":61060249,"body_markdown":"In **command line** we can use `kubectl apply --server-dry-run -f example-pod.yml` to make a trial run of `yml` file without persisting it. \r\nCan we do smth similar from **Java**, using `io.fabric8.kubernetes` (Java client for kubernetes) ?","title":"Is there an analog of --server-dry-run option in io.fabric8.kubernetes api (Java client for kubernetes)?","body":"<p>In <strong>command line</strong> we can use <code>kubectl apply --server-dry-run -f example-pod.yml</code> to make a trial run of <code>yml</code> file without persisting it. \nCan we do smth similar from <strong>Java</strong>, using <code>io.fabric8.kubernetes</code> (Java client for kubernetes) ?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1658985113,"post_id":73146592,"comment_id":129188827,"body_markdown":"There are [couple of options to store hierarchal data in db](https://stackoverflow.com/questions/4048151/what-are-the-options-for-storing-hierarchical-data-in-a-relational-database)","body":"There are <a href=\"https://stackoverflow.com/questions/4048151/what-are-the-options-for-storing-hierarchical-data-in-a-relational-database\">couple of options to store hierarchal data in db</a>"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1658992303,"post_id":73146592,"comment_id":129190590,"body_markdown":"I don&#39;t see why you would have a join table instead of just a self reference to the parent.","body":"I don&#39;t see why you would have a join table instead of just a self reference to the parent."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658992253,"creation_date":1658992253,"answer_id":73148650,"question_id":73146592,"body_markdown":"You can do this kind of thing either in the application or in the database.\r\n\r\nDoing it in the application is typically easier for the average Java developer to get something that is working in most of the cases.\r\nBut it can get really hard to get something that is really water tight and even more difficult to prove that it is water tight and I don&#39;t even consider mathematical proves here.\r\n\r\nHere are the options that I see:\r\n\r\n 1. During construction of the entities ensure that you never have a circular dependency in the first place. \r\nNo special framework or library support needed. \r\nJust whenever the hierarchy changes travers it up and collect ids, ensuring you don&#39;t encounter any id twice.\r\n\r\n 2. You can use [Bean Validation][1] to check for cycles before saving. You can [create custom validators][2]. Both approaches have the problem that it is  possible to create cycles they don&#39;t detect when nodes get manipulated in distinct sessions: Both sessions load the disconnected nodes `A` and `B`. Session one connects `A` -&gt; `B`. Session two does the opposite. Neither sees a cycle. Since both edit a different `Task` objects or even just create new `Task` instances even optimistic locking won&#39;t help. If you update all entities in the hierarchy though, e.g. by letting them contain the id of the top most parent, optimistic locking should prevent that problem.\r\n\r\n3. You could write a trigger on the database that obtains an exclusive lock on the database, and performs the check. With the exclusive lock it should be impossible to get any cycle past that check. Obviously this limits concurrency.\r\n\r\n4. If your database supports it you might be able to create a materialized view that gets updated on every change and define a check constraint on that. Using the `CONNECT BY` clause it should be possible to create a view for example that contains the top most parent for each entry and a flag if a cycle is found and then put a check constraint on that column. This probably should behave just as the previous variant, but might be easier to maintain than the previous solution.\r\n\r\n  [1]: https://beanvalidation.org/\r\n  [2]: https://docs.jboss.org/hibernate/validator/5.0/reference/en-US/html/validator-customconstraints.html","title":"What is the best way to implement a Spring Data JPA ManyToOne relationship with custom constraint checks?","body":"<p>You can do this kind of thing either in the application or in the database.</p>\n<p>Doing it in the application is typically easier for the average Java developer to get something that is working in most of the cases.\nBut it can get really hard to get something that is really water tight and even more difficult to prove that it is water tight and I don't even consider mathematical proves here.</p>\n<p>Here are the options that I see:</p>\n<ol>\n<li><p>During construction of the entities ensure that you never have a circular dependency in the first place.\nNo special framework or library support needed.\nJust whenever the hierarchy changes travers it up and collect ids, ensuring you don't encounter any id twice.</p>\n</li>\n<li><p>You can use <a href=\"https://beanvalidation.org/\" rel=\"nofollow noreferrer\">Bean Validation</a> to check for cycles before saving. You can <a href=\"https://docs.jboss.org/hibernate/validator/5.0/reference/en-US/html/validator-customconstraints.html\" rel=\"nofollow noreferrer\">create custom validators</a>. Both approaches have the problem that it is  possible to create cycles they don't detect when nodes get manipulated in distinct sessions: Both sessions load the disconnected nodes <code>A</code> and <code>B</code>. Session one connects <code>A</code> -&gt; <code>B</code>. Session two does the opposite. Neither sees a cycle. Since both edit a different <code>Task</code> objects or even just create new <code>Task</code> instances even optimistic locking won't help. If you update all entities in the hierarchy though, e.g. by letting them contain the id of the top most parent, optimistic locking should prevent that problem.</p>\n</li>\n<li><p>You could write a trigger on the database that obtains an exclusive lock on the database, and performs the check. With the exclusive lock it should be impossible to get any cycle past that check. Obviously this limits concurrency.</p>\n</li>\n<li><p>If your database supports it you might be able to create a materialized view that gets updated on every change and define a check constraint on that. Using the <code>CONNECT BY</code> clause it should be possible to create a view for example that contains the top most parent for each entry and a flag if a cycle is found and then put a check constraint on that column. This probably should behave just as the previous variant, but might be easier to maintain than the previous solution.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25912988,"reputation":1,"user_id":19636823,"display_name":"candlestick0032"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658992253,"creation_date":1658975418,"question_id":73146592,"body_markdown":"I&#39;m relatively new to Spring and am hoping someone can help point me in the right direction here.\r\n\r\nImagine a to-do list app... Let&#39;s say I have a main entity called `Task` and a task can have `n` nested subtasks (each of which is a `Task` and can have `n` subtasks, etc.) I&#39;m thinking that hte best way to represent this type of relationship is using a join table (see below for high level definition). The main issue here is circular references to the parent/child tasks. For example, if `TaskA` has a subtask, `TaskB`, and subtask `TaskB` has a subtask, `TaskA`.\r\n\r\nI am wondering:\r\n\r\n1) Is there a way in spring boot / JPA to define some type of table validation or a SQL `CHECK CONSTRAINT` that will ensure that a set of task ids is not entered into the join table twice? E.g. in the above scenario an exception would be thrown b/c `Set&lt;TaskA, TaskB&gt;` already exists in the table.\r\n2) Is this the best approach to represent this type of object relationship? Is there a better way to do this with Spring Data / JPA given the requirements?\r\n\r\nThanks so much in advance!\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;task&quot;)\r\npublic class Task {\r\n  ...\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;subtasks&quot;)\r\npublic class SubTasks {\r\n  ...\r\n  private Task parentTask;\r\n  private Task childTask;\r\n}\r\n```","title":"What is the best way to implement a Spring Data JPA ManyToOne relationship with custom constraint checks?","body":"<p>I'm relatively new to Spring and am hoping someone can help point me in the right direction here.</p>\n<p>Imagine a to-do list app... Let's say I have a main entity called <code>Task</code> and a task can have <code>n</code> nested subtasks (each of which is a <code>Task</code> and can have <code>n</code> subtasks, etc.) I'm thinking that hte best way to represent this type of relationship is using a join table (see below for high level definition). The main issue here is circular references to the parent/child tasks. For example, if <code>TaskA</code> has a subtask, <code>TaskB</code>, and subtask <code>TaskB</code> has a subtask, <code>TaskA</code>.</p>\n<p>I am wondering:</p>\n<ol>\n<li>Is there a way in spring boot / JPA to define some type of table validation or a SQL <code>CHECK CONSTRAINT</code> that will ensure that a set of task ids is not entered into the join table twice? E.g. in the above scenario an exception would be thrown b/c <code>Set&lt;TaskA, TaskB&gt;</code> already exists in the table.</li>\n<li>Is this the best approach to represent this type of object relationship? Is there a better way to do this with Spring Data / JPA given the requirements?</li>\n</ol>\n<p>Thanks so much in advance!</p>\n<pre><code>@Entity\n@Table(name = &quot;task&quot;)\npublic class Task {\n  ...\n}\n\n@Entity\n@Table(name = &quot;subtasks&quot;)\npublic class SubTasks {\n  ...\n  private Task parentTask;\n  private Task childTask;\n}\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":1,"creation_date":1653442826,"post_id":72371111,"comment_id":127852032,"body_markdown":"Have you tried to read javadoc for java.util.zip package?\nhttps://docs.oracle.com/javase/8/docs/api/java/util/zip/package-summary.html","body":"Have you tried to read javadoc for java.util.zip package? <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/zip/&hellip;</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1653442976,"post_id":72371111,"comment_id":127852046,"body_markdown":"Possibly related: [How to extract specific file in a zip file in java](https://stackoverflow.com/q/32179094), [What is a good Java library to zip/unzip files?](https://stackoverflow.com/q/9324933), https://mkyong.com/java/how-to-decompress-files-from-a-zip-file/","body":"Possibly related: <a href=\"https://stackoverflow.com/q/32179094\">How to extract specific file in a zip file in java</a>, <a href=\"https://stackoverflow.com/q/9324933\">What is a good Java library to zip/unzip files?</a>, <a href=\"https://mkyong.com/java/how-to-decompress-files-from-a-zip-file/\" rel=\"nofollow noreferrer\">mkyong.com/java/how-to-decompress-files-from-a-zip-file</a>"}],"answers":[{"tags":[],"owner":{"account_id":25381742,"reputation":1,"user_id":19194026,"display_name":"fasf"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653443015,"creation_date":1653443015,"answer_id":72371161,"question_id":72371111,"body_markdown":"It is simple you can do it like this:\r\n\r\n        import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.zip.InflaterInputStream;\r\n\r\n    //Uncompressing a file using an InflaterInputStream\r\n    class unzip\r\n    {\r\n\t    public static void main(String[] args) throws IOException {\r\n\t\t    //assign Input File : file2 to FileInputStream for reading data\r\n\t\t    FileInputStream fis=new FileInputStream(&quot;file2&quot;);\r\n\r\n\t\t    //assign output file: file3 to FileOutputStream for reading the data \r\n\t\tFileOutputStream fos=new FileOutputStream(&quot;file3&quot;);\r\n\t\t\r\n\t\t//assign inflaterInputStream to FileInputStream for uncompressing the data\r\n\t\tInflaterInputStream iis=new InflaterInputStream(fis);\r\n\t\t\r\n\t\t//read data from inflaterInputStream and write it into FileOutputStream\r\n\t\tint data;\r\n\t\twhile((data=iis.read())!=-1)\r\n\t\t{\r\n\t\t\tfos.write(data);\r\n\t\t}\r\n\t\t\r\n\t\t//close the files\r\n\t\tfos.close();\r\n\t\tiis.close();\r\n\t\t\r\n\t}\r\n}\r\n","title":"How do i decompress a compressed(zip) file using java","body":"<p>It is simple you can do it like this:</p>\n<pre><code>    import java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.zip.InflaterInputStream;\n\n//Uncompressing a file using an InflaterInputStream\nclass unzip\n{\n    public static void main(String[] args) throws IOException {\n        //assign Input File : file2 to FileInputStream for reading data\n        FileInputStream fis=new FileInputStream(&quot;file2&quot;);\n\n        //assign output file: file3 to FileOutputStream for reading the data \n    FileOutputStream fos=new FileOutputStream(&quot;file3&quot;);\n    \n    //assign inflaterInputStream to FileInputStream for uncompressing the data\n    InflaterInputStream iis=new InflaterInputStream(fis);\n    \n    //read data from inflaterInputStream and write it into FileOutputStream\n    int data;\n    while((data=iis.read())!=-1)\n    {\n        fos.write(data);\n    }\n    \n    //close the files\n    fos.close();\n    iis.close();\n    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":25293688,"reputation":86,"user_id":19119227,"display_name":"Saran Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658984272,"creation_date":1658983962,"answer_id":73147434,"question_id":72371111,"body_markdown":"Solution - Using BufferedInputStream and give it to the ZipInputStream to read the zipped file\r\n\r\n    FileInputStream fis;            \r\n    byte[] buffer = new byte[1024];                                                   \r\n    try {                                                                         \r\n    fis = new FileInputStream(zipFilePath);                            \r\n    ZipInputStream zis = new ZipInputStream(fis);                                     \r\n    ZipEntry ze = zis.getNextEntry();                                               \r\n    while(ze != null){                                                    \r\n    String fileName = ze.getName();                                                       \r\n    File newFile = new File(destDir + File.separator + fileName);\r\n    System.out.println(&quot;Unzipping to &quot;+newFile.getAbsolutePath());","title":"How do i decompress a compressed(zip) file using java","body":"<p>Solution - Using BufferedInputStream and give it to the ZipInputStream to read the zipped file</p>\n<pre><code>FileInputStream fis;            \nbyte[] buffer = new byte[1024];                                                   \ntry {                                                                         \nfis = new FileInputStream(zipFilePath);                            \nZipInputStream zis = new ZipInputStream(fis);                                     \nZipEntry ze = zis.getNextEntry();                                               \nwhile(ze != null){                                                    \nString fileName = ze.getName();                                                       \nFile newFile = new File(destDir + File.separator + fileName);\nSystem.out.println(&quot;Unzipping to &quot;+newFile.getAbsolutePath());\n</code></pre>\n"}],"owner":{"account_id":25293688,"reputation":86,"user_id":19119227,"display_name":"Saran Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73147434,"answer_count":2,"score":-3,"last_activity_date":1658992208,"creation_date":1653442481,"question_id":72371111,"body_markdown":"How can we decompress a compressed file(.zip).Please tell me a way to decompress a file","title":"How do i decompress a compressed(zip) file using java","body":"<p>How can we decompress a compressed file(.zip).Please tell me a way to decompress a file</p>\n"},{"tags":["java","reactjs","maven","jenkins","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1658995324,"post_id":73148633,"comment_id":129191605,"body_markdown":"The version `appname-1.0.0-20220728.062644-65.jar` looks like a version which is created during deployment to a repository manager ...","body":"The version <code>appname-1.0.0-20220728.062644-65.jar</code> looks like a version which is created during deployment to a repository manager ..."},{"owner":{"account_id":25018750,"reputation":11,"user_id":18877631,"display_name":"Rajat Rao"},"score":0,"creation_date":1658996548,"post_id":73148633,"comment_id":129191955,"body_markdown":"hey @khmarbaise thanks for responding, on checking i found it is happening in jenkins with the help of external script before pushing to deployment, in short it is happening before deployment itself","body":"hey @khmarbaise thanks for responding, on checking i found it is happening in jenkins with the help of external script before pushing to deployment, in short it is happening before deployment itself"}],"owner":{"account_id":25018750,"reputation":11,"user_id":18877631,"display_name":"Rajat Rao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658992166,"creation_date":1658992166,"question_id":73148633,"body_markdown":"I have a react app for which the jar file is created using pom.xml in jenkins.  \r\nThe jar file name is something like - appname-1.0.0-20220728.062644-65.jar\r\nFrom above example, i am providing 1.0.0-SNAPSHOT as version in pom.xml file,the snapshot value is being generated from other scripts which is not in my control  \r\nNow the requirement is ,after the jar file is created like with above jar filename, i need to output the version - 1.0.0-20220728.062644-65 in an object file under public folder like\r\n{&quot;version&quot;:&quot;1.0.0-20220728.062644-65&quot;}\r\n\r\nI have tried initially echoing using ant plugin in pom.xml to check whether i am able to get the complete version, but i just get 1.0.0-SNAPSHOT echoed,but i need the complete version along with snapshot value and needs to be printed as object in different file before pushing the file to deployment.\r\n\r\nAny idea how to proceed\r\n","title":"Want to print version after maven build in jenkins in public folder for react app","body":"<p>I have a react app for which the jar file is created using pom.xml in jenkins.<br />\nThe jar file name is something like - appname-1.0.0-20220728.062644-65.jar\nFrom above example, i am providing 1.0.0-SNAPSHOT as version in pom.xml file,the snapshot value is being generated from other scripts which is not in my control<br />\nNow the requirement is ,after the jar file is created like with above jar filename, i need to output the version - 1.0.0-20220728.062644-65 in an object file under public folder like\n{&quot;version&quot;:&quot;1.0.0-20220728.062644-65&quot;}</p>\n<p>I have tried initially echoing using ant plugin in pom.xml to check whether i am able to get the complete version, but i just get 1.0.0-SNAPSHOT echoed,but i need the complete version along with snapshot value and needs to be printed as object in different file before pushing the file to deployment.</p>\n<p>Any idea how to proceed</p>\n"},{"tags":["java","postgresql","eclipse","jdbc","classnotfoundexception"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1658942579,"post_id":73142040,"comment_id":129179816,"body_markdown":"It seems the driver in the classpath... but somehow is not. How are you running the app?","body":"It seems the driver in the classpath... but somehow is not. How are you running the app?"},{"owner":{"account_id":16887124,"reputation":3,"user_id":12929307,"display_name":"J302086"},"score":0,"creation_date":1658942883,"post_id":73142040,"comment_id":129179934,"body_markdown":"@TheImpaler on the console.","body":"@TheImpaler on the console."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1658978586,"post_id":73142040,"comment_id":129187829,"body_markdown":"Post text rather than images.","body":"Post text rather than images."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1658978836,"post_id":73142040,"comment_id":129187859,"body_markdown":"By the way… `Class.forName` has not been needed for *many* years. Modern Java automatically loads your JDBC driver via the [Java SPI](https://en.wikipedia.org/wiki/Service_provider_interface) facility.","body":"By the way… <code>Class.forName</code> has not been needed for <i>many</i> years. Modern Java automatically loads your JDBC driver via the <a href=\"https://en.wikipedia.org/wiki/Service_provider_interface\" rel=\"nofollow noreferrer\">Java SPI</a> facility."}],"answers":[{"tags":[],"owner":{"account_id":16887124,"reputation":3,"user_id":12929307,"display_name":"J302086"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658952873,"creation_date":1658952873,"answer_id":73144122,"question_id":73142040,"body_markdown":"I found the solution. I had to create a file in my project and store the JAR there. Then I added the JAR to my build path. Originally, I was storing the JAR in an external location and choosing to build the path with an &quot;External JAR&quot;","title":"Issue connecting to database using JDBC","body":"<p>I found the solution. I had to create a file in my project and store the JAR there. Then I added the JAR to my build path. Originally, I was storing the JAR in an external location and choosing to build the path with an &quot;External JAR&quot;</p>\n"},{"tags":[],"owner":{"account_id":25913901,"reputation":1,"user_id":19637563,"display_name":"Sakthi Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658992101,"creation_date":1658992037,"answer_id":73148610,"question_id":73142040,"body_markdown":"You can try this.\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.util.Optional;\r\n    \r\n    public class JavaDatabaseConnection {\r\n    \tpublic static Connection connection;\r\n    \r\n    \tpublic Connection open() {\r\n    \t\r\n    \t\ttry {\r\n    \t\t\tconnection =  DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/DB_NAME&quot;, &quot;DB_USER_NAME&quot;,&quot;DB_PASSWORD&quot;);\r\n    \t\t\treturn connection;\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\tSystem.out.println(&quot;Couldn&#39;t Connect to database : &quot;+ e.getMessage());\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void close() {\r\n    \t\ttry {\r\n    \t\t    if (connection != null) {\r\n    \t\t    \tconnection.close();\r\n    \t\t    }\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nnow you can connect with your DB. In my dao file i call like this\r\n\r\n    \r\n\r\n    private static final String QUERY_INSERT_FOOD_MENU = &quot;insert into &quot; + DATABASE_SCHEMA + &quot;.&quot; + TABLE_FOOD_MENU +\r\n    \t\t\t&quot;( &quot; + COLUMN_MENU_NAME + &quot;, &quot; + COLUMN_AVAILABLE_FROM_TIME + &quot;, &quot; + COLUMN_AVAILABLE_TO_TIME + &quot; ) values(?, ?, ?);&quot;;\r\n\r\n    private JavaDatabaseConnection connection = new JavaDatabaseConnection();\r\n    public Connection jdbcConnection() {\r\n        \t\treturn connection.open();\r\n        \t}\r\n    StringBuilder sb = new StringBuilder();\r\n    \t\tsb.append(QUERY_INSERT_FOOD_MENU);\r\n    \t\t\r\n    \t\t\r\n\r\n    try (PreparedStatement insertIntoFoodMenu = jdbcConnection().prepareStatement(QUERY_INSERT_FOOD_MENU);\r\n        \t\t\t\tStatement statement = jdbcConnection().createStatement()){\r\n        //.....\r\n        }catch{\r\n        //...\r\n        }\r\n\r\nI think it helps you, Thank you. ","title":"Issue connecting to database using JDBC","body":"<p>You can try this.</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.Optional;\n\npublic class JavaDatabaseConnection {\n    public static Connection connection;\n\n    public Connection open() {\n    \n        try {\n            connection =  DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/DB_NAME&quot;, &quot;DB_USER_NAME&quot;,&quot;DB_PASSWORD&quot;);\n            return connection;\n        } catch (SQLException e) {\n            System.out.println(&quot;Couldn't Connect to database : &quot;+ e.getMessage());\n            return null;\n        }\n    }\n    \n    public void close() {\n        try {\n            if (connection != null) {\n                connection.close();\n            }\n        } catch (SQLException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>now you can connect with your DB. In my dao file i call like this</p>\n<pre><code>private static final String QUERY_INSERT_FOOD_MENU = &quot;insert into &quot; + DATABASE_SCHEMA + &quot;.&quot; + TABLE_FOOD_MENU +\n            &quot;( &quot; + COLUMN_MENU_NAME + &quot;, &quot; + COLUMN_AVAILABLE_FROM_TIME + &quot;, &quot; + COLUMN_AVAILABLE_TO_TIME + &quot; ) values(?, ?, ?);&quot;;\n\nprivate JavaDatabaseConnection connection = new JavaDatabaseConnection();\npublic Connection jdbcConnection() {\n            return connection.open();\n        }\nStringBuilder sb = new StringBuilder();\n        sb.append(QUERY_INSERT_FOOD_MENU);\n        \n        \n\ntry (PreparedStatement insertIntoFoodMenu = jdbcConnection().prepareStatement(QUERY_INSERT_FOOD_MENU);\n                    Statement statement = jdbcConnection().createStatement()){\n    //.....\n    }catch{\n    //...\n    }\n</code></pre>\n<p>I think it helps you, Thank you.</p>\n"}],"owner":{"account_id":16887124,"reputation":3,"user_id":12929307,"display_name":"J302086"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658992101,"creation_date":1658941762,"question_id":73142040,"body_markdown":"I am trying to connect to a postgres database using JDBC in eclipse. However, when running my code I get the error    java.lang.ClassNotFoundException: org.postgresql.Driver\r\n\r\nI went to https://jdbc.postgresql.org/ to download the required JAR and sources and have tried many different versions. I don&#39;t understand the error considering I have the required JAR in my build path and the JAR contains source code. \r\n\r\nAttached is a screenshot of my code on Eclipse. [![Eclipse Java Code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vxp3J.jpg","title":"Issue connecting to database using JDBC","body":"<p>I am trying to connect to a postgres database using JDBC in eclipse. However, when running my code I get the error    java.lang.ClassNotFoundException: org.postgresql.Driver</p>\n<p>I went to <a href=\"https://jdbc.postgresql.org/\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/</a> to download the required JAR and sources and have tried many different versions. I don't understand the error considering I have the required JAR in my build path and the JAR contains source code.</p>\n<p>Attached is a screenshot of my code on Eclipse. <a href=\"https://i.stack.imgur.com/vxp3J.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vxp3J.jpg\" alt=\"Eclipse Java Code\" /></a></p>\n"},{"tags":["java","bash","selenium","ffmpeg","firefox-headless"],"answers":[{"tags":[],"owner":{"account_id":25293688,"reputation":86,"user_id":19119227,"display_name":"Saran Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658984435,"creation_date":1658984435,"answer_id":73147486,"question_id":73107865,"body_markdown":"Solution - Even though i run the maven program in the port 44,the firefox driver opens up in any random port so, we have to add\r\n    \r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;/home/saran/Downloads/geckodriver&quot;);\r\n    Map&lt;String, String&gt; environment = new HashMap&lt;&gt;();\r\n    environment.put(&quot;DISPLAY&quot;, &quot;:44&quot;);\r\n    GeckoDriverService service = new GeckoDriverService.Builder()\r\n            .usingAnyFreePort()\r\n            .withEnvironment(environment)\r\n            .build();\r\n    driver = new FirefoxDriver(service);","title":"I get black screen when i record the headless selenium driver with xvfb and ffmpeg","body":"<p>Solution - Even though i run the maven program in the port 44,the firefox driver opens up in any random port so, we have to add</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;/home/saran/Downloads/geckodriver&quot;);\nMap&lt;String, String&gt; environment = new HashMap&lt;&gt;();\nenvironment.put(&quot;DISPLAY&quot;, &quot;:44&quot;);\nGeckoDriverService service = new GeckoDriverService.Builder()\n        .usingAnyFreePort()\n        .withEnvironment(environment)\n        .build();\ndriver = new FirefoxDriver(service);\n</code></pre>\n"}],"owner":{"account_id":25293688,"reputation":86,"user_id":19119227,"display_name":"Saran Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1659020652,"accepted_answer_id":73147486,"answer_count":1,"score":0,"last_activity_date":1658991939,"creation_date":1658745672,"question_id":73107865,"body_markdown":"xvfb-run --listen-tcp --server-num 44 -s &quot;-ac -screen 0 1920x1080x24&quot; mvn clean test &amp;  \r\nexport DISPLAY=:44  \r\nffmpeg -f x11grab -video_size 1920x1080 -i :44 -codec:v libx264 -r 12 video.mp4  \r\n\r\n\r\nThis is the bash script i am using to run the selenium test cases(in headless mode) with maven as the build tool in port 44 and capture it.\r\nBut when i execute it i only get a black screen. What to do?\r\n\r\n","title":"I get black screen when i record the headless selenium driver with xvfb and ffmpeg","body":"<p>xvfb-run --listen-tcp --server-num 44 -s &quot;-ac -screen 0 1920x1080x24&quot; mvn clean test &amp;<br />\nexport DISPLAY=:44<br />\nffmpeg -f x11grab -video_size 1920x1080 -i :44 -codec:v libx264 -r 12 video.mp4</p>\n<p>This is the bash script i am using to run the selenium test cases(in headless mode) with maven as the build tool in port 44 and capture it.\nBut when i execute it i only get a black screen. What to do?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-chromedriver","centos7"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658991897,"creation_date":1658991897,"answer_id":73148581,"question_id":73148467,"body_markdown":"This error message...\r\n\r\n\tStarting ChromeDriver 102.0.5005.61 (0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819}) on port 53751\r\n\t.\r\n\t[1658989503.540][WARNING]: This version of ChromeDriver has not been tested with Chrome version 103.\r\n\t.\r\n\t28-Jul-2022 10:55:03.613 INFO [Forwarding newSession on session null to remote] org.openqa.selenium.remote.ProtocolHandshake.createSession Detected dialect: W3C\r\n\t28-Jul-2022 10:55:03.673 WARNING [main] org.openqa.selenium.devtools.CdpVersionFinder.findNearestMatch Unable to find an exact match for CDP version 103, so returning the closest version found: a no-op implementation\r\n\t28-Jul-2022 10:55:03.673 INFO [main] org.openqa.selenium.devtools.CdpVersionFinder.findNearestMatch Unable to find CDP implementation matching 103.\r\n\t28-Jul-2022 10:55:03.674 WARNING [main] org.openqa.selenium.chromium.ChromiumDriver.lambda$new$3 Unable to find version of CDP to use for . You may need to include a dependency on a specific version of the CDP using something similar to `org.seleniumhq.selenium:selenium-devtools-v86:4.1.0` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you&#39;re using and the version number of the artifact is the same as Selenium&#39;s.\r\n\r\n...implies that the [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) was unable to initiate/spawn a new _Browsing Context_ i.e. [tag:google-chrome] session.\r\n\r\nYour main issue is the **incompatibility** between the version of the binaries you are using.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- _Selenium_ is upgraded to  current released [_**Version 4.3.0**_](https://www.selenium.dev/downloads/).\r\n- _ChromeDriver_ is updated to  current [ChromeDriver v103.0](https://chromedriver.storage.googleapis.com/index.html?path=103.0.5060.53/) level.\r\n- _Chrome Browser_ is updated to  current _chrome=103.0_ (as per [chromedriver=103.0.5060.53 release notes](https://chromedriver.storage.googleapis.com/103.0.5060.53/notes.txt)).","title":"Why are selenium ChromeDriver create null session in unix base OSs?","body":"<p>This error message...</p>\n<pre><code>Starting ChromeDriver 102.0.5005.61 (0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819}) on port 53751\n.\n[1658989503.540][WARNING]: This version of ChromeDriver has not been tested with Chrome version 103.\n.\n28-Jul-2022 10:55:03.613 INFO [Forwarding newSession on session null to remote] org.openqa.selenium.remote.ProtocolHandshake.createSession Detected dialect: W3C\n28-Jul-2022 10:55:03.673 WARNING [main] org.openqa.selenium.devtools.CdpVersionFinder.findNearestMatch Unable to find an exact match for CDP version 103, so returning the closest version found: a no-op implementation\n28-Jul-2022 10:55:03.673 INFO [main] org.openqa.selenium.devtools.CdpVersionFinder.findNearestMatch Unable to find CDP implementation matching 103.\n28-Jul-2022 10:55:03.674 WARNING [main] org.openqa.selenium.chromium.ChromiumDriver.lambda$new$3 Unable to find version of CDP to use for . You may need to include a dependency on a specific version of the CDP using something similar to `org.seleniumhq.selenium:selenium-devtools-v86:4.1.0` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you're using and the version number of the artifact is the same as Selenium's.\n</code></pre>\n<p>...implies that the <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> was unable to initiate/spawn a new <em>Browsing Context</em> i.e. <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\">google-chrome</a> session.</p>\n<p>Your main issue is the <strong>incompatibility</strong> between the version of the binaries you are using.</p>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that:</p>\n<ul>\n<li><em>Selenium</em> is upgraded to  current released <a href=\"https://www.selenium.dev/downloads/\" rel=\"nofollow noreferrer\"><em><strong>Version 4.3.0</strong></em></a>.</li>\n<li><em>ChromeDriver</em> is updated to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=103.0.5060.53/\" rel=\"nofollow noreferrer\">ChromeDriver v103.0</a> level.</li>\n<li><em>Chrome Browser</em> is updated to  current <em>chrome=103.0</em> (as per <a href=\"https://chromedriver.storage.googleapis.com/103.0.5060.53/notes.txt\" rel=\"nofollow noreferrer\">chromedriver=103.0.5060.53 release notes</a>).</li>\n</ul>\n"}],"owner":{"account_id":9194682,"reputation":84,"user_id":6833811,"display_name":"ali reza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658991897,"creation_date":1658991279,"question_id":73148467,"body_markdown":"I developed a app to read some web pages using `Selenium`.\r\n\r\n`ChromeDriver` on windows worked correctly but in unix base Oss (Mac &amp; Centos7) does not worked!\r\n\r\nI think a problem is &quot;Forwarding newSession on session null to remote&quot; in the unix base OSs.\r\n\r\nSome warnings and info when I ran app in unix base OSs are as bellow:\r\n\r\n    Starting ChromeDriver 102.0.5005.61 (0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819}) on port 53751\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    [1658989503.540][WARNING]: This version of ChromeDriver has not been tested with Chrome version 103.\r\n\r\n    28-Jul-2022 10:55:03.613 INFO [Forwarding newSession on session null to remote] org.openqa.selenium.remote.ProtocolHandshake.createSession Detected dialect: W3C\r\n    28-Jul-2022 10:55:03.673 WARNING [main] org.openqa.selenium.devtools.CdpVersionFinder.findNearestMatch Unable to find an exact match for CDP version 103, so returning the closest version found: a no-op implementation\r\n    28-Jul-2022 10:55:03.673 INFO [main] org.openqa.selenium.devtools.CdpVersionFinder.findNearestMatch Unable to find CDP implementation matching 103.\r\n    28-Jul-2022 10:55:03.674 WARNING [main] org.openqa.selenium.chromium.ChromiumDriver.lambda$new$3 Unable to find version of CDP to use for . You may need to include a dependency on a specific version of the CDP using something similar to `org.seleniumhq.selenium:selenium-devtools-v86:4.1.0` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you&#39;re using and the version number of the artifact is the same as Selenium&#39;s.\r\n\r\nAre there any solutions to resolve `ChromeDriver` error?\r\n\r\nIf you have any suggestions that can be help me, please add comment or answer.\r\n\r\nThanks.","title":"Why are selenium ChromeDriver create null session in unix base OSs?","body":"<p>I developed a app to read some web pages using <code>Selenium</code>.</p>\n<p><code>ChromeDriver</code> on windows worked correctly but in unix base Oss (Mac &amp; Centos7) does not worked!</p>\n<p>I think a problem is &quot;Forwarding newSession on session null to remote&quot; in the unix base OSs.</p>\n<p>Some warnings and info when I ran app in unix base OSs are as bellow:</p>\n<pre><code>Starting ChromeDriver 102.0.5005.61 (0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819}) on port 53751\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1658989503.540][WARNING]: This version of ChromeDriver has not been tested with Chrome version 103.\n\n28-Jul-2022 10:55:03.613 INFO [Forwarding newSession on session null to remote] org.openqa.selenium.remote.ProtocolHandshake.createSession Detected dialect: W3C\n28-Jul-2022 10:55:03.673 WARNING [main] org.openqa.selenium.devtools.CdpVersionFinder.findNearestMatch Unable to find an exact match for CDP version 103, so returning the closest version found: a no-op implementation\n28-Jul-2022 10:55:03.673 INFO [main] org.openqa.selenium.devtools.CdpVersionFinder.findNearestMatch Unable to find CDP implementation matching 103.\n28-Jul-2022 10:55:03.674 WARNING [main] org.openqa.selenium.chromium.ChromiumDriver.lambda$new$3 Unable to find version of CDP to use for . You may need to include a dependency on a specific version of the CDP using something similar to `org.seleniumhq.selenium:selenium-devtools-v86:4.1.0` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you're using and the version number of the artifact is the same as Selenium's.\n</code></pre>\n<p>Are there any solutions to resolve <code>ChromeDriver</code> error?</p>\n<p>If you have any suggestions that can be help me, please add comment or answer.</p>\n<p>Thanks.</p>\n"},{"tags":["java","ssl","apache-kafka","log4j2"],"answers":[{"tags":[],"owner":{"account_id":8062209,"reputation":131,"user_id":6077421,"display_name":"Indranil Banerjee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496673380,"creation_date":1460765838,"answer_id":36658748,"question_id":36062762,"body_markdown":"1) To set up SSL on the Kafka server, follow the steps outlined on docs.confluent.io/2.0.0/kafka/ssl.html\r\n\n2) On the Kafka server.properties, add the following\r\n\n    listeners=SSL://:9092\n    ssl.keystore.location=&lt;Folder&gt;/kafka.server.keystore.jks\n    ssl.keystore.password=&lt;password&gt;\n    ssl.key.password=changeme\n    ssl.truststore.location=&lt;Folder&gt;/kafka.server.truststore.jks\n    ssl.truststore.password=&lt;password&gt;\n    ssl.client.auth=required\n    security.inter.broker.protocol=SSL\n\n3) On the Kafka client (log4j2.xml file of the application that wants to send its logs over Kafka), add the following SSL properties under the Kafka appender configuration, as shown below\r\n\n    &lt;Kafka name=&quot;Kafka&quot;  topic=&quot;kafka.ssl.log4j2.test.topic&quot;&gt;\n        &lt;!--JsonLayout complete=&quot;true&quot; compact=&quot;false&quot; eventEol=&quot;true&quot; properties=&quot;true&quot; locationInfo=&quot;true&quot;/--&gt;\n        &lt;PatternLayout&gt;\n            &lt;Pattern&gt;[%-5level] [%t] [%C : %M : %F : %L] : %X : %m%n&lt;/Pattern&gt; \n        &lt;/PatternLayout&gt;\n        &lt;Property name=&quot;bootstrap.servers&quot;&gt;localhost:9092&lt;/Property&gt;\n        &lt;!--\n        &lt;Property name=&quot;security.protocol&quot;&gt;SSL&lt;/Property&gt;\n        &lt;Property name=&quot;ssl.truststore.location&quot;&gt;truststore location of client&lt;/Property&gt;\n        &lt;Property name=&quot;ssl.truststore.password&quot;&gt;password&lt;/Property&gt;\n        &lt;Property name=&quot;ssl.keystore.location&quot;&gt;keystore location of client&lt;/Property&gt;\n        &lt;Property name=&quot;ssl.keystore.password&quot;&gt;password&lt;/Property&gt;\n        &lt;Property name=&quot;ssl.key.password&quot;&gt;key password&lt;/Property&gt;\n        --&gt;\n    &lt;/Kafka&gt;\n\n4) That&#39;s it. You should now be able to send your logs to LogStash or any other application that has a Kafka plugin to pick up logs from Kafka.","title":"log4j2 kafka appender over TLS/SSL","body":"<p>1) To set up SSL on the Kafka server, follow the steps outlined on docs.confluent.io/2.0.0/kafka/ssl.html</p>\n\n<p>2) On the Kafka server.properties, add the following</p>\n\n<pre><code>listeners=SSL://:9092\nssl.keystore.location=&lt;Folder&gt;/kafka.server.keystore.jks\nssl.keystore.password=&lt;password&gt;\nssl.key.password=changeme\nssl.truststore.location=&lt;Folder&gt;/kafka.server.truststore.jks\nssl.truststore.password=&lt;password&gt;\nssl.client.auth=required\nsecurity.inter.broker.protocol=SSL\n</code></pre>\n\n<p>3) On the Kafka client (log4j2.xml file of the application that wants to send its logs over Kafka), add the following SSL properties under the Kafka appender configuration, as shown below</p>\n\n<pre><code>&lt;Kafka name=\"Kafka\"  topic=\"kafka.ssl.log4j2.test.topic\"&gt;\n    &lt;!--JsonLayout complete=\"true\" compact=\"false\" eventEol=\"true\" properties=\"true\" locationInfo=\"true\"/--&gt;\n    &lt;PatternLayout&gt;\n        &lt;Pattern&gt;[%-5level] [%t] [%C : %M : %F : %L] : %X : %m%n&lt;/Pattern&gt; \n    &lt;/PatternLayout&gt;\n    &lt;Property name=\"bootstrap.servers\"&gt;localhost:9092&lt;/Property&gt;\n    &lt;!--\n    &lt;Property name=\"security.protocol\"&gt;SSL&lt;/Property&gt;\n    &lt;Property name=\"ssl.truststore.location\"&gt;truststore location of client&lt;/Property&gt;\n    &lt;Property name=\"ssl.truststore.password\"&gt;password&lt;/Property&gt;\n    &lt;Property name=\"ssl.keystore.location\"&gt;keystore location of client&lt;/Property&gt;\n    &lt;Property name=\"ssl.keystore.password\"&gt;password&lt;/Property&gt;\n    &lt;Property name=\"ssl.key.password\"&gt;key password&lt;/Property&gt;\n    --&gt;\n&lt;/Kafka&gt;\n</code></pre>\n\n<p>4) That's it. You should now be able to send your logs to LogStash or any other application that has a Kafka plugin to pick up logs from Kafka.</p>\n"},{"tags":[],"owner":{"account_id":14667383,"reputation":1,"user_id":13195194,"display_name":"DocZico"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658991549,"creation_date":1658312454,"answer_id":73049883,"question_id":36062762,"body_markdown":"If needed the keystore/trustore type might be set like this.\r\n\r\n    &lt;Property name=&quot;ssl.truststore.type&quot;&gt;PKCS12&lt;/Property&gt;\r\n","title":"log4j2 kafka appender over TLS/SSL","body":"<p>If needed the keystore/trustore type might be set like this.</p>\n<pre><code>&lt;Property name=&quot;ssl.truststore.type&quot;&gt;PKCS12&lt;/Property&gt;\n</code></pre>\n"}],"owner":{"account_id":8062209,"reputation":131,"user_id":6077421,"display_name":"Indranil Banerjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2807,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1658991549,"creation_date":1458223165,"question_id":36062762,"body_markdown":"I am trying to use the Apache Kafka appender for log4j2. I am able to publish my logs over Kafka successfully. The question I have is whether I can publish over TLS/SSL. I could not find documentation on how to configure a secure transport for the log4j2 kafka appender, or maybe I am lazy. Any help is appreciated.","title":"log4j2 kafka appender over TLS/SSL","body":"<p>I am trying to use the Apache Kafka appender for log4j2. I am able to publish my logs over Kafka successfully. The question I have is whether I can publish over TLS/SSL. I could not find documentation on how to configure a secure transport for the log4j2 kafka appender, or maybe I am lazy. Any help is appreciated.</p>\n"},{"tags":["java","apache-kafka","oauth","spring-kafka","azure-eventhub"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658987976,"post_id":73147842,"comment_id":129189337,"body_markdown":"I&#39;m not sure what `KafkaProperties` is, but some of your props keys should come from `SaslConfigs`. E.g. `KafkaProperties.SASL_MECHANISM` -&gt; `SaslConfigs.SASL_MECHANISM`. Similarly, `SslConfigs` can be used.","body":"I&#39;m not sure what <code>KafkaProperties</code> is, but some of your props keys should come from <code>SaslConfigs</code>. E.g. <code>KafkaProperties.SASL_MECHANISM</code> -&gt; <code>SaslConfigs.SASL_MECHANISM</code>. Similarly, <code>SslConfigs</code> can be used."},{"owner":{"account_id":12173928,"reputation":147,"user_id":8887622,"display_name":"Nikhil Dhirmalani"},"score":0,"creation_date":1658988769,"post_id":73147842,"comment_id":129189536,"body_markdown":"KafkaProperties have public static felids like   public static final String SASL_SSL = &quot;SASL_SSL&quot;; public static final String SASL_MECHANISM = &quot;sasl.mechanism&quot;;  public static final String SASL_JAAS_CONFIG = &quot;sasl.jaas.config&quot;; I can use SaslConfigs but I am uisn gmy custom class which has properties set like this","body":"KafkaProperties have public static felids like   public static final String SASL_SSL = &quot;SASL_SSL&quot;; public static final String SASL_MECHANISM = &quot;sasl.mechanism&quot;;  public static final String SASL_JAAS_CONFIG = &quot;sasl.jaas.config&quot;; I can use SaslConfigs but I am uisn gmy custom class which has properties set like this"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658988935,"post_id":73147842,"comment_id":129189588,"body_markdown":"Sure, you&#39;re welcome to use the non-Kafka provided values, but ideally you use the constants provided from Kafka itself. In any case, can you get more debug information from the logs or your network response? TRACE level logs?","body":"Sure, you&#39;re welcome to use the non-Kafka provided values, but ideally you use the constants provided from Kafka itself. In any case, can you get more debug information from the logs or your network response? TRACE level logs?"},{"owner":{"account_id":12173928,"reputation":147,"user_id":8887622,"display_name":"Nikhil Dhirmalani"},"score":0,"creation_date":1658990102,"post_id":73147842,"comment_id":129189911,"body_markdown":"I have added the trace logs...I am unable to figure out the error...one thing with same setting If I am using customAuthnticationCallbackHandler instead of Kafka provided OAuthBearerLoginCallbackHandler it works fine, I want to not use my custom handler instead use kafka provided handler","body":"I have added the trace logs...I am unable to figure out the error...one thing with same setting If I am using customAuthnticationCallbackHandler instead of Kafka provided OAuthBearerLoginCallbackHandler it works fine, I want to not use my custom handler instead use kafka provided handler"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658990386,"post_id":73147842,"comment_id":129189996,"body_markdown":"And what does your custom class do differently? The error seems to indicate part of the buffer in [this method](https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/requests/SaslAuthenticateResponse.java#L76) is null","body":"And what does your custom class do differently? The error seems to indicate part of the buffer in <a href=\"https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/requests/SaslAuthenticateResponse.java#L76\" rel=\"nofollow noreferrer\">this method</a> is null"},{"owner":{"account_id":12173928,"reputation":147,"user_id":8887622,"display_name":"Nikhil Dhirmalani"},"score":0,"creation_date":1658990806,"post_id":73147842,"comment_id":129190110,"body_markdown":"Nothing it is calling Microsoft to get the token and giving that token back to the token handler method...this class is also doing the same calling the id provider URL to get the token...I see the token being received when I debug the","body":"Nothing it is calling Microsoft to get the token and giving that token back to the token handler method...this class is also doing the same calling the id provider URL to get the token...I see the token being received when I debug the"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1658990908,"post_id":73147842,"comment_id":129190140,"body_markdown":"Can you share your code or a diff that compares to built in class?","body":"Can you share your code or a diff that compares to built in class?"},{"owner":{"account_id":12173928,"reputation":147,"user_id":8887622,"display_name":"Nikhil Dhirmalani"},"score":0,"creation_date":1658991273,"post_id":73147842,"comment_id":129190270,"body_markdown":"I have added the custom authentication class.....","body":"I have added the custom authentication class....."},{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1668742557,"post_id":73147842,"comment_id":131485773,"body_markdown":"@NikhilDhirmalani - Were you able to solve it with custom things? I am also facing this issue from 2 weeks and dont have any solution yet. Do you&#39;ve one ?","body":"@NikhilDhirmalani - Were you able to solve it with custom things? I am also facing this issue from 2 weeks and dont have any solution yet. Do you&#39;ve one ?"},{"owner":{"account_id":12173928,"reputation":147,"user_id":8887622,"display_name":"Nikhil Dhirmalani"},"score":0,"creation_date":1669758663,"post_id":73147842,"comment_id":131714909,"body_markdown":"I am done...I was able to connect","body":"I am done...I was able to connect"}],"owner":{"account_id":12173928,"reputation":147,"user_id":8887622,"display_name":"Nikhil Dhirmalani"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658991240,"creation_date":1658987438,"question_id":73147842,"body_markdown":"\r\nI am trying to authenticate to azure eventhub i.e. Kafka using oauth2. I am using spring-Kafka for the consumer code and setting my values consumer config using Apache Kafka.\r\nConsumer Code : \r\n```\r\n  @KafkaListener(\r\n      topics = &quot;${events.user.topicZR}&quot;, concurrency = &quot;${events.user.concurrency}&quot;,\r\n      containerFactory = &quot;kafkaUserListenerContainerFactoryZr&quot;)\r\n  public void processEventZr(ConsumerRecord&lt;String, String&gt; records,\r\n                             Acknowledgment acknowledgment)  {\r\n    consumeCoreEvent(records, acknowledgment);\r\n  }\r\n```\r\nConsumer Config code :\r\n```\r\n@Bean(name = &quot;kafkaUserListenerContainerFactoryZr&quot;)\r\n  public KafkaListenerContainerFactory kafkaUserListenerContainerFactoryZr() {\r\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\r\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    factory.setConsumerFactory(userConsumerFactory(true));\r\n    factory.setAutoStartup(true);\r\n    factory.getContainerProperties().setSyncCommits(false);\r\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n    factory.setErrorHandler(new SeekToCurrentErrorHandler((record, exception) -&gt; {\r\n    }, new FixedBackOff(retryInterval, retryMaxAttempts)));\r\n    return factory;\r\n  }\r\n\r\npublic ConsumerFactory&lt;String, String&gt; userConsumerFactory(boolean zoneRedundant) {\r\n    String connectionStringUser;\r\n    String bootStrapServer;\r\n    if (zoneRedundant) {\r\n      bootStrapServer = eventStreamingProperties.getEventhubUsersEventBootstrapServersZr();\r\n    } else {\r\n      bootStrapServer = eventStreamingProperties.getEventhubUsersEventBootstrapServers();\r\n    }\r\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n        bootStrapServer);\r\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n        StringDeserializer.class.getName());\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\r\n        StringDeserializer.class.getName());\r\n    props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG,\r\n        &quot;org.apache.kafka.clients.consumer.RoundRobinAssignor&quot;);\r\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n    props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 100);\r\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, eventStreamingProperties\r\n        .getEventhubUsersEventGroupName());\r\n\r\n      props.put(\r\n          CommonClientConfigs.SECURITY_PROTOCOL_CONFIG,\r\n          KafkaProperties.SASL_SSL);\r\n  \r\n        props.put(KafkaProperties.SASL_MECHANISM, KafkaProperties.SASL_MECHANISM_VALUE);\r\n\r\n        props.put(KafkaProperties.SASL_JAAS_CONFIG,\r\n            String.format(KafkaProperties.KAFKA_OAUTH_MESSAGE,\r\n                KafkaProperties.OAUTH_CLIENT_ID, spnClientId,\r\n                KafkaProperties.OAUTH_CLIENT_SECRET, spnClientPassword));\r\n\r\n        props.put(KafkaProperties.SASL_LOGIN_CALLBACK, KafkaProperties.CUSTOM_CONFIG_AUTH_HANDLER);\r\n        props.put(KafkaProperties.OAUTH_URL, spnAuthUrl);\r\n        props.put(KafkaProperties.SSL_ENABLED_PROTOCOLS, &quot;TLSv1.2&quot;);\r\n\r\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n  }\r\n\r\nCUSTOM_CONFIG_AUTH_HANDLER = I am using apache kafka 3.1.0 org.apache.kafka.common.security.oauthbearer.secured.OAuthBearerLoginCallbackHandler\r\n\r\nKAFKA_OAUTH_MESSAGE = org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required %s=\\&quot;%s\\&quot; %s=\\&quot;%s\\&quot;;\r\n\r\n```\r\nI am able to fetch the token from the IDP i.e. azure but when the consumers are connecting to the eventhub I am getting this error : \r\n```\r\n2022-07-28 10:41:03,321 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-2, groupId=user] Set SASL client state to RECEIVE_APIVERSIONS_RESPONSE\r\n2022-07-28 10:41:03,388 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-2, groupId=user] Set SASL client state to SEND_HANDSHAKE_REQUEST\r\n2022-07-28 10:41:03,389 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-2, groupId=user] Set SASL client state to RECEIVE_HANDSHAKE_RESPONSE\r\n2022-07-28 10:41:03,452 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-2, groupId=user] Set SASL client state to INITIAL\r\n2022-07-28 10:41:03,452 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.oauthbearer.internals.OAuthBearerSaslClient: Setting SASL/OAUTHBEARER client state to RECEIVE_SERVER_FIRST_MESSAGE\r\n2022-07-28 10:41:03,453 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-2, groupId=user] Set SASL client state to INTERMEDIATE\r\n2022-07-28 10:41:03,487 DEBUG [kafka-coordinator-heartbeat-thread | user] org.apache.kafka.clients.consumer.internals.AbstractCoordinator: [Consumer clientId=consumer-user-3, groupId=user] Sending Heartbeat request with generation 25 and member id evh-use2-dsoi-iam-authn.servicebus.windows.net:c:user:I:consumer-user-3-886a344f745945c3a83b05bc86386991 to coordinator evh-use2-dsoi-iam-authn.servicebus.windows.net:9093 (id: 2147483647 rack: null)\r\n2022-07-28 10:41:03,487 DEBUG [kafka-coordinator-heartbeat-thread | user] org.apache.kafka.clients.NetworkClient: [Consumer clientId=consumer-user-3, groupId=user] Sending HEARTBEAT request with header RequestHeader(apiKey=HEARTBEAT, apiVersion=1, clientId=consumer-user-3, correlationId=99) and timeout 30000 to node 2147483647: HeartbeatRequestData(groupId=&#39;user&#39;, generationId=25, memberId=&#39;evh-use2-dsoi-iam-authn.servicebus.windows.net:c:user:I:consumer-user-3-886a344f745945c3a83b05bc86386991&#39;, groupInstanceId=null)\r\n2022-07-28 10:41:03,517 WARN  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.network.Selector: [Consumer clientId=consumer-user-2, groupId=user] Unexpected error from evh-use2-dsoi-iam-authn2.servicebus.windows.net/10.79.43.40; closing connection\r\njava.lang.RuntimeException: non-nullable field authBytes was serialized as null\r\n\tat org.apache.kafka.common.message.SaslAuthenticateResponseData.read(SaslAuthenticateResponseData.java:137)\r\n\tat org.apache.kafka.common.message.SaslAuthenticateResponseData.&lt;init&gt;(SaslAuthenticateResponseData.java:86)\r\n\tat org.apache.kafka.common.requests.SaslAuthenticateResponse.parse(SaslAuthenticateResponse.java:76)\r\n\tat org.apache.kafka.common.requests.AbstractResponse.parseResponse(AbstractResponse.java:187)\r\n\tat org.apache.kafka.common.requests.AbstractResponse.parseResponse(AbstractResponse.java:109)\r\n\tat org.apache.kafka.clients.NetworkClient.parseResponse(NetworkClient.java:729)\r\n\tat org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.receiveKafkaResponse(SaslClientAuthenticator.java:576)\r\n\tat org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.receiveToken(SaslClientAuthenticator.java:508)\r\n\tat org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.authenticate(SaslClientAuthenticator.java:302)\r\n\tat org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:181)\r\n\tat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\r\n\tat org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n\tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:483)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1521)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1511)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1339)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1251)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n```\r\n\r\n\r\nTrace Logs \r\n\r\n```\r\n2022-07-28 11:57:48,545 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.network.SslTransportLayer: [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=evh-use2-dsoi-iam-authn2.servicebus.windows.net/10.79.43.40:9093], selector=sun.nio.ch.WindowsSelectorImpl@f612459, interestOps=8, readyOps=0] SSLHandshake NEED_UNWRAP channelId -1, handshakeResult Status = OK HandshakeStatus = FINISHED\r\nbytesConsumed = 45 bytesProduced = 0, appReadBuffer pos 0, netReadBuffer pos 0, netWriteBuffer pos 45\r\n2022-07-28 11:57:48,545 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.network.SslTransportLayer: [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=evh-use2-dsoi-iam-authn2.servicebus.windows.net/10.79.43.40:9093], selector=sun.nio.ch.WindowsSelectorImpl@f612459, interestOps=8, readyOps=0] SSL handshake completed successfully with peerHost &#39;evh-use2-dsoi-iam-authn2.servicebus.windows.net&#39; peerPort 9093 peerPrincipal &#39;CN=servicebus.windows.net, O=Microsoft Corporation, L=Redmond, ST=WA, C=US&#39; cipherSuite &#39;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&#39;\r\n2022-07-28 11:57:48,545 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.network.SslTransportLayer: [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=evh-use2-dsoi-iam-authn2.servicebus.windows.net/10.79.43.40:9093], selector=sun.nio.ch.WindowsSelectorImpl@f612459, interestOps=8, readyOps=0] SSLHandshake FINISHED channelId -1, appReadBuffer pos 0, netReadBuffer pos 0, netWriteBuffer pos 45 \r\n2022-07-28 11:57:48,546 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-3, groupId=user] Set SASL client state to RECEIVE_APIVERSIONS_RESPONSE\r\n2022-07-28 11:57:48,546 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.NetworkClient: [Consumer clientId=consumer-user-3, groupId=user] Found least loaded connecting node evh-use2-dsoi-iam-authn2.servicebus.windows.net:9093 (id: -1 rack: null)\r\n2022-07-28 11:57:48,610 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-3, groupId=user] Set SASL client state to SEND_HANDSHAKE_REQUEST\r\n2022-07-28 11:57:48,610 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-3, groupId=user] Set SASL client state to RECEIVE_HANDSHAKE_RESPONSE\r\n2022-07-28 11:57:48,611 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.NetworkClient: [Consumer clientId=consumer-user-3, groupId=user] Found least loaded connecting node evh-use2-dsoi-iam-authn2.servicebus.windows.net:9093 (id: -1 rack: null)\r\n2022-07-28 11:57:48,661 TRACE [kafka-coordinator-heartbeat-thread | cache] org.apache.kafka.clients.consumer.internals.Heartbeat: [Heartbeat groupID=cache] Sending heartbeat request with 3000ms remaining on timer\r\n2022-07-28 11:57:48,661 DEBUG [kafka-coordinator-heartbeat-thread | cache] org.apache.kafka.clients.consumer.internals.AbstractCoordinator: [Consumer clientId=consumer-cache-1, groupId=cache] Sending Heartbeat request with generation 120 and member id consumer-cache-1-1067d4da-3618-4a05-90ef-4bd0e2aaaf67 to coordinator localhost:9092 (id: 2147482646 rack: null)\r\n2022-07-28 11:57:48,661 DEBUG [kafka-coordinator-heartbeat-thread | cache] org.apache.kafka.clients.NetworkClient: [Consumer clientId=consumer-cache-1, groupId=cache] Sending HEARTBEAT request with header RequestHeader(apiKey=HEARTBEAT, apiVersion=4, clientId=consumer-cache-1, correlationId=12) and timeout 30000 to node 2147482646: HeartbeatRequestData(groupId=&#39;cache&#39;, generationId=120, memberId=&#39;consumer-cache-1-1067d4da-3618-4a05-90ef-4bd0e2aaaf67&#39;, groupInstanceId=null)\r\n2022-07-28 11:57:48,675 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-3, groupId=user] Set SASL client state to INITIAL\r\n2022-07-28 11:57:48,675 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.oauthbearer.internals.OAuthBearerSaslClient: Setting SASL/OAUTHBEARER client state to RECEIVE_SERVER_FIRST_MESSAGE\r\n2022-07-28 11:57:48,675 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-3, groupId=user] Set SASL client state to INTERMEDIATE\r\n2022-07-28 11:57:48,675 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.NetworkClient: [Consumer clientId=consumer-user-3, groupId=user] Found least loaded connecting node evh-use2-dsoi-iam-authn2.servicebus.windows.net:9093 (id: -1 rack: null)\r\n2022-07-28 11:57:48,740 WARN  [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.network.Selector: [Consumer clientId=consumer-user-3, groupId=user] Unexpected error from evh-use2-dsoi-iam-authn2.servicebus.windows.net/10.79.43.40; closing connection\r\njava.lang.RuntimeException: non-nullable field authBytes was serialized as null\r\n\tat org.apache.kafka.common.message.SaslAuthenticateResponseData.read(SaslAuthenticateResponseData.java:137)\r\n\tat org.apache.kafka.common.message.SaslAuthenticateResponseData.&lt;init&gt;(SaslAuthenticateResponseData.java:86)\r\n\tat org.apache.kafka.common.requests.SaslAuthenticateResponse.parse(SaslAuthenticateResponse.java:76)\r\n\tat org.apache.kafka.common.requests.AbstractResponse.parseResponse(AbstractResponse.java:187)\r\n\tat org.apache.kafka.common.requests.AbstractResponse.parseResponse(AbstractResponse.java:109)\r\n\tat org.apache.kafka.clients.NetworkClient.parseResponse(NetworkClient.java:729)\r\n\tat org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.receiveKafkaResponse(SaslClientAuthenticator.java:576)\r\n\tat org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.receiveToken(SaslClientAuthenticator.java:508)\r\n\tat org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.authenticate(SaslClientAuthenticator.java:302)\r\n\tat org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:181)\r\n\tat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\r\n\tat org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n\tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:483)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1521)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1511)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1339)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1251)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n2022-07-28 11:57:48,740 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.internals.IntGaugeSuite: [Consumer clientId=consumer-user-3, groupId=user] sslCiphers: Removed a reference to CipherInformation(cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, protocol=TLSv1.2).  0 reference(s) remaining\r\n\r\n```\r\n\r\nCustomAuthenticationHandlerClass\r\n\r\n```\r\nimport com.microsoft.aad.msal4j.ClientCredentialFactory;\r\nimport com.microsoft.aad.msal4j.ClientCredentialParameters;\r\nimport com.microsoft.aad.msal4j.ConfidentialClientApplication;\r\nimport com.microsoft.aad.msal4j.IAuthenticationResult;\r\nimport com.microsoft.aad.msal4j.IClientCredential;\r\nimport com.pointclickcare.sop.iamauthn.config.KafkaProperties;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.apache.kafka.clients.producer.ProducerConfig;\r\nimport org.apache.kafka.common.errors.TimeoutException;\r\nimport org.apache.kafka.common.security.auth.AuthenticateCallbackHandler;\r\nimport org.apache.kafka.common.security.oauthbearer.OAuthBearerToken;\r\nimport org.apache.kafka.common.security.oauthbearer.OAuthBearerTokenCallback;\r\n\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URI;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ExecutionException;\r\nimport javax.security.auth.callback.Callback;\r\nimport javax.security.auth.callback.UnsupportedCallbackException;\r\nimport javax.security.auth.login.AppConfigurationEntry;\r\n\r\n@Slf4j\r\npublic class CustomAuthenticateCallbackHandler implements AuthenticateCallbackHandler {\r\n\r\n  private static final String HTTPS = &quot;https&quot;;\r\n  private static final String URL_PROTOCOL_DELIMITER = &quot;://&quot;;\r\n  private static final String DEFAULT_ENDPOINT = &quot;/.default&quot;;\r\n  private ConfidentialClientApplication aadClient;\r\n  private ClientCredentialParameters aadParameters;\r\n  private String appId;\r\n  private String appSecret;\r\n  private String authUrl;\r\n\r\n  @Override\r\n  public void configure(Map&lt;String, ?&gt; configs, String mechanism,\r\n                        List&lt;AppConfigurationEntry&gt; jaasConfigEntries) {\r\n\r\n    String bootstrapServer =\r\n        (String) ((List) configs.get(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG)).get(0);\r\n    URI uri = URI.create(HTTPS + URL_PROTOCOL_DELIMITER + bootstrapServer);\r\n\r\n    String sbUri = uri.getScheme() + URL_PROTOCOL_DELIMITER + uri.getHost();\r\n\r\n    // based on Azure documentation: The scope to request for a client credential flow is the name\r\n    // of the resource followed by /.default\r\n    this.aadParameters =\r\n        ClientCredentialParameters.builder(Collections.singleton(sbUri + DEFAULT_ENDPOINT)).build();\r\n\r\n    Map&lt;String, ?&gt; options = jaasConfigEntries.get(0).getOptions();\r\n    this.appId = (String) options.get(KafkaProperties.CUSTOM_CONFIG_APP_ID);\r\n    this.appSecret = (String) options\r\n        .get(KafkaProperties.CUSTOM_CONFIG_APP_SECRET);\r\n    this.authUrl = (String) options\r\n        .get(KafkaProperties.CUSTOM_CONFIG_AUTHORITY_URL);\r\n  }\r\n\r\n  /**\r\n   * Empty method not implementing it, since it is not implemented in other library implementation\r\n   * as well.\r\n   */\r\n  @Override\r\n  public void close() {\r\n    // Do nothing\r\n  }\r\n\r\n  @Override\r\n  public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\r\n    for (Callback callback : callbacks) {\r\n      if (callback instanceof OAuthBearerTokenCallback) {\r\n        try {\r\n          // get token from Azure\r\n          OAuthBearerToken token = getOAuthBearerToken();\r\n          OAuthBearerTokenCallback oauthCallback = (OAuthBearerTokenCallback) callback;\r\n          // let kafka oauth callback to handle the token\r\n          oauthCallback.token(token);\r\n        } catch (InterruptedException | ExecutionException | TimeoutException exp) {\r\n          log.error(&quot;error when get oauth bearer token during the &quot;\r\n              + &quot;eventhub oauth authentication&quot;, exp);\r\n          // Restore interrupted state...\r\n          Thread.currentThread().interrupt();\r\n          throw new IOException(\r\n              &quot;error when get oauth bearer token in custom authenticate callback handler&quot;, exp);\r\n        }\r\n      } else {\r\n        throw new UnsupportedCallbackException(callback);\r\n      }\r\n    }\r\n  }\r\n\r\n  OAuthBearerToken getOAuthBearerToken()\r\n      throws MalformedURLException, InterruptedException, ExecutionException, TimeoutException {\r\n    if (this.aadClient == null) {\r\n      IClientCredential credential = ClientCredentialFactory.createFromSecret(appSecret);\r\n      this.aadClient =\r\n          ConfidentialClientApplication.builder(appId, credential).authority(authUrl).build();\r\n    }\r\n    IAuthenticationResult authResult = this.aadClient.acquireToken(this.aadParameters).get();\r\n    log.info(&quot;Token acquired while authentication eventhub using SPN&quot;);\r\n\r\n    return new OAuthBearerTokenImpl(authResult.accessToken(), authResult.expiresOnDate());\r\n  }\r\n}\r\n```","title":"Consumers unable to connect to eventhub i.e. Kafka using oauth2.0 authentication mechanism","body":"<p>I am trying to authenticate to azure eventhub i.e. Kafka using oauth2. I am using spring-Kafka for the consumer code and setting my values consumer config using Apache Kafka.\nConsumer Code :</p>\n<pre><code>  @KafkaListener(\n      topics = &quot;${events.user.topicZR}&quot;, concurrency = &quot;${events.user.concurrency}&quot;,\n      containerFactory = &quot;kafkaUserListenerContainerFactoryZr&quot;)\n  public void processEventZr(ConsumerRecord&lt;String, String&gt; records,\n                             Acknowledgment acknowledgment)  {\n    consumeCoreEvent(records, acknowledgment);\n  }\n</code></pre>\n<p>Consumer Config code :</p>\n<pre><code>@Bean(name = &quot;kafkaUserListenerContainerFactoryZr&quot;)\n  public KafkaListenerContainerFactory kafkaUserListenerContainerFactoryZr() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(userConsumerFactory(true));\n    factory.setAutoStartup(true);\n    factory.getContainerProperties().setSyncCommits(false);\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n    factory.setErrorHandler(new SeekToCurrentErrorHandler((record, exception) -&gt; {\n    }, new FixedBackOff(retryInterval, retryMaxAttempts)));\n    return factory;\n  }\n\npublic ConsumerFactory&lt;String, String&gt; userConsumerFactory(boolean zoneRedundant) {\n    String connectionStringUser;\n    String bootStrapServer;\n    if (zoneRedundant) {\n      bootStrapServer = eventStreamingProperties.getEventhubUsersEventBootstrapServersZr();\n    } else {\n      bootStrapServer = eventStreamingProperties.getEventhubUsersEventBootstrapServers();\n    }\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\n        bootStrapServer);\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n        StringDeserializer.class.getName());\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\n        StringDeserializer.class.getName());\n    props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG,\n        &quot;org.apache.kafka.clients.consumer.RoundRobinAssignor&quot;);\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n    props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, 100);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, eventStreamingProperties\n        .getEventhubUsersEventGroupName());\n\n      props.put(\n          CommonClientConfigs.SECURITY_PROTOCOL_CONFIG,\n          KafkaProperties.SASL_SSL);\n  \n        props.put(KafkaProperties.SASL_MECHANISM, KafkaProperties.SASL_MECHANISM_VALUE);\n\n        props.put(KafkaProperties.SASL_JAAS_CONFIG,\n            String.format(KafkaProperties.KAFKA_OAUTH_MESSAGE,\n                KafkaProperties.OAUTH_CLIENT_ID, spnClientId,\n                KafkaProperties.OAUTH_CLIENT_SECRET, spnClientPassword));\n\n        props.put(KafkaProperties.SASL_LOGIN_CALLBACK, KafkaProperties.CUSTOM_CONFIG_AUTH_HANDLER);\n        props.put(KafkaProperties.OAUTH_URL, spnAuthUrl);\n        props.put(KafkaProperties.SSL_ENABLED_PROTOCOLS, &quot;TLSv1.2&quot;);\n\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n  }\n\nCUSTOM_CONFIG_AUTH_HANDLER = I am using apache kafka 3.1.0 org.apache.kafka.common.security.oauthbearer.secured.OAuthBearerLoginCallbackHandler\n\nKAFKA_OAUTH_MESSAGE = org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required %s=\\&quot;%s\\&quot; %s=\\&quot;%s\\&quot;;\n\n</code></pre>\n<p>I am able to fetch the token from the IDP i.e. azure but when the consumers are connecting to the eventhub I am getting this error :</p>\n<pre><code>2022-07-28 10:41:03,321 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-2, groupId=user] Set SASL client state to RECEIVE_APIVERSIONS_RESPONSE\n2022-07-28 10:41:03,388 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-2, groupId=user] Set SASL client state to SEND_HANDSHAKE_REQUEST\n2022-07-28 10:41:03,389 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-2, groupId=user] Set SASL client state to RECEIVE_HANDSHAKE_RESPONSE\n2022-07-28 10:41:03,452 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-2, groupId=user] Set SASL client state to INITIAL\n2022-07-28 10:41:03,452 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.oauthbearer.internals.OAuthBearerSaslClient: Setting SASL/OAUTHBEARER client state to RECEIVE_SERVER_FIRST_MESSAGE\n2022-07-28 10:41:03,453 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-2, groupId=user] Set SASL client state to INTERMEDIATE\n2022-07-28 10:41:03,487 DEBUG [kafka-coordinator-heartbeat-thread | user] org.apache.kafka.clients.consumer.internals.AbstractCoordinator: [Consumer clientId=consumer-user-3, groupId=user] Sending Heartbeat request with generation 25 and member id evh-use2-dsoi-iam-authn.servicebus.windows.net:c:user:I:consumer-user-3-886a344f745945c3a83b05bc86386991 to coordinator evh-use2-dsoi-iam-authn.servicebus.windows.net:9093 (id: 2147483647 rack: null)\n2022-07-28 10:41:03,487 DEBUG [kafka-coordinator-heartbeat-thread | user] org.apache.kafka.clients.NetworkClient: [Consumer clientId=consumer-user-3, groupId=user] Sending HEARTBEAT request with header RequestHeader(apiKey=HEARTBEAT, apiVersion=1, clientId=consumer-user-3, correlationId=99) and timeout 30000 to node 2147483647: HeartbeatRequestData(groupId='user', generationId=25, memberId='evh-use2-dsoi-iam-authn.servicebus.windows.net:c:user:I:consumer-user-3-886a344f745945c3a83b05bc86386991', groupInstanceId=null)\n2022-07-28 10:41:03,517 WARN  [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] org.apache.kafka.common.network.Selector: [Consumer clientId=consumer-user-2, groupId=user] Unexpected error from evh-use2-dsoi-iam-authn2.servicebus.windows.net/10.79.43.40; closing connection\njava.lang.RuntimeException: non-nullable field authBytes was serialized as null\n    at org.apache.kafka.common.message.SaslAuthenticateResponseData.read(SaslAuthenticateResponseData.java:137)\n    at org.apache.kafka.common.message.SaslAuthenticateResponseData.&lt;init&gt;(SaslAuthenticateResponseData.java:86)\n    at org.apache.kafka.common.requests.SaslAuthenticateResponse.parse(SaslAuthenticateResponse.java:76)\n    at org.apache.kafka.common.requests.AbstractResponse.parseResponse(AbstractResponse.java:187)\n    at org.apache.kafka.common.requests.AbstractResponse.parseResponse(AbstractResponse.java:109)\n    at org.apache.kafka.clients.NetworkClient.parseResponse(NetworkClient.java:729)\n    at org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.receiveKafkaResponse(SaslClientAuthenticator.java:576)\n    at org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.receiveToken(SaslClientAuthenticator.java:508)\n    at org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.authenticate(SaslClientAuthenticator.java:302)\n    at org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:181)\n    at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\n    at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:483)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1521)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1511)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1339)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1251)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n\n</code></pre>\n<p>Trace Logs</p>\n<pre><code>2022-07-28 11:57:48,545 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.network.SslTransportLayer: [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=evh-use2-dsoi-iam-authn2.servicebus.windows.net/10.79.43.40:9093], selector=sun.nio.ch.WindowsSelectorImpl@f612459, interestOps=8, readyOps=0] SSLHandshake NEED_UNWRAP channelId -1, handshakeResult Status = OK HandshakeStatus = FINISHED\nbytesConsumed = 45 bytesProduced = 0, appReadBuffer pos 0, netReadBuffer pos 0, netWriteBuffer pos 45\n2022-07-28 11:57:48,545 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.network.SslTransportLayer: [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=evh-use2-dsoi-iam-authn2.servicebus.windows.net/10.79.43.40:9093], selector=sun.nio.ch.WindowsSelectorImpl@f612459, interestOps=8, readyOps=0] SSL handshake completed successfully with peerHost 'evh-use2-dsoi-iam-authn2.servicebus.windows.net' peerPort 9093 peerPrincipal 'CN=servicebus.windows.net, O=Microsoft Corporation, L=Redmond, ST=WA, C=US' cipherSuite 'TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384'\n2022-07-28 11:57:48,545 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.network.SslTransportLayer: [SslTransportLayer channelId=-1 key=channel=java.nio.channels.SocketChannel[connection-pending remote=evh-use2-dsoi-iam-authn2.servicebus.windows.net/10.79.43.40:9093], selector=sun.nio.ch.WindowsSelectorImpl@f612459, interestOps=8, readyOps=0] SSLHandshake FINISHED channelId -1, appReadBuffer pos 0, netReadBuffer pos 0, netWriteBuffer pos 45 \n2022-07-28 11:57:48,546 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-3, groupId=user] Set SASL client state to RECEIVE_APIVERSIONS_RESPONSE\n2022-07-28 11:57:48,546 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.NetworkClient: [Consumer clientId=consumer-user-3, groupId=user] Found least loaded connecting node evh-use2-dsoi-iam-authn2.servicebus.windows.net:9093 (id: -1 rack: null)\n2022-07-28 11:57:48,610 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-3, groupId=user] Set SASL client state to SEND_HANDSHAKE_REQUEST\n2022-07-28 11:57:48,610 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-3, groupId=user] Set SASL client state to RECEIVE_HANDSHAKE_RESPONSE\n2022-07-28 11:57:48,611 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.NetworkClient: [Consumer clientId=consumer-user-3, groupId=user] Found least loaded connecting node evh-use2-dsoi-iam-authn2.servicebus.windows.net:9093 (id: -1 rack: null)\n2022-07-28 11:57:48,661 TRACE [kafka-coordinator-heartbeat-thread | cache] org.apache.kafka.clients.consumer.internals.Heartbeat: [Heartbeat groupID=cache] Sending heartbeat request with 3000ms remaining on timer\n2022-07-28 11:57:48,661 DEBUG [kafka-coordinator-heartbeat-thread | cache] org.apache.kafka.clients.consumer.internals.AbstractCoordinator: [Consumer clientId=consumer-cache-1, groupId=cache] Sending Heartbeat request with generation 120 and member id consumer-cache-1-1067d4da-3618-4a05-90ef-4bd0e2aaaf67 to coordinator localhost:9092 (id: 2147482646 rack: null)\n2022-07-28 11:57:48,661 DEBUG [kafka-coordinator-heartbeat-thread | cache] org.apache.kafka.clients.NetworkClient: [Consumer clientId=consumer-cache-1, groupId=cache] Sending HEARTBEAT request with header RequestHeader(apiKey=HEARTBEAT, apiVersion=4, clientId=consumer-cache-1, correlationId=12) and timeout 30000 to node 2147482646: HeartbeatRequestData(groupId='cache', generationId=120, memberId='consumer-cache-1-1067d4da-3618-4a05-90ef-4bd0e2aaaf67', groupInstanceId=null)\n2022-07-28 11:57:48,675 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-3, groupId=user] Set SASL client state to INITIAL\n2022-07-28 11:57:48,675 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.oauthbearer.internals.OAuthBearerSaslClient: Setting SASL/OAUTHBEARER client state to RECEIVE_SERVER_FIRST_MESSAGE\n2022-07-28 11:57:48,675 DEBUG [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.security.authenticator.SaslClientAuthenticator: [Consumer clientId=consumer-user-3, groupId=user] Set SASL client state to INTERMEDIATE\n2022-07-28 11:57:48,675 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.clients.NetworkClient: [Consumer clientId=consumer-user-3, groupId=user] Found least loaded connecting node evh-use2-dsoi-iam-authn2.servicebus.windows.net:9093 (id: -1 rack: null)\n2022-07-28 11:57:48,740 WARN  [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.network.Selector: [Consumer clientId=consumer-user-3, groupId=user] Unexpected error from evh-use2-dsoi-iam-authn2.servicebus.windows.net/10.79.43.40; closing connection\njava.lang.RuntimeException: non-nullable field authBytes was serialized as null\n    at org.apache.kafka.common.message.SaslAuthenticateResponseData.read(SaslAuthenticateResponseData.java:137)\n    at org.apache.kafka.common.message.SaslAuthenticateResponseData.&lt;init&gt;(SaslAuthenticateResponseData.java:86)\n    at org.apache.kafka.common.requests.SaslAuthenticateResponse.parse(SaslAuthenticateResponse.java:76)\n    at org.apache.kafka.common.requests.AbstractResponse.parseResponse(AbstractResponse.java:187)\n    at org.apache.kafka.common.requests.AbstractResponse.parseResponse(AbstractResponse.java:109)\n    at org.apache.kafka.clients.NetworkClient.parseResponse(NetworkClient.java:729)\n    at org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.receiveKafkaResponse(SaslClientAuthenticator.java:576)\n    at org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.receiveToken(SaslClientAuthenticator.java:508)\n    at org.apache.kafka.common.security.authenticator.SaslClientAuthenticator.authenticate(SaslClientAuthenticator.java:302)\n    at org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:181)\n    at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\n    at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:483)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1521)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1511)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1339)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1251)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n2022-07-28 11:57:48,740 TRACE [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] org.apache.kafka.common.metrics.internals.IntGaugeSuite: [Consumer clientId=consumer-user-3, groupId=user] sslCiphers: Removed a reference to CipherInformation(cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, protocol=TLSv1.2).  0 reference(s) remaining\n\n</code></pre>\n<p>CustomAuthenticationHandlerClass</p>\n<pre><code>import com.microsoft.aad.msal4j.ClientCredentialFactory;\nimport com.microsoft.aad.msal4j.ClientCredentialParameters;\nimport com.microsoft.aad.msal4j.ConfidentialClientApplication;\nimport com.microsoft.aad.msal4j.IAuthenticationResult;\nimport com.microsoft.aad.msal4j.IClientCredential;\nimport com.pointclickcare.sop.iamauthn.config.KafkaProperties;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.errors.TimeoutException;\nimport org.apache.kafka.common.security.auth.AuthenticateCallbackHandler;\nimport org.apache.kafka.common.security.oauthbearer.OAuthBearerToken;\nimport org.apache.kafka.common.security.oauthbearer.OAuthBearerTokenCallback;\n\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URI;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ExecutionException;\nimport javax.security.auth.callback.Callback;\nimport javax.security.auth.callback.UnsupportedCallbackException;\nimport javax.security.auth.login.AppConfigurationEntry;\n\n@Slf4j\npublic class CustomAuthenticateCallbackHandler implements AuthenticateCallbackHandler {\n\n  private static final String HTTPS = &quot;https&quot;;\n  private static final String URL_PROTOCOL_DELIMITER = &quot;://&quot;;\n  private static final String DEFAULT_ENDPOINT = &quot;/.default&quot;;\n  private ConfidentialClientApplication aadClient;\n  private ClientCredentialParameters aadParameters;\n  private String appId;\n  private String appSecret;\n  private String authUrl;\n\n  @Override\n  public void configure(Map&lt;String, ?&gt; configs, String mechanism,\n                        List&lt;AppConfigurationEntry&gt; jaasConfigEntries) {\n\n    String bootstrapServer =\n        (String) ((List) configs.get(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG)).get(0);\n    URI uri = URI.create(HTTPS + URL_PROTOCOL_DELIMITER + bootstrapServer);\n\n    String sbUri = uri.getScheme() + URL_PROTOCOL_DELIMITER + uri.getHost();\n\n    // based on Azure documentation: The scope to request for a client credential flow is the name\n    // of the resource followed by /.default\n    this.aadParameters =\n        ClientCredentialParameters.builder(Collections.singleton(sbUri + DEFAULT_ENDPOINT)).build();\n\n    Map&lt;String, ?&gt; options = jaasConfigEntries.get(0).getOptions();\n    this.appId = (String) options.get(KafkaProperties.CUSTOM_CONFIG_APP_ID);\n    this.appSecret = (String) options\n        .get(KafkaProperties.CUSTOM_CONFIG_APP_SECRET);\n    this.authUrl = (String) options\n        .get(KafkaProperties.CUSTOM_CONFIG_AUTHORITY_URL);\n  }\n\n  /**\n   * Empty method not implementing it, since it is not implemented in other library implementation\n   * as well.\n   */\n  @Override\n  public void close() {\n    // Do nothing\n  }\n\n  @Override\n  public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\n    for (Callback callback : callbacks) {\n      if (callback instanceof OAuthBearerTokenCallback) {\n        try {\n          // get token from Azure\n          OAuthBearerToken token = getOAuthBearerToken();\n          OAuthBearerTokenCallback oauthCallback = (OAuthBearerTokenCallback) callback;\n          // let kafka oauth callback to handle the token\n          oauthCallback.token(token);\n        } catch (InterruptedException | ExecutionException | TimeoutException exp) {\n          log.error(&quot;error when get oauth bearer token during the &quot;\n              + &quot;eventhub oauth authentication&quot;, exp);\n          // Restore interrupted state...\n          Thread.currentThread().interrupt();\n          throw new IOException(\n              &quot;error when get oauth bearer token in custom authenticate callback handler&quot;, exp);\n        }\n      } else {\n        throw new UnsupportedCallbackException(callback);\n      }\n    }\n  }\n\n  OAuthBearerToken getOAuthBearerToken()\n      throws MalformedURLException, InterruptedException, ExecutionException, TimeoutException {\n    if (this.aadClient == null) {\n      IClientCredential credential = ClientCredentialFactory.createFromSecret(appSecret);\n      this.aadClient =\n          ConfidentialClientApplication.builder(appId, credential).authority(authUrl).build();\n    }\n    IAuthenticationResult authResult = this.aadClient.acquireToken(this.aadParameters).get();\n    log.info(&quot;Token acquired while authentication eventhub using SPN&quot;);\n\n    return new OAuthBearerTokenImpl(authResult.accessToken(), authResult.expiresOnDate());\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","annotations","annotation-processing","maven-compiler-plugin"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1658988542,"post_id":73147532,"comment_id":129189480,"body_markdown":"How does your pom.xml look like?","body":"How does your pom.xml look like?"},{"owner":{"account_id":25851020,"reputation":1,"user_id":19585034,"display_name":"ldoctori"},"score":0,"creation_date":1658991296,"post_id":73147532,"comment_id":129190283,"body_markdown":"I added the pom-file into main field","body":"I added the pom-file into main field"},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1658994368,"post_id":73147532,"comment_id":129191254,"body_markdown":"This could help: https://stackoverflow.com/a/41777832/1466267","body":"This could help: <a href=\"https://stackoverflow.com/a/41777832/1466267\">stackoverflow.com/a/41777832/1466267</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1658995480,"post_id":73147532,"comment_id":129191666,"body_markdown":"A maven plugin as a dependency is simply wrong. Furthermore using a plugin maven-compiler-plugin version:2.0.2 (which is of 2007) I strongly recommend to use most recent versions of plugins...","body":"A maven plugin as a dependency is simply wrong. Furthermore using a plugin maven-compiler-plugin version:2.0.2 (which is of 2007) I strongly recommend to use most recent versions of plugins..."},{"owner":{"account_id":25851020,"reputation":1,"user_id":19585034,"display_name":"ldoctori"},"score":0,"creation_date":1659005336,"post_id":73147532,"comment_id":129195112,"body_markdown":"I deleted compiler-plugin dependency and try too use newest version of it. This does not help. I also tried to use hibernate as annotation processor, it does not work too. But, honestly, it is not clearly for me, I want to use my own annotation processor. How hibernate can help me? Or I must set &lt;annotationProcessorPath&gt; to my custom processor (as src.main.java.MyCustomProcessor). I tried this and here i am...","body":"I deleted compiler-plugin dependency and try too use newest version of it. This does not help. I also tried to use hibernate as annotation processor, it does not work too. But, honestly, it is not clearly for me, I want to use my own annotation processor. How hibernate can help me? Or I must set &lt;annotationProcessorPath&gt; to my custom processor (as src.main.java.MyCustomProcessor). I tried this and here i am..."},{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1659097019,"post_id":73147532,"comment_id":129220425,"body_markdown":"To confirm, you have at least two pom files, right? One for the processor, and one that contains `UserForm.java`, `user_form.html`, and depends on the processor jar?","body":"To confirm, you have at least two pom files, right? One for the processor, and one that contains <code>UserForm.java</code>, <code>user_form.html</code>, and depends on the processor jar?"}],"owner":{"account_id":25851020,"reputation":1,"user_id":19585034,"display_name":"ldoctori"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658991237,"creation_date":1658984837,"question_id":73147532,"body_markdown":"It so complicated for me, so i probably will can&#39;t to ask normally question, but i will try...So, i want to compile the .html file using command &quot;mvn clean compile&quot;. I also have two custom quite similar annotations (@HtmlForm (for classes) and @HtmlInput (for fields)) looks like:\r\n@HtmlForm:\r\n\r\n    @Retention(RetentionPolicy.SOURCE)\r\n    @Target(ElementType.TYPE)\r\n    public @interface HtmlForm {\r\n        String fileName();\r\n        String action();\r\n        String method();\r\n    }\r\nAnd one annotated class:\r\n\r\n    @HtmlForm(fileName = &quot;user_form.html&quot;, action = &quot;/users&quot;, method = &quot;post&quot;)\r\n    public class UserForm {\r\n        @HtmlInput(type = &quot;text&quot;, name = &quot;first_name&quot;, placeholder = &quot;Enter First Name&quot;)\r\n        private String firstName;\r\n    \r\n        @HtmlInput(type = &quot;text&quot;, name = &quot;last_name&quot;, placeholder = &quot;Enter Last Name&quot;)\r\n        private String lastName;\r\n    \r\n        @HtmlInput(type = &quot;password&quot;, name = &quot;password&quot;, placeholder = &quot;Enter Password&quot;)\r\n        private String password;\r\n    }\r\nmy .pom file included dependencies on auto-service (seems to declare processor), on compile-plugin and reflection-util. I tried to write some custom annotation processor, but here few myknowleges are ended, and this is all, that I could to do:\r\n\r\n    @SupportedAnnotationTypes({&quot;HtmlForm&quot;, &quot;HtmlInput&quot;})\r\n    @AutoService(Processor.class)\r\n    \r\n        public class HtmlProcesser extends AbstractProcessor{\r\n            @Override\r\n            public boolean process(Set&lt;? extends TypeElement&gt; set, RoundEnvironment roundEnv) {\r\n        \r\n                Set&lt;? extends Element&gt; annotatedElements = null;\r\n                for (TypeElement annotation : set) {\r\n                    annotatedElements = roundEnv.getElementsAnnotatedWith(HtmlForm.class);\r\n                    if (!annotatedElements.isEmpty()) {\r\n                        try {\r\n                            FileObject file = processingEnv.getFiler()\r\n                                    .createResource(StandardLocation.CLASS_OUTPUT,  &quot;&quot;,&quot;user_form.html&quot;);\r\n                            PrintWriter out = new PrintWriter(file.openWriter());\r\n                            out.print(&quot;sometext!!!!!&quot;);\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n        \r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n        }\r\nAt first, I tried to create &quot;user_form.html&quot; file and write &quot;sometext!!!&quot; into it, but this file is not created. I also includes &quot;user-form.html&quot; into mvn-compile-plugin and it&#39;s does not help. What should I do?\r\n\r\n***Updade (my .pom-file):***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Annotation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.auto.service&lt;/groupId&gt;\r\n                &lt;artifactId&gt;auto-service&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;de.cronn&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reflection-util&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.0.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Compile .html file using maven and annotation processor","body":"<p>It so complicated for me, so i probably will can't to ask normally question, but i will try...So, i want to compile the .html file using command &quot;mvn clean compile&quot;. I also have two custom quite similar annotations (@HtmlForm (for classes) and @HtmlInput (for fields)) looks like:\n@HtmlForm:</p>\n<pre><code>@Retention(RetentionPolicy.SOURCE)\n@Target(ElementType.TYPE)\npublic @interface HtmlForm {\n    String fileName();\n    String action();\n    String method();\n}\n</code></pre>\n<p>And one annotated class:</p>\n<pre><code>@HtmlForm(fileName = &quot;user_form.html&quot;, action = &quot;/users&quot;, method = &quot;post&quot;)\npublic class UserForm {\n    @HtmlInput(type = &quot;text&quot;, name = &quot;first_name&quot;, placeholder = &quot;Enter First Name&quot;)\n    private String firstName;\n\n    @HtmlInput(type = &quot;text&quot;, name = &quot;last_name&quot;, placeholder = &quot;Enter Last Name&quot;)\n    private String lastName;\n\n    @HtmlInput(type = &quot;password&quot;, name = &quot;password&quot;, placeholder = &quot;Enter Password&quot;)\n    private String password;\n}\n</code></pre>\n<p>my .pom file included dependencies on auto-service (seems to declare processor), on compile-plugin and reflection-util. I tried to write some custom annotation processor, but here few myknowleges are ended, and this is all, that I could to do:</p>\n<pre><code>@SupportedAnnotationTypes({&quot;HtmlForm&quot;, &quot;HtmlInput&quot;})\n@AutoService(Processor.class)\n\n    public class HtmlProcesser extends AbstractProcessor{\n        @Override\n        public boolean process(Set&lt;? extends TypeElement&gt; set, RoundEnvironment roundEnv) {\n    \n            Set&lt;? extends Element&gt; annotatedElements = null;\n            for (TypeElement annotation : set) {\n                annotatedElements = roundEnv.getElementsAnnotatedWith(HtmlForm.class);\n                if (!annotatedElements.isEmpty()) {\n                    try {\n                        FileObject file = processingEnv.getFiler()\n                                .createResource(StandardLocation.CLASS_OUTPUT,  &quot;&quot;,&quot;user_form.html&quot;);\n                        PrintWriter out = new PrintWriter(file.openWriter());\n                        out.print(&quot;sometext!!!!!&quot;);\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n    \n                }\n            }\n            return true;\n        }\n    }\n</code></pre>\n<p>At first, I tried to create &quot;user_form.html&quot; file and write &quot;sometext!!!&quot; into it, but this file is not created. I also includes &quot;user-form.html&quot; into mvn-compile-plugin and it's does not help. What should I do?</p>\n<p><em><strong>Updade (my .pom-file):</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Annotation&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auto.service&lt;/groupId&gt;\n            &lt;artifactId&gt;auto-service&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.cronn&lt;/groupId&gt;\n            &lt;artifactId&gt;reflection-util&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.0.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658991096,"creation_date":1658991096,"answer_id":73148431,"question_id":73148277,"body_markdown":"For the respective &quot;Run Configuration&quot;, there is an &quot;Encoding&quot; setting in the &quot;Common&quot; tab.\r\n\r\n[![1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/jCgIA.png","title":"German Umlauts are not displayed in Eclipse on the console output","body":"<p>For the respective &quot;Run Configuration&quot;, there is an &quot;Encoding&quot; setting in the &quot;Common&quot; tab.</p>\n<p><a href=\"https://i.stack.imgur.com/jCgIA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jCgIA.png\" alt=\"1\" /></a></p>\n"}],"owner":{"account_id":23432999,"reputation":29,"user_id":17491520,"display_name":"unliimit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658991096,"creation_date":1658990275,"question_id":73148277,"body_markdown":"German Umlauts are not displayed in Eclipse on the console output\r\n\r\nFor example, when I run `System.out.println(&quot;&#228;&quot;);`, the console does not output the &#228;, but a question mark. Where do I have to change the encoding so that this is displayed correctly?","title":"German Umlauts are not displayed in Eclipse on the console output","body":"<p>German Umlauts are not displayed in Eclipse on the console output</p>\n<p>For example, when I run <code>System.out.println(&quot;ä&quot;);</code>, the console does not output the ä, but a question mark. Where do I have to change the encoding so that this is displayed correctly?</p>\n"},{"tags":["java","api","maven","configuration","maven-checkstyle-plugin"],"answers":[{"tags":[],"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658990225,"creation_date":1658990225,"answer_id":73148270,"question_id":72027619,"body_markdown":"Yes, you can activate more checks for more filetypes in more locations. However...\r\n\r\nYou are probably using the [`check` goal][1] of the maven-checkstyle-plugin. As you can see, the default resource includes is only set to `**/*.properties`. Change it to anything you like.\r\n\r\n---\r\n\r\nTo answer your seconds question, where checkstyle will look for sources and resources, there&#39;s an option for this in the same page:\r\n\r\n\r\n    &lt;sourceDirectories&gt;\tList\t2.13\tSpecifies the location of the source directories to be used for Checkstyle. Default value is ${project.compileSourceRoots}.\r\n\r\nHowever, [the standard checks included in checkstyle][2] do not include a lot of checks for files other than `.java` or `.properties` files. You might want to take a look at other plugins, like [the spotless-maven-plugin&#39;s prettier][3] configuration.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-checkstyle-plugin/check-mojo.html\r\n  [2]: https://checkstyle.sourceforge.io/checks.html\r\n  [3]: https://github.com/diffplug/spotless/tree/main/plugin-maven#prettier","title":"Does maven-checkstyle-plugin checks files only within the /src directory","body":"<p>Yes, you can activate more checks for more filetypes in more locations. However...</p>\n<p>You are probably using the <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/check-mojo.html\" rel=\"nofollow noreferrer\"><code>check</code> goal</a> of the maven-checkstyle-plugin. As you can see, the default resource includes is only set to <code>**/*.properties</code>. Change it to anything you like.</p>\n<hr />\n<p>To answer your seconds question, where checkstyle will look for sources and resources, there's an option for this in the same page:</p>\n<pre><code>&lt;sourceDirectories&gt; List    2.13    Specifies the location of the source directories to be used for Checkstyle. Default value is ${project.compileSourceRoots}.\n</code></pre>\n<p>However, <a href=\"https://checkstyle.sourceforge.io/checks.html\" rel=\"nofollow noreferrer\">the standard checks included in checkstyle</a> do not include a lot of checks for files other than <code>.java</code> or <code>.properties</code> files. You might want to take a look at other plugins, like <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-maven#prettier\" rel=\"nofollow noreferrer\">the spotless-maven-plugin's prettier</a> configuration.</p>\n"}],"owner":{"account_id":16647754,"reputation":430,"user_id":12031603,"display_name":"Splioo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658990225,"creation_date":1651057233,"question_id":72027619,"body_markdown":"I wonder if the maven-checkstyle-plugin only check files within the /src directories of a project or multi-module project.\r\n\r\nI do have a maven project where I don&#39;t have /src directories but loads of *.yaml, *.wsdl, *.json and *.xsd files and do not know if they are gonna checked with this plugin as well. \r\n\r\n","title":"Does maven-checkstyle-plugin checks files only within the /src directory","body":"<p>I wonder if the maven-checkstyle-plugin only check files within the /src directories of a project or multi-module project.</p>\n<p>I do have a maven project where I don't have /src directories but loads of *.yaml, *.wsdl, *.json and *.xsd files and do not know if they are gonna checked with this plugin as well.</p>\n"},{"tags":["java","cassandra","cassandra-3.0"],"answers":[{"tags":[],"owner":{"account_id":14236563,"reputation":1,"user_id":10284226,"display_name":"Waterlilly_lilly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535539499,"creation_date":1535539499,"answer_id":52075526,"question_id":52055941,"body_markdown":"I had to set consistency level to ANY for writes to be taken care of using Cassandra&#39;s &quot;Hinted Hand-off&quot;","title":"Cassandra nodetool repair deletes all columns on all replicated node after one node failure","body":"<p>I had to set consistency level to ANY for writes to be taken care of using Cassandra's \"Hinted Hand-off\"</p>\n"}],"owner":{"account_id":14236563,"reputation":1,"user_id":10284226,"display_name":"Waterlilly_lilly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658990018,"creation_date":1535452950,"question_id":52055941,"body_markdown":"I have set replication factor to 2 for two nodes connected in a cluster. I use node1 as contact point to cluster. I start my application which writes rows to DB and after writing few rows I stop Cassandra on the node2 which causes rows to be written to node1 (and no rows get written to node2 althuogh it was up during a few row writes still DB is empty after node is restarted, but why?). Anyway, I try to sych DBs by running nodetool repair but both nodes DBs show as empty after runnung the command. How can I get nodes synched?","title":"Cassandra nodetool repair deletes all columns on all replicated node after one node failure","body":"<p>I have set replication factor to 2 for two nodes connected in a cluster. I use node1 as contact point to cluster. I start my application which writes rows to DB and after writing few rows I stop Cassandra on the node2 which causes rows to be written to node1 (and no rows get written to node2 althuogh it was up during a few row writes still DB is empty after node is restarted, but why?). Anyway, I try to sych DBs by running nodetool repair but both nodes DBs show as empty after runnung the command. How can I get nodes synched?</p>\n"},{"tags":["java","rest-assured","cucumber-java"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1658891695,"post_id":73131417,"comment_id":129162177,"body_markdown":"Could you please add example to demonstrate what you want? Your question confused me. Is there anything in request header you want to save or you just want to print exactly header you want?","body":"Could you please add example to demonstrate what you want? Your question confused me. Is there anything in request header you want to save or you just want to print exactly header you want?"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658989542,"creation_date":1658989542,"answer_id":73148153,"question_id":73131417,"body_markdown":"You can use that by casting your request specification to `FilterableRequestSpecification`.\r\n\r\nDo not forget to check if it implements mentioned interface.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    RequestSpecification header = RestAssured\r\n            .given()\r\n            .header(&quot;myHeader&quot;, &quot;myValue&quot;)\r\n            .header(&quot;myHeader2&quot;, &quot;myValue2&quot;);\r\n    if(header instanceof FilterableRequestSpecification){\r\n        FilterableRequestSpecification spec = (FilterableRequestSpecification)header;\r\n        System.out.println(spec.getHeaders());\r\n    }\r\n}\r\n```\r\n\r\nType check is required because while `RestAssured.given()` returns `RequestSpecification` the only implementation in default package also implements `RequestSpecification` but in some kinda heavy-customized cases it might not be true.. \r\n\r\nHowever given approach will likely work in 99.99% of cases.\r\n","title":"How to get the request header with restassured","body":"<p>You can use that by casting your request specification to <code>FilterableRequestSpecification</code>.</p>\n<p>Do not forget to check if it implements mentioned interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    RequestSpecification header = RestAssured\n            .given()\n            .header(&quot;myHeader&quot;, &quot;myValue&quot;)\n            .header(&quot;myHeader2&quot;, &quot;myValue2&quot;);\n    if(header instanceof FilterableRequestSpecification){\n        FilterableRequestSpecification spec = (FilterableRequestSpecification)header;\n        System.out.println(spec.getHeaders());\n    }\n}\n</code></pre>\n<p>Type check is required because while <code>RestAssured.given()</code> returns <code>RequestSpecification</code> the only implementation in default package also implements <code>RequestSpecification</code> but in some kinda heavy-customized cases it might not be true..</p>\n<p>However given approach will likely work in 99.99% of cases.</p>\n"}],"owner":{"account_id":14382262,"reputation":53,"user_id":10389122,"display_name":"HELENDOUDOU"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658989542,"creation_date":1658886265,"question_id":73131417,"body_markdown":"I am trying to get the request header before sending the request. Is there an easy way to get the request header directly? Tried something like `requestSpecification.log().all()` but it will print all the details. Or should I use something like this `&quot;RequestLoggingFilter&quot;`?","title":"How to get the request header with restassured","body":"<p>I am trying to get the request header before sending the request. Is there an easy way to get the request header directly? Tried something like <code>requestSpecification.log().all()</code> but it will print all the details. Or should I use something like this <code>&quot;RequestLoggingFilter&quot;</code>?</p>\n"},{"tags":["java","kotlin","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1658990055,"post_id":73148083,"comment_id":129189892,"body_markdown":"I don&#39;t think we have support for that yet. Mind opening a feature request on GitHub?","body":"I don&#39;t think we have support for that yet. Mind opening a feature request on GitHub?"},{"owner":{"account_id":23570423,"reputation":11,"user_id":17610630,"display_name":"Xming"},"score":2,"creation_date":1658993241,"post_id":73148083,"comment_id":129190864,"body_markdown":"@geoand Thanks! Here is the request: https://github.com/quarkusio/quarkus/issues/26981","body":"@geoand Thanks! Here is the request: <a href=\"https://github.com/quarkusio/quarkus/issues/26981\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/26981</a>"}],"owner":{"account_id":23570423,"reputation":11,"user_id":17610630,"display_name":"Xming"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658989156,"creation_date":1658989156,"question_id":73148083,"body_markdown":"I&#39;m using `io.quarkus:quarkus-rest-client-reactive:2.10.3.Final` to make a request like this:\r\n\r\n``` kotlin\r\n@RegisterRestClient\r\ninterface QweatherRestClient {\r\n\r\n    @GET\r\n    @Path(value = &quot;/warning/now&quot;)\r\n    fun getWarningNow(\r\n        @QueryParam(value = &quot;key&quot;) key: String,\r\n        @QueryParam(value = &quot;location&quot;) location: String\r\n    ): GetWarningNowResponse\r\n\r\n}\r\n```\r\n\r\nThe server returns a response with gzip encoding, which makes jackson throw an exception:\r\n\r\n&gt; Request failed: javax.ws.rs.ProcessingException: com.fasterxml.jackson.core.JsonParseException: Illegal character ((CTRL-CHAR, code 31)): only regular white space (\\r, \\n, \\t) is allowed between tokens\r\n\r\nI can see gzip file magic number (1f 8b) if use ByteArray as the return type, instead of an object in the sample code.\r\n\r\nI found a question [How to receive a GZIP response with RESTClient][1] maybe related. `io.quarkus:quarkus-rest-client` has `GZIPDecodingInterceptor` while the reactive one doesn&#39;t have this. Are there any alternative ways to receive responses with gzip encoding using the reactive rest client?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/68905302","title":"How to enable gzip support when using Quarkus rest client reactive?","body":"<p>I'm using <code>io.quarkus:quarkus-rest-client-reactive:2.10.3.Final</code> to make a request like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@RegisterRestClient\ninterface QweatherRestClient {\n\n    @GET\n    @Path(value = &quot;/warning/now&quot;)\n    fun getWarningNow(\n        @QueryParam(value = &quot;key&quot;) key: String,\n        @QueryParam(value = &quot;location&quot;) location: String\n    ): GetWarningNowResponse\n\n}\n</code></pre>\n<p>The server returns a response with gzip encoding, which makes jackson throw an exception:</p>\n<blockquote>\n<p>Request failed: javax.ws.rs.ProcessingException: com.fasterxml.jackson.core.JsonParseException: Illegal character ((CTRL-CHAR, code 31)): only regular white space (\\r, \\n, \\t) is allowed between tokens</p>\n</blockquote>\n<p>I can see gzip file magic number (1f 8b) if use ByteArray as the return type, instead of an object in the sample code.</p>\n<p>I found a question <a href=\"https://stackoverflow.com/a/68905302\">How to receive a GZIP response with RESTClient</a> maybe related. <code>io.quarkus:quarkus-rest-client</code> has <code>GZIPDecodingInterceptor</code> while the reactive one doesn't have this. Are there any alternative ways to receive responses with gzip encoding using the reactive rest client?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1574826791,"post_id":59062721,"comment_id":104364478,"body_markdown":"Why should it?  It&#39;s a service of the IDE, you&#39;d need to configure that directly via the IDE itself","body":"Why should it?  It&#39;s a service of the IDE, you&#39;d need to configure that directly via the IDE itself"},{"owner":{"account_id":16288992,"reputation":53,"user_id":11762940,"display_name":"funkybuddha"},"score":0,"creation_date":1574827273,"post_id":59062721,"comment_id":104364580,"body_markdown":"This is the error I am getting,      Error: Unable to initialize main class javaproject.StudentsForm\nCaused by: java.lang.NoClassDefFoundError: Connection","body":"This is the error I am getting,      Error: Unable to initialize main class javaproject.StudentsForm Caused by: java.lang.NoClassDefFoundError: Connection"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1574830587,"post_id":59062721,"comment_id":104365358,"body_markdown":"@funkybuddha Please don&#39;t update your question within the comments. Instead, \nclick the &quot;edit&quot; link beneath the tags, and then update your question directly. You are more likely to get help with that approach, since not everyone goes through the comments.","body":"@funkybuddha Please don&#39;t update your question within the comments. Instead,  click the &quot;edit&quot; link beneath the tags, and then update your question directly. You are more likely to get help with that approach, since not everyone goes through the comments."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1574849792,"post_id":59062721,"comment_id":104373938,"body_markdown":"You need to add `import java.sql.Connection;` at the top of your file (below the `package` statement)","body":"You need to add <code>import java.sql.Connection;</code> at the top of your file (below the <code>package</code> statement)"},{"owner":{"account_id":16288992,"reputation":53,"user_id":11762940,"display_name":"funkybuddha"},"score":0,"creation_date":1574871099,"post_id":59062721,"comment_id":104386142,"body_markdown":"@MarkRotteveel I did but I wasn&#39;t able to still make the connection, instead of  the import java.sql.connection; I used java.sql.* and now i am able to connect! IS java.sql.connection deprecated or what?","body":"@MarkRotteveel I did but I wasn&#39;t able to still make the connection, instead of  the import java.sql.connection; I used java.sql.* and now i am able to connect! IS java.sql.connection deprecated or what?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1574871211,"post_id":59062721,"comment_id":104386211,"body_markdown":"No it isn&#39;t deprecated, but there is an important difference between `java.sql.Connection` and `java.sql.connection`: the first exists and the second doesn&#39;t. Class names in Java are case sensitive.","body":"No it isn&#39;t deprecated, but there is an important difference between <code>java.sql.Connection</code> and <code>java.sql.connection</code>: the first exists and the second doesn&#39;t. Class names in Java are case sensitive."},{"owner":{"account_id":16288992,"reputation":53,"user_id":11762940,"display_name":"funkybuddha"},"score":0,"creation_date":1574885099,"post_id":59062721,"comment_id":104392514,"body_markdown":"@MarkRotteveel Sorry for my typing mistake. I meant java.sql.connection. I wasn&#39;t able to import this but when I tried java.sql.*, i was able to make the connection.","body":"@MarkRotteveel Sorry for my typing mistake. I meant java.sql.connection. I wasn&#39;t able to import this but when I tried java.sql.*, i was able to make the connection."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1574935937,"post_id":59062721,"comment_id":104408286,"body_markdown":"Again, there is a difference between `import java.sql.connection` that you say you tried, and using `import java.sql.Connection` (note the lowercase `c` vs uppercase `C`). That last one will work.","body":"Again, there is a difference between <code>import java.sql.connection</code> that you say you tried, and using <code>import java.sql.Connection</code> (note the lowercase <code>c</code> vs uppercase <code>C</code>). That last one will work."}],"answers":[{"tags":[],"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1574840284,"creation_date":1574840284,"answer_id":59065243,"question_id":59062721,"body_markdown":"&gt; Changes to the Connector/J API going from version 5.1 to 8.0:\r\n&gt;\r\n&gt; The name\r\n&gt; of the class that implements java.sql.Driver in MySQL Connector/J has\r\n&gt; changed from `com.mysql.jdbc.Driver` to `com.mysql.cj.jdbc.Driver`. The\r\n&gt; old class name has been deprecated.\r\n\r\nSource: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-api-changes.html","title":"java.sql.connection not showing up in netbeans","body":"<blockquote>\n  <p>Changes to the Connector/J API going from version 5.1 to 8.0:</p>\n  \n  <p>The name\n  of the class that implements java.sql.Driver in MySQL Connector/J has\n  changed from <code>com.mysql.jdbc.Driver</code> to <code>com.mysql.cj.jdbc.Driver</code>. The\n  old class name has been deprecated.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-api-changes.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-api-changes.html</a></p>\n"},{"tags":[],"owner":{"account_id":3714684,"reputation":31,"user_id":3091189,"display_name":"Otabek O&#39;ktamjon o&#39;gli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658989125,"creation_date":1658989125,"answer_id":73148075,"question_id":59062721,"body_markdown":"Put a string:\r\n\r\n&quot;requires java.sql;&quot; \r\n\r\nin the module-info.java file\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: https://www.codegrepper.com/code-examples/sql/the+package+java.sql+is+not+accessible","title":"java.sql.connection not showing up in netbeans","body":"<p>Put a string:</p>\n<p>&quot;requires java.sql;&quot;</p>\n<p>in the module-info.java file</p>\n<p><a href=\"https://www.codegrepper.com/code-examples/sql/the+package+java.sql+is+not+accessible\" rel=\"nofollow noreferrer\">source</a></p>\n"}],"owner":{"account_id":16288992,"reputation":53,"user_id":11762940,"display_name":"funkybuddha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658989125,"creation_date":1574826487,"question_id":59062721,"body_markdown":"    public Connection MySqlConnection(){\r\n               \r\n            Connection conn=null;\r\n            try{\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                conn=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/project&quot;,&quot;root&quot;,&quot;root&quot;);\r\n                return conn;\r\n            }\r\n            catch(Exception e){\r\n                JOptionPane.showMessageDialog(null,&quot;MySql connection failed&quot;);\r\n                return null;\r\n            }\r\n        }\r\n\r\nMy Netbeans is not giving me options to import the `java.sql.connection`. I have added the `lib\\mysql-connector-java-8.0.18.jar` in my library. Additionally, I am also able to see all my databases in the services tab in Netbeans. I am working on a Swing project. Thank you!  \r\n","title":"java.sql.connection not showing up in netbeans","body":"<pre><code>public Connection MySqlConnection(){\n\n        Connection conn=null;\n        try{\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            conn=DriverManager.getConnection(\"jdbc:mysql://localhost:3306/project\",\"root\",\"root\");\n            return conn;\n        }\n        catch(Exception e){\n            JOptionPane.showMessageDialog(null,\"MySql connection failed\");\n            return null;\n        }\n    }\n</code></pre>\n\n<p>My Netbeans is not giving me options to import the <code>java.sql.connection</code>. I have added the <code>lib\\mysql-connector-java-8.0.18.jar</code> in my library. Additionally, I am also able to see all my databases in the services tab in Netbeans. I am working on a Swing project. Thank you!  </p>\n"},{"tags":["java","cassandra","prepared-statement","cassandra-3.0","datastax-java-driver"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1532076005,"post_id":51438401,"comment_id":89846859,"body_markdown":"Why do you see it as the only option? It even says &quot;Slow and painful.&quot; in the answer and provides many alternatives.","body":"Why do you see it as the only option? It even says &quot;Slow and painful.&quot; in the answer and provides many alternatives."},{"owner":{"account_id":7602843,"reputation":460,"user_id":5766770,"accept_rate":100,"display_name":"Cath"},"score":0,"creation_date":1532076125,"post_id":51438401,"comment_id":89846928,"body_markdown":"The post you linked already provides all answers, your code doesn&#39;t limit you to the first one.","body":"The post you linked already provides all answers, your code doesn&#39;t limit you to the first one."},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532076689,"post_id":51438401,"comment_id":89847264,"body_markdown":"So which one do you recommend to my solution? I can not pass string with days because I need to bind date type. In that way my code limit couple of options","body":"So which one do you recommend to my solution? I can not pass string with days because I need to bind date type. In that way my code limit couple of options"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1532077613,"post_id":51438401,"comment_id":89847861,"body_markdown":"String with days? What are you talking about? It doesn&#39;t matter what you&#39;re binding. You can for example generate the `?, ?, ?` sequence and assign the parameters then, which is a pretty common solution.","body":"String with days? What are you talking about? It doesn&#39;t matter what you&#39;re binding. You can for example generate the <code>?, ?, ?</code> sequence and assign the parameters then, which is a pretty common solution."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1532078741,"post_id":51438401,"comment_id":89848553,"body_markdown":"All the answers are there. I hope you understand that what you think is your &quot;only choice&quot; is not your only choice. In case you still don&#39;t understand your other choices, I don&#39;t know what else to say besides keep re-reading that answer until you understand it.","body":"All the answers are there. I hope you understand that what you think is your &quot;only choice&quot; is not your only choice. In case you still don&#39;t understand your other choices, I don&#39;t know what else to say besides keep re-reading that answer until you understand it."},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532078799,"post_id":51438401,"comment_id":89848599,"body_markdown":"@Kayaman Maybe I get in wrong but if I have two question marks I have to pass two parameters so I have to assign two days. As I typed there will be N elements so I need N question marks and assign N variables.","body":"@Kayaman Maybe I get in wrong but if I have two question marks I have to pass two parameters so I have to assign two days. As I typed there will be N elements so I need N question marks and assign N variables."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1532078884,"post_id":51438401,"comment_id":89848651,"body_markdown":"Exactly. Now if you don&#39;t know how to create a String with `N` amount of `?` and loop `N` times to assign those, then why on earth would you be writing code that&#39;s a lot more advanced than simple String generation and loop?","body":"Exactly. Now if you don&#39;t know how to create a String with <code>N</code> amount of <code>?</code> and loop <code>N</code> times to assign those, then why on earth would you be writing code that&#39;s a lot more advanced than simple String generation and loop?"},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532080704,"post_id":51438401,"comment_id":89849887,"body_markdown":"@Kayaman There is no problem to create query with multiple question mark. How can I get `ResultSet rS = dataSource.executePreperedStatement(query, day);` when I do not know how many arguments should I pass? I can not make loop and execute it every time.","body":"@Kayaman There is no problem to create query with multiple question mark. How can I get <code>ResultSet rS = dataSource.executePreperedStatement(query, day);</code> when I do not know how many arguments should I pass? I can not make loop and execute it every time."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1532080890,"post_id":51438401,"comment_id":89850028,"body_markdown":"That&#39;s not how you use `PreparedStatement`. You call the `setXXX()` methods to assign the parameters. You know how many arguments to pass: `N`.","body":"That&#39;s not how you use <code>PreparedStatement</code>. You call the <code>setXXX()</code> methods to assign the parameters. You know how many arguments to pass: <code>N</code>."},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532081653,"post_id":51438401,"comment_id":89850481,"body_markdown":"@Kayaman as you can see in my code I do not call setXXX(). I use `bind(Object... values)` instead","body":"@Kayaman as you can see in my code I do not call setXXX(). I use <code>bind(Object... values)</code> instead"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1532081977,"post_id":51438401,"comment_id":89850707,"body_markdown":"Shit, it&#39;s not the JDBC `PreparedStatement` you&#39;re using. Still, that shouldn&#39;t be a problem if you have the proper amount of placeholders, there&#39;s no reason the `bind()` should fail. But what&#39;s with the `ArrayList`? Your `values` is an `Object[]` which presumably contains dates, so where does the error come from?","body":"Shit, it&#39;s not the JDBC <code>PreparedStatement</code> you&#39;re using. Still, that shouldn&#39;t be a problem if you have the proper amount of placeholders, there&#39;s no reason the <code>bind()</code> should fail. But what&#39;s with the <code>ArrayList</code>? Your <code>values</code> is an <code>Object[]</code> which presumably contains dates, so where does the error come from?"},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532083814,"post_id":51438401,"comment_id":89851680,"body_markdown":"@Kayaman `Values` is an Object[] however it still expect `date` type for days (overall proper data type). When I try to put there something else it throws `CodecNotFoundException`.","body":"@Kayaman <code>Values</code> is an Object[] however it still expect <code>date</code> type for days (overall proper data type). When I try to put there something else it throws <code>CodecNotFoundException</code>."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1532084330,"post_id":51438401,"comment_id":89851902,"body_markdown":"Is your `day` variable an `ArrayList&lt;Date&gt;`? Because if it is, you&#39;ll end up with an `Object[]` that contains a single `ArrayList`. You&#39;ll need to use `day.toArray()` instead.","body":"Is your <code>day</code> variable an <code>ArrayList&lt;Date&gt;</code>? Because if it is, you&#39;ll end up with an <code>Object[]</code> that contains a single <code>ArrayList</code>. You&#39;ll need to use <code>day.toArray()</code> instead."},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532085169,"post_id":51438401,"comment_id":89852367,"body_markdown":"@Kayaman I tried also to pass LocalDate[] (which is supported by Cassandra) but it still shows me an error that it expect date instead of array","body":"@Kayaman I tried also to pass LocalDate[] (which is supported by Cassandra) but it still shows me an error that it expect date instead of array"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1532086694,"post_id":51438401,"comment_id":89853140,"body_markdown":"Did you try `executePreperedStatement(query, day.toArray());` already?","body":"Did you try <code>executePreperedStatement(query, day.toArray());</code> already?"},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532087664,"post_id":51438401,"comment_id":89853674,"body_markdown":"@Kayaman it works until I add another parameter to my query. Eg. `SELECT * FROM table WHERE day IN(?) AND variable=?` where variable is an int. I do `executePreperedStatement(query, dayList.toArray(), 61)` and it throws `Codec not found for requested operation: [date &lt;-&gt; [Ljava.lang.Object;]`","body":"@Kayaman it works until I add another parameter to my query. Eg. <code>SELECT * FROM table WHERE day IN(?) AND variable=?</code> where variable is an int. I do <code>executePreperedStatement(query, dayList.toArray(), 61)</code> and it throws <code>Codec not found for requested operation: [date &lt;-&gt; [Ljava.lang.Object;]</code>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1532087861,"post_id":51438401,"comment_id":89853797,"body_markdown":"Yeah, that won&#39;t work of course. It&#39;s the magic of varargs (that&#39;s the `Object...` notation). You need to create one array, put **all** the query parameters in there and pass that. I.e. `executePreperedStatement(query, parameterArray)`.","body":"Yeah, that won&#39;t work of course. It&#39;s the magic of varargs (that&#39;s the <code>Object...</code> notation). You need to create one array, put <b>all</b> the query parameters in there and pass that. I.e. <code>executePreperedStatement(query, parameterArray)</code>."},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532087969,"post_id":51438401,"comment_id":89853863,"body_markdown":"@Kayaman I tried it before and it failed too","body":"@Kayaman I tried it before and it failed too"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1532088053,"post_id":51438401,"comment_id":89853923,"body_markdown":"Probably because you did it wrong. Create an `Object[]`, fill it with dates and ints and whatever you want, and pass that to the method. Maybe read up on varargs first so you understand what&#39;s happening?","body":"Probably because you did it wrong. Create an <code>Object[]</code>, fill it with dates and ints and whatever you want, and pass that to the method. Maybe read up on varargs first so you understand what&#39;s happening?"},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532090652,"post_id":51438401,"comment_id":89855466,"body_markdown":"You&#39;re right ;-)","body":"You&#39;re right ;-)"}],"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1532078668,"answer_count":0,"score":0,"last_activity_date":1658988991,"creation_date":1532075715,"question_id":51438401,"body_markdown":"Is there any other way to bind data type through IN clause using PreparedStatement(datastax)?\r\n\r\nQuery looks like that:\r\n\r\n    SELECT * FROM table WHERE day IN(?)\r\nDay is a date type. There will be N elements (up to user).  \r\n\r\nIt is impossible to bind List of days due to exception which say \r\n\r\n    Codec not found for requested operation: [date &lt;-&gt; java.util.ArrayList] \r\n\r\nAccording to post https://stackoverflow.com/a/189399/9461706 the only possible way I can see now is the first one - execute for each value but I would not like to do that. It may extend response time to unacceptable value. \r\n\r\n\r\nHere is how I execute query:\r\n\r\n    ResultSet rS = dataSource.executePreperedStatement(query, day);\r\n    private ConcurrentHashMap&lt;String, PreparedStatement&gt; queryToPrepStmt;\r\n    public ResultSet executePreperedStatement(String query, Object... values){\r\n    \t\tPreparedStatement pS = null;\r\n    \t\tif(queryToPrepStmt.containsKey(query)){\r\n    \t\t\tpS = queryToPrepStmt.get(query);\r\n    \t\t} else{\r\n    \t\t\tpS = session.prepare(query);\r\n    \t\t\tqueryToPrepStmt.put(query, pS);\r\n    \t\t}\r\n    \t\tif(pS!=null){\r\n    \t\t\t\tBoundStatement boundStatement = pS.bind(values);\r\n    \t\t\t\treturn session.execute(boundStatement);\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n   ","title":"PreparedStatement with IN clause","body":"<p>Is there any other way to bind data type through IN clause using PreparedStatement(datastax)?</p>\n\n<p>Query looks like that:</p>\n\n<pre><code>SELECT * FROM table WHERE day IN(?)\n</code></pre>\n\n<p>Day is a date type. There will be N elements (up to user).  </p>\n\n<p>It is impossible to bind List of days due to exception which say </p>\n\n<pre><code>Codec not found for requested operation: [date &lt;-&gt; java.util.ArrayList] \n</code></pre>\n\n<p>According to post <a href=\"https://stackoverflow.com/a/189399/9461706\">https://stackoverflow.com/a/189399/9461706</a> the only possible way I can see now is the first one - execute for each value but I would not like to do that. It may extend response time to unacceptable value. </p>\n\n<p>Here is how I execute query:</p>\n\n<pre><code>ResultSet rS = dataSource.executePreperedStatement(query, day);\nprivate ConcurrentHashMap&lt;String, PreparedStatement&gt; queryToPrepStmt;\npublic ResultSet executePreperedStatement(String query, Object... values){\n        PreparedStatement pS = null;\n        if(queryToPrepStmt.containsKey(query)){\n            pS = queryToPrepStmt.get(query);\n        } else{\n            pS = session.prepare(query);\n            queryToPrepStmt.put(query, pS);\n        }\n        if(pS!=null){\n                BoundStatement boundStatement = pS.bind(values);\n                return session.execute(boundStatement);\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","kubernetes","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658988918,"creation_date":1658988918,"answer_id":73148043,"question_id":73147583,"body_markdown":"The cases when your **HOMEDRIVE** and **HOMEPATH** get overridden by group policy of AD user and then it is needed to set your **HOMEDRIVE** variable each time you want to start RabbitMQ service. In this case do the following 5 steps :\r\n\r\n 1. rabbitmq-service remove service\r\n 2. edit ***rabbitmq-service.bat*** file:\r\n\r\n       &quot;!ERLANG_HOME!\\bin\\erl.exe&quot; ^\r\n        -pa &quot;!RABBITMQ_EBIN_ROOT!&quot; ^\r\n        -boot !CLEAN_BOOT_FILE! ^\r\n        -noinput -hidden ^\r\n        -s rabbit_prelaunch ^\r\n        -setcookie &quot;C:\\Users\\userName\\&quot; ^ &lt;&lt;&lt; Place of your cookie\r\n        !RABBITMQ_NAME_TYPE! rabbitmqprelaunch!RANDOM!!TIME:~9!@localhost ^\r\n        -conf_advanced &quot;!RABBITMQ_ADVANCED_CONFIG_FILE!&quot; ^\r\n        ...&quot;\r\n\r\n 3. save the script\r\n\r\n 4. `set HOMEDRIVE=C:\\Users\\userName` \r\n\r\n 5. `rabbitmq-service install` \r\n\r\n\r\n\r\n","title":"java rabbitMQ: setup securityContext readOnlyRootFilesystem fail to create cookeis file","body":"<p>The cases when your <strong>HOMEDRIVE</strong> and <strong>HOMEPATH</strong> get overridden by group policy of AD user and then it is needed to set your <strong>HOMEDRIVE</strong> variable each time you want to start RabbitMQ service. In this case do the following 5 steps :</p>\n<ol>\n<li><p>rabbitmq-service remove service</p>\n</li>\n<li><p>edit <em><strong>rabbitmq-service.bat</strong></em> file:</p>\n<p>&quot;!ERLANG_HOME!\\bin\\erl.exe&quot; ^\n-pa &quot;!RABBITMQ_EBIN_ROOT!&quot; ^\n-boot !CLEAN_BOOT_FILE! ^\n-noinput -hidden ^\n-s rabbit_prelaunch ^\n-setcookie &quot;C:\\Users\\userName&quot; ^ &lt;&lt;&lt; Place of your cookie\n!RABBITMQ_NAME_TYPE! rabbitmqprelaunch!RANDOM!!TIME:~9!@localhost ^\n-conf_advanced &quot;!RABBITMQ_ADVANCED_CONFIG_FILE!&quot; ^\n...&quot;</p>\n</li>\n<li><p>save the script</p>\n</li>\n<li><p><code>set HOMEDRIVE=C:\\Users\\userName</code></p>\n</li>\n<li><p><code>rabbitmq-service install</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":7587430,"reputation":27,"user_id":5756037,"display_name":"YoramEi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658988918,"creation_date":1658985366,"question_id":73147583,"body_markdown":"rabbitMQ implementation with k8s.\r\nI want to add securityContext with readOnlyRootFilesystem: true\r\n\r\nIt fail to deployed because it tries to write cookeis files to the file system.\r\n1. How do I setup rabbitmq to use different path for the cookies?\r\n2. how do I setup rabbitmq to use the volume that I defined in the mount instead of the HOME dir for all data? \r\n\r\n**The deployment file:**\r\n====================\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: {{ include &quot;rabbitmq.namingConvention&quot; . }}\r\n  namespace: {{ .Release.Namespace }}\r\n  labels: {{ include &quot;rabbitmq.labels&quot; . | nindent 4 }}\r\nspec:\r\n  replicas: 1\r\n  strategy:\r\n    type: Recreate\r\n  selector:\r\n    matchLabels: {{ include &quot;rabbitmq.selectorLabels&quot; . | nindent 6 }}\r\n  template:\r\n    metadata:\r\n      labels: {{ include &quot;rabbitmq.selectorLabels&quot; . | nindent 8 }}\r\n      annotations:\r\n        {{- if and (.Values.global.metrics.enabled) (not .Values.global.metrics.usePrometheusServiceMonitor) }}\r\n        prometheus.io/scrape: &quot;true&quot;\r\n        {{- end }}\r\n    spec:\r\n      {{- with .Values.global.imagePullSecrets }}\r\n      imagePullSecrets: {{- toYaml . | nindent 6 }}\r\n      {{- end }}            \r\n      **securityContext:\r\n        runAsNonRoot: true\r\n        runAsUser: 100\r\n        runAsGroup: 100**\r\n      containers:      \r\n      #########################################\r\n      ########## RABBITMQ CONTAINER #########\r\n      #########################################\r\n      - name: {{ .Values.global.namePrefix }}-smp-rabbitmq\r\n        image: &quot;{{ .Values.global.imageRegistry }}/{{ .Values.global.imageRepository }}/{{ .Values.rabbitmq.containers.rabbitmq.image.name }}:{{ .Values.rabbitmq.containers.rabbitmq.image.tag }}&quot;\r\n        imagePullPolicy: {{ .Values.global.imagePullPolicy | default .Values.rabbitmq.containers.rabbitmq.image.pullPolicy | quote }} \r\n        resources:\r\n          requests: {{- include &quot;rabbitmq.resources&quot; . | nindent 12 }}\r\n          limits: {{- include &quot;rabbitmq.resources&quot; . | nindent 12 }}                    \r\n        ports:\r\n        - name: rabbitmqnonsec\r\n          protocol: TCP\r\n          containerPort: {{ .Values.rabbitmq.service.nonsecure.targetPort }}\r\n        - name: rabbitmqsec\r\n          protocol: TCP\r\n          containerPort: {{ .Values.rabbitmq.service.secure.targetPort }}\r\n        **securityContext:\r\n          readOnlyRootFilesystem: true\r\n          allowPrivilegeEscalation: false**\r\n        env:\r\n          - name: HOME\r\n            value: &quot;/opt/rabbitmq&quot;\r\n        volumeMounts:\r\n          - name: {{ .Values.rabbitmq.persistence.rabbitmq_data.name }}\r\n            mountPath: /var/lib/rabbitmq\r\n      volumes:\r\n      - name: {{ .Values.rabbitmq.persistence.rabbitmq_data.name }}\r\n        {{- if .Values.global.storage.enabled }}\r\n        persistentVolumeClaim:\r\n          claimName: {{ include &quot;rabbitmq.namingConvention&quot; . }}-{{ .Values.rabbitmq.persistence.rabbitmq_data.name }}\r\n        {{- else }}\r\n        emptyDir: {}\r\n        {{- end }}\r\n\r\n ```\r\n\r\n\r\n**the error:**\r\n==========\r\n```\r\n2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;     exception error: &quot;Failed to create cookie file &#39;/opt/rabbitmq/.erlang.cookie&#39;: erofs&quot;\r\n2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;       in function  auth:init_no_setcookie/0 (auth.erl, line 293)\r\n2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;       in call from auth:init/1 (auth.erl, line 144)\r\n2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;       in call from gen_server:init_it/2 (gen_server.erl, line 423)\r\n2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;       in call from gen_server:init_it/6 (gen_server.erl, line 390)\r\n2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;     ancestors: [net_sup,kernel_sup,&lt;0.47.0&gt;]\r\n\r\n```","title":"java rabbitMQ: setup securityContext readOnlyRootFilesystem fail to create cookeis file","body":"<p>rabbitMQ implementation with k8s.\nI want to add securityContext with readOnlyRootFilesystem: true</p>\n<p>It fail to deployed because it tries to write cookeis files to the file system.</p>\n<ol>\n<li>How do I setup rabbitmq to use different path for the cookies?</li>\n<li>how do I setup rabbitmq to use the volume that I defined in the mount instead of the HOME dir for all data?</li>\n</ol>\n<h1><strong>The deployment file:</strong></h1>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: {{ include &quot;rabbitmq.namingConvention&quot; . }}\n  namespace: {{ .Release.Namespace }}\n  labels: {{ include &quot;rabbitmq.labels&quot; . | nindent 4 }}\nspec:\n  replicas: 1\n  strategy:\n    type: Recreate\n  selector:\n    matchLabels: {{ include &quot;rabbitmq.selectorLabels&quot; . | nindent 6 }}\n  template:\n    metadata:\n      labels: {{ include &quot;rabbitmq.selectorLabels&quot; . | nindent 8 }}\n      annotations:\n        {{- if and (.Values.global.metrics.enabled) (not .Values.global.metrics.usePrometheusServiceMonitor) }}\n        prometheus.io/scrape: &quot;true&quot;\n        {{- end }}\n    spec:\n      {{- with .Values.global.imagePullSecrets }}\n      imagePullSecrets: {{- toYaml . | nindent 6 }}\n      {{- end }}            \n      **securityContext:\n        runAsNonRoot: true\n        runAsUser: 100\n        runAsGroup: 100**\n      containers:      \n      #########################################\n      ########## RABBITMQ CONTAINER #########\n      #########################################\n      - name: {{ .Values.global.namePrefix }}-smp-rabbitmq\n        image: &quot;{{ .Values.global.imageRegistry }}/{{ .Values.global.imageRepository }}/{{ .Values.rabbitmq.containers.rabbitmq.image.name }}:{{ .Values.rabbitmq.containers.rabbitmq.image.tag }}&quot;\n        imagePullPolicy: {{ .Values.global.imagePullPolicy | default .Values.rabbitmq.containers.rabbitmq.image.pullPolicy | quote }} \n        resources:\n          requests: {{- include &quot;rabbitmq.resources&quot; . | nindent 12 }}\n          limits: {{- include &quot;rabbitmq.resources&quot; . | nindent 12 }}                    \n        ports:\n        - name: rabbitmqnonsec\n          protocol: TCP\n          containerPort: {{ .Values.rabbitmq.service.nonsecure.targetPort }}\n        - name: rabbitmqsec\n          protocol: TCP\n          containerPort: {{ .Values.rabbitmq.service.secure.targetPort }}\n        **securityContext:\n          readOnlyRootFilesystem: true\n          allowPrivilegeEscalation: false**\n        env:\n          - name: HOME\n            value: &quot;/opt/rabbitmq&quot;\n        volumeMounts:\n          - name: {{ .Values.rabbitmq.persistence.rabbitmq_data.name }}\n            mountPath: /var/lib/rabbitmq\n      volumes:\n      - name: {{ .Values.rabbitmq.persistence.rabbitmq_data.name }}\n        {{- if .Values.global.storage.enabled }}\n        persistentVolumeClaim:\n          claimName: {{ include &quot;rabbitmq.namingConvention&quot; . }}-{{ .Values.rabbitmq.persistence.rabbitmq_data.name }}\n        {{- else }}\n        emptyDir: {}\n        {{- end }}\n\n</code></pre>\n<h1><strong>the error:</strong></h1>\n<pre><code>2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;     exception error: &quot;Failed to create cookie file '/opt/rabbitmq/.erlang.cookie': erofs&quot;\n2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;       in function  auth:init_no_setcookie/0 (auth.erl, line 293)\n2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;       in call from auth:init/1 (auth.erl, line 144)\n2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;       in call from gen_server:init_it/2 (gen_server.erl, line 423)\n2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;       in call from gen_server:init_it/6 (gen_server.erl, line 390)\n2022-07-28 06:17:23.028733+00:00 [erro] &lt;0.145.0&gt;     ancestors: [net_sup,kernel_sup,&lt;0.47.0&gt;]\n\n</code></pre>\n"},{"tags":["java","cassandra","cassandra-3.0","datastax-java-driver"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1531904890,"post_id":51397833,"comment_id":89766849,"body_markdown":"Possible duplicate of [Re-using PreparedStatement when using Datastax Cassandra Driver?](https://stackoverflow.com/questions/22915840/re-using-preparedstatement-when-using-datastax-cassandra-driver)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/22915840/re-using-preparedstatement-when-using-datastax-cassandra-driver\">Re-using PreparedStatement when using Datastax Cassandra Driver?</a>"},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1531905090,"post_id":51397833,"comment_id":89767020,"body_markdown":"According to post above I should initialize PreparedStatement once. Where should I do this? In which place?","body":"According to post above I should initialize PreparedStatement once. Where should I do this? In which place?"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1531912157,"post_id":51397833,"comment_id":89771563,"body_markdown":"Put all prepared queries into your `dataSource` object and initialize when you establish session","body":"Put all prepared queries into your <code>dataSource</code> object and initialize when you establish session"},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1531912710,"post_id":51397833,"comment_id":89771871,"body_markdown":"@AlexOtt I have couple of methods which connect with Cassandra and a lot of queries. How to put it all into dataSource? Problem with re-preparing query happen when I do not change query but it seems like I try","body":"@AlexOtt I have couple of methods which connect with Cassandra and a lot of queries. How to put it all into dataSource? Problem with re-preparing query happen when I do not change query but it seems like I try"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1531920095,"post_id":51397833,"comment_id":89777017,"body_markdown":"this really depends on your application, you can do it multiple ways... if you&#39;re re-preparing the query again &amp; again, you&#39;re really slow down your application because it requires additional roundtrip to cassandra cluster","body":"this really depends on your application, you can do it multiple ways... if you&#39;re re-preparing the query again &amp; again, you&#39;re really slow down your application because it requires additional roundtrip to cassandra cluster"},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1531985310,"post_id":51397833,"comment_id":89804574,"body_markdown":"@AlexOtt That&#39;s clear with re-preparing queries. Anyway if I have a lot of different quries in multiple methods how to put it all together, initialze once and use PreparedStatment? I followed https://docs.datastax.com/en/developer/java-driver/3.0/manual/statements/prepared/ but it is still unclear for me how to proper initialize PreparedStatement.","body":"@AlexOtt That&#39;s clear with re-preparing queries. Anyway if I have a lot of different quries in multiple methods how to put it all together, initialze once and use PreparedStatment? I followed <a href=\"https://docs.datastax.com/en/developer/java-driver/3.0/manual/statements/prepared/\" rel=\"nofollow noreferrer\">docs.datastax.com/en/developer/java-driver/3.0/manual/&hellip;</a> but it is still unclear for me how to proper initialize PreparedStatement."},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":1,"creation_date":1531987941,"post_id":51397833,"comment_id":89806100,"body_markdown":"there are different ways to do this. For example, you can define a class that will have a map between query &amp; prepared statement, and you can define method that looks into this map, and if there is no prepared statement yet, then it prepares it &amp; put into map, so the next request to this method will return already prepared statement","body":"there are different ways to do this. For example, you can define a class that will have a map between query &amp; prepared statement, and you can define method that looks into this map, and if there is no prepared statement yet, then it prepares it &amp; put into map, so the next request to this method will return already prepared statement"},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1531993897,"post_id":51397833,"comment_id":89809876,"body_markdown":"@AlexOtt thank you. I create Map, where I put all different PreparedStatement and Queries and it works (so far :))","body":"@AlexOtt thank you. I create Map, where I put all different PreparedStatement and Queries and it works (so far :))"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":1,"creation_date":1531995509,"post_id":51397833,"comment_id":89811038,"body_markdown":"only be careful with multithreading - use ConcurrentHashMap or explicit locks (first is better)","body":"only be careful with multithreading - use ConcurrentHashMap or explicit locks (first is better)"},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532005755,"post_id":51397833,"comment_id":89817900,"body_markdown":"@AlexOtt is there possibility to bind part of table name? I switch between tables with same query (different data type, same content). Tables has name e.g. alarm_int, alarm_double but I can not bind like alarm_?.","body":"@AlexOtt is there possibility to bind part of table name? I switch between tables with same query (different data type, same content). Tables has name e.g. alarm_int, alarm_double but I can not bind like alarm_?."},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1532011389,"post_id":51397833,"comment_id":89822127,"body_markdown":"No, you can&#39;t do it... but why not keep everything in the same table, but omit data that isn&#39;t required?","body":"No, you can&#39;t do it... but why not keep everything in the same table, but omit data that isn&#39;t required?"},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532070973,"post_id":51397833,"comment_id":89843957,"body_markdown":"@AlexOtt okay I solved it in different way. However I have another problem - in my queries I use clause IN. Data type is date and I do not know how to pass couple of dates in IN clause","body":"@AlexOtt okay I solved it in different way. However I have another problem - in my queries I use clause IN. Data type is date and I do not know how to pass couple of dates in IN clause"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1532071872,"post_id":51397833,"comment_id":89844477,"body_markdown":"create a list &amp; bind it...","body":"create a list &amp; bind it..."},{"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"score":0,"creation_date":1532073023,"post_id":51397833,"comment_id":89845121,"body_markdown":"@AlexOtt I can not bind list because the type is not match. If I try it throws me Codec not found for requested operation: [date &lt;-&gt; java.util.ArrayList]","body":"@AlexOtt I can not bind list because the type is not match. If I try it throws me Codec not found for requested operation: [date &lt;-&gt; java.util.ArrayList]"},{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1532073665,"post_id":51397833,"comment_id":89845510,"body_markdown":"Please ask this as a separate question with code snippet, etc.","body":"Please ask this as a separate question with code snippet, etc."}],"owner":{"account_id":13095708,"reputation":303,"user_id":9461706,"display_name":"Tom"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658988858,"creation_date":1531904543,"question_id":51397833,"body_markdown":"I am using Cassandra 3.x. I have a lot of methods where I prepare query and simple execute them. At the very start it looks simple \r\n\r\n    query.append(&quot;SELECT * FROM alarms WHERE alarm_id=&quot;).append(alarmId);\r\n    query.append(&quot; AND date&lt;&quot;).append(date);\r\n    ResultSet resultSet = dataSource.executeQuery(query.toString());\r\n\r\nIt was okay but I found information about parameterized queries. \r\n[Properly about PreparedStatement][1]\r\n\r\nI wanted to change it so I refactor code:\r\n\r\n    query.append(&quot;SELECT * FROM alarms WHERE alarm_id=? AND date&lt;?&quot;);\r\n    PreparedStatement pS = dataSource.getSession().prepare(query.toString());\r\n    BoundStatement bS = pS.bind().setInt(0, alarmId).setDate(1, date);\r\n    ResultSet rS = dataSource.session.execute(bS);\r\n\r\nIt looked like it worked fine. However after couple of tests I found WARN:\r\n\r\n    Re-preparing already prepared query is generally an anti-pattern and will likely affect performance. Consider preparing the statement only once. Query=&#39;SELECT * FROM alarms WHERE alarm_id=? AND date&lt;=?&#39;\r\n\r\nHow should I deal with it?\r\n\r\nAccording to [post about my problem][2] I wonder where and how should I initialize PreparedStatement?\r\n\r\n\r\n  [1]: https://docs.datastax.com/en/developer/java-driver/3.0/manual/statements/prepared/\r\n  [2]: https://stackoverflow.com/questions/22915840/re-using-preparedstatement-when-using-datastax-cassandra-driver","title":"Re-preparing query with Cassandra - where to initialize PreparedStatement","body":"<p>I am using Cassandra 3.x. I have a lot of methods where I prepare query and simple execute them. At the very start it looks simple </p>\n\n<pre><code>query.append(\"SELECT * FROM alarms WHERE alarm_id=\").append(alarmId);\nquery.append(\" AND date&lt;\").append(date);\nResultSet resultSet = dataSource.executeQuery(query.toString());\n</code></pre>\n\n<p>It was okay but I found information about parameterized queries. \n<a href=\"https://docs.datastax.com/en/developer/java-driver/3.0/manual/statements/prepared/\" rel=\"nofollow noreferrer\">Properly about PreparedStatement</a></p>\n\n<p>I wanted to change it so I refactor code:</p>\n\n<pre><code>query.append(\"SELECT * FROM alarms WHERE alarm_id=? AND date&lt;?\");\nPreparedStatement pS = dataSource.getSession().prepare(query.toString());\nBoundStatement bS = pS.bind().setInt(0, alarmId).setDate(1, date);\nResultSet rS = dataSource.session.execute(bS);\n</code></pre>\n\n<p>It looked like it worked fine. However after couple of tests I found WARN:</p>\n\n<pre><code>Re-preparing already prepared query is generally an anti-pattern and will likely affect performance. Consider preparing the statement only once. Query='SELECT * FROM alarms WHERE alarm_id=? AND date&lt;=?'\n</code></pre>\n\n<p>How should I deal with it?</p>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/22915840/re-using-preparedstatement-when-using-datastax-cassandra-driver\">post about my problem</a> I wonder where and how should I initialize PreparedStatement?</p>\n"},{"tags":["java","plugins","minecraft"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1588686358,"post_id":61610889,"comment_id":108989245,"body_markdown":"Hello, your question seems a bit vague.  Please clarify what you have tried to resolve your issue and what has not worked for you as expected.","body":"Hello, your question seems a bit vague.  Please clarify what you have tried to resolve your issue and what has not worked for you as expected."},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1588688964,"post_id":61610889,"comment_id":108990948,"body_markdown":"Is this for Bukkit, Forge, or something else? And what version of Minecraft?","body":"Is this for Bukkit, Forge, or something else? And what version of Minecraft?"}],"answers":[{"tags":[],"owner":{"account_id":20307855,"reputation":21,"user_id":14895655,"display_name":"Willyema"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658988701,"creation_date":1658742693,"answer_id":73107236,"question_id":61610889,"body_markdown":"        if (sender instanceof Player) {\r\n            Player p = (Player) sender;\r\n            if (p.hasPermission(command.getPermission())) {\r\n                Location playerLoc = p.getLocation();\r\n                org.bukkit.World world = p.getWorld();\r\n                double startX = playerLoc.getX();\r\n                double startY = playerLoc.getY() - 1;\r\n                double startZ = playerLoc.getZ() - 1;\r\n                for (int x = 0; x &lt; Integer.valueOf(args[0]); x++) {\r\n                    for (int z = 0; z &lt; Integer.valueOf(args[1]); z++) {\r\n                        for (int y = 0; y &lt;= Integer.valueOf(args[2]); y++) {\r\n                            Location loc = new Location(world, startX + x, startY + y, startZ + z);\r\n                            if (loc.getBlock().equals(Material.yourmaterial)){\r\n                                //do what you want\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                sender.sendMessage(ChatColor.DARK_RED+&quot;Specify the size&quot;);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nHope that helps!","title":"Looking for a way to find a specific block in an are","body":"<pre><code>    if (sender instanceof Player) {\n        Player p = (Player) sender;\n        if (p.hasPermission(command.getPermission())) {\n            Location playerLoc = p.getLocation();\n            org.bukkit.World world = p.getWorld();\n            double startX = playerLoc.getX();\n            double startY = playerLoc.getY() - 1;\n            double startZ = playerLoc.getZ() - 1;\n            for (int x = 0; x &lt; Integer.valueOf(args[0]); x++) {\n                for (int z = 0; z &lt; Integer.valueOf(args[1]); z++) {\n                    for (int y = 0; y &lt;= Integer.valueOf(args[2]); y++) {\n                        Location loc = new Location(world, startX + x, startY + y, startZ + z);\n                        if (loc.getBlock().equals(Material.yourmaterial)){\n                            //do what you want\n                        }\n                    }\n                }\n            }\n        } else {\n            sender.sendMessage(ChatColor.DARK_RED+&quot;Specify the size&quot;);\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>Hope that helps!</p>\n"}],"owner":{"account_id":13783420,"reputation":1,"user_id":9948002,"display_name":"Niek Zandt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658988701,"creation_date":1588674246,"question_id":61610889,"body_markdown":"I&#39;m trying to make a plugin that can spawn mobs above specific block with a command. The problem is that I dont really know where to start... I am basicly looking for a function or way to cycle through all of the blocks in an area and return something when it finds 1 or more of the block type.","title":"Looking for a way to find a specific block in an are","body":"<p>I'm trying to make a plugin that can spawn mobs above specific block with a command. The problem is that I dont really know where to start... I am basicly looking for a function or way to cycle through all of the blocks in an area and return something when it finds 1 or more of the block type.</p>\n"},{"tags":["java","google-forms","service-accounts","google-forms-api"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1658941321,"post_id":73141836,"comment_id":129179355,"body_markdown":"You have form body read only access in scopes also I have concern about refresh token. Maybe you need to get access token instead of refresh token","body":"You have form body read only access in scopes also I have concern about refresh token. Maybe you need to get access token instead of refresh token"}],"answers":[{"tags":[],"owner":{"account_id":14082505,"reputation":1,"user_id":10173169,"display_name":"sridar1992"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658988661,"creation_date":1658988661,"answer_id":73148012,"question_id":73141836,"body_markdown":"Two things has to be done here, first, use FormsScopes .FORMS_RESPONSES_READONLY for responses and the service account email address shall have permission on the given form_id.\r\n\r\nYet, not sure, if its the right way to go ahead, maybe if executed locally thats the reason it requires the permission, maybe if the above program once executed in some GC environment, then the permission need not be given explicitly to the service account on the form. ","title":"Google form API using service account","body":"<p>Two things has to be done here, first, use FormsScopes .FORMS_RESPONSES_READONLY for responses and the service account email address shall have permission on the given form_id.</p>\n<p>Yet, not sure, if its the right way to go ahead, maybe if executed locally thats the reason it requires the permission, maybe if the above program once executed in some GC environment, then the permission need not be given explicitly to the service account on the form.</p>\n"}],"owner":{"account_id":14082505,"reputation":1,"user_id":10173169,"display_name":"sridar1992"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658988661,"creation_date":1658940828,"question_id":73141836,"body_markdown":"**I am using Google Forms API to get form responses using service account.**\r\n\r\n\r\n```\r\npackage com.form.api.poc;\r\n\r\nimport java.io.IOException;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.Arrays;\r\nimport java.util.Objects;\r\n\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.json.JsonFactory;\r\nimport com.google.api.client.json.jackson2.JacksonFactory;\r\nimport com.google.api.services.forms.v1.Forms;\r\nimport com.google.api.services.forms.v1.FormsScopes;\r\nimport com.google.api.services.forms.v1.model.ListFormResponsesResponse;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\n\r\n\r\n\r\n\r\npublic class Test1 {\r\n\t\r\n\tprivate static final String APPLICATION_NAME = &quot;google-form-api-project&quot;;\r\n    private static Forms formsService;\r\n\r\n    static {\r\n\r\n        try {\r\n            JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\r\n            formsService = new Forms.Builder(GoogleNetHttpTransport.newTrustedTransport(),\r\n                    jsonFactory, null)\r\n                    .setApplicationName(APPLICATION_NAME).build();\r\n            \r\n            \r\n            \r\n\r\n        } catch (GeneralSecurityException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) throws IOException {\r\n    \tListFormResponsesResponse response = readResponses(&quot;form_id_jdnfka_123b34$Q%#nknk&quot;, getAccessToken());\r\n    \tSystem.out.println(response.toPrettyString());\r\n\t\t\r\n\t}\r\n    \r\n    \r\n    public static String getAccessToken() throws IOException {\r\n    \t\r\n    \t\r\n        GoogleCredentials credential = GoogleCredentials.fromStream(Objects.requireNonNull(\r\n        Test1.class.getResourceAsStream(&quot;/serviceaccount_cred.json&quot;))).createScoped(Arrays.asList(FormsScopes.FORMS_BODY_READONLY));\r\n    \t\r\n        return credential.refreshAccessToken().getTokenValue();\r\n  }\r\n    \r\n\tprivate static ListFormResponsesResponse readResponses(String formId, String token) throws IOException {\r\n    return  formsService.forms().responses().list(formId).setOauthToken(token).execute();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n**But, I am getting following error as a response:**\r\n\r\nGET https://forms.googleapis.com/v1/forms/form_id_jdnfka_123b34$Q%#nknk/responses?oauth_token=token_id..........\r\n{\r\n  &quot;code&quot; : 403,\r\n  &quot;details&quot; : [ {\r\n    &quot;@type&quot; : &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\r\n    &quot;reason&quot; : &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;\r\n  } ],\r\n  &quot;errors&quot; : [ {\r\n    &quot;domain&quot; : &quot;global&quot;,\r\n    &quot;message&quot; : &quot;Insufficient Permission&quot;,\r\n    &quot;reason&quot; : &quot;insufficientPermissions&quot;\r\n  } ],\r\n  &quot;message&quot; : &quot;Request had insufficient authentication scopes.&quot;,\r\n  &quot;status&quot; : &quot;PERMISSION_DENIED&quot;\r\n}\r\n\r\n\r\nI have followed the documentation provided at the following pages:\r\n[using-service-account](https://cloud.google.com/docs/authentication/production#auth-cloud-implicit-java)\r\n\r\n[Delegating-domain wide authority](https://developers.google.com/identity/protocols/oauth2/service-account#delegatingauthority:~:text=for%20more%20information.-,Delegating%20domain%2Dwide%20authority%20to%20the%20service%20account,-If%20you%20have)\r\n\r\nBut, not sure, what is wrong, any help would be appreciated.\r\nThank you in advance!\r\n\r\n","title":"Google form API using service account","body":"<p><strong>I am using Google Forms API to get form responses using service account.</strong></p>\n<pre><code>package com.form.api.poc;\n\nimport java.io.IOException;\nimport java.security.GeneralSecurityException;\nimport java.util.Arrays;\nimport java.util.Objects;\n\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.services.forms.v1.Forms;\nimport com.google.api.services.forms.v1.FormsScopes;\nimport com.google.api.services.forms.v1.model.ListFormResponsesResponse;\nimport com.google.auth.oauth2.GoogleCredentials;\n\n\n\n\npublic class Test1 {\n    \n    private static final String APPLICATION_NAME = &quot;google-form-api-project&quot;;\n    private static Forms formsService;\n\n    static {\n\n        try {\n            JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\n            formsService = new Forms.Builder(GoogleNetHttpTransport.newTrustedTransport(),\n                    jsonFactory, null)\n                    .setApplicationName(APPLICATION_NAME).build();\n            \n            \n            \n\n        } catch (GeneralSecurityException | IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) throws IOException {\n        ListFormResponsesResponse response = readResponses(&quot;form_id_jdnfka_123b34$Q%#nknk&quot;, getAccessToken());\n        System.out.println(response.toPrettyString());\n        \n    }\n    \n    \n    public static String getAccessToken() throws IOException {\n        \n        \n        GoogleCredentials credential = GoogleCredentials.fromStream(Objects.requireNonNull(\n        Test1.class.getResourceAsStream(&quot;/serviceaccount_cred.json&quot;))).createScoped(Arrays.asList(FormsScopes.FORMS_BODY_READONLY));\n        \n        return credential.refreshAccessToken().getTokenValue();\n  }\n    \n    private static ListFormResponsesResponse readResponses(String formId, String token) throws IOException {\n    return  formsService.forms().responses().list(formId).setOauthToken(token).execute();\n    }\n}\n\n</code></pre>\n<p><strong>But, I am getting following error as a response:</strong></p>\n<p>GET <a href=\"https://forms.googleapis.com/v1/forms/form_id_jdnfka_123b34$Q%#nknk/responses?oauth_token=token_id.........\" rel=\"nofollow noreferrer\">https://forms.googleapis.com/v1/forms/form_id_jdnfka_123b34$Q%#nknk/responses?oauth_token=token_id.........</a>.\n{\n&quot;code&quot; : 403,\n&quot;details&quot; : [ {\n&quot;@type&quot; : &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\n&quot;reason&quot; : &quot;ACCESS_TOKEN_SCOPE_INSUFFICIENT&quot;\n} ],\n&quot;errors&quot; : [ {\n&quot;domain&quot; : &quot;global&quot;,\n&quot;message&quot; : &quot;Insufficient Permission&quot;,\n&quot;reason&quot; : &quot;insufficientPermissions&quot;\n} ],\n&quot;message&quot; : &quot;Request had insufficient authentication scopes.&quot;,\n&quot;status&quot; : &quot;PERMISSION_DENIED&quot;\n}</p>\n<p>I have followed the documentation provided at the following pages:\n<a href=\"https://cloud.google.com/docs/authentication/production#auth-cloud-implicit-java\" rel=\"nofollow noreferrer\">using-service-account</a></p>\n<p><a href=\"https://developers.google.com/identity/protocols/oauth2/service-account#delegatingauthority:%7E:text=for%20more%20information.-,Delegating%20domain%2Dwide%20authority%20to%20the%20service%20account,-If%20you%20have\" rel=\"nofollow noreferrer\">Delegating-domain wide authority</a></p>\n<p>But, not sure, what is wrong, any help would be appreciated.\nThank you in advance!</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1658995243,"post_id":73147788,"comment_id":129191584,"body_markdown":"If you have different classes which need different set of dependencies you have to make three different modules / applications of them. You are mixing build and run time ... `My requirement is that when ClassA is run it should change the current maven profile to profile1` That&#39;s simply not possilbe. \nYou have to make separate modules of it... for each modules you can give different dependencies...","body":"If you have different classes which need different set of dependencies you have to make three different modules / applications of them. You are mixing build and run time ... <code>My requirement is that when ClassA is run it should change the current maven profile to profile1</code> That&#39;s simply not possilbe.  You have to make separate modules of it... for each modules you can give different dependencies..."},{"owner":{"account_id":7808791,"reputation":895,"user_id":5905741,"accept_rate":71,"display_name":"Amit Mahajan"},"score":0,"creation_date":1659072039,"post_id":73147788,"comment_id":129212604,"body_markdown":"is it possible in Gradle?","body":"is it possible in Gradle?"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658988620,"creation_date":1658988312,"answer_id":73147968,"question_id":73147788,"body_markdown":"maven profiles are not designed for such tasks, what you are actually need to do is to setup different executions for each class:\r\n\r\n```xml\r\n...\r\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n&lt;executions&gt;\r\n    &lt;execution&gt;\r\n        &lt;id&gt;run-clsa&lt;/id&gt;\r\n        &lt;goals&gt;\r\n            &lt;goal&gt;run&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;phase&gt;none&lt;/phase&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;ClassA&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n    &lt;execution&gt;\r\n        &lt;id&gt;run-clsb&lt;/id&gt;\r\n        &lt;goals&gt;\r\n            &lt;goal&gt;run&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;phase&gt;none&lt;/phase&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;ClassB&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n&lt;/executions&gt;\r\n...\r\n```\r\n\r\nand run that in following way:\r\n\r\n```\r\nmvn clean package spring-boot:run@run-clsa\r\n```\r\n\r\n```\r\nmvn clean package spring-boot:run@run-clsb\r\n```","title":"Change maven profile from within project","body":"<p>maven profiles are not designed for such tasks, what you are actually need to do is to setup different executions for each class:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;run-clsa&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;run&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;phase&gt;none&lt;/phase&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;ClassA&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n    &lt;execution&gt;\n        &lt;id&gt;run-clsb&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;run&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;phase&gt;none&lt;/phase&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;ClassB&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n...\n</code></pre>\n<p>and run that in following way:</p>\n<pre><code>mvn clean package spring-boot:run@run-clsa\n</code></pre>\n<pre><code>mvn clean package spring-boot:run@run-clsb\n</code></pre>\n"}],"owner":{"account_id":7808791,"reputation":895,"user_id":5905741,"accept_rate":71,"display_name":"Amit Mahajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658988620,"creation_date":1658987029,"question_id":73147788,"body_markdown":"I want to change maven project&#39;s active profile from within the maven project.\r\n\r\nThe java project has 3 classes having main methods and they are executed one by one, All of these require different set of dependencies. \r\n\r\nI would like to run these classes with different maven profiles.\r\n\r\nFor example my project project1 is a maven project and is getting invoked by mvn clean package spring-boot:run command.\r\n\r\nWhen the control comes to the project1 it executes the java classes one by one. \r\n\r\nMy requirement is that when ClassA is run it should change the current maven profile to profile1 (recompiling the same project is ok, performance is not priority). Similarly when ClassB gets invoked it should change the current maven profile to Profile2.\r\n(Note these classes are dynamically picked from directory using reflection and only the class will know what profile it supports)\r\n\r\nIs there any way maven allows this at runtime.\r\nIf not what is the best way to achieve this.\r\n\r\n","title":"Change maven profile from within project","body":"<p>I want to change maven project's active profile from within the maven project.</p>\n<p>The java project has 3 classes having main methods and they are executed one by one, All of these require different set of dependencies.</p>\n<p>I would like to run these classes with different maven profiles.</p>\n<p>For example my project project1 is a maven project and is getting invoked by mvn clean package spring-boot:run command.</p>\n<p>When the control comes to the project1 it executes the java classes one by one.</p>\n<p>My requirement is that when ClassA is run it should change the current maven profile to profile1 (recompiling the same project is ok, performance is not priority). Similarly when ClassB gets invoked it should change the current maven profile to Profile2.\n(Note these classes are dynamically picked from directory using reflection and only the class will know what profile it supports)</p>\n<p>Is there any way maven allows this at runtime.\nIf not what is the best way to achieve this.</p>\n"},{"tags":["java","maven","tomcat","tomcat-juli"],"answers":[{"tags":[],"owner":{"account_id":2136496,"reputation":3340,"user_id":1896134,"display_name":"JayRizzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658988031,"creation_date":1658988031,"answer_id":73147925,"question_id":70196817,"body_markdown":"I am just learning Java &amp; it&#39;s dependencies.  I ran into this issue when trying to follow this [Oracle Template](https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/basic_app_embedded_tomcat/basic_app-tomcat-embedded.html). I got this error: \r\n\r\n```bash\r\nDependency &#39;org.apache.tomcat.embed:tomcat-embed-logging-juli:10.0.20&#39; not found\r\n```\r\n\r\nSo did some digging and It appears as though the [original repo: org.apache.tomcat.embed &#187; tomcat-embed-logging-juli](https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-logging-juli) lost support or moved to the core repo as the last update was for 7.0.109 in APR, 2021.\r\n&lt;br&gt;\r\nWhich leads me to believe that this moved to the core tomcat:\r\n[Maintained Repo: org.apache.tomcat &#187; tomcat-juli](https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-juli)\r\n\r\nSo, I was able to get a new repo working using the following:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n  &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;tomcat.version&gt;10.0.20&lt;/tomcat.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-juli&lt;/artifactId&gt;\r\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\r\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-jsp-api&lt;/artifactId&gt;\r\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.13.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nAgain I am no expert, just an observation from basic research.  Please let me know if this is wrong or needs adjustment.\r\n\r\nUsing:\r\n```json\r\nIntelliJ IDEA: 2022.1.4\r\nJava: 18\r\nTomcat: 10.0.20\r\nMaven: 4.0.0\r\nMaven Compiler: 1.7\r\n```","title":"Latest tomcat-embed-logging-juli does not match with other embedded artifacts.. Is it not part of tomcat?","body":"<p>I am just learning Java &amp; it's dependencies.  I ran into this issue when trying to follow this <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/basic_app_embedded_tomcat/basic_app-tomcat-embedded.html\" rel=\"nofollow noreferrer\">Oracle Template</a>. I got this error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Dependency 'org.apache.tomcat.embed:tomcat-embed-logging-juli:10.0.20' not found\n</code></pre>\n<p>So did some digging and It appears as though the <a href=\"https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-logging-juli\" rel=\"nofollow noreferrer\">original repo: org.apache.tomcat.embed » tomcat-embed-logging-juli</a> lost support or moved to the core repo as the last update was for 7.0.109 in APR, 2021.\n<br>\nWhich leads me to believe that this moved to the core tomcat:\n<a href=\"https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-juli\" rel=\"nofollow noreferrer\">Maintained Repo: org.apache.tomcat » tomcat-juli</a></p>\n<p>So, I was able to get a new repo working using the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;tomcat.version&gt;10.0.20&lt;/tomcat.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-juli&lt;/artifactId&gt;\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;${tomcat.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Again I am no expert, just an observation from basic research.  Please let me know if this is wrong or needs adjustment.</p>\n<p>Using:</p>\n<pre class=\"lang-json prettyprint-override\"><code>IntelliJ IDEA: 2022.1.4\nJava: 18\nTomcat: 10.0.20\nMaven: 4.0.0\nMaven Compiler: 1.7\n</code></pre>\n"}],"owner":{"account_id":8782512,"reputation":1507,"user_id":6565719,"accept_rate":27,"display_name":"Master Po"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658988031,"creation_date":1638436659,"question_id":70196817,"body_markdown":"I&#39;m working on a legacy maven project and it uses embedded tomcat. Recently as part of fixing the security vulnerabilities, tomcat is upgraded to latest version 9.0.55. But surprisingly I don&#39;t see the corresponding version for the artifact `tomcat-embed-logging-juli`. We&#39;ve already have the slf4j logging library for project. Do I really need the library tomcat-embed-logging-juli dependency as I don&#39;t have any logs written with servletContext log?\r\nFollowing is the relevant section from my pom.xml\r\n\r\n    &lt;properties&gt;        \r\n        &lt;tomcat.version&gt;9.0.55&lt;/tomcat.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Tomcat --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.53&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Latest tomcat-embed-logging-juli does not match with other embedded artifacts.. Is it not part of tomcat?","body":"<p>I'm working on a legacy maven project and it uses embedded tomcat. Recently as part of fixing the security vulnerabilities, tomcat is upgraded to latest version 9.0.55. But surprisingly I don't see the corresponding version for the artifact <code>tomcat-embed-logging-juli</code>. We've already have the slf4j logging library for project. Do I really need the library tomcat-embed-logging-juli dependency as I don't have any logs written with servletContext log?\nFollowing is the relevant section from my pom.xml</p>\n<pre><code>&lt;properties&gt;        \n    &lt;tomcat.version&gt;9.0.55&lt;/tomcat.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.30&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Tomcat --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\n        &lt;version&gt;8.0.53&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;version&gt;${tomcat.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1658987342,"post_id":73147772,"comment_id":129189204,"body_markdown":"I think you should create a class that contains only one child","body":"I think you should create a class that contains only one child"},{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1658988292,"post_id":73147772,"comment_id":129189418,"body_markdown":"Can you mention for which exact reason would you want to convert a One-To-Many type of List to One to One since many children will be belonging to a single Parent. You may retrieve this information as a Map&lt;Parent,List&lt;Child&gt;&gt; if this is what you&#39;re supposedly looking for?","body":"Can you mention for which exact reason would you want to convert a One-To-Many type of List to One to One since many children will be belonging to a single Parent. You may retrieve this information as a Map&lt;Parent,List&lt;Child&gt;&gt; if this is what you&#39;re supposedly looking for?"}],"answers":[{"tags":[],"owner":{"account_id":961326,"reputation":99,"user_id":985628,"display_name":"CurssedHammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658987806,"creation_date":1658987806,"answer_id":73147889,"question_id":73147772,"body_markdown":"You will need a class that contains Child object and then you can flatten the data in current Parent class with this:\r\n\r\n    List&lt;Child&gt; childrenList = parent.getChildren();\r\n    childrenList.stream().map(child-&gt;{new ParentWithChild(p.id, child)}).collect(Collectors.toList());\r\n\r\nWhere childrenList id the list of childrens in the parent object. And ParentWithChild will have the structure as:\r\n\r\n    public class ParentWithChild {\r\n        private Long id;    \r\n        private Child children;\r\n    }\r\n\r\nYou can obviously modify the existing class as:\r\n\r\n    class Parent {\r\n    public Parent(Long id, List&lt;Child&gt; children){\r\n        this.id=id;\r\n        this.children = children;\r\n    }\r\n\r\n    public Parent(Long id, Child child){\r\n        this.id=id;\r\n        this.child = child;\r\n    }\r\n    private Long id;\r\n    private List&lt;Child&gt; children;\r\n    private Child child;\r\n}\r\n\r\nBut this will not really be a good approach.","title":"Flattening the user defined object A having list of objects B, so the structure will be List of object A having a single object of B","body":"<p>You will need a class that contains Child object and then you can flatten the data in current Parent class with this:</p>\n<pre><code>List&lt;Child&gt; childrenList = parent.getChildren();\nchildrenList.stream().map(child-&gt;{new ParentWithChild(p.id, child)}).collect(Collectors.toList());\n</code></pre>\n<p>Where childrenList id the list of childrens in the parent object. And ParentWithChild will have the structure as:</p>\n<pre><code>public class ParentWithChild {\n    private Long id;    \n    private Child children;\n}\n</code></pre>\n<p>You can obviously modify the existing class as:</p>\n<pre><code>class Parent {\npublic Parent(Long id, List&lt;Child&gt; children){\n    this.id=id;\n    this.children = children;\n}\n\npublic Parent(Long id, Child child){\n    this.id=id;\n    this.child = child;\n}\nprivate Long id;\nprivate List&lt;Child&gt; children;\nprivate Child child;\n</code></pre>\n<p>}</p>\n<p>But this will not really be a good approach.</p>\n"}],"owner":{"account_id":15937106,"reputation":1426,"user_id":11499971,"display_name":"Rushikesh Sabde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658987806,"creation_date":1658986943,"question_id":73147772,"body_markdown":"I have an Object Parent having structure as below \r\n\r\n    public class Parent {\r\n        private Long id;    \r\n        private List&lt;Child&gt; children;\r\n    }\r\n\r\nI want to flatten the Parent object so the structure will be like:\r\n\r\n    public class Parent {\r\n        private Long id;    \r\n        private Child children;\r\n    }\r\n\r\nand the result would be `List&lt;Parent&gt;` which will accommodate all of the Children&#39;s as single object in Parent list.\r\n\r\n \r\n","title":"Flattening the user defined object A having list of objects B, so the structure will be List of object A having a single object of B","body":"<p>I have an Object Parent having structure as below</p>\n<pre><code>public class Parent {\n    private Long id;    \n    private List&lt;Child&gt; children;\n}\n</code></pre>\n<p>I want to flatten the Parent object so the structure will be like:</p>\n<pre><code>public class Parent {\n    private Long id;    \n    private Child children;\n}\n</code></pre>\n<p>and the result would be <code>List&lt;Parent&gt;</code> which will accommodate all of the Children's as single object in Parent list.</p>\n"},{"tags":["java","recursion","integer"],"comments":[{"owner":{"account_id":3508113,"reputation":13,"user_id":2933170,"display_name":"abysmaldan"},"score":1,"creation_date":1387408464,"post_id":20670444,"comment_id":30950951,"body_markdown":"sorry the question needs reformatting, my code did not show properly, I will fix that","body":"sorry the question needs reformatting, my code did not show properly, I will fix that"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1387408929,"post_id":20670444,"comment_id":30951140,"body_markdown":"You&#39;re over complicating this. I don&#39;t see any reason why you&#39;d need to make a recursive call in an `if`. It may work but is definitely hard to follow and, looks like, subject to mistakes.","body":"You&#39;re over complicating this. I don&#39;t see any reason why you&#39;d need to make a recursive call in an <code>if</code>. It may work but is definitely hard to follow and, looks like, subject to mistakes."}],"answers":[{"tags":[],"owner":{"account_id":2266696,"reputation":8678,"user_id":1995170,"accept_rate":100,"display_name":"Michał Rybak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1387410111,"creation_date":1387408806,"answer_id":20670530,"question_id":20670444,"body_markdown":"What about:\r\n\r\n    public int RevDigs(int input) {\r\n        if(input &lt; 10) {\r\n            return input;\r\n        }\r\n        else {\r\n            return (input % 10) * (int) Math.pow(10, (int) Math.log10(input)) + RevDigs(input/10);\r\n            /* here we:\r\n               - take last digit of input\r\n               - multiply by an adequate power of ten\r\n                 (to set this digit in a &quot;right place&quot; of result)\r\n               - add input without last digit, reversed\r\n            */\r\n        }\r\n    }\r\n\r\nThis assumes `input &gt;= 0`, of course.","title":"Using Recursion to reverse an integer without the use of strings","body":"<p>What about:</p>\n\n<pre><code>public int RevDigs(int input) {\n    if(input &lt; 10) {\n        return input;\n    }\n    else {\n        return (input % 10) * (int) Math.pow(10, (int) Math.log10(input)) + RevDigs(input/10);\n        /* here we:\n           - take last digit of input\n           - multiply by an adequate power of ten\n             (to set this digit in a \"right place\" of result)\n           - add input without last digit, reversed\n        */\n    }\n}\n</code></pre>\n\n<p>This assumes <code>input &gt;= 0</code>, of course.</p>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387409019,"creation_date":1387409019,"answer_id":20670575,"question_id":20670444,"body_markdown":"The key to using recursion is to notice that the problem you&#39;re trying to solve contains a smaller instance of the *same* problem.  Here, if you&#39;re trying to reverse the number 13579, you might notice that you can make it a smaller problem by reversing 3579 (the same problem but smaller), multiplying the result by 10, and adding 1 (the digit you took off).  Or you could reverse the number 1357 (recursively), giving 7531, then add 9 * (some power of 10) to the result.  The first tricky thing is that you have to know when to stop (when you have a 1-digit number).  The second thing is that for this problem, you&#39;ll have to figure out how many digits the number is so that you can get the power of 10 right.  You could use `Math.log10`, or you could use a loop where you start with 1 and multiply by 10 until it&#39;s greater than your number.","title":"Using Recursion to reverse an integer without the use of strings","body":"<p>The key to using recursion is to notice that the problem you're trying to solve contains a smaller instance of the <em>same</em> problem.  Here, if you're trying to reverse the number 13579, you might notice that you can make it a smaller problem by reversing 3579 (the same problem but smaller), multiplying the result by 10, and adding 1 (the digit you took off).  Or you could reverse the number 1357 (recursively), giving 7531, then add 9 * (some power of 10) to the result.  The first tricky thing is that you have to know when to stop (when you have a 1-digit number).  The second thing is that for this problem, you'll have to figure out how many digits the number is so that you can get the power of 10 right.  You could use <code>Math.log10</code>, or you could use a loop where you start with 1 and multiply by 10 until it's greater than your number.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1387410598,"creation_date":1387410598,"answer_id":20670917,"question_id":20670444,"body_markdown":"How about using two methods\r\n\r\n    public static long reverse(long n) {\r\n        return reverse(n, 0);\r\n    }\r\n\r\n    private static long reverse(long n, long m) {\r\n        return n == 0 ? m : reverse(n / 10, m * 10 +  n % 10);\r\n    }\r\n\r\n    public static void main(String... ignored) {\r\n        System.out.println(reverse(123456789));\r\n    }\r\n\r\nprints\r\n\r\n    987654321","title":"Using Recursion to reverse an integer without the use of strings","body":"<p>How about using two methods</p>\n\n<pre><code>public static long reverse(long n) {\n    return reverse(n, 0);\n}\n\nprivate static long reverse(long n, long m) {\n    return n == 0 ? m : reverse(n / 10, m * 10 +  n % 10);\n}\n\npublic static void main(String... ignored) {\n    System.out.println(reverse(123456789));\n}\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>987654321\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6808681,"reputation":1,"user_id":5239671,"display_name":"Ashish Edsikar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439907161,"creation_date":1439907161,"answer_id":32074888,"question_id":20670444,"body_markdown":"    package Test;\r\n    \r\n    public class Recursive {\r\n    \tint i=1;\r\n    \tint multiple=10;\r\n    \tint reqnum=0;\r\n    \tpublic int recur(int no){\r\n    \t\tint reminder, revno;\r\n    \t\t\r\n    \t\tif (no/10==0) {reqnum=no;\r\n    \t\tSystem.out.println(&quot; reqnum &quot;+reqnum);\r\n    \t\treturn reqnum;}\r\n    \t\treminder=no%10;\r\n    \t\t//multiple =multiple * 10;\r\n    \t\tSystem.out.println(i+&quot; i multiple &quot;+multiple+&quot; Reminder &quot;+reminder+&quot; no &quot;+no+&quot; reqnum &quot;+reqnum);\r\n    \t\ti++;\r\n    \t\t\r\n    \t\tno=recur(no/10);\r\n    \t\treqnum=reqnum+(reminder*multiple);\r\n    \t\tmultiple =multiple * 10;\r\n    \t\tSystem.out.println(i+&quot; i multiple &quot;+multiple+&quot; Reminder &quot;+reminder+&quot; no &quot;+no+&quot; reqnum &quot;+reqnum);\r\n    \t\treturn reqnum;\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tint num=123456789;\r\n    \t\t\r\n    \t\tRecursive r= new Recursive();\r\n    \t\tSystem.out.println(r.recur(num));\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Using Recursion to reverse an integer without the use of strings","body":"<pre><code>package Test;\n\npublic class Recursive {\n    int i=1;\n    int multiple=10;\n    int reqnum=0;\n    public int recur(int no){\n        int reminder, revno;\n\n        if (no/10==0) {reqnum=no;\n        System.out.println(\" reqnum \"+reqnum);\n        return reqnum;}\n        reminder=no%10;\n        //multiple =multiple * 10;\n        System.out.println(i+\" i multiple \"+multiple+\" Reminder \"+reminder+\" no \"+no+\" reqnum \"+reqnum);\n        i++;\n\n        no=recur(no/10);\n        reqnum=reqnum+(reminder*multiple);\n        multiple =multiple * 10;\n        System.out.println(i+\" i multiple \"+multiple+\" Reminder \"+reminder+\" no \"+no+\" reqnum \"+reqnum);\n        return reqnum;\n    }\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        int num=123456789;\n\n        Recursive r= new Recursive();\n        System.out.println(r.recur(num));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8851033,"reputation":1,"user_id":6610307,"display_name":"Amar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658987761,"creation_date":1468956151,"answer_id":38466861,"question_id":20670444,"body_markdown":"Try this:\r\n\r\n    import java.io.*;  \r\n        public class ReversalOfNumber {\r\n        \tpublic static int sum =0;\r\n            public static void main(String args []) throws IOException\r\n            {\r\n        \t\tSystem.out.println(&quot;Enter a number to get Reverse &amp; Press Enter Button&quot;);\r\n        \t\tBufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n                String input = reader.readLine();\r\n                int number = Integer.parseInt(input);\r\n                int revNumber = reverse(number);\r\n                System.out.println(&quot;Reverse of &quot;+number+&quot; is: &quot;+revNumber);\r\n            }\r\n            public static int reverse(int n)\r\n            {\t\t\r\n                int unit;\r\n        \t\tif (n&gt;0)\r\n        \t\t{\r\n        \t\t\tunit = n % 10;\r\n        \t\t\tsum= (sum*10)+unit;\r\n        \t\t\tn=n/10;\r\n        \t\t\treverse(n);\r\n        \t\t}\r\n        \t\treturn sum;\r\n            }\r\n        }","title":"Using Recursion to reverse an integer without the use of strings","body":"<p>Try this:</p>\n<pre><code>import java.io.*;  \n    public class ReversalOfNumber {\n        public static int sum =0;\n        public static void main(String args []) throws IOException\n        {\n            System.out.println(&quot;Enter a number to get Reverse &amp; Press Enter Button&quot;);\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n            String input = reader.readLine();\n            int number = Integer.parseInt(input);\n            int revNumber = reverse(number);\n            System.out.println(&quot;Reverse of &quot;+number+&quot; is: &quot;+revNumber);\n        }\n        public static int reverse(int n)\n        {       \n            int unit;\n            if (n&gt;0)\n            {\n                unit = n % 10;\n                sum= (sum*10)+unit;\n                n=n/10;\n                reverse(n);\n            }\n            return sum;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3508113,"reputation":13,"user_id":2933170,"display_name":"abysmaldan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8852,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":20670530,"answer_count":5,"score":0,"last_activity_date":1658987761,"creation_date":1387408389,"question_id":20670444,"body_markdown":"I have been trying this for some time now but could not get it to work. I am trying to have a method to reverse an integer without the use of strings or arrays. For example, 123 should reverse to 321 in integer form.\r\n\r\nMy first attempt:\r\n\r\n    /** reverses digits of integer using recursion */\r\n    public int RevDigs(int input)\r\n    {\r\n        int reverse = 0;\r\n        if(input == 0)\r\n        {\r\n            return reverse;\r\n        }\r\n        int tempRev = RevDigs(input/10);\r\n        if(tempRev &gt;= 10)\r\n            reverse = input%10 * (int)Math.pow(tempRev/10, 2) + tempRev;\r\n        if(tempRev &lt;10 &amp;&amp; tempRev &gt;0)\r\n            reverse = input%10*10 + tempRev;\r\n        if(tempRev == 0)\r\n            reverse = input%10;   \r\n        return reverse;\r\n    }//======================\r\n\r\nI also tried to use this, but it seems to mess up middle digits:\r\n\r\n    /** reverses digits of integer using recursion */\r\n    public int RevDigs(int input)\r\n    {\r\n        int reverse = 0;\r\n        if(input == 0)\r\n        {\r\n            return reverse;\r\n        }\r\n        if(RevDigs(input/10) == 0)\r\n            reverse = input % 10;\r\n        else\r\n        {\r\n            if(RevDigs(input/10) &lt; 10)\r\n                reverse = (input % 10) *10 + RevDigs(input/10);\r\n            else\r\n                reverse = (input % 10)* 10 * (RevDigs(input/10)/10 + 1) + RevDigs(input/10);\r\n            }\r\n        return reverse;\r\n    }\r\n\r\nI have tried looking at some examples on the site, however I could not get them to work properly. To further clarify, I cannot use a String, or array for this project, and must use recursion. Could someone please help me to fix the problem. Thank you. \r\n","title":"Using Recursion to reverse an integer without the use of strings","body":"<p>I have been trying this for some time now but could not get it to work. I am trying to have a method to reverse an integer without the use of strings or arrays. For example, 123 should reverse to 321 in integer form.</p>\n\n<p>My first attempt:</p>\n\n<pre><code>/** reverses digits of integer using recursion */\npublic int RevDigs(int input)\n{\n    int reverse = 0;\n    if(input == 0)\n    {\n        return reverse;\n    }\n    int tempRev = RevDigs(input/10);\n    if(tempRev &gt;= 10)\n        reverse = input%10 * (int)Math.pow(tempRev/10, 2) + tempRev;\n    if(tempRev &lt;10 &amp;&amp; tempRev &gt;0)\n        reverse = input%10*10 + tempRev;\n    if(tempRev == 0)\n        reverse = input%10;   \n    return reverse;\n}//======================\n</code></pre>\n\n<p>I also tried to use this, but it seems to mess up middle digits:</p>\n\n<pre><code>/** reverses digits of integer using recursion */\npublic int RevDigs(int input)\n{\n    int reverse = 0;\n    if(input == 0)\n    {\n        return reverse;\n    }\n    if(RevDigs(input/10) == 0)\n        reverse = input % 10;\n    else\n    {\n        if(RevDigs(input/10) &lt; 10)\n            reverse = (input % 10) *10 + RevDigs(input/10);\n        else\n            reverse = (input % 10)* 10 * (RevDigs(input/10)/10 + 1) + RevDigs(input/10);\n        }\n    return reverse;\n}\n</code></pre>\n\n<p>I have tried looking at some examples on the site, however I could not get them to work properly. To further clarify, I cannot use a String, or array for this project, and must use recursion. Could someone please help me to fix the problem. Thank you. </p>\n"},{"tags":["java","amazon-web-services","aws-codebuild"],"answers":[{"tags":[],"owner":{"account_id":4088222,"reputation":301,"user_id":3356979,"display_name":"Schelldorfer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631877594,"creation_date":1631877594,"answer_id":69222578,"question_id":69222577,"body_markdown":"To install latest OpenJDK on aws/codebuild/amazonlinux2-x86_64-standard:3.0 image, use the following `buildspec.yml`:\r\n\r\n    version: 0.2\r\n    \r\n    phases:\r\n      install:\r\n        commands:\r\n          - uname -a\r\n          - yum update -y\r\n          - echo list available openjdk packages\r\n          - yum list *openjdk*\r\n          - echo install openjdk packages\r\n          - yum install -y java-latest-openjdk-devel java-latest-openjdk-jmods\r\n          - echo show default java version\r\n          - echo $JAVA_HOME\r\n          - java -version\r\n          - cd /usr/lib/jvm\r\n          - ls\r\n          - export JAVA_HOME=/usr/lib/jvm/java-openjdk\r\n          - cd $JAVA_HOME/bin\r\n          - java -version\r\n          - echo configure java command\r\n          - alternatives --install /usr/bin/java java /usr/lib/jvm/java-openjdk/bin/java 20000\r\n          - alternatives --set java /usr/lib/jvm/java-openjdk/bin/java\r\n          - alternatives --display java\r\n          - echo configure javac command\r\n          - alternatives --install /usr/bin/javac javac /usr/lib/jvm/java-openjdk/bin/javac 20000\r\n          - alternatives --set javac /usr/lib/jvm/java-openjdk/bin/javac\r\n          - alternatives --display javac\r\n          - echo show updated java version\r\n          - java -version\r\n          - cd $CODEBUILD_SRC_DIR\r\n\r\n","title":"How to install different Java OpenJDK version on AWS CodeBuild standard image","body":"<p>To install latest OpenJDK on aws/codebuild/amazonlinux2-x86_64-standard:3.0 image, use the following <code>buildspec.yml</code>:</p>\n<pre><code>version: 0.2\n\nphases:\n  install:\n    commands:\n      - uname -a\n      - yum update -y\n      - echo list available openjdk packages\n      - yum list *openjdk*\n      - echo install openjdk packages\n      - yum install -y java-latest-openjdk-devel java-latest-openjdk-jmods\n      - echo show default java version\n      - echo $JAVA_HOME\n      - java -version\n      - cd /usr/lib/jvm\n      - ls\n      - export JAVA_HOME=/usr/lib/jvm/java-openjdk\n      - cd $JAVA_HOME/bin\n      - java -version\n      - echo configure java command\n      - alternatives --install /usr/bin/java java /usr/lib/jvm/java-openjdk/bin/java 20000\n      - alternatives --set java /usr/lib/jvm/java-openjdk/bin/java\n      - alternatives --display java\n      - echo configure javac command\n      - alternatives --install /usr/bin/javac javac /usr/lib/jvm/java-openjdk/bin/javac 20000\n      - alternatives --set javac /usr/lib/jvm/java-openjdk/bin/javac\n      - alternatives --display javac\n      - echo show updated java version\n      - java -version\n      - cd $CODEBUILD_SRC_DIR\n</code></pre>\n"},{"tags":[],"owner":{"account_id":158286,"reputation":695,"user_id":376803,"accept_rate":18,"display_name":"Christian von Wendt-Jensen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658987384,"creation_date":1658987384,"answer_id":73147834,"question_id":69222577,"body_markdown":"There is another way if you follow this link\r\n\r\n[installing_java_17_amazon_corretto][1]\r\n\r\nI just tried it on one of my projects, and it works.\r\n\r\n\r\n  [1]: https://adambien.blog/roller/abien/entry/installing_java_17_amazon_corretto","title":"How to install different Java OpenJDK version on AWS CodeBuild standard image","body":"<p>There is another way if you follow this link</p>\n<p><a href=\"https://adambien.blog/roller/abien/entry/installing_java_17_amazon_corretto\" rel=\"nofollow noreferrer\">installing_java_17_amazon_corretto</a></p>\n<p>I just tried it on one of my projects, and it works.</p>\n"}],"owner":{"account_id":4088222,"reputation":301,"user_id":3356979,"display_name":"Schelldorfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3342,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1658987384,"creation_date":1631877594,"question_id":69222577,"body_markdown":"AWS CodeBuild docker images for Ubuntu and Amazon Linux 2 platform support Java LTS versions (currently Java 8 and Java 11).\r\n\r\nsee https://docs.aws.amazon.com/codebuild/latest/userguide/available-runtimes.html\r\n\r\n**How can I install a different OpenJDK version (e.g. latest OpenJDK)?**","title":"How to install different Java OpenJDK version on AWS CodeBuild standard image","body":"<p>AWS CodeBuild docker images for Ubuntu and Amazon Linux 2 platform support Java LTS versions (currently Java 8 and Java 11).</p>\n<p>see <a href=\"https://docs.aws.amazon.com/codebuild/latest/userguide/available-runtimes.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/codebuild/latest/userguide/available-runtimes.html</a></p>\n<p><strong>How can I install a different OpenJDK version (e.g. latest OpenJDK)?</strong></p>\n"},{"tags":["java","newrelic","newrelic-platform"],"owner":{"account_id":115919,"reputation":43529,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658987159,"creation_date":1658987159,"question_id":73147807,"body_markdown":"I have a Java application that calls out to various domains. The application is a crawler and so this list of domains spans into the hundreds.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I group the list of domains so they appear as a single transaction? Many have suggested that I use Metric Grouping but I&#39;m unsure how to do this? \r\n\r\nhttps://docs.newrelic.com/docs/new-relic-solutions/solve-common-issues/troubleshooting/metric-grouping-issues/\r\n\r\nThe library I&#39;m using for making the network requests is Async HTTP Client. I can see the code for the automatic instrumentation here:\r\n\r\nhttps://github.com/newrelic/newrelic-java-agent/blob/v7.9.0/instrumentation/async-http-client-2.1.0/src/main/java/org/asynchttpclient/AsyncHandler_Instrumentation.java#L64-L68\r\n\r\nIt is simple but I&#39;m unsure how to override the `uri` for the external transaction?\r\n\r\n  [1]: https://i.stack.imgur.com/FDqhE.jpg","title":"How can I group/override the external services in NewRelic&#39;s external services in NewRelic?","body":"<p>I have a Java application that calls out to various domains. The application is a crawler and so this list of domains spans into the hundreds.</p>\n<p><a href=\"https://i.stack.imgur.com/FDqhE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FDqhE.jpg\" alt=\"enter image description here\" /></a></p>\n<p>How can I group the list of domains so they appear as a single transaction? Many have suggested that I use Metric Grouping but I'm unsure how to do this?</p>\n<p><a href=\"https://docs.newrelic.com/docs/new-relic-solutions/solve-common-issues/troubleshooting/metric-grouping-issues/\" rel=\"nofollow noreferrer\">https://docs.newrelic.com/docs/new-relic-solutions/solve-common-issues/troubleshooting/metric-grouping-issues/</a></p>\n<p>The library I'm using for making the network requests is Async HTTP Client. I can see the code for the automatic instrumentation here:</p>\n<p><a href=\"https://github.com/newrelic/newrelic-java-agent/blob/v7.9.0/instrumentation/async-http-client-2.1.0/src/main/java/org/asynchttpclient/AsyncHandler_Instrumentation.java#L64-L68\" rel=\"nofollow noreferrer\">https://github.com/newrelic/newrelic-java-agent/blob/v7.9.0/instrumentation/async-http-client-2.1.0/src/main/java/org/asynchttpclient/AsyncHandler_Instrumentation.java#L64-L68</a></p>\n<p>It is simple but I'm unsure how to override the <code>uri</code> for the external transaction?</p>\n"},{"tags":["java","spring-boot","jvm","pact"],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658987029,"creation_date":1658987029,"answer_id":73147787,"question_id":73133754,"body_markdown":"It looks like you have `content-type` as the expected header you send in the GET call, but in fact you send only an `accept` header (both with the media type `text/plain`).\r\n\r\nI think your test should be updated to use `accept`.","title":"au.com.dius.pact.consumer.PactMismatchesException: The following requests were not received:","body":"<p>It looks like you have <code>content-type</code> as the expected header you send in the GET call, but in fact you send only an <code>accept</code> header (both with the media type <code>text/plain</code>).</p>\n<p>I think your test should be updated to use <code>accept</code>.</p>\n"}],"owner":{"account_id":25905464,"reputation":1,"user_id":19630615,"display_name":"Hari Hara Prakash Ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658987029,"creation_date":1658906495,"question_id":73133754,"body_markdown":"This test case is for mocking the health check contract. \r\nTestClass\r\n\r\n\r\n    @Pact(consumer = &quot;Consumer&quot;)\r\n    public RequestResponsePact getHealthCheck(PactDslWithProvider builder) {\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n        headers.put(&quot;Content-Type&quot;, &quot;text/plain&quot;);\r\n        headers.put(&quot;callchainid&quot;, &quot;a4275861-f60a-44ab-85a6-c0c2c9df5e27&quot;);\r\n\r\n        return builder\r\n                .given(&quot;get health check&quot;)\r\n                .uponReceiving(&quot;get health data&quot;)\r\n                .path(&quot;/health&quot;)\r\n                .method(&quot;GET&quot;)\r\n                .headers(headers )\r\n                .willRespondWith()\r\n                .status(200)\r\n                .body(&quot;{\\&quot;status\\&quot;:\\&quot;UP\\&quot;,\\&quot;components\\&quot;:{\\&quot;db\\&quot;:{\\&quot;status\\&quot;:\\&quot;UP\\&quot;,\\&quot;details\\&quot;:{\\&quot;database\\&quot;:\\&quot;PostgreSQL\\&quot;,\\&quot;validationQuery\\&quot;:\\&quot;isValid()\\&quot;}}}}&quot;)\r\n                .toPact();\r\n    }\r\n\r\n    @Test\r\n    @PactTestFor(pactMethod = &quot;getHealthCheck&quot;)\r\n    void getHealthData(MockServer mockServer) {\r\n\r\n        WebClient webClient=WebClient.builder().baseUrl(mockServer.getUrl()).build();\r\n        final String callChainId=&quot;a4275861-f60a-44ab-85a6-c0c2c9df5e27&quot;;\r\n        ThreadContext.put(CallChainIdService.HEADER_NAME, callChainId);\r\n        AsyncClient asyncClient=new AsyncClient(webClient);\r\n        Mono&lt;ClientResponse&gt; responseMono=asyncClient.getHealthCheck();\r\n        System.out.println(responseMono);\r\n\r\n\r\n    }\r\nHere the webclient end point code which i am trying to hit,\r\n    AsyncClient Class\r\n    private final WebClient CLIENT;\r\n  \r\n\r\n    @Override\r\n    public Mono&lt;ClientResponse&gt; getHealthCheck() {\r\n      return get(MediaType.TEXT_PLAIN, &quot;/health&quot;);\r\n    }\r\n\r\n    private Mono&lt;ClientResponse&gt; get(MediaType contentType, String uri, Object... params) {\r\n    return CLIENT\r\n      .mutate()\r\n      .defaultHeader(CallChainIdService.HEADER_NAME, ThreadContext.get(CallChainIdService.HEADER_NAME))\r\n      .build()\r\n      .get()\r\n      .uri(uri, params)\r\n      .accept(contentType)\r\n      .exchange();\r\n  }\r\n\r\n\r\nWhen i run the test , i got PactMismatchesException: The following requests were not received.\r\n\r\n     au.com.dius.pact.consumer.PactMismatchesException: The following requests were not received:\r\n\tmethod: GET\r\n\tpath: /health\r\n\tquery: {}\r\n\theaders: {callchainid=[a4275861-f60a-44ab-85a6-c0c2c9df5e27], Content-Type=[text/plain]}\r\n\tmatchers: MatchingRules(rules={})\r\n\tgenerators: Generators(categories={})\r\n\tbody: MISSING\r\n\r\nI am not sure what i am doing wrong here. Appreciate your inputs and help","title":"au.com.dius.pact.consumer.PactMismatchesException: The following requests were not received:","body":"<p>This test case is for mocking the health check contract.\nTestClass</p>\n<pre><code>@Pact(consumer = &quot;Consumer&quot;)\npublic RequestResponsePact getHealthCheck(PactDslWithProvider builder) {\n    Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n    headers.put(&quot;Content-Type&quot;, &quot;text/plain&quot;);\n    headers.put(&quot;callchainid&quot;, &quot;a4275861-f60a-44ab-85a6-c0c2c9df5e27&quot;);\n\n    return builder\n            .given(&quot;get health check&quot;)\n            .uponReceiving(&quot;get health data&quot;)\n            .path(&quot;/health&quot;)\n            .method(&quot;GET&quot;)\n            .headers(headers )\n            .willRespondWith()\n            .status(200)\n            .body(&quot;{\\&quot;status\\&quot;:\\&quot;UP\\&quot;,\\&quot;components\\&quot;:{\\&quot;db\\&quot;:{\\&quot;status\\&quot;:\\&quot;UP\\&quot;,\\&quot;details\\&quot;:{\\&quot;database\\&quot;:\\&quot;PostgreSQL\\&quot;,\\&quot;validationQuery\\&quot;:\\&quot;isValid()\\&quot;}}}}&quot;)\n            .toPact();\n}\n\n@Test\n@PactTestFor(pactMethod = &quot;getHealthCheck&quot;)\nvoid getHealthData(MockServer mockServer) {\n\n    WebClient webClient=WebClient.builder().baseUrl(mockServer.getUrl()).build();\n    final String callChainId=&quot;a4275861-f60a-44ab-85a6-c0c2c9df5e27&quot;;\n    ThreadContext.put(CallChainIdService.HEADER_NAME, callChainId);\n    AsyncClient asyncClient=new AsyncClient(webClient);\n    Mono&lt;ClientResponse&gt; responseMono=asyncClient.getHealthCheck();\n    System.out.println(responseMono);\n\n\n}\n</code></pre>\n<p>Here the webclient end point code which i am trying to hit,\nAsyncClient Class\nprivate final WebClient CLIENT;</p>\n<pre><code>@Override\npublic Mono&lt;ClientResponse&gt; getHealthCheck() {\n  return get(MediaType.TEXT_PLAIN, &quot;/health&quot;);\n}\n\nprivate Mono&lt;ClientResponse&gt; get(MediaType contentType, String uri, Object... params) {\nreturn CLIENT\n  .mutate()\n  .defaultHeader(CallChainIdService.HEADER_NAME, ThreadContext.get(CallChainIdService.HEADER_NAME))\n  .build()\n  .get()\n  .uri(uri, params)\n  .accept(contentType)\n  .exchange();\n</code></pre>\n<p>}</p>\n<p>When i run the test , i got PactMismatchesException: The following requests were not received.</p>\n<pre><code> au.com.dius.pact.consumer.PactMismatchesException: The following requests were not received:\nmethod: GET\npath: /health\nquery: {}\nheaders: {callchainid=[a4275861-f60a-44ab-85a6-c0c2c9df5e27], Content-Type=[text/plain]}\nmatchers: MatchingRules(rules={})\ngenerators: Generators(categories={})\nbody: MISSING\n</code></pre>\n<p>I am not sure what i am doing wrong here. Appreciate your inputs and help</p>\n"},{"tags":["java","compiler-errors","overloading"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1658989414,"post_id":73147782,"comment_id":129189709,"body_markdown":"what type should the result of the expression ` ... ? (A) o : (B) o` be? (Java is strongly typed {not sure if that is the correct term}; the types must be solved at compilation time) - details [JLS 15.25.3. Reference Conditional Expressions](https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.25.3)","body":"what type should the result of the expression ` ... ? (A) o : (B) o` be? (Java is strongly typed {not sure if that is the correct term}; the types must be solved at compilation time) - details <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.25.3\" rel=\"nofollow noreferrer\">JLS 15.25.3. Reference Conditional Expressions</a>"},{"owner":{"account_id":21344635,"reputation":87,"user_id":15714815,"display_name":"Koret"},"score":0,"creation_date":1658990563,"post_id":73147782,"comment_id":129190031,"body_markdown":"Yes. This makes sense. Compiler will get confused which to call during compile time. Hence its giving completion problem.","body":"Yes. This makes sense. Compiler will get confused which to call during compile time. Hence its giving completion problem."}],"owner":{"account_id":21344635,"reputation":87,"user_id":15714815,"display_name":"Koret"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658986992,"creation_date":1658986992,"question_id":73147782,"body_markdown":"I am trying to call the overloaded method using if-else statement to decide which type of argument to pass so that appropriate method can be invoked. I am getting compilation error.\r\nany idea why I am getting compilation error ? If call method separately using if-else check outside , it works fine.\r\n\r\n    public class A {\r\n    }\r\n\r\n    public class B {\r\n    }\r\n\r\n    public class RuleCheck {\r\n    \r\n        public void check(A a) {\r\n    \r\n        }\r\n    \r\n        public void check(B b) {\r\n    \r\n        }\r\n    }\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            A a = new A();\r\n            B b = new B();\r\n            testRule(a);\r\n            testRule(b);\r\n        }\r\n    \r\n        private static void testRule(Object o) {\r\n    \r\n            RuleCheck ruleCheck = new RuleCheck();\r\n            ruleCheck.check(o instanceof A ? (A) o : (B) o);//Compilation problem here : Cannot resolve method &#39;check(java.lang.Object)&#39;\r\n\r\n\r\n           //Following code works fine\r\n           if (o instanceof A)\r\n               ruleCheck.check((A) o);\r\n           else if (o instanceof B)\r\n               ruleCheck.check((B) o);\r\n           }\r\n\r\n\r\n}","title":"Why getting compilation error while calling overloaded method and deciding argument type using if-else as parameter","body":"<p>I am trying to call the overloaded method using if-else statement to decide which type of argument to pass so that appropriate method can be invoked. I am getting compilation error.\nany idea why I am getting compilation error ? If call method separately using if-else check outside , it works fine.</p>\n<pre><code>public class A {\n}\n\npublic class B {\n}\n\npublic class RuleCheck {\n\n    public void check(A a) {\n\n    }\n\n    public void check(B b) {\n\n    }\n}\n\npublic class Test {\n\n    public static void main(String[] args) {\n        A a = new A();\n        B b = new B();\n        testRule(a);\n        testRule(b);\n    }\n\n    private static void testRule(Object o) {\n\n        RuleCheck ruleCheck = new RuleCheck();\n        ruleCheck.check(o instanceof A ? (A) o : (B) o);//Compilation problem here : Cannot resolve method 'check(java.lang.Object)'\n\n\n       //Following code works fine\n       if (o instanceof A)\n           ruleCheck.check((A) o);\n       else if (o instanceof B)\n           ruleCheck.check((B) o);\n       }\n</code></pre>\n<p>}</p>\n"},{"tags":["python","java","android"],"answers":[{"tags":[],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658521916,"creation_date":1658521916,"answer_id":73085785,"question_id":73085726,"body_markdown":"You need a `context` for the `Intent`. Change the following line:\r\n```\r\nIntent intentMain2Activity = new Intent(MainActivity.this,MainActivity.class);\r\n``` \r\n\r\nto \r\n\r\n```\r\nIntent intentMain2Activity = new Intent(Page2.this, MainActivity.class);\r\n```","title":"Using Android Studio to switch between pages, error occurs saying &quot;not an enclosing class:MainActivity&quot;","body":"<p>You need a <code>context</code> for the <code>Intent</code>. Change the following line:</p>\n<pre><code>Intent intentMain2Activity = new Intent(MainActivity.this,MainActivity.class);\n</code></pre>\n<p>to</p>\n<pre><code>Intent intentMain2Activity = new Intent(Page2.this, MainActivity.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24547019,"reputation":36,"user_id":18456722,"display_name":"Muhammed Duzgun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658536328,"creation_date":1658536328,"answer_id":73087234,"question_id":73085726,"body_markdown":"Here is your fault:\r\n\r\n     Intent intentMain2Activity = new Intent(MainActivity.this,MainActivity.class);\r\n\r\nWe use the intent object to move from one page to another. but you placed the same pages in the intent object. So use this:\r\n\r\n    Intent intentMain2Activity = new Intent(Page2.this, MainActivity.class);\r\n\r\nIf you want to send data to the page to be passed with the intent object, use:\r\n\r\n    intentMain2Activity.putExtra(&quot;object_name&quot;, *your object*); \r\n\r\n\r\n\r\n    \r\n\r\n\r\n","title":"Using Android Studio to switch between pages, error occurs saying &quot;not an enclosing class:MainActivity&quot;","body":"<p>Here is your fault:</p>\n<pre><code> Intent intentMain2Activity = new Intent(MainActivity.this,MainActivity.class);\n</code></pre>\n<p>We use the intent object to move from one page to another. but you placed the same pages in the intent object. So use this:</p>\n<pre><code>Intent intentMain2Activity = new Intent(Page2.this, MainActivity.class);\n</code></pre>\n<p>If you want to send data to the page to be passed with the intent object, use:</p>\n<pre><code>intentMain2Activity.putExtra(&quot;object_name&quot;, *your object*); \n</code></pre>\n"}],"owner":{"account_id":25873592,"reputation":1,"user_id":19604054,"display_name":"Kriesh T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658986064,"answer_count":2,"score":0,"last_activity_date":1658986080,"creation_date":1658521379,"question_id":73085726,"body_markdown":"    package com.example.multipage;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle ;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    \r\n    \r\n    public class Page2 extends Activity {\r\n    \r\n        Button btn;\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.newpage);\r\n    \r\n            btn = (Button) findViewById(R.id.btnl);\r\n            btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intentMain2Activity = new Intent(MainActivity.this,MainActivity.class);\r\n                    startActivity(intentMain2Activity);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\ncode does not work, giving error    error: not an enclosing class: MainActivity\r\n                Intent intentMain2Activity = new Intent(MainActivity.this,MainActivity.class);\r\n    \r\n\r\n\r\n \r\n\r\n    \r\n    \r\n    \r\n    \r\n        ","title":"Using Android Studio to switch between pages, error occurs saying &quot;not an enclosing class:MainActivity&quot;","body":"<pre><code>package com.example.multipage;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle ;\nimport android.view.View;\nimport android.widget.Button;\n\nimport androidx.annotation.Nullable;\n\n\npublic class Page2 extends Activity {\n\n    Button btn;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.newpage);\n\n        btn = (Button) findViewById(R.id.btnl);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intentMain2Activity = new Intent(MainActivity.this,MainActivity.class);\n                startActivity(intentMain2Activity);\n            }\n        });\n    }\n}\n</code></pre>\n<p>code does not work, giving error    error: not an enclosing class: MainActivity\nIntent intentMain2Activity = new Intent(MainActivity.this,MainActivity.class);</p>\n"},{"tags":["java","android","image","android-cursor","mediastore"],"comments":[{"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"score":0,"creation_date":1658941975,"post_id":73141055,"comment_id":129179585,"body_markdown":"Can I see your `projection` initialization?","body":"Can I see your <code>projection</code> initialization?"}],"answers":[{"tags":[],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658985660,"creation_date":1658942609,"answer_id":73142206,"question_id":73141055,"body_markdown":"With that code you are not only getting images from `/DCIM/` folder but from all folders. If you want to get images from specific folder you can use something like this:\r\n```\r\nfinal Cursor cursor = chatActivity.this.getContentResolver()\r\n                .query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, projection, MediaStore.Images.Media.DATA + &quot; like ?&quot;,\r\n                        &quot;%&quot; + Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/DCIM/%&quot;, MediaStore.Images.ImageColumns.DATE_TAKEN + &quot; DESC&quot;);","title":"Accessing recent images in a folder using MediaStore","body":"<p>With that code you are not only getting images from <code>/DCIM/</code> folder but from all folders. If you want to get images from specific folder you can use something like this:</p>\n<pre><code>final Cursor cursor = chatActivity.this.getContentResolver()\n                .query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, projection, MediaStore.Images.Media.DATA + &quot; like ?&quot;,\n                        &quot;%&quot; + Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/DCIM/%&quot;, MediaStore.Images.ImageColumns.DATE_TAKEN + &quot; DESC&quot;);\n</code></pre>\n"}],"owner":{"account_id":21122166,"reputation":812,"user_id":15527965,"display_name":"CoolCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73142206,"answer_count":1,"score":0,"last_activity_date":1658985660,"creation_date":1658937125,"question_id":73141055,"body_markdown":"I am currently using this code to access the recent images from `/DCIM/` folder - \r\n``` java\r\nfinal Cursor cursor = chatActivity.this.getContentResolver()\r\n                .query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, projection, null,\r\n                        null, MediaStore.Images.ImageColumns.DATE_TAKEN + &quot; DESC&quot;);\r\n```\r\nand then get the images by \r\n``` java\r\nif (cursor.moveToFirst()) {\r\n    String imageLocation = cursor.getString(1);\r\n    File imageFile = new File(imageLocation);\r\n    if (imageFile.exists()) {\r\n        Bitmap bm = BitmapFactory.decodeFile(imageLocation);\r\n    }\r\n}\r\n```\r\n\r\nand then using `cursor.moveToNext()` to access the next image.\r\n\r\nBut if I have to access the images in another folder (like `/MyFolder/Images/`) in a similar fashion, using `MediaStore` and `Cursor` then what should be done?\r\n\r\nI have looked at https://stackoverflow.com/questions/30407581/get-mediastore-path-of-a-specific-folder and https://stackoverflow.com/questions/5039779/displaying-images-from-a-specific-folder-on-the-sdcard-using-a-gridview, they don&#39;t answer my question.","title":"Accessing recent images in a folder using MediaStore","body":"<p>I am currently using this code to access the recent images from <code>/DCIM/</code> folder -</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Cursor cursor = chatActivity.this.getContentResolver()\n                .query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, projection, null,\n                        null, MediaStore.Images.ImageColumns.DATE_TAKEN + &quot; DESC&quot;);\n</code></pre>\n<p>and then get the images by</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (cursor.moveToFirst()) {\n    String imageLocation = cursor.getString(1);\n    File imageFile = new File(imageLocation);\n    if (imageFile.exists()) {\n        Bitmap bm = BitmapFactory.decodeFile(imageLocation);\n    }\n}\n</code></pre>\n<p>and then using <code>cursor.moveToNext()</code> to access the next image.</p>\n<p>But if I have to access the images in another folder (like <code>/MyFolder/Images/</code>) in a similar fashion, using <code>MediaStore</code> and <code>Cursor</code> then what should be done?</p>\n<p>I have looked at <a href=\"https://stackoverflow.com/questions/30407581/get-mediastore-path-of-a-specific-folder\">Get MediaStore path of a Specific Folder</a> and <a href=\"https://stackoverflow.com/questions/5039779/displaying-images-from-a-specific-folder-on-the-sdcard-using-a-gridview\">Displaying images from a specific folder on the SDCard using a gridview</a>, they don't answer my question.</p>\n"},{"tags":["java","thread-dump","jstack"],"answers":[{"tags":[],"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658985023,"creation_date":1658985023,"answer_id":73147549,"question_id":73147548,"body_markdown":"We need to check that if Java socket file is present for the process id or not.\r\nIt creates a file with pid, eg. \r\n   \r\n    tmp/.java_pid1455\r\nIf that file is not present then the command to take thread dump fails. So we need to make sure we do not delete that file or we need to restart the java process in order for it to take back the thread dumps.\r\n\r\nReference:-\r\nhttps://confluence.atlassian.com/kb/jvm-is-not-reachable-with-jstat-and-jstack-1031281491.html","title":"Taking thread dump with jstack on java fails with socket file error","body":"<p>We need to check that if Java socket file is present for the process id or not.\nIt creates a file with pid, eg.</p>\n<pre><code>tmp/.java_pid1455\n</code></pre>\n<p>If that file is not present then the command to take thread dump fails. So we need to make sure we do not delete that file or we need to restart the java process in order for it to take back the thread dumps.</p>\n<p>Reference:-\n<a href=\"https://confluence.atlassian.com/kb/jvm-is-not-reachable-with-jstat-and-jstack-1031281491.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/kb/jvm-is-not-reachable-with-jstat-and-jstack-1031281491.html</a></p>\n"}],"owner":{"account_id":7129149,"reputation":978,"user_id":5451049,"accept_rate":62,"display_name":"sunder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658985023,"creation_date":1658985023,"question_id":73147548,"body_markdown":"Taking thread dump on Java in a linux machine is getting failed sometimes with following error with jstack:-\r\n\r\n     1455: Unable to open socket file /proc/1455/root/tmp/.java_pid1455: target process 1455 doesn&#39;t respond within 10500ms or HotSpot VM not loaded**strong text**\r\n\r\nwith jcmd:-\r\n   \r\n    com.sun.tools.attach.AttachNotSupportedException: Unable to open socket file: target process not responding or HotSpot VM not loaded\r\n\tat sun.tools.attach.LinuxVirtualMachine.&lt;init&gt;(LinuxVirtualMachine.java:106)","title":"Taking thread dump with jstack on java fails with socket file error","body":"<p>Taking thread dump on Java in a linux machine is getting failed sometimes with following error with jstack:-</p>\n<pre><code> 1455: Unable to open socket file /proc/1455/root/tmp/.java_pid1455: target process 1455 doesn't respond within 10500ms or HotSpot VM not loaded**strong text**\n</code></pre>\n<p>with jcmd:-</p>\n<pre><code>com.sun.tools.attach.AttachNotSupportedException: Unable to open socket file: target process not responding or HotSpot VM not loaded\nat sun.tools.attach.LinuxVirtualMachine.&lt;init&gt;(LinuxVirtualMachine.java:106)\n</code></pre>\n"},{"tags":["java","apache-nifi"],"answers":[{"tags":[],"owner":{"account_id":1263578,"reputation":2781,"user_id":1221355,"accept_rate":100,"display_name":"Vikramsinh Shinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1611668330,"creation_date":1611628317,"answer_id":65895143,"question_id":65889435,"body_markdown":"For creating attributes, try something like this, \r\n\r\n            final AtomicInteger line_count_from_file = new AtomicInteger(0);\r\n            final AtomicInteger field_count_in_header = new AtomicInteger(0);\r\n            final AtomicInteger valid_line_count = new AtomicInteger(0);\r\n            final AtomicInteger lineNo = new AtomicInteger(0);            \r\n            final AtomicReference&lt;String&gt; corrupt_line_nos = new AtomicReference&lt;String&gt;(initialReference);\r\n\r\n    final AtomicReference&lt;String&gt; flowfileContent= new AtomicReference&lt;&gt;();\r\n\r\n            corrupt_line_nos.set(&quot;Attribute Value&quot;);\r\n           String result = &quot;Sample flowfile content&quot;\r\n                    flowfileContent.set(result);\r\n    \r\n    \r\n           Map&lt;String, String&gt; metricAttributes = new HashMap&lt;&gt;();\r\n        \r\n                    metricAttributes.put(&quot;line.count.from.file&quot;, String.valueOf(line_count_from_file.get()));\r\n                    metricAttributes.put(&quot;field.count.in.header&quot;, String.valueOf(field_count_in_header.get()));\r\n                    metricAttributes.put(&quot;valid.line.count&quot;, String.valueOf(valid_line_count.get()));\r\n                    metricAttributes.put(&quot;corrupt.line.nos&quot;, String.valueOf(corrupt_line_nos.get()));\r\n        \r\n        flowfile= session.putAllAttributes(flowFile, metricAttributes);\r\n\r\n\r\n        flowfile= session.write(flowfile, new OutputStreamCallback() {\r\n\r\n            @Override\r\n            public void process(OutputStream out) throws IOException {\r\n                out.write(flowfileContent.get().getBytes());\r\n            }\r\n        });\r\n                    \r\n                    session.transfer(flowfile, REL_SUCCESS);","title":"Nifi Custom Processor how to write result in content or attribute","body":"<p>For creating attributes, try something like this,</p>\n<pre><code>        final AtomicInteger line_count_from_file = new AtomicInteger(0);\n        final AtomicInteger field_count_in_header = new AtomicInteger(0);\n        final AtomicInteger valid_line_count = new AtomicInteger(0);\n        final AtomicInteger lineNo = new AtomicInteger(0);            \n        final AtomicReference&lt;String&gt; corrupt_line_nos = new AtomicReference&lt;String&gt;(initialReference);\n\nfinal AtomicReference&lt;String&gt; flowfileContent= new AtomicReference&lt;&gt;();\n\n        corrupt_line_nos.set(&quot;Attribute Value&quot;);\n       String result = &quot;Sample flowfile content&quot;\n                flowfileContent.set(result);\n\n\n       Map&lt;String, String&gt; metricAttributes = new HashMap&lt;&gt;();\n    \n                metricAttributes.put(&quot;line.count.from.file&quot;, String.valueOf(line_count_from_file.get()));\n                metricAttributes.put(&quot;field.count.in.header&quot;, String.valueOf(field_count_in_header.get()));\n                metricAttributes.put(&quot;valid.line.count&quot;, String.valueOf(valid_line_count.get()));\n                metricAttributes.put(&quot;corrupt.line.nos&quot;, String.valueOf(corrupt_line_nos.get()));\n    \n    flowfile= session.putAllAttributes(flowFile, metricAttributes);\n\n\n    flowfile= session.write(flowfile, new OutputStreamCallback() {\n\n        @Override\n        public void process(OutputStream out) throws IOException {\n            out.write(flowfileContent.get().getBytes());\n        }\n    });\n                \n                session.transfer(flowfile, REL_SUCCESS);\n</code></pre>\n"}],"owner":{"account_id":16831636,"reputation":91,"user_id":12169451,"display_name":"ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65895143,"answer_count":1,"score":0,"last_activity_date":1658984723,"creation_date":1611595185,"question_id":65889435,"body_markdown":"I write a simple custom processor that adds two number then show the result.\r\nbut I don&#39;t know how to show the result in the Flowfile content or attribute.\r\nafter I add values in Input Value 1 &amp; Input Value 2 properties then I run the processor the Flowfile is empty. \r\n   \r\n    \r\n    \r\n    @Tags({&quot;example&quot;})\r\n    @CapabilityDescription(&quot;Provide a description&quot;)\r\n    @SeeAlso({})\r\n    @ReadsAttributes({@ReadsAttribute(attribute=&quot;&quot;, description=&quot;&quot;)})\r\n    @WritesAttributes({@WritesAttribute(attribute=&quot;&quot;, description=&quot;&quot;)})\r\n    public class MyProcessor extends AbstractProcessor {\r\n    \r\n        public static final PropertyDescriptor NUMBER_1 = new PropertyDescriptor\r\n                .Builder().name(&quot;Input Value 1&quot;)\r\n                .displayName(&quot;Input Value 1&quot;)\r\n                .description(&quot;Enter the input value 1 to perform addition operation&quot;)\r\n                .required(true)\r\n                .addValidator(StandardValidators.NON_EMPTY_VALIDATOR)\r\n                .build();\r\n        public static final PropertyDescriptor NUMBER_2 = new PropertyDescriptor\r\n                .Builder().name(&quot;Input Value 2&quot;)\r\n                .displayName(&quot;Input Value 2&quot;)\r\n                .description(&quot;Enter the input value 2 to perform addition operation&quot;)\r\n                .required(true)\r\n                .addValidator(StandardValidators.NON_EMPTY_VALIDATOR)\r\n                .build();\r\n    \r\n        public static final Relationship REL_SUCCESS = new Relationship.Builder()\r\n                .name(&quot;Success&quot;)\r\n                .description(&quot;All created FlowFiles are routed to this relationship&quot;)\r\n                .build();\r\n    \r\n    \r\n        private List&lt;PropertyDescriptor&gt; descriptors;\r\n    \r\n        private Set&lt;Relationship&gt; relationships;\r\n    \r\n        @Override\r\n        protected void init(final ProcessorInitializationContext context) {\r\n            final List&lt;PropertyDescriptor&gt; descriptors = new ArrayList&lt;PropertyDescriptor&gt;();\r\n            descriptors.add(NUMBER_1);\r\n            descriptors.add(NUMBER_2);\r\n            this.descriptors = Collections.unmodifiableList(descriptors);\r\n    \r\n            final Set&lt;Relationship&gt; relationships = new HashSet&lt;Relationship&gt;();\r\n            relationships.add(REL_SUCCESS);\r\n            this.relationships = Collections.unmodifiableSet(relationships);\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Relationship&gt; getRelationships() {\r\n            return this.relationships;\r\n        }\r\n    \r\n        @Override\r\n        public final List&lt;PropertyDescriptor&gt; getSupportedPropertyDescriptors() {\r\n            return descriptors;\r\n        }\r\n    \r\n        @OnScheduled\r\n        public void onScheduled(final ProcessContext context) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onTrigger(final ProcessContext context, final ProcessSession session) throws ProcessException {\r\n            FlowFile flowFile = session.get();\r\n            if ( flowFile == null ) {\r\n                return;\r\n            }\r\n            int num1 = Integer.parseInt(context.getProperty(NUMBER_1).getValue());\r\n            int num2 = Integer.parseInt(context.getProperty(NUMBER_2).getValue());\r\n    \r\n            final String output = String.valueOf(num1 + num2);\r\n    \r\n            flowFile =session.write(flowFile, new StreamCallback() {\r\n                @Override\r\n                public void process(InputStream in, OutputStream out) throws IOException {\r\n                    out.write(Integer.parseInt(output));\r\n    //                IOUtils.write(output, out); // writes the result to the flowfile.\r\n                }\r\n            });\r\n    \r\n            session.transfer(flowFile, REL_SUCCESS);\r\n            // Transfer the output flowfile to success relationship.\r\n        }\r\n    \r\n    }\r\n\r\n\r\nhow can i show the result in flowfile content or Flowfile Attribut?","title":"Nifi Custom Processor how to write result in content or attribute","body":"<p>I write a simple custom processor that adds two number then show the result.\nbut I don't know how to show the result in the Flowfile content or attribute.\nafter I add values in Input Value 1 &amp; Input Value 2 properties then I run the processor the Flowfile is empty.</p>\n<pre><code>@Tags({&quot;example&quot;})\n@CapabilityDescription(&quot;Provide a description&quot;)\n@SeeAlso({})\n@ReadsAttributes({@ReadsAttribute(attribute=&quot;&quot;, description=&quot;&quot;)})\n@WritesAttributes({@WritesAttribute(attribute=&quot;&quot;, description=&quot;&quot;)})\npublic class MyProcessor extends AbstractProcessor {\n\n    public static final PropertyDescriptor NUMBER_1 = new PropertyDescriptor\n            .Builder().name(&quot;Input Value 1&quot;)\n            .displayName(&quot;Input Value 1&quot;)\n            .description(&quot;Enter the input value 1 to perform addition operation&quot;)\n            .required(true)\n            .addValidator(StandardValidators.NON_EMPTY_VALIDATOR)\n            .build();\n    public static final PropertyDescriptor NUMBER_2 = new PropertyDescriptor\n            .Builder().name(&quot;Input Value 2&quot;)\n            .displayName(&quot;Input Value 2&quot;)\n            .description(&quot;Enter the input value 2 to perform addition operation&quot;)\n            .required(true)\n            .addValidator(StandardValidators.NON_EMPTY_VALIDATOR)\n            .build();\n\n    public static final Relationship REL_SUCCESS = new Relationship.Builder()\n            .name(&quot;Success&quot;)\n            .description(&quot;All created FlowFiles are routed to this relationship&quot;)\n            .build();\n\n\n    private List&lt;PropertyDescriptor&gt; descriptors;\n\n    private Set&lt;Relationship&gt; relationships;\n\n    @Override\n    protected void init(final ProcessorInitializationContext context) {\n        final List&lt;PropertyDescriptor&gt; descriptors = new ArrayList&lt;PropertyDescriptor&gt;();\n        descriptors.add(NUMBER_1);\n        descriptors.add(NUMBER_2);\n        this.descriptors = Collections.unmodifiableList(descriptors);\n\n        final Set&lt;Relationship&gt; relationships = new HashSet&lt;Relationship&gt;();\n        relationships.add(REL_SUCCESS);\n        this.relationships = Collections.unmodifiableSet(relationships);\n    }\n\n    @Override\n    public Set&lt;Relationship&gt; getRelationships() {\n        return this.relationships;\n    }\n\n    @Override\n    public final List&lt;PropertyDescriptor&gt; getSupportedPropertyDescriptors() {\n        return descriptors;\n    }\n\n    @OnScheduled\n    public void onScheduled(final ProcessContext context) {\n\n    }\n\n    @Override\n    public void onTrigger(final ProcessContext context, final ProcessSession session) throws ProcessException {\n        FlowFile flowFile = session.get();\n        if ( flowFile == null ) {\n            return;\n        }\n        int num1 = Integer.parseInt(context.getProperty(NUMBER_1).getValue());\n        int num2 = Integer.parseInt(context.getProperty(NUMBER_2).getValue());\n\n        final String output = String.valueOf(num1 + num2);\n\n        flowFile =session.write(flowFile, new StreamCallback() {\n            @Override\n            public void process(InputStream in, OutputStream out) throws IOException {\n                out.write(Integer.parseInt(output));\n//                IOUtils.write(output, out); // writes the result to the flowfile.\n            }\n        });\n\n        session.transfer(flowFile, REL_SUCCESS);\n        // Transfer the output flowfile to success relationship.\n    }\n\n}\n</code></pre>\n<p>how can i show the result in flowfile content or Flowfile Attribut?</p>\n"},{"tags":["java","jmx"],"comments":[{"owner":{"account_id":995363,"reputation":294,"user_id":1068029,"accept_rate":44,"display_name":"Dineshkumar"},"score":1,"creation_date":1656284597,"post_id":59696935,"comment_id":128527611,"body_markdown":"Refer : https://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html","body":"Refer : <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/management/&hellip;</a>"},{"owner":{"account_id":995363,"reputation":294,"user_id":1068029,"accept_rate":44,"display_name":"Dineshkumar"},"score":1,"creation_date":1656285339,"post_id":59696935,"comment_id":128527697,"body_markdown":"A sample is already provided Refer https://docs.oracle.com/javase/8/docs/jdk/api/attach/spec/com/sun/tools/attach/VirtualMachine.html.","body":"A sample is already provided Refer <a href=\"https://docs.oracle.com/javase/8/docs/jdk/api/attach/spec/com/sun/tools/attach/VirtualMachine.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/jdk/api/attach/spec/com/sun/to&zwnj;&#8203;ols/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":2303891,"reputation":1772,"user_id":2023577,"display_name":"user2023577"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578788828,"creation_date":1578788828,"answer_id":59699921,"question_id":59696935,"body_markdown":"(I presume you are not inquiring about the format of the string, just about how to find the port.)\r\n\r\nYou could agree on some contract for jmx port(s). If you were to have 2+ jvms on the localhost, they obviously would have distinct ports so the jmx client can&#39;t just guess nor port scan (bad etiquette). Maybe a port range to blindly try to connect to.\r\n\r\nYou could rely on something else, like a broadcast packet, or multicast channel convention to request your programs to reveal they exist on some jmx port, but that you would have to program yourself and expect the jvms to start such module.\r\n\r\nOtherwise, on linux by browsing /proc/... you might discover processes (filtering only java ones) and which port they have opened, or some runtime exec backflips with netstat (linux or windows) you might be able to list listening sockets. But again, that doesn&#39;t mean these sockets are JMX service - you still need a convention unless you want to probe and hassle the processes arbitrary ports.\r\n\r\nHowever, if you can list processes, you probably can obtain their command lines and find java ones, and their own jmx system properties revealing the port they use... \r\n\r\nFew things to try. Hope this helps.","title":"How to connect to JMX for JVM on local machine by pid (Java 9+)","body":"<p>(I presume you are not inquiring about the format of the string, just about how to find the port.)</p>\n\n<p>You could agree on some contract for jmx port(s). If you were to have 2+ jvms on the localhost, they obviously would have distinct ports so the jmx client can't just guess nor port scan (bad etiquette). Maybe a port range to blindly try to connect to.</p>\n\n<p>You could rely on something else, like a broadcast packet, or multicast channel convention to request your programs to reveal they exist on some jmx port, but that you would have to program yourself and expect the jvms to start such module.</p>\n\n<p>Otherwise, on linux by browsing /proc/... you might discover processes (filtering only java ones) and which port they have opened, or some runtime exec backflips with netstat (linux or windows) you might be able to list listening sockets. But again, that doesn't mean these sockets are JMX service - you still need a convention unless you want to probe and hassle the processes arbitrary ports.</p>\n\n<p>However, if you can list processes, you probably can obtain their command lines and find java ones, and their own jmx system properties revealing the port they use... </p>\n\n<p>Few things to try. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":25913588,"reputation":11,"user_id":19637306,"display_name":"Ba Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658984473,"creation_date":1658984473,"answer_id":73147491,"question_id":59696935,"body_markdown":"full sample source code: https://github.com/banv-dev/DemoDumpHeap/blob/master/src/main/java/org/example/Main.java\r\n    \r\n    //attach to VM with pid\r\n    VirtualMachine vm = VirtualMachine.attach(&quot;pid&quot;);\r\n    //Starts the local JMX management agent in the target virtual machine.\r\n    String jmxUrl = vm.startLocalManagementAgent()\r\n    \r\n    //connect via JMX\r\n    JMXServiceURL url = new JMXServiceURL(jmxUrl);\r\n    JMXConnector connector = JMXConnectorFactory.connect(url);\r\n    MBeanServerConnection beanServerConnection = connector.getMBeanServerConnection();\r\n\r\n\r\n\r\nreference: https://docs.oracle.com/en/java/javase/11/docs/api/jdk.attach/com/sun/tools/attach/VirtualMachine.html\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/management/monitoring-and-management-using-jmx-technology.html#GUID-805517EC-2D33-4D61-81D8-4D0FA770D1B8\r\n","title":"How to connect to JMX for JVM on local machine by pid (Java 9+)","body":"<p>full sample source code: <a href=\"https://github.com/banv-dev/DemoDumpHeap/blob/master/src/main/java/org/example/Main.java\" rel=\"nofollow noreferrer\">https://github.com/banv-dev/DemoDumpHeap/blob/master/src/main/java/org/example/Main.java</a></p>\n<pre><code>//attach to VM with pid\nVirtualMachine vm = VirtualMachine.attach(&quot;pid&quot;);\n//Starts the local JMX management agent in the target virtual machine.\nString jmxUrl = vm.startLocalManagementAgent()\n\n//connect via JMX\nJMXServiceURL url = new JMXServiceURL(jmxUrl);\nJMXConnector connector = JMXConnectorFactory.connect(url);\nMBeanServerConnection beanServerConnection = connector.getMBeanServerConnection();\n</code></pre>\n<p>reference: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/jdk.attach/com/sun/tools/attach/VirtualMachine.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/jdk.attach/com/sun/tools/attach/VirtualMachine.html</a></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/management/monitoring-and-management-using-jmx-technology.html#GUID-805517EC-2D33-4D61-81D8-4D0FA770D1B8\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/management/monitoring-and-management-using-jmx-technology.html#GUID-805517EC-2D33-4D61-81D8-4D0FA770D1B8</a></p>\n"}],"owner":{"account_id":7797973,"reputation":6780,"user_id":5898421,"display_name":"Andrew Parks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1666,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1658984473,"creation_date":1578764019,"question_id":59696935,"body_markdown":"I want to query an MBean on a JVM running on the local machine. \r\n\r\n    String address = &quot;???&quot;;\r\n    JMXConnectorFactory.connect(new JMXServiceURL(address))\r\n      .getMBeanServerConnection()\r\n      .getAttribute(new ObjectName(&quot;&lt;object name&gt;&quot;), &quot;&lt;attribute name&gt;&quot;);\r\n\r\nI have not set up com.sun.management.jmxremote.port=XXX, but since the jconsole GUI is still able to connect to a JVM and observe/interact with the MBeans there (I&#39;ve tested this), I assume it&#39;s possible to craft an address string that references a JVM process running on a particular pid (since no jmxremote.port=XXX will exist).\r\n\r\nHowever, I can find no documentation on how to construct an address for a local JVM process with a specified pid. \r\n\r\nThere are some answers from 5+ years ago that use the sun.management.ConnectorAddressLink class, but this class has been removed in Java 9+. I&#39;ve also tried looking through the source code of several projects such as [jmxlocal][1], but all of these projects are now out of date, and also use that same [ConnectorAddressLink class][2] which is now unavailable.\r\n\r\n\r\n  [1]: https://github.com/nickman/jmxlocal\r\n  [2]: https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/sun/management/ConnectorAddressLink.java#L112","title":"How to connect to JMX for JVM on local machine by pid (Java 9+)","body":"<p>I want to query an MBean on a JVM running on the local machine. </p>\n\n<pre><code>String address = \"???\";\nJMXConnectorFactory.connect(new JMXServiceURL(address))\n  .getMBeanServerConnection()\n  .getAttribute(new ObjectName(\"&lt;object name&gt;\"), \"&lt;attribute name&gt;\");\n</code></pre>\n\n<p>I have not set up com.sun.management.jmxremote.port=XXX, but since the jconsole GUI is still able to connect to a JVM and observe/interact with the MBeans there (I've tested this), I assume it's possible to craft an address string that references a JVM process running on a particular pid (since no jmxremote.port=XXX will exist).</p>\n\n<p>However, I can find no documentation on how to construct an address for a local JVM process with a specified pid. </p>\n\n<p>There are some answers from 5+ years ago that use the sun.management.ConnectorAddressLink class, but this class has been removed in Java 9+. I've also tried looking through the source code of several projects such as <a href=\"https://github.com/nickman/jmxlocal\" rel=\"nofollow noreferrer\">jmxlocal</a>, but all of these projects are now out of date, and also use that same <a href=\"https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/sun/management/ConnectorAddressLink.java#L112\" rel=\"nofollow noreferrer\">ConnectorAddressLink class</a> which is now unavailable.</p>\n"},{"tags":["java","maven","osgi","osgi-bundle"],"owner":{"account_id":6916965,"reputation":540,"user_id":5310827,"display_name":"Sean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1658984168,"creation_date":1658984168,"question_id":73147460,"body_markdown":"I am new to AEM/Maven, and was following [this simple tutorial][1] to add the `json-simple` dependency. \r\n\r\nHere is what I added to my pom.xml, and clicked on `sync` on top right to download that package. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nyou can see the full [pom.xml here][3].\r\n\r\nBut when I install with `mvn clean install -PautoInstallBundle`, the build is success, but in my logs I get the following error message:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n```\r\n27.07.2022 20:00:15.531 *ERROR* [Background Update rampup.core (619)] org.apache.felix.http.jetty Cannot install or update bundle from /var/folders/hh/yvvgql191_l3vb9km9bxgpm80000gp/T/install2076326317699076133.tmp (org.osgi.framework.BundleException: Unable to resolve rampup.core [619](R 619.34): missing requirement [rampup.core [619](R 619.34)] osgi.wiring.package; (&amp;(osgi.wiring.package=org.json.simple)(version&gt;=1.1.0)(!(version&gt;=2.0.0))) Unresolved requirements: [[rampup.core [619](R 619.34)] osgi.wiring.package; (&amp;(osgi.wiring.package=org.json.simple)(version&gt;=1.1.0)(!(version&gt;=2.0.0)))])\r\n\r\norg.osgi.framework.BundleException: Unable to resolve rampup.core [619](R 619.34): missing requirement [rampup.core [619](R 619.34)] osgi.wiring.package; (&amp;(osgi.wiring.package=org.json.simple)(version&gt;=1.1.0)(!(version&gt;=2.0.0))) Unresolved requirements: [[rampup.core [619](R 619.34)] osgi.wiring.package; (&amp;(osgi.wiring.package=org.json.simple)(version&gt;=1.1.0)(!(version&gt;=2.0.0)))]\r\n\tat org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4368)\r\n\tat org.apache.felix.framework.Felix.startBundle(Felix.java:2281)\r\n\tat org.apache.felix.framework.BundleImpl.start(BundleImpl.java:998)\r\n\tat org.apache.felix.webconsole.internal.core.BaseUpdateInstallHelper.run(BaseUpdateInstallHelper.java:198) [org.apache.felix.webconsole:4.6.2]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\nI have looked [here][4] and [here][5]. They talk about installing an export bundle, or to install the missing `org.json.simple`, but their solution are too high level for me.\r\n\r\nThanks for any clarification to fix this. \r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=lO_bJTjCdhM\r\n  [2]: https://i.stack.imgur.com/4lVjy.png\r\n  [3]: https://github.com/SeanLuo-FSWD/mavenrampup/blob/main/core/pom.xml\r\n  [4]: https://stackoverflow.com/questions/47508152/cannot-start-bundle-missing-requirementosgi-wiring-package\r\n  [5]: https://stackoverflow.com/questions/55862916/org-osgi-framework-bundleexception-unable-to-resolve-missing-requirement-osgi","title":"&quot;org.osgi.framework.BundleException: Unable to resolve&quot; with Maven&#39;s dependency","body":"<p>I am new to AEM/Maven, and was following <a href=\"https://www.youtube.com/watch?v=lO_bJTjCdhM\" rel=\"nofollow noreferrer\">this simple tutorial</a> to add the <code>json-simple</code> dependency.</p>\n<p>Here is what I added to my pom.xml, and clicked on <code>sync</code> on top right to download that package.</p>\n<p><a href=\"https://i.stack.imgur.com/4lVjy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4lVjy.png\" alt=\"enter image description here\" /></a></p>\n<p>you can see the full <a href=\"https://github.com/SeanLuo-FSWD/mavenrampup/blob/main/core/pom.xml\" rel=\"nofollow noreferrer\">pom.xml here</a>.</p>\n<p>But when I install with <code>mvn clean install -PautoInstallBundle</code>, the build is success, but in my logs I get the following error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>27.07.2022 20:00:15.531 *ERROR* [Background Update rampup.core (619)] org.apache.felix.http.jetty Cannot install or update bundle from /var/folders/hh/yvvgql191_l3vb9km9bxgpm80000gp/T/install2076326317699076133.tmp (org.osgi.framework.BundleException: Unable to resolve rampup.core [619](R 619.34): missing requirement [rampup.core [619](R 619.34)] osgi.wiring.package; (&amp;(osgi.wiring.package=org.json.simple)(version&gt;=1.1.0)(!(version&gt;=2.0.0))) Unresolved requirements: [[rampup.core [619](R 619.34)] osgi.wiring.package; (&amp;(osgi.wiring.package=org.json.simple)(version&gt;=1.1.0)(!(version&gt;=2.0.0)))])\n\norg.osgi.framework.BundleException: Unable to resolve rampup.core [619](R 619.34): missing requirement [rampup.core [619](R 619.34)] osgi.wiring.package; (&amp;(osgi.wiring.package=org.json.simple)(version&gt;=1.1.0)(!(version&gt;=2.0.0))) Unresolved requirements: [[rampup.core [619](R 619.34)] osgi.wiring.package; (&amp;(osgi.wiring.package=org.json.simple)(version&gt;=1.1.0)(!(version&gt;=2.0.0)))]\n    at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4368)\n    at org.apache.felix.framework.Felix.startBundle(Felix.java:2281)\n    at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:998)\n    at org.apache.felix.webconsole.internal.core.BaseUpdateInstallHelper.run(BaseUpdateInstallHelper.java:198) [org.apache.felix.webconsole:4.6.2]\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>I have looked <a href=\"https://stackoverflow.com/questions/47508152/cannot-start-bundle-missing-requirementosgi-wiring-package\">here</a> and <a href=\"https://stackoverflow.com/questions/55862916/org-osgi-framework-bundleexception-unable-to-resolve-missing-requirement-osgi\">here</a>. They talk about installing an export bundle, or to install the missing <code>org.json.simple</code>, but their solution are too high level for me.</p>\n<p>Thanks for any clarification to fix this.</p>\n"},{"tags":["java","multithreading","java-8"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1658984142,"post_id":73147401,"comment_id":129188669,"body_markdown":"`client.getOrders(orderId).handle((result,throwable) -&gt; {...}).join()`","body":"<code>client.getOrders(orderId).handle((result,throwable) -&gt; {...}).join()</code>"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658983585,"creation_date":1658983585,"question_id":73147401,"body_markdown":"\r\n\r\n   \r\nI am calling `getOrders` which returns a `CompletableFuture`. When order does not exist, getOrders method is returning `java.util.concurrent.CompletionException` exception with `detailedMessage` HTTP 404. How can I handle this exception returned after the `join` call? Is wrapping the error in a `try / catch` block the best way to handle it or are there any other options\r\n\r\n\r\n      client.getOrders(orderId).join()\r\n    \r\n    \r\n      public CompletableFuture&lt;Orders&gt; getOrders(String orderId) {\r\n        \r\n      }","title":"Handling CompletionException","body":"<p>I am calling <code>getOrders</code> which returns a <code>CompletableFuture</code>. When order does not exist, getOrders method is returning <code>java.util.concurrent.CompletionException</code> exception with <code>detailedMessage</code> HTTP 404. How can I handle this exception returned after the <code>join</code> call? Is wrapping the error in a <code>try / catch</code> block the best way to handle it or are there any other options</p>\n<pre><code>  client.getOrders(orderId).join()\n\n\n  public CompletableFuture&lt;Orders&gt; getOrders(String orderId) {\n    \n  }\n</code></pre>\n"},{"tags":["java","arrays","oop"],"comments":[{"owner":{"account_id":12799126,"reputation":73,"user_id":9260997,"display_name":"R.Nish"},"score":3,"creation_date":1658982423,"post_id":73147230,"comment_id":129188403,"body_markdown":"Can you share the error you are getting","body":"Can you share the error you are getting"},{"owner":{"account_id":25913481,"reputation":19,"user_id":19637221,"display_name":"Emanuel Leite"},"score":0,"creation_date":1659024802,"post_id":73147230,"comment_id":129202682,"body_markdown":"Thanks for the feedback Kleo. I&#39;m still learning the basics but I will addressed.","body":"Thanks for the feedback Kleo. I&#39;m still learning the basics but I will addressed."}],"answers":[{"tags":[],"owner":{"account_id":25293688,"reputation":86,"user_id":19119227,"display_name":"Saran Raj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658982854,"creation_date":1658982854,"answer_id":73147315,"question_id":73147230,"body_markdown":"Inside the registrar libros method.I think the for loop should be\r\n`for(int i=0;i&lt;cantidadLibros;i++)`.But you have put the condition as `i&gt;catidadLibros` with i++ increment.so if i is already greater than catidadLibros it will become a endless loop or if it is lesser than,the for loop will not be executed","title":"How can I get a String value for ArrayList library?","body":"<p>Inside the registrar libros method.I think the for loop should be\n<code>for(int i=0;i&lt;cantidadLibros;i++)</code>.But you have put the condition as <code>i&gt;catidadLibros</code> with i++ increment.so if i is already greater than catidadLibros it will become a endless loop or if it is lesser than,the for loop will not be executed</p>\n"}],"owner":{"account_id":25913481,"reputation":19,"user_id":19637221,"display_name":"Emanuel Leite"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73147315,"answer_count":1,"score":0,"last_activity_date":1658982854,"creation_date":1658981879,"question_id":73147230,"body_markdown":"I hope you are having an amazing day. \r\n\r\nI was practicing my POO on Java and I trying to make a program in which I register books info and them I calculated the book with the highest page number. \r\n\r\nSo, I sharing my algorithm with you. When I run this code, I get an error. I reviewed the [ArrayList Library][1] documentation and I was unable to find any solution. \r\n\r\nCan you help me out with this guys? I&#39;m a spanish speaker, so variables names are on my language. I sorry for that, but I pretty sure that you can understand it. \r\n\r\n\r\n    public static void registrarLibros() {\r\n        \r\n        int cantidadLibros, numPag;\r\n        String ISBN, Titulo, Autor;\r\n        \r\n        System.out.print(&quot;Ingrese la cantidad de libros a registrar: &quot;);\r\n        cantidadLibros = scan.nextInt();\r\n        \r\n        for (int i=0; i&gt;cantidadLibros; i++) {\r\n            System.out.print(&quot;ISBN del libro &quot; + i + &quot;: &quot;);\r\n            ISBN = scan.nextLine();\r\n            System.out.print(&quot;Titulo del libro &quot; + i + &quot;: &quot;);\r\n            Titulo = scan.nextLine();\r\n            System.out.print(&quot;Autor del libro &quot; + i + &quot;: &quot;);\r\n            Autor = scan.nextLine();\r\n            System.out.print(&quot;Cantidad de paginas del libro &quot; + i + &quot;: &quot;);\r\n            numPag = scan.nextInt();\r\n            \r\n            Libro libro = new Libro(ISBN, Titulo, Autor, numPag) {};\r\n            libros.add(libro);\r\n        }\r\n        \r\n    }\r\n    \r\n    public static void mostrarDatos() {\r\n        for (Libro l: libros) {\r\n            System.out.println(l.toString());\r\n        }\r\n    }\r\n    \r\n    public static void libroMayorPaginas() {\r\n        int maxPag = 0;\r\n        String maxTitulo;\r\n        for (Libro l: libros) \r\n        {\r\n            if (maxPag&lt;l.getNumeroPaginas()) \r\n                {\r\n                maxPag = l.getNumeroPaginas();\r\n                maxTitulo = l.getAutor();\r\n                }\r\n        }\r\n        System.out.print(&quot;El libro con mayor cantidad de paginas es &quot; + maxTitulo + &quot; con &quot; + maxPag + &quot; paginas.&quot;);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        //Registrar libros\r\n        registrarLibros();\r\n        \r\n        //Mostrar datos\r\n        mostrarDatos();\r\n        \r\n        //Calcular el libro con mayor cantidad de paginas\r\n        libroMayorPaginas();\r\n    }\r\n\r\n}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html","title":"How can I get a String value for ArrayList library?","body":"<p>I hope you are having an amazing day.</p>\n<p>I was practicing my POO on Java and I trying to make a program in which I register books info and them I calculated the book with the highest page number.</p>\n<p>So, I sharing my algorithm with you. When I run this code, I get an error. I reviewed the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList Library</a> documentation and I was unable to find any solution.</p>\n<p>Can you help me out with this guys? I'm a spanish speaker, so variables names are on my language. I sorry for that, but I pretty sure that you can understand it.</p>\n<pre><code>public static void registrarLibros() {\n    \n    int cantidadLibros, numPag;\n    String ISBN, Titulo, Autor;\n    \n    System.out.print(&quot;Ingrese la cantidad de libros a registrar: &quot;);\n    cantidadLibros = scan.nextInt();\n    \n    for (int i=0; i&gt;cantidadLibros; i++) {\n        System.out.print(&quot;ISBN del libro &quot; + i + &quot;: &quot;);\n        ISBN = scan.nextLine();\n        System.out.print(&quot;Titulo del libro &quot; + i + &quot;: &quot;);\n        Titulo = scan.nextLine();\n        System.out.print(&quot;Autor del libro &quot; + i + &quot;: &quot;);\n        Autor = scan.nextLine();\n        System.out.print(&quot;Cantidad de paginas del libro &quot; + i + &quot;: &quot;);\n        numPag = scan.nextInt();\n        \n        Libro libro = new Libro(ISBN, Titulo, Autor, numPag) {};\n        libros.add(libro);\n    }\n    \n}\n\npublic static void mostrarDatos() {\n    for (Libro l: libros) {\n        System.out.println(l.toString());\n    }\n}\n\npublic static void libroMayorPaginas() {\n    int maxPag = 0;\n    String maxTitulo;\n    for (Libro l: libros) \n    {\n        if (maxPag&lt;l.getNumeroPaginas()) \n            {\n            maxPag = l.getNumeroPaginas();\n            maxTitulo = l.getAutor();\n            }\n    }\n    System.out.print(&quot;El libro con mayor cantidad de paginas es &quot; + maxTitulo + &quot; con &quot; + maxPag + &quot; paginas.&quot;);\n}\n\npublic static void main(String[] args) {\n    //Registrar libros\n    registrarLibros();\n    \n    //Mostrar datos\n    mostrarDatos();\n    \n    //Calcular el libro con mayor cantidad de paginas\n    libroMayorPaginas();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":5881578,"reputation":884,"user_id":4630749,"accept_rate":45,"display_name":"Deepesh kumar Gupta"},"score":0,"creation_date":1658924317,"post_id":73137656,"comment_id":129171936,"body_markdown":"is offer_details got created?","body":"is offer_details got created?"},{"owner":{"account_id":961326,"reputation":99,"user_id":985628,"display_name":"CurssedHammer"},"score":0,"creation_date":1658924582,"post_id":73137656,"comment_id":129172032,"body_markdown":"Any errors in console when starting the application?","body":"Any errors in console when starting the application?"},{"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"score":0,"creation_date":1658924676,"post_id":73137656,"comment_id":129172066,"body_markdown":"@DeepeshkumarGupta No, offer_details is not created. Only order_details table is being created.","body":"@DeepeshkumarGupta No, offer_details is not created. Only order_details table is being created."},{"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"score":0,"creation_date":1658924699,"post_id":73137656,"comment_id":129172076,"body_markdown":"@CurssedHammer No errors in the console.","body":"@CurssedHammer No errors in the console."}],"answers":[{"tags":[],"owner":{"account_id":961326,"reputation":99,"user_id":985628,"display_name":"CurssedHammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658925078,"creation_date":1658925078,"answer_id":73137984,"question_id":73137656,"body_markdown":"Try adding this property:\r\n\r\n    spring.jpa.generate-ddl=true","title":"JPA Entity creating only one db table","body":"<p>Try adding this property:</p>\n<pre><code>spring.jpa.generate-ddl=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25833232,"reputation":1,"user_id":19570025,"display_name":"Rakesh kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658957449,"creation_date":1658957449,"answer_id":73144848,"question_id":73137656,"body_markdown":"spring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto = create\r\n\r\ntry adding the above two in properties file\r\nalso if that doesn&#39;t help \r\nadd as \r\nspring.datasource.driverClassName=org.postgresql.Driver\r\n","title":"JPA Entity creating only one db table","body":"<p>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto = create</p>\n<p>try adding the above two in properties file\nalso if that doesn't help\nadd as\nspring.datasource.driverClassName=org.postgresql.Driver</p>\n"}],"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1658982692,"creation_date":1658923706,"question_id":73137656,"body_markdown":"I am developing an application but my tables excpet one are not being created by JPA. I&#39;m not able to fix the issue. I already went over some solution on stacks but they did not work. For the cases I checked, the issue was that no tables are being created. But for me, one table is being created.\r\n\r\nHere is my packages in eclispe IDE:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAll Entity classes are stored in the com.datcarts.datcartservices.model package.\r\n\r\nMy POM file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    &lt;groupId&gt;com.datcarts&lt;/groupId&gt;\r\n    &lt;artifactId&gt;datcartservices&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;name&gt;datcartservices&lt;/name&gt;\r\n    &lt;description&gt;DatCarts&lt;/description&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-search-mapper-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-search-backend-lucene&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.googlecode.libphonenumber/libphonenumber --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.googlecode.libphonenumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;libphonenumber&lt;/artifactId&gt;\r\n        &lt;version&gt;8.12.46&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-types-55&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20211205&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.storilabs.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;stori-sec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0_Dev&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/lib/com/storilabs/security/stori-sec/1.0_Dev/stori-sec-1.0_Dev.jar\r\n        &lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;finalName&gt;datcartservices&lt;/finalName&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nAnd here is a sample Entity file:\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package com.datcarts.datcartservices.model;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.Collection;\r\n    import java.util.Date;\r\n    import javax.persistence.Basic;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.EnumType;\r\n    import javax.persistence.Enumerated;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.NamedQueries;\r\n    import javax.persistence.NamedQuery;\r\n    import javax.persistence.Table;\r\n    import javax.persistence.Temporal;\r\n    import javax.persistence.TemporalType;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    /**\r\n    *\r\n    * @author najeeba\r\n    */\r\n    @Entity\r\n    @Table(name=&quot;offer_details&quot;)\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class OfferDetails extends DateAudit  implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;offer_id&quot;)\r\n        private Long offerId;\r\n        \r\n        public enum Status {\r\n            ACTIVE,\r\n            DISABLED,\r\n        }\r\n        \r\n        private String page;\r\n        private String section;\r\n        private String imageUrl;\r\n        @NotNull\r\n        @Enumerated(EnumType.STRING)\r\n        private Status status;\r\n        @JoinColumn(name = &quot;erp_id&quot;, referencedColumnName = &quot;erp_id&quot;, nullable = false)\r\n        @ManyToOne(optional = false)\r\n        private ErpDetails erpDetails;\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 0;\r\n            hash += (offerId != null ? offerId.hashCode() : 0);\r\n            return hash;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object object) {\r\n            // TODO: Warning - this method won&#39;t work in the case the id fields are not set\r\n            if (!(object instanceof OfferDetails)) {\r\n                return false;\r\n            }\r\n            OfferDetails other = (OfferDetails) object;\r\n            if ((this.offerId == null &amp;&amp; other.offerId != null) || (this.offerId != null &amp;&amp; !this.offerId.equals(other.offerId))) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThe code deploys fine without errors (on Wildfly) but when I check postgres db, I see that only one table has been created:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd this is my application.properties file:\r\n\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n    spring.datasource.driverClassName=org.postgresql.Driver\r\n    spring.jpa.hibernate.ddl-auto = create\r\n    logging.level.org.hibernate.SQL= DEBUG\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.sql.init.mode=always\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS= false\r\n    spring.jackson.time-zone= UTC\r\n    spring.application.name=DatCart Services\r\n    spring.jpa.generate-ddl=true\r\n    \r\n    # Database config\r\n    app.database.url= jdbc:postgresql://localhost:5432/newdats\r\n    app.database.username.key=\r\n    app.database.username.encrypted=datsuser\r\n    app.database.password.key=\r\n    app.database.password.encrypted=datspassword\r\n\r\nAm I doing somethng wrong here?  \r\n\r\nThank you for the responses!\r\n\r\n  [1]: https://i.stack.imgur.com/9Qp2g.png\r\n  [2]: https://i.stack.imgur.com/s0AVn.png","title":"JPA Entity creating only one db table","body":"<p>I am developing an application but my tables excpet one are not being created by JPA. I'm not able to fix the issue. I already went over some solution on stacks but they did not work. For the cases I checked, the issue was that no tables are being created. But for me, one table is being created.</p>\n<p>Here is my packages in eclispe IDE:</p>\n<p><a href=\"https://i.stack.imgur.com/9Qp2g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Qp2g.png\" alt=\"enter image description here\" /></a></p>\n<p>All Entity classes are stored in the com.datcarts.datcartservices.model package.</p>\n<p>My POM file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n&lt;groupId&gt;com.datcarts&lt;/groupId&gt;\n&lt;artifactId&gt;datcartservices&lt;/artifactId&gt;\n&lt;version&gt;0.0.1&lt;/version&gt;\n&lt;name&gt;datcartservices&lt;/name&gt;\n&lt;description&gt;DatCarts&lt;/description&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-search-mapper-orm&lt;/artifactId&gt;\n        &lt;version&gt;6.1.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-search-backend-lucene&lt;/artifactId&gt;\n        &lt;version&gt;6.1.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.googlecode.libphonenumber/libphonenumber --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.libphonenumber&lt;/groupId&gt;\n    &lt;artifactId&gt;libphonenumber&lt;/artifactId&gt;\n    &lt;version&gt;8.12.46&lt;/version&gt;\n&lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-types-55&lt;/artifactId&gt;\n        &lt;version&gt;2.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20211205&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.storilabs.security&lt;/groupId&gt;\n        &lt;artifactId&gt;stori-sec&lt;/artifactId&gt;\n        &lt;version&gt;1.0_Dev&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/lib/com/storilabs/security/stori-sec/1.0_Dev/stori-sec-1.0_Dev.jar\n    &lt;/systemPath&gt;\n&lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;datcartservices&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And here is a sample Entity file:</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage com.datcarts.datcartservices.model;\n\nimport java.io.Serializable;\nimport java.util.Collection;\nimport java.util.Date;\nimport javax.persistence.Basic;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.EnumType;\nimport javax.persistence.Enumerated;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.NamedQueries;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.Table;\nimport javax.persistence.Temporal;\nimport javax.persistence.TemporalType;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\nimport javax.xml.bind.annotation.XmlRootElement;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n/**\n*\n* @author najeeba\n*/\n@Entity\n@Table(name=&quot;offer_details&quot;)\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class OfferDetails extends DateAudit  implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;offer_id&quot;)\n    private Long offerId;\n    \n    public enum Status {\n        ACTIVE,\n        DISABLED,\n    }\n    \n    private String page;\n    private String section;\n    private String imageUrl;\n    @NotNull\n    @Enumerated(EnumType.STRING)\n    private Status status;\n    @JoinColumn(name = &quot;erp_id&quot;, referencedColumnName = &quot;erp_id&quot;, nullable = false)\n    @ManyToOne(optional = false)\n    private ErpDetails erpDetails;\n    \n    @Override\n    public int hashCode() {\n        int hash = 0;\n        hash += (offerId != null ? offerId.hashCode() : 0);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        // TODO: Warning - this method won't work in the case the id fields are not set\n        if (!(object instanceof OfferDetails)) {\n            return false;\n        }\n        OfferDetails other = (OfferDetails) object;\n        if ((this.offerId == null &amp;&amp; other.offerId != null) || (this.offerId != null &amp;&amp; !this.offerId.equals(other.offerId))) {\n            return false;\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>The code deploys fine without errors (on Wildfly) but when I check postgres db, I see that only one table has been created:</p>\n<p><a href=\"https://i.stack.imgur.com/s0AVn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s0AVn.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is my application.properties file:</p>\n<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.datasource.driverClassName=org.postgresql.Driver\nspring.jpa.hibernate.ddl-auto = create\nlogging.level.org.hibernate.SQL= DEBUG\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.sql.init.mode=always\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS= false\nspring.jackson.time-zone= UTC\nspring.application.name=DatCart Services\nspring.jpa.generate-ddl=true\n\n# Database config\napp.database.url= jdbc:postgresql://localhost:5432/newdats\napp.database.username.key=\napp.database.username.encrypted=datsuser\napp.database.password.key=\napp.database.password.encrypted=datspassword\n</code></pre>\n<p>Am I doing somethng wrong here?</p>\n<p>Thank you for the responses!</p>\n"},{"tags":["java","spring","spring-boot","spring-data-redis","spring-cache"],"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1633462907,"post_id":69456217,"comment_id":122765333,"body_markdown":"Native cache returns the underlying implementation of the cache. You could just inject the RedisTemplate and use it query the spring cache key to check its empty","body":"Native cache returns the underlying implementation of the cache. You could just inject the RedisTemplate and use it query the spring cache key to check its empty"},{"owner":{"account_id":2274545,"reputation":135,"user_id":2001165,"accept_rate":0,"display_name":"user2001165"},"score":0,"creation_date":1633463297,"post_id":69456217,"comment_id":122765468,"body_markdown":"I don&#39;t have cacheKey. I clear whole cacheName. I tried redisTemplate but it&#39;s not giving me anything. If possible, kindly share a code sample to pull/check data out of CacheName.","body":"I don&#39;t have cacheKey. I clear whole cacheName. I tried redisTemplate but it&#39;s not giving me anything. If possible, kindly share a code sample to pull/check data out of CacheName."}],"answers":[{"tags":[],"owner":{"account_id":20867237,"reputation":3,"user_id":15327991,"display_name":"Jinks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658981504,"creation_date":1658981504,"answer_id":73147191,"question_id":69456217,"body_markdown":"    cacheManager.getCacheNames()\r\n\r\nThis returns all the caches present at the moment.\r\nYou can check if your evicted cache is present anymore or not and then perform alert operation.","title":"Cache Evict Verification","body":"<pre><code>cacheManager.getCacheNames()\n</code></pre>\n<p>This returns all the caches present at the moment.\nYou can check if your evicted cache is present anymore or not and then perform alert operation.</p>\n"}],"owner":{"account_id":2274545,"reputation":135,"user_id":2001165,"accept_rate":0,"display_name":"user2001165"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658981504,"creation_date":1633462019,"question_id":69456217,"body_markdown":"I use Redis as a cache store in spring boot using @Cachable annotation and evict it programitically using:\r\n\r\n    cacheManager.getCache(cacheName).clear()\r\n\r\nThe eviction process works fine. I need to add additional check after eviction that if cache entries still exist, and then perform some alert operation. For that, I need to get the Cache, check # of entries etc. I am trying the following way, but unable to retrieve anything:\r\n\r\n    cacheManager.getCache(cacheName).getNativeCache()\r\n\r\nIs there any way to check if that Cache (Redis Cache) is a valid Cache and can contain keys/values.\r\n\r\n","title":"Cache Evict Verification","body":"<p>I use Redis as a cache store in spring boot using @Cachable annotation and evict it programitically using:</p>\n<pre><code>cacheManager.getCache(cacheName).clear()\n</code></pre>\n<p>The eviction process works fine. I need to add additional check after eviction that if cache entries still exist, and then perform some alert operation. For that, I need to get the Cache, check # of entries etc. I am trying the following way, but unable to retrieve anything:</p>\n<pre><code>cacheManager.getCache(cacheName).getNativeCache()\n</code></pre>\n<p>Is there any way to check if that Cache (Redis Cache) is a valid Cache and can contain keys/values.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1658981018,"post_id":73147123,"comment_id":129188205,"body_markdown":"please paste the error text, do not paste the picture. @Redwood Thomas","body":"please paste the error text, do not paste the picture. @Redwood Thomas"},{"owner":{"account_id":19345682,"reputation":71,"user_id":14144308,"display_name":"Redwood Thomas"},"score":0,"creation_date":1658981619,"post_id":73147123,"comment_id":129188279,"body_markdown":"The declared package &quot;com.sun.tools.xjc.runtime&quot; does not match the expected package &quot;1.0.com.sun.tools.xjc.runtime&quot;\tAbstractUnmarshallingEventHandlerImpl.java\t/jaxb-xjc/src/1.0/com/sun/tools/xjc/runtime\tline 9\tJava Problem","body":"The declared package &quot;com.sun.tools.xjc.runtime&quot; does not match the expected package &quot;1.0.com.sun.tools.xjc.runtime&quot;\tAbstractUnmarshallingEventHa&zwnj;&#8203;ndlerImpl.java\t/jaxb&zwnj;&#8203;-xjc/src/1.0/com/sun&zwnj;&#8203;/tools/xjc/runtime\tl&zwnj;&#8203;ine 9\tJava Problem"},{"owner":{"account_id":19345682,"reputation":71,"user_id":14144308,"display_name":"Redwood Thomas"},"score":0,"creation_date":1658981655,"post_id":73147123,"comment_id":129188284,"body_markdown":"Getting this error for multiple java classes","body":"Getting this error for multiple java classes"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1658981712,"post_id":73147123,"comment_id":129188293,"body_markdown":"`1.0.com.sun.tools.xjc.runtime` why the package named like this? @Redwood Thomas","body":"<code>1.0.com.sun.tools.xjc.runtime</code> why the package named like this? @Redwood Thomas"},{"owner":{"account_id":19345682,"reputation":71,"user_id":14144308,"display_name":"Redwood Thomas"},"score":0,"creation_date":1658983308,"post_id":73147123,"comment_id":129188514,"body_markdown":"Sorry have no idea. I just imported an existing WAR file and trying to build it.","body":"Sorry have no idea. I just imported an existing WAR file and trying to build it."}],"owner":{"account_id":19345682,"reputation":71,"user_id":14144308,"display_name":"Redwood Thomas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658980773,"creation_date":1658980773,"question_id":73147123,"body_markdown":"I have imported a WAR file in Eclipse and trying to perform a clean build. I got the below error and couldn&#39;t find much information on how to fix it. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uR8nz.png\r\n\r\ncan anyone point me on how this error can be fixed please?.\r\n\r\nregards,\r\nR","title":"The declared package &quot;com.sun.tools.xjc.runtime&quot; does not match the expected package &quot;1.0.com.sun.tools.xjc.runtime&quot;","body":"<p>I have imported a WAR file in Eclipse and trying to perform a clean build. I got the below error and couldn't find much information on how to fix it.</p>\n<p><a href=\"https://i.stack.imgur.com/uR8nz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uR8nz.png\" alt=\"enter image description here\" /></a></p>\n<p>can anyone point me on how this error can be fixed please?.</p>\n<p>regards,\nR</p>\n"},{"tags":["java","maven","integration-testing","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1658839403,"post_id":73123551,"comment_id":129147190,"body_markdown":"Which unit testing framework do you use? JUnit 4 or JUnit Jupiter (aka. JUnit 5?) Also a log output of your run would be helpful.. ?","body":"Which unit testing framework do you use? JUnit 4 or JUnit Jupiter (aka. JUnit 5?) Also a log output of your run would be helpful.. ?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":2,"creation_date":1658841495,"post_id":73123551,"comment_id":129148042,"body_markdown":"Also, it would help if you posted the relevant tests, as well as the output of `mvn test`. If you mean you can&#39;t see the results in your IDE then that&#39;s likely because some precondition for the third test fails","body":"Also, it would help if you posted the relevant tests, as well as the output of <code>mvn test</code>. If you mean you can&#39;t see the results in your IDE then that&#39;s likely because some precondition for the third test fails"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1658841865,"post_id":73123551,"comment_id":129148264,"body_markdown":"What I see in your setup is also you are defining versions of hibernate-core, spring-data-rest-webmvc which is a bad idea.. Keep there versions defined by the parent... I doubt that is a good idea..Why do you define a dependency to org.jetbrains:annotations with a version `RELEASE` which is simply wrong... and should already produce a WARNING during your build...","body":"What I see in your setup is also you are defining versions of hibernate-core, spring-data-rest-webmvc which is a bad idea.. Keep there versions defined by the parent... I doubt that is a good idea..Why do you define a dependency to org.jetbrains:annotations with a version <code>RELEASE</code> which is simply wrong... and should already produce a WARNING during your build..."},{"owner":{"account_id":7786524,"reputation":51,"user_id":5891135,"display_name":"StruckCroissant"},"score":0,"creation_date":1658886485,"post_id":73123551,"comment_id":129161361,"body_markdown":"I fixed the dependency issues you mentioned and edited my question to have some more details. I am currently using JUnit 4 to run the tests &amp; specifying `@RunWith(SpringJUnit4ClassRunner.class)` in each test class.","body":"I fixed the dependency issues you mentioned and edited my question to have some more details. I am currently using JUnit 4 to run the tests &amp; specifying <code>@RunWith(SpringJUnit4ClassRunner.class)</code> in each test class."}],"answers":[{"tags":[],"owner":{"account_id":7786524,"reputation":51,"user_id":5891135,"display_name":"StruckCroissant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658980687,"creation_date":1658980687,"answer_id":73147112,"question_id":73123551,"body_markdown":"I was able to resolve the issue by myself. The problem was due to inadvertent usage of both JUnit4 and Junit5. \r\n\r\nI was using the `@AfterEach` annotation in my test classes, which is defined by Junit5 and therefore imported into the test classes. I was also adding JUnit5 via the `spring-boot-starter-test` dependency. After removing all refrences to JUnit5 the issue is resolved.","title":"Surefire not running all tests","body":"<p>I was able to resolve the issue by myself. The problem was due to inadvertent usage of both JUnit4 and Junit5.</p>\n<p>I was using the <code>@AfterEach</code> annotation in my test classes, which is defined by Junit5 and therefore imported into the test classes. I was also adding JUnit5 via the <code>spring-boot-starter-test</code> dependency. After removing all refrences to JUnit5 the issue is resolved.</p>\n"}],"owner":{"account_id":7786524,"reputation":51,"user_id":5891135,"display_name":"StruckCroissant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73147112,"answer_count":1,"score":0,"last_activity_date":1658980687,"creation_date":1658839233,"question_id":73123551,"body_markdown":"I am trying to use a combination of Surefire (or even Failsafe if I can configure it to work properly), to run my integration tests for a personal project. At present it will run 2/3 of my integration tests. The 3 classes are `GameDbApplicationTests`, `UserDAOImplTest`, &amp; `GameDAOImplTest`. The first two will run, while the last one will not.\r\n\r\nLogically it *should* be running all of the classes titled `*Test`, so I&#39;m not sure what is going on here. I am capable of running each test class *manually* using IntelliJ, but the Maven test goal will not execute all of the test classes.\r\n\r\n### `.\\mvnw test` output is included [here](https://logpaste.com/WaxrC4qM)\r\nNote that the test lists `GameDbApplicationTests` &amp; `UserDAOImplTest`, but not `GameDAOImplTest` for whatever reason.\r\n\r\n## Pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.StruckCroissant&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Game-DB&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Game-DB&lt;/name&gt;\r\n\t&lt;description&gt;Game Database Search Engine&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.vorburger.mariaDB4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mariaDB4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;23.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-rest-webmvc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;8.0.5&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n## GameDAOImplTest\r\n```\r\npackage com.StruckCroissant.GameDB.core.game;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n\r\nimport com.StruckCroissant.GameDB.TestDbConfig;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport org.junit.Test;\r\nimport org.junit.internal.runners.JUnit4ClassRunner;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.TestPropertySource;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n\r\n@SpringBootTest\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@TestPropertySource(locations = &quot;classpath:test.properties&quot;)\r\n@ContextConfiguration(classes = {TestDbConfig.class, GameDAOImpl.class})\r\nclass GameDAOImplTest {\r\n\r\n  @Qualifier(&quot;db-game&quot;)\r\n  @Autowired\r\n  private GameDAOImpl underTest;\r\n\r\n  @Qualifier(&quot;testTemplate&quot;)\r\n  @Autowired\r\n  private JdbcTemplate jdbcTemplate;\r\n\r\n  @Test\r\n  public void shouldGetAllGames() {\r\n    // given\r\n    // nothing\r\n    // when\r\n    List&lt;Game&gt; allGames = underTest.selectAllGames();\r\n\r\n    // then\r\n    allGames.forEach((game) -&gt; assertThat(game).isInstanceOf(Game.class));\r\n    assertThat(allGames.size()).isGreaterThanOrEqualTo(30250);\r\n  }\r\n\r\n  @Test\r\n  public void shouldGetGameById() {\r\n    // given\r\n    int[] validGames = {1, 2, 3, 4, 5};\r\n    int[] invalidGames = {-4, -56, -3, 879627};\r\n    List&lt;Optional&lt;Game&gt;&gt; validResult = new ArrayList&lt;&gt;();\r\n    List&lt;Optional&lt;Game&gt;&gt; invalidResult = new ArrayList&lt;&gt;();\r\n\r\n    // when\r\n    for (int gameInt : validGames) {\r\n      Optional&lt;Game&gt; currentGameOpt = underTest.selectGameById(gameInt);\r\n      validResult.add(currentGameOpt);\r\n    }\r\n    for (int gameInt : invalidGames) {\r\n      Optional&lt;Game&gt; currentGameOpt = underTest.selectGameById(gameInt);\r\n      invalidResult.add(currentGameOpt);\r\n    }\r\n\r\n    // then\r\n    validResult.forEach((gameOpt) -&gt; assertThat(gameOpt).get().isInstanceOf(Game.class));\r\n    invalidResult.forEach((gameOpt) -&gt; assertThat(gameOpt).isEmpty());\r\n  }\r\n}\r\n```\r\n\r\n## UserDAOImplTest\r\n```\r\npackage com.StruckCroissant.GameDB.core.user;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\nimport static org.assertj.core.api.AssertionsForClassTypes.catchThrowable;\r\n\r\nimport com.StruckCroissant.GameDB.TestDbConfig;\r\nimport com.StruckCroissant.GameDB.core.game.Game;\r\nimport java.util.List;\r\nimport org.jetbrains.annotations.NotNull;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.Order;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.TestPropertySource;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\nimport org.springframework.test.jdbc.JdbcTestUtils;\r\n\r\n@SpringBootTest\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@TestPropertySource(locations = &quot;classpath:test.properties&quot;)\r\n@ContextConfiguration(classes = {TestDbConfig.class, UserDAOImpl.class})\r\nclass UserDAOImplTest {\r\n\r\n  @Qualifier(&quot;db-user&quot;)\r\n  @Autowired\r\n  private UserDAOImpl underTest;\r\n\r\n  @Qualifier(&quot;testTemplate&quot;)\r\n  @Autowired\r\n  private JdbcTemplate jdbcTemplate;\r\n\r\n  @AfterEach\r\n  void tearDown() {\r\n    JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;user&quot;);\r\n  }\r\n\r\n  @NotNull\r\n  private String insertDefaultUserDb() {\r\n    User user = new User(&quot;test_username&quot;, &quot;test_password&quot;, UserRoleEnum.USER, false, true);\r\n    underTest.insertUser(user);\r\n    return &quot;test_username&quot;;\r\n  }\r\n\r\n  @NotNull\r\n  private String insertUserDb(String username) {\r\n    User user = new User(username, &quot;test_password&quot;, UserRoleEnum.USER, false, true);\r\n    underTest.insertUser(user);\r\n    return username;\r\n  }\r\n\r\n  @NotNull\r\n  private Integer getUidFromUserObj(User userFromDb) {\r\n    return userFromDb.getId().orElseThrow();\r\n  }\r\n\r\n  @NotNull\r\n  private Integer getTestUidFromUsernameDb(String test_username) {\r\n    return underTest\r\n        .selectUserByUsername(test_username)\r\n        .flatMap(User::getId)\r\n        .orElseThrow(() -&gt; new IllegalStateException(&quot;User not found in DB&quot;));\r\n  }\r\n\r\n  @Test\r\n  @Order(1)\r\n  void shouldInsertAndSelectNewUser() {\r\n    // given\r\n    String test_username = insertDefaultUserDb();\r\n\r\n    // when\r\n    boolean userExists = underTest.selectUserByUsername(test_username).isPresent();\r\n\r\n    // then\r\n    assertThat(userExists).isTrue();\r\n  }\r\n\r\n  @Test\r\n  void shouldGetUidFromuser() {\r\n    // given\r\n    String test_username = insertDefaultUserDb();\r\n\r\n    // when\r\n    int uid = underTest.selectUserByUsername(test_username).flatMap(User::getId).orElse(0);\r\n\r\n    // then\r\n    assertThat(uid).isNotEqualTo(0);\r\n  }\r\n\r\n  @Test\r\n  void shouldUpdateUser() {\r\n    // given\r\n    // Init user\r\n    String test_username = insertDefaultUserDb();\r\n    int initUidDb = getTestUidFromUsernameDb(test_username);\r\n\r\n    // Updated user\r\n    String new_username = &quot;new_account_420_updated&quot;;\r\n    String new_password = &quot;password_updated&quot;;\r\n    User updatedUser = new User(new_username, new_password, UserRoleEnum.USER, false, true);\r\n\r\n    // Updated user\r\n    underTest.updateUserById(initUidDb, updatedUser);\r\n    User updatedUserDb = getTestUserFromUidDb(initUidDb);\r\n    int updatedUidDb = getUidFromUserObj(updatedUserDb);\r\n\r\n    // then\r\n    assertThat(updatedUidDb).isEqualTo(initUidDb);\r\n    assertThat(updatedUserDb.getUsername()).isEqualTo(new_username);\r\n    assertThat(updatedUserDb.getPassword()).isEqualTo(new_password);\r\n  }\r\n\r\n  private User getTestUserFromUidDb(int initUidDb) {\r\n    return underTest\r\n        .selectUserById(initUidDb)\r\n        .orElseThrow(() -&gt; new RuntimeException(&quot;User not found in database&quot;));\r\n  }\r\n\r\n  @Test\r\n  void shouldDeleteUser() {\r\n    // given\r\n    String test_username = insertDefaultUserDb();\r\n    User userFromDb = underTest.selectUserByUsername(test_username).get();\r\n    int uidFromDb = getUidFromUserObj(userFromDb);\r\n\r\n    // when\r\n    underTest.deleteUserById(uidFromDb);\r\n    boolean userExists = underTest.selectUserByUsername(test_username).isPresent();\r\n\r\n    // then\r\n    assertThat(userExists).isFalse();\r\n  }\r\n\r\n  @Test\r\n  void shouldGetSavedGames() {\r\n    // given\r\n    int[] games = {1, 2, 3}; // Test games\r\n\r\n    String test_username = insertDefaultUserDb();\r\n    User userFromDb = underTest.selectUserByUsername(test_username).orElseThrow();\r\n    int uid = getUidFromUserObj(userFromDb);\r\n\r\n    // when\r\n    for (int gid : games) {\r\n      underTest.insertSavedGame(uid, gid);\r\n    }\r\n\r\n    // then\r\n    assertThat(underTest.selectSavedGames(uid).size()).isNotEqualTo(0);\r\n    underTest.selectSavedGames(uid).forEach(g -&gt; assertThat(g).isExactlyInstanceOf(Game.class));\r\n  }\r\n\r\n  @Test\r\n  void shouldDeleteSavedGame() {\r\n    // given\r\n    int[] games = {1, 2, 3}; // Test games\r\n\r\n    String test_username = insertDefaultUserDb();\r\n    User userFromDb = underTest.selectUserByUsername(test_username).orElseThrow();\r\n    int uid = getUidFromUserObj(userFromDb);\r\n\r\n    // when\r\n    for (int gid : games) {\r\n      underTest.insertSavedGame(uid, gid);\r\n    }\r\n    underTest.deleteSavedGame(uid, games[0]);\r\n    underTest.deleteSavedGame(uid, games[1]);\r\n    underTest.deleteSavedGame(uid, games[2]);\r\n\r\n    // then\r\n    assertThat(underTest.selectSavedGames(uid).size()).isEqualTo(0);\r\n  }\r\n\r\n  @Test\r\n  void shouldDetectNonUniqueUser() {\r\n    // given\r\n    String test_username = insertDefaultUserDb();\r\n    User userFromDb = underTest.selectUserByUsername(test_username).orElseThrow();\r\n\r\n    // when\r\n    boolean userIsUnique = underTest.userIsUnique(userFromDb);\r\n\r\n    // then\r\n    assertThat(userIsUnique).isFalse();\r\n  }\r\n\r\n  @Test\r\n  void shouldSelectAllUsers() {\r\n    // given\r\n    String test_username = insertUserDb(&quot;test_username1&quot;);\r\n    String test_username2 = insertUserDb(&quot;test_username2&quot;);\r\n    String test_username3 = insertUserDb(&quot;test_username3&quot;);\r\n\r\n    // when\r\n    List&lt;User&gt; users = underTest.selectAllUsers();\r\n\r\n    // then\r\n    assertThat(users.size()).isEqualTo(3);\r\n    users.forEach(\r\n        (User u) -&gt; {\r\n          assertThat(u).isExactlyInstanceOf(User.class);\r\n          assertThat(u.getUsername()).isIn(test_username, test_username2, test_username3);\r\n        });\r\n  }\r\n\r\n  @Test\r\n  void shouldThrowOnNullId() {\r\n    // given\r\n    User user = new User(&quot;test_username&quot;, &quot;test_password&quot;, UserRoleEnum.USER, false, true);\r\n\r\n    // when\r\n    Throwable thrown = catchThrowable(() -&gt; underTest.userIsUnique(user));\r\n\r\n    // then\r\n    assertThat(thrown).isExactlyInstanceOf(IllegalArgumentException.class);\r\n  }\r\n}\r\n```\r\n\r\n## GameDbApplicationTests\r\n```\r\npackage com.StruckCroissant.GameDB;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass GameDbApplicationTests {\r\n\r\n  @Test\r\n  void contextLoads() {}\r\n}\r\n```\r\n\r\n## TestDbConfig\r\n```\r\npackage com.StruckCroissant.GameDB;\r\n\r\nimport ch.vorburger.exec.ManagedProcessException;\r\nimport ch.vorburger.mariadb4j.DB;\r\nimport ch.vorburger.mariadb4j.DBConfiguration;\r\nimport ch.vorburger.mariadb4j.DBConfigurationBuilder;\r\nimport javax.sql.DataSource;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.jdbc.DataSourceBuilder;\r\nimport org.springframework.context.annotation.*;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\n\r\n@Configuration\r\n@PropertySource(&quot;classpath:test.properties&quot;)\r\npublic class TestDbConfig {\r\n\r\n  @Bean\r\n  public DBConfiguration dbConfig() {\r\n    DBConfigurationBuilder config = DBConfigurationBuilder.newBuilder();\r\n    //Port not set to allow new instances to be generated for batch of tests\r\n    config.setSecurityDisabled(true);\r\n    return config.build();\r\n  }\r\n\r\n  @Bean\r\n  public DataSource dataSource(\r\n      @Autowired DBConfiguration dbConfig,\r\n      @Value(&quot;${test.datasource.name}&quot;) String databaseName,\r\n      @Value(&quot;${test.datasource.username}&quot;) String datasourceUsername,\r\n      @Value(&quot;${test.datasource.username}&quot;) String datasourcePassword,\r\n      @Value(&quot;${test.datasource.driver-class-name}&quot;) String datasourceDriver)\r\n      throws ManagedProcessException {\r\n    DB db = DB.newEmbeddedDB(dbConfig);\r\n    db.start();\r\n    db.createDB(databaseName, &quot;root&quot;, &quot;&quot;);\r\n    db.source(&quot;db/init/schema.sql&quot;, databaseName);\r\n\r\n    DBConfiguration dbConfiguration = db.getConfiguration();\r\n\r\n    return DataSourceBuilder.create()\r\n        .driverClassName(datasourceDriver)\r\n        .url(dbConfiguration.getURL(databaseName))\r\n        .username(datasourceUsername)\r\n        .password(datasourcePassword)\r\n        .build();\r\n  }\r\n\r\n  @Bean(&quot;testTemplate&quot;)\r\n  public JdbcTemplate jdbcTemplate(DataSource dataSource) {\r\n    return new JdbcTemplate(dataSource);\r\n  }\r\n}\r\n```","title":"Surefire not running all tests","body":"<p>I am trying to use a combination of Surefire (or even Failsafe if I can configure it to work properly), to run my integration tests for a personal project. At present it will run 2/3 of my integration tests. The 3 classes are <code>GameDbApplicationTests</code>, <code>UserDAOImplTest</code>, &amp; <code>GameDAOImplTest</code>. The first two will run, while the last one will not.</p>\n<p>Logically it <em>should</em> be running all of the classes titled <code>*Test</code>, so I'm not sure what is going on here. I am capable of running each test class <em>manually</em> using IntelliJ, but the Maven test goal will not execute all of the test classes.</p>\n<h3><code>.\\mvnw test</code> output is included <a href=\"https://logpaste.com/WaxrC4qM\" rel=\"nofollow noreferrer\">here</a></h3>\n<p>Note that the test lists <code>GameDbApplicationTests</code> &amp; <code>UserDAOImplTest</code>, but not <code>GameDAOImplTest</code> for whatever reason.</p>\n<h2>Pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.StruckCroissant&lt;/groupId&gt;\n    &lt;artifactId&gt;Game-DB&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Game-DB&lt;/name&gt;\n    &lt;description&gt;Game Database Search Engine&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.vorburger.mariaDB4j&lt;/groupId&gt;\n            &lt;artifactId&gt;mariaDB4j&lt;/artifactId&gt;\n            &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;23.0.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-rest-webmvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;8.0.5&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h2>GameDAOImplTest</h2>\n<pre><code>package com.StruckCroissant.GameDB.core.game;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\n\nimport com.StruckCroissant.GameDB.TestDbConfig;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\nimport org.junit.Test;\nimport org.junit.internal.runners.JUnit4ClassRunner;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n@SpringBootTest\n@RunWith(SpringJUnit4ClassRunner.class)\n@TestPropertySource(locations = &quot;classpath:test.properties&quot;)\n@ContextConfiguration(classes = {TestDbConfig.class, GameDAOImpl.class})\nclass GameDAOImplTest {\n\n  @Qualifier(&quot;db-game&quot;)\n  @Autowired\n  private GameDAOImpl underTest;\n\n  @Qualifier(&quot;testTemplate&quot;)\n  @Autowired\n  private JdbcTemplate jdbcTemplate;\n\n  @Test\n  public void shouldGetAllGames() {\n    // given\n    // nothing\n    // when\n    List&lt;Game&gt; allGames = underTest.selectAllGames();\n\n    // then\n    allGames.forEach((game) -&gt; assertThat(game).isInstanceOf(Game.class));\n    assertThat(allGames.size()).isGreaterThanOrEqualTo(30250);\n  }\n\n  @Test\n  public void shouldGetGameById() {\n    // given\n    int[] validGames = {1, 2, 3, 4, 5};\n    int[] invalidGames = {-4, -56, -3, 879627};\n    List&lt;Optional&lt;Game&gt;&gt; validResult = new ArrayList&lt;&gt;();\n    List&lt;Optional&lt;Game&gt;&gt; invalidResult = new ArrayList&lt;&gt;();\n\n    // when\n    for (int gameInt : validGames) {\n      Optional&lt;Game&gt; currentGameOpt = underTest.selectGameById(gameInt);\n      validResult.add(currentGameOpt);\n    }\n    for (int gameInt : invalidGames) {\n      Optional&lt;Game&gt; currentGameOpt = underTest.selectGameById(gameInt);\n      invalidResult.add(currentGameOpt);\n    }\n\n    // then\n    validResult.forEach((gameOpt) -&gt; assertThat(gameOpt).get().isInstanceOf(Game.class));\n    invalidResult.forEach((gameOpt) -&gt; assertThat(gameOpt).isEmpty());\n  }\n}\n</code></pre>\n<h2>UserDAOImplTest</h2>\n<pre><code>package com.StruckCroissant.GameDB.core.user;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\nimport static org.assertj.core.api.AssertionsForClassTypes.catchThrowable;\n\nimport com.StruckCroissant.GameDB.TestDbConfig;\nimport com.StruckCroissant.GameDB.core.game.Game;\nimport java.util.List;\nimport org.jetbrains.annotations.NotNull;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.Order;\nimport org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.jdbc.JdbcTestUtils;\n\n@SpringBootTest\n@RunWith(SpringJUnit4ClassRunner.class)\n@TestPropertySource(locations = &quot;classpath:test.properties&quot;)\n@ContextConfiguration(classes = {TestDbConfig.class, UserDAOImpl.class})\nclass UserDAOImplTest {\n\n  @Qualifier(&quot;db-user&quot;)\n  @Autowired\n  private UserDAOImpl underTest;\n\n  @Qualifier(&quot;testTemplate&quot;)\n  @Autowired\n  private JdbcTemplate jdbcTemplate;\n\n  @AfterEach\n  void tearDown() {\n    JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;user&quot;);\n  }\n\n  @NotNull\n  private String insertDefaultUserDb() {\n    User user = new User(&quot;test_username&quot;, &quot;test_password&quot;, UserRoleEnum.USER, false, true);\n    underTest.insertUser(user);\n    return &quot;test_username&quot;;\n  }\n\n  @NotNull\n  private String insertUserDb(String username) {\n    User user = new User(username, &quot;test_password&quot;, UserRoleEnum.USER, false, true);\n    underTest.insertUser(user);\n    return username;\n  }\n\n  @NotNull\n  private Integer getUidFromUserObj(User userFromDb) {\n    return userFromDb.getId().orElseThrow();\n  }\n\n  @NotNull\n  private Integer getTestUidFromUsernameDb(String test_username) {\n    return underTest\n        .selectUserByUsername(test_username)\n        .flatMap(User::getId)\n        .orElseThrow(() -&gt; new IllegalStateException(&quot;User not found in DB&quot;));\n  }\n\n  @Test\n  @Order(1)\n  void shouldInsertAndSelectNewUser() {\n    // given\n    String test_username = insertDefaultUserDb();\n\n    // when\n    boolean userExists = underTest.selectUserByUsername(test_username).isPresent();\n\n    // then\n    assertThat(userExists).isTrue();\n  }\n\n  @Test\n  void shouldGetUidFromuser() {\n    // given\n    String test_username = insertDefaultUserDb();\n\n    // when\n    int uid = underTest.selectUserByUsername(test_username).flatMap(User::getId).orElse(0);\n\n    // then\n    assertThat(uid).isNotEqualTo(0);\n  }\n\n  @Test\n  void shouldUpdateUser() {\n    // given\n    // Init user\n    String test_username = insertDefaultUserDb();\n    int initUidDb = getTestUidFromUsernameDb(test_username);\n\n    // Updated user\n    String new_username = &quot;new_account_420_updated&quot;;\n    String new_password = &quot;password_updated&quot;;\n    User updatedUser = new User(new_username, new_password, UserRoleEnum.USER, false, true);\n\n    // Updated user\n    underTest.updateUserById(initUidDb, updatedUser);\n    User updatedUserDb = getTestUserFromUidDb(initUidDb);\n    int updatedUidDb = getUidFromUserObj(updatedUserDb);\n\n    // then\n    assertThat(updatedUidDb).isEqualTo(initUidDb);\n    assertThat(updatedUserDb.getUsername()).isEqualTo(new_username);\n    assertThat(updatedUserDb.getPassword()).isEqualTo(new_password);\n  }\n\n  private User getTestUserFromUidDb(int initUidDb) {\n    return underTest\n        .selectUserById(initUidDb)\n        .orElseThrow(() -&gt; new RuntimeException(&quot;User not found in database&quot;));\n  }\n\n  @Test\n  void shouldDeleteUser() {\n    // given\n    String test_username = insertDefaultUserDb();\n    User userFromDb = underTest.selectUserByUsername(test_username).get();\n    int uidFromDb = getUidFromUserObj(userFromDb);\n\n    // when\n    underTest.deleteUserById(uidFromDb);\n    boolean userExists = underTest.selectUserByUsername(test_username).isPresent();\n\n    // then\n    assertThat(userExists).isFalse();\n  }\n\n  @Test\n  void shouldGetSavedGames() {\n    // given\n    int[] games = {1, 2, 3}; // Test games\n\n    String test_username = insertDefaultUserDb();\n    User userFromDb = underTest.selectUserByUsername(test_username).orElseThrow();\n    int uid = getUidFromUserObj(userFromDb);\n\n    // when\n    for (int gid : games) {\n      underTest.insertSavedGame(uid, gid);\n    }\n\n    // then\n    assertThat(underTest.selectSavedGames(uid).size()).isNotEqualTo(0);\n    underTest.selectSavedGames(uid).forEach(g -&gt; assertThat(g).isExactlyInstanceOf(Game.class));\n  }\n\n  @Test\n  void shouldDeleteSavedGame() {\n    // given\n    int[] games = {1, 2, 3}; // Test games\n\n    String test_username = insertDefaultUserDb();\n    User userFromDb = underTest.selectUserByUsername(test_username).orElseThrow();\n    int uid = getUidFromUserObj(userFromDb);\n\n    // when\n    for (int gid : games) {\n      underTest.insertSavedGame(uid, gid);\n    }\n    underTest.deleteSavedGame(uid, games[0]);\n    underTest.deleteSavedGame(uid, games[1]);\n    underTest.deleteSavedGame(uid, games[2]);\n\n    // then\n    assertThat(underTest.selectSavedGames(uid).size()).isEqualTo(0);\n  }\n\n  @Test\n  void shouldDetectNonUniqueUser() {\n    // given\n    String test_username = insertDefaultUserDb();\n    User userFromDb = underTest.selectUserByUsername(test_username).orElseThrow();\n\n    // when\n    boolean userIsUnique = underTest.userIsUnique(userFromDb);\n\n    // then\n    assertThat(userIsUnique).isFalse();\n  }\n\n  @Test\n  void shouldSelectAllUsers() {\n    // given\n    String test_username = insertUserDb(&quot;test_username1&quot;);\n    String test_username2 = insertUserDb(&quot;test_username2&quot;);\n    String test_username3 = insertUserDb(&quot;test_username3&quot;);\n\n    // when\n    List&lt;User&gt; users = underTest.selectAllUsers();\n\n    // then\n    assertThat(users.size()).isEqualTo(3);\n    users.forEach(\n        (User u) -&gt; {\n          assertThat(u).isExactlyInstanceOf(User.class);\n          assertThat(u.getUsername()).isIn(test_username, test_username2, test_username3);\n        });\n  }\n\n  @Test\n  void shouldThrowOnNullId() {\n    // given\n    User user = new User(&quot;test_username&quot;, &quot;test_password&quot;, UserRoleEnum.USER, false, true);\n\n    // when\n    Throwable thrown = catchThrowable(() -&gt; underTest.userIsUnique(user));\n\n    // then\n    assertThat(thrown).isExactlyInstanceOf(IllegalArgumentException.class);\n  }\n}\n</code></pre>\n<h2>GameDbApplicationTests</h2>\n<pre><code>package com.StruckCroissant.GameDB;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass GameDbApplicationTests {\n\n  @Test\n  void contextLoads() {}\n}\n</code></pre>\n<h2>TestDbConfig</h2>\n<pre><code>package com.StruckCroissant.GameDB;\n\nimport ch.vorburger.exec.ManagedProcessException;\nimport ch.vorburger.mariadb4j.DB;\nimport ch.vorburger.mariadb4j.DBConfiguration;\nimport ch.vorburger.mariadb4j.DBConfigurationBuilder;\nimport javax.sql.DataSource;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.*;\nimport org.springframework.jdbc.core.JdbcTemplate;\n\n@Configuration\n@PropertySource(&quot;classpath:test.properties&quot;)\npublic class TestDbConfig {\n\n  @Bean\n  public DBConfiguration dbConfig() {\n    DBConfigurationBuilder config = DBConfigurationBuilder.newBuilder();\n    //Port not set to allow new instances to be generated for batch of tests\n    config.setSecurityDisabled(true);\n    return config.build();\n  }\n\n  @Bean\n  public DataSource dataSource(\n      @Autowired DBConfiguration dbConfig,\n      @Value(&quot;${test.datasource.name}&quot;) String databaseName,\n      @Value(&quot;${test.datasource.username}&quot;) String datasourceUsername,\n      @Value(&quot;${test.datasource.username}&quot;) String datasourcePassword,\n      @Value(&quot;${test.datasource.driver-class-name}&quot;) String datasourceDriver)\n      throws ManagedProcessException {\n    DB db = DB.newEmbeddedDB(dbConfig);\n    db.start();\n    db.createDB(databaseName, &quot;root&quot;, &quot;&quot;);\n    db.source(&quot;db/init/schema.sql&quot;, databaseName);\n\n    DBConfiguration dbConfiguration = db.getConfiguration();\n\n    return DataSourceBuilder.create()\n        .driverClassName(datasourceDriver)\n        .url(dbConfiguration.getURL(databaseName))\n        .username(datasourceUsername)\n        .password(datasourcePassword)\n        .build();\n  }\n\n  @Bean(&quot;testTemplate&quot;)\n  public JdbcTemplate jdbcTemplate(DataSource dataSource) {\n    return new JdbcTemplate(dataSource);\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1658942737,"post_id":73142219,"comment_id":129179872,"body_markdown":"No, there isn&#39;t.  Sorry.","body":"No, there isn&#39;t.  Sorry."},{"owner":{"account_id":1978019,"reputation":698,"user_id":1775344,"accept_rate":33,"display_name":"Mateusz"},"score":0,"creation_date":1658948961,"post_id":73142219,"comment_id":129181922,"body_markdown":"@LouisWasserman you are wrong, there is a way to do this","body":"@LouisWasserman you are wrong, there is a way to do this"}],"answers":[{"tags":[],"owner":{"account_id":1978019,"reputation":698,"user_id":1775344,"accept_rate":33,"display_name":"Mateusz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658948735,"creation_date":1658948735,"answer_id":73143379,"question_id":73142219,"body_markdown":"It is possible, use (or analyze the source code and implement it in your way) [safety-mirror][1] library:\r\n\r\n```java\r\nassertEquals(&quot;isEmpty&quot;, Fun.getName(String::isEmpty));\r\n```\r\n\r\nHere you read more details - https://stackoverflow.com/questions/21860875/printing-debug-info-on-errors-with-java-8-lambda-expressions/21879031#21879031\r\n\r\n\r\n  [1]: https://github.com/Hervian/safety-mirror","title":"How to print a Function&lt;A,B&gt;?","body":"<p>It is possible, use (or analyze the source code and implement it in your way) <a href=\"https://github.com/Hervian/safety-mirror\" rel=\"nofollow noreferrer\">safety-mirror</a> library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertEquals(&quot;isEmpty&quot;, Fun.getName(String::isEmpty));\n</code></pre>\n<p>Here you read more details - <a href=\"https://stackoverflow.com/questions/21860875/printing-debug-info-on-errors-with-java-8-lambda-expressions/21879031#21879031\">Printing debug info on errors with java 8 lambda expressions</a></p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658980591,"creation_date":1658950266,"answer_id":73143672,"question_id":73142219,"body_markdown":"seems to be XY problem: you actually need to log errors in convenient way, but do not know how to refer class fields in code... There are two options:\r\n1. lombok: [@FieldNameConstants](https://projectlombok.org/features/experimental/FieldNameConstants) - [there are some issues](https://github.com/projectlombok/lombok/issues/2090)\r\n2. implement [annotation processor](https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Processor.html) which will generate metamodel for your classes (or if you are on HBN you may use existing one: https://vladmihalcea.com/jpa-criteria-metamodel/)","title":"How to print a Function&lt;A,B&gt;?","body":"<p>seems to be XY problem: you actually need to log errors in convenient way, but do not know how to refer class fields in code... There are two options:</p>\n<ol>\n<li>lombok: <a href=\"https://projectlombok.org/features/experimental/FieldNameConstants\" rel=\"nofollow noreferrer\">@FieldNameConstants</a> - <a href=\"https://github.com/projectlombok/lombok/issues/2090\" rel=\"nofollow noreferrer\">there are some issues</a></li>\n<li>implement <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Processor.html\" rel=\"nofollow noreferrer\">annotation processor</a> which will generate metamodel for your classes (or if you are on HBN you may use existing one: <a href=\"https://vladmihalcea.com/jpa-criteria-metamodel/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/jpa-criteria-metamodel/</a>)</li>\n</ol>\n"}],"owner":{"account_id":8188738,"reputation":73,"user_id":6163700,"display_name":"jvdecamargo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73143672,"answer_count":2,"score":2,"last_activity_date":1658980591,"creation_date":1658942686,"question_id":73142219,"body_markdown":"I would like to create a central logger class that logs messages like:\r\n\r\n&gt; Couldn&#39;t find a record of type MyClass when searching for field\r\n&gt; MyField\r\n\r\nCurrently, I have this piece of code:    \r\n\r\n    public static &lt;T, A, B&gt; String logNotFound(final Class&lt;T&gt; type, String field) {\r\n        return String.format(DATA_NOT_FOUND, type.getSimpleName(), field);\r\n    }\r\n\r\nAnd I call it like:\r\n\r\n    Optional&lt;Person&gt; person = findPersonByLastName(&quot;Smith&quot;);\r\n    if (person.isEmpty()) logNotFound(Person.class, &quot;lastName&quot;);\r\n\r\nHowever, I don&#39;t quite like passing a string to the field name. I would like to call the log method as \r\n\r\n    logNotFound(Person.class, Person::getLastName)\r\n\r\npassing a Function&lt;A,B&gt; as parameter. I expect a message like\r\n\r\n&gt; Couldn&#39;t find a record of type Person when searching for field &gt; Person::getLastName\r\n\r\nIs there a way to do this?","title":"How to print a Function&lt;A,B&gt;?","body":"<p>I would like to create a central logger class that logs messages like:</p>\n<blockquote>\n<p>Couldn't find a record of type MyClass when searching for field\nMyField</p>\n</blockquote>\n<p>Currently, I have this piece of code:</p>\n<pre><code>public static &lt;T, A, B&gt; String logNotFound(final Class&lt;T&gt; type, String field) {\n    return String.format(DATA_NOT_FOUND, type.getSimpleName(), field);\n}\n</code></pre>\n<p>And I call it like:</p>\n<pre><code>Optional&lt;Person&gt; person = findPersonByLastName(&quot;Smith&quot;);\nif (person.isEmpty()) logNotFound(Person.class, &quot;lastName&quot;);\n</code></pre>\n<p>However, I don't quite like passing a string to the field name. I would like to call the log method as</p>\n<pre><code>logNotFound(Person.class, Person::getLastName)\n</code></pre>\n<p>passing a Function&lt;A,B&gt; as parameter. I expect a message like</p>\n<blockquote>\n<p>Couldn't find a record of type Person when searching for field &gt; Person::getLastName</p>\n</blockquote>\n<p>Is there a way to do this?</p>\n"},{"tags":["java","vert.x","vertx-verticle","vertx-eventbus"],"comments":[{"owner":{"account_id":1978019,"reputation":698,"user_id":1775344,"accept_rate":33,"display_name":"Mateusz"},"score":1,"creation_date":1658954449,"post_id":73033423,"comment_id":129183569,"body_markdown":"The problem look like not vertex related, but rather database related. Please, provide more info about the db engine you are using. You should analyze the query, maybe there is missing index on id column? Or maybe you have index on finished_on and 3 trillions rows and it took time to update the index? If you are using mysql there is https://dev.mysql.com/doc/refman/8.0/en/explain.html statement that will show you all details. You you use different engine, there should be something similar","body":"The problem look like not vertex related, but rather database related. Please, provide more info about the db engine you are using. You should analyze the query, maybe there is missing index on id column? Or maybe you have index on finished_on and 3 trillions rows and it took time to update the index? If you are using mysql there is <a href=\"https://dev.mysql.com/doc/refman/8.0/en/explain.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/explain.html</a> statement that will show you all details. You you use different engine, there should be something similar"},{"owner":{"account_id":1466355,"reputation":803,"user_id":1379059,"accept_rate":63,"display_name":"ZAJ"},"score":0,"creation_date":1658996458,"post_id":73033423,"comment_id":129191927,"body_markdown":"I am using MySQL database and there is only 2 rows in the table. The table is also indexed. Please see my comments I added below in @Asad Awadia commentss","body":"I am using MySQL database and there is only 2 rows in the table. The table is also indexed. Please see my comments I added below in @Asad Awadia commentss"}],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658979646,"creation_date":1658979646,"answer_id":73147003,"question_id":73033423,"body_markdown":"Are you implementing a job queue pattern in a DB?\r\n\r\nI think your row is locked and that is why the update hangs for multiple minutes while the job that is currently processing that ID has the row lock\r\n\r\nWhat does the `startPrintJob` do? Does it return _after_ the job is finished or does it async launch the job and return immediately ?\r\n\r\n\r\nAnother lead could be that the DB pool is exhausted and it is hanging on getting a connection since all are already in use","title":"Vertx - Database update query takes few minutes","body":"<p>Are you implementing a job queue pattern in a DB?</p>\n<p>I think your row is locked and that is why the update hangs for multiple minutes while the job that is currently processing that ID has the row lock</p>\n<p>What does the <code>startPrintJob</code> do? Does it return <em>after</em> the job is finished or does it async launch the job and return immediately ?</p>\n<p>Another lead could be that the DB pool is exhausted and it is hanging on getting a connection since all are already in use</p>\n"}],"owner":{"account_id":1466355,"reputation":803,"user_id":1379059,"accept_rate":63,"display_name":"ZAJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73147003,"answer_count":1,"score":2,"last_activity_date":1658979646,"creation_date":1658218575,"question_id":73033423,"body_markdown":"I have a very simple update database operation in my Java Vertx application but for some reason it takes araround 3 minutes. I have attached the console output showing the time. Can somebody please help me to debug why is it so.\r\n\r\n```\r\n2022-07-19 11:54:32.039+0430 [vert.x-eventloop-thread-1] DEBUG com.job.PrintJobHandler -  onSuccess for startPrintJob()   Job Completed Successfully!!!!\r\n2022-07-19 11:54:32.039+0430 [vert.x-eventloop-thread-1] DEBUG com.dao.JobDao - Inside setJobFinishedDate() 14\r\n2022-07-19 11:54:32.039+0430 [vert.x-eventloop-thread-1] DEBUG com.dao.JobDao - Tuple for Parent UID values: [2022-07-19 11:54:32,14]\r\n2022-07-19 11:57:45.733+0430 [vert.x-eventloop-thread-1] DEBUG com.dao.JobDao - Updated job table&#39;s finished_on column!!!!!!!!!!!!!!!!!!!!!!!!! \r\n2022-07-19 11:57:45.733+0430 [vert.x-eventloop-thread-1] DEBUG com.job.PrintJobHandler - Job Completed Successfully!!!!\r\n2022-07-19 11:57:45.734+0430 [vert.x-eventloop-thread-1] DEBUG com.job.PrintJobHandler -  onSuccess for startPrintJob()   Server sent msg --- Finished printing Job ID::::: 14\r\n```\r\n\r\ncode:\r\n```\r\nstartPrintJob(jobID, context)\r\n\t\t\t.onFailure(error -&gt; {\r\n\t\t\t\tLOG.debug(&quot;startTest() Failed: &quot;, error);\r\n\t\t\t})\r\n\t\t\t.onSuccess(res -&gt; {\t\r\n\t\t\t\tLOG.debug(&quot; onSuccess for startPrintJob()   &quot; + res);\r\n\t\t\t\tjobDao.setJobFinishedDate(jobID)\r\n\t\t\t\t.onSuccess(result -&gt; {\r\n\t\t\t\t\tLOG.debug(res);\r\n\t\t\t\t\tString updatedStatus = &quot;Server sent msg --- Finished printing Job ID::::: &quot;+jobID;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcontext.response()\r\n\t\t\t\t\t.setStatusCode(200)\r\n\t\t\t\t\t.putHeader(&quot;content-type&quot;, &quot;application/json; charset=utf-8&quot;)\r\n\t\t\t\t\t.end(Json.encodePrettily(updatedStatus));\r\n\t\t\t\t\t\r\n\t\t\t\t\tLOG.debug(&quot; onSuccess for startPrintJob()   &quot; + updatedStatus);\r\n\t\t\t\t});\t\t\t\t\r\n\t\t\t});\r\n```\r\n```\r\npublic Future&lt;String&gt; setJobFinishedDate(int jobID) {\r\n\t\t\r\n\t\tPromise&lt;String&gt; promise = Promise.promise();\r\n\t\t\r\n\t\tLOG.debug(&quot;Inside setJobFinishedDate() &quot;+jobID);\r\n\t\tLocalDateTime issuedAt = LocalDateTime.now();\r\n\t\tDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\t\t\r\n\t\tTuple batch = Tuple.of(issuedAt.format(format), jobID);\r\n\t\tLOG.debug(&quot;Tuple for Parent UID values: &quot; + batch.deepToString());\r\n\r\n\t\t// Execute the query\r\n\t\tdb.preparedQuery(&quot;UPDATE job SET finished_on=? WHERE id=?;&quot;).execute(batch, res -&gt; {\r\n\t\t\tif (res.succeeded()) {\r\n\t\t\t\tLOG.debug(&quot;Updated job table&#39;s finished_on column!!!!!!!!!!!!!!!!!!!!!!!!! &quot;);\r\n\t\t\t\tpromise.complete(&quot;Updated job table&#39;s finished_on column!!&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Batch failed for UPDATE job table&#39;s finished_on column!!&quot; + res.cause());\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn promise.future();\r\n\t}","title":"Vertx - Database update query takes few minutes","body":"<p>I have a very simple update database operation in my Java Vertx application but for some reason it takes araround 3 minutes. I have attached the console output showing the time. Can somebody please help me to debug why is it so.</p>\n<pre><code>2022-07-19 11:54:32.039+0430 [vert.x-eventloop-thread-1] DEBUG com.job.PrintJobHandler -  onSuccess for startPrintJob()   Job Completed Successfully!!!!\n2022-07-19 11:54:32.039+0430 [vert.x-eventloop-thread-1] DEBUG com.dao.JobDao - Inside setJobFinishedDate() 14\n2022-07-19 11:54:32.039+0430 [vert.x-eventloop-thread-1] DEBUG com.dao.JobDao - Tuple for Parent UID values: [2022-07-19 11:54:32,14]\n2022-07-19 11:57:45.733+0430 [vert.x-eventloop-thread-1] DEBUG com.dao.JobDao - Updated job table's finished_on column!!!!!!!!!!!!!!!!!!!!!!!!! \n2022-07-19 11:57:45.733+0430 [vert.x-eventloop-thread-1] DEBUG com.job.PrintJobHandler - Job Completed Successfully!!!!\n2022-07-19 11:57:45.734+0430 [vert.x-eventloop-thread-1] DEBUG com.job.PrintJobHandler -  onSuccess for startPrintJob()   Server sent msg --- Finished printing Job ID::::: 14\n</code></pre>\n<p>code:</p>\n<pre><code>startPrintJob(jobID, context)\n            .onFailure(error -&gt; {\n                LOG.debug(&quot;startTest() Failed: &quot;, error);\n            })\n            .onSuccess(res -&gt; { \n                LOG.debug(&quot; onSuccess for startPrintJob()   &quot; + res);\n                jobDao.setJobFinishedDate(jobID)\n                .onSuccess(result -&gt; {\n                    LOG.debug(res);\n                    String updatedStatus = &quot;Server sent msg --- Finished printing Job ID::::: &quot;+jobID;\n                    \n                    context.response()\n                    .setStatusCode(200)\n                    .putHeader(&quot;content-type&quot;, &quot;application/json; charset=utf-8&quot;)\n                    .end(Json.encodePrettily(updatedStatus));\n                    \n                    LOG.debug(&quot; onSuccess for startPrintJob()   &quot; + updatedStatus);\n                });             \n            });\n</code></pre>\n<pre><code>public Future&lt;String&gt; setJobFinishedDate(int jobID) {\n        \n        Promise&lt;String&gt; promise = Promise.promise();\n        \n        LOG.debug(&quot;Inside setJobFinishedDate() &quot;+jobID);\n        LocalDateTime issuedAt = LocalDateTime.now();\n        DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);      \n        Tuple batch = Tuple.of(issuedAt.format(format), jobID);\n        LOG.debug(&quot;Tuple for Parent UID values: &quot; + batch.deepToString());\n\n        // Execute the query\n        db.preparedQuery(&quot;UPDATE job SET finished_on=? WHERE id=?;&quot;).execute(batch, res -&gt; {\n            if (res.succeeded()) {\n                LOG.debug(&quot;Updated job table's finished_on column!!!!!!!!!!!!!!!!!!!!!!!!! &quot;);\n                promise.complete(&quot;Updated job table's finished_on column!!&quot;);\n            } else {\n                System.out.println(&quot;Batch failed for UPDATE job table's finished_on column!!&quot; + res.cause());\n            }\n        });\n        return promise.future();\n    }\n</code></pre>\n"},{"tags":["java","json","mongodb"],"comments":[{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":0,"creation_date":1658962508,"post_id":73145327,"comment_id":129185348,"body_markdown":"You need to map the Document to Team object.","body":"You need to map the Document to Team object."}],"answers":[{"tags":[],"owner":{"account_id":21040977,"reputation":101,"user_id":15463404,"display_name":"Sarah N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658979457,"creation_date":1658979457,"answer_id":73146981,"question_id":73145327,"body_markdown":"The mapping needs to be done from `Document` to the arraylist of `Teams`. You can do this by two methods:\r\n\r\n - Write your own custom mapper function/class to map `Document` to `Teams`\r\n - You can eliminate the use of `Document` to make use of your POJO `Teams` instead with some modification of your POJO as follows:\r\n\r\n**Teams.java**\r\n```\r\npublic class Teams {\r\n\r\n    @BsonProperty(value = &quot;team_id&quot;)\r\n    private String teamId;\r\n    @BsonProperty(value = &quot;team_name&quot;)\r\n    private String teamName;\r\n    private List&lt;Player&gt; players;\r\n\r\n    // getters and setters with builder pattern\r\n    // toString()\r\n    // equals()\r\n    // hashCode()\r\n}\r\n\r\n```\r\nSimilarly create **Player.java**\r\n```\r\npublic class Player {\r\n\r\n    @BsonProperty(value = &quot;player_id&quot;)\r\n    private String playerId;\r\n    @BsonProperty(value = &quot;player_name&quot;)\r\n    private Double playerName;\r\n\r\n    //Add rest of the properties in a similar way\r\n\r\n    // getters and setters with builder pattern\r\n    // toString()\r\n    // equals()\r\n    // hashCode()\r\n}\r\n```\r\n**getAll()** - You need to add a CodecRegistry to handle translate the BSON for our POJOs and vice versa\r\n```\r\npublic static List&lt;Teams&gt; getAll() {\r\n        ConnectionString connectionString = new ConnectionString(&quot;mongodb://localhost:27017&quot;);\r\n        CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\r\n        CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\r\n        MongoClientSettings clientSettings = MongoClientSettings.builder()\r\n                                                        .applyConnectionString(connectionString)\r\n                                                        .codecRegistry(codecRegistry)\r\n                                                        .build();\r\n        MongoClient mongoClient = MongoClients.create(clientSettings)\r\n        MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\r\n        MongoCollection&lt;Teams&gt; coll = db.getCollection(&quot;teamCollection&quot;, Teams.class);\r\n        List&lt;Teams&gt; teamsList = coll.find();\r\n        return teamsList;\r\n    }\r\n```","title":"Retrieve all mongoDB documents and store in a List","body":"<p>The mapping needs to be done from <code>Document</code> to the arraylist of <code>Teams</code>. You can do this by two methods:</p>\n<ul>\n<li>Write your own custom mapper function/class to map <code>Document</code> to <code>Teams</code></li>\n<li>You can eliminate the use of <code>Document</code> to make use of your POJO <code>Teams</code> instead with some modification of your POJO as follows:</li>\n</ul>\n<p><strong>Teams.java</strong></p>\n<pre><code>public class Teams {\n\n    @BsonProperty(value = &quot;team_id&quot;)\n    private String teamId;\n    @BsonProperty(value = &quot;team_name&quot;)\n    private String teamName;\n    private List&lt;Player&gt; players;\n\n    // getters and setters with builder pattern\n    // toString()\n    // equals()\n    // hashCode()\n}\n\n</code></pre>\n<p>Similarly create <strong>Player.java</strong></p>\n<pre><code>public class Player {\n\n    @BsonProperty(value = &quot;player_id&quot;)\n    private String playerId;\n    @BsonProperty(value = &quot;player_name&quot;)\n    private Double playerName;\n\n    //Add rest of the properties in a similar way\n\n    // getters and setters with builder pattern\n    // toString()\n    // equals()\n    // hashCode()\n}\n</code></pre>\n<p><strong>getAll()</strong> - You need to add a CodecRegistry to handle translate the BSON for our POJOs and vice versa</p>\n<pre><code>public static List&lt;Teams&gt; getAll() {\n        ConnectionString connectionString = new ConnectionString(&quot;mongodb://localhost:27017&quot;);\n        CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\n        CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\n        MongoClientSettings clientSettings = MongoClientSettings.builder()\n                                                        .applyConnectionString(connectionString)\n                                                        .codecRegistry(codecRegistry)\n                                                        .build();\n        MongoClient mongoClient = MongoClients.create(clientSettings)\n        MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\n        MongoCollection&lt;Teams&gt; coll = db.getCollection(&quot;teamCollection&quot;, Teams.class);\n        List&lt;Teams&gt; teamsList = coll.find();\n        return teamsList;\n    }\n</code></pre>\n"}],"owner":{"account_id":22262032,"reputation":29,"user_id":16493329,"display_name":"New CS Developer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658979457,"creation_date":1658961633,"question_id":73145327,"body_markdown":"I am trying to create a function that retrieves all documents in my mongoDB collection and stores them in an array and returns that array.\r\n\r\n**getAll()**\r\n```\r\n\tpublic static List&lt;Teams&gt; getAll() {\r\n    \tMongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n    \t//MongoClient mongoClient = new MongoClient(&quot;localhost&quot;,27017);\r\n    \tMongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\r\n    \tMongoCollection&lt;Document&gt; coll = db.getCollection(&quot;teamCollection&quot;);\r\n    \t\r\n    \tFindIterable&lt;Document&gt; iterDoc = coll.find();\r\n    \tIterator it = iterDoc.iterator();\r\n    \tArrayList&lt;Teams&gt; teamsList = new ArrayList&lt;Teams&gt;();\r\n    \t\r\n    \twhile(it.hasNext()) {\r\n    \t\tObject team = it.next();\r\n    \t\tteamsList.add(team);\r\n    \t}\r\n\t\treturn teamsList;\r\n    }\r\n```\r\n**Document1**\r\n```\r\n{\r\n  &quot;team_id&quot;: &quot;1&quot;,\r\n  &quot;team_name&quot;: &quot;Dallas Cowboys&quot;,\r\n  &quot;players&quot;: [\r\n    {\r\n      &quot;player_id&quot;: &quot;18&quot;,\r\n      &quot;player_name&quot;: &quot;Anthony Brown&quot;,\r\n      &quot;age&quot;: 28,\r\n      &quot;position&quot;: &quot;Cornerback&quot;,\r\n      &quot;ranking&quot;: 3\r\n    },\r\n    {\r\n      &quot;player_id&quot;: &quot;15&quot;,\r\n      &quot;player_name&quot;: &quot;Will Grier&quot;,\r\n      &quot;age&quot;: 27,\r\n      &quot;position&quot;: &quot;Quarterback&quot;,\r\n      &quot;ranking&quot;: 15\r\n    },\r\n    {\r\n      &quot;player_id&quot;: &quot;14&quot;,\r\n      &quot;player_name&quot;: &quot;Ezekiel Elliott&quot;,\r\n      &quot;age&quot;: 27,\r\n      &quot;position&quot;: &quot;Running Back&quot;,\r\n      &quot;ranking&quot;: 21\r\n    }\r\n  ]\r\n}\r\n```\r\n**Document 2**\r\n```\r\n{\r\n  &quot;team_id&quot;: &quot;6&quot;,\r\n  &quot;team_name&quot;: &quot;Green Bay Packers&quot;,\r\n  &quot;players&quot;: [\r\n    {\r\n      &quot;player_id&quot;: &quot;7&quot;,\r\n      &quot;player_name&quot;: &quot;Jaire Alexander&quot;,\r\n      &quot;age&quot;: 25,\r\n      &quot;position&quot;: &quot;Cornerback&quot;,\r\n      &quot;ranking&quot;: 23\r\n    },\r\n    {\r\n      &quot;player_id&quot;: &quot;3&quot;,\r\n      &quot;player_name&quot;: &quot;Krys Barnes&quot;,\r\n      &quot;age&quot;: 24,\r\n      &quot;position&quot;: &quot;Linebacker&quot;,\r\n      &quot;ranking&quot;: 51\r\n    },\r\n    {\r\n      &quot;player_id&quot;: &quot;10&quot;,\r\n      &quot;player_name&quot;: &quot;Mason Crosby&quot;,\r\n      &quot;age&quot;: 37,\r\n      &quot;position&quot;: &quot;Kicker&quot;,\r\n      &quot;ranking&quot;: 2\r\n    },\r\n    {\r\n      &quot;player_id&quot;: &quot;20&quot;,\r\n      &quot;player_name&quot;: &quot;Randall Cobb&quot;,\r\n      &quot;age&quot;: 31,\r\n      &quot;position&quot;: &quot;Wide Receiver&quot;,\r\n      &quot;ranking&quot;: 18\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nCurrently my output displays the documents in my collection as one long string for each document; however, I haven&#39;t figured out how to store these documents in an array. ","title":"Retrieve all mongoDB documents and store in a List","body":"<p>I am trying to create a function that retrieves all documents in my mongoDB collection and stores them in an array and returns that array.</p>\n<p><strong>getAll()</strong></p>\n<pre><code>    public static List&lt;Teams&gt; getAll() {\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n        //MongoClient mongoClient = new MongoClient(&quot;localhost&quot;,27017);\n        MongoDatabase db = mongoClient.getDatabase(&quot;teamDB&quot;);\n        MongoCollection&lt;Document&gt; coll = db.getCollection(&quot;teamCollection&quot;);\n        \n        FindIterable&lt;Document&gt; iterDoc = coll.find();\n        Iterator it = iterDoc.iterator();\n        ArrayList&lt;Teams&gt; teamsList = new ArrayList&lt;Teams&gt;();\n        \n        while(it.hasNext()) {\n            Object team = it.next();\n            teamsList.add(team);\n        }\n        return teamsList;\n    }\n</code></pre>\n<p><strong>Document1</strong></p>\n<pre><code>{\n  &quot;team_id&quot;: &quot;1&quot;,\n  &quot;team_name&quot;: &quot;Dallas Cowboys&quot;,\n  &quot;players&quot;: [\n    {\n      &quot;player_id&quot;: &quot;18&quot;,\n      &quot;player_name&quot;: &quot;Anthony Brown&quot;,\n      &quot;age&quot;: 28,\n      &quot;position&quot;: &quot;Cornerback&quot;,\n      &quot;ranking&quot;: 3\n    },\n    {\n      &quot;player_id&quot;: &quot;15&quot;,\n      &quot;player_name&quot;: &quot;Will Grier&quot;,\n      &quot;age&quot;: 27,\n      &quot;position&quot;: &quot;Quarterback&quot;,\n      &quot;ranking&quot;: 15\n    },\n    {\n      &quot;player_id&quot;: &quot;14&quot;,\n      &quot;player_name&quot;: &quot;Ezekiel Elliott&quot;,\n      &quot;age&quot;: 27,\n      &quot;position&quot;: &quot;Running Back&quot;,\n      &quot;ranking&quot;: 21\n    }\n  ]\n}\n</code></pre>\n<p><strong>Document 2</strong></p>\n<pre><code>{\n  &quot;team_id&quot;: &quot;6&quot;,\n  &quot;team_name&quot;: &quot;Green Bay Packers&quot;,\n  &quot;players&quot;: [\n    {\n      &quot;player_id&quot;: &quot;7&quot;,\n      &quot;player_name&quot;: &quot;Jaire Alexander&quot;,\n      &quot;age&quot;: 25,\n      &quot;position&quot;: &quot;Cornerback&quot;,\n      &quot;ranking&quot;: 23\n    },\n    {\n      &quot;player_id&quot;: &quot;3&quot;,\n      &quot;player_name&quot;: &quot;Krys Barnes&quot;,\n      &quot;age&quot;: 24,\n      &quot;position&quot;: &quot;Linebacker&quot;,\n      &quot;ranking&quot;: 51\n    },\n    {\n      &quot;player_id&quot;: &quot;10&quot;,\n      &quot;player_name&quot;: &quot;Mason Crosby&quot;,\n      &quot;age&quot;: 37,\n      &quot;position&quot;: &quot;Kicker&quot;,\n      &quot;ranking&quot;: 2\n    },\n    {\n      &quot;player_id&quot;: &quot;20&quot;,\n      &quot;player_name&quot;: &quot;Randall Cobb&quot;,\n      &quot;age&quot;: 31,\n      &quot;position&quot;: &quot;Wide Receiver&quot;,\n      &quot;ranking&quot;: 18\n    }\n  ]\n}\n</code></pre>\n<p>Currently my output displays the documents in my collection as one long string for each document; however, I haven't figured out how to store these documents in an array.</p>\n"},{"tags":["java","concurrency","rocksdb-java"],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658978799,"creation_date":1658978799,"answer_id":73146913,"question_id":73116673,"body_markdown":"Not sure what you are referring to as strong consistency is rocksdb is strongly consistent - there is no across the network replication going on where you would see eventual consistency\r\n\r\nif you want to get a snapshotted read use a snapshot sequence identifier when doing your reads\r\n\r\nSounds more like a threading issue where your reads and writes are happening in non-determenistic order","title":"Is there a way to get Strong Consistency with RocksDb in Java?","body":"<p>Not sure what you are referring to as strong consistency is rocksdb is strongly consistent - there is no across the network replication going on where you would see eventual consistency</p>\n<p>if you want to get a snapshotted read use a snapshot sequence identifier when doing your reads</p>\n<p>Sounds more like a threading issue where your reads and writes are happening in non-determenistic order</p>\n"}],"owner":{"account_id":1954753,"reputation":2098,"user_id":1758023,"accept_rate":94,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73146913,"answer_count":1,"score":0,"last_activity_date":1658978799,"creation_date":1658796099,"question_id":73116673,"body_markdown":"I have a program which accesses a single RocksDB using multiple threads. \r\n\r\nOur workflow for a given document is to read the cache, do some work, then update the cache.\r\n\r\nMy code uses chained CompletableFutures to process multiple documents in order (and processes the first document before starting the subsequent document). So my RocksDB workload consists of (read, write) repeated several times for the same key.\r\n\r\nMost of the time we get the correct value from the cache for each run through the workflow, but occasionally we will get stale data. Each operation could run on one of many threads in the Executor, but they will never run in parallel for the same key.\r\n\r\nIs there a way to ensure that we get strong **consistency**? I wrote a unit test to confirm that this happens, and it happens between 1-3% of the time. I even added a read-after-write, and that reduced the inconsistency, but did not eliminate it.","title":"Is there a way to get Strong Consistency with RocksDb in Java?","body":"<p>I have a program which accesses a single RocksDB using multiple threads.</p>\n<p>Our workflow for a given document is to read the cache, do some work, then update the cache.</p>\n<p>My code uses chained CompletableFutures to process multiple documents in order (and processes the first document before starting the subsequent document). So my RocksDB workload consists of (read, write) repeated several times for the same key.</p>\n<p>Most of the time we get the correct value from the cache for each run through the workflow, but occasionally we will get stale data. Each operation could run on one of many threads in the Executor, but they will never run in parallel for the same key.</p>\n<p>Is there a way to ensure that we get strong <strong>consistency</strong>? I wrote a unit test to confirm that this happens, and it happens between 1-3% of the time. I even added a read-after-write, and that reduced the inconsistency, but did not eliminate it.</p>\n"},{"tags":["java","android","android-fragments","android-viewmodel"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1658925656,"post_id":73138046,"comment_id":129172473,"body_markdown":"Did you read [the documentation](https://developer.android.com/topic/libraries/architecture/viewmodel#sharing) and its Java example?","body":"Did you read <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel#sharing\" rel=\"nofollow noreferrer\">the documentation</a> and its Java example?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658925821,"post_id":73138046,"comment_id":129172555,"body_markdown":"Also [fragment documentation](https://developer.android.com/guide/fragments/communicate).","body":"Also <a href=\"https://developer.android.com/guide/fragments/communicate\" rel=\"nofollow noreferrer\">fragment documentation</a>."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1658927261,"post_id":73138046,"comment_id":129173240,"body_markdown":"@CommonsWare yes i have read them but did not get it properly..","body":"@CommonsWare yes i have read them but did not get it properly.."},{"owner":{"account_id":20514424,"reputation":1,"user_id":15363047,"display_name":"oceanodroma"},"score":0,"creation_date":1667736553,"post_id":73138046,"comment_id":131233271,"body_markdown":"ViewModelProviders has been deprecated - see [this discussion](https://stackoverflow.com/questions/53903762/viewmodelproviders-is-deprecated-in-1-1-0)","body":"ViewModelProviders has been deprecated - see <a href=\"https://stackoverflow.com/questions/53903762/viewmodelproviders-is-deprecated-in-1-1-0\">this discussion</a>"}],"answers":[{"tags":[],"owner":{"account_id":8086297,"reputation":1,"user_id":6093753,"display_name":"Bingo Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658978380,"creation_date":1658978380,"answer_id":73146873,"question_id":73138046,"body_markdown":"Follow [the documentation][1], and remember to use the same `ViewModelStoreOwner`, like this:\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/viewmodel#sharing\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class SharedViewModel extends ViewModel {\r\n\r\n    }\r\n\r\n    public class FragmentA extends Fragment {\r\n        private SharedViewModel model;\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            //pass the host Activity\r\n            model = ViewModelProviders.of(getActivity()).get(SharedViewModel.class);\r\n        }\r\n    }\r\n\r\n    public class FragmentB extends Fragment {\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n             //pass the host Activity\r\n            SharedViewModel model = ViewModelProviders.of(getActivity()).get(SharedViewModel.class);\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How can i implement shared viewmodel across fragments in java?","body":"<p>Follow <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel#sharing\" rel=\"nofollow noreferrer\">the documentation</a>, and remember to use the same <code>ViewModelStoreOwner</code>, like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public class SharedViewModel extends ViewModel {\n\n}\n\npublic class FragmentA extends Fragment {\n    private SharedViewModel model;\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        //pass the host Activity\n        model = ViewModelProviders.of(getActivity()).get(SharedViewModel.class);\n    }\n}\n\npublic class FragmentB extends Fragment {\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n         //pass the host Activity\n        SharedViewModel model = ViewModelProviders.of(getActivity()).get(SharedViewModel.class);\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658978380,"creation_date":1658925360,"question_id":73138046,"body_markdown":"I am new to android and working on an application where i have use shared ViewModel across fragments there are a lot of help for kotlin but for java there is nothing. Please guide me if possible.? ","title":"How can i implement shared viewmodel across fragments in java?","body":"<p>I am new to android and working on an application where i have use shared ViewModel across fragments there are a lot of help for kotlin but for java there is nothing. Please guide me if possible.?</p>\n"},{"tags":["java","cassandra","cassandra-3.0","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":4837085,"reputation":1935,"user_id":3903366,"accept_rate":55,"display_name":"Bikas Katwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1607491609,"creation_date":1607491609,"answer_id":65211141,"question_id":52386499,"body_markdown":"While creating JSON added escaped double quotes to such fields.\r\nExample:`&quot;\\&quot;catalogName\\&quot;&quot;`.\r\n\r\nIf using jackson: `@JsonProperty(&quot;\\&quot;catalogName\\&quot;&quot;)`\r\n\r\nThis worked for me. ","title":"Cassandra Java Driver converting field names to lower case","body":"<p>While creating JSON added escaped double quotes to such fields.\nExample:<code>&quot;\\&quot;catalogName\\&quot;&quot;</code>.</p>\n<p>If using jackson: <code>@JsonProperty(&quot;\\&quot;catalogName\\&quot;&quot;)</code></p>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":4837085,"reputation":1935,"user_id":3903366,"accept_rate":55,"display_name":"Bikas Katwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65211141,"answer_count":1,"score":5,"last_activity_date":1658978309,"creation_date":1537273325,"question_id":52386499,"body_markdown":"I am using cassandra-driver-core version 3.5.1 \r\n\r\nI have a table in cassandra. All fields in table are camel cased and created with double quotes. These fields needs to be in camel case as my solr schema has camel casing and we have around 80-120 field.\r\n\r\nBut when I insert my json documents in this table, using below code:\r\n \r\n    //jsonData is json document in String \r\n    Insert insertQuery = QueryBuilder.insertInto(keySpace, table).json(jsonData);\r\n    ResultSet resultSet = session.execute(insertQuery.toString());\r\n\r\nGenerated insert query:\r\n\r\n    INSERT INTO asda_search.GROCERIES JSON &#39;{&quot;catalogName&quot;:&quot;some data&quot;, .....);\r\n\r\n cassandra driver converts the field in insert statement to lower case, leading to below exception:\r\n\r\n    Caused by: com.datastax.driver.core.exceptions.InvalidQueryException: JSON values map contains unrecognized column: catalogname\r\nIn my table field name is `catalogName`\r\n\r\nWhat I should do, so that driver does not lower case my fields?\r\n\r\nUpdate:\r\n\r\nI know I can create Query as below:\r\n\r\n    QueryBuilder.insertInto(keySpace, table).values(fieldNameList, fieldValueList)\r\n\r\nwhile creating `fieldNameList` I can add quotes to the field names.\r\n\r\nAny other solution?\r\n\r\n","title":"Cassandra Java Driver converting field names to lower case","body":"<p>I am using cassandra-driver-core version 3.5.1 </p>\n\n<p>I have a table in cassandra. All fields in table are camel cased and created with double quotes. These fields needs to be in camel case as my solr schema has camel casing and we have around 80-120 field.</p>\n\n<p>But when I insert my json documents in this table, using below code:</p>\n\n<pre><code>//jsonData is json document in String \nInsert insertQuery = QueryBuilder.insertInto(keySpace, table).json(jsonData);\nResultSet resultSet = session.execute(insertQuery.toString());\n</code></pre>\n\n<p>Generated insert query:</p>\n\n<pre><code>INSERT INTO asda_search.GROCERIES JSON '{\"catalogName\":\"some data\", .....);\n</code></pre>\n\n<p>cassandra driver converts the field in insert statement to lower case, leading to below exception:</p>\n\n<pre><code>Caused by: com.datastax.driver.core.exceptions.InvalidQueryException: JSON values map contains unrecognized column: catalogname\n</code></pre>\n\n<p>In my table field name is <code>catalogName</code></p>\n\n<p>What I should do, so that driver does not lower case my fields?</p>\n\n<p>Update:</p>\n\n<p>I know I can create Query as below:</p>\n\n<pre><code>QueryBuilder.insertInto(keySpace, table).values(fieldNameList, fieldValueList)\n</code></pre>\n\n<p>while creating <code>fieldNameList</code> I can add quotes to the field names.</p>\n\n<p>Any other solution?</p>\n"},{"tags":["java","cassandra","cassandra-3.0","spark-cassandra-connector"],"owner":{"account_id":4837085,"reputation":1935,"user_id":3903366,"accept_rate":55,"display_name":"Bikas Katwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658978265,"creation_date":1536564106,"question_id":52252905,"body_markdown":"I am using cassandra version 3.11.3 and I have created cassandra cluster of 2 nodes in my local machine. \r\n\r\nI am creating a spark job(Java) that consumes data parallelly from all Cassandra nodes. \r\n\r\nI am using below setup to get my TokenRange Set for my cluster\r\nKeyspace:\r\n\r\n    CREATE KEYSPACE test_keyspace WITH REPLICATION = { &#39;class&#39; : &#39;NetworkTopologyStrategy&#39;, &#39;datacenter1&#39; : 1 }\r\n\r\n\r\n    private static Host getLocalHost(Metadata metadata, LoadBalancingPolicy policy) {\r\n    \r\n        Set&lt;Host&gt; allHosts = metadata.getAllHosts();\r\n        StringBuilder s = new StringBuilder();\r\n        Host localHost = null;\r\n        for (Host host : allHosts) {\r\n          if (policy.distance(host) == HostDistance.LOCAL) {\r\n            localHost = host;\r\n            break;\r\n          }\r\n        }\r\n        return localHost;\r\n      }\r\n    \r\n      public static TokenRange[] getTokenRangesAcrossNodes() {\r\n    \r\n        Metadata metadata = cluster.getMetadata();\r\n        Host localhost =\r\n            getLocalHost(metadata, cluster.getConfiguration().getPolicies().getLoadBalancingPolicy());\r\n        return unwrapTokenRanges(metadata.getTokenRanges(&quot;test_keyspace&quot;, localhost))\r\n            .toArray(new TokenRange[0]);\r\n      }\r\n    \r\n      private static Set&lt;TokenRange&gt; unwrapTokenRanges(Set&lt;TokenRange&gt; wrappedRanges) {\r\n        Set&lt;TokenRange&gt; tokenRanges = new HashSet&lt;&gt;();\r\n        for (TokenRange tokenRange : wrappedRanges) {\r\n          tokenRanges.addAll(tokenRange.unwrap());\r\n        }\r\n        return tokenRanges;\r\n      }\r\n\r\nSo, as per the above setup, I was assuming I will get 2 TokenRange when I call method `getTokenRangesAcrossNodes`, as I have 2 nodes. But instead I got 256. Then, I did some reading on vnodes, so I assume its token ranges of multiple vnodes. Further, when I use replication factor as 2, I get 512.\r\n\r\nMy first question is how did this 256 or 512 TokenRange is decided?\r\n\r\nSecondly, through my job if I query all these token ranges parallelly, wouldn&#39;t it be possible that many ranges don&#39;t return any result and I end up querying for no result in most cases? Isn&#39;t it better to get token ranges specific to nodes instead of vnodes? \r\n\r\nLast question, If I want to get the token range of nodes(not vnodes), what change I need to make in above setup?","title":"Reading data from multiple nodes in cassandra parallelly across nodes","body":"<p>I am using cassandra version 3.11.3 and I have created cassandra cluster of 2 nodes in my local machine. </p>\n\n<p>I am creating a spark job(Java) that consumes data parallelly from all Cassandra nodes. </p>\n\n<p>I am using below setup to get my TokenRange Set for my cluster\nKeyspace:</p>\n\n<pre><code>CREATE KEYSPACE test_keyspace WITH REPLICATION = { 'class' : 'NetworkTopologyStrategy', 'datacenter1' : 1 }\n\n\nprivate static Host getLocalHost(Metadata metadata, LoadBalancingPolicy policy) {\n\n    Set&lt;Host&gt; allHosts = metadata.getAllHosts();\n    StringBuilder s = new StringBuilder();\n    Host localHost = null;\n    for (Host host : allHosts) {\n      if (policy.distance(host) == HostDistance.LOCAL) {\n        localHost = host;\n        break;\n      }\n    }\n    return localHost;\n  }\n\n  public static TokenRange[] getTokenRangesAcrossNodes() {\n\n    Metadata metadata = cluster.getMetadata();\n    Host localhost =\n        getLocalHost(metadata, cluster.getConfiguration().getPolicies().getLoadBalancingPolicy());\n    return unwrapTokenRanges(metadata.getTokenRanges(\"test_keyspace\", localhost))\n        .toArray(new TokenRange[0]);\n  }\n\n  private static Set&lt;TokenRange&gt; unwrapTokenRanges(Set&lt;TokenRange&gt; wrappedRanges) {\n    Set&lt;TokenRange&gt; tokenRanges = new HashSet&lt;&gt;();\n    for (TokenRange tokenRange : wrappedRanges) {\n      tokenRanges.addAll(tokenRange.unwrap());\n    }\n    return tokenRanges;\n  }\n</code></pre>\n\n<p>So, as per the above setup, I was assuming I will get 2 TokenRange when I call method <code>getTokenRangesAcrossNodes</code>, as I have 2 nodes. But instead I got 256. Then, I did some reading on vnodes, so I assume its token ranges of multiple vnodes. Further, when I use replication factor as 2, I get 512.</p>\n\n<p>My first question is how did this 256 or 512 TokenRange is decided?</p>\n\n<p>Secondly, through my job if I query all these token ranges parallelly, wouldn't it be possible that many ranges don't return any result and I end up querying for no result in most cases? Isn't it better to get token ranges specific to nodes instead of vnodes? </p>\n\n<p>Last question, If I want to get the token range of nodes(not vnodes), what change I need to make in above setup?</p>\n"},{"tags":["java","list","java-stream","conditional-statements"],"comments":[{"owner":{"account_id":5444163,"reputation":1840,"user_id":4331279,"accept_rate":75,"display_name":"MWB"},"score":0,"creation_date":1550597256,"post_id":54771478,"comment_id":96323639,"body_markdown":"Why use a `stream`  if you are just replacing a loop for a `forEach`? see also: https://blog.jooq.org/2015/12/08/3-reasons-why-you-shouldnt-replace-your-for-loops-by-stream-foreach/","body":"Why use a <code>stream</code>  if you are just replacing a loop for a <code>forEach</code>? see also: <a href=\"https://blog.jooq.org/2015/12/08/3-reasons-why-you-shouldnt-replace-your-for-loops-by-stream-foreach/\" rel=\"nofollow noreferrer\">blog.jooq.org/2015/12/08/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1550597983,"creation_date":1550596039,"answer_id":54771520,"question_id":54771478,"body_markdown":"You may do it like so,\r\n\r\n    listRows.stream().allMatch(row -&gt; row.nameStr.equals(filter) &amp;&amp; row.nameStr.contains(filter));\r\n\r\n**Update**\r\n\r\nAs per Holgers suggestion, this can be further simplified as this.\r\n\r\n    listRows.stream().allMatch(row -&gt; row.nameStr.contains(filter));\r\n\r\nThe use of `equals` or `contains` may vary depending on your context.","title":"How to use stream on method that return boolean value with condition","body":"<p>You may do it like so,</p>\n\n<pre><code>listRows.stream().allMatch(row -&gt; row.nameStr.equals(filter) &amp;&amp; row.nameStr.contains(filter));\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>As per Holgers suggestion, this can be further simplified as this.</p>\n\n<pre><code>listRows.stream().allMatch(row -&gt; row.nameStr.contains(filter));\n</code></pre>\n\n<p>The use of <code>equals</code> or <code>contains</code> may vary depending on your context.</p>\n"},{"tags":[],"owner":{"account_id":5444163,"reputation":1840,"user_id":4331279,"accept_rate":75,"display_name":"MWB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550597359,"creation_date":1550596849,"answer_id":54771731,"question_id":54771478,"body_markdown":"I would use a stream filter to filter out all elements that are true and do a count on the result.\r\n\r\n    boolean result = (listRows.stream().filter(row -&gt; row.nameStr.equals(filter) &amp;&amp; row.nameStr.contains(filter)).count() == 0);\r\n\r\n","title":"How to use stream on method that return boolean value with condition","body":"<p>I would use a stream filter to filter out all elements that are true and do a count on the result.</p>\n\n<pre><code>boolean result = (listRows.stream().filter(row -&gt; row.nameStr.equals(filter) &amp;&amp; row.nameStr.contains(filter)).count() == 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550597964,"creation_date":1550597062,"answer_id":54771791,"question_id":54771478,"body_markdown":"Getting rid of all the negations using de-morgan&#39;s law such that \r\n\r\n    (!a || !b) =&gt; !(a &amp;&amp; b)\r\n\r\nyou can use `allMatch` as:\r\n\r\n    return listRows.stream()\r\n            .allMatch(row -&gt; row.nameStr.equals(filter)\r\n                    &amp;&amp; row.nameStr.contains(filter));\r\n\r\n\r\nwhich has a similar version using noneMatch :\r\n\r\n\r\n    return listRows.stream()\r\n            .noneMatch(row -&gt; (!row.nameStr.equals(filter) \r\n                    || !row.nameStr.contains(filter)));\r\n\r\nA logical improvement in your code could further be to just check for `contains` which would imply `equal`ity as well, this would cut down to:\r\n\r\n    return listRows.stream().allMatch(row -&gt; row.nameStr.contains(filter));","title":"How to use stream on method that return boolean value with condition","body":"<p>Getting rid of all the negations using de-morgan's law such that </p>\n\n<pre><code>(!a || !b) =&gt; !(a &amp;&amp; b)\n</code></pre>\n\n<p>you can use <code>allMatch</code> as:</p>\n\n<pre><code>return listRows.stream()\n        .allMatch(row -&gt; row.nameStr.equals(filter)\n                &amp;&amp; row.nameStr.contains(filter));\n</code></pre>\n\n<p>which has a similar version using noneMatch :</p>\n\n<pre><code>return listRows.stream()\n        .noneMatch(row -&gt; (!row.nameStr.equals(filter) \n                || !row.nameStr.contains(filter)));\n</code></pre>\n\n<p>A logical improvement in your code could further be to just check for <code>contains</code> which would imply <code>equal</code>ity as well, this would cut down to:</p>\n\n<pre><code>return listRows.stream().allMatch(row -&gt; row.nameStr.contains(filter));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9535555,"reputation":429,"user_id":7085856,"display_name":"Gustavo Marquez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658977962,"creation_date":1658977962,"answer_id":73146835,"question_id":54771478,"body_markdown":"This work for me, if any of the conditions become true\r\n\r\n    return listRows.stream().anyMatch(row -&gt; !row.nameStr.equals(filter) || !row.nameStr.contains(filter)) // boolean;\r\n\r\n","title":"How to use stream on method that return boolean value with condition","body":"<p>This work for me, if any of the conditions become true</p>\n<pre><code>return listRows.stream().anyMatch(row -&gt; !row.nameStr.equals(filter) || !row.nameStr.contains(filter)) // boolean;\n</code></pre>\n"}],"owner":{"account_id":14166407,"reputation":658,"user_id":10234240,"display_name":"tupac shakur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28653,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54771520,"answer_count":4,"score":8,"last_activity_date":1658977962,"creation_date":1550595867,"question_id":54771478,"body_markdown":"I am using this method:\r\n\r\n    public boolean checkRowsFilterNameBy(String filter){\r\n        waitForElmContainsText(searchButton, &quot;Search&quot;);\r\n        List&lt;AuditRow&gt; listRows = auditTable.getTable();\r\n        for(AuditRow row : listRows){\r\n            if(!row.nameStr.equals(filter)||!row.nameStr.contains(filter))\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nand I want to be able to change it using Stream , I&#39;ve tried the following, but I am missing something:\r\n\r\n    listRows.stream().forEach(auditRow -&gt; {\r\n               if(auditRow.actionStr.equals(filter))return true;} else return false;);\r\nbut I am getting an error.","title":"How to use stream on method that return boolean value with condition","body":"<p>I am using this method:</p>\n\n<pre><code>public boolean checkRowsFilterNameBy(String filter){\n    waitForElmContainsText(searchButton, \"Search\");\n    List&lt;AuditRow&gt; listRows = auditTable.getTable();\n    for(AuditRow row : listRows){\n        if(!row.nameStr.equals(filter)||!row.nameStr.contains(filter))\n            return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>and I want to be able to change it using Stream , I've tried the following, but I am missing something:</p>\n\n<pre><code>listRows.stream().forEach(auditRow -&gt; {\n           if(auditRow.actionStr.equals(filter))return true;} else return false;);\n</code></pre>\n\n<p>but I am getting an error.</p>\n"},{"tags":["java","android","google-maps","gradle"],"comments":[{"owner":{"account_id":3657916,"reputation":1263,"user_id":3048424,"accept_rate":60,"display_name":"Milad Yarmohammadi"},"score":0,"creation_date":1537781893,"post_id":52476387,"comment_id":91894134,"body_markdown":"did you remove google-services.json file?","body":"did you remove google-services.json file?"},{"owner":{"account_id":10205421,"reputation":246,"user_id":7534304,"display_name":"Joshua Best"},"score":0,"creation_date":1537781932,"post_id":52476387,"comment_id":91894158,"body_markdown":"Where will I find it? @MilaDroid","body":"Where will I find it? @MilaDroid"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1537782297,"post_id":52476387,"comment_id":91894359,"body_markdown":"Try to clean your project before you build it (Build -&gt; Clean Project)","body":"Try to clean your project before you build it (Build -&gt; Clean Project)"},{"owner":{"account_id":2458629,"reputation":1611,"user_id":2143225,"display_name":"Markus Penguin"},"score":2,"creation_date":1537782311,"post_id":52476387,"comment_id":91894371,"body_markdown":"I&#39;d actually recommend *not* using `com.google.android.gms:play-services` and instead use the dedicated Maps library (the one you are trying to remove). [Play Services is now split into many libraries](https://developers.google.com/android/guides/setup) so that you can include only the libraries that your app really needs (instead of all 20+ of them).","body":"I&#39;d actually recommend <i>not</i> using <code>com.google.android.gms:play-services</code> and instead use the dedicated Maps library (the one you are trying to remove). <a href=\"https://developers.google.com/android/guides/setup\" rel=\"nofollow noreferrer\">Play Services is now split into many libraries</a> so that you can include only the libraries that your app really needs (instead of all 20+ of them)."},{"owner":{"account_id":10205421,"reputation":246,"user_id":7534304,"display_name":"Joshua Best"},"score":0,"creation_date":1537782554,"post_id":52476387,"comment_id":91894506,"body_markdown":"Well im trying to implement a FusedLocationProviderClient, in the documentation is says to use  Google Play Services. Unless you know which specific library I need.","body":"Well im trying to implement a FusedLocationProviderClient, in the documentation is says to use  Google Play Services. Unless you know which specific library I need."},{"owner":{"account_id":10205421,"reputation":246,"user_id":7534304,"display_name":"Joshua Best"},"score":0,"creation_date":1537782759,"post_id":52476387,"comment_id":91894624,"body_markdown":"@MarkusPenguin I have found that it is com.google.android.gms:play-services-location:15.0.1. Thank you for the assistance, much appreciated. I shall use this in the future.","body":"@MarkusPenguin I have found that it is com.google.android.gms:play-services-location:15.0.1. Thank you for the assistance, much appreciated. I shall use this in the future."}],"answers":[{"tags":[],"owner":{"account_id":3657916,"reputation":1263,"user_id":3048424,"accept_rate":60,"display_name":"Milad Yarmohammadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537782351,"creation_date":1537782351,"answer_id":52476596,"question_id":52476387,"body_markdown":"Remove `google-services.json` from *app/google-services.json* path.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HMpgD.png\r\n\r\nthen **Clean Project**. hope it helps :)","title":"Removing play services maps implementation from gradle","body":"<p>Remove <code>google-services.json</code> from <em>app/google-services.json</em> path.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HMpgD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HMpgD.png\" alt=\"enter image description here\"></a></p>\n\n<p>then <strong>Clean Project</strong>. hope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":6736921,"reputation":948,"user_id":5191371,"accept_rate":0,"display_name":"Milad Bahmanabadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658977610,"creation_date":1537782933,"answer_id":52476758,"question_id":52476387,"body_markdown":"for this kind of problems, deleting intermediates folder will help\r\n\r\ntry to delete it or delete debug folder in\r\n&gt;app/build/intermediates/transforms/desugar\r\n\r\nthen rebuild your project\r\n","title":"Removing play services maps implementation from gradle","body":"<p>for this kind of problems, deleting intermediates folder will help</p>\n<p>try to delete it or delete debug folder in</p>\n<blockquote>\n<p>app/build/intermediates/transforms/desugar</p>\n</blockquote>\n<p>then rebuild your project</p>\n"}],"owner":{"account_id":10205421,"reputation":246,"user_id":7534304,"display_name":"Joshua Best"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658977610,"creation_date":1537781660,"question_id":52476387,"body_markdown":"I am trying to implement `com.google.android.gms:play-services:11.0.1` in my project, when I use this I get a warning that I shouldn&#39;t be using it along side with `com.google.android.gms:play-services-maps:15.0.1`, as the first library implements everything I need for google maps.\r\n\r\nWhen I remove it I can successfully build my gradle but when I run the app I am getting the following error: \r\n\r\n    Unexpected inputs: ImmutableJarInput{name=com.google.android.gms:play-services-tasks:15.0.1, file=/Users/name/Documents/XXXX/XXXX/app/build/intermediates/transforms/desugar/debug/25.jar, contentTypes=CLASSES, scopes=EXTERNAL_LIBRARIES, status=REMOVED}, ImmutableJarInput{name=com.google.android.gms:play-services-maps:15.0.1, \r\n    \r\n    file=/Users/name/Documents/XXXX/XXXX/app/build/intermediates/transforms/desugar/debug/17.jar, contentTypes=CLASSES, scopes=EXTERNAL_LIBRARIES, status=REMOVED}, ImmutableJarInput{name=com.google.android.gms:play-services-base:15.0.1, \r\n    \r\n    file=/Users/name/Documents/XXXX/XXXX/app/build/intermediates/transforms/desugar/debug/24.jar, contentTypes=CLASSES, scopes=EXTERNAL_LIBRARIES, status=REMOVED}, ImmutableJarInput{name=com.google.android.gms:play-services-basement:15.0.1, \r\n    \r\n    file=/Users/name/Documents/XXXX/XXXX/app/build/intermediates/transforms/desugar/debug/26.jar, contentTypes=CLASSES, scopes=EXTERNAL_LIBRARIES, status=REMOVED}\r\n\r\nIs there any way to &#39;safely&#39; remove the library from my gradle?\r\n\r\nThank you.\r\n\r\n","title":"Removing play services maps implementation from gradle","body":"<p>I am trying to implement <code>com.google.android.gms:play-services:11.0.1</code> in my project, when I use this I get a warning that I shouldn't be using it along side with <code>com.google.android.gms:play-services-maps:15.0.1</code>, as the first library implements everything I need for google maps.</p>\n\n<p>When I remove it I can successfully build my gradle but when I run the app I am getting the following error: </p>\n\n<pre><code>Unexpected inputs: ImmutableJarInput{name=com.google.android.gms:play-services-tasks:15.0.1, file=/Users/name/Documents/XXXX/XXXX/app/build/intermediates/transforms/desugar/debug/25.jar, contentTypes=CLASSES, scopes=EXTERNAL_LIBRARIES, status=REMOVED}, ImmutableJarInput{name=com.google.android.gms:play-services-maps:15.0.1, \n\nfile=/Users/name/Documents/XXXX/XXXX/app/build/intermediates/transforms/desugar/debug/17.jar, contentTypes=CLASSES, scopes=EXTERNAL_LIBRARIES, status=REMOVED}, ImmutableJarInput{name=com.google.android.gms:play-services-base:15.0.1, \n\nfile=/Users/name/Documents/XXXX/XXXX/app/build/intermediates/transforms/desugar/debug/24.jar, contentTypes=CLASSES, scopes=EXTERNAL_LIBRARIES, status=REMOVED}, ImmutableJarInput{name=com.google.android.gms:play-services-basement:15.0.1, \n\nfile=/Users/name/Documents/XXXX/XXXX/app/build/intermediates/transforms/desugar/debug/26.jar, contentTypes=CLASSES, scopes=EXTERNAL_LIBRARIES, status=REMOVED}\n</code></pre>\n\n<p>Is there any way to 'safely' remove the library from my gradle?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","scala","sbt","mill"],"answers":[{"tags":[],"owner":{"account_id":7328251,"reputation":4437,"user_id":5582028,"display_name":"Matthias Berndt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658973942,"creation_date":1658965325,"answer_id":73145722,"question_id":73145091,"body_markdown":"That is a bug in the Scala compiler. Please update to the latest bugfix release of the branch you&#39;re using, i. e. 2.13.8 or 2.12.16.\r\n\r\nThe Scala version installed on the system is irrelevant as Mill doesn&#39;t use it. It will instead download the version that you specify in your build. So you need to add something like `def scalaVersion = &quot;2.13.8&quot;`.","title":"Mill, Cask, and SBT","body":"<p>That is a bug in the Scala compiler. Please update to the latest bugfix release of the branch you're using, i. e. 2.13.8 or 2.12.16.</p>\n<p>The Scala version installed on the system is irrelevant as Mill doesn't use it. It will instead download the version that you specify in your build. So you need to add something like <code>def scalaVersion = &quot;2.13.8&quot;</code>.</p>\n"}],"owner":{"account_id":13909230,"reputation":9,"user_id":19636063,"display_name":"Basil Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1658977571,"creation_date":1658959478,"question_id":73145091,"body_markdown":"I am following this tutorial: https://www.lihaoyi.com/post/SimpleWebandApiServerswithScala.html. I get to the part where I run &quot;`./mill -w app.runBackground`&quot;, and I receive the following error:\r\n```\r\n&quot;[error] java.lang.RuntimeException: /packages cannot be represented as URI&quot;.\r\n```\r\n\r\nI&#39;ve tried the advice in this ticket, but it didn&#39;t work for me: https://stackoverflow.com/questions/60308229/scala-packages-cannot-be-represented-as-uri.\r\n\r\n&quot;`java -version`&quot; gives me &quot;`openjdk version &quot;17.0.2&quot; 2022-01-18`&quot;.\r\n\r\n&quot;`scala --version`&quot; gives me `3.1.3`.\r\n\r\nAny thoughts?","title":"Mill, Cask, and SBT","body":"<p>I am following this tutorial: <a href=\"https://www.lihaoyi.com/post/SimpleWebandApiServerswithScala.html\" rel=\"nofollow noreferrer\">https://www.lihaoyi.com/post/SimpleWebandApiServerswithScala.html</a>. I get to the part where I run &quot;<code>./mill -w app.runBackground</code>&quot;, and I receive the following error:</p>\n<pre><code>&quot;[error] java.lang.RuntimeException: /packages cannot be represented as URI&quot;.\n</code></pre>\n<p>I've tried the advice in this ticket, but it didn't work for me: <a href=\"https://stackoverflow.com/questions/60308229/scala-packages-cannot-be-represented-as-uri\">Scala: packages cannot be represented as URI</a>.</p>\n<p>&quot;<code>java -version</code>&quot; gives me &quot;<code>openjdk version &quot;17.0.2&quot; 2022-01-18</code>&quot;.</p>\n<p>&quot;<code>scala --version</code>&quot; gives me <code>3.1.3</code>.</p>\n<p>Any thoughts?</p>\n"},{"tags":["java","windows","visual-studio-code","terminal"],"comments":[{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1658933695,"post_id":73139951,"comment_id":129176243,"body_markdown":"Did you save the file Hello.java first?","body":"Did you save the file Hello.java first?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1658934184,"post_id":73139951,"comment_id":129176479,"body_markdown":"`$?` is the result of the last command. If you didn&#39;t execute a command before checking it, what is its value?","body":"<code>$?</code> is the result of the last command. If you didn&#39;t execute a command before checking it, what is its value?"}],"answers":[{"tags":[],"owner":{"account_id":23764688,"reputation":189,"user_id":17779589,"display_name":"Akhilesh Bangalore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658946230,"creation_date":1658946230,"answer_id":73142896,"question_id":73139951,"body_markdown":"The image shows a Powershell script on the console. \r\nUnless I am missing something here, all that needs to be done is for the java file to be compiled to generate a class file that can be executed by the runtime.\r\n\r\n```\r\n&gt; javac Hello.java\r\n&gt; java Hello\r\n```","title":"Why am I not getting output in terminal nor it is creating a .class file in java during execution?","body":"<p>The image shows a Powershell script on the console.\nUnless I am missing something here, all that needs to be done is for the java file to be compiled to generate a class file that can be executed by the runtime.</p>\n<pre><code>&gt; javac Hello.java\n&gt; java Hello\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658976521,"creation_date":1658976521,"answer_id":73146706,"question_id":73139951,"body_markdown":"It looks like you have the *Code Runner* extension installed, and use **Run Code** to run the code. If your project structure has multiple layers of folders, running code with **Run Code** in deeper folders will fail. \r\n\r\nFor a better working experience, please use the **Run Java** of the java extension itself to run the code. You can use the methods in the following two pictures.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BQ06g.png\r\n  [2]: https://i.stack.imgur.com/bpXCL.png","title":"Why am I not getting output in terminal nor it is creating a .class file in java during execution?","body":"<p>It looks like you have the <em>Code Runner</em> extension installed, and use <strong>Run Code</strong> to run the code. If your project structure has multiple layers of folders, running code with <strong>Run Code</strong> in deeper folders will fail.</p>\n<p>For a better working experience, please use the <strong>Run Java</strong> of the java extension itself to run the code. You can use the methods in the following two pictures.</p>\n<p><a href=\"https://i.stack.imgur.com/BQ06g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BQ06g.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/bpXCL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bpXCL.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25909029,"reputation":1,"user_id":19633635,"display_name":"June"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658976521,"creation_date":1658932720,"question_id":73139951,"body_markdown":"//this is a simple program of java[the image is from vs code terminal][1]\r\n\r\n    public class Hello {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello World&quot;);\r\n    }\r\n}\r\n\r\n  [1]: https://i.stack.imgur.com/Uc5Ar.png","title":"Why am I not getting output in terminal nor it is creating a .class file in java during execution?","body":"<p>//this is a simple program of java<a href=\"https://i.stack.imgur.com/Uc5Ar.png\" rel=\"nofollow noreferrer\">the image is from vs code terminal</a></p>\n<pre><code>public class Hello {\npublic static void main(String[] args) {\n    System.out.println(&quot;Hello World&quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","oracle","hibernate","mapping","ora-00942"],"answers":[{"tags":[],"owner":{"account_id":319894,"reputation":43513,"user_id":637889,"accept_rate":93,"display_name":"andyb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303206473,"creation_date":1303206473,"answer_id":5714500,"question_id":5714443,"body_markdown":"Looks like you might be missing the [&#39;@Table&#39;][1] annotation.\r\n\r\nYou can add it like so:\r\n\r\n    @Entity\r\n    @Table(name=&quot;idt&quot;)\r\n    public class Idt {\r\n        ...\r\n    }\r\n\r\n  [1]: http://download.oracle.com/javaee/6/api/javax/persistence/Table.html","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>Looks like you might be missing the <a href=\"http://download.oracle.com/javaee/6/api/javax/persistence/Table.html\" rel=\"nofollow\">'@Table'</a> annotation.</p>\n\n<p>You can add it like so:</p>\n\n<pre><code>@Entity\n@Table(name=\"idt\")\npublic class Idt {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115681,"reputation":2265,"user_id":303637,"accept_rate":79,"display_name":"Peter Zeller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303206790,"creation_date":1303206790,"answer_id":5714572,"question_id":5714443,"body_markdown":"Maybe you have chosen the wrong database:\r\n\r\n\t\r\njdbc:oracle:thin:@localhost:1521/**xe**\r\n\t\r\nCREATE TABLE &quot;**HR**&quot;.&quot;IDT&quot;\r\n","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>Maybe you have chosen the wrong database:</p>\n\n<p>jdbc:oracle:thin:@localhost:1521/<strong>xe</strong></p>\n\n<p>CREATE TABLE \"<strong>HR</strong>\".\"IDT\"</p>\n"},{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1303206981,"creation_date":1303206981,"answer_id":5714613,"question_id":5714443,"body_markdown":"Perhaps you need to specify the schema, or something like that:\r\n\r\n    @Entity \r\n    @Table(schema = &quot;HR&quot;)\r\n    public class Idt { ... }\r\n\r\nAlso make sure that account used by Hibernate (`SYSTEM`) has rights to access that table.","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>Perhaps you need to specify the schema, or something like that:</p>\n\n<pre><code>@Entity \n@Table(schema = \"HR\")\npublic class Idt { ... }\n</code></pre>\n\n<p>Also make sure that account used by Hibernate (<code>SYSTEM</code>) has rights to access that table.</p>\n"},{"tags":[],"owner":{"account_id":2679833,"reputation":1,"user_id":2315413,"display_name":"sp-47"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366806208,"creation_date":1366804959,"answer_id":16191508,"question_id":5714443,"body_markdown":"My Problem : In my case, I had two databases (DB-1 and DB-2) and the table where I needed to `insert/modify` was in DB-2 whene I&#39;m connected to DB-1.  \r\nMy solution : Creat a public synonymous in DB-1 with the `DB-2.table name`.  \r\n \r\nThe script ( executed in DB-1 ) :  \r\n`CREATE OR REPLACE PUBLIC SYNONYM &quot;TABLE&quot; FOR &quot;SYNONYMOUS &quot;.&quot;TABLE&quot;@&quot;PARAMETRAGE_LINK&quot;;`","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>My Problem : In my case, I had two databases (DB-1 and DB-2) and the table where I needed to <code>insert/modify</code> was in DB-2 whene I'm connected to DB-1.<br>\nMy solution : Creat a public synonymous in DB-1 with the <code>DB-2.table name</code>.  </p>\n\n<p>The script ( executed in DB-1 ) :<br>\n<code>CREATE OR REPLACE PUBLIC SYNONYM \"TABLE\" FOR \"SYNONYMOUS \".\"TABLE\"@\"PARAMETRAGE_LINK\";</code></p>\n"},{"tags":[],"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1392090544,"creation_date":1392090544,"answer_id":21692716,"question_id":5714443,"body_markdown":"I ran into the same issue and after long time of trying to find out I was getting \r\n\r\n    java.sql.SQLException: ORA-00942: table or view does not exist\r\n\r\nI found out its because the app did nto have access to the table stored in my database under schema called `&quot;system&quot;`. The problem was solved by adding the following line inside my `Hibernate.cfg.xml file` : here is the line added to give absolute path/access to the table I created .\r\n\r\n    &lt;property name=&quot;hibernate.default_schema&quot;&gt;system&lt;/property&gt; \r\n\r\nHere is the full `hibernate.cfg.xml` configuration :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n    &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n         \t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;oracle.jdbc.OracleDriver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:oracle:thin:@localhost:1521:oracledb&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;usrname&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.default_schema&quot;&gt;system&lt;/property&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;mapping resource=&quot;com/mkyong/user/DBUser.hbm.xml&quot;&gt;&lt;/mapping&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nI hope this will help someone someday.","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>I ran into the same issue and after long time of trying to find out I was getting </p>\n\n<pre><code>java.sql.SQLException: ORA-00942: table or view does not exist\n</code></pre>\n\n<p>I found out its because the app did nto have access to the table stored in my database under schema called <code>\"system\"</code>. The problem was solved by adding the following line inside my <code>Hibernate.cfg.xml file</code> : here is the line added to give absolute path/access to the table I created .</p>\n\n<pre><code>&lt;property name=\"hibernate.default_schema\"&gt;system&lt;/property&gt; \n</code></pre>\n\n<p>Here is the full <code>hibernate.cfg.xml</code> configuration :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n\"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n\"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;oracle.jdbc.OracleDriver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:oracle:thin:@localhost:1521:oracledb&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;usrname&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;password&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\n        &lt;property name=\"hibernate.default_schema\"&gt;system&lt;/property&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n        &lt;mapping resource=\"com/mkyong/user/DBUser.hbm.xml\"&gt;&lt;/mapping&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>I hope this will help someone someday.</p>\n"},{"tags":[],"owner":{"account_id":6147792,"reputation":157,"user_id":4793214,"display_name":"Varun Vashista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511875581,"creation_date":1511875581,"answer_id":47532734,"question_id":5714443,"body_markdown":"&gt; java.sql.SQLException: ORA-00942: table or view does not exist.\r\n\r\nThis exception means that your table is not created, and you are performing queries on it. So to resolve this exception you have to create the table first...\r\n\r\nAdd this line to your configuration file. Here Hibernate will create your table automatically.\r\n\r\n    &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\r\nBut if you want to update your table further use this instead, \r\n\r\n    &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<blockquote>\n  <p>java.sql.SQLException: ORA-00942: table or view does not exist.</p>\n</blockquote>\n\n<p>This exception means that your table is not created, and you are performing queries on it. So to resolve this exception you have to create the table first...</p>\n\n<p>Add this line to your configuration file. Here Hibernate will create your table automatically.</p>\n\n<pre><code>&lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n</code></pre>\n\n<p>But if you want to update your table further use this instead, </p>\n\n<pre><code>&lt;property name=\"hbm2ddl.auto\"&gt;update&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12080609,"reputation":11,"user_id":8832496,"display_name":"suryakant sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535681558,"creation_date":1535681558,"answer_id":52107586,"question_id":5714443,"body_markdown":"use `&lt;property name=&quot;javax.persistence.schema-generation.database.action&quot;&gt;`create`&lt;/property&gt;` in your hibernate config file. voila..!!","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>use <code>&lt;property name=\"javax.persistence.schema-generation.database.action\"&gt;</code>create<code>&lt;/property&gt;</code> in your hibernate config file. voila..!!</p>\n"},{"tags":[],"owner":{"account_id":4746687,"reputation":164,"user_id":4194335,"display_name":"jmoran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556228696,"creation_date":1556228696,"answer_id":55858067,"question_id":5714443,"body_markdown":"In my case, I was connected with Hibernate with a user without GRANT on the table and schema what I was trying to query.","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>In my case, I was connected with Hibernate with a user without GRANT on the table and schema what I was trying to query.</p>\n"},{"tags":[],"owner":{"account_id":13164763,"reputation":1,"user_id":15296037,"display_name":"pralhad behare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614456503,"creation_date":1614455721,"answer_id":66402938,"question_id":5714443,"body_markdown":"Issue could be with different table(might not exists or grant privilege is not for that table) mapped due to foreign key or synonym.\r\n\r\nFor me the issue was with a column in that table which had mapping with another schema-table, and it was missing.ex, public-synonym.","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>Issue could be with different table(might not exists or grant privilege is not for that table) mapped due to foreign key or synonym.</p>\n<p>For me the issue was with a column in that table which had mapping with another schema-table, and it was missing.ex, public-synonym.</p>\n"},{"tags":[],"owner":{"account_id":16224752,"reputation":1,"user_id":11715418,"display_name":"sundeep katiyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647495864,"creation_date":1647495864,"answer_id":71507570,"question_id":5714443,"body_markdown":"in my case synonym of the table was not there, and in code we were using table name directly, in this case the synonym should be there, or use query like select * from DBOwner.tablename in code","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>in my case synonym of the table was not there, and in code we were using table name directly, in this case the synonym should be there, or use query like select * from DBOwner.tablename in code</p>\n"},{"tags":[],"owner":{"account_id":15511867,"reputation":111,"user_id":11190435,"display_name":"Cihat &#214;zdenoğlu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649255270,"creation_date":1649255270,"answer_id":71768600,"question_id":5714443,"body_markdown":"If you&#39;re working with **Oracle DB**, also check connection user&#39;s **SELECT** rights on the **SEQUENCE** used for that table. The same error occurs and it may be misleading..","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>If you're working with <strong>Oracle DB</strong>, also check connection user's <strong>SELECT</strong> rights on the <strong>SEQUENCE</strong> used for that table. The same error occurs and it may be misleading..</p>\n"},{"tags":[],"owner":{"account_id":1490930,"reputation":161,"user_id":1398029,"display_name":"KKA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658976426,"creation_date":1658976426,"answer_id":73146694,"question_id":5714443,"body_markdown":"if your table is new then check table grants for that user.","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>if your table is new then check table grants for that user.</p>\n"}],"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37541,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5714613,"answer_count":12,"score":3,"last_activity_date":1658976426,"creation_date":1303206120,"question_id":5714443,"body_markdown":"I&#39;m trying to run a simple Hibernate application, but I get this error:\r\n\r\n    org.hibernate.exception.SQLGrammarException: could not execute query\r\n    java.sql.SQLException: ORA-00942: table or view does not exist\r\n\r\nMy Entity:\r\n\r\n    package beans;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    public class Idt {\r\n    \t@Id\r\n    \tprivate int id;\r\n    \t@Column(name=&quot;name&quot;)\r\n    \tprivate String name;\r\n    \t\r\n    \tpublic Idt(){\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    }\r\n\r\nMy table is called IDT in the Hr user.\r\n\r\n    CREATE TABLE &quot;HR&quot;.&quot;IDT&quot;\r\n      (\r\n        &quot;ID&quot;   NUMBER NOT NULL ENABLE,\r\n        &quot;NAME&quot; VARCHAR2(20 BYTE),\r\n        CONSTRAINT &quot;IDT_PK&quot; PRIMARY KEY (&quot;ID&quot;) USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT) TABLESPACE &quot;USERS&quot; ENABLE\r\n      )\r\n      PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING STORAGE\r\n      (\r\n        INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT\r\n      )\r\n      TABLESPACE &quot;USERS&quot; ;\r\n\r\nHibernate.cfg.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n              &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n              &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n            \r\n                &lt;hibernate-configuration&gt;\r\n    \r\n                    &lt;session-factory&gt;\r\n    \r\n                        &lt;!-- Database connection settings --&gt;\r\n                        &lt;property name=&quot;connection.driver_class&quot;&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\r\n                        &lt;property name=&quot;connection.url&quot;&gt;jdbc:oracle:thin:@localhost:1521/xe&lt;/property&gt;\r\n                        &lt;property name=&quot;connection.username&quot;&gt;SYSTEM&lt;/property&gt;\r\n                        &lt;property name=&quot;connection.password&quot;&gt;19141914&lt;/property&gt;\r\n    \r\n                        &lt;!-- SQL dialect --&gt;\r\n                        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.OracleDialect&lt;/property&gt;\r\n    \r\n                        &lt;!-- Echo all executed SQL to stdout --&gt;\r\n                        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n                        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n                        &lt;mapping class=&quot;beans.Idt&quot;/&gt;\r\n                        \r\n       \r\n    \r\n                    &lt;/session-factory&gt;\r\n    \r\n                &lt;/hibernate-configuration&gt;     \r\n\r\nI guess that it is something with the mapping of the entity because of the SQLException: \r\n\r\n    java.sql.SQLException: ORA-00942: table or view does not exist\r\n\r\n \r\n\r\n","title":"ORA-00942 SQLException with Hibernate (Unable to find a table)","body":"<p>I'm trying to run a simple Hibernate application, but I get this error:</p>\n\n<pre><code>org.hibernate.exception.SQLGrammarException: could not execute query\njava.sql.SQLException: ORA-00942: table or view does not exist\n</code></pre>\n\n<p>My Entity:</p>\n\n<pre><code>package beans;\n\nimport javax.persistence.*;\n\n@Entity\npublic class Idt {\n    @Id\n    private int id;\n    @Column(name=\"name\")\n    private String name;\n\n    public Idt(){\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>My table is called IDT in the Hr user.</p>\n\n<pre><code>CREATE TABLE \"HR\".\"IDT\"\n  (\n    \"ID\"   NUMBER NOT NULL ENABLE,\n    \"NAME\" VARCHAR2(20 BYTE),\n    CONSTRAINT \"IDT_PK\" PRIMARY KEY (\"ID\") USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT) TABLESPACE \"USERS\" ENABLE\n  )\n  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING STORAGE\n  (\n    INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT\n  )\n  TABLESPACE \"USERS\" ;\n</code></pre>\n\n<p>Hibernate.cfg.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n          \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n          \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n\n            &lt;hibernate-configuration&gt;\n\n                &lt;session-factory&gt;\n\n                    &lt;!-- Database connection settings --&gt;\n                    &lt;property name=\"connection.driver_class\"&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\n                    &lt;property name=\"connection.url\"&gt;jdbc:oracle:thin:@localhost:1521/xe&lt;/property&gt;\n                    &lt;property name=\"connection.username\"&gt;SYSTEM&lt;/property&gt;\n                    &lt;property name=\"connection.password\"&gt;19141914&lt;/property&gt;\n\n                    &lt;!-- SQL dialect --&gt;\n                    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.OracleDialect&lt;/property&gt;\n\n                    &lt;!-- Echo all executed SQL to stdout --&gt;\n                    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n                    &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n                    &lt;mapping class=\"beans.Idt\"/&gt;\n\n\n\n                &lt;/session-factory&gt;\n\n            &lt;/hibernate-configuration&gt;     \n</code></pre>\n\n<p>I guess that it is something with the mapping of the entity because of the SQLException: </p>\n\n<pre><code>java.sql.SQLException: ORA-00942: table or view does not exist\n</code></pre>\n"},{"tags":["java","cmd","jar","java-11","javac"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658976329,"creation_date":1658976329,"answer_id":73146683,"question_id":73146616,"body_markdown":"The problem will be that you have given an incorrect classpath.  So based on the details in the question, you need to do this.\r\n\r\nFind out the full pathname for the &quot;json-simple-1.1.jar&quot; file, then\r\n\r\n      cd c:/myCode/DataFeedProject/src\r\n      javac -d ../bin -cp &lt;jar-pathname&gt; *.java\r\n\r\nThe thing is that if `javac` cannot find a JAR that is supposedly on the classpath (&#39;cos you gave an incorrect path) it doesn&#39;t tell you.  It just ignores it.\r\n\r\nIf you do the above without `-d ../bin`, the compiler will put the `.class` files into the current directory, which is not what you want.\r\n\r\n(I can&#39;t actually check this, &#39;cos ... Windows :-( )\r\n\r\n","title":"Java compiler from command Line not including external Jar files","body":"<p>The problem will be that you have given an incorrect classpath.  So based on the details in the question, you need to do this.</p>\n<p>Find out the full pathname for the &quot;json-simple-1.1.jar&quot; file, then</p>\n<pre><code>  cd c:/myCode/DataFeedProject/src\n  javac -d ../bin -cp &lt;jar-pathname&gt; *.java\n</code></pre>\n<p>The thing is that if <code>javac</code> cannot find a JAR that is supposedly on the classpath ('cos you gave an incorrect path) it doesn't tell you.  It just ignores it.</p>\n<p>If you do the above without <code>-d ../bin</code>, the compiler will put the <code>.class</code> files into the current directory, which is not what you want.</p>\n<p>(I can't actually check this, 'cos ... Windows :-( )</p>\n"}],"owner":{"account_id":13460002,"reputation":1,"user_id":9712390,"display_name":"tw123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658976329,"creation_date":1658975623,"question_id":73146616,"body_markdown":"Havnt used java in 3 years or so. Found something I needed to do and thought I had some good old code I could reuse. Got everything working the way I need to but am a little thrown off on how jar imports seem to have changed a bit with the module stuff in this newer version of java since last touching it. Runs fine within eclipse but every time I try to run on command Line I get 12-15 errors. They are all something like this.... \r\n\r\n```\r\nDriver.java:5: error: package org.json.simple.parser does not exist\r\nimport org.json.simple.parser.ParseException;\r\n                             ^\r\n.\\jsonParse.java:10: error: package org.json.simple does not exist\r\nimport org.json.simple.JSONArray;\r\n                      ^\r\n.\\jsonParse.java:11: error: package org.json.simple does not exist\r\nimport org.json.simple.JSONObject;\r\n                      ^\r\n.\\jsonParse.java:12: error: package org.json.simple.parser does not exist\r\nimport org.json.simple.parser.JSONParser;\r\n                             ^\r\n.\\jsonParse.java:13: error: package org.json.simple.parser does not exist\r\nimport org.json.simple.parser.ParseException;\r\n                             ^\r\n.\\jsonParse.java:17: error: cannot find symbol\r\n        public static ArrayList&lt;Products&gt; parser(String url) throws FileNotFoundException, IOException, ParseException {\r\n\r\n```\r\n\r\nObviously its complaining about references to json-simple-1.1.jar but I have that sitting in the referenced Library folder within a java project in eclipse, and it is connected under classpath in run config. \r\n\r\nHere is the project structure\r\n\r\n```\r\nIn eclipse-&gt;\r\nDataFeedProject (c:/myCode/DataFeedProject)\r\n\r\n    src\r\n      driver.java (main)\r\n      jsonParser.java\r\n      Products.java\r\n      apiClient.java\r\n      xmlGenerator.java\r\n    JRE System Library [JavaSE-17]\r\n    Referenced Libraries\r\n       json-simple-1.1.jar (c:/myCode)\r\n    xmlOutput.xml\r\n    productStatus.txt\r\n\r\n\r\nfile explorer -&gt; these four are only visible in file explorer\r\n\r\n    .settings (containing eclipse resources)\r\n    bin (all the .class files eclipse generated)\r\n    .classpath\r\n    .project\r\n\r\n```\r\n\r\nI have spent more time than I would like to admit trying to figure out why I cant get it running from command line. Need a compiled version to send off to server via ssh where I will only be able to run via cmd. Feel like I have exhausted about ever combination of javac -d path -cp path Driver.java etc etc. \r\n\r\nAppreciate any help. Thanks ","title":"Java compiler from command Line not including external Jar files","body":"<p>Havnt used java in 3 years or so. Found something I needed to do and thought I had some good old code I could reuse. Got everything working the way I need to but am a little thrown off on how jar imports seem to have changed a bit with the module stuff in this newer version of java since last touching it. Runs fine within eclipse but every time I try to run on command Line I get 12-15 errors. They are all something like this....</p>\n<pre><code>Driver.java:5: error: package org.json.simple.parser does not exist\nimport org.json.simple.parser.ParseException;\n                             ^\n.\\jsonParse.java:10: error: package org.json.simple does not exist\nimport org.json.simple.JSONArray;\n                      ^\n.\\jsonParse.java:11: error: package org.json.simple does not exist\nimport org.json.simple.JSONObject;\n                      ^\n.\\jsonParse.java:12: error: package org.json.simple.parser does not exist\nimport org.json.simple.parser.JSONParser;\n                             ^\n.\\jsonParse.java:13: error: package org.json.simple.parser does not exist\nimport org.json.simple.parser.ParseException;\n                             ^\n.\\jsonParse.java:17: error: cannot find symbol\n        public static ArrayList&lt;Products&gt; parser(String url) throws FileNotFoundException, IOException, ParseException {\n\n</code></pre>\n<p>Obviously its complaining about references to json-simple-1.1.jar but I have that sitting in the referenced Library folder within a java project in eclipse, and it is connected under classpath in run config.</p>\n<p>Here is the project structure</p>\n<pre><code>In eclipse-&gt;\nDataFeedProject (c:/myCode/DataFeedProject)\n\n    src\n      driver.java (main)\n      jsonParser.java\n      Products.java\n      apiClient.java\n      xmlGenerator.java\n    JRE System Library [JavaSE-17]\n    Referenced Libraries\n       json-simple-1.1.jar (c:/myCode)\n    xmlOutput.xml\n    productStatus.txt\n\n\nfile explorer -&gt; these four are only visible in file explorer\n\n    .settings (containing eclipse resources)\n    bin (all the .class files eclipse generated)\n    .classpath\n    .project\n\n</code></pre>\n<p>I have spent more time than I would like to admit trying to figure out why I cant get it running from command line. Need a compiled version to send off to server via ssh where I will only be able to run via cmd. Feel like I have exhausted about ever combination of javac -d path -cp path Driver.java etc etc.</p>\n<p>Appreciate any help. Thanks</p>\n"},{"tags":["java","android","android-studio","retrofit","httprequest"],"comments":[{"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"score":0,"creation_date":1658961007,"post_id":73142611,"comment_id":129185091,"body_markdown":"Did you try making the same call using a tool like Postman as a speed comparison?","body":"Did you try making the same call using a tool like Postman as a speed comparison?"},{"owner":{"account_id":23824421,"reputation":3,"user_id":17831676,"display_name":"yusufff"},"score":0,"creation_date":1658990147,"post_id":73142611,"comment_id":129189923,"body_markdown":"No I did not, Thanks for your advice","body":"No I did not, Thanks for your advice"}],"owner":{"account_id":23824421,"reputation":3,"user_id":17831676,"display_name":"yusufff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658976068,"creation_date":1658944684,"question_id":73142611,"body_markdown":"I am developping an android application and I use retrofit to send and get the data from a server. However, the http post request that I use took 800 ms on average. The server side works fast, it looks like there is no problem there. I want to reduce the timestamp to maximum 400 ms, could you describe a technic to do it or could you provide any resources?\r\n\r\nHere is my code on android studio, thanks on advance...\r\n\r\nthis is the function that I apply the put request to the server:\r\n\r\n    public static void getEntries(int subjectID, int commentID, int userCode){\r\n        Retrofit retrofit=ApiClient.getRetrofit();\r\n        Call&lt;List&lt;Entry&gt;&gt; call=retrofit.create(ApiInterface.class).getEntries(subjectID,commentID,userCode);\r\n\r\n        call.enqueue(new Callback&lt;List&lt;Entry&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Entry&gt;&gt; call, Response&lt;List&lt;Entry&gt;&gt; response) {\r\n                if(!response.isSuccessful()){\r\n                    System.out.println(&quot;code: &quot;+response.code());\r\n                    return;\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Entry&gt;&gt; call, Throwable t) {\r\n                System.out.println(t.getMessage());\r\n            }\r\n        });\r\n    }\r\n\r\nThis is the interface that I created:\r\n\r\n    public interface ApiInterface {\r\n    @FormUrlEncoded\r\n    @POST(&quot;showEntries.php&quot;)\r\n    Call&lt;List&lt;Entry&gt;&gt; getEntries(@Field(&quot;subjectID&quot;) int subjectID,\r\n                                 @Field(&quot;commentID&quot;) int commentID,\r\n                                 @Field(&quot;userCode&quot;) int userCode);\r\n}\r\n\r\nThis is the singleton pattern to get retrofit instance:\r\n\r\n    public class ApiClient {\r\n    private static final String BASE_URL=&quot;someurl&quot;;\r\n    private static Retrofit retrofit=null;\r\n\r\n    public static Retrofit getRetrofit(){\r\n        if(retrofit==null){\r\n            Gson gson=new GsonBuilder().setLenient().create();\r\n            retrofit=new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create(gson))\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n}\r\n\r\nFinally, this is my model class:\r\n\r\n    public class Entry {\r\n    @SerializedName(&quot;subjectID&quot;)\r\n    private String subjectID;\r\n\r\n    @SerializedName(&quot;commentID&quot;)\r\n    private int commentID;\r\n\r\n    @SerializedName(&quot;dateTS&quot;)\r\n    private String dateTS;\r\n\r\n    @SerializedName(&quot;comment&quot;)\r\n    private String comment;\r\n\r\n    @SerializedName(&quot;usercode&quot;)\r\n    private int userCode;\r\n\r\n    @SerializedName(&quot;likepoint&quot;)\r\n    private int likePoint;\r\n\r\n    @SerializedName(&quot;dislikepoint&quot;)\r\n    private int dislikePoint;\r\n\r\n    @SerializedName(&quot;likestatu&quot;)\r\n    private String likeStatus;\r\n\r\n    public Entry(String subjectID,int commentID, int userCode){\r\n        this.subjectID=subjectID;\r\n        this.commentID=commentID;\r\n        this.userCode=userCode;\r\n    }\r\n\r\n    public Entry(String subjectID, int commentID, String dateTS, String comment, int userCode, int likePoint, int dislikePoint) {\r\n        this.subjectID = subjectID;\r\n        this.commentID = commentID;\r\n        this.dateTS = dateTS;\r\n        this.comment = comment;\r\n        this.userCode = userCode;\r\n        this.likePoint = likePoint;\r\n        this.dislikePoint = dislikePoint;\r\n    }","title":"Is there a way to use Retrofit faster?","body":"<p>I am developping an android application and I use retrofit to send and get the data from a server. However, the http post request that I use took 800 ms on average. The server side works fast, it looks like there is no problem there. I want to reduce the timestamp to maximum 400 ms, could you describe a technic to do it or could you provide any resources?</p>\n<p>Here is my code on android studio, thanks on advance...</p>\n<p>this is the function that I apply the put request to the server:</p>\n<pre><code>public static void getEntries(int subjectID, int commentID, int userCode){\n    Retrofit retrofit=ApiClient.getRetrofit();\n    Call&lt;List&lt;Entry&gt;&gt; call=retrofit.create(ApiInterface.class).getEntries(subjectID,commentID,userCode);\n\n    call.enqueue(new Callback&lt;List&lt;Entry&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Entry&gt;&gt; call, Response&lt;List&lt;Entry&gt;&gt; response) {\n            if(!response.isSuccessful()){\n                System.out.println(&quot;code: &quot;+response.code());\n                return;\n            }\n\n        }\n\n        @Override\n        public void onFailure(Call&lt;List&lt;Entry&gt;&gt; call, Throwable t) {\n            System.out.println(t.getMessage());\n        }\n    });\n}\n</code></pre>\n<p>This is the interface that I created:</p>\n<pre><code>public interface ApiInterface {\n@FormUrlEncoded\n@POST(&quot;showEntries.php&quot;)\nCall&lt;List&lt;Entry&gt;&gt; getEntries(@Field(&quot;subjectID&quot;) int subjectID,\n                             @Field(&quot;commentID&quot;) int commentID,\n                             @Field(&quot;userCode&quot;) int userCode);\n</code></pre>\n<p>}</p>\n<p>This is the singleton pattern to get retrofit instance:</p>\n<pre><code>public class ApiClient {\nprivate static final String BASE_URL=&quot;someurl&quot;;\nprivate static Retrofit retrofit=null;\n\npublic static Retrofit getRetrofit(){\n    if(retrofit==null){\n        Gson gson=new GsonBuilder().setLenient().create();\n        retrofit=new Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .build();\n    }\n    return retrofit;\n}\n</code></pre>\n<p>}</p>\n<p>Finally, this is my model class:</p>\n<pre><code>public class Entry {\n@SerializedName(&quot;subjectID&quot;)\nprivate String subjectID;\n\n@SerializedName(&quot;commentID&quot;)\nprivate int commentID;\n\n@SerializedName(&quot;dateTS&quot;)\nprivate String dateTS;\n\n@SerializedName(&quot;comment&quot;)\nprivate String comment;\n\n@SerializedName(&quot;usercode&quot;)\nprivate int userCode;\n\n@SerializedName(&quot;likepoint&quot;)\nprivate int likePoint;\n\n@SerializedName(&quot;dislikepoint&quot;)\nprivate int dislikePoint;\n\n@SerializedName(&quot;likestatu&quot;)\nprivate String likeStatus;\n\npublic Entry(String subjectID,int commentID, int userCode){\n    this.subjectID=subjectID;\n    this.commentID=commentID;\n    this.userCode=userCode;\n}\n\npublic Entry(String subjectID, int commentID, String dateTS, String comment, int userCode, int likePoint, int dislikePoint) {\n    this.subjectID = subjectID;\n    this.commentID = commentID;\n    this.dateTS = dateTS;\n    this.comment = comment;\n    this.userCode = userCode;\n    this.likePoint = likePoint;\n    this.dislikePoint = dislikePoint;\n}\n</code></pre>\n"},{"tags":["java","servlets","response","httpresponse","content-type"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1568028459,"post_id":57852977,"comment_id":102132373,"body_markdown":"Of course, the receiver should really be standards compliant; specifying the character set should not pose problems. If it only accepts a specific char set then it should at least accept *that* char set in the `Content-Type` header...","body":"Of course, the receiver should really be standards compliant; specifying the character set should not pose problems. If it only accepts a specific char set then it should at least accept <i>that</i> char set in the <code>Content-Type</code> header..."},{"owner":{"account_id":14924357,"reputation":33,"user_id":10839619,"display_name":"Dareka"},"score":0,"creation_date":1568031875,"post_id":57852977,"comment_id":102134168,"body_markdown":"@MaartenBodewes I&#39;m trying to verify my domain in azure portal. I need to have a JSON in a particular url. Upto this point my work is done. But the verification failed due to content-type being wrong. I was told that my content-type should only contain &quot;application/json&quot;. That&#39;s what I&#39;m trying to do now.","body":"@MaartenBodewes I&#39;m trying to verify my domain in azure portal. I need to have a JSON in a particular url. Upto this point my work is done. But the verification failed due to content-type being wrong. I was told that my content-type should only contain &quot;application/json&quot;. That&#39;s what I&#39;m trying to do now."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1568031955,"post_id":57852977,"comment_id":102134209,"body_markdown":"Typical of Mickeysoft not to keep to standards *again*. Sheesh. Regardless, that&#39;s not your problem, I&#39;ve already upvoted the question; unfortunately I don&#39;t know the answer.","body":"Typical of Mickeysoft not to keep to standards <i>again</i>. Sheesh. Regardless, that&#39;s not your problem, I&#39;ve already upvoted the question; unfortunately I don&#39;t know the answer."},{"owner":{"account_id":14924357,"reputation":33,"user_id":10839619,"display_name":"Dareka"},"score":0,"creation_date":1568036465,"post_id":57852977,"comment_id":102136680,"body_markdown":"@MaartenBodewes The verification steps seems to be introduced a few months ago. Thanks for the help anyway.","body":"@MaartenBodewes The verification steps seems to be introduced a few months ago. Thanks for the help anyway."}],"answers":[{"tags":[],"owner":{"account_id":12808696,"reputation":1,"user_id":9267599,"display_name":"vagusss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658975633,"creation_date":1658975633,"answer_id":73146617,"question_id":57852977,"body_markdown":"try this:\r\n\r\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n    ServletOutputStream outputStream = response.getOutputStream();\r\n    outputStream.write(res.getBytes(StandardCharsets.UTF_8));\r\n    outputStream.flush();","title":"How to remove charset from Content-type when using HttpServletResponse in Struts","body":"<p>try this:</p>\n<pre><code>response.setContentType(MediaType.APPLICATION_JSON_VALUE);\nServletOutputStream outputStream = response.getOutputStream();\noutputStream.write(res.getBytes(StandardCharsets.UTF_8));\noutputStream.flush();\n</code></pre>\n"}],"owner":{"account_id":14924357,"reputation":33,"user_id":10839619,"display_name":"Dareka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658975633,"creation_date":1568028048,"question_id":57852977,"body_markdown":"I&#39;m trying to send a response with &quot;application/json&quot; content-type. The server only accepts this content-type.\r\n\r\nBut when I try to set the content-type, it automatically adds &quot;charset=ISO-8859-1&quot; and this is causing problems. Is there a way to remove it?\r\n\r\nI&#39;ve added the code of how I&#39;m setting the content-type and getting the writer in HttpServletResponse.\r\n\r\n```\r\nresponse.setContentType(&quot;application/json&quot;);\r\nresponse.getWriter().println(json);\r\n```\r\n\r\nI need the content-type to be just &quot;application/json&quot;.","title":"How to remove charset from Content-type when using HttpServletResponse in Struts","body":"<p>I'm trying to send a response with \"application/json\" content-type. The server only accepts this content-type.</p>\n\n<p>But when I try to set the content-type, it automatically adds \"charset=ISO-8859-1\" and this is causing problems. Is there a way to remove it?</p>\n\n<p>I've added the code of how I'm setting the content-type and getting the writer in HttpServletResponse.</p>\n\n<pre><code>response.setContentType(\"application/json\");\nresponse.getWriter().println(json);\n</code></pre>\n\n<p>I need the content-type to be just \"application/json\".</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1658968205,"post_id":73144912,"comment_id":129186323,"body_markdown":"This question seems to be you asking us to tell you what your project&#39;s requirements should be.  This is the wrong way around.  You are the person who should be explaining to us what the requirements are.  For what it is worth, the only answer I can give is &quot;the best way will depend on what you are trying to achieve&quot;.","body":"This question seems to be you asking us to tell you what your project&#39;s requirements should be.  This is the wrong way around.  You are the person who should be explaining to us what the requirements are.  For what it is worth, the only answer I can give is &quot;the best way will depend on what you are trying to achieve&quot;."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1658968488,"post_id":73144912,"comment_id":129186363,"body_markdown":"Consider this.  Suppose a user is permitted to upload 2 different files with the same name &quot;X&quot;.  And suppose that one doesn&#39;t overwrite the other.  What should happen when the user tries to retrieve &quot;X&quot;?  What should they get?  One file?  Both files?  How would they tell the two apart? What if they only want one?  How would they specify which one?  When you are trying to design something like this, you need to think about how it is going to be used.  In sufficient detail that you can decide whether your design is actually going to make sense ... to the people who are going to use it.","body":"Consider this.  Suppose a user is permitted to upload 2 different files with the same name &quot;X&quot;.  And suppose that one doesn&#39;t overwrite the other.  What should happen when the user tries to retrieve &quot;X&quot;?  What should they get?  One file?  Both files?  How would they tell the two apart? What if they only want one?  How would they specify which one?  When you are trying to design something like this, you need to think about how it is going to be used.  In sufficient detail that you can decide whether your design is actually going to make sense ... to the people who are going to use it."}],"owner":{"account_id":4178586,"reputation":45,"user_id":3424358,"accept_rate":14,"display_name":"user3424358"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658975504,"creation_date":1658958006,"question_id":73144912,"body_markdown":"I have an app where user can upload file with additional info about it, such as description.\r\n\r\nNow what i do is:\r\n\r\n 1) predefine the `PATH` where the files are stored ( so for example for server it will be at /files/ or for AWS url to aws )\r\n 2) user uploads file \r\n 3) file is saved, at location `PATH/userId/uploaded file name` \r\n 4) service that saves file returns whole path\r\n 5) the informations about file ( including path where it was stored ) is stored in DB.\r\n\r\nSo smth like this:\r\n\r\n    @Service\r\n    public class DiskSaveFileService implements SaveFileService {\r\n    \r\n        @Value(&quot;${file.path}&quot;)\r\n        private String path;\r\n    \r\n        @Override\r\n        public String saveFile(String fileName, byte[] bytes) {\r\n            Path targetLocation = Paths.get(path + &quot;/&quot; + fileName);\r\n            try {\r\n                Files.createDirectories(targetLocation.getParent());\r\n                Files.write(targetLocation, bytes);\r\n            } catch (IOException e) {\r\n                throw new SaveFileException(&quot;Saving file failed&quot;, e);\r\n            }\r\n            return targetLocation.toString();\r\n        }\r\n    \r\n        @Override\r\n        public boolean safeDeleteFile(String fileName) throws SaveFileException {\r\n            Path targetLocation = Paths.get(path + &quot;/&quot; + fileName);\r\n            try {\r\n                Files.delete(targetLocation);\r\n            } catch (IOException e) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\nAnd service:\r\n\r\n    UserEntity user = userUtilService.getLoggedUser();\r\n    String fileName = file.getOriginalFilename();\r\n    String path = user.getId() + &quot;/&quot; + fileName;\r\n    try{\r\n       String location = saveFileService.saveFile(path, uploadedFile.getBytes());\r\n       FileEntity fileEntity = new FileEntity();\r\n       fileEntity.setPath(location);\r\n       ....\r\n       fileRepository.save(fileEntity);\r\n    } catch (UsernameNotFoundException | SaveFileException | IOException e) {\r\n            deleteFile(path);\r\n            throw new RecipeServiceException(&quot;Error creating recipe!&quot;, e);\r\n    }\r\n\r\nHowever if user wanted to upload two separate files, that happens to have same name, this would overwritte them, as both files would be saved in the same path.\r\n\r\nWhat is the best way to determine where exactly to store path? I first wanted to save the file as\r\n`PATH/userId/id of entity/name of the file`\r\n\r\nHowever in that case i would need to save info about file to database, then save the file ( so i will have generated ID of row ), and then update entity of location. So i would have extra database hit.\r\n\r\nWhat are some best ways to decide the path then? Methods that would actually makes sense.","title":"Decide where to store uploade file ( path )","body":"<p>I have an app where user can upload file with additional info about it, such as description.</p>\n<p>Now what i do is:</p>\n<ol>\n<li>predefine the <code>PATH</code> where the files are stored ( so for example for server it will be at /files/ or for AWS url to aws )</li>\n<li>user uploads file</li>\n<li>file is saved, at location <code>PATH/userId/uploaded file name</code></li>\n<li>service that saves file returns whole path</li>\n<li>the informations about file ( including path where it was stored ) is stored in DB.</li>\n</ol>\n<p>So smth like this:</p>\n<pre><code>@Service\npublic class DiskSaveFileService implements SaveFileService {\n\n    @Value(&quot;${file.path}&quot;)\n    private String path;\n\n    @Override\n    public String saveFile(String fileName, byte[] bytes) {\n        Path targetLocation = Paths.get(path + &quot;/&quot; + fileName);\n        try {\n            Files.createDirectories(targetLocation.getParent());\n            Files.write(targetLocation, bytes);\n        } catch (IOException e) {\n            throw new SaveFileException(&quot;Saving file failed&quot;, e);\n        }\n        return targetLocation.toString();\n    }\n\n    @Override\n    public boolean safeDeleteFile(String fileName) throws SaveFileException {\n        Path targetLocation = Paths.get(path + &quot;/&quot; + fileName);\n        try {\n            Files.delete(targetLocation);\n        } catch (IOException e) {\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>And service:</p>\n<pre><code>UserEntity user = userUtilService.getLoggedUser();\nString fileName = file.getOriginalFilename();\nString path = user.getId() + &quot;/&quot; + fileName;\ntry{\n   String location = saveFileService.saveFile(path, uploadedFile.getBytes());\n   FileEntity fileEntity = new FileEntity();\n   fileEntity.setPath(location);\n   ....\n   fileRepository.save(fileEntity);\n} catch (UsernameNotFoundException | SaveFileException | IOException e) {\n        deleteFile(path);\n        throw new RecipeServiceException(&quot;Error creating recipe!&quot;, e);\n}\n</code></pre>\n<p>However if user wanted to upload two separate files, that happens to have same name, this would overwritte them, as both files would be saved in the same path.</p>\n<p>What is the best way to determine where exactly to store path? I first wanted to save the file as\n<code>PATH/userId/id of entity/name of the file</code></p>\n<p>However in that case i would need to save info about file to database, then save the file ( so i will have generated ID of row ), and then update entity of location. So i would have extra database hit.</p>\n<p>What are some best ways to decide the path then? Methods that would actually makes sense.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":25849862,"reputation":1,"user_id":19584038,"display_name":"Andy Alert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658975009,"creation_date":1658716491,"answer_id":73103538,"question_id":72718571,"body_markdown":"You can use Cloud Firestore.\r\nOr if you want to read csv from storage:\r\n\r\n    private void loadCsvFromStorage() {\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;*/*&quot;);\r\n        startActivityForResult(intent, PICK_CSV_REQUEST);\r\n    }\r\n\r\n    // When results returned\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == PICK_CSV_REQUEST &amp;&amp; resultCode == RESULT_OK\r\n                &amp;&amp; data != null &amp;&amp; data.getData() != null){\r\n            Uri uri = data.getData();\r\n            if(uri.getPath().endsWith(&quot;.csv&quot;)) {\r\n                try {\r\n                    InputStream inputStream = getContentResolver().openInputStream(data.getData());\r\n                    BufferedReader reader = new BufferedReader(\r\n                            new InputStreamReader(inputStream, Charset.forName(&quot;UTF-8&quot;))\r\n                    );\r\n                    String line = &quot;&quot;;\r\n                    try {\r\n                        reader.readLine();\r\n                        while ((line = reader.readLine()) != null) {\r\n                            String[] tokens = line.split(&quot;,&quot;);\r\n\r\n                            //Read data\r\n                        }\r\n                        Toast.makeText(Activity.this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\r\n                    } catch (Exception e) {\r\n                    }\r\n\r\n                } catch (FileNotFoundException e) {\r\n                    Toast.makeText(Activity.this, &quot;Failed!&quot;, Toast.LENGTH_SHORT).show();\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            else{\r\n                Toast.makeText(Activity.this, &quot;Please select the .csv file!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\nRefer to the answer https://stackoverflow.com/questions/43055661/reading-csv-file-in-android-app","title":"Is there a way I can access files from an Android app that is saved by another app?","body":"<p>You can use Cloud Firestore.\nOr if you want to read csv from storage:</p>\n<pre><code>private void loadCsvFromStorage() {\n    Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n    intent.setType(&quot;*/*&quot;);\n    startActivityForResult(intent, PICK_CSV_REQUEST);\n}\n\n// When results returned\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == PICK_CSV_REQUEST &amp;&amp; resultCode == RESULT_OK\n            &amp;&amp; data != null &amp;&amp; data.getData() != null){\n        Uri uri = data.getData();\n        if(uri.getPath().endsWith(&quot;.csv&quot;)) {\n            try {\n                InputStream inputStream = getContentResolver().openInputStream(data.getData());\n                BufferedReader reader = new BufferedReader(\n                        new InputStreamReader(inputStream, Charset.forName(&quot;UTF-8&quot;))\n                );\n                String line = &quot;&quot;;\n                try {\n                    reader.readLine();\n                    while ((line = reader.readLine()) != null) {\n                        String[] tokens = line.split(&quot;,&quot;);\n\n                        //Read data\n                    }\n                    Toast.makeText(Activity.this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\n                } catch (Exception e) {\n                }\n\n            } catch (FileNotFoundException e) {\n                Toast.makeText(Activity.this, &quot;Failed!&quot;, Toast.LENGTH_SHORT).show();\n                e.printStackTrace();\n            }\n        }\n        else{\n            Toast.makeText(Activity.this, &quot;Please select the .csv file!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>Refer to the answer <a href=\"https://stackoverflow.com/questions/43055661/reading-csv-file-in-android-app\">Reading CSV File In Android App</a></p>\n"}],"owner":{"account_id":25594211,"reputation":13,"user_id":19370354,"display_name":"Aria_Z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658975009,"creation_date":1655913288,"question_id":72718571,"body_markdown":"I&#39;m developing an Android app that need to read csv files saved by another app. However, I&#39;m not sure how to access the csv files saved by another app. Is there anyone have some suggestions about this?","title":"Is there a way I can access files from an Android app that is saved by another app?","body":"<p>I'm developing an Android app that need to read csv files saved by another app. However, I'm not sure how to access the csv files saved by another app. Is there anyone have some suggestions about this?</p>\n"},{"tags":["java","chronicle","chronicle-queue"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1653492768,"post_id":72342587,"comment_id":127867265,"body_markdown":"Hi, It might be best if email a support issue so we can share code to reproduce this.","body":"Hi, It might be best if email a support issue so we can share code to reproduce this."},{"owner":{"account_id":2819113,"reputation":23,"user_id":2423289,"display_name":"public.persona"},"score":0,"creation_date":1653572742,"post_id":72342587,"comment_id":127887923,"body_markdown":"@PeterLawrey what generally causes that error?  According to the documentation, the UberHandlers  &quot;are serialized locally, and then sent to the remote host using TCP/IP&quot;.  I am attempting to test it out on the same windows host just different ports but this should not be a problem, right?","body":"@PeterLawrey what generally causes that error?  According to the documentation, the UberHandlers  &quot;are serialized locally, and then sent to the remote host using TCP/IP&quot;.  I am attempting to test it out on the same windows host just different ports but this should not be a problem, right?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1653590585,"post_id":72342587,"comment_id":127894310,"body_markdown":"Correct, this is tested between 2 and 3 nodes running on the same machine.","body":"Correct, this is tested between 2 and 3 nodes running on the same machine."}],"answers":[{"tags":[],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653426083,"creation_date":1653426083,"answer_id":72369428,"question_id":72342587,"body_markdown":"I&#39;m posting this as an answer since I need to share some configuration.\r\n\r\nYour configuration seems correct, however, there might be an issue with the code that is utilizing it. Within `chronicle-queue-enterprise` there are many tests that showcase how to use the replication features.\r\n\r\nThe simplest one you can apply your configuration to is called `ReplicationTest.shouldReplicate`. This test simply writes two messages to the `source` and verifies that it can read the same messages from the `sink` (which would mean that replication worked). \r\n\r\nI applied your configuration in this test with minor changes.\r\n\r\n\r\n```\r\n!ChronicleQueueReplicationCfg {\r\n  eventId: &quot;&quot;,\r\n  serviceId: &quot;&quot;,\r\n  replicaSets: {\r\n    global: !!set [\r\n      host1,\r\n      host2\r\n    ]\r\n  },\r\n  allowSinkToSource: false,\r\n  context: {\r\n    networkContextFactory: !software.chronicle.enterprise.queue.replication.QueueClusterNetworkContext$Factory INSTANCE,\r\n    heartbeatTimeoutMs: 500000,\r\n    heartbeatIntervalMs: 300000,\r\n    pauserSupplier: !PauserMode busy,\r\n    replicationPauserSupplier: !!null &quot;&quot;,\r\n    affinityCPU: !!null &quot;&quot;,\r\n    wireType: BINARY_LIGHT,\r\n    localIdentifier: 1,\r\n    localName: host1,\r\n    serverThreadingStrategy: SINGLE_THREADED,\r\n    retryInterval: 1000,\r\n    procPrefix: !!null &quot;&quot;,\r\n    baseSourcePath: &quot;replica/source&quot;,\r\n    baseSinkPath: &quot;replica/sink$hostId&quot;,\r\n    backfillTimeoutListener: !software.chronicle.enterprise.queue.replication.NoopBackfillListener INSTANCE,\r\n    tcpBias: !!null &quot;&quot;\r\n  },\r\n  hosts: {\r\n    host1: { hostId: 1, tcpBufferSize: 0, connectUri: host.port1 },\r\n    host2: { hostId: 2, tcpBufferSize: 0, connectUri: host.port2 }\r\n  },\r\n  queues: {\r\n    queue1: {\r\n      name: queue1,\r\n      path: queue1,\r\n      acknowledge: true,\r\n      allowUnknownSinks: true,\r\n      replicaSets: [\r\n        global\r\n      ],\r\n      masterId: 1,\r\n      waitForSinks: 0\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI could not replicate the same `IllegalArgumentException` you were having, please share the code that uses your configuration and I&#39;m sure we will find out what&#39;s wrong and update this answer.\r\n\r\n\r\n","title":"Chronicle-queue replication error: Received a handler for host ID: 1, my host ID is: 2 this is probably a configuration error","body":"<p>I'm posting this as an answer since I need to share some configuration.</p>\n<p>Your configuration seems correct, however, there might be an issue with the code that is utilizing it. Within <code>chronicle-queue-enterprise</code> there are many tests that showcase how to use the replication features.</p>\n<p>The simplest one you can apply your configuration to is called <code>ReplicationTest.shouldReplicate</code>. This test simply writes two messages to the <code>source</code> and verifies that it can read the same messages from the <code>sink</code> (which would mean that replication worked).</p>\n<p>I applied your configuration in this test with minor changes.</p>\n<pre><code>!ChronicleQueueReplicationCfg {\n  eventId: &quot;&quot;,\n  serviceId: &quot;&quot;,\n  replicaSets: {\n    global: !!set [\n      host1,\n      host2\n    ]\n  },\n  allowSinkToSource: false,\n  context: {\n    networkContextFactory: !software.chronicle.enterprise.queue.replication.QueueClusterNetworkContext$Factory INSTANCE,\n    heartbeatTimeoutMs: 500000,\n    heartbeatIntervalMs: 300000,\n    pauserSupplier: !PauserMode busy,\n    replicationPauserSupplier: !!null &quot;&quot;,\n    affinityCPU: !!null &quot;&quot;,\n    wireType: BINARY_LIGHT,\n    localIdentifier: 1,\n    localName: host1,\n    serverThreadingStrategy: SINGLE_THREADED,\n    retryInterval: 1000,\n    procPrefix: !!null &quot;&quot;,\n    baseSourcePath: &quot;replica/source&quot;,\n    baseSinkPath: &quot;replica/sink$hostId&quot;,\n    backfillTimeoutListener: !software.chronicle.enterprise.queue.replication.NoopBackfillListener INSTANCE,\n    tcpBias: !!null &quot;&quot;\n  },\n  hosts: {\n    host1: { hostId: 1, tcpBufferSize: 0, connectUri: host.port1 },\n    host2: { hostId: 2, tcpBufferSize: 0, connectUri: host.port2 }\n  },\n  queues: {\n    queue1: {\n      name: queue1,\n      path: queue1,\n      acknowledge: true,\n      allowUnknownSinks: true,\n      replicaSets: [\n        global\n      ],\n      masterId: 1,\n      waitForSinks: 0\n    }\n  }\n}\n</code></pre>\n<p>I could not replicate the same <code>IllegalArgumentException</code> you were having, please share the code that uses your configuration and I'm sure we will find out what's wrong and update this answer.</p>\n"},{"tags":[],"owner":{"account_id":2819113,"reputation":23,"user_id":2423289,"display_name":"public.persona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658974935,"creation_date":1658974935,"answer_id":73146538,"question_id":72342587,"body_markdown":"I am going to answer my own question based on the feedback given. The issue was caused by me passing the same instance of the ChronicleQueueReplicationCfg to each side of the replication when I was creating the ReplicatedQueue objects. I had missed that the ChronicleQueueReplicationCfg objects were stateful when the replication starts up. ","title":"Chronicle-queue replication error: Received a handler for host ID: 1, my host ID is: 2 this is probably a configuration error","body":"<p>I am going to answer my own question based on the feedback given. The issue was caused by me passing the same instance of the ChronicleQueueReplicationCfg to each side of the replication when I was creating the ReplicatedQueue objects. I had missed that the ChronicleQueueReplicationCfg objects were stateful when the replication starts up.</p>\n"}],"owner":{"account_id":2819113,"reputation":23,"user_id":2423289,"display_name":"public.persona"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73146538,"answer_count":2,"score":1,"last_activity_date":1658974935,"creation_date":1653271589,"question_id":72342587,"body_markdown":"I am currently testing and learning chronicle-queue enterprise replication using the documentation below:\r\n\r\nhttps://github.com/OpenHFT/Chronicle-Queue/blob/ea/docs/replication.adoc#the-mechanics-of-chronicle-queue-replication\r\n\r\nhttps://github.com/OpenHFT/Chronicle-Queue/blob/ea/docs/queue-replication-message-protocol-overview.adoc#sinkreplicationhandler\r\n\r\nHowever, I am getting the error below:\r\n\r\n**java.lang.IllegalArgumentException**: Received a handler for host ID: 1, my host ID is: 2 this is probably a configuration error.\r\n\r\nMy replication configuration is as below, what am I missing? Below is my replication configuration.\r\n\r\n```\r\n!ChronicleQueueReplicationCfg {\r\n  eventId: &quot;&quot;,\r\n  serviceId: &quot;&quot;,\r\n  replicaSets: {\r\n    global: !!set [\r\n      host1,\r\n      host2\r\n    ]\r\n  },\r\n  allowSinkToSource: false,\r\n  context: {\r\n    networkContextFactory: !software.chronicle.enterprise.queue.replication.QueueClusterNetworkContext$Factory INSTANCE,\r\n    heartbeatTimeoutMs: 500000,\r\n    heartbeatIntervalMs: 300000,\r\n    pauserSupplier: !PauserMode busy,\r\n    replicationPauserSupplier: !!null &quot;&quot;,\r\n    affinityCPU: !!null &quot;&quot;,\r\n    wireType: BINARY_LIGHT,\r\n    localIdentifier: 1,\r\n    localName: host1,\r\n    serverThreadingStrategy: SINGLE_THREADED,\r\n    retryInterval: 1000,\r\n    procPrefix: !!null &quot;&quot;,\r\n    baseSourcePath: source,\r\n    baseSinkPath: replica,\r\n    backfillTimeoutListener: !software.chronicle.enterprise.queue.replication.NoopBackfillListener INSTANCE,\r\n    tcpBias: !!null &quot;&quot;\r\n  },\r\n  hosts: {\r\n    host1: { hostId: 1, tcpBufferSize: 0, connectUri: &quot;localhost:5001&quot; },\r\n    host2: { hostId: 2, tcpBufferSize: 0, connectUri: &quot;localhost:5002&quot; }\r\n  },\r\n  queues: {\r\n    queue1: {\r\n      name: queue1,\r\n      path: queue1,\r\n      replicaSets: [\r\n        global\r\n      ],\r\n      masterId: 1,\r\n      waitForSinks: 0\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nchronicle-queue-enterprise-all-2.23ea26","title":"Chronicle-queue replication error: Received a handler for host ID: 1, my host ID is: 2 this is probably a configuration error","body":"<p>I am currently testing and learning chronicle-queue enterprise replication using the documentation below:</p>\n<p><a href=\"https://github.com/OpenHFT/Chronicle-Queue/blob/ea/docs/replication.adoc#the-mechanics-of-chronicle-queue-replication\" rel=\"nofollow noreferrer\">https://github.com/OpenHFT/Chronicle-Queue/blob/ea/docs/replication.adoc#the-mechanics-of-chronicle-queue-replication</a></p>\n<p><a href=\"https://github.com/OpenHFT/Chronicle-Queue/blob/ea/docs/queue-replication-message-protocol-overview.adoc#sinkreplicationhandler\" rel=\"nofollow noreferrer\">https://github.com/OpenHFT/Chronicle-Queue/blob/ea/docs/queue-replication-message-protocol-overview.adoc#sinkreplicationhandler</a></p>\n<p>However, I am getting the error below:</p>\n<p><strong>java.lang.IllegalArgumentException</strong>: Received a handler for host ID: 1, my host ID is: 2 this is probably a configuration error.</p>\n<p>My replication configuration is as below, what am I missing? Below is my replication configuration.</p>\n<pre><code>!ChronicleQueueReplicationCfg {\n  eventId: &quot;&quot;,\n  serviceId: &quot;&quot;,\n  replicaSets: {\n    global: !!set [\n      host1,\n      host2\n    ]\n  },\n  allowSinkToSource: false,\n  context: {\n    networkContextFactory: !software.chronicle.enterprise.queue.replication.QueueClusterNetworkContext$Factory INSTANCE,\n    heartbeatTimeoutMs: 500000,\n    heartbeatIntervalMs: 300000,\n    pauserSupplier: !PauserMode busy,\n    replicationPauserSupplier: !!null &quot;&quot;,\n    affinityCPU: !!null &quot;&quot;,\n    wireType: BINARY_LIGHT,\n    localIdentifier: 1,\n    localName: host1,\n    serverThreadingStrategy: SINGLE_THREADED,\n    retryInterval: 1000,\n    procPrefix: !!null &quot;&quot;,\n    baseSourcePath: source,\n    baseSinkPath: replica,\n    backfillTimeoutListener: !software.chronicle.enterprise.queue.replication.NoopBackfillListener INSTANCE,\n    tcpBias: !!null &quot;&quot;\n  },\n  hosts: {\n    host1: { hostId: 1, tcpBufferSize: 0, connectUri: &quot;localhost:5001&quot; },\n    host2: { hostId: 2, tcpBufferSize: 0, connectUri: &quot;localhost:5002&quot; }\n  },\n  queues: {\n    queue1: {\n      name: queue1,\n      path: queue1,\n      replicaSets: [\n        global\n      ],\n      masterId: 1,\n      waitForSinks: 0\n    }\n  }\n}\n</code></pre>\n<p>chronicle-queue-enterprise-all-2.23ea26</p>\n"},{"tags":["java","memory","memory-management"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659188371,"post_id":73146312,"comment_id":129236839,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658974178,"creation_date":1658974178,"answer_id":73146466,"question_id":73146312,"body_markdown":"On linux, &#39;top&#39; will show you memory used by running processes and &#39;free&#39; shows you total and free memory. Check out the man pages for options and how to use.","title":"JAVA Memory Management | jvm | command to find memory","body":"<p>On linux, 'top' will show you memory used by running processes and 'free' shows you total and free memory. Check out the man pages for options and how to use.</p>\n"}],"owner":{"account_id":25912796,"reputation":1,"user_id":19636666,"display_name":"nilk3006"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658974178,"creation_date":1658972414,"question_id":73146312,"body_markdown":"Need few clarity on below questions please .\r\n1.How to check on production server how much is the total memory allocated to your JAVA application.\r\n\r\n2.How much memory is occupied by your java application among total memory.\r\n\r\n3.what is the command we can use to check the memory available in linux/unix system.\r\n\r\n","title":"JAVA Memory Management | jvm | command to find memory","body":"<p>Need few clarity on below questions please .\n1.How to check on production server how much is the total memory allocated to your JAVA application.</p>\n<p>2.How much memory is occupied by your java application among total memory.</p>\n<p>3.what is the command we can use to check the memory available in linux/unix system.</p>\n"},{"tags":["java","ssl","https","ssl-certificate","owasp"],"answers":[{"tags":[],"owner":{"account_id":23816179,"reputation":19,"user_id":17824417,"display_name":"GABRIEL"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1641228657,"creation_date":1641228657,"answer_id":70568996,"question_id":67837299,"body_markdown":"add to code \r\n--disableOssIndex true\r\n\r\nXD","title":"Sonatype OSS Index Analyzer Error requesting component reports javax.net.ssl.SSLHandshakeException:","body":"<p>add to code\n--disableOssIndex true</p>\n<p>XD</p>\n"},{"tags":[],"owner":{"account_id":24819622,"reputation":76,"user_id":18700100,"display_name":"Kqly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653483493,"creation_date":1653483493,"answer_id":72378112,"question_id":67837299,"body_markdown":" - The error is coming from https://ossindex.sonatype.org/\r\n - You need to add in your code or if you are using task dependency\r\n   check in additional arguments **--disableOssIndex true**\r\n - https://jeremylong.github.io/DependencyCheck/dependency-check-cli/arguments.html - explanation about disableOssIndex","title":"Sonatype OSS Index Analyzer Error requesting component reports javax.net.ssl.SSLHandshakeException:","body":"<ul>\n<li>The error is coming from <a href=\"https://ossindex.sonatype.org/\" rel=\"nofollow noreferrer\">https://ossindex.sonatype.org/</a></li>\n<li>You need to add in your code or if you are using task dependency\ncheck in additional arguments <strong>--disableOssIndex true</strong></li>\n<li><a href=\"https://jeremylong.github.io/DependencyCheck/dependency-check-cli/arguments.html\" rel=\"nofollow noreferrer\">https://jeremylong.github.io/DependencyCheck/dependency-check-cli/arguments.html</a> - explanation about disableOssIndex</li>\n</ul>\n"}],"owner":{"account_id":21832808,"reputation":21,"user_id":16127554,"display_name":"Ankit Patra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7993,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1658973431,"creation_date":1622809944,"question_id":67837299,"body_markdown":"I am using dependency-check-cli version 6.1.0 in Jenkins, while scanning for jar files it is giving me below error. \r\n\r\n```\r\n[DependencyCheck] [WARN] An error occurred while analyzing &#39;/JenkinsHome/.jenkins/workspace/Demo/cryptix32.jar&#39; (Sonatype OSS Index Analyzer).\r\n[DependencyCheck] [INFO] Finished Sonatype OSS Index Analyzer (1 seconds)\r\n[DependencyCheck] [INFO] Finished Vulnerability Suppression Analyzer (0 seconds)\r\n[DependencyCheck] [INFO] Finished Dependency Bundling Analyzer (0 seconds)\r\n[DependencyCheck] [INFO] Analysis Complete (8 seconds)\r\n[DependencyCheck] [INFO] Writing report to: /JenkinsHome/.jenkins/workspace/Demo/./dependency-check-report.html\r\n[DependencyCheck] [ERROR] Failed to request component-reports\r\nBuild step &#39;Invoke Dependency-Check&#39; changed build result to FAILURE\r\n```\r\nWhen I check the log report then I get the below error:\r\n\r\n```\r\nDEBUG - Connecting to: https://ossindex.sonatype.org/api/v3/component-report\r\n2021-06-04 17:39:51,398 org.owasp.dependencycheck.analyzer.OssIndexAnalyzer:147\r\nDEBUG - Error requesting component reports\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n\tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1949)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\r\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1509)\r\n\tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)\r\n\tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\r\n\tat sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1283)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1258)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\r\n\tat org.sonatype.ossindex.service.client.transport.HttpUrlConnectionTransport.post(HttpUrlConnectionTransport.java:90)\r\n\tat org.sonatype.ossindex.service.client.internal.OssindexClientImpl.doRequestComponentReports(OssindexClientImpl.java:204)\r\n\tat org.sonatype.ossindex.service.client.internal.OssindexClientImpl.requestComponentReports(OssindexClientImpl.java:170)\r\n\tat org.owasp.dependencycheck.analyzer.OssIndexAnalyzer.requestReports(OssIndexAnalyzer.java:198)\r\n\tat org.owasp.dependencycheck.analyzer.OssIndexAnalyzer.analyzeDependency(OssIndexAnalyzer.java:138)\r\n\tat org.owasp.dependencycheck.analyzer.AbstractAnalyzer.analyze(AbstractAnalyzer.java:131)\r\n\tat org.owasp.dependencycheck.AnalysisTask.call(AnalysisTask.java:88)\r\n\tat org.owasp.dependencycheck.AnalysisTask.call(AnalysisTask.java:37)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:387)\r\n\tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\r\n\tat sun.security.validator.Validator.validate(Validator.java:260)\r\n\tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\r\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1491)\r\n\t... 24 common frames omitted\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n\tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n\tat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\r\n\tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)\r\n\t... 30 common frames omitted\r\n2021-06-04 17:39:51,399 org.owasp.dependencycheck.AnalysisTask:90\r\nWARN  - An error occurred while analyzing &#39;/JenkinsHome/.jenkins/workspace/Demo/cryptix32.jar&#39; (Sonatype OSS Index Analyzer).\r\n```\r\n\r\nI have even tried by importing the ssl certificate of https://ossindex.sonatype.org to /usr/java/jdk1.8.0_101/jre/lib/security/cacerts , but still facing same issue.\r\n\r\nPlease guide me on how to fix this issue.\r\n\r\n","title":"Sonatype OSS Index Analyzer Error requesting component reports javax.net.ssl.SSLHandshakeException:","body":"<p>I am using dependency-check-cli version 6.1.0 in Jenkins, while scanning for jar files it is giving me below error.</p>\n<pre><code>[DependencyCheck] [WARN] An error occurred while analyzing '/JenkinsHome/.jenkins/workspace/Demo/cryptix32.jar' (Sonatype OSS Index Analyzer).\n[DependencyCheck] [INFO] Finished Sonatype OSS Index Analyzer (1 seconds)\n[DependencyCheck] [INFO] Finished Vulnerability Suppression Analyzer (0 seconds)\n[DependencyCheck] [INFO] Finished Dependency Bundling Analyzer (0 seconds)\n[DependencyCheck] [INFO] Analysis Complete (8 seconds)\n[DependencyCheck] [INFO] Writing report to: /JenkinsHome/.jenkins/workspace/Demo/./dependency-check-report.html\n[DependencyCheck] [ERROR] Failed to request component-reports\nBuild step 'Invoke Dependency-Check' changed build result to FAILURE\n</code></pre>\n<p>When I check the log report then I get the below error:</p>\n<pre><code>DEBUG - Connecting to: https://ossindex.sonatype.org/api/v3/component-report\n2021-06-04 17:39:51,398 org.owasp.dependencycheck.analyzer.OssIndexAnalyzer:147\nDEBUG - Error requesting component reports\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1949)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1509)\n    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\n    at sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1283)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1258)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\n    at org.sonatype.ossindex.service.client.transport.HttpUrlConnectionTransport.post(HttpUrlConnectionTransport.java:90)\n    at org.sonatype.ossindex.service.client.internal.OssindexClientImpl.doRequestComponentReports(OssindexClientImpl.java:204)\n    at org.sonatype.ossindex.service.client.internal.OssindexClientImpl.requestComponentReports(OssindexClientImpl.java:170)\n    at org.owasp.dependencycheck.analyzer.OssIndexAnalyzer.requestReports(OssIndexAnalyzer.java:198)\n    at org.owasp.dependencycheck.analyzer.OssIndexAnalyzer.analyzeDependency(OssIndexAnalyzer.java:138)\n    at org.owasp.dependencycheck.analyzer.AbstractAnalyzer.analyze(AbstractAnalyzer.java:131)\n    at org.owasp.dependencycheck.AnalysisTask.call(AnalysisTask.java:88)\n    at org.owasp.dependencycheck.AnalysisTask.call(AnalysisTask.java:37)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:387)\n    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\n    at sun.security.validator.Validator.validate(Validator.java:260)\n    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:229)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:124)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1491)\n    ... 24 common frames omitted\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)\n    ... 30 common frames omitted\n2021-06-04 17:39:51,399 org.owasp.dependencycheck.AnalysisTask:90\nWARN  - An error occurred while analyzing '/JenkinsHome/.jenkins/workspace/Demo/cryptix32.jar' (Sonatype OSS Index Analyzer).\n</code></pre>\n<p>I have even tried by importing the ssl certificate of <a href=\"https://ossindex.sonatype.org\" rel=\"nofollow noreferrer\">https://ossindex.sonatype.org</a> to /usr/java/jdk1.8.0_101/jre/lib/security/cacerts , but still facing same issue.</p>\n<p>Please guide me on how to fix this issue.</p>\n"},{"tags":["java","skyve"],"answers":[{"tags":[],"owner":{"account_id":9670896,"reputation":321,"user_id":7175858,"display_name":"Mike Sands"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658970792,"creation_date":1658970792,"answer_id":73146175,"question_id":73044183,"body_markdown":"Uploads are placed into the content management system immediately on upload and the newly assigned content identifier is placed into the document bean that the content was uploaded against.\r\n\r\nAt this point in time, the bean is not saved and so if the user discards the change, the uploaded content will be orphaned but will be removed by the content garbage collector.\r\n\r\nUsing admin.Contact document as an example, uploading a selfie against the image attribute through the UI will ensure that contact.setImage() is called with the corresponding content ID.\r\n\r\nA call to \r\n```\r\nUtil.getContentAnchorWithImageUrl(Contact.MODULE_NAME, Contact.DOCUMENT_NAME, Contact.imagePropertyName, bean.getImage(), true, 100, 100);\r\n```\r\nwill create an anchored 100x100 thumbnail image that will open the uploaded image in a new browser tab when clicked.","title":"I want to have a preview of some documents I upload using Util.getContentAnchorWithImageUrl() method","body":"<p>Uploads are placed into the content management system immediately on upload and the newly assigned content identifier is placed into the document bean that the content was uploaded against.</p>\n<p>At this point in time, the bean is not saved and so if the user discards the change, the uploaded content will be orphaned but will be removed by the content garbage collector.</p>\n<p>Using admin.Contact document as an example, uploading a selfie against the image attribute through the UI will ensure that contact.setImage() is called with the corresponding content ID.</p>\n<p>A call to</p>\n<pre><code>Util.getContentAnchorWithImageUrl(Contact.MODULE_NAME, Contact.DOCUMENT_NAME, Contact.imagePropertyName, bean.getImage(), true, 100, 100);\n</code></pre>\n<p>will create an anchored 100x100 thumbnail image that will open the uploaded image in a new browser tab when clicked.</p>\n"}],"owner":{"account_id":23641146,"reputation":45,"user_id":17671360,"display_name":"Afshin shahriari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73146175,"answer_count":1,"score":1,"last_activity_date":1658970792,"creation_date":1658270591,"question_id":73044183,"body_markdown":"I have a document where I can upload some content in their. how can I have a preview of those uploads in a listgrid using this method: Util.getContentAnchorWithImageUrl()?","title":"I want to have a preview of some documents I upload using Util.getContentAnchorWithImageUrl() method","body":"<p>I have a document where I can upload some content in their. how can I have a preview of those uploads in a listgrid using this method: Util.getContentAnchorWithImageUrl()?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"score":1,"creation_date":1476189223,"post_id":12087959,"comment_id":67233294,"body_markdown":"Have a look at RunListener: http://stackoverflow.com/a/14773170/548473","body":"Have a look at RunListener: <a href=\"http://stackoverflow.com/a/14773170/548473\">stackoverflow.com/a/14773170/548473</a>"}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":4,"up_vote_count":101,"is_accepted":false,"score":97,"last_activity_date":1345711653,"creation_date":1345711653,"answer_id":12087975,"question_id":12087959,"body_markdown":"You can use [the `BeforeClass` annotation][1]:\r\n\r\n    @BeforeClass\r\n    public static void setUpClass() {\r\n        //executed only once, before the first test\r\n    }\r\n\r\n [1]: http://kentbeck.github.com/junit/javadoc/4.8/","title":"Junit - run set up method once","body":"<p>You can use <a href=\"http://kentbeck.github.com/junit/javadoc/4.8/\">the <code>BeforeClass</code> annotation</a>:</p>\n\n<pre><code>@BeforeClass\npublic static void setUpClass() {\n    //executed only once, before the first test\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":1,"up_vote_count":234,"is_accepted":true,"score":233,"last_activity_date":1596620331,"creation_date":1345712221,"answer_id":12088135,"question_id":12087959,"body_markdown":"Although I agree with @assylias that using `@BeforeClass` is a classic solution it is not always convenient. The method annotated with `@BeforeClass` must be static. It is very inconvenient for some tests that need instance of test case. For example Spring based tests that use `@Autowired` to work with services defined in spring context. \r\n\r\nIn this case I personally use regular `setUp()` method annotated with `@Before` annotation and manage my custom `static`(!)  `boolean` flag:\r\n\r\n    private static boolean setUpIsDone = false;\r\n    .....\r\n    @Before\r\n    public void setUp() {\r\n        if (setUpIsDone) {\r\n            return;\r\n        }\r\n        // do the setup\r\n        setUpIsDone = true;\r\n    }","title":"Junit - run set up method once","body":"<p>Although I agree with @assylias that using <code>@BeforeClass</code> is a classic solution it is not always convenient. The method annotated with <code>@BeforeClass</code> must be static. It is very inconvenient for some tests that need instance of test case. For example Spring based tests that use <code>@Autowired</code> to work with services defined in spring context.</p>\n<p>In this case I personally use regular <code>setUp()</code> method annotated with <code>@Before</code> annotation and manage my custom <code>static</code>(!)  <code>boolean</code> flag:</p>\n<pre><code>private static boolean setUpIsDone = false;\n.....\n@Before\npublic void setUp() {\n    if (setUpIsDone) {\n        return;\n    }\n    // do the setup\n    setUpIsDone = true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1594199806,"creation_date":1435585018,"answer_id":31117171,"question_id":12087959,"body_markdown":"When `setUp()` is in a superclass of the test class (e.g. `AbstractTestBase` below), the accepted answer can be modified as follows:\r\n\r\n    public abstract class AbstractTestBase {\r\n        private static Class&lt;? extends AbstractTestBase&gt; testClass;\r\n        .....\r\n        public void setUp() {\r\n            if (this.getClass().equals(testClass)) {\r\n                return;\r\n            }\r\n\r\n            // do the setup - once per concrete test class\r\n            .....\r\n            testClass = this.getClass();\r\n        }\r\n    }\r\n\r\nThis should work for a single non-static `setUp()` method but I&#39;m unable to produce an equivalent for `tearDown()` without straying into a world of complex reflection... Bounty points to anyone who can!","title":"Junit - run set up method once","body":"<p>When <code>setUp()</code> is in a superclass of the test class (e.g. <code>AbstractTestBase</code> below), the accepted answer can be modified as follows:</p>\n<pre><code>public abstract class AbstractTestBase {\n    private static Class&lt;? extends AbstractTestBase&gt; testClass;\n    .....\n    public void setUp() {\n        if (this.getClass().equals(testClass)) {\n            return;\n        }\n\n        // do the setup - once per concrete test class\n        .....\n        testClass = this.getClass();\n    }\n}\n</code></pre>\n<p>This should work for a single non-static <code>setUp()</code> method but I'm unable to produce an equivalent for <code>tearDown()</code> without straying into a world of complex reflection... Bounty points to anyone who can!</p>\n"},{"tags":[],"owner":{"display_name":"user5692355"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454938592,"creation_date":1454932160,"answer_id":35268952,"question_id":12087959,"body_markdown":"***Edit:***\nI just found out while debugging that the class is instantiated before every test too.\nI guess the @BeforeClass annotation is the best here.\n\nYou can set up on the constructor too, the test class **is** a class after all.\nI&#39;m not sure if it&#39;s a bad practice because almost all other methods are annotated, but it works. You could create a constructor like that:\n\n    public UT () {\n        // initialize once here\n    }\n    @Test\n    // Some test here...\nThe ctor will be called before the tests because they are not static.","title":"Junit - run set up method once","body":"<p><strong><em>Edit:</em></strong>\nI just found out while debugging that the class is instantiated before every test too.\nI guess the @BeforeClass annotation is the best here.</p>\n\n<p>You can set up on the constructor too, the test class <strong>is</strong> a class after all.\nI'm not sure if it's a bad practice because almost all other methods are annotated, but it works. You could create a constructor like that:</p>\n\n<pre><code>public UT () {\n    // initialize once here\n}\n@Test\n// Some test here...\n</code></pre>\n\n<p>The ctor will be called before the tests because they are not static.</p>\n"},{"tags":[],"owner":{"account_id":540,"reputation":13430,"user_id":700,"accept_rate":79,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1458179793,"creation_date":1458179793,"answer_id":36050320,"question_id":12087959,"body_markdown":"JUnit 5 now has a @BeforeAll annotation:\r\n\r\n&gt; Denotes that the annotated method should be executed before all @Test\r\n&gt; methods in the current class or class hierarchy; analogous to JUnit\r\n&gt; 4’s @BeforeClass. Such methods must be static.\r\n\r\nThe lifecycle annotations of JUnit 5 seem to have finally gotten it right!  You can guess which annotations available without even looking (e.g. @BeforeEach @AfterAll)","title":"Junit - run set up method once","body":"<p>JUnit 5 now has a @BeforeAll annotation:</p>\n\n<blockquote>\n  <p>Denotes that the annotated method should be executed before all @Test\n  methods in the current class or class hierarchy; analogous to JUnit\n  4’s @BeforeClass. Such methods must be static.</p>\n</blockquote>\n\n<p>The lifecycle annotations of JUnit 5 seem to have finally gotten it right!  You can guess which annotations available without even looking (e.g. @BeforeEach @AfterAll)</p>\n"},{"tags":[],"owner":{"account_id":539660,"reputation":15051,"user_id":907576,"accept_rate":62,"display_name":"radistao"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1505724219,"creation_date":1505724219,"answer_id":46275039,"question_id":12087959,"body_markdown":"Try this solution:\r\nhttps://stackoverflow.com/a/46274919/907576 :\r\n\r\nwith `@BeforeAllMethods`/`@AfterAllMethods` annotation you could execute any method in Test class in an instance context, where all injected values are available.","title":"Junit - run set up method once","body":"<p>Try this solution:\n<a href=\"https://stackoverflow.com/a/46274919/907576\">https://stackoverflow.com/a/46274919/907576</a> :</p>\n\n<p>with <code>@BeforeAllMethods</code>/<code>@AfterAllMethods</code> annotation you could execute any method in Test class in an instance context, where all injected values are available.</p>\n"},{"tags":[],"owner":{"account_id":13095033,"reputation":1,"user_id":9461201,"display_name":"Obi Two"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520503654,"creation_date":1520500110,"answer_id":49169278,"question_id":12087959,"body_markdown":"My dirty solution is:\r\n\r\n    public class TestCaseExtended extends TestCase {\r\n \r\n        private boolean isInitialized = false;\r\n        private int serId;\r\n    \r\n        @Override\r\n        public void setUp() throws Exception {\r\n            super.setUp();\r\n            if(!isInitialized) {\r\n                loadSaveNewSerId();\r\n                emptyTestResultsDirectory();\r\n                isInitialized = true;\r\n            }\r\n        }\r\n \r\n       ...\r\n \r\n    }\r\n\r\nI use it as a base base to all my testCases.\r\n\r\n","title":"Junit - run set up method once","body":"<p>My dirty solution is:</p>\n\n<pre><code>public class TestCaseExtended extends TestCase {\n\n    private boolean isInitialized = false;\n    private int serId;\n\n    @Override\n    public void setUp() throws Exception {\n        super.setUp();\n        if(!isInitialized) {\n            loadSaveNewSerId();\n            emptyTestResultsDirectory();\n            isInitialized = true;\n        }\n    }\n\n   ...\n\n}\n</code></pre>\n\n<p>I use it as a base base to all my testCases.</p>\n"},{"tags":[],"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539781082,"creation_date":1539770693,"answer_id":52852230,"question_id":12087959,"body_markdown":"If you don&#39;t want to force a declaration of a variable that is set and checked on each subtest, then adding this to a SuperTest could do: \r\n\r\n    public abstract class SuperTest {\r\n    \r\n        private static final ConcurrentHashMap&lt;Class, Boolean&gt; INITIALIZED = new ConcurrentHashMap&lt;&gt;();\r\n        protected final boolean initialized() {\r\n            final boolean[] absent = {false};\r\n            INITIALIZED.computeIfAbsent(this.getClass(), (klass)-&gt; {\r\n                return absent[0] = true;\r\n            });\r\n            return !absent[0];\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public class SubTest extends SuperTest {\r\n        @Before\r\n        public void before() {\r\n            if ( super.initialized() ) return;\r\n    \r\n             ... magic ... \r\n        }\r\n    \r\n    }","title":"Junit - run set up method once","body":"<p>If you don't want to force a declaration of a variable that is set and checked on each subtest, then adding this to a SuperTest could do: </p>\n\n<pre><code>public abstract class SuperTest {\n\n    private static final ConcurrentHashMap&lt;Class, Boolean&gt; INITIALIZED = new ConcurrentHashMap&lt;&gt;();\n    protected final boolean initialized() {\n        final boolean[] absent = {false};\n        INITIALIZED.computeIfAbsent(this.getClass(), (klass)-&gt; {\n            return absent[0] = true;\n        });\n        return !absent[0];\n    }\n}\n\n\n\npublic class SubTest extends SuperTest {\n    @Before\n    public void before() {\n        if ( super.initialized() ) return;\n\n         ... magic ... \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15378071,"reputation":121,"user_id":11094213,"display_name":"Sergii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559386173,"creation_date":1559386173,"answer_id":56406040,"question_id":12087959,"body_markdown":"I solved this problem like this:\r\n\r\nAdd to your **Base** abstract class (I mean abstract class where you initialize your driver in *setUpDriver()* method) this part of code:\r\n\r\n    private static boolean started = false;\r\n    static{\r\n        if (!started) {\r\n            started = true;\r\n            try {\r\n                setUpDriver();  //method where you initialize your driver\r\n            } catch (MalformedURLException e) {\r\n            }\r\n        }\r\n    }\r\n\r\nAnd now, if your test classes will extends from **Base** abstract class -&gt; *setUpDriver()* method will be executed before first @Test only **ONE** time per run.","title":"Junit - run set up method once","body":"<p>I solved this problem like this:</p>\n\n<p>Add to your <strong>Base</strong> abstract class (I mean abstract class where you initialize your driver in <em>setUpDriver()</em> method) this part of code:</p>\n\n<pre><code>private static boolean started = false;\nstatic{\n    if (!started) {\n        started = true;\n        try {\n            setUpDriver();  //method where you initialize your driver\n        } catch (MalformedURLException e) {\n        }\n    }\n}\n</code></pre>\n\n<p>And now, if your test classes will extends from <strong>Base</strong> abstract class -> <em>setUpDriver()</em> method will be executed before first @Test only <strong>ONE</strong> time per run.</p>\n"},{"tags":[],"owner":{"account_id":1716149,"reputation":1981,"user_id":1573161,"accept_rate":56,"display_name":"Abhishek Chatterjee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580733796,"creation_date":1580733796,"answer_id":60039496,"question_id":12087959,"body_markdown":"Use Spring&#39;s @PostConstruct method to do all initialization work and this method runs before any of the @Test is executed","title":"Junit - run set up method once","body":"<p>Use Spring's @PostConstruct method to do all initialization work and this method runs before any of the @Test is executed</p>\n"},{"tags":[],"owner":{"account_id":4398263,"reputation":3728,"user_id":3584693,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1606380046,"creation_date":1606380046,"answer_id":65018602,"question_id":12087959,"body_markdown":"JUnit 5 @BeforeAll can be non static provided the lifecycle of the test class is per class, i.e., annotate the test class with a `@TestInstance(Lifecycle.PER_CLASS)` and you are good to go","title":"Junit - run set up method once","body":"<p>JUnit 5 @BeforeAll can be non static provided the lifecycle of the test class is per class, i.e., annotate the test class with a <code>@TestInstance(Lifecycle.PER_CLASS)</code> and you are good to go</p>\n"},{"tags":[],"owner":{"account_id":7189977,"reputation":53,"user_id":5490686,"display_name":"user123456789"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631462732,"creation_date":1618448032,"answer_id":67100833,"question_id":12087959,"body_markdown":"After experimenting for some time this is my solution. I needed this for spring boot test. I tried using @PostConstruct, unfortunately it is executed for every test.\r\n\r\n    public class TestClass {\r\n        private static TestClass testClass = null;\r\n        @Before\r\n        public void setUp() {\r\n            if (testClass == null) {\r\n                // set up once\r\n                ...\r\n                testClass = this;\r\n            }\r\n        }\r\n        @AfterClass\r\n        public static void cleanUpAfterAll() {\r\n            testClass.cleanUpAfterAllTests();\r\n        }\r\n        private void cleanUpAfterAllTests() {\r\n            // final cleanup after all tests\r\n            ...\r\n        }\r\n        @Test\r\n        public void test1() {\r\n            // test 1\r\n            ...\r\n        }\r\n        @Test\r\n        public void test2() {\r\n            // test 2\r\n            ...\r\n        }\r\n    }","title":"Junit - run set up method once","body":"<p>After experimenting for some time this is my solution. I needed this for spring boot test. I tried using @PostConstruct, unfortunately it is executed for every test.</p>\n<pre><code>public class TestClass {\n    private static TestClass testClass = null;\n    @Before\n    public void setUp() {\n        if (testClass == null) {\n            // set up once\n            ...\n            testClass = this;\n        }\n    }\n    @AfterClass\n    public static void cleanUpAfterAll() {\n        testClass.cleanUpAfterAllTests();\n    }\n    private void cleanUpAfterAllTests() {\n        // final cleanup after all tests\n        ...\n    }\n    @Test\n    public void test1() {\n        // test 1\n        ...\n    }\n    @Test\n    public void test2() {\n        // test 2\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2481671,"reputation":5814,"user_id":2161029,"accept_rate":73,"display_name":"Igor Čordaš"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627994800,"creation_date":1627994800,"answer_id":68636327,"question_id":12087959,"body_markdown":"Here is one alternative suggestion:\r\n\r\nWhat I do to get this working is\r\nCreate a method named _warmup or just _\r\nAnnotate the test class with @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n\r\nThis is applicable only if you run all tests in the class\r\n\r\nIt has a downside of having additional test included, which will also run one additional @Before and @After\r\nIt is usually advised for your test methods to be order independent, this breaks that rule, but why someone would like tests ordered randomly in the reports I have no clue so NAME_ASCENDING is what I always use\r\n\r\n\r\nBut the upsides to this is simple setup with minimal code and without the need to extend classes/runners etc...\r\nTest run lengths are more accurate since all setup time is reported on method _warmup\r\n","title":"Junit - run set up method once","body":"<p>Here is one alternative suggestion:</p>\n<p>What I do to get this working is\nCreate a method named _warmup or just _\nAnnotate the test class with @FixMethodOrder(MethodSorters.NAME_ASCENDING)</p>\n<p>This is applicable only if you run all tests in the class</p>\n<p>It has a downside of having additional test included, which will also run one additional @Before and @After\nIt is usually advised for your test methods to be order independent, this breaks that rule, but why someone would like tests ordered randomly in the reports I have no clue so NAME_ASCENDING is what I always use</p>\n<p>But the upsides to this is simple setup with minimal code and without the need to extend classes/runners etc...\nTest run lengths are more accurate since all setup time is reported on method _warmup</p>\n"},{"tags":[],"owner":{"account_id":338173,"reputation":2361,"user_id":666887,"accept_rate":83,"display_name":"PowerAktar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658968143,"creation_date":1658968143,"answer_id":73145951,"question_id":12087959,"body_markdown":"The problem with `@BeforeClass` is that it fires before the constructor.\r\nSo if you rely on an `@Autowired` constructor to provide data, it simply will not work: wrong execution order.\r\n\r\nSimilarly `@PostConstruct` fires after the constructor has been called. And the constructor fires with every `@Test`, therefore your setup function will fire with every test, if you use this.\r\nThis has the exact same effect as calling a function from the constructor.\r\n \r\n\r\nThe only solution, I found that works, is to use a flag to indicate if the `setUp()` method has already been executed. While its not ideal, it will drastically reduce the amount of processing before each test.\r\n\r\n    private static boolean initialized = false;    \r\n\r\n    @Autowired\r\n    public CacheTest( MyBean myBean ){\r\n\r\n        this.myBean = myBean;\r\n    }\r\n\r\n\r\n    @PostConstruct\r\n    public static void setUp(){\r\n\r\n        if( initialized ) { return };\r\n\r\n        initialized = true;\r\n        \r\n        //do suff with myBean\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Junit - run set up method once","body":"<p>The problem with <code>@BeforeClass</code> is that it fires before the constructor.\nSo if you rely on an <code>@Autowired</code> constructor to provide data, it simply will not work: wrong execution order.</p>\n<p>Similarly <code>@PostConstruct</code> fires after the constructor has been called. And the constructor fires with every <code>@Test</code>, therefore your setup function will fire with every test, if you use this.\nThis has the exact same effect as calling a function from the constructor.</p>\n<p>The only solution, I found that works, is to use a flag to indicate if the <code>setUp()</code> method has already been executed. While its not ideal, it will drastically reduce the amount of processing before each test.</p>\n<pre><code>private static boolean initialized = false;    \n\n@Autowired\npublic CacheTest( MyBean myBean ){\n\n    this.myBean = myBean;\n}\n\n\n@PostConstruct\npublic static void setUp(){\n\n    if( initialized ) { return };\n\n    initialized = true;\n    \n    //do suff with myBean\n}\n</code></pre>\n"}],"owner":{"account_id":1102563,"reputation":15092,"user_id":1094640,"accept_rate":86,"display_name":"Bober02"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166314,"favorite_count":0,"down_vote_count":0,"up_vote_count":140,"accepted_answer_id":12088135,"answer_count":14,"score":140,"last_activity_date":1658968143,"creation_date":1345711598,"question_id":12087959,"body_markdown":"I set up a class with a couple of tests and rather than using `@Before` I would like to have a setup method that executes only once before all tests. Is that possible with Junit 4.8?","title":"Junit - run set up method once","body":"<p>I set up a class with a couple of tests and rather than using <code>@Before</code> I would like to have a setup method that executes only once before all tests. Is that possible with Junit 4.8?</p>\n"},{"tags":["java","micronaut","micronaut-client"],"comments":[{"owner":{"account_id":10555285,"reputation":1221,"user_id":7776688,"display_name":"IEE1394"},"score":0,"creation_date":1621773549,"post_id":67659093,"comment_id":119591455,"body_markdown":"i suggest checking with a breakpoint if the dedicated controller functions are called as expected, maybe that could help you","body":"i suggest checking with a breakpoint if the dedicated controller functions are called as expected, maybe that could help you"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1621878290,"post_id":67659093,"comment_id":119621618,"body_markdown":"&quot;From my understanding the response body should never be null&quot; - I don&#39;t think that is a correct understanding.  The docs at https://docs.micronaut.io/2.5.4/api/io/micronaut/http/HttpResponse.html#body-- say that the method returns &quot;The body or null&quot;.","body":"&quot;From my understanding the response body should never be null&quot; - I don&#39;t think that is a correct understanding.  The docs at <a href=\"https://docs.micronaut.io/2.5.4/api/io/micronaut/http/HttpResponse.html#body--\" rel=\"nofollow noreferrer\">docs.micronaut.io/2.5.4/api/io/micronaut/http/&hellip;</a> say that the method returns &quot;The body or null&quot;."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1621878320,"post_id":67659093,"comment_id":119621633,"body_markdown":"The edit that you made to the question should allow the `.body()` method to return non-null.","body":"The edit that you made to the question should allow the <code>.body()</code> method to return non-null."},{"owner":{"account_id":5789937,"reputation":1148,"user_id":4567795,"display_name":"twobiers"},"score":0,"creation_date":1621879131,"post_id":67659093,"comment_id":119621935,"body_markdown":"@JeffScottBrown Yes that work&#39;s perfectly fine. However, according to the docs of the BlockingHttpClient https://docs.micronaut.io/2.1.3/api/io/micronaut/http/client/BlockingHttpClient.html#exchange-io.micronaut.http.HttpRequest- the parameter should not be required as it can be inferred from the generic type of `HttpResponse`. Maybe I&#39;m wrong but this is my expectation from the docs.","body":"@JeffScottBrown Yes that work&#39;s perfectly fine. However, according to the docs of the BlockingHttpClient <a href=\"https://docs.micronaut.io/2.1.3/api/io/micronaut/http/client/BlockingHttpClient.html#exchange-io.micronaut.http.HttpRequest-\" rel=\"nofollow noreferrer\">docs.micronaut.io/2.1.3/api/io/micronaut/http/client/&hellip;</a> the parameter should not be required as it can be inferred from the generic type of <code>HttpResponse</code>. Maybe I&#39;m wrong but this is my expectation from the docs."}],"answers":[{"tags":[],"owner":{"account_id":14405323,"reputation":29,"user_id":10405585,"display_name":"David AJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658967502,"creation_date":1658967502,"answer_id":73145911,"question_id":67659093,"body_markdown":"In my case these two options work:\r\n\r\n```\r\nfinal var result = client.toBlocking().exchange(HttpRequest.GET(url).accept(MediaType.APPLICATION_JSON), String.class);\r\n\r\nHttpResponse&lt;String&gt; response  = client.toBlocking().exchange(HttpRequest.GET(url).accept(MediaType.APPLICATION_JSON), String.class);\r\n```","title":"Micronaut HttpClients exchange body is always null","body":"<p>In my case these two options work:</p>\n<pre><code>final var result = client.toBlocking().exchange(HttpRequest.GET(url).accept(MediaType.APPLICATION_JSON), String.class);\n\nHttpResponse&lt;String&gt; response  = client.toBlocking().exchange(HttpRequest.GET(url).accept(MediaType.APPLICATION_JSON), String.class);\n</code></pre>\n"}],"owner":{"account_id":5789937,"reputation":1148,"user_id":4567795,"display_name":"twobiers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1736,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1658967502,"creation_date":1621768372,"question_id":67659093,"body_markdown":"I have setup a simple test Controller:\r\n```java\r\n@Controller(&quot;/test&quot;)\r\npublic class SampleController {\r\n  @Get(value = &quot;1&quot;, produces = MediaType.TEXT_PLAIN)\r\n  public String helloWorld1() {\r\n    return &quot;Hello, World!&quot;;\r\n  }\r\n\r\n  @Get(value = &quot;2&quot;, produces = MediaType.TEXT_PLAIN)\r\n  public HttpResponse&lt;String&gt; helloWorld2() {\r\n    return HttpResponse.ok(&quot;Hello, World!&quot;);\r\n  }\r\n}\r\n```\r\n\r\nAnd I am using the low-level HTTPClient in my Unit-Tests, which looks like this:\r\n```java\r\n@MicronautTest\r\npublic class SampleControllerTest {\r\n\r\n  @Inject\r\n  EmbeddedServer server;\r\n\r\n  @Inject\r\n  @Client(&quot;/test&quot;)\r\n  HttpClient client;\r\n\r\n  @Test\r\n  void shouldReturnHelloWorld1_1() {\r\n    HttpResponse&lt;String&gt; response = client.toBlocking().exchange(HttpRequest.GET(&quot;/1&quot;).accept(\r\n        MediaType.TEXT_PLAIN));\r\n\r\n    assertEquals(200, response.code());\r\n    assertEquals(&quot;Hello, World!&quot;, response.body());\r\n  }\r\n\r\n  @Test\r\n  void shouldReturnHelloWorld1_2() {\r\n    String response = client.toBlocking().retrieve(HttpRequest.GET(&quot;/1&quot;).accept(MediaType.TEXT_PLAIN));\r\n\r\n    assertEquals(&quot;Hello, World!&quot;, response);\r\n  }\r\n\r\n  @Test\r\n  void shouldReturnHelloWorld2() {\r\n    HttpResponse&lt;String&gt; response = client.toBlocking().exchange(HttpRequest.GET(&quot;/2&quot;).accept(\r\n        MediaType.TEXT_PLAIN));\r\n\r\n    assertEquals(200, response.code());\r\n    assertEquals(&quot;Hello, World!&quot;, response.body());\r\n  }\r\n}\r\n```\r\n\r\nFrom my understanding the response body should never be null, however it is for the tests `shouldReturnHelloWorld2` and `shouldReturnHelloWorld1_1` - so it is always null when `HttpClient.exchange()` is used.\r\nIn my opinion this seems to be bug or is here any issue?\r\n\r\nYou can check the whole code and run the tests yourself by cloning my sample repository: https://github.com/tobi6112/micronaut-httpclient-issue\r\n\r\n**Update:**\r\nJust noticed that the tests work as expected with\r\n```java\r\nHttpResponse&lt;String&gt; response = client.toBlocking()\r\n        .exchange(HttpRequest.GET(&quot;/2&quot;).accept(MediaType.TEXT_PLAIN), String.class);\r\n```","title":"Micronaut HttpClients exchange body is always null","body":"<p>I have setup a simple test Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller(&quot;/test&quot;)\npublic class SampleController {\n  @Get(value = &quot;1&quot;, produces = MediaType.TEXT_PLAIN)\n  public String helloWorld1() {\n    return &quot;Hello, World!&quot;;\n  }\n\n  @Get(value = &quot;2&quot;, produces = MediaType.TEXT_PLAIN)\n  public HttpResponse&lt;String&gt; helloWorld2() {\n    return HttpResponse.ok(&quot;Hello, World!&quot;);\n  }\n}\n</code></pre>\n<p>And I am using the low-level HTTPClient in my Unit-Tests, which looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MicronautTest\npublic class SampleControllerTest {\n\n  @Inject\n  EmbeddedServer server;\n\n  @Inject\n  @Client(&quot;/test&quot;)\n  HttpClient client;\n\n  @Test\n  void shouldReturnHelloWorld1_1() {\n    HttpResponse&lt;String&gt; response = client.toBlocking().exchange(HttpRequest.GET(&quot;/1&quot;).accept(\n        MediaType.TEXT_PLAIN));\n\n    assertEquals(200, response.code());\n    assertEquals(&quot;Hello, World!&quot;, response.body());\n  }\n\n  @Test\n  void shouldReturnHelloWorld1_2() {\n    String response = client.toBlocking().retrieve(HttpRequest.GET(&quot;/1&quot;).accept(MediaType.TEXT_PLAIN));\n\n    assertEquals(&quot;Hello, World!&quot;, response);\n  }\n\n  @Test\n  void shouldReturnHelloWorld2() {\n    HttpResponse&lt;String&gt; response = client.toBlocking().exchange(HttpRequest.GET(&quot;/2&quot;).accept(\n        MediaType.TEXT_PLAIN));\n\n    assertEquals(200, response.code());\n    assertEquals(&quot;Hello, World!&quot;, response.body());\n  }\n}\n</code></pre>\n<p>From my understanding the response body should never be null, however it is for the tests <code>shouldReturnHelloWorld2</code> and <code>shouldReturnHelloWorld1_1</code> - so it is always null when <code>HttpClient.exchange()</code> is used.\nIn my opinion this seems to be bug or is here any issue?</p>\n<p>You can check the whole code and run the tests yourself by cloning my sample repository: <a href=\"https://github.com/tobi6112/micronaut-httpclient-issue\" rel=\"noreferrer\">https://github.com/tobi6112/micronaut-httpclient-issue</a></p>\n<p><strong>Update:</strong>\nJust noticed that the tests work as expected with</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpResponse&lt;String&gt; response = client.toBlocking()\n        .exchange(HttpRequest.GET(&quot;/2&quot;).accept(MediaType.TEXT_PLAIN), String.class);\n</code></pre>\n"},{"tags":["java","android","attributes","android-appcompat"],"comments":[{"owner":{"account_id":3183646,"reputation":190,"user_id":2689834,"display_name":"matty"},"score":0,"creation_date":1498721377,"post_id":44134865,"comment_id":76617746,"body_markdown":"Which version of Android were you running? I had something similar with Android O (beta) but only occurred rarely.","body":"Which version of Android were you running? I had something similar with Android O (beta) but only occurred rarely."},{"owner":{"account_id":9660050,"reputation":571,"user_id":7168422,"display_name":"C. L."},"score":0,"creation_date":1511857944,"post_id":44134865,"comment_id":82010100,"body_markdown":"I have a similar problem with SDK 25.","body":"I have a similar problem with SDK 25."},{"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"score":0,"creation_date":1511876771,"post_id":44134865,"comment_id":82022737,"body_markdown":"The issue is non-reproducable.","body":"The issue is non-reproducable."},{"owner":{"account_id":9660050,"reputation":571,"user_id":7168422,"display_name":"C. L."},"score":0,"creation_date":1511882863,"post_id":44134865,"comment_id":82027080,"body_markdown":"My problem was that I didn&#39;t use an AppCompat theme for my application. Since Thimo does so as shown in the code above the problem here seems to be something else.","body":"My problem was that I didn&#39;t use an AppCompat theme for my application. Since Thimo does so as shown in the code above the problem here seems to be something else."},{"owner":{"account_id":2089301,"reputation":2679,"user_id":1859486,"accept_rate":77,"display_name":"Alix"},"score":1,"creation_date":1622124422,"post_id":44134865,"comment_id":119705460,"body_markdown":"This happens to me when I inflate a layout using android:background=&quot;?selectableItemBackground&quot;","body":"This happens to me when I inflate a layout using android:background=&quot;?selectableItemBackground&quot;"}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1624290796,"creation_date":1511901680,"answer_id":47540594,"question_id":44134865,"body_markdown":"Where do you define that your &quot;AppThemeNight&quot; is to be used? I set up a small project with your code and defined that &quot;AppThemeNight&quot; is to be used in the manifest and everything worked as expected. When I removed the reference to &quot;AppThemeNight&quot; in the manifest the app errored out with the following error:\r\n\r\n&gt;Caused by: java.lang.UnsupportedOperationException: Failed to resolve attribute at index 13: TypedValue{t=0x2/d=0x7f0200c9 a=-1}\r\n\r\nwhich is what I think that you are seeing, so I don&#39;t think that you are specifying that your theme should be used. If you are, please post that, and we&#39;ll make another attempt to resolve the issue. For reference, here is my test manifest that works:\r\n```xml\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.attributes&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppThemeNight&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"java.lang.UnsupportedOperationException: Failed to resolve attribute at index 13: TypedValue{t=0x2/d=0x7f010046 a=-1}","body":"<p>Where do you define that your &quot;AppThemeNight&quot; is to be used? I set up a small project with your code and defined that &quot;AppThemeNight&quot; is to be used in the manifest and everything worked as expected. When I removed the reference to &quot;AppThemeNight&quot; in the manifest the app errored out with the following error:</p>\n<blockquote>\n<p>Caused by: java.lang.UnsupportedOperationException: Failed to resolve attribute at index 13: TypedValue{t=0x2/d=0x7f0200c9 a=-1}</p>\n</blockquote>\n<p>which is what I think that you are seeing, so I don't think that you are specifying that your theme should be used. If you are, please post that, and we'll make another attempt to resolve the issue. For reference, here is my test manifest that works:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.attributes&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppThemeNight&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8233007,"reputation":321,"user_id":7478839,"display_name":"KE Keronei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658967363,"creation_date":1658967363,"answer_id":73145895,"question_id":44134865,"body_markdown":"In my case I had used `android:background=&quot;?attr/backgroundColor&quot;` in one of the CardViews, turned out it was not recognised but the error was quite ambiguous and did not point out exactly.\r\n\r\nIn your case, I suspect `android:background=&quot;?attr/normalBackground&quot;` property inside spinner_layout_adapter.xml.\r\n\r\nFor anyone else, carefully inspect the said file/line in the stack trace and eliminate any stylings, especially ones you know you did not define.","title":"java.lang.UnsupportedOperationException: Failed to resolve attribute at index 13: TypedValue{t=0x2/d=0x7f010046 a=-1}","body":"<p>In my case I had used <code>android:background=&quot;?attr/backgroundColor&quot;</code> in one of the CardViews, turned out it was not recognised but the error was quite ambiguous and did not point out exactly.</p>\n<p>In your case, I suspect <code>android:background=&quot;?attr/normalBackground&quot;</code> property inside spinner_layout_adapter.xml.</p>\n<p>For anyone else, carefully inspect the said file/line in the stack trace and eliminate any stylings, especially ones you know you did not define.</p>\n"}],"owner":{"account_id":10423559,"reputation":129,"user_id":7685551,"display_name":"Thimo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12617,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1658967363,"creation_date":1495542554,"question_id":44134865,"body_markdown":"I added an attribute to the android attrs.xml file for different color shades. In the styles.xml file I give these attributes colors, so they are different for each style.\r\n\r\nAttrs.xml:\r\n\r\n    &lt;attr name=&quot;lightBackground&quot; format=&quot;color&quot; /&gt;\r\n    &lt;attr name=&quot;normalBackground&quot; format=&quot;color&quot; /&gt;\r\n\r\n\r\nstyles.xml:\r\n\r\n    &lt;style name=&quot;AppThemeNight&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimaryNight&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDarkNight&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccentNight&lt;/item&gt;\r\n        \r\n        &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerIcon&lt;/item&gt;\r\n        &lt;item name=&quot;lightBackground&quot;&gt;@color/colorPrimaryLightNight&lt;/item&gt;\r\n        &lt;item name=&quot;normalBackground&quot;&gt;@color/colorPrimaryNight&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\nInflating a custom spinner layout: spinner_layout_adapter.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n          android:id=&quot;@+id/spinnerLayoutAdapter_tv_spinnerText&quot;\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_weight=&quot;1&quot;\r\n          android:padding=&quot;15dp&quot;\r\n          android:text=&quot;TextView&quot;\r\n          android:textColor=&quot;@android:color/white&quot;\r\n          android:background=&quot;?attr/normalBackground&quot;\r\n          android:textSize=&quot;16sp&quot;/&gt;\r\n\r\n\r\n\r\nHowever,\r\n\r\n\r\n    05-23 14:22:34.833 17231-17231/nl.gemeente.breda.bredaapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: nl.gemeente.breda.bredaapp, PID: 17231\r\n        android.view.InflateException: Binary XML file line #3: Binary XML file line #3: Error inflating class android.widget.TextView\r\n        Caused by: android.view.InflateException: Binary XML file line #3: Error inflating class android.widget.TextView\r\n        Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:645)\r\n            at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\r\n            at android.view.LayoutInflater.onCreateView(LayoutInflater.java:717)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:785)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:495)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\r\n            at nl.gemeente.breda.bredaapp.adapter.ServiceAdapter.getView(ServiceAdapter.java:32)\r\n            at android.widget.AbsSpinner.onMeasure(AbsSpinner.java:194)\r\n            at android.widget.Spinner.onMeasure(Spinner.java:592)\r\n            at android.support.v7.widget.AppCompatSpinner.onMeasure(AppCompatSpinner.java:416)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\r\n            at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1464)\r\n            at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:1117)\r\n            at android.widget.LinearLayout.onMeasure(LinearLayout.java:642)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.support.constraint.ConstraintLayout.internalMeasureChildren(ConstraintLayout.java:934)\r\n            at android.support.constraint.ConstraintLayout.onMeasure(ConstraintLayout.java:973)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\r\n            at android.support.design.widget.CoordinatorLayout.onMeasureChild(CoordinatorLayout.java:714)\r\n            at android.support.design.widget.CoordinatorLayout.onMeasure(CoordinatorLayout.java:786)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.support.v4.widget.DrawerLayout.onMeasure(DrawerLayout.java:1081)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\r\n            at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:139)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\r\n            at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1464)\r\n            at android.widget.LinearLayout.measureVertical(LinearLayout.java:758)\r\n            at android.widget.LinearLayout.onMeasure(LinearLayout.java:640)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\r\n            at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1464)\r\n            at android.widget.LinearLayout.measureVertical(LinearLayout.java:758)\r\n            at android.widget.LinearLayout.onMeasure(LinearLayout.java:640)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\r\n            at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\r\n    05-23 14:22:34.833 17231-17231/nl.gemeente.breda.bredaapp E/AndroidRuntime:     at com.android.internal.policy.DecorView.onMeasure(DecorView.java:691)\r\n            at android.view.View.measure(View.java:19861)\r\n            at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2275)\r\n            at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1366)\r\n            at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1619)\r\n            at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1254)\r\n            at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6344)\r\n            at android.view.Choreographer$CallbackRecord.run(Choreographer.java:874)\r\n            at android.view.Choreographer.doCallbacks(Choreographer.java:686)\r\n            at android.view.Choreographer.doFrame(Choreographer.java:621)\r\n            at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:860)\r\n            at android.os.Handler.handleCallback(Handler.java:751)\r\n            at android.os.Handler.dispatchMessage(Handler.java:95)\r\n            at android.os.Looper.loop(Looper.java:154)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6178)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:891)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:781)\r\n         Caused by: java.lang.UnsupportedOperationException: Failed to resolve attribute at index 13: TypedValue{t=0x2/d=0x7f010046 a=-1}\r\n            at android.content.res.TypedArray.getDrawable(TypedArray.java:925)\r\n            at android.view.View.&lt;init&gt;(View.java:4202)\r\n            at android.widget.TextView.&lt;init&gt;(TextView.java:710)\r\n            at android.widget.TextView.&lt;init&gt;(TextView.java:704)\r\n            at android.widget.TextView.&lt;init&gt;(TextView.java:700)\r\n            \t... 71 more\r\n\r\n\r\nWhen I change the attribute with a normal color like below, it works. The attribute ?attr/normalBackground doesn&#39;t seem to work.\r\n\r\n    android:background=&quot;@color/colorPrimary&quot;\r\n\r\n\r\n\r\nAnyone has an idea what I did wrong?","title":"java.lang.UnsupportedOperationException: Failed to resolve attribute at index 13: TypedValue{t=0x2/d=0x7f010046 a=-1}","body":"<p>I added an attribute to the android attrs.xml file for different color shades. In the styles.xml file I give these attributes colors, so they are different for each style.</p>\n\n<p>Attrs.xml:</p>\n\n<pre><code>&lt;attr name=\"lightBackground\" format=\"color\" /&gt;\n&lt;attr name=\"normalBackground\" format=\"color\" /&gt;\n</code></pre>\n\n<p>styles.xml:</p>\n\n<pre><code>&lt;style name=\"AppThemeNight\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimaryNight&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDarkNight&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccentNight&lt;/item&gt;\n\n    &lt;item name=\"drawerArrowStyle\"&gt;@style/DrawerIcon&lt;/item&gt;\n    &lt;item name=\"lightBackground\"&gt;@color/colorPrimaryLightNight&lt;/item&gt;\n    &lt;item name=\"normalBackground\"&gt;@color/colorPrimaryNight&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Inflating a custom spinner layout: spinner_layout_adapter.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      android:id=\"@+id/spinnerLayoutAdapter_tv_spinnerText\"\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"wrap_content\"\n      android:layout_weight=\"1\"\n      android:padding=\"15dp\"\n      android:text=\"TextView\"\n      android:textColor=\"@android:color/white\"\n      android:background=\"?attr/normalBackground\"\n      android:textSize=\"16sp\"/&gt;\n</code></pre>\n\n<p>However,</p>\n\n<pre><code>05-23 14:22:34.833 17231-17231/nl.gemeente.breda.bredaapp E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: nl.gemeente.breda.bredaapp, PID: 17231\n    android.view.InflateException: Binary XML file line #3: Binary XML file line #3: Error inflating class android.widget.TextView\n    Caused by: android.view.InflateException: Binary XML file line #3: Error inflating class android.widget.TextView\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:645)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:717)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:785)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:495)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\n        at nl.gemeente.breda.bredaapp.adapter.ServiceAdapter.getView(ServiceAdapter.java:32)\n        at android.widget.AbsSpinner.onMeasure(AbsSpinner.java:194)\n        at android.widget.Spinner.onMeasure(Spinner.java:592)\n        at android.support.v7.widget.AppCompatSpinner.onMeasure(AppCompatSpinner.java:416)\n        at android.view.View.measure(View.java:19861)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.view.View.measure(View.java:19861)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1464)\n        at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:1117)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:642)\n        at android.view.View.measure(View.java:19861)\n        at android.support.constraint.ConstraintLayout.internalMeasureChildren(ConstraintLayout.java:934)\n        at android.support.constraint.ConstraintLayout.onMeasure(ConstraintLayout.java:973)\n        at android.view.View.measure(View.java:19861)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.view.View.measure(View.java:19861)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n        at android.support.design.widget.CoordinatorLayout.onMeasureChild(CoordinatorLayout.java:714)\n        at android.support.design.widget.CoordinatorLayout.onMeasure(CoordinatorLayout.java:786)\n        at android.view.View.measure(View.java:19861)\n        at android.support.v4.widget.DrawerLayout.onMeasure(DrawerLayout.java:1081)\n        at android.view.View.measure(View.java:19861)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:139)\n        at android.view.View.measure(View.java:19861)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1464)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:758)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:640)\n        at android.view.View.measure(View.java:19861)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.view.View.measure(View.java:19861)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1464)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:758)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:640)\n        at android.view.View.measure(View.java:19861)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n05-23 14:22:34.833 17231-17231/nl.gemeente.breda.bredaapp E/AndroidRuntime:     at com.android.internal.policy.DecorView.onMeasure(DecorView.java:691)\n        at android.view.View.measure(View.java:19861)\n        at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2275)\n        at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1366)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1619)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1254)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6344)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:874)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:686)\n        at android.view.Choreographer.doFrame(Choreographer.java:621)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:860)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6178)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:891)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:781)\n     Caused by: java.lang.UnsupportedOperationException: Failed to resolve attribute at index 13: TypedValue{t=0x2/d=0x7f010046 a=-1}\n        at android.content.res.TypedArray.getDrawable(TypedArray.java:925)\n        at android.view.View.&lt;init&gt;(View.java:4202)\n        at android.widget.TextView.&lt;init&gt;(TextView.java:710)\n        at android.widget.TextView.&lt;init&gt;(TextView.java:704)\n        at android.widget.TextView.&lt;init&gt;(TextView.java:700)\n            ... 71 more\n</code></pre>\n\n<p>When I change the attribute with a normal color like below, it works. The attribute ?attr/normalBackground doesn't seem to work.</p>\n\n<pre><code>android:background=\"@color/colorPrimary\"\n</code></pre>\n\n<p>Anyone has an idea what I did wrong?</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1658930753,"post_id":73139291,"comment_id":129174773,"body_markdown":"what exactly do you mean by &quot;it doesn&#39;t work&quot;? (BTW it is very *dangerous* to change the list while iterating over it, unless changes are made using its own iterator)","body":"what exactly do you mean by &quot;it doesn&#39;t work&quot;? (BTW it is very <i>dangerous</i> to change the list while iterating over it, unless changes are made using its own iterator)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1658930816,"post_id":73139291,"comment_id":129174810,"body_markdown":"You should never mutate a list while you are iterating it. Calls to `opexContent#remove` should be replaced with a call to `Iterator#remove` (with the `Iterator` coming from `opexContent#iterator`). I&#39;m honestly surprised you didn&#39;t get a `ConcurrentModificationException`, though you might&#39;ve gotten one and the `ExecutorService` simply swallowed the error.","body":"You should never mutate a list while you are iterating it. Calls to <code>opexContent#remove</code> should be replaced with a call to <code>Iterator#remove</code> (with the <code>Iterator</code> coming from <code>opexContent#iterator</code>). I&#39;m honestly surprised you didn&#39;t get a <code>ConcurrentModificationException</code>, though you might&#39;ve gotten one and the <code>ExecutorService</code> simply swallowed the error."},{"owner":{"account_id":20070524,"reputation":11,"user_id":14715389,"display_name":"pizzadox9999"},"score":0,"creation_date":1658932582,"post_id":73139291,"comment_id":129175693,"body_markdown":"@Rogue Thank you for the advice. It seems to work. But would have been there other solution other then to use an Iterator?","body":"@Rogue Thank you for the advice. It seems to work. But would have been there other solution other then to use an Iterator?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1658932679,"post_id":73139291,"comment_id":129175738,"body_markdown":"You can determine the items which remain in a separate list, but for in-place removal, you will need to use an `Iterator`.","body":"You can determine the items which remain in a separate list, but for in-place removal, you will need to use an <code>Iterator</code>."},{"owner":{"account_id":20070524,"reputation":11,"user_id":14715389,"display_name":"pizzadox9999"},"score":1,"creation_date":1658932918,"post_id":73139291,"comment_id":129175863,"body_markdown":"@Rogue Would you be so kind and add your comment as an answer which I could accept as solved?","body":"@Rogue Would you be so kind and add your comment as an answer which I could accept as solved?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1658935990,"post_id":73139291,"comment_id":129177311,"body_markdown":"By the way, the terrible `Date` class was years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"By the way, the terrible <code>Date</code> class was years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":20070524,"reputation":11,"user_id":14715389,"display_name":"pizzadox9999"},"score":0,"creation_date":1658966786,"post_id":73139291,"comment_id":129186083,"body_markdown":"Oh it isn&#39;t so terrible if you want a really thin rapper around the unixTime. Just saying. Just my opinion.","body":"Oh it isn&#39;t so terrible if you want a really thin rapper around the unixTime. Just saying. Just my opinion."}],"answers":[{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658934594,"creation_date":1658933116,"answer_id":73140051,"question_id":73139291,"body_markdown":"You should never mutate a list while you are iterating it. This type of code:\r\n\r\n    final ArrayList&lt;String[]&gt; opexContent;\r\n    \r\n    private void deleteContentIfOlderThen() {\r\n        for(final String[] content : opexContent) {\r\n            Date date = /* some date */;\r\n            Date checkDate=new Date(System.currentTimeMillis()-unixTime);\r\n            if(date.before(checkDate)) {\r\n                opexContent.remove(content); //CME!\r\n            }\r\n        }\r\n    }\r\n\r\nWill likely cause a `ConcurrentModificationException`, as the list was mutated while an `Iterator` was in use (behind the scenes). Instead, you should use the `Iterator` directly, such that you have the ability to use `Iterator#remove`:\r\n\r\n    final ArrayList&lt;String[]&gt; opexContent;\r\n    \r\n    private void deleteContentIfOlderThen() {\r\n        Iterator&lt;String[]&gt; itr = opexContent.iterator();\r\n        while (itr.hasNext()) {\r\n            String[] content = itr.next();\r\n            Date date = /* some date */;\r\n            Date checkDate=new Date(System.currentTimeMillis()-unixTime);\r\n            if(date.before(checkDate)) {\r\n                itr.remove(); //No more CME!\r\n            }\r\n        }\r\n    }","title":"arraylist.isEmpty works only in a loop and not outside","body":"<p>You should never mutate a list while you are iterating it. This type of code:</p>\n<pre><code>final ArrayList&lt;String[]&gt; opexContent;\n\nprivate void deleteContentIfOlderThen() {\n    for(final String[] content : opexContent) {\n        Date date = /* some date */;\n        Date checkDate=new Date(System.currentTimeMillis()-unixTime);\n        if(date.before(checkDate)) {\n            opexContent.remove(content); //CME!\n        }\n    }\n}\n</code></pre>\n<p>Will likely cause a <code>ConcurrentModificationException</code>, as the list was mutated while an <code>Iterator</code> was in use (behind the scenes). Instead, you should use the <code>Iterator</code> directly, such that you have the ability to use <code>Iterator#remove</code>:</p>\n<pre><code>final ArrayList&lt;String[]&gt; opexContent;\n\nprivate void deleteContentIfOlderThen() {\n    Iterator&lt;String[]&gt; itr = opexContent.iterator();\n    while (itr.hasNext()) {\n        String[] content = itr.next();\n        Date date = /* some date */;\n        Date checkDate=new Date(System.currentTimeMillis()-unixTime);\n        if(date.before(checkDate)) {\n            itr.remove(); //No more CME!\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658934601,"creation_date":1658934601,"answer_id":73140430,"question_id":73139291,"body_markdown":"Whilst [Rogue&#39;s answer](https://stackoverflow.com/a/73140051/3788176) is correct in saying that you shouldn&#39;t remove elements from the list while iterating it, there&#39;s a neater way of removing the elements since Java 8 that avoids using an iterator explicitly:\r\n\r\n```\r\n// Doesn&#39;t have to be moved outside, but at least doing this means\r\n// you&#39;re comparing against a fixed check date, rather than potentially\r\n// changing as you iterate.\r\nDate checkDate=new Date(System.currentTimeMillis()-unixTime);\r\n\r\nopexContent.removeIf(content -&gt; {\r\n  Date date = /* some date */;\r\n  return date.before(checkDate);\r\n});\r\n```\r\n\r\nThis is better because\r\n\r\n1) it&#39;s clearer, because you&#39;re not having to deal with the iterator \r\n1) it&#39;s safer, as it leaves the list untouched if an exception is thrown for some element (i.e. it&#39;s failure atomic);\r\n2) it&#39;s more efficient, because it avoids resizing the list repeatedly","title":"arraylist.isEmpty works only in a loop and not outside","body":"<p>Whilst <a href=\"https://stackoverflow.com/a/73140051/3788176\">Rogue's answer</a> is correct in saying that you shouldn't remove elements from the list while iterating it, there's a neater way of removing the elements since Java 8 that avoids using an iterator explicitly:</p>\n<pre><code>// Doesn't have to be moved outside, but at least doing this means\n// you're comparing against a fixed check date, rather than potentially\n// changing as you iterate.\nDate checkDate=new Date(System.currentTimeMillis()-unixTime);\n\nopexContent.removeIf(content -&gt; {\n  Date date = /* some date */;\n  return date.before(checkDate);\n});\n</code></pre>\n<p>This is better because</p>\n<ol>\n<li>it's clearer, because you're not having to deal with the iterator</li>\n<li>it's safer, as it leaves the list untouched if an exception is thrown for some element (i.e. it's failure atomic);</li>\n<li>it's more efficient, because it avoids resizing the list repeatedly</li>\n</ol>\n"}],"owner":{"account_id":20070524,"reputation":11,"user_id":14715389,"display_name":"pizzadox9999"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73140051,"answer_count":2,"score":1,"last_activity_date":1658966687,"creation_date":1658930233,"question_id":73139291,"body_markdown":"In this class I store a number and content belonging to this number. In the method `deleteContentIfOlderThen()` I check if the `ArrayList(opexContent)` is empty. But this works only if the check occurs inside the `for` loop. If I check it outside it doesn&#39;t work. I use a `workStealingExecutorService` to execute this method. But the list is only accessed by this class while the threads do the work.\r\n\r\nSo what am I doing wrong that it doesn&#39;t work outside the loop?\r\n\r\n3. version with `list.removeIf()`\r\n```\r\npackage org.excelAnalyser;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.Iterator;\r\nimport java.util.function.Predicate;\r\n\r\npublic class OpexLine implements Runnable{\r\n\tpublic static final int DELETE_CONTENT_TASK=0;\r\n\tpublic final int SAPNumber;\r\n\tpublic final ArrayList&lt;String[]&gt; opexContent;\r\n\t\r\n\tprivate final DeletionRequestHandler m_deletionRequestHandler;\r\n\tprivate String[] m_taskParameters=null;\r\n\tprivate int m_taskid=-1;\r\n\t\r\n\tpublic OpexLine(int SAPNumber, ArrayList&lt;String[]&gt; opexContent, DeletionRequestHandler deletionRequestHandler) {\r\n\t\tthis.SAPNumber=SAPNumber;\r\n\t\tthis.opexContent=opexContent;\r\n\t\tm_deletionRequestHandler=deletionRequestHandler;\r\n\t}\r\n\tpublic void setupTask(int taskID, String[] parameters) {\r\n\t\tm_taskid=taskID;\r\n\t\tm_taskParameters=parameters;\r\n\t}\r\n\tpublic void run() {\r\n\t\tif(m_taskid&lt;0) {\r\n\t\t\tSystem.out.println(&quot;aborted task because no taskID was given&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(m_taskParameters==null) {\r\n\t\t\tSystem.out.println(&quot;no taskparameters were specified&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tswitch (m_taskid) {\r\n\t\tcase DELETE_CONTENT_TASK:\r\n\t\t\tdeleteContentIfOlderThen();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tprivate void deleteContentIfOlderThen() {\r\n\t\tfinal long unixTime=Long.parseLong(m_taskParameters[0]);\r\n\t\tfinal int indexOfTime=Integer.parseInt(m_taskParameters[1]);\r\n\t\tfinal SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\r\n\t\tfinal Date checkDate=new Date(System.currentTimeMillis()-unixTime);\r\n\t\topexContent.removeIf(new Predicate&lt;String[]&gt;() {\r\n\t\t\tpublic boolean test(String[] content) {\r\n\t\t\t\tfinal String timeString=content[indexOfTime];\r\n\t\t\t\tif(timeString==null || timeString.isEmpty()) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tDate date = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdate = sdf.parse(timeString);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\t//date = new Date();\r\n\t\t\t\t}\r\n\t\t\t\treturn date.before(checkDate);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(opexContent.isEmpty()) {\r\n\t\t\tm_deletionRequestHandler.requestDeletionFor(this);\r\n\t\t}\r\n\t}\r\n\tpublic String toString() {\r\n\t\tfinal StringBuilder stringBuilder=new StringBuilder();\r\n\t\tstringBuilder.append(SAPNumber);\r\n\t\tstringBuilder.append(&quot;: &quot;);\r\n\t\tfinal int length=String.valueOf(SAPNumber).length();\r\n\t\t//gen offset\r\n\t\tfinal StringBuilder offsetBuilder=new StringBuilder();\r\n\t\tfor(int i=0; i&lt;length+2; i++) {\r\n\t\t\toffsetBuilder.append(&#39; &#39;);\r\n\t\t}\r\n\t\tfinal String offset=offsetBuilder.toString();\r\n\t\tfor (String[] strings : opexContent) {\r\n\t\t\t\r\n\t\t\tfor (String string : strings) {\r\n\t\t\t\tstringBuilder.append(string+&quot;; &quot;);\r\n\t\t\t}\r\n\t\t\tstringBuilder.append(&quot;\\n&quot;+offset);\r\n\t\t}\r\n\t\treturn stringBuilder.toString();\r\n\t}\r\n}\r\n```\r\n\r\n2. version with iterator:\r\n\r\n```\r\npackage org.excelAnalyser;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.Iterator;\r\n\r\npublic class OpexLine implements Runnable{\r\n\tpublic static final int DELETE_CONTENT_TASK=0;\r\n\tpublic final int SAPNumber;\r\n\tpublic final ArrayList&lt;String[]&gt; opexContent;\r\n\t\r\n\tprivate final DeletionRequestHandler m_deletionRequestHandler;\r\n\tprivate String[] m_taskParameters=null;\r\n\tprivate int m_taskid=-1;\r\n\t\r\n\tpublic OpexLine(int SAPNumber, ArrayList&lt;String[]&gt; opexContent, DeletionRequestHandler deletionRequestHandler) {\r\n\t\tthis.SAPNumber=SAPNumber;\r\n\t\tthis.opexContent=opexContent;\r\n\t\tm_deletionRequestHandler=deletionRequestHandler;\r\n\t}\r\n\tpublic void setupTask(int taskID, String[] parameters) {\r\n\t\tm_taskid=taskID;\r\n\t\tm_taskParameters=parameters;\r\n\t}\r\n\tpublic void run() {\r\n\t\tif(m_taskid&lt;0) {\r\n\t\t\tSystem.out.println(&quot;aborted task because no taskID was given&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(m_taskParameters==null) {\r\n\t\t\tSystem.out.println(&quot;no taskparameters were specified&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tswitch (m_taskid) {\r\n\t\tcase DELETE_CONTENT_TASK:\r\n\t\t\tdeleteContentIfOlderThen();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tprivate void deleteContentIfOlderThen() {\r\n\t\tfinal long unixTime=Long.parseLong(m_taskParameters[0]);\r\n\t\tfinal int indexOfTime=Integer.parseInt(m_taskParameters[1]);\r\n\t\tfinal SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\r\n\t\tIterator&lt;String[]&gt; opexContentIterator=opexContent.iterator();\r\n\t\tcontentLoop: while(opexContentIterator.hasNext()) {\r\n\t\t\t\r\n\t\t\tString[] content=(String[])opexContentIterator.next();\r\n\t\t\t\r\n\t\t\tfinal String timeString=content[indexOfTime];\r\n\t\t\tif(timeString==null || timeString.isEmpty()) {\r\n\t\t\t\tcontinue contentLoop;\r\n\t\t\t}\r\n\t\t\tDate date = null;\r\n\t\t\ttry {\r\n\t\t\t\tdate = sdf.parse(timeString);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tcontinue contentLoop;\r\n\t\t\t\t//date = new Date();\r\n\t\t\t}\r\n\t\t\tDate checkDate=new Date(System.currentTimeMillis()-unixTime);\r\n\t\t\tif(date.before(checkDate)) {\r\n\t\t\t\topexContentIterator.remove();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(opexContent.isEmpty()) {\r\n\t\t\tm_deletionRequestHandler.requestDeletionFor(this);\r\n\t\t}\r\n\t}\r\n\tpublic String toString() {\r\n\t\tfinal StringBuilder stringBuilder=new StringBuilder();\r\n\t\tstringBuilder.append(SAPNumber);\r\n\t\tstringBuilder.append(&quot;: &quot;);\r\n\t\tfinal int length=String.valueOf(SAPNumber).length();\r\n\t\t//gen offset\r\n\t\tfinal StringBuilder offsetBuilder=new StringBuilder();\r\n\t\tfor(int i=0; i&lt;length+2; i++) {\r\n\t\t\toffsetBuilder.append(&#39; &#39;);\r\n\t\t}\r\n\t\tfinal String offset=offsetBuilder.toString();\r\n\t\tfor (String[] strings : opexContent) {\r\n\t\t\t\r\n\t\t\tfor (String string : strings) {\r\n\t\t\t\tstringBuilder.append(string+&quot;; &quot;);\r\n\t\t\t}\r\n\t\t\tstringBuilder.append(&quot;\\n&quot;+offset);\r\n\t\t}\r\n\t\treturn stringBuilder.toString();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n1. version without iterator: \r\n```java\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\n\r\npublic class OpexLine implements Runnable{\r\n\tpublic static final int DELETE_CONTENT_TASK=0;\r\n\tpublic final int SAPNumber;\r\n\tpublic final ArrayList&lt;String[]&gt; opexContent;\r\n\t\r\n\tprivate final DeletionRequestHandler m_deletionRequestHandler;\r\n\tprivate String[] m_taskParameters=null;\r\n\tprivate int m_taskid=-1;\r\n\t\r\n\tpublic OpexLine(int SAPNumber, ArrayList&lt;String[]&gt; opexContent, DeletionRequestHandler deletionRequestHandler) {\r\n\t\tthis.SAPNumber=SAPNumber;\r\n\t\tthis.opexContent=opexContent;\r\n\t\tm_deletionRequestHandler=deletionRequestHandler;\r\n\t}\r\n\tpublic void setupTask(int taskID, String[] parameters) {\r\n\t\tm_taskid=taskID;\r\n\t\tm_taskParameters=parameters;\r\n\t}\r\n\tpublic void run() {\r\n\t\tif(m_taskid&lt;0) {\r\n\t\t\tSystem.out.println(&quot;aborted task because no taskID was given&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(m_taskParameters==null) {\r\n\t\t\tSystem.out.println(&quot;no taskparameters were specified&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tswitch (m_taskid) {\r\n\t\tcase DELETE_CONTENT_TASK:\r\n\t\t\tdeleteContentIfOlderThen();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tprivate void deleteContentIfOlderThen() {\r\n\t\tfinal long unixTime=Long.parseLong(m_taskParameters[0]);\r\n\t\tfinal int indexOfTime=Integer.parseInt(m_taskParameters[1]);\r\n\t\tfinal SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\r\n\t\t\r\n\t\tcontentLoop: for(final String[] content : opexContent) {\r\n\t\t\t//final String[] content=opexContent.get(i);\r\n\t\t\tfinal String timeString=content[indexOfTime];\r\n\t\t\tif(timeString==null || timeString.isEmpty()) {\r\n\t\t\t\tcontinue contentLoop;\r\n\t\t\t}\r\n\t\t\tDate date = null;\r\n\t\t\ttry {\r\n\t\t\t\tdate = sdf.parse(timeString);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tcontinue contentLoop;\r\n\t\t\t\t//date = new Date();\r\n\t\t\t}\r\n\t\t\tDate checkDate=new Date(System.currentTimeMillis()-unixTime);\r\n\t\t\t//System.out.println(date+&quot; before &quot;+checkDate+&quot;: &quot;+date.before(checkDate));\r\n\t\t\tif(date.before(checkDate)) {\r\n\t\t\t\tSystem.out.println(&quot;removed&quot;);\r\n\t\t\t\topexContent.remove(content);\r\n\t\t\t\tif(opexContent.isEmpty()) {\r\n\t\t\t\t\tSystem.out.println(&quot;isEmptyAfterRemoval&quot;);\r\n\t\t\t\t\tm_deletionRequestHandler.requestDeletionFor(this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//System.out.println(&quot;isexecuted&quot;);\r\n\t\tif(opexContent.isEmpty()) {\r\n\t\t\tSystem.out.println(&quot;isEmpty&quot;);\r\n\t\t\tm_deletionRequestHandler.requestDeletionFor(this);\r\n\t\t}\r\n\t}\r\n\tpublic String toString() {\r\n\t\tfinal StringBuilder stringBuilder=new StringBuilder();\r\n\t\tstringBuilder.append(SAPNumber);\r\n\t\tstringBuilder.append(&quot;: &quot;);\r\n\t\tfinal int length=String.valueOf(SAPNumber).length();\r\n\t\t//gen offset\r\n\t\tfinal StringBuilder offsetBuilder=new StringBuilder();\r\n\t\tfor(int i=0; i&lt;length+2; i++) {\r\n\t\t\toffsetBuilder.append(&#39; &#39;);\r\n\t\t}\r\n\t\tfinal String offset=offsetBuilder.toString();\r\n\t\tfor (String[] strings : opexContent) {\r\n\t\t\t\r\n\t\t\tfor (String string : strings) {\r\n\t\t\t\tstringBuilder.append(string+&quot;; &quot;);\r\n\t\t\t}\r\n\t\t\tstringBuilder.append(&quot;\\n&quot;+offset);\r\n\t\t}\r\n\t\treturn stringBuilder.toString();\r\n\t}\r\n}\r\n```\r\n","title":"arraylist.isEmpty works only in a loop and not outside","body":"<p>In this class I store a number and content belonging to this number. In the method <code>deleteContentIfOlderThen()</code> I check if the <code>ArrayList(opexContent)</code> is empty. But this works only if the check occurs inside the <code>for</code> loop. If I check it outside it doesn't work. I use a <code>workStealingExecutorService</code> to execute this method. But the list is only accessed by this class while the threads do the work.</p>\n<p>So what am I doing wrong that it doesn't work outside the loop?</p>\n<ol start=\"3\">\n<li>version with <code>list.removeIf()</code></li>\n</ol>\n<pre><code>package org.excelAnalyser;\n\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.function.Predicate;\n\npublic class OpexLine implements Runnable{\n    public static final int DELETE_CONTENT_TASK=0;\n    public final int SAPNumber;\n    public final ArrayList&lt;String[]&gt; opexContent;\n    \n    private final DeletionRequestHandler m_deletionRequestHandler;\n    private String[] m_taskParameters=null;\n    private int m_taskid=-1;\n    \n    public OpexLine(int SAPNumber, ArrayList&lt;String[]&gt; opexContent, DeletionRequestHandler deletionRequestHandler) {\n        this.SAPNumber=SAPNumber;\n        this.opexContent=opexContent;\n        m_deletionRequestHandler=deletionRequestHandler;\n    }\n    public void setupTask(int taskID, String[] parameters) {\n        m_taskid=taskID;\n        m_taskParameters=parameters;\n    }\n    public void run() {\n        if(m_taskid&lt;0) {\n            System.out.println(&quot;aborted task because no taskID was given&quot;);\n            return;\n        }\n        if(m_taskParameters==null) {\n            System.out.println(&quot;no taskparameters were specified&quot;);\n            return;\n        }\n        switch (m_taskid) {\n        case DELETE_CONTENT_TASK:\n            deleteContentIfOlderThen();\n            break;\n        }\n    }\n    private void deleteContentIfOlderThen() {\n        final long unixTime=Long.parseLong(m_taskParameters[0]);\n        final int indexOfTime=Integer.parseInt(m_taskParameters[1]);\n        final SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\n        final Date checkDate=new Date(System.currentTimeMillis()-unixTime);\n        opexContent.removeIf(new Predicate&lt;String[]&gt;() {\n            public boolean test(String[] content) {\n                final String timeString=content[indexOfTime];\n                if(timeString==null || timeString.isEmpty()) {\n                    return false;\n                }\n                Date date = null;\n                try {\n                    date = sdf.parse(timeString);\n                } catch (Exception e) {\n                    return false;\n                    //date = new Date();\n                }\n                return date.before(checkDate);\n            }\n        });\n        if(opexContent.isEmpty()) {\n            m_deletionRequestHandler.requestDeletionFor(this);\n        }\n    }\n    public String toString() {\n        final StringBuilder stringBuilder=new StringBuilder();\n        stringBuilder.append(SAPNumber);\n        stringBuilder.append(&quot;: &quot;);\n        final int length=String.valueOf(SAPNumber).length();\n        //gen offset\n        final StringBuilder offsetBuilder=new StringBuilder();\n        for(int i=0; i&lt;length+2; i++) {\n            offsetBuilder.append(' ');\n        }\n        final String offset=offsetBuilder.toString();\n        for (String[] strings : opexContent) {\n            \n            for (String string : strings) {\n                stringBuilder.append(string+&quot;; &quot;);\n            }\n            stringBuilder.append(&quot;\\n&quot;+offset);\n        }\n        return stringBuilder.toString();\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>version with iterator:</li>\n</ol>\n<pre><code>package org.excelAnalyser;\n\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.Iterator;\n\npublic class OpexLine implements Runnable{\n    public static final int DELETE_CONTENT_TASK=0;\n    public final int SAPNumber;\n    public final ArrayList&lt;String[]&gt; opexContent;\n    \n    private final DeletionRequestHandler m_deletionRequestHandler;\n    private String[] m_taskParameters=null;\n    private int m_taskid=-1;\n    \n    public OpexLine(int SAPNumber, ArrayList&lt;String[]&gt; opexContent, DeletionRequestHandler deletionRequestHandler) {\n        this.SAPNumber=SAPNumber;\n        this.opexContent=opexContent;\n        m_deletionRequestHandler=deletionRequestHandler;\n    }\n    public void setupTask(int taskID, String[] parameters) {\n        m_taskid=taskID;\n        m_taskParameters=parameters;\n    }\n    public void run() {\n        if(m_taskid&lt;0) {\n            System.out.println(&quot;aborted task because no taskID was given&quot;);\n            return;\n        }\n        if(m_taskParameters==null) {\n            System.out.println(&quot;no taskparameters were specified&quot;);\n            return;\n        }\n        switch (m_taskid) {\n        case DELETE_CONTENT_TASK:\n            deleteContentIfOlderThen();\n            break;\n        }\n    }\n    private void deleteContentIfOlderThen() {\n        final long unixTime=Long.parseLong(m_taskParameters[0]);\n        final int indexOfTime=Integer.parseInt(m_taskParameters[1]);\n        final SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\n        Iterator&lt;String[]&gt; opexContentIterator=opexContent.iterator();\n        contentLoop: while(opexContentIterator.hasNext()) {\n            \n            String[] content=(String[])opexContentIterator.next();\n            \n            final String timeString=content[indexOfTime];\n            if(timeString==null || timeString.isEmpty()) {\n                continue contentLoop;\n            }\n            Date date = null;\n            try {\n                date = sdf.parse(timeString);\n            } catch (Exception e) {\n                continue contentLoop;\n                //date = new Date();\n            }\n            Date checkDate=new Date(System.currentTimeMillis()-unixTime);\n            if(date.before(checkDate)) {\n                opexContentIterator.remove();\n            }\n        }\n        if(opexContent.isEmpty()) {\n            m_deletionRequestHandler.requestDeletionFor(this);\n        }\n    }\n    public String toString() {\n        final StringBuilder stringBuilder=new StringBuilder();\n        stringBuilder.append(SAPNumber);\n        stringBuilder.append(&quot;: &quot;);\n        final int length=String.valueOf(SAPNumber).length();\n        //gen offset\n        final StringBuilder offsetBuilder=new StringBuilder();\n        for(int i=0; i&lt;length+2; i++) {\n            offsetBuilder.append(' ');\n        }\n        final String offset=offsetBuilder.toString();\n        for (String[] strings : opexContent) {\n            \n            for (String string : strings) {\n                stringBuilder.append(string+&quot;; &quot;);\n            }\n            stringBuilder.append(&quot;\\n&quot;+offset);\n        }\n        return stringBuilder.toString();\n    }\n}\n</code></pre>\n<ol>\n<li>version without iterator:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\n\npublic class OpexLine implements Runnable{\n    public static final int DELETE_CONTENT_TASK=0;\n    public final int SAPNumber;\n    public final ArrayList&lt;String[]&gt; opexContent;\n    \n    private final DeletionRequestHandler m_deletionRequestHandler;\n    private String[] m_taskParameters=null;\n    private int m_taskid=-1;\n    \n    public OpexLine(int SAPNumber, ArrayList&lt;String[]&gt; opexContent, DeletionRequestHandler deletionRequestHandler) {\n        this.SAPNumber=SAPNumber;\n        this.opexContent=opexContent;\n        m_deletionRequestHandler=deletionRequestHandler;\n    }\n    public void setupTask(int taskID, String[] parameters) {\n        m_taskid=taskID;\n        m_taskParameters=parameters;\n    }\n    public void run() {\n        if(m_taskid&lt;0) {\n            System.out.println(&quot;aborted task because no taskID was given&quot;);\n            return;\n        }\n        if(m_taskParameters==null) {\n            System.out.println(&quot;no taskparameters were specified&quot;);\n            return;\n        }\n        switch (m_taskid) {\n        case DELETE_CONTENT_TASK:\n            deleteContentIfOlderThen();\n            break;\n        }\n    }\n    private void deleteContentIfOlderThen() {\n        final long unixTime=Long.parseLong(m_taskParameters[0]);\n        final int indexOfTime=Integer.parseInt(m_taskParameters[1]);\n        final SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\n        \n        contentLoop: for(final String[] content : opexContent) {\n            //final String[] content=opexContent.get(i);\n            final String timeString=content[indexOfTime];\n            if(timeString==null || timeString.isEmpty()) {\n                continue contentLoop;\n            }\n            Date date = null;\n            try {\n                date = sdf.parse(timeString);\n            } catch (Exception e) {\n                continue contentLoop;\n                //date = new Date();\n            }\n            Date checkDate=new Date(System.currentTimeMillis()-unixTime);\n            //System.out.println(date+&quot; before &quot;+checkDate+&quot;: &quot;+date.before(checkDate));\n            if(date.before(checkDate)) {\n                System.out.println(&quot;removed&quot;);\n                opexContent.remove(content);\n                if(opexContent.isEmpty()) {\n                    System.out.println(&quot;isEmptyAfterRemoval&quot;);\n                    m_deletionRequestHandler.requestDeletionFor(this);\n                }\n            }\n        }\n        //System.out.println(&quot;isexecuted&quot;);\n        if(opexContent.isEmpty()) {\n            System.out.println(&quot;isEmpty&quot;);\n            m_deletionRequestHandler.requestDeletionFor(this);\n        }\n    }\n    public String toString() {\n        final StringBuilder stringBuilder=new StringBuilder();\n        stringBuilder.append(SAPNumber);\n        stringBuilder.append(&quot;: &quot;);\n        final int length=String.valueOf(SAPNumber).length();\n        //gen offset\n        final StringBuilder offsetBuilder=new StringBuilder();\n        for(int i=0; i&lt;length+2; i++) {\n            offsetBuilder.append(' ');\n        }\n        final String offset=offsetBuilder.toString();\n        for (String[] strings : opexContent) {\n            \n            for (String string : strings) {\n                stringBuilder.append(string+&quot;; &quot;);\n            }\n            stringBuilder.append(&quot;\\n&quot;+offset);\n        }\n        return stringBuilder.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","visibility","sleep","webdriverwait"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1658487488,"post_id":73068117,"comment_id":129069288,"body_markdown":"_`row exists`_ or _`rows exist`_?","body":"<i><code>row exists</code></i> or <i><code>rows exist</code></i>?"},{"owner":{"account_id":13923090,"reputation":5270,"user_id":10053052,"display_name":"Tin Nguyen"},"score":0,"creation_date":1658733228,"post_id":73068117,"comment_id":129114837,"body_markdown":"It can be no row, 1 row or multiple rows.","body":"It can be no row, 1 row or multiple rows."},{"owner":{"account_id":13923090,"reputation":5270,"user_id":10053052,"display_name":"Tin Nguyen"},"score":0,"creation_date":1658735733,"post_id":73068117,"comment_id":129115594,"body_markdown":"If I do `TcAssert.WaitUntilTrue(() =&gt; this.Page.MyTable.Displayed);` does it ensure the Rows were fully initialized? Be it empty, with a single row or multiple?","body":"If I do <code>TcAssert.WaitUntilTrue(() =&gt; this.Page.MyTable.Displayed);</code> does it ensure the Rows were fully initialized? Be it empty, with a single row or multiple?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658965762,"creation_date":1658965762,"answer_id":73145756,"question_id":73068117,"body_markdown":"With the following instance of `WebDriverWait`:\r\n\r\n\tvar wait = new WebDriverWait(Driver, TimeSpan.FromMilliseconds(500);\r\n\t\r\nOnce you click and enable the rows, to wait for the rows to exist there can be two approaches:\r\n\r\n- As there is some ambiguity regarding the number of rows (no row, 1 row or multiple rows), a safer approach would be to probe the [Displayedness](https://www.w3.org/TR/webdriver1/#element-displayedness) of the **MyTable** element as you mentioned in your comment. The element displayed algorithm is a boolean state where `true` signifies that the element is displayed and false signifies that the element is not displayed.\r\n\r\n\t  TcAssert.WaitUntilTrue(() =&gt; this.Page.MyTable.Displayed);\r\n\r\n- The other approach would be to wait for the [Visibility](https://www.w3.org/TR/webdriver1/#element-displayedness) of the element **MyTable**. The visibility of an element is guided by what is perceptually visible to the human eye. and is based on crude approximations about an element&#39;s nature and relationship in the tree. An element is in general to be considered visible if any part of it is drawn on the canvas within the boundaries of the [viewport](https://stackoverflow.com/a/59130869/7429447).","title":"How to dynamically check table is available (&quot;waiting&quot;) using Selenium instead of having a fixed sleep","body":"<p>With the following instance of <code>WebDriverWait</code>:</p>\n<pre><code>var wait = new WebDriverWait(Driver, TimeSpan.FromMilliseconds(500);\n</code></pre>\n<p>Once you click and enable the rows, to wait for the rows to exist there can be two approaches:</p>\n<ul>\n<li><p>As there is some ambiguity regarding the number of rows (no row, 1 row or multiple rows), a safer approach would be to probe the <a href=\"https://www.w3.org/TR/webdriver1/#element-displayedness\" rel=\"nofollow noreferrer\">Displayedness</a> of the <strong>MyTable</strong> element as you mentioned in your comment. The element displayed algorithm is a boolean state where <code>true</code> signifies that the element is displayed and false signifies that the element is not displayed.</p>\n<pre><code>TcAssert.WaitUntilTrue(() =&gt; this.Page.MyTable.Displayed);\n</code></pre>\n</li>\n<li><p>The other approach would be to wait for the <a href=\"https://www.w3.org/TR/webdriver1/#element-displayedness\" rel=\"nofollow noreferrer\">Visibility</a> of the element <strong>MyTable</strong>. The visibility of an element is guided by what is perceptually visible to the human eye. and is based on crude approximations about an element's nature and relationship in the tree. An element is in general to be considered visible if any part of it is drawn on the canvas within the boundaries of the <a href=\"https://stackoverflow.com/a/59130869/7429447\">viewport</a>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":13923090,"reputation":5270,"user_id":10053052,"display_name":"Tin Nguyen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73145756,"answer_count":1,"score":2,"last_activity_date":1658965762,"creation_date":1658414138,"question_id":73068117,"body_markdown":"Code block:\r\n```\r\nprivate void SelectRows()\r\n{\r\n  var wait = new WebDriverWait(Driver, TimeSpan.FromMilliseconds(500);\r\n\r\n  // enabling the Rows\r\n  this.Page.EnableRowsButton.Click();\r\n  wait.Until(_ =&gt; this.Page.EnableRowsButton.Checked);\r\n\r\n  // Sleeping to ensure row exists; I want to use here WebDriverWait so it&#39;s faster\r\n  Thread.Sleep(500);\r\n\r\n  // Row modification\r\n  foreach (Table.Row row in this.Page.MyTable.Content.Rows)\r\n  {\r\n    // do stuff\r\n    row.CellAt(0).Find&lt;Checkbox&gt;().Click();\r\n  }  \r\n}\r\n```\r\n\r\nThe issue I have is with `Thread.Sleep(500);` I am doing this a lot and the time adds up. If I choose it too high my tests run more stable but takes longer to test. If I do it too short my test tends to fail since it wasn&#39;t loaded properly.  \r\n\r\nI want to use WebDriverWait (see in code):\r\n\r\n    wait.Until(_ =&gt; this.Page.EnableRowsButton.Checked);\r\n\r\ninstead of `Thread.Sleep()` to see the Rows are loaded completely.  \r\n\r\nWebDriverWait wait until it becomes available. So I can choose a bigger duration and it will be shorter if it is sooner available.\r\n\r\nAny suggestions?","title":"How to dynamically check table is available (&quot;waiting&quot;) using Selenium instead of having a fixed sleep","body":"<p>Code block:</p>\n<pre><code>private void SelectRows()\n{\n  var wait = new WebDriverWait(Driver, TimeSpan.FromMilliseconds(500);\n\n  // enabling the Rows\n  this.Page.EnableRowsButton.Click();\n  wait.Until(_ =&gt; this.Page.EnableRowsButton.Checked);\n\n  // Sleeping to ensure row exists; I want to use here WebDriverWait so it's faster\n  Thread.Sleep(500);\n\n  // Row modification\n  foreach (Table.Row row in this.Page.MyTable.Content.Rows)\n  {\n    // do stuff\n    row.CellAt(0).Find&lt;Checkbox&gt;().Click();\n  }  \n}\n</code></pre>\n<p>The issue I have is with <code>Thread.Sleep(500);</code> I am doing this a lot and the time adds up. If I choose it too high my tests run more stable but takes longer to test. If I do it too short my test tends to fail since it wasn't loaded properly.</p>\n<p>I want to use WebDriverWait (see in code):</p>\n<pre><code>wait.Until(_ =&gt; this.Page.EnableRowsButton.Checked);\n</code></pre>\n<p>instead of <code>Thread.Sleep()</code> to see the Rows are loaded completely.</p>\n<p>WebDriverWait wait until it becomes available. So I can choose a bigger duration and it will be shorter if it is sooner available.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","truncate","localdatetime"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1615323815,"post_id":66554669,"comment_id":117655040,"body_markdown":"Call [`OffsetDateTime.toLocalDateTime()`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html) to get the date/time value without a time zone.","body":"Call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime.toLocalDateTime()</code></a> to get the date/time value without a time zone."},{"owner":{"account_id":20634253,"reputation":588,"user_id":15148356,"display_name":"Erik"},"score":1,"creation_date":1615324302,"post_id":66554669,"comment_id":117655221,"body_markdown":"The `Z` just indicates that it&#39;s UTC. Use a `DateTimeFormatter` if you want a particular output format.","body":"The <code>Z</code> just indicates that it&#39;s UTC. Use a <code>DateTimeFormatter</code> if you want a particular output format."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1615326423,"post_id":66554669,"comment_id":117656008,"body_markdown":"Please give more context why you think you want to do this, and I believe we can guide you better. While I can see that users may want not to see fraction of second and UTC offset, they most often want the time in their own time zone rather than UTC, and they perfer a more localized date and time format. So for what purpose then?","body":"Please give more context why you think you want to do this, and I believe we can guide you better. While I can see that users may want not to see fraction of second and UTC offset, they most often want the time in their own time zone rather than UTC, and they perfer a more localized date and time format. So for what purpose then?"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1615323780,"creation_date":1615323780,"answer_id":66554747,"question_id":66554669,"body_markdown":"The `Z` is the timezone information. You can convert the `OffsetDateTime` instance to a `LocalDateTime` like this:\r\n\r\n    eventDateTime.truncatedTo(ChronoUnit.SECONDS).toLocalDateTime()","title":"Java LocalDateTime remove the milliseconds from UTC timezone","body":"<p>The <code>Z</code> is the timezone information. You can convert the <code>OffsetDateTime</code> instance to a <code>LocalDateTime</code> like this:</p>\n<pre><code>eventDateTime.truncatedTo(ChronoUnit.SECONDS).toLocalDateTime()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658965321,"creation_date":1615324082,"answer_id":66554800,"question_id":66554669,"body_markdown":"# tl;dr\r\n\r\nTo represent a moment in UTC, use [`Instant`][1] class rather than `LocalDateTime` or `OffsetDateTime`. \r\n\r\n    Instant\r\n        .now()                        // Returns a `Instant` representing the current moment including a fractional second.\r\n        .truncatedTo( \r\n            ChronoUnit.SECONDS        // Granularity of what you want chopped off. In this case, we lop off any fractional second.\r\n        )                             // Returns another `Instant` object. Per immutable objects, a new object is instantiated rather than altering (&quot;mutating&quot;) the original.\r\n        .minus(                       // Go backwards on the timeline.\r\n            Duration.ofMinutes( 4 )   // Amount of time to go backwards.\r\n        )                             // Returns another `Instant` object. \r\n        .toString()                   // Generate text in standard ISO 8601 format, with `Z` on the end meaning an offset of zero hours-minutes-seconds from the UTC temporal prime meridian.                  \r\n\r\n\r\n# Zulu time\r\n\r\nThe `Z` at the end represents vital information: the date-time represents a moment as seen with an offset from UTC of zero hours-minutes-seconds. This letter is defined as part of the standard formats in ISO 8601. The letter is pronounced “Zulu” per aviation/military tradition.\r\n\r\nIf you do not care about offset or time zone in your problem domain, then you are using the wrong type. \r\n\r\nThe types `Instant`, `OffsetDateTime`, and `ZonedDateTime` all represent a moment, a specific point on the timeline. All three involve an offset or time zone. \r\n\r\n# `LocalDateTime`\r\n\r\nIf you want only a date with time-of-day but lacking the context of an offset/zone, then use `LocalDateTime`. No `Z` will appear in text representing the value of a `LocalDateTime` because no offset is involved. \r\n\r\nJust be aware that a `LocalDateTime` object is inherently ambiguous, and does not represent a moment. In other words, calling `LocalDateTime.now` is almost never the right thing to do. But if you insist:\r\n\r\n    LocalDateTime ldt = LocalDateTime.now( ZoneOffset.UTC ) ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html","title":"Java LocalDateTime remove the milliseconds from UTC timezone","body":"<h1>tl;dr</h1>\n<p>To represent a moment in UTC, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class rather than <code>LocalDateTime</code> or <code>OffsetDateTime</code>.</p>\n<pre><code>Instant\n    .now()                        // Returns a `Instant` representing the current moment including a fractional second.\n    .truncatedTo( \n        ChronoUnit.SECONDS        // Granularity of what you want chopped off. In this case, we lop off any fractional second.\n    )                             // Returns another `Instant` object. Per immutable objects, a new object is instantiated rather than altering (&quot;mutating&quot;) the original.\n    .minus(                       // Go backwards on the timeline.\n        Duration.ofMinutes( 4 )   // Amount of time to go backwards.\n    )                             // Returns another `Instant` object. \n    .toString()                   // Generate text in standard ISO 8601 format, with `Z` on the end meaning an offset of zero hours-minutes-seconds from the UTC temporal prime meridian.                  \n</code></pre>\n<h1>Zulu time</h1>\n<p>The <code>Z</code> at the end represents vital information: the date-time represents a moment as seen with an offset from UTC of zero hours-minutes-seconds. This letter is defined as part of the standard formats in ISO 8601. The letter is pronounced “Zulu” per aviation/military tradition.</p>\n<p>If you do not care about offset or time zone in your problem domain, then you are using the wrong type.</p>\n<p>The types <code>Instant</code>, <code>OffsetDateTime</code>, and <code>ZonedDateTime</code> all represent a moment, a specific point on the timeline. All three involve an offset or time zone.</p>\n<h1><code>LocalDateTime</code></h1>\n<p>If you want only a date with time-of-day but lacking the context of an offset/zone, then use <code>LocalDateTime</code>. No <code>Z</code> will appear in text representing the value of a <code>LocalDateTime</code> because no offset is involved.</p>\n<p>Just be aware that a <code>LocalDateTime</code> object is inherently ambiguous, and does not represent a moment. In other words, calling <code>LocalDateTime.now</code> is almost never the right thing to do. But if you insist:</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.now( ZoneOffset.UTC ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615324913,"creation_date":1615324159,"answer_id":66554814,"question_id":66554669,"body_markdown":"There can be two ways:\r\n\r\n 1. Preferred way: Use `DateTimeFormatter`\r\n 2. Use [`OffsetDateTime#toLocalDateTime`][1]: The problem with this approach is that the output string is automatically truncated to minutes if the seconds part is zero.\r\n\r\n**Demo:**\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter dtfWithoutSecFraction = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n    \t\tDateTimeFormatter dtfWithSecFraction = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;);\r\n    \t\tOffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC);\r\n    \r\n    \t\tOffsetDateTime eventDateTime = now.minusMinutes(4);\r\n    \r\n    \t\tSystem.out.println(&quot;====Event date Time before truncate===&quot;);\r\n    \t\tSystem.out.println(eventDateTime);\r\n    \t\tSystem.out.println(eventDateTime.toLocalDateTime());\r\n    \t\tSystem.out.println(dtfWithSecFraction.format(eventDateTime));\r\n    \r\n    \t\tSystem.out.println(&quot;====Event date Time after truncate===&quot;);\r\n    \t\tSystem.out.println(eventDateTime.truncatedTo(ChronoUnit.SECONDS));\r\n    \t\tSystem.out.println(eventDateTime.truncatedTo(ChronoUnit.SECONDS).toLocalDateTime());\r\n    \t\tSystem.out.println(dtfWithoutSecFraction.format(eventDateTime.truncatedTo(ChronoUnit.SECONDS)));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    ====Event date Time before truncate===\r\n    2021-03-09T21:17:17.589016Z\r\n    2021-03-09T21:17:17.589016\r\n    2021-03-09T21:17:17.589016\r\n    ====Event date Time after truncate===\r\n    2021-03-09T21:17:17Z\r\n    2021-03-09T21:17:17\r\n    2021-03-09T21:17:17\r\n\r\nNote that `Z` stands for `Zulu` which specifies date-time in UTC (i.e. a timezone offset of `+00:00` hours).\r\n\r\nThe following table gives you an overview of *java.time* types:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAs you can see, `OffsetDateTime`, `ZonedDateTime` etc. carry timezone information and you can get just the date-time part using the techniques mentioned in the solution above.\r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toLocalDateTime--\r\n  [2]: https://i.stack.imgur.com/9e1ob.png\r\n","title":"Java LocalDateTime remove the milliseconds from UTC timezone","body":"<p>There can be two ways:</p>\n<ol>\n<li>Preferred way: Use <code>DateTimeFormatter</code></li>\n<li>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html#toLocalDateTime--\" rel=\"nofollow noreferrer\"><code>OffsetDateTime#toLocalDateTime</code></a>: The problem with this approach is that the output string is automatically truncated to minutes if the seconds part is zero.</li>\n</ol>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter dtfWithoutSecFraction = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss&quot;);\n        DateTimeFormatter dtfWithSecFraction = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSSSS&quot;);\n        OffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC);\n\n        OffsetDateTime eventDateTime = now.minusMinutes(4);\n\n        System.out.println(&quot;====Event date Time before truncate===&quot;);\n        System.out.println(eventDateTime);\n        System.out.println(eventDateTime.toLocalDateTime());\n        System.out.println(dtfWithSecFraction.format(eventDateTime));\n\n        System.out.println(&quot;====Event date Time after truncate===&quot;);\n        System.out.println(eventDateTime.truncatedTo(ChronoUnit.SECONDS));\n        System.out.println(eventDateTime.truncatedTo(ChronoUnit.SECONDS).toLocalDateTime());\n        System.out.println(dtfWithoutSecFraction.format(eventDateTime.truncatedTo(ChronoUnit.SECONDS)));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>====Event date Time before truncate===\n2021-03-09T21:17:17.589016Z\n2021-03-09T21:17:17.589016\n2021-03-09T21:17:17.589016\n====Event date Time after truncate===\n2021-03-09T21:17:17Z\n2021-03-09T21:17:17\n2021-03-09T21:17:17\n</code></pre>\n<p>Note that <code>Z</code> stands for <code>Zulu</code> which specifies date-time in UTC (i.e. a timezone offset of <code>+00:00</code> hours).</p>\n<p>The following table gives you an overview of <em>java.time</em> types:</p>\n<p><a href=\"https://i.stack.imgur.com/9e1ob.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9e1ob.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, <code>OffsetDateTime</code>, <code>ZonedDateTime</code> etc. carry timezone information and you can get just the date-time part using the techniques mentioned in the solution above.</p>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":4299853,"reputation":834,"user_id":3513792,"accept_rate":91,"display_name":"danilo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2658,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66554747,"answer_count":3,"score":1,"last_activity_date":1658965321,"creation_date":1615323403,"question_id":66554669,"body_markdown":"I am trying to truncate milliseconds from a `UTC` time zone.\r\n\r\nI have the code below where I am able to remove milliseconds but I still get the `Z` at the end.\r\n\r\n    OffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC );\r\n    OffsetDateTime eventDateTime=now.minus(4, ChronoUnit.MINUTES);\r\n\r\n    System.out.println(&quot;====Event date Time before truncate===&quot;);\r\n    System.out.println(eventDateTime);\r\n\t\t  \r\n\tSystem.out.println(&quot;====Event date Time after truncate===&quot;);\r\n    System.out.println(eventDateTime.truncatedTo(ChronoUnit.SECONDS));\r\n\r\nThis outputs the following:\r\n\r\n&gt;====Event date Time **before** truncate===\r\n&gt;\r\n&gt; **`2021-03-09T20:46:24.081Z`**\r\n&gt;\r\n&gt;====Event date Time after truncate===\r\n&gt;\r\n&gt; **`2021-03-09T20:46:24Z`**\r\n","title":"Java LocalDateTime remove the milliseconds from UTC timezone","body":"<p>I am trying to truncate milliseconds from a <code>UTC</code> time zone.</p>\n<p>I have the code below where I am able to remove milliseconds but I still get the <code>Z</code> at the end.</p>\n<pre><code>OffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC );\nOffsetDateTime eventDateTime=now.minus(4, ChronoUnit.MINUTES);\n\nSystem.out.println(&quot;====Event date Time before truncate===&quot;);\nSystem.out.println(eventDateTime);\n      \nSystem.out.println(&quot;====Event date Time after truncate===&quot;);\nSystem.out.println(eventDateTime.truncatedTo(ChronoUnit.SECONDS));\n</code></pre>\n<p>This outputs the following:</p>\n<blockquote>\n<p>====Event date Time <strong>before</strong> truncate===</p>\n<p><strong><code>2021-03-09T20:46:24.081Z</code></strong></p>\n<p>====Event date Time after truncate===</p>\n<p><strong><code>2021-03-09T20:46:24Z</code></strong></p>\n</blockquote>\n"},{"tags":["java","encoding","java-8","base64","mime"],"comments":[{"owner":{"account_id":903132,"reputation":15025,"user_id":938694,"accept_rate":59,"display_name":"Cubic"},"score":0,"creation_date":1455230169,"post_id":35301409,"comment_id":58410179,"body_markdown":"What do you mean by drop-in replacement? Are you just talking about the encoding/decoding behavior?","body":"What do you mean by drop-in replacement? Are you just talking about the encoding/decoding behavior?"},{"owner":{"account_id":7498641,"reputation":2237,"user_id":5698098,"display_name":"Ivo Mori"},"score":1,"creation_date":1455231920,"post_id":35301409,"comment_id":58410929,"body_markdown":"@Cubic: I mean by drop-in replacement that I can switch legacy code using  sun.misc.BASE64Encoder and sun.misc.BASE64Decoder to Java 8 MIME Base64 Encoder/Decoder for any existing other client code transparently. This seems to be the case, but I like to have an authoritative reference confirming this or a &quot;proof&quot; that this is not the case, otherwise.","body":"@Cubic: I mean by drop-in replacement that I can switch legacy code using  sun.misc.BASE64Encoder and sun.misc.BASE64Decoder to Java 8 MIME Base64 Encoder/Decoder for any existing other client code transparently. This seems to be the case, but I like to have an authoritative reference confirming this or a &quot;proof&quot; that this is not the case, otherwise."},{"owner":{"account_id":31658,"reputation":36304,"user_id":87117,"display_name":"jstedfast"},"score":0,"creation_date":1455240103,"post_id":35301409,"comment_id":58413509,"body_markdown":"Yes, you can switch the legacy code to the new Java 8 Base64 Encoder/Decoder. They will always produce the same output.","body":"Yes, you can switch the legacy code to the new Java 8 Base64 Encoder/Decoder. They will always produce the same output."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1559646569,"post_id":35301409,"comment_id":99478676,"body_markdown":"Relevant for asking [*which* encoder class to use](https://stackoverflow.com/questions/13109588/base64-encoding-in-java)?","body":"Relevant for asking <a href=\"https://stackoverflow.com/questions/13109588/base64-encoding-in-java\"><i>which</i> encoder class to use</a>?"},{"owner":{"account_id":7498641,"reputation":2237,"user_id":5698098,"display_name":"Ivo Mori"},"score":0,"creation_date":1589513401,"post_id":35301409,"comment_id":109330779,"body_markdown":"@Raedwald I don&#39;t think so. This question and answer documents the problem when legacy code uses the unofficial Java internal APIs (supposedly-never-to-be-used-by-anyone) `sun.misc.BASE64Encoder` and `sun.misc.BASE64Decoder`. This question/answer is about migrating such legacy code to the official Java 8 Base64 APIs.\nThe [answer to which encoder class to use](https://stackoverflow.com/a/13109632/5698098) already suggests to use the Java 8 Base64 APIs and doesn&#39;t point you to those legacy `sun.misc` APIs.","body":"@Raedwald I don&#39;t think so. This question and answer documents the problem when legacy code uses the unofficial Java internal APIs (supposedly-never-to-be-used-by-anyone) <code>sun.misc.BASE64Encoder</code> and <code>sun.misc.BASE64Decoder</code>. This question/answer is about migrating such legacy code to the official Java 8 Base64 APIs. The <a href=\"https://stackoverflow.com/a/13109632/5698098\">answer to which encoder class to use</a> already suggests to use the Java 8 Base64 APIs and doesn&#39;t point you to those legacy <code>sun.misc</code> APIs."}],"answers":[{"tags":[],"owner":{"account_id":31658,"reputation":36304,"user_id":87117,"display_name":"jstedfast"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1455231764,"creation_date":1455231764,"answer_id":35351816,"question_id":35301409,"body_markdown":"There are no changes to the base64 specification between rfc1521 and rfc2045.\r\n\r\nAll base64 implementations could be considered to be drop-in replacements of one another, the only differences between base64 implementations are:\r\n\r\n1. the alphabet used.\r\n2. the API&#39;s provided (e.g. some might take only act on a full input buffer, while others might be finite state machines allowing you to continue to push chunks of input through them until you are done).\r\n\r\nThe MIME base64 alphabet has remained constant between RFC versions (it *has* to or older software would break) and is: `ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+/`\r\n\r\nAs [Wikipedia](https://en.wikipedia.org/wiki/Base64) notes, only the last 2 characters may change between base64 implementations.\r\n\r\nAs an example of a base64 implementation that *does* change the last 2 characters, the [IMAP MUTF-7](https://www.rfc-editor.org/rfc/rfc3501#section-5.1.3) specification uses the following base64 alphabet: `ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+,`\r\n\r\nThe reason for the change is that the `/` character is often used as a path delimiter and since the MUTF-7 encoding is used to flatten non-ASCII directory paths into ASCII, the `/` character needed to be avoided in encoded segments.","title":"Is Java 8 java.util.Base64 a drop-in replacement for sun.misc.BASE64?","body":"<p>There are no changes to the base64 specification between rfc1521 and rfc2045.</p>\n<p>All base64 implementations could be considered to be drop-in replacements of one another, the only differences between base64 implementations are:</p>\n<ol>\n<li>the alphabet used.</li>\n<li>the API's provided (e.g. some might take only act on a full input buffer, while others might be finite state machines allowing you to continue to push chunks of input through them until you are done).</li>\n</ol>\n<p>The MIME base64 alphabet has remained constant between RFC versions (it <em>has</em> to or older software would break) and is: <code>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+/</code></p>\n<p>As <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">Wikipedia</a> notes, only the last 2 characters may change between base64 implementations.</p>\n<p>As an example of a base64 implementation that <em>does</em> change the last 2 characters, the <a href=\"https://www.rfc-editor.org/rfc/rfc3501#section-5.1.3\" rel=\"nofollow noreferrer\">IMAP MUTF-7</a> specification uses the following base64 alphabet: <code>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+,</code></p>\n<p>The reason for the change is that the <code>/</code> character is often used as a path delimiter and since the MUTF-7 encoding is used to flatten non-ASCII directory paths into ASCII, the <code>/</code> character needed to be avoided in encoded segments.</p>\n"},{"tags":[],"owner":{"account_id":348326,"reputation":6607,"user_id":682965,"display_name":"Simon G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455291013,"creation_date":1455291013,"answer_id":35366337,"question_id":35301409,"body_markdown":"Assuming both encoders are bug free, then the RFC requires distinct encodings for every 0 byte, 1 byte, 2 byte and 3 bytes sequence. Longer sequences are broken down into as many 3 byte sequences as needed followed by a final sequence. Hence if the two implementations handle all 16,843,009 (1+256+65536+16777216) possible sequences correctly, then the two implementations are also identical.\r\n\r\nThese tests only take a few minutes to run. By slightly changing your test code, I have done that and my Java 8 installation passed all the test. Hence the public implementation can be used to safely replace the sun.misc implementation.\r\n\r\n\r\nHere is my test code:\r\n\r\n    import java.util.Base64;\r\n    import java.util.Arrays;\r\n    import java.io.IOException;\r\n    \r\n    public class Base64EncodingDecodingRoundTripTest {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            System.out.println(&quot;Testing zero byte encoding&quot;);\r\n            encodeDecode(new byte[0]);\r\n    \r\n            System.out.println(&quot;Testing single byte encodings&quot;);\r\n            byte[] test = new byte[1];\r\n            for(int i=0;i&lt;256;i++) {\r\n                test[0] = (byte) i;\r\n                encodeDecode(test);\r\n            }\r\n            System.out.println(&quot;Testing double byte encodings&quot;);\r\n            test = new byte[2];\r\n            for(int i=0;i&lt;65536;i++) {\r\n                test[0] = (byte) i;\r\n                test[1] = (byte) (i &gt;&gt;&gt; 8);\r\n                encodeDecode(test);\r\n            }\r\n            System.out.println(&quot;Testing triple byte encodings&quot;);\r\n            test = new byte[3];\r\n            for(int i=0;i&lt;16777216;i++) {\r\n                test[0] = (byte) i;\r\n                test[1] = (byte) (i &gt;&gt;&gt; 8);\r\n                test[2] = (byte) (i &gt;&gt;&gt; 16);\r\n                encodeDecode(test);\r\n            }\r\n            System.out.println(&quot;All tests passed&quot;);\r\n        }\r\n    \r\n        static void encodeDecode(final byte[] testInput) throws IOException {\r\n            sun.misc.BASE64Encoder unsupportedEncoder = new sun.misc.BASE64Encoder();\r\n            sun.misc.BASE64Decoder unsupportedDecoder = new sun.misc.BASE64Decoder();\r\n    \r\n            Base64.Encoder mimeEncoder = java.util.Base64.getMimeEncoder();\r\n            Base64.Decoder mimeDecoder = java.util.Base64.getMimeDecoder();\r\n    \r\n            String sunEncoded = unsupportedEncoder.encode(testInput);\r\n            String mimeEncoded = mimeEncoder.encodeToString(testInput);\r\n    \r\n            // check encodings equal\r\n            if( ! sunEncoded.equals(mimeEncoded) ) {\r\n                throw new IOException(&quot;Input &quot;+Arrays.toString(testInput)+&quot; produced different encodings (sun=\\&quot;&quot;+sunEncoded+&quot;\\&quot;, mime=\\&quot;&quot;+mimeEncoded+&quot;\\&quot;)&quot;);\r\n            }\r\n    \r\n            // Check cross decodes are equal. Note encoded forms are identical\r\n            byte[] mimeDecoded = mimeDecoder.decode(sunEncoded);\r\n            byte[] sunDecoded = unsupportedDecoder.decodeBuffer(mimeEncoded); // throws IOException\r\n            if(! Arrays.equals(mimeDecoded,sunDecoded) ) {\r\n                throw new IOException(&quot;Input &quot;+Arrays.toString(testInput)+&quot; was encoded as \\&quot;&quot;+sunEncoded+&quot;\\&quot;, but decoded as sun=&quot;+Arrays.toString(sunDecoded)+&quot; and mime=&quot;+Arrays.toString(mimeDecoded));\r\n            }\r\n        \r\n        }\r\n    }\r\n\r\n","title":"Is Java 8 java.util.Base64 a drop-in replacement for sun.misc.BASE64?","body":"<p>Assuming both encoders are bug free, then the RFC requires distinct encodings for every 0 byte, 1 byte, 2 byte and 3 bytes sequence. Longer sequences are broken down into as many 3 byte sequences as needed followed by a final sequence. Hence if the two implementations handle all 16,843,009 (1+256+65536+16777216) possible sequences correctly, then the two implementations are also identical.</p>\n\n<p>These tests only take a few minutes to run. By slightly changing your test code, I have done that and my Java 8 installation passed all the test. Hence the public implementation can be used to safely replace the sun.misc implementation.</p>\n\n<p>Here is my test code:</p>\n\n<pre><code>import java.util.Base64;\nimport java.util.Arrays;\nimport java.io.IOException;\n\npublic class Base64EncodingDecodingRoundTripTest {\n\n    public static void main(String[] args) throws IOException {\n        System.out.println(\"Testing zero byte encoding\");\n        encodeDecode(new byte[0]);\n\n        System.out.println(\"Testing single byte encodings\");\n        byte[] test = new byte[1];\n        for(int i=0;i&lt;256;i++) {\n            test[0] = (byte) i;\n            encodeDecode(test);\n        }\n        System.out.println(\"Testing double byte encodings\");\n        test = new byte[2];\n        for(int i=0;i&lt;65536;i++) {\n            test[0] = (byte) i;\n            test[1] = (byte) (i &gt;&gt;&gt; 8);\n            encodeDecode(test);\n        }\n        System.out.println(\"Testing triple byte encodings\");\n        test = new byte[3];\n        for(int i=0;i&lt;16777216;i++) {\n            test[0] = (byte) i;\n            test[1] = (byte) (i &gt;&gt;&gt; 8);\n            test[2] = (byte) (i &gt;&gt;&gt; 16);\n            encodeDecode(test);\n        }\n        System.out.println(\"All tests passed\");\n    }\n\n    static void encodeDecode(final byte[] testInput) throws IOException {\n        sun.misc.BASE64Encoder unsupportedEncoder = new sun.misc.BASE64Encoder();\n        sun.misc.BASE64Decoder unsupportedDecoder = new sun.misc.BASE64Decoder();\n\n        Base64.Encoder mimeEncoder = java.util.Base64.getMimeEncoder();\n        Base64.Decoder mimeDecoder = java.util.Base64.getMimeDecoder();\n\n        String sunEncoded = unsupportedEncoder.encode(testInput);\n        String mimeEncoded = mimeEncoder.encodeToString(testInput);\n\n        // check encodings equal\n        if( ! sunEncoded.equals(mimeEncoded) ) {\n            throw new IOException(\"Input \"+Arrays.toString(testInput)+\" produced different encodings (sun=\\\"\"+sunEncoded+\"\\\", mime=\\\"\"+mimeEncoded+\"\\\")\");\n        }\n\n        // Check cross decodes are equal. Note encoded forms are identical\n        byte[] mimeDecoded = mimeDecoder.decode(sunEncoded);\n        byte[] sunDecoded = unsupportedDecoder.decodeBuffer(mimeEncoded); // throws IOException\n        if(! Arrays.equals(mimeDecoded,sunDecoded) ) {\n            throw new IOException(\"Input \"+Arrays.toString(testInput)+\" was encoded as \\\"\"+sunEncoded+\"\\\", but decoded as sun=\"+Arrays.toString(sunDecoded)+\" and mime=\"+Arrays.toString(mimeDecoded));\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":1,"up_vote_count":84,"is_accepted":true,"score":83,"last_activity_date":1455391850,"creation_date":1455391850,"answer_id":35384409,"question_id":35301409,"body_markdown":"Here&#39;s a small test program that illustrates a difference in the encoded strings:\r\n\r\n    byte[] bytes = new byte[57];\r\n    String enc1 = new sun.misc.BASE64Encoder().encode(bytes);\r\n    String enc2 = new String(java.util.Base64.getMimeEncoder().encode(bytes),\r\n                             StandardCharsets.UTF_8);\r\n\r\n    System.out.println(&quot;enc1 = &lt;&quot; + enc1 + &quot;&gt;&quot;);\r\n    System.out.println(&quot;enc2 = &lt;&quot; + enc2 + &quot;&gt;&quot;);\r\n    System.out.println(enc1.equals(enc2));\r\n\r\nIts output is:\r\n\r\n    enc1 = &lt;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\n    &gt;\r\n    enc2 = &lt;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&gt;\r\n    false\r\n\r\nNote that the encoded output of `sun.misc.BASE64Encoder` has a newline at the end. It doesn&#39;t *always* append a newline, but it happens to do so if the encoded string has exactly 76 characters on its last line. (The author of `java.util.Base64` considered this to be a small bug in the `sun.misc.BASE64Encoder` implementation – see the [review thread][1]).\r\n\r\nThis might seem like a triviality, but if you had a program that relied on this specific behavior, switching encoders might result in malformed output. Therefore, I conclude that `java.util.Base64` is **not** a drop-in replacement for `sun.misc.BASE64Encoder`.\r\n\r\nOf course, the *intent* of `java.util.Base64` is that it&#39;s a functionally equivalent, RFC-conformant, high-performance, fully supported and specified replacement that&#39;s intended to support migration of code away from `sun.misc.BASE64Encoder`. You need to be aware of some edge cases like this when migrating, though.\r\n\r\n  [1]: http://mail.openjdk.java.net/pipermail/core-libs-dev/2012-October/011737.html","title":"Is Java 8 java.util.Base64 a drop-in replacement for sun.misc.BASE64?","body":"<p>Here's a small test program that illustrates a difference in the encoded strings:</p>\n\n<pre><code>byte[] bytes = new byte[57];\nString enc1 = new sun.misc.BASE64Encoder().encode(bytes);\nString enc2 = new String(java.util.Base64.getMimeEncoder().encode(bytes),\n                         StandardCharsets.UTF_8);\n\nSystem.out.println(\"enc1 = &lt;\" + enc1 + \"&gt;\");\nSystem.out.println(\"enc2 = &lt;\" + enc2 + \"&gt;\");\nSystem.out.println(enc1.equals(enc2));\n</code></pre>\n\n<p>Its output is:</p>\n\n<pre><code>enc1 = &lt;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\n&gt;\nenc2 = &lt;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&gt;\nfalse\n</code></pre>\n\n<p>Note that the encoded output of <code>sun.misc.BASE64Encoder</code> has a newline at the end. It doesn't <em>always</em> append a newline, but it happens to do so if the encoded string has exactly 76 characters on its last line. (The author of <code>java.util.Base64</code> considered this to be a small bug in the <code>sun.misc.BASE64Encoder</code> implementation – see the <a href=\"http://mail.openjdk.java.net/pipermail/core-libs-dev/2012-October/011737.html\">review thread</a>).</p>\n\n<p>This might seem like a triviality, but if you had a program that relied on this specific behavior, switching encoders might result in malformed output. Therefore, I conclude that <code>java.util.Base64</code> is <strong>not</strong> a drop-in replacement for <code>sun.misc.BASE64Encoder</code>.</p>\n\n<p>Of course, the <em>intent</em> of <code>java.util.Base64</code> is that it's a functionally equivalent, RFC-conformant, high-performance, fully supported and specified replacement that's intended to support migration of code away from <code>sun.misc.BASE64Encoder</code>. You need to be aware of some edge cases like this when migrating, though.</p>\n"},{"tags":[],"owner":{"account_id":153710,"reputation":210,"user_id":369151,"accept_rate":43,"display_name":"AKS"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1627941407,"creation_date":1555316718,"answer_id":55685147,"question_id":35301409,"body_markdown":"I had same issue, when i moved from `sun` to `java.util.base64`, but then `org.apache.commons.codec.binary.Base64` solved my problem ","title":"Is Java 8 java.util.Base64 a drop-in replacement for sun.misc.BASE64?","body":"<p>I had same issue, when i moved from <code>sun</code> to <code>java.util.base64</code>, but then <code>org.apache.commons.codec.binary.Base64</code> solved my problem</p>\n"},{"tags":[],"owner":{"account_id":6064271,"reputation":23,"user_id":4735145,"display_name":"Brad Nelson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658964751,"creation_date":1658964751,"answer_id":73145681,"question_id":35301409,"body_markdown":"Stuart Marks&#39; answer is almost correct. The getMimeEncoder in his example above should be configured like this to emulate sun.misc:\r\n\r\n    String enc2 = new String(java.util.Base64.getMimeEncoder(76, new byte[]{0xa}).encode(bytes),\r\n                         StandardCharsets.UTF_8);\r\n\r\n\r\nAt this point, it will be a drop-in as requested in the original post. ","title":"Is Java 8 java.util.Base64 a drop-in replacement for sun.misc.BASE64?","body":"<p>Stuart Marks' answer is almost correct. The getMimeEncoder in his example above should be configured like this to emulate sun.misc:</p>\n<pre><code>String enc2 = new String(java.util.Base64.getMimeEncoder(76, new byte[]{0xa}).encode(bytes),\n                     StandardCharsets.UTF_8);\n</code></pre>\n<p>At this point, it will be a drop-in as requested in the original post.</p>\n"}],"owner":{"account_id":7498641,"reputation":2237,"user_id":5698098,"display_name":"Ivo Mori"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46667,"favorite_count":0,"down_vote_count":1,"up_vote_count":49,"accepted_answer_id":35384409,"answer_count":5,"score":48,"last_activity_date":1658964751,"creation_date":1455049233,"question_id":35301409,"body_markdown":"***Question***\r\n\r\nAre the Java 8 `java.util.Base64` MIME Encoder and Decoder ***a drop-in replacement*** for the unsupported, internal Java API `sun.misc.BASE64Encoder` and `sun.misc.BASE64Decoder`?\r\n\r\n&lt;sub&gt;EDIT (Clarification): By ***drop-in replacement***\r\nI mean that I can switch legacy code using `sun.misc.BASE64Encoder` and `sun.misc.BASE64Decoder` to Java 8 MIME Base64 Encoder/Decoder for any existing other client code transparently.&lt;/sub&gt;\r\n\r\n***What I think so far and why***\r\n\r\nBased on my investigation and quick tests (see code below) ***it should be a drop-in replacement*** because\r\n\r\n - `sun.misc.BASE64Encoder` based on its JavaDoc is *a BASE64 Character encoder as specified in **RFC1521**. This RFC is part of the **MIME** specification...*\r\n - `java.util.Base64` based on its [JavaDoc][1] *Uses the &quot;The Base64 Alphabet&quot; as specified in Table 1 of **RFC 2045** for encoding and decoding operation...* under **MIME**\r\n\r\nAssuming no significant changes in the RFC 1521 and 2045 (I could not find any) and based on my quick test using the Java 8 Base64 MIME Encoder/Decoder should be fine.\r\n\r\n***What I am looking for***\r\n\r\n- an authoritative source confirming or disproving the &quot;drop-in replacement&quot; point OR\r\n- a counterexample which shows a case where java.util.Base64 has different behaviour than the sun.misc.BASE64Encoder [OpenJDK Java 8 implementation (8u40-b25)][2] (BASE64Decoder) OR\r\n- whatever you think answers above question *definitely*\r\n\r\n***For reference***\r\n\r\nMy test code\r\n\r\n    public class Base64EncodingDecodingRoundTripTest {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String test1 = &quot; ~!@#$%^&amp; *()_+=`| }{[]\\\\;: \\&quot;?&gt;&lt;,./ &quot;;\r\n            String test2 = test1 + test1;\r\n    \r\n            encodeDecode(test1);\r\n            encodeDecode(test2);\r\n        }\r\n    \r\n        static void encodeDecode(final String testInputString) throws IOException {\r\n            sun.misc.BASE64Encoder unsupportedEncoder = new sun.misc.BASE64Encoder();\r\n            sun.misc.BASE64Decoder unsupportedDecoder = new sun.misc.BASE64Decoder();\r\n    \r\n            Base64.Encoder mimeEncoder = java.util.Base64.getMimeEncoder();\r\n            Base64.Decoder mimeDecoder = java.util.Base64.getMimeDecoder();\r\n    \r\n            String sunEncoded = unsupportedEncoder.encode(testInputString.getBytes());\r\n            System.out.println(&quot;sun.misc encoded: &quot; + sunEncoded);\r\n    \r\n            String mimeEncoded = mimeEncoder.encodeToString(testInputString.getBytes());\r\n            System.out.println(&quot;Java 8 Base64 MIME encoded: &quot; + mimeEncoded);\r\n    \r\n            byte[] mimeDecoded = mimeDecoder.decode(sunEncoded);\r\n            String mimeDecodedString = new String(mimeDecoded, Charset.forName(&quot;UTF-8&quot;));\r\n    \r\n            byte[] sunDecoded = unsupportedDecoder.decodeBuffer(mimeEncoded); // throws IOException\r\n            String sunDecodedString = new String(sunDecoded, Charset.forName(&quot;UTF-8&quot;));\r\n    \r\n            System.out.println(String.format(&quot;sun.misc decoded: %s | Java 8 Base64 decoded:  %s&quot;, sunDecodedString, mimeDecodedString));\r\n    \r\n            System.out.println(&quot;Decoded results are both equal: &quot; + Objects.equals(sunDecodedString, mimeDecodedString));\r\n            System.out.println(&quot;Mime decoded result is equal to test input string: &quot; + Objects.equals(testInputString, mimeDecodedString));\r\n            System.out.println(&quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/sun/misc/BASE64Encoder.java/","title":"Is Java 8 java.util.Base64 a drop-in replacement for sun.misc.BASE64?","body":"<p><em><strong>Question</strong></em></p>\n<p>Are the Java 8 <code>java.util.Base64</code> MIME Encoder and Decoder <em><strong>a drop-in replacement</strong></em> for the unsupported, internal Java API <code>sun.misc.BASE64Encoder</code> and <code>sun.misc.BASE64Decoder</code>?</p>\n<p><sub>EDIT (Clarification): By <em><strong>drop-in replacement</strong></em>\nI mean that I can switch legacy code using <code>sun.misc.BASE64Encoder</code> and <code>sun.misc.BASE64Decoder</code> to Java 8 MIME Base64 Encoder/Decoder for any existing other client code transparently.</sub></p>\n<p><em><strong>What I think so far and why</strong></em></p>\n<p>Based on my investigation and quick tests (see code below) <em><strong>it should be a drop-in replacement</strong></em> because</p>\n<ul>\n<li><code>sun.misc.BASE64Encoder</code> based on its JavaDoc is <em>a BASE64 Character encoder as specified in <strong>RFC1521</strong>. This RFC is part of the <strong>MIME</strong> specification...</em></li>\n<li><code>java.util.Base64</code> based on its <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"noreferrer\">JavaDoc</a> <em>Uses the &quot;The Base64 Alphabet&quot; as specified in Table 1 of <strong>RFC 2045</strong> for encoding and decoding operation...</em> under <strong>MIME</strong></li>\n</ul>\n<p>Assuming no significant changes in the RFC 1521 and 2045 (I could not find any) and based on my quick test using the Java 8 Base64 MIME Encoder/Decoder should be fine.</p>\n<p><em><strong>What I am looking for</strong></em></p>\n<ul>\n<li>an authoritative source confirming or disproving the &quot;drop-in replacement&quot; point OR</li>\n<li>a counterexample which shows a case where java.util.Base64 has different behaviour than the sun.misc.BASE64Encoder <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/sun/misc/BASE64Encoder.java/\" rel=\"noreferrer\">OpenJDK Java 8 implementation (8u40-b25)</a> (BASE64Decoder) OR</li>\n<li>whatever you think answers above question <em>definitely</em></li>\n</ul>\n<p><em><strong>For reference</strong></em></p>\n<p>My test code</p>\n<pre><code>public class Base64EncodingDecodingRoundTripTest {\n\n    public static void main(String[] args) throws IOException {\n        String test1 = &quot; ~!@#$%^&amp; *()_+=`| }{[]\\\\;: \\&quot;?&gt;&lt;,./ &quot;;\n        String test2 = test1 + test1;\n\n        encodeDecode(test1);\n        encodeDecode(test2);\n    }\n\n    static void encodeDecode(final String testInputString) throws IOException {\n        sun.misc.BASE64Encoder unsupportedEncoder = new sun.misc.BASE64Encoder();\n        sun.misc.BASE64Decoder unsupportedDecoder = new sun.misc.BASE64Decoder();\n\n        Base64.Encoder mimeEncoder = java.util.Base64.getMimeEncoder();\n        Base64.Decoder mimeDecoder = java.util.Base64.getMimeDecoder();\n\n        String sunEncoded = unsupportedEncoder.encode(testInputString.getBytes());\n        System.out.println(&quot;sun.misc encoded: &quot; + sunEncoded);\n\n        String mimeEncoded = mimeEncoder.encodeToString(testInputString.getBytes());\n        System.out.println(&quot;Java 8 Base64 MIME encoded: &quot; + mimeEncoded);\n\n        byte[] mimeDecoded = mimeDecoder.decode(sunEncoded);\n        String mimeDecodedString = new String(mimeDecoded, Charset.forName(&quot;UTF-8&quot;));\n\n        byte[] sunDecoded = unsupportedDecoder.decodeBuffer(mimeEncoded); // throws IOException\n        String sunDecodedString = new String(sunDecoded, Charset.forName(&quot;UTF-8&quot;));\n\n        System.out.println(String.format(&quot;sun.misc decoded: %s | Java 8 Base64 decoded:  %s&quot;, sunDecodedString, mimeDecodedString));\n\n        System.out.println(&quot;Decoded results are both equal: &quot; + Objects.equals(sunDecodedString, mimeDecodedString));\n        System.out.println(&quot;Mime decoded result is equal to test input string: &quot; + Objects.equals(testInputString, mimeDecodedString));\n        System.out.println(&quot;\\n&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","jaxb","websphere","jax-ws"],"comments":[{"owner":{"account_id":6564493,"reputation":1002,"user_id":5074563,"display_name":"Bruce T."},"score":0,"creation_date":1575394318,"post_id":59154094,"comment_id":104549174,"body_markdown":"This might be helpful: https://stackoverflow.com/questions/34762565/jaxb-in-websphere?rq=1","body":"This might be helpful: <a href=\"https://stackoverflow.com/questions/34762565/jaxb-in-websphere?rq=1\" title=\"jaxb in websphere\">stackoverflow.com/questions/34762565/jaxb-in-websphere?rq=1</a>"},{"owner":{"account_id":6564493,"reputation":1002,"user_id":5074563,"display_name":"Bruce T."},"score":0,"creation_date":1575424347,"post_id":59154094,"comment_id":104559106,"body_markdown":"The optimizations kick in on the second call, so the failure on the second call strongly suggests bypassing the optimizations per above link might help.","body":"The optimizations kick in on the second call, so the failure on the second call strongly suggests bypassing the optimizations per above link might help."},{"owner":{"account_id":476642,"reputation":11,"user_id":6996779,"display_name":"Chris"},"score":0,"creation_date":1575541480,"post_id":59154094,"comment_id":104604541,"body_markdown":"thanks for the answer. Unfortunately disabling IBM&#39;s Jaxb Implementation did not help, the problem still exists.","body":"thanks for the answer. Unfortunately disabling IBM&#39;s Jaxb Implementation did not help, the problem still exists."}],"owner":{"account_id":476642,"reputation":11,"user_id":6996779,"display_name":"Chris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658964567,"creation_date":1575365944,"question_id":59154094,"body_markdown":"we have this really weird problem on Websphere 9 with JAX-WS Calls using the Workmanager (wmdefault). The first call after server start works, but the second call fails with the following error message:\r\n```\r\njavax.xml.ws.WebServiceException: javax.xml.bind.UnmarshalException\r\n - with linked exception:\r\n[javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://x.x.x/&quot;, local:&quot;XResponse&quot;). Expected elements are (none)]\r\n```\r\nWe noticed that we receive the response, but it cannot be processed. It seems to us, that the JAXB-Context is lost and we don&#39;t know yet why. And the strange thing is, that it works outside of the work manager. And other clients work as expected in the multithreaded workmanager setting. We tried to instantiate the service new for each call, it does not work.\r\n\r\nOne thing we also noticed, is the following:\r\n```\r\n[11/29/19 11:05:38:403 CET] 000000f3 UnmarshalMess 1 org.apache.axis2.jaxws.marshaller.impl.alt.UnmarshalMessageContextListener installJAXBCustomBuilder attachEvent for sc= X.X  mc=7627ae189e45d5a4f02c2fe6a63c9b2e9ed6a770bd3c053c\r\n[11/29/19 11:05:38:404 CET] 000000f3 UnmarshalMess 1 org.apache.axis2.jaxws.marshaller.impl.alt.UnmarshalMessageContextListener installJAXBCustomBuilder Registering JAXBCustomBuilder: org.apache.axis2.datasource.jaxb.JAXBCustomBuilder@bdabf1ac for AxisOperation: {http://x.x.x/}x\r\n```\r\n\r\nDo you know that this JAXBCustomBuilder does? Do you have any Ideas what exactly causes the problem and how to fix it?\r\n\r\nWe use Websphere 9.0.5.0 and the Metro-Stack for the Webservice Client Implementation.\r\n\r\nThanks!","title":"Websphere 9: Jax-WS Call in Workmanager fails the second time","body":"<p>we have this really weird problem on Websphere 9 with JAX-WS Calls using the Workmanager (wmdefault). The first call after server start works, but the second call fails with the following error message:</p>\n\n<pre><code>javax.xml.ws.WebServiceException: javax.xml.bind.UnmarshalException\n - with linked exception:\n[javax.xml.bind.UnmarshalException: unexpected element (uri:\"http://x.x.x/\", local:\"XResponse\"). Expected elements are (none)]\n</code></pre>\n\n<p>We noticed that we receive the response, but it cannot be processed. It seems to us, that the JAXB-Context is lost and we don't know yet why. And the strange thing is, that it works outside of the work manager. And other clients work as expected in the multithreaded workmanager setting. We tried to instantiate the service new for each call, it does not work.</p>\n\n<p>One thing we also noticed, is the following:</p>\n\n<pre><code>[11/29/19 11:05:38:403 CET] 000000f3 UnmarshalMess 1 org.apache.axis2.jaxws.marshaller.impl.alt.UnmarshalMessageContextListener installJAXBCustomBuilder attachEvent for sc= X.X  mc=7627ae189e45d5a4f02c2fe6a63c9b2e9ed6a770bd3c053c\n[11/29/19 11:05:38:404 CET] 000000f3 UnmarshalMess 1 org.apache.axis2.jaxws.marshaller.impl.alt.UnmarshalMessageContextListener installJAXBCustomBuilder Registering JAXBCustomBuilder: org.apache.axis2.datasource.jaxb.JAXBCustomBuilder@bdabf1ac for AxisOperation: {http://x.x.x/}x\n</code></pre>\n\n<p>Do you know that this JAXBCustomBuilder does? Do you have any Ideas what exactly causes the problem and how to fix it?</p>\n\n<p>We use Websphere 9.0.5.0 and the Metro-Stack for the Webservice Client Implementation.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","sampling"],"comments":[{"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"score":1,"creation_date":1658964272,"post_id":73145588,"comment_id":129185662,"body_markdown":"What exactly do you need help with ? The code to select X % of your requests ? The system architecture ? The redirection of JMS, HTTP, GRPC or whichever kind of requests  your system uses ?","body":"What exactly do you need help with ? The code to select X % of your requests ? The system architecture ? The redirection of JMS, HTTP, GRPC or whichever kind of requests  your system uses ?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658964286,"post_id":73145588,"comment_id":129185667,"body_markdown":"Your question needs more focus, please narrow your question to one specific issue. As for how you do what you want, It entirely depends on your project structure, and what you are using to communicate between systems (Database? Sockets? Web API? Shared File Storage?). Hint: Rather than asking general open questions, ask specific targeted questions, or use a search engine to look for specific terms like &quot;java communicate with another PC&quot; and &quot;java generate random number from a range&quot;. But again it entirely depend on your project structure...","body":"Your question needs more focus, please narrow your question to one specific issue. As for how you do what you want, It entirely depends on your project structure, and what you are using to communicate between systems (Database? Sockets? Web API? Shared File Storage?). Hint: Rather than asking general open questions, ask specific targeted questions, or use a search engine to look for specific terms like &quot;java communicate with another PC&quot; and &quot;java generate random number from a range&quot;. But again it entirely depend on your project structure..."}],"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658963963,"creation_date":1658963963,"question_id":73145588,"body_markdown":"From System A I want to send certain requests to System B.\r\nSystem B should get some small percentage of random requests from System A.\r\nIrrespective of traffic on system A, how do I sample requests at specific rate to send to B? Sampling preferred for randomization.","title":"How to do sampling in requests","body":"<p>From System A I want to send certain requests to System B.\nSystem B should get some small percentage of random requests from System A.\nIrrespective of traffic on system A, how do I sample requests at specific rate to send to B? Sampling preferred for randomization.</p>\n"},{"tags":["java","ethereum","solidity","web3-java"],"answers":[{"tags":[],"owner":{"account_id":25905877,"reputation":11,"user_id":19630978,"display_name":"user19630978"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658917196,"creation_date":1658909018,"answer_id":73134263,"question_id":73128522,"body_markdown":"I am also facing the same Error I found one solution for this, but it also has some issues. After compiling it give abi and bin files for both contracts.\r\n\r\nYou can try this, Add an `openzeppelin` file path also in your command.\r\n\r\n[Found solution here][1]\r\n\r\n```\r\nsolcjs ./node_modules/@openzeppelin/contracts/utils/math/SafeMath.sol \r\n       ./src/main/resources/solidity/AddressBook.sol  --bin --abi --optimize -o \r\n       ./src/main/resources/out \r\n```\r\n\r\n-- The first path is the `openzeppelin` contract path and the second is the source file path.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70742806/cannot-generate-abi-and-bin-files-when-smartcontract-contains-the-openzeppelin","title":"Web3J | Source &quot;@openzeppelin/contracts/token/ERC721/ERC721.sol&quot; not found: File not found","body":"<p>I am also facing the same Error I found one solution for this, but it also has some issues. After compiling it give abi and bin files for both contracts.</p>\n<p>You can try this, Add an <code>openzeppelin</code> file path also in your command.</p>\n<p><a href=\"https://stackoverflow.com/questions/70742806/cannot-generate-abi-and-bin-files-when-smartcontract-contains-the-openzeppelin\">Found solution here</a></p>\n<pre><code>solcjs ./node_modules/@openzeppelin/contracts/utils/math/SafeMath.sol \n       ./src/main/resources/solidity/AddressBook.sol  --bin --abi --optimize -o \n       ./src/main/resources/out \n</code></pre>\n<p>-- The first path is the <code>openzeppelin</code> contract path and the second is the source file path.</p>\n"},{"tags":[],"owner":{"account_id":14206439,"reputation":38683,"user_id":10262805,"display_name":"Yilmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658962708,"creation_date":1658962708,"answer_id":73145453,"question_id":73128522,"body_markdown":"   Normally your ide might have an option similar to this in vscode `Package Default Dependencies Contracts Directory`. if this configured successfully, import statement should automatically go inside `node_modules` and find the `@openzeppeling` dependency. If not you have to pass relative path in solidity code:\r\n\r\n     import &quot;../node_modules/@openzeppelin/contracts/token/ERC721/ERC721.sol&quot;;\r\n     ","title":"Web3J | Source &quot;@openzeppelin/contracts/token/ERC721/ERC721.sol&quot; not found: File not found","body":"<p>Normally your ide might have an option similar to this in vscode <code>Package Default Dependencies Contracts Directory</code>. if this configured successfully, import statement should automatically go inside <code>node_modules</code> and find the <code>@openzeppeling</code> dependency. If not you have to pass relative path in solidity code:</p>\n<pre><code> import &quot;../node_modules/@openzeppelin/contracts/token/ERC721/ERC721.sol&quot;;\n \n</code></pre>\n"}],"owner":{"account_id":23737400,"reputation":31,"user_id":17755924,"display_name":"Seby Galan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1658962708,"creation_date":1658862234,"question_id":73128522,"body_markdown":"I&#39;m trying create a simple NFT using Java Spring Boot with Web3J dependency. When I&#39;m trying to generate the `.abi` file and `.bin` file using Solc compiler, I&#39;m receiving this error:\r\n\r\n \r\n\r\n    Source &quot;@openzeppelin/contracts/token/ERC721/ERC721.sol&quot; not found: File not found. Searched the following locations: &quot;&quot;.\r\n     --&gt; src/main/resources/solidity/nfts/SimpleCollectible.sol:7:1:\r\n      |\r\n    7 | import &quot;@openzeppelin/contracts/token/ERC721/ERC721.sol&quot;;\r\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n\r\nThe message for this error is clear, I cannot import external file. How I could fix this without copying the required files into my project?\r\n\r\nI am new in this topic and I want to integrate smart contracts with Java.\r\n\r\n","title":"Web3J | Source &quot;@openzeppelin/contracts/token/ERC721/ERC721.sol&quot; not found: File not found","body":"<p>I'm trying create a simple NFT using Java Spring Boot with Web3J dependency. When I'm trying to generate the <code>.abi</code> file and <code>.bin</code> file using Solc compiler, I'm receiving this error:</p>\n<pre><code>Source &quot;@openzeppelin/contracts/token/ERC721/ERC721.sol&quot; not found: File not found. Searched the following locations: &quot;&quot;.\n --&gt; src/main/resources/solidity/nfts/SimpleCollectible.sol:7:1:\n  |\n7 | import &quot;@openzeppelin/contracts/token/ERC721/ERC721.sol&quot;;\n  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n</code></pre>\n<p>The message for this error is clear, I cannot import external file. How I could fix this without copying the required files into my project?</p>\n<p>I am new in this topic and I want to integrate smart contracts with Java.</p>\n"},{"tags":["java","oauth-2.0","thymeleaf","openid-connect","cas"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659255991,"post_id":73135567,"comment_id":129247348,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user19580607"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658961828,"creation_date":1658961828,"answer_id":73145343,"question_id":73135567,"body_markdown":"Can you provide more context for this issue?\r\nIf you haven&#39;t ever logged into that server from a device, you should not be able to do a silent log on. [Specification of Implementation](https://openid.net/specs/openid-connect-core-1_0.html#Consent:~:text=%C2%A0TOC-,3.1.2.3.%C2%A0%20Authorization%20Server%20Authenticates%20End%2DUser,-If%20the%20request)\r\nEssentially prompt applies to a user that has already been authenticated.\r\n\r\nIf the user has been authenticated this will most likely be related to session cookie settings.","title":"Silent authentification with cas oidc (prompt=none)","body":"<p>Can you provide more context for this issue?\nIf you haven't ever logged into that server from a device, you should not be able to do a silent log on. <a href=\"https://openid.net/specs/openid-connect-core-1_0.html#Consent:%7E:text=%C2%A0TOC-,3.1.2.3.%C2%A0%20Authorization%20Server%20Authenticates%20End%2DUser,-If%20the%20request\" rel=\"nofollow noreferrer\">Specification of Implementation</a>\nEssentially prompt applies to a user that has already been authenticated.</p>\n<p>If the user has been authenticated this will most likely be related to session cookie settings.</p>\n"}],"owner":{"account_id":21422844,"reputation":1,"user_id":15780719,"display_name":"Duncan Fu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658961828,"creation_date":1658914643,"question_id":73135567,"body_markdown":"I have a cas server work with oidc; I want to login without approve page. So I hava get the url like this \r\n\r\nhttps://xxx:9443/cas/oidc/authorize?response_type=code&amp;redirect_uri=http://localhost:8080/callback?client_name=OidcClient&amp;client_id=biitt&amp;scope=openid&amp;prompt=none;\r\n\r\n\r\nmy cas server version is 5.3 and only config the prompt=none will got error, if config the prompt=consent/login it will be ok; I also have try config the display=none, but it doesnt work. Any infomation will be greatful.\r\n\r\nI have try to read the source code and found if config the prompt=none, it will call the interface path = {&quot;/oauth2.0/callbackAuthorize&quot;} and then do resolve method, then the resolve method will construct the mav with the original url, so it always return the thymeleaf template is not exsit.\r\n\r\n[resolve method][1]\r\n\r\nThe error msg is :\r\n\r\nThe error info is : 2022-07-26 15:03:11,859 ERROR [org.thymeleaf.TemplateEngine] - &lt;[THYMELEAF][https-openssl-nio-9443-exec-1] Exception processing template &quot;https://biitt-cas.com:9443/cas/oidc[...]lient_name=OidcClient&amp;client_id=biitt&amp;scope=openid%20profile%20email&amp;prompt=none&quot;: Error resolving template [https://biitt-cas.com:9443/cas/oidc/authorize?response_type=code&amp;redirect_uri=http://localhost:8080/callback?client_name=OidcClient&amp;client_id=biitt&amp;scope=openid%20profile%20email&amp;prompt=none], template might not exist or might not be accessible by any of the configured Template Resolvers&gt; org.thymeleaf.exceptions.TemplateInputException: Error resolving template [https://biitt-cas.com:9443/cas/oidc/authorize?response_type=code&amp;redirect_uri=http://localhost:8080/callback?client_name=OidcClient&amp;client_id=biitt&amp;scope=openid%20profile%20email&amp;prompt=none], template might not exist or might not be accessible by any of the configured Template Resolvers at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.thymeleaf.spring4.view.ThymeleafView.renderFragment(ThymeleafView.java:360) ~[thymeleaf-spring4-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.thymeleaf.spring4.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring4-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[servlet-api.jar:?] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[servlet-api.jar:?] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-websocket.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.cas.web.support.AuthenticationCredentialsThreadLocalBinderClearingFilter.doFilter(AuthenticationCredentialsThreadLocalBinderClearingFilter.java:30) ~[cas-server-core-web-api-5.3.16.jar:5.3.16] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.cas.security.RequestParameterPolicyEnforcementFilter.doFilter(RequestParameterPolicyEnforcementFilter.java:261) ~[cas-server-security-filter-2.0.10.4.jar:2.0.10.4] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.cas.security.ResponseHeadersEnforcementFilter.doFilter(ResponseHeadersEnforcementFilter.java:240) ~[cas-server-security-filter-2.0.10.4.jar:2.0.10.4] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.cas.security.AddResponseHeadersFilter.doFilter(AddResponseHeadersFilter.java:94) ~[cas-server-security-filter-2.0.10.4.jar:2.0.10.4] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:111) ~[spring-boot-actuator-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.cas.logging.web.ThreadContextMDCServletFilter.doFilter(ThreadContextMDCServletFilter.java:91) ~[cas-server-core-logging-5.3.16.jar:5.3.16] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103) ~[spring-boot-actuator-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:130) ~[spring-boot-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.springframework.boot.web.support.ErrorPageFilter.access$000(ErrorPageFilter.java:66) ~[spring-boot-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.springframework.boot.web.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:105) ~[spring-boot-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:123) ~[spring-boot-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:66) ~[inspektr-common-1.8.4.GA.jar:1.8.4.GA] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71) ~[log4j-web-2.12.1.jar:2.12.1] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[catalina.jar:9.0.7] at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[catalina.jar:9.0.7] at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:494) ~[catalina.jar:9.0.7] at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137) ~[catalina.jar:9.0.7] at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.7] at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:651) ~[catalina.jar:9.0.7] at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) ~[catalina.jar:9.0.7] at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[catalina.jar:9.0.7] at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:407) ~[tomcat-coyote.jar:9.0.7] at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-coyote.jar:9.0.7] at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:754) ~[tomcat-coyote.jar:9.0.7] at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1376) ~[tomcat-coyote.jar:9.0.7] at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.7] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_281] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_281] at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.7] at java.lang.Thread.run(Thread.java:748) [?:1.8.0_281]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rZRq8.png","title":"Silent authentification with cas oidc (prompt=none)","body":"<p>I have a cas server work with oidc; I want to login without approve page. So I hava get the url like this</p>\n<p>https://xxx:9443/cas/oidc/authorize?response_type=code&amp;redirect_uri=http://localhost:8080/callback?client_name=OidcClient&amp;client_id=biitt&amp;scope=openid&amp;prompt=none;</p>\n<p>my cas server version is 5.3 and only config the prompt=none will got error, if config the prompt=consent/login it will be ok; I also have try config the display=none, but it doesnt work. Any infomation will be greatful.</p>\n<p>I have try to read the source code and found if config the prompt=none, it will call the interface path = {&quot;/oauth2.0/callbackAuthorize&quot;} and then do resolve method, then the resolve method will construct the mav with the original url, so it always return the thymeleaf template is not exsit.</p>\n<p><a href=\"https://i.stack.imgur.com/rZRq8.png\" rel=\"nofollow noreferrer\">resolve method</a></p>\n<p>The error msg is :</p>\n<p>The error info is : 2022-07-26 15:03:11,859 ERROR [org.thymeleaf.TemplateEngine] - &lt;[THYMELEAF][https-openssl-nio-9443-exec-1] Exception processing template &quot;https://biitt-cas.com:9443/cas/oidc[...]lient_name=OidcClient&amp;client_id=biitt&amp;scope=openid%20profile%20email&amp;prompt=none&quot;: Error resolving template [https://biitt-cas.com:9443/cas/oidc/authorize?response_type=code&amp;redirect_uri=http://localhost:8080/callback?client_name=OidcClient&amp;client_id=biitt&amp;scope=openid%20profile%20email&amp;prompt=none], template might not exist or might not be accessible by any of the configured Template Resolvers&gt; org.thymeleaf.exceptions.TemplateInputException: Error resolving template [https://biitt-cas.com:9443/cas/oidc/authorize?response_type=code&amp;redirect_uri=http://localhost:8080/callback?client_name=OidcClient&amp;client_id=biitt&amp;scope=openid%20profile%20email&amp;prompt=none], template might not exist or might not be accessible by any of the configured Template Resolvers at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.thymeleaf.spring4.view.ThymeleafView.renderFragment(ThymeleafView.java:360) ~[thymeleaf-spring4-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.thymeleaf.spring4.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring4-3.0.11.RELEASE.jar:3.0.11.RELEASE] at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1286) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1041) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:984) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[servlet-api.jar:?] at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.25.RELEASE.jar:4.3.25.RELEASE] at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[servlet-api.jar:?] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-websocket.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.cas.web.support.AuthenticationCredentialsThreadLocalBinderClearingFilter.doFilter(AuthenticationCredentialsThreadLocalBinderClearingFilter.java:30) ~[cas-server-core-web-api-5.3.16.jar:5.3.16] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.cas.security.RequestParameterPolicyEnforcementFilter.doFilter(RequestParameterPolicyEnforcementFilter.java:261) ~[cas-server-security-filter-2.0.10.4.jar:2.0.10.4] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.cas.security.ResponseHeadersEnforcementFilter.doFilter(ResponseHeadersEnforcementFilter.java:240) ~[cas-server-security-filter-2.0.10.4.jar:2.0.10.4] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.cas.security.AddResponseHeadersFilter.doFilter(AddResponseHeadersFilter.java:94) ~[cas-server-security-filter-2.0.10.4.jar:2.0.10.4] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:111) ~[spring-boot-actuator-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.cas.logging.web.ThreadContextMDCServletFilter.doFilter(ThreadContextMDCServletFilter.java:91) ~[cas-server-core-logging-5.3.16.jar:5.3.16] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:103) ~[spring-boot-actuator-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:130) ~[spring-boot-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.springframework.boot.web.support.ErrorPageFilter.access$000(ErrorPageFilter.java:66) ~[spring-boot-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.springframework.boot.web.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:105) ~[spring-boot-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.25.RELEASE.jar:4.3.25.RELEASE] at org.springframework.boot.web.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:123) ~[spring-boot-1.5.18.RELEASE.jar:1.5.18.RELEASE] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apereo.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:66) ~[inspektr-common-1.8.4.GA.jar:1.8.4.GA] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71) ~[log4j-web-2.12.1.jar:2.12.1] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.7] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.7] at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[catalina.jar:9.0.7] at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[catalina.jar:9.0.7] at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:494) ~[catalina.jar:9.0.7] at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137) ~[catalina.jar:9.0.7] at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.7] at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:651) ~[catalina.jar:9.0.7] at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) ~[catalina.jar:9.0.7] at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[catalina.jar:9.0.7] at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:407) ~[tomcat-coyote.jar:9.0.7] at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-coyote.jar:9.0.7] at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:754) ~[tomcat-coyote.jar:9.0.7] at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1376) ~[tomcat-coyote.jar:9.0.7] at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.7] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_281] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_281] at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.7] at java.lang.Thread.run(Thread.java:748) [?:1.8.0_281]</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8840,"page":1152,"page_size":100}
