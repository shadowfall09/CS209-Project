{"items":[{"tags":["java","eclipse","windowbuilder","swt-awt"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1698802177,"post_id":77396729,"comment_id":136450860,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":29564349,"reputation":1,"user_id":22658152,"display_name":"alw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698996164,"creation_date":1698996164,"answer_id":77414832,"question_id":77396729,"body_markdown":"Simply update WindowBuilder from the Eclipse Marketplace after installing it. lmao","title":"A problem with WindowBuilder and SWT in java","body":"<p>Simply update WindowBuilder from the Eclipse Marketplace after installing it. lmao</p>\n"}],"owner":{"account_id":29564349,"reputation":1,"user_id":22658152,"display_name":"alw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698996164,"creation_date":1698762173,"question_id":77396729,"body_markdown":"I&#39;ve a little problem with this. IDK how to proceed or correct the error. Basically, I wanted to install WindowBuilder and SWT for some work but this error appears in all files. I just don&#39;t know how to do it. Please help!\r\n[Here the problem](https://i.stack.imgur.com/zx6n2.png)\r\n\r\nThe error that keeps recurring is as follows:\r\n\r\n    org.eclipse.wb.internal.core.utils.exception.DesignerException: 103 (Unknown GUI toolkit). Es_1\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser.prepareParseContext(JavaInfoParser.java:1199)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:244)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:153)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:1)\r\n\tat org.eclipse.wb.internal.core.utils.execution.ExecutionUtils.runDesignTime(ExecutionUtils.java:160)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:150)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:553)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage$8$1.run(DesignPage.java:468)\r\n\tat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:183)\r\n\tat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:133)\r\n\tat org.eclipse.swt.widgets.Display.syncExec(Display.java:4803)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage$8.run(DesignPage.java:464)\r\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:434)\r\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:352)\r\n\tat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:470)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF_withProgress(DesignPage.java:484)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:432)\r\n\tat org.eclipse.wb.internal.core.editor.UndoManager.refreshDesignerEditor(UndoManager.java:389)\r\n\tat org.eclipse.wb.internal.core.editor.UndoManager.activate(UndoManager.java:90)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState_True(DesignPage.java:275)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState(DesignPage.java:252)\r\n\tat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode.showPage(DefaultMultiMode.java:127)\r\n\tat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode$1.widgetSelected(DefaultMultiMode.java:63)\r\n\r\nBasically I expect it to show me a window with what I want but there is like a repetition of the error in the window shown above.","title":"A problem with WindowBuilder and SWT in java","body":"<p>I've a little problem with this. IDK how to proceed or correct the error. Basically, I wanted to install WindowBuilder and SWT for some work but this error appears in all files. I just don't know how to do it. Please help!\n<a href=\"https://i.stack.imgur.com/zx6n2.png\" rel=\"nofollow noreferrer\">Here the problem</a></p>\n<p>The error that keeps recurring is as follows:</p>\n<pre><code>org.eclipse.wb.internal.core.utils.exception.DesignerException: 103 (Unknown GUI toolkit). Es_1\nat org.eclipse.wb.internal.core.parser.JavaInfoParser.prepareParseContext(JavaInfoParser.java:1199)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:244)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:153)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:1)\nat org.eclipse.wb.internal.core.utils.execution.ExecutionUtils.runDesignTime(ExecutionUtils.java:160)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:150)\nat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:553)\nat org.eclipse.wb.internal.core.editor.DesignPage$8$1.run(DesignPage.java:468)\nat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:183)\nat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:133)\nat org.eclipse.swt.widgets.Display.syncExec(Display.java:4803)\nat org.eclipse.wb.internal.core.editor.DesignPage$8.run(DesignPage.java:464)\nat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:434)\nat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:352)\nat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:470)\nat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF_withProgress(DesignPage.java:484)\nat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:432)\nat org.eclipse.wb.internal.core.editor.UndoManager.refreshDesignerEditor(UndoManager.java:389)\nat org.eclipse.wb.internal.core.editor.UndoManager.activate(UndoManager.java:90)\nat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState_True(DesignPage.java:275)\nat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState(DesignPage.java:252)\nat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode.showPage(DefaultMultiMode.java:127)\nat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode$1.widgetSelected(DefaultMultiMode.java:63)\n</code></pre>\n<p>Basically I expect it to show me a window with what I want but there is like a repetition of the error in the window shown above.</p>\n"},{"tags":["java","android","firebase","kotlin"],"owner":{"account_id":29002776,"reputation":11,"user_id":22216025,"display_name":"Karthiga Ganesan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698995920,"creation_date":1698920147,"question_id":77408725,"body_markdown":"I have integrated the Firebase Analytics into my app to track user events and behaviors. If we want to track custom screen views and pages used by users in android, how to handle those. if I use  setCurrentScreen with the screen name and the class of the activity or fragment in which the screen view is taking place in code level, but it will resemble in events in Firebase Analytics Dashboard. And setCurrenScreen method was deprecated in android. What will be the alternative for setCurrentScreen for android kotlin.\r\n\r\nI have tried these steps:\r\n\r\n```\r\nimplementation(&quot;com.google.firebase:firebase-analytics&quot;)\r\n\r\nfirebaseAnalytics = Firebase.analytics\r\nval bundle = Bundle()\r\nbundle.putString(&quot;CATEGORY&quot;, &quot;Dispatch&quot;)\r\nbundle.putString(&quot;ACTION&quot;, &quot;Update_Dispatch&quot;)\r\nfirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SELECT_CONTENT, bundle)\r\n\r\nfirebaseAnalytics = Firebase.analytics\r\nfirebaseAnalytics.setCurrentScreen(this, &quot;Dashboard_Activity&quot;, null )\r\nval bundle = Bundle()\r\nbundle.putString(FirebaseAnalytics.Param.ITEM_ID, &quot;id&quot;)\r\nbundle.putString(FirebaseAnalytics.Param.ITEM_NAME, &quot;DashBoardActivity&quot;)\r\nbundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;DashboardActivity&quot;)\r\nfirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SELECT_CONTENT, bundle)\r\n\r\n```","title":"Firebase Analytics Screen views and custom events not tracking on Android","body":"<p>I have integrated the Firebase Analytics into my app to track user events and behaviors. If we want to track custom screen views and pages used by users in android, how to handle those. if I use  setCurrentScreen with the screen name and the class of the activity or fragment in which the screen view is taking place in code level, but it will resemble in events in Firebase Analytics Dashboard. And setCurrenScreen method was deprecated in android. What will be the alternative for setCurrentScreen for android kotlin.</p>\n<p>I have tried these steps:</p>\n<pre><code>implementation(&quot;com.google.firebase:firebase-analytics&quot;)\n\nfirebaseAnalytics = Firebase.analytics\nval bundle = Bundle()\nbundle.putString(&quot;CATEGORY&quot;, &quot;Dispatch&quot;)\nbundle.putString(&quot;ACTION&quot;, &quot;Update_Dispatch&quot;)\nfirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SELECT_CONTENT, bundle)\n\nfirebaseAnalytics = Firebase.analytics\nfirebaseAnalytics.setCurrentScreen(this, &quot;Dashboard_Activity&quot;, null )\nval bundle = Bundle()\nbundle.putString(FirebaseAnalytics.Param.ITEM_ID, &quot;id&quot;)\nbundle.putString(FirebaseAnalytics.Param.ITEM_NAME, &quot;DashBoardActivity&quot;)\nbundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, &quot;DashboardActivity&quot;)\nfirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SELECT_CONTENT, bundle)\n\n</code></pre>\n"},{"tags":["java","c#","selenium","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"score":0,"creation_date":1337779108,"post_id":10720325,"comment_id":13923493,"body_markdown":"findElement() does not wait - what do you mean with that ?","body":"findElement() does not wait - what do you mean with that ?"},{"owner":{"account_id":373248,"reputation":2312,"user_id":722773,"accept_rate":100,"display_name":"psadac"},"score":2,"creation_date":1337780172,"post_id":10720325,"comment_id":13924014,"body_markdown":"`findElement` waits for an element to be available, but sometimes the element is available before the javascript code is initialized completely, that&#39;s why it&#39;s not an option.","body":"<code>findElement</code> waits for an element to be available, but sometimes the element is available before the javascript code is initialized completely, that&#39;s why it&#39;s not an option."},{"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"score":0,"creation_date":1337783260,"post_id":10720325,"comment_id":13925562,"body_markdown":"I forgot it - I&#39;m used to using WebDriverWait and ExpectedCondition it&#39;s way more flexible.","body":"I forgot it - I&#39;m used to using WebDriverWait and ExpectedCondition it&#39;s way more flexible."}],"answers":[{"tags":[],"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1337841944,"creation_date":1337788301,"answer_id":10723586,"question_id":10720325,"body_markdown":"Does the JS library define/initialize any well known variable on the window?\r\n\r\nIf so you could wait for the variable to appear. You can use\r\n\r\n[`((JavascriptExecutor)driver).executeScript(String script, Object... args)`](http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/JavascriptExecutor.html#executeScript%28java.lang.String,%20java.lang.Object...%29)\r\n\r\nto test for this condition (something like: `window.SomeClass &amp;&amp; window.SomeClass.variable != null`) and return a boolean `true` / `false`.\r\n\r\nWrap this in a [`WebDriverWait`](http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html), and wait until the script returns `true`.","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>Does the JS library define/initialize any well known variable on the window?</p>\n\n<p>If so you could wait for the variable to appear. You can use</p>\n\n<p><a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/JavascriptExecutor.html#executeScript%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\"><code>((JavascriptExecutor)driver).executeScript(String script, Object... args)</code></a></p>\n\n<p>to test for this condition (something like: <code>window.SomeClass &amp;&amp; window.SomeClass.variable != null</code>) and return a boolean <code>true</code> / <code>false</code>.</p>\n\n<p>Wrap this in a <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait.html\" rel=\"noreferrer\"><code>WebDriverWait</code></a>, and wait until the script returns <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeƒçek"},"comment_count":0,"down_vote_count":2,"up_vote_count":85,"is_accepted":true,"score":83,"last_activity_date":1492175821,"creation_date":1337800342,"answer_id":10726369,"question_id":10720325,"body_markdown":"If anyone actually knew a general and always-applicable answer, it would have been implemented _everywhere_ ages ago and would make our lives SO much easier.\r\n\r\nThere are many things you can do, but every single one of them has a problem:\r\n\r\n 1. As Ashwin Prabhu said, if you know the script well, you can observe its behaviour and track some of its variables on `window` or `document` etc. This solution, however, is not for everyone and can be used only by you and only on a limited set of pages.\r\n\r\n 2. Your solution by observing the HTML code and whether it has or hasn&#39;t been changed for some time is not bad (also, there is [a method](http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.html#getPageSource%28%29) to get the original and not-edited HTML directly by `WebDriver`), but:\r\n  - It takes a long time to actually assert a page and could prolong the test significantly.\r\n  - You never know what the right interval is. The script _might_ be downloading something big that takes more than 500 ms. There are several scripts on our company&#39;s internal page that take several seconds in IE. Your computer may be temporarily short on resources - say that an antivirus will make your CPU work fully, then 500 ms may be too short even for a noncomplex scripts.\r\n  - Some scripts are never done. They call themselves with some delay (`setTimeout()`) and work again and again and could possibly change the HTML every time they run. Seriously, every &quot;Web 2.0&quot; page does it. Even Stack Overflow. You could overwrite the most common methods used and consider the scripts that use them as completed, but ... you can&#39;t be sure.\r\n  - What if the script does something other than changing the HTML? It could do thousands of things, not just some `innerHTML ` fun.\r\n\r\n 3. There are tools to help you on this. Namely [Progress Listeners](https://developer.mozilla.org/en/Code_snippets/Progress_Listeners) together with [nsIWebProgressListener](https://developer.mozilla.org/en/nsIWebProgressListener) and some others. The browser support for this, however, is horrible. Firefox began to try to support it from FF4 onwards (still evolving), IE has basic support in IE9.\r\n\r\nAnd I guess I could come up with another flawed solution soon. The fact is - there&#39;s no definite answer on when to say &quot;now the page is complete&quot; because of the everlasting scripts doing their work. Pick the one that serves you best, but beware of its shortcomings.","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>If anyone actually knew a general and always-applicable answer, it would have been implemented <em>everywhere</em> ages ago and would make our lives SO much easier.</p>\n\n<p>There are many things you can do, but every single one of them has a problem:</p>\n\n<ol>\n<li><p>As Ashwin Prabhu said, if you know the script well, you can observe its behaviour and track some of its variables on <code>window</code> or <code>document</code> etc. This solution, however, is not for everyone and can be used only by you and only on a limited set of pages.</p></li>\n<li><p>Your solution by observing the HTML code and whether it has or hasn't been changed for some time is not bad (also, there is <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.html#getPageSource%28%29\" rel=\"noreferrer\">a method</a> to get the original and not-edited HTML directly by <code>WebDriver</code>), but:</p>\n\n<ul>\n<li>It takes a long time to actually assert a page and could prolong the test significantly.</li>\n<li>You never know what the right interval is. The script <em>might</em> be downloading something big that takes more than 500 ms. There are several scripts on our company's internal page that take several seconds in IE. Your computer may be temporarily short on resources - say that an antivirus will make your CPU work fully, then 500 ms may be too short even for a noncomplex scripts.</li>\n<li>Some scripts are never done. They call themselves with some delay (<code>setTimeout()</code>) and work again and again and could possibly change the HTML every time they run. Seriously, every \"Web 2.0\" page does it. Even Stack Overflow. You could overwrite the most common methods used and consider the scripts that use them as completed, but ... you can't be sure.</li>\n<li>What if the script does something other than changing the HTML? It could do thousands of things, not just some <code>innerHTML</code> fun.</li>\n</ul></li>\n<li><p>There are tools to help you on this. Namely <a href=\"https://developer.mozilla.org/en/Code_snippets/Progress_Listeners\" rel=\"noreferrer\">Progress Listeners</a> together with <a href=\"https://developer.mozilla.org/en/nsIWebProgressListener\" rel=\"noreferrer\">nsIWebProgressListener</a> and some others. The browser support for this, however, is horrible. Firefox began to try to support it from FF4 onwards (still evolving), IE has basic support in IE9.</p></li>\n</ol>\n\n<p>And I guess I could come up with another flawed solution soon. The fact is - there's no definite answer on when to say \"now the page is complete\" because of the everlasting scripts doing their work. Pick the one that serves you best, but beware of its shortcomings.</p>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365276140,"creation_date":1365276140,"answer_id":15855041,"question_id":10720325,"body_markdown":"To do it properly, you need to handle the exceptions.\r\n\r\nHere is how I do a wait for an iFrame.  This requires that your JUnit test class pass the instance of RemoteWebDriver into the page object :\r\n\r\n    public class IFrame1 extends LoadableComponent&lt;IFrame1&gt; {\r\n    \r\n    \tprivate RemoteWebDriver driver;\r\n    \r\n    \t@FindBy(id = &quot;iFrame1TextFieldTestInputControlID&quot; )\r\n        public WebElement iFrame1TextFieldInput;\r\n\r\n    \t@FindBy(id = &quot;iFrame1TextFieldTestProcessButtonID&quot; )\r\n        public WebElement copyButton;\r\n    \r\n    \tpublic IFrame1( RemoteWebDriver drv ) {\r\n    \t\tsuper();\r\n    \t\tthis.driver = drv;\r\n    \t\tthis.driver.switchTo().defaultContent();\r\n    \t\twaitTimer(1, 1000);\r\n    \t\tthis.driver.switchTo().frame(&quot;BodyFrame1&quot;);\r\n    \t\tLOGGER.info(&quot;IFrame1 constructor...&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void isLoaded() throws Error {    \t\r\n    \t\tLOGGER.info(&quot;IFrame1.isLoaded()...&quot;);\r\n    \t\tPageFactory.initElements( driver, this );\r\n    \t\ttry {\r\n    \t\t\tassertTrue( &quot;Page visible title is not yet available.&quot;, driver\r\n         .findElementByCssSelector(&quot;body form#webDriverUnitiFrame1TestFormID h1&quot;)\r\n    \t\t\t\t\t.getText().equals(&quot;iFrame1 Test&quot;) );\r\n    \t\t} catch ( NoSuchElementException e) {\r\n    \t\t\tLOGGER.info(&quot;No such element.&quot; );\r\n    \t\t\tassertTrue(&quot;No such element.&quot;, false);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void load() {\r\n    \t\tLOGGER.info(&quot;IFrame1.load()...&quot;);\r\n    \t\tWait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;( driver )\r\n    \t\t\t    .withTimeout(30, TimeUnit.SECONDS)\r\n    \t\t\t    .pollingEvery(5, TimeUnit.SECONDS)\r\n    \t\t\t    .ignoring( NoSuchElementException.class ) \r\n    \t\t\t    .ignoring( StaleElementReferenceException.class ) ;\r\n    \t        wait.until( ExpectedConditions.presenceOfElementLocated( \r\n    \t\t\tBy.cssSelector(&quot;body form#webDriverUnitiFrame1TestFormID h1&quot;) ) );\r\n    \t}\r\n    ....\r\n\r\nNOTE: You can [see my entire working example here][1].\r\n\r\n\r\n  [1]: https://raw.github.com/djangofan/WebDriverTestingTemplate/master/parallelwebdriver/src/main/java/webdriver/test/IFrame1.java","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>To do it properly, you need to handle the exceptions.</p>\n\n<p>Here is how I do a wait for an iFrame.  This requires that your JUnit test class pass the instance of RemoteWebDriver into the page object :</p>\n\n<pre><code>public class IFrame1 extends LoadableComponent&lt;IFrame1&gt; {\n\n    private RemoteWebDriver driver;\n\n    @FindBy(id = \"iFrame1TextFieldTestInputControlID\" )\n    public WebElement iFrame1TextFieldInput;\n\n    @FindBy(id = \"iFrame1TextFieldTestProcessButtonID\" )\n    public WebElement copyButton;\n\n    public IFrame1( RemoteWebDriver drv ) {\n        super();\n        this.driver = drv;\n        this.driver.switchTo().defaultContent();\n        waitTimer(1, 1000);\n        this.driver.switchTo().frame(\"BodyFrame1\");\n        LOGGER.info(\"IFrame1 constructor...\");\n    }\n\n    @Override\n    protected void isLoaded() throws Error {        \n        LOGGER.info(\"IFrame1.isLoaded()...\");\n        PageFactory.initElements( driver, this );\n        try {\n            assertTrue( \"Page visible title is not yet available.\", driver\n     .findElementByCssSelector(\"body form#webDriverUnitiFrame1TestFormID h1\")\n                    .getText().equals(\"iFrame1 Test\") );\n        } catch ( NoSuchElementException e) {\n            LOGGER.info(\"No such element.\" );\n            assertTrue(\"No such element.\", false);\n        }\n    }\n\n    @Override\n    protected void load() {\n        LOGGER.info(\"IFrame1.load()...\");\n        Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;( driver )\n                .withTimeout(30, TimeUnit.SECONDS)\n                .pollingEvery(5, TimeUnit.SECONDS)\n                .ignoring( NoSuchElementException.class ) \n                .ignoring( StaleElementReferenceException.class ) ;\n            wait.until( ExpectedConditions.presenceOfElementLocated( \n            By.cssSelector(\"body form#webDriverUnitiFrame1TestFormID h1\") ) );\n    }\n....\n</code></pre>\n\n<p>NOTE: You can <a href=\"https://raw.github.com/djangofan/WebDriverTestingTemplate/master/parallelwebdriver/src/main/java/webdriver/test/IFrame1.java\" rel=\"nofollow\">see my entire working example here</a>.</p>\n"},{"comments":[{"owner":{"account_id":2874706,"reputation":879,"user_id":2467118,"accept_rate":78,"display_name":"Noxxys"},"score":2,"creation_date":1458740399,"post_id":19433318,"comment_id":59994574,"body_markdown":"It works very well for me too. In my case, an element was modified by Javascript just after the page had finished loading, and Selenium was not waiting for that implicitly.","body":"It works very well for me too. In my case, an element was modified by Javascript just after the page had finished loading, and Selenium was not waiting for that implicitly."},{"owner":{"account_id":10576161,"reputation":2214,"user_id":7791423,"display_name":"Amado Saladino"},"score":2,"creation_date":1548949715,"post_id":19433318,"comment_id":95736695,"body_markdown":"Where does Predicate come from? which import??","body":"Where does Predicate come from? which import??"},{"owner":{"account_id":1609338,"reputation":2191,"user_id":1488761,"accept_rate":33,"display_name":"Eduardo Fabricio"},"score":0,"creation_date":1549395737,"post_id":19433318,"comment_id":95884939,"body_markdown":"@AmadoSaladino &quot;import com.google.common.base.Predicate;&quot; from google lib guava-15.0 link: https://mvnrepository.com/artifact/com.google.guava/guava/15.0 there are newer version 27.0 you can try it !","body":"@AmadoSaladino &quot;import com.google.common.base.Predicate;&quot; from google lib guava-15.0 link: <a href=\"https://mvnrepository.com/artifact/com.google.guava/guava/15.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.google.guava/guava/15.0</a> there are newer version 27.0 you can try it !"}],"tags":[],"owner":{"account_id":1609338,"reputation":2191,"user_id":1488761,"accept_rate":33,"display_name":"Eduardo Fabricio"},"comment_count":3,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1410776816,"creation_date":1382030701,"answer_id":19433318,"question_id":10720325,"body_markdown":"Thanks Ashwin !\r\n\r\nIn my case I should need wait for a jquery plugin execution in some element.. specifically &quot;qtip&quot; \r\n\r\nbased in your hint, it worked perfectly for me :\r\n\r\n\twait.until( new Predicate&lt;WebDriver&gt;() {\r\n\t\t\t\tpublic boolean apply(WebDriver driver) {\r\n\t\t\t\t\treturn ((JavascriptExecutor)driver).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\r\n*Note: I&#39;m using Webdriver 2*","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>Thanks Ashwin !</p>\n\n<p>In my case I should need wait for a jquery plugin execution in some element.. specifically \"qtip\" </p>\n\n<p>based in your hint, it worked perfectly for me :</p>\n\n<pre><code>wait.until( new Predicate&lt;WebDriver&gt;() {\n            public boolean apply(WebDriver driver) {\n                return ((JavascriptExecutor)driver).executeScript(\"return document.readyState\").equals(\"complete\");\n            }\n        }\n    );\n</code></pre>\n\n<p><em>Note: I'm using Webdriver 2</em></p>\n"},{"tags":[],"owner":{"account_id":1380112,"reputation":19,"user_id":1313315,"display_name":"Vaibhav Pandey"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1394711711,"creation_date":1394711711,"answer_id":22377849,"question_id":10720325,"body_markdown":"You can write some logic to handle this. I have write a method that will return the `WebElement` and this method will be called three times or you can increase the time and add a null check for `WebElement` Here is an example\r\n\r\n    public static void main(String[] args) {\r\n            WebDriver driver = new FirefoxDriver();\r\n            driver.get(&quot;https://www.crowdanalytix.com/#home&quot;);\r\n            WebElement webElement = getWebElement(driver, &quot;homekkkkkkkkkkkk&quot;);\r\n            int i = 1;\r\n            while (webElement == null &amp;&amp; i &lt; 4) {\r\n                webElement = getWebElement(driver, &quot;homessssssssssss&quot;);\r\n                System.out.println(&quot;calling&quot;);\r\n                i++;\r\n            }\r\n            System.out.println(webElement.getTagName());\r\n            System.out.println(&quot;End&quot;);\r\n            driver.close();\r\n        }\r\n    \r\n        public static WebElement getWebElement(WebDriver driver, String id) {\r\n            WebElement myDynamicElement = null;\r\n            try {\r\n                myDynamicElement = (new WebDriverWait(driver, 10))\r\n                        .until(ExpectedConditions.presenceOfElementLocated(By\r\n                                .id(id)));\r\n                return myDynamicElement;\r\n            } catch (TimeoutException ex) {\r\n                return null;\r\n            }\r\n        }","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>You can write some logic to handle this. I have write a method that will return the <code>WebElement</code> and this method will be called three times or you can increase the time and add a null check for <code>WebElement</code> Here is an example</p>\n\n<pre><code>public static void main(String[] args) {\n        WebDriver driver = new FirefoxDriver();\n        driver.get(\"https://www.crowdanalytix.com/#home\");\n        WebElement webElement = getWebElement(driver, \"homekkkkkkkkkkkk\");\n        int i = 1;\n        while (webElement == null &amp;&amp; i &lt; 4) {\n            webElement = getWebElement(driver, \"homessssssssssss\");\n            System.out.println(\"calling\");\n            i++;\n        }\n        System.out.println(webElement.getTagName());\n        System.out.println(\"End\");\n        driver.close();\n    }\n\n    public static WebElement getWebElement(WebDriver driver, String id) {\n        WebElement myDynamicElement = null;\n        try {\n            myDynamicElement = (new WebDriverWait(driver, 10))\n                    .until(ExpectedConditions.presenceOfElementLocated(By\n                            .id(id)));\n            return myDynamicElement;\n        } catch (TimeoutException ex) {\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5012619,"reputation":356,"user_id":4028436,"display_name":"Mariusz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445524636,"creation_date":1410381431,"answer_id":25774646,"question_id":10720325,"body_markdown":"Here&#39;s from my own code:&lt;br&gt;\r\nWindow.setTimeout executes only when browser is idle. &lt;br&gt;\r\nSo calling the function recursively (42 times) will take 100ms if there is no activity in the browser and much more if the browser is busy doing something else.&lt;br&gt;\r\n\r\n\r\n    \tExpectedCondition&lt;Boolean&gt; javascriptDone = new ExpectedCondition&lt;Boolean&gt;() {\r\n\t\t\tpublic Boolean apply(WebDriver d) {\r\n\t\t\t\ttry{//window.setTimeout executes only when browser is idle,\r\n\t\t\t\t\t//introduces needed wait time when javascript is running in browser\r\n\t\t\t\t\treturn  ((Boolean) ((JavascriptExecutor) d).executeAsyncScript(\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&quot; var callback =arguments[arguments.length - 1]; &quot; +\r\n\t\t\t\t\t\t\t&quot; var count=42; &quot; +\r\n\t\t\t\t\t\t\t&quot; setTimeout( collect, 0);&quot; +\r\n\t\t\t\t\t\t\t&quot; function collect() { &quot; +\r\n\t\t\t\t\t\t\t\t&quot; if(count--&gt;0) { &quot;+\r\n\t\t\t\t\t\t\t\t\t&quot; setTimeout( collect, 0); &quot; +\r\n\t\t\t\t\t\t\t\t&quot; } &quot;+\r\n\t\t\t\t\t\t\t\t&quot; else {callback(&quot; +\r\n\t\t\t\t\t\t\t\t&quot; \t true&quot; +\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t&quot; );}&quot;+\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&quot; } &quot;\r\n\t\t\t\t\t\t));\r\n\t\t\t\t}catch (Exception e) {\r\n\t\t\t\t\treturn Boolean.FALSE;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tWebDriverWait w = new WebDriverWait(driver,timeOut);  \r\n\t\tw.until(javascriptDone);\r\n\t\tw=null;\r\nAs a bonus the counter can be reset on document.readyState or on jQuery Ajax calls or if any jQuery animations are running (only if your app uses jQuery for ajax calls...) &lt;br&gt;...\r\n\r\n    &quot; function collect() { &quot; +\r\n\t\t\t\t\t\t\t\t&quot; if(!((typeof jQuery === &#39;undefined&#39;) || ((jQuery.active === 0) &amp;&amp; ($(\\&quot;:animated\\&quot;).length === 0))) &amp;&amp; (document.readyState === &#39;complete&#39;)){&quot; +\r\n\t\t\t\t\t\t\t\t&quot; \t count=42;&quot; +\r\n\t\t\t\t\t\t\t\t&quot; \t setTimeout( collect, 0); &quot; +\r\n\t\t\t\t\t\t\t\t&quot; }&quot; +\r\n\t\t\t\t\t\t\t\t&quot; else if(count--&gt;0) { &quot;+\r\n\t\t\t\t\t\t\t\t\t&quot; setTimeout( collect, 0); &quot; +\r\n\t\t\t\t\t\t\t\t&quot; } &quot;+ \r\n...\r\n\r\nEDIT: I notice executeAsyncScript doesn&#39;t work well if a new page loads and the test might stop responding indefinetly, better to use this on instead.\r\n\r\n\tpublic static ExpectedCondition&lt;Boolean&gt; documentNotActive(final int counter){ \r\n\t\treturn new ExpectedCondition&lt;Boolean&gt;() {\r\n\t\t\tboolean resetCount=true;\r\n\t\t\t@Override\r\n\t\t\tpublic Boolean apply(WebDriver d) {\r\n\t\t\t\t\r\n\t\t\t\tif(resetCount){\r\n\t\t\t\t\t((JavascriptExecutor) d).executeScript(\r\n\t\t\t\t\t\t\t&quot;   window.mssCount=&quot;+counter+&quot;;\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\twindow.mssJSDelay=function mssJSDelay(){\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\t\tif((typeof jQuery != &#39;undefined&#39;) &amp;&amp; (jQuery.active !== 0 || $(\\&quot;:animated\\&quot;).length !== 0))\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\t\t\twindow.mssCount=&quot;+counter+&quot;;\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\t\twindow.mssCount--&gt;0 &amp;&amp;\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\t\tsetTimeout(window.mssJSDelay,window.mssCount+1);\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\t}\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\twindow.mssJSDelay();&quot;);\r\n\t\t\t\t\tresetCount=false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tboolean ready=false;\r\n\t\t\t\ttry{\r\n\t\t\t\t\tready=-1==((Long) ((JavascriptExecutor) d).executeScript(\r\n\t\t\t\t\t\t\t&quot;if(typeof window.mssJSDelay!=\\&quot;function\\&quot;){\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\twindow.mssCount=&quot;+counter+&quot;;\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\twindow.mssJSDelay=function mssJSDelay(){\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\t\tif((typeof jQuery != &#39;undefined&#39;) &amp;&amp; (jQuery.active !== 0 || $(\\&quot;:animated\\&quot;).length !== 0))\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\t\t\twindow.mssCount=&quot;+counter+&quot;;\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\t\twindow.mssCount--&gt;0 &amp;&amp;\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\t\tsetTimeout(window.mssJSDelay,window.mssCount+1);\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\t}\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;\twindow.mssJSDelay();\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;}\\r\\n&quot; + \r\n\t\t\t\t\t\t\t&quot;return window.mssCount;&quot;));\r\n\t\t\t\t}\r\n\t\t\t\tcatch (NoSuchWindowException a){\r\n\t\t\t\t\ta.printStackTrace();\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn ready;\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic String toString() {\r\n\t\t\t\treturn String.format(&quot;Timeout waiting for documentNotActive script&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t}","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>Here's from my own code:<br>\nWindow.setTimeout executes only when browser is idle. <br>\nSo calling the function recursively (42 times) will take 100ms if there is no activity in the browser and much more if the browser is busy doing something else.<br></p>\n\n<pre><code>    ExpectedCondition&lt;Boolean&gt; javascriptDone = new ExpectedCondition&lt;Boolean&gt;() {\n        public Boolean apply(WebDriver d) {\n            try{//window.setTimeout executes only when browser is idle,\n                //introduces needed wait time when javascript is running in browser\n                return  ((Boolean) ((JavascriptExecutor) d).executeAsyncScript( \n\n                        \" var callback =arguments[arguments.length - 1]; \" +\n                        \" var count=42; \" +\n                        \" setTimeout( collect, 0);\" +\n                        \" function collect() { \" +\n                            \" if(count--&gt;0) { \"+\n                                \" setTimeout( collect, 0); \" +\n                            \" } \"+\n                            \" else {callback(\" +\n                            \"    true\" +                            \n                            \" );}\"+                             \n                        \" } \"\n                    ));\n            }catch (Exception e) {\n                return Boolean.FALSE;\n            }\n        }\n    };\n    WebDriverWait w = new WebDriverWait(driver,timeOut);  \n    w.until(javascriptDone);\n    w=null;\n</code></pre>\n\n<p>As a bonus the counter can be reset on document.readyState or on jQuery Ajax calls or if any jQuery animations are running (only if your app uses jQuery for ajax calls...) <br>...</p>\n\n<pre><code>\" function collect() { \" +\n                            \" if(!((typeof jQuery === 'undefined') || ((jQuery.active === 0) &amp;&amp; ($(\\\":animated\\\").length === 0))) &amp;&amp; (document.readyState === 'complete')){\" +\n                            \"    count=42;\" +\n                            \"    setTimeout( collect, 0); \" +\n                            \" }\" +\n                            \" else if(count--&gt;0) { \"+\n                                \" setTimeout( collect, 0); \" +\n                            \" } \"+ \n</code></pre>\n\n<p>...</p>\n\n<p>EDIT: I notice executeAsyncScript doesn't work well if a new page loads and the test might stop responding indefinetly, better to use this on instead.</p>\n\n<pre><code>public static ExpectedCondition&lt;Boolean&gt; documentNotActive(final int counter){ \n    return new ExpectedCondition&lt;Boolean&gt;() {\n        boolean resetCount=true;\n        @Override\n        public Boolean apply(WebDriver d) {\n\n            if(resetCount){\n                ((JavascriptExecutor) d).executeScript(\n                        \"   window.mssCount=\"+counter+\";\\r\\n\" + \n                        \"   window.mssJSDelay=function mssJSDelay(){\\r\\n\" + \n                        \"       if((typeof jQuery != 'undefined') &amp;&amp; (jQuery.active !== 0 || $(\\\":animated\\\").length !== 0))\\r\\n\" + \n                        \"           window.mssCount=\"+counter+\";\\r\\n\" + \n                        \"       window.mssCount--&gt;0 &amp;&amp;\\r\\n\" + \n                        \"       setTimeout(window.mssJSDelay,window.mssCount+1);\\r\\n\" + \n                        \"   }\\r\\n\" + \n                        \"   window.mssJSDelay();\");\n                resetCount=false;\n            }\n\n            boolean ready=false;\n            try{\n                ready=-1==((Long) ((JavascriptExecutor) d).executeScript(\n                        \"if(typeof window.mssJSDelay!=\\\"function\\\"){\\r\\n\" + \n                        \"   window.mssCount=\"+counter+\";\\r\\n\" + \n                        \"   window.mssJSDelay=function mssJSDelay(){\\r\\n\" + \n                        \"       if((typeof jQuery != 'undefined') &amp;&amp; (jQuery.active !== 0 || $(\\\":animated\\\").length !== 0))\\r\\n\" + \n                        \"           window.mssCount=\"+counter+\";\\r\\n\" + \n                        \"       window.mssCount--&gt;0 &amp;&amp;\\r\\n\" + \n                        \"       setTimeout(window.mssJSDelay,window.mssCount+1);\\r\\n\" + \n                        \"   }\\r\\n\" + \n                        \"   window.mssJSDelay();\\r\\n\" + \n                        \"}\\r\\n\" + \n                        \"return window.mssCount;\"));\n            }\n            catch (NoSuchWindowException a){\n                a.printStackTrace();\n                return true;\n            }\n            catch (Exception e) {\n                e.printStackTrace();\n                return false;\n            }\n            return ready;\n        }\n        @Override\n        public String toString() {\n            return String.format(\"Timeout waiting for documentNotActive script\");\n        }\n    };\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":2,"creation_date":1447243060,"post_id":30058989,"comment_id":55073542,"body_markdown":"Not sure if this would work in _every_ circumstance, but it works a treat for my use case","body":"Not sure if this would work in <i>every</i> circumstance, but it works a treat for my use case"},{"owner":{"account_id":336088,"reputation":1490,"user_id":663548,"accept_rate":100,"display_name":"Fivos Vilanakis"},"score":1,"creation_date":1516757464,"post_id":30058989,"comment_id":83816955,"body_markdown":"It works for me too but there is a tricky part: Let&#39;s say your page is already loaded. If you interact with an element [e.g. send a .click() or .send some keys to it] and then you want to check when your page is finished processing you need to add a delay: e.g. click(), sleep(0.5 sec), wait until (readyState=&#39;complete&#39; &amp; jQuery.active==0). If you don&#39;t add the sleep, the iQuery will not be active at the test time! (it took me some hours to find out, so I thought to share it)","body":"It works for me too but there is a tricky part: Let&#39;s say your page is already loaded. If you interact with an element [e.g. send a .click() or .send some keys to it] and then you want to check when your page is finished processing you need to add a delay: e.g. click(), sleep(0.5 sec), wait until (readyState=&#39;complete&#39; &amp; jQuery.active==0). If you don&#39;t add the sleep, the iQuery will not be active at the test time! (it took me some hours to find out, so I thought to share it)"},{"owner":{"account_id":5207533,"reputation":570,"user_id":4164961,"display_name":"Rain9333"},"score":0,"creation_date":1544089777,"post_id":30058989,"comment_id":94155536,"body_markdown":"`document.readyState == &#39;complete&#39; &amp;&amp; jQuery.active == 0` works great but is there something like that for React? Since those checks won&#39;t catch still loading react data/component?","body":"<code>document.readyState == &#39;complete&#39; &amp;&amp; jQuery.active == 0</code> works great but is there something like that for React? Since those checks won&#39;t catch still loading react data/component?"}],"tags":[],"owner":{"account_id":1483810,"reputation":3590,"user_id":1392498,"accept_rate":76,"display_name":"LINGS"},"comment_count":3,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1445438752,"creation_date":1430845154,"answer_id":30058989,"question_id":10720325,"body_markdown":"You need to wait for Javascript and jQuery to finish loading.\r\nExecute Javascript to check if `jQuery.active` is `0` and `document.readyState` is `complete`, which means the JS and jQuery load is complete.\r\n\r\n    public boolean waitForJStoLoad() {\r\n\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n\r\n        // wait for jQuery to load\r\n        ExpectedCondition&lt;Boolean&gt; jQueryLoad = new ExpectedCondition&lt;Boolean&gt;() {\r\n          @Override\r\n          public Boolean apply(WebDriver driver) {\r\n            try {\r\n              return ((Long)executeJavaScript(&quot;return jQuery.active&quot;) == 0);\r\n            }\r\n            catch (Exception e) {\r\n              return true;\r\n            }\r\n          }\r\n        };\r\n\r\n        // wait for Javascript to load\r\n        ExpectedCondition&lt;Boolean&gt; jsLoad = new ExpectedCondition&lt;Boolean&gt;() {\r\n          @Override\r\n          public Boolean apply(WebDriver driver) {\r\n            return executeJavaScript(&quot;return document.readyState&quot;)\r\n                .toString().equals(&quot;complete&quot;);\r\n          }\r\n        };\r\n\r\n      return wait.until(jQueryLoad) &amp;&amp; wait.until(jsLoad);\r\n    }","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>You need to wait for Javascript and jQuery to finish loading.\nExecute Javascript to check if <code>jQuery.active</code> is <code>0</code> and <code>document.readyState</code> is <code>complete</code>, which means the JS and jQuery load is complete.</p>\n\n<pre><code>public boolean waitForJStoLoad() {\n\n    WebDriverWait wait = new WebDriverWait(driver, 30);\n\n    // wait for jQuery to load\n    ExpectedCondition&lt;Boolean&gt; jQueryLoad = new ExpectedCondition&lt;Boolean&gt;() {\n      @Override\n      public Boolean apply(WebDriver driver) {\n        try {\n          return ((Long)executeJavaScript(\"return jQuery.active\") == 0);\n        }\n        catch (Exception e) {\n          return true;\n        }\n      }\n    };\n\n    // wait for Javascript to load\n    ExpectedCondition&lt;Boolean&gt; jsLoad = new ExpectedCondition&lt;Boolean&gt;() {\n      @Override\n      public Boolean apply(WebDriver driver) {\n        return executeJavaScript(\"return document.readyState\")\n            .toString().equals(\"complete\");\n      }\n    };\n\n  return wait.until(jQueryLoad) &amp;&amp; wait.until(jsLoad);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1358031,"reputation":1289,"user_id":1296019,"accept_rate":87,"display_name":"cocorossello"},"score":2,"creation_date":1512396852,"post_id":38602758,"comment_id":82228383,"body_markdown":"You should use selenium waits instead of those loops","body":"You should use selenium waits instead of those loops"}],"tags":[],"owner":{"account_id":415313,"reputation":1204,"user_id":790049,"accept_rate":89,"display_name":"user790049"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1469586729,"creation_date":1469586729,"answer_id":38602758,"question_id":10720325,"body_markdown":"The below code works perfectly in my case - my page contains complex java scripts\r\n\r\n    public void checkPageIsReady() {\r\n      \r\n      JavascriptExecutor js = (JavascriptExecutor)driver;\r\n      \r\n      \r\n      //Initially bellow given if condition will check ready state of page.\r\n      if (js.executeScript(&quot;return document.readyState&quot;).toString().equals(&quot;complete&quot;)){ \r\n       System.out.println(&quot;Page Is loaded.&quot;);\r\n       return; \r\n      } \r\n      \r\n      //This loop will rotate for 25 times to check If page Is ready after every 1 second.\r\n      //You can replace your value with 25 If you wants to Increase or decrease wait time.\r\n      for (int i=0; i&lt;25; i++){ \r\n       try {\r\n        Thread.sleep(1000);\r\n        }catch (InterruptedException e) {} \r\n       //To check page ready state.\r\n       if (js.executeScript(&quot;return document.readyState&quot;).toString().equals(&quot;complete&quot;)){ \r\n        break; \r\n       }   \r\n      }\r\n     }\r\n\r\nSource - [How To Wait For Page To Load/Ready In Selenium WebDriver][1]\r\n\r\n\r\n  [1]: http://www.software-testing-tutorials-automation.com/2015/02/how-to-wait-for-page-to-loadready-in.html","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>The below code works perfectly in my case - my page contains complex java scripts</p>\n\n<pre><code>public void checkPageIsReady() {\n\n  JavascriptExecutor js = (JavascriptExecutor)driver;\n\n\n  //Initially bellow given if condition will check ready state of page.\n  if (js.executeScript(\"return document.readyState\").toString().equals(\"complete\")){ \n   System.out.println(\"Page Is loaded.\");\n   return; \n  } \n\n  //This loop will rotate for 25 times to check If page Is ready after every 1 second.\n  //You can replace your value with 25 If you wants to Increase or decrease wait time.\n  for (int i=0; i&lt;25; i++){ \n   try {\n    Thread.sleep(1000);\n    }catch (InterruptedException e) {} \n   //To check page ready state.\n   if (js.executeScript(\"return document.readyState\").toString().equals(\"complete\")){ \n    break; \n   }   \n  }\n }\n</code></pre>\n\n<p>Source - <a href=\"http://www.software-testing-tutorials-automation.com/2015/02/how-to-wait-for-page-to-loadready-in.html\" rel=\"nofollow\">How To Wait For Page To Load/Ready In Selenium WebDriver</a></p>\n"},{"tags":[],"owner":{"account_id":2997756,"reputation":515,"user_id":2543939,"accept_rate":43,"display_name":"Roma Kap"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1482150197,"creation_date":1482150197,"answer_id":41222525,"question_id":10720325,"body_markdown":"I had a same issue. \r\nThis solution works for me from WebDriverDoku:\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\r\n\r\nhttp://www.seleniumhq.org/docs/04_webdriver_advanced.jsp\r\n\r\n","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>I had a same issue. \nThis solution works for me from WebDriverDoku:</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.id(\"someid\")));\n</code></pre>\n\n<p><a href=\"http://www.seleniumhq.org/docs/04_webdriver_advanced.jsp\" rel=\"noreferrer\">http://www.seleniumhq.org/docs/04_webdriver_advanced.jsp</a></p>\n"},{"comments":[{"owner":{"account_id":5156897,"reputation":417,"user_id":4129893,"display_name":"TheFreddyKilo"},"score":2,"creation_date":1493941596,"post_id":43794026,"comment_id":74629445,"body_markdown":"I would like to note here that I logged the time it took to poll a medium size page twice, then compare those strings in java and it took a little over 20ms.","body":"I would like to note here that I logged the time it took to poll a medium size page twice, then compare those strings in java and it took a little over 20ms."},{"owner":{"account_id":30609,"reputation":14301,"user_id":83528,"accept_rate":93,"display_name":"Peter"},"score":2,"creation_date":1501068578,"post_id":43794026,"comment_id":77612848,"body_markdown":"At first I found this to be a dirty solution, but it seems to work great and it doesn&#39;t involve setting variables client side. One caveit might be a page which is constantly being changed by javascript (i.e. a javascript clock) but I don&#39;t have that so it works!","body":"At first I found this to be a dirty solution, but it seems to work great and it doesn&#39;t involve setting variables client side. One caveit might be a page which is constantly being changed by javascript (i.e. a javascript clock) but I don&#39;t have that so it works!"}],"tags":[],"owner":{"account_id":5156897,"reputation":417,"user_id":4129893,"display_name":"TheFreddyKilo"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1493940054,"creation_date":1493938905,"answer_id":43794026,"question_id":10720325,"body_markdown":"If all you need to do is wait for the html on the page to become stable before trying to interact with elements, you can poll the DOM periodically and compare the results, if the DOMs are the same within the given poll time, you&#39;re golden. Something like this where you pass in the maximum wait time and the time between page polls before comparing. Simple and effective.\r\n\r\n    public void waitForJavascript(int maxWaitMillis, int pollDelimiter) {\r\n        double startTime = System.currentTimeMillis();\r\n        while (System.currentTimeMillis() &lt; startTime + maxWaitMillis) {\r\n            String prevState = webDriver.getPageSource();\r\n            Thread.sleep(pollDelimiter); // &lt;-- would need to wrap in a try catch\r\n            if (prevState.equals(webDriver.getPageSource())) {\r\n                return;\r\n            }\r\n        }\r\n    }","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>If all you need to do is wait for the html on the page to become stable before trying to interact with elements, you can poll the DOM periodically and compare the results, if the DOMs are the same within the given poll time, you're golden. Something like this where you pass in the maximum wait time and the time between page polls before comparing. Simple and effective.</p>\n\n<pre><code>public void waitForJavascript(int maxWaitMillis, int pollDelimiter) {\n    double startTime = System.currentTimeMillis();\n    while (System.currentTimeMillis() &lt; startTime + maxWaitMillis) {\n        String prevState = webDriver.getPageSource();\n        Thread.sleep(pollDelimiter); // &lt;-- would need to wrap in a try catch\n        if (prevState.equals(webDriver.getPageSource())) {\n            return;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":344910,"reputation":7321,"user_id":677518,"display_name":"Ardesco"},"score":1,"creation_date":1552487182,"post_id":47309917,"comment_id":97028940,"body_markdown":"Selenium also does this by default, this will just add some additional code execution time to your script (which may be enough time for additional things to load, but then again may not be)","body":"Selenium also does this by default, this will just add some additional code execution time to your script (which may be enough time for additional things to load, but then again may not be)"}],"tags":[],"owner":{"account_id":9169236,"reputation":786,"user_id":6817487,"display_name":"Ankit Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1584444740,"creation_date":1510755893,"answer_id":47309917,"question_id":10720325,"body_markdown":"Two conditions can be used to check if the page is loaded before finding any element on the page:\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 50);\r\n\r\nUsing below readyState will wait till page load\r\n\r\n    wait.until((ExpectedCondition&lt;Boolean&gt;) wd -&gt;\r\n       ((JavascriptExecutor) wd).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\r\n\r\nBelow JQuery will wait till data has not been loaded \r\n\r\n    \r\n      int count =0;\r\n        \t    if((Boolean) executor.executeScript(&quot;return window.jQuery != undefined&quot;)){\r\n        \t        while(!(Boolean) executor.executeScript(&quot;return jQuery.active == 0&quot;)){\r\n        \t            Thread.sleep(4000);\r\n        \t            if(count&gt;4)\r\n        \t            \tbreak;\r\n        \t            count++;\r\n        \t        }\r\n        \t    }\r\n\r\nAfter these JavaScriptCode try to findOut webElement.\r\n\r\n    WebElement we = wait.until(ExpectedConditions.presenceOfElementLocated(by));","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>Two conditions can be used to check if the page is loaded before finding any element on the page:</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 50);\n</code></pre>\n\n<p>Using below readyState will wait till page load</p>\n\n<pre><code>wait.until((ExpectedCondition&lt;Boolean&gt;) wd -&gt;\n   ((JavascriptExecutor) wd).executeScript(\"return document.readyState\").equals(\"complete\"));\n</code></pre>\n\n<p>Below JQuery will wait till data has not been loaded </p>\n\n<pre><code>  int count =0;\n            if((Boolean) executor.executeScript(\"return window.jQuery != undefined\")){\n                while(!(Boolean) executor.executeScript(\"return jQuery.active == 0\")){\n                    Thread.sleep(4000);\n                    if(count&gt;4)\n                        break;\n                    count++;\n                }\n            }\n</code></pre>\n\n<p>After these JavaScriptCode try to findOut webElement.</p>\n\n<pre><code>WebElement we = wait.until(ExpectedConditions.presenceOfElementLocated(by));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1736333,"reputation":7102,"user_id":1588819,"accept_rate":64,"display_name":"Jason Lydon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524195418,"creation_date":1524195418,"answer_id":49933573,"question_id":10720325,"body_markdown":"For the `nodejs` Selenium library, I used the following snippet. In my case, I was looking for two objects that are added to the window, which in this example are `&lt;SOME PROPERTY&gt;`, `10000` is the timeout milliseconds, `&lt;NEXT STEP HERE&gt;` is what happens after the properties are found on the window.\r\n\r\n    driver.wait( driver =&gt; {\r\n    \treturn driver.executeScript( &#39;if(window.hasOwnProperty(&lt;SOME PROPERTY&gt;) &amp;&amp; window.hasOwnProperty(&lt;SOME PROPERTY&gt;)) return true;&#39; ); }, 10000).then( ()=&gt;{\r\n    \t\t&lt;NEXT STEP HERE&gt;\r\n    }).catch(err =&gt; { \r\n    \tconsole.log(&quot;looking for window properties&quot;, err);\r\n    });","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>For the <code>nodejs</code> Selenium library, I used the following snippet. In my case, I was looking for two objects that are added to the window, which in this example are <code>&lt;SOME PROPERTY&gt;</code>, <code>10000</code> is the timeout milliseconds, <code>&lt;NEXT STEP HERE&gt;</code> is what happens after the properties are found on the window.</p>\n\n<pre><code>driver.wait( driver =&gt; {\n    return driver.executeScript( 'if(window.hasOwnProperty(&lt;SOME PROPERTY&gt;) &amp;&amp; window.hasOwnProperty(&lt;SOME PROPERTY&gt;)) return true;' ); }, 10000).then( ()=&gt;{\n        &lt;NEXT STEP HERE&gt;\n}).catch(err =&gt; { \n    console.log(\"looking for window properties\", err);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6817042,"reputation":93,"user_id":5245357,"display_name":"Roger Cook"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525377464,"creation_date":1525377464,"answer_id":50162951,"question_id":10720325,"body_markdown":"I asked my developers to create a JavaScript variable &quot;isProcessing&quot; that I can access (in the &quot;ae&quot; object) that they set when things start running and clear when things are done. I then run it in an accumulator that checks it every 100 ms until it gets five in a row for a total of 500 ms without any changes. If 30 seconds pass, I throw an exception because something should have happened by then. This is in C#.\r\n\r\n    public static void WaitForDocumentReady(this IWebDriver driver)\r\n    {\r\n        Console.WriteLine(&quot;Waiting for five instances of document.readyState returning &#39;complete&#39; at 100ms intervals.&quot;);\r\n        IJavaScriptExecutor jse = (IJavaScriptExecutor)driver;\r\n        int i = 0; // Count of (document.readyState === complete) &amp;&amp; (ae.isProcessing === false)\r\n        int j = 0; // Count of iterations in the while() loop.\r\n        int k = 0; // Count of times i was reset to 0.\r\n        bool readyState = false;\r\n        while (i &lt; 5)\r\n        {\r\n            System.Threading.Thread.Sleep(100);\r\n            readyState = (bool)jse.ExecuteScript(&quot;return ((document.readyState === &#39;complete&#39;) &amp;&amp; (ae.isProcessing === false))&quot;);\r\n            if (readyState) { i++; }\r\n            else\r\n            {\r\n                i = 0;\r\n                k++;\r\n            }\r\n            j++;\r\n            if (j &gt; 300) { throw new TimeoutException(&quot;Timeout waiting for document.readyState to be complete.&quot;); }\r\n        }\r\n        j *= 100;\r\n        Console.WriteLine(&quot;Waited &quot; + j.ToString() + &quot; milliseconds. There were &quot; + k + &quot; resets.&quot;);\r\n    }\r\n","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>I asked my developers to create a JavaScript variable \"isProcessing\" that I can access (in the \"ae\" object) that they set when things start running and clear when things are done. I then run it in an accumulator that checks it every 100 ms until it gets five in a row for a total of 500 ms without any changes. If 30 seconds pass, I throw an exception because something should have happened by then. This is in C#.</p>\n\n<pre><code>public static void WaitForDocumentReady(this IWebDriver driver)\n{\n    Console.WriteLine(\"Waiting for five instances of document.readyState returning 'complete' at 100ms intervals.\");\n    IJavaScriptExecutor jse = (IJavaScriptExecutor)driver;\n    int i = 0; // Count of (document.readyState === complete) &amp;&amp; (ae.isProcessing === false)\n    int j = 0; // Count of iterations in the while() loop.\n    int k = 0; // Count of times i was reset to 0.\n    bool readyState = false;\n    while (i &lt; 5)\n    {\n        System.Threading.Thread.Sleep(100);\n        readyState = (bool)jse.ExecuteScript(\"return ((document.readyState === 'complete') &amp;&amp; (ae.isProcessing === false))\");\n        if (readyState) { i++; }\n        else\n        {\n            i = 0;\n            k++;\n        }\n        j++;\n        if (j &gt; 300) { throw new TimeoutException(\"Timeout waiting for document.readyState to be complete.\"); }\n    }\n    j *= 100;\n    Console.WriteLine(\"Waited \" + j.ToString() + \" milliseconds. There were \" + k + \" resets.\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":344910,"reputation":7321,"user_id":677518,"display_name":"Ardesco"},"score":0,"creation_date":1552487150,"post_id":51201281,"comment_id":97028913,"body_markdown":"Selenium also does this by default, this will just add some additional code execution time to your script (which may be enough time for additional things to load, but then again may not be)","body":"Selenium also does this by default, this will just add some additional code execution time to your script (which may be enough time for additional things to load, but then again may not be)"},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1641478764,"post_id":51201281,"comment_id":124818086,"body_markdown":"`a === b ? true : false` must always be replaced by `a === b`","body":"<code>a === b ? true : false</code> must always be replaced by <code>a === b</code>"}],"tags":[],"owner":{"account_id":7443344,"reputation":59,"user_id":5660409,"display_name":"Victor Trofimciuc"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1530834281,"creation_date":1530834281,"answer_id":51201281,"question_id":10720325,"body_markdown":"Here&#39;s how I do it:\r\n\r\n    new WebDriverWait(driver, 20).until(\r\n           ExpectedConditions.jsReturnsValue(\r\n                       &quot;return document.readyState === &#39;complete&#39; ? true : false&quot;));","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>Here's how I do it:</p>\n\n<pre><code>new WebDriverWait(driver, 20).until(\n       ExpectedConditions.jsReturnsValue(\n                   \"return document.readyState === 'complete' ? true : false\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713785,"reputation":1548,"user_id":2480947,"accept_rate":60,"display_name":"Nic"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1558659545,"creation_date":1558588862,"answer_id":56268488,"question_id":10720325,"body_markdown":"I like your idea of polling the HTML until it&#39;s stable. I may add that to my own solution. The following approach is in C# and requires jQuery.\r\n\r\nI&#39;m the developer for a SuccessFactors (SaaS) test project where we have no influence at all over the developers or the characteristics of the DOM behind the web page. The SaaS product can potentially change its underlying DOM design 4 times a year, so the hunt is permanently on for robust, performant ways to test with Selenium (including NOT testing with Selenium where possi ble!)\r\n\r\nHere&#39;s what I use for &quot;page ready&quot;. It works in all my own tests currently. The same approach also worked for a big in-house Java web app a couple of years ago, and had been robust for over a year at the time I left the project.\r\n\r\n- `Driver` is the WebDriver instance that communicates with the browser\r\n- `DefaultPageLoadTimeout` is a timeout value in ticks (100ns per tick)\r\n\r\n---\r\n\r\n    public IWebDriver Driver { get; private set; }\r\n\r\n    // ...\r\n\r\n    const int GlobalPageLoadTimeOutSecs = 10;\r\n    static readonly TimeSpan DefaultPageLoadTimeout =\r\n        new TimeSpan((long) (10_000_000 * GlobalPageLoadTimeOutSecs));\r\n    Driver = new FirefoxDriver();\r\n\r\nIn what follows, note the order of waits in method `PageReady` (Selenium document ready, Ajax, animations), which makes sense if you think about it:\r\n\r\n1. load the page containing the code\r\n2. use the code to load the data from somewhere via Ajax\r\n3. present the data, possibly with animations\r\n\r\nSomething like your DOM comparison approach could be used between 1 and 2 to add another layer of robustness.\r\n\r\n---\r\n\r\n    public void PageReady()\r\n    {\r\n        DocumentReady();\r\n        AjaxReady();\r\n        AnimationsReady();\r\n    }\r\n\r\n\r\n    private void DocumentReady()\r\n    {\r\n        WaitForJavascript(script: &quot;return document.readyState&quot;, result: &quot;complete&quot;);\r\n    }\r\n\r\n    private void WaitForJavascript(string script, string result)\r\n    {\r\n        new WebDriverWait(Driver, DefaultPageLoadTimeout).Until(\r\n            d =&gt; ((IJavaScriptExecutor) d).ExecuteScript(script).Equals(result));\r\n    }\r\n \r\n    private void AjaxReady()\r\n    {\r\n        WaitForJavascript(script: &quot;return jQuery.active.toString()&quot;, result: &quot;0&quot;);\r\n    }\r\n\r\n    private void AnimationsReady()\r\n    {\r\n        WaitForJavascript(script: &quot;return $(\\&quot;animated\\&quot;).length.toString()&quot;, result: &quot;0&quot;);\r\n    }\r\n  ","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>I like your idea of polling the HTML until it's stable. I may add that to my own solution. The following approach is in C# and requires jQuery.</p>\n\n<p>I'm the developer for a SuccessFactors (SaaS) test project where we have no influence at all over the developers or the characteristics of the DOM behind the web page. The SaaS product can potentially change its underlying DOM design 4 times a year, so the hunt is permanently on for robust, performant ways to test with Selenium (including NOT testing with Selenium where possi ble!)</p>\n\n<p>Here's what I use for \"page ready\". It works in all my own tests currently. The same approach also worked for a big in-house Java web app a couple of years ago, and had been robust for over a year at the time I left the project.</p>\n\n<ul>\n<li><code>Driver</code> is the WebDriver instance that communicates with the browser</li>\n<li><code>DefaultPageLoadTimeout</code> is a timeout value in ticks (100ns per tick)</li>\n</ul>\n\n<hr>\n\n<pre><code>public IWebDriver Driver { get; private set; }\n\n// ...\n\nconst int GlobalPageLoadTimeOutSecs = 10;\nstatic readonly TimeSpan DefaultPageLoadTimeout =\n    new TimeSpan((long) (10_000_000 * GlobalPageLoadTimeOutSecs));\nDriver = new FirefoxDriver();\n</code></pre>\n\n<p>In what follows, note the order of waits in method <code>PageReady</code> (Selenium document ready, Ajax, animations), which makes sense if you think about it:</p>\n\n<ol>\n<li>load the page containing the code</li>\n<li>use the code to load the data from somewhere via Ajax</li>\n<li>present the data, possibly with animations</li>\n</ol>\n\n<p>Something like your DOM comparison approach could be used between 1 and 2 to add another layer of robustness.</p>\n\n<hr>\n\n<pre><code>public void PageReady()\n{\n    DocumentReady();\n    AjaxReady();\n    AnimationsReady();\n}\n\n\nprivate void DocumentReady()\n{\n    WaitForJavascript(script: \"return document.readyState\", result: \"complete\");\n}\n\nprivate void WaitForJavascript(string script, string result)\n{\n    new WebDriverWait(Driver, DefaultPageLoadTimeout).Until(\n        d =&gt; ((IJavaScriptExecutor) d).ExecuteScript(script).Equals(result));\n}\n\nprivate void AjaxReady()\n{\n    WaitForJavascript(script: \"return jQuery.active.toString()\", result: \"0\");\n}\n\nprivate void AnimationsReady()\n{\n    WaitForJavascript(script: \"return $(\\\"animated\\\").length.toString()\", result: \"0\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":139912,"reputation":614,"user_id":345833,"display_name":"Nolm&#235; Informatique"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573161622,"creation_date":1573161622,"answer_id":58757063,"question_id":10720325,"body_markdown":"Don&#39;t know how to do that but in my case, end of page load &amp; rendering match with FAVICON displayed in Firefox tab.\r\n\r\nSo if we can get the favicon image in the webbrowser, the web page is fully loaded.\r\n\r\nBut how perform this ....","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>Don't know how to do that but in my case, end of page load &amp; rendering match with FAVICON displayed in Firefox tab.</p>\n\n<p>So if we can get the favicon image in the webbrowser, the web page is fully loaded.</p>\n\n<p>But how perform this ....</p>\n"},{"tags":[],"owner":{"account_id":7389905,"reputation":1,"user_id":5623653,"display_name":"Chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583109457,"creation_date":1583109457,"answer_id":60481150,"question_id":10720325,"body_markdown":"Using implicit wait works for me.\r\n\r\n```\r\ndriver.Manage().Timeouts().ImplicitWait = TimeSpan.FromSeconds(10);\r\n```\r\n\r\nRefer to this answer https://stackoverflow.com/questions/6992993/selenium-c-sharp-webdriver-wait-until-element-is-present","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>Using implicit wait works for me.</p>\n\n<pre><code>driver.Manage().Timeouts().ImplicitWait = TimeSpan.FromSeconds(10);\n</code></pre>\n\n<p>Refer to this answer <a href=\"https://stackoverflow.com/questions/6992993/selenium-c-sharp-webdriver-wait-until-element-is-present\">Selenium c# Webdriver: Wait Until Element is Present</a></p>\n"},{"tags":[],"owner":{"account_id":3631371,"reputation":31,"user_id":3027418,"display_name":"Prajwal Shashi Dharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614612032,"creation_date":1614611281,"answer_id":66424568,"question_id":10720325,"body_markdown":"This works for me well with dynamically rendered websites:\r\n\r\n1. Wait for complete page to load \r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\nWebDriverWait wait = new WebDriverWait(driver, 50); \r\nwait.until((ExpectedCondition&lt;Boolean&gt;) wd -&gt; ((JavascriptExecutor) wd).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n2. Make another implicit wait with a dummy condition which would always fail\r\n\r\n    \r\n \r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      try {          \r\n     wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[contains(text(),&#39;&quot; + &quot;This text will always fail :)&quot; + &quot;&#39;)]&quot;))); // condition you are certain won&#39;t be true \r\n      } \r\n      catch (TimeoutException te) {\r\n      }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\t\t\r\n\r\n3. Finally, instead of getting the html source - which would in most of one page applications would give you a different result , pull the outerhtml of the first html tag\r\n\r\n   \r\n\r\n   \r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    String script = &quot;return document.getElementsByTagName(\\&quot;html\\&quot;)[0].outerHTML;&quot;; \r\n    content = ((JavascriptExecutor) driver).executeScript(script).toString();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    \r\n\t\t\t\t\r\n","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>This works for me well with dynamically rendered websites:</p>\n<ol>\n<li>Wait for complete page to load</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>WebDriverWait wait = new WebDriverWait(driver, 50); \nwait.until((ExpectedCondition&lt;Boolean&gt;) wd -&gt; ((JavascriptExecutor) wd).executeScript(\"return document.readyState\").equals(\"complete\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"2\">\n<li>Make another implicit wait with a dummy condition which would always fail</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  try {          \n wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//*[contains(text(),'\" + \"This text will always fail :)\" + \"')]\"))); // condition you are certain won't be true \n  } \n  catch (TimeoutException te) {\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"3\">\n<li>Finally, instead of getting the html source - which would in most of one page applications would give you a different result , pull the outerhtml of the first html tag</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>String script = \"return document.getElementsByTagName(\\\"html\\\")[0].outerHTML;\"; \ncontent = ((JavascriptExecutor) driver).executeScript(script).toString();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":17624121,"reputation":331,"user_id":13679909,"display_name":"Rohit Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665565161,"creation_date":1665565161,"answer_id":74039145,"question_id":10720325,"body_markdown":"In case of a complex/heavy webpage, it is always advisable to check for **javascript** and **jQuery** completion before performing any selenium test operations. \r\n\r\nWhen you test for jQuery completion do not forget to add a check for jQuery being undefined else you will end up with **`ReferenceError: jQuery is not defined` error**. \r\n\r\nSo you need to add below 2 checks:\r\n\r\n1. **Javascript check**:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    return ((JavascriptExecutor) wd).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n2. **jQuery check** :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    (Boolean)((JavascriptExecutor) wd).executeScript(&quot;return window.jQuery != undefined &amp;&amp; jQuery.active == 0&quot;)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNow when you write method then I would suggest to use **Fluent Wait** in your **selenium code** rather than implicit or explicit wait. Fluent wait method will help you do operation in between the polling interval wait unlike other waits and is very useful or rather powerful.\r\n\r\n***Below is the working method which you can directly use :***\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public static void pageJavaScriptAndJqueryLoad(WebDriver driver, Duration waitTimeout) {\r\n            Wait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\r\n                    .withTimeout(waitTimeout)\r\n                    .pollingEvery(Duration.ofMillis(500))\r\n                    .ignoring(NoSuchElementException.class);\r\n            wait.until((ExpectedCondition&lt;Boolean&gt;) wd -&gt; {\r\n                log.info(&quot;Waiting for Page Javascript to load completely&quot;);\r\n                log.info(&quot;document.readyState value is : &quot; + ((JavascriptExecutor) wd).executeScript(&quot;return document.readyState&quot;));\r\n                log.info(&quot;jQuery.active value is : &quot; + ((JavascriptExecutor) wd).executeScript(&quot;return window.jQuery != undefined &amp;&amp; jQuery.active&quot;));\r\n                return ((JavascriptExecutor) wd).executeScript(&quot;return document.readyState&quot;).equals(&quot;complete&quot;) &amp;&amp;\r\n                       (Boolean)((JavascriptExecutor) wd).executeScript(&quot;return window.jQuery != undefined &amp;&amp; jQuery.active == 0&quot;);\r\n            });\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIn the above method :\r\n\r\n 1. You need to pass your driver and waitTimeout duration as argument to this method. For ex: **pageJavaScriptAndJqueryLoad(driver, Duration.ofSeconds(120))**;\r\n 2. I have defined polling interval as 500 ms. You can modify as per your need.\r\n 3. Every time a poll is done it prints the 3 statement given under log.info. \r\n 4. Using this you can easily add code to determine the exact time your page was rendered completely before doing test operations.\r\n\r\n","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>In case of a complex/heavy webpage, it is always advisable to check for <strong>javascript</strong> and <strong>jQuery</strong> completion before performing any selenium test operations.</p>\n<p>When you test for jQuery completion do not forget to add a check for jQuery being undefined else you will end up with <strong><code>ReferenceError: jQuery is not defined</code> error</strong>.</p>\n<p>So you need to add below 2 checks:</p>\n<ol>\n<li><strong>Javascript check</strong>:</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>return ((JavascriptExecutor) wd).executeScript(\"return document.readyState\").equals(\"complete\")</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"2\">\n<li><strong>jQuery check</strong> :</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(Boolean)((JavascriptExecutor) wd).executeScript(\"return window.jQuery != undefined &amp;&amp; jQuery.active == 0\")</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Now when you write method then I would suggest to use <strong>Fluent Wait</strong> in your <strong>selenium code</strong> rather than implicit or explicit wait. Fluent wait method will help you do operation in between the polling interval wait unlike other waits and is very useful or rather powerful.</p>\n<p><em><strong>Below is the working method which you can directly use :</strong></em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public static void pageJavaScriptAndJqueryLoad(WebDriver driver, Duration waitTimeout) {\n        Wait&lt;WebDriver&gt; wait = new FluentWait&lt;&gt;(driver)\n                .withTimeout(waitTimeout)\n                .pollingEvery(Duration.ofMillis(500))\n                .ignoring(NoSuchElementException.class);\n        wait.until((ExpectedCondition&lt;Boolean&gt;) wd -&gt; {\n            log.info(\"Waiting for Page Javascript to load completely\");\n            log.info(\"document.readyState value is : \" + ((JavascriptExecutor) wd).executeScript(\"return document.readyState\"));\n            log.info(\"jQuery.active value is : \" + ((JavascriptExecutor) wd).executeScript(\"return window.jQuery != undefined &amp;&amp; jQuery.active\"));\n            return ((JavascriptExecutor) wd).executeScript(\"return document.readyState\").equals(\"complete\") &amp;&amp;\n                   (Boolean)((JavascriptExecutor) wd).executeScript(\"return window.jQuery != undefined &amp;&amp; jQuery.active == 0\");\n        });\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>In the above method :</p>\n<ol>\n<li>You need to pass your driver and waitTimeout duration as argument to this method. For ex: <strong>pageJavaScriptAndJqueryLoad(driver, Duration.ofSeconds(120))</strong>;</li>\n<li>I have defined polling interval as 500 ms. You can modify as per your need.</li>\n<li>Every time a poll is done it prints the 3 statement given under log.info.</li>\n<li>Using this you can easily add code to determine the exact time your page was rendered completely before doing test operations.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":202048,"reputation":172,"user_id":448862,"display_name":"QuentinJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674512141,"creation_date":1674512141,"answer_id":75215611,"question_id":10720325,"body_markdown":"Here is a python version for those that need it\r\n\r\n```\r\nfrom selenium.webdriver.common.by import By\r\nfrom selenium.webdriver.support.ui import WebDriverWait\r\nfrom selenium.webdriver.support import expected_conditions as EC\r\n\r\ndef wait_for_js_to_load(driver):\r\n    wait = WebDriverWait(driver, 30)\r\n\r\n    # Wait for jQuery to load\r\n    jQuery_load = EC.presence_of_element_located((By.XPATH, &quot;//script[contains(@src,&#39;jquery&#39;)]&quot;))\r\n    wait.until(jQuery_load)\r\n\r\n    # Wait for Javascript to load\r\n    js_load = EC.presence_of_element_located((By.XPATH, &quot;//script[contains(@src,&#39;javascript&#39;)]&quot;))\r\n    wait.until(js_load)\r\n```\r\n","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>Here is a python version for those that need it</p>\n<pre><code>from selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\ndef wait_for_js_to_load(driver):\n    wait = WebDriverWait(driver, 30)\n\n    # Wait for jQuery to load\n    jQuery_load = EC.presence_of_element_located((By.XPATH, &quot;//script[contains(@src,'jquery')]&quot;))\n    wait.until(jQuery_load)\n\n    # Wait for Javascript to load\n    js_load = EC.presence_of_element_located((By.XPATH, &quot;//script[contains(@src,'javascript')]&quot;))\n    wait.until(js_load)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26454960,"reputation":3,"user_id":20097648,"display_name":"PomyloneKodowanie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677188363,"creation_date":1677188363,"answer_id":75550586,"question_id":10720325,"body_markdown":"This i think will work for me\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    await driver.manage().setTimeouts( { implicit: 20000 } );\r\n\r\n&lt;!-- end snippet --&gt;","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>This i think will work for me</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>await driver.manage().setTimeouts( { implicit: 20000 } );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":29807889,"reputation":1,"user_id":22844006,"display_name":"Gulzhas Mailybayeva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698995109,"creation_date":1698995109,"answer_id":77414738,"question_id":10720325,"body_markdown":"here is what I use along with implicit wait     ```driver().manage().timeouts().implicitlyWait(Duration.ofSeconds(20));```\r\n```   public void waitForPageLoading() {\r\n        JavascriptExecutor js = (JavascriptExecutor) driver();\r\n        await().atMost(20, TimeUnit.SECONDS)\r\n                .pollInterval(1, TimeUnit.SECONDS)\r\n                .until(() -&gt; (Boolean) js.executeScript(&quot;return document.readyState.includes(&#39;complete&#39;)&quot;));\r\n    }\r\n```","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>here is what I use along with implicit wait     <code>driver().manage().timeouts().implicitlyWait(Duration.ofSeconds(20));</code></p>\n<pre><code>        JavascriptExecutor js = (JavascriptExecutor) driver();\n        await().atMost(20, TimeUnit.SECONDS)\n                .pollInterval(1, TimeUnit.SECONDS)\n                .until(() -&gt; (Boolean) js.executeScript(&quot;return document.readyState.includes('complete')&quot;));\n    }\n</code></pre>\n"}],"owner":{"account_id":373248,"reputation":2312,"user_id":722773,"accept_rate":100,"display_name":"psadac"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230207,"favorite_count":0,"down_vote_count":0,"up_vote_count":125,"accepted_answer_id":10726369,"answer_count":22,"score":125,"last_activity_date":1698995109,"creation_date":1337777553,"question_id":10720325,"body_markdown":"I have a web application to test with Selenium. There is a lot of JavaScript running on page load.  \r\nThis JavaScript code is not so well written but I can&#39;t change anything.\r\nSo waiting for an element to appear in the DOM with `findElement()` method is not an option.   \r\nI want to create a generic function in Java to wait for a page to load, a possible solution would be:  \r\n\r\n - run a JavaScript script form WebDriver and store the result of `document.body.innerHTML` in a string variable `body`.\r\n - compare the `body` variable to the previous version of `body`. if they are the same then set increment a counter `notChangedCount` otherwise set `notChangedCount` to zero.\r\n - wait for a litte time (50 ms for example).\r\n - if the page has not changed for some time (500 ms for example) so `notChangedCount &gt;= 10` then exit the loop otherwise loop to the first step.\r\n  \r\n\r\nDo you think it&#39;s a valid solution?\r\n","title":"Selenium WebDriver: Wait for complex page with JavaScript to load","body":"<p>I have a web application to test with Selenium. There is a lot of JavaScript running on page load.<br>\nThis JavaScript code is not so well written but I can't change anything.\nSo waiting for an element to appear in the DOM with <code>findElement()</code> method is not an option.<br>\nI want to create a generic function in Java to wait for a page to load, a possible solution would be:  </p>\n\n<ul>\n<li>run a JavaScript script form WebDriver and store the result of <code>document.body.innerHTML</code> in a string variable <code>body</code>.</li>\n<li>compare the <code>body</code> variable to the previous version of <code>body</code>. if they are the same then set increment a counter <code>notChangedCount</code> otherwise set <code>notChangedCount</code> to zero.</li>\n<li>wait for a litte time (50 ms for example).</li>\n<li>if the page has not changed for some time (500 ms for example) so <code>notChangedCount &gt;= 10</code> then exit the loop otherwise loop to the first step.</li>\n</ul>\n\n<p>Do you think it's a valid solution?</p>\n"},{"tags":["java","postgresql","plpgsql","liquibase"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1495469229,"post_id":35734806,"comment_id":75254178,"body_markdown":"Possible duplicate of [ERROR: unterminated quoted string at or near](https://stackoverflow.com/questions/3499483/error-unterminated-quoted-string-at-or-near)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3499483/error-unterminated-quoted-string-at-or-near\">ERROR: unterminated quoted string at or near</a>"}],"answers":[{"comments":[{"owner":{"account_id":455475,"reputation":1442,"user_id":5691656,"display_name":"Andrey Sarul"},"score":1,"creation_date":1523872870,"post_id":35907660,"comment_id":86723493,"body_markdown":"In case you don&#39;t want to define an absolute path to your sql script file, you can use attribute: `relativeToChangelogFile=&quot;true&quot;`","body":"In case you don&#39;t want to define an absolute path to your sql script file, you can use attribute: <code>relativeToChangelogFile=&quot;true&quot;</code>"},{"owner":{"account_id":376356,"reputation":13776,"user_id":727768,"accept_rate":91,"display_name":"X.Y."},"score":4,"creation_date":1638839107,"post_id":35907660,"comment_id":124189556,"body_markdown":"So the key point is having splitStatements=&quot;false&quot;, why do I even need to split statements. False should be default.","body":"So the key point is having splitStatements=&quot;false&quot;, why do I even need to split statements. False should be default."},{"owner":{"account_id":6646617,"reputation":53,"user_id":5130496,"display_name":"Shender Ramos"},"score":0,"creation_date":1677105030,"post_id":35907660,"comment_id":133274509,"body_markdown":"&quot;splitStatements&quot;: false in Liquibase&#39;s changelog can help avoid issues with unterminated dollar quotes or other syntax errors in SQL statements, by allowing Liquibase to read the entire statement as a single unit instead of splitting it into separate statements based on semicolons. This can be particularly useful for complex SQL statements or stored procedures that use advanced features like dollar-quoted strings or nested statements.","body":"&quot;splitStatements&quot;: false in Liquibase&#39;s changelog can help avoid issues with unterminated dollar quotes or other syntax errors in SQL statements, by allowing Liquibase to read the entire statement as a single unit instead of splitting it into separate statements based on semicolons. This can be particularly useful for complex SQL statements or stored procedures that use advanced features like dollar-quoted strings or nested statements."}],"tags":[],"owner":{"account_id":2006864,"reputation":728,"user_id":1796503,"accept_rate":62,"display_name":"Shaohua Huang"},"comment_count":3,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1457584441,"creation_date":1457584441,"answer_id":35907660,"question_id":35734806,"body_markdown":"I just encountered the same issue days ago. \r\n\r\nIt does not work if we add the changeset into changelog.xml file using the format below:  \r\n`&lt;include file=&quot;path/to/sqlfile&quot; /&gt;`\r\n\r\nTo work around, I use another format: \r\n\r\n    &lt;changeSet author=&quot;authour_name&quot; id=&quot;your_id&quot;&gt;\r\n        &lt;sqlFile path=&quot;path/to/sqlfile&quot; splitStatements=&quot;false&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nHere is the link which gives a brief explanation to [Problem with dollar-quoted-in-postgresql][1]. \r\n\r\n\r\n  [1]: http://www.postgresql.org/message-id/Pine.BSO.4.56.0409141340180.27@leary.csoft.net","title":"Liquibase error [Postgresql]: unterminated dollar-quoted string at or near &quot;$BODY$","body":"<p>I just encountered the same issue days ago. </p>\n\n<p>It does not work if we add the changeset into changelog.xml file using the format below:<br>\n<code>&lt;include file=\"path/to/sqlfile\" /&gt;</code></p>\n\n<p>To work around, I use another format: </p>\n\n<pre><code>&lt;changeSet author=\"authour_name\" id=\"your_id\"&gt;\n    &lt;sqlFile path=\"path/to/sqlfile\" splitStatements=\"false\"/&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>Here is the link which gives a brief explanation to <a href=\"http://www.postgresql.org/message-id/Pine.BSO.4.56.0409141340180.27@leary.csoft.net\" rel=\"noreferrer\">Problem with dollar-quoted-in-postgresql</a>. </p>\n"},{"comments":[{"owner":{"account_id":2497454,"reputation":4494,"user_id":2173516,"accept_rate":94,"display_name":"Noel Widmer"},"score":4,"creation_date":1509977508,"post_id":47138555,"comment_id":81227034,"body_markdown":"Can explain why your solution works in order raise the value of your contribution?","body":"Can explain why your solution works in order raise the value of your contribution?"}],"tags":[],"owner":{"account_id":12183977,"reputation":181,"user_id":8894558,"display_name":"Jiri"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1560573274,"creation_date":1509976468,"answer_id":47138555,"question_id":35734806,"body_markdown":"Use [`&lt;createProcedure&gt;`](http://www.liquibase.org/documentation/changes/create_procedure.html) tag instead of `&lt;sql&gt;` in your `&lt;changeSet&gt;` definition","title":"Liquibase error [Postgresql]: unterminated dollar-quoted string at or near &quot;$BODY$","body":"<p>Use <a href=\"http://www.liquibase.org/documentation/changes/create_procedure.html\" rel=\"noreferrer\"><code>&lt;createProcedure&gt;</code></a> tag instead of <code>&lt;sql&gt;</code> in your <code>&lt;changeSet&gt;</code> definition</p>\n"},{"tags":[],"owner":{"account_id":7908806,"reputation":3,"user_id":8258632,"display_name":"Milton Isaya"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1625102744,"creation_date":1597055220,"answer_id":63338398,"question_id":35734806,"body_markdown":"I had the same error. Replacing the `$function$` and `$body$` with `$$` solved the problem.","title":"Liquibase error [Postgresql]: unterminated dollar-quoted string at or near &quot;$BODY$","body":"<p>I had the same error. Replacing the <code>$function$</code> and <code>$body$</code> with <code>$$</code> solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":18316444,"reputation":1,"user_id":13338141,"display_name":"Sudhagar i"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617877214,"creation_date":1617877214,"answer_id":67001975,"question_id":35734806,"body_markdown":"If your are using SQL Changelog file then you can replace $ Sign with Single Quote and Single Quote with double Single Quote &#39;&#39;","title":"Liquibase error [Postgresql]: unterminated dollar-quoted string at or near &quot;$BODY$","body":"<p>If your are using SQL Changelog file then you can replace $ Sign with Single Quote and Single Quote with double Single Quote ''</p>\n"},{"comments":[{"owner":{"account_id":27083,"reputation":1400,"user_id":71066,"accept_rate":90,"display_name":"James"},"score":4,"creation_date":1624049876,"post_id":67161037,"comment_id":120261060,"body_markdown":"This is the correct answer. See https://forum.liquibase.org/t/unterminated-dollar-quote-started/4553/3","body":"This is the correct answer. See <a href=\"https://forum.liquibase.org/t/unterminated-dollar-quote-started/4553/3\" rel=\"nofollow noreferrer\">forum.liquibase.org/t/unterminated-dollar-quote-started/4553&zwnj;&#8203;/3</a>"},{"owner":{"account_id":326795,"reputation":104,"user_id":648764,"display_name":"danbtl"},"score":0,"creation_date":1637270483,"post_id":67161037,"comment_id":123788759,"body_markdown":"What is the reason why this works?","body":"What is the reason why this works?"},{"owner":{"account_id":1173360,"reputation":3295,"user_id":1149982,"accept_rate":95,"display_name":"cool"},"score":0,"creation_date":1637329505,"post_id":67161037,"comment_id":123804069,"body_markdown":"@danbtl It seems its related with dollar-quoting when we are talking about postgresql. For some kind of reason using $$/$BODY$ does not work properly with liquibase (im not sure are they preprocessing anything before feeding sql into the database)","body":"@danbtl It seems its related with dollar-quoting when we are talking about postgresql. For some kind of reason using $$/$BODY$ does not work properly with liquibase (im not sure are they preprocessing anything before feeding sql into the database)"},{"owner":{"account_id":4667393,"reputation":1915,"user_id":3780130,"display_name":"Markus"},"score":1,"creation_date":1676543412,"post_id":67161037,"comment_id":133159666,"body_markdown":"Thanks for that solution works fine! One word of caution if you just do search &amp; replace ```LANGUAGE &#39;plpgsql&#39;``` can also have single quotes and e.g. ```DEFAULT &#39;&#39;::character``` in the header. so the `3.` above only applies to the PLPGSQL/SQL block between the BEGIN &amp; END ;)","body":"Thanks for that solution works fine! One word of caution if you just do search &amp; replace <code>LANGUAGE &#39;plpgsql&#39;</code> can also have single quotes and e.g. <code>DEFAULT &#39;&#39;::character</code> in the header. so the <code>3.</code> above only applies to the PLPGSQL/SQL block between the BEGIN &amp; END ;)"}],"tags":[],"owner":{"account_id":1173360,"reputation":3295,"user_id":1149982,"accept_rate":95,"display_name":"cool"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1625131461,"creation_date":1618831322,"answer_id":67161037,"question_id":35734806,"body_markdown":"The solution below is from [official Liquibase forum][1]. \r\n\r\nIf you want to use SQL changelog fully, this solution works fine (tested and confirmed):\r\n\r\n**If you are using SQL Changelog file then you can replace `$` Sign with Single Quote and Single Quote with double Single Quote `&#39;&#39;`**\r\n\r\nSo to elaborate:\r\n\r\n 1. `$` will be `&#39;`\r\n 2. `$BODY$` will be `&#39;`\r\n 3. `&#39;` will be `&#39;&#39;`\r\n\r\nExample: \r\n\r\n    CREATE OR REPLACE FUNCTION public.testingfunctions()\r\n    RETURNS TABLE(&quot;DistributorCode&quot; character varying)\r\n    LANGUAGE plpgsql\r\n    AS &#39;\r\n    begin\r\n        RETURN QUERY\r\n        select * from testtable;\r\n        \r\n        -- .\r\n        -- .\r\n        -- . somewhere in the function\r\n        RAISE NOTICE &#39;&#39;OPEN deleted customer_avatar&#39;&#39;;\r\n    END;&#39;\r\n\r\n\r\n  [1]: https://forum.liquibase.org/t/unterminated-dollar-quote-started/4553/3","title":"Liquibase error [Postgresql]: unterminated dollar-quoted string at or near &quot;$BODY$","body":"<p>The solution below is from <a href=\"https://forum.liquibase.org/t/unterminated-dollar-quote-started/4553/3\" rel=\"noreferrer\">official Liquibase forum</a>.</p>\n<p>If you want to use SQL changelog fully, this solution works fine (tested and confirmed):</p>\n<p><strong>If you are using SQL Changelog file then you can replace <code>$</code> Sign with Single Quote and Single Quote with double Single Quote <code>''</code></strong></p>\n<p>So to elaborate:</p>\n<ol>\n<li><code>$</code> will be <code>'</code></li>\n<li><code>$BODY$</code> will be <code>'</code></li>\n<li><code>'</code> will be <code>''</code></li>\n</ol>\n<p>Example:</p>\n<pre><code>CREATE OR REPLACE FUNCTION public.testingfunctions()\nRETURNS TABLE(&quot;DistributorCode&quot; character varying)\nLANGUAGE plpgsql\nAS '\nbegin\n    RETURN QUERY\n    select * from testtable;\n    \n    -- .\n    -- .\n    -- . somewhere in the function\n    RAISE NOTICE ''OPEN deleted customer_avatar'';\nEND;'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29583,"reputation":7140,"user_id":80075,"accept_rate":100,"display_name":"Tony BenBrahim"},"score":0,"creation_date":1698722376,"post_id":72526042,"comment_id":136438320,"body_markdown":"This works for the change but not for the rollback.","body":"This works for the change but not for the rollback."}],"tags":[],"owner":{"account_id":13196168,"reputation":141,"user_id":9530905,"display_name":"Mister1Burger"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1654577368,"creation_date":1654577231,"answer_id":72526042,"question_id":35734806,"body_markdown":"Add `splitStatements:false` to changeset\r\n\r\n   \r\nLike this `--changeset splitStatements:false`\r\n","title":"Liquibase error [Postgresql]: unterminated dollar-quoted string at or near &quot;$BODY$","body":"<p>Add <code>splitStatements:false</code> to changeset</p>\n<p>Like this <code>--changeset splitStatements:false</code></p>\n"},{"tags":[],"owner":{"account_id":11155169,"reputation":1157,"user_id":8187149,"display_name":"Yuvaraj G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664969698,"creation_date":1664969698,"answer_id":73959771,"question_id":35734806,"body_markdown":"I&#39;ve encountered similar error while using [sql-maven-plugin][1]. Adding below attributes fixed the issue\r\n\r\n    &lt;execution&gt;\r\n    \t...\r\n    \t&lt;configuration&gt;\r\n    \t\t...\r\n    \t\t&lt;delimiter&gt;/&lt;/delimiter&gt;\r\n    \t\t&lt;delimiterType&gt;normal&lt;/delimiterType&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n\r\n\r\n  [1]: https://www.mojohaus.org/sql-maven-plugin/dependency-info.html","title":"Liquibase error [Postgresql]: unterminated dollar-quoted string at or near &quot;$BODY$","body":"<p>I've encountered similar error while using <a href=\"https://www.mojohaus.org/sql-maven-plugin/dependency-info.html\" rel=\"nofollow noreferrer\">sql-maven-plugin</a>. Adding below attributes fixed the issue</p>\n<pre><code>&lt;execution&gt;\n    ...\n    &lt;configuration&gt;\n        ...\n        &lt;delimiter&gt;/&lt;/delimiter&gt;\n        &lt;delimiterType&gt;normal&lt;/delimiterType&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5309239,"reputation":1241,"user_id":4236151,"display_name":"Yacine MEDDAH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687355308,"creation_date":1687355308,"answer_id":76524018,"question_id":35734806,"body_markdown":"You can set splitStatements attribute to false to avoid this error\r\n```\r\n&lt;changeSet author=&quot;authour_name&quot; id=&quot;your_id&quot;&gt;\r\n    &lt;sql splitStatements=&quot;false&quot;&gt;\r\n    ...\r\n    &lt;/sql&gt;\r\n&lt;/changeSet&gt;\r\n```","title":"Liquibase error [Postgresql]: unterminated dollar-quoted string at or near &quot;$BODY$","body":"<p>You can set splitStatements attribute to false to avoid this error</p>\n<pre><code>&lt;changeSet author=&quot;authour_name&quot; id=&quot;your_id&quot;&gt;\n    &lt;sql splitStatements=&quot;false&quot;&gt;\n    ...\n    &lt;/sql&gt;\n&lt;/changeSet&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7974175,"reputation":21,"user_id":6017862,"display_name":"volkov_kv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696876136,"creation_date":1696876136,"answer_id":77261063,"question_id":35734806,"body_markdown":"You should understand why this happened. The typical anonynous plsql-block contains many semicolons. Each semicolon by default is recognized by liquibase as a delimiter of a different SQL-statement in one transaction. \r\n\r\nSo, the database received 1-st query:\r\n\r\n    CREATE OR REPLACE FUNCTION my_schema.function-name()\r\n      RETURNS smallint AS\r\n      $BODY$\r\n      DECLARE\r\n        v_next_gen_id smallint := 0\r\n\r\nThis statement has no closing $BODY$ token. And we have an exception from DB.\r\n\r\nThe right way is setup changeset do not split statement by any delimiter. Just set **splitStatements** flag in chageset declaration. For example:\r\n\r\n    --liquibase formatted sql\r\n    --changeset Author-BB:20231101-001 failOnError:true splitStatements:false","title":"Liquibase error [Postgresql]: unterminated dollar-quoted string at or near &quot;$BODY$","body":"<p>You should understand why this happened. The typical anonynous plsql-block contains many semicolons. Each semicolon by default is recognized by liquibase as a delimiter of a different SQL-statement in one transaction.</p>\n<p>So, the database received 1-st query:</p>\n<pre><code>CREATE OR REPLACE FUNCTION my_schema.function-name()\n  RETURNS smallint AS\n  $BODY$\n  DECLARE\n    v_next_gen_id smallint := 0\n</code></pre>\n<p>This statement has no closing $BODY$ token. And we have an exception from DB.</p>\n<p>The right way is setup changeset do not split statement by any delimiter. Just set <strong>splitStatements</strong> flag in chageset declaration. For example:</p>\n<pre><code>--liquibase formatted sql\n--changeset Author-BB:20231101-001 failOnError:true splitStatements:false\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5498923,"reputation":238,"user_id":4368898,"display_name":"Matt Popovich"},"score":0,"creation_date":1699309100,"post_id":77414393,"comment_id":136513266,"body_markdown":"The `--changeset [...] splitStatements:false` is the key here which will allow `$$` or `$BODY$` to be used as delimiters. [This answer](https://stackoverflow.com/a/72526042/4368898) already mentioned that though.","body":"The <code>--changeset [...] splitStatements:false</code> is the key here which will allow <code>$$</code> or <code>$BODY$</code> to be used as delimiters. <a href=\"https://stackoverflow.com/a/72526042/4368898\">This answer</a> already mentioned that though."}],"tags":[],"owner":{"account_id":1830478,"reputation":86,"user_id":1662023,"display_name":"Prav_Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698995096,"creation_date":1698989966,"answer_id":77414393,"question_id":35734806,"body_markdown":"I have postgresSQL15 in my system and running trigger with liquibase sql script\r\n\r\n ```Table name:  test```\r\n\r\n ```Table name history: test_history```\r\n\r\n1:- Create you history table\r\n\r\n--changeset praveen.singh:1\r\n\r\n```\r\n   CREATE TABLE IF NOT EXISTS test_history\r\n(\r\n    id serial primary key,\r\n    original_test_id BIGINT NOT NULL,\r\n    operation VARCHAR(10),\r\n    change_timestamp TIMESTAMP without time zone DEFAULT CURRENT_TIMESTAMP,\r\n  \r\n    dummy_data VARCHAR(15) NOT NULL\r\n);\r\n```\r\n\r\n--rollback drop table test_history;\r\n\r\n\r\n\r\n--changeset praveen.singh:2 failOnError:true splitStatements:false\r\n\r\n```\r\nCREATE OR REPLACE FUNCTION test_history_trigger()\r\nRETURNS TRIGGER LANGUAGE plpgsql AS $$\r\nBEGIN\r\n    IF (TG_OP = &#39;UPDATE&#39;) THEN\r\n        INSERT INTO test_history (original_test_id, operation, change_timestamp, dummy_data)\r\n        VALUES (OLD.id, &#39;UPDATE&#39;, NOW(), OLD. dummy_data);\r\n    ELSIF (TG_OP = &#39;DELETE&#39;) THEN\r\n        INSERT INTO test_history (original_test_id, operation, change_timestamp, dummy_data)\r\n        VALUES (OLD.id, &#39;DELETE&#39;, NOW(), OLD. dummy_data);\r\n    END IF;\r\n    IF (TG_OP = &#39;UPDATE&#39;) THEN\r\n        RETURN NEW;\r\n    ELSIF (TG_OP = &#39;DELETE&#39;) THEN\r\n        RETURN OLD;\r\n    END IF;\r\nEND;\r\n$$;\r\n\r\n\r\nCREATE TRIGGER test_history_trigger\r\nAFTER UPDATE OR DELETE\r\nON test\r\nFOR EACH ROW\r\nEXECUTE FUNCTION test_history_trigger();\r\n```\r\n\r\n\r\n2:- Run command liquibase \r\n\r\n**mvn liquibase:update -Dusername=&lt;USER_NAME&gt; -Dpassword=&lt;PASSWORD&gt; -Durl=&#39;jdbc:postgresql://localhost:5432/&lt;DB_NAME&gt;?currentSchema=&lt;SCHEMA_NAME&gt;&#39;**\r\n\r\nHope it will work for you all!!!\r\n\r\n\r\n","title":"Liquibase error [Postgresql]: unterminated dollar-quoted string at or near &quot;$BODY$","body":"<p>I have postgresSQL15 in my system and running trigger with liquibase sql script</p>\n<p><code>Table name:  test</code></p>\n<p><code>Table name history: test_history</code></p>\n<p>1:- Create you history table</p>\n<p>--changeset praveen.singh:1</p>\n<pre><code>   CREATE TABLE IF NOT EXISTS test_history\n(\n    id serial primary key,\n    original_test_id BIGINT NOT NULL,\n    operation VARCHAR(10),\n    change_timestamp TIMESTAMP without time zone DEFAULT CURRENT_TIMESTAMP,\n  \n    dummy_data VARCHAR(15) NOT NULL\n);\n</code></pre>\n<p>--rollback drop table test_history;</p>\n<p>--changeset praveen.singh:2 failOnError:true splitStatements:false</p>\n<pre><code>CREATE OR REPLACE FUNCTION test_history_trigger()\nRETURNS TRIGGER LANGUAGE plpgsql AS $$\nBEGIN\n    IF (TG_OP = 'UPDATE') THEN\n        INSERT INTO test_history (original_test_id, operation, change_timestamp, dummy_data)\n        VALUES (OLD.id, 'UPDATE', NOW(), OLD. dummy_data);\n    ELSIF (TG_OP = 'DELETE') THEN\n        INSERT INTO test_history (original_test_id, operation, change_timestamp, dummy_data)\n        VALUES (OLD.id, 'DELETE', NOW(), OLD. dummy_data);\n    END IF;\n    IF (TG_OP = 'UPDATE') THEN\n        RETURN NEW;\n    ELSIF (TG_OP = 'DELETE') THEN\n        RETURN OLD;\n    END IF;\nEND;\n$$;\n\n\nCREATE TRIGGER test_history_trigger\nAFTER UPDATE OR DELETE\nON test\nFOR EACH ROW\nEXECUTE FUNCTION test_history_trigger();\n</code></pre>\n<p>2:- Run command liquibase</p>\n<p><strong>mvn liquibase:update -Dusername=&lt;USER_NAME&gt; -Dpassword= -Durl='jdbc:postgresql://localhost:5432/&lt;DB_NAME&gt;?currentSchema=&lt;SCHEMA_NAME&gt;'</strong></p>\n<p>Hope it will work for you all!!!</p>\n"}],"owner":{"account_id":7947634,"reputation":539,"user_id":5999588,"accept_rate":0,"display_name":"Vibin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19798,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"answer_count":10,"score":40,"last_activity_date":1698995096,"creation_date":1456870984,"question_id":35734806,"body_markdown":"```\r\nLiquibase error: unterminated dollar-quoted string at or near &quot;$BODY$`\r\n```\r\n\r\nChaneg log xml has one entry: see below\r\ninclude file=&quot;/home/dev/....../admin_script.sql&quot;\r\n\r\ncontent of the file:\r\n\r\n    ...............\r\n    CREATE OR REPLACE FUNCTION my_schema.function-name()\r\n    RETURNS smallint AS\r\n    $BODY$\r\n       DECLARE\r\n          v_next_gen_id smallint := 0;\r\n       BEGIN\r\n    ..........\r\n\r\nException:\r\n```\r\nliquibase.exception.DatabaseException: Error executing SQL CREATE OR REPLACE FUNCTION function name()\r\nETURNS smallint AS\r\n$BODY$\r\n   DECLARE\r\n      v_next_gen_id smallint := 0: ERROR: unterminated dollar-quoted string at or near &quot;$BODY$\r\n```\r\nAppreciate any help to resolve  this ","title":"Liquibase error [Postgresql]: unterminated dollar-quoted string at or near &quot;$BODY$","body":"<pre><code>Liquibase error: unterminated dollar-quoted string at or near &quot;$BODY$`\n</code></pre>\n<p>Chaneg log xml has one entry: see below\ninclude file=&quot;/home/dev/....../admin_script.sql&quot;</p>\n<p>content of the file:</p>\n<pre><code>...............\nCREATE OR REPLACE FUNCTION my_schema.function-name()\nRETURNS smallint AS\n$BODY$\n   DECLARE\n      v_next_gen_id smallint := 0;\n   BEGIN\n..........\n</code></pre>\n<p>Exception:</p>\n<pre><code>liquibase.exception.DatabaseException: Error executing SQL CREATE OR REPLACE FUNCTION function name()\nETURNS smallint AS\n$BODY$\n   DECLARE\n      v_next_gen_id smallint := 0: ERROR: unterminated dollar-quoted string at or near &quot;$BODY$\n</code></pre>\n<p>Appreciate any help to resolve  this</p>\n"},{"tags":["java","android","kotlin","android-debug"],"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698994932,"creation_date":1698994932,"question_id":77414725,"body_markdown":"    public class SMSBroadcaster extends BroadcastReceiver {\r\n        private static SmsListener mListener;\r\n        Boolean b;\r\n        String abcd, xyz;\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Bundle data = intent.getExtras();\r\n            Object[] pdus = (Object[]) data.get(&quot;pdus&quot;);\r\n            for (int i = 0; i &lt; pdus.length; i++) {\r\n                SmsMessage smsMessage = SmsMessage.createFromPdu((byte[]) pdus[i]);\r\n                String sender = smsMessage.getDisplayOriginatingAddress();\r\n                String messageBody = smsMessage.getMessageBody();\r\n                abcd = messageBody.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n                System.out.println(&quot;OTP received is&quot; + abcd);\r\n                if (b == true) {\r\n                    mListener.messageReceived(abcd); \r\n                } else {}\r\n            }\r\n        }\r\n    public static void bindListener(SmsListener listener) {\r\n        mListener = listener;\r\n    }\r\n    }\r\n\r\nI am using this broadcaster in my code and also added the permission android permission RECEIVE SMS    \r\n\r\n\r\nI was able to get all SMS when I used read SMS permission but I do not want all SMS access. I just need the OTP for verification","title":"Not able to extract OTP from the message","body":"<pre><code>public class SMSBroadcaster extends BroadcastReceiver {\n    private static SmsListener mListener;\n    Boolean b;\n    String abcd, xyz;\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Bundle data = intent.getExtras();\n        Object[] pdus = (Object[]) data.get(&quot;pdus&quot;);\n        for (int i = 0; i &lt; pdus.length; i++) {\n            SmsMessage smsMessage = SmsMessage.createFromPdu((byte[]) pdus[i]);\n            String sender = smsMessage.getDisplayOriginatingAddress();\n            String messageBody = smsMessage.getMessageBody();\n            abcd = messageBody.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n            System.out.println(&quot;OTP received is&quot; + abcd);\n            if (b == true) {\n                mListener.messageReceived(abcd); \n            } else {}\n        }\n    }\npublic static void bindListener(SmsListener listener) {\n    mListener = listener;\n}\n}\n</code></pre>\n<p>I am using this broadcaster in my code and also added the permission android permission RECEIVE SMS</p>\n<p>I was able to get all SMS when I used read SMS permission but I do not want all SMS access. I just need the OTP for verification</p>\n"},{"tags":["java","android","box2d","jbox2d"],"answers":[{"comments":[{"owner":{"account_id":938666,"reputation":16901,"user_id":967142,"display_name":"Jens"},"score":0,"creation_date":1336416660,"post_id":10487226,"comment_id":13553695,"body_markdown":"I haven&#39;t tried the alternative, libgdx, but I think that it wraps the c library impl. of [rope joint](http://libgdx.googlecode.com/svn/trunk/gdx/src/com/badlogic/gdx/physics/box2d/joints/RopeJoint.java) with JINI in their box2d version.","body":"I haven&#39;t tried the alternative, libgdx, but I think that it wraps the c library impl. of <a href=\"http://libgdx.googlecode.com/svn/trunk/gdx/src/com/badlogic/gdx/physics/box2d/joints/RopeJoint.java\" rel=\"nofollow noreferrer\">rope joint</a> with JINI in their box2d version."},{"owner":{"account_id":303675,"reputation":2084,"user_id":612758,"accept_rate":78,"display_name":"maackle"},"score":0,"creation_date":1368697987,"post_id":10487226,"comment_id":23833121,"body_markdown":"Seems that [jbox2d version 2.2.1.1](https://code.google.com/p/jbox2d/source/browse/?r=639#svn%2Ftrunk%2Fjbox2d-library%2Fsrc%2Fmain%2Fjava%2Forg%2Fjbox2d%2Fdynamics%2Fjoints) includes RopeJoint, but it seems slightly incomplete.","body":"Seems that <a href=\"https://code.google.com/p/jbox2d/source/browse/?r=639#svn%2Ftrunk%2Fjbox2d-library%2Fsrc%2Fmain%2Fjava%2Forg%2Fjbox2d%2Fdynamics%2Fjoints\" rel=\"nofollow noreferrer\">jbox2d version 2.2.1.1</a> includes RopeJoint, but it seems slightly incomplete."}],"tags":[],"owner":{"account_id":938666,"reputation":16901,"user_id":967142,"display_name":"Jens"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1336415753,"creation_date":1336415753,"answer_id":10487226,"question_id":10487163,"body_markdown":"[It&#39;s unsupported](http://code.google.com/searchframe#bxk7uDy-ONM/trunk/jbox2d-serialization/src/main/java/org/jbox2d/serialization/pb/PbDeserializer.java&amp;q=ROPE%20package:http://jbox2d%5C.googlecode%5C.com&amp;l=397) afaik.","title":"Do we have a RopeJoint in JBox2d?","body":"<p><a href=\"http://code.google.com/searchframe#bxk7uDy-ONM/trunk/jbox2d-serialization/src/main/java/org/jbox2d/serialization/pb/PbDeserializer.java&amp;q=ROPE%20package%3ahttp://jbox2d%5C.googlecode%5C.com&amp;l=397\" rel=\"nofollow\">It's unsupported</a> afaik.</p>\n"},{"tags":[],"owner":{"account_id":1756724,"reputation":1546,"user_id":1604579,"accept_rate":80,"display_name":"myyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698994761,"creation_date":1698994761,"answer_id":77414711,"question_id":10487163,"body_markdown":"RopeJoint does exist now in [RopeJointDef.java][1].\r\n\r\n\r\n  [1]: https://github.com/libgdx/libgdx/blob/master/extensions/gdx-box2d/gdx-box2d/src/com/badlogic/gdx/physics/box2d/joints/RopeJointDef.java","title":"Do we have a RopeJoint in JBox2d?","body":"<p>RopeJoint does exist now in <a href=\"https://github.com/libgdx/libgdx/blob/master/extensions/gdx-box2d/gdx-box2d/src/com/badlogic/gdx/physics/box2d/joints/RopeJointDef.java\" rel=\"nofollow noreferrer\">RopeJointDef.java</a>.</p>\n"}],"owner":{"account_id":112408,"reputation":8452,"user_id":296516,"accept_rate":74,"display_name":"Roger Travis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10487226,"answer_count":2,"score":0,"last_activity_date":1698994761,"creation_date":1336415353,"question_id":10487163,"body_markdown":"Just a quick question, seems that RopeJoint is missing from jbox2d... is it really so or did they rename it to something?\r\n\r\nDistance joint works fine, but I want to it be flexible, like a rope, not a metal rod. :)\r\n\r\n\t\tDistanceJointDef jointDef = new DistanceJointDef();\r\n\r\n\t\tjointDef.initialize(body1, body2, new Vec2(0,0) , new Vec2(0,-10) );\r\n\r\n\t\tjointDef.collideConnected = true;\r\n\t\tgetWorld().createJoint(jointDef);","title":"Do we have a RopeJoint in JBox2d?","body":"<p>Just a quick question, seems that RopeJoint is missing from jbox2d... is it really so or did they rename it to something?</p>\n\n<p>Distance joint works fine, but I want to it be flexible, like a rope, not a metal rod. :)</p>\n\n<pre><code>    DistanceJointDef jointDef = new DistanceJointDef();\n\n    jointDef.initialize(body1, body2, new Vec2(0,0) , new Vec2(0,-10) );\n\n    jointDef.collideConnected = true;\n    getWorld().createJoint(jointDef);\n</code></pre>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":4,"creation_date":1698884341,"post_id":77406051,"comment_id":136462659,"body_markdown":"Thymeleaf is rendered server-side so you&#39;ll need to do this in a script.","body":"Thymeleaf is rendered server-side so you&#39;ll need to do this in a script."},{"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"score":0,"creation_date":1699497856,"post_id":77406051,"comment_id":136540659,"body_markdown":"check for htmx, you will be able to do it without js","body":"check for htmx, you will be able to do it without js"}],"answers":[{"tags":[],"owner":{"account_id":10007675,"reputation":937,"user_id":7401569,"display_name":"Sumit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698994585,"creation_date":1698994585,"answer_id":77414700,"question_id":77406051,"body_markdown":"This can be achieved using jquery/javascript. Since thymeleaf rendered at the server side, once the page gets load on your browser you only have html elements.\r\nIn order to achieve, try something like this - \r\n\r\n1. Initially your second div will be hidden and you&#39;d want to run a function each time user changes the select value.\r\n \r\n\r\n    &gt;     &lt;div&gt;\r\n    &gt;       &lt;label for=&quot;model&quot;&gt;Model&lt;/label&gt;\r\n    &gt;       &lt;select th:field=&quot;*{manufacturer}&quot; th:required=&quot;required&quot; onChange=&quot;hideShowForManufactr()&quot; id=&quot;carManufctrOption&quot;&gt;\r\n    &gt;           &lt;option th:value=&quot;Ford&quot;&gt;Ford&lt;/option&gt;\r\n    &gt;           &lt;option th:value=&quot;Tesla&quot;&gt;Tesla&lt;/option&gt;\r\n    &gt;           &lt;option th:value=&quot;Lotus&quot;&gt;Lotus&lt;/option&gt;\r\n    &gt;       &lt;/select&gt;\r\n    &gt;     &lt;/div&gt;\r\n    &gt;     &lt;div th:if=&quot;${car.manufacturer == &#39;Ford&#39;}&quot; style=&quot;display:none&quot; id=&quot;fordDivId&quot;&gt;\r\n    &gt;       &lt;label for=&quot;gasType&quot;&gt;Gas Type&lt;/label&gt;\r\n    &gt;       &lt;input th:field=&quot;*{gasType}&quot; name=&quot;gasType&quot; type=&quot;text&quot; maxlength=&quot;5&quot;&gt;\r\n    &gt;     &lt;/div&gt;\r\n\r\n2. Implement the logic to hide and show the div in your jquery function -\r\n\r\n\r\n    &gt;  function hideShowForManufactr(){\r\n    &gt; \r\n    &gt;          var selectCarMnfctr= $(&#39;#carManufctrOption&#39;).find(&quot;:selected&quot;).val();\r\n    &gt;          if(selectCarMnfctr == &#39;Ford&#39;){\r\n    &gt;                $(&quot;#fordDivId&quot;).show();\r\n    &gt;           }else{\r\n    &gt;                 $(&quot;#fordDivId&quot;).hide();\r\n    &gt;           }\r\n    &gt; \r\n    &gt;    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Thymeleaf: Is it possible to use th:if when user changes the value?","body":"<p>This can be achieved using jquery/javascript. Since thymeleaf rendered at the server side, once the page gets load on your browser you only have html elements.\nIn order to achieve, try something like this -</p>\n<ol>\n<li><p>Initially your second div will be hidden and you'd want to run a function each time user changes the select value.</p>\n<blockquote>\n<pre><code>&lt;div&gt;\n  &lt;label for=&quot;model&quot;&gt;Model&lt;/label&gt;\n  &lt;select th:field=&quot;*{manufacturer}&quot; th:required=&quot;required&quot; onChange=&quot;hideShowForManufactr()&quot; id=&quot;carManufctrOption&quot;&gt;\n      &lt;option th:value=&quot;Ford&quot;&gt;Ford&lt;/option&gt;\n      &lt;option th:value=&quot;Tesla&quot;&gt;Tesla&lt;/option&gt;\n      &lt;option th:value=&quot;Lotus&quot;&gt;Lotus&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/div&gt;\n&lt;div th:if=&quot;${car.manufacturer == 'Ford'}&quot; style=&quot;display:none&quot; id=&quot;fordDivId&quot;&gt;\n  &lt;label for=&quot;gasType&quot;&gt;Gas Type&lt;/label&gt;\n  &lt;input th:field=&quot;*{gasType}&quot; name=&quot;gasType&quot; type=&quot;text&quot; maxlength=&quot;5&quot;&gt;\n&lt;/div&gt;\n</code></pre>\n</blockquote>\n</li>\n<li><p>Implement the logic to hide and show the div in your jquery function -</p>\n<blockquote>\n<p>function hideShowForManufactr(){</p>\n<pre><code>     var selectCarMnfctr= $('#carManufctrOption').find(&quot;:selected&quot;).val();\n     if(selectCarMnfctr == 'Ford'){\n           $(&quot;#fordDivId&quot;).show();\n      }else{\n            $(&quot;#fordDivId&quot;).hide();\n      }\n</code></pre>\n<p>}</p>\n</blockquote>\n</li>\n</ol>\n"}],"owner":{"account_id":4154967,"reputation":3722,"user_id":3406483,"accept_rate":47,"display_name":"redOctober13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698994585,"creation_date":1698879061,"question_id":77406051,"body_markdown":"I have a `&lt;select&gt;` input and another `&lt;input&gt;` on my page, and based on what the user selects in the dropdown, I want to hide or show the other input. However, both inputs tie back to the model, and it seems like that&#39;s stuck at runtime until the form is submitted.\r\n\r\nHere&#39;s what I want to do, but when running the page, the second div doesn&#39;t show up even if I pick the right option.\r\n\r\n```\r\n&lt;div&gt;\r\n  &lt;label for=&quot;model&quot;&gt;Model&lt;/label&gt;\r\n  &lt;select th:field=&quot;*{manufacturer}&quot; th:required=&quot;required&quot;&gt;\r\n      &lt;option th:value=&quot;Ford&quot;&gt;Ford&lt;/option&gt;\r\n      &lt;option th:value=&quot;Tesla&quot;&gt;Tesla&lt;/option&gt;\r\n      &lt;option th:value=&quot;Lotus&quot;&gt;Lotus&lt;/option&gt;\r\n  &lt;/select&gt;\r\n&lt;/div&gt;\r\n&lt;div th:if=&quot;${car.manufacturer == &#39;Ford&#39;}&quot;&gt;\r\n  &lt;label for=&quot;gasType&quot;&gt;Gas Type&lt;/label&gt;\r\n  &lt;input th:field=&quot;*{gasType}&quot; name=&quot;gasType&quot; type=&quot;text&quot; maxlength=&quot;5&quot;&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nThis tells me that `*{manufacturer}` isn&#39;t changing on user input, or else the page just isn&#39;t reacting to that change.\r\n\r\nIs this possible to do with Thymeleaf, or do I have to use JavaScript?","title":"Thymeleaf: Is it possible to use th:if when user changes the value?","body":"<p>I have a <code>&lt;select&gt;</code> input and another <code>&lt;input&gt;</code> on my page, and based on what the user selects in the dropdown, I want to hide or show the other input. However, both inputs tie back to the model, and it seems like that's stuck at runtime until the form is submitted.</p>\n<p>Here's what I want to do, but when running the page, the second div doesn't show up even if I pick the right option.</p>\n<pre><code>&lt;div&gt;\n  &lt;label for=&quot;model&quot;&gt;Model&lt;/label&gt;\n  &lt;select th:field=&quot;*{manufacturer}&quot; th:required=&quot;required&quot;&gt;\n      &lt;option th:value=&quot;Ford&quot;&gt;Ford&lt;/option&gt;\n      &lt;option th:value=&quot;Tesla&quot;&gt;Tesla&lt;/option&gt;\n      &lt;option th:value=&quot;Lotus&quot;&gt;Lotus&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/div&gt;\n&lt;div th:if=&quot;${car.manufacturer == 'Ford'}&quot;&gt;\n  &lt;label for=&quot;gasType&quot;&gt;Gas Type&lt;/label&gt;\n  &lt;input th:field=&quot;*{gasType}&quot; name=&quot;gasType&quot; type=&quot;text&quot; maxlength=&quot;5&quot;&gt;\n&lt;/div&gt;\n</code></pre>\n<p>This tells me that <code>*{manufacturer}</code> isn't changing on user input, or else the page just isn't reacting to that change.</p>\n<p>Is this possible to do with Thymeleaf, or do I have to use JavaScript?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":38723,"reputation":9874,"user_id":111331,"accept_rate":100,"display_name":"vkraemer"},"score":11,"creation_date":1296692318,"post_id":4879903,"comment_id":5429279,"body_markdown":"Are items 1 and 3 supposed to be different?","body":"Are items 1 and 3 supposed to be different?"}],"answers":[{"comments":[{"owner":{"account_id":703398,"reputation":807,"user_id":599992,"accept_rate":43,"display_name":"Pam"},"score":2,"creation_date":1296681845,"post_id":4879923,"comment_id":5427215,"body_markdown":"any chance you might be able to elaborate on that any more? Letting NetBeans do all the work for me doesn&#39;t really teach me the &quot;do&#39;s&quot; and &quot;don&#39;ts&quot; of what I should be doing!","body":"any chance you might be able to elaborate on that any more? Letting NetBeans do all the work for me doesn&#39;t really teach me the &quot;do&#39;s&quot; and &quot;don&#39;ts&quot; of what I should be doing!"},{"owner":{"account_id":99193,"reputation":45621,"user_id":268074,"accept_rate":68,"display_name":"Petah"},"score":2,"creation_date":1366190498,"post_id":4879923,"comment_id":22912596,"body_markdown":"@Pam I don&#39;t really understand your problem. You should add libraries as they are required for the project. If you require them all the time you should do as Johan says.","body":"@Pam I don&#39;t really understand your problem. You should add libraries as they are required for the project. If you require them all the time you should do as Johan says."}],"tags":[],"owner":{"account_id":99193,"reputation":45621,"user_id":268074,"accept_rate":68,"display_name":"Petah"},"comment_count":2,"down_vote_count":6,"up_vote_count":49,"is_accepted":false,"score":43,"last_activity_date":1296681160,"creation_date":1296681160,"answer_id":4879923,"question_id":4879903,"body_markdown":"Right click &#39;libraries&#39; in the  project list, then click add.","title":"How to add a JAR in NetBeans","body":"<p>Right click 'libraries' in the  project list, then click add.</p>\n"},{"comments":[{"owner":{"account_id":38723,"reputation":9874,"user_id":111331,"accept_rate":100,"display_name":"vkraemer"},"score":13,"creation_date":1296694048,"post_id":4879952,"comment_id":5429486,"body_markdown":"This is a nice answer, but it does not corresponds to the way NetBeans actually works.","body":"This is a nice answer, but it does not corresponds to the way NetBeans actually works."}],"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"comment_count":1,"down_vote_count":2,"up_vote_count":27,"is_accepted":true,"score":25,"last_activity_date":1296683040,"creation_date":1296681349,"answer_id":4879952,"question_id":4879903,"body_markdown":"You want to add libraries to your project and in doing so you have two options as you yourself identified: \r\n\r\n**Compile-time libraries** are libraries which is needed to compile your application. They are not included when your application is assembled (e.g., into a war-file). Libraries of this kind must be provided by the container running your project. \r\n\r\nThis is useful in situation when\r\nyou want to vary API and implementation, or when the library is supplied by the container (which is typically the case with javax.servlet which is required to compile but provided by the application server, e.g., Apache Tomcat). \r\n\r\n**Run-time libraries** are libraries which is needed both for compilation and when running your project. This is probably what you want in most cases. If for instance your project is packaged into a war/ear, then these libraries will be included in the package. \r\n\r\n\r\nAs for the other alernatives you have either _global_ libraries using `Library Manager`or _jdk_ libraries. The latter is simply your regular java libraries, while the former is just a way for your to store a set of libraries under a common name. For all your future projects, instead of manually assigning the libraries you can simply select to import them from your `Library Manager`.","title":"How to add a JAR in NetBeans","body":"<p>You want to add libraries to your project and in doing so you have two options as you yourself identified: </p>\n\n<p><strong>Compile-time libraries</strong> are libraries which is needed to compile your application. They are not included when your application is assembled (e.g., into a war-file). Libraries of this kind must be provided by the container running your project. </p>\n\n<p>This is useful in situation when\nyou want to vary API and implementation, or when the library is supplied by the container (which is typically the case with javax.servlet which is required to compile but provided by the application server, e.g., Apache Tomcat). </p>\n\n<p><strong>Run-time libraries</strong> are libraries which is needed both for compilation and when running your project. This is probably what you want in most cases. If for instance your project is packaged into a war/ear, then these libraries will be included in the package. </p>\n\n<p>As for the other alernatives you have either <em>global</em> libraries using <code>Library Manager</code>or <em>jdk</em> libraries. The latter is simply your regular java libraries, while the former is just a way for your to store a set of libraries under a common name. For all your future projects, instead of manually assigning the libraries you can simply select to import them from your <code>Library Manager</code>.</p>\n"},{"tags":[],"owner":{"account_id":38723,"reputation":9874,"user_id":111331,"accept_rate":100,"display_name":"vkraemer"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1296693697,"creation_date":1296693697,"answer_id":4881611,"question_id":4879903,"body_markdown":"If your project&#39;s source code has import statements that reference classes that are in widget.jar, you should add the jar to your projects Compile-time Libraries.  (The jar widget.jar will automatically be added to your project&#39;s Run-time Libraries).  That corresponds to (1).\r\n\r\nIf your source code has imports for classes in some other jar and the source code for those classes has import statements that reference classes in widget.jar, you should add widget.jar to the Run-time libraries list. That corresponds to (2).\r\n\r\nYou can add the jars directly to the Libraries list in the project properties.  You can also create a Library that contains the jar file and then include that Library in the Compile-time or Run-time Libraries list.\r\n\r\nIf you create a NetBeans Library for widget.jar, you can also associate source code for the jar&#39;s content and Javadoc for the APIs defined in widget.jar.  This additional information about widget.jar will be used by NetBeans as you debug code. It will also be used to provide addition information when you use code completion in the editor.\r\n\r\nYou should avoid using Tools &gt;&gt; Java Platform to add a jar to a project.  That dialog allows you to modify the classpath that is used to compile and run all projects that use the Java Platform that you create.  That may be useful at times but hides your project&#39;s  dependency on widget.jar almost completely.","title":"How to add a JAR in NetBeans","body":"<p>If your project's source code has import statements that reference classes that are in widget.jar, you should add the jar to your projects Compile-time Libraries.  (The jar widget.jar will automatically be added to your project's Run-time Libraries).  That corresponds to (1).</p>\n\n<p>If your source code has imports for classes in some other jar and the source code for those classes has import statements that reference classes in widget.jar, you should add widget.jar to the Run-time libraries list. That corresponds to (2).</p>\n\n<p>You can add the jars directly to the Libraries list in the project properties.  You can also create a Library that contains the jar file and then include that Library in the Compile-time or Run-time Libraries list.</p>\n\n<p>If you create a NetBeans Library for widget.jar, you can also associate source code for the jar's content and Javadoc for the APIs defined in widget.jar.  This additional information about widget.jar will be used by NetBeans as you debug code. It will also be used to provide addition information when you use code completion in the editor.</p>\n\n<p>You should avoid using Tools >> Java Platform to add a jar to a project.  That dialog allows you to modify the classpath that is used to compile and run all projects that use the Java Platform that you create.  That may be useful at times but hides your project's  dependency on widget.jar almost completely.</p>\n"},{"tags":[],"owner":{"account_id":2430617,"reputation":1646,"user_id":2121612,"accept_rate":43,"display_name":"Abdullah SARGIN"},"comment_count":0,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1390910591,"creation_date":1390910591,"answer_id":21405180,"question_id":4879903,"body_markdown":"\r\nProject Files  Services Tabls\r\n\r\ngo files tabs\r\n\r\ndrag drop file to libs files hover.\r\n\r\nreturn project tabs and what are you see :)\r\n\r\n","title":"How to add a JAR in NetBeans","body":"<p>Project Files  Services Tabls</p>\n\n<p>go files tabs</p>\n\n<p>drag drop file to libs files hover.</p>\n\n<p>return project tabs and what are you see :)</p>\n"}],"owner":{"account_id":703398,"reputation":807,"user_id":599992,"accept_rate":43,"display_name":"Pam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244792,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":4879952,"answer_count":4,"score":56,"last_activity_date":1698994524,"creation_date":1296681044,"question_id":4879903,"body_markdown":"Let&#39;s say you create a new project, and want it to make use of some 3rd party library, say, `widget.jar`. Where do you add this JAR:\r\n\r\n 1.  File &gt;&gt; Project Properties &gt;&gt; Libraries &gt;&gt; **Compile-Time Libraries**; or\r\n 2.  File &gt;&gt; Project Properties &gt;&gt; Libraries &gt;&gt; **Run-Time Libraries**; or\r\n 4.  Tools &gt;&gt; Libraries (Library Manager) &gt;&gt; Library Classpath; or\r\n 5.  Tools &gt;&gt; Java Platforms (Java Platform Manager)\r\n\r\nAll of these dialogs seem to do the same thing but I&#39;m sure they all have their proper usages. Can&#39;t find a good &quot;best practices&quot; article online and the NetBeans Help Contents dialog isn&#39;t helping with this either.","title":"How to add a JAR in NetBeans","body":"<p>Let's say you create a new project, and want it to make use of some 3rd party library, say, <code>widget.jar</code>. Where do you add this JAR:</p>\n\n<ol>\n<li>File >> Project Properties >> Libraries >> <strong>Compile-Time Libraries</strong>; or</li>\n<li>File >> Project Properties >> Libraries >> <strong>Run-Time Libraries</strong>; or</li>\n<li>Tools >> Libraries (Library Manager) >> Library Classpath; or</li>\n<li>Tools >> Java Platforms (Java Platform Manager)</li>\n</ol>\n\n<p>All of these dialogs seem to do the same thing but I'm sure they all have their proper usages. Can't find a good \"best practices\" article online and the NetBeans Help Contents dialog isn't helping with this either.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1698989907,"post_id":77414362,"comment_id":136477019,"body_markdown":"It is unlikely there exists such a compiler flag because there‚Äôs no way to prevent Java code from returning null. If you had to guard against it, all Java method calls that don‚Äôt return primitive types would be littered with null checks.","body":"It is unlikely there exists such a compiler flag because there‚Äôs no way to prevent Java code from returning null. If you had to guard against it, all Java method calls that don‚Äôt return primitive types would be littered with null checks."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1698991085,"post_id":77414362,"comment_id":136477099,"body_markdown":"Can you edit the Java code? Making an annotation with `@TypeQualifierDefault`, and marking every class with it could work.","body":"Can you edit the Java code? Making an annotation with <code>@TypeQualifierDefault</code>, and marking every class with it could work."},{"owner":{"account_id":29815987,"reputation":11,"user_id":22850255,"display_name":"ChenRenJie"},"score":0,"creation_date":1698992228,"post_id":77414362,"comment_id":136477211,"body_markdown":"I can not edit java code @sweeper","body":"I can not edit java code @sweeper"}],"answers":[{"comments":[{"owner":{"account_id":29815987,"reputation":11,"user_id":22850255,"display_name":"ChenRenJie"},"score":0,"creation_date":1698992410,"post_id":77414480,"comment_id":136477233,"body_markdown":"But if i can not edit java code , how to achieve?","body":"But if i can not edit java code , how to achieve?"},{"owner":{"account_id":13524059,"reputation":93,"user_id":9756362,"display_name":"NyuB"},"score":0,"creation_date":1698994429,"post_id":77414480,"comment_id":136477432,"body_markdown":"Then see Sweeper answer https://stackoverflow.com/a/77414666/9756362","body":"Then see Sweeper answer <a href=\"https://stackoverflow.com/a/77414666/9756362\">stackoverflow.com/a/77414666/9756362</a>"}],"tags":[],"owner":{"account_id":13524059,"reputation":93,"user_id":9756362,"display_name":"NyuB"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698991305,"creation_date":1698991305,"answer_id":77414480,"question_id":77414362,"body_markdown":"Since the Kotlin compiler take [Java nullability annotations][1] (like jsr305  @Nullable) into account, you could annotate your java methods with such annotations to obtain the desired behavior.\r\n\r\n    public class JavaClass {\r\n      @CheckForNull\r\n      public String getString() {\r\n        return null;\r\n      }\r\n    }\r\n\r\nThis can be done at the package level via package-info.java files.\r\n\r\n    @CheckForNull\r\n    package mypackage;\r\n\r\nNote that it could be better to reverse this logic: use package-info to annotate all methods as returning non-null and specify only the nullable ones as in the first code sample above. This would gain you the same kind of null-safety on the java side a on the kotlin side, assuming you use one of the tools available to enforce these annotations.\r\n\r\n(from [baeldung][2])\r\n\r\n    @NonNullApi\r\n    package mypackage;\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/java-interop.html#nullability-annotations\r\n  [2]: https://www.baeldung.com/java-package-info","title":"kotlin compile always assume java method return nullable value, unless method annotate @NonNull","body":"<p>Since the Kotlin compiler take <a href=\"https://kotlinlang.org/docs/java-interop.html#nullability-annotations\" rel=\"nofollow noreferrer\">Java nullability annotations</a> (like jsr305  @Nullable) into account, you could annotate your java methods with such annotations to obtain the desired behavior.</p>\n<pre><code>public class JavaClass {\n  @CheckForNull\n  public String getString() {\n    return null;\n  }\n}\n</code></pre>\n<p>This can be done at the package level via package-info.java files.</p>\n<pre><code>@CheckForNull\npackage mypackage;\n</code></pre>\n<p>Note that it could be better to reverse this logic: use package-info to annotate all methods as returning non-null and specify only the nullable ones as in the first code sample above. This would gain you the same kind of null-safety on the java side a on the kotlin side, assuming you use one of the tools available to enforce these annotations.</p>\n<p>(from <a href=\"https://www.baeldung.com/java-package-info\" rel=\"nofollow noreferrer\">baeldung</a>)</p>\n<pre><code>@NonNullApi\npackage mypackage;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1699013284,"post_id":77414666,"comment_id":136480367,"body_markdown":"Basically, what I said in my comment ‚Äú_If you had to guard against it, all Java method calls that don‚Äôt return primitive types would be littered with null checks_‚Äù","body":"Basically, what I said in my comment ‚Äú<i>If you had to guard against it, all Java method calls that don‚Äôt return primitive types would be littered with null checks</i>‚Äù"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698994239,"creation_date":1698994239,"answer_id":77414666,"question_id":77414362,"body_markdown":"This is not possible. To quote a JetBrains Team member from a similar [discussion][1] on Kotlin Forums:\r\n\r\n&gt; platform types are not, and are not going to be, always nullable\r\n\r\nThe same person also mentioned [this talk](https://youtu.be/2IhT8HACc2E?si=7Vs2aS19oDjVsbgL) by Andrey Breslau, which explained this decision. To summarise, this would introduce a lot of `?.`s and `!!`s when calling Java code. It becomes a lot more inconvenient when you want to assert generic type parameters to be non-null. If a Java method returns `List&lt;String&gt;`, it would become `List&lt;String?&gt;?` if it treated all Java types as nullable. Although you can assert that the list is not null with `!!`, you cannot do the same to assert that `String`s in the list are also non-null, without an unchecked cast.\r\n\r\nIf you really want to do this, your only option is to edit the Java code - annotate it with nullable annotations. You can make use of [`@TypeQualifierDefaults`][2] to make this process easier.\r\n\r\nIf you just want a warning/error to be emitted when you assign a platform type to a non-nullable type, check out [this post](https://stackoverflow.com/q/45690785/5133585). You can write your own IDE plugin that does this.\r\n\r\n\r\n  [1]: https://discuss.kotlinlang.org/t/forcing-platform-type-to-always-nullable/3136/3\r\n  [2]: https://kotlinlang.org/docs/java-interop.html#type-qualifier-defaults","title":"kotlin compile always assume java method return nullable value, unless method annotate @NonNull","body":"<p>This is not possible. To quote a JetBrains Team member from a similar <a href=\"https://discuss.kotlinlang.org/t/forcing-platform-type-to-always-nullable/3136/3\" rel=\"nofollow noreferrer\">discussion</a> on Kotlin Forums:</p>\n<blockquote>\n<p>platform types are not, and are not going to be, always nullable</p>\n</blockquote>\n<p>The same person also mentioned <a href=\"https://youtu.be/2IhT8HACc2E?si=7Vs2aS19oDjVsbgL\" rel=\"nofollow noreferrer\">this talk</a> by Andrey Breslau, which explained this decision. To summarise, this would introduce a lot of <code>?.</code>s and <code>!!</code>s when calling Java code. It becomes a lot more inconvenient when you want to assert generic type parameters to be non-null. If a Java method returns <code>List&lt;String&gt;</code>, it would become <code>List&lt;String?&gt;?</code> if it treated all Java types as nullable. Although you can assert that the list is not null with <code>!!</code>, you cannot do the same to assert that <code>String</code>s in the list are also non-null, without an unchecked cast.</p>\n<p>If you really want to do this, your only option is to edit the Java code - annotate it with nullable annotations. You can make use of <a href=\"https://kotlinlang.org/docs/java-interop.html#type-qualifier-defaults\" rel=\"nofollow noreferrer\"><code>@TypeQualifierDefaults</code></a> to make this process easier.</p>\n<p>If you just want a warning/error to be emitted when you assign a platform type to a non-nullable type, check out <a href=\"https://stackoverflow.com/q/45690785/5133585\">this post</a>. You can write your own IDE plugin that does this.</p>\n"}],"owner":{"account_id":29815987,"reputation":11,"user_id":22850255,"display_name":"ChenRenJie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698994239,"creation_date":1698989241,"question_id":77414362,"body_markdown":"How to let kotlin compile always assume java method return nullable value, unless method annotate @NonNull. \r\nIs any kotlin compile param can achieve?\r\n\r\nfor example, a `getString` method return null: \r\n```java\r\npublic class JavaClass {\r\n  public String getString() {\r\n    return null;\r\n  }\r\n}\r\n```\r\n\r\nwhen call from kotlin, it can direct call `getString` without null check:\r\n```kotlin\r\nfun main() {\r\n  val str = JavaClass().string\r\n  str.length\r\n}\r\n```\r\n\r\nI want kotlin compile force treat `getString` return a nullable value, then `str` must use after null check like this:\r\n```kotlin\r\nfun main() {\r\n  val str = JavaClass().string\r\n  str?.length\r\n}\r\n```","title":"kotlin compile always assume java method return nullable value, unless method annotate @NonNull","body":"<p>How to let kotlin compile always assume java method return nullable value, unless method annotate @NonNull.\nIs any kotlin compile param can achieve?</p>\n<p>for example, a <code>getString</code> method return null:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JavaClass {\n  public String getString() {\n    return null;\n  }\n}\n</code></pre>\n<p>when call from kotlin, it can direct call <code>getString</code> without null check:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n  val str = JavaClass().string\n  str.length\n}\n</code></pre>\n<p>I want kotlin compile force treat <code>getString</code> return a nullable value, then <code>str</code> must use after null check like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n  val str = JavaClass().string\n  str?.length\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","microservices"],"comments":[{"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"score":0,"creation_date":1699005180,"post_id":77414629,"comment_id":136479000,"body_markdown":"It would be helpful if you can provide some information about Spring version, application properties and maybe some logs...","body":"It would be helpful if you can provide some information about Spring version, application properties and maybe some logs..."}],"owner":{"account_id":11076400,"reputation":91,"user_id":8132987,"display_name":"Abhishek Chauhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698993485,"creation_date":1698993485,"question_id":77414629,"body_markdown":"So in my spring boot application,I&#39;m having 5 listener&#39;s and return type is void. All 5 listener annotated with **@TransactionalEventListener(fallbackExecution=true)**\r\nAll these 5 listener consumes the messages but first it will print this log message \r\n**&quot;No result object given - no result to handle&quot; logger:&quot;org.springframework.transaction.event.TransactionalApplicationListenerMethodAdapter**\r\nand then it start with actuall listener logic.\r\nI&#39;m facing this issue only in the lower environment\r\n\r\n\r\n**&quot;message&quot;:&quot;No result object given - no result to handle&quot;,&quot;logger_name&quot;:&quot;org.springframework.transaction.event.TransactionalApplicationListenerMethodAdapter&quot;**\r\n\r\n\r\nI tried to restart the server,  but nothing works","title":"&quot;No result object given - no result to handle&quot; logger:&quot;org.springframework.transaction.event.TransactionalApplicationListenerMethodAdapter","body":"<p>So in my spring boot application,I'm having 5 listener's and return type is void. All 5 listener annotated with <strong>@TransactionalEventListener(fallbackExecution=true)</strong>\nAll these 5 listener consumes the messages but first it will print this log message\n<strong>&quot;No result object given - no result to handle&quot; logger:&quot;org.springframework.transaction.event.TransactionalApplicationListenerMethodAdapter</strong>\nand then it start with actuall listener logic.\nI'm facing this issue only in the lower environment</p>\n<p><strong>&quot;message&quot;:&quot;No result object given - no result to handle&quot;,&quot;logger_name&quot;:&quot;org.springframework.transaction.event.TransactionalApplicationListenerMethodAdapter&quot;</strong></p>\n<p>I tried to restart the server,  but nothing works</p>\n"},{"tags":["java","generics","jackson"],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1698999010,"post_id":77414599,"comment_id":136478007,"body_markdown":"Just to be extra clear: `new TypeReference&lt;T&gt;() {}` will *never* work. You have to pass a concrete type, not a type variable, to the constructor *directly*. I was hoping the [javadoc](https://fasterxml.github.io/jackson-core/javadoc/2.2.0/com/fasterxml/jackson/core/type/TypeReference.html) explained that, but... it doesn&#39;t.","body":"Just to be extra clear: <code>new TypeReference&lt;T&gt;() {}</code> will <i>never</i> work. You have to pass a concrete type, not a type variable, to the constructor <i>directly</i>. I was hoping the <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.2.0/com/fasterxml/jackson/core/type/TypeReference.html\" rel=\"nofollow noreferrer\">javadoc</a> explained that, but... it doesn&#39;t."},{"owner":{"account_id":3732284,"reputation":370,"user_id":3104257,"display_name":"bobyuan"},"score":0,"creation_date":1699004924,"post_id":77414599,"comment_id":136478957,"body_markdown":"I tried to print some information. The output is:\n\n```java\ninObj.getClass().getName() = MyInput\ninObj.getClass().getGenericSuperclass().getTypeName() = BaseInput\n\ntypeRef.getType() = RT\ntypeRef.getType().getClass().getName() = sun.reflect.generics.reflectiveObjects.TypeVariableImpl\ntypeRef.getType().getClass().getGenericSuperclass().getTypeName() = sun.reflect.generics.reflectiveObjects.LazyReflectiveObjectGenerator\n```\nThe &quot;RT&quot; should be MyResult in my expectation, but it shows &quot;RT&quot; (not even BaseResult?).","body":"I tried to print some information. The output is:  <code>java inObj.getClass().getName() = MyInput inObj.getClass().getGenericSuperclass().getTypeName() = BaseInput  typeRef.getType() = RT typeRef.getType().getClass().getName() = sun.reflect.generics.reflectiveObjects.TypeVariableImpl typeRef.getType().getClass().getGenericSuperclass().getTypeN&zwnj;&#8203;ame() = sun.reflect.generics.reflectiveObjects.LazyReflectiveObjectG&zwnj;&#8203;enerator </code> The &quot;RT&quot; should be MyResult in my expectation, but it shows &quot;RT&quot; (not even BaseResult?)."},{"owner":{"account_id":3732284,"reputation":370,"user_id":3104257,"display_name":"bobyuan"},"score":0,"creation_date":1699006648,"post_id":77414599,"comment_id":136479252,"body_markdown":"By the way, this example works perfectly as expected in C#.\n```C# RT? resObj = System.Text.Json.JsonSerializer.Deserialize&lt;RT&gt;(resJson, options); ```.","body":"By the way, this example works perfectly as expected in C#. <code>C# RT? resObj = System.Text.Json.JsonSerializer.Deserialize&lt;RT&gt;(resJson, options); </code>."}],"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698993016,"creation_date":1698993016,"answer_id":77414599,"question_id":77414524,"body_markdown":"I feel that this is due to the type erasure that happens at compile time. This line in `BaseAction` class `TypeReference&lt;RT&gt; typeRef = new TypeReference&lt;RT&gt;() {}` will have a &quot;memory&quot; of only &quot;child class of `BaseResult`&quot; and not **which** particular child class. Since each child may have a different structure, you cannot safely cast the parent to it.\r\n\r\nHence, you can either:\r\n- Provide a `Deserializer` to `BaseResult`, which will have handling for the different implementations, OR\r\n- Provide an abstract method in `BaseResult` to get the implemented type. This can be passed to `readValue(..)` instead of `TypeReference&lt;..&gt;`, as shown below (not compiled or tested, only for indication of the idea):\r\n```java\r\npublic abstract class BaseAction&lt;IT extends BaseInput, RT extends BaseResult&gt; {\r\n    /* Method to the get the actual type */\r\n    protected Class&lt;RT&gt; getImplClass();\r\n\r\n    public RT execute(final IT inObj) throws Exception {\r\n        //...\r\n        return JacksonFunctions.jacksonObjectMapper.readValue(jsonString, getImplClass());\r\n    }\r\n}\r\n```\r\n```java\r\npublic class MyAction extends BaseAction&lt;MyInput, MyResult&gt; {\r\n    protected Class&lt;MyResult&gt; getImplClass(){\r\n        return MyResult.class;\r\n    }\r\n}\r\n```\r\n","title":"Jackson kept using base class to de-serialize object in Java generic base class","body":"<p>I feel that this is due to the type erasure that happens at compile time. This line in <code>BaseAction</code> class <code>TypeReference&lt;RT&gt; typeRef = new TypeReference&lt;RT&gt;() {}</code> will have a &quot;memory&quot; of only &quot;child class of <code>BaseResult</code>&quot; and not <strong>which</strong> particular child class. Since each child may have a different structure, you cannot safely cast the parent to it.</p>\n<p>Hence, you can either:</p>\n<ul>\n<li>Provide a <code>Deserializer</code> to <code>BaseResult</code>, which will have handling for the different implementations, OR</li>\n<li>Provide an abstract method in <code>BaseResult</code> to get the implemented type. This can be passed to <code>readValue(..)</code> instead of <code>TypeReference&lt;..&gt;</code>, as shown below (not compiled or tested, only for indication of the idea):</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseAction&lt;IT extends BaseInput, RT extends BaseResult&gt; {\n    /* Method to the get the actual type */\n    protected Class&lt;RT&gt; getImplClass();\n\n    public RT execute(final IT inObj) throws Exception {\n        //...\n        return JacksonFunctions.jacksonObjectMapper.readValue(jsonString, getImplClass());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyAction extends BaseAction&lt;MyInput, MyResult&gt; {\n    protected Class&lt;MyResult&gt; getImplClass(){\n        return MyResult.class;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3732284,"reputation":370,"user_id":3104257,"display_name":"bobyuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77414599,"answer_count":1,"score":0,"last_activity_date":1698993016,"creation_date":1698991871,"question_id":77414524,"body_markdown":"## Title\r\n\r\nJackson failed to deserialize object in Java generic base class.\r\n\r\n\r\n\r\n## Problem Description\r\n\r\nI&#39;d like to de-serialize a JSON into an object in Java generic base class, but got exception:\r\n\r\n```\r\nClassCastException: class BaseResult cannot be cast to class MyResult (BaseResult and MyResult are in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nThe exception is from below:\r\n\r\n```java\r\npublic abstract class BaseAction&lt;IT extends BaseInput, RT extends BaseResult&gt; {\r\n    public RT execute(final IT inObj) throws Exception {\r\n        //...\r\n        TypeReference&lt;RT&gt; typeRef = new TypeReference&lt;RT&gt;() {};\r\n        return JacksonFunctions.jacksonObjectMapper.readValue(jsonString, typeRef);  //ClassCastException!!\r\n    }\r\n```\r\n\r\n\r\n\r\nBelow are the class definitions.\r\n\r\n**BaseInput.java**\r\n\r\n```java\r\npublic abstract class BaseInput {\r\n}\r\n```\r\n\r\n**BaseResult.java**\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\npublic class BaseResult {\r\n    @JsonProperty(&quot;ErrorCode&quot;)\r\n    private int errorCode = 0;\r\n\r\n    @JsonProperty(&quot;ErrorMessage&quot;)\r\n    private String errorMessage = &quot;&quot;;\r\n}\r\n```\r\n\r\n**BaseAction.java**\r\n\r\n```java\r\npublic abstract class BaseAction&lt;IT extends BaseInput, RT extends BaseResult&gt; {\r\n\r\n    public RT execute(final IT inObj) throws Exception {\r\n        //...\r\n\r\n        TypeReference&lt;RT&gt; typeRef = new TypeReference&lt;RT&gt;() {};\r\n        return JacksonFunctions.jacksonObjectMapper.readValue(jsonString, typeRef);  //ClassCastException!!\r\n    }\r\n}\r\n```\r\n\r\nThe concreate classes are:\r\n\r\n**MyInput.java**\r\n\r\n```java\r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\n@NoArgsConstructor\r\npublic class MyInput extends BaseInput {\r\n\tprivate String title;\r\n}\r\n```\r\n\r\n**MyResult.java**\r\n\r\n```java\r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\n@NoArgsConstructor\r\npublic class MyResult extends BaseResult {\r\n    @JsonProperty(&quot;Title&quot;)\r\n    private String title;\r\n\r\n    @JsonProperty(&quot;Description&quot;)\r\n    private String description;\r\n}\r\n```\r\n\r\n**MyAction.java**\r\n\r\n```java\r\npublic class MyAction extends BaseAction&lt;MyInput, MyResult&gt; {\r\n}\r\n```\r\n\r\n\r\n\r\nThe program is run like this:\r\n\r\n```java\r\nMyInput inObj = new MyInput();\r\ninObj.setTitle(&quot;Galaxy&quot;);\r\n\r\nMyAction act = new MyAction();\r\nMyResult resObj = act.execute(inObj); //exception here!\r\n```\r\n\r\n\r\n\r\nMy question is, MyResult (as RT) is passed to the generic base class MyAction, it should be OK to use in BaseAction class (MyResult as RT). But why Jackson is not able to take RT as MyResult to de-serialize JSON string, but as BaseResult (hence the ClassCastException) ?! \r\n\r\n\r\nJackson is working fine as below, if I create TypeReference using MyResult class:\r\n\r\n```java\r\nTypeReference&lt;MyResult&gt; typeRef = new TypeReference&lt;MyResult&gt;() {};\r\nreturn JacksonFunctions.jacksonObjectMapper.readValue(jsonString, typeRef);\r\n```\r\n\r\nAs a workaround, I can take above code to MyAction, it will work fine.\r\n\r\nBut since the BaseAction already has RT (as MyResult), I don&#39;t know why it won&#39;t work.","title":"Jackson kept using base class to de-serialize object in Java generic base class","body":"<h2>Title</h2>\n<p>Jackson failed to deserialize object in Java generic base class.</p>\n<h2>Problem Description</h2>\n<p>I'd like to de-serialize a JSON into an object in Java generic base class, but got exception:</p>\n<pre><code>ClassCastException: class BaseResult cannot be cast to class MyResult (BaseResult and MyResult are in unnamed module of loader 'app')\n</code></pre>\n<p>The exception is from below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseAction&lt;IT extends BaseInput, RT extends BaseResult&gt; {\n    public RT execute(final IT inObj) throws Exception {\n        //...\n        TypeReference&lt;RT&gt; typeRef = new TypeReference&lt;RT&gt;() {};\n        return JacksonFunctions.jacksonObjectMapper.readValue(jsonString, typeRef);  //ClassCastException!!\n    }\n</code></pre>\n<p>Below are the class definitions.</p>\n<p><strong>BaseInput.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseInput {\n}\n</code></pre>\n<p><strong>BaseResult.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\npublic class BaseResult {\n    @JsonProperty(&quot;ErrorCode&quot;)\n    private int errorCode = 0;\n\n    @JsonProperty(&quot;ErrorMessage&quot;)\n    private String errorMessage = &quot;&quot;;\n}\n</code></pre>\n<p><strong>BaseAction.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseAction&lt;IT extends BaseInput, RT extends BaseResult&gt; {\n\n    public RT execute(final IT inObj) throws Exception {\n        //...\n\n        TypeReference&lt;RT&gt; typeRef = new TypeReference&lt;RT&gt;() {};\n        return JacksonFunctions.jacksonObjectMapper.readValue(jsonString, typeRef);  //ClassCastException!!\n    }\n}\n</code></pre>\n<p>The concreate classes are:</p>\n<p><strong>MyInput.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@NoArgsConstructor\npublic class MyInput extends BaseInput {\n    private String title;\n}\n</code></pre>\n<p><strong>MyResult.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@NoArgsConstructor\npublic class MyResult extends BaseResult {\n    @JsonProperty(&quot;Title&quot;)\n    private String title;\n\n    @JsonProperty(&quot;Description&quot;)\n    private String description;\n}\n</code></pre>\n<p><strong>MyAction.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyAction extends BaseAction&lt;MyInput, MyResult&gt; {\n}\n</code></pre>\n<p>The program is run like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyInput inObj = new MyInput();\ninObj.setTitle(&quot;Galaxy&quot;);\n\nMyAction act = new MyAction();\nMyResult resObj = act.execute(inObj); //exception here!\n</code></pre>\n<p>My question is, MyResult (as RT) is passed to the generic base class MyAction, it should be OK to use in BaseAction class (MyResult as RT). But why Jackson is not able to take RT as MyResult to de-serialize JSON string, but as BaseResult (hence the ClassCastException) ?!</p>\n<p>Jackson is working fine as below, if I create TypeReference using MyResult class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypeReference&lt;MyResult&gt; typeRef = new TypeReference&lt;MyResult&gt;() {};\nreturn JacksonFunctions.jacksonObjectMapper.readValue(jsonString, typeRef);\n</code></pre>\n<p>As a workaround, I can take above code to MyAction, it will work fine.</p>\n<p>But since the BaseAction already has RT (as MyResult), I don't know why it won't work.</p>\n"},{"tags":["java","powershell","maven","visual-studio-code","cmd"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698992248,"creation_date":1698992248,"answer_id":77414541,"question_id":77406326,"body_markdown":"Edit the following setting:\r\n\r\n```\r\n&quot;maven.executable.path&quot;: &quot;&quot;\r\n```\r\n\r\n[Official documents][1], or search `maven` in the *Settings* panel for more related settings.\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-build#_maven","title":"How do you change vs studio directory?","body":"<p>Edit the following setting:</p>\n<pre><code>&quot;maven.executable.path&quot;: &quot;&quot;\n</code></pre>\n<p><a href=\"https://code.visualstudio.com/docs/java/java-build#_maven\" rel=\"nofollow noreferrer\">Official documents</a>, or search <code>maven</code> in the <em>Settings</em> panel for more related settings.</p>\n"}],"owner":{"account_id":27877406,"reputation":1,"user_id":21286618,"display_name":"Kit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698992248,"creation_date":1698885008,"question_id":77406326,"body_markdown":"I was trying to run my maven java project in the VSCode PowerShell terminal, with this command\r\n`mvn package`, but I get this error:\r\n\r\n```none\r\n&amp; : The term &#39;c:\\Users\\milop\\OneDrive\\Documents\\Personal Github Repositories\\StockAnalysis-1\\libs\\mvn.cmd&#39; is not recognized as a name of a cmdlet, function, \r\nscript file, or executable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n\r\n```\r\n\r\nI noticed that the directory for mvn.cmd was completely wrong being:\r\n`c:\\Users\\milop\\OneDrive\\Documents\\Personal Github Repositories\\StockAnalysis-1\\libs\\mvn.cmd`\r\nand it should have been:\r\n`C:\\Program Files\\apache-maven-3.9.5\\bin\\mvn.cmd`\r\n\r\nMy question is how do I fix this error? I do not know if this has to do with this error but when I click dependencies in my maven project it says backround process terminated with code 1 error.\r\n\r\nI tried looking back at my environmental variable on my computer but everything is right there.\r\nI also tried redownloading maven but no luck.","title":"How do you change vs studio directory?","body":"<p>I was trying to run my maven java project in the VSCode PowerShell terminal, with this command\n<code>mvn package</code>, but I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&amp; : The term 'c:\\Users\\milop\\OneDrive\\Documents\\Personal Github Repositories\\StockAnalysis-1\\libs\\mvn.cmd' is not recognized as a name of a cmdlet, function, \nscript file, or executable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\n\n</code></pre>\n<p>I noticed that the directory for mvn.cmd was completely wrong being:\n<code>c:\\Users\\milop\\OneDrive\\Documents\\Personal Github Repositories\\StockAnalysis-1\\libs\\mvn.cmd</code>\nand it should have been:\n<code>C:\\Program Files\\apache-maven-3.9.5\\bin\\mvn.cmd</code></p>\n<p>My question is how do I fix this error? I do not know if this has to do with this error but when I click dependencies in my maven project it says backround process terminated with code 1 error.</p>\n<p>I tried looking back at my environmental variable on my computer but everything is right there.\nI also tried redownloading maven but no luck.</p>\n"},{"tags":["java","android","jacoco","android-jacoco"],"owner":{"account_id":29816194,"reputation":1,"user_id":22850420,"display_name":"Suresh P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698992045,"creation_date":1698992045,"question_id":77414530,"body_markdown":"I&#39;m currently working on generating a Jacoco report for my Android project. The project is using Kotlin 1.8.20, Java version 17, and Gradle version 8.0. In my build.gradle file, I&#39;ve added the Jacoco Agent as a dependency using the following classpath: &quot;org.jacoco:org.jacoco.agent:0.8.8&quot;.I&#39;m trying to access the Jacoco agent within the **`JacocoInstrumentation`** class using Reflection, as shown below:\r\n\r\n```\r\nObject agent = Class.forName(&quot;org.jacoco.agent.rt.RT&quot;)\r\n    .getMethod(&quot;getAgent&quot;)\r\n    .invoke(null);\r\n```\r\n\r\nI&#39;ve attempted this with different versions of Jacoco, ranging from 0.8.8 to 0.8.11. However, I&#39;m consistently encountering the same error. The code was previously working fine when I was using Java version 1.8 and Gradle version 6. After the migration, I&#39;m getting the following error:\r\n\r\n```\r\njava.lang.reflect.InvocationTargetException\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at package.JacocoInstrumentation.generateCoverageReport(JacocoInstrumentation.java:88)\r\n```\r\n\r\nThe error seems to occur at the line **`Class.forName(&quot;org.jacoco.agent.rt.RT&quot;)`**. Can you please provide some insights or guidance on how to resolve this issue?","title":"Issues with Jacoco Agent in Android Project After Migrating to Kotlin 1.8.20, Java 17, and Gradle 8.0","body":"<p>I'm currently working on generating a Jacoco report for my Android project. The project is using Kotlin 1.8.20, Java version 17, and Gradle version 8.0. In my build.gradle file, I've added the Jacoco Agent as a dependency using the following classpath: &quot;org.jacoco:org.jacoco.agent:0.8.8&quot;.I'm trying to access the Jacoco agent within the <strong><code>JacocoInstrumentation</code></strong> class using Reflection, as shown below:</p>\n<pre><code>Object agent = Class.forName(&quot;org.jacoco.agent.rt.RT&quot;)\n    .getMethod(&quot;getAgent&quot;)\n    .invoke(null);\n</code></pre>\n<p>I've attempted this with different versions of Jacoco, ranging from 0.8.8 to 0.8.11. However, I'm consistently encountering the same error. The code was previously working fine when I was using Java version 1.8 and Gradle version 6. After the migration, I'm getting the following error:</p>\n<pre><code>java.lang.reflect.InvocationTargetException\n    at java.lang.reflect.Method.invoke(Native Method)\n    at package.JacocoInstrumentation.generateCoverageReport(JacocoInstrumentation.java:88)\n</code></pre>\n<p>The error seems to occur at the line <strong><code>Class.forName(&quot;org.jacoco.agent.rt.RT&quot;)</code></strong>. Can you please provide some insights or guidance on how to resolve this issue?</p>\n"},{"tags":["java","jpa","entity","equals","hashcode"],"comments":[{"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"score":0,"creation_date":1360507918,"post_id":4388360,"comment_id":20725290,"body_markdown":"To elaborate on this question&#39;s motivation: [`Collection.contains(JpaEntity someObject)`](http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#contains(java.lang.Object)) requires a reasonable `JpaEntity.equals(...)` method.","body":"To elaborate on this question&#39;s motivation: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Collection.contains(JpaEntity someObject)</code></a> requires a reasonable <code>JpaEntity.equals(...)</code> method."},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1475485668,"post_id":4388360,"comment_id":66945847,"body_markdown":"See also http://stackoverflow.com/a/39827962/548473 (spring-data-jpa implementation)","body":"See also <a href=\"http://stackoverflow.com/a/39827962/548473\">stackoverflow.com/a/39827962/548473</a> (spring-data-jpa implementation)"}],"answers":[{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavloviƒá"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291817473,"creation_date":1291817473,"answer_id":4388397,"question_id":4388360,"body_markdown":"That&#39;s the only way. You may want to try [Pojomatic][1] library which does the hard job for you.\r\n\r\n\r\n  [1]: http://code.google.com/p/pojomatic/","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p>That's the only way. You may want to try <a href=\"http://code.google.com/p/pojomatic/\" rel=\"nofollow\">Pojomatic</a> library which does the hard job for you.</p>\n"},{"comments":[{"owner":{"account_id":1273642,"reputation":753,"user_id":1229355,"accept_rate":50,"display_name":"Tyagi Akhilesh"},"score":1,"creation_date":1662488654,"post_id":4388438,"comment_id":130015637,"body_markdown":"https://developer.jboss.org/docs/DOC-13933","body":"<a href=\"https://developer.jboss.org/docs/DOC-13933\" rel=\"nofollow noreferrer\">developer.jboss.org/docs/DOC-13933</a>"}],"tags":[],"owner":{"account_id":194980,"reputation":406,"user_id":437611,"display_name":"Cid54"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1307902227,"creation_date":1291817757,"answer_id":4388438,"question_id":4388360,"body_markdown":"[There is information in the Hibernate documentation on this topic.][1]\r\n\r\n\r\n  [1]: http://community.jboss.org/wiki/EqualsandHashCode","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p><a href=\"http://community.jboss.org/wiki/EqualsandHashCode\" rel=\"noreferrer\">There is information in the Hibernate documentation on this topic.</a></p>\n"},{"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1291818209,"post_id":4388444,"comment_id":4781596,"body_markdown":"I have used from time to time equals and hashcode overridden with the id only, and it has worked fine. True I considered the usecases, and the fact that I won&#39;t be working with transient entities. So I wouldn&#39;t say exactly &#39;never&#39; :)","body":"I have used from time to time equals and hashcode overridden with the id only, and it has worked fine. True I considered the usecases, and the fact that I won&#39;t be working with transient entities. So I wouldn&#39;t say exactly &#39;never&#39; :)"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1291818442,"post_id":4388444,"comment_id":4781644,"body_markdown":"I *would* say never, because not being able to compare transient and attached entities is a no-go for me, but I understand the simplicity of your approach (as long as you know the drawbacks)","body":"I <i>would</i> say never, because not being able to compare transient and attached entities is a no-go for me, but I understand the simplicity of your approach (as long as you know the drawbacks)"},{"owner":{"account_id":170117,"reputation":17037,"user_id":396618,"accept_rate":100,"display_name":"Joeri Hendrickx"},"score":0,"creation_date":1291819786,"post_id":4388444,"comment_id":4781943,"body_markdown":"That depends on when you assign your ids.  If there are business keys, I prefer not to have any other ids at all.  Like that the point is moot.","body":"That depends on when you assign your ids.  If there are business keys, I prefer not to have any other ids at all.  Like that the point is moot."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1291819893,"post_id":4388444,"comment_id":4781975,"body_markdown":"@Joeri I usually don&#39;t assign IDs, the JPA provider does.","body":"@Joeri I usually don&#39;t assign IDs, the JPA provider does."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1291819929,"post_id":4388444,"comment_id":4781982,"body_markdown":"@Joeri but I agree, business keys as IDs is a nice concept","body":"@Joeri but I agree, business keys as IDs is a nice concept"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":5,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1291817804,"creation_date":1291817804,"answer_id":4388444,"question_id":4388360,"body_markdown":"Yes, you should define corresponding `equals()` and `hashcode()` methods, but you should NEVER let the id be part of either. (See [this recent answer of mine][1] in a similar question)\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4323245/what-is-the-best-practice-when-implementing-equals-for-entities-with-generated/4323283#4323283","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p>Yes, you should define corresponding <code>equals()</code> and <code>hashcode()</code> methods, but you should NEVER let the id be part of either. (See <a href=\"https://stackoverflow.com/questions/4323245/what-is-the-best-practice-when-implementing-equals-for-entities-with-generated/4323283#4323283\">this recent answer of mine</a> in a similar question)</p>\n"},{"comments":[{"owner":{"account_id":255194,"reputation":821,"user_id":535072,"accept_rate":20,"display_name":"j2j"},"score":0,"creation_date":1291819701,"post_id":4388453,"comment_id":4781917,"body_markdown":"ok, I added this in Entity1 and now it works: public boolean equals(Object other){\n        if (this.getClass().isInstance(other)){ \n            return this.id == ((UserEntity)other).id;\n        } else {\n            return false;\n        }\n}\npublic int hashCode() {\n\t\treturn id;\n}","body":"ok, I added this in Entity1 and now it works: public boolean equals(Object other){         if (this.getClass().isInstance(other)){              return this.id == ((UserEntity)other).id;         } else {             return false;         } } public int hashCode() { \t\treturn id; }"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":1,"creation_date":1291819959,"post_id":4388453,"comment_id":4781988,"body_markdown":"so you chose the least preferable option ;) Watch out for side-effects.","body":"so you chose the least preferable option ;) Watch out for side-effects."},{"owner":{"account_id":13093,"reputation":18627,"user_id":26112,"accept_rate":84,"display_name":"eliocs"},"score":1,"creation_date":1317916557,"post_id":4388453,"comment_id":9331003,"body_markdown":"Every time I start a JPA project I keep ending on this question, thanks for clearing my mind again and again :)","body":"Every time I start a JPA project I keep ending on this question, thanks for clearing my mind again and again :)"},{"owner":{"account_id":50263,"reputation":22906,"user_id":149872,"accept_rate":100,"display_name":"Elias Dorneles"},"score":1,"creation_date":1343535450,"post_id":4388453,"comment_id":15527712,"body_markdown":"I recommend using [Lombok](http://projectlombok.org/), it has a nice `@EqualsAndHashcode` annotation that creates these methods for you.","body":"I recommend using <a href=\"http://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a>, it has a nice <code>@EqualsAndHashcode</code> annotation that creates these methods for you."},{"owner":{"account_id":4375513,"reputation":146,"user_id":3568658,"accept_rate":75,"display_name":"Prabhat Gaur"},"score":0,"creation_date":1608033319,"post_id":4388453,"comment_id":115452520,"body_markdown":"for me, removeAll() doesn&#39;t need equals() for an Arraylist of entities","body":"for me, removeAll() doesn&#39;t need equals() for an Arraylist of entities"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":5,"down_vote_count":2,"up_vote_count":131,"is_accepted":true,"score":129,"last_activity_date":1698991956,"creation_date":1291817879,"answer_id":4388453,"question_id":4388360,"body_markdown":"Not necessarily. There are three options:\r\n\r\n- don&#39;t override - thus you will be working with instances. This is fine in cases when you are working with the collections with only entities that are attached to the session (and hence guaranteed to be the same instance). This is (for me) the preferred way in many cases, because it requires less code and less consideration when overriding.\r\n\r\n- override `hashCode()` and `equals()` with a business key. That may be a subset of properties that identify the entity. For example, for a `User`, a good business key might be the `username` or the `email`. This is considered good practice.\r\n\r\n- override `hashCode()` and `equals()` using the ID field only. This is fine in some cases, especially if you have a manually-assigned identifier (like an UUID). It is also fine if your entity will never go into a collection. But for transient entities (with no identifier) that go into collections, it causes problems, so careful with this option. As seanizer noted - you should avoid it. Generally, always, unless you are really aware of what you are doing (and perhaps documenting it)\r\n\r\n&lt;a href=&quot;http://community.jboss.org/wiki/EqualsandHashCode&quot;&gt;See this article&lt;/a&gt; for more details. Also note that `equals()` and `hashCode()` are tied and should be implemented both with exactly the same fields.","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p>Not necessarily. There are three options:</p>\n<ul>\n<li><p>don't override - thus you will be working with instances. This is fine in cases when you are working with the collections with only entities that are attached to the session (and hence guaranteed to be the same instance). This is (for me) the preferred way in many cases, because it requires less code and less consideration when overriding.</p>\n</li>\n<li><p>override <code>hashCode()</code> and <code>equals()</code> with a business key. That may be a subset of properties that identify the entity. For example, for a <code>User</code>, a good business key might be the <code>username</code> or the <code>email</code>. This is considered good practice.</p>\n</li>\n<li><p>override <code>hashCode()</code> and <code>equals()</code> using the ID field only. This is fine in some cases, especially if you have a manually-assigned identifier (like an UUID). It is also fine if your entity will never go into a collection. But for transient entities (with no identifier) that go into collections, it causes problems, so careful with this option. As seanizer noted - you should avoid it. Generally, always, unless you are really aware of what you are doing (and perhaps documenting it)</p>\n</li>\n</ul>\n<p><a href=\"http://community.jboss.org/wiki/EqualsandHashCode\" rel=\"nofollow noreferrer\">See this article</a> for more details. Also note that <code>equals()</code> and <code>hashCode()</code> are tied and should be implemented both with exactly the same fields.</p>\n"},{"tags":[],"owner":{"account_id":4690297,"reputation":3860,"user_id":3796586,"accept_rate":64,"display_name":"zbig"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1435217689,"creation_date":1432033381,"answer_id":30323810,"question_id":4388360,"body_markdown":"We tend to let IDE generate `hashCode()` and `equals()` for us. Be careful though. When you generate those methods for JPA Entities. Some versions of `equals()` checks for class identity\r\n\r\n    // ... inside equals() - wrong approach for Entities (cause of generate proxies)\r\n    if (o == null || this.getClass() != o.getClass()) {\r\n\t\t\treturn false;\r\n\t}\r\n    // ...\r\n\r\nThis would break your collections with some JPA libraries as those libraries create proxies to your entities (subclasses), like for example `MyGreatEntity_$$_javassist_7` in Hibernate.\r\n\r\n**In Entities always allow subclasses in `equals()`.**","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p>We tend to let IDE generate <code>hashCode()</code> and <code>equals()</code> for us. Be careful though. When you generate those methods for JPA Entities. Some versions of <code>equals()</code> checks for class identity</p>\n\n<pre><code>// ... inside equals() - wrong approach for Entities (cause of generate proxies)\nif (o == null || this.getClass() != o.getClass()) {\n        return false;\n}\n// ...\n</code></pre>\n\n<p>This would break your collections with some JPA libraries as those libraries create proxies to your entities (subclasses), like for example <code>MyGreatEntity_$$_javassist_7</code> in Hibernate.</p>\n\n<p><strong>In Entities always allow subclasses in <code>equals()</code>.</strong></p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1610185903,"creation_date":1465211324,"answer_id":37655873,"question_id":4388360,"body_markdown":"**Yes, you should!**\r\n\r\nIf you don&#39;t override the default `Java.lang.Object` `equals` and `hashCode` implementation: \r\n\r\n    @Entity(name = &quot;Book&quot;)\r\n    public class Book implements Identifiable&lt;Long&gt; {\r\n     \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nthe `merge` operation will return a different object instance and the equality contract is going to be broken.\r\n\r\nThe best way is to use a business key, like this:\r\n\r\n    @Entity\r\n    public class Book implements Identifiable&lt;Long&gt; {\r\n     \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @NaturalId\r\n        private String isbn;\r\n     \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof Book)) return false;\r\n            Book book = (Book) o;\r\n            return Objects.equals(getIsbn(), book.getIsbn());\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(getIsbn());\r\n        }\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nYou can also use the identifier for equality, but mind that the `hashCode` implementation should always return the same value, which for entities is not really a problem since you don&#39;t fetch many entities per DB transaction, as otherwise, the cost of fetching data is orders of magnitude larger than the single-bucket `HashMap` penalty imposed by using a fixed `hashCode`: \r\n\r\n    @Entity\r\n    public class Book implements Identifiable&lt;Long&gt; {\r\n     \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof Book)) return false;\r\n            Book book = (Book) o;\r\n            return Objects.equals(getId(), book.getId());\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n            return getClass().hashCode();\r\n        }\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p><strong>Yes, you should!</strong></p>\n<p>If you don't override the default <code>Java.lang.Object</code> <code>equals</code> and <code>hashCode</code> implementation:</p>\n<pre><code>@Entity(name = &quot;Book&quot;)\npublic class Book implements Identifiable&lt;Long&gt; {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>the <code>merge</code> operation will return a different object instance and the equality contract is going to be broken.</p>\n<p>The best way is to use a business key, like this:</p>\n<pre><code>@Entity\npublic class Book implements Identifiable&lt;Long&gt; {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    @NaturalId\n    private String isbn;\n \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Book)) return false;\n        Book book = (Book) o;\n        return Objects.equals(getIsbn(), book.getIsbn());\n    }\n \n    @Override\n    public int hashCode() {\n        return Objects.hash(getIsbn());\n    }\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>You can also use the identifier for equality, but mind that the <code>hashCode</code> implementation should always return the same value, which for entities is not really a problem since you don't fetch many entities per DB transaction, as otherwise, the cost of fetching data is orders of magnitude larger than the single-bucket <code>HashMap</code> penalty imposed by using a fixed <code>hashCode</code>:</p>\n<pre><code>@Entity\npublic class Book implements Identifiable&lt;Long&gt; {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Book)) return false;\n        Book book = (Book) o;\n        return Objects.equals(getId(), book.getId());\n    }\n \n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n"}],"owner":{"account_id":255194,"reputation":821,"user_id":535072,"accept_rate":20,"display_name":"j2j"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45036,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":4388453,"answer_count":6,"score":72,"last_activity_date":1698991956,"creation_date":1291817244,"question_id":4388360,"body_markdown":"I want to check if entity is in a Collection member (`@OneToMany` or `@ManyToMany`) of another entity:\r\n\r\n    if (entity2.getEntities1().contains(entity1)) { }\r\n\r\n","title":"Should I write equals() and hashCode() methods in JPA entities?","body":"<p>I want to check if entity is in a Collection member (<code>@OneToMany</code> or <code>@ManyToMany</code>) of another entity:</p>\n\n<pre><code>if (entity2.getEntities1().contains(entity1)) { }\n</code></pre>\n"},{"tags":["java","netbeans","window"],"answers":[{"comments":[{"owner":{"account_id":3782122,"reputation":605,"user_id":3141253,"display_name":"Samleo"},"score":0,"creation_date":1391054634,"post_id":19196958,"comment_id":32363909,"body_markdown":"That works, but the console input has been disabled. How do I enable it again? (Using BufferedReader)","body":"That works, but the console input has been disabled. How do I enable it again? (Using BufferedReader)"}],"tags":[],"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1380970515,"creation_date":1380970515,"answer_id":19196958,"question_id":19196709,"body_markdown":"You need to right click the console window and click clear.  \r\n\r\nHave a look here: http://mrhaki.blogspot.in/2008/08/clearing-output-window-in-netbeans.html\r\n","title":"Clearing Output Window in NetBeans","body":"<p>You need to right click the console window and click clear.  </p>\n\n<p>Have a look here: <a href=\"http://mrhaki.blogspot.in/2008/08/clearing-output-window-in-netbeans.html\" rel=\"nofollow\">http://mrhaki.blogspot.in/2008/08/clearing-output-window-in-netbeans.html</a></p>\n"}],"owner":{"account_id":3304841,"reputation":1447,"user_id":2779985,"accept_rate":57,"display_name":"BlueRay101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8362,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1698991700,"creation_date":1380968864,"question_id":19196709,"body_markdown":"How do I clear the output window in NetBeans?\r\n\r\nI mean the window where the `&quot;System.out.print&quot;` prints.\r\n\r\nI tried doing:\r\n\r\n    Runtime.getRuntime().exec(&quot;cls&quot;);\r\n\r\nBut it doesn&#39;t work.\r\n\r\nHow can I clear the output window, then?","title":"Clearing Output Window in NetBeans","body":"<p>How do I clear the output window in NetBeans?</p>\n\n<p>I mean the window where the <code>\"System.out.print\"</code> prints.</p>\n\n<p>I tried doing:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"cls\");\n</code></pre>\n\n<p>But it doesn't work.</p>\n\n<p>How can I clear the output window, then?</p>\n"},{"tags":["java","mongodb","ssl-certificate","x509"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1698999999,"post_id":77414419,"comment_id":136478155,"body_markdown":"Did you create the user? See [Add x.509 Certificate subject as a User](https://www.mongodb.com/docs/manual/tutorial/configure-x509-client-authentication/#add-x-509-certificate-subject-as-a-user)","body":"Did you create the user? See <a href=\"https://www.mongodb.com/docs/manual/tutorial/configure-x509-client-authentication/#add-x-509-certificate-subject-as-a-user\" rel=\"nofollow noreferrer\">Add x.509 Certificate subject as a User</a>"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698990398,"creation_date":1698990398,"question_id":77414419,"body_markdown":"I have following issue, trying to connect to mongoDB based on certificate login. Getting below error. Can anyone help me what went wrong with the below code.\r\n\r\n\r\n\r\n    com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): &#39;No verified subject name available from client&#39; on server pl-0-eu-central-1.dhcnl.mongodb.net:1034. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;No verified subject name available from client&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1698985993, &quot;i&quot;: 1}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;d9Hebf8UbI9S34obNbGQRBwvQtw=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 7263984866675392522}}, &quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1698985993, &quot;i&quot;: 1}}} \r\n\r\n\r\nAnd Java code :\r\n\r\n\r\n\r\npublic @Bean\r\n    MongoClient mongoClient() {\r\n\r\n\r\n        MongoClientSettings.Builder mongoClientOptions = MongoClientSettings.builder().applyToSslSettings(builder -&gt; builder.enabled(true).invalidHostNameAllowed(true));\r\n\r\n        try {\r\n\r\n            KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            try (InputStream in = new ClassPathResource(&quot;keystore.pkcs12&quot;).getInputStream()) {\r\n                keystore.load(in, &quot;password&quot;.toCharArray());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (CertificateException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            keyManagerFactory.init(keystore, &quot;password&quot;.toCharArray());\r\n\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            trustManagerFactory.init(keystore);\r\n\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), new SecureRandom());\r\n           mongoClientOptions.applyToSslSettings(builder -&gt; builder.enabled(true).context(sslContext));\r\n\r\n        } catch (NoSuchAlgorithmException | KeyStoreException | UnrecoverableKeyException | KeyManagementException e) {\r\n            e.printStackTrace();\r\n        }\r\n        String user =&quot;CN=sample,OU=Webservice,O=org,C=IN&quot;;\r\n       // String uri=&quot;mongodb+srv://hostname/?authSource=%24external&amp;authMechanism=MONGODB-X509&quot;;\r\n        String uri = &quot;mongodb://hostname/?ssl=true&amp;authSource=%24external&amp;authMechanism=MONGODB-X509&amp;retryWrites=true&amp;w=majority&quot;;\r\n        MongoClient mongoClient = MongoClients.create(\r\n                MongoClientSettings.builder().credential(MongoCredential.createMongoX509Credential(user)).applyConnectionString(new ConnectionString(uri))\r\n\r\n                        .applicationName(&quot;Sample Service&quot;)\r\n\r\n                        .retryWrites(true)\r\n                        .build());\r\n        return mongoClient;\r\n    }\r\n\r\n","title":"Mongodb x.509 :&#39;No verified subject name available from client&#39;","body":"<p>I have following issue, trying to connect to mongoDB based on certificate login. Getting below error. Can anyone help me what went wrong with the below code.</p>\n<pre><code>com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): 'No verified subject name available from client' on server pl-0-eu-central-1.dhcnl.mongodb.net:1034. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;No verified subject name available from client&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1698985993, &quot;i&quot;: 1}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;d9Hebf8UbI9S34obNbGQRBwvQtw=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 7263984866675392522}}, &quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1698985993, &quot;i&quot;: 1}}} \n</code></pre>\n<p>And Java code :</p>\n<p>public @Bean\nMongoClient mongoClient() {</p>\n<pre><code>    MongoClientSettings.Builder mongoClientOptions = MongoClientSettings.builder().applyToSslSettings(builder -&gt; builder.enabled(true).invalidHostNameAllowed(true));\n\n    try {\n\n        KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);\n        try (InputStream in = new ClassPathResource(&quot;keystore.pkcs12&quot;).getInputStream()) {\n            keystore.load(in, &quot;password&quot;.toCharArray());\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (CertificateException e) {\n            e.printStackTrace();\n        }\n\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n        keyManagerFactory.init(keystore, &quot;password&quot;.toCharArray());\n\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(keystore);\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), new SecureRandom());\n       mongoClientOptions.applyToSslSettings(builder -&gt; builder.enabled(true).context(sslContext));\n\n    } catch (NoSuchAlgorithmException | KeyStoreException | UnrecoverableKeyException | KeyManagementException e) {\n        e.printStackTrace();\n    }\n    String user =&quot;CN=sample,OU=Webservice,O=org,C=IN&quot;;\n   // String uri=&quot;mongodb+srv://hostname/?authSource=%24external&amp;authMechanism=MONGODB-X509&quot;;\n    String uri = &quot;mongodb://hostname/?ssl=true&amp;authSource=%24external&amp;authMechanism=MONGODB-X509&amp;retryWrites=true&amp;w=majority&quot;;\n    MongoClient mongoClient = MongoClients.create(\n            MongoClientSettings.builder().credential(MongoCredential.createMongoX509Credential(user)).applyConnectionString(new ConnectionString(uri))\n\n                    .applicationName(&quot;Sample Service&quot;)\n\n                    .retryWrites(true)\n                    .build());\n    return mongoClient;\n}\n</code></pre>\n"},{"tags":["java","wait","sleep","thread-sleep"],"comments":[{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":33,"creation_date":1402216111,"post_id":24104313,"comment_id":37182455,"body_markdown":"Use `Thread.Sleep()`.","body":"Use <code>Thread.Sleep()</code>."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":3,"creation_date":1402216337,"post_id":24104313,"comment_id":37182506,"body_markdown":"Consider to use a [Timer](http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html)","body":"Consider to use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html\" rel=\"nofollow noreferrer\">Timer</a>"},{"owner":{"account_id":74561,"reputation":4982,"user_id":214178,"accept_rate":100,"display_name":"artdanil"},"score":3,"creation_date":1402216664,"post_id":24104313,"comment_id":37182586,"body_markdown":"What is the purpose of waiting? Are you waiting for a certain event to happen? Make sure you understand what [sleep()](http://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html) method does","body":"What is the purpose of waiting? Are you waiting for a certain event to happen? Make sure you understand what <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html\" rel=\"nofollow noreferrer\">sleep()</a> method does"},{"owner":{"account_id":1532595,"reputation":4652,"user_id":1429432,"accept_rate":68,"display_name":"Yousha Aleayoub"},"score":1,"creation_date":1505590529,"post_id":24104313,"comment_id":79478966,"body_markdown":"@Tiny, it&#39;s NOT safe.","body":"@Tiny, it&#39;s NOT safe."},{"owner":{"account_id":96739,"reputation":3166,"user_id":262789,"display_name":"Jade"},"score":23,"creation_date":1506442865,"post_id":24104313,"comment_id":79820095,"body_markdown":"It is actually `Thread.sleep(&lt;milisecondsToSleep&gt;)`. The `s` shouldn&#39;t be capitalized.","body":"It is actually <code>Thread.sleep(&lt;milisecondsToSleep&gt;)</code>. The <code>s</code> shouldn&#39;t be capitalized."}],"answers":[{"tags":[],"owner":{"account_id":323748,"reputation":2731,"user_id":643951,"accept_rate":56,"display_name":"Ruslan"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1698989713,"creation_date":1402216092,"answer_id":24104329,"question_id":24104313,"body_markdown":"You need to use the `Thread.sleep()` call.\r\n\r\nMore info here: https://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html\r\n","title":"How do I make a delay in Java?","body":"<p>You need to use the <code>Thread.sleep()</code> call.</p>\n<p>More info here: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html</a></p>\n"},{"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":9,"creation_date":1479203340,"post_id":24104332,"comment_id":68447924,"body_markdown":"Don&#39;t forget to log the InterruptedException or you will never know this thread got interrupted.","body":"Don&#39;t forget to log the InterruptedException or you will never know this thread got interrupted."},{"owner":{"account_id":871918,"reputation":1835,"user_id":922577,"accept_rate":31,"display_name":"Brent212"},"score":30,"creation_date":1534369269,"post_id":24104332,"comment_id":90685705,"body_markdown":"I&#39;m curious as to what the Thread.currentThread().interrupt(); does here.","body":"I&#39;m curious as to what the Thread.currentThread().interrupt(); does here."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":8,"creation_date":1543850952,"post_id":24104332,"comment_id":94056224,"body_markdown":"see : &quot;Why do we have to interrupt the thread again?&quot; here : https://www.javaspecialists.eu/archive/Issue056.html","body":"see : &quot;Why do we have to interrupt the thread again?&quot; here : <a href=\"https://www.javaspecialists.eu/archive/Issue056.html\" rel=\"nofollow noreferrer\">javaspecialists.eu/archive/Issue056.html</a>"},{"owner":{"account_id":7846295,"reputation":357,"user_id":6667142,"display_name":"DFeng"},"score":1,"creation_date":1670948396,"post_id":24104332,"comment_id":131988717,"body_markdown":"If I read the link above correctly, `thread.sleep()` raises the interrupt flag. The try turns off the interrupt flag.  Calling `Thread.currentThread().interrupt();` raises the interrupt flag again. If other parts of your program (e.g dependencies) rely on threading/ or sleep as well, it will be looking for this nonexistent interrupt flag.\n\ntl;dr: Without `Thread.currentThread().interrupt()` invoked, you will introduce a nightmare bug to debug if other dependencies unknowingly use Thread.sleep() in their dependencies","body":"If I read the link above correctly, <code>thread.sleep()</code> raises the interrupt flag. The try turns off the interrupt flag.  Calling <code>Thread.currentThread().interrupt();</code> raises the interrupt flag again. If other parts of your program (e.g dependencies) rely on threading/ or sleep as well, it will be looking for this nonexistent interrupt flag.  tl;dr: Without <code>Thread.currentThread().interrupt()</code> invoked, you will introduce a nightmare bug to debug if other dependencies unknowingly use Thread.sleep() in their dependencies"},{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1675247670,"post_id":24104332,"comment_id":132885948,"body_markdown":"May be a noob question, but I don&#39;t understand why we need to catch the interrupt in the first place?","body":"May be a noob question, but I don&#39;t understand why we need to catch the interrupt in the first place?"}],"tags":[],"owner":{"account_id":4469602,"reputation":3302,"user_id":3636263,"accept_rate":56,"display_name":"Anju Aravind"},"comment_count":5,"down_vote_count":4,"up_vote_count":232,"is_accepted":false,"score":228,"last_activity_date":1661709969,"creation_date":1402216121,"answer_id":24104332,"question_id":24104313,"body_markdown":"Use `Thread.sleep(1000)`;\r\n\r\n`1000` is the number of milliseconds that the program will pause.\r\n\r\n```java\r\ntry {\r\n  Thread.sleep(1000);\r\n} catch (InterruptedException e) {\r\n  Thread.currentThread().interrupt();\r\n}\r\n```\r\n","title":"How do I make a delay in Java?","body":"<p>Use <code>Thread.sleep(1000)</code>;</p>\n<p><code>1000</code> is the number of milliseconds that the program will pause.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  Thread.sleep(1000);\n} catch (InterruptedException e) {\n  Thread.currentThread().interrupt();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5306113,"reputation":3722,"user_id":4233951,"accept_rate":56,"display_name":"atlas_scoffed"},"score":2,"creation_date":1512517979,"post_id":24104427,"comment_id":82288463,"body_markdown":"@Matthew Moisen I couldn&#39;t get this Java 8 example to run. What is App:: exactly? By changing myTask() to a runnable lambda it works: Runnable myTask = () -&gt; {...};","body":"@Matthew Moisen I couldn&#39;t get this Java 8 example to run. What is App:: exactly? By changing myTask() to a runnable lambda it works: Runnable myTask = () -&gt; {...};"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":4,"creation_date":1512545118,"post_id":24104427,"comment_id":82296601,"body_markdown":"It&#39;s a method reference @comfytoday - I suggest starting with [the documentation](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html).","body":"It&#39;s a method reference @comfytoday - I suggest starting with <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">the documentation</a>."},{"owner":{"account_id":5789509,"reputation":741,"user_id":4567552,"display_name":"John"},"score":2,"creation_date":1515180703,"post_id":24104427,"comment_id":83216686,"body_markdown":"`TimeUnit.SECONDS.wait(1)` is throwing `IllegalMonitorStateException` in Java 8.1 build 31 on Windows 6.3.  Instead, I&#39;m able to use `Thread.sleep(1000)` without a try/catch.","body":"<code>TimeUnit.SECONDS.wait(1)</code> is throwing <code>IllegalMonitorStateException</code> in Java 8.1 build 31 on Windows 6.3.  Instead, I&#39;m able to use <code>Thread.sleep(1000)</code> without a try/catch."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1515182734,"post_id":24104427,"comment_id":83217608,"body_markdown":"You called `wait` not `sleep` @JohnMeyer. Be more careful.","body":"You called <code>wait</code> not <code>sleep</code> @JohnMeyer. Be more careful."},{"owner":{"account_id":2080988,"reputation":969,"user_id":1852977,"display_name":"Shai Alon"},"score":3,"creation_date":1565784712,"post_id":24104427,"comment_id":101458537,"body_markdown":"In Java 8, in java.util.concurrent.TimeUnit you get ```Unhandled exception: java.lang.InterruptedExecution``` for the ```sleep(1)```","body":"In Java 8, in java.util.concurrent.TimeUnit you get <code>Unhandled exception: java.lang.InterruptedExecution</code> for the <code>sleep(1)</code>"},{"owner":{"account_id":2080988,"reputation":969,"user_id":1852977,"display_name":"Shai Alon"},"score":1,"creation_date":1565784833,"post_id":24104427,"comment_id":101458592,"body_markdown":"You must surround the ```TimeUnit.SECONDS.sleep(1);``` with ```try catch```","body":"You must surround the <code>TimeUnit.SECONDS.sleep(1);</code> with <code>try catch</code>"},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":0,"creation_date":1566224627,"post_id":24104427,"comment_id":101579266,"body_markdown":"@ShaiAlon What can one usually have in that catch block ?","body":"@ShaiAlon What can one usually have in that catch block ?"},{"owner":{"account_id":16048752,"reputation":328,"user_id":11583240,"display_name":"need_to_know_now"},"score":0,"creation_date":1613898724,"post_id":24104427,"comment_id":117213866,"body_markdown":"If anyone is still struggling with this function, make the enclosing function that calls ```sleep()``` throw InterruptedException with ```throws``` and catch it where the function is being called. @Stephane Or simply enclose that statement in a try-catch to catch the InterruptedException and print the stack trace.","body":"If anyone is still struggling with this function, make the enclosing function that calls <code>sleep()</code> throw InterruptedException with <code>throws</code> and catch it where the function is being called. @Stephane Or simply enclose that statement in a try-catch to catch the InterruptedException and print the stack trace."}],"tags":[],"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"comment_count":8,"down_vote_count":2,"up_vote_count":1123,"is_accepted":true,"score":1121,"last_activity_date":1470771971,"creation_date":1402216975,"answer_id":24104427,"question_id":24104313,"body_markdown":"If you want to pause then use `java.util.concurrent.TimeUnit`:\r\n\r\n    TimeUnit.SECONDS.sleep(1);\r\n\r\nTo sleep for one second or\r\n\r\n    TimeUnit.MINUTES.sleep(1);\r\n\r\nTo sleep for a minute.\r\n\r\nAs this is a loop, this presents an inherent problem - drift. Every time you run code and then sleep you will be drifting a little bit from running, say, every second. If this is an issue then don&#39;t use `sleep`.\r\n\r\nFurther, `sleep` isn&#39;t very flexible when it comes to control.\r\n\r\nFor running a task every second or at a one second delay I would **strongly** recommend a [`ScheduledExecutorService`][1] and either [`scheduleAtFixedRate`][2] or [`scheduleWithFixedDelay`][3].\r\n\r\nFor example, to run the method `myTask` every second (Java 8):\r\n\r\n    public static void main(String[] args) {\r\n        final ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n        executorService.scheduleAtFixedRate(App::myTask, 0, 1, TimeUnit.SECONDS);\r\n    }\r\n\r\n    private static void myTask() {\r\n        System.out.println(&quot;Running&quot;);\r\n    }\r\n\r\nAnd in Java 7:\r\n\r\n    public static void main(String[] args) {\r\n        final ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n        executorService.scheduleAtFixedRate(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                myTask();\r\n            }\r\n        }, 0, 1, TimeUnit.SECONDS);\r\n    }\r\n\r\n    private static void myTask() {\r\n        System.out.println(&quot;Running&quot;);\r\n    }\r\n\r\n[1]:http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\n\r\n[2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\r\n\r\n[3]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)","title":"How do I make a delay in Java?","body":"<p>If you want to pause then use <code>java.util.concurrent.TimeUnit</code>:</p>\n\n<pre><code>TimeUnit.SECONDS.sleep(1);\n</code></pre>\n\n<p>To sleep for one second or</p>\n\n<pre><code>TimeUnit.MINUTES.sleep(1);\n</code></pre>\n\n<p>To sleep for a minute.</p>\n\n<p>As this is a loop, this presents an inherent problem - drift. Every time you run code and then sleep you will be drifting a little bit from running, say, every second. If this is an issue then don't use <code>sleep</code>.</p>\n\n<p>Further, <code>sleep</code> isn't very flexible when it comes to control.</p>\n\n<p>For running a task every second or at a one second delay I would <strong>strongly</strong> recommend a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\"><code>ScheduledExecutorService</code></a> and either <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\"><code>scheduleAtFixedRate</code></a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\"><code>scheduleWithFixedDelay</code></a>.</p>\n\n<p>For example, to run the method <code>myTask</code> every second (Java 8):</p>\n\n<pre><code>public static void main(String[] args) {\n    final ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n    executorService.scheduleAtFixedRate(App::myTask, 0, 1, TimeUnit.SECONDS);\n}\n\nprivate static void myTask() {\n    System.out.println(\"Running\");\n}\n</code></pre>\n\n<p>And in Java 7:</p>\n\n<pre><code>public static void main(String[] args) {\n    final ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n    executorService.scheduleAtFixedRate(new Runnable() {\n        @Override\n        public void run() {\n            myTask();\n        }\n    }, 0, 1, TimeUnit.SECONDS);\n}\n\nprivate static void myTask() {\n    System.out.println(\"Running\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":5,"creation_date":1534703857,"post_id":51920600,"comment_id":90791174,"body_markdown":"Using `catch (InterruptedException e) { /* empty */ }` is **NOT** a sensible solution here. At the very least, you should provide some log information. For more information about the subject, see https://www.javaspecialists.eu/archive/Issue056.html","body":"Using <code>catch (InterruptedException e) { &#47;* empty *&#47; }</code> is <b>NOT</b> a sensible solution here. At the very least, you should provide some log information. For more information about the subject, see <a href=\"https://www.javaspecialists.eu/archive/Issue056.html\" rel=\"nofollow noreferrer\">javaspecialists.eu/archive/Issue056.html</a>"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":1,"creation_date":1620661374,"post_id":51920600,"comment_id":119260233,"body_markdown":"@Marco13 Actually due to your comment and comments from some other people I modified the method TimeUtils.sleepFor() and now it interrupts current thread. So, it is still convenient in a way that you don&#39;t need to catch the  InterruptedException, but the interruption mechanism now works.","body":"@Marco13 Actually due to your comment and comments from some other people I modified the method TimeUtils.sleepFor() and now it interrupts current thread. So, it is still convenient in a way that you don&#39;t need to catch the  InterruptedException, but the interruption mechanism now works."}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1534703013,"creation_date":1534703013,"answer_id":51920600,"question_id":24104313,"body_markdown":"Using `TimeUnit.SECONDS.sleep(1);` or `Thread.sleep(1000);` Is acceptable way to do it. In both cases you have to catch `InterruptedException`which makes your code Bulky.There is an Open Source java library called MgntUtils (written by me) that provides utility that already deals with `InterruptedException` inside. So your code would just include one line:\r\n\r\n    TimeUtils.sleepFor(1, TimeUnit.SECONDS);\r\n\r\nSee the javadoc [here][1]. You can access library from [Maven Central][2] or from [Github][3]. The article explaining about the library could be found [here][4]\r\n\r\n\r\n  [1]: https://appdoc.app/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/com/mgnt/utils/TimeUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/jar\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases\r\n  [4]: https://www.linkedin.com/pulse/open-source-java-library-some-useful-utilities-michael-gantman/","title":"How do I make a delay in Java?","body":"<p>Using <code>TimeUnit.SECONDS.sleep(1);</code> or <code>Thread.sleep(1000);</code> Is acceptable way to do it. In both cases you have to catch <code>InterruptedException</code>which makes your code Bulky.There is an Open Source java library called MgntUtils (written by me) that provides utility that already deals with <code>InterruptedException</code> inside. So your code would just include one line:</p>\n\n<pre><code>TimeUtils.sleepFor(1, TimeUnit.SECONDS);\n</code></pre>\n\n<p>See the javadoc <a href=\"https://appdoc.app/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/com/mgnt/utils/TimeUtils.html\" rel=\"noreferrer\">here</a>. You can access library from <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/jar\" rel=\"noreferrer\">Maven Central</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"noreferrer\">Github</a>. The article explaining about the library could be found <a href=\"https://www.linkedin.com/pulse/open-source-java-library-some-useful-utilities-michael-gantman/\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":5312458,"reputation":347,"user_id":4238275,"display_name":"Bachan Joseph"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1560453316,"creation_date":1542217043,"answer_id":53305893,"question_id":24104313,"body_markdown":"Use  `Thread.sleep(100);`.\r\nThe unit of time is milliseconds\r\n\r\nFor example:\r\n\r\n    public class SleepMessages {\r\n        public static void main(String args[])\r\n            throws InterruptedException {\r\n            String importantInfo[] = {\r\n                &quot;Mares eat oats&quot;,\r\n                &quot;Does eat oats&quot;,\r\n                &quot;Little lambs eat ivy&quot;,\r\n                &quot;A kid will eat ivy too&quot;\r\n            };\r\n    \r\n            for (int i = 0;\r\n                 i &lt; importantInfo.length;\r\n                 i++) {\r\n                //Pause for 4 seconds\r\n                Thread.sleep(4000);\r\n                //Print a message\r\n                System.out.println(importantInfo[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How do I make a delay in Java?","body":"<p>Use  <code>Thread.sleep(100);</code>.\nThe unit of time is milliseconds</p>\n\n<p>For example:</p>\n\n<pre><code>public class SleepMessages {\n    public static void main(String args[])\n        throws InterruptedException {\n        String importantInfo[] = {\n            \"Mares eat oats\",\n            \"Does eat oats\",\n            \"Little lambs eat ivy\",\n            \"A kid will eat ivy too\"\n        };\n\n        for (int i = 0;\n             i &lt; importantInfo.length;\n             i++) {\n            //Pause for 4 seconds\n            Thread.sleep(4000);\n            //Print a message\n            System.out.println(importantInfo[i]);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"score":0,"creation_date":1626677953,"post_id":56546464,"comment_id":120947418,"body_markdown":"Looking at the almost same answer by @Hecanet there is no `Thread.currentThread().interrupt();` If it is important why is it not shown? - If it is not important why would it be inserted/omitted?","body":"Looking at the almost same answer by @Hecanet there is no <code>Thread.currentThread().interrupt();</code> If it is important why is it not shown? - If it is not important why would it be inserted/omitted?"}],"tags":[],"owner":{"account_id":14660797,"reputation":131,"user_id":11091501,"display_name":"dominic03"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1686724825,"creation_date":1560264831,"answer_id":56546464,"question_id":24104313,"body_markdown":"I know this is a very old post but this may help someone:\r\nYou can create a method, so whenever you need to pause you can type `pause(1000)` or any other millisecond value:\r\n\r\n    public static void pause(int ms) {\r\n        try {\r\n            Thread.sleep(ms);\r\n        } catch (InterruptedException e) {\r\n            System.err.format(&quot;InterruptedException : %s%n&quot;, e);\r\n        }\r\n    }\r\n\r\nThis is inserted just above the `public static void main(String[] args)`, inside the class. Then, to call on the method, type `pause(ms)` but replace `ms` with the number of milliseconds to pause. That way, you don&#39;t have to insert the entire try-catch statement whenever you want to pause.","title":"How do I make a delay in Java?","body":"<p>I know this is a very old post but this may help someone:\nYou can create a method, so whenever you need to pause you can type <code>pause(1000)</code> or any other millisecond value:</p>\n<pre><code>public static void pause(int ms) {\n    try {\n        Thread.sleep(ms);\n    } catch (InterruptedException e) {\n        System.err.format(&quot;InterruptedException : %s%n&quot;, e);\n    }\n}\n</code></pre>\n<p>This is inserted just above the <code>public static void main(String[] args)</code>, inside the class. Then, to call on the method, type <code>pause(ms)</code> but replace <code>ms</code> with the number of milliseconds to pause. That way, you don't have to insert the entire try-catch statement whenever you want to pause.</p>\n"},{"comments":[{"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"score":11,"creation_date":1626677824,"post_id":57567069,"comment_id":120947379,"body_markdown":"What does `Thread.currentThread().interrupt();` do? Why is it important?","body":"What does <code>Thread.currentThread().interrupt();</code> do? Why is it important?"}],"tags":[],"owner":{"account_id":5833251,"reputation":431,"user_id":11949667,"display_name":"Hecanet"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1593332941,"creation_date":1566278161,"answer_id":57567069,"question_id":24104313,"body_markdown":"Use this:\r\n\r\n```java\r\npublic static void wait(int ms)\r\n{\r\n    try\r\n    {\r\n        Thread.sleep(ms);\r\n    }\r\n    catch(InterruptedException ex)\r\n    {\r\n        Thread.currentThread().interrupt();\r\n    }\r\n}\r\n```\r\n\r\nand, then you can call this method anywhere like:\r\n\r\n    wait(1000);","title":"How do I make a delay in Java?","body":"<p>Use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void wait(int ms)\n{\n    try\n    {\n        Thread.sleep(ms);\n    }\n    catch(InterruptedException ex)\n    {\n        Thread.currentThread().interrupt();\n    }\n}\n</code></pre>\n<p>and, then you can call this method anywhere like:</p>\n<pre><code>wait(1000);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2745991,"reputation":1440,"user_id":2366397,"display_name":"igor.zh"},"score":0,"creation_date":1672763065,"post_id":70234894,"comment_id":132345373,"body_markdown":"great answer, but it won&#39;t be bad to mention spurious wake-ups as a third reason.","body":"great answer, but it won&#39;t be bad to mention spurious wake-ups as a third reason."}],"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1638711749,"creation_date":1638711749,"answer_id":70234894,"question_id":24104313,"body_markdown":"There is also one more way to wait.\r\n\r\nYou can use [LockSupport][1] methods, e.g.:\r\n\r\n```java\r\nLockSupport.parkNanos(1_000_000_000); // Disables current thread for scheduling at most for 1 second\r\n```\r\n\r\nFortunately they don&#39;t throw any checked exception. But on the other hand according to the documentation there are more reasons for thread to be enabled:\r\n\r\n- Some other thread invokes unpark with the current thread as the target\r\n- Some other thread interrupts the current thread\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/LockSupport.html","title":"How do I make a delay in Java?","body":"<p>There is also one more way to wait.</p>\n<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/LockSupport.html\" rel=\"nofollow noreferrer\">LockSupport</a> methods, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LockSupport.parkNanos(1_000_000_000); // Disables current thread for scheduling at most for 1 second\n</code></pre>\n<p>Fortunately they don't throw any checked exception. But on the other hand according to the documentation there are more reasons for thread to be enabled:</p>\n<ul>\n<li>Some other thread invokes unpark with the current thread as the target</li>\n<li>Some other thread interrupts the current thread</li>\n</ul>\n"}],"owner":{"account_id":4129322,"reputation":6135,"user_id":3387622,"accept_rate":36,"display_name":"ardb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2107254,"favorite_count":0,"down_vote_count":3,"up_vote_count":576,"accepted_answer_id":24104427,"answer_count":8,"score":573,"last_activity_date":1698989713,"creation_date":1402215981,"question_id":24104313,"body_markdown":"I am trying to do something in Java and I need something to wait / delay for an amount of seconds in a while loop.\r\n\r\n    while (true) {\r\n        if (i == 3) {\r\n            i = 0;\r\n        }\r\n\r\n        ceva[i].setSelected(true);\r\n\r\n        // I need to wait here\r\n\r\n        ceva[i].setSelected(false);\r\n\r\n        // I need to wait here\r\n\r\n        i++;\r\n    }\r\n\r\nI want to build a step sequencer.\r\n\r\nHow do I make a delay in Java?\r\n\r\n","title":"How do I make a delay in Java?","body":"<p>I am trying to do something in Java and I need something to wait / delay for an amount of seconds in a while loop.</p>\n<pre><code>while (true) {\n    if (i == 3) {\n        i = 0;\n    }\n\n    ceva[i].setSelected(true);\n\n    // I need to wait here\n\n    ceva[i].setSelected(false);\n\n    // I need to wait here\n\n    i++;\n}\n</code></pre>\n<p>I want to build a step sequencer.</p>\n<p>How do I make a delay in Java?</p>\n"},{"tags":["java","linked-list","nullpointerexception"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1698988411,"post_id":77414256,"comment_id":136476906,"body_markdown":"`node` can be null if the list is empty. You need to handle that case.","body":"<code>node</code> can be null if the list is empty. You need to handle that case."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1698988778,"post_id":77414256,"comment_id":136476932,"body_markdown":"@user207421 Actually it&#39;s always null.","body":"@user207421 Actually it&#39;s always null."}],"answers":[{"tags":[],"owner":{"account_id":21534447,"reputation":1,"user_id":15873314,"display_name":"Awwal15"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698989489,"creation_date":1698988844,"answer_id":77414344,"question_id":77414256,"body_markdown":"**Try doing this**\r\n\r\n    public class Node \r\n    {\r\n      Node? next;\r\n      int data;\r\n   \r\n      public Node(int d)\r\n      {\r\n         this.data = d;\r\n         this.next = null;   \r\n      }\r\n    }\r\n\r\ndon&#39;t worry about the this keyword ","title":"LinkedList null pointer error. I keep on getting a null pointer exception when trying to print the elements in the LinkedList","body":"<p><strong>Try doing this</strong></p>\n<pre><code>public class Node \n{\n  Node? next;\n  int data;\n\n  public Node(int d)\n  {\n     this.data = d;\n     this.next = null;   \n  }\n}\n</code></pre>\n<p>don't worry about the this keyword</p>\n"},{"tags":[],"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698989176,"creation_date":1698989176,"answer_id":77414357,"question_id":77414256,"body_markdown":"Problem is you are always setting at the start. \r\n\r\n    Node curr = node;\r\n\r\nyou need to do that after the check.\r\n\r\n\r\n\tclass LinkedLists {\r\n\t\r\n\t\tprivate Node headNode;\t\r\n\r\n\t\tpublic LinkedLists() {\t\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\tpublic void add(int d) {\r\n\t\t\tNode newNode = new Node(d);\r\n            //remove it from here \r\n\t\t\t\r\n\t\t\tif(headNode == null) {\r\n\t\t\t\theadNode = newNode;\r\n                return;\r\n            }\t\t\r\n            //Added it here \r\n\t\t    curr = headNode;\r\n\t\t\twhile(curr.next != null) {\r\n\t\t\t\tcurr = curr.next;\t\t\r\n\t\t\t}\t\t\r\n\t\t\tcurr.next = newNode;\r\n\t\t\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tpublic void print() {\r\n\t\t\r\n\t\t\tNode curr = headNode;\r\n\t\t\r\n\t\t\twhile(curr.next != null) {\r\n\t\t\t\tSystem.out.println(curr.data);\r\n\t\t\t\tcurr = curr.next;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(curr.data);\t\r\n\t\t}\r\n\t\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tLinkedLists list = new LinkedLists();\r\n\t\t\tlist.add(3);\r\n\t\t\tlist.add(12);\r\n\t\t\tlist.add(99);\r\n\t\t\tlist.add(6);\r\n\t\t\r\n\t\t\tlist.print();\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic class Node {\r\n\t\r\n\t\tNode next;\r\n\t\tint data;\r\n\t\r\n\t\tpublic Node(int d) {\r\n\t\t\tdata = d;\r\n\t\t\tnext = null;\t\t\r\n\t\t}\r\n\t}","title":"LinkedList null pointer error. I keep on getting a null pointer exception when trying to print the elements in the LinkedList","body":"<p>Problem is you are always setting at the start.</p>\n<pre><code>Node curr = node;\n</code></pre>\n<p>you need to do that after the check.</p>\n<pre><code>class LinkedLists {\n\n    private Node headNode;  \n\n    public LinkedLists() {  \n        \n    }\n\n    public void add(int d) {\n        Node newNode = new Node(d);\n        //remove it from here \n        \n        if(headNode == null) {\n            headNode = newNode;\n            return;\n        }       \n        //Added it here \n        curr = headNode;\n        while(curr.next != null) {\n            curr = curr.next;       \n        }       \n        curr.next = newNode;\n    \n        return;\n    }\n\n    public void print() {\n    \n        Node curr = headNode;\n    \n        while(curr.next != null) {\n            System.out.println(curr.data);\n            curr = curr.next;\n        }\n        System.out.println(curr.data);  \n    }\n\n\n    public static void main(String[] args) {\n        LinkedLists list = new LinkedLists();\n        list.add(3);\n        list.add(12);\n        list.add(99);\n        list.add(6);\n    \n        list.print();       \n    }\n\n}\n\npublic class Node {\n\n    Node next;\n    int data;\n\n    public Node(int d) {\n        data = d;\n        next = null;        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25838983,"reputation":19,"user_id":19574884,"display_name":"Amanda James"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1699001378,"accepted_answer_id":77414357,"answer_count":2,"score":-2,"last_activity_date":1698989489,"creation_date":1698986904,"question_id":77414256,"body_markdown":"I Keep on getting a null pointer exception when trying to print the elements in the list. The exception hits the line in the print() where I start the while loop. Is there a way to fix this? Thanks\r\n \r\n  \r\n\r\n\tclass LinkedLists {\r\n\t\r\n\t\tprivate Node node;\t\r\n\r\n\t\tpublic LinkedLists() {\t\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\tpublic void add(int d) {\r\n\t\t\tNode newNode = new Node(d);\r\n\t\t\tNode curr = node;\r\n\t\t\r\n\t\t\tif(curr == null) \r\n\t\t\t\tcurr = newNode;\r\n\t\t\r\n\t\t\r\n\t\t\twhile(curr.next != null) {\r\n\t\t\t\tcurr = curr.next;\t\t\r\n\t\t\t}\t\t\r\n\t\t\tcurr.next = newNode;\r\n\t\t\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tpublic void print() {\r\n\t\t\r\n\t\t\tNode curr = node;\r\n\t\t\r\n\t\t\twhile(curr.next != null) {\r\n\t\t\t\tSystem.out.println(curr.data);\r\n\t\t\t\tcurr = curr.next;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(curr.data);\t\r\n\t\t}\r\n\t\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tLinkedLists list = new LinkedLists();\r\n\t\t\tlist.add(3);\r\n\t\t\tlist.add(12);\r\n\t\t\tlist.add(99);\r\n\t\t\tlist.add(6);\r\n\t\t\r\n\t\t\tlist.print();\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic class Node {\r\n\t\r\n\t\tNode next;\r\n\t\tint data;\r\n\t\r\n\t\tpublic Node(int d) {\r\n\t\t\tdata = d;\r\n\t\t\tnext = null;\t\t\r\n\t\t}\r\n\t}","title":"LinkedList null pointer error. I keep on getting a null pointer exception when trying to print the elements in the LinkedList","body":"<p>I Keep on getting a null pointer exception when trying to print the elements in the list. The exception hits the line in the print() where I start the while loop. Is there a way to fix this? Thanks</p>\n<pre><code>class LinkedLists {\n\n    private Node node;  \n\n    public LinkedLists() {  \n        \n    }\n\n    public void add(int d) {\n        Node newNode = new Node(d);\n        Node curr = node;\n    \n        if(curr == null) \n            curr = newNode;\n    \n    \n        while(curr.next != null) {\n            curr = curr.next;       \n        }       \n        curr.next = newNode;\n    \n        return;\n    }\n\n    public void print() {\n    \n        Node curr = node;\n    \n        while(curr.next != null) {\n            System.out.println(curr.data);\n            curr = curr.next;\n        }\n        System.out.println(curr.data);  \n    }\n\n\n    public static void main(String[] args) {\n        LinkedLists list = new LinkedLists();\n        list.add(3);\n        list.add(12);\n        list.add(99);\n        list.add(6);\n    \n        list.print();       \n    }\n\n}\n\npublic class Node {\n\n    Node next;\n    int data;\n\n    public Node(int d) {\n        data = d;\n        next = null;        \n    }\n}\n</code></pre>\n"},{"tags":["java","maven","javafx","executable-jar","maven-assembly-plugin"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1698848347,"post_id":77403261,"comment_id":136456897,"body_markdown":"Executable fat/uber/shadowed JARs and JavaFX do not mix well (for a few reasons). At least not if you want JavaFX itself to be included in the JAR file. Consider creating a self-contained application via `jpackage`, GraalVM&#39;s native image, or some other tool. The [JavaFX tag info](https://stackoverflow.com/tags/javafx/info) page has various links under &quot;Packaging&quot; that you can look at.","body":"Executable fat/uber/shadowed JARs and JavaFX do not mix well (for a few reasons). At least not if you want JavaFX itself to be included in the JAR file. Consider creating a self-contained application via <code>jpackage</code>, GraalVM&#39;s native image, or some other tool. The <a href=\"https://stackoverflow.com/tags/javafx/info\">JavaFX tag info</a> page has various links under &quot;Packaging&quot; that you can look at."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1698854646,"post_id":77403261,"comment_id":136458390,"body_markdown":"[JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX) provides examples of Maven scripts for packaging installers for JavaFX apps using JPackage.  I haven&#39;t used the scripts in that specific project.  Additionally, Oracle has reasonably good [documentation on jpackage](https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A).","body":"<a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a> provides examples of Maven scripts for packaging installers for JavaFX apps using JPackage.  I haven&#39;t used the scripts in that specific project.  Additionally, Oracle has reasonably good <a href=\"https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">documentation on jpackage</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1698854820,"post_id":77403261,"comment_id":136458427,"body_markdown":"Creating installers for multiple platforms is tricky and each platform has its own quirks you need to work with.  For example, Windows requires increasing versions for updates, OS X requires (paid I believe) developer signing certs.  So be prepared to spend some time and (probably) a bit of money to create the installers.  Though there are existing guides, such as those I referenced, there will probably still be some platform and app-specific quirks you will need to work through on your own with limited outside help.","body":"Creating installers for multiple platforms is tricky and each platform has its own quirks you need to work with.  For example, Windows requires increasing versions for updates, OS X requires (paid I believe) developer signing certs.  So be prepared to spend some time and (probably) a bit of money to create the installers.  Though there are existing guides, such as those I referenced, there will probably still be some platform and app-specific quirks you will need to work through on your own with limited outside help."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1698908702,"post_id":77403261,"comment_id":136464567,"body_markdown":"@Slaw, this is simply not true. It can simply be done with Maven or Gradle.  A gradle task defined in 5 lines and you are ready to go. Jpackage is nice, but you can not compile a Linux application on a Windows machine, and vice versa.","body":"@Slaw, this is simply not true. It can simply be done with Maven or Gradle.  A gradle task defined in 5 lines and you are ready to go. Jpackage is nice, but you can not compile a Linux application on a Windows machine, and vice versa."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1698910816,"post_id":77403261,"comment_id":136464894,"body_markdown":"Do you really want to discuss this? IMO the &quot;unsupported&quot; warning can be ignored in this case. &quot;Right&quot; is even a greater word than &quot;proper&quot;. I get what you mean, but sometimes, the better/simpler way might be the not &quot;right&quot; way.","body":"Do you really want to discuss this? IMO the &quot;unsupported&quot; warning can be ignored in this case. &quot;Right&quot; is even a greater word than &quot;proper&quot;. I get what you mean, but sometimes, the better/simpler way might be the not &quot;right&quot; way."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1698911375,"post_id":77403261,"comment_id":136464979,"body_markdown":"@DavidWeber In general, I agree with you. And nothing currently breaks with JavaFX on the class-path, as far as I know. But in this case, I don&#39;t see the benefit of fat JAR files when it comes to JavaFX applications. Especially when the OP already wants to create an installer. If `jpackage` is going to be used to create the installer, then might as well use it from the start. Configure it to place JavaFX in the run-time image (either via `jlink` separately or having `jpackage` execute `jlink` behind the scenes), and then _everything else_ can simply be put on the class-path with `--input`.","body":"@DavidWeber In general, I agree with you. And nothing currently breaks with JavaFX on the class-path, as far as I know. But in this case, I don&#39;t see the benefit of fat JAR files when it comes to JavaFX applications. Especially when the OP already wants to create an installer. If <code>jpackage</code> is going to be used to create the installer, then might as well use it from the start. Configure it to place JavaFX in the run-time image (either via <code>jlink</code> separately or having <code>jpackage</code> execute <code>jlink</code> behind the scenes), and then <i>everything else</i> can simply be put on the class-path with <code>--input</code>."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698936453,"creation_date":1698908205,"answer_id":77407480,"question_id":77403261,"body_markdown":"**Preface:**\r\n\r\n1. Follow the GitHub link.\r\n2. Read the short documentation on GitHub.\r\n3. Take a look at the code. \r\n\r\nFor Gradle projects, take a look at build.gradle. For Maven projects, take a look at pom.xml.\r\n\r\n\r\n**Solution for creating a fat JAR:**\r\n\r\nExample working JavaFX application with gradle and fat/uber JAR task:\r\nhttps://github.com/davidweber411/JavaFxAppGradleNonModular\r\n\r\nExample working JavaFX application with maven and fat/uber JAR goal:\r\nhttps://github.com/davidweber411/JavaFxAppMavenNonModular\r\n\r\n**Solution for creating an Installer:**\r\n\r\n1. Use jpackage for this. Not jlink Nor something else. Jpackage is the way to go.\r\n2. https://docs.oracle.com/en/java/javase/17/docs/specs/man/jpackage.html\r\n\r\nYou Can take a look at the generated jpackage command for Windows Apps in this application:\r\n https://github.com/davidweber411/Java2NativeWinConverter\r\n\r\n**JavaFxProjectGenerator:**\r\n\r\nMaybe you can profit from this neat tool:\r\nhttps://github.com/davidweber411/JavaFxProjectGenerator\r\n\r\nYou can create complete predefined JavaFX applications with Maven or Gradle, both including a preconfigured task/goal for creating a fat/uber JAR. \r\n\r\nNote: It generates a JDK 17 project, but you can change this in the build management system files.\r\n\r\nWebsite link: \r\nhttps://wedasoft.com/projects/javafx-project-generator/#","title":"JavaFX - How to compile uber jar with maven and create a installer?","body":"<p><strong>Preface:</strong></p>\n<ol>\n<li>Follow the GitHub link.</li>\n<li>Read the short documentation on GitHub.</li>\n<li>Take a look at the code.</li>\n</ol>\n<p>For Gradle projects, take a look at build.gradle. For Maven projects, take a look at pom.xml.</p>\n<p><strong>Solution for creating a fat JAR:</strong></p>\n<p>Example working JavaFX application with gradle and fat/uber JAR task:\n<a href=\"https://github.com/davidweber411/JavaFxAppGradleNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppGradleNonModular</a></p>\n<p>Example working JavaFX application with maven and fat/uber JAR goal:\n<a href=\"https://github.com/davidweber411/JavaFxAppMavenNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppMavenNonModular</a></p>\n<p><strong>Solution for creating an Installer:</strong></p>\n<ol>\n<li>Use jpackage for this. Not jlink Nor something else. Jpackage is the way to go.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/specs/man/jpackage.html</a></li>\n</ol>\n<p>You Can take a look at the generated jpackage command for Windows Apps in this application:\n<a href=\"https://github.com/davidweber411/Java2NativeWinConverter\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/Java2NativeWinConverter</a></p>\n<p><strong>JavaFxProjectGenerator:</strong></p>\n<p>Maybe you can profit from this neat tool:\n<a href=\"https://github.com/davidweber411/JavaFxProjectGenerator\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxProjectGenerator</a></p>\n<p>You can create complete predefined JavaFX applications with Maven or Gradle, both including a preconfigured task/goal for creating a fat/uber JAR.</p>\n<p>Note: It generates a JDK 17 project, but you can change this in the build management system files.</p>\n<p>Website link:\n<a href=\"https://wedasoft.com/projects/javafx-project-generator/#\" rel=\"nofollow noreferrer\">https://wedasoft.com/projects/javafx-project-generator/#</a></p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698989108,"creation_date":1698933417,"answer_id":77410196,"question_id":77403261,"body_markdown":"# Self-Contained Application\r\n\r\nYour desire to create an installer lends itself to creating an entirely self-contained application. That is an application that bundles not only your code and its third-party dependencies, but also the Java Run-Time Environment itself.&#160;Your end user won&#39;t need to install Java separately.\r\n\r\n## GraalVM Native Image\r\n\r\nOne option for creating a self-contained application is [GraalVM&#39;s native image][8]. Note that this will also ahead-of-time compile your Java code to native code.\r\n\r\nI have very little experience with GraalVM, so I won&#39;t give an example, but here are some links that may help:\r\n\r\n* [Create native JavaFX applications using GraalVM 22 builds from Gluon][9]\r\n\r\n* [How to create JavaFX native images | BellSoft Java][10]\r\n\r\n\r\n## jpackage\r\n\r\nA relatively accessible tool for creating a self-contained applications and installers is [`jpackage`][3]. It comes with the JDK since version 16. See the [Packaging Tool User Guide][5] for more information. It would also help to understand [`jlink`][6], as `jpackage` will either use `jlink` &quot;behind the scenes&quot; to generate a custom run-time image, or you&#39;ll use `jlink` explicitly and then provide `jpackage` with the custom run-time image.\r\n\r\n\r\nOne significant downside to using `jpackage`, however, is that it can only create application images and installers for the operating system it is running on. If you want a Windows application, then you&#39;ll have to build your project on Windows, with the same being true for Linux and macOS.&#160;And as [jewelsea explains in a comment][4], there are also platform-specific issues you&#39;ll have to resolve:\r\n\r\n&gt; Creating installers for multiple platforms is tricky and each platform has its own quirks you need to work with. For example, Windows requires increasing versions for updates, OS X requires (paid I believe) developer signing certs. So be prepared to spend some time and (probably) a bit of money to create the installers. Though there are existing guides, such as those I referenced, there will probably still be some platform and app-specific quirks you will need to work through on your own with limited outside help.\r\n\r\nIf you&#39;re going to create a self-contained application, then I would suggest you forgo creating a fat/uber/shadowed JAR file. A self-contained application already contains all dependencies, so a shadowed JAR file is unlikely to provide any benefits. Plus, if you&#39;re going to be using `jpackage` to create the installer, you might as well design your entire deployment around `jpackage` from the start.\r\n\r\nUsing Maven profiles can solve a lot of the platform-specific configuration issues. While any remaining platform-specific configuration, as well as building the application on multiple platforms and publishing it automatically, can likely be accomplished with some kind of CI/CD pipeline. Though remember to **never** commit any secrets to your VCS (e.g., Git), which by extension means do not put any secrets in the POM file(s).\r\n\r\n### Example\r\n\r\nHere is a POM that is configured to create an `msi` installer file when the `windows` profile is activated. Note there is only configurations for Windows in this example. The [org.panteleyev:jpackage-maven-plugin][7] plugin is used to execute `jpackage`.\r\n\r\nThis POM is designed for a **non-modular** application. As such, it&#39;s configured so that the JavaFX modules are added to the custom run-time image, while the project code and any other dependencies are configured to be placed on the class-path via `--input` and `--main-jar`. By having JavaFX in the custom run-time image, it will implicitly be on the module-path.\r\n\r\n_**Disclaimer:** I&#39;m more familiar with Gradle than Maven, so there may be ways to simplify the following POM._\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;app&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n  &lt;name&gt;app&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\r\n    &lt;javafxVersion&gt;21.0.1&lt;/javafxVersion&gt;\r\n    &lt;libsDir&gt;${project.build.directory}/artifacts/libs&lt;/libsDir&gt;\r\n    &lt;javafxModsDir&gt;${project.build.directory}/artifacts/javafx&lt;/javafxModsDir&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafxVersion}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;!-- Lock in versions. --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.6.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n\r\n    &lt;plugins&gt;\r\n      &lt;!-- \r\n        Configure JAR plugin to set Main-Class entry in the JAR&#39;s manifest. Also, put the JAR\r\n        file in the same directory as the non-JavaFX dependencies to make using jpackage easier.\r\n      --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;outputDirectory&gt;${libsDir}&lt;/outputDirectory&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;com.example.app.Main&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Copy dependencies into project-local directories to make using jpackage easier. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;!-- \r\n            Put JavaFX JARs in their own directory so they are not included in the input directory\r\n            and can easily be placed on the module-path of jpackage.\r\n          --&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-javafx-deps&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${javafxModsDir}&lt;/outputDirectory&gt;\r\n              &lt;includeGroupIds&gt;org.openjfx&lt;/includeGroupIds&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;!-- \r\n            Put all non-JavaFX JARs in a separate directory to use with the input argument\r\n            of jpackage. The project JAR will be placed here as well.\r\n          --&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-nonjavafx-deps&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${libsDir}&lt;/outputDirectory&gt;\r\n              &lt;excludeGroupIds&gt;org.openjfx&lt;/excludeGroupIds&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Common jpackage configurations. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;modulePaths&gt;\r\n            &lt;modulePath&gt;${javafxModsDir}&lt;/modulePath&gt;\r\n          &lt;/modulePaths&gt;\r\n          &lt;!-- \r\n            Must explicitly add modules since project code is not modular, meaning there&#39;s\r\n            no module-info.java file with requires directives.\r\n\r\n            Include the jdk.localedata module to ensure internationalization works. You can filter\r\n            which locales are included via jlink options.\r\n          --&gt;\r\n          &lt;addModules&gt;javafx.controls,jdk.localedata&lt;/addModules&gt;\r\n          &lt;input&gt;${libsDir}&lt;/input&gt;\r\n          &lt;mainJar&gt;${project.name}-${project.version}.jar&lt;/mainJar&gt;\r\n          &lt;temp&gt;${project.build.directory}/jpackage/temp&lt;/temp&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\n  &lt;/build&gt;\r\n\r\n  &lt;profiles&gt;\r\n\r\n    &lt;profile&gt;\r\n      &lt;id&gt;windows&lt;/id&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;!-- Windows-specific jpackage configurations. --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;windows-msi&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;jpackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;type&gt;MSI&lt;/type&gt;\r\n                  &lt;destination&gt;${project.build.directory}/jpackage/windows-msi&lt;/destination&gt;\r\n                  &lt;winPerUserInstall&gt;true&lt;/winPerUserInstall&gt;\r\n                  &lt;winDirChooser&gt;true&lt;/winDirChooser&gt;\r\n                  &lt;winUpgradeUuid&gt;7c59c875-1ad3-4042-9c9f-fed5fc3f8ab9&lt;/winUpgradeUuid&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\n  &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd here&#39;s an example `com.example.app.Main` class to go along with the POM:\r\n\r\n```java\r\npackage com.example.app;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        // List view will display the modules included in the custom run-time image.\r\n        var listView = new ListView&lt;String&gt;();\r\n        ModuleLayer.boot()\r\n            .modules()\r\n            .stream()\r\n            .map(Module::getName)\r\n            .sorted()\r\n            .forEach(listView.getItems()::add);\r\n        primaryStage.setTitle(&quot;JavaFX &quot; + System.getProperty(&quot;javafx.version&quot;) + &quot; Application&quot;);\r\n        primaryStage.setScene(new Scene(listView, 600, 400));\r\n        primaryStage.show();        \r\n    }\r\n}\r\n```\r\n\r\nTo create the `msi` file, execute:\r\n\r\n```none\r\nmvn -P windows package\r\n```\r\n\r\nAnd you should get a `target/jpackage/windows-msi/app-1.0.msi` installer file.\r\n\r\nNote you must execute that on Windows, and you must have WiX Toolset 3.x.x installed (version 4.x.x doesn&#39;t seem to work with `jpackage`, or at least I couldn&#39;t get it to work). If you don&#39;t want to install WiX 3.x.x just for running the example, then change the type to `&lt;type&gt;APP_IMAGE&lt;/type&gt;`. You won&#39;t get an installer file, but you&#39;ll end up with an application image that you can run as is.\r\n\r\n---\r\n\r\n# Executable JAR\r\n\r\nYou can create an executable fat/uber/shadowed JAR file with JavaFX via Maven using the [Maven Shade Plugin][1]. Note this will inherently put everything on the class-path. Any code that relies explicitly on modules may break with this setup, though such code is rare. Additionally, JavaFX does not technically support being loaded from the class-path. Doing so will not break anything as of JavaFX 21, as far as I know, but any issues caused by this configuration are unlikely to be fixed by the JavaFX developers.\r\n\r\nSee [David Weber&#39;s answer][2] for an example using the Maven Shade Plugin.\r\n\r\nIf you want to go with a shadowed executable JAR file as your deployment strategy, then I suggest you forgo creating an installer. Just have your end user install the appropriate version of Java (you can send them the installer for that), and then they can just double-click the JAR file to make it run. Make sure your end user enables associating `*.jar` files with Java if the Java installer gives that option.\r\n\r\nIf you want a cross-platform executable JAR file, you&#39;ll have to declare a JavaFX dependency for each platform manually. JavaFX relies on platform-specific native code, and the Maven artifacts embed that native code in the JAR file, but only for a particular platform. For instance, `javafx-graphics-21.0.1-win.jar` contains native code for Windows, but not Linux or macOS.\r\n\r\nNote that when JavaFX is on the class-path, as is the case here, then your main class **cannot** be a subclass of `javafx.application.Application`. You **must** have a separate &quot;launcher class&quot; as the main class. Something like:\r\n\r\n```java\r\npackage sample;\r\n\r\nimport javafx.application.Application;\r\n\r\npublic class Launcher {\r\n\r\n    public static void main(String[] args) {\r\n        Application.launch(YourAppClass.class, args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/\r\n  [2]: https://stackoverflow.com/a/77407480/6395627\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/specs/man/jpackage.html\r\n  [4]: https://stackoverflow.com/questions/77403261/javafx-how-to-compile-uber-jar-with-maven-and-create-a-installer?noredirect=1#comment136458427_77403261\r\n  [5]: https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html\r\n  [6]: https://docs.oracle.com/en/java/javase/21/docs/specs/man/jlink.html\r\n  [7]: https://github.panteleyev.org/jpackage-maven-plugin/index.html\r\n  [8]: https://www.graalvm.org/latest/reference-manual/native-image/\r\n  [9]: https://gluonhq.com/create-native-javafx-applications-using-graalvm-22-builds-from-gluon/\r\n  [10]: https://bell-sw.com/announcements/2022/08/24/turning-javafx-apps-into-native-images/","title":"JavaFX - How to compile uber jar with maven and create a installer?","body":"<h1>Self-Contained Application</h1>\n<p>Your desire to create an installer lends itself to creating an entirely self-contained application. That is an application that bundles not only your code and its third-party dependencies, but also the Java Run-Time Environment itself.¬†Your end user won't need to install Java separately.</p>\n<h2>GraalVM Native Image</h2>\n<p>One option for creating a self-contained application is <a href=\"https://www.graalvm.org/latest/reference-manual/native-image/\" rel=\"nofollow noreferrer\">GraalVM's native image</a>. Note that this will also ahead-of-time compile your Java code to native code.</p>\n<p>I have very little experience with GraalVM, so I won't give an example, but here are some links that may help:</p>\n<ul>\n<li><p><a href=\"https://gluonhq.com/create-native-javafx-applications-using-graalvm-22-builds-from-gluon/\" rel=\"nofollow noreferrer\">Create native JavaFX applications using GraalVM 22 builds from Gluon</a></p>\n</li>\n<li><p><a href=\"https://bell-sw.com/announcements/2022/08/24/turning-javafx-apps-into-native-images/\" rel=\"nofollow noreferrer\">How to create JavaFX native images | BellSoft Java</a></p>\n</li>\n</ul>\n<h2>jpackage</h2>\n<p>A relatively accessible tool for creating a self-contained applications and installers is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\"><code>jpackage</code></a>. It comes with the JDK since version 16. See the <a href=\"https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">Packaging Tool User Guide</a> for more information. It would also help to understand <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\"><code>jlink</code></a>, as <code>jpackage</code> will either use <code>jlink</code> &quot;behind the scenes&quot; to generate a custom run-time image, or you'll use <code>jlink</code> explicitly and then provide <code>jpackage</code> with the custom run-time image.</p>\n<p>One significant downside to using <code>jpackage</code>, however, is that it can only create application images and installers for the operating system it is running on. If you want a Windows application, then you'll have to build your project on Windows, with the same being true for Linux and macOS.¬†And as <a href=\"https://stackoverflow.com/questions/77403261/javafx-how-to-compile-uber-jar-with-maven-and-create-a-installer?noredirect=1#comment136458427_77403261\">jewelsea explains in a comment</a>, there are also platform-specific issues you'll have to resolve:</p>\n<blockquote>\n<p>Creating installers for multiple platforms is tricky and each platform has its own quirks you need to work with. For example, Windows requires increasing versions for updates, OS X requires (paid I believe) developer signing certs. So be prepared to spend some time and (probably) a bit of money to create the installers. Though there are existing guides, such as those I referenced, there will probably still be some platform and app-specific quirks you will need to work through on your own with limited outside help.</p>\n</blockquote>\n<p>If you're going to create a self-contained application, then I would suggest you forgo creating a fat/uber/shadowed JAR file. A self-contained application already contains all dependencies, so a shadowed JAR file is unlikely to provide any benefits. Plus, if you're going to be using <code>jpackage</code> to create the installer, you might as well design your entire deployment around <code>jpackage</code> from the start.</p>\n<p>Using Maven profiles can solve a lot of the platform-specific configuration issues. While any remaining platform-specific configuration, as well as building the application on multiple platforms and publishing it automatically, can likely be accomplished with some kind of CI/CD pipeline. Though remember to <strong>never</strong> commit any secrets to your VCS (e.g., Git), which by extension means do not put any secrets in the POM file(s).</p>\n<h3>Example</h3>\n<p>Here is a POM that is configured to create an <code>msi</code> installer file when the <code>windows</code> profile is activated. Note there is only configurations for Windows in this example. The <a href=\"https://github.panteleyev.org/jpackage-maven-plugin/index.html\" rel=\"nofollow noreferrer\">org.panteleyev:jpackage-maven-plugin</a> plugin is used to execute <code>jpackage</code>.</p>\n<p>This POM is designed for a <strong>non-modular</strong> application. As such, it's configured so that the JavaFX modules are added to the custom run-time image, while the project code and any other dependencies are configured to be placed on the class-path via <code>--input</code> and <code>--main-jar</code>. By having JavaFX in the custom run-time image, it will implicitly be on the module-path.</p>\n<p><em><strong>Disclaimer:</strong> I'm more familiar with Gradle than Maven, so there may be ways to simplify the following POM.</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;app&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n\n  &lt;name&gt;app&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n    &lt;javafxVersion&gt;21.0.1&lt;/javafxVersion&gt;\n    &lt;libsDir&gt;${project.build.directory}/artifacts/libs&lt;/libsDir&gt;\n    &lt;javafxModsDir&gt;${project.build.directory}/artifacts/javafx&lt;/javafxModsDir&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;${javafxVersion}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;!-- Lock in versions. --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.6.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\n          &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n\n    &lt;plugins&gt;\n      &lt;!-- \n        Configure JAR plugin to set Main-Class entry in the JAR's manifest. Also, put the JAR\n        file in the same directory as the non-JavaFX dependencies to make using jpackage easier.\n      --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;${libsDir}&lt;/outputDirectory&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;com.example.app.Main&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Copy dependencies into project-local directories to make using jpackage easier. --&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;!-- \n            Put JavaFX JARs in their own directory so they are not included in the input directory\n            and can easily be placed on the module-path of jpackage.\n          --&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-javafx-deps&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${javafxModsDir}&lt;/outputDirectory&gt;\n              &lt;includeGroupIds&gt;org.openjfx&lt;/includeGroupIds&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n          &lt;!-- \n            Put all non-JavaFX JARs in a separate directory to use with the input argument\n            of jpackage. The project JAR will be placed here as well.\n          --&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-nonjavafx-deps&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${libsDir}&lt;/outputDirectory&gt;\n              &lt;excludeGroupIds&gt;org.openjfx&lt;/excludeGroupIds&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Common jpackage configurations. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\n        &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;modulePaths&gt;\n            &lt;modulePath&gt;${javafxModsDir}&lt;/modulePath&gt;\n          &lt;/modulePaths&gt;\n          &lt;!-- \n            Must explicitly add modules since project code is not modular, meaning there's\n            no module-info.java file with requires directives.\n\n            Include the jdk.localedata module to ensure internationalization works. You can filter\n            which locales are included via jlink options.\n          --&gt;\n          &lt;addModules&gt;javafx.controls,jdk.localedata&lt;/addModules&gt;\n          &lt;input&gt;${libsDir}&lt;/input&gt;\n          &lt;mainJar&gt;${project.name}-${project.version}.jar&lt;/mainJar&gt;\n          &lt;temp&gt;${project.build.directory}/jpackage/temp&lt;/temp&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n  &lt;/build&gt;\n\n  &lt;profiles&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;windows&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;!-- Windows-specific jpackage configurations. --&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.panteleyev&lt;/groupId&gt;\n            &lt;artifactId&gt;jpackage-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;windows-msi&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;jpackage&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;type&gt;MSI&lt;/type&gt;\n                  &lt;destination&gt;${project.build.directory}/jpackage/windows-msi&lt;/destination&gt;\n                  &lt;winPerUserInstall&gt;true&lt;/winPerUserInstall&gt;\n                  &lt;winDirChooser&gt;true&lt;/winDirChooser&gt;\n                  &lt;winUpgradeUuid&gt;7c59c875-1ad3-4042-9c9f-fed5fc3f8ab9&lt;/winUpgradeUuid&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n\n  &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And here's an example <code>com.example.app.Main</code> class to go along with the POM:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.app;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListView;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        // List view will display the modules included in the custom run-time image.\n        var listView = new ListView&lt;String&gt;();\n        ModuleLayer.boot()\n            .modules()\n            .stream()\n            .map(Module::getName)\n            .sorted()\n            .forEach(listView.getItems()::add);\n        primaryStage.setTitle(&quot;JavaFX &quot; + System.getProperty(&quot;javafx.version&quot;) + &quot; Application&quot;);\n        primaryStage.setScene(new Scene(listView, 600, 400));\n        primaryStage.show();        \n    }\n}\n</code></pre>\n<p>To create the <code>msi</code> file, execute:</p>\n<pre class=\"lang-none prettyprint-override\"><code>mvn -P windows package\n</code></pre>\n<p>And you should get a <code>target/jpackage/windows-msi/app-1.0.msi</code> installer file.</p>\n<p>Note you must execute that on Windows, and you must have WiX Toolset 3.x.x installed (version 4.x.x doesn't seem to work with <code>jpackage</code>, or at least I couldn't get it to work). If you don't want to install WiX 3.x.x just for running the example, then change the type to <code>&lt;type&gt;APP_IMAGE&lt;/type&gt;</code>. You won't get an installer file, but you'll end up with an application image that you can run as is.</p>\n<hr />\n<h1>Executable JAR</h1>\n<p>You can create an executable fat/uber/shadowed JAR file with JavaFX via Maven using the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Maven Shade Plugin</a>. Note this will inherently put everything on the class-path. Any code that relies explicitly on modules may break with this setup, though such code is rare. Additionally, JavaFX does not technically support being loaded from the class-path. Doing so will not break anything as of JavaFX 21, as far as I know, but any issues caused by this configuration are unlikely to be fixed by the JavaFX developers.</p>\n<p>See <a href=\"https://stackoverflow.com/a/77407480/6395627\">David Weber's answer</a> for an example using the Maven Shade Plugin.</p>\n<p>If you want to go with a shadowed executable JAR file as your deployment strategy, then I suggest you forgo creating an installer. Just have your end user install the appropriate version of Java (you can send them the installer for that), and then they can just double-click the JAR file to make it run. Make sure your end user enables associating <code>*.jar</code> files with Java if the Java installer gives that option.</p>\n<p>If you want a cross-platform executable JAR file, you'll have to declare a JavaFX dependency for each platform manually. JavaFX relies on platform-specific native code, and the Maven artifacts embed that native code in the JAR file, but only for a particular platform. For instance, <code>javafx-graphics-21.0.1-win.jar</code> contains native code for Windows, but not Linux or macOS.</p>\n<p>Note that when JavaFX is on the class-path, as is the case here, then your main class <strong>cannot</strong> be a subclass of <code>javafx.application.Application</code>. You <strong>must</strong> have a separate &quot;launcher class&quot; as the main class. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport javafx.application.Application;\n\npublic class Launcher {\n\n    public static void main(String[] args) {\n        Application.launch(YourAppClass.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29799413,"reputation":13,"user_id":22837527,"display_name":"Bruno B."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77410196,"answer_count":2,"score":1,"last_activity_date":1698989108,"creation_date":1698847880,"question_id":77403261,"body_markdown":"I need to compile a JavaFX 20 application into an executable Jar file that includes all the dependencies listed in the pom.xml (including javaFX itself and all the other JAR files). My project is based on Maven. I tried many different maven plugins but none of them were able to make the final jar executable by double clicking, although I was able to run in in the command line with the `java -jar` command. The intention is to distribute this app with next/next/finish installers on Linux, Windows and MacOS. The end user profile is a lab researcher with low IT knowledge (I work for a NPO that helps protecting the Amazon forest). Is there an objective way to do this?\r\n\r\nI already tried many maven plugins with different goals (resources, dependencies, shade, compiler, etc) but no success at all.","title":"JavaFX - How to compile uber jar with maven and create a installer?","body":"<p>I need to compile a JavaFX 20 application into an executable Jar file that includes all the dependencies listed in the pom.xml (including javaFX itself and all the other JAR files). My project is based on Maven. I tried many different maven plugins but none of them were able to make the final jar executable by double clicking, although I was able to run in in the command line with the <code>java -jar</code> command. The intention is to distribute this app with next/next/finish installers on Linux, Windows and MacOS. The end user profile is a lab researcher with low IT knowledge (I work for a NPO that helps protecting the Amazon forest). Is there an objective way to do this?</p>\n<p>I already tried many maven plugins with different goals (resources, dependencies, shade, compiler, etc) but no success at all.</p>\n"},{"tags":["java","ldap","connection","keycloak"],"owner":{"account_id":29815814,"reputation":1,"user_id":22850122,"display_name":"aishwarya v"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698988208,"creation_date":1698988208,"question_id":77414317,"body_markdown":"I am trying to to configure LDAP in user federations of keycloak. I started my apache directory server and connecting to it. But I am unable to connect with it. I tried \r\nldap://localhost:10389\r\nldap://localhost:389\r\nldap://127.0.0.1:10389\r\nldap://192.168.29.244:10389(my ip address)\r\n[keycloak user federation config](https://i.stack.imgur.com/79sWi.png)\r\n\r\n\r\nI tried the above connection urls with port 10389 and just 389 but getting same error.\r\nI want to know what mistake i am doing.","title":"LDAP configuration in Keycloak","body":"<p>I am trying to to configure LDAP in user federations of keycloak. I started my apache directory server and connecting to it. But I am unable to connect with it. I tried\nldap://localhost:10389\nldap://localhost:389\nldap://127.0.0.1:10389\nldap://192.168.29.244:10389(my ip address)\n<a href=\"https://i.stack.imgur.com/79sWi.png\" rel=\"nofollow noreferrer\">keycloak user federation config</a></p>\n<p>I tried the above connection urls with port 10389 and just 389 but getting same error.\nI want to know what mistake i am doing.</p>\n"},{"tags":["java","spring-boot","apache-camel","velocity","camel-routes"],"comments":[{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1699274362,"post_id":77413875,"comment_id":136506830,"body_markdown":"Have you added the `velocity-engine-core` dependency yourself?\nAccording to [this](https://mvnrepository.com/artifact/org.apache.camel/camel-velocity/2.25.4) `camel-velocity` `2.25.4` seems to use `velocity-engine-core` version `2.0` so it&#39;s possible that `camel-velocity` version `2.25.4` is incompatible with `velocity-engine-core` `2.3`","body":"Have you added the <code>velocity-engine-core</code> dependency yourself? According to <a href=\"https://mvnrepository.com/artifact/org.apache.camel/camel-velocity/2.25.4\" rel=\"nofollow noreferrer\">this</a> <code>camel-velocity</code> <code>2.25.4</code> seems to use <code>velocity-engine-core</code> version <code>2.0</code> so it&#39;s possible that <code>camel-velocity</code> version <code>2.25.4</code> is incompatible with <code>velocity-engine-core</code> <code>2.3</code>"},{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1699275284,"post_id":77413875,"comment_id":136506988,"body_markdown":"Also have you tried to set the `allowContextMapAll=true`? According to the documentation by default only body and headers can be accessed .","body":"Also have you tried to set the <code>allowContextMapAll=true</code>? According to the documentation by default only body and headers can be accessed ."},{"owner":{"account_id":4508076,"reputation":1,"user_id":5967760,"display_name":"Ino"},"score":0,"creation_date":1699485709,"post_id":77413875,"comment_id":136539483,"body_markdown":"Yes, I have added velocity-engine-core dependency. This is working as expected with camel-velocity:2.24.3, velocity-engine-core:2.3 and velocity-tools-generic:3.1\n\nOnly update is upgraded camel-velocity to 2.25.4","body":"Yes, I have added velocity-engine-core dependency. This is working as expected with camel-velocity:2.24.3, velocity-engine-core:2.3 and velocity-tools-generic:3.1  Only update is upgraded camel-velocity to 2.25.4"},{"owner":{"account_id":4508076,"reputation":1,"user_id":5967760,"display_name":"Ino"},"score":0,"creation_date":1699494495,"post_id":77413875,"comment_id":136540347,"body_markdown":"Included allowContextMapAll=true to the velocity route URL and this works, thanks @Pasi&#214;sterman","body":"Included allowContextMapAll=true to the velocity route URL and this works, thanks @Pasi&#214;sterman"}],"owner":{"account_id":4508076,"reputation":1,"user_id":5967760,"display_name":"Ino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698987441,"creation_date":1698978736,"question_id":77413875,"body_markdown":"I did Apache Camel velocity upgrade on my Spring boot application to 2.25.4\r\nNow I am unable to access exchange properties from the velocity template. Just template is retrieved without values.\r\n\r\napplication works fine with org.apache.camel:camel-velocity:2.24.3 (2.25+ velocity libraries gives this error)\r\n\r\nI am using org.apache.velocity.tools.generic.EscapeTool\r\n\r\n\r\nFollowing are the relevant dependencies used:\r\n```\r\n&quot;org.apache.camel:camel-core:2.25.4&quot;\r\n&quot;org.apache.camel:camel-velocity:2.25.4&quot;\r\n&quot;org.apache.velocity:velocity-engine-core:2.3&quot;\r\n&quot;org.apache.velocity.tools:velocity-tools-generic:3.1&quot;\r\n\r\n```\r\n\r\nHow can I fix this error?","title":"Error in exchange property mapping to velocity template with Apache Camel upgrade 2.25+","body":"<p>I did Apache Camel velocity upgrade on my Spring boot application to 2.25.4\nNow I am unable to access exchange properties from the velocity template. Just template is retrieved without values.</p>\n<p>application works fine with org.apache.camel:camel-velocity:2.24.3 (2.25+ velocity libraries gives this error)</p>\n<p>I am using org.apache.velocity.tools.generic.EscapeTool</p>\n<p>Following are the relevant dependencies used:</p>\n<pre><code>&quot;org.apache.camel:camel-core:2.25.4&quot;\n&quot;org.apache.camel:camel-velocity:2.25.4&quot;\n&quot;org.apache.velocity:velocity-engine-core:2.3&quot;\n&quot;org.apache.velocity.tools:velocity-tools-generic:3.1&quot;\n\n</code></pre>\n<p>How can I fix this error?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1698931190,"post_id":77408741,"comment_id":136468661,"body_markdown":"RecyclerView is usually associated with a list, so that each item of the RecyclerView will map to an item in the list. If you have a list of users stored in SharedPrefs, you should instead consider using a database to store the list. [Here](https://developer.android.com/training/data-storage/room) is a good starting point and its really very easy.","body":"RecyclerView is usually associated with a list, so that each item of the RecyclerView will map to an item in the list. If you have a list of users stored in SharedPrefs, you should instead consider using a database to store the list. <a href=\"https://developer.android.com/training/data-storage/room\" rel=\"nofollow noreferrer\">Here</a> is a good starting point and its really very easy."},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1698931441,"post_id":77408741,"comment_id":136468719,"body_markdown":"If you still want to use sharedPref, you should store Id of each value stored in sharedPref and then process those ID, i.e. get each user from the shared Pref and then create a list&lt;User&gt; and pass this list to RecyclerView adapter. But I highly recommend to not follow this, because sharedPrefs have limited storage size.","body":"If you still want to use sharedPref, you should store Id of each value stored in sharedPref and then process those ID, i.e. get each user from the shared Pref and then create a list&lt;User&gt; and pass this list to RecyclerView adapter. But I highly recommend to not follow this, because sharedPrefs have limited storage size."},{"owner":{"account_id":21636597,"reputation":383,"user_id":15959434,"display_name":"TIMBLOCKER"},"score":0,"creation_date":1698937117,"post_id":77408741,"comment_id":136470049,"body_markdown":"@PawanHarariya is totally right. It is not very typical and no clean code to store Object[] or Lists in Shared Preferences. If you want to do it anyways you could just save your Data to a JSON and then revert it if you read the thing. It highly depends on the data Size. You will get along with that, if there are oly &lt;100 Entries. If it gets bigger, this approach will take too long. If you want to make it happen look into GSON","body":"@PawanHarariya is totally right. It is not very typical and no clean code to store Object[] or Lists in Shared Preferences. If you want to do it anyways you could just save your Data to a JSON and then revert it if you read the thing. It highly depends on the data Size. You will get along with that, if there are oly &lt;100 Entries. If it gets bigger, this approach will take too long. If you want to make it happen look into GSON"}],"answers":[{"tags":[],"owner":{"account_id":29815737,"reputation":37,"user_id":22850056,"display_name":"rv_5143"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698986817,"creation_date":1698986669,"answer_id":77414246,"question_id":77408741,"body_markdown":"I wonder why you use Sharepreferences ?? if you have multiple users whom data you will collect then everytime you have to create new key-pair isn&#39;t it time consuming although you can just store those data into sqllite database [here][1] and then retrive those data and display it into recyclerview [follow this][2]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/how-to-create-and-add-data-to-sqlite-database-in-android/\r\n  [2]: https://www.youtube.com/watch?v=6enCz2cY18c","title":"Sharedpreferences and recyclerView","body":"<p>I wonder why you use Sharepreferences ?? if you have multiple users whom data you will collect then everytime you have to create new key-pair isn't it time consuming although you can just store those data into sqllite database <a href=\"https://www.geeksforgeeks.org/how-to-create-and-add-data-to-sqlite-database-in-android/\" rel=\"nofollow noreferrer\">here</a> and then retrive those data and display it into recyclerview <a href=\"https://www.youtube.com/watch?v=6enCz2cY18c\" rel=\"nofollow noreferrer\">follow this</a></p>\n"}],"owner":{"account_id":29809653,"reputation":13,"user_id":22845391,"display_name":"omid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77414246,"answer_count":1,"score":1,"last_activity_date":1698986817,"creation_date":1698920241,"question_id":77408741,"body_markdown":"I created a program that takes user information including name, age, and date of birth and saves this data through Sharepreferences.\r\nNow I want to display all this information in RecyclerView, but I don&#39;t know how to do this.\r\n\r\nCan someone tell me a solution to solve this problem?\r\n\r\nThe challenge for me is that since each user information has an additional ID, I cannot display each information individually in RecyclerView.","title":"Sharedpreferences and recyclerView","body":"<p>I created a program that takes user information including name, age, and date of birth and saves this data through Sharepreferences.\nNow I want to display all this information in RecyclerView, but I don't know how to do this.</p>\n<p>Can someone tell me a solution to solve this problem?</p>\n<p>The challenge for me is that since each user information has an additional ID, I cannot display each information individually in RecyclerView.</p>\n"},{"tags":["java","jpa","criteria","hibernate-criteria","criteriaquery"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698933519,"post_id":77409006,"comment_id":136469200,"body_markdown":"What are the results you are getting? Note that you are showing us code for only part of the query, not the selection criteria, and we can only guess that the join1 and join2 methods are cut and paste errors that should read join1.join(&quot;b&quot;) and join2.join(&quot;c&quot;).","body":"What are the results you are getting? Note that you are showing us code for only part of the query, not the selection criteria, and we can only guess that the join1 and join2 methods are cut and paste errors that should read join1.join(&quot;b&quot;) and join2.join(&quot;c&quot;)."},{"owner":{"account_id":29448471,"reputation":9,"user_id":22565298,"display_name":"Wild"},"score":0,"creation_date":1698985858,"post_id":77409006,"comment_id":136476700,"body_markdown":"yeah, missed to add join i have updated it.","body":"yeah, missed to add join i have updated it."},{"owner":{"account_id":29448471,"reputation":9,"user_id":22565298,"display_name":"Wild"},"score":0,"creation_date":1698985902,"post_id":77409006,"comment_id":136476708,"body_markdown":"result that i&#39;m getting is it is trying find the table name like B_C since we are trying to join join1(which is not a root) with table C, which is not available","body":"result that i&#39;m getting is it is trying find the table name like B_C since we are trying to join join1(which is not a root) with table C, which is not available"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1699022967,"post_id":77409006,"comment_id":136482434,"body_markdown":"What is trying to find a B_C table exactly? What is the relationship on A.b, and why would join1 (B) have a &quot;b&quot; relationship to C? Maybe show your entities and their mappings as it sounds like you are talking about a relation table on a M:M mapping","body":"What is trying to find a B_C table exactly? What is the relationship on A.b, and why would join1 (B) have a &quot;b&quot; relationship to C? Maybe show your entities and their mappings as it sounds like you are talking about a relation table on a M:M mapping"}],"owner":{"account_id":29448471,"reputation":9,"user_id":22565298,"display_name":"Wild"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698985820,"creation_date":1698922582,"question_id":77409006,"body_markdown":"Trying to build the critaria for the below query\r\n\r\n    Select a.x,c.y from A a\r\n    JOIN B b on a.a = b.a\r\n    JOIN C c on b.c = c.c\r\n    JOIN D d on c.d = d.d\r\n\r\n\r\nTried with below Criteria \r\n\r\n\r\n    Root&lt;A&gt; root = criteriaQuery.from(A);\r\n    Join&lt;A, B&gt; join1 = root.join(‚Äúb‚Äù);\r\n    Join&lt;B, C&gt; join2 = join1.join(‚Äúb‚Äù);\r\n    Join&lt;C, D&gt; join3 = join2.join(‚Äúc‚Äù)\r\n\r\n\r\nBut i was not getting expected results, any suggestions ","title":"Multiple Joins using Criteria builder","body":"<p>Trying to build the critaria for the below query</p>\n<pre><code>Select a.x,c.y from A a\nJOIN B b on a.a = b.a\nJOIN C c on b.c = c.c\nJOIN D d on c.d = d.d\n</code></pre>\n<p>Tried with below Criteria</p>\n<pre><code>Root&lt;A&gt; root = criteriaQuery.from(A);\nJoin&lt;A, B&gt; join1 = root.join(‚Äúb‚Äù);\nJoin&lt;B, C&gt; join2 = join1.join(‚Äúb‚Äù);\nJoin&lt;C, D&gt; join3 = join2.join(‚Äúc‚Äù)\n</code></pre>\n<p>But i was not getting expected results, any suggestions</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":6481968,"reputation":11,"user_id":5018683,"display_name":"vani"},"score":0,"creation_date":1434609235,"post_id":30886676,"comment_id":49853987,"body_markdown":"if i upload small size image like logo and all its working fine, if i try to upload large size file image its giving a problem.. any suggestions please..?","body":"if i upload small size image like logo and all its working fine, if i try to upload large size file image its giving a problem.. any suggestions please..?"}],"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434531039,"creation_date":1434531039,"answer_id":30886676,"question_id":30886414,"body_markdown":"`Apache Commons FileUpload` uses the path as set in the `java.io.tmpdir` `system/environment` variable as default upload path. You can change the default upload path. Try to see if it solves the problem. Check their docs for configuration details.","title":"org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed","body":"<p><code>Apache Commons FileUpload</code> uses the path as set in the <code>java.io.tmpdir</code> <code>system/environment</code> variable as default upload path. You can change the default upload path. Try to see if it solves the problem. Check their docs for configuration details.</p>\n"}],"owner":{"account_id":6481968,"reputation":11,"user_id":5018683,"display_name":"vani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1982,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698984735,"creation_date":1434530313,"question_id":30886414,"body_markdown":"File upload program is working fine in the local pc when i deploy it online its giving an error, i.e  \r\n\r\n&gt; org.apache.commons.fileupload.FileUploadException: Processing of\r\n&gt; multipart/form-data request failed. C:\\Program Files (x86)\\Apache\r\n&gt; Software Foundation\\Tomcat 5.0\r\n&gt; \\upload_4133c5ef_14e0097e702__8000_00000003.tmp (The system cannot\r\n&gt; find the path specified)\r\n\r\n    \r\nBelow is my code:\r\n    \r\n    \r\n    &lt;%@page import=&quot;java.util.*&quot;%&gt;\r\n    &lt;%@page import=&quot;java.util.Iterator&quot;%&gt;\r\n    &lt;%@page import=&quot;java.io.File&quot;%&gt;\r\n    &lt;%@page import=&quot;org.apache.commons.fileupload.servlet.ServletFileUpload&quot;%&gt;\r\n    &lt;%@page import=&quot;org.apache.commons.fileupload.disk.DiskFileItemFactory&quot;%&gt;\r\n    &lt;%@page import=&quot;org.apache.commons.fileupload.*&quot;%&gt;\r\n    &lt;%@page import=&quot;javax.servlet.ServletConfig&quot;%&gt;\r\n    &lt;%@page import=&quot;java.sql.*&quot;%&gt;\r\n    &lt;%@page import=&quot;java.io.*&quot;%&gt;\r\n    &lt;%@page import=&quot;java.text.*&quot;%&gt;\r\n    &lt;%@page import=&quot;javax.servlet.Servlet&quot;%&gt;\r\n    &lt;%@page import=&quot;javax.servlet.ServletException&quot;%&gt;\r\n    &lt;%@page import=&quot;javax.servlet.http.HttpServlet&quot;%&gt;\r\n    &lt;%@page import=&quot;com.mmvisa.utils.ConnectionUtils&quot;%&gt;\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Group file Upload&lt;/title&gt;\r\n    &lt;link href=&#39;http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,700,600,800&#39; rel=&#39;stylesheet&#39; type=&#39;text/css&#39; /&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;../css/style.css&quot; type=&quot;text/css&quot; /&gt;\r\n    \r\n    &lt;/head&gt;\r\n    &lt;body &gt;\r\n    &lt;div id=&quot;wrapper&quot;&gt;\r\n    \r\n     &lt;div id=&quot;header&quot;&gt;\r\n      \r\n         &lt;div id=&quot;logo&quot;&gt;     \r\n         &lt;img src=&quot;../images/logo.jpg&quot; alt=&quot;logo&quot;  /&gt;     \r\n         &lt;/div&gt;    &lt;!-- logo --&gt;\r\n         \r\n         &lt;div class=&quot;tittle&quot;&gt;\r\n          &lt;h1&gt; M M VISA-AID CONSULTANCY &lt;/h1&gt;\r\n           &lt;p&gt;OFFSHORE AGENT OF AUSTRALIAN GOVERNMENT &lt;br /&gt;\r\n    Department of Immigration &amp; Border Protection&lt;/p&gt;\r\n        \r\n         &lt;/div&gt;    &lt;!-- tittle --&gt;\r\n    \r\n      &lt;/div&gt;   &lt;!-- header --&gt;\r\n        \r\n    \r\n     &lt;div class=&quot;content&quot; style=&quot;min-height:420px;&quot;&gt;\r\n         \r\n         \r\n       \r\n       \r\n    &lt;br/&gt;\r\n    \r\n    &lt;center&gt;\r\n    &lt;table border=&quot;2&quot;&gt;\r\n    \t\r\n    \t&lt;%\r\n          ServletConfig config1 = getServletConfig();\r\n      //\tlong  useridStr= 0;  \r\n      \tString id = &quot;&quot;;\r\n      \tlong compid = 0;\r\n      \r\n      \t//List&lt;String&gt; allfileName=new ArrayList&lt;String&gt;();\r\n        String allfileName[]=new String[50];\r\n      \tint counterNoOfFiles=0;\r\n      \tint uid = 0;\r\n     \tString year =null;\r\n      \tString invalidFile=null;\r\n         \r\n          boolean isMultipart = ServletFileUpload.isMultipartContent(request);\r\n      \tif (!isMultipart){\r\n      \t\t \r\n      \t}else{\r\n      \t\t\r\n      \t    List items = null;\r\n      \t    try{\r\n      \t    \t\r\n      \t    \t//FileItemFactory factory = new DiskFileItemFactory();\r\n      \t    \t\r\n      \t  \t   // ServletFileUpload upload = new ServletFileUpload(factory);\r\n      \t  \t   DiskFileUpload upload = new DiskFileUpload();\r\n      \t    \titems = upload.parseRequest(request);\r\n      \t    }catch (FileUploadException e){\r\n      \t    \te.printStackTrace();\r\n      \t  \t\r\n      \t    }\r\n      \t    Iterator itr = items.iterator();\r\n      \t    while (itr.hasNext()) {\r\n      \t    \r\n    \t    \t    FileItem item = (FileItem) itr.next();\r\n    \t    \t    if (item.isFormField()){\r\n    \t    \t    \t////\r\n    \t    \t    \t\r\n    \t    \t    \tString name = item.getFieldName();\r\n    \t    \t    \tString value = item.getString();\r\n    \t\t\t\t\tLong value1 = item.getSize();\r\n    \t\t\t\t\tSystem.out.println(&quot;dj checking field name--&gt;&quot;+name);\r\n    \t\t\t\t\tif(name.equals(&quot;year&quot;)){\r\n    \t\t\t\t\t\tyear=value;\r\n    \t\t\t\t\t\tSystem.out.println(&quot;dj checking field value--&gt;&quot;+year);\r\n    \t\t\t\t\t}\r\n    \t    \t    }else\t\r\n    \t    \t    {\r\n    \t    \t    \t\r\n    \t    \t    \ttry{\r\n    \t    \t    \t\tString itemName = item.getName();\r\n    \t    \t    \t\t//allfileName.add(itemName);\r\n    \t    \t    \t\tif (item.getSize() &gt; 0){\r\n    \t\t\t\t\t\t\tFile uploadedFile = null; \r\n    \t\t\t\t\t\t\tString myFullFileName = item.getName(),\tmyFileName = &quot;&quot;,\r\n    \t\t\t\t\t\t\tslashType = (myFullFileName.lastIndexOf(&quot;\\\\&quot;) &gt; 0) ? &quot;\\\\&quot; : &quot;/&quot;; // Windows or UNIX\r\n    \t\t\t\t\t\t\t//System.out.println(&quot;in multiple file upload&quot;+slashType);\r\n    \t\t\t\t\t\t\tint startIndex = myFullFileName.lastIndexOf(slashType);\r\n    \t\t\t\t\t\t\tmyFileName = myFullFileName.substring(startIndex + 1, myFullFileName.length());\t\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;in multiple file upload&quot;+myFileName);\r\n    \t\t\t\t\t\t\t//uploadedFile = new File(&quot;C:\\\\Documents and Settings\\\\sys\\\\Desktop\\\\shastrogyan\\\\.metadata\\\\.plugins\\\\org.eclipse.wst.server.core\\\\tmp0\\\\wtpwebapps\\\\Hayagriva\\\\files\\\\&quot;, myFileName);\r\n    \t\t\t\t\t\t\tuploadedFile = new File(getServletContext().getRealPath(&quot;\\\\&quot;)+&quot;clientfeedback&quot;, myFileName);\r\n    \t\t\t\t\t\t\t//getServletContext().getRealPath(&quot;\\\\&quot;)+&quot;uploadfiles\\\\&quot;\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;uploaded file &quot;+uploadedFile);\r\n    \t\t\t\t\t\t\titem.write(uploadedFile);\r\n    \t\t\t\t\t\t\tallfileName[counterNoOfFiles]=itemName;\r\n    \t\t\t\t\t\t\tcounterNoOfFiles++;\r\n    \t    \t    \t\t}  \r\n    \t    \t    \t}catch (Exception e){\r\n    \t    \t    \t\te.printStackTrace();\r\n    \t    \t    \t}\r\n    \t    \t    }\r\n      \t    }\r\n      \t}\r\n    \t      Connection con = null;\r\n              PreparedStatement preStat = null;\r\n              ResultSet rs = null;\r\n              int count=0;\r\n    \t          String img=&quot; &quot;;\r\n    \t    \t\t    \tfor(int i=0;i&lt;=counterNoOfFiles;i++)\r\n    \t    \t\t    \t{\r\n    \t    \t\t    \t\tSystem.out.println(&quot;Number of files &quot;+counterNoOfFiles);\r\n    \t    \t\t    \t   \timg = allfileName[i];\r\n    \t    \t\t    \t   \tSystem.out.println(&quot;Image name &quot;+img);\r\n    \t    \t\t    \t}\r\n    \t    \t\t    \tSystem.out.println(&quot;All Image names &quot;+img);\r\n      \t\r\n    \t    \t//Code for Add to database\r\n    \t    \tfor(int i=0;i&lt;counterNoOfFiles;i++){\r\n    \t    \t\t//System.out.println(&quot;175&quot;+allfileName.size());\r\n    \t    \t\t\r\n    \t   \t   \t    PreparedStatement psmt=null;\r\n    \t   \t   \t    \r\n    \t   \t   \t\ttry{\r\n    \t          \t  con=ConnectionUtils.getConnection();\r\n    \t          \tString sql = &quot;select * from clientfeedback where imagename=?&quot;;\r\n    \t          \tSystem.out.println(sql);\r\n    \t          \tpsmt=con.prepareStatement(sql);\r\n    \t          \tpsmt.setString(1, allfileName[i].toString());\r\n        \t\t\trs=psmt.executeQuery();\r\n        \t\t\tif(rs.next()){\r\n        \t\t\t\tcount++;\r\n        \t\t\t}else{\r\n        \t\t\t\tif (psmt != null)\r\n        \t    \t\t\tpsmt.close();\r\n    \t\t          String query = &quot;insert into clientfeedback (imagename,year ) values(?,?)&quot;;\r\n    \t\t          \r\n    \t\t      \tSystem.out.println(query);\r\n    \t\t    \t    \tpsmt=con.prepareStatement(query);\r\n    \t\t    \t    \tpsmt.setString(1, allfileName[i].toString());\r\n    \t\t    \t\t\tpsmt.setString(2,year);\r\n    \t\t    \t    \tpsmt.executeUpdate();\r\n        \t\t\t}\r\n    \t\t    \t    }catch(Exception ex){\r\n    \t\t    \t   \t\tex.printStackTrace();\r\n    \t\t    \t    }finally{\r\n    \t\t    \t    \t\r\n    \t\t    \t    \ttry {\r\n    \t\t    \t    \t\tif (psmt != null)\r\n    \t\t    \t    \t\t\tpsmt.close();\r\n    \t\t    \t    \t} catch (Exception e2) {\r\n    \t\t    \t    \t}\r\n    \t\t    \t    \ttry {\r\n    \t\t    \t    \t\tif (con != null)\r\n    \t\t    \t    \t\t\tcon.close();\r\n    \t\t    \t    \t} catch (Exception e3) {\r\n    \t\t    \t    \t}\r\n    \t\t    \t}\r\n    \t    \t}\r\n    \t    \tSystem.out.println(&quot;checking count-&gt;&quot;+count);\r\n    \t    \tif(count!=0){\r\n    \t    \t\tinvalidFile=&quot;there is &quot;+count+&quot; duplicate file which is not save in database.other file has saved&quot;; \r\n    \t    \t}else{\r\n    \t    \tinvalidFile=&quot;File uploading done successfully&quot;;\t\r\n    \t    \t}\r\n       %&gt;\r\n     \r\n    &lt;/table&gt;\r\n    &lt;/center&gt;\r\n    &lt;center&gt;\r\n    &lt;h3&gt;&lt;%=invalidFile %&gt;&lt;/h3&gt;\r\n    &lt;/center&gt;\r\n    &lt;center&gt;&lt;a href=&quot;&lt;%=request.getContextPath() %&gt;/clientFeedback.do?action=list&quot;&gt;Go to upload page&lt;/a&gt;&lt;/center&gt;\r\n    &lt;br/&gt;\r\n     \r\n    &lt;/div&gt;  &lt;!-- content --&gt;\r\n    \r\n    &lt;div id=&quot;footer&quot; style=&quot;margin-top:10px;&quot;&gt;\r\n           &lt;table&gt;\r\n           &lt;tr&gt;\r\n           &lt;td width=&quot;900&quot;&gt;Copyright, All Rights Reserved,MM VISA,2014&lt;/td&gt;\r\n           &lt;td width=&quot;460&quot;&gt;Follow us on : &lt;a href=&quot;#&quot;&gt; &lt;img src=&quot;../images/facebook.png&quot; /&gt; &lt;/a&gt; &lt;a href=&quot;#&quot;&gt; &lt;img src=&quot;../images/twitter.png&quot; /&gt; &lt;/a&gt;  &lt;a href=&quot;#&quot;&gt; &lt;img src=&quot;../images/utube.png&quot; /&gt; &lt;/a&gt;`enter code here`\r\n           &lt;a href=&quot;#&quot;&gt; &lt;img src=&quot;../images/blog1.png&quot; /&gt;&lt;/a&gt;\r\n           &lt;a href=&quot;#&quot;&gt; &lt;img src=&quot;../images/google_plus_icon.png&quot; /&gt; &lt;/a&gt;\r\n           \r\n            &lt;/td&gt;\r\n          &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n            &lt;/div&gt;  &lt;!-- footer--&gt;\r\n    \r\n    &lt;/div&gt;  &lt;!-- wrapper --&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n    \r\n     \r\nCould anyone please help me to solve this problem. Thank you","title":"org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-data request failed","body":"<p>File upload program is working fine in the local pc when i deploy it online its giving an error, i.e  </p>\n\n<blockquote>\n  <p>org.apache.commons.fileupload.FileUploadException: Processing of\n  multipart/form-data request failed. C:\\Program Files (x86)\\Apache\n  Software Foundation\\Tomcat 5.0\n  \\upload_4133c5ef_14e0097e702__8000_00000003.tmp (The system cannot\n  find the path specified)</p>\n</blockquote>\n\n<p>Below is my code:</p>\n\n<pre><code>&lt;%@page import=\"java.util.*\"%&gt;\n&lt;%@page import=\"java.util.Iterator\"%&gt;\n&lt;%@page import=\"java.io.File\"%&gt;\n&lt;%@page import=\"org.apache.commons.fileupload.servlet.ServletFileUpload\"%&gt;\n&lt;%@page import=\"org.apache.commons.fileupload.disk.DiskFileItemFactory\"%&gt;\n&lt;%@page import=\"org.apache.commons.fileupload.*\"%&gt;\n&lt;%@page import=\"javax.servlet.ServletConfig\"%&gt;\n&lt;%@page import=\"java.sql.*\"%&gt;\n&lt;%@page import=\"java.io.*\"%&gt;\n&lt;%@page import=\"java.text.*\"%&gt;\n&lt;%@page import=\"javax.servlet.Servlet\"%&gt;\n&lt;%@page import=\"javax.servlet.ServletException\"%&gt;\n&lt;%@page import=\"javax.servlet.http.HttpServlet\"%&gt;\n&lt;%@page import=\"com.mmvisa.utils.ConnectionUtils\"%&gt;\n&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Group file Upload&lt;/title&gt;\n&lt;link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,700,600,800' rel='stylesheet' type='text/css' /&gt;\n&lt;link rel=\"stylesheet\" href=\"../css/style.css\" type=\"text/css\" /&gt;\n\n&lt;/head&gt;\n&lt;body &gt;\n&lt;div id=\"wrapper\"&gt;\n\n &lt;div id=\"header\"&gt;\n\n     &lt;div id=\"logo\"&gt;     \n     &lt;img src=\"../images/logo.jpg\" alt=\"logo\"  /&gt;     \n     &lt;/div&gt;    &lt;!-- logo --&gt;\n\n     &lt;div class=\"tittle\"&gt;\n      &lt;h1&gt; M M VISA-AID CONSULTANCY &lt;/h1&gt;\n       &lt;p&gt;OFFSHORE AGENT OF AUSTRALIAN GOVERNMENT &lt;br /&gt;\nDepartment of Immigration &amp; Border Protection&lt;/p&gt;\n\n     &lt;/div&gt;    &lt;!-- tittle --&gt;\n\n  &lt;/div&gt;   &lt;!-- header --&gt;\n\n\n &lt;div class=\"content\" style=\"min-height:420px;\"&gt;\n\n\n\n\n&lt;br/&gt;\n\n&lt;center&gt;\n&lt;table border=\"2\"&gt;\n\n    &lt;%\n      ServletConfig config1 = getServletConfig();\n  //    long  useridStr= 0;  \n    String id = \"\";\n    long compid = 0;\n\n    //List&lt;String&gt; allfileName=new ArrayList&lt;String&gt;();\n    String allfileName[]=new String[50];\n    int counterNoOfFiles=0;\n    int uid = 0;\n    String year =null;\n    String invalidFile=null;\n\n      boolean isMultipart = ServletFileUpload.isMultipartContent(request);\n    if (!isMultipart){\n\n    }else{\n\n        List items = null;\n        try{\n\n            //FileItemFactory factory = new DiskFileItemFactory();\n\n           // ServletFileUpload upload = new ServletFileUpload(factory);\n           DiskFileUpload upload = new DiskFileUpload();\n            items = upload.parseRequest(request);\n        }catch (FileUploadException e){\n            e.printStackTrace();\n\n        }\n        Iterator itr = items.iterator();\n        while (itr.hasNext()) {\n\n                FileItem item = (FileItem) itr.next();\n                if (item.isFormField()){\n                    ////\n\n                    String name = item.getFieldName();\n                    String value = item.getString();\n                    Long value1 = item.getSize();\n                    System.out.println(\"dj checking field name--&gt;\"+name);\n                    if(name.equals(\"year\")){\n                        year=value;\n                        System.out.println(\"dj checking field value--&gt;\"+year);\n                    }\n                }else   \n                {\n\n                    try{\n                        String itemName = item.getName();\n                        //allfileName.add(itemName);\n                        if (item.getSize() &gt; 0){\n                            File uploadedFile = null; \n                            String myFullFileName = item.getName(), myFileName = \"\",\n                            slashType = (myFullFileName.lastIndexOf(\"\\\\\") &gt; 0) ? \"\\\\\" : \"/\"; // Windows or UNIX\n                            //System.out.println(\"in multiple file upload\"+slashType);\n                            int startIndex = myFullFileName.lastIndexOf(slashType);\n                            myFileName = myFullFileName.substring(startIndex + 1, myFullFileName.length()); \n                            System.out.println(\"in multiple file upload\"+myFileName);\n                            //uploadedFile = new File(\"C:\\\\Documents and Settings\\\\sys\\\\Desktop\\\\shastrogyan\\\\.metadata\\\\.plugins\\\\org.eclipse.wst.server.core\\\\tmp0\\\\wtpwebapps\\\\Hayagriva\\\\files\\\\\", myFileName);\n                            uploadedFile = new File(getServletContext().getRealPath(\"\\\\\")+\"clientfeedback\", myFileName);\n                            //getServletContext().getRealPath(\"\\\\\")+\"uploadfiles\\\\\"\n                            System.out.println(\"uploaded file \"+uploadedFile);\n                            item.write(uploadedFile);\n                            allfileName[counterNoOfFiles]=itemName;\n                            counterNoOfFiles++;\n                        }  \n                    }catch (Exception e){\n                        e.printStackTrace();\n                    }\n                }\n        }\n    }\n          Connection con = null;\n          PreparedStatement preStat = null;\n          ResultSet rs = null;\n          int count=0;\n              String img=\" \";\n                        for(int i=0;i&lt;=counterNoOfFiles;i++)\n                        {\n                            System.out.println(\"Number of files \"+counterNoOfFiles);\n                            img = allfileName[i];\n                            System.out.println(\"Image name \"+img);\n                        }\n                        System.out.println(\"All Image names \"+img);\n\n            //Code for Add to database\n            for(int i=0;i&lt;counterNoOfFiles;i++){\n                //System.out.println(\"175\"+allfileName.size());\n\n                PreparedStatement psmt=null;\n\n                try{\n                  con=ConnectionUtils.getConnection();\n                String sql = \"select * from clientfeedback where imagename=?\";\n                System.out.println(sql);\n                psmt=con.prepareStatement(sql);\n                psmt.setString(1, allfileName[i].toString());\n                rs=psmt.executeQuery();\n                if(rs.next()){\n                    count++;\n                }else{\n                    if (psmt != null)\n                        psmt.close();\n                  String query = \"insert into clientfeedback (imagename,year ) values(?,?)\";\n\n                System.out.println(query);\n                        psmt=con.prepareStatement(query);\n                        psmt.setString(1, allfileName[i].toString());\n                        psmt.setString(2,year);\n                        psmt.executeUpdate();\n                }\n                    }catch(Exception ex){\n                        ex.printStackTrace();\n                    }finally{\n\n                        try {\n                            if (psmt != null)\n                                psmt.close();\n                        } catch (Exception e2) {\n                        }\n                        try {\n                            if (con != null)\n                                con.close();\n                        } catch (Exception e3) {\n                        }\n                }\n            }\n            System.out.println(\"checking count-&gt;\"+count);\n            if(count!=0){\n                invalidFile=\"there is \"+count+\" duplicate file which is not save in database.other file has saved\"; \n            }else{\n            invalidFile=\"File uploading done successfully\"; \n            }\n   %&gt;\n\n&lt;/table&gt;\n&lt;/center&gt;\n&lt;center&gt;\n&lt;h3&gt;&lt;%=invalidFile %&gt;&lt;/h3&gt;\n&lt;/center&gt;\n&lt;center&gt;&lt;a href=\"&lt;%=request.getContextPath() %&gt;/clientFeedback.do?action=list\"&gt;Go to upload page&lt;/a&gt;&lt;/center&gt;\n&lt;br/&gt;\n\n&lt;/div&gt;  &lt;!-- content --&gt;\n\n&lt;div id=\"footer\" style=\"margin-top:10px;\"&gt;\n       &lt;table&gt;\n       &lt;tr&gt;\n       &lt;td width=\"900\"&gt;Copyright, All Rights Reserved,MM VISA,2014&lt;/td&gt;\n       &lt;td width=\"460\"&gt;Follow us on : &lt;a href=\"#\"&gt; &lt;img src=\"../images/facebook.png\" /&gt; &lt;/a&gt; &lt;a href=\"#\"&gt; &lt;img src=\"../images/twitter.png\" /&gt; &lt;/a&gt;  &lt;a href=\"#\"&gt; &lt;img src=\"../images/utube.png\" /&gt; &lt;/a&gt;`enter code here`\n       &lt;a href=\"#\"&gt; &lt;img src=\"../images/blog1.png\" /&gt;&lt;/a&gt;\n       &lt;a href=\"#\"&gt; &lt;img src=\"../images/google_plus_icon.png\" /&gt; &lt;/a&gt;\n\n        &lt;/td&gt;\n      &lt;/tr&gt;\n        &lt;/table&gt;\n        &lt;/div&gt;  &lt;!-- footer--&gt;\n\n&lt;/div&gt;  &lt;!-- wrapper --&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Could anyone please help me to solve this problem. Thank you</p>\n"},{"tags":["java","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1652954560,"post_id":72301953,"comment_id":127734942,"body_markdown":"Please share your stack trace","body":"Please share your stack trace"},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1652959373,"post_id":72301953,"comment_id":127736614,"body_markdown":"Posting your test dependencies would also help.","body":"Posting your test dependencies would also help."}],"answers":[{"tags":[],"owner":{"account_id":22915385,"reputation":106,"user_id":17052051,"display_name":"Ranjit C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652957622,"creation_date":1652956381,"answer_id":72302991,"question_id":72301953,"body_markdown":"If you are trying to mock static class using mockito, you will need the following dependency first. If you try to mock static class without this dependency it will throw that error\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThen mock the static class by using\r\n```\r\nMockedStatic&lt;YourStaticClass&gt; yourStaticClass = mockStatic(YourStaticClass.class)\r\n```\r\nAlso make sure whether you are using the correct dependencies in your pom","title":"Failed to release mocks - Mockito","body":"<p>If you are trying to mock static class using mockito, you will need the following dependency first. If you try to mock static class without this dependency it will throw that error</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then mock the static class by using</p>\n<pre><code>MockedStatic&lt;YourStaticClass&gt; yourStaticClass = mockStatic(YourStaticClass.class)\n</code></pre>\n<p>Also make sure whether you are using the correct dependencies in your pom</p>\n"},{"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1652959492,"creation_date":1652959492,"answer_id":72303688,"question_id":72301953,"body_markdown":"`Failed to Release mocks` can happen when your dependencies are not aligned. Since you are using Spring Boot, make sure to not bump major Mockito version, but rather use `spring-boot-starter-test` and correct version of Spring Boot parent that will bring aligned set of dependencies including Mockito.","title":"Failed to release mocks - Mockito","body":"<p><code>Failed to Release mocks</code> can happen when your dependencies are not aligned. Since you are using Spring Boot, make sure to not bump major Mockito version, but rather use <code>spring-boot-starter-test</code> and correct version of Spring Boot parent that will bring aligned set of dependencies including Mockito.</p>\n"},{"tags":[],"owner":{"account_id":1317055,"reputation":70,"user_id":1263676,"display_name":"WhiteG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675897090,"creation_date":1675897090,"answer_id":75392544,"question_id":72301953,"body_markdown":"Try adding `@ExtendWith(MockitoExtension.class)` on top of the test class and removing `MockitoAnnotations.initMocks(this);` from `setUp` method.","title":"Failed to release mocks - Mockito","body":"<p>Try adding <code>@ExtendWith(MockitoExtension.class)</code> on top of the test class and removing <code>MockitoAnnotations.initMocks(this);</code> from <code>setUp</code> method.</p>\n"},{"tags":[],"owner":{"account_id":959512,"reputation":81,"user_id":5517503,"display_name":"Hsilgos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685815055,"creation_date":1685815055,"answer_id":76397328,"question_id":72301953,"body_markdown":"In my case I faced this similar error on Android. The reason was the following issue: https://github.com/mockito/mockito/issues/2302\r\n\r\nI work around it as suggested in the issue: debuggable release.","title":"Failed to release mocks - Mockito","body":"<p>In my case I faced this similar error on Android. The reason was the following issue: <a href=\"https://github.com/mockito/mockito/issues/2302\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/issues/2302</a></p>\n<p>I work around it as suggested in the issue: debuggable release.</p>\n"}],"owner":{"account_id":23631971,"reputation":81,"user_id":17663555,"display_name":"Radha S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8823,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1698984385,"creation_date":1652952274,"question_id":72301953,"body_markdown":"I am trying to upgrade from Mockito version 1.0.19 to 4.0.0 and using Junit 5, since I am unable to mock static in older version of mockito. I am getting &quot;Failed to Release mocks&quot; error..\r\n\r\nPlease let me know , what all needs to be taken care while migrating.\r\n\r\n```\r\npublic class RefreshTableSchedulerTest {\r\n\r\n\t@Mock\r\n\tConfigRepository configRepository;\r\n\r\n\t@InjectMocks\r\n\tRandomScheduler randomScheduler;\r\n\r\n\t@BeforeEach\r\n\tpublic void setUp() throws Exception {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\tsetReflectionUtils(randomScheduler);\r\n\r\n\t}\r\n\r\n@Test\r\n\tpublic void testRefreshTableWithOutDelay() {\r\n\t// our trestcases\r\n\r\n\t}\r\n```\r\n\r\nRandomScheduler\r\n```\r\n@Configuration\r\n@EnableScheduling\r\npublic class RandomScheduler {\r\n\r\n@Scheduled(fixedDelayString = &quot;${schedule.refresh.table.job.in.ms:1800000}&quot;)\r\n    public void execute() {\r\n    //fetch data from table A\r\n    //inserts data to Table B using timestamps got from Table A\r\n    //updates timestamp of Table A\r\n    }\r\n``` ","title":"Failed to release mocks - Mockito","body":"<p>I am trying to upgrade from Mockito version 1.0.19 to 4.0.0 and using Junit 5, since I am unable to mock static in older version of mockito. I am getting &quot;Failed to Release mocks&quot; error..</p>\n<p>Please let me know , what all needs to be taken care while migrating.</p>\n<pre><code>public class RefreshTableSchedulerTest {\n\n    @Mock\n    ConfigRepository configRepository;\n\n    @InjectMocks\n    RandomScheduler randomScheduler;\n\n    @BeforeEach\n    public void setUp() throws Exception {\n        MockitoAnnotations.initMocks(this);\n        setReflectionUtils(randomScheduler);\n\n    }\n\n@Test\n    public void testRefreshTableWithOutDelay() {\n    // our trestcases\n\n    }\n</code></pre>\n<p>RandomScheduler</p>\n<pre><code>@Configuration\n@EnableScheduling\npublic class RandomScheduler {\n\n@Scheduled(fixedDelayString = &quot;${schedule.refresh.table.job.in.ms:1800000}&quot;)\n    public void execute() {\n    //fetch data from table A\n    //inserts data to Table B using timestamps got from Table A\n    //updates timestamp of Table A\n    }\n</code></pre>\n"},{"tags":["java","httpclient"],"comments":[{"owner":{"account_id":4695136,"reputation":4605,"user_id":3800170,"accept_rate":60,"display_name":"alayor"},"score":0,"creation_date":1484428667,"post_id":41655015,"comment_id":70508825,"body_markdown":"Have you tried adding `Class-path` to your manifest file? https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html","body":"Have you tried adding <code>Class-path</code> to your manifest file? <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/downman.html</a>"},{"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"score":0,"creation_date":1633442981,"post_id":41655015,"comment_id":122757501,"body_markdown":"have you find any solution ? I am searching for this .","body":"have you find any solution ? I am searching for this ."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1698987489,"post_id":41655015,"comment_id":136476814,"body_markdown":"Didn‚Äôt think anyone is still manually setting classpath in this day and age.","body":"Didn‚Äôt think anyone is still manually setting classpath in this day and age."}],"answers":[{"tags":[],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484435314,"creation_date":1484435314,"answer_id":41656011,"question_id":41655015,"body_markdown":"I advise you to use **Maven** or **Gradle** because the depandances are loaded automatically.\r\n\r\n**Maven:**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Gradle:**\r\n\r\n    compile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpclient&#39;, version: &#39;4.5.1&#39;\r\n\r\n","title":"java and httpclient java.lang.NoClassDefFoundError","body":"<p>I advise you to use <strong>Maven</strong> or <strong>Gradle</strong> because the depandances are loaded automatically.</p>\n\n<p><strong>Maven:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Gradle:</strong></p>\n\n<pre><code>compile group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.1'\n</code></pre>\n"}],"owner":{"account_id":9192295,"reputation":31,"user_id":6832348,"display_name":"Gult"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14923,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698984385,"creation_date":1484428017,"question_id":41655015,"body_markdown":"I have problem.\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.ResponseHandler;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.mime.MultipartEntity;\r\n    import org.apache.http.entity.mime.content.FileBody;\r\n    import org.apache.http.entity.mime.content.StringBody;\r\n    import org.apache.http.impl.client.BasicResponseHandler;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    \r\n    public class qq {\r\n    \r\n            public static void main(String[] args) throws UnsupportedEncodingException, IOException {\r\n            HttpClient httpclient = new DefaultHttpClient();\r\n    //        HttpPost httppost = new HttpPost(&quot;http://192.168.0.102/uploadtest/upload_photo&quot;);\r\n            System.out.println(&quot;aaaa&quot;);\r\n    \r\n        }\r\n    }\r\n\r\nFile manifest.mf:\r\n&lt;pre&gt;\r\nManifest-version: 1.0\r\nMain-Class: qq\r\n&lt;/pre&gt;\r\n\r\nOS debian 8\r\njava version:\r\njava version &quot;1.8.0_111&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_111-b14)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.111-b14, mixed mode)\r\n\r\nAnd:\r\n&lt;pre&gt;\r\njavac -cp ./lib/httpclient-4.2.5.jar:./lib/httpcore-4.4.5.jar:./lib/httpmime-4.2.5.jar:./lib/commons-logging-1.2.jar qq.java\r\njar cfm test.jar manifest.mf qq.class\r\n&lt;/pre&gt;\r\nIts ok, no error, exit code - 0.\r\n\r\nI try:\r\n&lt;pre&gt;\r\n# java -jar test.jar\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/impl/client/DefaultHttpClient\r\n        at qq.main(qq.java:18)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.http.impl.client.DefaultHttpClient\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        ... 1 more\r\n\r\n&lt;/pre&gt;\r\n\r\nHow to fix this ?\r\n\r\n","title":"java and httpclient java.lang.NoClassDefFoundError","body":"<p>I have problem.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.ResponseHandler;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.mime.MultipartEntity;\nimport org.apache.http.entity.mime.content.FileBody;\nimport org.apache.http.entity.mime.content.StringBody;\nimport org.apache.http.impl.client.BasicResponseHandler;\nimport org.apache.http.impl.client.DefaultHttpClient;\n\npublic class qq {\n\n        public static void main(String[] args) throws UnsupportedEncodingException, IOException {\n        HttpClient httpclient = new DefaultHttpClient();\n//        HttpPost httppost = new HttpPost(\"http://192.168.0.102/uploadtest/upload_photo\");\n        System.out.println(\"aaaa\");\n\n    }\n}\n</code></pre>\n\n<p>File manifest.mf:</p>\n\n<pre>\nManifest-version: 1.0\nMain-Class: qq\n</pre>\n\n<p>OS debian 8\njava version:\njava version \"1.8.0_111\"\nJava(TM) SE Runtime Environment (build 1.8.0_111-b14)\nJava HotSpot(TM) 64-Bit Server VM (build 25.111-b14, mixed mode)</p>\n\n<p>And:</p>\n\n<pre>\njavac -cp ./lib/httpclient-4.2.5.jar:./lib/httpcore-4.4.5.jar:./lib/httpmime-4.2.5.jar:./lib/commons-logging-1.2.jar qq.java\njar cfm test.jar manifest.mf qq.class\n</pre>\n\n<p>Its ok, no error, exit code - 0.</p>\n\n<p>I try:</p>\n\n<pre>\n# java -jar test.jar\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/http/impl/client/DefaultHttpClient\n        at qq.main(qq.java:18)\nCaused by: java.lang.ClassNotFoundException: org.apache.http.impl.client.DefaultHttpClient\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 1 more\n\n</pre>\n\n<p>How to fix this ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1698984903,"post_id":77413971,"comment_id":136476642,"body_markdown":"The variables defined ‚Äò bookTitles‚Äô bookCopies are defined as object variables?","body":"The variables defined ‚Äò bookTitles‚Äô bookCopies are defined as object variables?"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1698985625,"post_id":77413971,"comment_id":136476677,"body_markdown":"Are you creating a new copy of the map in `lib.getTitles()` method?","body":"Are you creating a new copy of the map in <code>lib.getTitles()</code> method?"},{"owner":{"account_id":22302537,"reputation":373,"user_id":16527596,"display_name":"Severjan Lici"},"score":0,"creation_date":1699018853,"post_id":77413971,"comment_id":136481485,"body_markdown":"@RifatRubayatulIslam If we have ```SortedMap&lt;String, Integer&gt; titles = lib.getTitles();\n``` and we do ```assertEquals(6, titles.size())``` it says its wrong because size of titles is 3\nBut if we do ```assertEquals(6, lib.getTitles().size());``` it says its correct.","body":"@RifatRubayatulIslam If we have <code>SortedMap&lt;String, Integer&gt; titles = lib.getTitles(); </code> and we do <code>assertEquals(6, titles.size())</code> it says its wrong because size of titles is 3 But if we do <code>assertEquals(6, lib.getTitles().size());</code> it says its correct."},{"owner":{"account_id":22302537,"reputation":373,"user_id":16527596,"display_name":"Severjan Lici"},"score":0,"creation_date":1699019049,"post_id":77413971,"comment_id":136481540,"body_markdown":"@RifatRubayatulIslam Im not sure but i think it has to do with the fact that technically we havent updated it. We do ```SortedMap&lt;String, Integer&gt; titles = lib.getTitles();``` when we initally have 3 titles but not again when we add the other 3","body":"@RifatRubayatulIslam Im not sure but i think it has to do with the fact that technically we havent updated it. We do <code>SortedMap&lt;String, Integer&gt; titles = lib.getTitles();</code> when we initally have 3 titles but not again when we add the other 3"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1699029039,"post_id":77413971,"comment_id":136483954,"body_markdown":"Check the implementation of the `getTitles()` method. Most probably it is creating a copy of the actual map and returning the copy. When you are adding new element, it is added to the actual map. The copy remains the same.","body":"Check the implementation of the <code>getTitles()</code> method. Most probably it is creating a copy of the actual map and returning the copy. When you are adding new element, it is added to the actual map. The copy remains the same."}],"owner":{"account_id":22302537,"reputation":373,"user_id":16527596,"display_name":"Severjan Lici"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698983883,"creation_date":1698980808,"question_id":77413971,"body_markdown":"EDIT:\r\n---------------------------------------------------------------------\r\nApparently i put a sysout in the Test Function and the it gave me the correct answer which is kinda wierd becasue in there i have \r\n```\r\nLibraryManager lib = new LibraryManager();\r\n//other stuff\r\nSortedMap&lt;String, Integer&gt; titles = lib.getTitles();\r\n\t    assertEquals(3, titles.size()); \r\n// and it is correct initally. There are only 3 books added\r\n\r\n//then Later on we add 3 more \r\n//we have \r\nlib.receiveDonation(&quot;Beauty and the Beast,Cindarella,Snowhite&quot;);\r\n\t   \r\n\t    assertEquals(6, titles.size()); // here it says that the size remains 3 \r\n\r\n//but if i do for example \r\nlib.receiveDonation(&quot;Beauty and the Beast,Cindarella,Snowhite&quot;);\r\n\t    System.out.println(lib.getTitles().size());//the size is indeed 6\r\n\t    assertEquals(6, titles.size());//but in here it says it remains 3\r\n\r\n//Im honestly so confused\r\n```\r\n\r\n\r\n--------------------------------------------------------------------\r\nIts my first time asking questions in java here so if you need further clarifications please ask.\r\n\r\nSo basically we have 2 treeMaps for a library. One is for the unique books that only adds in it the title and the Book class(bookTitles) and the other is if we add the same book just different Id (bookCoppies) \r\n\r\nAssume that everything before works and is defined correctly because i have tested it\r\n\r\nMy problem is this: in a further method we are asked to add new books to the pile \r\nIf the given String is ``` &quot;Beauty and the Beast,Cindarella,Snowhite&quot; ``` we have to separate this String into 3 parts with ```,``` and then add them to the Tree.\r\n\r\nThis is what i have done :\r\n\r\n```\r\n//this is the original method that adds the books\r\n\r\npublic TreeMap&lt;String,Book&gt; bookTitles=new TreeMap&lt;&gt;();\r\n\tint bookId=1000;\r\n\tpublic TreeMap&lt;String,Book&gt; bookCoppies= new TreeMap&lt;&gt;();\r\n\t\r\n    public String addBook(String title) {\r\n    \t\r\n    \tif(bookTitles.containsKey(title))\r\n    \t{\r\n    \t\tBook b=bookTitles.get(title);\r\n    \t\tb.incCount();\r\n    \t\tb.setId(bookId);\r\n    \t\tbookCoppies.put(String.valueOf(bookId), b);\r\n    \t\tbookId++;\r\n    \t\t\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\tBook b=new Book(title);\r\n    \t\tb.incCount();\r\n    \t\tb.setId((bookId));\r\n    \t\tbookTitles.put(title, b);\r\n    \t\tbookCoppies.put(String.valueOf(bookId), b);\r\n    \t\tbookId++;\r\n    \t}\r\n    \t\r\n        return String.valueOf(bookId);\r\n    }\r\n\r\n\r\n//then i use many other methods to do whatever the exercise asks me to do\r\n\r\n// then we have to add the new books \r\n\r\npublic void receiveDonation(String donatedTitles) {\r\n    \tString[] str=donatedTitles.split(&quot;,&quot;);\r\n    \tList&lt;String&gt; strings= new ArrayList&lt;&gt;();\r\n    \tstrings.addAll(Arrays.asList(str));\r\n    \tfor (String s : strings) {\r\n    \t\taddBook(s);\r\n\t\t}\r\n    }\r\n```\r\nI also tried a copy paste of the &quot;function&quot; not just to call it for example this \r\n\r\n```\r\n  public void receiveDonation(String donatedTitles) {\r\n    \tString[] str=donatedTitles.split(&quot;,&quot;);\r\n    \tList&lt;String&gt; strings= new ArrayList&lt;&gt;();\r\n    \tstrings.addAll(Arrays.asList(str));\r\n    \tfor (String s : strings) {\r\n\r\n        \tif(bookTitles.containsKey(s))\r\n        \t{\r\n        \t\tBook b=bookTitles.get(s);\r\n        \t\tb.incCount();\r\n        \t\tb.setId(bookId);\r\n        \t\tbookCoppies.put(String.valueOf(bookId), b);\r\n        \t\tbookId++;\r\n        \t\t\r\n        \t}\r\n        \telse\r\n        \t{\r\n        \t\tBook b=new Book(s);\r\n        \t\tb.incCount();\r\n        \t\tb.setId((bookId));\r\n        \t\tbookTitles.put(s, b);\r\n        \t\tbookCoppies.put(String.valueOf(bookId), b);\r\n        \t\tbookId++;\r\n        \t}\r\n\t\t}\r\n    }\r\n```\r\n But according to the Test function the size remains the same. For example when i call the first function the size should be 3 and then once we add the new books it should be 6 but the size remains 3\r\n\r\nAny idea what might be the problem?\r\n\r\n","title":"Adding additional data to the TreeMap","body":"<h2>EDIT:</h2>\n<p>Apparently i put a sysout in the Test Function and the it gave me the correct answer which is kinda wierd becasue in there i have</p>\n<pre><code>LibraryManager lib = new LibraryManager();\n//other stuff\nSortedMap&lt;String, Integer&gt; titles = lib.getTitles();\n        assertEquals(3, titles.size()); \n// and it is correct initally. There are only 3 books added\n\n//then Later on we add 3 more \n//we have \nlib.receiveDonation(&quot;Beauty and the Beast,Cindarella,Snowhite&quot;);\n       \n        assertEquals(6, titles.size()); // here it says that the size remains 3 \n\n//but if i do for example \nlib.receiveDonation(&quot;Beauty and the Beast,Cindarella,Snowhite&quot;);\n        System.out.println(lib.getTitles().size());//the size is indeed 6\n        assertEquals(6, titles.size());//but in here it says it remains 3\n\n//Im honestly so confused\n</code></pre>\n<hr />\n<p>Its my first time asking questions in java here so if you need further clarifications please ask.</p>\n<p>So basically we have 2 treeMaps for a library. One is for the unique books that only adds in it the title and the Book class(bookTitles) and the other is if we add the same book just different Id (bookCoppies)</p>\n<p>Assume that everything before works and is defined correctly because i have tested it</p>\n<p>My problem is this: in a further method we are asked to add new books to the pile\nIf the given String is <code>&quot;Beauty and the Beast,Cindarella,Snowhite&quot;</code> we have to separate this String into 3 parts with <code>,</code> and then add them to the Tree.</p>\n<p>This is what i have done :</p>\n<pre><code>//this is the original method that adds the books\n\npublic TreeMap&lt;String,Book&gt; bookTitles=new TreeMap&lt;&gt;();\n    int bookId=1000;\n    public TreeMap&lt;String,Book&gt; bookCoppies= new TreeMap&lt;&gt;();\n    \n    public String addBook(String title) {\n        \n        if(bookTitles.containsKey(title))\n        {\n            Book b=bookTitles.get(title);\n            b.incCount();\n            b.setId(bookId);\n            bookCoppies.put(String.valueOf(bookId), b);\n            bookId++;\n            \n        }\n        else\n        {\n            Book b=new Book(title);\n            b.incCount();\n            b.setId((bookId));\n            bookTitles.put(title, b);\n            bookCoppies.put(String.valueOf(bookId), b);\n            bookId++;\n        }\n        \n        return String.valueOf(bookId);\n    }\n\n\n//then i use many other methods to do whatever the exercise asks me to do\n\n// then we have to add the new books \n\npublic void receiveDonation(String donatedTitles) {\n        String[] str=donatedTitles.split(&quot;,&quot;);\n        List&lt;String&gt; strings= new ArrayList&lt;&gt;();\n        strings.addAll(Arrays.asList(str));\n        for (String s : strings) {\n            addBook(s);\n        }\n    }\n</code></pre>\n<p>I also tried a copy paste of the &quot;function&quot; not just to call it for example this</p>\n<pre><code>  public void receiveDonation(String donatedTitles) {\n        String[] str=donatedTitles.split(&quot;,&quot;);\n        List&lt;String&gt; strings= new ArrayList&lt;&gt;();\n        strings.addAll(Arrays.asList(str));\n        for (String s : strings) {\n\n            if(bookTitles.containsKey(s))\n            {\n                Book b=bookTitles.get(s);\n                b.incCount();\n                b.setId(bookId);\n                bookCoppies.put(String.valueOf(bookId), b);\n                bookId++;\n                \n            }\n            else\n            {\n                Book b=new Book(s);\n                b.incCount();\n                b.setId((bookId));\n                bookTitles.put(s, b);\n                bookCoppies.put(String.valueOf(bookId), b);\n                bookId++;\n            }\n        }\n    }\n</code></pre>\n<p>But according to the Test function the size remains the same. For example when i call the first function the size should be 3 and then once we add the new books it should be 6 but the size remains 3</p>\n<p>Any idea what might be the problem?</p>\n"},{"tags":["java","android","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1698996026,"post_id":77413709,"comment_id":136477610,"body_markdown":"What is the error message that you&#39;re getting?","body":"What is the error message that you&#39;re getting?"},{"owner":{"account_id":22343813,"reputation":889,"user_id":16563198,"display_name":"sbridewell"},"score":0,"creation_date":1699103472,"post_id":77413709,"comment_id":136490677,"body_markdown":"Please edit your question to [include code, data and error messages as text, not images](https://meta.stackoverflow.com/a/285557/16563198).","body":"Please edit your question to <a href=\"https://meta.stackoverflow.com/a/285557/16563198\">include code, data and error messages as text, not images</a>."}],"owner":{"account_id":26188089,"reputation":13,"user_id":19870350,"display_name":"Tumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698982958,"creation_date":1698974728,"question_id":77413709,"body_markdown":"[![An internal error has occurred. ](https://i.stack.imgur.com/4emyr.png)](https://i.stack.imgur.com/4emyr.png)\r\n\r\nWhy am I getting this error?\r\n\r\n```\r\n   public void sigIn(LoginUserModel loginUserModel, Activity activity,Class&lt;?&gt; targetClass) {\r\n        mAuth.signInWithEmailAndPassword(loginUserModel.getUserEmail(), loginUserModel.getUserPassword())\r\n                .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onSuccess(AuthResult authResult) {\r\n                        Intent intent = new Intent(activity, targetClass.getClass());\r\n                        activity.startActivity(intent);\r\n                        activity.finish();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception error) {\r\n                        Log.e(&quot;Error&quot;, &quot;Login Fail&quot;, error);\r\n                    }\r\n                });\r\n    }\r\n```\r\n\r\n```\r\n  public void userLoginButton(View view) {\r\n        userEmailTxt = userName.getText().toString();\r\n        userPasswordTxt = userPassword.getText().toString();\r\n\r\n        loginUserModel = new LoginUserModel(userEmailTxt, userPasswordTxt);\r\n        if (LoginUserInputValidator(loginUserModel, context)) {\r\n            loginManager.sigIn(loginUserModel, LoginActivity.this, MainActivity.class);\r\n        }\r\n    }\r\n```\r\n\r\nMy username and password information is correct, but I am getting this error, and I can&#39;t figure out the reason.\r\n\r\n\r\n[![Firebase web site ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kPXEr.png","title":"Android Firebase An internal error has occurred. [ Broken pipe ]","body":"<p><a href=\"https://i.stack.imgur.com/4emyr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4emyr.png\" alt=\"An internal error has occurred. \" /></a></p>\n<p>Why am I getting this error?</p>\n<pre><code>   public void sigIn(LoginUserModel loginUserModel, Activity activity,Class&lt;?&gt; targetClass) {\n        mAuth.signInWithEmailAndPassword(loginUserModel.getUserEmail(), loginUserModel.getUserPassword())\n                .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onSuccess(AuthResult authResult) {\n                        Intent intent = new Intent(activity, targetClass.getClass());\n                        activity.startActivity(intent);\n                        activity.finish();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception error) {\n                        Log.e(&quot;Error&quot;, &quot;Login Fail&quot;, error);\n                    }\n                });\n    }\n</code></pre>\n<pre><code>  public void userLoginButton(View view) {\n        userEmailTxt = userName.getText().toString();\n        userPasswordTxt = userPassword.getText().toString();\n\n        loginUserModel = new LoginUserModel(userEmailTxt, userPasswordTxt);\n        if (LoginUserInputValidator(loginUserModel, context)) {\n            loginManager.sigIn(loginUserModel, LoginActivity.this, MainActivity.class);\n        }\n    }\n</code></pre>\n<p>My username and password information is correct, but I am getting this error, and I can't figure out the reason.</p>\n<p><a href=\"https://i.stack.imgur.com/kPXEr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kPXEr.png\" alt=\"Firebase web site \" /></a></p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1658967231,"post_id":73145854,"comment_id":129186165,"body_markdown":"You need to edit the confit file as shown here &quot;Configure Runtime for Projects&quot;: https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects","body":"You need to edit the confit file as shown here &quot;Configure Runtime for Projects&quot;: <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/&hellip;</a>"},{"owner":{"account_id":17061336,"reputation":187,"user_id":12344695,"display_name":"Bill"},"score":0,"creation_date":1658974845,"post_id":73145854,"comment_id":129187317,"body_markdown":"Thank you  @sorifiend  for your hint. I will write the answer in detail.","body":"Thank you  @sorifiend  for your hint. I will write the answer in detail."}],"answers":[{"comments":[{"owner":{"account_id":17061336,"reputation":187,"user_id":12344695,"display_name":"Bill"},"score":3,"creation_date":1658976638,"post_id":73146519,"comment_id":129187576,"body_markdown":"Thank you for your answer. Actually, my OS is Fedora, and the VS code is 1.70 insider. So things are a little bit different. The last pix is different, there is no drop-down list. Thank you anyway.","body":"Thank you for your answer. Actually, my OS is Fedora, and the VS code is 1.70 insider. So things are a little bit different. The last pix is different, there is no drop-down list. Thank you anyway."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658974735,"creation_date":1658974735,"answer_id":73146519,"question_id":73145854,"body_markdown":"Use &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; to open the command palette, search for and select **Java: Configure Java Runtime** .\r\n\r\n[![enter image description here][1]][1]\r\n\r\n*or click the three dots after the Java project and select Configure Java Runtime.*\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSelect the version you want from the drop-down options.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BIUjc.png\r\n  [2]: https://i.stack.imgur.com/NI1Si.png\r\n  [3]: https://i.stack.imgur.com/46lM8.png","title":"How to config java version in Visual Studio Code?","body":"<p>Use <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> to open the command palette, search for and select <strong>Java: Configure Java Runtime</strong> .</p>\n<p><a href=\"https://i.stack.imgur.com/BIUjc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BIUjc.png\" alt=\"enter image description here\" /></a></p>\n<p><em>or click the three dots after the Java project and select Configure Java Runtime.</em></p>\n<p><a href=\"https://i.stack.imgur.com/NI1Si.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NI1Si.png\" alt=\"enter image description here\" /></a></p>\n<p>Select the version you want from the drop-down options.</p>\n<p><a href=\"https://i.stack.imgur.com/46lM8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/46lM8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17061336,"reputation":187,"user_id":12344695,"display_name":"Bill"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1659277686,"creation_date":1658976221,"answer_id":73146672,"question_id":73145854,"body_markdown":"To config to the right JDK in VS Code.\r\nOpen File --&gt;Settings --&gt; Java --&gt; Configuration:Runtimes --&gt;[Edit in Setting.json]\r\nadd:\r\n\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-18&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64&quot;,\r\n            &quot;sources&quot; : &quot;/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/lib/src.zip&quot;,\r\n            &quot;javadoc&quot; : &quot;/usr/share/javadoc/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/api&quot;,\r\n            &quot;default&quot;:  true\r\n        }\r\n    ]\r\n\r\n\r\nThe path is the &quot;$JAVA_HOME&quot; if you run \r\n`$sudo alternatives --config java` and the result is \r\n\r\n    + 3 java-latest-openjdk.x86_64 (/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/bin/java)\r\n\r\nthen JAVA_HOME is &lt;code&gt;/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64&lt;/code&gt; \r\n\r\nThe source, if you install &lt;code&gt;sudo dnf install java-latest-openjdk-src.x86_64&lt;/code&gt; the source code will be $JAVA_HOME/lib/src.zip \r\n\r\nTo find the Javadoc if you install &quot;`java-latest-openjdk-javadoc.x86_64`&quot;,\r\nyou can use command &lt;code&gt;rpm -pl java-latest-openjdk-javadoc.x86_64&lt;/code&gt; to check the installation location.     \r\n","title":"How to config java version in Visual Studio Code?","body":"<p>To config to the right JDK in VS Code.\nOpen File --&gt;Settings --&gt; Java --&gt; Configuration:Runtimes --&gt;[Edit in Setting.json]\nadd:</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n    {\n        &quot;name&quot;: &quot;JavaSE-18&quot;,\n        &quot;path&quot;: &quot;/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64&quot;,\n        &quot;sources&quot; : &quot;/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/lib/src.zip&quot;,\n        &quot;javadoc&quot; : &quot;/usr/share/javadoc/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/api&quot;,\n        &quot;default&quot;:  true\n    }\n]\n</code></pre>\n<p>The path is the &quot;$JAVA_HOME&quot; if you run\n<code>$sudo alternatives --config java</code> and the result is</p>\n<pre><code>+ 3 java-latest-openjdk.x86_64 (/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64/bin/java)\n</code></pre>\n<p>then JAVA_HOME is <code>/usr/lib/jvm/java-18-openjdk-18.0.1.1.2-1.rolling.fc36.x86_64</code></p>\n<p>The source, if you install <code>sudo dnf install java-latest-openjdk-src.x86_64</code> the source code will be $JAVA_HOME/lib/src.zip</p>\n<p>To find the Javadoc if you install &quot;<code>java-latest-openjdk-javadoc.x86_64</code>&quot;,\nyou can use command <code>rpm -pl java-latest-openjdk-javadoc.x86_64</code> to check the installation location.</p>\n"},{"tags":[],"owner":{"account_id":183762,"reputation":17679,"user_id":419348,"accept_rate":93,"display_name":"AechoLiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698980824,"creation_date":1698980824,"answer_id":77413972,"question_id":73145854,"body_markdown":"For MacOS, \r\n\r\n    ## Install java 11 by brew\r\n    brew install java11\r\n\r\n    ## For the system Java wrappers to find this JDK, symlink it with\r\n    sudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\r\n\r\n    ## edit settings.json\r\n    &quot;java.configuration.runtimes&quot;: [\r\n    {\r\n        &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n        &quot;path&quot;: &quot;/opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk/Contents/Home&quot;,\r\n        &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n        &quot;default&quot;: true\r\n    }\r\n\r\nThe &quot;path&quot; could be &quot;/Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home&quot;. They are the same.","title":"How to config java version in Visual Studio Code?","body":"<p>For MacOS,</p>\n<pre><code>## Install java 11 by brew\nbrew install java11\n\n## For the system Java wrappers to find this JDK, symlink it with\nsudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\n\n## edit settings.json\n&quot;java.configuration.runtimes&quot;: [\n{\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk/Contents/Home&quot;,\n    &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;: true\n}\n</code></pre>\n<p>The &quot;path&quot; could be &quot;/Library/Java/JavaVirtualMachines/openjdk-11.jdk/Contents/Home&quot;. They are the same.</p>\n"}],"owner":{"account_id":17061336,"reputation":187,"user_id":12344695,"display_name":"Bill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20932,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73146672,"answer_count":3,"score":2,"last_activity_date":1698980824,"creation_date":1658966917,"question_id":73145854,"body_markdown":"I installed OpenJDK 18 in my Fedora 36 and installed &quot;Extension Pack for Java&quot; on my Visual Studio Code. In my machine, there have 3 versions of java:\r\n[![enter image description here][1]][1]\r\n    \r\nBut when I create a maven project and run it in VS Code, I found it used java 11.\r\n[![enter image description here][2]][2]\r\nHow can I configure VS code to let it run projects on Java 18?\r\n\r\n  [1]: https://i.stack.imgur.com/q6FRV.png\r\n  [2]: https://i.stack.imgur.com/D1O1t.png","title":"How to config java version in Visual Studio Code?","body":"<p>I installed OpenJDK 18 in my Fedora 36 and installed &quot;Extension Pack for Java&quot; on my Visual Studio Code. In my machine, there have 3 versions of java:\n<a href=\"https://i.stack.imgur.com/q6FRV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q6FRV.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I create a maven project and run it in VS Code, I found it used java 11.\n<a href=\"https://i.stack.imgur.com/D1O1t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D1O1t.png\" alt=\"enter image description here\" /></a>\nHow can I configure VS code to let it run projects on Java 18?</p>\n"},{"tags":["java"],"owner":{"account_id":29815238,"reputation":1,"user_id":22849669,"display_name":"Garlic Bread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698980654,"answer_count":0,"score":0,"last_activity_date":1698980585,"creation_date":1698980073,"question_id":77413941,"body_markdown":"New-bee in coding here, I was just wondering how to fix this. What happens is that when I run this snippet of code, I can only enter two inputs: a String, and a double, with the former getting assigned to setContactNum. Also, the program stops and fully compiles after I enter a digit (which is supposedly for setContactNum, but it gets assigned to setSalary), which is strange since I still have to enter an input for setDepartment. \r\n\r\n\r\n    if (input.toUpperCase().equals(&quot;E&quot;)) {\r\n                \r\n                System.out.println(&quot;Type employee&#39;s name, contact number, salary, and department. \\nPress Enter for every input.&quot;);  \r\n                employee.setName(sc.nextLine());\r\n                employee.setContactNum(sc.nextLine());\r\n                employee.setSalary(sc.nextDouble());\r\n                employee.setDepartment(sc.nextLine());\r\n            System.out.println(&quot;------------------------------&quot;);\r\n            System.out.println(&quot;Name: &quot; + employee.getName() + &quot;\\nContact number: &quot; + employee.getContactNum() + &quot;\\nSalary: &quot; + employee.getSalary() + &quot;\\nDepartment: &quot; + employee.getDepartment());\r\n            } \r\n\r\nCan someone explain? Thank you so much!\r\n\r\nI have tried using `System.out.println(&quot;&quot;)`; in between the `sc.nextLine()`&#39;s and `sc.nextDouble()`&#39;s, but to no avail.","title":"Separating consecutive nextLine(); inputs","body":"<p>New-bee in coding here, I was just wondering how to fix this. What happens is that when I run this snippet of code, I can only enter two inputs: a String, and a double, with the former getting assigned to setContactNum. Also, the program stops and fully compiles after I enter a digit (which is supposedly for setContactNum, but it gets assigned to setSalary), which is strange since I still have to enter an input for setDepartment.</p>\n<pre><code>if (input.toUpperCase().equals(&quot;E&quot;)) {\n            \n            System.out.println(&quot;Type employee's name, contact number, salary, and department. \\nPress Enter for every input.&quot;);  \n            employee.setName(sc.nextLine());\n            employee.setContactNum(sc.nextLine());\n            employee.setSalary(sc.nextDouble());\n            employee.setDepartment(sc.nextLine());\n        System.out.println(&quot;------------------------------&quot;);\n        System.out.println(&quot;Name: &quot; + employee.getName() + &quot;\\nContact number: &quot; + employee.getContactNum() + &quot;\\nSalary: &quot; + employee.getSalary() + &quot;\\nDepartment: &quot; + employee.getDepartment());\n        } \n</code></pre>\n<p>Can someone explain? Thank you so much!</p>\n<p>I have tried using <code>System.out.println(&quot;&quot;)</code>; in between the <code>sc.nextLine()</code>'s and <code>sc.nextDouble()</code>'s, but to no avail.</p>\n"},{"tags":["java","swing","directory","javac","imageicon"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1698981307,"post_id":77413958,"comment_id":136476396,"body_markdown":"The &quot;working directory&quot; may be different then the &quot;installed directory&quot;, this makes referencing parent folders like this trouble some and error prone. Better to embedded the images within the application context so that they more easily available at runtime","body":"The &quot;working directory&quot; may be different then the &quot;installed directory&quot;, this makes referencing parent folders like this trouble some and error prone. Better to embedded the images within the application context so that they more easily available at runtime"},{"owner":{"account_id":25370906,"reputation":33,"user_id":19184722,"display_name":"STC2"},"score":0,"creation_date":1699065601,"post_id":77413958,"comment_id":136488291,"body_markdown":"@MadProgrammer Okay. I decompiled a verison of Minecraft Infdev, and found their was a asset folder, that had the sprite sheet and a few other icons in it. I was going to use the src from the decompiled .jar file, but Java resets all class names and variable names, so it is incredibly hard to figure out what anything does.","body":"@MadProgrammer Okay. I decompiled a verison of Minecraft Infdev, and found their was a asset folder, that had the sprite sheet and a few other icons in it. I was going to use the src from the decompiled .jar file, but Java resets all class names and variable names, so it is incredibly hard to figure out what anything does."}],"owner":{"account_id":25370906,"reputation":33,"user_id":19184722,"display_name":"STC2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698980493,"creation_date":1698980493,"question_id":77413958,"body_markdown":"**Using java**\r\n\r\nLets pretend we are in folder &quot;src&quot;. The parent directory contains folders &quot;src&quot;, &quot;assets&quot; and &quot;bin&quot;.\r\nSince I am in the folder &quot;src&quot;, how could I get an image from &quot;assets&quot; folder, when it is a parent directory? I would then like to put this image into an ImageIcon and add it to a JLabel, etc.\r\n\r\nA source code example is all that is needed, I can work from there.","title":"How could I add and image to a JLabel, when the image is in a parent directory in Java?","body":"<p><strong>Using java</strong></p>\n<p>Lets pretend we are in folder &quot;src&quot;. The parent directory contains folders &quot;src&quot;, &quot;assets&quot; and &quot;bin&quot;.\nSince I am in the folder &quot;src&quot;, how could I get an image from &quot;assets&quot; folder, when it is a parent directory? I would then like to put this image into an ImageIcon and add it to a JLabel, etc.</p>\n<p>A source code example is all that is needed, I can work from there.</p>\n"},{"tags":["java","spring","spring-boot","datetime","spring-boot-3"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1698680776,"post_id":77388104,"comment_id":136432884,"body_markdown":"can u show the request and response for 200 and 400 before the upgrade and after the upgrade differences ?","body":"can u show the request and response for 200 and 400 before the upgrade and after the upgrade differences ?"}],"answers":[{"tags":[],"owner":{"account_id":19560342,"reputation":75,"user_id":14313697,"display_name":"PoYu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698979848,"creation_date":1698979848,"answer_id":77413931,"question_id":77388104,"body_markdown":"I format LocalDateTime in spring boot 2.x.x use same as you @DateTimeFormat()\r\n\r\nbut when I upgrade to spring boot 3.1.1, I needs to change my annotation from @DateTimeFormat() to @JsonFormat(pattern = &quot;yyyy-MM-dd hh:mm:ss&quot;)\r\n\r\nI hope this is work for you.","title":"DateTimeFormat does not parse the pattern strictly in SpringBoot 3","body":"<p>I format LocalDateTime in spring boot 2.x.x use same as you @DateTimeFormat()</p>\n<p>but when I upgrade to spring boot 3.1.1, I needs to change my annotation from @DateTimeFormat() to @JsonFormat(pattern = &quot;yyyy-MM-dd hh:mm:ss&quot;)</p>\n<p>I hope this is work for you.</p>\n"}],"owner":{"account_id":21082394,"reputation":9,"user_id":15496400,"display_name":"ChuchiGamingYT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698979848,"creation_date":1698663737,"question_id":77388104,"body_markdown":"Below is the api :\r\n\r\n```\r\n@PostMapping(value = &quot;/transactions&quot;)\r\nvoid createTransaction(@RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;) LocalDateTime startDateTime,\r\n                                        @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;) LocalDateTime endDateTime)\r\n```\r\n\r\nSample date : 2022-02-02T15:12:23\r\nI have upgraded from Spring Boot 2.7 to Spring Boot 3.1\r\n\r\nIf I pass the sample date in request param, I get a 200 response code.\r\nThe same date if passed in Spring Boot 2 fetches 400 status code.\r\n\r\nWhat can be done to maintain the old behaviour with spring boot 3?\r\n\r\n\r\n\r\nI would expect a 400 response code for this.\r\n\r\nI tried to use the fallback pattern and passed the same pattern in the fallbackpattern attribute, and it worked.\r\nBut I would like to have an alternative for this.","title":"DateTimeFormat does not parse the pattern strictly in SpringBoot 3","body":"<p>Below is the api :</p>\n<pre><code>@PostMapping(value = &quot;/transactions&quot;)\nvoid createTransaction(@RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm&quot;) LocalDateTime startDateTime,\n                                        @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm&quot;) LocalDateTime endDateTime)\n</code></pre>\n<p>Sample date : 2022-02-02T15:12:23\nI have upgraded from Spring Boot 2.7 to Spring Boot 3.1</p>\n<p>If I pass the sample date in request param, I get a 200 response code.\nThe same date if passed in Spring Boot 2 fetches 400 status code.</p>\n<p>What can be done to maintain the old behaviour with spring boot 3?</p>\n<p>I would expect a 400 response code for this.</p>\n<p>I tried to use the fallback pattern and passed the same pattern in the fallbackpattern attribute, and it worked.\nBut I would like to have an alternative for this.</p>\n"},{"tags":["java","android","android-edittext","txt"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698949464,"post_id":77412001,"comment_id":136472588,"body_markdown":"`\\Internal storage\\DCIM\\sheet_music` That is what you see on your pc. For your Android app on your Android fevice that would be \\storage\\emulated/0/DCIM\\sheet_music.","body":"<code>\\Internal storage\\DCIM\\sheet_music</code> That is what you see on your pc. For your Android app on your Android fevice that would be \\storage\\emulated/0/DCIM\\sheet_music."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698949622,"post_id":77412001,"comment_id":136472612,"body_markdown":"`Here is the error I receive:` Well which statement exactly causes that message? And can you first explain what your code does? Step by step?","body":"<code>Here is the error I receive:</code> Well which statement exactly causes that message? And can you first explain what your code does? Step by step?"},{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1698974991,"post_id":77412001,"comment_id":136475912,"body_markdown":"Thank you @blackapps for your input, I&#39;ve edited my post to give more information about the processing flow","body":"Thank you @blackapps for your input, I&#39;ve edited my post to give more information about the processing flow"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698976079,"post_id":77412001,"comment_id":136476017,"body_markdown":"The files dont belong to your app so your app has no access unless it goes foe MANAGE_EXTERNAL_STORAGE as was earlier suggested.","body":"The files dont belong to your app so your app has no access unless it goes foe MANAGE_EXTERNAL_STORAGE as was earlier suggested."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1698976168,"post_id":77412001,"comment_id":136476025,"body_markdown":"Better use ACTION_OPEN_DOCUMENT_TREE to let the user select the directory with the files. Then list the files in the directory.","body":"Better use ACTION_OPEN_DOCUMENT_TREE to let the user select the directory with the files. Then list the files in the directory."},{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1698976424,"post_id":77412001,"comment_id":136476043,"body_markdown":"Appreciate the comment @blackapps!  I was able to get file picker working using `ACTION_OPEN_DOCUMENT` - and the file opened in the EditText however the app needs to work by creating a song list, and simply swiping will open the next song, etc.  This is a music app where it is not possible to pick the file from the directory each time.","body":"Appreciate the comment @blackapps!  I was able to get file picker working using <code>ACTION_OPEN_DOCUMENT</code> - and the file opened in the EditText however the app needs to work by creating a song list, and simply swiping will open the next song, etc.  This is a music app where it is not possible to pick the file from the directory each time."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698977707,"post_id":77412001,"comment_id":136476129,"body_markdown":"Please reread my comment. You once pick the directory with the files. You never pick a file.","body":"Please reread my comment. You once pick the directory with the files. You never pick a file."},{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1698978679,"post_id":77412001,"comment_id":136476201,"body_markdown":"OK - I see - I&#39;m not familiar so will need to dig into this.  It looks like the user selects the directory once in the lifetime of the app and with permissions is always able to access without explicitly being prompted...thanks again - will look into this!","body":"OK - I see - I&#39;m not familiar so will need to dig into this.  It looks like the user selects the directory once in the lifetime of the app and with permissions is always able to access without explicitly being prompted...thanks again - will look into this!"}],"answers":[{"comments":[{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":0,"creation_date":1698975580,"post_id":77412220,"comment_id":136475977,"body_markdown":"Thank you for your comment @Elnur.  I added to my main statement, please review...","body":"Thank you for your comment @Elnur.  I added to my main statement, please review..."}],"tags":[],"owner":{"account_id":20399213,"reputation":27,"user_id":14965345,"display_name":"BazarOFF Elnur"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698951431,"creation_date":1698951431,"answer_id":77412220,"question_id":77412001,"body_markdown":"I can&#39;t leave comments, so I&#39;ll leave it here\r\nAs far as I understand, you need control over all system files, if so, then try\r\n\r\n     MANAGE_EXTERNAL_STORAGE\r\nPlease note that this is a high risk resolution.\r\nand there is also official documentation about this on the Google console website\r\n[site][1]\r\n\r\n\r\n  [1]: https://support.google.com/googleplay/android-developer/answer/10467955","title":"Android Studio: Cannot open .txt file into EditText - keep getting Permission Denial error","body":"<p>I can't leave comments, so I'll leave it here\nAs far as I understand, you need control over all system files, if so, then try</p>\n<pre><code> MANAGE_EXTERNAL_STORAGE\n</code></pre>\n<p>Please note that this is a high risk resolution.\nand there is also official documentation about this on the Google console website\n<a href=\"https://support.google.com/googleplay/android-developer/answer/10467955\" rel=\"nofollow noreferrer\">site</a></p>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698977572,"creation_date":1698949240,"question_id":77412001,"body_markdown":"In my Android app `Song_Tracker` I wish to open `txt` files I have copied over from my laptop - files are stored in the `\\Internal storage\\DCIM\\sheet_music` directory, when I parse the directory and load the file name I also load the file `URI`.  I wish to open the `txt` file into a EditText field so the user can either view or edit/save.  I have the `txt` file names stored within my SQLite db and, eventually wish to swipe from one song to the next, each loading in a RecycleView.\r\n\r\nHere is the error I receive:\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.enetapplications.songtracker/com.enetapplications.songtracker.editsong.NewEditSongActivity}: java.lang.SecurityException: \r\nPermission Denial: opening provider com.android.externalstorage.ExternalStorageProvider from ProcessRecord{f235d79 11381:com.enetapplications.songtracker/u0a540} \r\n(pid=11381, uid=10540) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n```\r\nI have set permissions in the `Manifest` as follows:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n...\r\n```\r\n\r\nI have tried using `ACTION_OPEN_DOCUMENT` however this opens a file picker which I do not want - I wish to simple click or swipe from one `txt` file to the next without needing to go to the file picker for each file.\r\n\r\nHere is the `.class` that is opening the file incorporating tips from [here][1].  The code seems to function properly but I cannot tell as I continually get the Permission Denial error.  I have tried to user `requestPermissionLauncher` in the code below but same error.  I have tried `ContextCompat.checkSelfPermission` still same error.\r\n\r\n```\r\npackage com.enetapplications.songtracker.editsong;\r\n\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.enetapplications.songtracker.R;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class NewEditSongActivity extends AppCompatActivity {\r\n\r\n    private static final int PERMISSION_REQUEST_CODE = 123; // Define your own request code\r\n\r\n    EditText editTextSongContent;\r\n    TextView textViewSongName;\r\n    Uri songUri; // Storing URI to be accessible throughout the class\r\n\r\n    private ActivityResultLauncher&lt;String&gt; requestPermissionLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\r\n        if (isGranted) {\r\n            // Permission is granted, proceed to open the file\r\n            openFile(songUri);\r\n        } else {\r\n            // Permission denied, handle this situation (e.g., show a message or adjust app behavior)\r\n            // For instance: showToast(&quot;Permission denied. Cannot open the file.&quot;);\r\n        }\r\n    });\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_edit_song);\r\n\r\n        editTextSongContent = findViewById(R.id.editTextSongContent);\r\n        textViewSongName = findViewById(R.id.textViewSongName);\r\n\r\n        // Get the URI of the file to open\r\n        String uriString = getIntent().getStringExtra(&quot;song_uri&quot;);\r\n        if (uriString != null) {\r\n            songUri = Uri.parse(uriString);\r\n\r\n            // Check for READ_EXTERNAL_STORAGE permission\r\n            if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n                // Permission is granted, proceed to open the file\r\n                openFile(songUri);\r\n            } else if (ActivityCompat.shouldShowRequestPermissionRationale(this, android.Manifest.permission.READ_EXTERNAL_STORAGE)) {\r\n                // Explain why your app requires this permission and what features are disabled if declined\r\n                // An educational UI should be shown to the user\r\n                // For instance: showInContextUI(&quot;Explanation for access to external storage&quot;);\r\n            } else {\r\n                // Request permission using the ActivityResultLauncher\r\n                requestPermissionLauncher.launch(android.Manifest.permission.READ_EXTERNAL_STORAGE);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void openFile(Uri uri) {\r\n        // Open the file and read its contents\r\n        InputStream inputStream = null;\r\n        try {\r\n            inputStream = getContentResolver().openInputStream(uri);\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n        String line;\r\n        while (true) {\r\n            try {\r\n                if ((line = reader.readLine()) == null) break;\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            editTextSongContent.append(line);\r\n        }\r\n\r\n        // Close the file\r\n        try {\r\n            inputStream.close();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n***\r\n\r\nEdit 11.2.2023\r\n--------------\r\n\r\n***\r\n\r\nBased upon **blackapps** comment:\r\nHere is the flow of the code for `NewEditSongActivity.java`\r\n\r\n 1. User clicks on song from RecyclerView (previous screen) which Intent goes to `NewEditSongActivity` the parameter `song_uri` is passed\r\n 2. onCreate() (variables assigned, receive Intent for uri and stored in `uriString`)\r\n 3. check for `uriString` != null\r\n 4. check if the app has permission to read files from the external storage - which passes and processing continues\r\n 5. calling openFile() which processing goes to however after `InputStream inputStream = null;` is set the processing stops at the try/catch blocks\r\n\r\nBased upon **Elnur&#39;s** comment.  I tried, just to see what happened using `MANAGE_EXTERNAL_STORAGE` - added this to the manifest:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n...but received the same error:\r\n```\r\nPermission Denial: opening provider com.android.externalstorage.ExternalStorageProvider from ProcessRecord{8374b4e 31718:com.enetapplications.songtracker/u0a540} (pid=31718, uid=10540) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\r\n``` \r\nOne more thing I tried, just to see if I could get the code to work was re-build the app using `Android 5.0 - API level 21` and adjusted the `build.gradle` with:\r\n```\r\nminSdkVersion 21 //was at 29\r\n```\r\nI synced and rebuilt and ran the app but the SAME issue with `Permission Denial`.  This may shed some light but not to my eyes :)\r\n\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting.html","title":"Android Studio: Cannot open .txt file into EditText - keep getting Permission Denial error","body":"<p>In my Android app <code>Song_Tracker</code> I wish to open <code>txt</code> files I have copied over from my laptop - files are stored in the <code>\\Internal storage\\DCIM\\sheet_music</code> directory, when I parse the directory and load the file name I also load the file <code>URI</code>.  I wish to open the <code>txt</code> file into a EditText field so the user can either view or edit/save.  I have the <code>txt</code> file names stored within my SQLite db and, eventually wish to swipe from one song to the next, each loading in a RecycleView.</p>\n<p>Here is the error I receive:</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.enetapplications.songtracker/com.enetapplications.songtracker.editsong.NewEditSongActivity}: java.lang.SecurityException: \nPermission Denial: opening provider com.android.externalstorage.ExternalStorageProvider from ProcessRecord{f235d79 11381:com.enetapplications.songtracker/u0a540} \n(pid=11381, uid=10540) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\n</code></pre>\n<p>I have set permissions in the <code>Manifest</code> as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n...\n</code></pre>\n<p>I have tried using <code>ACTION_OPEN_DOCUMENT</code> however this opens a file picker which I do not want - I wish to simple click or swipe from one <code>txt</code> file to the next without needing to go to the file picker for each file.</p>\n<p>Here is the <code>.class</code> that is opening the file incorporating tips from <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">here</a>.  The code seems to function properly but I cannot tell as I continually get the Permission Denial error.  I have tried to user <code>requestPermissionLauncher</code> in the code below but same error.  I have tried <code>ContextCompat.checkSelfPermission</code> still same error.</p>\n<pre><code>package com.enetapplications.songtracker.editsong;\n\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport com.enetapplications.songtracker.R;\n\nimport java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\npublic class NewEditSongActivity extends AppCompatActivity {\n\n    private static final int PERMISSION_REQUEST_CODE = 123; // Define your own request code\n\n    EditText editTextSongContent;\n    TextView textViewSongName;\n    Uri songUri; // Storing URI to be accessible throughout the class\n\n    private ActivityResultLauncher&lt;String&gt; requestPermissionLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\n        if (isGranted) {\n            // Permission is granted, proceed to open the file\n            openFile(songUri);\n        } else {\n            // Permission denied, handle this situation (e.g., show a message or adjust app behavior)\n            // For instance: showToast(&quot;Permission denied. Cannot open the file.&quot;);\n        }\n    });\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new_edit_song);\n\n        editTextSongContent = findViewById(R.id.editTextSongContent);\n        textViewSongName = findViewById(R.id.textViewSongName);\n\n        // Get the URI of the file to open\n        String uriString = getIntent().getStringExtra(&quot;song_uri&quot;);\n        if (uriString != null) {\n            songUri = Uri.parse(uriString);\n\n            // Check for READ_EXTERNAL_STORAGE permission\n            if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n                // Permission is granted, proceed to open the file\n                openFile(songUri);\n            } else if (ActivityCompat.shouldShowRequestPermissionRationale(this, android.Manifest.permission.READ_EXTERNAL_STORAGE)) {\n                // Explain why your app requires this permission and what features are disabled if declined\n                // An educational UI should be shown to the user\n                // For instance: showInContextUI(&quot;Explanation for access to external storage&quot;);\n            } else {\n                // Request permission using the ActivityResultLauncher\n                requestPermissionLauncher.launch(android.Manifest.permission.READ_EXTERNAL_STORAGE);\n            }\n        }\n    }\n\n    private void openFile(Uri uri) {\n        // Open the file and read its contents\n        InputStream inputStream = null;\n        try {\n            inputStream = getContentResolver().openInputStream(uri);\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n        String line;\n        while (true) {\n            try {\n                if ((line = reader.readLine()) == null) break;\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            editTextSongContent.append(line);\n        }\n\n        // Close the file\n        try {\n            inputStream.close();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n</code></pre>\n<hr />\n<h2>Edit 11.2.2023</h2>\n<hr />\n<p>Based upon <strong>blackapps</strong> comment:\nHere is the flow of the code for <code>NewEditSongActivity.java</code></p>\n<ol>\n<li>User clicks on song from RecyclerView (previous screen) which Intent goes to <code>NewEditSongActivity</code> the parameter <code>song_uri</code> is passed</li>\n<li>onCreate() (variables assigned, receive Intent for uri and stored in <code>uriString</code>)</li>\n<li>check for <code>uriString</code> != null</li>\n<li>check if the app has permission to read files from the external storage - which passes and processing continues</li>\n<li>calling openFile() which processing goes to however after <code>InputStream inputStream = null;</code> is set the processing stops at the try/catch blocks</li>\n</ol>\n<p>Based upon <strong>Elnur's</strong> comment.  I tried, just to see what happened using <code>MANAGE_EXTERNAL_STORAGE</code> - added this to the manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>...but received the same error:</p>\n<pre><code>Permission Denial: opening provider com.android.externalstorage.ExternalStorageProvider from ProcessRecord{8374b4e 31718:com.enetapplications.songtracker/u0a540} (pid=31718, uid=10540) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs\n</code></pre>\n<p>One more thing I tried, just to see if I could get the code to work was re-build the app using <code>Android 5.0 - API level 21</code> and adjusted the <code>build.gradle</code> with:</p>\n<pre><code>minSdkVersion 21 //was at 29\n</code></pre>\n<p>I synced and rebuilt and ran the app but the SAME issue with <code>Permission Denial</code>.  This may shed some light but not to my eyes :)</p>\n"},{"tags":["java","android","google-maps","geolocation"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1698854971,"post_id":77403848,"comment_id":136458471,"body_markdown":"&quot;link the google map of the client to the one for the driver so that a driver can know where the client is and client knows where the driver is simultaneously&quot;.  That has nothing to do with the google map API key.  The API key is used to determine the developer of the app so they can be charged.  It doesn&#39;t share data between clients of the same API key.  That kind of functionality is 100% on you to write.","body":"&quot;link the google map of the client to the one for the driver so that a driver can know where the client is and client knows where the driver is simultaneously&quot;.  That has nothing to do with the google map API key.  The API key is used to determine the developer of the app so they can be charged.  It doesn&#39;t share data between clients of the same API key.  That kind of functionality is 100% on you to write."},{"owner":{"account_id":29803787,"reputation":1,"user_id":22840967,"display_name":"majdi alali"},"score":0,"creation_date":1698858025,"post_id":77403848,"comment_id":136459042,"body_markdown":"@GabeSechan in that case it does not matter whether the api key is shared amongst both applications what matters is how i implement the functionality in the code?","body":"@GabeSechan in that case it does not matter whether the api key is shared amongst both applications what matters is how i implement the functionality in the code?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1698858323,"post_id":77403848,"comment_id":136459094,"body_markdown":"Yes.  It&#39;s been a while, but IIRC you just have to use the Google Maps developer page to tell it the package name of all your apps that will share the key.","body":"Yes.  It&#39;s been a while, but IIRC you just have to use the Google Maps developer page to tell it the package name of all your apps that will share the key."}],"answers":[{"tags":[],"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698976730,"creation_date":1698976730,"answer_id":77413786,"question_id":77403848,"body_markdown":"As per the [API best practices](https://developers.google.com/maps/api-security-best-practices#separate-apikey), It is recommended that you use separate ones for security reasons but while one API key per application is ideal for security purposes, you can use restricted keys on multiple apps as long as they use the same type of application restriction.\r\n\r\nNow with regards to your plan on reproducing an uber like app with navigation and other stuff from Google Maps API by combining them together to create such an app, I&#39;d suggest that you seek legal advise and review the Google Maps Terms of Service [3.2.3 Restrictions Against Misusing the Services. (d) No Re-Creating Google Products or Features](https://cloud.google.com/maps-platform/terms#:~:text=Customer%20will%20not%20use,for%20Android%20mobile%20app.):\r\n\r\n&gt;*Customer will not use the Services to create a product or service with features that are **substantially similar to or that re-create the features of another Google product or service**...*\r\n\r\nThe reason I&#39;d suggest that you review the Terms is because Google Maps API already have the **[On-demand Rides and Deliveries Solution][1]**\r\n\r\nAs per the documentation:\r\n\r\n&gt;*The On-demand Rides and Deliveries Solution is a development toolkit for building on-demand mobility services. You can use the Navigation SDK alone to provide real time tracking maps in your app. If you want to add coordinated trips, the toolkit provides web services and a set of APIs that wrap the functionality of maps, routes, and places into interfaces specifically designed for ridesharing and delivery solutions.*\r\n\r\nYou can read the documentation to learn more about it. But with this, I believe this fits with your use case and for you to start availing for this is for you to [Contact Sales][2] first since **this is currently available only to select partners.**\r\n\r\nI hope this information helps!\r\n\r\n  [1]: https://developers.google.com/maps/documentation/transportation-logistics/on-demand-rides-deliveries-solution\r\n  [2]: https://cloud.google.com/contact-maps?_gl=1*12gyyoy*_ga*MTc0Njc1MzI3OC4xNjk4OTc1OTY0*_ga_NRWSTWS78N*MTY5ODk3NTk2NC4xLjEuMTY5ODk3NjA5MS4wLjAuMA..","title":"Can i use Same google maps api key for 2 different applications?","body":"<p>As per the <a href=\"https://developers.google.com/maps/api-security-best-practices#separate-apikey\" rel=\"nofollow noreferrer\">API best practices</a>, It is recommended that you use separate ones for security reasons but while one API key per application is ideal for security purposes, you can use restricted keys on multiple apps as long as they use the same type of application restriction.</p>\n<p>Now with regards to your plan on reproducing an uber like app with navigation and other stuff from Google Maps API by combining them together to create such an app, I'd suggest that you seek legal advise and review the Google Maps Terms of Service <a href=\"https://cloud.google.com/maps-platform/terms#:%7E:text=Customer%20will%20not%20use,for%20Android%20mobile%20app.\" rel=\"nofollow noreferrer\">3.2.3 Restrictions Against Misusing the Services. (d) No Re-Creating Google Products or Features</a>:</p>\n<blockquote>\n<p><em>Customer will not use the Services to create a product or service with features that are <strong>substantially similar to or that re-create the features of another Google product or service</strong>...</em></p>\n</blockquote>\n<p>The reason I'd suggest that you review the Terms is because Google Maps API already have the <strong><a href=\"https://developers.google.com/maps/documentation/transportation-logistics/on-demand-rides-deliveries-solution\" rel=\"nofollow noreferrer\">On-demand Rides and Deliveries Solution</a></strong></p>\n<p>As per the documentation:</p>\n<blockquote>\n<p><em>The On-demand Rides and Deliveries Solution is a development toolkit for building on-demand mobility services. You can use the Navigation SDK alone to provide real time tracking maps in your app. If you want to add coordinated trips, the toolkit provides web services and a set of APIs that wrap the functionality of maps, routes, and places into interfaces specifically designed for ridesharing and delivery solutions.</em></p>\n</blockquote>\n<p>You can read the documentation to learn more about it. But with this, I believe this fits with your use case and for you to start availing for this is for you to <a href=\"https://cloud.google.com/contact-maps?_gl=1*12gyyoy*_ga*MTc0Njc1MzI3OC4xNjk4OTc1OTY0*_ga_NRWSTWS78N*MTY5ODk3NTk2NC4xLjEuMTY5ODk3NjA5MS4wLjAuMA..\" rel=\"nofollow noreferrer\">Contact Sales</a> first since <strong>this is currently available only to select partners.</strong></p>\n<p>I hope this information helps!</p>\n"}],"owner":{"account_id":29803787,"reputation":1,"user_id":22840967,"display_name":"majdi alali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698976730,"creation_date":1698853261,"question_id":77403848,"body_markdown":"So i am working on an taxi application (like uber) on android studio java. However the clients want there to be 2 different applications one for the driver and one for the client. So i can use google maps i need to  get a google api key. But how will i be able to link the google map of the client to the one for the driver so that a driver can know where the client is and client knows where the driver is simultaneously . Should i use the same api key for both applications does that work since they share the same database and server? Otherwise how will be able to link both?\r\n\r\nIve already built both applications separately and linked them to the same database (im yet to link them to the server i intend to use)","title":"Can i use Same google maps api key for 2 different applications?","body":"<p>So i am working on an taxi application (like uber) on android studio java. However the clients want there to be 2 different applications one for the driver and one for the client. So i can use google maps i need to  get a google api key. But how will i be able to link the google map of the client to the one for the driver so that a driver can know where the client is and client knows where the driver is simultaneously . Should i use the same api key for both applications does that work since they share the same database and server? Otherwise how will be able to link both?</p>\n<p>Ive already built both applications separately and linked them to the same database (im yet to link them to the server i intend to use)</p>\n"},{"tags":["java","swing","user-interface","netbeans"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1698976170,"post_id":77413749,"comment_id":136476026,"body_markdown":"The `Container` class has a `getComponents()` method so you can write a recursive method to get all components on the panel and its child panels. Or you could use the [Swing Utils](https://tips4java.wordpress.com/2008/11/13/swing-utils/) class which does this for you.","body":"The <code>Container</code> class has a <code>getComponents()</code> method so you can write a recursive method to get all components on the panel and its child panels. Or you could use the <a href=\"https://tips4java.wordpress.com/2008/11/13/swing-utils/\" rel=\"nofollow noreferrer\">Swing Utils</a> class which does this for you."}],"owner":{"account_id":11515736,"reputation":1,"user_id":21938556,"display_name":"KHLVN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698975898,"creation_date":1698975898,"question_id":77413749,"body_markdown":"I am currently developing a program using Java Swing and I have this particular question on how to get all child JPanel and JLabel classes inside of a parent JPanel and also edit their properties (`panel.setBackground()`, label font color etc.)? \r\n\r\nCurrently using Apache Netbeans IDE 18. \r\n\r\n```\r\n    private void changeAppearance(boolean theme, JLabel button) {\r\n        if (theme == true) {\r\n            dashboard.setBackground(new Color(34, 55, 117)); // JPanel\r\n            sideBar.setBackground(new Color(42, 53, 84)); // JPanel\r\n            profileBtn.setBackground(new Color(42, 53, 84)); // JPanel\r\n            settingsBtn.setBackground(new Color(42, 53, 84)); // JPanel\r\n            \r\n            changeIcon(button, &quot;/images/light.png&quot;);\r\n        }\r\n        else {\r\n            dashboard.setBackground(new Color(167, 184, 233)); // JPanel\r\n            sideBar.setBackground(new Color(116, 134, 186)); // JPanel\r\n            profileBtn.setBackground(new Color(116, 134, 186)); // JPanel\r\n            settingsBtn.setBackground(new Color(116, 134, 186)); // JPanel\r\n            \r\n            changeIcon(button, &quot;/images/dark.png&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nThe code block above is a user-defined method wherein the appearance of my application can be toggled from light-mode to dark-mode and vice versa by the user.\r\n\r\nAssuming I put many child classes in the future, how do I fetch all of them using foreach loop instead of writing one-by-one inside the if-else statement in order to make my code more readable?\r\n\r\nalso edit their corresponding properties\r\n \r\nJPanel (background color, preferred size), and \r\nJLabel (font size, style, color)\r\n\r\nThanks!","title":"How can I get all JPanels and JLabels inside a parent JPanel in Java Swing?","body":"<p>I am currently developing a program using Java Swing and I have this particular question on how to get all child JPanel and JLabel classes inside of a parent JPanel and also edit their properties (<code>panel.setBackground()</code>, label font color etc.)?</p>\n<p>Currently using Apache Netbeans IDE 18.</p>\n<pre><code>    private void changeAppearance(boolean theme, JLabel button) {\n        if (theme == true) {\n            dashboard.setBackground(new Color(34, 55, 117)); // JPanel\n            sideBar.setBackground(new Color(42, 53, 84)); // JPanel\n            profileBtn.setBackground(new Color(42, 53, 84)); // JPanel\n            settingsBtn.setBackground(new Color(42, 53, 84)); // JPanel\n            \n            changeIcon(button, &quot;/images/light.png&quot;);\n        }\n        else {\n            dashboard.setBackground(new Color(167, 184, 233)); // JPanel\n            sideBar.setBackground(new Color(116, 134, 186)); // JPanel\n            profileBtn.setBackground(new Color(116, 134, 186)); // JPanel\n            settingsBtn.setBackground(new Color(116, 134, 186)); // JPanel\n            \n            changeIcon(button, &quot;/images/dark.png&quot;);\n        }\n    }\n</code></pre>\n<p>The code block above is a user-defined method wherein the appearance of my application can be toggled from light-mode to dark-mode and vice versa by the user.</p>\n<p>Assuming I put many child classes in the future, how do I fetch all of them using foreach loop instead of writing one-by-one inside the if-else statement in order to make my code more readable?</p>\n<p>also edit their corresponding properties</p>\n<p>JPanel (background color, preferred size), and\nJLabel (font size, style, color)</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","jslider"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1698975587,"post_id":77413725,"comment_id":136475978,"body_markdown":"*new Color(255,255,0,80)* - Swing does not support semi-transparent colors correctly. See [Backgrounds With Transparency](https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/)","body":"<i>new Color(255,255,0,80)</i> - Swing does not support semi-transparent colors correctly. See <a href=\"https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/\" rel=\"nofollow noreferrer\">Backgrounds With Transparency</a>"}],"owner":{"account_id":29814911,"reputation":1,"user_id":22849408,"display_name":"shidaniel77"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698975717,"answer_count":0,"score":0,"last_activity_date":1698975748,"creation_date":1698975304,"question_id":77413725,"body_markdown":"This is what happens when I use the JSlider with the hover effect:\r\n\r\n[![https://i.stack.imgur.com/V7dOP.png][1]][1]\r\n\r\n\r\n```\r\n //Leadership slider\r\n        JLabel leadershipLabel = new JLabel(&quot;LEADERSHIP: &quot;);\r\n        leadershipLabel.setSize(TEXT_FIELD_WIDTH, ELEMENT_HEIGHT);\r\n        leadershipLabel.setLocation(applicationTitle.getX(), studentQualitiesLabel.getY() + studentQualitiesLabel.getHeight());\r\n        leadershipLabel.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 16));\r\n\r\n\r\n        JSlider leadershipSlider = new JSlider(1,10,1);\r\n        leadershipSlider.setSize(TEXT_FIELD_WIDTH, ELEMENT_HEIGHT);\r\n        leadershipSlider.setLocation(leadershipLabel.getX() + leadershipLabel.getWidth(), leadershipLabel.getY());\r\n        \r\n\r\n        leadershipSlider.addChangeListener(new ChangeListener(){\r\n\r\n            public void stateChanged(ChangeEvent e){\r\n                int leadership = leadershipSlider.getValue(); //grabs the slider value\r\n                leadershipLabel.setText(&quot;LEADERSHIP: &quot; + leadership); //displays the slider value\r\n            }\r\n        });\r\n\r\n        \r\n\r\n\r\n        leadershipSlider.addMouseListener(new java.awt.event.MouseAdapter(){\r\n            public void mouseEntered(java.awt.event.MouseEvent evt){\r\n                leadershipSlider.setBackground(new Color(255,255,0,80));\r\n            }\r\n            public void mouseExited(java.awt.event.MouseEvent evt){\r\n                leadershipSlider.setBackground(UIManager.getColor(&quot;control&quot;));\r\n            }\r\n        });\r\n```\r\n\r\n\r\nThe bar should just highlight yellow when I hover over it and go back to normal when I stop hovering over it. But when I try to use the slider(drag the arrow to different values), text glitches out under it. Also the more i click it, the stronger the yellow highlight becomes until i hover off, then it resets.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V7dOP.png","title":"JSlider hover effect acting weird","body":"<p>This is what happens when I use the JSlider with the hover effect:</p>\n<p><a href=\"https://i.stack.imgur.com/V7dOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V7dOP.png\" alt=\"https://i.stack.imgur.com/V7dOP.png\" /></a></p>\n<pre><code> //Leadership slider\n        JLabel leadershipLabel = new JLabel(&quot;LEADERSHIP: &quot;);\n        leadershipLabel.setSize(TEXT_FIELD_WIDTH, ELEMENT_HEIGHT);\n        leadershipLabel.setLocation(applicationTitle.getX(), studentQualitiesLabel.getY() + studentQualitiesLabel.getHeight());\n        leadershipLabel.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 16));\n\n\n        JSlider leadershipSlider = new JSlider(1,10,1);\n        leadershipSlider.setSize(TEXT_FIELD_WIDTH, ELEMENT_HEIGHT);\n        leadershipSlider.setLocation(leadershipLabel.getX() + leadershipLabel.getWidth(), leadershipLabel.getY());\n        \n\n        leadershipSlider.addChangeListener(new ChangeListener(){\n\n            public void stateChanged(ChangeEvent e){\n                int leadership = leadershipSlider.getValue(); //grabs the slider value\n                leadershipLabel.setText(&quot;LEADERSHIP: &quot; + leadership); //displays the slider value\n            }\n        });\n\n        \n\n\n        leadershipSlider.addMouseListener(new java.awt.event.MouseAdapter(){\n            public void mouseEntered(java.awt.event.MouseEvent evt){\n                leadershipSlider.setBackground(new Color(255,255,0,80));\n            }\n            public void mouseExited(java.awt.event.MouseEvent evt){\n                leadershipSlider.setBackground(UIManager.getColor(&quot;control&quot;));\n            }\n        });\n</code></pre>\n<p>The bar should just highlight yellow when I hover over it and go back to normal when I stop hovering over it. But when I try to use the slider(drag the arrow to different values), text glitches out under it. Also the more i click it, the stronger the yellow highlight becomes until i hover off, then it resets.</p>\n"},{"tags":["java","apache","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1698975670,"creation_date":1415004890,"answer_id":26710740,"question_id":26710658,"body_markdown":"Regarding the [documentation][1]:\r\n\r\n&gt; The pattern of the file name of the archived log file. The format of the pattern is dependent on the RolloverPolicy that is used. The DefaultRolloverPolicy will accept both a date/time pattern compatible with SimpleDateFormat and/or a %i which represents an integer counter. The pattern also supports interpolation at runtime so any of the Lookups (such as the DateLookup) can be included in the pattern.\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.x/manual/appenders.html","title":"What is a Filepattern in Log4j 2 for?","body":"<p>Regarding the <a href=\"http://logging.apache.org/log4j/2.x/manual/appenders.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The pattern of the file name of the archived log file. The format of the pattern is dependent on the RolloverPolicy that is used. The DefaultRolloverPolicy will accept both a date/time pattern compatible with SimpleDateFormat and/or a %i which represents an integer counter. The pattern also supports interpolation at runtime so any of the Lookups (such as the DateLookup) can be included in the pattern.</p>\n</blockquote>\n"}],"owner":{"account_id":5247914,"reputation":723,"user_id":4192998,"accept_rate":65,"display_name":"Zion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25186,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26710740,"answer_count":1,"score":7,"last_activity_date":1698975670,"creation_date":1415004626,"question_id":26710658,"body_markdown":"I have a question about The Filepattern for RollingFile Appender in log4j 2.\r\nThe RollingFile needs an FileName and FilePattern but i dont know what the FilePattern does.I think it is just ignored. This a part of my log4j2.xml    \r\n\r\n    &lt;Property name=&quot;pattern&quot;&gt;\r\n        %-5p [%d{dd.MM.yyyy - HH:mm:ss}] : %m%n %ex\r\n    &lt;/Property&gt;\r\n\r\n    &lt;Property name=&quot;MainLoggerPath&quot;&gt;\r\n        C:/logs/MainLogger.log\r\n    &lt;/Property&gt;\r\n\r\n    &lt;Property name=&quot;FilePattern&quot;&gt;\r\n        C:/logs/$${date:yyyy-MM}/app-%d{MM- dd-yyyy}-%i.log.gz\r\n    &lt;/Property&gt;\r\n\r\n\r\n    &lt;RollingFile name=&quot;MainAppender&quot; fileName=&quot;${MainLoggerPath}&quot;\r\n    filePattern=&quot;${FilePattern}&quot;&gt;\r\n\r\n        &lt;ThresholdFilter level=&quot;ALL&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot; /&gt;\r\n\r\n        &lt;PatternLayout \r\n        pattern=&quot;${pattern}&quot; /&gt;\r\n\r\n        &lt;Policies&gt;\r\n            &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot; /&gt;\r\n        &lt;/Policies&gt;\r\n\r\n        &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt;\r\n\r\n    &lt;/RollingFile&gt;    \r\n","title":"What is a Filepattern in Log4j 2 for?","body":"<p>I have a question about The Filepattern for RollingFile Appender in log4j 2.\nThe RollingFile needs an FileName and FilePattern but i dont know what the FilePattern does.I think it is just ignored. This a part of my log4j2.xml    </p>\n\n<pre><code>&lt;Property name=\"pattern\"&gt;\n    %-5p [%d{dd.MM.yyyy - HH:mm:ss}] : %m%n %ex\n&lt;/Property&gt;\n\n&lt;Property name=\"MainLoggerPath\"&gt;\n    C:/logs/MainLogger.log\n&lt;/Property&gt;\n\n&lt;Property name=\"FilePattern\"&gt;\n    C:/logs/$${date:yyyy-MM}/app-%d{MM- dd-yyyy}-%i.log.gz\n&lt;/Property&gt;\n\n\n&lt;RollingFile name=\"MainAppender\" fileName=\"${MainLoggerPath}\"\nfilePattern=\"${FilePattern}\"&gt;\n\n    &lt;ThresholdFilter level=\"ALL\" onMatch=\"ACCEPT\" onMismatch=\"DENY\" /&gt;\n\n    &lt;PatternLayout \n    pattern=\"${pattern}\" /&gt;\n\n    &lt;Policies&gt;\n        &lt;SizeBasedTriggeringPolicy size=\"10 MB\" /&gt;\n    &lt;/Policies&gt;\n\n    &lt;DefaultRolloverStrategy max=\"10\" /&gt;\n\n&lt;/RollingFile&gt;    \n</code></pre>\n"},{"tags":["java","variables","logging","log4j"],"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1426585849,"post_id":29095782,"comment_id":46422747,"body_markdown":"This is almost a duplicate. Do any of these answers help? [Using system environment variables in log4j xml configuration](http://stackoverflow.com/questions/201188/using-system-environment-variables-in-log4j-xml-configuration?rq=1)","body":"This is almost a duplicate. Do any of these answers help? <a href=\"http://stackoverflow.com/questions/201188/using-system-environment-variables-in-log4j-xml-configuration?rq=1\">Using system environment variables in log4j xml configuration</a>"}],"answers":[{"comments":[{"owner":{"account_id":2870134,"reputation":222,"user_id":2463675,"display_name":"LubosD"},"score":0,"creation_date":1426586842,"post_id":29096192,"comment_id":46423361,"body_markdown":"Thanx for your answer aviad ;) . I have found this solution already before having asked my question and it works. But this isn&#39;t an option for us as the cofiguration should be in some property file or the like, not as a JVM arguments.","body":"Thanx for your answer aviad ;) . I have found this solution already before having asked my question and it works. But this isn&#39;t an option for us as the cofiguration should be in some property file or the like, not as a JVM arguments."}],"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698973884,"creation_date":1426586546,"answer_id":29096192,"question_id":29095782,"body_markdown":"This could be done in the log4j.properties file. Note, you can not use environment variables (that&#39;s a platform specific concept).\r\n\r\nThese 2 properties (IP and port) can be set in code or using the &quot;-D&quot; JVM option.\r\n\r\nIn your example:\r\n\r\n    java ... -Dip=%YOUR_IP% -Dport=%YOUR_PORT% ... your_app\r\n\r\nThis allows you to reference the property using ${...} notation\r\nEg: \r\n\r\n    log4j.graylog_appender.LOGGER.IP=${ip}\r\n    log4j.graylog_appender.LOGGER.PORT=${port}\r\n\r\n","title":"How is it possible to reference a variable from log4j.properties file?","body":"<p>This could be done in the log4j.properties file. Note, you can not use environment variables (that's a platform specific concept).</p>\n<p>These 2 properties (IP and port) can be set in code or using the &quot;-D&quot; JVM option.</p>\n<p>In your example:</p>\n<pre><code>java ... -Dip=%YOUR_IP% -Dport=%YOUR_PORT% ... your_app\n</code></pre>\n<p>This allows you to reference the property using ${...} notation\nEg:</p>\n<pre><code>log4j.graylog_appender.LOGGER.IP=${ip}\nlog4j.graylog_appender.LOGGER.PORT=${port}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4808577,"reputation":3196,"user_id":3882744,"accept_rate":70,"display_name":"caot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698887344,"creation_date":1439918614,"answer_id":32078859,"question_id":29095782,"body_markdown":"```java\r\nSystem.setProperty(&quot;key&quot;, &quot;value&quot;);\r\n```","title":"How is it possible to reference a variable from log4j.properties file?","body":"<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;key&quot;, &quot;value&quot;);\n</code></pre>\n"}],"owner":{"account_id":2870134,"reputation":222,"user_id":2463675,"display_name":"LubosD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698973884,"creation_date":1426585403,"question_id":29095782,"body_markdown":"\r\n\r\nWe are usign log4j in version 1.2x and want to keep it so if possible. We have a graylog appender in the log4j.properties file where we set the ip address and the port. If they are hardcoded, the logging to the gray log works.\r\n\r\n**The task is however to make these two parameters (IP and port) configurable somehow in the log4j.properties file.** \r\n\r\nAfterwards the operation team on each deployment environment would just set this configuration for the IP and port once and it would work in all the java projects that use this variable in log4j.properties file.\r\n\r\nIdeal solution would be using environment variable of the operating system, but any other configuration as a property file (not that one of the log4j itself and except for using JVM arguments - this is not an option for us) or some other solution \r\n\r\n***I have read that this is possible with log4j version 2.x but this would take us quite a lot of time*** (converting the log4j.propeties files to log4j2.xml by hand, changing the code ..).\r\n\r\n","title":"How is it possible to reference a variable from log4j.properties file?","body":"<p>We are usign log4j in version 1.2x and want to keep it so if possible. We have a graylog appender in the log4j.properties file where we set the ip address and the port. If they are hardcoded, the logging to the gray log works.</p>\n<p><strong>The task is however to make these two parameters (IP and port) configurable somehow in the log4j.properties file.</strong></p>\n<p>Afterwards the operation team on each deployment environment would just set this configuration for the IP and port once and it would work in all the java projects that use this variable in log4j.properties file.</p>\n<p>Ideal solution would be using environment variable of the operating system, but any other configuration as a property file (not that one of the log4j itself and except for using JVM arguments - this is not an option for us) or some other solution</p>\n<p><em><strong>I have read that this is possible with log4j version 2.x but this would take us quite a lot of time</strong></em> (converting the log4j.propeties files to log4j2.xml by hand, changing the code ..).</p>\n"},{"tags":["java","arraylist","java-8","hashmap"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1698961608,"post_id":77412998,"comment_id":136474559,"body_markdown":"what if 2 objects of the array have the same attribute names ?","body":"what if 2 objects of the array have the same attribute names ?"},{"owner":{"account_id":7708029,"reputation":27,"user_id":5838400,"display_name":"Mohil M"},"score":0,"creation_date":1698961889,"post_id":77412998,"comment_id":136474593,"body_markdown":"Hey..sorry my bad..this array won&#39;t be having multiple objects. It will have added variables but no extra object @jhamon","body":"Hey..sorry my bad..this array won&#39;t be having multiple objects. It will have added variables but no extra object @jhamon"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1698971871,"post_id":77412998,"comment_id":136475646,"body_markdown":"Use a JSON library such as Jackson.","body":"Use a JSON library such as Jackson."}],"answers":[{"comments":[{"owner":{"account_id":7708029,"reputation":27,"user_id":5838400,"display_name":"Mohil M"},"score":0,"creation_date":1698998942,"post_id":77413676,"comment_id":136477998,"body_markdown":"Thank you wolginm &amp; @Jim Garrison. It worked like a charm.","body":"Thank you wolginm &amp; @Jim Garrison. It worked like a charm."}],"tags":[],"owner":{"account_id":22135845,"reputation":11,"user_id":22849342,"display_name":"wolginm"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698973830,"creation_date":1698973830,"answer_id":77413676,"question_id":77412998,"body_markdown":"Following up on [Jim Garrison][1]&#39;s post, give this a look, [Baeldung - Using Jackson][2].  This library should help you convert a generic object into a map.  Those objects being in an ArrayList, or really any form of list, doesn&#39;t make it much harder.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/18157/jim-garrison\r\n  [2]: https://www.baeldung.com/java-convert-object-to-map#using-jackson","title":"I want to convert arraylist of custom java object to hashmap by keeping key-value pair of arraylist same in the map","body":"<p>Following up on <a href=\"https://stackoverflow.com/users/18157/jim-garrison\">Jim Garrison</a>'s post, give this a look, <a href=\"https://www.baeldung.com/java-convert-object-to-map#using-jackson\" rel=\"nofollow noreferrer\">Baeldung - Using Jackson</a>.  This library should help you convert a generic object into a map.  Those objects being in an ArrayList, or really any form of list, doesn't make it much harder.</p>\n"}],"owner":{"account_id":7708029,"reputation":27,"user_id":5838400,"display_name":"Mohil M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1698992119,"answer_count":1,"score":-2,"last_activity_date":1698973830,"creation_date":1698960613,"question_id":77412998,"body_markdown":"This is my list I am fetching from db (It can be updated in db in future by addition of more variables  :\r\n\r\n\r\n\r\n    response\r\n    \r\n     {\r\n       &quot;nameField1&quot;   : &quot;nameLabel1&quot;,\r\n        &quot;numberField2&quot;: &quot;numberLabel2&quot;   \r\n    } \r\n      \r\n\r\n\r\nI want the result map&lt;String, String&gt; to look like this :\r\n\r\n   {nameField1=nameLabel1, numberField2=numberLabel2 }\r\n\r\n","title":"I want to convert arraylist of custom java object to hashmap by keeping key-value pair of arraylist same in the map","body":"<p>This is my list I am fetching from db (It can be updated in db in future by addition of more variables  :</p>\n<pre><code>response\n\n {\n   &quot;nameField1&quot;   : &quot;nameLabel1&quot;,\n    &quot;numberField2&quot;: &quot;numberLabel2&quot;   \n} \n  \n</code></pre>\n<p>I want the result map&lt;String, String&gt; to look like this :</p>\n<p>{nameField1=nameLabel1, numberField2=numberLabel2 }</p>\n"},{"tags":["java","maven","gwt","dagger"],"answers":[{"tags":[],"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698972992,"creation_date":1698972992,"answer_id":77413641,"question_id":77409321,"body_markdown":"The gwt compiler caches certain things.  Could some things be hanging around from your 2.7 build?\r\n\r\nDo a clean build, to remove the &lt;code&gt;/gwt-unitCache&lt;/code&gt; folder.\r\n\r\nAlso in the temporary directory (on Linux &lt;code&gt;/tmp&lt;/code&gt;) check for &lt;code&gt;gwt*&lt;/code&gt; folders and delete them all.","title":"Upgrading GWT version 2.7.0 to 2.10.0 causes issues","body":"<p>The gwt compiler caches certain things.  Could some things be hanging around from your 2.7 build?</p>\n<p>Do a clean build, to remove the <code>/gwt-unitCache</code> folder.</p>\n<p>Also in the temporary directory (on Linux <code>/tmp</code>) check for <code>gwt*</code> folders and delete them all.</p>\n"}],"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698972992,"creation_date":1698925731,"question_id":77409321,"body_markdown":"After upgrading gwt to `2.10.0` and upgrading `mvn.compiler.version` to `1.8.0` from `1.7.0` following errors are occuring:\r\n\r\n1. On testing phase\r\n```\r\nlog4j:WARN Error during default initialization\r\njava.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal\r\n```\r\n2. When compiling tomcat:\r\n```\r\n[INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\r\n...\r\n[INFO] Caused by: java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.ast.MessageSend.binding()Lorg/eclipse/jdt/internal/compiler/lookup/MethodBinding;\r\n...\r\n[INFO][ERROR] at xxx.java(241): GWT.create(SimplePager.Resources.class)\r\n```\r\n\r\n","title":"Upgrading GWT version 2.7.0 to 2.10.0 causes issues","body":"<p>After upgrading gwt to <code>2.10.0</code> and upgrading <code>mvn.compiler.version</code> to <code>1.8.0</code> from <code>1.7.0</code> following errors are occuring:</p>\n<ol>\n<li>On testing phase</li>\n</ol>\n<pre><code>log4j:WARN Error during default initialization\njava.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal\n</code></pre>\n<ol start=\"2\">\n<li>When compiling tomcat:</li>\n</ol>\n<pre><code>[INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\n...\n[INFO] Caused by: java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.ast.MessageSend.binding()Lorg/eclipse/jdt/internal/compiler/lookup/MethodBinding;\n...\n[INFO][ERROR] at xxx.java(241): GWT.create(SimplePager.Resources.class)\n</code></pre>\n"},{"tags":["java","android","android-camera2"],"comments":[{"owner":{"account_id":7064276,"reputation":1,"user_id":5408149,"display_name":"Alejandro Medina Baeza"},"score":0,"creation_date":1697838486,"post_id":77332981,"comment_id":136334607,"body_markdown":"Upon further investigation, I&#39;ve found the following:\nIf I run this app on my S23 Ultra, everything works as intended, but if I run it on the S9 Plus, what I get is the correct retrieval of the focusDistance when capturing, but the images come out like if a higher value of focusDistance had been used (even though I&#39;m setting LENS_FOCUS_DISTANCE to that obtained in the preview, which is around 2.7).\nDoes this shed any light on the issue?","body":"Upon further investigation, I&#39;ve found the following: If I run this app on my S23 Ultra, everything works as intended, but if I run it on the S9 Plus, what I get is the correct retrieval of the focusDistance when capturing, but the images come out like if a higher value of focusDistance had been used (even though I&#39;m setting LENS_FOCUS_DISTANCE to that obtained in the preview, which is around 2.7). Does this shed any light on the issue?"}],"answers":[{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698969228,"creation_date":1698969228,"answer_id":77413486,"question_id":77332981,"body_markdown":"Before turning off AF, are you verifying the device supports manual focus control?  That&#39;s not guaranteed, so you need to check the camera device&#39;s capabilities first.   If you just want to lock AF once you get a good value in continuous focus mode, you can use `AF_TRIGGER` for that.\r\n\r\nBeyond that, antibanding on many devices can&#39;t handle flicker rates that aren&#39;t 50 or 60hz, and a wide variety of LED lights have flicker rates at other weird rates.  This isn&#39;t a problem if exposure times are long enough, but in bright conditions it can become a problem, where the exposure is short enough to reveal the flicker from the illumination sources.\r\n\r\n","title":"Problem using Camera2: Preview is fine but captured images are blurry and have banding artifacts","body":"<p>Before turning off AF, are you verifying the device supports manual focus control?  That's not guaranteed, so you need to check the camera device's capabilities first.   If you just want to lock AF once you get a good value in continuous focus mode, you can use <code>AF_TRIGGER</code> for that.</p>\n<p>Beyond that, antibanding on many devices can't handle flicker rates that aren't 50 or 60hz, and a wide variety of LED lights have flicker rates at other weird rates.  This isn't a problem if exposure times are long enough, but in bright conditions it can become a problem, where the exposure is short enough to reveal the flicker from the illumination sources.</p>\n"}],"owner":{"account_id":7064276,"reputation":1,"user_id":5408149,"display_name":"Alejandro Medina Baeza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698969228,"creation_date":1697825271,"question_id":77332981,"body_markdown":"I&#39;ve been trying to set up an app that does the following:\r\n1. Shows an image preview to the user in a PreviewActivity, where the user can click on a region and set the precise Focus Distance to a CameraSettings instance.\r\n2. Then, in a CameraService, I&#39;m disabling auto focus, retrieving the focus distance settings from CameraSettings, and capturing the image.\r\nMy problem is the image is fine in the preview, but is blurry and has banding artifacts when captured.\r\n\r\n\r\n\r\nThis is what I&#39;m doing before capturing the image:\r\n`           \r\n\r\n         Float focusDistance = CameraSettings.getInstance().getFocusDistance();\r\n            captureBuilder.set(CaptureRequest.CONTROL_AF_TRIGGER, CaptureRequest.CONTROL_AF_TRIGGER_IDLE);\r\n\r\n            captureBuilder.set(CaptureRequest.CONTROL_AF_MODE, CameraMetadata.CONTROL_AF_MODE_OFF);\r\n            captureBuilder.set(CaptureRequest.CONTROL_AE_ANTIBANDING_MODE, CaptureRequest.CONTROL_AE_ANTIBANDING_MODE_AUTO);\r\n            captureBuilder.set(CaptureRequest.LENS_FOCUS_DISTANCE, focusDistance);\r\n            captureBuilder.set(CaptureRequest.CONTROL_AE_LOCK, true);`","title":"Problem using Camera2: Preview is fine but captured images are blurry and have banding artifacts","body":"<p>I've been trying to set up an app that does the following:</p>\n<ol>\n<li>Shows an image preview to the user in a PreviewActivity, where the user can click on a region and set the precise Focus Distance to a CameraSettings instance.</li>\n<li>Then, in a CameraService, I'm disabling auto focus, retrieving the focus distance settings from CameraSettings, and capturing the image.\nMy problem is the image is fine in the preview, but is blurry and has banding artifacts when captured.</li>\n</ol>\n<p>This is what I'm doing before capturing the image:\n`</p>\n<pre><code>     Float focusDistance = CameraSettings.getInstance().getFocusDistance();\n        captureBuilder.set(CaptureRequest.CONTROL_AF_TRIGGER, CaptureRequest.CONTROL_AF_TRIGGER_IDLE);\n\n        captureBuilder.set(CaptureRequest.CONTROL_AF_MODE, CameraMetadata.CONTROL_AF_MODE_OFF);\n        captureBuilder.set(CaptureRequest.CONTROL_AE_ANTIBANDING_MODE, CaptureRequest.CONTROL_AE_ANTIBANDING_MODE_AUTO);\n        captureBuilder.set(CaptureRequest.LENS_FOCUS_DISTANCE, focusDistance);\n        captureBuilder.set(CaptureRequest.CONTROL_AE_LOCK, true);`\n</code></pre>\n"},{"tags":["java","spring-boot","logging","spring-logback"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1698971549,"post_id":77413425,"comment_id":136475616,"body_markdown":"The configuration file is being read too eary for it to use extensions, see https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html#boot-features-logback-extensions","body":"The configuration file is being read too eary for it to use extensions, see <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html#boot-features-logback-extensions\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/htm&zwnj;&#8203;l/&hellip;</a>"}],"owner":{"account_id":2090494,"reputation":1336,"user_id":1860447,"accept_rate":47,"display_name":"user1860447"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698967757,"creation_date":1698967757,"question_id":77413425,"body_markdown":"I have a springboot application. When I give the following command \r\n\r\n\t$ java -Dspring.config.location=../src/main/resources/application-dev.properties -Dlogback.configurationFile=../src/main/resources/logback-spring.xml  -jar some-ingestion-1.0.0.jar\r\n\r\nI get this error and the application fails to start:\r\n\t\r\n\tCaused by: java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected:\r\n\tERROR in ch.qos.logback.core.joran.spi.Interpreter@28:84 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\r\n\tERROR in ch.qos.logback.core.joran.spi.Interpreter@31:112 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\r\n\tERROR in ch.qos.logback.core.joran.spi.Interpreter@34:71 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\r\n\r\n\r\nHere is my logback-spring.xml:\t\r\n\r\n\t....\r\n\t&lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.org.hibernate.SQL&quot;\r\n                    source=&quot;logging.level.org.hibernate.SQL&quot; defaultValue=&quot;warn&quot; /&gt;\r\n\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.org.hibernate.type.descriptor.sql.BasicBinder&quot;\r\n                    source=&quot;logging.level.org.hibernate.type.descriptor.sql.BasicBinder&quot; defaultValue=&quot;info&quot; /&gt;\r\n\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.com.abc.some.ingestion&quot;\r\n                    source=&quot;com.abc.some.ingestion&quot; level=&quot;info&quot;/&gt;\r\n    ...\r\n\r\nAnd here is my applications.property:\r\n\r\n\t#Logging overrides\r\n\tlogging.level.org.hibernate.SQL=DEBUG\r\n\tlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n\tlogging.level.com.abc.some.ingestion=TRACE\r\n\r\nIrrespective of whether above are commented out, the application fails to start with the above error. \r\nBut if I comment out the above 3 &lt;springProperty/&gt; and set them as below in logback-spring.xml:\r\n\r\n\r\n    &lt;logger name=&quot;com.abc.some.ingestion&quot; level=&quot;info&quot;/&gt;\r\n    &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;warn&quot;/&gt;\r\n    &lt;logger name=&quot;org.hibernate.type.descriptor.sql.BasicBinder&quot; level=&quot;info&quot;/&gt;\r\n\r\nthen application is able to start up. The idea is to be able to override settings in logback with the ones in application.properties.\r\n\r\n\r\nThe requirement requirement has eveolved overtime. logback configuration file is provided to java jar to be able to override application log history","title":"SpringBoot applications fails to start when logback-spring and application.properties are provided as cmd line args to java -jar","body":"<p>I have a springboot application. When I give the following command</p>\n<pre><code>$ java -Dspring.config.location=../src/main/resources/application-dev.properties -Dlogback.configurationFile=../src/main/resources/logback-spring.xml  -jar some-ingestion-1.0.0.jar\n</code></pre>\n<p>I get this error and the application fails to start:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected:\nERROR in ch.qos.logback.core.joran.spi.Interpreter@28:84 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@31:112 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@34:71 - no applicable action for [springProperty], current ElementPath  is [[configuration][springProperty]]\n</code></pre>\n<p>Here is my logback-spring.xml:</p>\n<pre><code>....\n&lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.org.hibernate.SQL&quot;\n                source=&quot;logging.level.org.hibernate.SQL&quot; defaultValue=&quot;warn&quot; /&gt;\n\n&lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.org.hibernate.type.descriptor.sql.BasicBinder&quot;\n                source=&quot;logging.level.org.hibernate.type.descriptor.sql.BasicBinder&quot; defaultValue=&quot;info&quot; /&gt;\n\n&lt;springProperty scope=&quot;context&quot; name=&quot;logging.level.com.abc.some.ingestion&quot;\n                source=&quot;com.abc.some.ingestion&quot; level=&quot;info&quot;/&gt;\n...\n</code></pre>\n<p>And here is my applications.property:</p>\n<pre><code>#Logging overrides\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\nlogging.level.com.abc.some.ingestion=TRACE\n</code></pre>\n<p>Irrespective of whether above are commented out, the application fails to start with the above error.\nBut if I comment out the above 3  and set them as below in logback-spring.xml:</p>\n<pre><code>&lt;logger name=&quot;com.abc.some.ingestion&quot; level=&quot;info&quot;/&gt;\n&lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;warn&quot;/&gt;\n&lt;logger name=&quot;org.hibernate.type.descriptor.sql.BasicBinder&quot; level=&quot;info&quot;/&gt;\n</code></pre>\n<p>then application is able to start up. The idea is to be able to override settings in logback with the ones in application.properties.</p>\n<p>The requirement requirement has eveolved overtime. logback configuration file is provided to java jar to be able to override application log history</p>\n"},{"tags":["java","spring","spring-boot","maven","apache-zookeeper"],"comments":[{"owner":{"account_id":6528461,"reputation":3279,"user_id":5050431,"accept_rate":60,"display_name":"A_Arnold"},"score":0,"creation_date":1698990130,"post_id":77390724,"comment_id":136477037,"body_markdown":"AWS ECS is their response to docker and EKS is K8","body":"AWS ECS is their response to docker and EKS is K8"}],"answers":[{"tags":[],"owner":{"account_id":28906776,"reputation":1,"user_id":22140649,"display_name":"Mohan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698966549,"creation_date":1698966549,"answer_id":77413369,"question_id":77390724,"body_markdown":"You can run all 3 micro services and your zookeeper docker container in a single EC2 instance if that&#39;s all you prefer (for testing of course). If you want to run a production scale application, I believe you need more than just one EC2 instance. You might also want to think about deploying them in different AZs and also keep zookeeper (source of truth) running in a separate subnet to separate applications and zookeeper.\r\n\r\nAlso, you can explore EKS if your micro services are containerized.\r\n","title":"How to deploy my Apache Zookeeper image to AWS?","body":"<p>You can run all 3 micro services and your zookeeper docker container in a single EC2 instance if that's all you prefer (for testing of course). If you want to run a production scale application, I believe you need more than just one EC2 instance. You might also want to think about deploying them in different AZs and also keep zookeeper (source of truth) running in a separate subnet to separate applications and zookeeper.</p>\n<p>Also, you can explore EKS if your micro services are containerized.</p>\n"}],"owner":{"account_id":29788140,"reputation":1,"user_id":22829026,"display_name":"Ryan Seiyu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698966549,"creation_date":1698687126,"question_id":77390724,"body_markdown":"[diagram](https://i.stack.imgur.com/xPUhD.png)\r\n\r\n### How can I deploy my application (3 microservices and an Apache Zookeeper docker image) to AWS?\r\n\r\nCan I have an docker image running in AWS? Does it have any cost included?\r\nAll 3 microservice applications depends on my Apache Zookeeper docker image, so that they can retrieve information from each other.\r\n\r\nI just don&#39;t know how to deploy this applications on AWS. Should I deploy each application on an independent instance?\r\n\r\nThank you!","title":"How to deploy my Apache Zookeeper image to AWS?","body":"<p><a href=\"https://i.stack.imgur.com/xPUhD.png\" rel=\"nofollow noreferrer\">diagram</a></p>\n<h3>How can I deploy my application (3 microservices and an Apache Zookeeper docker image) to AWS?</h3>\n<p>Can I have an docker image running in AWS? Does it have any cost included?\nAll 3 microservice applications depends on my Apache Zookeeper docker image, so that they can retrieve information from each other.</p>\n<p>I just don't know how to deploy this applications on AWS. Should I deploy each application on an independent instance?</p>\n<p>Thank you!</p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1397673565,"post_id":23117548,"comment_id":35340273,"body_markdown":"That&#39;s because it&#39;s a primitive type. http://stackoverflow.com/questions/9909333/whats-the-default-value-of-char","body":"That&#39;s because it&#39;s a primitive type. <a href=\"http://stackoverflow.com/questions/9909333/whats-the-default-value-of-char\" title=\"whats the default value of char\">stackoverflow.com/questions/9909333/&hellip;</a>"},{"owner":{"account_id":4082028,"reputation":5506,"user_id":3352285,"display_name":"NESPowerGlove"},"score":0,"creation_date":1397674039,"post_id":23117548,"comment_id":35340544,"body_markdown":"Didn&#39;t realize you had a char array, I edit the post to add some suggestions to what you could change it to.","body":"Didn&#39;t realize you had a char array, I edit the post to add some suggestions to what you could change it to."}],"tags":[],"owner":{"account_id":4082028,"reputation":5506,"user_id":3352285,"display_name":"NESPowerGlove"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397673975,"creation_date":1397673467,"answer_id":23117548,"question_id":23117520,"body_markdown":"If you are asking how to change the values of individual elements in a 2D array to null, you would do this:\r\n\r\n     gameBoard[row][col] = null;\r\n\r\nBut since you have a 2D char array, you can&#39;t do that as char is a primitive type and does not allow having a null value. You could use a different char value to represent empty, or you could make a 2D array have Character objects, but a better solution might be a 2D array of an enumeration type such as:\r\n\r\n    public enum TicTacToeSquareValue { x, o, empty }\r\n    .... later on:\r\n    gameBoard[row][col] = TicTacToeSquareValue.empty;","title":"How to remove an element in a 2D array","body":"<p>If you are asking how to change the values of individual elements in a 2D array to null, you would do this:</p>\n\n<pre><code> gameBoard[row][col] = null;\n</code></pre>\n\n<p>But since you have a 2D char array, you can't do that as char is a primitive type and does not allow having a null value. You could use a different char value to represent empty, or you could make a 2D array have Character objects, but a better solution might be a 2D array of an enumeration type such as:</p>\n\n<pre><code>public enum TicTacToeSquareValue { x, o, empty }\n.... later on:\ngameBoard[row][col] = TicTacToeSquareValue.empty;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2284294,"reputation":49,"user_id":2471664,"accept_rate":86,"display_name":"Oumie"},"score":0,"creation_date":1397673988,"post_id":23117693,"comment_id":35340516,"body_markdown":"I tried setting it to 0 but then we are required to use a method to process each turn in the game.. the method returns true whenever 3 rows/columns/diagonals in the array are equal.. therefore setting it to 0 always returns true","body":"I tried setting it to 0 but then we are required to use a method to process each turn in the game.. the method returns true whenever 3 rows/columns/diagonals in the array are equal.. therefore setting it to 0 always returns true"}],"tags":[],"owner":{"account_id":2832467,"reputation":440,"user_id":2433769,"display_name":"eric.green"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633543627,"creation_date":1397673841,"answer_id":23117693,"question_id":23117520,"body_markdown":"You cannot set a `char` to `null`. You can only set it to `0`. `null` is a pointer value, `char` is a primitive numeric value. Pointers don&#39;t fit into primitive values.\r\n\r\nSo.. \r\n```\r\ngameBoard[row][col]=0\r\n```\r\n.. should do the trick.","title":"How to remove an element in a 2D array","body":"<p>You cannot set a <code>char</code> to <code>null</code>. You can only set it to <code>0</code>. <code>null</code> is a pointer value, <code>char</code> is a primitive numeric value. Pointers don't fit into primitive values.</p>\n<p>So..</p>\n<pre><code>gameBoard[row][col]=0\n</code></pre>\n<p>.. should do the trick.</p>\n"},{"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1397674176,"post_id":23117713,"comment_id":35340632,"body_markdown":"If you are really talking about Java then `gameBoard = new int[3][3];` should not be an issue. Actually that should be faster than resetting all the elements. Even then I don&#39;t know why we would need to worry about the performance here, it&#39;s just a 3X3 array.","body":"If you are really talking about Java then <code>gameBoard = new int[3][3];</code> should not be an issue. Actually that should be faster than resetting all the elements. Even then I don&#39;t know why we would need to worry about the performance here, it&#39;s just a 3X3 array."},{"owner":{"account_id":2791635,"reputation":25619,"user_id":2401769,"accept_rate":68,"display_name":"Matias Cicero"},"score":0,"creation_date":1397674386,"post_id":23117713,"comment_id":35340754,"body_markdown":"It may be the fastest operation, but if you are reinitializing the array too much in your application, more memory will be occupied and you can&#39;t know for sure if those &#39;null&#39; will be released","body":"It may be the fastest operation, but if you are reinitializing the array too much in your application, more memory will be occupied and you can&#39;t know for sure if those &#39;null&#39; will be released"},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1397674688,"post_id":23117713,"comment_id":35340919,"body_markdown":"`null` means nothing, can really release it. But if you are talking about gc eligible objects, gc is smart enough collect it as early as possible.","body":"<code>null</code> means nothing, can really release it. But if you are talking about gc eligible objects, gc is smart enough collect it as early as possible."}],"tags":[],"owner":{"account_id":2791635,"reputation":25619,"user_id":2401769,"accept_rate":68,"display_name":"Matias Cicero"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397674438,"creation_date":1397673923,"answer_id":23117713,"question_id":23117520,"body_markdown":"If you are lazy, you could reinstantiate a new array.\r\n    \r\n    gameBoard = new int[3][3];\r\n\r\nI would not recommend this approach, as it is less performant and leaks memory if it is not correctly collected.\r\n\r\nA more elegant choice would be to reinitialize the whole array, you dont need to set the values to `null` since they are of type `char`\r\n\r\n    for(int r = 0; r &lt; gameBoard.length; r++)\r\n        for(int c = 0; c &lt; gameBoard[r].length; c++)\r\n            gameBoard[r][c] = &#39;\\0&#39;; //Null character\r\n\r\nBut hey, why bother writing three lines of code, when there&#39;s a prebuilt Java utility method that will help you out?\r\n\r\n     Arrays.fill(gameBoard, &#39;\\0&#39;); //Fills the array with Null characters","title":"How to remove an element in a 2D array","body":"<p>If you are lazy, you could reinstantiate a new array.</p>\n\n<pre><code>gameBoard = new int[3][3];\n</code></pre>\n\n<p>I would not recommend this approach, as it is less performant and leaks memory if it is not correctly collected.</p>\n\n<p>A more elegant choice would be to reinitialize the whole array, you dont need to set the values to <code>null</code> since they are of type <code>char</code></p>\n\n<pre><code>for(int r = 0; r &lt; gameBoard.length; r++)\n    for(int c = 0; c &lt; gameBoard[r].length; c++)\n        gameBoard[r][c] = '\\0'; //Null character\n</code></pre>\n\n<p>But hey, why bother writing three lines of code, when there's a prebuilt Java utility method that will help you out?</p>\n\n<pre><code> Arrays.fill(gameBoard, '\\0'); //Fills the array with Null characters\n</code></pre>\n"}],"owner":{"account_id":2284294,"reputation":49,"user_id":2471664,"accept_rate":86,"display_name":"Oumie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1698966290,"creation_date":1397673369,"question_id":23117520,"body_markdown":"I have a 2D array that I need to &quot;reset&quot; each time a tic tac toc game is started. I call a method and loop through the array setting all the elements to Zero. But this defeats the purpose of my program because i need to have all the elements empty/null again.\r\n\r\n    public static char[][] initializeGame(char[][] gameBoard) {       \r\n        for (int row = 0; row &lt; 3; row++) {\r\n            for (int col = 0; col &lt; 3; col++) {\r\n                gameBoard = null; //&lt;--THIS IS THE THING AM TRYING TO NULL @ gameBoard[row][column]               \r\n            }\r\n        }     \r\n        return gameBoard;\r\n    }\r\n\r\nHow can I set the elements of `gameBoard` to null?\r\n","title":"How to remove an element in a 2D array","body":"<p>I have a 2D array that I need to \"reset\" each time a tic tac toc game is started. I call a method and loop through the array setting all the elements to Zero. But this defeats the purpose of my program because i need to have all the elements empty/null again.</p>\n\n<pre><code>public static char[][] initializeGame(char[][] gameBoard) {       \n    for (int row = 0; row &lt; 3; row++) {\n        for (int col = 0; col &lt; 3; col++) {\n            gameBoard = null; //&lt;--THIS IS THE THING AM TRYING TO NULL @ gameBoard[row][column]               \n        }\n    }     \n    return gameBoard;\n}\n</code></pre>\n\n<p>How can I set the elements of <code>gameBoard</code> to null?</p>\n"},{"tags":["java","yaml","micronaut","snakeyaml"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1698986779,"post_id":77413258,"comment_id":136476769,"body_markdown":"please add your complete build.gradle","body":"please add your complete build.gradle"}],"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698966248,"creation_date":1698964785,"question_id":77413258,"body_markdown":"How to resolve the error. I am not sure which snake yaml dependency can resolve the micronaut project start-up error.\r\n\r\n    2023-11-02 22:36:41 ERROR i.m.r.Micronaut(handleStartupException):338 - Error starting Micronaut server: org.yaml.snakeyaml.constructor.SafeConstructor: method &#39;void &lt;init&gt;()&#39; not found\r\n    java.lang.NoSuchMethodError: org.yaml.snakeyaml.constructor.SafeConstructor: method &#39;void &lt;init&gt;()&#39; not found\r\n    \tat io.micronaut.context.env.yaml.CustomSafeConstructor.&lt;init&gt;(CustomSafeConstructor.java:36) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.yaml.YamlPropertySourceLoader.processInput(YamlPropertySourceLoader.java:56) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.AbstractPropertySourceLoader.read(AbstractPropertySourceLoader.java:117) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.AbstractPropertySourceLoader.loadProperties(AbstractPropertySourceLoader.java:102) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.AbstractPropertySourceLoader.load(AbstractPropertySourceLoader.java:68) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.AbstractPropertySourceLoader.load(AbstractPropertySourceLoader.java:55) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.DefaultEnvironment.loadPropertySourceFromLoader(DefaultEnvironment.java:607) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.DefaultEnvironment.readPropertySourceList(DefaultEnvironment.java:541) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.env.DefaultEnvironment.readPropertySourceList(DefaultEnvironment.java:527) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n    \tat io.micronaut.context.DefaultApplicationContext$RuntimeConfiguredEnvironment.readPropertySourceList(DefaultApplicationContext.java:794) ~[micronaut-inject-3.7.1.jar:3.7.1]\r\n\r\nAfter this error, I did minor refactoring like below\r\n\r\n    implementation group: &#39;org.yaml&#39;, name: &#39;snakeyaml&#39;, version: &#39;2.0&#39;\r\n    \r\n    configurations.all {\r\n        exclude group: &#39;org.yaml&#39;\r\n        resolutionStrategy {\r\n            force  &quot;org.yaml&quot;\r\n        }\r\n    }\r\n\r\nI still get the same error? Any suggestion?","title":"Yaml dependency error with micronaut app start up","body":"<p>How to resolve the error. I am not sure which snake yaml dependency can resolve the micronaut project start-up error.</p>\n<pre><code>2023-11-02 22:36:41 ERROR i.m.r.Micronaut(handleStartupException):338 - Error starting Micronaut server: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void &lt;init&gt;()' not found\njava.lang.NoSuchMethodError: org.yaml.snakeyaml.constructor.SafeConstructor: method 'void &lt;init&gt;()' not found\n    at io.micronaut.context.env.yaml.CustomSafeConstructor.&lt;init&gt;(CustomSafeConstructor.java:36) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.yaml.YamlPropertySourceLoader.processInput(YamlPropertySourceLoader.java:56) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.AbstractPropertySourceLoader.read(AbstractPropertySourceLoader.java:117) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.AbstractPropertySourceLoader.loadProperties(AbstractPropertySourceLoader.java:102) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.AbstractPropertySourceLoader.load(AbstractPropertySourceLoader.java:68) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.AbstractPropertySourceLoader.load(AbstractPropertySourceLoader.java:55) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.DefaultEnvironment.loadPropertySourceFromLoader(DefaultEnvironment.java:607) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.DefaultEnvironment.readPropertySourceList(DefaultEnvironment.java:541) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.env.DefaultEnvironment.readPropertySourceList(DefaultEnvironment.java:527) ~[micronaut-inject-3.7.1.jar:3.7.1]\n    at io.micronaut.context.DefaultApplicationContext$RuntimeConfiguredEnvironment.readPropertySourceList(DefaultApplicationContext.java:794) ~[micronaut-inject-3.7.1.jar:3.7.1]\n</code></pre>\n<p>After this error, I did minor refactoring like below</p>\n<pre><code>implementation group: 'org.yaml', name: 'snakeyaml', version: '2.0'\n\nconfigurations.all {\n    exclude group: 'org.yaml'\n    resolutionStrategy {\n        force  &quot;org.yaml&quot;\n    }\n}\n</code></pre>\n<p>I still get the same error? Any suggestion?</p>\n"},{"tags":["java","java-11","client-certificates","java-17","payara"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1698708694,"post_id":77392351,"comment_id":136437107,"body_markdown":"See https://stackoverflow.com/questions/34486300/javax-servlet-request-x509certificate-request-attribute-does-not-return-ca-cer and https://stackoverflow.com/questions/24351472/getattributejavax-servlet-request-x509certificate-not-set-spring-cxf-jetty","body":"See <a href=\"https://stackoverflow.com/questions/34486300/javax-servlet-request-x509certificate-request-attribute-does-not-return-ca-cer\" title=\"javax servlet request x509certificate request attribute does not return ca cer\">stackoverflow.com/questions/34486300/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/24351472/getattributejavax-servlet-request-x509certificate-not-set-spring-cxf-jetty\" title=\"getattributejavax servlet request x509certificate not set spring cxf jetty\">stackoverflow.com/questions/24351472/&hellip;</a>"},{"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"score":0,"creation_date":1698708969,"post_id":77392351,"comment_id":136437132,"body_markdown":"@tgdavies it&#39;s not useful as I have tried that and as I mentioned I had same certificate, same code  and same server. I have just changed the JDK and it has stopped working.","body":"@tgdavies it&#39;s not useful as I have tried that and as I mentioned I had same certificate, same code  and same server. I have just changed the JDK and it has stopped working."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698709018,"post_id":77392351,"comment_id":136437138,"body_markdown":"Same server truststore?","body":"Same server truststore?"},{"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"score":0,"creation_date":1698709061,"post_id":77392351,"comment_id":136437144,"body_markdown":"Yes @user207421","body":"Yes @user207421"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698709202,"post_id":77392351,"comment_id":136437156,"body_markdown":"OK so you need to set [`javax.net.debug=ssl,handshake`](https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug) at either end, or both, and show us the part of the log where the server requested a certificate and the client sent one.","body":"OK so you need to set <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug\" rel=\"nofollow noreferrer\"><code>javax.net.debug=ssl,handshake</code></a> at either end, or both, and show us the part of the log where the server requested a certificate and the client sent one."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1698711146,"post_id":77392351,"comment_id":136437352,"body_markdown":"@WasifKirmani don&#39;t add details in comments, [edit] your post to work those details [into your question](/help/how-to-ask) as information that you&#39;ve gathered while debugging/(re)searching the problem.","body":"@WasifKirmani don&#39;t add details in comments, <a href=\"https://stackoverflow.com/posts/77392351/edit\">edit</a> your post to work those details <a href=\"/help/how-to-ask\">into your question</a> as information that you&#39;ve gathered while debugging/(re)searching the problem."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1698711152,"post_id":77392351,"comment_id":136437353,"body_markdown":"Come off it. That&#39;s not what I asked for. I asked for &#39;the part of the log where the server requested a certificate and the client sent one&#39;. There should be a `CertificateRequest` message from the server, and a `Certificate` message from the client. And don&#39;t post it as comments. You can see for yourself that it&#39;s totally illegible. Edit it into your question.","body":"Come off it. That&#39;s not what I asked for. I asked for &#39;the part of the log where the server requested a certificate and the client sent one&#39;. There should be a <code>CertificateRequest</code> message from the server, and a <code>Certificate</code> message from the client. And don&#39;t post it as comments. You can see for yourself that it&#39;s totally illegible. Edit it into your question."},{"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"score":0,"creation_date":1698785882,"post_id":77392351,"comment_id":136449249,"body_markdown":"Question updated","body":"Question updated"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698795330,"post_id":77392351,"comment_id":136450227,"body_markdown":"Unless you have forgotten to include it again, that log shows that the client didn&#39;t send a certificate. That means that either it doesn&#39;t have one at all, or it doesn&#39;t have one that matches what the server specified in the `CertificateRequest`: which in turn would support the contention that the server&#39;s truststore wasn&#39;t updated.","body":"Unless you have forgotten to include it again, that log shows that the client didn&#39;t send a certificate. That means that either it doesn&#39;t have one at all, or it doesn&#39;t have one that matches what the server specified in the <code>CertificateRequest</code>: which in turn would support the contention that the server&#39;s truststore wasn&#39;t updated."},{"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"score":0,"creation_date":1698795437,"post_id":77392351,"comment_id":136450240,"body_markdown":"But, if this is the case then how it&#39;s working with jdk 11. As it works fine when I start the server with JDK 11 and fails when I start the same server with JDK 17.","body":"But, if this is the case then how it&#39;s working with jdk 11. As it works fine when I start the server with JDK 11 and fails when I start the same server with JDK 17."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698824285,"post_id":77392351,"comment_id":136452757,"body_markdown":"Because JDK 11 has a different default truststore. It would be instructive to compare the `Certificate Request` messages sent by both configurations.","body":"Because JDK 11 has a different default truststore. It would be instructive to compare the <code>Certificate Request</code> messages sent by both configurations."}],"owner":{"account_id":473623,"reputation":1305,"user_id":882837,"accept_rate":52,"display_name":"Wasif Kirmani"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1698965897,"creation_date":1698707619,"question_id":77392351,"body_markdown":"I have been trying to read a client certificate in a simple WebFilter. The code was working till JDK 11. But, when I tried to upgrade server to JDK 17 it has stopped reading the client request.  \r\n\r\nI am trying to read the client certificate provided in a request using following statement:\r\n\r\n    X509Certificate[] certificates = (X509Certificate[]) request.getAttribute(&quot;jakarta.servlet.request.X509Certificate&quot;);\r\n\r\nAs well as this (Working with JDK 11)\r\n\t\r\n    X509Certificate[] certificates = (X509Certificate[]) request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;);\r\n\r\nCurl request:\r\n\r\n    curl --cacert server-cert.pem --cert client-cert.pem --key client-key.pem https://localhost:8181/st/echo --insecure\r\n\r\n\r\nIt&#39;s retuning null with JDK 17: `request.getAttribute(&quot;jakarta.servlet.request.X509Certificate&quot;) `\r\nand here as well:\r\n`request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;) `\r\n\r\n\r\nI am using Server: \r\n\r\n - Payara 5 with \r\n - JDK 11 (Working)  \r\n - JDK 17 (Not Working)\r\n\r\n\r\nLogs for SSL, Handshake debugging:\r\n\r\n````\r\n[2023-10-31T07:20:51.257+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\r\n_ThreadID=94 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1698733251257] [levelValue: 1000] [[  \r\njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\r\n07:20:51.255 CET|CertificateRequest.java:635|Produced\r\nCertificateRequest handshake message ( &quot;CertificateRequest&quot;: {  \r\n&quot;certificate types&quot;: [ecdsa_sign, rsa_sign, dss_sign]   &quot;supported\r\nsignature algorithms&quot;: [ecdsa_secp256r1_sha256,\r\necdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448,\r\nrsa_pss_rsae_sha256, ] } )\r\njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\r\n07:20:51.256 CET|ServerHelloDone.java:97|Produced ServerHelloDone\r\nhandshake message ( &lt;empty&gt; ) ]]\r\n.........\r\n\r\n[2023-10-31T07:20:51.268+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\r\n_ThreadID=96 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1698733251268] [levelValue: 1000] [[  \r\njavax.net.ssl|DEBUG|06|http-thread-pool::http-listener-2(3)|2023-10-31\r\n07:20:51.268 CET|Finished.java:459|Produced server Finished handshake\r\nmessage ( &quot;Finished&quot;: {   &quot;verify data&quot;: {\r\n    0000: F9 74 05 86 F7 A5 08 9E   75 49 F0 09    }&#39;} ) ]]\r\n\r\n[2023-10-31T07:20:51.274+0100] [Payara 5.2022.4] [INFO] [] [] [tid:\r\n_ThreadID=98 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1698733251274] [levelValue: 800] [[   No client\r\ncertificate found in the request.]]\r\n \r\n[2023-10-31T07:20:51.277+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\r\n_ThreadID=94 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1698733251277] [levelValue: 1000] [[  \r\njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\r\n07:20:51.277 CET|Alert.java:238|Received alert message ( &quot;Alert&quot;: {  \r\n&quot;level&quot;      : &quot;warning&quot;,   &quot;description&quot;: &quot;close_notify&quot; } )\r\n````\r\n","title":"Problem reading client certificate in JDK 17","body":"<p>I have been trying to read a client certificate in a simple WebFilter. The code was working till JDK 11. But, when I tried to upgrade server to JDK 17 it has stopped reading the client request.</p>\n<p>I am trying to read the client certificate provided in a request using following statement:</p>\n<pre><code>X509Certificate[] certificates = (X509Certificate[]) request.getAttribute(&quot;jakarta.servlet.request.X509Certificate&quot;);\n</code></pre>\n<p>As well as this (Working with JDK 11)</p>\n<pre><code>X509Certificate[] certificates = (X509Certificate[]) request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;);\n</code></pre>\n<p>Curl request:</p>\n<pre><code>curl --cacert server-cert.pem --cert client-cert.pem --key client-key.pem https://localhost:8181/st/echo --insecure\n</code></pre>\n<p>It's retuning null with JDK 17: <code>request.getAttribute(&quot;jakarta.servlet.request.X509Certificate&quot;) </code>\nand here as well:\n<code>request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;) </code></p>\n<p>I am using Server:</p>\n<ul>\n<li>Payara 5 with</li>\n<li>JDK 11 (Working)</li>\n<li>JDK 17 (Not Working)</li>\n</ul>\n<p>Logs for SSL, Handshake debugging:</p>\n<pre><code>[2023-10-31T07:20:51.257+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\n_ThreadID=94 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1698733251257] [levelValue: 1000] [[  \njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\n07:20:51.255 CET|CertificateRequest.java:635|Produced\nCertificateRequest handshake message ( &quot;CertificateRequest&quot;: {  \n&quot;certificate types&quot;: [ecdsa_sign, rsa_sign, dss_sign]   &quot;supported\nsignature algorithms&quot;: [ecdsa_secp256r1_sha256,\necdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, ed25519, ed448,\nrsa_pss_rsae_sha256, ] } )\njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\n07:20:51.256 CET|ServerHelloDone.java:97|Produced ServerHelloDone\nhandshake message ( &lt;empty&gt; ) ]]\n.........\n\n[2023-10-31T07:20:51.268+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\n_ThreadID=96 _ThreadName=http-thread-pool::http-listener-2(3)] [timeMillis: 1698733251268] [levelValue: 1000] [[  \njavax.net.ssl|DEBUG|06|http-thread-pool::http-listener-2(3)|2023-10-31\n07:20:51.268 CET|Finished.java:459|Produced server Finished handshake\nmessage ( &quot;Finished&quot;: {   &quot;verify data&quot;: {\n    0000: F9 74 05 86 F7 A5 08 9E   75 49 F0 09    }'} ) ]]\n\n[2023-10-31T07:20:51.274+0100] [Payara 5.2022.4] [INFO] [] [] [tid:\n_ThreadID=98 _ThreadName=http-thread-pool::http-listener-2(5)] [timeMillis: 1698733251274] [levelValue: 800] [[   No client\ncertificate found in the request.]]\n \n[2023-10-31T07:20:51.277+0100] [Payara 5.2022.4] [SEVERE] [] [] [tid:\n_ThreadID=94 _ThreadName=http-thread-pool::http-listener-2(1)] [timeMillis: 1698733251277] [levelValue: 1000] [[  \njavax.net.ssl|DEBUG|E5|http-thread-pool::http-listener-2(1)|2023-10-31\n07:20:51.277 CET|Alert.java:238|Received alert message ( &quot;Alert&quot;: {  \n&quot;level&quot;      : &quot;warning&quot;,   &quot;description&quot;: &quot;close_notify&quot; } )\n</code></pre>\n"},{"tags":["java","android","kotlin","compiler-warnings","deoptimization"],"answers":[{"comments":[{"owner":{"account_id":27130748,"reputation":75,"user_id":21127052,"display_name":"Harmony Valley"},"score":0,"creation_date":1679923124,"post_id":75831084,"comment_id":133802715,"body_markdown":"thank you. with this option I can&#39;t run the code, I get this error: &quot;Caused by: org.jetbrains.kotlin.gradle.tasks.CompilationErrorException: Compilation error. See log for more details&quot;. do you know where that log is?","body":"thank you. with this option I can&#39;t run the code, I get this error: &quot;Caused by: org.jetbrains.kotlin.gradle.tasks.CompilationErrorException: Compilation error. See log for more details&quot;. do you know where that log is?"}],"tags":[],"owner":{"account_id":23295761,"reputation":7,"user_id":17377194,"display_name":"Osam Alek"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1679643972,"creation_date":1679643942,"answer_id":75831084,"question_id":75808805,"body_markdown":"It looks like you‚Äôre getting warnings when building your Kotlin Android app. These warnings are not errors and they won‚Äôt make your app crash. However, it‚Äôs still a good idea to address them as they might indicate potential issues with your code.\r\n\r\nOne way to address these warnings is to make the Kotlin compiler treat warnings as errors. You can do this by adding the following code inside the allprojects block of your project-level build.gradle file:\r\n\r\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\r\n    kotlinOptions.allWarningsAsErrors = true\r\n}","title":"what is a deoptimization request on un-deoptimizable method in Android Studio?","body":"<p>It looks like you‚Äôre getting warnings when building your Kotlin Android app. These warnings are not errors and they won‚Äôt make your app crash. However, it‚Äôs still a good idea to address them as they might indicate potential issues with your code.</p>\n<p>One way to address these warnings is to make the Kotlin compiler treat warnings as errors. You can do this by adding the following code inside the allprojects block of your project-level build.gradle file:</p>\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\nkotlinOptions.allWarningsAsErrors = true\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":15672177,"reputation":190,"user_id":12028160,"display_name":"Alan Mejia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698965499,"creation_date":1698965499,"answer_id":77413306,"question_id":75808805,"body_markdown":"I had a similar issue, the logcat used to print a bunch of warnings with the message: \r\n\r\n&gt; Got a deoptimization request on un-deoptimizable method boolean\r\n&gt; libcore.io.Linux.access\r\n\r\nThat happened when I was trying to debug a few function calls using the debugger, and every time I launched the debugger the app was very slow and the logcat had a bunch of warnings saying the same, so I removed all the breakpoints, and it worked fine, I had like 7 breakpoints in different files and android studio was showing warnings that weren&#39;t part of the code and the emulator was unresponsive\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/7daZJ.png","title":"what is a deoptimization request on un-deoptimizable method in Android Studio?","body":"<p>I had a similar issue, the logcat used to print a bunch of warnings with the message:</p>\n<blockquote>\n<p>Got a deoptimization request on un-deoptimizable method boolean\nlibcore.io.Linux.access</p>\n</blockquote>\n<p>That happened when I was trying to debug a few function calls using the debugger, and every time I launched the debugger the app was very slow and the logcat had a bunch of warnings saying the same, so I removed all the breakpoints, and it worked fine, I had like 7 breakpoints in different files and android studio was showing warnings that weren't part of the code and the emulator was unresponsive</p>\n<p><a href=\"https://i.stack.imgur.com/7daZJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7daZJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27130748,"reputation":75,"user_id":21127052,"display_name":"Harmony Valley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1463,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1698965499,"creation_date":1679464267,"question_id":75808805,"body_markdown":"I&#39;m running my app in Kotlin and there is no error, but I keep getting these warnings:\r\n\r\n\r\n&gt; W/app: Got a deoptimization request on un-deoptimizable method boolean\r\n&gt; libcore.io.Linux.access(java.lang.String, int) W/app: Got a\r\n&gt; deoptimization request on un-deoptimizable method java.lang.Class\r\n&gt; java.lang.Class.classForName(java.lang.String, boolean,\r\n&gt; java.lang.ClassLoader) W/app: Got a deoptimization request on\r\n&gt; un-deoptimizable method boolean\r\n&gt; libcore.io.Linux.access(java.lang.String, int)\r\n\r\nI wonder if this is something that will make my app crash in the future and if there is anything I could do to avoid it.","title":"what is a deoptimization request on un-deoptimizable method in Android Studio?","body":"<p>I'm running my app in Kotlin and there is no error, but I keep getting these warnings:</p>\n<blockquote>\n<p>W/app: Got a deoptimization request on un-deoptimizable method boolean\nlibcore.io.Linux.access(java.lang.String, int) W/app: Got a\ndeoptimization request on un-deoptimizable method java.lang.Class\njava.lang.Class.classForName(java.lang.String, boolean,\njava.lang.ClassLoader) W/app: Got a deoptimization request on\nun-deoptimizable method boolean\nlibcore.io.Linux.access(java.lang.String, int)</p>\n</blockquote>\n<p>I wonder if this is something that will make my app crash in the future and if there is anything I could do to avoid it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1698957921,"post_id":77412771,"comment_id":136474015,"body_markdown":"It *is* detected; the compiler issues a *warning* of an unsafe cast, not an error.","body":"It <i>is</i> detected; the compiler issues a <i>warning</i> of an unsafe cast, not an error."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1698957975,"post_id":77412771,"comment_id":136474028,"body_markdown":"Although it looks trivial in this situation, the right-hand side of the cast operator could&#39;ve come from an `if` statement, or some other function call, or user input, or anything really, and it&#39;s impossible to statically check the safety of casts in general.","body":"Although it looks trivial in this situation, the right-hand side of the cast operator could&#39;ve come from an <code>if</code> statement, or some other function call, or user input, or anything really, and it&#39;s impossible to statically check the safety of casts in general."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1698959733,"post_id":77412771,"comment_id":136474276,"body_markdown":"@Reilas No you didn‚Äôt. That‚Äôs a runtime exception, not a compiler error.","body":"@Reilas No you didn‚Äôt. That‚Äôs a runtime exception, not a compiler error."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1698965378,"post_id":77412771,"comment_id":136475008,"body_markdown":"@user207421, that&#39;s a nuance, at this point.","body":"@user207421, that&#39;s a nuance, at this point."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699213653,"post_id":77412771,"comment_id":136500321,"body_markdown":"@Reilas No it isn‚Äôt, it is a basic misunderstanding on your part. That distinction is what the question is about.","body":"@Reilas No it isn‚Äôt, it is a basic misunderstanding on your part. That distinction is what the question is about."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698965417,"creation_date":1698965417,"answer_id":77413299,"question_id":77412771,"body_markdown":"Writing `(String[]) new Object[10]` is not a compile error because the Java language specification defines it that way in [5.5.1. Reference Type Casting](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.1):\r\n\r\n&gt; Given a compile-time reference type S (source) and a compile-time reference type T (target), a casting conversion exists from S to T if no compile-time errors occur due to the following rules.\r\n&gt; \r\n&gt; [...]\r\n&gt;\r\n&gt; If S is an array type SC[], that is, an array of components of type SC:\r\n&gt;\r\n&gt; [...]\r\n&gt;\r\n&gt; * If T is an array type TC[], that is, an array of components of type TC, then a compile-time error occurs unless one of the following is true:\r\n&gt;\r\n&gt;   * [...]\r\n&gt;   * TC and SC are reference types and type SC can undergo casting conversion to TC.\r\n\r\nIn this case, the cast from the type `Object[]` to `String[]` (as in `SC[]` to `TC[]`) is not a compile error because the cast from `Object` to `String` (as in `SC` to `TC`) is not a compile error. This rule allows code like this:\r\n\r\n    Object[] s = new String[10];\r\n    String[] test = (String[])s;\r\n\r\nThis will not result in a compile error due to the definition above AND will not result in a `ClassCastException` because the variable `s` is referencing a `String[]` array. However, the following code\r\n\r\n    Object[] s = new Integer[10];\r\n    String[] test = (String[])s;\r\n\r\ncan still be compiled (due to the rules above), but will result in a `ClassCastException` as expected.","title":"Why does the compiler not detect ClassCastException?","body":"<p>Writing <code>(String[]) new Object[10]</code> is not a compile error because the Java language specification defines it that way in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.1\" rel=\"nofollow noreferrer\">5.5.1. Reference Type Casting</a>:</p>\n<blockquote>\n<p>Given a compile-time reference type S (source) and a compile-time reference type T (target), a casting conversion exists from S to T if no compile-time errors occur due to the following rules.</p>\n<p>[...]</p>\n<p>If S is an array type SC[], that is, an array of components of type SC:</p>\n<p>[...]</p>\n<ul>\n<li><p>If T is an array type TC[], that is, an array of components of type TC, then a compile-time error occurs unless one of the following is true:</p>\n<ul>\n<li>[...]</li>\n<li>TC and SC are reference types and type SC can undergo casting conversion to TC.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>In this case, the cast from the type <code>Object[]</code> to <code>String[]</code> (as in <code>SC[]</code> to <code>TC[]</code>) is not a compile error because the cast from <code>Object</code> to <code>String</code> (as in <code>SC</code> to <code>TC</code>) is not a compile error. This rule allows code like this:</p>\n<pre><code>Object[] s = new String[10];\nString[] test = (String[])s;\n</code></pre>\n<p>This will not result in a compile error due to the definition above AND will not result in a <code>ClassCastException</code> because the variable <code>s</code> is referencing a <code>String[]</code> array. However, the following code</p>\n<pre><code>Object[] s = new Integer[10];\nString[] test = (String[])s;\n</code></pre>\n<p>can still be compiled (due to the rules above), but will result in a <code>ClassCastException</code> as expected.</p>\n"}],"owner":{"account_id":23674217,"reputation":3,"user_id":17700638,"display_name":"K6J4"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698965417,"creation_date":1698957692,"question_id":77412771,"body_markdown":"I know that in runtime something like this could throw a ClassCastException because Object is not a subclass of String.\r\n\r\n    String[] test = (String[]) new Object[10];\r\n\t\r\nBut I want to know why something like this is not detected when compiling?","title":"Why does the compiler not detect ClassCastException?","body":"<p>I know that in runtime something like this could throw a ClassCastException because Object is not a subclass of String.</p>\n<pre><code>String[] test = (String[]) new Object[10];\n</code></pre>\n<p>But I want to know why something like this is not detected when compiling?</p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":7,"creation_date":1656925875,"post_id":72854254,"comment_id":128681384,"body_markdown":"Is there a particular reason to use streams for this? Just because you can use streams doesn&#39;t mean it is the right tool for the job everywhere.","body":"Is there a particular reason to use streams for this? Just because you can use streams doesn&#39;t mean it is the right tool for the job everywhere."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1656926854,"post_id":72854254,"comment_id":128681764,"body_markdown":"As @MarkRotteveel has already pointed out, streams are not the right tool for everything. The way you&#39;re trying to utilize stream is discouraged by the [*API documentation*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects).","body":"As @MarkRotteveel has already pointed out, streams are not the right tool for everything. The way you&#39;re trying to utilize stream is discouraged by the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\"><i>API documentation</i></a>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1656927036,"post_id":72854254,"comment_id":128681834,"body_markdown":"And even your imperative code looks a bit fishy. Do you really want this line to be executed multiple times `heritableFlag = it.heritable;` ? Would it be the correct behavior when the flag changes multiple times?","body":"And even your imperative code looks a bit fishy. Do you really want this line to be executed multiple times <code>heritableFlag = it.heritable;</code> ? Would it be the correct behavior when the flag changes multiple times?"},{"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"score":1,"creation_date":1656927060,"post_id":72854254,"comment_id":128681844,"body_markdown":"ok, maybe I have tried hard enough to go down that path, not being the recommended one. thanks for your feedback :-)","body":"ok, maybe I have tried hard enough to go down that path, not being the recommended one. thanks for your feedback :-)"},{"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"score":0,"creation_date":1656927295,"post_id":72854254,"comment_id":128681927,"body_markdown":"yes, once it enters and it&#39;s false I don&#39;t want it to enter again. It could be done in a better way. Even so, the remaining iterations do nothing, it would be inefficient to keep going through the loop. Thank you very much :) @AlexanderIvanchenko","body":"yes, once it enters and it&#39;s false I don&#39;t want it to enter again. It could be done in a better way. Even so, the remaining iterations do nothing, it would be inefficient to keep going through the loop. Thank you very much :) @AlexanderIvanchenko"}],"answers":[{"tags":[],"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657092030,"creation_date":1657005638,"answer_id":72865425,"question_id":72854254,"body_markdown":"&quot;The results of the flow pipeline can be non-deterministic or incorrect if the behavior parameters of the flow operations are stateful.&quot;\r\n\r\n&quot;Most stream operations accept parameters that describe user-specified behavior, which are often lambda expressions. To preserve correct behavior, these behavior parameters should not interfere, and in most cases should be stateless. Such parameters are always instances of a functional interface such as Function, and are often lambda expressions or method references&quot;.\r\n\r\nI leave this in case someone needs it!\r\n\r\n\r\nan approximation to stop when a certain condition is met, it offers us is **takeWhile**\r\n\r\n```\r\n List&lt;String&gt; partsList = Arrays.asList(parts);\r\n        partsList = partsList.stream().filter((a-&gt;a.startsWith(&quot;OU&quot;))).map(s-&gt;s.substring(3)).collect(Collectors.toList());\r\n        List&lt;String&gt; finalPartsList1 = partsList;\r\n        listOUallowedByUser = allowedOU.stream().takeWhile(allowed -&gt; allowed.heritable).filter(f-&gt; finalPartsList1.contains(f.OU)).map(a-&gt; a.OU).collect(Collectors.toList());;\r\n```\r\n        \r\n\r\nthanks for mark-rotteveel and alexander-ivanchenko :-)","title":"Iterate with streams (with a flag in for) [keep state within lambda]","body":"<p>&quot;The results of the flow pipeline can be non-deterministic or incorrect if the behavior parameters of the flow operations are stateful.&quot;</p>\n<p>&quot;Most stream operations accept parameters that describe user-specified behavior, which are often lambda expressions. To preserve correct behavior, these behavior parameters should not interfere, and in most cases should be stateless. Such parameters are always instances of a functional interface such as Function, and are often lambda expressions or method references&quot;.</p>\n<p>I leave this in case someone needs it!</p>\n<p>an approximation to stop when a certain condition is met, it offers us is <strong>takeWhile</strong></p>\n<pre><code> List&lt;String&gt; partsList = Arrays.asList(parts);\n        partsList = partsList.stream().filter((a-&gt;a.startsWith(&quot;OU&quot;))).map(s-&gt;s.substring(3)).collect(Collectors.toList());\n        List&lt;String&gt; finalPartsList1 = partsList;\n        listOUallowedByUser = allowedOU.stream().takeWhile(allowed -&gt; allowed.heritable).filter(f-&gt; finalPartsList1.contains(f.OU)).map(a-&gt; a.OU).collect(Collectors.toList());;\n</code></pre>\n<p>thanks for mark-rotteveel and alexander-ivanchenko :-)</p>\n"},{"tags":[],"owner":{"account_id":29792729,"reputation":1,"user_id":22832538,"display_name":"user22832538"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698964938,"creation_date":1698739113,"answer_id":77394139,"question_id":72854254,"body_markdown":"I am using stateful Map iterator like the below supporting two states, easily extendable to support more state, just change to Iterable if you need for List instead of Map.  State is a simple class with one instance variable. (I am sure there is a lib out there containing sth similar...)\r\n\r\n    public class StatefulMapIterator &lt;K,V,T extends Map&lt;K,V&gt;, S1, S2&gt; {\r\n\tprivate State&lt;S1&gt; state1;\r\n\tprivate State&lt;S2&gt; state2;\r\n\t\r\n\tpublic interface Processor1&lt;K,V,S1&gt; {\r\n\t\tvoid onIteration(K key, V value, State&lt;S1&gt; state1);\r\n\t}\r\n\tpublic interface Processor2&lt;K,V,S1,S2&gt; {\r\n\t\tvoid onIteration(K key, V value, State&lt;S1&gt; state1, State&lt;S2&gt; state2);\r\n\t}\t\r\n\tpublic StatefulMapIterator(S1 state) {\r\n\t\tthis.state1 = new State&lt;S1&gt;(state);\r\n\t}\t\r\n\tpublic StatefulMapIterator(S1 state1, S2 state2) {\r\n\t\tthis.state1 = new State&lt;S1&gt;(state1);\r\n\t\tthis.state2 = new State&lt;S2&gt;(state2);\r\n\t}\r\n\t\t\r\n\tpublic void foreach(T t, Processor1&lt;K,V,S1&gt; processor) {\r\n\t\tt.forEach((k,v) -&gt; {\r\n\t\t\tprocessor.onIteration(k,v, state1);\r\n\t\t});\r\n\t}\r\n\tpublic void foreach(T t, Processor2&lt;K,V,S1,S2&gt; processor) {\r\n\t\tt.forEach((k,v) -&gt; {\r\n\t\t\tprocessor.onIteration(k,v, state1, state2);\r\n\t\t});\r\n\t}\r\n    }\r\n","title":"Iterate with streams (with a flag in for) [keep state within lambda]","body":"<p>I am using stateful Map iterator like the below supporting two states, easily extendable to support more state, just change to Iterable if you need for List instead of Map.  State is a simple class with one instance variable. (I am sure there is a lib out there containing sth similar...)</p>\n<pre><code>public class StatefulMapIterator &lt;K,V,T extends Map&lt;K,V&gt;, S1, S2&gt; {\nprivate State&lt;S1&gt; state1;\nprivate State&lt;S2&gt; state2;\n\npublic interface Processor1&lt;K,V,S1&gt; {\n    void onIteration(K key, V value, State&lt;S1&gt; state1);\n}\npublic interface Processor2&lt;K,V,S1,S2&gt; {\n    void onIteration(K key, V value, State&lt;S1&gt; state1, State&lt;S2&gt; state2);\n}   \npublic StatefulMapIterator(S1 state) {\n    this.state1 = new State&lt;S1&gt;(state);\n}   \npublic StatefulMapIterator(S1 state1, S2 state2) {\n    this.state1 = new State&lt;S1&gt;(state1);\n    this.state2 = new State&lt;S2&gt;(state2);\n}\n    \npublic void foreach(T t, Processor1&lt;K,V,S1&gt; processor) {\n    t.forEach((k,v) -&gt; {\n        processor.onIteration(k,v, state1);\n    });\n}\npublic void foreach(T t, Processor2&lt;K,V,S1,S2&gt; processor) {\n    t.forEach((k,v) -&gt; {\n        processor.onIteration(k,v, state1, state2);\n    });\n}\n}\n</code></pre>\n"}],"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698965160,"creation_date":1656925603,"question_id":72854254,"body_markdown":"I have two lists, allowedOU and parts. I need to know how to iterate through streams, check the condition and if it is true, include the element in a third list, and change the flag (heritable).\r\n\r\n\r\n```java\r\nfor (String part : parts) {\r\n    for (BeanOU it : allowedOU) {\r\n        if (part.startsWith(&quot;OU&quot;) &amp;&amp; it.OU.equals(part.substring(3) &amp;&amp; heritableFlag) {\r\n            list.add(part.substring(3, part.length()));\r\n            heritableFlag = it.heritable;\r\n            break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried something like this\r\n\r\n```\r\nparts.stream()\r\n        .filter(parte -&gt; allowedOU.stream()\r\n                .anyMatch(allowed -&gt; (parte.startsWith(&quot;OU&quot;)) \r\n                        &amp;&amp; allowed.OU.equals(parte.substring(3, parte.length())) \r\n                 &amp;&amp; finalHeritableFlag))\r\n        .forEach(here we don&#39;t have it variable...)\r\n```\r\n\r\n\r\n        ","title":"Iterate with streams (with a flag in for) [keep state within lambda]","body":"<p>I have two lists, allowedOU and parts. I need to know how to iterate through streams, check the condition and if it is true, include the element in a third list, and change the flag (heritable).</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (String part : parts) {\n    for (BeanOU it : allowedOU) {\n        if (part.startsWith(&quot;OU&quot;) &amp;&amp; it.OU.equals(part.substring(3) &amp;&amp; heritableFlag) {\n            list.add(part.substring(3, part.length()));\n            heritableFlag = it.heritable;\n            break;\n        }\n    }\n}\n</code></pre>\n<p>I tried something like this</p>\n<pre><code>parts.stream()\n        .filter(parte -&gt; allowedOU.stream()\n                .anyMatch(allowed -&gt; (parte.startsWith(&quot;OU&quot;)) \n                        &amp;&amp; allowed.OU.equals(parte.substring(3, parte.length())) \n                 &amp;&amp; finalHeritableFlag))\n        .forEach(here we don't have it variable...)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","liquibase","testcontainers"],"owner":{"account_id":16223432,"reputation":3,"user_id":11714437,"display_name":"leugimlenipse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698963229,"creation_date":1698963229,"question_id":77413168,"body_markdown":"I&#39;m working on adding integration tests to an existing Spring Boot project, and for that we have a test db on a docker container (initialized before running the tests). \r\n\r\nSince the development db may change from time to time (new tables, views, etc...) the test db should have the same structure for obvious reasons. I&#39;m recreating the test db using a Liquibase changelog generated with the generateChangeLog command (manually).\r\n\r\nSo, what i&#39;m thinking of is to generate a diff changelog between the development db and the test db and apply the necessary changes to the test db before running the tests, but i haven&#39;t found any information from liquibase regarding these kinds of procedures. Are the diff changelogs always created manually?\r\n\r\nWhat would be the best way to do this? I&#39;m thinking on creating a method to run the diff-changelog command and update the test db right before running the tests, and therefore &quot;automating&quot; the procedure.","title":"Liquibase - Generate diff changelog between real and test database in spring boot","body":"<p>I'm working on adding integration tests to an existing Spring Boot project, and for that we have a test db on a docker container (initialized before running the tests).</p>\n<p>Since the development db may change from time to time (new tables, views, etc...) the test db should have the same structure for obvious reasons. I'm recreating the test db using a Liquibase changelog generated with the generateChangeLog command (manually).</p>\n<p>So, what i'm thinking of is to generate a diff changelog between the development db and the test db and apply the necessary changes to the test db before running the tests, but i haven't found any information from liquibase regarding these kinds of procedures. Are the diff changelogs always created manually?</p>\n<p>What would be the best way to do this? I'm thinking on creating a method to run the diff-changelog command and update the test db right before running the tests, and therefore &quot;automating&quot; the procedure.</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484777094,"creation_date":1484777094,"answer_id":41730283,"question_id":41730191,"body_markdown":"Relative paths work relative to the current working directory.  Maven does not set it, so it is inherited from whatever value it had in the Java process your code is executing in.\r\n\r\nThe only reliable way is to figure it out in your own code.    Depending on how you do things, there are several ways to do so.  See https://stackoverflow.com/q/4032957/53897 for suggestions.  You are most likely looking at `this.getClass().getProtectionDomain().getCodeSource().getLocation()` and then you know where the class file is and can navigate relative to that.","title":"Using relative path in a maven project","body":"<p>Relative paths work relative to the current working directory.  Maven does not set it, so it is inherited from whatever value it had in the Java process your code is executing in.</p>\n\n<p>The only reliable way is to figure it out in your own code.    Depending on how you do things, there are several ways to do so.  See <a href=\"https://stackoverflow.com/q/4032957/53897\">How to get the real path of Java application at runtime?</a> for suggestions.  You are most likely looking at <code>this.getClass().getProtectionDomain().getCodeSource().getLocation()</code> and then you know where the class file is and can navigate relative to that.</p>\n"},{"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1484777610,"post_id":41730304,"comment_id":70655250,"body_markdown":"@Thorbj&#248;rnRavnAndersen you&#39;re right, I mixed it up with `getResource()`","body":"@Thorbj&#248;rnRavnAndersen you&#39;re right, I mixed it up with <code>getResource()</code>"}],"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484778051,"creation_date":1484777211,"answer_id":41730304,"question_id":41730191,"body_markdown":"&gt; Why does it report &quot;No such file or dirctory&quot;? The relative path should work. Right?\r\n\r\nwrong.\r\n\r\nYour classes are compiled to `$PROJECT_ROOT/target/classes`\r\nand your resources are copied to the same folder keeping their relative paths *below* `src/main/resources`.\r\n\r\n&lt;strike&gt; \r\nThe file will be located relative to the *classpath* of which the root is `$PROJECT_ROOT/target/classes`. Therefore you have to write in your Pdf.java:\r\n\r\n    File file = new File(&quot;/files/x.pdf&quot;);\r\n&lt;/strike&gt; \r\n\r\nYour relative path will be evaluated from the projects *current working directory* which is `$PROJECT_ROOT` (AFAIR).\r\n\r\nBut it does not matter because you want that to work in your final application and not only in your build environment. Therefore you should access the file with `getClass().getResource(&quot;/path/to/file/within/classpath&quot;)` which searches the file in the *class path*   of which the root is `$PROJECT_ROOT/target/classes`.","title":"Using relative path in a maven project","body":"<blockquote>\n  <p>Why does it report \"No such file or dirctory\"? The relative path should work. Right?</p>\n</blockquote>\n\n<p>wrong.</p>\n\n<p>Your classes are compiled to <code>$PROJECT_ROOT/target/classes</code>\nand your resources are copied to the same folder keeping their relative paths <em>below</em> <code>src/main/resources</code>.</p>\n\n<p><strike> \nThe file will be located relative to the <em>classpath</em> of which the root is <code>$PROJECT_ROOT/target/classes</code>. Therefore you have to write in your Pdf.java:</p>\n\n<pre><code>File file = new File(\"/files/x.pdf\");\n</code></pre>\n\n<p></strike> </p>\n\n<p>Your relative path will be evaluated from the projects <em>current working directory</em> which is <code>$PROJECT_ROOT</code> (AFAIR).</p>\n\n<p>But it does not matter because you want that to work in your final application and not only in your build environment. Therefore you should access the file with <code>getClass().getResource(\"/path/to/file/within/classpath\")</code> which searches the file in the <em>class path</em>   of which the root is <code>$PROJECT_ROOT/target/classes</code>.</p>\n"},{"tags":[],"owner":{"account_id":263358,"reputation":253,"user_id":3358586,"display_name":"Nord"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484780316,"creation_date":1484779767,"answer_id":41730870,"question_id":41730191,"body_markdown":"No the way you are referencing the files is according to your file system. Java knows about the classpath not the file system if you want to reference something like that you have to use the fully qualified name of the file. \r\nAlso I do not know if File constructor works with the classpath since it&#39;s an abstraction to manage the file system it will depend where the application is run from. Say it is run from the target directory at the same level as source in that case you have to go one directory up and then on src then test the resources the files and finally in x.pdf. \r\n\r\nSince you are using a resources folder I think you want the file to be on the classpath and then you can load a resource with:\r\n\r\n    InputStream in = this.getClass().getClassLoader()\r\n                                .getResourceAsStream(&quot;&lt;path in classpath&gt;&quot;);\r\n\r\nThen you can create a FileInputStream or something to wrap around the file. Otherwise use the fully qualiefied name and put it somewere like /home/{user}/files/x.pdf.\r\n","title":"Using relative path in a maven project","body":"<p>No the way you are referencing the files is according to your file system. Java knows about the classpath not the file system if you want to reference something like that you have to use the fully qualified name of the file. \nAlso I do not know if File constructor works with the classpath since it's an abstraction to manage the file system it will depend where the application is run from. Say it is run from the target directory at the same level as source in that case you have to go one directory up and then on src then test the resources the files and finally in x.pdf. </p>\n\n<p>Since you are using a resources folder I think you want the file to be on the classpath and then you can load a resource with:</p>\n\n<pre><code>InputStream in = this.getClass().getClassLoader()\n                            .getResourceAsStream(\"&lt;path in classpath&gt;\");\n</code></pre>\n\n<p>Then you can create a FileInputStream or something to wrap around the file. Otherwise use the fully qualiefied name and put it somewere like /home/{user}/files/x.pdf.</p>\n"}],"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698962710,"creation_date":1484776614,"question_id":41730191,"body_markdown":"I have a maven project with these standard directory structures:\r\n\r\nsrc/main/java\r\n\r\nsrc/main/java/pdf/Pdf.java\r\n\r\nsrc/test/resources\r\n\r\nsrc/test/resources/files/x.pdf\r\n\r\nIn my Pdf.java, \r\n\t\r\n    File file = new File(&quot;../../../test/resources/files/x.pdf&quot;);\r\n\r\nWhy does it report &quot;No such file or dirctory&quot;? The relative path should work. Right?","title":"Using relative path in a maven project","body":"<p>I have a maven project with these standard directory structures:</p>\n\n<p>src/main/java</p>\n\n<p>src/main/java/pdf/Pdf.java</p>\n\n<p>src/test/resources</p>\n\n<p>src/test/resources/files/x.pdf</p>\n\n<p>In my Pdf.java, </p>\n\n<pre><code>File file = new File(\"../../../test/resources/files/x.pdf\");\n</code></pre>\n\n<p>Why does it report \"No such file or dirctory\"? The relative path should work. Right?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-webtestclient"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1696846877,"post_id":77258014,"comment_id":136200709,"body_markdown":"You are probably sending some Request Type when you are using a REST Client or from the Browser, however you need to be very meticulous when you are doing the rest on the TEST side, it needs to match what you are doing on the REST Client to receive the same errors.\n\nYou are missing something, and that is why you are hitting this org.springframework.web.server.MissingRequestValueException error first.  \n\nIts because it has not had a chance to reach the other possible errors you have in your advise controller.","body":"You are probably sending some Request Type when you are using a REST Client or from the Browser, however you need to be very meticulous when you are doing the rest on the TEST side, it needs to match what you are doing on the REST Client to receive the same errors.  You are missing something, and that is why you are hitting this org.springframework.web.server.MissingRequestValueException error first.    Its because it has not had a chance to reach the other possible errors you have in your advise controller."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696853026,"post_id":77258014,"comment_id":136201898,"body_markdown":"Actually, Flux is throwing that error: org.springframework.web.server.MissingRequestValueException","body":"Actually, Flux is throwing that error: org.springframework.web.server.MissingRequestValueException"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696853097,"post_id":77258014,"comment_id":136201908,"body_markdown":"Can you provide some codebase sample to reproduce and test some scenarios if possible?","body":"Can you provide some codebase sample to reproduce and test some scenarios if possible?"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1696861624,"post_id":77258014,"comment_id":136203707,"body_markdown":"`@webFluxTest` might create a restricted application context, without the controller advice. Does the problem persist when replacing `@webFluxTest` with `@SpringBootTest` ? If it does, and you still want to use webfluxTest, then maybe you have to find a way to embed the controller advice in the test","body":"<code>@webFluxTest</code> might create a restricted application context, without the controller advice. Does the problem persist when replacing <code>@webFluxTest</code> with <code>@SpringBootTest</code> ? If it does, and you still want to use webfluxTest, then maybe you have to find a way to embed the controller advice in the test"}],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698962492,"creation_date":1696846613,"question_id":77258014,"body_markdown":"I have a controller which has a GET mapping with a couple of request params and a request header. Something like this \r\n\r\n    @GetMapping\r\n    public Mono&lt;Response&gt; getAll(@RequestParam(&quot;someId&quot;) String someId,\r\n                                 @RequestParam(&quot;someOtherId&quot;) String someOtherId,\r\n                                 @RequestHeader(SOME_TOKEN) String someToken) { }\r\n\r\nI have a controller advice where I am catching exceptions and sending customized messages and http codes back. \r\nI noticed that when I call from web(or via some rest client), if any of the request params or header is missing, following exceptions are thrown,\r\n\r\n    org.springframework.web.bind.MissingServletRequestParameterException\r\n    org.springframework.web.bind.MissingRequestHeaderException\r\n\r\nIn my unit tests I am using \r\n\r\n    @WebFluxTest(controllers = MyController.class)\r\n\r\nand \r\n\r\n    @Autowired\r\n    private WebTestClient webClient;\r\n\r\nWhen I try calling the endpoint without required param or header, I get the folowwing exception\r\n\r\n    org.springframework.web.server.MissingRequestValueException\r\n\r\nBecause of this my `@ExceptionHandlers` in Controller advices are not triggered.  \r\nIs this a mistake or am I missing something here. \r\n\r\nShouldn&#39;t spring throw the same exception irrespective of where the call is coming from? If that is not the case, we cannot really test controller advices.","title":"Spring Webflux throws different exception when called from Web and WebTestClient","body":"<p>I have a controller which has a GET mapping with a couple of request params and a request header. Something like this</p>\n<pre><code>@GetMapping\npublic Mono&lt;Response&gt; getAll(@RequestParam(&quot;someId&quot;) String someId,\n                             @RequestParam(&quot;someOtherId&quot;) String someOtherId,\n                             @RequestHeader(SOME_TOKEN) String someToken) { }\n</code></pre>\n<p>I have a controller advice where I am catching exceptions and sending customized messages and http codes back.\nI noticed that when I call from web(or via some rest client), if any of the request params or header is missing, following exceptions are thrown,</p>\n<pre><code>org.springframework.web.bind.MissingServletRequestParameterException\norg.springframework.web.bind.MissingRequestHeaderException\n</code></pre>\n<p>In my unit tests I am using</p>\n<pre><code>@WebFluxTest(controllers = MyController.class)\n</code></pre>\n<p>and</p>\n<pre><code>@Autowired\nprivate WebTestClient webClient;\n</code></pre>\n<p>When I try calling the endpoint without required param or header, I get the folowwing exception</p>\n<pre><code>org.springframework.web.server.MissingRequestValueException\n</code></pre>\n<p>Because of this my <code>@ExceptionHandlers</code> in Controller advices are not triggered.<br />\nIs this a mistake or am I missing something here.</p>\n<p>Shouldn't spring throw the same exception irrespective of where the call is coming from? If that is not the case, we cannot really test controller advices.</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1698875298,"post_id":77405308,"comment_id":136461715,"body_markdown":"What version of Java and what version of Gson? Also, why are you registering `LocalDateTime.class` if `LocalDate.class` is what you want to serialize?","body":"What version of Java and what version of Gson? Also, why are you registering <code>LocalDateTime.class</code> if <code>LocalDate.class</code> is what you want to serialize?"}],"answers":[{"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1698878149,"post_id":77405795,"comment_id":136462069,"body_markdown":"Instead of posting an answer which merely links to another answer, please instead [flag the question](/help/privileges/flag-posts) as a duplicate.","body":"Instead of posting an answer which merely links to another answer, please instead <a href=\"/help/privileges/flag-posts\">flag the question</a> as a duplicate."}],"tags":[],"owner":{"account_id":23204293,"reputation":66,"user_id":17298718,"display_name":"Mario Metushev"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698899183,"creation_date":1698875155,"answer_id":77405795,"question_id":77405308,"body_markdown":"Please see this post on stack overflow and related discussions there:\r\nhttps://stackoverflow.com/questions/73872389/java-lang-reflect-inaccessibleobjectexception-unable-to-make-field-private-fina/73872814#73872814\r\n\r\nIn your case, you would fix this problem by adding:\r\n\r\n    JAVA_TOOL_OPTIONS=--add-opens=java.base/java.time=ALL-UNNAMED","title":"Java LocalDate &amp; Gson serializer - InaccessibleObjectException","body":"<p>Please see this post on stack overflow and related discussions there:\n<a href=\"https://stackoverflow.com/questions/73872389/java-lang-reflect-inaccessibleobjectexception-unable-to-make-field-private-fina/73872814#73872814\">java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map sun.reflect.annotation.AnnotationInvocationHandler</a></p>\n<p>In your case, you would fix this problem by adding:</p>\n<pre><code>JAVA_TOOL_OPTIONS=--add-opens=java.base/java.time=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698961707,"creation_date":1698943994,"answer_id":77411498,"question_id":77405308,"body_markdown":"&gt; _&quot;... I&#39;m trying to make a JSon-String from a class that contains a LocalDate field, but I always get this error: ...&quot;_\r\n\r\nUse _LocalDate_ instead of _LocalDateTime_, for the _registerTypeAdapter_ method.\r\n\r\n```java\r\nregisterTypeAdapter(LocalDate.class, new GsonLocalDateAdapter())\r\n```","title":"Java LocalDate &amp; Gson serializer - InaccessibleObjectException","body":"<blockquote>\n<p><em>&quot;... I'm trying to make a JSon-String from a class that contains a LocalDate field, but I always get this error: ...&quot;</em></p>\n</blockquote>\n<p>Use <em>LocalDate</em> instead of <em>LocalDateTime</em>, for the <em>registerTypeAdapter</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>registerTypeAdapter(LocalDate.class, new GsonLocalDateAdapter())\n</code></pre>\n"}],"owner":{"account_id":21088679,"reputation":337,"user_id":15501126,"display_name":"Maxim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698961707,"creation_date":1698869065,"question_id":77405308,"body_markdown":"I&#39;m trying to make a JSon-String from a class that contains a LocalDate field, but I always get this error:\r\n\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @197ac685\r\n\r\nI already searched for this and apparently I should register a custom adapter, which I did:\r\n\r\n    public class GsonLocalDateAdapter implements JsonSerializer&lt;LocalDate&gt;, JsonDeserializer&lt;LocalDate&gt; {\r\n\r\n    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\r\n\r\n    @Override\r\n    public LocalDate deserialize(final JsonElement json, final Type typeOfT,\r\n                                 final JsonDeserializationContext context) throws JsonParseException {\r\n        return LocalDate.parse(json.getAsString(), formatter);\r\n    }\r\n\r\n    @Override\r\n    public JsonElement serialize(LocalDate src, Type typeOfSrc, JsonSerializationContext context) {\r\n        return new JsonPrimitive(src.format(formatter));\r\n    }\r\n    }\r\n\r\n    var gson = new GsonBuilder()\r\n                .registerTypeAdapter(LocalDateTime.class, new GsonLocalDateAdapter())\r\n                .create();\r\n        var json = gson.toJson(myObject);\r\n\r\nIt doesn&#39;t even hit the breakpoint in the serialize method.\r\nAm I missing something? ","title":"Java LocalDate &amp; Gson serializer - InaccessibleObjectException","body":"<p>I'm trying to make a JSon-String from a class that contains a LocalDate field, but I always get this error:</p>\n<pre><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @197ac685\n</code></pre>\n<p>I already searched for this and apparently I should register a custom adapter, which I did:</p>\n<pre><code>public class GsonLocalDateAdapter implements JsonSerializer&lt;LocalDate&gt;, JsonDeserializer&lt;LocalDate&gt; {\n\nprivate final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n\n\n@Override\npublic LocalDate deserialize(final JsonElement json, final Type typeOfT,\n                             final JsonDeserializationContext context) throws JsonParseException {\n    return LocalDate.parse(json.getAsString(), formatter);\n}\n\n@Override\npublic JsonElement serialize(LocalDate src, Type typeOfSrc, JsonSerializationContext context) {\n    return new JsonPrimitive(src.format(formatter));\n}\n}\n\nvar gson = new GsonBuilder()\n            .registerTypeAdapter(LocalDateTime.class, new GsonLocalDateAdapter())\n            .create();\n    var json = gson.toJson(myObject);\n</code></pre>\n<p>It doesn't even hit the breakpoint in the serialize method.\nAm I missing something?</p>\n"},{"tags":["java","class","methods","javadoc"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1698952062,"post_id":77412188,"comment_id":136473042,"body_markdown":"I personally wouldn&#39;t document the `main` method. Javadocs are for clients that will use the class. Is there even a point in documenting a class that looks like a self-contained exercise program?","body":"I personally wouldn&#39;t document the <code>main</code> method. Javadocs are for clients that will use the class. Is there even a point in documenting a class that looks like a self-contained exercise program?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698959918,"post_id":77412188,"comment_id":136474313,"body_markdown":"You should document `main()` like any other *method:* give the information that shows what it does and how to call it. Bearing in mind that the caller is a human with a command line, not another pice of code.","body":"You should document <code>main()</code> like any other <i>method:</i> give the information that shows what it does and how to call it. Bearing in mind that the caller is a human with a command line, not another pice of code."}],"answers":[{"tags":[],"owner":{"account_id":14735889,"reputation":74,"user_id":10641939,"display_name":"Nikos Issaris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698952283,"creation_date":1698952283,"answer_id":77412297,"question_id":77412188,"body_markdown":"I wouldn&#39;t add a java doc for the `main` method\r\n\r\nAlso aside from a small description you should add the parameters and return type for each method in this format\r\nhttps://www.jetbrains.com/help/idea/javadocs.html#add-new-comment","title":"How should the JavaDoc for Class and Main method differ?","body":"<p>I wouldn't add a java doc for the <code>main</code> method</p>\n<p>Also aside from a small description you should add the parameters and return type for each method in this format\n<a href=\"https://www.jetbrains.com/help/idea/javadocs.html#add-new-comment\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/javadocs.html#add-new-comment</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698961478,"creation_date":1698961478,"answer_id":77413063,"question_id":77412188,"body_markdown":"&gt; _&quot;... Is this correct, or is there a better way to differentiate Class and Main method Javadoc?_\r\n\r\nThere is no correct or incorrect way, just recommendations.\\\r\nTypically the _main method_ should contain a minimal amount of code.\r\n\r\nMy recommendation would be to place your current code within a separate method, and call it from _main_.\r\n\r\nDocumenting this _method_ might be easier to manage.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Example example = new Example();\r\n    example.abc();\r\n}\r\n\r\nvoid abc() {\r\n\r\n}\r\n```","title":"How should the JavaDoc for Class and Main method differ?","body":"<blockquote>\n<p><em>&quot;... Is this correct, or is there a better way to differentiate Class and Main method Javadoc?</em></p>\n</blockquote>\n<p>There is no correct or incorrect way, just recommendations.<br />\nTypically the <em>main method</em> should contain a minimal amount of code.</p>\n<p>My recommendation would be to place your current code within a separate method, and call it from <em>main</em>.</p>\n<p>Documenting this <em>method</em> might be easier to manage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Example example = new Example();\n    example.abc();\n}\n\nvoid abc() {\n\n}\n</code></pre>\n"}],"owner":{"account_id":13195392,"reputation":115,"user_id":9530434,"display_name":"Gabi23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698961478,"creation_date":1698951123,"question_id":77412188,"body_markdown":"Simple example:\r\n\r\nSuppose I have a class that contains a `minValue` method, a `maxValue` method, and an `averageValue` method which each take a double array, and also the Main method.\r\n\r\nSuppose also in the main method, I define a double array then print the its min, max and average values using the above methods.\r\n\r\nWhat should Javadoc for the Class and Main method be? \r\n\r\nI am quite new to Java and I always find the main method Javadoc just reiterates the class Javadoc and it seems pointless stating it.\r\n\r\nE.g.\r\n```\r\n/**This class can be used to find the min, max and average value of an array\r\n\r\nMain method: calculates the min, max and average value of an array*/\r\n```\r\nIs this correct, or is there a better way to differentiate Class and Main method Javadoc?\r\n","title":"How should the JavaDoc for Class and Main method differ?","body":"<p>Simple example:</p>\n<p>Suppose I have a class that contains a <code>minValue</code> method, a <code>maxValue</code> method, and an <code>averageValue</code> method which each take a double array, and also the Main method.</p>\n<p>Suppose also in the main method, I define a double array then print the its min, max and average values using the above methods.</p>\n<p>What should Javadoc for the Class and Main method be?</p>\n<p>I am quite new to Java and I always find the main method Javadoc just reiterates the class Javadoc and it seems pointless stating it.</p>\n<p>E.g.</p>\n<pre><code>/**This class can be used to find the min, max and average value of an array\n\nMain method: calculates the min, max and average value of an array*/\n</code></pre>\n<p>Is this correct, or is there a better way to differentiate Class and Main method Javadoc?</p>\n"},{"tags":["java","jpa","constraints","embeddable"],"comments":[{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":2,"creation_date":1698927735,"post_id":77409477,"comment_id":136467902,"body_markdown":"Use `@Column(nullable=false)`. I don&#39;t know which `@NotNull` you are using (maybe Java Validation API?), but they are not part of JPA AFAIK.","body":"Use <code>@Column(nullable=false)</code>. I don&#39;t know which <code>@NotNull</code> you are using (maybe Java Validation API?), but they are not part of JPA AFAIK."},{"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"score":0,"creation_date":1698928095,"post_id":77409477,"comment_id":136467992,"body_markdown":"That is an interesting observation that I never considered. But the fact remains that `Contact.fullName` is marked as `NOT NULL` but `Meta.created` is not.","body":"That is an interesting observation that I never considered. But the fact remains that <code>Contact.fullName</code> is marked as <code>NOT NULL</code> but <code>Meta.created</code> is not."},{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":0,"creation_date":1698928385,"post_id":77409477,"comment_id":136468053,"body_markdown":"Ok, the question is where does the `@NotNull` annotation come from. I have found a Hibernate annotation `NotNull` https://www.baeldung.com/hibernate-notnull-vs-nullable which would explain the `NOT NULL` constraint in the DDL. So maybe a wrong import in the `Meta` class?","body":"Ok, the question is where does the <code>@NotNull</code> annotation come from. I have found a Hibernate annotation <code>NotNull</code> <a href=\"https://www.baeldung.com/hibernate-notnull-vs-nullable\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-notnull-vs-nullable</a> which would explain the <code>NOT NULL</code> constraint in the DDL. So maybe a wrong import in the <code>Meta</code> class?"},{"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"score":0,"creation_date":1698928924,"post_id":77409477,"comment_id":136468177,"body_markdown":"It&#39;s imported from `jakarta.validation.constraints.NotNull`. Now I find this curious. I tried searching for which validation annotations are being honored by JPA, but I haven&#39;t found anything yet.","body":"It&#39;s imported from <code>jakarta.validation.constraints.NotNull</code>. Now I find this curious. I tried searching for which validation annotations are being honored by JPA, but I haven&#39;t found anything yet."},{"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"score":0,"creation_date":1698929501,"post_id":77409477,"comment_id":136468297,"body_markdown":"Found it: https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/?v=8.0#validator-defineconstraints-spec","body":"Found it: <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/?v=8.0#validator-defineconstraints-spec\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/validator/reference/en-US/&hellip;</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698934280,"post_id":77409477,"comment_id":136469377,"body_markdown":"JPA doesn&#39;t know or care about your NotNull constraints. What you are seeing on full_name is because hibernate is your JPA provider and your validator, and decided to apply the NotNull validation to the JPA column. IMO it should not have, as the default JPA states should be that the column is Nullable, but they can do what they want- and in this case, decided not to pass down that extra column information to the main table for embeddable. file a bug with them, but also note the JPA compliant way to get not null on the column is through the column annotation.","body":"JPA doesn&#39;t know or care about your NotNull constraints. What you are seeing on full_name is because hibernate is your JPA provider and your validator, and decided to apply the NotNull validation to the JPA column. IMO it should not have, as the default JPA states should be that the column is Nullable, but they can do what they want- and in this case, decided not to pass down that extra column information to the main table for embeddable. file a bug with them, but also note the JPA compliant way to get not null on the column is through the column annotation."},{"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"score":0,"creation_date":1698960591,"post_id":77409477,"comment_id":136474416,"body_markdown":"Chris - you would be right, but the documentation states that it does respect some validation annotations and it does work when applied to the `@Entity` class, so it is in fact probably a bug.","body":"Chris - you would be right, but the documentation states that it does respect some validation annotations and it does work when applied to the <code>@Entity</code> class, so it is in fact probably a bug."}],"answers":[{"tags":[],"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698960787,"creation_date":1698960487,"answer_id":77412989,"question_id":77409477,"body_markdown":"As it was rightly pointed out, I&#39;m using two systems in combination, Jakarta Persistence API (JPA) and Jakarta Validator, both backed in my case by Hibernate implementations. \r\n\r\n`@NotNull` is part of the Jakarta Validation API. According to the Jakarta Validator [documentation][1], it is taken into account by JPA to apply `NOT NULL` to it&#39;s respective table column. It seems that this doesn&#39;t work with `@Embedded` classes using validation annotations. However, the JPA-native `@Column(nullable = false)` does work.\r\n\r\nSo the `Meta` class generates the expected DDL like so:\r\n```java\r\n@Embeddable\r\npublic class Meta {\r\n\r\n    @NotNull\r\n    @Column(nullable = false)\r\n    private Instant created;\r\n\r\n    @NotNull\r\n    @Column(nullable = false)\r\n    private Instant lastModified;\r\n\r\n    @NotNull\r\n    @Size(min = 1, max = 63)\r\n    @Column(nullable = false)\r\n    private String digest;\r\n}\r\n```\r\n\r\nCredit goes to @kidney for suggesting the solution!\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/validator/8.0/reference/en-US/html_single/#validator-defineconstraints-spec","title":"JPA embeddable class constraints not used in embedding class table","body":"<p>As it was rightly pointed out, I'm using two systems in combination, Jakarta Persistence API (JPA) and Jakarta Validator, both backed in my case by Hibernate implementations.</p>\n<p><code>@NotNull</code> is part of the Jakarta Validation API. According to the Jakarta Validator <a href=\"https://docs.jboss.org/hibernate/validator/8.0/reference/en-US/html_single/#validator-defineconstraints-spec\" rel=\"nofollow noreferrer\">documentation</a>, it is taken into account by JPA to apply <code>NOT NULL</code> to it's respective table column. It seems that this doesn't work with <code>@Embedded</code> classes using validation annotations. However, the JPA-native <code>@Column(nullable = false)</code> does work.</p>\n<p>So the <code>Meta</code> class generates the expected DDL like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class Meta {\n\n    @NotNull\n    @Column(nullable = false)\n    private Instant created;\n\n    @NotNull\n    @Column(nullable = false)\n    private Instant lastModified;\n\n    @NotNull\n    @Size(min = 1, max = 63)\n    @Column(nullable = false)\n    private String digest;\n}\n</code></pre>\n<p>Credit goes to @kidney for suggesting the solution!</p>\n"}],"owner":{"account_id":404655,"reputation":121,"user_id":773121,"display_name":"Peter Molnar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698960787,"creation_date":1698927358,"question_id":77409477,"body_markdown":"I have an issue with the DDL generated from an embeddable class. The annotations on the properties of the embeddable are not carried over to the embedding class table, such as NOT NULL.\r\n\r\n```java\r\n@Entity\r\npublic class Contact {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;contact_id_seq&quot;)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Length(max = 63)\r\n    private String fullName;\r\n\r\n    @Length(max = 63)\r\n    private String displayName;\r\n\r\n    @Length(max = 63)\r\n    private String emailAddress;\r\n\r\n    @Embedded\r\n    @NotNull\r\n    private Meta meta;\r\n}\r\n\r\n@Embeddable\r\npublic class Meta {\r\n\r\n    @NotNull\r\n    private Instant created;\r\n\r\n    @NotNull\r\n    private Instant lastModified;\r\n\r\n    @NotNull\r\n    @Length(min = 1, max = 63)\r\n    private String digest;\r\n}\r\n```\r\n\r\nThe generated DDL is like this:\r\n\r\n```sql\r\nCREATE TABLE public.contact (\r\n    id bigint NOT NULL,\r\n    full_name character varying(63) NOT NULL,\r\n    display_name character varying(63),\r\n    email_address character varying(63),\r\n    created timestamp(6) with time zone,\r\n    last_modified timestamp(6) with time zone,\r\n    digest character varying(63),\r\n);\r\n\r\n```\r\n\r\nHow can I annotate my @Embeddable class so that the @NotNull constraints are preserved in the embedding class?","title":"JPA embeddable class constraints not used in embedding class table","body":"<p>I have an issue with the DDL generated from an embeddable class. The annotations on the properties of the embeddable are not carried over to the embedding class table, such as NOT NULL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Contact {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;contact_id_seq&quot;)\n    private Long id;\n\n    @NotNull\n    @Length(max = 63)\n    private String fullName;\n\n    @Length(max = 63)\n    private String displayName;\n\n    @Length(max = 63)\n    private String emailAddress;\n\n    @Embedded\n    @NotNull\n    private Meta meta;\n}\n\n@Embeddable\npublic class Meta {\n\n    @NotNull\n    private Instant created;\n\n    @NotNull\n    private Instant lastModified;\n\n    @NotNull\n    @Length(min = 1, max = 63)\n    private String digest;\n}\n</code></pre>\n<p>The generated DDL is like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE public.contact (\n    id bigint NOT NULL,\n    full_name character varying(63) NOT NULL,\n    display_name character varying(63),\n    email_address character varying(63),\n    created timestamp(6) with time zone,\n    last_modified timestamp(6) with time zone,\n    digest character varying(63),\n);\n\n</code></pre>\n<p>How can I annotate my @Embeddable class so that the @NotNull constraints are preserved in the embedding class?</p>\n"},{"tags":["java","file","networking","docker-compose"],"comments":[{"owner":{"account_id":6229027,"reputation":28489,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":0,"creation_date":1698393460,"post_id":77370232,"comment_id":136402330,"body_markdown":"You haven&#39;t included a [mcve] of the failing program.","body":"You haven&#39;t included a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the failing program."},{"owner":{"account_id":29762610,"reputation":1,"user_id":22809767,"display_name":"Ravi"},"score":0,"creation_date":1698412060,"post_id":77370232,"comment_id":136405805,"body_markdown":"edited with some more steps, compose and docker files are same, what information can I add ?","body":"edited with some more steps, compose and docker files are same, what information can I add ?"},{"owner":{"account_id":6229027,"reputation":28489,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":0,"creation_date":1698435348,"post_id":77370232,"comment_id":136410139,"body_markdown":"There&#39;s no actual program in the question.  We can&#39;t solve programming problems without a [mcve] of the failing program.  (If your problem is with the runtime environment - e.g. your Docker container - then Stack Overflow is probably not the right place to find help).","body":"There&#39;s no actual program in the question.  We can&#39;t solve programming problems without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the failing program.  (If your problem is with the runtime environment - e.g. your Docker container - then Stack Overflow is probably not the right place to find help)."}],"answers":[{"tags":[],"owner":{"account_id":29762610,"reputation":1,"user_id":22809767,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698960494,"creation_date":1698960494,"answer_id":77412990,"question_id":77370232,"body_markdown":"The problem resolved correcting the docker-compose volume as below..\r\nonce again, the mail issue here is docker container unable to access the network file, mapping the volume and accessing the file as local, solved the problem. \r\n appvolume:\r\n      driver_opts:\r\n        type: cifs \r\n        device: &quot;//myserver.com/share&quot;\r\n        o: addr=myserver.com,username=fileuser,password=mypwd\r\n\r\nThanks\r\n","title":"Java Application running in Docker container unable to read file in network shared location","body":"<p>The problem resolved correcting the docker-compose volume as below..\nonce again, the mail issue here is docker container unable to access the network file, mapping the volume and accessing the file as local, solved the problem.\nappvolume:\ndriver_opts:\ntype: cifs\ndevice: &quot;//myserver.com/share&quot;\no: addr=myserver.com,username=fileuser,password=mypwd</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":29762610,"reputation":1,"user_id":22809767,"display_name":"Ravi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698960494,"creation_date":1698353470,"question_id":77370232,"body_markdown":"My java application so far running on server which is reading a data file from the shared network location and importing data successfully to db.  we are now moving this application to Docker. The step at File read operation in code is not considering a valid File location. \r\nJava is using File f = new File(&quot;//fileserver/shared&quot;) the next step f.exists() returning null when this code is running in container. non-docker environment has no issues at this step in the past. \r\n**Docker-compose**\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n    app-batch:\r\n        dns: xx:xx:x:x\r\n        container_name: app-batch\r\n        hostname: apphost\r\n        build:\r\n            context: ./app-batch\r\n            dockerfile: Dockerfile\r\n        image: app-batch:1.0\r\n        ports:\r\n            - 8989:8989\r\n        networks:\r\n            - app-network\r\n        volumes:\r\n            - ./logs:/logs:rw\r\n\r\nnetworks:\r\n    app-network:\r\n        driver: bridge\r\nvolumes:\r\n\tlogs:\r\n```\t\r\n**Dockerfile** in /app-batch folder\r\n```\r\nFROM openjdk:17-alpine\r\n\r\nCOPY ./*.jar myapp.jar\r\n\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/myap.jar&quot;]\r\n```\r\n\r\ntried with volume in docker-compose named as appvolume and \r\nvolumes: \r\n```\r\n  appvolume:\r\n    driver: local\r\n    driver_opts:\r\n      type: cifs\r\n      o:sec=ntlm,vers=3.0\r\n      device: &quot;//fileserver/shared&quot;\r\n```\r\nbut keep seeing error like not able to reach host.\r\n\r\nThe Java program in the app.jar reads network file contents as \r\nFile f =new File(&quot;//fileserver/shared/loadfile.txt&quot;); \r\nand is not considering the File f as a file.\r\n \r\nQ. is it possible to connect to remote server from a docker container running on a application network on a host?\r\n   if not by default possible, can you please suggest how to achieve this ?\r\nQ. is it possible to map/bind remote path to volume ?\r\n\r\n  \r\n","title":"Java Application running in Docker container unable to read file in network shared location","body":"<p>My java application so far running on server which is reading a data file from the shared network location and importing data successfully to db.  we are now moving this application to Docker. The step at File read operation in code is not considering a valid File location.\nJava is using File f = new File(&quot;//fileserver/shared&quot;) the next step f.exists() returning null when this code is running in container. non-docker environment has no issues at this step in the past.\n<strong>Docker-compose</strong></p>\n<pre><code>version: '3'\nservices:\n    app-batch:\n        dns: xx:xx:x:x\n        container_name: app-batch\n        hostname: apphost\n        build:\n            context: ./app-batch\n            dockerfile: Dockerfile\n        image: app-batch:1.0\n        ports:\n            - 8989:8989\n        networks:\n            - app-network\n        volumes:\n            - ./logs:/logs:rw\n\nnetworks:\n    app-network:\n        driver: bridge\nvolumes:\n    logs:\n</code></pre>\n<p><strong>Dockerfile</strong> in /app-batch folder</p>\n<pre><code>FROM openjdk:17-alpine\n\nCOPY ./*.jar myapp.jar\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/myap.jar&quot;]\n</code></pre>\n<p>tried with volume in docker-compose named as appvolume and\nvolumes:</p>\n<pre><code>  appvolume:\n    driver: local\n    driver_opts:\n      type: cifs\n      o:sec=ntlm,vers=3.0\n      device: &quot;//fileserver/shared&quot;\n</code></pre>\n<p>but keep seeing error like not able to reach host.</p>\n<p>The Java program in the app.jar reads network file contents as\nFile f =new File(&quot;//fileserver/shared/loadfile.txt&quot;);\nand is not considering the File f as a file.</p>\n<p>Q. is it possible to connect to remote server from a docker container running on a application network on a host?\nif not by default possible, can you please suggest how to achieve this ?\nQ. is it possible to map/bind remote path to volume ?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":20788413,"reputation":11,"user_id":15267141,"display_name":"Eryczek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698960301,"creation_date":1698960301,"question_id":77412979,"body_markdown":"I have a custom class that implements the `org.springframework.validation.Validator` interface, and I&#39;m injecting it into a class annotated with `@Service`. In my Spring Boot 3.0.1 application, I&#39;m using this custom validator with the following code:\r\n\r\n    validator.validate(request, new BeanPropertyBindingResult(request, &quot;RequestClass&quot;));\r\n\r\nIt&#39;s worth noting that I&#39;m not using the `@Valid` annotation for validation.\r\n\r\nMy issue is that when I use `errors.rejectValue(&quot;fieldName&quot;, &quot;validation.error.key&quot;)` in my custom validator, it doesn&#39;t resolve the value for the specified error key. However, when I inject an appropriate `MessageSource`, the key works perfectly.\r\n\r\nI&#39;d appreciate any guidance on how to make my custom validator resolve error messages without the need for an injected `MessageSource`.\r\n","title":"Spring Boot: custom Validator doesn&#39;t resolve validation error messages","body":"<p>I have a custom class that implements the <code>org.springframework.validation.Validator</code> interface, and I'm injecting it into a class annotated with <code>@Service</code>. In my Spring Boot 3.0.1 application, I'm using this custom validator with the following code:</p>\n<pre><code>validator.validate(request, new BeanPropertyBindingResult(request, &quot;RequestClass&quot;));\n</code></pre>\n<p>It's worth noting that I'm not using the <code>@Valid</code> annotation for validation.</p>\n<p>My issue is that when I use <code>errors.rejectValue(&quot;fieldName&quot;, &quot;validation.error.key&quot;)</code> in my custom validator, it doesn't resolve the value for the specified error key. However, when I inject an appropriate <code>MessageSource</code>, the key works perfectly.</p>\n<p>I'd appreciate any guidance on how to make my custom validator resolve error messages without the need for an injected <code>MessageSource</code>.</p>\n"},{"tags":["java","android","android-studio","internet-explorer"],"answers":[{"comments":[{"owner":{"account_id":24269076,"reputation":29,"user_id":18217490,"display_name":"HermannGo"},"score":0,"creation_date":1699189306,"post_id":77412663,"comment_id":136497540,"body_markdown":"at Deepak Sharma\n\nDas sieht gut aus. Mein Problem ist jetzt, ich kann den Import:\n&quot;import android.os.AsyncTask;&quot; nicht in das Projekt einbinden, da es ein Libgdx Projekt ist","body":"at Deepak Sharma  Das sieht gut aus. Mein Problem ist jetzt, ich kann den Import: &quot;import android.os.AsyncTask;&quot; nicht in das Projekt einbinden, da es ein Libgdx Projekt ist"},{"owner":{"account_id":24269076,"reputation":29,"user_id":18217490,"display_name":"HermannGo"},"score":0,"creation_date":1699189355,"post_id":77412663,"comment_id":136497550,"body_markdown":"at Deepak Sharma\n\nThat looks good. My problem now is, I can import:\n&quot;import android.os.AsyncTask;&quot; don&#39;t include it in the project because it&#39;s a Libgdx project ist","body":"at Deepak Sharma  That looks good. My problem now is, I can import: &quot;import android.os.AsyncTask;&quot; don&#39;t include it in the project because it&#39;s a Libgdx project ist"}],"tags":[],"owner":{"account_id":5619117,"reputation":1,"user_id":4449537,"display_name":"Deepak sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698956570,"creation_date":1698956570,"answer_id":77412663,"question_id":77412598,"body_markdown":"It sounds like you&#39;re encountering a NetworkOnMainThreadException, which occurs when trying to perform a network operation on the Android UI thread. Android requires network requests to be made on a background thread. Here&#39;s how you can modify your code to use an AsyncTask to perform the network operation on a background thread:\r\n\r\n    import android.os.AsyncTask;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    \r\n    public class NetworkFileReader extends AsyncTask&lt;String, Void, String&gt; {\r\n    \r\n        @Override\r\n        protected String doInBackground(String... urlString) {\r\n            StringBuilder content = new StringBuilder();\r\n            try {\r\n                URL url = new URL(urlString[0]);\r\n                URLConnection urlConnection = url.openConnection();\r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\r\n                String line;\r\n                while ((line = bufferedReader.readLine()) != null) {\r\n                    content.append(line).append(&quot;\\n&quot;);\r\n                }\r\n                bufferedReader.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return &quot;Error: &quot; + e.getMessage();\r\n            }\r\n            return content.toString();\r\n        }\r\n    \r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            // This is where you would handle the result of the network operation\r\n            // For example, updating the UI or storing the data\r\n            System.out.println(result);\r\n        }\r\n    }\r\n    \r\n    // Usage:\r\n    new NetworkFileReader().execute(&quot;https://www.robl.de/data/HS.txt&quot;);\r\n\r\nMake sure to execute this AsyncTask appropriately in your activity or fragment, and handle the result in the onPostExecute method.\r\n\r\nAlso, ensure that you have the internet permission in your AndroidManifest.xml:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n\r\nPlease note that AsyncTask is deprecated in API level 30 and higher. For modern Android development, c`enter code here`onsider using Kotlin coroutines or Java concurrency utilities like Executors. However, AsyncTask is still a valid way to quickly solve this problem for educational purposes or in legacy codebases.\r\n\r\n","title":"Read text file (.txt) from a server","body":"<p>It sounds like you're encountering a NetworkOnMainThreadException, which occurs when trying to perform a network operation on the Android UI thread. Android requires network requests to be made on a background thread. Here's how you can modify your code to use an AsyncTask to perform the network operation on a background thread:</p>\n<pre><code>import android.os.AsyncTask;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class NetworkFileReader extends AsyncTask&lt;String, Void, String&gt; {\n\n    @Override\n    protected String doInBackground(String... urlString) {\n        StringBuilder content = new StringBuilder();\n        try {\n            URL url = new URL(urlString[0]);\n            URLConnection urlConnection = url.openConnection();\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\n            String line;\n            while ((line = bufferedReader.readLine()) != null) {\n                content.append(line).append(&quot;\\n&quot;);\n            }\n            bufferedReader.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return &quot;Error: &quot; + e.getMessage();\n        }\n        return content.toString();\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        // This is where you would handle the result of the network operation\n        // For example, updating the UI or storing the data\n        System.out.println(result);\n    }\n}\n\n// Usage:\nnew NetworkFileReader().execute(&quot;https://www.robl.de/data/HS.txt&quot;);\n</code></pre>\n<p>Make sure to execute this AsyncTask appropriately in your activity or fragment, and handle the result in the onPostExecute method.</p>\n<p>Also, ensure that you have the internet permission in your AndroidManifest.xml:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>Please note that AsyncTask is deprecated in API level 30 and higher. For modern Android development, c<code>enter code here</code>onsider using Kotlin coroutines or Java concurrency utilities like Executors. However, AsyncTask is still a valid way to quickly solve this problem for educational purposes or in legacy codebases.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698959920,"creation_date":1698959920,"answer_id":77412956,"question_id":77412598,"body_markdown":"For reference, use the _[URL#openStream](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URL.html#openStream())_ method.\r\n\r\n```java\r\nURL u = new URI(&quot;https://www.robl.de/data/HS.txt&quot;).toURL();\r\ntry (BufferedReader r = new BufferedReader(new InputStreamReader(u.openStream()))) {\r\n    r.lines().forEach(System.out::println);\r\n}\r\n```","title":"Read text file (.txt) from a server","body":"<p>For reference, use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URL.html#openStream()\" rel=\"nofollow noreferrer\">URL#openStream</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL u = new URI(&quot;https://www.robl.de/data/HS.txt&quot;).toURL();\ntry (BufferedReader r = new BufferedReader(new InputStreamReader(u.openStream()))) {\n    r.lines().forEach(System.out::println);\n}\n</code></pre>\n"}],"owner":{"account_id":24269076,"reputation":29,"user_id":18217490,"display_name":"HermannGo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698959920,"creation_date":1698955756,"question_id":77412598,"body_markdown":"Android Studio - Java\r\nI&#39;ve been trying to read a text file from my website for days now.\r\nThe examples found on the internet don&#39;t work.\r\n&quot;Error&quot; is always output in the &quot;catch&quot; (see code below).\r\nThe path to the URL is correct. I tested it with a download.\r\nInternet permission has been added.\r\nWhere is the problem?\r\n\r\n\r\n   \r\n\r\n     try{\r\n\r\n                URL yahoo = new URL(&quot;https://www.robl.de/data/HS.txt&quot;);\r\n                URLConnection yc = yahoo.openConnection();\r\n                BufferedReader in = new BufferedReader(\r\n                        new InputStreamReader(\r\n                                yc.getInputStream()));\r\n\r\n\r\n                while ((inputLine = in.readLine()) != null)\r\n                    System.out.println(inputLine);\r\n                in.close();\r\n\r\n        }\r\n        catch ( IOException e ) {\r\n            e.printStackTrace();\r\n            inputLine=&quot;error&quot;;\r\n        }\r\n\r\n\r\n     try{\r\n            URL llll = new URL(&quot;http://www.robl.de/data/HS.txt&quot;);\r\n\r\n            URLConnection conLLL = llll.openConnection();\r\n            BufferedReader br = new BufferedReader(new InputStreamReader( conLLL.getInputStream()));\r\n\r\n            while ( ( strLine = br.readLine() ) != null)\r\n                System.out.println(strLine);\r\n            br.close();\r\n\r\n        }\r\n        catch(Exception ex)\r\n        {\r\n            ex.printStackTrace();\r\n            strLine=&quot;error&quot;;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Read text file (.txt) from a server","body":"<p>Android Studio - Java\nI've been trying to read a text file from my website for days now.\nThe examples found on the internet don't work.\n&quot;Error&quot; is always output in the &quot;catch&quot; (see code below).\nThe path to the URL is correct. I tested it with a download.\nInternet permission has been added.\nWhere is the problem?</p>\n<pre><code> try{\n\n            URL yahoo = new URL(&quot;https://www.robl.de/data/HS.txt&quot;);\n            URLConnection yc = yahoo.openConnection();\n            BufferedReader in = new BufferedReader(\n                    new InputStreamReader(\n                            yc.getInputStream()));\n\n\n            while ((inputLine = in.readLine()) != null)\n                System.out.println(inputLine);\n            in.close();\n\n    }\n    catch ( IOException e ) {\n        e.printStackTrace();\n        inputLine=&quot;error&quot;;\n    }\n\n\n try{\n        URL llll = new URL(&quot;http://www.robl.de/data/HS.txt&quot;);\n\n        URLConnection conLLL = llll.openConnection();\n        BufferedReader br = new BufferedReader(new InputStreamReader( conLLL.getInputStream()));\n\n        while ( ( strLine = br.readLine() ) != null)\n            System.out.println(strLine);\n        br.close();\n\n    }\n    catch(Exception ex)\n    {\n        ex.printStackTrace();\n        strLine=&quot;error&quot;;\n    }\n</code></pre>\n"},{"tags":["java","junit","mockito","spy"],"comments":[{"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"score":1,"creation_date":1693553907,"post_id":77021276,"comment_id":135779091,"body_markdown":"How about creating a new constructor `MyObject(Member member) { this.member = member; }` and passing a `spy(new Member())` into it... then you can do what you want","body":"How about creating a new constructor <code>MyObject(Member member) { this.member = member; }</code> and passing a <code>spy(new Member())</code> into it... then you can do what you want"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693564984,"post_id":77021276,"comment_id":135781169,"body_markdown":"Why are you spying the object ? when you are going to check it with simple `verify()` method. Just use `mock()` instead of `spy()`","body":"Why are you spying the object ? when you are going to check it with simple <code>verify()</code> method. Just use <code>mock()</code> instead of <code>spy()</code>"}],"answers":[{"tags":[],"owner":{"account_id":9294291,"reputation":9,"user_id":6901762,"display_name":"Kelavandoril"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698959714,"creation_date":1698959714,"answer_id":77412939,"question_id":77021276,"body_markdown":"It sounds like you want `Member` to be a spy too. In this case, you could do something like this:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)    \r\n    public class SomeTestClass {\r\n        private MyObject myObjectSpy;\r\n        private Member memberSpy;\r\n\r\n        @Test\r\n        public void someTest() {\r\n            memberSpy = spy(Member.class);\r\n            myObjectSpy = spy(MyObject.class);\r\n            doReturn(memberSpy).when(myObjectSpy).getMember();\r\n            ...\r\n            verify(memberSpy, atLeastOnce()).doSomething(any(OneClass.class));\r\n        }\r\n    }\r\n\r\nBe warned, including `doReturn(...)` with a spy is partial mocking if you intend to *only* mock `getMember()` and not its other functions. In that case, consider using a full mock and deciding what the return values of its other functions should be.","title":"Spy on class member method call","body":"<p>It sounds like you want <code>Member</code> to be a spy too. In this case, you could do something like this:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)    \npublic class SomeTestClass {\n    private MyObject myObjectSpy;\n    private Member memberSpy;\n\n    @Test\n    public void someTest() {\n        memberSpy = spy(Member.class);\n        myObjectSpy = spy(MyObject.class);\n        doReturn(memberSpy).when(myObjectSpy).getMember();\n        ...\n        verify(memberSpy, atLeastOnce()).doSomething(any(OneClass.class));\n    }\n}\n</code></pre>\n<p>Be warned, including <code>doReturn(...)</code> with a spy is partial mocking if you intend to <em>only</em> mock <code>getMember()</code> and not its other functions. In that case, consider using a full mock and deciding what the return values of its other functions should be.</p>\n"}],"owner":{"account_id":13754751,"reputation":1,"user_id":9925985,"display_name":"Olivier_22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698959714,"creation_date":1693553444,"question_id":77021276,"body_markdown":"I would like write something like this :\r\n\r\n```\r\nthis.spyObject = Mockito.spy(myObject);\r\n...\r\nverify(this.spiedObject, atLastOnce()).getMember().doSomething(any(OneClass.class))\r\n```\r\n\r\nor\r\n\r\n```\r\nthis.spyObject = Mockito.spy(myObject);\r\n...\r\nverify(this.spiedObject.getMember(), atLastOnce()).doSomething(any(OneClass.class))\r\n```\r\n\r\nin a Junit test,\r\nknowing that the constructor of myObject is\r\n\r\n```\r\npublic MyObject() {\r\n    this.member = new Member()\r\n}\r\n```\r\nObviously, it doesn&#39;t works !\r\n\r\n\r\n\r\nFinally, I would be able to verify `doSomething` was called on the `member`.\r\nI&#39;m pretty beginner with Mockito :)\r\n\r\nAny help please ?\r\n","title":"Spy on class member method call","body":"<p>I would like write something like this :</p>\n<pre><code>this.spyObject = Mockito.spy(myObject);\n...\nverify(this.spiedObject, atLastOnce()).getMember().doSomething(any(OneClass.class))\n</code></pre>\n<p>or</p>\n<pre><code>this.spyObject = Mockito.spy(myObject);\n...\nverify(this.spiedObject.getMember(), atLastOnce()).doSomething(any(OneClass.class))\n</code></pre>\n<p>in a Junit test,\nknowing that the constructor of myObject is</p>\n<pre><code>public MyObject() {\n    this.member = new Member()\n}\n</code></pre>\n<p>Obviously, it doesn't works !</p>\n<p>Finally, I would be able to verify <code>doSomething</code> was called on the <code>member</code>.\nI'm pretty beginner with Mockito :)</p>\n<p>Any help please ?</p>\n"},{"tags":["java","generics","numbers","comparable"],"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":5,"creation_date":1271856314,"post_id":2683202,"comment_id":2702911,"body_markdown":"Hmm - this is related: http://stackoverflow.com/questions/480632/why-doesnt-java-lang-number-implement-comparable","body":"Hmm - this is related: <a href=\"http://stackoverflow.com/questions/480632/why-doesnt-java-lang-number-implement-comparable\" title=\"why doesnt java lang number implement comparable\">stackoverflow.com/questions/480632/&hellip;</a>"},{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":3,"creation_date":1271859387,"post_id":2683202,"comment_id":2703392,"body_markdown":"This shouldn&#39;t be tagged &quot;generics&quot;. &quot;Generic numbers&quot; does not refer to Java generics in this case.","body":"This shouldn&#39;t be tagged &quot;generics&quot;. &quot;Generic numbers&quot; does not refer to Java generics in this case."},{"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"score":0,"creation_date":1271931904,"post_id":2683202,"comment_id":2710847,"body_markdown":"Google Collections has a TreeMultiSet which lets you sort stuff without losing duplicates.","body":"Google Collections has a TreeMultiSet which lets you sort stuff without losing duplicates."}],"answers":[{"comments":[{"owner":{"account_id":85613,"reputation":21012,"user_id":238578,"accept_rate":75,"display_name":"b_erb"},"score":1,"creation_date":1271856309,"post_id":2683237,"comment_id":2702910,"body_markdown":"What about `BigDecimal` or other types out of range for doubles?","body":"What about <code>BigDecimal</code> or other types out of range for doubles?"},{"owner":{"account_id":46932,"reputation":1933,"user_id":138862,"display_name":"Tedil"},"score":0,"creation_date":1271856400,"post_id":2683237,"comment_id":2702934,"body_markdown":"simply add a if(yourNumber instanceof BigDecimal &amp;&amp; otherNumber instanceof BigDecimal){ boolean greaterThanOtherNumber = yourNumber.compareTo(otherNumber) &gt; 0; }","body":"simply add a if(yourNumber instanceof BigDecimal &amp;&amp; otherNumber instanceof BigDecimal){ boolean greaterThanOtherNumber = yourNumber.compareTo(otherNumber) &gt; 0; }"}],"tags":[],"owner":{"account_id":46932,"reputation":1933,"user_id":138862,"display_name":"Tedil"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352970880,"creation_date":1271856200,"answer_id":2683237,"question_id":2683202,"body_markdown":"    if(yourNumber instanceof Double) {\r\n        boolean greaterThanOtherNumber = yourNumber.doubleValue() &gt; otherNumber.doubleValue();\r\n        // [...]\r\n    }\r\n\r\n*Note:* The `instanceof` check isn&#39;t necessarily needed - depends on how exactly you want to compare them. You could of course simply always use `.doubleValue()`, as every Number should provide the methods listed [here][1].\r\n\r\n*Edit*: As stated in the comments, you will (always) have to check for BigDecimal and friends. But they provide a `.compareTo()` method:\r\n\r\n    if(yourNumber instanceof BigDecimal &amp;&amp; otherNumber instanceof BigDecimal) { \r\n        boolean greaterThanOtherNumber = ((BigDecimal)yourNumber).compareTo((BigDecimal)otherNumber) &gt; 0;\r\n    } \r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Number.html\r\n","title":"Comparing the values of two generic Numbers","body":"<pre><code>if(yourNumber instanceof Double) {\n    boolean greaterThanOtherNumber = yourNumber.doubleValue() &gt; otherNumber.doubleValue();\n    // [...]\n}\n</code></pre>\n\n<p><em>Note:</em> The <code>instanceof</code> check isn't necessarily needed - depends on how exactly you want to compare them. You could of course simply always use <code>.doubleValue()</code>, as every Number should provide the methods listed <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Number.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><em>Edit</em>: As stated in the comments, you will (always) have to check for BigDecimal and friends. But they provide a <code>.compareTo()</code> method:</p>\n\n<pre><code>if(yourNumber instanceof BigDecimal &amp;&amp; otherNumber instanceof BigDecimal) { \n    boolean greaterThanOtherNumber = ((BigDecimal)yourNumber).compareTo((BigDecimal)otherNumber) &gt; 0;\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":35803,"reputation":4761,"user_id":101715,"accept_rate":79,"display_name":"Yaneeve"},"score":3,"creation_date":1271856420,"post_id":2683258,"comment_id":2702939,"body_markdown":"I think that this is too risky","body":"I think that this is too risky"},{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":1,"creation_date":1271856518,"post_id":2683258,"comment_id":2702955,"body_markdown":"BigInteger and BigDecimal implements Number as well. This wouldn&#39;t work.","body":"BigInteger and BigDecimal implements Number as well. This wouldn&#39;t work."},{"owner":{"account_id":73039,"reputation":386,"user_id":210563,"display_name":"Steven Mackenzie"},"score":1,"creation_date":1271857620,"post_id":2683258,"comment_id":2703122,"body_markdown":"True, it could be risky and it could fail.  There are more caveats than the precision/accuracy issue I noted.  But it may suit the OP&#39;s needs if he doesn&#39;t need to handle large BigDecimals.","body":"True, it could be risky and it could fail.  There are more caveats than the precision/accuracy issue I noted.  But it may suit the OP&#39;s needs if he doesn&#39;t need to handle large BigDecimals."}],"tags":[],"owner":{"account_id":73039,"reputation":386,"user_id":210563,"display_name":"Steven Mackenzie"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1271856328,"creation_date":1271856328,"answer_id":2683258,"question_id":2683202,"body_markdown":"You can simply use &lt;code&gt;Number&#39;s doubleValue()&lt;/code&gt; method to compare them; however you may find the results are not accurate enough for your needs.\r\n","title":"Comparing the values of two generic Numbers","body":"<p>You can simply use <code>Number's doubleValue()</code> method to compare them; however you may find the results are not accurate enough for your needs.</p>\n"},{"comments":[{"owner":{"account_id":133281,"reputation":2590,"user_id":334526,"accept_rate":20,"display_name":"Christopher Barber"},"score":2,"creation_date":1456861454,"post_id":2683331,"comment_id":59138664,"body_markdown":"Note that this also does not work for Long either since they can also not be fully represented using Double.","body":"Note that this also does not work for Long either since they can also not be fully represented using Double."}],"tags":[],"owner":{"account_id":88804,"reputation":2706,"user_id":245418,"accept_rate":60,"display_name":"kopper"},"comment_count":1,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1271881247,"creation_date":1271856865,"answer_id":2683331,"question_id":2683202,"body_markdown":"The most &quot;generic&quot; Java primitive number is double, so using simply\r\n\r\n    a.doubleValue() &gt; b.doubleValue()\r\n\r\nshould be enough in most cases, but... there are subtle issues here when converting numbers to double. For example the following is possible with BigInteger:\r\n\r\n\t\tBigInteger a = new BigInteger(&quot;9999999999999992&quot;);\r\n\t\tBigInteger b = new BigInteger(&quot;9999999999999991&quot;);\r\n\t\tSystem.out.println(a.doubleValue() &gt; b.doubleValue());\r\n\t\tSystem.out.println(a.doubleValue() == b.doubleValue());\r\n\r\nresults in:\r\n\r\n    false\r\n    true\r\n\r\nAlthough I expect this to be very extreme case this is possible. And no - there is no generic 100% accurate way. Number interface have no method like exactValue() converting to some type able to represent number in perfect way without loosing any information.\r\n\r\nActually having such perfect numbers is impossible in general - for example representing number Pi is impossible using any arithmetic using finite space. ","title":"Comparing the values of two generic Numbers","body":"<p>The most \"generic\" Java primitive number is double, so using simply</p>\n\n<pre><code>a.doubleValue() &gt; b.doubleValue()\n</code></pre>\n\n<p>should be enough in most cases, but... there are subtle issues here when converting numbers to double. For example the following is possible with BigInteger:</p>\n\n<pre><code>    BigInteger a = new BigInteger(\"9999999999999992\");\n    BigInteger b = new BigInteger(\"9999999999999991\");\n    System.out.println(a.doubleValue() &gt; b.doubleValue());\n    System.out.println(a.doubleValue() == b.doubleValue());\n</code></pre>\n\n<p>results in:</p>\n\n<pre><code>false\ntrue\n</code></pre>\n\n<p>Although I expect this to be very extreme case this is possible. And no - there is no generic 100% accurate way. Number interface have no method like exactValue() converting to some type able to represent number in perfect way without loosing any information.</p>\n\n<p>Actually having such perfect numbers is impossible in general - for example representing number Pi is impossible using any arithmetic using finite space. </p>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271857009,"creation_date":1271857009,"answer_id":2683356,"question_id":2683202,"body_markdown":"Let&#39;s assume that you have some method like:\r\n\r\n    public &lt;T extends Number&gt; T max (T a, T b) {\r\n       ...\r\n       //return maximum of a and b\r\n    }\r\n\r\nIf you know that there are only integers, longs and doubles can be passed as parameters then you can change method signature to:\r\n\r\n    public &lt;T extends Number&gt; T max(double a, double b) {\r\n       return (T)Math.max (a, b);\r\n    }\r\n\r\nThis will work for byte, short, integer, long and double. \r\n\r\nIf you presume that BigInteger&#39;s or BigDecimal&#39;s or mix of floats and doubles can be passed then you cannot create one common method to compare all these types of parameters.","title":"Comparing the values of two generic Numbers","body":"<p>Let's assume that you have some method like:</p>\n\n<pre><code>public &lt;T extends Number&gt; T max (T a, T b) {\n   ...\n   //return maximum of a and b\n}\n</code></pre>\n\n<p>If you know that there are only integers, longs and doubles can be passed as parameters then you can change method signature to:</p>\n\n<pre><code>public &lt;T extends Number&gt; T max(double a, double b) {\n   return (T)Math.max (a, b);\n}\n</code></pre>\n\n<p>This will work for byte, short, integer, long and double. </p>\n\n<p>If you presume that BigInteger's or BigDecimal's or mix of floats and doubles can be passed then you cannot create one common method to compare all these types of parameters.</p>\n"},{"comments":[{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":4,"creation_date":1271857613,"post_id":2683388,"comment_id":2703120,"body_markdown":"it&#39;s not likely but it can cause NumberFormatException if I create a subclass of Number and don&#39;t override toString in a proper way.","body":"it&#39;s not likely but it can cause NumberFormatException if I create a subclass of Number and don&#39;t override toString in a proper way."},{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":1,"creation_date":1271859116,"post_id":2683388,"comment_id":2703344,"body_markdown":"Hopefully the programmer will know if any descendants of Number other than the standard ones might be encountered.","body":"Hopefully the programmer will know if any descendants of Number other than the standard ones might be encountered."},{"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"score":1,"creation_date":1391036627,"post_id":2683388,"comment_id":32358109,"body_markdown":"Zeeks! This is a really bad solution. Though I can&#39;t off hand think of a better one, so I won&#39;t downvote yet.  :-(","body":"Zeeks! This is a really bad solution. Though I can&#39;t off hand think of a better one, so I won&#39;t downvote yet.  :-("},{"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"score":3,"creation_date":1391065222,"post_id":2683388,"comment_id":32367654,"body_markdown":"@user949300 As I said, it&#39;s a _working (but brittle) solution_ which is _not great, though_ - so, I agree it&#39;s a bad solution! But the whole premise is flawed, generally one shouldn&#39;t work with arbitrary `Number`s. Best thing here probably would&#39;ve been constraining the type parameter further, to `T extends Number &amp; Comparable&lt;T&gt;`.","body":"@user949300 As I said, it&#39;s a <i>working (but brittle) solution</i> which is <i>not great, though</i> - so, I agree it&#39;s a bad solution! But the whole premise is flawed, generally one shouldn&#39;t work with arbitrary <code>Number</code>s. Best thing here probably would&#39;ve been constraining the type parameter further, to <code>T extends Number &amp; Comparable&lt;T&gt;</code>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1494350621,"post_id":2683388,"comment_id":74787265,"body_markdown":"*&quot;`toString` returning a value parsable by `BigDecimal` (which the standard Java `Number` classes do&quot;* That is not entirely true, given that `Double` and `Float` can return 3 special values (`NaN`, `Infinity`, and `-Infinity`) that are *not* supported by `BigDecimal`.","body":"<i>&quot;<code>toString</code> returning a value parsable by <code>BigDecimal</code> (which the standard Java <code>Number</code> classes do&quot;</i> That is not entirely true, given that <code>Double</code> and <code>Float</code> can return 3 special values (<code>NaN</code>, <code>Infinity</code>, and <code>-Infinity</code>) that are <i>not</i> supported by <code>BigDecimal</code>."},{"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"score":0,"creation_date":1494398890,"post_id":2683388,"comment_id":74804910,"body_markdown":"Good catch @Andreas. You&#39;re the first one in 7 years to find it :)","body":"Good catch @Andreas. You&#39;re the first one in 7 years to find it :)"}],"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"comment_count":6,"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1494399727,"creation_date":1271857230,"answer_id":2683388,"question_id":2683202,"body_markdown":"A working (but brittle) solution is something like this:\r\n\r\n    class NumberComparator implements Comparator&lt;Number&gt; {\r\n\r\n        public int compare(Number a, Number b){\r\n            return new BigDecimal(a.toString()).compareTo(new BigDecimal(b.toString()));\r\n        }\r\n\r\n    }\r\n\r\nIt&#39;s still not great, though, since it counts on `toString` returning a value parsable by `BigDecimal` (which the standard Java `Number` classes do, but which the `Number` contract doesn&#39;t demand).\r\n\r\n**Edit, seven years later:** As pointed out in the comments, there are (at least?) three special cases `toString` can produce that you need to take into regard:\r\n\r\n- `Infinity`, which is greater than everything, except itself to which it is equal\r\n- `-Infinity`, which is less than everything, except itself to which it is equal\r\n- `NaN`, which is extremely hairy/impossible to compare since [all comparisons with `NaN` result in `false`, including checking equality with itself][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.20.1","title":"Comparing the values of two generic Numbers","body":"<p>A working (but brittle) solution is something like this:</p>\n\n<pre><code>class NumberComparator implements Comparator&lt;Number&gt; {\n\n    public int compare(Number a, Number b){\n        return new BigDecimal(a.toString()).compareTo(new BigDecimal(b.toString()));\n    }\n\n}\n</code></pre>\n\n<p>It's still not great, though, since it counts on <code>toString</code> returning a value parsable by <code>BigDecimal</code> (which the standard Java <code>Number</code> classes do, but which the <code>Number</code> contract doesn't demand).</p>\n\n<p><strong>Edit, seven years later:</strong> As pointed out in the comments, there are (at least?) three special cases <code>toString</code> can produce that you need to take into regard:</p>\n\n<ul>\n<li><code>Infinity</code>, which is greater than everything, except itself to which it is equal</li>\n<li><code>-Infinity</code>, which is less than everything, except itself to which it is equal</li>\n<li><code>NaN</code>, which is extremely hairy/impossible to compare since <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.20.1\" rel=\"noreferrer\">all comparisons with <code>NaN</code> result in <code>false</code>, including checking equality with itself</a>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":2,"creation_date":1271859203,"post_id":2683438,"comment_id":2703360,"body_markdown":"This assumes that there are no custom-defined descendants of Number.","body":"This assumes that there are no custom-defined descendants of Number."},{"owner":{"account_id":35803,"reputation":4761,"user_id":101715,"accept_rate":79,"display_name":"Yaneeve"},"score":0,"creation_date":1271859385,"post_id":2683438,"comment_id":2703391,"body_markdown":"@DJClayworth: true enough. And those are not the only constraints as I had mentioned above. But why would there be &#39;custom-defined descendants of Number&#39;?","body":"@DJClayworth: true enough. And those are not the only constraints as I had mentioned above. But why would there be &#39;custom-defined descendants of Number&#39;?"},{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":0,"creation_date":1295112541,"post_id":2683438,"comment_id":5187806,"body_markdown":"An example of a custom-defined descendant of `Number` is `org.apache.commons.math.fraction.BigFraction`, which I use in many of my programs.","body":"An example of a custom-defined descendant of <code>Number</code> is <code>org.apache.commons.math.fraction.BigFraction</code>, which I use in many of my programs."}],"tags":[],"owner":{"account_id":35803,"reputation":4761,"user_id":101715,"accept_rate":79,"display_name":"Yaneeve"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271859840,"creation_date":1271857625,"answer_id":2683438,"question_id":2683202,"body_markdown":"If your Number instances are ***never*** Atomic (ie AtomicInteger) then you can do something like:\r\n\r\n    private Integer compare(Number n1, Number n2) throws SecurityException, NoSuchMethodException, IllegalArgumentException, IllegalAccessException, InvocationTargetException {\r\n    \r\n     Class&lt;? extends Number&gt; n1Class = n1.getClass();\r\n     if (n1Class.isInstance(n2)) {\r\n      Method compareTo = n1Class.getMethod(&quot;compareTo&quot;, n1Class);\r\n      return (Integer) compareTo.invoke(n1, n2);\r\n     }\r\n    \r\n     return -23;\r\n    }\r\n\r\nThis is since all non-Atomic `Number`s implement Comparable\r\n\r\n**EDIT**:\r\n\r\nThis is costly due to reflection: I know\r\n\r\n**EDIT 2**:\r\n\r\nThis of course does not take of a case in which you want to compare decimals to ints or some such...\r\n\r\n**EDIT 3**:\r\n\r\nThis assumes that there are no custom-defined descendants of Number that do not implement Comparable (thanks @DJClayworth)","title":"Comparing the values of two generic Numbers","body":"<p>If your Number instances are <strong><em>never</em></strong> Atomic (ie AtomicInteger) then you can do something like:</p>\n\n<pre><code>private Integer compare(Number n1, Number n2) throws SecurityException, NoSuchMethodException, IllegalArgumentException, IllegalAccessException, InvocationTargetException {\n\n Class&lt;? extends Number&gt; n1Class = n1.getClass();\n if (n1Class.isInstance(n2)) {\n  Method compareTo = n1Class.getMethod(\"compareTo\", n1Class);\n  return (Integer) compareTo.invoke(n1, n2);\n }\n\n return -23;\n}\n</code></pre>\n\n<p>This is since all non-Atomic <code>Number</code>s implement Comparable</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>This is costly due to reflection: I know</p>\n\n<p><strong>EDIT 2</strong>:</p>\n\n<p>This of course does not take of a case in which you want to compare decimals to ints or some such...</p>\n\n<p><strong>EDIT 3</strong>:</p>\n\n<p>This assumes that there are no custom-defined descendants of Number that do not implement Comparable (thanks @DJClayworth)</p>\n"},{"comments":[{"owner":{"account_id":42251,"reputation":1740,"user_id":123043,"accept_rate":67,"display_name":"keni"},"score":0,"creation_date":1539332915,"post_id":2686957,"comment_id":92472523,"body_markdown":"Like you said, not nice, shouldn&#39;t be here :)","body":"Like you said, not nice, shouldn&#39;t be here :)"},{"owner":{"account_id":1736383,"reputation":2449,"user_id":1588857,"accept_rate":84,"display_name":"midrare"},"score":0,"creation_date":1598613369,"post_id":2686957,"comment_id":112523051,"body_markdown":"@keni But do you have a better solution?","body":"@keni But do you have a better solution?"},{"owner":{"account_id":42251,"reputation":1740,"user_id":123043,"accept_rate":67,"display_name":"keni"},"score":0,"creation_date":1598632904,"post_id":2686957,"comment_id":112532431,"body_markdown":"It doesn&#39;t deal with all the necessary cases actually, not a lot more than @BennyBoy&#39;s nor Lii&#39;s certainly and suffers the same probs as pointed out by Pr0methean. Yea, and a lot more verbose and not close to being closed to modification. No offence meant.","body":"It doesn&#39;t deal with all the necessary cases actually, not a lot more than @BennyBoy&#39;s nor Lii&#39;s certainly and suffers the same probs as pointed out by Pr0methean. Yea, and a lot more verbose and not close to being closed to modification. No offence meant."}],"tags":[],"owner":{"account_id":85613,"reputation":21012,"user_id":238578,"accept_rate":75,"display_name":"b_erb"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1271888390,"creation_date":1271888390,"answer_id":2686957,"question_id":2683202,"body_markdown":"What about this one? Definitely not nice, but it deals with all necessary cases mentioned.\r\n\r\n    public class SimpleNumberComparator implements Comparator&lt;Number&gt;\r\n    \t{\r\n    \t\t@Override\r\n    \t\tpublic int compare(Number o1, Number o2)\r\n    \t\t{\r\n    \t\t\tif(o1 instanceof Short &amp;&amp; o2 instanceof Short)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Short) o1).compareTo((Short) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof Long &amp;&amp; o2 instanceof Long)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Long) o1).compareTo((Long) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof Integer &amp;&amp; o2 instanceof Integer)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Integer) o1).compareTo((Integer) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof Float &amp;&amp; o2 instanceof Float)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Float) o1).compareTo((Float) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof Double &amp;&amp; o2 instanceof Double)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Double) o1).compareTo((Double) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof Byte &amp;&amp; o2 instanceof Byte)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((Byte) o1).compareTo((Byte) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof BigInteger &amp;&amp; o2 instanceof BigInteger)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((BigInteger) o1).compareTo((BigInteger) o2);\r\n    \t\t\t}\r\n    \t\t\telse if(o1 instanceof BigDecimal &amp;&amp; o2 instanceof BigDecimal)\r\n    \t\t\t{\r\n    \t\t\t\treturn ((BigDecimal) o1).compareTo((BigDecimal) o2);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tthrow new RuntimeException(&quot;Ooopps!&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t}","title":"Comparing the values of two generic Numbers","body":"<p>What about this one? Definitely not nice, but it deals with all necessary cases mentioned.</p>\n\n<pre><code>public class SimpleNumberComparator implements Comparator&lt;Number&gt;\n    {\n        @Override\n        public int compare(Number o1, Number o2)\n        {\n            if(o1 instanceof Short &amp;&amp; o2 instanceof Short)\n            {\n                return ((Short) o1).compareTo((Short) o2);\n            }\n            else if(o1 instanceof Long &amp;&amp; o2 instanceof Long)\n            {\n                return ((Long) o1).compareTo((Long) o2);\n            }\n            else if(o1 instanceof Integer &amp;&amp; o2 instanceof Integer)\n            {\n                return ((Integer) o1).compareTo((Integer) o2);\n            }\n            else if(o1 instanceof Float &amp;&amp; o2 instanceof Float)\n            {\n                return ((Float) o1).compareTo((Float) o2);\n            }\n            else if(o1 instanceof Double &amp;&amp; o2 instanceof Double)\n            {\n                return ((Double) o1).compareTo((Double) o2);\n            }\n            else if(o1 instanceof Byte &amp;&amp; o2 instanceof Byte)\n            {\n                return ((Byte) o1).compareTo((Byte) o2);\n            }\n            else if(o1 instanceof BigInteger &amp;&amp; o2 instanceof BigInteger)\n            {\n                return ((BigInteger) o1).compareTo((BigInteger) o2);\n            }\n            else if(o1 instanceof BigDecimal &amp;&amp; o2 instanceof BigDecimal)\n            {\n                return ((BigDecimal) o1).compareTo((BigDecimal) o2);\n            }\n            else\n            {\n                throw new RuntimeException(\"Ooopps!\");\n            }\n\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26833,"reputation":2378,"user_id":70173,"accept_rate":70,"display_name":"Sarmun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295108972,"creation_date":1295108972,"answer_id":4700699,"question_id":2683202,"body_markdown":"This should work for all classes that extend Number, and are Comparable to themselves.\r\n\r\n    class NumberComparator&lt;T extends Number&gt; implements Comparator&lt;T&gt; {\r\n    \r\n        public int compare(T a, T b){\r\n            if (a instanceof Comparable) \r\n                if (a.getClass().equals(b.getClass()))\r\n                    return ((Comparable&lt;T&gt;)a).compareTo(b);        \r\n            throw new UnsupportedOperationException();\r\n        }\r\n    }","title":"Comparing the values of two generic Numbers","body":"<p>This should work for all classes that extend Number, and are Comparable to themselves.</p>\n\n<pre><code>class NumberComparator&lt;T extends Number&gt; implements Comparator&lt;T&gt; {\n\n    public int compare(T a, T b){\n        if (a instanceof Comparable) \n            if (a.getClass().equals(b.getClass()))\n                return ((Comparable&lt;T&gt;)a).compareTo(b);        \n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1192089,"reputation":4315,"user_id":1329340,"accept_rate":74,"display_name":"Campa"},"score":0,"creation_date":1478248224,"post_id":9788113,"comment_id":68085432,"body_markdown":"Is there any drawback with this answer? Otherwise it should probably be chosen as best answer.","body":"Is there any drawback with this answer? Otherwise it should probably be chosen as best answer."},{"owner":{"display_name":"user3794166"},"score":7,"creation_date":1480796652,"post_id":9788113,"comment_id":69113952,"body_markdown":"It requires the source collection to be a specific type, so it won&#39;t work for abstract Number class.","body":"It requires the source collection to be a specific type, so it won&#39;t work for abstract Number class."},{"owner":{"account_id":442888,"reputation":303,"user_id":833771,"display_name":"Pr0methean"},"score":3,"creation_date":1559666647,"post_id":9788113,"comment_id":99489680,"body_markdown":"This only works when the compareTo method of one actually accepts the other. It&#39;ll throw a ClassCastException if called with a Long and a Double.","body":"This only works when the compareTo method of one actually accepts the other. It&#39;ll throw a ClassCastException if called with a Long and a Double."}],"tags":[],"owner":{"account_id":314865,"reputation":519,"user_id":630301,"display_name":"BennyBoy"},"comment_count":3,"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1332251409,"creation_date":1332251409,"answer_id":9788113,"question_id":2683202,"body_markdown":"This should work for all classes that extend Number, and are Comparable to themselves. By adding the &amp; Comparable you allow to remove all the type checks and provides runtime type checks and error throwing for free when compared to Sarmun answer.\r\n\r\n    class NumberComparator&lt;T extends Number &amp; Comparable&gt; implements Comparator&lt;T&gt; {\r\n\r\n        public int compare( T a, T b ) throws ClassCastException {\r\n            return a.compareTo( b );\r\n        }\r\n    }","title":"Comparing the values of two generic Numbers","body":"<p>This should work for all classes that extend Number, and are Comparable to themselves. By adding the &amp; Comparable you allow to remove all the type checks and provides runtime type checks and error throwing for free when compared to Sarmun answer.</p>\n\n<pre><code>class NumberComparator&lt;T extends Number &amp; Comparable&gt; implements Comparator&lt;T&gt; {\n\n    public int compare( T a, T b ) throws ClassCastException {\n        return a.compareTo( b );\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44660,"reputation":462,"user_id":131192,"display_name":"Eric"},"score":1,"creation_date":1359660095,"post_id":12884075,"comment_id":20441103,"body_markdown":"Note that BigDecimal.valueOf should be used instead of the constructor  ESPECIALLY for the Float/Double creation or you&#39;ll get base2 floating point errors in the conversion.","body":"Note that BigDecimal.valueOf should be used instead of the constructor  ESPECIALLY for the Float/Double creation or you&#39;ll get base2 floating point errors in the conversion."},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1360405425,"post_id":12884075,"comment_id":20705228,"body_markdown":"Thanks for your comment! I&#39;m not sure your point is valid though. The Javadoc of the double constructor says: &quot;[...], note that this constructor provides an exact conversion; it does not give the same result as converting the double to a String using the `Double.toString(double)` method and then using the `BigDecimal(String)` constructor.&quot; It is true that the exact conversion often yields unexpected results (e.g. for `0.1` literals). But since we don&#39;t know anything about the numbers&#39; origins, I think the only sensible way to handle them is to assume nothing about it.","body":"Thanks for your comment! I&#39;m not sure your point is valid though. The Javadoc of the double constructor says: &quot;[...], note that this constructor provides an exact conversion; it does not give the same result as converting the double to a String using the <code>Double.toString(double)</code> method and then using the <code>BigDecimal(String)</code> constructor.&quot; It is true that the exact conversion often yields unexpected results (e.g. for <code>0.1</code> literals). But since we don&#39;t know anything about the numbers&#39; origins, I think the only sensible way to handle them is to assume nothing about it."}],"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1675340109,"creation_date":1350231343,"answer_id":12884075,"question_id":2683202,"body_markdown":"After having asked a [similar question][1] and studying the answers here, I came up with the following. I think it is more efficient and more robust than the solution given by gustafc:\r\n\r\n\r\n    public int compare(Number x, Number y) {\r\n        if (isSpecial(x) || isSpecial(y))\r\n            return Double.compare(x.doubleValue(), y.doubleValue());\r\n        else\r\n            return toBigDecimal(x).compareTo(toBigDecimal(y));\r\n    }\r\n    \r\n    private static boolean isSpecial(Number x) {\r\n        var specialDouble = x instanceof Double d\r\n                &amp;&amp; (Double.isNaN(d) || Double.isInfinite(d));\r\n        var specialFloat = x instanceof Float f\r\n                &amp;&amp; (Float.isNaN(f) || Float.isInfinite(f));\r\n        return specialDouble || specialFloat;\r\n    }\r\n    \r\n    private static BigDecimal toBigDecimal(Number number) {\r\n        if (number instanceof BigDecimal d)\r\n            return d;\r\n        if (number instanceof BigInteger i)\r\n            return new BigDecimal(i);\r\n        if (number instanceof Byte || number instanceof Short\r\n                || number instanceof Integer || number instanceof Long)\r\n            return new BigDecimal(number.longValue());\r\n        if (number instanceof Float || number instanceof Double)\r\n            return new BigDecimal(number.doubleValue());\r\n        \r\n        try {\r\n            return new BigDecimal(number.toString());\r\n        } catch(NumberFormatException e) {\r\n            throw new RuntimeException(&quot;The given number (\\&quot;&quot; + number + &quot;\\&quot; of class &quot; + number.getClass().getName() + &quot;) does not have a parsable string representation&quot;, e);\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/q/12561485/1374678","title":"Comparing the values of two generic Numbers","body":"<p>After having asked a <a href=\"https://stackoverflow.com/q/12561485/1374678\">similar question</a> and studying the answers here, I came up with the following. I think it is more efficient and more robust than the solution given by gustafc:</p>\n<pre><code>public int compare(Number x, Number y) {\n    if (isSpecial(x) || isSpecial(y))\n        return Double.compare(x.doubleValue(), y.doubleValue());\n    else\n        return toBigDecimal(x).compareTo(toBigDecimal(y));\n}\n\nprivate static boolean isSpecial(Number x) {\n    var specialDouble = x instanceof Double d\n            &amp;&amp; (Double.isNaN(d) || Double.isInfinite(d));\n    var specialFloat = x instanceof Float f\n            &amp;&amp; (Float.isNaN(f) || Float.isInfinite(f));\n    return specialDouble || specialFloat;\n}\n\nprivate static BigDecimal toBigDecimal(Number number) {\n    if (number instanceof BigDecimal d)\n        return d;\n    if (number instanceof BigInteger i)\n        return new BigDecimal(i);\n    if (number instanceof Byte || number instanceof Short\n            || number instanceof Integer || number instanceof Long)\n        return new BigDecimal(number.longValue());\n    if (number instanceof Float || number instanceof Double)\n        return new BigDecimal(number.doubleValue());\n    \n    try {\n        return new BigDecimal(number.toString());\n    } catch(NumberFormatException e) {\n        throw new RuntimeException(&quot;The given number (\\&quot;&quot; + number + &quot;\\&quot; of class &quot; + number.getClass().getName() + &quot;) does not have a parsable string representation&quot;, e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1524820736,"creation_date":1383836977,"answer_id":19839412,"question_id":2683202,"body_markdown":"One solution that might work for you is to work not with `T extends Number` but with `T extends Number &amp; Comparable`. This type means: &quot;`T` can only be set to types that implements *both* the interfaces.&quot;\r\n\r\nThat allows you to write code that works with all comparable numbers. Statically typed and elegant.\r\n\r\nThis is the same solution that BennyBoy proposes, but it works with all kinds of methods, not only with comparator classes.\r\n\r\n    public static &lt;T extends Number &amp; Comparable&lt;T&gt;&gt; void compfunc(T n1, T n2) {\r\n        if (n1.compareTo(n2) &gt; 0) System.out.println(&quot;n1 is bigger&quot;);\r\n    }\r\n    \r\n\tpublic void test() {\r\n        compfunc(2, 1); // Works with Integer.\r\n        compfunc(2.0, 1.0); // And all other types that are subtypes of both Number and Comparable.\r\n        compfunc(2, 1.0); // Compilation error! Different types.\r\n        compfunc(new AtomicInteger(1), new AtomicInteger(2)); // Compilation error! Not subtype of Comparable\r\n\t}\r\n","title":"Comparing the values of two generic Numbers","body":"<p>One solution that might work for you is to work not with <code>T extends Number</code> but with <code>T extends Number &amp; Comparable</code>. This type means: \"<code>T</code> can only be set to types that implements <em>both</em> the interfaces.\"</p>\n\n<p>That allows you to write code that works with all comparable numbers. Statically typed and elegant.</p>\n\n<p>This is the same solution that BennyBoy proposes, but it works with all kinds of methods, not only with comparator classes.</p>\n\n<pre><code>public static &lt;T extends Number &amp; Comparable&lt;T&gt;&gt; void compfunc(T n1, T n2) {\n    if (n1.compareTo(n2) &gt; 0) System.out.println(\"n1 is bigger\");\n}\n\npublic void test() {\n    compfunc(2, 1); // Works with Integer.\n    compfunc(2.0, 1.0); // And all other types that are subtypes of both Number and Comparable.\n    compfunc(2, 1.0); // Compilation error! Different types.\n    compfunc(new AtomicInteger(1), new AtomicInteger(2)); // Compilation error! Not subtype of Comparable\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"score":0,"creation_date":1696924205,"post_id":72524823,"comment_id":136211363,"body_markdown":"Is there an updated &quot;first shot&quot; or is this still the best one?","body":"Is there an updated &quot;first shot&quot; or is this still the best one?"},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":0,"creation_date":1698971708,"post_id":72524823,"comment_id":136475629,"body_markdown":"I&#39;ve done some thorough testing of this one and it seems to work. I didn&#39;t use exactly this code, but equivalent code, and IntelliJ suggested replacing `a == b` with `Objects.equals()`.","body":"I&#39;ve done some thorough testing of this one and it seems to work. I didn&#39;t use exactly this code, but equivalent code, and IntelliJ suggested replacing <code>a == b</code> with <code>Objects.equals()</code>."}],"tags":[],"owner":{"account_id":6731003,"reputation":89,"user_id":5187346,"display_name":"Babak Farhang"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654566317,"creation_date":1654563213,"answer_id":72524823,"question_id":2683202,"body_markdown":"In my use case, I was looking for a general `Comparator` that works with the autoboxed primitives (64 bit max precision), not arbitrary precision types like `BigInteger` and `BigDecimal`. Here&#39;s a first shot at it..\r\n\r\n    public class PrimitiveComparator implements Comparator&lt;Number&gt; {\r\n    \r\n      @Override\r\n      public int compare(Number a, Number b) {\r\n        if (a == b)\r\n          return 0;\r\n        double aD = a.doubleValue();\r\n        double bD = b.doubleValue();\r\n        int comp = Double.compare(aD, bD);\r\n        if (comp == 0 &amp;&amp; inLongBounds(aD))\r\n          comp = Long.compare(a.longValue(), b.longValue());\r\n        return comp;\r\n      }\r\n      \r\n      private boolean inLongBounds(double value) {\r\n        return\r\n            Double.compare(value, Long.MAX_VALUE) &lt;= 0 &amp;&amp;\r\n            Double.compare(value, Long.MIN_VALUE) &gt;= 0;\r\n      }\r\n    }\r\n\r\nThe objective is to be able to compare mixed types (e.g. `Float`s against `Long`s). This should also work with those AtomicXxx types (or any hand rolled Number subclass that uses no more than 64 bits).\r\n\r\nIn this ordering, btw, `Double.NaN &gt; Double.POSITVE_INFINITY &gt; { everything else }`.","title":"Comparing the values of two generic Numbers","body":"<p>In my use case, I was looking for a general <code>Comparator</code> that works with the autoboxed primitives (64 bit max precision), not arbitrary precision types like <code>BigInteger</code> and <code>BigDecimal</code>. Here's a first shot at it..</p>\n<pre><code>public class PrimitiveComparator implements Comparator&lt;Number&gt; {\n\n  @Override\n  public int compare(Number a, Number b) {\n    if (a == b)\n      return 0;\n    double aD = a.doubleValue();\n    double bD = b.doubleValue();\n    int comp = Double.compare(aD, bD);\n    if (comp == 0 &amp;&amp; inLongBounds(aD))\n      comp = Long.compare(a.longValue(), b.longValue());\n    return comp;\n  }\n  \n  private boolean inLongBounds(double value) {\n    return\n        Double.compare(value, Long.MAX_VALUE) &lt;= 0 &amp;&amp;\n        Double.compare(value, Long.MIN_VALUE) &gt;= 0;\n  }\n}\n</code></pre>\n<p>The objective is to be able to compare mixed types (e.g. <code>Float</code>s against <code>Long</code>s). This should also work with those AtomicXxx types (or any hand rolled Number subclass that uses no more than 64 bits).</p>\n<p>In this ordering, btw, <code>Double.NaN &gt; Double.POSITVE_INFINITY &gt; { everything else }</code>.</p>\n"},{"tags":[],"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698959682,"creation_date":1698959682,"answer_id":77412935,"question_id":2683202,"body_markdown":"It doesn&#39;t seem as if it is possible to compare Number objects or handle numbers with generics in other ways, however, the good news is that there are only six primitive number types, so implementing functionality that seems to be generic may be cumbersome when implementing it but can look nice to the final user.\r\n\r\nThis is how I&#39;ve implemented this:\r\n\r\n    public class LongNumber {\r\n    \tpublic int compareTo(byte n) {\r\n    \t\treturn Long.compare(number, ((Byte)n).longValue());\r\n    \t}\r\n    \tpublic int compareTo(short n) {\r\n    \t\treturn Long.compare(number, ((Short)n).longValue());\r\n    \t}\r\n    \tpublic int compareTo(int n) {\r\n    \t\treturn Long.compare(number, ((Integer)n).longValue());\r\n    \t}\r\n    \tpublic int compareTo(long n) {\r\n    \t\treturn Long.compare(number, n);\r\n    \t}\r\n    \tpublic int compareTo(float n) {\r\n    \t\treturn Double.compare(number.doubleValue(), ((Float)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(double n) {\r\n    \t\treturn Double.compare(number.doubleValue(), n);\r\n    \t}\r\n    \r\n    \tpublic LongNumber(byte number) { this(((Byte)number).longValue()); }\r\n    \tpublic LongNumber(short number) { this(((Short)number).longValue()); }\r\n    \tpublic LongNumber(int number) { this(((Integer)number).longValue()); }\r\n    \tpublic LongNumber(long number) { this.number = number; }\r\n    \r\n    \tprivate final Long number;\r\n    }\r\n\r\nThis class wraps integers (byte, short, int, long) and converts them all to Long. I&#39;ve opted to use primitives in the methods to avoid having to do null checks but stored the number as a `Long` in order to make the comparisons to `float` and `double` easier.\r\n\r\nAs a user of the class, you&#39;d do something like:\r\n\r\n\tbyte num = 64;\r\n\tfinal LongNumber longNumber = new LongNumber(num);\r\n\tSystem.out.println(&quot;123456L != 64: &quot; + (longNumber.compareTo(123456L) != 0));\r\n    \r\n\tSystem.out.println(&quot;Even though (byte)123456L = &quot; + ((Long)123456L).byteValue());\r\n    \r\n\tSystem.out.println(&quot;Is 64 &gt; PI? &quot; + (longNumber.compareTo(Math.PI) &gt; 0));\r\n\r\nI have another class for floating point values where I do all comparisons using `Double.compare()` instead:\r\n\r\n    public class DoubleNumber {\r\n    \tpublic int compareTo(byte n) {\r\n    \t\treturn Double.compare(number, ((Byte)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(short n) {\r\n    \t\treturn Double.compare(number, ((Short)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(int n) {\r\n    \t\treturn Double.compare(number, ((Integer)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(long n) {\r\n    \t\treturn Double.compare(number, ((Long)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(float n) {\r\n    \t\treturn Double.compare(number, ((Float)n).doubleValue());\r\n    \t}\r\n    \tpublic int compareTo(double n) {\r\n    \t\treturn Double.compare(number, n);\r\n    \t}\r\n    \r\n    \tpublic DoubleNumber(float number) { this(((Float)number).doubleValue()); }\r\n    \tpublic DoubleNumber(double number) { this.number = number; }\r\n    \r\n    \tprivate final Double number;\r\n    }\r\n\r\nIf you want to work even more generically with numbers you could create a factory method for the classes (or actually six) that would wrap the input parameter in the correct wrapper class:\r\n\r\n\tpublic static LongNumber of(int n) {\r\n\t\treturn new LongNumber(n);\r\n\t}\r\n\tpublic static DoubleNumber of(float n) {\r\n\t\treturn new DoubleNumber(n);\r\n\t}\r\n\r\nYou could even create a static compare method like:\r\n\r\n\tpublic static int compare(double x, int y) {\r\n\t\treturn new DoubleNumber(x).compareTo(y);\r\n\t}\r\n\r\nThough, you&#39;d need to implement 36 of them. Again, hard work when coding it, but pretty nice when using it, and if the Java-people can do `List.of(...)` like they&#39;ve done (at least in Java 17), maybe 36 methods aren&#39;t such an extreme...\r\n\r\nHowever, if you&#39;re willing to implement 36 static methods you might want to do something like:\r\n\r\n\tpublic static int compare(double x, int y) {\r\n\t\treturn Double.compare(x, ((Integer) y).doubleValue());\r\n\t}\r\n\r\nMy use case is that I have a number I might want to work with more than once, so for me, wrapping it in a class where I only have to implement 6 compareTo-methods made the most sense.","title":"Comparing the values of two generic Numbers","body":"<p>It doesn't seem as if it is possible to compare Number objects or handle numbers with generics in other ways, however, the good news is that there are only six primitive number types, so implementing functionality that seems to be generic may be cumbersome when implementing it but can look nice to the final user.</p>\n<p>This is how I've implemented this:</p>\n<pre><code>public class LongNumber {\n    public int compareTo(byte n) {\n        return Long.compare(number, ((Byte)n).longValue());\n    }\n    public int compareTo(short n) {\n        return Long.compare(number, ((Short)n).longValue());\n    }\n    public int compareTo(int n) {\n        return Long.compare(number, ((Integer)n).longValue());\n    }\n    public int compareTo(long n) {\n        return Long.compare(number, n);\n    }\n    public int compareTo(float n) {\n        return Double.compare(number.doubleValue(), ((Float)n).doubleValue());\n    }\n    public int compareTo(double n) {\n        return Double.compare(number.doubleValue(), n);\n    }\n\n    public LongNumber(byte number) { this(((Byte)number).longValue()); }\n    public LongNumber(short number) { this(((Short)number).longValue()); }\n    public LongNumber(int number) { this(((Integer)number).longValue()); }\n    public LongNumber(long number) { this.number = number; }\n\n    private final Long number;\n}\n</code></pre>\n<p>This class wraps integers (byte, short, int, long) and converts them all to Long. I've opted to use primitives in the methods to avoid having to do null checks but stored the number as a <code>Long</code> in order to make the comparisons to <code>float</code> and <code>double</code> easier.</p>\n<p>As a user of the class, you'd do something like:</p>\n<pre><code>byte num = 64;\nfinal LongNumber longNumber = new LongNumber(num);\nSystem.out.println(&quot;123456L != 64: &quot; + (longNumber.compareTo(123456L) != 0));\n\nSystem.out.println(&quot;Even though (byte)123456L = &quot; + ((Long)123456L).byteValue());\n\nSystem.out.println(&quot;Is 64 &gt; PI? &quot; + (longNumber.compareTo(Math.PI) &gt; 0));\n</code></pre>\n<p>I have another class for floating point values where I do all comparisons using <code>Double.compare()</code> instead:</p>\n<pre><code>public class DoubleNumber {\n    public int compareTo(byte n) {\n        return Double.compare(number, ((Byte)n).doubleValue());\n    }\n    public int compareTo(short n) {\n        return Double.compare(number, ((Short)n).doubleValue());\n    }\n    public int compareTo(int n) {\n        return Double.compare(number, ((Integer)n).doubleValue());\n    }\n    public int compareTo(long n) {\n        return Double.compare(number, ((Long)n).doubleValue());\n    }\n    public int compareTo(float n) {\n        return Double.compare(number, ((Float)n).doubleValue());\n    }\n    public int compareTo(double n) {\n        return Double.compare(number, n);\n    }\n\n    public DoubleNumber(float number) { this(((Float)number).doubleValue()); }\n    public DoubleNumber(double number) { this.number = number; }\n\n    private final Double number;\n}\n</code></pre>\n<p>If you want to work even more generically with numbers you could create a factory method for the classes (or actually six) that would wrap the input parameter in the correct wrapper class:</p>\n<pre><code>public static LongNumber of(int n) {\n    return new LongNumber(n);\n}\npublic static DoubleNumber of(float n) {\n    return new DoubleNumber(n);\n}\n</code></pre>\n<p>You could even create a static compare method like:</p>\n<pre><code>public static int compare(double x, int y) {\n    return new DoubleNumber(x).compareTo(y);\n}\n</code></pre>\n<p>Though, you'd need to implement 36 of them. Again, hard work when coding it, but pretty nice when using it, and if the Java-people can do <code>List.of(...)</code> like they've done (at least in Java 17), maybe 36 methods aren't such an extreme...</p>\n<p>However, if you're willing to implement 36 static methods you might want to do something like:</p>\n<pre><code>public static int compare(double x, int y) {\n    return Double.compare(x, ((Integer) y).doubleValue());\n}\n</code></pre>\n<p>My use case is that I have a number I might want to work with more than once, so for me, wrapping it in a class where I only have to implement 6 compareTo-methods made the most sense.</p>\n"}],"owner":{"account_id":85613,"reputation":21012,"user_id":238578,"accept_rate":75,"display_name":"b_erb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58435,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":2683388,"answer_count":13,"score":74,"last_activity_date":1698959682,"creation_date":1271855994,"question_id":2683202,"body_markdown":"I want to compare to variables, both of type `T extends Number`. Now I want to know which of the two variables is greater than the other or equal. Unfortunately I don&#39;t know the exact type yet, I only know that it will be a subtype of `java.lang.Number`. How can I do that?\r\n\r\n**EDIT**: I tried another workaround using `TreeSet`s, which actually worked with natural ordering (of course it works, all subclasses of `Number` implement `Comparable` except for AtomicInteger and AtomicLong). Thus I&#39;ll lose duplicate values. When using `List`s, `Collection.sort()` will not accept my list due to bound mismatchs. Very unsatisfactory.\r\n\r\n","title":"Comparing the values of two generic Numbers","body":"<p>I want to compare to variables, both of type <code>T extends Number</code>. Now I want to know which of the two variables is greater than the other or equal. Unfortunately I don't know the exact type yet, I only know that it will be a subtype of <code>java.lang.Number</code>. How can I do that?</p>\n\n<p><strong>EDIT</strong>: I tried another workaround using <code>TreeSet</code>s, which actually worked with natural ordering (of course it works, all subclasses of <code>Number</code> implement <code>Comparable</code> except for AtomicInteger and AtomicLong). Thus I'll lose duplicate values. When using <code>List</code>s, <code>Collection.sort()</code> will not accept my list due to bound mismatchs. Very unsatisfactory.</p>\n"},{"tags":["java","inheritance","polymorphism","overriding"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1698959133,"post_id":77412839,"comment_id":136474175,"body_markdown":"If I recall correctly you can‚Äôt override static methods - trying adding the @Override annotation to the child classes method and see what you get","body":"If I recall correctly you can‚Äôt override static methods - trying adding the @Override annotation to the child classes method and see what you get"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1698959436,"creation_date":1698959088,"answer_id":77412873,"question_id":77412839,"body_markdown":"acceptPending is a static method, **static methods are called based on the compile time type of the object** ie Parent type. unlike instance methods.\r\n\r\nso removing static keywords from both classes would give you the expected behavior.","title":"Java polymorphism top level method is called","body":"<p>acceptPending is a static method, <strong>static methods are called based on the compile time type of the object</strong> ie Parent type. unlike instance methods.</p>\n<p>so removing static keywords from both classes would give you the expected behavior.</p>\n"}],"owner":{"account_id":7732618,"reputation":336,"user_id":5859299,"display_name":"Austin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77412873,"answer_count":1,"score":-2,"last_activity_date":1698959436,"creation_date":1698958660,"question_id":77412839,"body_markdown":"I have an inherited object in a java project and I am trying to call the overriden method in the child object. For some reason the parent version of the method is being called. It was my understanding of polymorphism that the lowest version of a method is always called. Why is the parent version being called?\r\n\r\n```\r\npublic class Generator\r\n{\r\n    public static void acceptPending()\r\n    {\r\n        System.out.println(&quot;top level is called&quot;);\r\n    }\r\n}\r\n\r\npublic class GeneratorNeo extends Generator\r\n{\r\n    public static void acceptPending()\r\n    {\r\n        System.out.println(&quot;neo level is called&quot;);\r\n    }\r\n}\r\n\r\npublic class Driver()\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Generator gen = null;\r\n        gen = new GeneratorNeo();\r\n        gen.acceptPending(); // prints top level is called\r\n    }\r\n}\r\n```","title":"Java polymorphism top level method is called","body":"<p>I have an inherited object in a java project and I am trying to call the overriden method in the child object. For some reason the parent version of the method is being called. It was my understanding of polymorphism that the lowest version of a method is always called. Why is the parent version being called?</p>\n<pre><code>public class Generator\n{\n    public static void acceptPending()\n    {\n        System.out.println(&quot;top level is called&quot;);\n    }\n}\n\npublic class GeneratorNeo extends Generator\n{\n    public static void acceptPending()\n    {\n        System.out.println(&quot;neo level is called&quot;);\n    }\n}\n\npublic class Driver()\n{\n    public static void main(String[] args)\n    {\n        Generator gen = null;\n        gen = new GeneratorNeo();\n        gen.acceptPending(); // prints top level is called\n    }\n}\n</code></pre>\n"},{"tags":["java","android-source"],"owner":{"account_id":20152721,"reputation":1,"user_id":14879883,"display_name":"Eqsz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698959083,"creation_date":1698830507,"question_id":77401526,"body_markdown":"I&#39;m trying to compile the Android SDK (version 11) via [Docker][1] scripts at *gitlab.com/android-rebuilds/auto*.\r\nFor various reasons, I have to use equipment that has 8&amp;nbsp;GB of RAM. The storage space is huge.\r\n\r\nThe scripts have been modified to work ([SSH][2] issue), and I&#39;ve also added a huge amount of swap memory (currently 315&amp;nbsp;GB).\r\nI also added [zram][3] memory.\r\n\r\nI added values in the *build.sh* and *build-sys-img.sh* scripts,\r\nexport JAVA_TOOL_OPTIONS, JAVA_OPTIONS and \\_JAVA_OPTION = &quot;-Xmx270g&quot; to allocate a large portion of the swap to the compiler.\r\n\r\nI also used `make -j1` instead of `make $(nproc)`.\r\n\r\nDespite all the steps, I still get errors, like Java Heap Space.\r\nThe errors varied occasionally, but the general pattern was as follows:\r\n\r\n```lang-none\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:4030)\r\n    at java.base/java.lang.StringLatin1.newString(StringLatin1.java:715)\r\n    at java.base/java.lang.String.substring(String.java:1879)\r\n    at java.base/java.lang.String.subSequence(String.java:1913)\r\n    at com.intellij.lang.impl.PsiBuilderImpl$RelativeTokenTextView.get(PsiBuilderImpl.java:1161)\r\n    at com.intellij.lang.java.parser.JavaParserUtil$TrailingWhitespacesAndCommentsBinder.getEdgePosition(JavaParserUtil.java:88)\r\n    at com.intellij.lang.impl.PsiBuilderImpl.balanceWhiteSpaces(PsiBuilderImpl.java:1116)\r\n    at com.intellij.lang.impl.PsiBuilderImpl.prepareLightTree(PsiBuilderImpl.java:1017)\r\n    at com.intellij.lang.impl.PsiBuilderImpl.buildTree(PsiBuilderImpl.java:910)\r\n    at com.intellij.lang.impl.PsiBuilderImpl.getTreeBuilt(PsiBuilderImpl.java:905)\r\n    at com.intellij.psi.impl.source.tree.JavaElementType$ICodeBlockElementType.parseContents(JavaElementType.java:156)\r\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.lambda$ensureParsed$0(LazyParseableElement.java:206)\r\n    at com.intellij.psi.impl.source.tree.LazyParseableElement$$Lambda$213/0x00000001004e5440.run(Unknown Source)\r\n    at com.intellij.psi.impl.DebugUtil.performPsiModification(DebugUtil.java:553)\r\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.ensureParsed(LazyParseableElement.java:205)\r\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.getFirstChildNode(LazyParseableElement.java:254)\r\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.getFirstChild(LazyParseablePsiElement.java:90)\r\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.acceptChildren(LazyParseablePsiElement.java:104)\r\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\r\n    at com.intellij.psi.JavaElementVisitor.visitCodeBlock(JavaElementVisitor.java:52)\r\n    at com.intellij.psi.impl.source.tree.java.PsiCodeBlockImpl.accept(PsiCodeBlockImpl.java:212)\r\n    at com.intellij.psi.impl.source.tree.CompositePsiElement.acceptChildren(CompositePsiElement.java:81)\r\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\r\n    at com.intellij.psi.JavaElementVisitor.visitStatement(JavaElementVisitor.java:259)\r\n    at com.intellij.psi.JavaElementVisitor.visitBlockStatement(JavaElementVisitor.java:32)\r\n    at com.intellij.psi.impl.source.tree.java.PsiBlockStatementImpl.accept(PsiBlockStatementImpl.java:67)\r\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.acceptChildren(LazyParseablePsiElement.java:106)\r\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\r\n    at com.intellij.psi.JavaElementVisitor.visitCodeBlock(JavaElementVisitor.java:52)\r\n    at com.intellij.psi.impl.source.tree.java.PsiCodeBlockImpl.accept(PsiCodeBlockImpl.java:212)\r\n    at com.intellij.psi.impl.source.tree.CompositePsiElement.acceptChildren(CompositePsiElement.java:81)\r\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\r\nninja: build stopped: subcommand failed.\r\n09:03:17 ninja failed with: exit status 1\r\n```\r\n\r\nAdditionally, I am attaching a larger error package on this page: https://pastebin.com/YNN0fAp2\r\n\r\nHow can I fix this problem?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Docker_%28software%29\r\n  [2]: https://en.wikipedia.org/wiki/Secure_Shell\r\n  [3]: https://en.wikipedia.org/wiki/Zram\r\n\r\n\r\n","title":"How can I compile the Android SDK with low RAM?","body":"<p>I'm trying to compile the Android SDK (version 11) via <a href=\"https://en.wikipedia.org/wiki/Docker_%28software%29\" rel=\"nofollow noreferrer\">Docker</a> scripts at <em>gitlab.com/android-rebuilds/auto</em>.\nFor various reasons, I have to use equipment that has 8¬†GB of RAM. The storage space is huge.</p>\n<p>The scripts have been modified to work (<a href=\"https://en.wikipedia.org/wiki/Secure_Shell\" rel=\"nofollow noreferrer\">SSH</a> issue), and I've also added a huge amount of swap memory (currently 315¬†GB).\nI also added <a href=\"https://en.wikipedia.org/wiki/Zram\" rel=\"nofollow noreferrer\">zram</a> memory.</p>\n<p>I added values in the <em>build.sh</em> and <em>build-sys-img.sh</em> scripts,\nexport JAVA_TOOL_OPTIONS, JAVA_OPTIONS and _JAVA_OPTION = &quot;-Xmx270g&quot; to allocate a large portion of the swap to the compiler.</p>\n<p>I also used <code>make -j1</code> instead of <code>make $(nproc)</code>.</p>\n<p>Despite all the steps, I still get errors, like Java Heap Space.\nThe errors varied occasionally, but the general pattern was as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:4030)\n    at java.base/java.lang.StringLatin1.newString(StringLatin1.java:715)\n    at java.base/java.lang.String.substring(String.java:1879)\n    at java.base/java.lang.String.subSequence(String.java:1913)\n    at com.intellij.lang.impl.PsiBuilderImpl$RelativeTokenTextView.get(PsiBuilderImpl.java:1161)\n    at com.intellij.lang.java.parser.JavaParserUtil$TrailingWhitespacesAndCommentsBinder.getEdgePosition(JavaParserUtil.java:88)\n    at com.intellij.lang.impl.PsiBuilderImpl.balanceWhiteSpaces(PsiBuilderImpl.java:1116)\n    at com.intellij.lang.impl.PsiBuilderImpl.prepareLightTree(PsiBuilderImpl.java:1017)\n    at com.intellij.lang.impl.PsiBuilderImpl.buildTree(PsiBuilderImpl.java:910)\n    at com.intellij.lang.impl.PsiBuilderImpl.getTreeBuilt(PsiBuilderImpl.java:905)\n    at com.intellij.psi.impl.source.tree.JavaElementType$ICodeBlockElementType.parseContents(JavaElementType.java:156)\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.lambda$ensureParsed$0(LazyParseableElement.java:206)\n    at com.intellij.psi.impl.source.tree.LazyParseableElement$$Lambda$213/0x00000001004e5440.run(Unknown Source)\n    at com.intellij.psi.impl.DebugUtil.performPsiModification(DebugUtil.java:553)\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.ensureParsed(LazyParseableElement.java:205)\n    at com.intellij.psi.impl.source.tree.LazyParseableElement.getFirstChildNode(LazyParseableElement.java:254)\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.getFirstChild(LazyParseablePsiElement.java:90)\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.acceptChildren(LazyParseablePsiElement.java:104)\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\n    at com.intellij.psi.JavaElementVisitor.visitCodeBlock(JavaElementVisitor.java:52)\n    at com.intellij.psi.impl.source.tree.java.PsiCodeBlockImpl.accept(PsiCodeBlockImpl.java:212)\n    at com.intellij.psi.impl.source.tree.CompositePsiElement.acceptChildren(CompositePsiElement.java:81)\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\n    at com.intellij.psi.JavaElementVisitor.visitStatement(JavaElementVisitor.java:259)\n    at com.intellij.psi.JavaElementVisitor.visitBlockStatement(JavaElementVisitor.java:32)\n    at com.intellij.psi.impl.source.tree.java.PsiBlockStatementImpl.accept(PsiBlockStatementImpl.java:67)\n    at com.intellij.psi.impl.source.tree.LazyParseablePsiElement.acceptChildren(LazyParseablePsiElement.java:106)\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\n    at com.intellij.psi.JavaElementVisitor.visitCodeBlock(JavaElementVisitor.java:52)\n    at com.intellij.psi.impl.source.tree.java.PsiCodeBlockImpl.accept(PsiCodeBlockImpl.java:212)\n    at com.intellij.psi.impl.source.tree.CompositePsiElement.acceptChildren(CompositePsiElement.java:81)\n    at com.intellij.psi.JavaRecursiveElementVisitor.visitElement(JavaRecursiveElementVisitor.java:43)\nninja: build stopped: subcommand failed.\n09:03:17 ninja failed with: exit status 1\n</code></pre>\n<p>Additionally, I am attaching a larger error package on this page: <a href=\"https://pastebin.com/YNN0fAp2\" rel=\"nofollow noreferrer\">https://pastebin.com/YNN0fAp2</a></p>\n<p>How can I fix this problem?</p>\n"},{"tags":["java","jsp","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1599862196,"post_id":63854849,"comment_id":112917027,"body_markdown":"See https://stackoverflow.com/a/63606566/104891.","body":"See <a href=\"https://stackoverflow.com/a/63606566/104891\">stackoverflow.com/a/63606566/104891</a>."},{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1599862448,"post_id":63854849,"comment_id":112917101,"body_markdown":"thanks. i&#39;m not used to intellij, so maybe i would be better using eclipse than intellij following my instructor","body":"thanks. i&#39;m not used to intellij, so maybe i would be better using eclipse than intellij following my instructor"},{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":0,"creation_date":1599862909,"post_id":63854849,"comment_id":112917219,"body_markdown":"@cjLee Keep in mind that Eclipse has a much slower learning curve.","body":"@cjLee Keep in mind that Eclipse has a much slower learning curve."}],"answers":[{"comments":[{"owner":{"account_id":421337,"reputation":388,"user_id":799521,"accept_rate":80,"display_name":"luceat-lux-vestra"},"score":0,"creation_date":1652180879,"post_id":64887075,"comment_id":127538980,"body_markdown":"Can you share how did you make the project, IntelliJ versions or some more information? mine is not showing like yours.","body":"Can you share how did you make the project, IntelliJ versions or some more information? mine is not showing like yours."}],"tags":[],"owner":{"account_id":20000142,"reputation":16,"user_id":14659281,"display_name":"Azad Hossain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605693826,"creation_date":1605673424,"answer_id":64887075,"question_id":63854849,"body_markdown":"First, you can go to src &gt; main &gt; java, then right click:\r\n\r\n[![image][1]][1]\r\n\r\nand then New &gt; Create New Servlet.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i9jn8.png","title":"Where can i find to create new servlet file with intellij?","body":"<p>First, you can go to src &gt; main &gt; java, then right click:</p>\n<p><a href=\"https://i.stack.imgur.com/i9jn8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i9jn8.png\" alt=\"image\" /></a></p>\n<p>and then New &gt; Create New Servlet.</p>\n"},{"tags":[],"owner":{"account_id":24350063,"reputation":11,"user_id":18286010,"display_name":"iononi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652493100,"creation_date":1652492538,"answer_id":72236740,"question_id":63854849,"body_markdown":"I found this way I hope it works for you as it did for me. First I would recommend you to add support for Maven framework or you just could download the JAR file of the needed dependency for creating and managing servlets `Java Servlet API`.\r\n\r\n**Adding Framework support for Maven**\r\n\r\nOn the Project tool window, you have to select the module you want to add Maven Framework support to, right-click it and select `Add Framework support`. Just like this:\r\n\r\n[Adding Maven support][1]\r\n\r\nOn the new window you just select Web Application and Maven from the list of available Frameworks. When selecting Web Application it creates a `web` package and its `web.xml` configuration file. When asked, accept creating the web.xml file to proceed. After these steps your project structure might look like this:\r\n\r\n[Project structure after adding Maven and Web application frameworks][2]\r\n\r\n**Adding Java Servlet API dependency to pom.xml**\r\n\r\nNow you need to open the `pom.xml` file. This file helps you to add and manage your project dependencies as it allows you to retrieve them from the Apache Maven repository instead of downloading the JAR files and adding them manually to your project. You need to add the next dependency:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nYour pom file should look like this after the previous step:\r\n\r\n[Adding Java Servlet API dependency][3]\r\n\r\nAs final step, we need to open the `Project Structure` settings by pressing `Ctrl + Alt + Shift + S` or by navigating through `File &gt; Project Structure`. Here we are going to find a `Project Settings` section on the left side of the window. We need to go to `Facets` and you may find a facet named `Web`. On the bottom of the window you should see an option called `Source Roots`. You have to enable it by clicking the checkbox, then click `Apply` and finally `OK`. You have to make sure that path shown in this section is indeed the path to your projects&#39; `src &gt; main &gt; java` folder.\r\n\r\n[Marking folder as source root][4]\r\n\r\nOnce you&#39;ve done that, you should be able to go to any package in your project and create a servlet as follows: `New &gt; Servlet`.\r\n\r\n[Creating servlet][5]\r\n\r\n**Note:** if you got a syntax error when `pom.xml` file was created the only thing you need to do is to change the `&lt;groupId&gt;&lt;/groupId&gt;` tag content to a fully qualified name you want your project to be identified by.\r\n\r\n[Given your project a qualified name][6]\r\n\r\n**Note:** I wasn&#39;t able to find a way to configure permanently the `src &gt; main &gt; java` folder as source root, so every time you close and reopen your project you need to go to `Project Structure (Ctrl + Alt + Shift + S) &gt; Facets &gt; Web` and mark it as source root again. If you find a way to do this permanently I would appreciate you to share your method.\r\n\r\n**More info on**\r\n\r\n - [Create a Maven Project with IntelliJ IDEA](https://medium.com/@backslash112/create-maven-project-with-servlet-in-intellij-idea-2018-be0d673bd9af)\r\n - [Getting started with Web Service](https://www.jetbrains.com/help/idea/preparing-to-develop-a-web-service.html)\r\n\r\n  [1]: https://i.stack.imgur.com/yM7jm.jpg\r\n  [2]: https://i.stack.imgur.com/P9Dmm.jpg\r\n  [3]: https://i.stack.imgur.com/rnosP.jpg\r\n  [4]: https://i.stack.imgur.com/WUJ7D.jpg\r\n  [5]: https://i.stack.imgur.com/GhumM.jpg\r\n  [6]: https://i.stack.imgur.com/VzzYm.jpg","title":"Where can i find to create new servlet file with intellij?","body":"<p>I found this way I hope it works for you as it did for me. First I would recommend you to add support for Maven framework or you just could download the JAR file of the needed dependency for creating and managing servlets <code>Java Servlet API</code>.</p>\n<p><strong>Adding Framework support for Maven</strong></p>\n<p>On the Project tool window, you have to select the module you want to add Maven Framework support to, right-click it and select <code>Add Framework support</code>. Just like this:</p>\n<p><a href=\"https://i.stack.imgur.com/yM7jm.jpg\" rel=\"nofollow noreferrer\">Adding Maven support</a></p>\n<p>On the new window you just select Web Application and Maven from the list of available Frameworks. When selecting Web Application it creates a <code>web</code> package and its <code>web.xml</code> configuration file. When asked, accept creating the web.xml file to proceed. After these steps your project structure might look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/P9Dmm.jpg\" rel=\"nofollow noreferrer\">Project structure after adding Maven and Web application frameworks</a></p>\n<p><strong>Adding Java Servlet API dependency to pom.xml</strong></p>\n<p>Now you need to open the <code>pom.xml</code> file. This file helps you to add and manage your project dependencies as it allows you to retrieve them from the Apache Maven repository instead of downloading the JAR files and adding them manually to your project. You need to add the next dependency:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Your pom file should look like this after the previous step:</p>\n<p><a href=\"https://i.stack.imgur.com/rnosP.jpg\" rel=\"nofollow noreferrer\">Adding Java Servlet API dependency</a></p>\n<p>As final step, we need to open the <code>Project Structure</code> settings by pressing <code>Ctrl + Alt + Shift + S</code> or by navigating through <code>File &gt; Project Structure</code>. Here we are going to find a <code>Project Settings</code> section on the left side of the window. We need to go to <code>Facets</code> and you may find a facet named <code>Web</code>. On the bottom of the window you should see an option called <code>Source Roots</code>. You have to enable it by clicking the checkbox, then click <code>Apply</code> and finally <code>OK</code>. You have to make sure that path shown in this section is indeed the path to your projects' <code>src &gt; main &gt; java</code> folder.</p>\n<p><a href=\"https://i.stack.imgur.com/WUJ7D.jpg\" rel=\"nofollow noreferrer\">Marking folder as source root</a></p>\n<p>Once you've done that, you should be able to go to any package in your project and create a servlet as follows: <code>New &gt; Servlet</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/GhumM.jpg\" rel=\"nofollow noreferrer\">Creating servlet</a></p>\n<p><strong>Note:</strong> if you got a syntax error when <code>pom.xml</code> file was created the only thing you need to do is to change the <code>&lt;groupId&gt;&lt;/groupId&gt;</code> tag content to a fully qualified name you want your project to be identified by.</p>\n<p><a href=\"https://i.stack.imgur.com/VzzYm.jpg\" rel=\"nofollow noreferrer\">Given your project a qualified name</a></p>\n<p><strong>Note:</strong> I wasn't able to find a way to configure permanently the <code>src &gt; main &gt; java</code> folder as source root, so every time you close and reopen your project you need to go to <code>Project Structure (Ctrl + Alt + Shift + S) &gt; Facets &gt; Web</code> and mark it as source root again. If you find a way to do this permanently I would appreciate you to share your method.</p>\n<p><strong>More info on</strong></p>\n<ul>\n<li><a href=\"https://medium.com/@backslash112/create-maven-project-with-servlet-in-intellij-idea-2018-be0d673bd9af\" rel=\"nofollow noreferrer\">Create a Maven Project with IntelliJ IDEA</a></li>\n<li><a href=\"https://www.jetbrains.com/help/idea/preparing-to-develop-a-web-service.html\" rel=\"nofollow noreferrer\">Getting started with Web Service</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17166145,"reputation":21,"user_id":12424447,"display_name":"Kyaw Zayar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654545927,"creation_date":1654450796,"answer_id":72509698,"question_id":63854849,"body_markdown":" 1. right click *src\\java* &gt; *Mark directory as* &gt; *source root*\r\n 2. go to *File &gt; Project Structure...*\r\n 3. select *Facets*\r\n 4. click *Web(project name)*\r\n 5. check *src\\main\\java* under source root.\r\n\r\n![Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VLANE.png","title":"Where can i find to create new servlet file with intellij?","body":"<ol>\n<li>right click <em>src\\java</em> &gt; <em>Mark directory as</em> &gt; <em>source root</em></li>\n<li>go to <em>File &gt; Project Structure...</em></li>\n<li>select <em>Facets</em></li>\n<li>click <em>Web(project name)</em></li>\n<li>check <em>src\\main\\java</em> under source root.</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/VLANE.png\" alt=\"Screenshot\" /></p>\n"},{"tags":[],"owner":{"account_id":28829044,"reputation":1,"user_id":22079949,"display_name":"Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698958433,"creation_date":1698846157,"answer_id":77403079,"question_id":63854849,"body_markdown":"**EDIT:** If your using the Jartka EE plugin in Intellij IDEA, this should work.\r\n\r\nI had the same problem but I did this:\r\n\r\n 1. Open Intellij IDEA Settings by *Ctrl + Alt + S*\r\n 2. Go to *Editor -&gt; File and Code templates*\r\n 3. Add File by clicking on **+** icon\r\n 4. Name it by typing **Add new Servlet** in the *Name* field.\r\n 5. Make sure the *Extension* field is **Java**\r\n 6. Copy and Paste this text below and then click *OK* :\r\n```java\r\n#if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != &quot;&quot;)package ${PACKAGE_NAME};#end\r\n#parse(&quot;File Header.java&quot;)\r\nimport java.io.*;\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;\r\n\r\n@WebServlet(name = &quot;${NAME}Servlet&quot;, value = &quot;/${NAME}-servlet&quot;)\r\npublic class ${NAME} extends HttpServlet {\r\n    private String message;\r\n\r\n    public void init() {\r\n        message = &quot;Hello World!&quot;;\r\n    }\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        response.setContentType(&quot;text/html&quot;);\r\n\r\n        // Hello\r\n        PrintWriter out = response.getWriter();\r\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\r\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n    }\r\n\r\n    public void destroy() {\r\n    }\r\n}\r\n```","title":"Where can i find to create new servlet file with intellij?","body":"<p><strong>EDIT:</strong> If your using the Jartka EE plugin in Intellij IDEA, this should work.</p>\n<p>I had the same problem but I did this:</p>\n<ol>\n<li>Open Intellij IDEA Settings by <em>Ctrl + Alt + S</em></li>\n<li>Go to <em>Editor -&gt; File and Code templates</em></li>\n<li>Add File by clicking on <strong>+</strong> icon</li>\n<li>Name it by typing <strong>Add new Servlet</strong> in the <em>Name</em> field.</li>\n<li>Make sure the <em>Extension</em> field is <strong>Java</strong></li>\n<li>Copy and Paste this text below and then click <em>OK</em> :</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>#if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != &quot;&quot;)package ${PACKAGE_NAME};#end\n#parse(&quot;File Header.java&quot;)\nimport java.io.*;\nimport jakarta.servlet.http.*;\nimport jakarta.servlet.annotation.*;\n\n@WebServlet(name = &quot;${NAME}Servlet&quot;, value = &quot;/${NAME}-servlet&quot;)\npublic class ${NAME} extends HttpServlet {\n    private String message;\n\n    public void init() {\n        message = &quot;Hello World!&quot;;\n    }\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        response.setContentType(&quot;text/html&quot;);\n\n        // Hello\n        PrintWriter out = response.getWriter();\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n    }\n\n    public void destroy() {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1698958433,"creation_date":1599861793,"question_id":63854849,"body_markdown":"I&#39;m new learner of JSP programming, so I choose intellij as my IDE.\r\n\r\nI installed Intellij Ultimate, JDK14 from oracle,and Tomcat 9, and then searched for creating new project.\r\n\r\nBut, most of the posts which explain how to create a new servlet project says that\r\n\r\n&quot;when you create new project, you can find Web service checkbox under Additional Libraries and Frameworks in Java Pane.&quot; \r\n\r\nEven JetBrains&#39; are saying the same thing, (https://www.jetbrains.com/help/idea/preparing-to-develop-a-web-service.html), but I couldn&#39;t find it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOf course I checked whether my plugins are enabled.\r\n\r\nAnyway, I found another way to create it by selecting Java Enterprise, and after clicking Next, checking &quot;Web profile&quot; from Libraries and Frameworks.\r\n\r\nBut now, Another problem occurs because **I cannot find &quot;new - servlet project with right clicking on the src or src/main/java**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhy are these things happening? Even if I find some way to create servlet file, maybe there will be other problems like this, I think. \r\n\r\nIs there any prerequiste for JSP project? or is it just because intellij has been ungraded? I wanna know the reason why my intellij is different with others.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w8RQt.png\r\n  [2]: https://i.stack.imgur.com/1k2Kt.png","title":"Where can i find to create new servlet file with intellij?","body":"<p>I'm new learner of JSP programming, so I choose intellij as my IDE.</p>\n<p>I installed Intellij Ultimate, JDK14 from oracle,and Tomcat 9, and then searched for creating new project.</p>\n<p>But, most of the posts which explain how to create a new servlet project says that</p>\n<p>&quot;when you create new project, you can find Web service checkbox under Additional Libraries and Frameworks in Java Pane.&quot;</p>\n<p>Even JetBrains' are saying the same thing, (<a href=\"https://www.jetbrains.com/help/idea/preparing-to-develop-a-web-service.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/preparing-to-develop-a-web-service.html</a>), but I couldn't find it.</p>\n<p><a href=\"https://i.stack.imgur.com/w8RQt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w8RQt.png\" alt=\"enter image description here\" /></a></p>\n<p>Of course I checked whether my plugins are enabled.</p>\n<p>Anyway, I found another way to create it by selecting Java Enterprise, and after clicking Next, checking &quot;Web profile&quot; from Libraries and Frameworks.</p>\n<p>But now, Another problem occurs because <strong>I cannot find &quot;new - servlet project with right clicking on the src or src/main/java</strong></p>\n<p><a href=\"https://i.stack.imgur.com/1k2Kt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1k2Kt.png\" alt=\"enter image description here\" /></a></p>\n<p>Why are these things happening? Even if I find some way to create servlet file, maybe there will be other problems like this, I think.</p>\n<p>Is there any prerequiste for JSP project? or is it just because intellij has been ungraded? I wanna know the reason why my intellij is different with others.</p>\n"},{"tags":["java","spring-boot","slf4j","amazon-kinesis","datadog"],"owner":{"account_id":17149274,"reputation":17,"user_id":12411563,"display_name":"Pier Zegarra Reymundo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698958228,"creation_date":1698958228,"question_id":77412803,"body_markdown":"I&#39;m working with spring boot 2, java 11 and Datadog. I have this problem:\r\nLogs Show Info Status For Warnings Or Errors.\r\nhttps://docs.datadoghq.com/logs/guide/logs-show-info-status-for-warnings-or-errors/#define-a-log-status-remapper\r\nThe Datadog configuration is only failing to one service: The problem is the following:\r\n\r\nThe color of the log mismatches to the status: for instance: \r\nsometimes the color is red and the status is ERROR(ok)\r\nsometimes the color is red but the status is INFO(bad)\r\n\r\nThese are the dependencies related to logs:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.32&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n            &lt;version&gt;6.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.kinesis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;amazon-kinesis-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIn datadog the log format to the service is:\r\n```\r\n%{date(&quot;HH:mm:ss.SSS&quot;):timestamp}\\s+\\[%{data:thread}\\]\\s+%{word:status}\\s+%{data.class}\\s+-\\s+%{data:message}\r\n```\r\nThis is the logback:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %level %logger{15} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/root&gt;\r\n    &lt;logger name=&quot;software.amazon.kinesis&quot;&gt;\r\n        &lt;level value=&quot;INFO&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\nCould you please give me any insight to solve it? ","title":"Spring boot/ Datadog- Logs Show Info Status For Warnings Or Errors","body":"<p>I'm working with spring boot 2, java 11 and Datadog. I have this problem:\nLogs Show Info Status For Warnings Or Errors.\n<a href=\"https://docs.datadoghq.com/logs/guide/logs-show-info-status-for-warnings-or-errors/#define-a-log-status-remapper\" rel=\"nofollow noreferrer\">https://docs.datadoghq.com/logs/guide/logs-show-info-status-for-warnings-or-errors/#define-a-log-status-remapper</a>\nThe Datadog configuration is only failing to one service: The problem is the following:</p>\n<p>The color of the log mismatches to the status: for instance:\nsometimes the color is red and the status is ERROR(ok)\nsometimes the color is red but the status is INFO(bad)</p>\n<p>These are the dependencies related to logs:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;2.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;1.7.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.kinesis&lt;/groupId&gt;\n            &lt;artifactId&gt;amazon-kinesis-client&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>In datadog the log format to the service is:</p>\n<pre><code>%{date(&quot;HH:mm:ss.SSS&quot;):timestamp}\\s+\\[%{data:thread}\\]\\s+%{word:status}\\s+%{data.class}\\s+-\\s+%{data:message}\n</code></pre>\n<p>This is the logback:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %level %logger{15} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/root&gt;\n    &lt;logger name=&quot;software.amazon.kinesis&quot;&gt;\n        &lt;level value=&quot;INFO&quot;/&gt;\n    &lt;/logger&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>Could you please give me any insight to solve it?</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":3814914,"reputation":1785,"user_id":3164492,"accept_rate":71,"display_name":"Devavrata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698957810,"creation_date":1698957810,"question_id":77412783,"body_markdown":"I want to sort within partition based on key in JavaPairRDD using keyComparator. I checked sortByKey it is creating two jobs within one spark submit one without shuffle(single stage:(mapToPair+sortByKey)) and another job with shuffle(two stages: mapToPair &amp; sortByKey).\r\n\r\nThis looks completely unnecessary to have two jobs and I am not able to find way to do inpartition sort. Tried MapParititionsToPair doing\r\n```\r\nrdd.mapParititionsToPair(it -&gt; //creating list and adding element from iterator list then sorting list)\r\n```\r\nis going out of memory. Please help here. ","title":"SortByKey in JavaPairRDD is creating multiple jobs","body":"<p>I want to sort within partition based on key in JavaPairRDD using keyComparator. I checked sortByKey it is creating two jobs within one spark submit one without shuffle(single stage:(mapToPair+sortByKey)) and another job with shuffle(two stages: mapToPair &amp; sortByKey).</p>\n<p>This looks completely unnecessary to have two jobs and I am not able to find way to do inpartition sort. Tried MapParititionsToPair doing</p>\n<pre><code>rdd.mapParititionsToPair(it -&gt; //creating list and adding element from iterator list then sorting list)\n</code></pre>\n<p>is going out of memory. Please help here.</p>\n"},{"tags":["java","spring-boot","gradle","lombok","java-17"],"comments":[{"owner":{"account_id":7757367,"reputation":572,"user_id":5871191,"display_name":"Patrick Bray"},"score":2,"creation_date":1631657474,"post_id":69184925,"comment_id":122280898,"body_markdown":"Interesting looks like Java 17 may not yet be supported by Gradle https://docs.gradle.org/current/userguide/compatibility.html \n\n&quot;A Java version between 8 and 16 is required to execute Gradle. Java 17 and later versions are not yet supported.&quot;","body":"Interesting looks like Java 17 may not yet be supported by Gradle <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html</a>   &quot;A Java version between 8 and 16 is required to execute Gradle. Java 17 and later versions are not yet supported.&quot;"},{"owner":{"account_id":288665,"reputation":1204,"user_id":589216,"accept_rate":55,"display_name":"andred"},"score":5,"creation_date":1631689340,"post_id":69184925,"comment_id":122286652,"body_markdown":"I had the same problem with Maven 3.8.2 today. All worked well with OpenJDK 17.ea.3.pma yesterday and started to fail when upgrading to the final release. I got it working again after removing Lombok&#39;s `@Singular` annotation from one of my fields.","body":"I had the same problem with Maven 3.8.2 today. All worked well with OpenJDK 17.ea.3.pma yesterday and started to fail when upgrading to the final release. I got it working again after removing Lombok&#39;s <code>@Singular</code> annotation from one of my fields."},{"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"score":1,"creation_date":1631736698,"post_id":69184925,"comment_id":122306168,"body_markdown":"Had exactly the same issue today with gradle 7.2 and jdk 17 GA. Filed the bug  at openjdk.java.net as well. Interesting that the guy that closed the issue stated that this probably is NOT the problem with java compiler, but with the code... HA? I would expect from compiler to get clear compilation error message in this case and NOT run time exception....","body":"Had exactly the same issue today with gradle 7.2 and jdk 17 GA. Filed the bug  at openjdk.java.net as well. Interesting that the guy that closed the issue stated that this probably is NOT the problem with java compiler, but with the code... HA? I would expect from compiler to get clear compilation error message in this case and NOT run time exception...."},{"owner":{"account_id":7757367,"reputation":572,"user_id":5871191,"display_name":"Patrick Bray"},"score":1,"creation_date":1631743615,"post_id":69184925,"comment_id":122307988,"body_markdown":"Thanks @andred looks like my issue was caused by Lombok as well. After De-lomboking I was able to compile &amp; run the application in question on JDK 17 with Gradle 7.2. If you want to convert your comment an answer for this I will be happy to accept this otherwise will add an answer for others who stumble upon this.","body":"Thanks @andred looks like my issue was caused by Lombok as well. After De-lomboking I was able to compile &amp; run the application in question on JDK 17 with Gradle 7.2. If you want to convert your comment an answer for this I will be happy to accept this otherwise will add an answer for others who stumble upon this."}],"answers":[{"comments":[{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":3,"creation_date":1639991631,"post_id":69201733,"comment_id":124480133,"body_markdown":"Seems like `1.8.21` was never released. But there is a version `1.18.22`","body":"Seems like <code>1.8.21</code> was never released. But there is a version <code>1.18.22</code>"},{"owner":{"account_id":1895162,"reputation":365,"user_id":1712310,"accept_rate":75,"display_name":"charles"},"score":0,"creation_date":1653345796,"post_id":69201733,"comment_id":127825119,"body_markdown":"1.18.22 fixed my issue.","body":"1.18.22 fixed my issue."},{"owner":{"account_id":3509030,"reputation":682,"user_id":2933843,"accept_rate":59,"display_name":"kodi1911"},"score":1,"creation_date":1671100545,"post_id":69201733,"comment_id":132026991,"body_markdown":"I&#39;m using `io.freefair.lombok` plugin. Bumping it to the latest `6.6` fixed my issue","body":"I&#39;m using <code>io.freefair.lombok</code> plugin. Bumping it to the latest <code>6.6</code> fixed my issue"}],"tags":[],"owner":{"account_id":22761140,"reputation":286,"user_id":16919947,"display_name":"haocheng"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1698957546,"creation_date":1631759700,"answer_id":69201733,"question_id":69184925,"body_markdown":"The issue with Lombok `@Singular` annotation is fixed in Lombok `1.8.22` according to [this Lombok github PR][1]. It&#39;s working for me with Maven compiler plugin 3.8.1 and Oracle OpenJDK 17 :)\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/pull/2936","title":"Gradle 7.2 Java 17 Build issue java.lang.NullPointerException: Cannot read field &quot;bindingsWhenTrue&quot; because &quot;currentBindings&quot; is null","body":"<p>The issue with Lombok <code>@Singular</code> annotation is fixed in Lombok <code>1.8.22</code> according to <a href=\"https://github.com/projectlombok/lombok/pull/2936\" rel=\"nofollow noreferrer\">this Lombok github PR</a>. It's working for me with Maven compiler plugin 3.8.1 and Oracle OpenJDK 17 :)</p>\n"}],"owner":{"account_id":7757367,"reputation":572,"user_id":5871191,"display_name":"Patrick Bray"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15195,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":69201733,"answer_count":1,"score":21,"last_activity_date":1698957546,"creation_date":1631656584,"question_id":69184925,"body_markdown":"Testing out upgrading some services to Java 17 now that it is GA and ran into the following issue compiling a Gradle 7.2 Spring Boot Application:  \r\n\r\n```\r\n&gt; Task :compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nAn exception has occurred in the compiler (17). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program, the following diagnostic, and the parameters passed to the Java compiler in your report. Thank you.\r\njava.lang.NullPointerException: Cannot read field &quot;bindingsWhenTrue&quot; because &quot;currentBindings&quot; is null\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.handleSwitch(Attr.java:1791)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitSwitch(Attr.java:1586)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCSwitch.accept(JCTree.java:1294)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStats(Attr.java:767)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitBlock(Attr.java:1445)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1091)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitMethodDef(Attr.java:1235)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:921)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitClassDef(Attr.java:977)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:819)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.visitClassDef(Attr.java:977)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:819)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.attrib(Attr.java:5141)\r\n\tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.attribute(JavaCompiler.java:1317)\r\n\tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:946)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\r\n\tat jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\r\n\tat org.gradle.internal.compiler.java.IncrementalCompileTask.call(IncrementalCompileTask.java:77)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessingCompileTask.call(AnnotationProcessingCompileTask.java:94)\r\n\tat org.gradle.api.internal.tasks.compile.ResourceCleaningCompilationTask.call(ResourceCleaningCompilationTask.java:57)\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:55)\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:40)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:46)\r\n\tat org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:36)\r\n\tat org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler.execute(DefaultToolchainJavaCompiler.java:57)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.lambda$createToolchainCompiler$1(JavaCompile.java:251)\r\n\tat org.gradle.api.internal.tasks.compile.CleaningJavaCompiler.execute(CleaningJavaCompiler.java:53)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilerFactory.lambda$createRebuildAllCompiler$0(IncrementalCompilerFactory.java:98)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:61)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:45)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:59)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:51)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler.execute(CompileJavaBuildOperationReportingCompiler.java:51)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:300)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performIncrementalCompilation(JavaCompile.java:179)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:152)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\tat org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:498)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:483)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:466)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:105)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:270)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:248)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:83)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:37)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:47)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:37)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:54)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:35)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:174)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:74)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:45)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:40)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:29)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:99)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:92)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:84)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:41)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:91)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:78)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:49)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:105)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:86)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:32)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$2.withWorkspace(ExecuteActionsTaskExecuter.java:283)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:49)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:35)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nAlso stumbled across this issue https://bugs.openjdk.java.net/browse/JDK-8272981 but that seems to be closed as not an issue with the JDK will attempt different gradle versions to see if this resolves it.\r\n\r\nAny pointers much appreciated thanks.   ","title":"Gradle 7.2 Java 17 Build issue java.lang.NullPointerException: Cannot read field &quot;bindingsWhenTrue&quot; because &quot;currentBindings&quot; is null","body":"<p>Testing out upgrading some services to Java 17 now that it is GA and ran into the following issue compiling a Gradle 7.2 Spring Boot Application:</p>\n<pre><code>&gt; Task :compileJava\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nAn exception has occurred in the compiler (17). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program, the following diagnostic, and the parameters passed to the Java compiler in your report. Thank you.\njava.lang.NullPointerException: Cannot read field &quot;bindingsWhenTrue&quot; because &quot;currentBindings&quot; is null\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.handleSwitch(Attr.java:1791)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.visitSwitch(Attr.java:1586)\n    at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCSwitch.accept(JCTree.java:1294)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStats(Attr.java:767)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.visitBlock(Attr.java:1445)\n    at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1091)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.visitMethodDef(Attr.java:1235)\n    at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:921)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.visitClassDef(Attr.java:977)\n    at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:819)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.visitClassDef(Attr.java:977)\n    at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:819)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribTree(Attr.java:674)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribStat(Attr.java:748)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClassBody(Attr.java:5474)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5365)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attribClass(Attr.java:5196)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.attrib(Attr.java:5141)\n    at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.attribute(JavaCompiler.java:1317)\n    at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:946)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\n    at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\n    at org.gradle.internal.compiler.java.IncrementalCompileTask.call(IncrementalCompileTask.java:77)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessingCompileTask.call(AnnotationProcessingCompileTask.java:94)\n    at org.gradle.api.internal.tasks.compile.ResourceCleaningCompilationTask.call(ResourceCleaningCompilationTask.java:57)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:55)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:40)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:97)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.AnnotationProcessorDiscoveringCompiler.execute(AnnotationProcessorDiscoveringCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:46)\n    at org.gradle.api.internal.tasks.compile.ModuleApplicationNameWritingCompiler.execute(ModuleApplicationNameWritingCompiler.java:36)\n    at org.gradle.jvm.toolchain.internal.DefaultToolchainJavaCompiler.execute(DefaultToolchainJavaCompiler.java:57)\n    at org.gradle.api.tasks.compile.JavaCompile.lambda$createToolchainCompiler$1(JavaCompile.java:251)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompiler.execute(CleaningJavaCompiler.java:53)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilerFactory.lambda$createRebuildAllCompiler$0(IncrementalCompilerFactory.java:98)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:61)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalResultStoringCompiler.execute(IncrementalResultStoringCompiler.java:45)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:59)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler$2.call(CompileJavaBuildOperationReportingCompiler.java:51)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.api.internal.tasks.compile.CompileJavaBuildOperationReportingCompiler.execute(CompileJavaBuildOperationReportingCompiler.java:51)\n    at org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:300)\n    at org.gradle.api.tasks.compile.JavaCompile.performIncrementalCompilation(JavaCompile.java:179)\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:152)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:498)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:483)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:466)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:105)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:270)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:248)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:83)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:37)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:47)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:37)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:50)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:54)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:35)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:174)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:74)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:45)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:40)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:29)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:99)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:92)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:84)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:41)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:91)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:78)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:49)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:105)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:86)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:32)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$2.withWorkspace(ExecuteActionsTaskExecuter.java:283)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:49)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:35)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Also stumbled across this issue <a href=\"https://bugs.openjdk.java.net/browse/JDK-8272981\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8272981</a> but that seems to be closed as not an issue with the JDK will attempt different gradle versions to see if this resolves it.</p>\n<p>Any pointers much appreciated thanks.</p>\n"},{"tags":["java","kotlin","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1698964337,"post_id":77412611,"comment_id":136474862,"body_markdown":"Rig up a Proxy or Mock debugging Server where it will allow you to make your POST and observer the Header and Body that Postman and your code send.  Then compare.","body":"Rig up a Proxy or Mock debugging Server where it will allow you to make your POST and observer the Header and Body that Postman and your code send.  Then compare."}],"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698957517,"creation_date":1698955887,"question_id":77412611,"body_markdown":"How to send a file and some params at the same time using webflux webclient in Java/Kotlin? The following code did not work, it returned `500`, although I could successfully send the same data using Postman&#39;s `form-data`:\r\n\r\n    val multiPartRequest: MultiValueMap&lt;String, Any&gt; = LinkedMultiValueMap()\r\n    multiPartRequest.add(&quot;file&quot;, ByteArrayResource(myByteArray))\r\n    multiPartRequest.add(&quot;param1&quot;, &quot;1&quot;)\r\n    multiPartRequest.add(&quot;param2&quot;, &quot;2&quot;)\r\n        \r\n    webClient.post()\r\n      .uri(&quot;/upload_url&quot;)\r\n      .contentType(MediaType.MULTIPART_FORM_DATA)\r\n      .body(BodyInserters.fromMultipartData(multiPartRequest ))\r\n      .retrieve()","title":"Sending file+params using webclient Spring","body":"<p>How to send a file and some params at the same time using webflux webclient in Java/Kotlin? The following code did not work, it returned <code>500</code>, although I could successfully send the same data using Postman's <code>form-data</code>:</p>\n<pre><code>val multiPartRequest: MultiValueMap&lt;String, Any&gt; = LinkedMultiValueMap()\nmultiPartRequest.add(&quot;file&quot;, ByteArrayResource(myByteArray))\nmultiPartRequest.add(&quot;param1&quot;, &quot;1&quot;)\nmultiPartRequest.add(&quot;param2&quot;, &quot;2&quot;)\n    \nwebClient.post()\n  .uri(&quot;/upload_url&quot;)\n  .contentType(MediaType.MULTIPART_FORM_DATA)\n  .body(BodyInserters.fromMultipartData(multiPartRequest ))\n  .retrieve()\n</code></pre>\n"},{"tags":["java","netbeans-platform","netbeans-plugins"],"comments":[{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":0,"creation_date":1699536794,"post_id":77412706,"comment_id":136546305,"body_markdown":"Not sure if this helps but under https://netbeans.apache.org/wiki/main/wiki/FaqPluginManagerCustomization/ there&#39;s a paragraph &quot;Install all plugins into NetBeans installation directory&quot; which sounds promising","body":"Not sure if this helps but under <a href=\"https://netbeans.apache.org/wiki/main/wiki/FaqPluginManagerCustomization/\" rel=\"nofollow noreferrer\">netbeans.apache.org/wiki/main/wiki/&hellip;</a> there&#39;s a paragraph &quot;Install all plugins into NetBeans installation directory&quot; which sounds promising"}],"owner":{"account_id":7288829,"reputation":85,"user_id":5556026,"display_name":"Shane Gillis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698956990,"creation_date":1698956990,"question_id":77412706,"body_markdown":"I&#39;m writing a NetBeans Plugin for an application that is built upon the NetBeans Platform.  The plugin installs just fine and runs, but my customer has a use case where it would be useful to have the plugin installed for all users, rather than having each user install the plugin manually.\r\n\r\nTo that end, the NetBeans Platform has a plugin option for installing a plugin to a shared location (in NetBeans: Tools-&gt; Plugins; click on the Settings tab on the far right; look for Plugin Install Location at the bottom).\r\n\r\nWhat I&#39;m confused about is how the Shared Location is determined?  I&#39;ve heard it has something to do with the NBM Cluster path ([What is a Cluster?][1]), but I can&#39;t find any information regarding how to use the Cluster to set the install path.\r\n\r\nWhat does happen is that when I install to the User Directory, I get an obvious install to my home directory (`\\home\\$USERNAME\\.appname`).  When I install to the Shared Directory, it installs to `\\root\\.appname`.\r\n\r\nObviously, installing to `\\root` is not the desired behavior.\r\n\r\nDoes anyone have an idea how I can configure the Platform application or my NBM Plugin to install to a better location?\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://netbeans.apache.org/wiki/main/wiki/DevFaqWhatIsACluster/","title":"NetBeans Modules and the &quot;Force Install Into Shared Directories&quot; option for plugins","body":"<p>I'm writing a NetBeans Plugin for an application that is built upon the NetBeans Platform.  The plugin installs just fine and runs, but my customer has a use case where it would be useful to have the plugin installed for all users, rather than having each user install the plugin manually.</p>\n<p>To that end, the NetBeans Platform has a plugin option for installing a plugin to a shared location (in NetBeans: Tools-&gt; Plugins; click on the Settings tab on the far right; look for Plugin Install Location at the bottom).</p>\n<p>What I'm confused about is how the Shared Location is determined?  I've heard it has something to do with the NBM Cluster path (<a href=\"https://netbeans.apache.org/wiki/main/wiki/DevFaqWhatIsACluster/\" rel=\"nofollow noreferrer\">What is a Cluster?</a>), but I can't find any information regarding how to use the Cluster to set the install path.</p>\n<p>What does happen is that when I install to the User Directory, I get an obvious install to my home directory (<code>\\home\\$USERNAME\\.appname</code>).  When I install to the Shared Directory, it installs to <code>\\root\\.appname</code>.</p>\n<p>Obviously, installing to <code>\\root</code> is not the desired behavior.</p>\n<p>Does anyone have an idea how I can configure the Platform application or my NBM Plugin to install to a better location?</p>\n<p>Thank you!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":1,"creation_date":1592663678,"post_id":62486925,"comment_id":110508271,"body_markdown":"Shouldn&#39;t that be &quot;file://&quot; rather than &quot;file:///&quot;?","body":"Shouldn&#39;t that be &quot;file://&quot; rather than &quot;file:///&quot;?"},{"owner":{"account_id":7833039,"reputation":469,"user_id":5922263,"display_name":"Ajowi"},"score":3,"creation_date":1592664204,"post_id":62486925,"comment_id":110508425,"body_markdown":"@NomadMaker it has to be file:///","body":"@NomadMaker it has to be file:///"}],"answers":[{"tags":[],"owner":{"account_id":7833039,"reputation":469,"user_id":5922263,"display_name":"Ajowi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592664951,"creation_date":1592664619,"answer_id":62487348,"question_id":62486925,"body_markdown":"Ensure that you have not created another folder called __android_asset__. Since you&#39;ve not shown your assets directory, let the **www** folder be inside the __assets__ folder **(app &gt; src &gt; main &gt;assets)**.\r\nThe matter is, what you must give as &#39;android_asset&#39; is actually shown as &#39;assets&#39; in the directory listing. With this, you can find yourself a solution by rightly targeting your files.","title":"The webpage at file:///android_asset/file.html could not be loaded because: net::ERR_FILE_NOT_FOUND","body":"<p>Ensure that you have not created another folder called <strong>android_asset</strong>. Since you've not shown your assets directory, let the <strong>www</strong> folder be inside the <strong>assets</strong> folder <strong>(app &gt; src &gt; main &gt;assets)</strong>.\nThe matter is, what you must give as 'android_asset' is actually shown as 'assets' in the directory listing. With this, you can find yourself a solution by rightly targeting your files.</p>\n"}],"owner":{"display_name":"user13638878"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62487348,"answer_count":1,"score":0,"last_activity_date":1698956528,"creation_date":1592662275,"question_id":62486925,"body_markdown":"I don&#39;t why I&#39;m getting an error:-\r\n\r\n&gt;The webpage at file:///android_asset/file.html could not be loaded because:\r\nnet::ERR_FILE_NOT_FOUND\r\n\r\n```\r\nWebSettings mysettings = myweb.getSettings();\r\n\t\t\r\n\t\tmysettings.setJavaScriptEnabled(true);\r\n\t\tmysettings.setDomStorageEnabled(true);\r\n\t\t\r\n\t\tmyweb.loadUrl(&quot;file:///android_asset/www/file.html&quot;);\r\n\t\t\r\n\t\tmyweb.setWebViewClient(new WebViewClient());\r\n\t\t\r\n```\r\nHere Is my file \r\n&gt;/RandomPasswordGenerator/app/src/main/assets/www/file.html\r\n","title":"The webpage at file:///android_asset/file.html could not be loaded because: net::ERR_FILE_NOT_FOUND","body":"<p>I don't why I'm getting an error:-</p>\n<blockquote>\n<p>The webpage at file:///android_asset/file.html could not be loaded because:\nnet::ERR_FILE_NOT_FOUND</p>\n</blockquote>\n<pre><code>WebSettings mysettings = myweb.getSettings();\n        \n        mysettings.setJavaScriptEnabled(true);\n        mysettings.setDomStorageEnabled(true);\n        \n        myweb.loadUrl(&quot;file:///android_asset/www/file.html&quot;);\n        \n        myweb.setWebViewClient(new WebViewClient());\n        \n</code></pre>\n<p>Here Is my file</p>\n<blockquote>\n<p>/RandomPasswordGenerator/app/src/main/assets/www/file.html</p>\n</blockquote>\n"},{"tags":["java","jetty","apache-commons","apache-commons-fileupload"],"answers":[{"comments":[{"owner":{"account_id":2018560,"reputation":997,"user_id":1805267,"display_name":"Lukasz Lenart"},"score":0,"creation_date":1672233089,"post_id":68820846,"comment_id":132247130,"body_markdown":"There is a small problem with Servlet API - it doesn&#39;t support `@MultipartConfig` on filters.","body":"There is a small problem with Servlet API - it doesn&#39;t support <code>@MultipartConfig</code> on filters."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1672259401,"post_id":68820846,"comment_id":132254727,"body_markdown":"You shouldn&#39;t be reading Request content from a Filter, as that screws up the endpoint (Servlet) handling of the body content. (this even applies to using things like `HttpServletRequest.getParameter()` from a `Filter` as it breaks the ability of the Servlet to read the request body content)","body":"You shouldn&#39;t be reading Request content from a Filter, as that screws up the endpoint (Servlet) handling of the body content. (this even applies to using things like <code>HttpServletRequest.getParameter()</code> from a <code>Filter</code> as it breaks the ability of the Servlet to read the request body content)"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1672259474,"post_id":68820846,"comment_id":132254748,"body_markdown":"A `Filter`, however, can decide that the request is something it wants to handle (not the Servlet at the end of the Filter chain), in that case it uses the `RequestDispatcher.forward()` to call a specific Servlet that handles the content, bypassing the original Servlet entirely.","body":"A <code>Filter</code>, however, can decide that the request is something it wants to handle (not the Servlet at the end of the Filter chain), in that case it uses the <code>RequestDispatcher.forward()</code> to call a specific Servlet that handles the content, bypassing the original Servlet entirely."},{"owner":{"account_id":2018560,"reputation":997,"user_id":1805267,"display_name":"Lukasz Lenart"},"score":0,"creation_date":1672302247,"post_id":68820846,"comment_id":132261719,"body_markdown":"Filters are more flexible than Servlets, anyway I found a solution how to support `@MultipartConfig` with filters just by skipping processing of the request in filter and letting servlet do the job - the config is bit more cumbersome, yet it works :)","body":"Filters are more flexible than Servlets, anyway I found a solution how to support <code>@MultipartConfig</code> with filters just by skipping processing of the request in filter and letting servlet do the job - the config is bit more cumbersome, yet it works :)"}],"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1629217747,"creation_date":1629217154,"answer_id":68820846,"question_id":68820707,"body_markdown":"`commons-fileupload` is not required from Servlet 3.1 onwards.\r\n\r\nIn fact, using `commons-fileupload` in combination with the a container that supports Servlet spec 3.1 (or newer) is actually not recommended.\r\n\r\nThere hasn&#39;t even been a release of `commons-fileupload` since 2018, and no releases that support Servlet 3.1 or newer (the last release of `commons-fileupload` supports Servlet 2.4 and older)\r\n\r\nWhy?  \r\n\r\nThe Multipart features are built into the Servlet spec since 3.1.\r\n\r\nEvery server that supports Servlet 3.1 supports multipart file upload now.\r\n\r\nThat includes Jetty 9.\r\n\r\nUse [`HttpServletRequest.getPart()`][1] API in code.\r\nYou configure it via either the [`@MultipartConfig`][2] annotation and/or the `&lt;multipart-config&gt;` descriptor element in your `WEB-INF/web.xml`\r\n\r\nSee: https://docs.oracle.com/javaee/7/tutorial/servlets011.htm\r\n\r\nSee also past answers on these features.\r\n\r\n* https://stackoverflow.com/a/2424824/775715\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getPart-java.lang.String-\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/servlet/annotation/MultipartConfig.html","title":"Jetty 11 and commons-fileupload","body":"<p><code>commons-fileupload</code> is not required from Servlet 3.1 onwards.</p>\n<p>In fact, using <code>commons-fileupload</code> in combination with the a container that supports Servlet spec 3.1 (or newer) is actually not recommended.</p>\n<p>There hasn't even been a release of <code>commons-fileupload</code> since 2018, and no releases that support Servlet 3.1 or newer (the last release of <code>commons-fileupload</code> supports Servlet 2.4 and older)</p>\n<p>Why?</p>\n<p>The Multipart features are built into the Servlet spec since 3.1.</p>\n<p>Every server that supports Servlet 3.1 supports multipart file upload now.</p>\n<p>That includes Jetty 9.</p>\n<p>Use <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getPart-java.lang.String-\" rel=\"noreferrer\"><code>HttpServletRequest.getPart()</code></a> API in code.\nYou configure it via either the <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/annotation/MultipartConfig.html\" rel=\"noreferrer\"><code>@MultipartConfig</code></a> annotation and/or the <code>&lt;multipart-config&gt;</code> descriptor element in your <code>WEB-INF/web.xml</code></p>\n<p>See: <a href=\"https://docs.oracle.com/javaee/7/tutorial/servlets011.htm\" rel=\"noreferrer\">https://docs.oracle.com/javaee/7/tutorial/servlets011.htm</a></p>\n<p>See also past answers on these features.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/2424824/775715\">https://stackoverflow.com/a/2424824/775715</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1144755,"reputation":1415,"user_id":1127772,"display_name":"Carlos Saltos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698955834,"creation_date":1698951533,"answer_id":77412225,"question_id":68820707,"body_markdown":"Apache released the project commons-fileupload2-jakarta compatible with the new API.\r\n\r\nAs a reference please find here a commit with the new Apache Fileupload commons version 2 -&gt; https://github.com/talenteca/olon-web-framework/commit/4e7a7de8059cf8250024957f7f42c7f619a69dfe\r\n\r\n**IMPORTANT:** Please use the standard new Servlet API 5 upload interface as previously comment ... only use this low level commons library from Apache when you have non servlets cases or some programmatic dynamic configuration for the uploader (annotations are not good at all for using dynamic values and the usage of XML could not be a viable option) ... for as at Olon Web Framework we use a filter that tries to automate everything, including file upload support with dynamic configuration and the new Apache commons is just perfect for that.","title":"Jetty 11 and commons-fileupload","body":"<p>Apache released the project commons-fileupload2-jakarta compatible with the new API.</p>\n<p>As a reference please find here a commit with the new Apache Fileupload commons version 2 -&gt; <a href=\"https://github.com/talenteca/olon-web-framework/commit/4e7a7de8059cf8250024957f7f42c7f619a69dfe\" rel=\"nofollow noreferrer\">https://github.com/talenteca/olon-web-framework/commit/4e7a7de8059cf8250024957f7f42c7f619a69dfe</a></p>\n<p><strong>IMPORTANT:</strong> Please use the standard new Servlet API 5 upload interface as previously comment ... only use this low level commons library from Apache when you have non servlets cases or some programmatic dynamic configuration for the uploader (annotations are not good at all for using dynamic values and the usage of XML could not be a viable option) ... for as at Olon Web Framework we use a filter that tries to automate everything, including file upload support with dynamic configuration and the new Apache commons is just perfect for that.</p>\n"}],"owner":{"account_id":20610705,"reputation":207,"user_id":15129964,"display_name":"Ashish Goyanka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3446,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":68820846,"answer_count":2,"score":7,"last_activity_date":1698955834,"creation_date":1629216501,"question_id":68820707,"body_markdown":"I am updating Jetty9 to Jetty11. I updated my package from javax.servlet to jakarta.servlet because servlet 5.0 is the prerequisite for Jetty11. but the problem is when I am using commons-fileupload`-1.4.jar as it is still using java.servlet package. \r\n\r\n    javax.servlet.http.HttpServletRequest.ServletFileUpload.isMultipartContent(request)\r\n\r\nThe above method is expecting argument from java.servlet package.\r\n\r\nLatest version for commons-fileupload - https://search.maven.org/classic/#search%7Cga%7C1%7Ca%3A%22commons-fileupload%22%20AND%20g%3A%22commons-fileupload%22\r\n\r\nDo we have any way to overcome this problem?\r\n\r\n","title":"Jetty 11 and commons-fileupload","body":"<p>I am updating Jetty9 to Jetty11. I updated my package from javax.servlet to jakarta.servlet because servlet 5.0 is the prerequisite for Jetty11. but the problem is when I am using commons-fileupload`-1.4.jar as it is still using java.servlet package.</p>\n<pre><code>javax.servlet.http.HttpServletRequest.ServletFileUpload.isMultipartContent(request)\n</code></pre>\n<p>The above method is expecting argument from java.servlet package.</p>\n<p>Latest version for commons-fileupload - <a href=\"https://search.maven.org/classic/#search%7Cga%7C1%7Ca%3A%22commons-fileupload%22%20AND%20g%3A%22commons-fileupload%22\" rel=\"noreferrer\">https://search.maven.org/classic/#search%7Cga%7C1%7Ca%3A%22commons-fileupload%22%20AND%20g%3A%22commons-fileupload%22</a></p>\n<p>Do we have any way to overcome this problem?</p>\n"},{"tags":["java","spring-boot","maven","integration","embedded-tomcat-10"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1698958743,"post_id":77412602,"comment_id":136474133,"body_markdown":"The question which comes to my mind. Why do you deploy a spring boot project via cargo into a container? Why not using the spring boot project itself .. it contains tomcat etc.. .? And to run integration tests is not a good idea to use Maven for that.. Better things like usual integration tests on Spring Boot side etc. Why do you really need tests via the container?","body":"The question which comes to my mind. Why do you deploy a spring boot project via cargo into a container? Why not using the spring boot project itself .. it contains tomcat etc.. .? And to run integration tests is not a good idea to use Maven for that.. Better things like usual integration tests on Spring Boot side etc. Why do you really need tests via the container?"},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1699011877,"post_id":77412602,"comment_id":136480119,"body_markdown":"Originally the code was not spring boot. The server was packaged as a war, in the integration module we used cargo to launch Tomcat and deploy the war. I want to move away from this approach. We now use spring-boot and are switching the server to a jar. But I need to retain the existing integration module behaviour. i.e. Where it launches the server via Maven and executes the integration tests against it.","body":"Originally the code was not spring boot. The server was packaged as a war, in the integration module we used cargo to launch Tomcat and deploy the war. I want to move away from this approach. We now use spring-boot and are switching the server to a jar. But I need to retain the existing integration module behaviour. i.e. Where it launches the server via Maven and executes the integration tests against it."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699219964,"post_id":77412602,"comment_id":136500964,"body_markdown":"I strongly recommend to get rid of that old cargo launch setup ... Spring Boot itself has better support.. Why do you need to retain that? Technically you could launch a spring boot app via `spring-boot:run`? for integration testing but that&#39;s a bad idea... Check this: https://github.com/khmarbaise/fosdem2021 and more explanations here: https://archive.fosdem.org/2021/schedule/event/endtoendtests/","body":"I strongly recommend to get rid of that old cargo launch setup ... Spring Boot itself has better support.. Why do you need to retain that? Technically you could launch a spring boot app via <code>spring-boot:run</code>? for integration testing but that&#39;s a bad idea... Check this: <a href=\"https://github.com/khmarbaise/fosdem2021\" rel=\"nofollow noreferrer\">github.com/khmarbaise/fosdem2021</a> and more explanations here: <a href=\"https://archive.fosdem.org/2021/schedule/event/endtoendtests/\" rel=\"nofollow noreferrer\">archive.fosdem.org/2021/schedule/event/endtoendtests</a>"},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1699263177,"post_id":77412602,"comment_id":136504894,"body_markdown":"We&#39;re in a transition phase where we&#39;re moving from a war to embedded tomcat jar. This phase is expected to roll out slowly over a few months, during which we&#39;ll support both war (deployed to the cloud) and jar (dev work) builds. I don&#39;t have control over this process. But, as I have to have to support both, I&#39;d like to keep the builds consistent. i.e.  The integration module launches the server and runs the tests against it. I was hitting problems with spring-boot:run, related to TestNG.","body":"We&#39;re in a transition phase where we&#39;re moving from a war to embedded tomcat jar. This phase is expected to roll out slowly over a few months, during which we&#39;ll support both war (deployed to the cloud) and jar (dev work) builds. I don&#39;t have control over this process. But, as I have to have to support both, I&#39;d like to keep the builds consistent. i.e.  The integration module launches the server and runs the tests against it. I was hitting problems with spring-boot:run, related to TestNG."},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1699263450,"post_id":77412602,"comment_id":136504942,"body_markdown":"It looks like you are using the `io.soebes.simple.rest.application` plugin to launch the server in your E2E tests. When I got the `spring-boot:run` issue I was trying to place that into the integration module&#39;s pom.xml. This lead to the error `java.io.FileNotFoundException: repo/my/server/--spring.application.admin.enabled=true (No such file or directory)`. Not sure what would cause that. I&#39;m almost certainly trying to use the plugin incorrectly in my desire to replicate the cargo functionality. i.e. To launch the server directly, without an external tomcat.","body":"It looks like you are using the <code>io.soebes.simple.rest.application</code> plugin to launch the server in your E2E tests. When I got the <code>spring-boot:run</code> issue I was trying to place that into the integration module&#39;s pom.xml. This lead to the error <code>java.io.FileNotFoundException: repo&#47;my&#47;server&#47;--spring.application.admin.enabled=true (No such file or directory)</code>. Not sure what would cause that. I&#39;m almost certainly trying to use the plugin incorrectly in my desire to replicate the cargo functionality. i.e. To launch the server directly, without an external tomcat."},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1699263942,"post_id":77412602,"comment_id":136505013,"body_markdown":"BTW, in general I _thought_ that switching the cargo plugin with an alternative that just launches the jar file directly, would be the simplest solution. I&#39;ve been so what surprised by how long it has taken and how undocumented it it. That&#39;s a sign that I may be too focused on this solution.","body":"BTW, in general I <i>thought</i> that switching the cargo plugin with an alternative that just launches the jar file directly, would be the simplest solution. I&#39;ve been so what surprised by how long it has taken and how undocumented it it. That&#39;s a sign that I may be too focused on this solution."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699458261,"post_id":77412602,"comment_id":136534600,"body_markdown":"The question is really what kind of advance you have starting a spring boot application instead of using usual unit- and integration tests without starting up the whole application...Also you seemed to misunderstood the idea of the example because it does not use `spring-boot:run`... and also the output of the error shows some problems...","body":"The question is really what kind of advance you have starting a spring boot application instead of using usual unit- and integration tests without starting up the whole application...Also you seemed to misunderstood the idea of the example because it does not use <code>spring-boot:run</code>... and also the output of the error shows some problems..."},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1699527666,"post_id":77412602,"comment_id":136544595,"body_markdown":"The tests are bundled as an executable jar file. To catch any build breaks before the deploy, on our build step we launch the server locally and run the integration tests against it. This means the tests run twice during a build. First against a local run of the server (to catch issues before a deploy), then against the integration env (to catch integration env configuration problems) after a deploy.","body":"The tests are bundled as an executable jar file. To catch any build breaks before the deploy, on our build step we launch the server locally and run the integration tests against it. This means the tests run twice during a build. First against a local run of the server (to catch issues before a deploy), then against the integration env (to catch integration env configuration problems) after a deploy."}],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698955807,"creation_date":1698955807,"question_id":77412602,"body_markdown":"This question strikes me as being the same as https://stackoverflow.com/questions/4702179/problem-deploying-project-jar-to-running-container-that-was-started-with-maven-c. However the answer there is more than 12 years old. I want to see if there is a modern solution.\r\n\r\nI have a multi-module Maven project with the structure\r\n\r\n```\r\nrepo/pom.xml\r\n  - server/pom.xml\r\n  - integration/pom.xml\r\n```\r\n\r\nOriginally the server we produced is a `war` file. In the integration module we have tests that target the server and validate it. To this end we use the `cargo-maven3-plugin` to start a tomcat container, deploy the `war` to Tomcat, and run the server on the `local host`.\r\n\r\nNow we&#39;re refactoring the project to replace the `war` file with an embedded tomcat jar. i.e. Using the `spring-boot-maven-plugin`. In this new setup I want to persist the existing behaviour. Namely that maven launches the server and then runs the integration tests against the `local host`.\r\n\r\nWhat is the best approach to achieving this? I&#39;ve been experimenting with the `spring-boot-maven-plugin` but I&#39;m getting weird errors with it. e.g.\r\n\r\n&gt; java.io.FileNotFoundException: /Users/user/Development/project/integration/--spring.application.admin.enabled=true (No such file or directory)\r\n\r\nWhich approach is recommended here? Where can I find an example?","title":"Maven how to start a server.jar in a pom.xml for integration tests","body":"<p>This question strikes me as being the same as <a href=\"https://stackoverflow.com/questions/4702179/problem-deploying-project-jar-to-running-container-that-was-started-with-maven-c\">problem deploying project jar to running container that was started with maven cargo plugin</a>. However the answer there is more than 12 years old. I want to see if there is a modern solution.</p>\n<p>I have a multi-module Maven project with the structure</p>\n<pre><code>repo/pom.xml\n  - server/pom.xml\n  - integration/pom.xml\n</code></pre>\n<p>Originally the server we produced is a <code>war</code> file. In the integration module we have tests that target the server and validate it. To this end we use the <code>cargo-maven3-plugin</code> to start a tomcat container, deploy the <code>war</code> to Tomcat, and run the server on the <code>local host</code>.</p>\n<p>Now we're refactoring the project to replace the <code>war</code> file with an embedded tomcat jar. i.e. Using the <code>spring-boot-maven-plugin</code>. In this new setup I want to persist the existing behaviour. Namely that maven launches the server and then runs the integration tests against the <code>local host</code>.</p>\n<p>What is the best approach to achieving this? I've been experimenting with the <code>spring-boot-maven-plugin</code> but I'm getting weird errors with it. e.g.</p>\n<blockquote>\n<p>java.io.FileNotFoundException: /Users/user/Development/project/integration/--spring.application.admin.enabled=true (No such file or directory)</p>\n</blockquote>\n<p>Which approach is recommended here? Where can I find an example?</p>\n"},{"tags":["java","system-administration"],"comments":[{"owner":{"account_id":1837851,"reputation":1741,"user_id":1667841,"accept_rate":95,"display_name":"Ryan.lay"},"score":1,"creation_date":1468662803,"post_id":38408927,"comment_id":64227975,"body_markdown":"Welcome to StackOverflow. To get meaningful answers, please post the relevant code here instead of posting a link or a screenshot.","body":"Welcome to StackOverflow. To get meaningful answers, please post the relevant code here instead of posting a link or a screenshot."}],"answers":[{"comments":[{"owner":{"account_id":8340755,"reputation":51,"user_id":6266146,"display_name":"Avkash"},"score":0,"creation_date":1468659423,"post_id":38409045,"comment_id":64227145,"body_markdown":"thanks for reply, I tried both options but still getting the same issue.","body":"thanks for reply, I tried both options but still getting the same issue."}],"tags":[],"owner":{"account_id":6141989,"reputation":50,"user_id":4789127,"display_name":"Zopesconk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468655408,"creation_date":1468655408,"answer_id":38409045,"question_id":38408927,"body_markdown":"Sounds like a problem with your jar file, I would check the more information tag.\r\n\r\nThese links might help you identify your problem:\r\n\r\nAt Michltechblog:\r\n\r\nhttp://michlstechblog.info/blog/java-error-failed-to-validate-certificate-the-application-will-not-be-executed/\r\n\r\nAt MathWorks:\r\n\r\nhttps://www.mathworks.com/matlabcentral/answers/95059-why-do-i-get-an-error-failed-to-validate-certificate-when-running-the-download-agent","title":"Java Error- Failed to validate the certificate","body":"<p>Sounds like a problem with your jar file, I would check the more information tag.</p>\n\n<p>These links might help you identify your problem:</p>\n\n<p>At Michltechblog:</p>\n\n<p><a href=\"http://michlstechblog.info/blog/java-error-failed-to-validate-certificate-the-application-will-not-be-executed/\" rel=\"nofollow\">http://michlstechblog.info/blog/java-error-failed-to-validate-certificate-the-application-will-not-be-executed/</a></p>\n\n<p>At MathWorks:</p>\n\n<p><a href=\"https://www.mathworks.com/matlabcentral/answers/95059-why-do-i-get-an-error-failed-to-validate-certificate-when-running-the-download-agent\" rel=\"nofollow\">https://www.mathworks.com/matlabcentral/answers/95059-why-do-i-get-an-error-failed-to-validate-certificate-when-running-the-download-agent</a></p>\n"},{"comments":[{"owner":{"account_id":3432891,"reputation":330,"user_id":2876773,"display_name":"nmirceac"},"score":0,"creation_date":1684599631,"post_id":38476085,"comment_id":134542110,"body_markdown":"thank you - your number 1 advice did the trick","body":"thank you - your number 1 advice did the trick"}],"tags":[],"owner":{"account_id":8340755,"reputation":51,"user_id":6266146,"display_name":"Avkash"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469003160,"creation_date":1469003160,"answer_id":38476085,"question_id":38408927,"body_markdown":"Thanks everyone for your response. Finally i got a solution.\r\n\r\n1. Remove java.security file from location C:\\Program Files (x86)\\Java\\jre1.8.0_91\\lib\\security (or Program Files depends on your OS). Save this at different location for future reuse.  \r\n\r\n2. Add the website (which you want to open) in java security Tab of java control panel.\r\n\r\n3. Restart your browser and try again.\r\n\r\n[java control panel&gt;security&gt;exception_site-list&gt;edit_site_list][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SXTGl.png","title":"Java Error- Failed to validate the certificate","body":"<p>Thanks everyone for your response. Finally i got a solution.</p>\n\n<ol>\n<li><p>Remove java.security file from location C:\\Program Files (x86)\\Java\\jre1.8.0_91\\lib\\security (or Program Files depends on your OS). Save this at different location for future reuse.  </p></li>\n<li><p>Add the website (which you want to open) in java security Tab of java control panel.</p></li>\n<li><p>Restart your browser and try again.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/SXTGl.png\" rel=\"nofollow\">java control panel>security>exception_site-list>edit_site_list</a></p>\n"},{"tags":[],"owner":{"account_id":10913364,"reputation":1,"user_id":17332155,"display_name":"user237961"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698955609,"creation_date":1698955609,"answer_id":77412582,"question_id":38408927,"body_markdown":"This worked for me...\r\n\r\nTo run JNLP files and start Remote Control Managed sessions not using pre-installed Controller, perform the following steps:\r\n\r\nOpen the &quot;java.security&quot; file available in the following directory:\r\n[installation_path]\\server\\java\\jre\\lib\\security\\java.security\r\n\r\nLocate the &quot;jdk.certpath.disabledAlgorithms&quot; property and set it to the following value:\r\n\r\nMD2, MD5, SHA1 jdkCA &amp; usage TLSServer, \\\r\nRSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, \\\r\ninclude jdk.disabled.namedCurves\r\n\r\nSave the file and run the downloaded JNLP file.\r\n\r\nfound it here:  https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0101395","title":"Java Error- Failed to validate the certificate","body":"<p>This worked for me...</p>\n<p>To run JNLP files and start Remote Control Managed sessions not using pre-installed Controller, perform the following steps:</p>\n<p>Open the &quot;java.security&quot; file available in the following directory:\n[installation_path]\\server\\java\\jre\\lib\\security\\java.security</p>\n<p>Locate the &quot;jdk.certpath.disabledAlgorithms&quot; property and set it to the following value:</p>\n<p>MD2, MD5, SHA1 jdkCA &amp; usage TLSServer, <br />\nRSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, <br />\ninclude jdk.disabled.namedCurves</p>\n<p>Save the file and run the downloaded JNLP file.</p>\n<p>found it here:  <a href=\"https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0101395\" rel=\"nofollow noreferrer\">https://support.hcltechsw.com/csm?id=kb_article&amp;sysparm_article=KB0101395</a></p>\n"}],"owner":{"account_id":8340755,"reputation":51,"user_id":6266146,"display_name":"Avkash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24340,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1698955609,"creation_date":1468654413,"question_id":38408927,"body_markdown":"I&#39;m trying to access remote control of my IBM blade center management module through web console but it showing Failed to validate the certificate and unable to start the remote connection. Please check the attached image of error. Please reply if any one have its solution. \r\n[Click here for screen shot][1]\r\n\r\n    sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: algorithm constraints check failed\r\n\tat sun.security.validator.PKIXValidator.doValidate(Unknown Source)\r\n\tat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n\tat sun.security.validator.Validator.validate(Unknown Source)\r\n\tat sun.security.validator.Validator.validate(Unknown Source)\r\n\tat sun.security.validator.Validator.validate(Unknown Source)\r\n\tat com.sun.deploy.security.TrustDecider.getValidationState(Unknown Source)\r\n\tat com.sun.deploy.security.TrustDecider.validateChain(Unknown Source)\r\n\tat com.sun.deploy.security.TrustDecider.isAllPermissionGrantedInt(Unknown Source)\r\n\tat com.sun.deploy.security.TrustDecider.isAllPermissionGranted(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.isTrustedByTrustDecider(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.getPermissions(Unknown Source)\r\n\tat sun.plugin2.applet.Applet2ClassLoader.getPermissions(Unknown Source)\r\n\tat java.security.SecureClassLoader.getProtectionDomain(Unknown Source)\r\n\tat java.security.SecureClassLoader.defineClass(Unknown Source)\r\n\tat java.net.URLClassLoader.defineClass(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.defineClassHelper(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.access$100(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader$2.run(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader$2.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.findClassHelper(Unknown Source)\r\n\tat sun.plugin2.applet.Applet2ClassLoader.findClass(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.loadClass0(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat sun.plugin2.applet.Plugin2ClassLoader.loadCode(Unknown Source)\r\n\t\r\nI have also commented this line\r\njdk.certpath.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024\r\n\r\nand also tried by removing all files from security but still getting the same error.\r\n  [1]: https://i.stack.imgur.com/U1Uy9.png","title":"Java Error- Failed to validate the certificate","body":"<p>I'm trying to access remote control of my IBM blade center management module through web console but it showing Failed to validate the certificate and unable to start the remote connection. Please check the attached image of error. Please reply if any one have its solution. \n<a href=\"https://i.stack.imgur.com/U1Uy9.png\" rel=\"nofollow\">Click here for screen shot</a></p>\n\n<pre><code>sun.security.validator.ValidatorException: PKIX path validation failed: java.security.cert.CertPathValidatorException: algorithm constraints check failed\nat sun.security.validator.PKIXValidator.doValidate(Unknown Source)\nat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\nat sun.security.validator.Validator.validate(Unknown Source)\nat sun.security.validator.Validator.validate(Unknown Source)\nat sun.security.validator.Validator.validate(Unknown Source)\nat com.sun.deploy.security.TrustDecider.getValidationState(Unknown Source)\nat com.sun.deploy.security.TrustDecider.validateChain(Unknown Source)\nat com.sun.deploy.security.TrustDecider.isAllPermissionGrantedInt(Unknown Source)\nat com.sun.deploy.security.TrustDecider.isAllPermissionGranted(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.isTrustedByTrustDecider(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.getPermissions(Unknown Source)\nat sun.plugin2.applet.Applet2ClassLoader.getPermissions(Unknown Source)\nat java.security.SecureClassLoader.getProtectionDomain(Unknown Source)\nat java.security.SecureClassLoader.defineClass(Unknown Source)\nat java.net.URLClassLoader.defineClass(Unknown Source)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.defineClassHelper(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.access$100(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader$2.run(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader$2.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.plugin2.applet.Plugin2ClassLoader.findClassHelper(Unknown Source)\nat sun.plugin2.applet.Applet2ClassLoader.findClass(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.loadClass0(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.plugin2.applet.Plugin2ClassLoader.loadCode(Unknown Source)\n</code></pre>\n\n<p>I have also commented this line\njdk.certpath.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024</p>\n\n<p>and also tried by removing all files from security but still getting the same error.</p>\n"},{"tags":["java","gradle","apache-poi"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698948424,"post_id":77411851,"comment_id":136472405,"body_markdown":"What did you try in the command line exactly? Share command and output. Are you trying to use POI in a project or building it?","body":"What did you try in the command line exactly? Share command and output. Are you trying to use POI in a project or building it?"},{"owner":{"account_id":4475689,"reputation":1215,"user_id":3640867,"accept_rate":60,"display_name":"EngineerWithJava54321"},"score":0,"creation_date":1698949957,"post_id":77411851,"comment_id":136472679,"body_markdown":"Added the command line in the main body above.","body":"Added the command line in the main body above."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1698966008,"post_id":77411851,"comment_id":136475078,"body_markdown":"You can get the jars from https://repo1.maven.org/maven2/org/apache/poi/ - just traverse the directories. You might find it useful to study a build tool like Gradle or Maven - these tools can fetch these jars for you.","body":"You can get the jars from <a href=\"https://repo1.maven.org/maven2/org/apache/poi/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/apache/poi</a> - just traverse the directories. You might find it useful to study a build tool like Gradle or Maven - these tools can fetch these jars for you."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1698966144,"post_id":77411851,"comment_id":136475089,"body_markdown":"https://github.com/pjfanning/poi-gradle-example is a straightforward example that uses the poi 5.2.4 jars that are available in maven central.","body":"<a href=\"https://github.com/pjfanning/poi-gradle-example\" rel=\"nofollow noreferrer\">github.com/pjfanning/poi-gradle-example</a> is a straightforward example that uses the poi 5.2.4 jars that are available in maven central."}],"answers":[{"tags":[],"owner":{"account_id":4475689,"reputation":1215,"user_id":3640867,"accept_rate":60,"display_name":"EngineerWithJava54321"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698955603,"creation_date":1698955603,"answer_id":77412581,"question_id":77411851,"body_markdown":"I got it to work by editing the build.gradle file.  It was defaulting to 8 if the detection didn&#39;t work.\r\n\r\nI change this line:\r\n\r\n    jdkVersion = (project.properties[&#39;jdkVersion&#39;] ?: &#39;8&#39;) as int\r\n\r\nTo this:\r\n\r\n    jdkVersion = (21) as int\r\n\r\nin build.gradle and it ran.  Of course, you would have to change it to whatever version you were running if you had the same error or could address the auto-detection.","title":"Issues with Gradle building Apache POI package for java","body":"<p>I got it to work by editing the build.gradle file.  It was defaulting to 8 if the detection didn't work.</p>\n<p>I change this line:</p>\n<pre><code>jdkVersion = (project.properties['jdkVersion'] ?: '8') as int\n</code></pre>\n<p>To this:</p>\n<pre><code>jdkVersion = (21) as int\n</code></pre>\n<p>in build.gradle and it ran.  Of course, you would have to change it to whatever version you were running if you had the same error or could address the auto-detection.</p>\n"}],"owner":{"account_id":4475689,"reputation":1215,"user_id":3640867,"accept_rate":60,"display_name":"EngineerWithJava54321"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698955603,"creation_date":1698947682,"question_id":77411851,"body_markdown":"Previously when using Apache packages, they have included jar files and all I had to do was import them into by build path.\r\n\r\nWith Apache POI (5.2.4-20230921), it now uses Gradle to build the jars.\r\n\r\nI have tried to build POI in Eclipse (2022-03) by going to import--&gt;Existing Gradle Project and selecting the root directory.  When I do, I get the following:\r\n\r\n&gt; The supplied phased action failed with an exception. A problem\r\n&gt; occurred configuring project &#39;:poi&#39;. A problem occurred evaluating\r\n&gt; project &#39;:poi&#39;. Failed to calculate the value of task\r\n&gt; &#39;:poi:compileTestJava&#39; property &#39;javaCompiler&#39;. No matching toolchains\r\n&gt; found for requested specification: {languageVersion=8, vendor=any,\r\n&gt; implementation=vendor-specific} for WINDOWS on x86_64. No locally\r\n&gt; installed toolchains match and toolchain download repositories have\r\n&gt; not been configured.\tpoi-src-5.2.4-20230921-5.2.4\t\tline 0\tGradle Error\r\n&gt; Marker\r\n\r\nWhen I try on the command line, I get the same thing.  I have looked up the toolchain information here &quot;https://docs.gradle.org/8.4/userguide/toolchains.html#sec:auto_detection&quot;, but it didn&#39;t help any.  Running with --debug and --stacktrace gave me a bunch of additional information that didn&#39;t mean much to me.\r\n\r\nI have not changed build.gradle from Apache, but here are the toolchain lines:\r\n\r\n    java {\r\n        toolchain {\r\n            languageVersion = JavaLanguageVersion.of(jdkVersion)\r\n            if (jdkVendor != &#39;&#39;) vendor = JvmVendorSpec.matching(jdkVendor)\r\n        }\r\n        withJavadocJar()\r\n        withSourcesJar()\r\n    }\r\n\r\nI have never used Gradle before so this might be something simple.  I am using java 21.0.1 2023-10-17 LTS, which was downloaded and installed today.  It also did not work with my previous version.\r\n\r\nAny thoughts on what is going on?  It seems that downloading the most recent version of Gradle and using with the most recent java and Apache package should be a pretty seamless process.\r\n\r\nTo address the first comment, I put gradle into the poi folder and ran gradle.bat.  Here is the command and output:\r\n\r\n    poi-src-5.2.4-20230921-5.2.4&gt;gradle.bat\r\n    Configuration on demand is an incubating feature.\r\n    \r\n    &gt; Configure project :\r\n    Trying to override old definition of datatype junit\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;C:\\Users\\x\\eclipse-workspace\\poi-src-5.2.4-20230921-5.2.4\\poi\\build.gradle&#39; line: 82\r\n    \r\n    * What went wrong:\r\n    A problem occurred evaluating project &#39;:poi&#39;.\r\n    &gt; Failed to calculate the value of task &#39;:poi:compileTestJava&#39; property &#39;javaCompiler&#39;.\r\n       &gt; No matching toolchains found for requested specification: {languageVersion=8, vendor=any, implementation=vendor-specific} for WINDOWS on x86_64.\r\n          &gt; No locally installed toolchains match and toolchain download repositories have not been configured.\r\n    \r\n    * Try:\r\n    &gt; Learn more about toolchain auto-detection at https://docs.gradle.org/8.4/userguide/toolchains.html#sec:auto_detection.\r\n    &gt; Learn more about toolchain repositories at https://docs.gradle.org/8.4/userguide/toolchains.html#sub:download_repositories.\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    &gt; Get more help at https://help.gradle.org.\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n    \r\n    You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n    \r\n    For more on this, please refer to https://docs.gradle.org/8.4/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\r\n    \r\n    BUILD FAILED in 1s\r\n\r\n","title":"Issues with Gradle building Apache POI package for java","body":"<p>Previously when using Apache packages, they have included jar files and all I had to do was import them into by build path.</p>\n<p>With Apache POI (5.2.4-20230921), it now uses Gradle to build the jars.</p>\n<p>I have tried to build POI in Eclipse (2022-03) by going to import--&gt;Existing Gradle Project and selecting the root directory.  When I do, I get the following:</p>\n<blockquote>\n<p>The supplied phased action failed with an exception. A problem\noccurred configuring project ':poi'. A problem occurred evaluating\nproject ':poi'. Failed to calculate the value of task\n':poi:compileTestJava' property 'javaCompiler'. No matching toolchains\nfound for requested specification: {languageVersion=8, vendor=any,\nimplementation=vendor-specific} for WINDOWS on x86_64. No locally\ninstalled toolchains match and toolchain download repositories have\nnot been configured.  poi-src-5.2.4-20230921-5.2.4        line 0  Gradle Error\nMarker</p>\n</blockquote>\n<p>When I try on the command line, I get the same thing.  I have looked up the toolchain information here &quot;https://docs.gradle.org/8.4/userguide/toolchains.html#sec:auto_detection&quot;, but it didn't help any.  Running with --debug and --stacktrace gave me a bunch of additional information that didn't mean much to me.</p>\n<p>I have not changed build.gradle from Apache, but here are the toolchain lines:</p>\n<pre><code>java {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(jdkVersion)\n        if (jdkVendor != '') vendor = JvmVendorSpec.matching(jdkVendor)\n    }\n    withJavadocJar()\n    withSourcesJar()\n}\n</code></pre>\n<p>I have never used Gradle before so this might be something simple.  I am using java 21.0.1 2023-10-17 LTS, which was downloaded and installed today.  It also did not work with my previous version.</p>\n<p>Any thoughts on what is going on?  It seems that downloading the most recent version of Gradle and using with the most recent java and Apache package should be a pretty seamless process.</p>\n<p>To address the first comment, I put gradle into the poi folder and ran gradle.bat.  Here is the command and output:</p>\n<pre><code>poi-src-5.2.4-20230921-5.2.4&gt;gradle.bat\nConfiguration on demand is an incubating feature.\n\n&gt; Configure project :\nTrying to override old definition of datatype junit\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\Users\\x\\eclipse-workspace\\poi-src-5.2.4-20230921-5.2.4\\poi\\build.gradle' line: 82\n\n* What went wrong:\nA problem occurred evaluating project ':poi'.\n&gt; Failed to calculate the value of task ':poi:compileTestJava' property 'javaCompiler'.\n   &gt; No matching toolchains found for requested specification: {languageVersion=8, vendor=any, implementation=vendor-specific} for WINDOWS on x86_64.\n      &gt; No locally installed toolchains match and toolchain download repositories have not been configured.\n\n* Try:\n&gt; Learn more about toolchain auto-detection at https://docs.gradle.org/8.4/userguide/toolchains.html#sec:auto_detection.\n&gt; Learn more about toolchain repositories at https://docs.gradle.org/8.4/userguide/toolchains.html#sub:download_repositories.\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nFor more on this, please refer to https://docs.gradle.org/8.4/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\n\nBUILD FAILED in 1s\n</code></pre>\n"},{"tags":["java","string","recursion"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1413660346,"post_id":26443634,"comment_id":41530109,"body_markdown":"What do you think `target - nums[start]` does?","body":"What do you think <code>target - nums[start]</code> does?"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1413660599,"post_id":26443634,"comment_id":41530178,"body_markdown":"You start out with a number `target`, each time you progress to the next element of the array you subtract the current element, and if you reach `0` then you&#39;ve found a combination of numbers that the subtraction resulted in `0`, meaning adding the numbers together would have given the number.","body":"You start out with a number <code>target</code>, each time you progress to the next element of the array you subtract the current element, and if you reach <code>0</code> then you&#39;ve found a combination of numbers that the subtraction resulted in <code>0</code>, meaning adding the numbers together would have given the number."}],"answers":[{"comments":[{"owner":{"account_id":4764172,"reputation":61,"user_id":3850774,"accept_rate":26,"display_name":"Sarah Markers"},"score":0,"creation_date":1413665281,"post_id":26443793,"comment_id":41531482,"body_markdown":"Right, that makes sense. But after recursing again, where is it possible to subtract a number that IS NOT a 6? The only instance where nums[start] is subtracted is after the check that nums[start] is a 6...","body":"Right, that makes sense. But after recursing again, where is it possible to subtract a number that IS NOT a 6? The only instance where nums[start] is subtracted is after the check that nums[start] is a 6..."}],"tags":[],"owner":{"account_id":2095459,"reputation":3057,"user_id":1864339,"display_name":"Carlos Verdes"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413661323,"creation_date":1413661323,"answer_id":26443793,"question_id":26443634,"body_markdown":"The idea is to test all the possible subarray options, something like &quot;what happen if i get next element?&quot; and...  &quot;what happen if i don&#39;t?&quot;.\r\n\r\nSo, for any element in the array your are making two recursive calls (two options, take it or not) and... if one of them is OK the solution is reached (so return true).\r\n\r\nIn the next recursive call you pick the number, so you call with the next index element (start+1) and substract the picked number from the target (imagine your target is 8 and the current element is 2... the recursive call is to check the next numbers with target 8-2= 6).\r\n\r\n    if (groupSum6(start + 1, nums, target - nums[start])) {\r\n            return true;\r\n        }\r\n\r\nThe next recursive call is the same but you don&#39;t pick the current number so... target will be the same (in the previous example you will check the next number with target 8);\r\n\r\n     return groupSum6(start + 1, nums, target);\r\n\r\n\r\nAnd... here it comes the 6 restriction... if you find a 6 then you have no more options than to pick the number so... you put that condition first (and in this scenario there is only one call because you have no options):\r\n\r\n    if (nums[start] == 6) {\r\n            return groupSum6(start + 1, nums, target - nums[start]);\r\n        }","title":"Recursion confusion","body":"<p>The idea is to test all the possible subarray options, something like \"what happen if i get next element?\" and...  \"what happen if i don't?\".</p>\n\n<p>So, for any element in the array your are making two recursive calls (two options, take it or not) and... if one of them is OK the solution is reached (so return true).</p>\n\n<p>In the next recursive call you pick the number, so you call with the next index element (start+1) and substract the picked number from the target (imagine your target is 8 and the current element is 2... the recursive call is to check the next numbers with target 8-2= 6).</p>\n\n<pre><code>if (groupSum6(start + 1, nums, target - nums[start])) {\n        return true;\n    }\n</code></pre>\n\n<p>The next recursive call is the same but you don't pick the current number so... target will be the same (in the previous example you will check the next number with target 8);</p>\n\n<pre><code> return groupSum6(start + 1, nums, target);\n</code></pre>\n\n<p>And... here it comes the 6 restriction... if you find a 6 then you have no more options than to pick the number so... you put that condition first (and in this scenario there is only one call because you have no options):</p>\n\n<pre><code>if (nums[start] == 6) {\n        return groupSum6(start + 1, nums, target - nums[start]);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4764172,"reputation":61,"user_id":3850774,"accept_rate":26,"display_name":"Sarah Markers"},"score":0,"creation_date":1413665231,"post_id":26443984,"comment_id":41531466,"body_markdown":"Right, that makes sense. But after recursing again, where is it possible to subtract a number that IS NOT a 6? The only instance where nums[start] is subtracted is after the check that nums[start] is a 6...","body":"Right, that makes sense. But after recursing again, where is it possible to subtract a number that IS NOT a 6? The only instance where nums[start] is subtracted is after the check that nums[start] is a 6..."},{"owner":{"account_id":4839653,"reputation":450,"user_id":3905052,"display_name":"chope_chope"},"score":0,"creation_date":1413666305,"post_id":26443984,"comment_id":41531783,"body_markdown":"It does that inside the if statement: if(groupSum6(start + 1, nums, target-nums[start])    --- here it is looking for a solution that uses the current number","body":"It does that inside the if statement: if(groupSum6(start + 1, nums, target-nums[start])    --- here it is looking for a solution that uses the current number"}],"tags":[],"owner":{"account_id":4839653,"reputation":450,"user_id":3905052,"display_name":"chope_chope"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413662368,"creation_date":1413662368,"answer_id":26443984,"question_id":26443634,"body_markdown":"The reason this works is that the recursive call always checks to see if the number at the current index is a 6 and subtracts that from the target.  So the order of evaluation is:\r\n\r\n1)\r\n\r\n    if (start == nums.length) {\r\n        if (target == 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nCheck to see if the passed index is the length of the array (so this would mean the index is BEYOND the bounds of the array - the last index of the array would be nums[nums.length - 1] ).  If yes, AND if the target is 0, return true.  Otherwise return false, because there are no more values to check\r\n\r\n2)\r\n    if (nums[start] == 6) {\r\n        return groupSum6(start + 1, nums, target - nums[start]);\r\n    }\r\n\r\nCheck if the number at the index is 6.  If it is, subtract 6 from the target, add one to the index, and check the remaining values.\r\n\r\n3) Otherwise...\r\n\r\n    if (groupSum6(start + 1, nums, target - nums[start])) {\r\n        return true;\r\n    }\r\n\r\nEvaluate if the rest of the array works to add up to the target.  If it does return true.  The key is to notice that this step will always happen AFTER we check if the value is a 6.  Essentially here you are looking for a solution that COUNTS the number in the start index.  If a solution is found we can end.  If no solution is found using the number at num[start], then we go on to:\r\n\r\n4)\r\n\r\n    return groupSum6(start + 1, nums, target);\r\n\r\nChecking for a solution that exists when we DON&#39;T use the number at num[start].\r\n\r\nThe key is that each time the recursive call is made the check for a 6 is done first ( assuming you aren&#39;t beyond the bounds of the array).\r\n\r\n","title":"Recursion confusion","body":"<p>The reason this works is that the recursive call always checks to see if the number at the current index is a 6 and subtracts that from the target.  So the order of evaluation is:</p>\n\n<p>1)</p>\n\n<pre><code>if (start == nums.length) {\n    if (target == 0) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>Check to see if the passed index is the length of the array (so this would mean the index is BEYOND the bounds of the array - the last index of the array would be nums[nums.length - 1] ).  If yes, AND if the target is 0, return true.  Otherwise return false, because there are no more values to check</p>\n\n<p>2)\n    if (nums[start] == 6) {\n        return groupSum6(start + 1, nums, target - nums[start]);\n    }</p>\n\n<p>Check if the number at the index is 6.  If it is, subtract 6 from the target, add one to the index, and check the remaining values.</p>\n\n<p>3) Otherwise...</p>\n\n<pre><code>if (groupSum6(start + 1, nums, target - nums[start])) {\n    return true;\n}\n</code></pre>\n\n<p>Evaluate if the rest of the array works to add up to the target.  If it does return true.  The key is to notice that this step will always happen AFTER we check if the value is a 6.  Essentially here you are looking for a solution that COUNTS the number in the start index.  If a solution is found we can end.  If no solution is found using the number at num[start], then we go on to:</p>\n\n<p>4)</p>\n\n<pre><code>return groupSum6(start + 1, nums, target);\n</code></pre>\n\n<p>Checking for a solution that exists when we DON'T use the number at num[start].</p>\n\n<p>The key is that each time the recursive call is made the check for a 6 is done first ( assuming you aren't beyond the bounds of the array).</p>\n"},{"tags":[],"owner":{"account_id":12455651,"reputation":81,"user_id":9432887,"display_name":"Varad Paralikar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573912403,"creation_date":1573912403,"answer_id":58891435,"question_id":26443634,"body_markdown":"Just do this check if the number is 6 and then decide to skip it \r\n\r\n    public boolean groupSum6(int start, int[] nums, int target) {\r\n    //exit condition and if target becomes 0\r\n    if(start &gt;= nums.length) return (target ==0);\r\n    \r\n    // subtracting the number at start from target and make a recursive //call to groupSum6\r\n    if(groupSum6(start+1 , nums  , target - nums[start])) return true;\r\n    //check if the number at start is 6 or not then decide to skip it\r\n    if(nums[start] != 6  &amp;&amp; groupSum6(start+1 , nums , target)) return true;\r\n    //if target does not becomes 0\r\n    return false;  \r\n    }\r\n\r\n","title":"Recursion confusion","body":"<p>Just do this check if the number is 6 and then decide to skip it </p>\n\n<pre><code>public boolean groupSum6(int start, int[] nums, int target) {\n//exit condition and if target becomes 0\nif(start &gt;= nums.length) return (target ==0);\n\n// subtracting the number at start from target and make a recursive //call to groupSum6\nif(groupSum6(start+1 , nums  , target - nums[start])) return true;\n//check if the number at start is 6 or not then decide to skip it\nif(nums[start] != 6  &amp;&amp; groupSum6(start+1 , nums , target)) return true;\n//if target does not becomes 0\nreturn false;  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28709262,"reputation":35,"user_id":21985054,"display_name":"mosid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698955351,"creation_date":1698820283,"answer_id":77400752,"question_id":26443634,"body_markdown":"I did something similar as previous question:\r\n```\r\npublic boolean groupSum6(int start, int[] nums, int target) {\r\n  if (target == 0) return true;\r\n  if (start &gt;= nums.length) return false;\r\n  if (nums[start] == 6)\r\n    return groupSum6(start+1, nums, target-nums[start]);\r\n  return groupSum6(start+1, nums, target-nums[start]) || groupSum6(start+1, nums, target);\r\n}\r\n```\r\nBut it failed in 3 test cases\r\n`groupSum6(0, [1, 6, 2, 6, 4], 9)`\r\n`groupSum6(0, [3, 2, 4, 6], 3)`\r\n`groupSum6(0, [5, 2, 4, 6], 9)` , \r\nso I had to replace the base condition as the above one\r\n```\r\nif (start == nums.length) {\r\n  if (target == 0) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n```\r\n\r\nI realized that the `start == nums.length` is necessary since there could be the possibility of more 6 in array, if its not the end of array and we have not included it but got the target.","title":"Recursion confusion","body":"<p>I did something similar as previous question:</p>\n<pre><code>public boolean groupSum6(int start, int[] nums, int target) {\n  if (target == 0) return true;\n  if (start &gt;= nums.length) return false;\n  if (nums[start] == 6)\n    return groupSum6(start+1, nums, target-nums[start]);\n  return groupSum6(start+1, nums, target-nums[start]) || groupSum6(start+1, nums, target);\n}\n</code></pre>\n<p>But it failed in 3 test cases\n<code>groupSum6(0, [1, 6, 2, 6, 4], 9)</code>\n<code>groupSum6(0, [3, 2, 4, 6], 3)</code>\n<code>groupSum6(0, [5, 2, 4, 6], 9)</code> ,\nso I had to replace the base condition as the above one</p>\n<pre><code>if (start == nums.length) {\n  if (target == 0) {\n    return true;\n  }\n  return false;\n}\n</code></pre>\n<p>I realized that the <code>start == nums.length</code> is necessary since there could be the possibility of more 6 in array, if its not the end of array and we have not included it but got the target.</p>\n"}],"owner":{"account_id":4764172,"reputation":61,"user_id":3850774,"accept_rate":26,"display_name":"Sarah Markers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1787,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1698955351,"creation_date":1413660219,"question_id":26443634,"body_markdown":"I am writing a function according to the following guidelines:\r\n    \r\nGiven an array of ints, is it possible to choose a group of some of the ints, beginning at the start index, such that the group sums to the given target? However, with the additional constraint that all 6&#39;s must be chosen. (No loops needed.) \r\n\r\n    groupSum6(0, {5, 6, 2}, 8) ‚Üí true\r\n    groupSum6(0, {5, 6, 2}, 9) ‚Üí false\r\n    groupSum6(0, {5, 6, 2}, 7) ‚Üí false\r\n\r\nThis is the solution:\r\n\r\n    public boolean groupSum6(int start, int[] nums, int target) {\r\n        if (start == nums.length) {\r\n            if (target == 0) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        if (nums[start] == 6) {\r\n            return groupSum6(start + 1, nums, target - nums[start]);\r\n        }\r\n        if (groupSum6(start + 1, nums, target - nums[start])) {\r\n            return true;\r\n        }\r\n        return groupSum6(start + 1, nums, target);\r\n    }\r\n\r\nI am a little confused about why this works. I understand how it adds 6s, but where are the other numbers tested to see if they will add up to the target after the 6s have been added? Where are other non-6 numbers added?","title":"Recursion confusion","body":"<p>I am writing a function according to the following guidelines:</p>\n\n<p>Given an array of ints, is it possible to choose a group of some of the ints, beginning at the start index, such that the group sums to the given target? However, with the additional constraint that all 6's must be chosen. (No loops needed.) </p>\n\n<pre><code>groupSum6(0, {5, 6, 2}, 8) ‚Üí true\ngroupSum6(0, {5, 6, 2}, 9) ‚Üí false\ngroupSum6(0, {5, 6, 2}, 7) ‚Üí false\n</code></pre>\n\n<p>This is the solution:</p>\n\n<pre><code>public boolean groupSum6(int start, int[] nums, int target) {\n    if (start == nums.length) {\n        if (target == 0) {\n            return true;\n        }\n        return false;\n    }\n    if (nums[start] == 6) {\n        return groupSum6(start + 1, nums, target - nums[start]);\n    }\n    if (groupSum6(start + 1, nums, target - nums[start])) {\n        return true;\n    }\n    return groupSum6(start + 1, nums, target);\n}\n</code></pre>\n\n<p>I am a little confused about why this works. I understand how it adds 6s, but where are the other numbers tested to see if they will add up to the target after the 6s have been added? Where are other non-6 numbers added?</p>\n"},{"tags":["java","pointers","reference","jvm"],"comments":[{"owner":{"account_id":29813589,"reputation":1,"user_id":22848404,"display_name":"Alex Stanescu"},"score":0,"creation_date":1698957102,"post_id":77412510,"comment_id":136473897,"body_markdown":"Kind of, I really understand the concept but it&#39;s so confusing that, let&#39;s say you pass the value of a reference into a function, now I don&#39;t really know what value I pass, I just know that the function variable now points to the same object. I want to know that there is a memory address or another value interpreted later by the JVM","body":"Kind of, I really understand the concept but it&#39;s so confusing that, let&#39;s say you pass the value of a reference into a function, now I don&#39;t really know what value I pass, I just know that the function variable now points to the same object. I want to know that there is a memory address or another value interpreted later by the JVM"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698957968,"post_id":77412510,"comment_id":136474025,"body_markdown":"You can think of it as an address in memory, the number of the first octet of memory where the content of that object (its state, and references to methods defined in the class) lives. For [memory safety](https://en.wikipedia.org/wiki/Memory_safety), a reference in Java is not literally a memory address. But you can think of it as that. And so, values in Java are [always pass-by-value](https://stackoverflow.com/q/40480/642706), not pass-by-reference. Passing a primitive passes its content: a number, a boolean, etc. Passing an object passes its content: our pretend memory address.","body":"You can think of it as an address in memory, the number of the first octet of memory where the content of that object (its state, and references to methods defined in the class) lives. For <a href=\"https://en.wikipedia.org/wiki/Memory_safety\" rel=\"nofollow noreferrer\">memory safety</a>, a reference in Java is not literally a memory address. But you can think of it as that. And so, values in Java are <a href=\"https://stackoverflow.com/q/40480/642706\">always pass-by-value</a>, not pass-by-reference. Passing a primitive passes its content: a number, a boolean, etc. Passing an object passes its content: our pretend memory address."},{"owner":{"account_id":29813589,"reputation":1,"user_id":22848404,"display_name":"Alex Stanescu"},"score":0,"creation_date":1698966494,"post_id":77412510,"comment_id":136475132,"body_markdown":"So inside the reference variable is stored an &quot;intermediate&quot; value that points to the actual address? Not the address itself? I understand that in developer perspective this change nothing, but I really want to know if it s stored the actual address or an intermediate value interpreted by the JVM to reference that object. Thanks!","body":"So inside the reference variable is stored an &quot;intermediate&quot; value that points to the actual address? Not the address itself? I understand that in developer perspective this change nothing, but I really want to know if it s stored the actual address or an intermediate value interpreted by the JVM to reference that object. Thanks!"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1698968169,"post_id":77412510,"comment_id":136475292,"body_markdown":"With modern OSs&#39; memory virtualization, there are no &#39;real&#39; addresses anymore. Each program has its own linear RAM, starting at 0. The OS converts that address to the real location. That may be RAM or swap file or someplace even weirder. It gets even more complicated with Level x caches. So, Java reference variables, like any application on modern operating systems, point to that virtual address. And Java reference variables are only address values (&quot;pointers&quot;) at runtime, but lots of metadata is stored someplace else, like for Garbage Collection etc. Every JVM and GC handles it differently.","body":"With modern OSs&#39; memory virtualization, there are no &#39;real&#39; addresses anymore. Each program has its own linear RAM, starting at 0. The OS converts that address to the real location. That may be RAM or swap file or someplace even weirder. It gets even more complicated with Level x caches. So, Java reference variables, like any application on modern operating systems, point to that virtual address. And Java reference variables are only address values (&quot;pointers&quot;) at runtime, but lots of metadata is stored someplace else, like for Garbage Collection etc. Every JVM and GC handles it differently."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1698968730,"post_id":77412510,"comment_id":136475347,"body_markdown":"So, on top of the RAM virtualization: In most JVMs, when the Garbage Collector runs a cycle, it needs to block off all access (pause threads) to the sector it&#39;s clearing up, then moves the memory contents, then updates all reference variables to point to the new location, then it can resume the threads. AND there are even other effects worth noting, like JVM&#39;s runtime optimization, mostly JIT-compilation, which AGAIN may change the behaviour of the JVM, how and where it loads Objects: stack, heap, permgen, metaspace, eden vs survivor memory, constant pools, just to throw in a few names...","body":"So, on top of the RAM virtualization: In most JVMs, when the Garbage Collector runs a cycle, it needs to block off all access (pause threads) to the sector it&#39;s clearing up, then moves the memory contents, then updates all reference variables to point to the new location, then it can resume the threads. AND there are even other effects worth noting, like JVM&#39;s runtime optimization, mostly JIT-compilation, which AGAIN may change the behaviour of the JVM, how and where it loads Objects: stack, heap, permgen, metaspace, eden vs survivor memory, constant pools, just to throw in a few names..."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698971889,"post_id":77412510,"comment_id":136475648,"body_markdown":"P.S. The last sentence in my Comment was missing a crucial word: *reference*: Passing an object reference passes its content: our pretend memory address. (We never pass objects in Java; we pass object references.)","body":"P.S. The last sentence in my Comment was missing a crucial word: <i>reference</i>: Passing an object reference passes its content: our pretend memory address. (We never pass objects in Java; we pass object references.)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699000525,"post_id":77412510,"comment_id":136478241,"body_markdown":"Early implementations used a handle which was a pointer to a pointer. Nowadays it‚Äôs more than often just a pointer (memory address) or the memory address divided by eight (when your heap size is &gt;4GB and &lt;32GB).","body":"Early implementations used a handle which was a pointer to a pointer. Nowadays it‚Äôs more than often just a pointer (memory address) or the memory address divided by eight (when your heap size is &gt;4GB and &lt;32GB)."},{"owner":{"account_id":29813589,"reputation":1,"user_id":22848404,"display_name":"Alex Stanescu"},"score":0,"creation_date":1699019647,"post_id":77412510,"comment_id":136481667,"body_markdown":"Ok, thanks for all, but what if the address of an object changes during GC? The reference variable will hold the same address?","body":"Ok, thanks for all, but what if the address of an object changes during GC? The reference variable will hold the same address?"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1699028598,"post_id":77412510,"comment_id":136483857,"body_markdown":"Check out some articles explaining Garbage Collectors. Or read my last comment. It names the 4 basic steps most GCs need. I wrote that comment to hint at why for most reference variables (depending in which JVM space their target data lies) the JVM needs additional metadata stored or generated. Instead of going on here, why don&#39;t you read articles or specifications for the Java Memory Model? There are enough out there, and they will answer all your questions in detail.","body":"Check out some articles explaining Garbage Collectors. Or read my last comment. It names the 4 basic steps most GCs need. I wrote that comment to hint at why for most reference variables (depending in which JVM space their target data lies) the JVM needs additional metadata stored or generated. Instead of going on here, why don&#39;t you read articles or specifications for the Java Memory Model? There are enough out there, and they will answer all your questions in detail."}],"owner":{"account_id":29813589,"reputation":1,"user_id":22848404,"display_name":"Alex Stanescu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698957529,"answer_count":0,"score":0,"last_activity_date":1698954645,"creation_date":1698954645,"question_id":77412510,"body_markdown":"I read a lot of articles regarding this subject and I really want to understand what is the value that it&#39;s stored inside a reference variable in java. There are just too many opinions for such a basic question.\r\nIt&#39;s not clear for me it&#39;s just the physical memory address(but we can&#39;t access it or manage it) or it&#39;s another value that JVM use it to recognise the object(I saw a lot of times the &quot;handler&quot; word)?\r\nI know that the implementation may depend on the java/JVM version\r\n\r\nIs there any version of java/JVM where references are implemented as memory addresses? Or maybe in all of them ?","title":"What is the actual value of a reference variable in java?","body":"<p>I read a lot of articles regarding this subject and I really want to understand what is the value that it's stored inside a reference variable in java. There are just too many opinions for such a basic question.\nIt's not clear for me it's just the physical memory address(but we can't access it or manage it) or it's another value that JVM use it to recognise the object(I saw a lot of times the &quot;handler&quot; word)?\nI know that the implementation may depend on the java/JVM version</p>\n<p>Is there any version of java/JVM where references are implemented as memory addresses? Or maybe in all of them ?</p>\n"},{"tags":["java","jenkins","groovy","artifactory"],"comments":[{"owner":{"account_id":10181823,"reputation":239,"user_id":7518298,"display_name":"Amirhossein Taheri"},"score":0,"creation_date":1696945577,"post_id":77238235,"comment_id":136215471,"body_markdown":"So, I need this feature for jfrog.","body":"So, I need this feature for jfrog."},{"owner":{"account_id":6404812,"reputation":2036,"user_id":4966403,"display_name":"Elydasian"},"score":0,"creation_date":1697125187,"post_id":77238235,"comment_id":136243327,"body_markdown":"yes, turns out I have no available debugging mechanism for this one, so I am working now on a jenkins pipeline to do it manually, without the plugin","body":"yes, turns out I have no available debugging mechanism for this one, so I am working now on a jenkins pipeline to do it manually, without the plugin"}],"answers":[{"tags":[],"owner":{"account_id":29064306,"reputation":11,"user_id":22264272,"display_name":"caffeine_containing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698954592,"creation_date":1698954592,"answer_id":77412503,"question_id":77238235,"body_markdown":"Preferably, your build artifacts are marked in a unique way, for instance using Artifactory properties. And then you can access artifacts with a given property. [finding artifacts based on property][1] This way, it is ensured that you are save to access the right artifact without risk of mixing them up.\r\n\r\nIf the above mentioned is not possible, I would try to solve this by using timestamps and an AQL statement.\r\nYou would need to get the timestamp of the 10. build and you could consider to compare it to timestamps on Artifactory. I doubt this is fail safe since you can mess up time stamps.\r\nSee: [Date and Time Format in AQL][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65058402/how-to-find-artifacts-from-artifactory-that-have-a-specific-property-value-using\r\n  [2]: https://jfrog.com/help/r/jfrog-artifactory-documentation/date-and-time-format-in-aql","title":"How to modify the artifactCleanup plugin to keep just the last 10 artifacts in repo?","body":"<p>Preferably, your build artifacts are marked in a unique way, for instance using Artifactory properties. And then you can access artifacts with a given property. <a href=\"https://stackoverflow.com/questions/65058402/how-to-find-artifacts-from-artifactory-that-have-a-specific-property-value-using\">finding artifacts based on property</a> This way, it is ensured that you are save to access the right artifact without risk of mixing them up.</p>\n<p>If the above mentioned is not possible, I would try to solve this by using timestamps and an AQL statement.\nYou would need to get the timestamp of the 10. build and you could consider to compare it to timestamps on Artifactory. I doubt this is fail safe since you can mess up time stamps.\nSee: <a href=\"https://jfrog.com/help/r/jfrog-artifactory-documentation/date-and-time-format-in-aql\" rel=\"nofollow noreferrer\">Date and Time Format in AQL</a></p>\n"}],"owner":{"account_id":6404812,"reputation":2036,"user_id":4966403,"display_name":"Elydasian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698954592,"creation_date":1696517355,"question_id":77238235,"body_markdown":"I found the artifactCleanup plugin (https://github.com/jfrog/artifactory-user-plugins/blob/master/cleanup/artifactCleanup/artifactCleanup.groovy)\r\n\r\nI managed to implement it into my jenkins server, but now I need to update it a little.\r\nInstead of cleaning everything up that was not downloaded in the past X months, I want to keep just the last 10 artifacts in the repo (in each subfolder as well)\r\n\r\nFor example:\r\n``` \r\nMain_Repo\r\n   -folder1 (has 15 artifacts)\r\n   -folder2 (has 20 artifacts)\r\n   -art1\r\n   -art2\r\n   -...\r\n   -art25\r\n``` \r\n\r\nI need to keep the following:\r\n\r\n``` \r\nMain_Repo\r\n   -folder1 (has 10 artifacts)\r\n   -folder2 (has 10 artifacts)\r\n   -art1\r\n   -art2\r\n   -...\r\n   -art10\r\n``` \r\n\r\nWould that be possible?\r\n\r\nThe main function is this:\r\n```\r\nprivate def artifactCleanup(String timeUnit, int timeInterval, String[] repos, log, paceTimeMS, dryRun = false, disablePropertiesSupport = false) {\r\n    log.info &quot;Starting artifact cleanup for repositories $repos, until $timeInterval ${timeUnit}s ago with pacing interval $paceTimeMS ms, dryrun: $dryRun, disablePropertiesSupport: $disablePropertiesSupport&quot;\r\n\r\n    cancelOnNullRepos(repos,&#39;repos parameter must be specified before initiating cleanup.&#39;)\r\n\r\n    // Create Map(repo, paths) of skiped paths (or others properties supported in future ...)\r\n    def skip = [:]\r\n    if ( ! disablePropertiesSupport &amp;&amp; repos){\r\n        skip = getSkippedPaths(repos)\r\n    }\r\n\r\n    def calendarUntil = Calendar.getInstance()\r\n\r\n    calendarUntil.add(mapTimeUnitToCalendar(timeUnit), -timeInterval)\r\n\r\n    def calendarUntilFormatted = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm&quot;).format(calendarUntil.getTime());\r\n    log.info &quot;Removing all artifacts not downloaded since $calendarUntilFormatted&quot;\r\n\r\n    Global.stopCleaning = false\r\n    int cntFoundArtifacts = 0\r\n    int cntNoDeletePermissions = 0\r\n    long bytesFound = 0\r\n    long bytesFoundWithNoDeletePermission = 0\r\n    def artifactsCleanedUp = searches.artifactsNotDownloadedSince(calendarUntil, calendarUntil, repos)\r\n    artifactsCleanedUp.find {\r\n        try {\r\n            while ( Global.pauseCleaning ) {\r\n                log.info &quot;Pausing by request&quot;\r\n                sleep( 60000 )\r\n            }\r\n\r\n            if ( Global.stopCleaning ) {\r\n                log.info &quot;Stopping by request, ending loop&quot;\r\n                return true\r\n            }\r\n\r\n            if ( ! disablePropertiesSupport &amp;&amp; skip[ it.repoKey ] &amp;&amp; StringUtils.startsWithAny(it.path, skip[ it.repoKey ])){\r\n                if (log.isDebugEnabled()){\r\n                    log.debug &quot;Skip $it&quot;\r\n                }\r\n                return false\r\n            }\r\n\r\n            bytesFound += repositories.getItemInfo(it)?.getSize()\r\n            cntFoundArtifacts++\r\n            if (!security.canDelete(it)) {\r\n                bytesFoundWithNoDeletePermission += repositories.getItemInfo(it)?.getSize()\r\n                cntNoDeletePermissions++\r\n            }\r\n            if (dryRun) {\r\n                log.info &quot;Found $it &quot;\r\n                log.info &quot;\\t==&gt; currentUser: ${security.currentUser().getUsername()}&quot;\r\n                log.info &quot;\\t==&gt; canDelete: ${security.canDelete(it)}&quot;\r\n\r\n            } else {\r\n                if (security.canDelete(it)) {\r\n                    log.info &quot;Deleting $it&quot;\r\n                    repositories.delete it\r\n                    log.info &quot;Deleted...&quot;\r\n                } else {\r\n                    log.info &quot;Can&#39;t delete $it (user ${security.currentUser().getUsername()} has no delete permissions), &quot;\r\n                }\r\n            }\r\n        } catch (ItemNotFoundRuntimeException ex) {\r\n            log.info &quot;Failed to find $it, skipping&quot;\r\n        }\r\n\r\n        def sleepTime = (Global.paceTimeMS &gt; 0) ? Global.paceTimeMS : paceTimeMS\r\n        if (sleepTime &gt; 0) {\r\n            sleep( sleepTime )\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    if (dryRun) {\r\n        log.info &quot;Dry run - nothing deleted. Found $cntFoundArtifacts artifacts consuming $bytesFound bytes&quot;\r\n        if (cntNoDeletePermissions &gt; 0) {\r\n            log.info &quot;$cntNoDeletePermissions artifacts cannot be deleted due to lack of permissions ($bytesFoundWithNoDeletePermission bytes)&quot;\r\n        }\r\n    } else {\r\n        log.info &quot;Finished cleanup, deleting $cntFoundArtifacts artifacts that took up $bytesFound bytes&quot;\r\n        if (cntNoDeletePermissions &gt; 0) {\r\n            log.info &quot;$cntNoDeletePermissions artifacts could not be deleted due to lack of permissions ($bytesFoundWithNoDeletePermission bytes)&quot;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut I am not sure where can I find for example the &quot;search&quot; object, or the function it calls in the following line:\r\n\r\n```\r\ndef artifactsCleanedUp = searches.artifactsNotDownloadedSince(calendarUntil, calendarUntil, repos)\r\n```\r\n\r\nHope you can help me.\r\nThank you for your time","title":"How to modify the artifactCleanup plugin to keep just the last 10 artifacts in repo?","body":"<p>I found the artifactCleanup plugin (<a href=\"https://github.com/jfrog/artifactory-user-plugins/blob/master/cleanup/artifactCleanup/artifactCleanup.groovy\" rel=\"nofollow noreferrer\">https://github.com/jfrog/artifactory-user-plugins/blob/master/cleanup/artifactCleanup/artifactCleanup.groovy</a>)</p>\n<p>I managed to implement it into my jenkins server, but now I need to update it a little.\nInstead of cleaning everything up that was not downloaded in the past X months, I want to keep just the last 10 artifacts in the repo (in each subfolder as well)</p>\n<p>For example:</p>\n<pre><code>Main_Repo\n   -folder1 (has 15 artifacts)\n   -folder2 (has 20 artifacts)\n   -art1\n   -art2\n   -...\n   -art25\n</code></pre>\n<p>I need to keep the following:</p>\n<pre><code>Main_Repo\n   -folder1 (has 10 artifacts)\n   -folder2 (has 10 artifacts)\n   -art1\n   -art2\n   -...\n   -art10\n</code></pre>\n<p>Would that be possible?</p>\n<p>The main function is this:</p>\n<pre><code>private def artifactCleanup(String timeUnit, int timeInterval, String[] repos, log, paceTimeMS, dryRun = false, disablePropertiesSupport = false) {\n    log.info &quot;Starting artifact cleanup for repositories $repos, until $timeInterval ${timeUnit}s ago with pacing interval $paceTimeMS ms, dryrun: $dryRun, disablePropertiesSupport: $disablePropertiesSupport&quot;\n\n    cancelOnNullRepos(repos,'repos parameter must be specified before initiating cleanup.')\n\n    // Create Map(repo, paths) of skiped paths (or others properties supported in future ...)\n    def skip = [:]\n    if ( ! disablePropertiesSupport &amp;&amp; repos){\n        skip = getSkippedPaths(repos)\n    }\n\n    def calendarUntil = Calendar.getInstance()\n\n    calendarUntil.add(mapTimeUnitToCalendar(timeUnit), -timeInterval)\n\n    def calendarUntilFormatted = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm&quot;).format(calendarUntil.getTime());\n    log.info &quot;Removing all artifacts not downloaded since $calendarUntilFormatted&quot;\n\n    Global.stopCleaning = false\n    int cntFoundArtifacts = 0\n    int cntNoDeletePermissions = 0\n    long bytesFound = 0\n    long bytesFoundWithNoDeletePermission = 0\n    def artifactsCleanedUp = searches.artifactsNotDownloadedSince(calendarUntil, calendarUntil, repos)\n    artifactsCleanedUp.find {\n        try {\n            while ( Global.pauseCleaning ) {\n                log.info &quot;Pausing by request&quot;\n                sleep( 60000 )\n            }\n\n            if ( Global.stopCleaning ) {\n                log.info &quot;Stopping by request, ending loop&quot;\n                return true\n            }\n\n            if ( ! disablePropertiesSupport &amp;&amp; skip[ it.repoKey ] &amp;&amp; StringUtils.startsWithAny(it.path, skip[ it.repoKey ])){\n                if (log.isDebugEnabled()){\n                    log.debug &quot;Skip $it&quot;\n                }\n                return false\n            }\n\n            bytesFound += repositories.getItemInfo(it)?.getSize()\n            cntFoundArtifacts++\n            if (!security.canDelete(it)) {\n                bytesFoundWithNoDeletePermission += repositories.getItemInfo(it)?.getSize()\n                cntNoDeletePermissions++\n            }\n            if (dryRun) {\n                log.info &quot;Found $it &quot;\n                log.info &quot;\\t==&gt; currentUser: ${security.currentUser().getUsername()}&quot;\n                log.info &quot;\\t==&gt; canDelete: ${security.canDelete(it)}&quot;\n\n            } else {\n                if (security.canDelete(it)) {\n                    log.info &quot;Deleting $it&quot;\n                    repositories.delete it\n                    log.info &quot;Deleted...&quot;\n                } else {\n                    log.info &quot;Can't delete $it (user ${security.currentUser().getUsername()} has no delete permissions), &quot;\n                }\n            }\n        } catch (ItemNotFoundRuntimeException ex) {\n            log.info &quot;Failed to find $it, skipping&quot;\n        }\n\n        def sleepTime = (Global.paceTimeMS &gt; 0) ? Global.paceTimeMS : paceTimeMS\n        if (sleepTime &gt; 0) {\n            sleep( sleepTime )\n        }\n\n        return false\n    }\n\n    if (dryRun) {\n        log.info &quot;Dry run - nothing deleted. Found $cntFoundArtifacts artifacts consuming $bytesFound bytes&quot;\n        if (cntNoDeletePermissions &gt; 0) {\n            log.info &quot;$cntNoDeletePermissions artifacts cannot be deleted due to lack of permissions ($bytesFoundWithNoDeletePermission bytes)&quot;\n        }\n    } else {\n        log.info &quot;Finished cleanup, deleting $cntFoundArtifacts artifacts that took up $bytesFound bytes&quot;\n        if (cntNoDeletePermissions &gt; 0) {\n            log.info &quot;$cntNoDeletePermissions artifacts could not be deleted due to lack of permissions ($bytesFoundWithNoDeletePermission bytes)&quot;\n        }\n    }\n}\n\n</code></pre>\n<p>But I am not sure where can I find for example the &quot;search&quot; object, or the function it calls in the following line:</p>\n<pre><code>def artifactsCleanedUp = searches.artifactsNotDownloadedSince(calendarUntil, calendarUntil, repos)\n</code></pre>\n<p>Hope you can help me.\nThank you for your time</p>\n"},{"tags":["java","hibernate","spring-mvc","jpa","spring-data"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1410793465,"post_id":25851029,"comment_id":40448186,"body_markdown":"You can&#39;t do anything. Hibernate needs a way to uniquely identify a row. And this unique value may not change.","body":"You can&#39;t do anything. Hibernate needs a way to uniquely identify a row. And this unique value may not change."},{"owner":{"account_id":6609714,"reputation":4086,"user_id":5105305,"accept_rate":58,"display_name":"Kasun Siyambalapitiya"},"score":1,"creation_date":1467718191,"post_id":25851029,"comment_id":63828405,"body_markdown":"@JBNizet In hibernate isn&#39;t  there a way to implement `composite keys`","body":"@JBNizet In hibernate isn&#39;t  there a way to implement <code>composite keys</code>"},{"owner":{"account_id":12232531,"reputation":1276,"user_id":8928037,"display_name":"Kaumadie Kariyawasam"},"score":0,"creation_date":1616138167,"post_id":25851029,"comment_id":117913571,"body_markdown":"make sure you annotate &#39;Id&#39; from `javax.persistence`  package?","body":"make sure you annotate &#39;Id&#39; from <code>javax.persistence</code>  package?"}],"answers":[{"comments":[{"owner":{"account_id":1202860,"reputation":880,"user_id":1173155,"accept_rate":91,"display_name":"shanehoban"},"score":0,"creation_date":1454506622,"post_id":25851218,"comment_id":58074046,"body_markdown":"would this require an actual column called &#39;id&#39;?","body":"would this require an actual column called &#39;id&#39;?"},{"owner":{"account_id":5015027,"reputation":794,"user_id":4030105,"display_name":"ThMBc"},"score":1,"creation_date":1454508825,"post_id":25851218,"comment_id":58075651,"body_markdown":"This solution requires it, but if you have a column in which you only have unique values, that could be the @Id column as well. If you decide to auto-generate one, you also need that column in your database.","body":"This solution requires it, but if you have a column in which you only have unique values, that could be the @Id column as well. If you decide to auto-generate one, you also need that column in your database."},{"owner":{"account_id":1202860,"reputation":880,"user_id":1173155,"accept_rate":91,"display_name":"shanehoban"},"score":0,"creation_date":1454512436,"post_id":25851218,"comment_id":58078384,"body_markdown":"OK, what about where no unique value columns are being returned from a stored procedure? Could you perhaps try the following: `@Id \\n\n\t@GeneratedValue \\n\n\tprivate int id;`","body":"OK, what about where no unique value columns are being returned from a stored procedure? Could you perhaps try the following: <code>@Id \\n \t@GeneratedValue \\n \tprivate int id;</code>"},{"owner":{"account_id":5015027,"reputation":794,"user_id":4030105,"display_name":"ThMBc"},"score":1,"creation_date":1454513415,"post_id":25851218,"comment_id":58079165,"body_markdown":"If you want to use hibernate and thus SQL you need to define a unique value column. The code provided automatically creates this column and fills it up. there are alternative storage systems where no primary keys are required but that is not in the scope of this question or answer. If you do not supply the @Column annotation it will create it for you.","body":"If you want to use hibernate and thus SQL you need to define a unique value column. The code provided automatically creates this column and fills it up. there are alternative storage systems where no primary keys are required but that is not in the scope of this question or answer. If you do not supply the @Column annotation it will create it for you."},{"owner":{"account_id":1068133,"reputation":1260,"user_id":1068099,"accept_rate":3,"display_name":"Mike Argyriou"},"score":0,"creation_date":1496003358,"post_id":25851218,"comment_id":75473292,"body_markdown":"&quot;each row in a sql database should have a unique identifier&quot; - this is not true.","body":"&quot;each row in a sql database should have a unique identifier&quot; - this is not true."}],"tags":[],"owner":{"account_id":5015027,"reputation":794,"user_id":4030105,"display_name":"ThMBc"},"comment_count":5,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1410793769,"creation_date":1410793769,"answer_id":25851218,"question_id":25851029,"body_markdown":"Hibernate is an intermediate to adress SQL databases, and since each row in a sql database should have a unique identifier, hibernate forces you to define one.\r\n\r\nHere is an example of a generated primary key, which will be added automatically (do not forget the getter and setter)\r\n\r\n    @Id \r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\nSince duplicates are not allowed, choosing an arbitrary column is not the way to go.","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Hibernate is an intermediate to adress SQL databases, and since each row in a sql database should have a unique identifier, hibernate forces you to define one.</p>\n\n<p>Here is an example of a generated primary key, which will be added automatically (do not forget the getter and setter)</p>\n\n<pre><code>@Id \n@GeneratedValue\n@Column(name = \"id\")\nprivate int id;\n</code></pre>\n\n<p>Since duplicates are not allowed, choosing an arbitrary column is not the way to go.</p>\n"},{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410793886,"creation_date":1410793886,"answer_id":25851262,"question_id":25851029,"body_markdown":"Its not juts `Hibernate` - a relational `datamodel` require `primary keys`. So what you&#39;ve got is a broken data model because without a primary key it can&#39;t be relational, and this is why its difficult to use with an ORM. \r\n\r\nfor more info, [here][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Its not juts <code>Hibernate</code> - a relational <code>datamodel</code> require <code>primary keys</code>. So what you've got is a broken data model because without a primary key it can't be relational, and this is why its difficult to use with an ORM. </p>\n\n<p>for more info, <a href=\"http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html\" rel=\"nofollow\">here</a></p>\n"},{"comments":[{"owner":{"account_id":6609714,"reputation":4086,"user_id":5105305,"accept_rate":58,"display_name":"Kasun Siyambalapitiya"},"score":0,"creation_date":1467718463,"post_id":25851499,"comment_id":63828593,"body_markdown":"what is `JDO` and can you give me a link to learn it, because I don&#39;t know anything about it","body":"what is <code>JDO</code> and can you give me a link to learn it, because I don&#39;t know anything about it"},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1468042865,"post_id":25851499,"comment_id":63976276,"body_markdown":"Why not use Internet Search for &quot;Java Data Objects&quot; or JDO?","body":"Why not use Internet Search for &quot;Java Data Objects&quot; or JDO?"}],"tags":[],"owner":{"display_name":"user3973283"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410794543,"creation_date":1410794543,"answer_id":25851499,"question_id":25851029,"body_markdown":"JPA (not Hibernate as such) requires all entities to be uniquely identified. Sadly it doesn&#39;t allow for what you want.\r\n\r\nJDO, on the other hand, does allow a persistable class to map to a table without PK and would handle what you need.","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>JPA (not Hibernate as such) requires all entities to be uniquely identified. Sadly it doesn't allow for what you want.</p>\n\n<p>JDO, on the other hand, does allow a persistable class to map to a table without PK and would handle what you need.</p>\n"},{"tags":[],"owner":{"account_id":3406555,"reputation":757,"user_id":2857471,"display_name":"Manisha Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1442833346,"creation_date":1442833346,"answer_id":32693574,"question_id":25851029,"body_markdown":"    You can solve this using embedded id \r\nex:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyTable implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t// @Id\r\n    \t@Column(name = &quot;id&quot;, insertable = false, updatable = false)\r\n    \tprivate String id;\r\n    \r\n    \t@EmbeddedId\r\n    \tMYtablePK pk;\r\n    \r\n    \tpublic MYtablePK getPk() {\r\n    \t\treturn pk;\r\n    \t}\r\n    \r\n    \tpublic void setPk(MYtablePK pk) {\r\n    \t\tthis.pk = pk;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;my_table_FirstName&quot;, insertable = false, updatable = false)\r\n    \tprivate String name;\r\n    \r\n    \t@Transient\r\n    \tpublic String getName() {\r\n    \t\treturn pk.getName();\r\n    \t}\r\n    \r\n    \tpublic void setName(String mrn) {\r\n    \t\tpk.setName(name);\r\n    \t}\r\n    \t@Transient\r\n    \t\tpublic String getSeverity() {\r\n    \t\treturn pk.getSeverity();\r\n    \t}\r\n    \tpublic void setSeverity(String severity) {\r\n    \t\tpk.setName(name);\r\n    \t}\r\n    \r\n    \tpublic String getId() {\r\n    \t\treturn pk.getId();\r\n    \t}\r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn pk.getName();\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\ttpk.setName(name);\r\n    \t}\r\n    }\r\n    \r\n    @Embeddable\r\n    public class MyTablePK implements Serializable{\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = -1257821517891392898L;\r\n    \t@Column(name = &quot;id&quot;)\r\n    \tprivate String id;\r\n    \t@Column(name = &quot;name&quot;)\r\n    \tprivate String name;\r\n    \t@Column(name = &quot;dob&quot;)\r\n    \tprivate Date dob;\r\n    \tpublic Date getdob() {\r\n    \t\treturn dob;\r\n    \t}\r\n    \tpublic void setdob(Date dob) {\r\n    \t\tthis.pk.setdob(dob);\r\n    \t}\r\n    \t@Column(name = &quot;severity&quot;)\r\n    \tprivate String severity;\r\n    \tpublic String getSeverity() {\r\n    \t\treturn severity;\r\n    \t}\r\n    \tpublic void setSeverity(String severity) {\r\n    \t\tthis.severity = severity;\r\n    \t}\r\n    \r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<pre><code>You can solve this using embedded id \n</code></pre>\n\n<p>ex:</p>\n\n<pre><code>@Entity\n@Table(name = \"my_table\")\npublic class MyTable implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    // @Id\n    @Column(name = \"id\", insertable = false, updatable = false)\n    private String id;\n\n    @EmbeddedId\n    MYtablePK pk;\n\n    public MYtablePK getPk() {\n        return pk;\n    }\n\n    public void setPk(MYtablePK pk) {\n        this.pk = pk;\n    }\n\n    @Column(name = \"my_table_FirstName\", insertable = false, updatable = false)\n    private String name;\n\n    @Transient\n    public String getName() {\n        return pk.getName();\n    }\n\n    public void setName(String mrn) {\n        pk.setName(name);\n    }\n    @Transient\n        public String getSeverity() {\n        return pk.getSeverity();\n    }\n    public void setSeverity(String severity) {\n        pk.setName(name);\n    }\n\n    public String getId() {\n        return pk.getId();\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getName() {\n        return pk.getName();\n    }\n    public void setName(String name) {\n        tpk.setName(name);\n    }\n}\n\n@Embeddable\npublic class MyTablePK implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = -1257821517891392898L;\n    @Column(name = \"id\")\n    private String id;\n    @Column(name = \"name\")\n    private String name;\n    @Column(name = \"dob\")\n    private Date dob;\n    public Date getdob() {\n        return dob;\n    }\n    public void setdob(Date dob) {\n        this.pk.setdob(dob);\n    }\n    @Column(name = \"severity\")\n    private String severity;\n    public String getSeverity() {\n        return severity;\n    }\n    public void setSeverity(String severity) {\n        this.severity = severity;\n    }\n\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name\n</code></pre>\n"},{"comments":[{"owner":{"account_id":253262,"reputation":3697,"user_id":531856,"accept_rate":70,"display_name":"sMaN"},"score":0,"creation_date":1460440058,"post_id":33114283,"comment_id":60729013,"body_markdown":"@Id needs to be an integer though, or convertible to an Integer, or am I mistaken?","body":"@Id needs to be an integer though, or convertible to an Integer, or am I mistaken?"},{"owner":{"account_id":253262,"reputation":3697,"user_id":531856,"accept_rate":70,"display_name":"sMaN"},"score":0,"creation_date":1460500679,"post_id":33114283,"comment_id":60769482,"body_markdown":"I am mistaken, my issue was elsewhere. I&#39;ve managed to use an @Enumerated(EnumType.STRING) column as the id. I&#39;m returning a single row of a single column, so this enum is unique by default.","body":"I am mistaken, my issue was elsewhere. I&#39;ve managed to use an @Enumerated(EnumType.STRING) column as the id. I&#39;m returning a single row of a single column, so this enum is unique by default."},{"owner":{"account_id":3266323,"reputation":12565,"user_id":2750743,"display_name":"Klesun"},"score":0,"creation_date":1623516813,"post_id":33114283,"comment_id":120103676,"body_markdown":"OP was specifically asking what to do when table has no primary key column to mark with `@Id`.","body":"OP was specifically asking what to do when table has no primary key column to mark with <code>@Id</code>."}],"tags":[],"owner":{"account_id":1499204,"reputation":5419,"user_id":1404407,"accept_rate":100,"display_name":"Cory Roy"},"comment_count":3,"down_vote_count":2,"up_vote_count":188,"is_accepted":false,"score":186,"last_activity_date":1444779128,"creation_date":1444779128,"answer_id":33114283,"question_id":25851029,"body_markdown":"I had this problem and was using the wrong import for @id:\r\n\r\nMake sure it&#39;s:\r\n\r\n    import javax.persistence.Id;\r\n\r\nand not:\r\n\r\n    import org.springframework.data.annotation.Id;\r\n","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>I had this problem and was using the wrong import for @id:</p>\n\n<p>Make sure it's:</p>\n\n<pre><code>import javax.persistence.Id;\n</code></pre>\n\n<p>and not:</p>\n\n<pre><code>import org.springframework.data.annotation.Id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8704738,"reputation":1,"user_id":6513233,"display_name":"Shivalik Chopra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480802616,"creation_date":1480802616,"answer_id":40952979,"question_id":25851029,"body_markdown":"Make sure there is p.k constraint defined for each Entity and check the import statement for Id Annotation.\r\nCheck Import statement:\r\n\r\n\r\n\r\n\r\n \r\n\r\n    import javax.persistence.Id;\r\n    @Id\r\n    @Column(name=&quot;id&quot;)\r\n    @GeneratedValue \r\n    private int id;","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Make sure there is p.k constraint defined for each Entity and check the import statement for Id Annotation.\nCheck Import statement:</p>\n\n<pre><code>import javax.persistence.Id;\n@Id\n@Column(name=\"id\")\n@GeneratedValue \nprivate int id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2776190,"reputation":41,"user_id":2389736,"display_name":"user2389736"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1484828315,"creation_date":1484828315,"answer_id":41741633,"question_id":25851029,"body_markdown":"Also had same issue. The problem was wrong import of @Id annotation. So please make sure that you not only annotate the id but also that you do it with javax.persistence.Id.","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Also had same issue. The problem was wrong import of @Id annotation. So please make sure that you not only annotate the id but also that you do it with javax.persistence.Id.</p>\n"},{"tags":[],"owner":{"account_id":10034985,"reputation":61,"user_id":7420004,"display_name":"user7420004"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546548175,"creation_date":1546548175,"answer_id":54029529,"question_id":25851029,"body_markdown":"Specify a field annotated with @Id. Every @Entity requires an @Id (This is the primary key in the table).\r\nThe solution for you is to use @Embeddable instead of @Entity, then you wont need to annotate any column with @Id. Change the import statement from javax.persistence.Entity; to javax.persistence.Embeddable; \r\n","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Specify a field annotated with @Id. Every @Entity requires an @Id (This is the primary key in the table).\nThe solution for you is to use @Embeddable instead of @Entity, then you wont need to annotate any column with @Id. Change the import statement from javax.persistence.Entity; to javax.persistence.Embeddable; </p>\n"},{"tags":[],"owner":{"account_id":8479829,"reputation":31,"user_id":6359842,"display_name":"GovindaRaju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559150385,"creation_date":1559149214,"answer_id":56365398,"question_id":25851029,"body_markdown":"Use `@Embeddable` annotation instead of `@Entity` if your class mapping is used as `readOnly` mapping and does not have `PK` or `@EmbeddedKey`\r\n    \r\n    //@Entity\r\n    @Embeddable\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyTable implements Serializable {\r\n    \r\n    }","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Use <code>@Embeddable</code> annotation instead of <code>@Entity</code> if your class mapping is used as <code>readOnly</code> mapping and does not have <code>PK</code> or <code>@EmbeddedKey</code></p>\n\n<pre><code>//@Entity\n@Embeddable\n@Table(name = \"my_table\")\npublic class MyTable implements Serializable {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7989603,"reputation":91,"user_id":6027844,"display_name":"Gicheha Kingori"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622660480,"creation_date":1622660480,"answer_id":67811011,"question_id":25851029,"body_markdown":"Basically make sure your `Column` annotated fields match the database table in question","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Basically make sure your <code>Column</code> annotated fields match the database table in question</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1642250626,"post_id":70718232,"comment_id":125023725,"body_markdown":"As it‚Äôs currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it‚Äôs currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70718232/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8800468,"reputation":1,"user_id":6630781,"display_name":"Jose"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642210354,"creation_date":1642210354,"answer_id":70718232,"question_id":25851029,"body_markdown":"requirement: table don&#39;t have a primary key or a proper column whith a unique value\r\nsolution: just add a dummy column for your id, and ignore it for the rest of your select statements. imagine such a column is not there for all your requirements that doesnt need a primary key. setup some auto increment mechanism or something based on sequence, for this column.\r\nyou need: permission to alter table, though, as needed.\r\n","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>requirement: table don't have a primary key or a proper column whith a unique value\nsolution: just add a dummy column for your id, and ignore it for the rest of your select statements. imagine such a column is not there for all your requirements that doesnt need a primary key. setup some auto increment mechanism or something based on sequence, for this column.\nyou need: permission to alter table, though, as needed.</p>\n"},{"tags":[],"owner":{"account_id":29810636,"reputation":1,"user_id":22846128,"display_name":"Dip Kankal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698954442,"creation_date":1698929290,"answer_id":77409689,"question_id":25851029,"body_markdown":"Use `@id` annotation as a primary key","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>Use <code>@id</code> annotation as a primary key</p>\n"}],"owner":{"account_id":4943429,"reputation":1625,"user_id":3979532,"accept_rate":44,"display_name":"stackUser2000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120574,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"answer_count":12,"score":47,"last_activity_date":1698954442,"creation_date":1410793183,"question_id":25851029,"body_markdown":"I&#39;m working with a table in a database and that table don&#39;t have a primary key or a proper column whith a unique value who can act as a primary key, I don&#39;t have permissions to alter that table.\r\n\r\nWhat should I do? I tried putting a @id annotation in a random column and it worked, but I don&#39;t know if this is going to bring any trouble later on. what can I do?\r\n\r\nMy class\r\n\r\n    @Entity\r\n    @Table(name=&quot;my_table&quot;)\r\n    public class TheTable {\r\n    @Column (name=&quot;name&quot;, nullable=false)\r\n    \tprivate String name;\r\n    \r\n        @Id &lt;--- I just put this id in this random column but this column should not be a id column\r\n    \t@Column (name=&quot;anyfield&quot;, nullable=false)\r\n    \tprivate String anyfield;\r\n    }","title":"Org.Hibernate.AnnotationException: No Identifier Specified For Entity I don&#39;t have a id in my table","body":"<p>I'm working with a table in a database and that table don't have a primary key or a proper column whith a unique value who can act as a primary key, I don't have permissions to alter that table.</p>\n\n<p>What should I do? I tried putting a @id annotation in a random column and it worked, but I don't know if this is going to bring any trouble later on. what can I do?</p>\n\n<p>My class</p>\n\n<pre><code>@Entity\n@Table(name=\"my_table\")\npublic class TheTable {\n@Column (name=\"name\", nullable=false)\n    private String name;\n\n    @Id &lt;--- I just put this id in this random column but this column should not be a id column\n    @Column (name=\"anyfield\", nullable=false)\n    private String anyfield;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","upload","postman","spring-restcontroller"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1494588237,"post_id":43936372,"comment_id":74905095,"body_markdown":"may be this will help http://stackoverflow.com/questions/43864826/integration-test-case-and-file-upload/43866552#43866552","body":"may be this will help <a href=\"http://stackoverflow.com/questions/43864826/integration-test-case-and-file-upload/43866552#43866552\" title=\"integration test case and file upload\">stackoverflow.com/questions/43864826/&hellip;</a>"},{"owner":{"account_id":10787897,"reputation":443,"user_id":7936356,"display_name":"Wintern"},"score":0,"creation_date":1494690957,"post_id":43936372,"comment_id":74941443,"body_markdown":"Unfortunely this does not solve my problem. The error still appearing","body":"Unfortunely this does not solve my problem. The error still appearing"}],"answers":[{"comments":[{"owner":{"account_id":10787897,"reputation":443,"user_id":7936356,"display_name":"Wintern"},"score":5,"creation_date":1494690715,"post_id":43937586,"comment_id":74941355,"body_markdown":"thanks for your help, but unfortunely thats what i was doing.  I passed file as a key and upload the file and it&#39;s not working.","body":"thanks for your help, but unfortunely thats what i was doing.  I passed file as a key and upload the file and it&#39;s not working."}],"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1494591420,"creation_date":1494591420,"answer_id":43937586,"question_id":43936372,"body_markdown":"In your method you have specified like this   \r\n`@RequestParam(&quot;file&quot;)`. Hence it is expecting the key to be `file`. It is quite evident in the exception message. Use this name in the `Key` field in Postman when you upload file.   \r\nMore information here https://stackoverflow.com/questions/43864826/integration-test-case-and-file-upload/43866552#43866552","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>In your method you have specified like this<br>\n<code>@RequestParam(\"file\")</code>. Hence it is expecting the key to be <code>file</code>. It is quite evident in the exception message. Use this name in the <code>Key</code> field in Postman when you upload file.<br>\nMore information here <a href=\"https://stackoverflow.com/questions/43864826/integration-test-case-and-file-upload/43866552#43866552\">integration test case and file upload</a></p>\n"},{"comments":[{"owner":{"account_id":10787897,"reputation":443,"user_id":7936356,"display_name":"Wintern"},"score":0,"creation_date":1494690678,"post_id":43952169,"comment_id":74941343,"body_markdown":"I&#39;m trying the same test but i pass file as key and choose a file but the error is still there. That why i&#39;m so confused","body":"I&#39;m trying the same test but i pass file as key and choose a file but the error is still there. That why i&#39;m so confused"},{"owner":{"account_id":10787897,"reputation":443,"user_id":7936356,"display_name":"Wintern"},"score":6,"creation_date":1494937147,"post_id":43952169,"comment_id":75030755,"body_markdown":"I&#39;ve added this to my app file : `@Bean public CommonsMultipartResolver multipartResolver() { CommonsMultipartResolver multipart = new CommonsMultipartResolver(); multipart.setMaxUploadSize(3 * 1024 * 1024); return multipart;} @Bean @Order(0) public MultipartFilter multipartFilter() { MultipartFilter multipartFilter = new MultipartFilter(); multipartFilter.setMultipartResolverBeanName(&quot;multipartReso‚Äå‚Äãlver&quot;); return multipartFilter; } `","body":"I&#39;ve added this to my app file : <code>@Bean public CommonsMultipartResolver multipartResolver() { CommonsMultipartResolver multipart = new CommonsMultipartResolver(); multipart.setMaxUploadSize(3 * 1024 * 1024); return multipart;} @Bean @Order(0) public MultipartFilter multipartFilter() { MultipartFilter multipartFilter = new MultipartFilter(); multipartFilter.setMultipartResolverBeanName(&quot;multipartReso‚Äå&zwnj;&#8203;‚Äãlver&quot;); return multipartFilter; } </code>"},{"owner":{"account_id":10885904,"reputation":1295,"user_id":8003421,"display_name":"Tanmay Delhikar"},"score":1,"creation_date":1495030295,"post_id":43952169,"comment_id":75080960,"body_markdown":"Yes it did, because I have worked on this before using spring boot.","body":"Yes it did, because I have worked on this before using spring boot."},{"owner":{"account_id":10787897,"reputation":443,"user_id":7936356,"display_name":"Wintern"},"score":0,"creation_date":1495031390,"post_id":43952169,"comment_id":75081832,"body_markdown":"@TanmayPlease can you show me your code because really i dont get this error. I&#39;ve been blockin&#39; on this for two weeks and i need this rest controller for my angular2 frontend part","body":"@TanmayPlease can you show me your code because really i dont get this error. I&#39;ve been blockin&#39; on this for two weeks and i need this rest controller for my angular2 frontend part"},{"owner":{"account_id":10787897,"reputation":443,"user_id":7936356,"display_name":"Wintern"},"score":0,"creation_date":1495055173,"post_id":43952169,"comment_id":75096191,"body_markdown":"Thanks @Tanmay i&#39;m waiting","body":"Thanks @Tanmay i&#39;m waiting"},{"owner":{"account_id":10787897,"reputation":443,"user_id":7936356,"display_name":"Wintern"},"score":1,"creation_date":1495297685,"post_id":43952169,"comment_id":75198345,"body_markdown":"It&#39;s working now i just changed the head of the function, really i&#39;m so grateful for your help. thanks","body":"It&#39;s working now i just changed the head of the function, really i&#39;m so grateful for your help. thanks"},{"owner":{"account_id":5661430,"reputation":671,"user_id":4478968,"accept_rate":25,"display_name":"marco"},"score":1,"creation_date":1506681388,"post_id":43952169,"comment_id":79928419,"body_markdown":"@Tanmay Delhikar I have more or less your same sample client, and I am trying to write an integration test, unsuccessfully, since I have the same exception posted in this question:\n &quot;org.springframework.web.multipart.support.MissingServletRequestPartException&quot;, &quot;message&quot;: &quot;Required request part &#39;file&#39; is not present&quot; Can you kindly write a simple example on how to invoke that WS?","body":"@Tanmay Delhikar I have more or less your same sample client, and I am trying to write an integration test, unsuccessfully, since I have the same exception posted in this question:  &quot;org.springframework.web.multipart.support.MissingServletReq&zwnj;&#8203;uestPartException&quot;, &quot;message&quot;: &quot;Required request part &#39;file&#39; is not present&quot; Can you kindly write a simple example on how to invoke that WS?"},{"owner":{"account_id":3322909,"reputation":766,"user_id":2793594,"display_name":"Jo&#227;o Rodrigues"},"score":0,"creation_date":1532101098,"post_id":43952169,"comment_id":89862229,"body_markdown":"In my case it was the @Bean of MultipartResolver. Simply removed it and that did the work.","body":"In my case it was the @Bean of MultipartResolver. Simply removed it and that did the work."},{"owner":{"account_id":9835759,"reputation":471,"user_id":7286223,"display_name":"Raihanul Alam Hridoy"},"score":0,"creation_date":1632739273,"post_id":43952169,"comment_id":122565773,"body_markdown":"Thank you very much. It worked and seems like I wasn&#39;t giving the key name in RequestParam. It should be like this: \n    @RequestParam(&quot;file&quot;) DataType variable","body":"Thank you very much. It worked and seems like I wasn&#39;t giving the key name in RequestParam. It should be like this:      @RequestParam(&quot;file&quot;) DataType variable"},{"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"score":0,"creation_date":1655361212,"post_id":43952169,"comment_id":128315413,"body_markdown":"@marco in my case it works in mvc test if I don&#39;t specify any explicit bean for `MultipartResolver` and if I use `file` as name for the multipart data in test: `final var file = new MockMultipartFile(&quot;file&quot;, &quot;filename.exe&quot;, &quot;application/vnd.microsoft.portable-executable&quot;, &quot;not suspicious&quot;.getBytes());` See: https://stackoverflow.com/a/21805186/2138953","body":"@marco in my case it works in mvc test if I don&#39;t specify any explicit bean for <code>MultipartResolver</code> and if I use <code>file</code> as name for the multipart data in test: <code>final var file = new MockMultipartFile(&quot;file&quot;, &quot;filename.exe&quot;, &quot;application&#47;vnd.microsoft.portable-executable&quot;, &quot;not suspicious&quot;.getBytes());</code> See: <a href=\"https://stackoverflow.com/a/21805186/2138953\">stackoverflow.com/a/21805186/2138953</a>"}],"tags":[],"owner":{"account_id":10885904,"reputation":1295,"user_id":8003421,"display_name":"Tanmay Delhikar"},"comment_count":10,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1495033739,"creation_date":1494672235,"answer_id":43952169,"question_id":43936372,"body_markdown":"This is how your request in Postman should look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xv1xK.png\r\n\r\n\r\nMy sample code:\r\n\r\n***application.properties***\r\n\r\n    #max file and request size \r\n    spring.http.multipart.max-file-size=10MB\r\n    spring.http.multipart.max-request-size=11MB\r\n\r\nMain Application Class:\r\n\r\n***Application.java***\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n***Rest controller class:***\r\n\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    \r\n        @Controller\r\n        @RequestMapping(&quot;/fileupload&quot;)\r\n        public class MyRestController {\r\n        \r\n        @RequestMapping(value = &quot;/file&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        \tpublic @ResponseBody String myService(@RequestParam(&quot;file&quot;) MultipartFile file,\r\n        \t\t\t@RequestParam(&quot;id&quot;) String id) throws Exception {\r\n        \r\n        if (!file.isEmpty()) { \r\n        \r\n               //your logic\r\n                            }\r\n    return &quot;some json&quot;;\r\n   \r\n                    }\r\n        }\r\n\r\n\r\n***pom.xml*** \r\n\r\n    //...\r\n    \r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    ....\r\n    \r\n    \r\n    \r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    //...\r\n\r\n","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>This is how your request in Postman should look like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xv1xK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Xv1xK.png\" alt=\"enter image description here\"></a></p>\n\n<p>My sample code:</p>\n\n<p><strong><em>application.properties</em></strong></p>\n\n<pre><code>#max file and request size \nspring.http.multipart.max-file-size=10MB\nspring.http.multipart.max-request-size=11MB\n</code></pre>\n\n<p>Main Application Class:</p>\n\n<p><strong><em>Application.java</em></strong></p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p><strong><em>Rest controller class:</em></strong></p>\n\n<pre><code>import org.springframework.http.MediaType;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.multipart.MultipartFile;\n\n\n    @Controller\n    @RequestMapping(\"/fileupload\")\n    public class MyRestController {\n\n    @RequestMapping(value = \"/file\", method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\n        public @ResponseBody String myService(@RequestParam(\"file\") MultipartFile file,\n                @RequestParam(\"id\") String id) throws Exception {\n\n    if (!file.isEmpty()) { \n\n           //your logic\n                        }\nreturn \"some json\";\n\n                }\n    }\n</code></pre>\n\n<p><strong><em>pom.xml</em></strong> </p>\n\n<pre><code>//...\n\n&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n....\n\n\n\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n//...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5184423,"reputation":133,"user_id":4149192,"display_name":"Susinda Perera"},"score":0,"creation_date":1534337119,"post_id":47528390,"comment_id":90669974,"body_markdown":"This answer helped me to solve the problem, Thanks alot","body":"This answer helped me to solve the problem, Thanks alot"}],"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1564764597,"creation_date":1511862468,"answer_id":47528390,"question_id":43936372,"body_markdown":"Except for other posted answers, the problem might be realated to missing multipart support for the servlet handling the request (spring&#39;s DispatcherServlet in case of Spring&#39;s app). \r\n\r\nThis can be fixed by adding multipart support to dispatcher servlet in web.xml declaration or during initialization (in case of annotation-based config)\r\n\r\na) web-xml based config\r\n\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \t      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n    \t      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \t      version=&quot;3.0&quot;&gt;\r\n    \r\n     &lt;servlet&gt;\r\n       &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n       &lt;servlet-class&gt;\r\n         org.springframework.web.servlet.DispatcherServlet\r\n       &lt;/servlet-class&gt;\r\n       &lt;init-param&gt;\r\n         &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n         &lt;param-value&gt;/WEB-INF/spring/dispatcher-config.xml&lt;/param-value&gt;\r\n       &lt;/init-param&gt;\r\n       &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n       &lt;multipart-config&gt;\r\n            &lt;max-file-size&gt;10485760&lt;/max-file-size&gt;\r\n            &lt;max-request-size&gt;20971520&lt;/max-request-size&gt;\r\n            &lt;file-size-threshold&gt;5242880&lt;/file-size-threshold&gt;\r\n        &lt;/multipart-config&gt;\r\n     &lt;/servlet&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\nb) for annotation-based configuration this would be following:\r\n\r\n    public class AppInitializer implements WebApplicationInitializer { \r\n    \r\n    @Override \r\n    public void onStartup(ServletContext servletContext) { \r\n        final AnnotationConfigWebApplicationContext appContext = new AnnotationConfigWebApplicationContext(); \r\n    \r\n        final ServletRegistration.Dynamic registration = servletContext.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(appContext)); \r\n        registration.setLoadOnStartup(1); \r\n        registration.addMapping(&quot;/&quot;); \r\n    \r\n        File uploadDirectory = new File(System.getProperty(&quot;java.io.tmpdir&quot;));                  \r\n        MultipartConfigElement multipartConfigElement = new  MultipartConfigElement(uploadDirectory.getAbsolutePath(), 100000, 100000 * 2, 100000 / 2); \r\n    \r\n        registration.setMultipartConfig(multipartConfigElement);\r\n    } }\r\n\r\nThen we need to provide multipart resolver which can resolve files sent as multipart-request. For annotation config this can be done in following way:\r\n\r\n\r\n\r\n    @Configuration\r\n    public class MyConfig {\r\n    \r\n    @Bean\r\n    public MultipartResolver multipartResolver() {\r\n        return new StandardServletMultipartResolver();\r\n    }\r\n    }\r\n\r\nFor xml-based spring configuration you need to add this bean to the context via &lt;bean&gt; tag declaration declaration:\r\n\r\n    &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.support.StandardServletMultipartResolver&quot; /&gt; \r\n\r\n\r\nAlternatively to spring&#39;s standard multipart resolver you can use implementation from commons. This way however extra dependency is required:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n    &lt;property name=&quot;maxUploadSize&quot; value=&quot;100000000&quot;/&gt;\r\n    &lt;/bean&gt;","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>Except for other posted answers, the problem might be realated to missing multipart support for the servlet handling the request (spring's DispatcherServlet in case of Spring's app). </p>\n\n<p>This can be fixed by adding multipart support to dispatcher servlet in web.xml declaration or during initialization (in case of annotation-based config)</p>\n\n<p>a) web-xml based config</p>\n\n<pre><code>&lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee\n          http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n          version=\"3.0\"&gt;\n\n &lt;servlet&gt;\n   &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n   &lt;servlet-class&gt;\n     org.springframework.web.servlet.DispatcherServlet\n   &lt;/servlet-class&gt;\n   &lt;init-param&gt;\n     &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n     &lt;param-value&gt;/WEB-INF/spring/dispatcher-config.xml&lt;/param-value&gt;\n   &lt;/init-param&gt;\n   &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n   &lt;multipart-config&gt;\n        &lt;max-file-size&gt;10485760&lt;/max-file-size&gt;\n        &lt;max-request-size&gt;20971520&lt;/max-request-size&gt;\n        &lt;file-size-threshold&gt;5242880&lt;/file-size-threshold&gt;\n    &lt;/multipart-config&gt;\n &lt;/servlet&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>b) for annotation-based configuration this would be following:</p>\n\n<pre><code>public class AppInitializer implements WebApplicationInitializer { \n\n@Override \npublic void onStartup(ServletContext servletContext) { \n    final AnnotationConfigWebApplicationContext appContext = new AnnotationConfigWebApplicationContext(); \n\n    final ServletRegistration.Dynamic registration = servletContext.addServlet(\"dispatcher\", new DispatcherServlet(appContext)); \n    registration.setLoadOnStartup(1); \n    registration.addMapping(\"/\"); \n\n    File uploadDirectory = new File(System.getProperty(\"java.io.tmpdir\"));                  \n    MultipartConfigElement multipartConfigElement = new  MultipartConfigElement(uploadDirectory.getAbsolutePath(), 100000, 100000 * 2, 100000 / 2); \n\n    registration.setMultipartConfig(multipartConfigElement);\n} }\n</code></pre>\n\n<p>Then we need to provide multipart resolver which can resolve files sent as multipart-request. For annotation config this can be done in following way:</p>\n\n<pre><code>@Configuration\npublic class MyConfig {\n\n@Bean\npublic MultipartResolver multipartResolver() {\n    return new StandardServletMultipartResolver();\n}\n}\n</code></pre>\n\n<p>For xml-based spring configuration you need to add this bean to the context via  tag declaration declaration:</p>\n\n<pre><code>&lt;bean id=\"multipartResolver\" class=\"org.springframework.web.multipart.support.StandardServletMultipartResolver\" /&gt; \n</code></pre>\n\n<p>Alternatively to spring's standard multipart resolver you can use implementation from commons. This way however extra dependency is required:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n  &lt;version&gt;1.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;bean id=\"multipartResolver\" class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n&lt;property name=\"maxUploadSize\" value=\"100000000\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7916982,"reputation":313,"user_id":5979115,"display_name":"Stefano Scarpanti"},"score":0,"creation_date":1577103069,"post_id":54810409,"comment_id":105091446,"body_markdown":"I had similar problem, probably the Bean I had worked on previous Spring release; with 1.5.15 I had to remove it.","body":"I had similar problem, probably the Bean I had worked on previous Spring release; with 1.5.15 I had to remove it."},{"owner":{"account_id":3454239,"reputation":3653,"user_id":2893073,"accept_rate":67,"display_name":"Eddy"},"score":0,"creation_date":1579401988,"post_id":54810409,"comment_id":105753416,"body_markdown":"By removing this config works for me. I use `spring-boot-2.0.2`","body":"By removing this config works for me. I use <code>spring-boot-2.0.2</code>"}],"tags":[],"owner":{"account_id":3081551,"reputation":121,"user_id":2609629,"display_name":"Bandana Banerjee"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1550762181,"creation_date":1550762181,"answer_id":54810409,"question_id":43936372,"body_markdown":"I also had similar issue and was getting the error request part file not present.\r\nBut I later realized that I have this code in my application which was causing problem:\r\n\r\n    @Bean(name = &quot;multipartResolver&quot;)\r\n        public CommonsMultipartResolver multipartResolver() {\r\n            CommonsMultipartResolver multipartResolver = new \r\n            CommonsMultipartResolver();\r\n            multipartResolver.setMaxUploadSize(1000000000);\r\n            return multipartResolver;\r\n          }\r\n\r\nI removed this and it started working for both RequestPart and RequestParam.\r\nSee the related issue below:\r\n\r\nhttps://forum.predix.io/questions/22163/multipartfile-parameter-is-not-present-error.html","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>I also had similar issue and was getting the error request part file not present.\nBut I later realized that I have this code in my application which was causing problem:</p>\n\n<pre><code>@Bean(name = \"multipartResolver\")\n    public CommonsMultipartResolver multipartResolver() {\n        CommonsMultipartResolver multipartResolver = new \n        CommonsMultipartResolver();\n        multipartResolver.setMaxUploadSize(1000000000);\n        return multipartResolver;\n      }\n</code></pre>\n\n<p>I removed this and it started working for both RequestPart and RequestParam.\nSee the related issue below:</p>\n\n<p><a href=\"https://forum.predix.io/questions/22163/multipartfile-parameter-is-not-present-error.html\" rel=\"noreferrer\">https://forum.predix.io/questions/22163/multipartfile-parameter-is-not-present-error.html</a></p>\n"},{"tags":[],"owner":{"account_id":9100024,"reputation":1,"user_id":6772488,"display_name":"nikhilaKudi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663692755,"creation_date":1663191125,"answer_id":73723372,"question_id":43936372,"body_markdown":"I had similar issue with error `Could not resolve parameter [0] in public org.springframework.http.ResponseEntity... Required request part &#39;file&#39; is not present` and tried many things but one change resolved this issue.\r\n\r\nHad to update \r\n\r\n    // old\r\n    @RequestParam(&quot;file&quot;) MultipartFile inputFile\r\n\r\n\r\n    // new\r\n    @RequestParam(value = &quot;file&quot;) MultipartFile inputFile\r\n\r\n\r\n   \r\n\r\n","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>I had similar issue with error <code>Could not resolve parameter [0] in public org.springframework.http.ResponseEntity... Required request part 'file' is not present</code> and tried many things but one change resolved this issue.</p>\n<p>Had to update</p>\n<pre><code>// old\n@RequestParam(&quot;file&quot;) MultipartFile inputFile\n\n\n// new\n@RequestParam(value = &quot;file&quot;) MultipartFile inputFile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9917712,"reputation":89,"user_id":7341970,"display_name":"fatih yavuz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666337083,"creation_date":1666337083,"answer_id":74150089,"question_id":43936372,"body_markdown":"In my case, i have multi module project as;\r\n\r\ncore &gt; api &gt; admin\r\n\r\nAdmin and api are parent of core module.\r\n\r\n**Core/ImageController:**\r\n\r\n    @RequestMapping(value = &quot;/upload/image&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity uploadBanner(@RequestParam(value = &quot;file&quot;, required = \r\n     false) MultipartFile bannerFile){...}\r\n\r\n\r\n**AdminApplicationInitializer:**\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(AdminApplicationInitializer.class);\r\n    }\r\n    \r\n    @Bean\r\n    public MultipartResolver multipartResolver() {\r\n        CommonsMultipartResolver resolver = new CommonsMultipartResolver();\r\n        //100MB\r\n        resolver.setMaxUploadSize(100 * (long) 1024 * 1024);\r\n        return resolver;\r\n    }\r\n    \r\n    @Bean\r\n    public MultipartConfigElement multipartConfigElement() {\r\n        MultipartConfigFactory factory = new MultipartConfigFactory();\r\n        factory.setMaxFileSize(DataSize.ofMegabytes(200L));\r\n        factory.setMaxRequestSize(DataSize.ofMegabytes(200L));\r\n        return factory.createMultipartConfig();\r\n    }\r\n\r\nWhen i tried to upload file from **api module** with core service &quot;/upload/image&quot;.\r\nI had get an error : &quot;Required request part &#39;file&#39; is not present&quot;.\r\nCause of ApiInitializer had not configuration like AdminInitializer.\r\n\r\n**The Solution :** i added **multipartResolver()** and **multipartConfigElement()** method to **ApiApplicationInitializer**.Then it worked.","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>In my case, i have multi module project as;</p>\n<p>core &gt; api &gt; admin</p>\n<p>Admin and api are parent of core module.</p>\n<p><strong>Core/ImageController:</strong></p>\n<pre><code>@RequestMapping(value = &quot;/upload/image&quot;, method = RequestMethod.POST)\n    public ResponseEntity uploadBanner(@RequestParam(value = &quot;file&quot;, required = \n false) MultipartFile bannerFile){...}\n</code></pre>\n<p><strong>AdminApplicationInitializer:</strong></p>\n<pre><code>@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(AdminApplicationInitializer.class);\n}\n\n@Bean\npublic MultipartResolver multipartResolver() {\n    CommonsMultipartResolver resolver = new CommonsMultipartResolver();\n    //100MB\n    resolver.setMaxUploadSize(100 * (long) 1024 * 1024);\n    return resolver;\n}\n\n@Bean\npublic MultipartConfigElement multipartConfigElement() {\n    MultipartConfigFactory factory = new MultipartConfigFactory();\n    factory.setMaxFileSize(DataSize.ofMegabytes(200L));\n    factory.setMaxRequestSize(DataSize.ofMegabytes(200L));\n    return factory.createMultipartConfig();\n}\n</code></pre>\n<p>When i tried to upload file from <strong>api module</strong> with core service &quot;/upload/image&quot;.\nI had get an error : &quot;Required request part 'file' is not present&quot;.\nCause of ApiInitializer had not configuration like AdminInitializer.</p>\n<p><strong>The Solution :</strong> i added <strong>multipartResolver()</strong> and <strong>multipartConfigElement()</strong> method to <strong>ApiApplicationInitializer</strong>.Then it worked.</p>\n"},{"tags":[],"owner":{"account_id":17775350,"reputation":745,"user_id":12907843,"display_name":"Eyoab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688310156,"creation_date":1688310156,"answer_id":76599502,"question_id":43936372,"body_markdown":"Use `@RequestPart(&quot;file&quot;)` instead of `@RequestParam(&quot;file&quot;)`.","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>Use <code>@RequestPart(&quot;file&quot;)</code> instead of <code>@RequestParam(&quot;file&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":14972420,"reputation":11,"user_id":10808832,"display_name":"Harsh Shiyani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690444074,"creation_date":1690444003,"answer_id":76777545,"question_id":43936372,"body_markdown":"Thanks, @Eyoab, it works for me.\r\n\r\nI had the same problem with feign client.\r\nI have one endpoint to upload a file that accepts the Multipart file.\r\n\r\n[Main upload endpoint][1]\r\n\r\nI was calling the above endpoint using feign client. (feign client method)\r\n\r\n[feign client caller method][2]\r\n\r\nNow, you can see in the first image, the endpoint accepts the file as a @RequestParam. and in the second image I use @RequestPart in my feign client call. I helps me to resolve the issue.\r\n\r\n  [1]: https://i.stack.imgur.com/wmt7Y.png\r\n  [2]: https://i.stack.imgur.com/hkiE9.png","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>Thanks, @Eyoab, it works for me.</p>\n<p>I had the same problem with feign client.\nI have one endpoint to upload a file that accepts the Multipart file.</p>\n<p><a href=\"https://i.stack.imgur.com/wmt7Y.png\" rel=\"nofollow noreferrer\">Main upload endpoint</a></p>\n<p>I was calling the above endpoint using feign client. (feign client method)</p>\n<p><a href=\"https://i.stack.imgur.com/hkiE9.png\" rel=\"nofollow noreferrer\">feign client caller method</a></p>\n<p>Now, you can see in the first image, the endpoint accepts the file as a @RequestParam. and in the second image I use @RequestPart in my feign client call. I helps me to resolve the issue.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698937852,"post_id":77407763,"comment_id":136470210,"body_markdown":"As it‚Äôs currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it‚Äôs currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77407763/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29445351,"reputation":1,"user_id":22562758,"display_name":"Gourvi Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698954165,"creation_date":1698911557,"answer_id":77407763,"question_id":43936372,"body_markdown":"I also faced this issue. My code is as follows:\r\n\r\n    @PostMapping(&quot;/process_contact&quot;)\r\n    \tpublic String processContact(@ModelAttribute Contact contact, @RequestParam MultipartFile file,\r\n    \t\t\tPrincipal p ) {\r\n    \t\ttry {\r\n    \t\tString name=p.getName();\r\n    \t\tUser user=this.userRepository.getUserByUserName(name);\r\n    \t\t\r\n    \t\t//processing and uploading file\r\n    \t\tif(file.isEmpty()) {\r\n    \t\t\tSystem.out.println(&quot;Please Upload image&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tcontact.setC_imageUrl(file.getOriginalFilename());\r\n    \t\t\tFile saveFile=new ClassPathResource(&quot;static/image&quot;).getFile();\r\n    \t\t\tPath path=Paths.get(saveFile.getAbsolutePath()+File.separator+file.getOriginalFilename());\r\n    \t\t\tFiles.copy(file.getInputStream(), path, StandardCopyOption.REPLACE_EXISTING);\r\n    \t\t\tSystem.out.println(&quot;Image is uploaded&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\tuser.getContacts().add(contact);\r\n    \t\tcontact.setUser(user);\r\n    \t\tthis.userRepository.save(user);\r\n    \t\tSystem.out.println(&quot;Data&quot; + contact);\r\n    \t\t}catch(Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Error&quot;+e.getMessage());\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn &quot;add_contact&quot;;\r\n    \t}\r\n\r\nThen a have add a property to my `application.properties` file:\r\n\r\n    spring.servlet.multipart.enabled=true\r\n\r\nand my error is resolved. ","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>I also faced this issue. My code is as follows:</p>\n<pre><code>@PostMapping(&quot;/process_contact&quot;)\n    public String processContact(@ModelAttribute Contact contact, @RequestParam MultipartFile file,\n            Principal p ) {\n        try {\n        String name=p.getName();\n        User user=this.userRepository.getUserByUserName(name);\n        \n        //processing and uploading file\n        if(file.isEmpty()) {\n            System.out.println(&quot;Please Upload image&quot;);\n        }\n        else {\n            contact.setC_imageUrl(file.getOriginalFilename());\n            File saveFile=new ClassPathResource(&quot;static/image&quot;).getFile();\n            Path path=Paths.get(saveFile.getAbsolutePath()+File.separator+file.getOriginalFilename());\n            Files.copy(file.getInputStream(), path, StandardCopyOption.REPLACE_EXISTING);\n            System.out.println(&quot;Image is uploaded&quot;);\n        }\n        \n        \n        user.getContacts().add(contact);\n        contact.setUser(user);\n        this.userRepository.save(user);\n        System.out.println(&quot;Data&quot; + contact);\n        }catch(Exception e) {\n            System.out.println(&quot;Error&quot;+e.getMessage());\n            e.printStackTrace();\n        }\n        return &quot;add_contact&quot;;\n    }\n</code></pre>\n<p>Then a have add a property to my <code>application.properties</code> file:</p>\n<pre><code>spring.servlet.multipart.enabled=true\n</code></pre>\n<p>and my error is resolved.</p>\n"}],"owner":{"account_id":10787897,"reputation":443,"user_id":7936356,"display_name":"Wintern"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137478,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":43952169,"answer_count":9,"score":44,"last_activity_date":1698954165,"creation_date":1494587398,"question_id":43936372,"body_markdown":"I want to add an upload function to my spring boot application; \r\nthis is my upload Rest Controller \r\n\r\n    package org.sid.web;\r\n\r\n\timport java.io.BufferedOutputStream;\r\n\timport java.io.File;\r\n\timport java.io.FileOutputStream;\r\n\timport java.io.IOException;\r\n\timport java.nio.file.Files;\r\n\timport java.nio.file.Path;\r\n\timport java.nio.file.Paths;\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\r\n\timport javax.servlet.ServletContext;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.http.HttpEntity;\r\n\timport org.springframework.http.HttpHeaders;\r\n\timport org.springframework.http.HttpStatus;\r\n\timport org.springframework.http.MediaType;\r\n\timport org.springframework.http.ResponseEntity;\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.util.LinkedMultiValueMap;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.PostMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMethod;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\timport org.springframework.web.bind.annotation.ResponseBody;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\timport org.springframework.web.client.RestTemplate;\r\n\timport org.springframework.web.multipart.MultipartFile;\r\n\timport org.springframework.web.servlet.mvc.support.RedirectAttributes;\r\n\timport org.springframework.core.env.Environment;\r\n\timport org.springframework.core.io.ClassPathResource;\r\n\timport org.springframework.core.io.FileSystemResource;\r\n\timport org.sid.entities.FileInfo;\r\n\r\n\t@RestController\r\n\tpublic class UploadController {\r\n\t  @Autowired\r\n\t  ServletContext context;\r\n\r\n\t  @RequestMapping(value = &quot;/fileupload/file&quot;, headers = (&quot;content-type=multipart/*&quot;), method = RequestMethod.POST, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\t  public ResponseEntity&lt;FileInfo&gt; upload(@RequestParam(&quot;file&quot;) MultipartFile inputFile) {\r\n\t\tFileInfo fileInfo = new FileInfo();\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\tif (!inputFile.isEmpty()) {\r\n\t\t  try {\r\n\t\t\tString originalFilename = inputFile.getOriginalFilename();\r\n\t\t\tFile destinationFile = new File(\r\n\t\t\t\tcontext.getRealPath(&quot;C:/Users/kamel/workspace/credit_app/uploaded&quot;) + File.separator + originalFilename);\r\n\t\t\tinputFile.transferTo(destinationFile);\r\n\t\t\tfileInfo.setFileName(destinationFile.getPath());\r\n\t\t\tfileInfo.setFileSize(inputFile.getSize());\r\n\t\t\theaders.add(&quot;File Uploaded Successfully - &quot;, originalFilename);\r\n\t\t\treturn new ResponseEntity&lt;FileInfo&gt;(fileInfo, headers, HttpStatus.OK);\r\n\t\t  } catch (Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;FileInfo&gt;(HttpStatus.BAD_REQUEST);\r\n\t\t  }\r\n\t\t} else {\r\n\t\t  return new ResponseEntity&lt;FileInfo&gt;(HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\t  }\r\n\t}\r\n\r\nbut when testing this in postman with inserting http://localhost:8082/fileupload/file and adding a file to the body \r\ni got this error:   &quot;exception&quot;: ``org.springframework.web.multipart.support.MissingServletRequestPartException&quot;,\r\n  &quot;message&quot;: &quot;Required request part &#39;file&#39; is not present``,\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oa9kC.png","title":"upload file springboot Required request part &#39;file&#39; is not present","body":"<p>I want to add an upload function to my spring boot application; \nthis is my upload Rest Controller </p>\n\n<pre><code>package org.sid.web;\n\nimport java.io.BufferedOutputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.servlet.ServletContext;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.util.LinkedMultiValueMap;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.servlet.mvc.support.RedirectAttributes;\nimport org.springframework.core.env.Environment;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.FileSystemResource;\nimport org.sid.entities.FileInfo;\n\n@RestController\npublic class UploadController {\n  @Autowired\n  ServletContext context;\n\n  @RequestMapping(value = \"/fileupload/file\", headers = (\"content-type=multipart/*\"), method = RequestMethod.POST, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n  public ResponseEntity&lt;FileInfo&gt; upload(@RequestParam(\"file\") MultipartFile inputFile) {\n    FileInfo fileInfo = new FileInfo();\n    HttpHeaders headers = new HttpHeaders();\n    if (!inputFile.isEmpty()) {\n      try {\n        String originalFilename = inputFile.getOriginalFilename();\n        File destinationFile = new File(\n            context.getRealPath(\"C:/Users/kamel/workspace/credit_app/uploaded\") + File.separator + originalFilename);\n        inputFile.transferTo(destinationFile);\n        fileInfo.setFileName(destinationFile.getPath());\n        fileInfo.setFileSize(inputFile.getSize());\n        headers.add(\"File Uploaded Successfully - \", originalFilename);\n        return new ResponseEntity&lt;FileInfo&gt;(fileInfo, headers, HttpStatus.OK);\n      } catch (Exception e) {\n        return new ResponseEntity&lt;FileInfo&gt;(HttpStatus.BAD_REQUEST);\n      }\n    } else {\n      return new ResponseEntity&lt;FileInfo&gt;(HttpStatus.BAD_REQUEST);\n    }\n  }\n}\n</code></pre>\n\n<p>but when testing this in postman with inserting <a href=\"http://localhost:8082/fileupload/file\" rel=\"noreferrer\">http://localhost:8082/fileupload/file</a> and adding a file to the body \ni got this error:   \"exception\": <code>org.springframework.web.multipart.support.MissingServletRequestPartException\",\n  \"message\": \"Required request part 'file' is not present</code>,</p>\n"},{"tags":["java","data-structures","stack"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1698954878,"post_id":77412410,"comment_id":136473513,"body_markdown":"Have you debugged it? What are the values of `theStack` and `theStackReversed`?","body":"Have you debugged it? What are the values of <code>theStack</code> and <code>theStackReversed</code>?"},{"owner":{"account_id":3463691,"reputation":259,"user_id":2899944,"display_name":"user2899944"},"score":0,"creation_date":1698955687,"post_id":77412410,"comment_id":136473652,"body_markdown":"I ran a few examples, and it always works fine on one direction only. I have debugged the reverse method and it works.","body":"I ran a few examples, and it always works fine on one direction only. I have debugged the reverse method and it works."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1698957159,"post_id":77412410,"comment_id":136473907,"body_markdown":"`String theStack = StackValues(S);` Doesn&#39;t that empty the stack? So `temp = StackReverse(S);` copies an empty stack.","body":"<code>String theStack = StackValues(S);</code> Doesn&#39;t that empty the stack? So <code>temp = StackReverse(S);</code> copies an empty stack."},{"owner":{"account_id":3463691,"reputation":259,"user_id":2899944,"display_name":"user2899944"},"score":0,"creation_date":1698957910,"post_id":77412410,"comment_id":136474012,"body_markdown":"Oh, I think you are right. I&#39;ll check. It makes sense, I have ruined the stack and never restored it.","body":"Oh, I think you are right. I&#39;ll check. It makes sense, I have ruined the stack and never restored it."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1698960375,"post_id":77412410,"comment_id":136474389,"body_markdown":"You mentioned, _&quot;... all the digits of the number appear as a sequence in a stack&quot;_.  A _sequence_ of numbers is typically just any array, and a _stack_ simply implies a _LIFO_ or _FIFO_ factoring.  What are you attempting to do?","body":"You mentioned, <i>&quot;... all the digits of the number appear as a sequence in a stack&quot;</i>.  A <i>sequence</i> of numbers is typically just any array, and a <i>stack</i> simply implies a <i>LIFO</i> or <i>FIFO</i> factoring.  What are you attempting to do?"},{"owner":{"account_id":3463691,"reputation":259,"user_id":2899944,"display_name":"user2899944"},"score":0,"creation_date":1698993355,"post_id":77412410,"comment_id":136477325,"body_markdown":"It is an exercise for learning how to work with stacks. No practical use","body":"It is an exercise for learning how to work with stacks. No practical use"}],"owner":{"account_id":3463691,"reputation":259,"user_id":2899944,"display_name":"user2899944"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698953479,"creation_date":1698953479,"question_id":77412410,"body_markdown":"Given a stack of numbers and an integer, I wish to write a Java method that returns true if all the digits of the number appear as a sequence in a stack, when the stack can be looked at from top to bottom or bottom up.\r\n\r\nI wrote a code, but it gives partially bad results. \r\n\r\nFor example, for the stack [1,2,3] when 3 is the top and the number 12, it gives the wrong result. But for [3,2,1] where 1 is the top it gives the correct result. The problem is somewhere in the reversing of the stack. The &quot;or&quot; operator fails.\r\n\r\nWhat am I missing here ?\r\n\r\nComment: StackX is a class I wrote. It is a stack of numbers, with the common operations: push, pop, peek, isEmpty, isFull and getSize.\r\n\r\nMy code:\r\n\r\n    // return a string with the stack values\r\n        public static String StackValues(StackX S)\r\n        {\r\n            String seq = &quot;&quot;;\r\n            while (!S.isEmpty())\r\n            {\r\n                long l = S.pop();\r\n                seq += Long.toString(l);\r\n            }\r\n            return seq;\r\n        }\r\n    \r\n        // checks if a string contains a substring\r\n        public static boolean sub(String string, String substring)\r\n        {\r\n            int index = string.indexOf(substring);\r\n            if (index==-1)\r\n                return false;\r\n            else\r\n                return true;\r\n        }\r\n    \r\n        // returns a reverse of the string\r\n        public static StackX StackReverse(StackX S)\r\n        {\r\n            StackX newStack = new StackX(S.getStackMaxSize());\r\n            while (!S.isEmpty())\r\n            {\r\n                newStack.push(S.pop());\r\n            }\r\n            return newStack;\r\n        }\r\n    \r\n        public static boolean isSeq(StackX S, int num)\r\n        {\r\n            String theNum = Integer.toString(num);\r\n            String theStack = StackValues(S);\r\n            StackX temp = new StackX(S.getStackMaxSize());\r\n            temp = StackReverse(S);\r\n            String theStackReversed = StackValues(temp);\r\n    \r\n            if (sub(theStack, theNum)==true || sub(theStackReversed, theNum)==true)\r\n                return true;\r\n            else\r\n                return false;\r\n        }","title":"Are the digits of a number appear in a sequence in a stack?","body":"<p>Given a stack of numbers and an integer, I wish to write a Java method that returns true if all the digits of the number appear as a sequence in a stack, when the stack can be looked at from top to bottom or bottom up.</p>\n<p>I wrote a code, but it gives partially bad results.</p>\n<p>For example, for the stack [1,2,3] when 3 is the top and the number 12, it gives the wrong result. But for [3,2,1] where 1 is the top it gives the correct result. The problem is somewhere in the reversing of the stack. The &quot;or&quot; operator fails.</p>\n<p>What am I missing here ?</p>\n<p>Comment: StackX is a class I wrote. It is a stack of numbers, with the common operations: push, pop, peek, isEmpty, isFull and getSize.</p>\n<p>My code:</p>\n<pre><code>// return a string with the stack values\n    public static String StackValues(StackX S)\n    {\n        String seq = &quot;&quot;;\n        while (!S.isEmpty())\n        {\n            long l = S.pop();\n            seq += Long.toString(l);\n        }\n        return seq;\n    }\n\n    // checks if a string contains a substring\n    public static boolean sub(String string, String substring)\n    {\n        int index = string.indexOf(substring);\n        if (index==-1)\n            return false;\n        else\n            return true;\n    }\n\n    // returns a reverse of the string\n    public static StackX StackReverse(StackX S)\n    {\n        StackX newStack = new StackX(S.getStackMaxSize());\n        while (!S.isEmpty())\n        {\n            newStack.push(S.pop());\n        }\n        return newStack;\n    }\n\n    public static boolean isSeq(StackX S, int num)\n    {\n        String theNum = Integer.toString(num);\n        String theStack = StackValues(S);\n        StackX temp = new StackX(S.getStackMaxSize());\n        temp = StackReverse(S);\n        String theStackReversed = StackValues(temp);\n\n        if (sub(theStack, theNum)==true || sub(theStackReversed, theNum)==true)\n            return true;\n        else\n            return false;\n    }\n</code></pre>\n"},{"tags":["java","static"],"answers":[{"comments":[{"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"score":0,"creation_date":1248205271,"post_id":1144038,"comment_id":980413,"body_markdown":"so what should my locking object be? the states HashMap? won&#39;t this cause a bottleneck? what if I have multiple HashMaps inside this CacheManager. Will it not lock the whole static class if I use the particular HashMap as the locking object around its load check?","body":"so what should my locking object be? the states HashMap? won&#39;t this cause a bottleneck? what if I have multiple HashMaps inside this CacheManager. Will it not lock the whole static class if I use the particular HashMap as the locking object around its load check?"},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1248210088,"post_id":1144038,"comment_id":980903,"body_markdown":"So you can lock on the containing object, which is rather coarse, or you can provide a simple object thus : Object lock = new Object(); which would be the lock for this method and little else.","body":"So you can lock on the containing object, which is rather coarse, or you can provide a simple object thus : Object lock = new Object(); which would be the lock for this method and little else."},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1248210131,"post_id":1144038,"comment_id":980907,"body_markdown":"Don&#39;t forget you&#39;re not locking around the get();","body":"Don&#39;t forget you&#39;re not locking around the get();"}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247845124,"creation_date":1247844760,"answer_id":1144038,"question_id":1143995,"body_markdown":"You should synchronize this check:\r\n\r\n    if(!statesLoaded) {\r\n        loadStates();\r\n    }\r\n\r\nWhy ? Multiple threads can `get()` on the map without any problems. However, you need to **atomically** check the `statesLoaded` flag, load the state, and set the flag, check it. Otherwise you could (say) load the states, but the flag would still not be set and be visible as such from another thread.\r\n\r\n(You could potentially leave this unsynchronised and allow the possibility of multiple threads to re-initialise the cache, but at the least it&#39;s not good programming practise, and at worst could cause you problems further down the line with large caches, differing implementations etc.)\r\n\r\nConsequently, having a synchronised map isn&#39;t enough (this is quite a common misunderstanding, btw).\r\n\r\nI wouldn&#39;t worry about the performance impact of synchronisation. It used to be an issue in the past, but is a much more lightweight operation now. As always, measure and optimise when you have to. Premature optimisation is often a wasted effort.","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>You should synchronize this check:</p>\n\n<pre><code>if(!statesLoaded) {\n    loadStates();\n}\n</code></pre>\n\n<p>Why ? Multiple threads can <code>get()</code> on the map without any problems. However, you need to <strong>atomically</strong> check the <code>statesLoaded</code> flag, load the state, and set the flag, check it. Otherwise you could (say) load the states, but the flag would still not be set and be visible as such from another thread.</p>\n\n<p>(You could potentially leave this unsynchronised and allow the possibility of multiple threads to re-initialise the cache, but at the least it's not good programming practise, and at worst could cause you problems further down the line with large caches, differing implementations etc.)</p>\n\n<p>Consequently, having a synchronised map isn't enough (this is quite a common misunderstanding, btw).</p>\n\n<p>I wouldn't worry about the performance impact of synchronisation. It used to be an issue in the past, but is a much more lightweight operation now. As always, measure and optimise when you have to. Premature optimisation is often a wasted effort.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698953466,"creation_date":1247845252,"answer_id":1144084,"question_id":1143995,"body_markdown":"Don&#39;t try and do this yourself. Use an IoC container like Spring or Guice and get the framework to manage and initialise the singleton for you. This makes your synchronization problems much more manageable.","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>Don't try and do this yourself. Use an IoC container like Spring or Guice and get the framework to manage and initialise the singleton for you. This makes your synchronization problems much more manageable.</p>\n"},{"tags":[],"owner":{"account_id":44830,"reputation":1744,"user_id":131795,"display_name":"Trevor Harrison"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247845989,"creation_date":1247845989,"answer_id":1144163,"question_id":1143995,"body_markdown":"whats wrong with the Singleton pattern?\r\n\r\n    public class CacheManager {\r\n    \r\n    \tprivate static class SingletonHolder\r\n    \t{\r\n    \t\tstatic final HashMap states;\r\n    \t\tstatic\r\n    \t\t{\r\n    \t\t\tstates = new HashMap();\r\n    \t\t\tstates.put(&quot;x&quot;, &quot;y&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static String getState(String abbrev) {\r\n    \t\treturn (String) SingletonHolder.states.get(abbrev);\r\n    \t}\r\n    \r\n    }","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>whats wrong with the Singleton pattern?</p>\n\n<pre><code>public class CacheManager {\n\n    private static class SingletonHolder\n    {\n        static final HashMap states;\n        static\n        {\n            states = new HashMap();\n            states.put(\"x\", \"y\");\n        }\n    }\n\n    public static String getState(String abbrev) {\n        return (String) SingletonHolder.states.get(abbrev);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6900,"reputation":11102,"user_id":11758,"accept_rate":76,"display_name":"Laserallan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247847708,"creation_date":1247847375,"answer_id":1144287,"question_id":1143995,"body_markdown":"Since statesLoaded only can go from false to true I&#39;d go for a solution where you first check the statesLoaded is true, if it is you just skip the initalization logic. If it isn&#39;t you lock and check again and if it&#39;s still false you load the states it and set the flag to true.\r\n\r\nThis means that any thread calling getState after the cache is initialized will &quot;early out&quot; and use the map without locking.\r\n\r\nsomething like:\r\n\r\n    // If we safely know the states are loaded, don&#39;t even try to lock\r\n    if(!statesLoaded) {\r\n      // I don&#39;t even pretend I know javas synchronized syntax :)\r\n      lock(mutex); \r\n      // This second check makes sure we don&#39;t initialize the\r\n      // cache multiple times since it might have changed\r\n      // while we were waiting for the mutex\r\n      if(!statesLoaded) {\r\n        initializeStates();\r\n        statesLoaded = true;\r\n      }\r\n      release(mutex);\r\n    }\r\n    // Now you should know that the states are loaded and they were only\r\n    // loaded once.\r\n\r\nThis means that the locking will only be involved before and during the actual initalization happens.\r\n\r\nIf this would be C, I&#39;d also make sure to make the `statesLoaded` `variable` to be volatile to make sure the compiler optimize the second check. I don&#39;t know how java behaves when it comes to situations like that but I would guess it considers all shared data such as statesLoaded to be potentially dirty when going into synchronization scopes.\r\n","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>Since statesLoaded only can go from false to true I'd go for a solution where you first check the statesLoaded is true, if it is you just skip the initalization logic. If it isn't you lock and check again and if it's still false you load the states it and set the flag to true.</p>\n\n<p>This means that any thread calling getState after the cache is initialized will \"early out\" and use the map without locking.</p>\n\n<p>something like:</p>\n\n<pre><code>// If we safely know the states are loaded, don't even try to lock\nif(!statesLoaded) {\n  // I don't even pretend I know javas synchronized syntax :)\n  lock(mutex); \n  // This second check makes sure we don't initialize the\n  // cache multiple times since it might have changed\n  // while we were waiting for the mutex\n  if(!statesLoaded) {\n    initializeStates();\n    statesLoaded = true;\n  }\n  release(mutex);\n}\n// Now you should know that the states are loaded and they were only\n// loaded once.\n</code></pre>\n\n<p>This means that the locking will only be involved before and during the actual initalization happens.</p>\n\n<p>If this would be C, I'd also make sure to make the <code>statesLoaded</code> <code>variable</code> to be volatile to make sure the compiler optimize the second check. I don't know how java behaves when it comes to situations like that but I would guess it considers all shared data such as statesLoaded to be potentially dirty when going into synchronization scopes.</p>\n"},{"tags":[],"owner":{"account_id":46369,"reputation":7786,"user_id":136928,"accept_rate":60,"display_name":"sjlee"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1247848893,"creation_date":1247848893,"answer_id":1144437,"question_id":1143995,"body_markdown":"The best way to load the cache in this case is to take advantage of the JVM static initialization:\r\n\r\n    public class CacheManager {\r\n        private static final HashMap states = new HashMap();\r\n    \r\n        public static String getState(String abbrev) {\r\n            return (String) states.get(abbrev);\r\n        }\r\n\r\n        static {\r\n            //JDBC stuff to load the data\r\n        }\r\n    }\r\n\r\nThe cache will be loaded the first time the class is being used, and since the static initialization is thread safe, the map will be populated safely.  Any subsequent calls to retrieve the values can be done without any locking involved.\r\n\r\nIt is always a good idea to take advantage of static initialization whenever possible.  It is safe, efficient, and often quite simple.","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>The best way to load the cache in this case is to take advantage of the JVM static initialization:</p>\n\n<pre><code>public class CacheManager {\n    private static final HashMap states = new HashMap();\n\n    public static String getState(String abbrev) {\n        return (String) states.get(abbrev);\n    }\n\n    static {\n        //JDBC stuff to load the data\n    }\n}\n</code></pre>\n\n<p>The cache will be loaded the first time the class is being used, and since the static initialization is thread safe, the map will be populated safely.  Any subsequent calls to retrieve the values can be done without any locking involved.</p>\n\n<p>It is always a good idea to take advantage of static initialization whenever possible.  It is safe, efficient, and often quite simple.</p>\n"},{"comments":[{"owner":{"account_id":1275664,"reputation":1043,"user_id":1230995,"accept_rate":95,"display_name":"kosmiƒç&#225;k"},"score":0,"creation_date":1450886018,"post_id":10362898,"comment_id":56619501,"body_markdown":"I think than synchronized(cache) will give you a NullPointerException.","body":"I think than synchronized(cache) will give you a NullPointerException."},{"owner":{"account_id":6339874,"reputation":1870,"user_id":4922167,"accept_rate":43,"display_name":"pokemon blue"},"score":0,"creation_date":1484136778,"post_id":10362898,"comment_id":70384562,"body_markdown":"above written code is not thread safe , ref:http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html","body":"above written code is not thread safe , ref:<a href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html\" rel=\"nofollow noreferrer\">cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.h&zwnj;&#8203;tml</a>"}],"tags":[],"owner":{"account_id":1393161,"reputation":215,"user_id":1323488,"display_name":"alexey28"},"comment_count":2,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1335611332,"creation_date":1335610946,"answer_id":10362898,"question_id":1143995,"body_markdown":"**+1 for IoC container. Use Spring. Create CacheManager class as non static one and define CacheManaget in Spring context config.**\r\n\r\n**1 Non-static CacheManager version**\r\n\r\n\r\n    package your.package.CacheManager;\r\n\r\n    // If you like annotation\r\n    @Component\r\n    public class CacheManager&lt;K, V&gt; {\r\n        \r\n        private Map&lt;K, V&gt; cache;\r\n\r\n        public V get(K key) {\r\n            if(cache != null) {\r\n                return cache.get(key);\r\n            }\r\n            synchronized(cache) {\r\n                if(cache == null) {\r\n                    loadCache();\r\n                }\r\n                return cache.get(key);\r\n            }\r\n        }\r\n\r\n        private void loadCache() {\r\n            cache = new HashMap&lt;K, V&gt;();\r\n            // Load from JDBC or what ever you want to load\r\n        }\r\n    }\r\n\r\n**2 Define bean of CacheManager in spring context or use @Service/@Component annotation (don&#39;t foget define scan path for annotations)**\r\n\r\n    &lt;bean id=&quot;cacheManager&quot; class=&quot;your.package.CacheManager&quot;/&gt;\r\n\r\n**3 Inject your cache bean what ever you want with Spring config or @Autowire annotation**\r\n\r\n    &lt;bean id=&quot;cacheClient&quot; clas=&quot;...&quot;&gt;\r\n        &lt;property name=&quot;cache&quot; ref=&quot;cacheManager&quot;/&gt;\r\n    &lt;/bean&gt;\r\n","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p><strong>+1 for IoC container. Use Spring. Create CacheManager class as non static one and define CacheManaget in Spring context config.</strong></p>\n\n<p><strong>1 Non-static CacheManager version</strong></p>\n\n<pre><code>package your.package.CacheManager;\n\n// If you like annotation\n@Component\npublic class CacheManager&lt;K, V&gt; {\n\n    private Map&lt;K, V&gt; cache;\n\n    public V get(K key) {\n        if(cache != null) {\n            return cache.get(key);\n        }\n        synchronized(cache) {\n            if(cache == null) {\n                loadCache();\n            }\n            return cache.get(key);\n        }\n    }\n\n    private void loadCache() {\n        cache = new HashMap&lt;K, V&gt;();\n        // Load from JDBC or what ever you want to load\n    }\n}\n</code></pre>\n\n<p><strong>2 Define bean of CacheManager in spring context or use @Service/@Component annotation (don't foget define scan path for annotations)</strong></p>\n\n<pre><code>&lt;bean id=\"cacheManager\" class=\"your.package.CacheManager\"/&gt;\n</code></pre>\n\n<p><strong>3 Inject your cache bean what ever you want with Spring config or @Autowire annotation</strong></p>\n\n<pre><code>&lt;bean id=\"cacheClient\" clas=\"...\"&gt;\n    &lt;property name=\"cache\" ref=\"cacheManager\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17427,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1698953466,"creation_date":1247844377,"question_id":1143995,"body_markdown":"Let&#39;s say I have the following (assume restricted to java 1.4 so no generics) :\r\n\r\n    public class CacheManager {\r\n        static HashMap states;\r\n        static boolean statesLoaded;\r\n\r\n        public static String getState(String abbrev) {\r\n            if(!statesLoaded) {\r\n                loadStates();\r\n            }\r\n            return (String) states.get(abbrev);\r\n        }\r\n\r\n        private static void loadStates() {\r\n            //JDBC stuff to load the data\r\n            statesLoaded = true;\r\n        }\r\n    }\r\n\r\nIn a high-load multi-thread environment like  a web app server, this could theoretically have problems if &gt; 1 thread tries to get and load the cache at the same time. (Further assuming there&#39;s no startup code on the web app to initialize the cache)\r\n\r\nIs simply using Collections.synchronizedMap sufficient to fix this? Does the returned synchronizedMap have performance issues when doing get(), if a lot of threads are accessing it?\r\n\r\nOr would it be better to have a non-synchronized HashMap, and instead synchronize on the load method or boolean variable? I would think that if you synchronized either of those, you might end up locking the class.\r\n\r\nFor instance, if the load method was synchronized, what if 2 threads enter the getStates() method at the same time, and both see that statesLoaded is false. The first one gets a lock on the method, loads the cache and sets statesLoaded to true. Unfortunately, the 2nd thread has already evaluated that statesLoaded was false, and proceeds to the load method once the lock is free. Won&#39;t it go ahead and load the cache again?","title":"what&#39;s the best pattern or method to load a static cache?","body":"<p>Let's say I have the following (assume restricted to java 1.4 so no generics) :</p>\n\n<pre><code>public class CacheManager {\n    static HashMap states;\n    static boolean statesLoaded;\n\n    public static String getState(String abbrev) {\n        if(!statesLoaded) {\n            loadStates();\n        }\n        return (String) states.get(abbrev);\n    }\n\n    private static void loadStates() {\n        //JDBC stuff to load the data\n        statesLoaded = true;\n    }\n}\n</code></pre>\n\n<p>In a high-load multi-thread environment like  a web app server, this could theoretically have problems if > 1 thread tries to get and load the cache at the same time. (Further assuming there's no startup code on the web app to initialize the cache)</p>\n\n<p>Is simply using Collections.synchronizedMap sufficient to fix this? Does the returned synchronizedMap have performance issues when doing get(), if a lot of threads are accessing it?</p>\n\n<p>Or would it be better to have a non-synchronized HashMap, and instead synchronize on the load method or boolean variable? I would think that if you synchronized either of those, you might end up locking the class.</p>\n\n<p>For instance, if the load method was synchronized, what if 2 threads enter the getStates() method at the same time, and both see that statesLoaded is false. The first one gets a lock on the method, loads the cache and sets statesLoaded to true. Unfortunately, the 2nd thread has already evaluated that statesLoaded was false, and proceeds to the load method once the lock is free. Won't it go ahead and load the cache again?</p>\n"},{"tags":["java","apache","redirect"],"answers":[{"comments":[{"owner":{"account_id":15707554,"reputation":21,"user_id":11333887,"display_name":"IT Developer"},"score":0,"creation_date":1564918129,"post_id":56414200,"comment_id":101180214,"body_markdown":"there is no .htaccess in my website. I have another websites that doing this redirect without .htaccess file. can I do this? or should I create .htaccess file?","body":"there is no .htaccess in my website. I have another websites that doing this redirect without .htaccess file. can I do this? or should I create .htaccess file?"}],"tags":[],"owner":{"account_id":15170500,"reputation":1321,"user_id":10946716,"display_name":"JarekBaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559471336,"creation_date":1559471336,"answer_id":56414200,"question_id":56354689,"body_markdown":"Check this rewrites in your .htaccess file (change example.com to your domain):\r\n\r\n    RewriteEngine On\r\n    RewriteBase /public/\r\n    RewriteRule ^(.*)$ http://example.com/$1 [L]","title":"How to redirect the home page of the site to /public/index.html path","body":"<p>Check this rewrites in your .htaccess file (change example.com to your domain):</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /public/\nRewriteRule ^(.*)$ http://example.com/$1 [L]\n</code></pre>\n"}],"owner":{"account_id":15707554,"reputation":21,"user_id":11333887,"display_name":"IT Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698952329,"creation_date":1559112917,"question_id":56354689,"body_markdown":"I am working on dynamic web project and follwoing is my web.xml contents: \r\n\r\n    &lt;display-name&gt;WEBSITE_NAME&lt;/display-name&gt;\r\n          \r\n          &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;/public/index.html&lt;/welcome-file&gt;\r\n          &lt;/welcome-file-list&gt;\r\n\r\n\r\n\r\nmy problem is wen I run the project and enter the WEBSITE_NAME the index.html file contents appearing on the page but without loading the images that exist in the public/img path, if I append to the query string /public/index.html manually, the site work correctly. The question is: how can force the site to direct to the /public/index.html path when I enter its name?","title":"How to redirect the home page of the site to /public/index.html path","body":"<p>I am working on dynamic web project and follwoing is my web.xml contents: </p>\n\n<pre><code>&lt;display-name&gt;WEBSITE_NAME&lt;/display-name&gt;\n\n      &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;/public/index.html&lt;/welcome-file&gt;\n      &lt;/welcome-file-list&gt;\n</code></pre>\n\n<p>my problem is wen I run the project and enter the WEBSITE_NAME the index.html file contents appearing on the page but without loading the images that exist in the public/img path, if I append to the query string /public/index.html manually, the site work correctly. The question is: how can force the site to direct to the /public/index.html path when I enter its name?</p>\n"},{"tags":["java","java-9","jshell"],"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":7,"creation_date":1508928950,"post_id":46930040,"comment_id":80807769,"body_markdown":"Type `/help` to get all commands. You&#39;re looking for the `/exit` command. You can also hit Ctrl+D which signals &quot;end of file&quot; which also causes it to exit.","body":"Type <code>&#47;help</code> to get all commands. You&#39;re looking for the <code>&#47;exit</code> command. You can also hit Ctrl+D which signals &quot;end of file&quot; which also causes it to exit."},{"owner":{"account_id":1376876,"reputation":1243,"user_id":1310733,"display_name":"Petr &#218;jezdsk&#253;"},"score":1,"creation_date":1611822882,"post_id":46930040,"comment_id":116575295,"body_markdown":"`vim` comes to my mind...","body":"<code>vim</code> comes to my mind..."},{"owner":{"account_id":82452,"reputation":15242,"user_id":231821,"accept_rate":92,"display_name":"Jim"},"score":0,"creation_date":1626850627,"post_id":46930040,"comment_id":120998936,"body_markdown":"I tried everything short of just banging the keyboard like a chimpanzee, thanks for the question/answer","body":"I tried everything short of just banging the keyboard like a chimpanzee, thanks for the question/answer"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1698952975,"post_id":46930040,"comment_id":136473186,"body_markdown":"before killing your keyboard or computer, its most often worth checking the [documentation](https://docs.oracle.com/en/java/javase/21/docs/specs/man/jshell.html) ... Not to mention the message when starting: &quot;*For an introduction type: /help intro*&quot;","body":"before killing your keyboard or computer, its most often worth checking the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/jshell.html\" rel=\"nofollow noreferrer\">documentation</a> ... Not to mention the message when starting: &quot;<i>For an introduction type: /help intro</i>&quot;"}],"answers":[{"comments":[{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":1,"creation_date":1698760535,"post_id":46930091,"comment_id":136444137,"body_markdown":"`/help` will show the &#39;commands&#39; available from the JShell -- It&#39;s good to mention here, as on the Original Question.","body":"<code>&#47;help</code> will show the &#39;commands&#39; available from the JShell -- It&#39;s good to mention here, as on the Original Question."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1698775401,"post_id":46930091,"comment_id":136447521,"body_markdown":"@JosiahYoder feel free to edit and propose the change as this answer is owned by the community itself :)","body":"@JosiahYoder feel free to edit and propose the change as this answer is owned by the community itself :)"}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":2,"down_vote_count":0,"up_vote_count":181,"is_accepted":true,"score":181,"last_activity_date":1698950725,"creation_date":1508927599,"answer_id":46930091,"question_id":46930040,"body_markdown":"You can use the [JShell command](https://docs.oracle.com/javase/9/tools/jshell.htm#JSWOR-GUID-C337353B-074A-431C-993F-60C226163F00) to exit as:\r\n\r\n    /exit\r\n\r\nYou can also type the end-of-file character, which is Ctrl-D on Linux systems.\r\n\r\n***Side note***: Interestingly, with the use of command abbreviations for input shortcuts:-\r\n\r\n    /ex\r\n\r\n (of course `/exi`) also, resolves into the same command.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo see a list of JShell commands like this one, use the `/help` command.\r\n\r\n  [1]: https://i.stack.imgur.com/Li9tr.png","title":"How to quit the JShell and go back to the command-line?","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/9/tools/jshell.htm#JSWOR-GUID-C337353B-074A-431C-993F-60C226163F00\" rel=\"nofollow noreferrer\">JShell command</a> to exit as:</p>\n<pre><code>/exit\n</code></pre>\n<p>You can also type the end-of-file character, which is Ctrl-D on Linux systems.</p>\n<p><em><strong>Side note</strong></em>: Interestingly, with the use of command abbreviations for input shortcuts:-</p>\n<pre><code>/ex\n</code></pre>\n<p>(of course <code>/exi</code>) also, resolves into the same command.</p>\n<p><a href=\"https://i.stack.imgur.com/Li9tr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Li9tr.png\" alt=\"enter image description here\" /></a></p>\n<p>To see a list of JShell commands like this one, use the <code>/help</code> command.</p>\n"},{"tags":[],"owner":{"account_id":17809937,"reputation":119,"user_id":12934777,"display_name":"GOKUL KANNAMBALLY BALACHNADRAN"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1593194094,"creation_date":1593194094,"answer_id":62600337,"question_id":46930040,"body_markdown":"inorder to exit from jshell you can use the command /exit","title":"How to quit the JShell and go back to the command-line?","body":"<p>inorder to exit from jshell you can use the command /exit</p>\n"},{"tags":[],"owner":{"account_id":11208803,"reputation":127,"user_id":8223478,"display_name":"Sumedh"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1679390021,"creation_date":1679390021,"answer_id":75799220,"question_id":46930040,"body_markdown":"&lt;kbd&gt;Ctlr&lt;/kbd&gt; + &lt;kbd&gt;D&lt;/kbd&gt; will quit the JShell and go back to the command-line.","title":"How to quit the JShell and go back to the command-line?","body":"<p><kbd>Ctlr</kbd> + <kbd>D</kbd> will quit the JShell and go back to the command-line.</p>\n"}],"owner":{"account_id":9020758,"reputation":1101,"user_id":6721934,"display_name":"Bryn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27214,"favorite_count":0,"down_vote_count":1,"up_vote_count":108,"accepted_answer_id":46930091,"answer_count":3,"score":107,"last_activity_date":1698950725,"creation_date":1508927405,"question_id":46930040,"body_markdown":"When using the JShell, how do I exit it back to the CMD line?\r\n\r\nI have already tried &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;x&lt;/kbd&gt; and just writing quit, but to no joy.","title":"How to quit the JShell and go back to the command-line?","body":"<p>When using the JShell, how do I exit it back to the CMD line?</p>\n\n<p>I have already tried <kbd>ctrl</kbd> + <kbd>x</kbd> and just writing quit, but to no joy.</p>\n"},{"tags":["java","spring-boot","keycloak"],"owner":{"account_id":21051722,"reputation":19,"user_id":15471931,"display_name":"MLquest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698950560,"creation_date":1698950560,"question_id":77412125,"body_markdown":"I have followed a baeldung guide to embed keycloak into a springboot 3 app. I have managed to modify it and use existing postgres database instead of an embedded H2 database by modifying META-INF/keycloak-server.json and I have deployed it with an nginx reverse proxy.\r\n\r\nEverything works except for the fact that I need to set proxy=reencrypt for https to be enabled and admin login page to work but I can&#39;t find anything in META-INF/keycloak-server.json that would do it nor can I do it from anywhere else.\r\n\r\nI have tried everything, googling, scouring keycloak repos and documentations, etc. but I still can&#39;t set the proxy option to make it work.\r\n\r\n","title":"spring boot 3 embedded keycloak --proxy=reencrypt","body":"<p>I have followed a baeldung guide to embed keycloak into a springboot 3 app. I have managed to modify it and use existing postgres database instead of an embedded H2 database by modifying META-INF/keycloak-server.json and I have deployed it with an nginx reverse proxy.</p>\n<p>Everything works except for the fact that I need to set proxy=reencrypt for https to be enabled and admin login page to work but I can't find anything in META-INF/keycloak-server.json that would do it nor can I do it from anywhere else.</p>\n<p>I have tried everything, googling, scouring keycloak repos and documentations, etc. but I still can't set the proxy option to make it work.</p>\n"},{"tags":["java","performance","compilation"],"comments":[{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1525320826,"post_id":50146822,"comment_id":87311853,"body_markdown":"This is a micro optimization but a very interesting question nonetheless. I&#39;m curious what the answer is, too.","body":"This is a micro optimization but a very interesting question nonetheless. I&#39;m curious what the answer is, too."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1698950393,"creation_date":1698949735,"answer_id":77412038,"question_id":50146822,"body_markdown":"In short, no, there is no benefit to expect.\r\n\r\nJava compilers do not even try to perform single-pass processing, so it doesn‚Äôt matter whether your code arrangement would allow it.\r\n\r\nThe C programming language only has global functions which makes it easy to reason about the set of defined functions at a particular code location.\r\n\r\nIn contrast, Java has no global functions at all. The context specific resolution includes methods declared in the same class as the caller (the ones you have in mind), methods inherited from a super class or interface, methods declared in an outer class, methods inherited by an outer class, and methods resolved through an `import static` statement.\r\n\r\nFurther, unlike C, Java supports *method overloading*. Therefore, for resolving a method, it is not enough to find an applicable method, the Java language requires the compiler to find the *most specific* method. So even if there‚Äôs a matching method declaration right above the caller, the compiler has to check whether there‚Äôs a more specific method below the caller or inherited from the superclass.\r\n\r\nIn other words, the case that an invocation resolves to a most specific method immediately preceding the invocation in the same source file is a rare corner case, no compiler vendor will try to optimize.\r\n\r\nWhile details are implementation dependent you can expect the processing to be basically as described on the Wikipedia article you‚Äôve linked in the question. First, an [abstract syntax tree] is built during the syntactic analysis, then, semantic analysis and code generation will operate on that data structure. A single pass would have to work differently, hence, require maintaining an alternative implementation for no benefit as it would not work for real life cases.\r\n\r\n---\r\n\r\nTo illustrate the requirements on the semantic analysis happening after the syntactic analysis a bit more, consider the following example:\r\n\r\n```java\r\nSystem.out.println(&quot;hello world&quot;);\r\n```\r\nWhile the purpose of this statement is obvious to the reader, it is not to the compiler:\r\n\r\n - There could be a variable `System` whose type has a member variable `out` whose type has a `println` method.\r\n - There could be a variable `System` whose type has an inner class `out` with a static `println` method.\r\n - There could be a type `System` having a static member variable `out` whose type has a `println` method. (Bingo)\r\n - There could be a type `System` having a nested class `out` with a static `println` method.\r\n - There could be a type `System.out` having a static `println` method.\r\n\r\nSince variables have precedence over types which have precedence over packages, the compiler has to check in above order. In other words, even this idiomatic print statement requires processing the entire class declaration, to check whether there‚Äôs a variable named `System` in scope (which includes inherited member variables). Even if not, the compiler also has to check for a class `System` in the local and nested scopes, as well as in the current package, as the class implicitly imported from `java.lang` has the lowest precedence.\r\n\r\nSo, not even a hello-world example would allow compiling in a single pass.\r\n\r\n[abstract syntax tree]: https://en.wikipedia.org/wiki/Abstract_syntax_tree","title":"Does the order of method declarations in a Java class lead to faster compilation?","body":"<p>In short, no, there is no benefit to expect.</p>\n<p>Java compilers do not even try to perform single-pass processing, so it doesn‚Äôt matter whether your code arrangement would allow it.</p>\n<p>The C programming language only has global functions which makes it easy to reason about the set of defined functions at a particular code location.</p>\n<p>In contrast, Java has no global functions at all. The context specific resolution includes methods declared in the same class as the caller (the ones you have in mind), methods inherited from a super class or interface, methods declared in an outer class, methods inherited by an outer class, and methods resolved through an <code>import static</code> statement.</p>\n<p>Further, unlike C, Java supports <em>method overloading</em>. Therefore, for resolving a method, it is not enough to find an applicable method, the Java language requires the compiler to find the <em>most specific</em> method. So even if there‚Äôs a matching method declaration right above the caller, the compiler has to check whether there‚Äôs a more specific method below the caller or inherited from the superclass.</p>\n<p>In other words, the case that an invocation resolves to a most specific method immediately preceding the invocation in the same source file is a rare corner case, no compiler vendor will try to optimize.</p>\n<p>While details are implementation dependent you can expect the processing to be basically as described on the Wikipedia article you‚Äôve linked in the question. First, an <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"noreferrer\">abstract syntax tree</a> is built during the syntactic analysis, then, semantic analysis and code generation will operate on that data structure. A single pass would have to work differently, hence, require maintaining an alternative implementation for no benefit as it would not work for real life cases.</p>\n<hr />\n<p>To illustrate the requirements on the semantic analysis happening after the syntactic analysis a bit more, consider the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;hello world&quot;);\n</code></pre>\n<p>While the purpose of this statement is obvious to the reader, it is not to the compiler:</p>\n<ul>\n<li>There could be a variable <code>System</code> whose type has a member variable <code>out</code> whose type has a <code>println</code> method.</li>\n<li>There could be a variable <code>System</code> whose type has an inner class <code>out</code> with a static <code>println</code> method.</li>\n<li>There could be a type <code>System</code> having a static member variable <code>out</code> whose type has a <code>println</code> method. (Bingo)</li>\n<li>There could be a type <code>System</code> having a nested class <code>out</code> with a static <code>println</code> method.</li>\n<li>There could be a type <code>System.out</code> having a static <code>println</code> method.</li>\n</ul>\n<p>Since variables have precedence over types which have precedence over packages, the compiler has to check in above order. In other words, even this idiomatic print statement requires processing the entire class declaration, to check whether there‚Äôs a variable named <code>System</code> in scope (which includes inherited member variables). Even if not, the compiler also has to check for a class <code>System</code> in the local and nested scopes, as well as in the current package, as the class implicitly imported from <code>java.lang</code> has the lowest precedence.</p>\n<p>So, not even a hello-world example would allow compiling in a single pass.</p>\n"}],"owner":{"account_id":217473,"reputation":6570,"user_id":473290,"accept_rate":85,"display_name":"Eric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77412038,"answer_count":1,"score":5,"last_activity_date":1698950393,"creation_date":1525320604,"question_id":50146822,"body_markdown":"I have a very large Java project with lots of classes and methods.\r\n\r\nI read on [Wikipedia][1] that &quot;Languages like Java require a multi-pass compiler since the definition of x would not be required to come before the use&quot;. If I structured the code using [tag:c]/[tag:c++] rules so that all methods in a class are declared before they are used in the class&#39;s code, would this speed up the compilation process (vs all methods defined after they are used) because it would not have to do the additional passes during compilation?  If true, would it also speed up compilation if only some of the methods were defined in the code before they were used (vs all methods defined after they are used)?\n\nI understand that readability/maintenance should come first, but only consider the performance implications for my question.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Multi-pass_compiler#Advantages_of_multi-pass_compilers","title":"Does the order of method declarations in a Java class lead to faster compilation?","body":"<p>I have a very large Java project with lots of classes and methods.</p>\n\n<p>I read on <a href=\"https://en.wikipedia.org/wiki/Multi-pass_compiler#Advantages_of_multi-pass_compilers\" rel=\"nofollow noreferrer\">Wikipedia</a> that \"Languages like Java require a multi-pass compiler since the definition of x would not be required to come before the use\". If I structured the code using <a href=\"/questions/tagged/c\" class=\"post-tag\" title=\"show questions tagged &#39;c&#39;\" rel=\"tag\">c</a>/<a href=\"/questions/tagged/c%2b%2b\" class=\"post-tag\" title=\"show questions tagged &#39;c++&#39;\" rel=\"tag\">c++</a> rules so that all methods in a class are declared before they are used in the class's code, would this speed up the compilation process (vs all methods defined after they are used) because it would not have to do the additional passes during compilation?  If true, would it also speed up compilation if only some of the methods were defined in the code before they were used (vs all methods defined after they are used)?</p>\n\n<p>I understand that readability/maintenance should come first, but only consider the performance implications for my question.</p>\n"},{"tags":["java","android-recyclerview","retrofit2","android-glide"],"comments":[{"owner":{"account_id":16482287,"reputation":558,"user_id":11908728,"display_name":"8bit"},"score":0,"creation_date":1671692674,"post_id":74878319,"comment_id":132154104,"body_markdown":"Please and your gradle Build file and the Output of your failed build","body":"Please and your gradle Build file and the Output of your failed build"}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671808365,"creation_date":1671808365,"answer_id":74901185,"question_id":74878319,"body_markdown":"Add `mavenCentral()` in `settings.gradle` as\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CuHCD.png\r\n\r\nThis might work.","title":"Failed to resolve: androidx.exifinterface:exifinterface:1.3.5 Add Google Maven repository","body":"<p>Add <code>mavenCentral()</code> in <code>settings.gradle</code> as</p>\n<p><a href=\"https://i.stack.imgur.com/CuHCD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CuHCD.png\" alt=\"\" /></a></p>\n<p>This might work.</p>\n"},{"tags":[],"owner":{"account_id":10392595,"reputation":83,"user_id":7663327,"display_name":"Kerelos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698950127,"creation_date":1698950127,"answer_id":77412077,"question_id":74878319,"body_markdown":"I added the below and it fixed the problem for me \r\n\r\n - In this file: build.gradle.kts (module :app) add:\r\n\r\n    implementation(&quot;androidx.exifinterface:exifinterface:1.3.6&quot;)\r\n\r\nRegards,\r\n","title":"Failed to resolve: androidx.exifinterface:exifinterface:1.3.5 Add Google Maven repository","body":"<p>I added the below and it fixed the problem for me</p>\n<ul>\n<li><p>In this file: build.gradle.kts (module :app) add:</p>\n<p>implementation(&quot;androidx.exifinterface:exifinterface:1.3.6&quot;)</p>\n</li>\n</ul>\n<p>Regards,</p>\n"}],"owner":{"account_id":27318758,"reputation":1,"user_id":20832846,"display_name":"Amit Kushwaha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1698950127,"creation_date":1671636720,"question_id":74878319,"body_markdown":"    Failed to resolve: androidx.exifinterface:exifinterface:1.3.5\r\n    Add Google Maven repository and sync project\r\n    Show in Project Structure dialog\r\n    Show Details\r\n\r\nThe problem is not getting resolved even after adding the project structure to the Google Maven repository.\r\nI used 12,14 version of glide dependency but i get same error in my case. anyone can hint me solution of this problem.  \r\n[Screenshot of error][1]\r\n[Project Structure][2]\r\n\r\nI tried to fetch all row from database using php mysql localhost and retrofit2.0 to display multimedia files and textfields in android recyclerview.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E3M3m.png\r\n  [2]: https://i.stack.imgur.com/QZWdu.png","title":"Failed to resolve: androidx.exifinterface:exifinterface:1.3.5 Add Google Maven repository","body":"<pre><code>Failed to resolve: androidx.exifinterface:exifinterface:1.3.5\nAdd Google Maven repository and sync project\nShow in Project Structure dialog\nShow Details\n</code></pre>\n<p>The problem is not getting resolved even after adding the project structure to the Google Maven repository.\nI used 12,14 version of glide dependency but i get same error in my case. anyone can hint me solution of this problem.<br />\n<a href=\"https://i.stack.imgur.com/E3M3m.png\" rel=\"nofollow noreferrer\">Screenshot of error</a>\n<a href=\"https://i.stack.imgur.com/QZWdu.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<p>I tried to fetch all row from database using php mysql localhost and retrofit2.0 to display multimedia files and textfields in android recyclerview.</p>\n"},{"tags":["java","graalvm"],"answers":[{"comments":[{"owner":{"account_id":5066903,"reputation":843,"user_id":4066795,"accept_rate":75,"display_name":"etchesketch"},"score":0,"creation_date":1699029316,"post_id":77412046,"comment_id":136484018,"body_markdown":"Thanks, but I had already added those dependencies to my `pom.xml`. I don&#39;t think that is the issue. I was able to run the program on Linux without any issues.","body":"Thanks, but I had already added those dependencies to my <code>pom.xml</code>. I don&#39;t think that is the issue. I was able to run the program on Linux without any issues."}],"tags":[],"owner":{"account_id":13620499,"reputation":111,"user_id":10628628,"display_name":"Alina Yurenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698949799,"creation_date":1698949799,"answer_id":77412046,"question_id":77411362,"body_markdown":"I think you&#39;re missing changes that were introduced in the last release. All languages are now Maven dependencies, you can you  like so:\r\n\r\n```\r\n&lt;dependency&gt; \r\n\t&lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt; \r\n\t&lt;artifactId&gt;polyglot&lt;/artifactId&gt; \r\n\t&lt;version&gt;23.1.0&lt;/version&gt; \r\n&lt;/dependency&gt;\r\n&lt;dependency&gt; \r\n\t&lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt; \r\n\t&lt;artifactId&gt;js&lt;/artifactId&gt; \r\n\t&lt;version&gt;23.1.0&lt;/version&gt; \r\n\t&lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nand then you can use them like \r\n\r\n```\r\npackage org.example.embedding;\r\n\r\nimport org.graalvm.polyglot.Context;\r\nimport org.graalvm.polyglot.Source;\r\nimport org.graalvm.polyglot.Value;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.util.Set;\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        try (Context context = Context.newBuilder().allowAllAccess(true).build()) {\r\n            Set&lt;String&gt; languages = context.getEngine().getLanguages().keySet();\r\n            for (String id : languages) {\r\n                System.out.println(&quot;Initializing language &quot; + id);\r\n                context.initialize(id);\r\n                switch (id) {\r\n                    case &quot;python&quot;:\r\n                        context.eval(&quot;python&quot;, &quot;print(&#39;Hello Python!&#39;)&quot;);\r\n                        break;\r\n                    case &quot;js&quot;:\r\n                        context.eval(&quot;js&quot;, &quot;print(&#39;Hello JavaScript!&#39;);&quot;);\r\n                        break;\r\n                    case &quot;ruby&quot;:\r\n                        context.eval(&quot;ruby&quot;, &quot;puts &#39;Hello Ruby!&#39;&quot;);\r\n                        break;\r\n                    case &quot;wasm&quot;:\r\n                        // with wasm we compute factorial\r\n                        context.eval(Source.newBuilder(&quot;wasm&quot;, Main.class.getResource(&quot;factorial.wasm&quot;)).build());\r\n                        Value factorial = context.getBindings(&quot;wasm&quot;).getMember(&quot;main&quot;).getMember(&quot;fac&quot;);\r\n                        System.out.println(&quot;wasm: factorial(20) = &quot; + factorial.execute(20L));\r\n                        break;\r\n                    case &quot;java&quot;:\r\n                        // with Java we invoke System.out.println reflectively.\r\n                        Value out = context.getBindings(&quot;java&quot;).getMember(&quot;java.lang.System&quot;).getMember(&quot;out&quot;);\r\n                        out.invokeMember(&quot;println&quot;, &quot;Hello Espresso Java!&quot;);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nYou can look at https://github.com/graalvm/polyglot-embedding-demo for a complete example.\r\n\r\n","title":"Minimum Graal Polyglot example will not run","body":"<p>I think you're missing changes that were introduced in the last release. All languages are now Maven dependencies, you can you  like so:</p>\n<pre><code>&lt;dependency&gt; \n    &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt; \n    &lt;artifactId&gt;polyglot&lt;/artifactId&gt; \n    &lt;version&gt;23.1.0&lt;/version&gt; \n&lt;/dependency&gt;\n&lt;dependency&gt; \n    &lt;groupId&gt;org.graalvm.polyglot&lt;/groupId&gt; \n    &lt;artifactId&gt;js&lt;/artifactId&gt; \n    &lt;version&gt;23.1.0&lt;/version&gt; \n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and then you can use them like</p>\n<pre><code>package org.example.embedding;\n\nimport org.graalvm.polyglot.Context;\nimport org.graalvm.polyglot.Source;\nimport org.graalvm.polyglot.Value;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.util.Set;\n\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        try (Context context = Context.newBuilder().allowAllAccess(true).build()) {\n            Set&lt;String&gt; languages = context.getEngine().getLanguages().keySet();\n            for (String id : languages) {\n                System.out.println(&quot;Initializing language &quot; + id);\n                context.initialize(id);\n                switch (id) {\n                    case &quot;python&quot;:\n                        context.eval(&quot;python&quot;, &quot;print('Hello Python!')&quot;);\n                        break;\n                    case &quot;js&quot;:\n                        context.eval(&quot;js&quot;, &quot;print('Hello JavaScript!');&quot;);\n                        break;\n                    case &quot;ruby&quot;:\n                        context.eval(&quot;ruby&quot;, &quot;puts 'Hello Ruby!'&quot;);\n                        break;\n                    case &quot;wasm&quot;:\n                        // with wasm we compute factorial\n                        context.eval(Source.newBuilder(&quot;wasm&quot;, Main.class.getResource(&quot;factorial.wasm&quot;)).build());\n                        Value factorial = context.getBindings(&quot;wasm&quot;).getMember(&quot;main&quot;).getMember(&quot;fac&quot;);\n                        System.out.println(&quot;wasm: factorial(20) = &quot; + factorial.execute(20L));\n                        break;\n                    case &quot;java&quot;:\n                        // with Java we invoke System.out.println reflectively.\n                        Value out = context.getBindings(&quot;java&quot;).getMember(&quot;java.lang.System&quot;).getMember(&quot;out&quot;);\n                        out.invokeMember(&quot;println&quot;, &quot;Hello Espresso Java!&quot;);\n                        break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>You can look at <a href=\"https://github.com/graalvm/polyglot-embedding-demo\" rel=\"nofollow noreferrer\">https://github.com/graalvm/polyglot-embedding-demo</a> for a complete example.</p>\n"}],"owner":{"account_id":5066903,"reputation":843,"user_id":4066795,"accept_rate":75,"display_name":"etchesketch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698949799,"creation_date":1698942809,"question_id":77411362,"body_markdown":"I&#39;m attempting to run a very simple GraalVM example but am running into a hard stop.\r\n\r\nI simply want to add two values together using JavaScript.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport org.graalvm.polyglot.*;\r\n\r\npublic final class App {\r\n    private App() {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println( &quot;starting up&quot; );\r\n\r\n        try ( Context context = Context.create() ){\r\n            Value val = context.eval( &quot;js&quot;, &quot;10 + 2&quot; );\r\n\r\n            System.out.println( val.asInt() );\r\n        }\r\n        catch( Exception e ){\r\n            System.out.println( e );\r\n        }\r\n    \r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe program compiles fine but when I run it, I get the following output.\r\n```\r\nstarting up\r\n[WARNING] \r\njava.lang.ExceptionInInitializerError\r\n    at org.graalvm.polyglot.Engine.getImpl (Engine.java:438)\r\n    at org.graalvm.polyglot.Engine$Builder.build (Engine.java:736)\r\n    at org.graalvm.polyglot.Context$Builder.build (Context.java:1925)\r\n    at org.graalvm.polyglot.Context.create (Context.java:979)\r\n    at com.example.App.main (App.java:13)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\r\n    at java.lang.Thread.run (Thread.java:840)\r\nCaused by: java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:/Users/jacob/Dev/cfwasmer/cfwasmjava/cfwasm/target/classes/\r\n    at sun.nio.fs.WindowsPathParser.normalize (WindowsPathParser.java:182)\r\n    at sun.nio.fs.WindowsPathParser.parse (WindowsPathParser.java:153)\r\n    at sun.nio.fs.WindowsPathParser.parse (WindowsPathParser.java:77)\r\n    at sun.nio.fs.WindowsPath.parse (WindowsPath.java:92)\r\n    at sun.nio.fs.WindowsFileSystem.getPath (WindowsFileSystem.java:232)\r\n    at java.nio.file.Path.of (Path.java:147)\r\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.collectClassPathJars (Engine.java:1988)\r\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.createIsolatedTruffleModule (Engine.java:1783)\r\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.createIsolatedTruffle (Engine.java:1723)\r\n    at org.graalvm.polyglot.Engine$1.searchServiceLoader (Engine.java:1682)\r\n    at org.graalvm.polyglot.Engine$1.run (Engine.java:1668)\r\n    at org.graalvm.polyglot.Engine$1.run (Engine.java:1663)\r\n    at java.security.AccessController.doPrivileged (AccessController.java:318)\r\n    at org.graalvm.polyglot.Engine.initEngineImpl (Engine.java:1663)\r\n    at org.graalvm.polyglot.Engine$ImplHolder.&lt;clinit&gt; (Engine.java:186)\r\n    at org.graalvm.polyglot.Engine.getImpl (Engine.java:438)\r\n    at org.graalvm.polyglot.Engine$Builder.build (Engine.java:736)\r\n    at org.graalvm.polyglot.Context$Builder.build (Context.java:1925)\r\n    at org.graalvm.polyglot.Context.create (Context.java:979)\r\n    at com.example.App.main (App.java:13)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\r\n    at java.lang.Thread.run (Thread.java:840)\r\n```\r\n\r\nSince the program prints out &quot;starting up&quot; I know that it is executing partially. Why is it complaining about file paths when I&#39;m not trying to access any files? How do I get it to run my JavaScript code?\r\n\r\nEDIT:\r\nI just tried running my example in a docker container and the program executed properly. My original test was in Windows. Can polyglot be used on windows? Do I need to do something to configure my environment?","title":"Minimum Graal Polyglot example will not run","body":"<p>I'm attempting to run a very simple GraalVM example but am running into a hard stop.</p>\n<p>I simply want to add two values together using JavaScript.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.graalvm.polyglot.*;\n\npublic final class App {\n    private App() {\n    }\n\n    public static void main(String[] args) {\n\n        System.out.println( &quot;starting up&quot; );\n\n        try ( Context context = Context.create() ){\n            Value val = context.eval( &quot;js&quot;, &quot;10 + 2&quot; );\n\n            System.out.println( val.asInt() );\n        }\n        catch( Exception e ){\n            System.out.println( e );\n        }\n    \n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<p>The program compiles fine but when I run it, I get the following output.</p>\n<pre><code>starting up\n[WARNING] \njava.lang.ExceptionInInitializerError\n    at org.graalvm.polyglot.Engine.getImpl (Engine.java:438)\n    at org.graalvm.polyglot.Engine$Builder.build (Engine.java:736)\n    at org.graalvm.polyglot.Context$Builder.build (Context.java:1925)\n    at org.graalvm.polyglot.Context.create (Context.java:979)\n    at com.example.App.main (App.java:13)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\n    at java.lang.Thread.run (Thread.java:840)\nCaused by: java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:/Users/jacob/Dev/cfwasmer/cfwasmjava/cfwasm/target/classes/\n    at sun.nio.fs.WindowsPathParser.normalize (WindowsPathParser.java:182)\n    at sun.nio.fs.WindowsPathParser.parse (WindowsPathParser.java:153)\n    at sun.nio.fs.WindowsPathParser.parse (WindowsPathParser.java:77)\n    at sun.nio.fs.WindowsPath.parse (WindowsPath.java:92)\n    at sun.nio.fs.WindowsFileSystem.getPath (WindowsFileSystem.java:232)\n    at java.nio.file.Path.of (Path.java:147)\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.collectClassPathJars (Engine.java:1988)\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.createIsolatedTruffleModule (Engine.java:1783)\n    at org.graalvm.polyglot.Engine$ClassPathIsolation.createIsolatedTruffle (Engine.java:1723)\n    at org.graalvm.polyglot.Engine$1.searchServiceLoader (Engine.java:1682)\n    at org.graalvm.polyglot.Engine$1.run (Engine.java:1668)\n    at org.graalvm.polyglot.Engine$1.run (Engine.java:1663)\n    at java.security.AccessController.doPrivileged (AccessController.java:318)\n    at org.graalvm.polyglot.Engine.initEngineImpl (Engine.java:1663)\n    at org.graalvm.polyglot.Engine$ImplHolder.&lt;clinit&gt; (Engine.java:186)\n    at org.graalvm.polyglot.Engine.getImpl (Engine.java:438)\n    at org.graalvm.polyglot.Engine$Builder.build (Engine.java:736)\n    at org.graalvm.polyglot.Context$Builder.build (Context.java:1925)\n    at org.graalvm.polyglot.Context.create (Context.java:979)\n    at com.example.App.main (App.java:13)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:279)\n    at java.lang.Thread.run (Thread.java:840)\n</code></pre>\n<p>Since the program prints out &quot;starting up&quot; I know that it is executing partially. Why is it complaining about file paths when I'm not trying to access any files? How do I get it to run my JavaScript code?</p>\n<p>EDIT:\nI just tried running my example in a docker container and the program executed properly. My original test was in Windows. Can polyglot be used on windows? Do I need to do something to configure my environment?</p>\n"},{"tags":["macos","android-studio","java","java-home"],"answers":[{"comments":[{"owner":{"account_id":5751005,"reputation":3694,"user_id":4540701,"accept_rate":70,"display_name":"onexf"},"score":2,"creation_date":1505739317,"post_id":43237101,"comment_id":79522538,"body_markdown":"how to get keytool when using the OpenJDK? It says &quot;To use the keytool command-line tool you need to install a JDK&quot;","body":"how to get keytool when using the OpenJDK? It says &quot;To use the keytool command-line tool you need to install a JDK&quot;"},{"owner":{"account_id":82339,"reputation":6092,"user_id":231590,"accept_rate":53,"display_name":"soshial"},"score":0,"creation_date":1512727898,"post_id":43237101,"comment_id":82384011,"body_markdown":"Also, after this Android Studio stopped freezing on startup","body":"Also, after this Android Studio stopped freezing on startup"},{"owner":{"account_id":2351884,"reputation":1680,"user_id":2060486,"display_name":"peresisUser"},"score":2,"creation_date":1557844249,"post_id":43237101,"comment_id":98896615,"body_markdown":"Very useful. You cannot download JDK 8 from Oracle&#39;s site without a user. Only the latest JDK, 12 at this time - which does not work with gradle 4.4.1 which i&#39;m using for my project. It&#39;s a mess. Also homebrew has no JDK 8. This was the solution that worked, thank god for embedded JDK!","body":"Very useful. You cannot download JDK 8 from Oracle&#39;s site without a user. Only the latest JDK, 12 at this time - which does not work with gradle 4.4.1 which i&#39;m using for my project. It&#39;s a mess. Also homebrew has no JDK 8. This was the solution that worked, thank god for embedded JDK!"},{"owner":{"account_id":3985288,"reputation":1559,"user_id":3286059,"display_name":"Dimezis"},"score":2,"creation_date":1575393468,"post_id":43237101,"comment_id":104548828,"body_markdown":"Though java -version works fine, /usr/libexec/java_home still fails for me after adding JAVA_HOME","body":"Though java -version works fine, /usr/libexec/java_home still fails for me after adding JAVA_HOME"},{"owner":{"account_id":5334382,"reputation":2337,"user_id":4253952,"display_name":"Aba"},"score":3,"creation_date":1575454212,"post_id":43237101,"comment_id":104569079,"body_markdown":"Sweet. I didn&#39;t have to restart my mac.","body":"Sweet. I didn&#39;t have to restart my mac."},{"owner":{"account_id":4724138,"reputation":4312,"user_id":3821287,"accept_rate":73,"display_name":"Lucas P."},"score":0,"creation_date":1583262224,"post_id":43237101,"comment_id":107054648,"body_markdown":"This is perfect. The Android Studio Installer should have a choice to do this on installation. Thank you so much!","body":"This is perfect. The Android Studio Installer should have a choice to do this on installation. Thank you so much!"},{"owner":{"account_id":8943261,"reputation":1044,"user_id":6671572,"accept_rate":0,"display_name":"Shivam Pokhriyal"},"score":0,"creation_date":1595396889,"post_id":43237101,"comment_id":111455854,"body_markdown":"Yeah, Literally for some magical reason, restarting the OS fixes this.","body":"Yeah, Literally for some magical reason, restarting the OS fixes this."},{"owner":{"account_id":2842259,"reputation":23300,"user_id":2441637,"accept_rate":100,"display_name":"Hasan A Yousef"},"score":0,"creation_date":1602666622,"post_id":43237101,"comment_id":113790150,"body_markdown":"How to find the one n Win 10?","body":"How to find the one n Win 10?"},{"owner":{"account_id":13408402,"reputation":2442,"user_id":9675721,"display_name":"Raphael Pinel"},"score":2,"creation_date":1606726927,"post_id":43237101,"comment_id":115038318,"body_markdown":"if you&#39;re using Catalina and above, you probably use a zsh shell by default. So instead of adding it to the bash profile, create a .zshrc file in the home directory. Then in Terminal type `source ~/.zshrc`","body":"if you&#39;re using Catalina and above, you probably use a zsh shell by default. So instead of adding it to the bash profile, create a .zshrc file in the home directory. Then in Terminal type <code>source ~&#47;.zshrc</code>"},{"owner":{"account_id":82339,"reputation":6092,"user_id":231590,"accept_rate":53,"display_name":"soshial"},"score":0,"creation_date":1606811540,"post_id":43237101,"comment_id":115067799,"body_markdown":"@RaphaelPinel, thanks for the advice about Catalina and Big Sur. You may freely edit my answer. Or should I do it?","body":"@RaphaelPinel, thanks for the advice about Catalina and Big Sur. You may freely edit my answer. Or should I do it?"},{"owner":{"account_id":2462507,"reputation":133,"user_id":2146358,"display_name":"Sei Flavius"},"score":8,"creation_date":1618339106,"post_id":43237101,"comment_id":118570953,"body_markdown":"For zsh the following line (added to the ~/.zshrc file) worked for me: `export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/&quot;`","body":"For zsh the following line (added to the ~/.zshrc file) worked for me: <code>export JAVA_HOME=&quot;&#47;Applications&#47;Android Studio.app&#47;Contents&#47;jre&#47;jdk&#47;Contents&#47;Home&#47;&quot;</code>"},{"owner":{"account_id":1032581,"reputation":1164,"user_id":1040598,"accept_rate":20,"display_name":"Felix Livni"},"score":0,"creation_date":1636853166,"post_id":43237101,"comment_id":123667801,"body_markdown":"I&#39;m running Monterey and just installed Android Studio 2020.3.1. There was no `jdk` directory within `jre`. So, this is what worked for me: `export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home`","body":"I&#39;m running Monterey and just installed Android Studio 2020.3.1. There was no <code>jdk</code> directory within <code>jre</code>. So, this is what worked for me: <code>export JAVA_HOME=&#47;Applications&#47;Android\\ Studio.app&#47;Contents&#47;jre&#47;Contents&#47;Home</code>"},{"owner":{"account_id":5078359,"reputation":1125,"user_id":4075178,"accept_rate":31,"display_name":"Vikas Pandey"},"score":0,"creation_date":1671448429,"post_id":43237101,"comment_id":132094130,"body_markdown":"setting it on .zshrc will be better. as it is the default source.","body":"setting it on .zshrc will be better. as it is the default source."},{"owner":{"account_id":1428472,"reputation":657,"user_id":1351433,"accept_rate":80,"display_name":"Sohayb Hassoun"},"score":4,"creation_date":1674137913,"post_id":43237101,"comment_id":132654074,"body_markdown":"With the latest &quot;Electric Eel&quot; release, `/jre/` changed to `/jbr/`so it&#39;s now `export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home`","body":"With the latest &quot;Electric Eel&quot; release, <code>&#47;jre&#47;</code> changed to <code>&#47;jbr&#47;</code>so it&#39;s now <code>export JAVA_HOME=&#47;Applications&#47;Android\\ Studio.app&#47;Contents&#47;jbr&#47;Contents&#47;Home</code>"},{"owner":{"account_id":3078852,"reputation":3366,"user_id":2607567,"accept_rate":85,"display_name":"JacksOnF1re"},"score":0,"creation_date":1677152938,"post_id":43237101,"comment_id":133283369,"body_markdown":"for me with zsh and electric eel: ~/.zshrc -&gt; export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jbr/Contents/Home/&quot;","body":"for me with zsh and electric eel: ~/.zshrc -&gt; export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jbr/Contents/Home/&quot;"}],"tags":[],"owner":{"account_id":82339,"reputation":6092,"user_id":231590,"accept_rate":53,"display_name":"soshial"},"comment_count":15,"down_vote_count":0,"up_vote_count":254,"is_accepted":true,"score":254,"last_activity_date":1674138508,"creation_date":1491410846,"answer_id":43237101,"question_id":43211282,"body_markdown":"\r\nSolution:\r\n1. (**Updated 2023**) For Android Studio before Electric Eel 2022.1.1 and above: `export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home`\r\n2. MacOS versions before Big Sur: add line `export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/` to `.bash_profile` file in your home directory. Run `source ~/.bash_profile` to update terminal. \r\n3. Catalina, Big Sur, Mentere and above: add line `export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home` to `.zshenv` file in your home directory. Run `source ~/.zshenv` to update terminal. \r\n\r\nAfter that, running `java -version` gave this output and Java started to execute normally:\r\n\r\n    openjdk version &quot;1.8.0_112-release&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_112-release-b06)\r\n    OpenJDK 64-Bit Server VM (build 25.112-b06, mixed mode)\r\n\r\nAs for the Android Device Monitor ‚Äî it still demands this ancient JRE version 6.","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>Solution:</p>\n<ol>\n<li>(<strong>Updated 2023</strong>) For Android Studio before Electric Eel 2022.1.1 and above: <code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home</code></li>\n<li>MacOS versions before Big Sur: add line <code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/</code> to <code>.bash_profile</code> file in your home directory. Run <code>source ~/.bash_profile</code> to update terminal.</li>\n<li>Catalina, Big Sur, Mentere and above: add line <code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home</code> to <code>.zshenv</code> file in your home directory. Run <code>source ~/.zshenv</code> to update terminal.</li>\n</ol>\n<p>After that, running <code>java -version</code> gave this output and Java started to execute normally:</p>\n<pre><code>openjdk version &quot;1.8.0_112-release&quot;\nOpenJDK Runtime Environment (build 1.8.0_112-release-b06)\nOpenJDK 64-Bit Server VM (build 25.112-b06, mixed mode)\n</code></pre>\n<p>As for the Android Device Monitor ‚Äî it still demands this ancient JRE version 6.</p>\n"},{"comments":[{"owner":{"account_id":1411803,"reputation":291,"user_id":1338247,"accept_rate":25,"display_name":"Eric Wijaya"},"score":0,"creation_date":1629170522,"post_id":68751706,"comment_id":121609516,"body_markdown":"Thank you solamour, I also just fresh install Android Studio Arctic Fox on Big Sur.\nAnd it work","body":"Thank you solamour, I also just fresh install Android Studio Arctic Fox on Big Sur. And it work"},{"owner":{"account_id":10645322,"reputation":277,"user_id":7838218,"display_name":"Nelu B"},"score":2,"creation_date":1630956707,"post_id":68751706,"comment_id":122090110,"body_markdown":"&quot;/Applications/Android\\ Studio.app/Contents/jre/Contents/Home/&quot; it&#39;s not working.","body":"&quot;/Applications/Android\\ Studio.app/Contents/jre/Contents/Home/&quot; it&#39;s not working."},{"owner":{"account_id":974734,"reputation":2864,"user_id":4957915,"display_name":"solamour"},"score":0,"creation_date":1630974212,"post_id":68751706,"comment_id":122093453,"body_markdown":"@NeluB, what is the output of `echo $JAVA_HOME` and `which java`, and `java --version` on your machine? While you are at it, share the output of `ls -la /Applications/Android\\ Studio.app/Contents/jre/Contents/Home/` as well.","body":"@NeluB, what is the output of <code>echo $JAVA_HOME</code> and <code>which java</code>, and <code>java --version</code> on your machine? While you are at it, share the output of <code>ls -la &#47;Applications&#47;Android\\ Studio.app&#47;Contents&#47;jre&#47;Contents&#47;Home&#47;</code> as well."},{"owner":{"account_id":10645322,"reputation":277,"user_id":7838218,"display_name":"Nelu B"},"score":2,"creation_date":1631029117,"post_id":68751706,"comment_id":122110992,"body_markdown":"I fixed this by creating a symbolic link from the JRE folder to a new JDK folder.\n`cd /Applications/Android\\ Studio.app/Contents/jre`\n`ln -s ../jre jdk`. Then updating back the JAVA_HOME to `/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home`. Thanks to https://fluttercorner.com/flutter-unable-to-find-bundled-java-version-after-updated-android-studio-arctic-fox2020-3-1-on-m1-apple-silicon/","body":"I fixed this by creating a symbolic link from the JRE folder to a new JDK folder. <code>cd &#47;Applications&#47;Android\\ Studio.app&#47;Contents&#47;jre</code> <code>ln -s ..&#47;jre jdk</code>. Then updating back the JAVA_HOME to <code>&#47;Applications&#47;Android Studio.app&#47;Contents&#47;jre&#47;jdk&#47;Contents&#47;Home</code>. Thanks to <a href=\"https://fluttercorner.com/flutter-unable-to-find-bundled-java-version-after-updated-android-studio-arctic-fox2020-3-1-on-m1-apple-silicon/\" rel=\"nofollow noreferrer\">fluttercorner.com/&hellip;</a>"},{"owner":{"account_id":487789,"reputation":2683,"user_id":2605742,"accept_rate":82,"display_name":"nachbar"},"score":0,"creation_date":1636430789,"post_id":68751706,"comment_id":123548574,"body_markdown":"This worked for me; I needed to accept the license agreements, but the sdkmanager suggested by Android Studio did not work.   &quot;Android SDK Command-line Tools (latest)&quot; are installed from Preferences/Appearance &amp; Behavior/System Settings/Android SDK, then &quot;SDK Tools&quot; tab, then check the box and click Apply.  To accept the licenses, run the &quot;latest&quot; tool with the --licenses flag","body":"This worked for me; I needed to accept the license agreements, but the sdkmanager suggested by Android Studio did not work.   &quot;Android SDK Command-line Tools (latest)&quot; are installed from Preferences/Appearance &amp; Behavior/System Settings/Android SDK, then &quot;SDK Tools&quot; tab, then check the box and click Apply.  To accept the licenses, run the &quot;latest&quot; tool with the --licenses flag"},{"owner":{"account_id":3029527,"reputation":7159,"user_id":2568849,"accept_rate":79,"display_name":"Mesut GUNES"},"score":0,"creation_date":1637850459,"post_id":68751706,"comment_id":123939925,"body_markdown":"this is the answer I am looking for, thanks","body":"this is the answer I am looking for, thanks"},{"owner":{"account_id":5138335,"reputation":1894,"user_id":4116421,"display_name":"thiezn"},"score":0,"creation_date":1653849279,"post_id":68751706,"comment_id":127946322,"body_markdown":"Thanks, this is what tripped me up eventually. I was trying to setup Unreal Engine 5 on macos M1 using SetupAndroid.command and running zsh instead of bash. I ended up replacing all references to .bash_profile to .zprofile as well as hardcoding the full path to the /Users/&lt;my user&gt;/Library/Android/sdk/cmdline-tools/latest/bin/sdkmanager to get it to run.","body":"Thanks, this is what tripped me up eventually. I was trying to setup Unreal Engine 5 on macos M1 using SetupAndroid.command and running zsh instead of bash. I ended up replacing all references to .bash_profile to .zprofile as well as hardcoding the full path to the /Users/&lt;my user&gt;/Library/Android/sdk/cmdline-tools/latest/bin/sdkmanage&zwnj;&#8203;r to get it to run."},{"owner":{"account_id":13548431,"reputation":3662,"user_id":9774005,"display_name":"Rajesh"},"score":0,"creation_date":1701497691,"post_id":68751706,"comment_id":136785790,"body_markdown":"Before I used the above path inside &quot;&quot; in .zshrc file, after removing the quotes it started working.\n\n\nOld:\nexport JAVA_HOME=&quot;/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home&quot;\n\nNew:\nexport JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home","body":"Before I used the above path inside &quot;&quot; in .zshrc file, after removing the quotes it started working.   Old: export JAVA_HOME=&quot;/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home&quot;  New: export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home"},{"owner":{"account_id":974734,"reputation":2864,"user_id":4957915,"display_name":"solamour"},"score":0,"creation_date":1701499159,"post_id":68751706,"comment_id":136785864,"body_markdown":"I think you should have &quot;no quotes with backslash&quot; OR &quot;quotes without backslash&quot;. It most likely won&#39;t work if you have &quot;quotes with backslash&quot;, because the backslash won&#39;t be recognized as the escape.","body":"I think you should have &quot;no quotes with backslash&quot; OR &quot;quotes without backslash&quot;. It most likely won&#39;t work if you have &quot;quotes with backslash&quot;, because the backslash won&#39;t be recognized as the escape."}],"tags":[],"owner":{"account_id":974734,"reputation":2864,"user_id":4957915,"display_name":"solamour"},"comment_count":9,"down_vote_count":1,"up_vote_count":103,"is_accepted":false,"score":102,"last_activity_date":1681668396,"creation_date":1628743308,"answer_id":68751706,"question_id":43211282,"body_markdown":"Updated 2023\r\n============\r\n\r\nI just did a fresh install of Android Studio Arctic Fox 2020.3.1 on Big Sur, and I had to use the following.\r\n\r\nAndroid Studio Dolphin and below:\r\n\r\n    export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home\r\n\r\nAndroid Studio Electric Eel 2022.1.1 and above:\r\n\r\n    export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home\r\n\r\nOn a slightly different topic, even with the correct `JAVA_HOME`, I couldn&#39;t start `~/Library/Android/sdk/tools/bin/sdkmanager`. I had to install &quot;Android SDK Command-line Tools (latest)&quot; (from Android Studio) and use `~/Library/Android/sdk/cmdline-tools/latest/bin/sdkmanager` instead.","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<h1>Updated 2023</h1>\n<p>I just did a fresh install of Android Studio Arctic Fox 2020.3.1 on Big Sur, and I had to use the following.</p>\n<p>Android Studio Dolphin and below:</p>\n<pre><code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home\n</code></pre>\n<p>Android Studio Electric Eel 2022.1.1 and above:</p>\n<pre><code>export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home\n</code></pre>\n<p>On a slightly different topic, even with the correct <code>JAVA_HOME</code>, I couldn't start <code>~/Library/Android/sdk/tools/bin/sdkmanager</code>. I had to install &quot;Android SDK Command-line Tools (latest)&quot; (from Android Studio) and use <code>~/Library/Android/sdk/cmdline-tools/latest/bin/sdkmanager</code> instead.</p>\n"},{"comments":[{"owner":{"account_id":177892,"reputation":5333,"user_id":2098493,"accept_rate":71,"display_name":"Woppi"},"score":0,"creation_date":1645542141,"post_id":69123204,"comment_id":125895548,"body_markdown":"Thank you! It worked! I just need to close terminals and open new terminals to check.","body":"Thank you! It worked! I just need to close terminals and open new terminals to check."}],"tags":[],"owner":{"account_id":2476367,"reputation":2540,"user_id":2156937,"accept_rate":4,"display_name":"busylee"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1631212509,"creation_date":1631212509,"answer_id":69123204,"question_id":43211282,"body_markdown":"The core problem is that starting from Android Studio Arctic Fox the destination of bundled java has been changed from:\r\n`/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/`\r\nto:\r\n`/Applications/Android Studio.app/Contents/jre/Contents/Home/`\r\n\r\nYou just need to change JAVA_HOME env variable in `.bash_profile` to the new correct path (be careful with space character, easiest way just to specify path in doubled quotes). And either restart terminal or run `source ~/.bash_profile`.\r\n","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>The core problem is that starting from Android Studio Arctic Fox the destination of bundled java has been changed from:\n<code>/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/</code>\nto:\n<code>/Applications/Android Studio.app/Contents/jre/Contents/Home/</code></p>\n<p>You just need to change JAVA_HOME env variable in <code>.bash_profile</code> to the new correct path (be careful with space character, easiest way just to specify path in doubled quotes). And either restart terminal or run <code>source ~/.bash_profile</code>.</p>\n"},{"comments":[{"owner":{"account_id":351956,"reputation":1705,"user_id":688758,"display_name":"walkingbrad"},"score":3,"creation_date":1676571672,"post_id":69235473,"comment_id":133168692,"body_markdown":"Yes thank you!!! Though rather than copying, it&#39;s probably better to just create a symlink\n`sudo ln -s /Applications/Android\\ Studio.app/Contents/jbr /Library/Java/JavaVirtualMachines/android-studio.jdk` (this is the path for Android Studio Electric Eel. Check what&#39;s in your Android Studio app folder for the right path). Also, remove any other java installation you may already have in the JavaVirtualMachines folder.","body":"Yes thank you!!! Though rather than copying, it&#39;s probably better to just create a symlink <code>sudo ln -s &#47;Applications&#47;Android\\ Studio.app&#47;Contents&#47;jbr &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;android-studio.jdk</code> (this is the path for Android Studio Electric Eel. Check what&#39;s in your Android Studio app folder for the right path). Also, remove any other java installation you may already have in the JavaVirtualMachines folder."},{"owner":{"account_id":22481248,"reputation":153,"user_id":16680296,"display_name":"crjacinro"},"score":0,"creation_date":1676618340,"post_id":69235473,"comment_id":133177029,"body_markdown":"Yes that would be better! :-)","body":"Yes that would be better! :-)"},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":1,"creation_date":1691530363,"post_id":69235473,"comment_id":135503634,"body_markdown":"This should be mark as the answer, thanks for detailed explanation. Not sure but in Windows I do not need to do all this stuff and didn&#39;t even need to specify JAVA_HOME. All I need is to put the JBR bin directory in %PATH% and everything will work such as keytool, jarsigner, etc.","body":"This should be mark as the answer, thanks for detailed explanation. Not sure but in Windows I do not need to do all this stuff and didn&#39;t even need to specify JAVA_HOME. All I need is to put the JBR bin directory in %PATH% and everything will work such as keytool, jarsigner, etc."}],"tags":[],"owner":{"account_id":22481248,"reputation":153,"user_id":16680296,"display_name":"crjacinro"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1631978092,"creation_date":1631974697,"answer_id":69235473,"question_id":43211282,"body_markdown":"As pointed out by [dimezis][1], JAVA_HOME might be working but the /user/libexec/java_home is still broken.\r\n\r\nThis is because in Mac, `java_home` and `JAVA_HOME` are different. `JAVA_HOME` is the environment variable / path that will be used in most applications and environment while `java_home` is the actual executable that is being used by the system to run java. Apparently, some Mac applications (like Xcode) will just ignore the `JAVA_HOME` path and make use of the `java_home` executable\r\n\r\nSo in order to use the Android Studio Embedded JDK as default Java to be used in Mac, copy the entire embedded jdk folder `/Applications/Android Studio.app/Contents/jre/jdk` to the default Java library folder `/Library/Java/JavaVirtualMachines/`\r\n\r\nAfter this, set your `.bash_profile` or `.zshrc` with this:\r\n`export JAVA_HOME=$(/usr/libexec/java_home)`\r\n\r\nThis will make sure that your JAVA_HOME and java_home is pointing to the same java installation.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3286059/dimezis","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>As pointed out by <a href=\"https://stackoverflow.com/users/3286059/dimezis\">dimezis</a>, JAVA_HOME might be working but the /user/libexec/java_home is still broken.</p>\n<p>This is because in Mac, <code>java_home</code> and <code>JAVA_HOME</code> are different. <code>JAVA_HOME</code> is the environment variable / path that will be used in most applications and environment while <code>java_home</code> is the actual executable that is being used by the system to run java. Apparently, some Mac applications (like Xcode) will just ignore the <code>JAVA_HOME</code> path and make use of the <code>java_home</code> executable</p>\n<p>So in order to use the Android Studio Embedded JDK as default Java to be used in Mac, copy the entire embedded jdk folder <code>/Applications/Android Studio.app/Contents/jre/jdk</code> to the default Java library folder <code>/Library/Java/JavaVirtualMachines/</code></p>\n<p>After this, set your <code>.bash_profile</code> or <code>.zshrc</code> with this:\n<code>export JAVA_HOME=$(/usr/libexec/java_home)</code></p>\n<p>This will make sure that your JAVA_HOME and java_home is pointing to the same java installation.</p>\n"},{"comments":[{"owner":{"account_id":4318396,"reputation":1376,"user_id":3527499,"accept_rate":75,"display_name":"hamsternik"},"score":0,"creation_date":1655826590,"post_id":72161411,"comment_id":128421368,"body_markdown":"Just FYI: `java` bin located directly in the `*/bin` folder of the provided path.","body":"Just FYI: <code>java</code> bin located directly in the <code>*&#47;bin</code> folder of the provided path."}],"tags":[],"owner":{"account_id":2166313,"reputation":2054,"user_id":3825816,"display_name":"Yvgen"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1652015967,"creation_date":1652015967,"answer_id":72161411,"question_id":43211282,"body_markdown":"in my case escaping with `\\ ` doesn&#39;t work but escaping whole path with `&quot;` works fine. Please reopen terminal to see changes or run `source ~/.zshenv` to update terminal.\r\n\r\n    export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home/&quot;","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>in my case escaping with <code>\\ </code> doesn't work but escaping whole path with <code>&quot;</code> works fine. Please reopen terminal to see changes or run <code>source ~/.zshenv</code> to update terminal.</p>\n<pre><code>export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home/&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":542432,"reputation":5013,"user_id":906065,"display_name":"Manish"},"score":2,"creation_date":1665071099,"post_id":73108627,"comment_id":130618543,"body_markdown":"Works on M1 in 2022","body":"Works on M1 in 2022"},{"owner":{"account_id":7045268,"reputation":443,"user_id":5396274,"display_name":"Arun Yogeshwaran"},"score":2,"creation_date":1666875011,"post_id":73108627,"comment_id":131041878,"body_markdown":"Saved me a lot of time. Thanks. Worked in Mac M1","body":"Saved me a lot of time. Thanks. Worked in Mac M1"},{"owner":{"account_id":19054172,"reputation":964,"user_id":13911724,"display_name":"Tarsila Costalonga"},"score":1,"creation_date":1673871058,"post_id":73108627,"comment_id":132586749,"body_markdown":"Worked for me, I just updated my Studio to Eletric Eel","body":"Worked for me, I just updated my Studio to Eletric Eel"}],"tags":[],"owner":{"account_id":4684386,"reputation":12978,"user_id":3792198,"accept_rate":23,"display_name":"Thiago"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658749502,"creation_date":1658749198,"answer_id":73108627,"question_id":43211282,"body_markdown":"Here is how I solved my issue on MAC:\r\n\r\n    # Android, ADB and JAVA\r\n    export ANDROID_HOME=&quot;$HOME/Library/Android/sdk&quot;\r\n    export PATH=&quot;$ANDROID_HOME/tools:$ANDROID_HOME/tools/bin:$ANDROID_HOME/platform-tools:$PATH&quot;\r\n    export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home&quot;\r\n\r\n","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>Here is how I solved my issue on MAC:</p>\n<pre><code># Android, ADB and JAVA\nexport ANDROID_HOME=&quot;$HOME/Library/Android/sdk&quot;\nexport PATH=&quot;$ANDROID_HOME/tools:$ANDROID_HOME/tools/bin:$ANDROID_HOME/platform-tools:$PATH&quot;\nexport JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5643523,"reputation":6183,"user_id":4466472,"display_name":"Stoycho Andreev"},"score":1,"creation_date":1687184762,"post_id":74856013,"comment_id":134897600,"body_markdown":"That&#39;s the right export command, since in the latest Android Studio one of the folders  name changed from jre to jbr","body":"That&#39;s the right export command, since in the latest Android Studio one of the folders  name changed from jre to jbr"}],"tags":[],"owner":{"account_id":1634981,"reputation":7145,"user_id":1508724,"accept_rate":68,"display_name":"T D Nguyen"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671484053,"creation_date":1671484053,"answer_id":74856013,"question_id":43211282,"body_markdown":"From late 2022+, the answer for Mac User &amp; Electric Eel+ has been changed to:\r\n\r\n&gt; export JAVA_HOME=export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home \r\n\r\nto .zshenv file in your home directory","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>From late 2022+, the answer for Mac User &amp; Electric Eel+ has been changed to:</p>\n<blockquote>\n<p>export JAVA_HOME=export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jbr/Contents/Home</p>\n</blockquote>\n<p>to .zshenv file in your home directory</p>\n"},{"tags":[],"owner":{"account_id":16578380,"reputation":433,"user_id":11979618,"display_name":"Beatle Refractor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674106600,"creation_date":1674106600,"answer_id":75168125,"question_id":43211282,"body_markdown":"I have three exports path in home/.zshrc mac system\r\n 1. jdk path\r\n 2. path Contains ordinary commands and shell scripts. \r\n 3. Android sdk path\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home\r\n    \r\n    export PATH=&quot;$PATH:/usr/local/bin&quot;\r\n\r\n    export ANDROID_HOME=$HOME/Library/Android/sdk","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>I have three exports path in home/.zshrc mac system</p>\n<ol>\n<li><p>jdk path</p>\n</li>\n<li><p>path Contains ordinary commands and shell scripts.</p>\n</li>\n<li><p>Android sdk path</p>\n<p>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home</p>\n<p>export PATH=&quot;$PATH:/usr/local/bin&quot;</p>\n<p>export ANDROID_HOME=$HOME/Library/Android/sdk</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6767579,"reputation":43,"user_id":5212095,"display_name":"r.saiprasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677624443,"creation_date":1674202701,"answer_id":75181367,"question_id":43211282,"body_markdown":"The following worked for me (MacOs Ventura version 13.1)\r\n\r\n1. Enter the following command in the command line\r\n\r\n     `export JAVA_HOME=/Applications/Android\\Studio.app/Contents/jbr/Contents/Home`\r\n\r\n2. Create a new folder inside `Applications/Android Studio.app/Contents` and call it `jre`.\r\n\r\n3. Copy the contents of `jbr` folder into the newly created folder`jre`.\r\n\r\n4. Run `flutter doctor`.\r\n\r\nLink : [flutter issues link][1]\r\n\r\n\r\n  [1]: https://github.com/flutter/flutter/issues/118502","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>The following worked for me (MacOs Ventura version 13.1)</p>\n<ol>\n<li><p>Enter the following command in the command line</p>\n<p><code>export JAVA_HOME=/Applications/Android\\Studio.app/Contents/jbr/Contents/Home</code></p>\n</li>\n<li><p>Create a new folder inside <code>Applications/Android Studio.app/Contents</code> and call it <code>jre</code>.</p>\n</li>\n<li><p>Copy the contents of <code>jbr</code> folder into the newly created folder<code>jre</code>.</p>\n</li>\n<li><p>Run <code>flutter doctor</code>.</p>\n</li>\n</ol>\n<p>Link : <a href=\"https://github.com/flutter/flutter/issues/118502\" rel=\"nofollow noreferrer\">flutter issues link</a></p>\n"},{"tags":[],"owner":{"account_id":12664812,"reputation":79,"user_id":9204505,"display_name":"Tabatha Moreno"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674340513,"creation_date":1674340513,"answer_id":75197033,"question_id":43211282,"body_markdown":"Solved!\r\n\r\n- Got to finder and right click it and press ## Show packages content ## \r\n- Got to Contents and create a new folder called jre\r\n- inside jre copy the content of the jbr folder \r\n- the flutter run","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>Solved!</p>\n<ul>\n<li>Got to finder and right click it and press ## Show packages content ##</li>\n<li>Got to Contents and create a new folder called jre</li>\n<li>inside jre copy the content of the jbr folder</li>\n<li>the flutter run</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16805792,"reputation":456,"user_id":12150018,"display_name":"Erick Gutierrez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698949492,"creation_date":1698949492,"answer_id":77412018,"question_id":43211282,"body_markdown":"You can run the following command:\r\n\r\n    /usr/libexec/java_home\r\n\r\nUse the output path as follows:\r\n\r\n    export JAVA_HOME=&quot;&lt;path_you_received&gt;&quot;","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>You can run the following command:</p>\n<pre><code>/usr/libexec/java_home\n</code></pre>\n<p>Use the output path as follows:</p>\n<pre><code>export JAVA_HOME=&quot;&lt;path_you_received&gt;&quot;\n</code></pre>\n"}],"owner":{"account_id":82339,"reputation":6092,"user_id":231590,"accept_rate":53,"display_name":"soshial"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92573,"favorite_count":0,"down_vote_count":1,"up_vote_count":131,"accepted_answer_id":43237101,"answer_count":11,"score":130,"last_activity_date":1698949492,"creation_date":1491319091,"question_id":43211282,"body_markdown":"I tried to open Android Device Monitor and the Studio showed me this message =-O :\r\n[![need to install Java SE 6 runtime error][1]][1]\r\n\r\nIt surprised me, because how have I been able to develop Android apps if I didn&#39;t have any Java installed?! Actually, Android Studio comes with bundled JDK/JRE (located in `/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home`), but it is not found by the system: executed `usr/libexec/java_home` gives\r\n\r\n    Unable to find any JVMs matching version &quot;(null)&quot;.\r\n    No Java runtime present, try --request to install.\r\n\r\nSetting `$JAVA_HOME` to `/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home` did not help ‚Äî `source .bash_profile` doesn&#39;t like that it&#39;s a directory.\r\n\r\nQUESTION: I don&#39;t want to install new JDK if I already have one inside Android Studio. How do I set it as system default?\r\n\r\n  [1]: https://i.stack.imgur.com/SUlHl.png","title":"Using JDK that is bundled inside Android Studio as JAVA_HOME on Mac","body":"<p>I tried to open Android Device Monitor and the Studio showed me this message =-O :\n<a href=\"https://i.stack.imgur.com/SUlHl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SUlHl.png\" alt=\"need to install Java SE 6 runtime error\"></a></p>\n\n<p>It surprised me, because how have I been able to develop Android apps if I didn't have any Java installed?! Actually, Android Studio comes with bundled JDK/JRE (located in <code>/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home</code>), but it is not found by the system: executed <code>usr/libexec/java_home</code> gives</p>\n\n<pre><code>Unable to find any JVMs matching version \"(null)\".\nNo Java runtime present, try --request to install.\n</code></pre>\n\n<p>Setting <code>$JAVA_HOME</code> to <code>/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home</code> did not help ‚Äî <code>source .bash_profile</code> doesn't like that it's a directory.</p>\n\n<p>QUESTION: I don't want to install new JDK if I already have one inside Android Studio. How do I set it as system default?</p>\n"},{"tags":["java","spring","web-services","soap"],"answers":[{"comments":[{"owner":{"account_id":10666146,"reputation":910,"user_id":7852676,"accept_rate":39,"display_name":"J. Abel"},"score":0,"creation_date":1498743383,"post_id":44817333,"comment_id":76633575,"body_markdown":"Hi, Thanks for answering.\n\nI used your code and add it to mine, specifically in the line follows:\n\n throw new SOAPFaultException(fault);\n\nThe strange is that I can see the responde in the console with &lt;faultcode&gt;99&lt;/faultcode&gt;, but not in the service response.  I continue to watch the &lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;.\n\nAs I want to catch the exception since a client in c#, it is necessary that in the java I create an exception related, if I wrote only the message (like you told me) then C# would not know that it is an exception. C# catches the excepcion with a try{}catch{} too.","body":"Hi, Thanks for answering.  I used your code and add it to mine, specifically in the line follows:   throw new SOAPFaultException(fault);  The strange is that I can see the responde in the console with &lt;faultcode&gt;99&lt;/faultcode&gt;, but not in the service response.  I continue to watch the &lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;.  As I want to catch the exception since a client in c#, it is necessary that in the java I create an exception related, if I wrote only the message (like you told me) then C# would not know that it is an exception. C# catches the excepcion with a try{}catch{} too."}],"tags":[],"owner":{"account_id":5582693,"reputation":587,"user_id":4424117,"display_name":"newuserua_ext"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498715853,"creation_date":1498715853,"answer_id":44817333,"question_id":44813606,"body_markdown":"Actually i could not get it. You throw FaultException then you catch and create some SOAPMessage? Without QName i got the expected result.\r\n\r\n            SOAPMessage message = MessageFactory.newInstance().createMessage();\r\n\t\t\tSOAPFault fault = message.getSOAPBody().addFault();\r\n\t\t\tfault.setFaultString(&quot;Error&quot;);\r\n\t\t\tfault.setFaultCode(&quot;99&quot;);\r\n\t\t\t\r\n\t\t\tmessage.getSOAPBody().appendChild(fault);\r\n\r\n\t\t\tmessage.writeTo(System.out);\r\nResponse  ;\r\n\r\n    &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n\t&lt;SOAP-ENV:Header/&gt;\r\n\t&lt;SOAP-ENV:Body&gt;\r\n\t\t&lt;SOAP-ENV:Fault&gt;\r\n\t\t\t&lt;faultcode&gt;99&lt;/faultcode&gt;\r\n\t\t\t&lt;faultstring&gt;Error&lt;/faultstring&gt;\r\n\t\t&lt;/SOAP-ENV:Fault&gt;\r\n\t&lt;/SOAP-ENV:Body&gt;\r\n&lt;/SOAP-ENV:Envelope&gt;","title":"&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt; is always the same value in SOAP and Spring WS","body":"<p>Actually i could not get it. You throw FaultException then you catch and create some SOAPMessage? Without QName i got the expected result.</p>\n\n<pre><code>        SOAPMessage message = MessageFactory.newInstance().createMessage();\n        SOAPFault fault = message.getSOAPBody().addFault();\n        fault.setFaultString(\"Error\");\n        fault.setFaultCode(\"99\");\n\n        message.getSOAPBody().appendChild(fault);\n\n        message.writeTo(System.out);\n</code></pre>\n\n<p>Response  ;</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n&lt;SOAP-ENV:Header/&gt;\n&lt;SOAP-ENV:Body&gt;\n    &lt;SOAP-ENV:Fault&gt;\n        &lt;faultcode&gt;99&lt;/faultcode&gt;\n        &lt;faultstring&gt;Error&lt;/faultstring&gt;\n    &lt;/SOAP-ENV:Fault&gt;\n&lt;/SOAP-ENV:Body&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":12497485,"reputation":1,"user_id":9096973,"display_name":"Ritesh P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513225552,"creation_date":1513224466,"answer_id":47805744,"question_id":44813606,"body_markdown":"You can achieve this in multiple ways. If you have requirement to return dynamic custom fault codes in SOAP response. Do following:\r\n\r\n1. Declare a class which extends springs SoapFaultMappingExceptionResolver class\r\n2. In above declared class, override `protected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex)` method And provide custom implmentation as follows:\r\n\r\n    \t@Override\r\n\t    protected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex) {\r\n\t\t\r\n            String definitionText = &quot;SERVER&quot;;\r\n    \t\tif (ex instanceof ServiceFaultException) {\r\n    \t\t\tMyServiceFault serviceFault = ((MyServiceFaultException) ex).getServiceFault();\r\n    \t\t\tQName faultCode = new QName(&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, serviceFault.getErrorCd());\r\n    \t\t\tdefinitionText = faultCode.toString();\r\n    \t\t}\r\n    \t\tSoapFaultDefinitionEditor editor = new SoapFaultDefinitionEditor();\r\n    \t\teditor.setAsText(definitionText);\r\n    \t\treturn (SoapFaultDefinition) editor.getValue();\r\n        }\r\n\r\nYou can add further details to error response by overriding \r\n\r\n    customizeFault(Object endpoint, Exception ex, SoapFault fault)\r\n\r\nof this class.\r\n","title":"&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt; is always the same value in SOAP and Spring WS","body":"<p>You can achieve this in multiple ways. If you have requirement to return dynamic custom fault codes in SOAP response. Do following:</p>\n\n<ol>\n<li>Declare a class which extends springs SoapFaultMappingExceptionResolver class</li>\n<li><p>In above declared class, override <code>protected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex)</code> method And provide custom implmentation as follows:</p>\n\n<pre><code>@Override\nprotected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex) {\n\n    String definitionText = \"SERVER\";\n    if (ex instanceof ServiceFaultException) {\n        MyServiceFault serviceFault = ((MyServiceFaultException) ex).getServiceFault();\n        QName faultCode = new QName(\"http://schemas.xmlsoap.org/soap/envelope/\", serviceFault.getErrorCd());\n        definitionText = faultCode.toString();\n    }\n    SoapFaultDefinitionEditor editor = new SoapFaultDefinitionEditor();\n    editor.setAsText(definitionText);\n    return (SoapFaultDefinition) editor.getValue();\n}\n</code></pre></li>\n</ol>\n\n<p>You can add further details to error response by overriding </p>\n\n<pre><code>customizeFault(Object endpoint, Exception ex, SoapFault fault)\n</code></pre>\n\n<p>of this class.</p>\n"},{"tags":[],"owner":{"account_id":29564190,"reputation":1,"user_id":22658025,"display_name":"Kyu Park"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696000776,"creation_date":1696000776,"answer_id":77203109,"question_id":44813606,"body_markdown":"I actually was stuck in the same problem for a week but I figured it out. I know it is an old question, but wanted to leave my solution for those who still struggled in 2023 like me.\r\n\r\nWhen you throw the SOAPFault `throw new SOAPFaultException(fault)`, it will use SOAP&#39;s default XML to return the fault. And for some reason that efault XML lets you modify the fault string but not the fault code, thus why in console it says you modified the SOAPFault, but the rendered SOAPFaultException will have no change as it will try to stick with the default SOAP XML, thus your case. \r\n\r\nThe solution is to make your CustomException class, and making a class that extends AbstractSoapFaultDefinitionExceptionResolver, so that when Spring WS observes the CustomException thrown, then it uses the custom resolver. \r\n\r\nSo you will need two classes, CustomException:\r\n```java\r\n  public class CustomException extends Exception {\r\n}\r\n```\r\nand the exception resolver:\r\n\r\n```java\r\npublic class ExceptionResolver extends AbstractSoapFaultDefinitionExceptionResolver {\r\n\r\n    @Override\r\n    protected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex) {\r\n        if (ex instanceof CustomException) {\r\n            // do something\r\n        }\r\n    }\r\n    @Override\r\n    protected void customizeFault(Object endpoint, Exception ex, SoapFault fault) {\r\n        if (ex instanceof CustomException) {\r\n            CustomException customException = ((CustomException) ex);\r\n            try {\r\n                     // customize your fault message\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(&quot;Error customizing&quot;, e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand then in webservice.config, let Spring know to use this resolver\r\n```java\r\n    @Bean(name = &quot;soapFaultAnnotationExceptionResolver&quot;)\r\n    public ExceptionResolver exceptionResolver() {\r\n        return new ExceptionResolver();\r\n    }\r\n```\r\n\r\nYou might have to enable the allow-bean-definition-overriding option if it hasn&#39;t been already.\r\n\r\nHopefully this helps anyone struggling! ","title":"&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt; is always the same value in SOAP and Spring WS","body":"<p>I actually was stuck in the same problem for a week but I figured it out. I know it is an old question, but wanted to leave my solution for those who still struggled in 2023 like me.</p>\n<p>When you throw the SOAPFault <code>throw new SOAPFaultException(fault)</code>, it will use SOAP's default XML to return the fault. And for some reason that efault XML lets you modify the fault string but not the fault code, thus why in console it says you modified the SOAPFault, but the rendered SOAPFaultException will have no change as it will try to stick with the default SOAP XML, thus your case.</p>\n<p>The solution is to make your CustomException class, and making a class that extends AbstractSoapFaultDefinitionExceptionResolver, so that when Spring WS observes the CustomException thrown, then it uses the custom resolver.</p>\n<p>So you will need two classes, CustomException:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public class CustomException extends Exception {\n}\n</code></pre>\n<p>and the exception resolver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExceptionResolver extends AbstractSoapFaultDefinitionExceptionResolver {\n\n    @Override\n    protected SoapFaultDefinition getFaultDefinition(Object endpoint, Exception ex) {\n        if (ex instanceof CustomException) {\n            // do something\n        }\n    }\n    @Override\n    protected void customizeFault(Object endpoint, Exception ex, SoapFault fault) {\n        if (ex instanceof CustomException) {\n            CustomException customException = ((CustomException) ex);\n            try {\n                     // customize your fault message\n                } catch (Exception e) {\n                    throw new RuntimeException(&quot;Error customizing&quot;, e);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>and then in webservice.config, let Spring know to use this resolver</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean(name = &quot;soapFaultAnnotationExceptionResolver&quot;)\n    public ExceptionResolver exceptionResolver() {\n        return new ExceptionResolver();\n    }\n</code></pre>\n<p>You might have to enable the allow-bean-definition-overriding option if it hasn't been already.</p>\n<p>Hopefully this helps anyone struggling!</p>\n"}],"owner":{"account_id":10666146,"reputation":910,"user_id":7852676,"accept_rate":39,"display_name":"J. Abel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698948501,"creation_date":1498689427,"question_id":44813606,"body_markdown":"I am to try catching the exception from a SOAP web service in Spring WS (java) with the follows code:\r\n\r\n\r\n    String faultString = &quot;String Y&quot;;\r\n    \t\t\tString faultCodeValue = &quot;Code X&quot;;\r\n    \t\t\tQName faultCode = new QName(&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, faultCodeValue);\r\n    \t\t\tSOAPFault soapFault = null;\r\n    \t\t\tsoapFault = SOAPFactory.newInstance(SOAPConstants.SOAP_1_1_PROTOCOL).createFault(faultString, faultCode);\r\n    \t\t    throw new SOAPFaultException(soapFault);\r\n\r\n\r\nHowever I always getting the same `&lt;faultcode&gt;`   like this `(&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;)`\r\n\r\n (even when I changed the value in `faultCodeValue` variable):\r\n\r\n    &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n       &lt;SOAP-ENV:Header/&gt;\r\n       &lt;SOAP-ENV:Body&gt;\r\n          &lt;SOAP-ENV:Fault&gt;\r\n             &lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;\r\n             &lt;faultstring xml:lang=&quot;en&quot;&gt;String Y&lt;/faultstring&gt;\r\n          &lt;/SOAP-ENV:Fault&gt;\r\n       &lt;/SOAP-ENV:Body&gt;\r\n    &lt;/SOAP-ENV:Envelope&gt;\r\n\r\nDoes Someone knows how to change this value in the web service response?\r\n\r\n","title":"&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt; is always the same value in SOAP and Spring WS","body":"<p>I am to try catching the exception from a SOAP web service in Spring WS (java) with the follows code:</p>\n\n<pre><code>String faultString = \"String Y\";\n            String faultCodeValue = \"Code X\";\n            QName faultCode = new QName(\"http://schemas.xmlsoap.org/soap/envelope/\", faultCodeValue);\n            SOAPFault soapFault = null;\n            soapFault = SOAPFactory.newInstance(SOAPConstants.SOAP_1_1_PROTOCOL).createFault(faultString, faultCode);\n            throw new SOAPFaultException(soapFault);\n</code></pre>\n\n<p>However I always getting the same <code>&lt;faultcode&gt;</code>   like this <code>(&lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;)</code></p>\n\n<p>(even when I changed the value in <code>faultCodeValue</code> variable):</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n   &lt;SOAP-ENV:Header/&gt;\n   &lt;SOAP-ENV:Body&gt;\n      &lt;SOAP-ENV:Fault&gt;\n         &lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;\n         &lt;faultstring xml:lang=\"en\"&gt;String Y&lt;/faultstring&gt;\n      &lt;/SOAP-ENV:Fault&gt;\n   &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n\n<p>Does Someone knows how to change this value in the web service response?</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"owner":{"account_id":24427211,"reputation":11,"user_id":18352642,"display_name":"BlueFFlame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698948066,"creation_date":1698948066,"question_id":77411893,"body_markdown":"I&#39;m writing a Minecraft based on tech and machines, and I&#39;m making a furnace-esque machine for processing ores. However, I can&#39;t seem to get the recipes to work. Whenever I put the ore into the slot, nothing happens. \r\n\r\nI added the inventory property to the watchlist and it showed that it was detecting the block in the right slot, but for some reason its not triggering crafting. I&#39;m at a loss right now. I noticed that the getCurrentRecipe method is returning null (Optional.null), but I have no idea why as the inventory contains blocks. I also tried changing up some of the properties to see if it was a scope issue, but nothing seemed to work.\r\n\r\nAlso, there&#39;s no crashes at all. No errors thrown. It just doesn&#39;t do anything.\r\n\r\nHere are some of the code snippets:\r\n\r\n1) The .json files for the recipes\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;darkcollective:ore_refining&quot;,\r\n  &quot;ingredients&quot;: [\r\n    {\r\n      &quot;item&quot;: &quot;darkcollective:aernium_ore&quot;\r\n    }\r\n  ],\r\n  &quot;output&quot;: {\r\n    &quot;count&quot;: 2,\r\n    &quot;item&quot;: &quot;darkcollective:aernium_ingot&quot;\r\n  }\r\n}\r\n```\r\n2) The code in the OreRefineryEntityClass that looks for the recipe and, if found, starts the crafting\r\n\r\n\r\n```\r\nprivate boolean hasRecipe() {\r\n        Optional&lt;OreRefineryRecipe&gt; recipe = getCurrentRecipe();\r\n\r\n        System.out.println(recipe);\r\n\r\n        if(recipe.isEmpty()) {\r\n            return false;\r\n        }\r\n        ItemStack result = recipe.get().getResultItem(getLevel().registryAccess());\r\n\r\n        return canInsertAmountIntoOutputSlot(result.getCount()) &amp;&amp; canInsertItemIntoOutputSlot(result.getItem());\r\n    }\r\n\r\n    private Optional&lt;OreRefineryRecipe&gt; getCurrentRecipe() {\r\n        SimpleContainer inventory = new SimpleContainer(this.itemHandler.getSlots());\r\n        for(int i = 0; i &lt; itemHandler.getSlots(); i++) {\r\n            inventory.setItem(i, this.itemHandler.getStackInSlot(i));\r\n        }\r\n\r\n        return this.level.getRecipeManager().getRecipeFor(OreRefineryRecipe.Type.INSTANCE, inventory, level);\r\n    }\r\n```\r\n\r\n3) The code for the RecipeSerializer.\r\n\r\n```\r\npublic static class Serializer implements RecipeSerializer&lt;OreRefineryRecipe&gt;{\r\n\r\n        public static final Serializer INSTANCE = new Serializer();\r\n        public static final ResourceLocation ID = new ResourceLocation(DarkCollective.ModID, &quot;ore_refining&quot;);\r\n\r\n        @Override\r\n        public OreRefineryRecipe fromJson(ResourceLocation recipeId, JsonObject serializedRecipe) {\r\n            ItemStack output = ShapedRecipe.itemStackFromJson(GsonHelper.getAsJsonObject(serializedRecipe, &quot;result&quot;));\r\n\r\n            JsonArray ingredients = GsonHelper.getAsJsonArray(serializedRecipe, &quot;ingredients&quot;);\r\n            NonNullList&lt;Ingredient&gt; inputs = NonNullList.withSize(1, Ingredient.EMPTY);\r\n\r\n            for(int i = 0; i &lt; inputs.size(); i++) {\r\n                inputs.set(i, Ingredient.fromJson(ingredients.get(i)));\r\n            }\r\n\r\n            return new OreRefineryRecipe(inputs, output, recipeId);\r\n        }\r\n\r\n        @Override\r\n        public @Nullable OreRefineryRecipe fromNetwork(ResourceLocation recipeID, FriendlyByteBuf buffer) {\r\n            NonNullList&lt;Ingredient&gt; inputs = NonNullList.withSize(buffer.readInt(), Ingredient.EMPTY);\r\n\r\n            for(int i = 0; i &lt; inputs.size(); i++) {\r\n                inputs.set(i, Ingredient.fromNetwork(buffer));\r\n            }\r\n\r\n            ItemStack output = buffer.readItem();\r\n            return new OreRefineryRecipe(inputs, output, recipeID);\r\n        }\r\n\r\n        @Override\r\n        public void toNetwork(FriendlyByteBuf buffer, OreRefineryRecipe recipe) {\r\n            buffer.writeInt(recipe.inputItems.size());\r\n\r\n            for (Ingredient ingredient : recipe.getIngredients()) {\r\n                ingredient.toNetwork(buffer);\r\n            }\r\n\r\n            buffer.writeItemStack(recipe.getResultItem(null), false);\r\n\r\n        }\r\n    }\r\n```\r\nPlease note that I am new to modding, and I followed a tutorial for this code, so I don&#39;t really know code conventions yet. \r\n\r\nIf there&#39;s anything I missed, just tell me and I&#39;d be happy to send.\r\n\r\n\r\nThank you!\r\n\r\n\r\n\r\n","title":"Recipes for custom Block Entity isn&#39;t working, doesn&#39;t craft (1.20)","body":"<p>I'm writing a Minecraft based on tech and machines, and I'm making a furnace-esque machine for processing ores. However, I can't seem to get the recipes to work. Whenever I put the ore into the slot, nothing happens.</p>\n<p>I added the inventory property to the watchlist and it showed that it was detecting the block in the right slot, but for some reason its not triggering crafting. I'm at a loss right now. I noticed that the getCurrentRecipe method is returning null (Optional.null), but I have no idea why as the inventory contains blocks. I also tried changing up some of the properties to see if it was a scope issue, but nothing seemed to work.</p>\n<p>Also, there's no crashes at all. No errors thrown. It just doesn't do anything.</p>\n<p>Here are some of the code snippets:</p>\n<ol>\n<li>The .json files for the recipes</li>\n</ol>\n<pre><code>{\n  &quot;type&quot;: &quot;darkcollective:ore_refining&quot;,\n  &quot;ingredients&quot;: [\n    {\n      &quot;item&quot;: &quot;darkcollective:aernium_ore&quot;\n    }\n  ],\n  &quot;output&quot;: {\n    &quot;count&quot;: 2,\n    &quot;item&quot;: &quot;darkcollective:aernium_ingot&quot;\n  }\n}\n</code></pre>\n<ol start=\"2\">\n<li>The code in the OreRefineryEntityClass that looks for the recipe and, if found, starts the crafting</li>\n</ol>\n<pre><code>private boolean hasRecipe() {\n        Optional&lt;OreRefineryRecipe&gt; recipe = getCurrentRecipe();\n\n        System.out.println(recipe);\n\n        if(recipe.isEmpty()) {\n            return false;\n        }\n        ItemStack result = recipe.get().getResultItem(getLevel().registryAccess());\n\n        return canInsertAmountIntoOutputSlot(result.getCount()) &amp;&amp; canInsertItemIntoOutputSlot(result.getItem());\n    }\n\n    private Optional&lt;OreRefineryRecipe&gt; getCurrentRecipe() {\n        SimpleContainer inventory = new SimpleContainer(this.itemHandler.getSlots());\n        for(int i = 0; i &lt; itemHandler.getSlots(); i++) {\n            inventory.setItem(i, this.itemHandler.getStackInSlot(i));\n        }\n\n        return this.level.getRecipeManager().getRecipeFor(OreRefineryRecipe.Type.INSTANCE, inventory, level);\n    }\n</code></pre>\n<ol start=\"3\">\n<li>The code for the RecipeSerializer.</li>\n</ol>\n<pre><code>public static class Serializer implements RecipeSerializer&lt;OreRefineryRecipe&gt;{\n\n        public static final Serializer INSTANCE = new Serializer();\n        public static final ResourceLocation ID = new ResourceLocation(DarkCollective.ModID, &quot;ore_refining&quot;);\n\n        @Override\n        public OreRefineryRecipe fromJson(ResourceLocation recipeId, JsonObject serializedRecipe) {\n            ItemStack output = ShapedRecipe.itemStackFromJson(GsonHelper.getAsJsonObject(serializedRecipe, &quot;result&quot;));\n\n            JsonArray ingredients = GsonHelper.getAsJsonArray(serializedRecipe, &quot;ingredients&quot;);\n            NonNullList&lt;Ingredient&gt; inputs = NonNullList.withSize(1, Ingredient.EMPTY);\n\n            for(int i = 0; i &lt; inputs.size(); i++) {\n                inputs.set(i, Ingredient.fromJson(ingredients.get(i)));\n            }\n\n            return new OreRefineryRecipe(inputs, output, recipeId);\n        }\n\n        @Override\n        public @Nullable OreRefineryRecipe fromNetwork(ResourceLocation recipeID, FriendlyByteBuf buffer) {\n            NonNullList&lt;Ingredient&gt; inputs = NonNullList.withSize(buffer.readInt(), Ingredient.EMPTY);\n\n            for(int i = 0; i &lt; inputs.size(); i++) {\n                inputs.set(i, Ingredient.fromNetwork(buffer));\n            }\n\n            ItemStack output = buffer.readItem();\n            return new OreRefineryRecipe(inputs, output, recipeID);\n        }\n\n        @Override\n        public void toNetwork(FriendlyByteBuf buffer, OreRefineryRecipe recipe) {\n            buffer.writeInt(recipe.inputItems.size());\n\n            for (Ingredient ingredient : recipe.getIngredients()) {\n                ingredient.toNetwork(buffer);\n            }\n\n            buffer.writeItemStack(recipe.getResultItem(null), false);\n\n        }\n    }\n</code></pre>\n<p>Please note that I am new to modding, and I followed a tutorial for this code, so I don't really know code conventions yet.</p>\n<p>If there's anything I missed, just tell me and I'd be happy to send.</p>\n<p>Thank you!</p>\n"},{"tags":["java","tomcat7"],"answers":[{"tags":[],"owner":{"account_id":29813011,"reputation":1,"user_id":22847977,"display_name":"pomponlecoco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698947674,"creation_date":1698947674,"answer_id":77411849,"question_id":28637890,"body_markdown":"I am 2 days late for dead-revival feast, nontheless I dig up this thread from its lay-buried mortuary position (also related to https://stackoverflow.com/questions/29347764/conditionally-filter-tomcat-accesslogvalve among others)\r\n\r\nTo any adventurer wandering down here amongst dead-living threads, here is my suggestion : \r\n- use https://tomcat.apache.org/tomcat-9.0-doc/rewrite.html (and in particular &quot;RewriteRule ^.*$ - [L,E=myFlag:true]&quot; following a condition on queried URL) to add &quot;myFlag&quot; envVar \r\n- use https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Access_Log_Valve/Attributes &quot;conditionIf&quot; and &quot;conditionUnless&quot; attributes to do the filtering based on the envVar you just positioned","title":"Tomcat access logs separately for different applications deployed inside it","body":"<p>I am 2 days late for dead-revival feast, nontheless I dig up this thread from its lay-buried mortuary position (also related to <a href=\"https://stackoverflow.com/questions/29347764/conditionally-filter-tomcat-accesslogvalve\">Conditionally filter Tomcat AccessLogValve</a> among others)</p>\n<p>To any adventurer wandering down here amongst dead-living threads, here is my suggestion :</p>\n<ul>\n<li>use <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/rewrite.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/rewrite.html</a> (and in particular &quot;RewriteRule ^.*$ - [L,E=myFlag:true]&quot; following a condition on queried URL) to add &quot;myFlag&quot; envVar</li>\n<li>use <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Access_Log_Valve/Attributes\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Access_Log_Valve/Attributes</a> &quot;conditionIf&quot; and &quot;conditionUnless&quot; attributes to do the filtering based on the envVar you just positioned</li>\n</ul>\n"}],"owner":{"account_id":5764483,"reputation":19,"user_id":4549846,"display_name":"Kamal Pathak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698947674,"creation_date":1424465270,"question_id":28637890,"body_markdown":"Tomcat writes access_logs for all the applications together. Is it possible to write access logs separately for each application deployed in Tomcat depending upon their deployed names.\r\n\r\nEg: Inside logs dir,\r\n       App1--&gt;app1_access_logs\r\n       App2--&gt;app2_access_logs\r\n\r\nNote: Im not talking about applications logs. Im talking about each request coming to particular application in tomcat from a particular user.\r\n","title":"Tomcat access logs separately for different applications deployed inside it","body":"<p>Tomcat writes access_logs for all the applications together. Is it possible to write access logs separately for each application deployed in Tomcat depending upon their deployed names.</p>\n\n<p>Eg: Inside logs dir,\n       App1-->app1_access_logs\n       App2-->app2_access_logs</p>\n\n<p>Note: Im not talking about applications logs. Im talking about each request coming to particular application in tomcat from a particular user.</p>\n"},{"tags":["java","spring-boot","uri","ipv6"],"answers":[{"tags":[],"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698947475,"creation_date":1697470877,"answer_id":77303299,"question_id":77275486,"body_markdown":"Verified as a bug and reported as https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8318130 - fixed in JDK 22 b21 via https://github.com/openjdk/jdk/pull/16265/files","title":"a bug in Java&#39;s stdlib SocksSocketImpl?","body":"<p>Verified as a bug and reported as <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8318130\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8318130</a> - fixed in JDK 22 b21 via <a href=\"https://github.com/openjdk/jdk/pull/16265/files\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/pull/16265/files</a></p>\n"}],"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77303299,"answer_count":1,"score":2,"last_activity_date":1698947475,"creation_date":1697048225,"question_id":77275486,"body_markdown":"I&#39;ve noticed a peculiar suppressed `URISyntaxException` in one of my Spring Boot apps during embedded Tomcat shutdown procedure via `TomcatWebServer#stop()` - and after debugging, found the source to be here:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/SocksSocketImpl.java#L306\r\n\r\n(this happened for me on Eclipse Temurin 17.0.8.1, but I tried with other Java versions, and it looked mostly the same)\r\n\r\nBasically, no matter how hard I stare at it, for an IPv6 (my use case) this code looks broken.\r\n\r\n * `epoint.getHostString()` gives a valid IPv6, no braces (e.g. `fd00:baba:babe:0:0:0:0:862`)\r\n * the following code detects IPv6 `epoint` and adds braces, `[fd00:baba:babe:0:0:0:0:862]`\r\n * `ParseUtil.encodePath(host)` encodes that `host` to `%5bfd00:baba:babe:0:0:0:0:862%5d` - this is problematic, because the hostname and port will be impossible to distinguish via URI parsing later, but shouldn&#39;t cause an exception by itself\r\n * this is then concatenated with the schema/port and gives e.g. `socket://%5fd00:baba:babe:0:0:0:0:862%5d:55507` - even more problematic, since now it looks even more vexing both to human eye and probably to the `new URI` input parser as well,\r\n * however, `new URI` c-tor constructs a URI with encoded hostname and port clumped together as `authority`, and `host == null` and `port == -1`\r\n\r\nTo work properly for IPv6-based hosts, `new URI` expects a _non-encoded_ IPv6 address _with required literal braces_, i.e. `[fd00:baba:babe:0:0:0:0:862]`, \r\n\r\nSimple replication case:\r\n\r\n        URI uri = new URI(&quot;socket://[fd00:baba:babe:0:0:0:0:862]:55507&quot;);\r\n        System.out.println(uri.getHost()); // [fd00:a89f:8b41:0:0:0:0:862] - OK\r\n        uri = new URI(&quot;socket://%5fd00:baba:babe:0:0:0:0:862%5d:55507&quot;);\r\n        System.out.println(uri.getHost()); // null - port is -1, everything got clumped in authority\r\n        uri = new URI(&quot;socket://fd00:baba:babe:0:0:0:0:862:55507&quot;);\r\n        System.out.println(uri.getHost()); // null - port is -1, everything got clumped in authority\r\n\r\nI thought that having `host == null` should crash the SocksSocketImpl later on, but, surprisingly, in the only real place the `uri` is used, i.e. the call to `DefaultProxySelector#select(URI uri)` , I found an unrelated workaround... that is described explicitly as _not for this case_ but allows the code to not fail! https://github.com/openjdk/jdk/blob/jdk-10%2B24/src/java.base/share/classes/sun/net/spi/DefaultProxySelector.java#L168 (i.e., this code _would_ actually crash in normal situations, if not for a literally decades-old hacky workaround _for completely unrelated cases_ - international domain names and domain names with underscore).\r\n\r\nAm I missing something obvious, or is it a stacked bug in the stdlib itself (and thus should be reported upstream)?\r\n","title":"a bug in Java&#39;s stdlib SocksSocketImpl?","body":"<p>I've noticed a peculiar suppressed <code>URISyntaxException</code> in one of my Spring Boot apps during embedded Tomcat shutdown procedure via <code>TomcatWebServer#stop()</code> - and after debugging, found the source to be here:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/SocksSocketImpl.java#L306\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/SocksSocketImpl.java#L306</a></p>\n<p>(this happened for me on Eclipse Temurin 17.0.8.1, but I tried with other Java versions, and it looked mostly the same)</p>\n<p>Basically, no matter how hard I stare at it, for an IPv6 (my use case) this code looks broken.</p>\n<ul>\n<li><code>epoint.getHostString()</code> gives a valid IPv6, no braces (e.g. <code>fd00:baba:babe:0:0:0:0:862</code>)</li>\n<li>the following code detects IPv6 <code>epoint</code> and adds braces, <code>[fd00:baba:babe:0:0:0:0:862]</code></li>\n<li><code>ParseUtil.encodePath(host)</code> encodes that <code>host</code> to <code>%5bfd00:baba:babe:0:0:0:0:862%5d</code> - this is problematic, because the hostname and port will be impossible to distinguish via URI parsing later, but shouldn't cause an exception by itself</li>\n<li>this is then concatenated with the schema/port and gives e.g. <code>socket://%5fd00:baba:babe:0:0:0:0:862%5d:55507</code> - even more problematic, since now it looks even more vexing both to human eye and probably to the <code>new URI</code> input parser as well,</li>\n<li>however, <code>new URI</code> c-tor constructs a URI with encoded hostname and port clumped together as <code>authority</code>, and <code>host == null</code> and <code>port == -1</code></li>\n</ul>\n<p>To work properly for IPv6-based hosts, <code>new URI</code> expects a <em>non-encoded</em> IPv6 address <em>with required literal braces</em>, i.e. <code>[fd00:baba:babe:0:0:0:0:862]</code>,</p>\n<p>Simple replication case:</p>\n<pre><code>    URI uri = new URI(&quot;socket://[fd00:baba:babe:0:0:0:0:862]:55507&quot;);\n    System.out.println(uri.getHost()); // [fd00:a89f:8b41:0:0:0:0:862] - OK\n    uri = new URI(&quot;socket://%5fd00:baba:babe:0:0:0:0:862%5d:55507&quot;);\n    System.out.println(uri.getHost()); // null - port is -1, everything got clumped in authority\n    uri = new URI(&quot;socket://fd00:baba:babe:0:0:0:0:862:55507&quot;);\n    System.out.println(uri.getHost()); // null - port is -1, everything got clumped in authority\n</code></pre>\n<p>I thought that having <code>host == null</code> should crash the SocksSocketImpl later on, but, surprisingly, in the only real place the <code>uri</code> is used, i.e. the call to <code>DefaultProxySelector#select(URI uri)</code> , I found an unrelated workaround... that is described explicitly as <em>not for this case</em> but allows the code to not fail! <a href=\"https://github.com/openjdk/jdk/blob/jdk-10%2B24/src/java.base/share/classes/sun/net/spi/DefaultProxySelector.java#L168\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/jdk-10%2B24/src/java.base/share/classes/sun/net/spi/DefaultProxySelector.java#L168</a> (i.e., this code <em>would</em> actually crash in normal situations, if not for a literally decades-old hacky workaround <em>for completely unrelated cases</em> - international domain names and domain names with underscore).</p>\n<p>Am I missing something obvious, or is it a stacked bug in the stdlib itself (and thus should be reported upstream)?</p>\n"},{"tags":["java","eclipse","selenium-webdriver","playwright-java"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":1,"creation_date":1683271920,"post_id":76179719,"comment_id":134344300,"body_markdown":"please read this and edit your question\n[how-to-ask](https://stackoverflow.com/help/how-to-ask)","body":"please read this and edit your question <a href=\"https://stackoverflow.com/help/how-to-ask\">how-to-ask</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1683281152,"post_id":76179719,"comment_id":134346132,"body_markdown":"[`getaddrinfo ENOTFOUND` means client was not able to connect to given address](https://stackoverflow.com/a/23259900/6505250). The error message looks like Java delegates to Node.js for downloading. Your IDE is pretty outdated. Maybe you use an outdated Node.js as well which might not be able to download via HTTP**S** with nowadays length of keys. Or maybe you are behind a proxy. Whatever, this does not seems to be related to Java or Eclipse.","body":"<a href=\"https://stackoverflow.com/a/23259900/6505250\"><code>getaddrinfo ENOTFOUND</code> means client was not able to connect to given address</a>. The error message looks like Java delegates to Node.js for downloading. Your IDE is pretty outdated. Maybe you use an outdated Node.js as well which might not be able to download via HTTP<b>S</b> with nowadays length of keys. Or maybe you are behind a proxy. Whatever, this does not seems to be related to Java or Eclipse."}],"owner":{"account_id":28514157,"reputation":1,"user_id":21823730,"display_name":"Arun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698947295,"creation_date":1683271288,"question_id":76179719,"body_markdown":"```none\r\nDownloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\r\nError: getaddrinfo ENOTFOUND playwright.azureedge.net\r\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\r\n  errno: -3008,\r\n  code: &#39;ENOTFOUND&#39;,\r\n  syscall: &#39;getaddrinfo&#39;,\r\n  hostname: &#39;playwright.azureedge.net&#39;\r\n}\r\nDownloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright-akamai.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\r\nError: getaddrinfo ENOTFOUND playwright-akamai.azureedge.net\r\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\r\n  errno: -3008,\r\n  code: &#39;ENOTFOUND&#39;,\r\n  syscall: &#39;getaddrinfo&#39;,\r\n  hostname: &#39;playwright-akamai.azureedge.net&#39;\r\n}\r\nDownloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright-verizon.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\r\nError: getaddrinfo ENOTFOUND playwright-verizon.azureedge.net\r\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\r\n  errno: -3008,\r\n  code: &#39;ENOTFOUND&#39;,\r\n  syscall: &#39;getaddrinfo&#39;,\r\n  hostname: &#39;playwright-verizon.azureedge.net&#39;\r\n}\r\nFailed to install browsers\r\nError: Failed to download Chromium 113.0.5672.53 (playwright build v1060), caused by\r\nError: Download failure, code=1\r\n    at ChildProcess.&lt;anonymous&gt; (C:\\Users\\abhi\\AppData\\Local\\Temp\\playwright-java-2390916958096346510\\package\\lib\\server\\registry\\browserFetcher.js:95:16)\r\n    at ChildProcess.emit (node:events:513:28)\r\n    at ChildProcess._handle.onexit (node:internal/child_process:291:12)\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Failed to create driver\r\n\tat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:105)\r\n\tat com.microsoft.playwright.impl.driver.Driver.ensureDriverInstalled(Driver.java:57)\r\n\tat com.microsoft.playwright.impl.PlaywrightImpl.createImpl(PlaywrightImpl.java:45)\r\n\tat com.microsoft.playwright.impl.PlaywrightImpl.create(PlaywrightImpl.java:35)\r\n\tat com.microsoft.playwright.Playwright.create(Playwright.java:110)\r\n\tat com.microsoft.playwright.Playwright.create(Playwright.java:114)\r\n\tat PlayWright.Demo.App.main(App.java:11)\r\nCaused by: java.lang.RuntimeException: Failed to install browsers, exit code: 1\r\n\tat com.microsoft.playwright.impl.driver.jar.DriverJar.installBrowsers(DriverJar.java:100)\r\n\tat com.microsoft.playwright.impl.driver.jar.DriverJar.initialize(DriverJar.java:69)\r\n\tat com.microsoft.playwright.impl.driver.Driver.initialize(Driver.java:64)\r\n\tat com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:101)\r\n\t... 6 more\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ASbg6.png","title":"Failed to install browsers in playwriter while running the script in eclipse","body":"<pre class=\"lang-none prettyprint-override\"><code>Downloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\nError: getaddrinfo ENOTFOUND playwright.azureedge.net\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\n  errno: -3008,\n  code: 'ENOTFOUND',\n  syscall: 'getaddrinfo',\n  hostname: 'playwright.azureedge.net'\n}\nDownloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright-akamai.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\nError: getaddrinfo ENOTFOUND playwright-akamai.azureedge.net\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\n  errno: -3008,\n  code: 'ENOTFOUND',\n  syscall: 'getaddrinfo',\n  hostname: 'playwright-akamai.azureedge.net'\n}\nDownloading Chromium 113.0.5672.53 (playwright build v1060)[2m from https://playwright-verizon.azureedge.net/builds/chromium/1060/chromium-win64.zip[22m\nError: getaddrinfo ENOTFOUND playwright-verizon.azureedge.net\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:internal/dns/promises:95:17) {\n  errno: -3008,\n  code: 'ENOTFOUND',\n  syscall: 'getaddrinfo',\n  hostname: 'playwright-verizon.azureedge.net'\n}\nFailed to install browsers\nError: Failed to download Chromium 113.0.5672.53 (playwright build v1060), caused by\nError: Download failure, code=1\n    at ChildProcess.&lt;anonymous&gt; (C:\\Users\\abhi\\AppData\\Local\\Temp\\playwright-java-2390916958096346510\\package\\lib\\server\\registry\\browserFetcher.js:95:16)\n    at ChildProcess.emit (node:events:513:28)\n    at ChildProcess._handle.onexit (node:internal/child_process:291:12)\nException in thread &quot;main&quot; java.lang.RuntimeException: Failed to create driver\n    at com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:105)\n    at com.microsoft.playwright.impl.driver.Driver.ensureDriverInstalled(Driver.java:57)\n    at com.microsoft.playwright.impl.PlaywrightImpl.createImpl(PlaywrightImpl.java:45)\n    at com.microsoft.playwright.impl.PlaywrightImpl.create(PlaywrightImpl.java:35)\n    at com.microsoft.playwright.Playwright.create(Playwright.java:110)\n    at com.microsoft.playwright.Playwright.create(Playwright.java:114)\n    at PlayWright.Demo.App.main(App.java:11)\nCaused by: java.lang.RuntimeException: Failed to install browsers, exit code: 1\n    at com.microsoft.playwright.impl.driver.jar.DriverJar.installBrowsers(DriverJar.java:100)\n    at com.microsoft.playwright.impl.driver.jar.DriverJar.initialize(DriverJar.java:69)\n    at com.microsoft.playwright.impl.driver.Driver.initialize(Driver.java:64)\n    at com.microsoft.playwright.impl.driver.Driver.createAndInstall(Driver.java:101)\n    ... 6 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ASbg6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ASbg6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jgit"],"answers":[{"comments":[{"owner":{"account_id":1938528,"reputation":4492,"user_id":1745356,"accept_rate":57,"display_name":"user1745356"},"score":5,"creation_date":1422025402,"post_id":28105276,"comment_id":44599076,"body_markdown":"turns out it is sufficient to include the token in the credentials provider. There is no need to reformat repository url. But anyways it works.","body":"turns out it is sufficient to include the token in the credentials provider. There is no need to reformat repository url. But anyways it works."},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1422029560,"post_id":28105276,"comment_id":44601989,"body_markdown":"@user1745356 Thanks for the feedback. I&#39;ve updated the answer accordingly.","body":"@user1745356 Thanks for the feedback. I&#39;ve updated the answer accordingly."},{"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"score":0,"creation_date":1423303658,"post_id":28105276,"comment_id":45100653,"body_markdown":"@R&#252;digerHerrmann I also have similar question which is using `jgit` [here](http://stackoverflow.com/questions/28380719/how-to-use-jgit-to-clone-the-existing-repositories-to-new-github-instance). If possible, can you help me out? Started learning `jgit` today so got stuck. Any help will be greatly appreciated.","body":"@R&#252;digerHerrmann I also have similar question which is using <code>jgit</code> <a href=\"http://stackoverflow.com/questions/28380719/how-to-use-jgit-to-clone-the-existing-repositories-to-new-github-instance\">here</a>. If possible, can you help me out? Started learning <code>jgit</code> today so got stuck. Any help will be greatly appreciated."},{"owner":{"account_id":124408,"reputation":1862,"user_id":319473,"accept_rate":88,"display_name":"sydd"},"score":1,"creation_date":1438711956,"post_id":28105276,"comment_id":51558190,"body_markdown":"@R&#252;digerHerrmann Did anyone test this for `git push`? I get back just `not authorized` when trying to push a tag I created. Also in the github URL do you need to substitute the `user/repo.git` part with the actual name/owner of the repo?","body":"@R&#252;digerHerrmann Did anyone test this for <code>git push</code>? I get back just <code>not authorized</code> when trying to push a tag I created. Also in the github URL do you need to substitute the <code>user&#47;repo.git</code> part with the actual name/owner of the repo?"},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":1,"creation_date":1438772156,"post_id":28105276,"comment_id":51583260,"body_markdown":"@sydd yes, this works for the `PushCommand` and yes you need to supply the actual username/repo.","body":"@sydd yes, this works for the <code>PushCommand</code> and yes you need to supply the actual username/repo."},{"owner":{"account_id":4005887,"reputation":265,"user_id":3300541,"display_name":"Santosh Sawant"},"score":3,"creation_date":1589985563,"post_id":28105276,"comment_id":109510707,"body_markdown":"This approach is not working for bitbucket. Any idea on how to connect to bitbucket using token?","body":"This approach is not working for bitbucket. Any idea on how to connect to bitbucket using token?"}],"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"comment_count":6,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1586929705,"creation_date":1421999412,"answer_id":28105276,"question_id":28073266,"body_markdown":"You need to pass a `UsernamePasswordCredentialsProvider` with the token as its user name.\r\n\r\n    String remoteUrl = &quot;https://${token}@github.com/user/repo.git&quot;;\r\n    CredentialsProvider credentialsProvider = new UsernamePasswordCredentialsProvider(&quot;${token}&quot;, &quot;&quot;);\r\n    git.push().setRemote(remoteUrl).setCredentialsProvider(credentialsProvider).call();\r\n\r\nThe above can at least be used to authenticate with a GitHub repository. Though, I can&#39;t say if this scheme works generally.","title":"How to use JGit to push changes to remote with OAuth access token","body":"<p>You need to pass a <code>UsernamePasswordCredentialsProvider</code> with the token as its user name.</p>\n\n<pre><code>String remoteUrl = \"https://${token}@github.com/user/repo.git\";\nCredentialsProvider credentialsProvider = new UsernamePasswordCredentialsProvider(\"${token}\", \"\");\ngit.push().setRemote(remoteUrl).setCredentialsProvider(credentialsProvider).call();\n</code></pre>\n\n<p>The above can at least be used to authenticate with a GitHub repository. Though, I can't say if this scheme works generally.</p>\n"},{"tags":[],"owner":{"account_id":21401283,"reputation":21,"user_id":15763374,"display_name":"Markus Hoffrogge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698946916,"creation_date":1698946916,"answer_id":77411782,"question_id":28073266,"body_markdown":"Using the GitHub Action token within a GitHub Actions step accordingly as username like this: `new UsernamePasswordCredentialsProvider(&quot;${{ github.token }}&quot;, &quot;&quot;)` - this did **NOT** succeed! - It did end up with authorization failing.\r\n\r\nI had to use the repositories owner name as user and the github action token as password like `new UsernamePasswordCredentialsProvider(&quot;${{ github.repository_owner }}&quot;, &quot;${{ github.token }}&quot;)` - that worked.\r\n\r\n**Note:** In actual JAVA code you will have to pass `${{ github.repository_owner }}` and `${{ github.token }}` from outside like e.g. java -D system properties since the `UsernamePasswordCredentialsProvider` constructor will not resolve the value of these github action variables.\r\n","title":"How to use JGit to push changes to remote with OAuth access token","body":"<p>Using the GitHub Action token within a GitHub Actions step accordingly as username like this: <code>new UsernamePasswordCredentialsProvider(&quot;${{ github.token }}&quot;, &quot;&quot;)</code> - this did <strong>NOT</strong> succeed! - It did end up with authorization failing.</p>\n<p>I had to use the repositories owner name as user and the github action token as password like <code>new UsernamePasswordCredentialsProvider(&quot;${{ github.repository_owner }}&quot;, &quot;${{ github.token }}&quot;)</code> - that worked.</p>\n<p><strong>Note:</strong> In actual JAVA code you will have to pass <code>${{ github.repository_owner }}</code> and <code>${{ github.token }}</code> from outside like e.g. java -D system properties since the <code>UsernamePasswordCredentialsProvider</code> constructor will not resolve the value of these github action variables.</p>\n"}],"owner":{"account_id":1938528,"reputation":4492,"user_id":1745356,"accept_rate":57,"display_name":"user1745356"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7670,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":28105276,"answer_count":2,"score":11,"last_activity_date":1698946916,"creation_date":1421861178,"question_id":28073266,"body_markdown":"I am able to push to remote with this piece of code \r\n\r\n    return git.push().setCredentialsProvider(new UsernamePasswordCredentialsProvider(user, password)).setRemote(&quot;origin&quot;).call();\r\n\r\nI also am able to get oauth access token with all necessary scopes. How do I push with access token?\r\n","title":"How to use JGit to push changes to remote with OAuth access token","body":"<p>I am able to push to remote with this piece of code </p>\n\n<pre><code>return git.push().setCredentialsProvider(new UsernamePasswordCredentialsProvider(user, password)).setRemote(\"origin\").call();\n</code></pre>\n\n<p>I also am able to get oauth access token with all necessary scopes. How do I push with access token?</p>\n"},{"tags":["java","java-8","playframework"],"answers":[{"tags":[],"owner":{"account_id":15908858,"reputation":395,"user_id":11479285,"display_name":"Ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609064383,"creation_date":1609064383,"answer_id":65464732,"question_id":65354475,"body_markdown":"You can try following code to open the port of active localhost server.\r\n  \r\n\r\n    Desktop desktop = Desktop.getDesktop();\r\n    URI url = new URI(&quot;http://localhost:9000/&quot;);\r\n    desktop.browse(url);\r\n\r\nOr else, if you need to access terminal commands then try this; but make sure your play project directory path. Now possibly run sbt commands inside java console using this.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    \r\n    \r\n    public class Cmd {\r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            Process process = Runtime.getRuntime()\r\n                    .exec(&quot;cmd /c dir&quot;, null, new File(&quot;C:\\\\Users\\\\&quot;));\r\n            //.exec(&quot;sh -c ls&quot;, null, new File(&quot;Pathname&quot;)); for non-Windows users\r\n            printResults(process);\r\n        }\r\n    \r\n        private static void printResults(Process process) throws IOException {\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line = &quot;&quot;;\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to Run or Start Play framework project through a Java Main method","body":"<p>You can try following code to open the port of active localhost server.</p>\n<pre><code>Desktop desktop = Desktop.getDesktop();\nURI url = new URI(&quot;http://localhost:9000/&quot;);\ndesktop.browse(url);\n</code></pre>\n<p>Or else, if you need to access terminal commands then try this; but make sure your play project directory path. Now possibly run sbt commands inside java console using this.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\n\n\npublic class Cmd {\n    public static void main(String[] args) throws IOException {\n\n        Process process = Runtime.getRuntime()\n                .exec(&quot;cmd /c dir&quot;, null, new File(&quot;C:\\\\Users\\\\&quot;));\n        //.exec(&quot;sh -c ls&quot;, null, new File(&quot;Pathname&quot;)); for non-Windows users\n        printResults(process);\n    }\n\n    private static void printResults(Process process) throws IOException {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line = &quot;&quot;;\n        while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6280617,"reputation":1,"user_id":4881757,"display_name":"kkriske"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698946575,"creation_date":1698946575,"answer_id":77411749,"question_id":65354475,"body_markdown":"You can construct a `play.Application` instance by using a `play.inject.guice.GuiceApplicationBuilder`.\r\n\r\nThe play documentation around this is focused on testing, but it works for standalone applications as well:\r\n```java\r\nApplication application =\r\n    new GuiceApplicationBuilder()\r\n        .build();\r\n```\r\nMore elaborate configuration options can be found in the play documentation.\r\n\r\nGuiceApplicationBuilder javadoc: https://www.playframework.com/documentation/2.8.x/api/java/play/inject/guice/GuiceApplicationBuilder.html\r\n\r\nPlay documentation: https://www.playframework.com/documentation/2.8.x/JavaTestingWithGuice","title":"How to Run or Start Play framework project through a Java Main method","body":"<p>You can construct a <code>play.Application</code> instance by using a <code>play.inject.guice.GuiceApplicationBuilder</code>.</p>\n<p>The play documentation around this is focused on testing, but it works for standalone applications as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Application application =\n    new GuiceApplicationBuilder()\n        .build();\n</code></pre>\n<p>More elaborate configuration options can be found in the play documentation.</p>\n<p>GuiceApplicationBuilder javadoc: <a href=\"https://www.playframework.com/documentation/2.8.x/api/java/play/inject/guice/GuiceApplicationBuilder.html\" rel=\"nofollow noreferrer\">https://www.playframework.com/documentation/2.8.x/api/java/play/inject/guice/GuiceApplicationBuilder.html</a></p>\n<p>Play documentation: <a href=\"https://www.playframework.com/documentation/2.8.x/JavaTestingWithGuice\" rel=\"nofollow noreferrer\">https://www.playframework.com/documentation/2.8.x/JavaTestingWithGuice</a></p>\n"}],"owner":{"display_name":"user12343552"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698946575,"creation_date":1608283481,"question_id":65354475,"body_markdown":"I started a play framework project and I need to run it through the java class main method.\r\nHere is my Java Class.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Tester {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Menu&quot;);\r\n        System.out.println(&quot;Press A to add&quot;);\r\n        System.out.println(&quot;Press D to Delete&quot;);\r\n        System.out.println(&quot;Press V to View&quot;);\r\n        System.out.println(&quot;Press G to Start Server&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;Please Enter Your Select: &quot;);\r\n        String select = scanner.nextLine();\r\n\r\n\r\n        switch (select){\r\n            case &quot;A&quot;:\r\n                // add method\r\n                break;\r\n            case &quot;D&quot;:\r\n                // delete method\r\n                break;\r\n            case &quot;V&quot;:\r\n                // view method\r\n                break;\r\n            case &quot;G&quot;:\r\n                // start server\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Something went wrong!&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat should come to the start server method ???","title":"How to Run or Start Play framework project through a Java Main method","body":"<p>I started a play framework project and I need to run it through the java class main method.\nHere is my Java Class.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Tester {\n    public static void main(String[] args) {\n        System.out.println(&quot;Menu&quot;);\n        System.out.println(&quot;Press A to add&quot;);\n        System.out.println(&quot;Press D to Delete&quot;);\n        System.out.println(&quot;Press V to View&quot;);\n        System.out.println(&quot;Press G to Start Server&quot;);\n        Scanner scanner = new Scanner(System.in);\n        System.out.print(&quot;Please Enter Your Select: &quot;);\n        String select = scanner.nextLine();\n\n\n        switch (select){\n            case &quot;A&quot;:\n                // add method\n                break;\n            case &quot;D&quot;:\n                // delete method\n                break;\n            case &quot;V&quot;:\n                // view method\n                break;\n            case &quot;G&quot;:\n                // start server\n                break;\n            default:\n                System.out.println(&quot;Something went wrong!&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>What should come to the start server method ???</p>\n"},{"tags":["java","eclipse-plugin","eclipse-jdt","language-server-protocol"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1698946122,"post_id":77411617,"comment_id":136471959,"body_markdown":"Do you have to use an LSP server? An Eclipse plug-in can use JDT APIs directly, for example see [here](https://www.vogella.com/tutorials/EclipseJDT/article.html)","body":"Do you have to use an LSP server? An Eclipse plug-in can use JDT APIs directly, for example see <a href=\"https://www.vogella.com/tutorials/EclipseJDT/article.html\" rel=\"nofollow noreferrer\">here</a>"}],"owner":{"account_id":17608614,"reputation":11,"user_id":15001611,"display_name":"Anton Kolesov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698945958,"creation_date":1698945190,"question_id":77411617,"body_markdown":"I want to expand the Java LSP server(jdt.ls) but I didn&#39;t find detailed documentation for it. I want to  \r\n\\-  access methods/annotations of classes;  \r\n\\-  add/turn off error highlighting in some cases.\r\n\r\nAre there any ways to do this? I will be glad to any examples.","title":"Ways to access class structure/adding or removing highlighting via eclipse.jdt.ls Plugin API","body":"<p>I want to expand the Java LSP server(jdt.ls) but I didn't find detailed documentation for it. I want to<br />\n-  access methods/annotations of classes;<br />\n-  add/turn off error highlighting in some cases.</p>\n<p>Are there any ways to do this? I will be glad to any examples.</p>\n"},{"tags":["java","mongodb","mongodb-query","bulkupdate"],"comments":[{"owner":{"account_id":2638471,"reputation":25855,"user_id":2282634,"display_name":"Joe"},"score":0,"creation_date":1699061178,"post_id":77411661,"comment_id":136488084,"body_markdown":"What does the BulkWriteResult look like?","body":"What does the BulkWriteResult look like?"}],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698945684,"creation_date":1698945684,"question_id":77411661,"body_markdown":"I have a query regarding MongoDB insertion of a new field . In a collection , there is an array of objects and I want to introduce a new field in the array. Usually, the array size in a record starts from 20. In case of 1000 records in a collection and each collection at least has 20 array objects , there is an update of 20000 times if we update one by one.\r\n\r\nI have written a java program to insert the field with true / false value. \r\n\r\n   \r\n\r\n    try (MongoClient mongoClient = MongoClients.create(connectionString)) {\r\n    \r\n    \r\n                    String result = EntityUtils.toString(entity);\r\n                    ObjectMapper objectMapper = new ObjectMapper();\r\n                    JsonNode jsonNode = objectMapper.readTree(result);\r\n                    ArrayNode jsonArray = (ArrayNode) jsonNode.get(&quot;data&quot;).get(&quot;measures&quot;);\r\n                    List&lt;String&gt; shortNames = new ArrayList&lt;&gt;();\r\n                    jsonArray.forEach(ele -&gt; {\r\n                        String values= ele.get(&quot;values&quot;).toString();\r\n                        shortNames.add(values.substring(1, values.length() - 1));\r\n                    });\r\n    \r\n                    MongoDatabase model = mongoClient.getDatabase(&quot;model&quot;);\r\n                    MongoCollection&lt;Document&gt; Collection = model .getCollection(&quot;BigMeasure&quot;);\r\n    \r\n                    List&lt;Document&gt; iterDoc = customModelCollection.find().into(new ArrayList&lt;&gt;());\r\n    \r\n                    for (Document document : iterDoc) {\r\n                        System.out.println(&quot; Name&quot; + document.getString(&quot;name&quot;));\r\n                        List&lt;Document&gt; info= (List&lt;Document&gt;) document.get(&quot;info&quot;);\r\n                        for (Document document1 : info) {\r\n                         \r\n                            Object obj = document1.get(&quot;varName&quot;);\r\n                            String varName = obj.toString();\r\n                            System.out.println(&quot;varName&quot; + varName);\r\n                            Collections.sort(shortNames);\r\n    \r\n    \r\n                            if (varName != null) {\r\n    \r\n                                if (shortNames.stream().anyMatch( x -&gt; x.equalsIgnoreCase(varName.trim()))) {\r\n                                    document1.put(&quot;isCorrectMeasure&quot;, true);\r\n                                } else {\r\n                                    document1.put(&quot;isCorrectMeasure&quot;, false);\r\n                                }\r\n    \r\n    \r\n                                Bson dMatch = Filters.eq(&quot;varName&quot;, document1.get(&quot;varName&quot;).toString());\r\n                                Bson filter = and(eq(&quot;_id&quot;, document.get(&quot;_id&quot;)), and(Filters.elemMatch(&quot;info&quot;, dMatch)));\r\n                                UpdateOptions options = new UpdateOptions().upsert(true);\r\n                                Bson update = set(&quot;info&quot;, info);\r\n                                bigMeasureCollection.updateOne(filter, update, options);\r\n    \r\n    \r\n                            }\r\n                        }\r\n                    }\r\n\r\nSo , I modified the above one to  \r\n\r\n   \r\n\r\n     Bson dMatch = Filters.eq(&quot;varName&quot;, document1.getString(&quot;varName&quot;));\r\n                                    Bson filter = and(eq(&quot;_id&quot;, document.get(&quot;_id&quot;)), and(Filters.elemMatch(&quot;info&quot;, dMatch)));\r\n                                    bulkUpdates.add(new UpdateOneModel&lt;&gt;(filter, set(&quot;info&quot;, info)));\r\n    \r\n     if (!bulkUpdates.isEmpty()) {\r\n                        BulkWriteOptions options = new BulkWriteOptions().ordered(false);\r\n                        bigMeasureCollection.bulkWrite(bulkUpdates, options);\r\n                    }\r\n\r\nThe last one is executed fine in local. However , fails in QA database where more number of records are there .. Neither no exception is seen in the code nor no updates in DB.\r\n\r\nCan anyone throw light on this?","title":"MongoDB bulk insertion in a collection not updates DB","body":"<p>I have a query regarding MongoDB insertion of a new field . In a collection , there is an array of objects and I want to introduce a new field in the array. Usually, the array size in a record starts from 20. In case of 1000 records in a collection and each collection at least has 20 array objects , there is an update of 20000 times if we update one by one.</p>\n<p>I have written a java program to insert the field with true / false value.</p>\n<pre><code>try (MongoClient mongoClient = MongoClients.create(connectionString)) {\n\n\n                String result = EntityUtils.toString(entity);\n                ObjectMapper objectMapper = new ObjectMapper();\n                JsonNode jsonNode = objectMapper.readTree(result);\n                ArrayNode jsonArray = (ArrayNode) jsonNode.get(&quot;data&quot;).get(&quot;measures&quot;);\n                List&lt;String&gt; shortNames = new ArrayList&lt;&gt;();\n                jsonArray.forEach(ele -&gt; {\n                    String values= ele.get(&quot;values&quot;).toString();\n                    shortNames.add(values.substring(1, values.length() - 1));\n                });\n\n                MongoDatabase model = mongoClient.getDatabase(&quot;model&quot;);\n                MongoCollection&lt;Document&gt; Collection = model .getCollection(&quot;BigMeasure&quot;);\n\n                List&lt;Document&gt; iterDoc = customModelCollection.find().into(new ArrayList&lt;&gt;());\n\n                for (Document document : iterDoc) {\n                    System.out.println(&quot; Name&quot; + document.getString(&quot;name&quot;));\n                    List&lt;Document&gt; info= (List&lt;Document&gt;) document.get(&quot;info&quot;);\n                    for (Document document1 : info) {\n                     \n                        Object obj = document1.get(&quot;varName&quot;);\n                        String varName = obj.toString();\n                        System.out.println(&quot;varName&quot; + varName);\n                        Collections.sort(shortNames);\n\n\n                        if (varName != null) {\n\n                            if (shortNames.stream().anyMatch( x -&gt; x.equalsIgnoreCase(varName.trim()))) {\n                                document1.put(&quot;isCorrectMeasure&quot;, true);\n                            } else {\n                                document1.put(&quot;isCorrectMeasure&quot;, false);\n                            }\n\n\n                            Bson dMatch = Filters.eq(&quot;varName&quot;, document1.get(&quot;varName&quot;).toString());\n                            Bson filter = and(eq(&quot;_id&quot;, document.get(&quot;_id&quot;)), and(Filters.elemMatch(&quot;info&quot;, dMatch)));\n                            UpdateOptions options = new UpdateOptions().upsert(true);\n                            Bson update = set(&quot;info&quot;, info);\n                            bigMeasureCollection.updateOne(filter, update, options);\n\n\n                        }\n                    }\n                }\n</code></pre>\n<p>So , I modified the above one to</p>\n<pre><code> Bson dMatch = Filters.eq(&quot;varName&quot;, document1.getString(&quot;varName&quot;));\n                                Bson filter = and(eq(&quot;_id&quot;, document.get(&quot;_id&quot;)), and(Filters.elemMatch(&quot;info&quot;, dMatch)));\n                                bulkUpdates.add(new UpdateOneModel&lt;&gt;(filter, set(&quot;info&quot;, info)));\n\n if (!bulkUpdates.isEmpty()) {\n                    BulkWriteOptions options = new BulkWriteOptions().ordered(false);\n                    bigMeasureCollection.bulkWrite(bulkUpdates, options);\n                }\n</code></pre>\n<p>The last one is executed fine in local. However , fails in QA database where more number of records are there .. Neither no exception is seen in the code nor no updates in DB.</p>\n<p>Can anyone throw light on this?</p>\n"},{"tags":["java","arrays","colors"],"comments":[{"owner":{"account_id":1292084,"reputation":1678,"user_id":1243985,"accept_rate":78,"display_name":"bas"},"score":0,"creation_date":1375123489,"post_id":17931741,"comment_id":26200585,"body_markdown":"how are you painting this to the screen? If you are doing this in an overrided paint() method you can call the `g.setColor(Color);` before each line","body":"how are you painting this to the screen? If you are doing this in an overrided paint() method you can call the <code>g.setColor(Color);</code> before each line"},{"owner":{"account_id":3099204,"reputation":115,"user_id":2623769,"accept_rate":0,"display_name":"Brad"},"score":0,"creation_date":1375123550,"post_id":17931741,"comment_id":26200627,"body_markdown":"@bas Wouldn&#39;t that change the color of every active mod?","body":"@bas Wouldn&#39;t that change the color of every active mod?"},{"owner":{"account_id":1292084,"reputation":1678,"user_id":1243985,"accept_rate":78,"display_name":"bas"},"score":0,"creation_date":1375123644,"post_id":17931741,"comment_id":26200687,"body_markdown":"if we are talking about text only, then no, they should take care of their own graphics","body":"if we are talking about text only, then no, they should take care of their own graphics"},{"owner":{"account_id":3099204,"reputation":115,"user_id":2623769,"accept_rate":0,"display_name":"Brad"},"score":0,"creation_date":1375123701,"post_id":17931741,"comment_id":26200725,"body_markdown":"@bas By the way, I draw the text to the screen at the last line. var8","body":"@bas By the way, I draw the text to the screen at the last line. var8"}],"answers":[{"comments":[{"owner":{"account_id":1292084,"reputation":1678,"user_id":1243985,"accept_rate":78,"display_name":"bas"},"score":0,"creation_date":1375136429,"post_id":17931861,"comment_id":26207019,"body_markdown":"Yes, that is why you need to check the current displayed mod and change the colour (for example with a method).","body":"Yes, that is why you need to check the current displayed mod and change the colour (for example with a method)."},{"owner":{"account_id":3099204,"reputation":115,"user_id":2623769,"accept_rate":0,"display_name":"Brad"},"score":0,"creation_date":1375136875,"post_id":17931861,"comment_id":26207175,"body_markdown":"How would I do that. Sorry I&#39;m new :/\nBy the way, multiple can be displayed at once.","body":"How would I do that. Sorry I&#39;m new :/ By the way, multiple can be displayed at once."}],"tags":[],"owner":{"account_id":1292084,"reputation":1678,"user_id":1243985,"accept_rate":78,"display_name":"bas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375167161,"creation_date":1375123787,"answer_id":17931861,"question_id":17931741,"body_markdown":"If you edit your code like this:\r\n\r\n    for(int guiInt = 0; guiInt &lt; arraygui.size(); guiInt++){\r\n        String curmod = arraygui.get(guiInt);\r\n        var8.setColor(this.getModColor(curmod));\r\n        var8.drawString(curmod, 5, gh, 0xFF0000);\r\n        // rest of your logic\r\n    }\r\n\r\n    /** This method gets your color for the specified mod\r\n      *\r\n      */\r\n    private Color getModColor(String mod)\r\n    {\r\n        switch (mod)\r\n        {\r\n            case &quot;KillAura&quot;: \r\n                return Color.green;\r\n            case &quot;ChestFinder&quot;:\r\n                return Color.red;\r\n        }\r\n\r\n        throw new Exception(&quot;This mod has no specified color&quot;);\r\n    }\r\n\r\nit should set the color you specify in the method `getModColor(String mod)` for each sentence.","title":"Change color of each individual mod on an arraylist?","body":"<p>If you edit your code like this:</p>\n\n<pre><code>for(int guiInt = 0; guiInt &lt; arraygui.size(); guiInt++){\n    String curmod = arraygui.get(guiInt);\n    var8.setColor(this.getModColor(curmod));\n    var8.drawString(curmod, 5, gh, 0xFF0000);\n    // rest of your logic\n}\n\n/** This method gets your color for the specified mod\n  *\n  */\nprivate Color getModColor(String mod)\n{\n    switch (mod)\n    {\n        case \"KillAura\": \n            return Color.green;\n        case \"ChestFinder\":\n            return Color.red;\n    }\n\n    throw new Exception(\"This mod has no specified color\");\n}\n</code></pre>\n\n<p>it should set the color you specify in the method <code>getModColor(String mod)</code> for each sentence.</p>\n"}],"owner":{"account_id":3099204,"reputation":115,"user_id":2623769,"accept_rate":0,"display_name":"Brad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698945618,"creation_date":1375123351,"question_id":17931741,"body_markdown":"I am making a modded client for a game called Minecraft. My array list will display the mods you have on in the top left of the screen. How do I change the colors of each individual mod? Ex. KillAura will be green and ChestFinder will be red. Thanks\r\n\r\n\r\n\r\n    //Arraylist GUI\r\n        \t\r\n        \tif(Camb.killaura){\r\n        \t\tif(!arraygui.contains(&quot;KillAura&quot;)){\r\n        \t\t\tarraygui.add(&quot;KillAura&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;KillAura&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;KillAura&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.chestfinder){\r\n        \t\tif(!arraygui.contains(&quot;ChestFinder&quot;)){\r\n        \t\t\tarraygui.add(&quot;ChestFinder&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;ChestFinder&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;ChestFinder&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.fullbright){\r\n        \t\tif(!arraygui.contains(&quot;FullBright&quot;)){\r\n        \t\t\tarraygui.add(&quot;FullBright&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;FullBright&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;FullBright&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.tracers){\r\n        \t\tif(!arraygui.contains(&quot;Tracers&quot;)){\r\n        \t\t\tarraygui.add(&quot;Tracers&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;Tracers&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;Tracers&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.autowalk){\r\n        \t\tif(!arraygui.contains(&quot;AutoWalk&quot;)){\r\n        \t\t\tarraygui.add(&quot;AutoWalk&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;AutoWalk&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;AutoWalk&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.noweather){\r\n        \t\tif(!arraygui.contains(&quot;NoWeather&quot;)){\r\n        \t\t\tarraygui.add(&quot;NoWeather&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;NoWeather&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;NoWeather&quot;));\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        \tif(Camb.sneak){\r\n        \t\tif(!arraygui.contains(&quot;Sneak&quot;)){\r\n        \t\t\tarraygui.add(&quot;Sneak&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;Sneak&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;Sneak&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.nocheat){\r\n        \t\tif(!arraygui.contains(&quot;NoCheat&quot;)){\r\n        \t\t\tarraygui.add(&quot;NoCheat&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;NoCheat&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;NoCheat&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.nofall){\r\n        \t\tif(!arraygui.contains(&quot;NoFall&quot;)){\r\n        \t\t\tarraygui.add(&quot;NoFall&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;NoFall&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;NoFall&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.xray){\r\n        \t\tif(!arraygui.contains(&quot;X-Ray&quot;)){\r\n        \t\t\tarraygui.add(&quot;X-Ray&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;X-Ray&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;X-Ray&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.speedmine){\r\n        \t\tif(!arraygui.contains(&quot;Speedy Gonzales&quot;)){\r\n        \t\t\tarraygui.add(&quot;Speedy Gonzales&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;Speedy Gonzales&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;Speedy Gonzales&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.criticals){\r\n        \t\tif(!arraygui.contains(&quot;Criticals&quot;)){\r\n        \t\t\tarraygui.add(&quot;Criticals&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;Criticals&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;Criticals&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.flight){\r\n        \t\tif(!arraygui.contains(&quot;Flight&quot;)){\r\n        \t\t\tarraygui.add(&quot;Flight&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;Flight&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;Flight&quot;));\r\n        \t\t}\r\n        \t}\r\n        \tif(Camb.wallhack){\r\n        \t\tif(!arraygui.contains(&quot;WallHack&quot;)){\r\n        \t\t\tarraygui.add(&quot;WallHack&quot;);\r\n        \t\t}\r\n        \t}else{\r\n        \t\tif(arraygui.contains(&quot;WallHack&quot;)){\r\n        \t\t\tarraygui.remove(arraygui.indexOf(&quot;WallHack&quot;));\r\n        \t\t}\r\n        \t}\r\n    int gh = 17;\r\n        \tfor(int guiInt = 0; guiInt &lt; arraygui.size(); guiInt++){\r\n        \t\t\r\n        \t\tvar8.drawString(&quot;&quot; + arraygui.get(guiInt), 5, gh, 0xFF0000);\r\n        \t","title":"Change color of each individual mod on an arraylist?","body":"<p>I am making a modded client for a game called Minecraft. My array list will display the mods you have on in the top left of the screen. How do I change the colors of each individual mod? Ex. KillAura will be green and ChestFinder will be red. Thanks</p>\n\n<pre><code>//Arraylist GUI\n\n        if(Camb.killaura){\n            if(!arraygui.contains(\"KillAura\")){\n                arraygui.add(\"KillAura\");\n            }\n        }else{\n            if(arraygui.contains(\"KillAura\")){\n                arraygui.remove(arraygui.indexOf(\"KillAura\"));\n            }\n        }\n        if(Camb.chestfinder){\n            if(!arraygui.contains(\"ChestFinder\")){\n                arraygui.add(\"ChestFinder\");\n            }\n        }else{\n            if(arraygui.contains(\"ChestFinder\")){\n                arraygui.remove(arraygui.indexOf(\"ChestFinder\"));\n            }\n        }\n        if(Camb.fullbright){\n            if(!arraygui.contains(\"FullBright\")){\n                arraygui.add(\"FullBright\");\n            }\n        }else{\n            if(arraygui.contains(\"FullBright\")){\n                arraygui.remove(arraygui.indexOf(\"FullBright\"));\n            }\n        }\n        if(Camb.tracers){\n            if(!arraygui.contains(\"Tracers\")){\n                arraygui.add(\"Tracers\");\n            }\n        }else{\n            if(arraygui.contains(\"Tracers\")){\n                arraygui.remove(arraygui.indexOf(\"Tracers\"));\n            }\n        }\n        if(Camb.autowalk){\n            if(!arraygui.contains(\"AutoWalk\")){\n                arraygui.add(\"AutoWalk\");\n            }\n        }else{\n            if(arraygui.contains(\"AutoWalk\")){\n                arraygui.remove(arraygui.indexOf(\"AutoWalk\"));\n            }\n        }\n        if(Camb.noweather){\n            if(!arraygui.contains(\"NoWeather\")){\n                arraygui.add(\"NoWeather\");\n            }\n        }else{\n            if(arraygui.contains(\"NoWeather\")){\n                arraygui.remove(arraygui.indexOf(\"NoWeather\"));\n            }\n        }\n\n        if(Camb.sneak){\n            if(!arraygui.contains(\"Sneak\")){\n                arraygui.add(\"Sneak\");\n            }\n        }else{\n            if(arraygui.contains(\"Sneak\")){\n                arraygui.remove(arraygui.indexOf(\"Sneak\"));\n            }\n        }\n        if(Camb.nocheat){\n            if(!arraygui.contains(\"NoCheat\")){\n                arraygui.add(\"NoCheat\");\n            }\n        }else{\n            if(arraygui.contains(\"NoCheat\")){\n                arraygui.remove(arraygui.indexOf(\"NoCheat\"));\n            }\n        }\n        if(Camb.nofall){\n            if(!arraygui.contains(\"NoFall\")){\n                arraygui.add(\"NoFall\");\n            }\n        }else{\n            if(arraygui.contains(\"NoFall\")){\n                arraygui.remove(arraygui.indexOf(\"NoFall\"));\n            }\n        }\n        if(Camb.xray){\n            if(!arraygui.contains(\"X-Ray\")){\n                arraygui.add(\"X-Ray\");\n            }\n        }else{\n            if(arraygui.contains(\"X-Ray\")){\n                arraygui.remove(arraygui.indexOf(\"X-Ray\"));\n            }\n        }\n        if(Camb.speedmine){\n            if(!arraygui.contains(\"Speedy Gonzales\")){\n                arraygui.add(\"Speedy Gonzales\");\n            }\n        }else{\n            if(arraygui.contains(\"Speedy Gonzales\")){\n                arraygui.remove(arraygui.indexOf(\"Speedy Gonzales\"));\n            }\n        }\n        if(Camb.criticals){\n            if(!arraygui.contains(\"Criticals\")){\n                arraygui.add(\"Criticals\");\n            }\n        }else{\n            if(arraygui.contains(\"Criticals\")){\n                arraygui.remove(arraygui.indexOf(\"Criticals\"));\n            }\n        }\n        if(Camb.flight){\n            if(!arraygui.contains(\"Flight\")){\n                arraygui.add(\"Flight\");\n            }\n        }else{\n            if(arraygui.contains(\"Flight\")){\n                arraygui.remove(arraygui.indexOf(\"Flight\"));\n            }\n        }\n        if(Camb.wallhack){\n            if(!arraygui.contains(\"WallHack\")){\n                arraygui.add(\"WallHack\");\n            }\n        }else{\n            if(arraygui.contains(\"WallHack\")){\n                arraygui.remove(arraygui.indexOf(\"WallHack\"));\n            }\n        }\nint gh = 17;\n        for(int guiInt = 0; guiInt &lt; arraygui.size(); guiInt++){\n\n            var8.drawString(\"\" + arraygui.get(guiInt), 5, gh, 0xFF0000);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1698945584,"post_id":77411646,"comment_id":136471853,"body_markdown":"It is an anonymous, derived class. See, for example, [this tutorial over at `oracle.com`](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html).","body":"It is an anonymous, derived class. See, for example, <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">this tutorial over at <code>oracle.com</code></a>."},{"owner":{"account_id":22259,"reputation":53888,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"score":0,"creation_date":1698945812,"post_id":77411646,"comment_id":136471894,"body_markdown":"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9.5","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.9.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/&hellip;</a>"}],"owner":{"account_id":8520932,"reputation":1,"user_id":8605381,"display_name":"Junior"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698945568,"creation_date":1698945487,"question_id":77411646,"body_markdown":" //I am writing a Bluetooth application. This is the first time I see an instance of a class with a body. `DiscoveryListener listener = new DiscoveryListener() {};` What&#39;s it? I see this for the first time so that when creating an instance of a class there was a body ? At the instance, please explain, I have not met such a design.\r\n\r\n\r\n\r\n            DiscoveryListener listener = new DiscoveryListener() {\r\n\r\n                public void deviceDiscovered(RemoteDevice btDevice, DeviceClass cod) {\r\n                   \r\n                    devicesDiscovered.addElement(btDevice);\r\n                }\r\n          \r\n                public void inquiryCompleted(int discType) {\r\n               \r\n                    synchronized (inquiryCompletedEvent) {\r\n                        inquiryCompletedEvent.notifyAll();\r\n                    }\r\n                }\r\n                public void serviceSearchCompleted(int transID, int respCode) {\r\n\r\n                }\r\n                public void servicesDiscovered(int transID, ServiceRecord[] servRecord) {\r\n                }\r\n            };\r\n\r\ntried the implementation of the interface ","title":"instance of a class with a body","body":"<p>//I am writing a Bluetooth application. This is the first time I see an instance of a class with a body. <code>DiscoveryListener listener = new DiscoveryListener() {};</code> What's it? I see this for the first time so that when creating an instance of a class there was a body ? At the instance, please explain, I have not met such a design.</p>\n<pre><code>        DiscoveryListener listener = new DiscoveryListener() {\n\n            public void deviceDiscovered(RemoteDevice btDevice, DeviceClass cod) {\n               \n                devicesDiscovered.addElement(btDevice);\n            }\n      \n            public void inquiryCompleted(int discType) {\n           \n                synchronized (inquiryCompletedEvent) {\n                    inquiryCompletedEvent.notifyAll();\n                }\n            }\n            public void serviceSearchCompleted(int transID, int respCode) {\n\n            }\n            public void servicesDiscovered(int transID, ServiceRecord[] servRecord) {\n            }\n        };\n</code></pre>\n<p>tried the implementation of the interface</p>\n"},{"tags":["java","jvm","java-bytecode-asm"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1698926219,"post_id":77408997,"comment_id":136467637,"body_markdown":"It is unclear to me what you are asking. How are you using ASM? Please read [How  to Ask](https://stackoverflow.com/help/how-to-ask) and improve your question.","body":"It is unclear to me what you are asking. How are you using ASM? Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How  to Ask</a> and improve your question."},{"owner":{"account_id":17437598,"reputation":537,"user_id":12640305,"display_name":"maki"},"score":0,"creation_date":1698927824,"post_id":77408997,"comment_id":136467924,"body_markdown":"@aled  I have added the question. I think it is very clear, could you explain which part is not clear? It is unrelated to how I use it I think, it is the mechanism of ASM itself.","body":"@aled  I have added the question. I think it is very clear, could you explain which part is not clear? It is unrelated to how I use it I think, it is the mechanism of ASM itself."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698928560,"post_id":77408997,"comment_id":136468085,"body_markdown":"It seems explained in the article you linked how the library is used. Have you tried it?","body":"It seems explained in the article you linked how the library is used. Have you tried it?"},{"owner":{"account_id":17437598,"reputation":537,"user_id":12640305,"display_name":"maki"},"score":0,"creation_date":1698997986,"post_id":77408997,"comment_id":136477858,"body_markdown":"yep. But now I think I didn&#39;t understand in the right direction at all at that time.","body":"yep. But now I think I didn&#39;t understand in the right direction at all at that time."}],"answers":[{"comments":[{"owner":{"account_id":17437598,"reputation":537,"user_id":12640305,"display_name":"maki"},"score":0,"creation_date":1698998925,"post_id":77410392,"comment_id":136477997,"body_markdown":"thank you so much. I somehow thought it was an out-of-box lib and was very confused about the missing link. Thanks for explaining in detail  &quot;it‚Äôs your own responsibility to use this byte array to effectively change a class&quot; !","body":"thank you so much. I somehow thought it was an out-of-box lib and was very confused about the missing link. Thanks for explaining in detail  &quot;it‚Äôs your own responsibility to use this byte array to effectively change a class&quot; !"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1698999200,"post_id":77410392,"comment_id":136478033,"body_markdown":"Well, there‚Äôs the [Byte Buddy](https://bytebuddy.net/) library which settles atop the ASM library and implements some of the options listed in this answer. It also provides a simple API for common use cases.","body":"Well, there‚Äôs the <a href=\"https://bytebuddy.net/\" rel=\"nofollow noreferrer\">Byte Buddy</a> library which settles atop the ASM library and implements some of the options listed in this answer. It also provides a simple API for common use cases."},{"owner":{"account_id":17437598,"reputation":537,"user_id":12640305,"display_name":"maki"},"score":0,"creation_date":1699000183,"post_id":77410392,"comment_id":136478187,"body_markdown":"let me have a look at this cute buddy thanks !","body":"let me have a look at this cute buddy thanks !"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698934942,"creation_date":1698934942,"answer_id":77410392,"question_id":77408997,"body_markdown":"The ASM library is not responsible for changing bytecode at all. It‚Äôs a tool for transforming a sequence of bytes (in the class file format) into another sequence of bytes (again in the class file format), though you could also use it for just analyzing class files or generating class files from scratch.\r\n\r\nSo what you get at the end, is [just a byte array].\r\n\r\nSince it‚Äôs your own responsibility to use this byte array to effectively change a class (if that‚Äôs what you want), you are the one deciding how and when the changes apply.\r\n\r\n - You can read and write class files in a filesystem which is as trivial as reading and writing bytes from and to files. These changes will become effective the next time you start a JVM using this location as classpath or module path. If there‚Äôs a JVM already running using this location, the change may become effective when the class is loaded if it hasn‚Äôt been loaded yet.\r\n\r\n - You can use [`defineClass`] on a `MethodHandles.Lookup` to inject a class into an existing context which will supersede an existing class definition *if it has not been loaded yet*\r\n\r\n - You can create a custom [`ClassLoader`] using your changed class definitions which is technically not changing classes but creating a new version in its own context. This may still be feasible for some use cases.\r\n\r\n - Actually changing classes at runtime can be done through Agents or a Debugger. Java Agents can use the [Instrumentation API] which allows to install class file transformers to be invoked on demand or actively trigger a transformation. The API allows both, load time transformation or changing an already loaded class but permitted changes to already loaded classes [are limited].\r\n   &gt; The redefinition may change method bodies, the constant pool and attributes (unless explicitly prohibited). The redefinition must not add, remove or rename fields or methods, change the signatures of methods, change modifiers, or change inheritance. The redefinition must not change the `NestHost`, `NestMembers`, `Record`, or `PermittedSubclasses` attributes.\r\n\r\n[just a byte array]: https://asm.ow2.io/javadoc/org/objectweb/asm/ClassWriter.html#toByteArray()\r\n[`defineClass`]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass(byte%5B%5D)\r\n[`ClassLoader`]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ClassLoader.html\r\n[Instrumentation API]: https://docs.oracle.com/en/java/javase/21/docs/api/java.instrument/java/lang/instrument/package-summary.html\r\n[are limited]: https://docs.oracle.com/en/java/javase/21/docs/specs/jvmti.html#RedefineClasses:~:text=The%20redefinition%20may,or%20PermittedSubclasses%20attributes.","title":"How to find out whether the ASM java instrumentation happens at compile time OR at runtime?","body":"<p>The ASM library is not responsible for changing bytecode at all. It‚Äôs a tool for transforming a sequence of bytes (in the class file format) into another sequence of bytes (again in the class file format), though you could also use it for just analyzing class files or generating class files from scratch.</p>\n<p>So what you get at the end, is <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/ClassWriter.html#toByteArray()\" rel=\"nofollow noreferrer\">just a byte array</a>.</p>\n<p>Since it‚Äôs your own responsibility to use this byte array to effectively change a class (if that‚Äôs what you want), you are the one deciding how and when the changes apply.</p>\n<ul>\n<li><p>You can read and write class files in a filesystem which is as trivial as reading and writing bytes from and to files. These changes will become effective the next time you start a JVM using this location as classpath or module path. If there‚Äôs a JVM already running using this location, the change may become effective when the class is loaded if it hasn‚Äôt been loaded yet.</p>\n</li>\n<li><p>You can use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineClass(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>defineClass</code></a> on a <code>MethodHandles.Lookup</code> to inject a class into an existing context which will supersede an existing class definition <em>if it has not been loaded yet</em></p>\n</li>\n<li><p>You can create a custom <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\"><code>ClassLoader</code></a> using your changed class definitions which is technically not changing classes but creating a new version in its own context. This may still be feasible for some use cases.</p>\n</li>\n<li><p>Actually changing classes at runtime can be done through Agents or a Debugger. Java Agents can use the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.instrument/java/lang/instrument/package-summary.html\" rel=\"nofollow noreferrer\">Instrumentation API</a> which allows to install class file transformers to be invoked on demand or actively trigger a transformation. The API allows both, load time transformation or changing an already loaded class but permitted changes to already loaded classes <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/jvmti.html#RedefineClasses:%7E:text=The%20redefinition%20may,or%20PermittedSubclasses%20attributes.\" rel=\"nofollow noreferrer\">are limited</a>.</p>\n<blockquote>\n<p>The redefinition may change method bodies, the constant pool and attributes (unless explicitly prohibited). The redefinition must not add, remove or rename fields or methods, change the signatures of methods, change modifiers, or change inheritance. The redefinition must not change the <code>NestHost</code>, <code>NestMembers</code>, <code>Record</code>, or <code>PermittedSubclasses</code> attributes.</p>\n</blockquote>\n</li>\n</ul>\n"}],"owner":{"account_id":17437598,"reputation":537,"user_id":12640305,"display_name":"maki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77410392,"answer_count":1,"score":0,"last_activity_date":1698945470,"creation_date":1698922514,"question_id":77408997,"body_markdown":"I am a bit new to the Java ecosystem. I am reading the ASM way (in this doc https://www.baeldung.com/java-asm ) to do Java instrumentation.\r\n\r\nAnd I don&#39;t know when ASM changes the byte code, to be specific it takes effect in compile time and changes the class directly OR it changes the code at the runtime of class loading.","title":"How to find out whether the ASM java instrumentation happens at compile time OR at runtime?","body":"<p>I am a bit new to the Java ecosystem. I am reading the ASM way (in this doc <a href=\"https://www.baeldung.com/java-asm\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-asm</a> ) to do Java instrumentation.</p>\n<p>And I don't know when ASM changes the byte code, to be specific it takes effect in compile time and changes the class directly OR it changes the code at the runtime of class loading.</p>\n"},{"tags":["java","android"],"owner":{"account_id":29812679,"reputation":1,"user_id":22847730,"display_name":"Kapeesh Upadhyay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698945146,"creation_date":1698945146,"question_id":77411610,"body_markdown":"React native call Soloader.int() function in onCreate function in MainApplication.java. \r\nWhat is the use of it?\r\nwhat are the exact .so files that it loades?\r\nWhy solader is used as in its documentation it is mentioned that do not use it above API level 23?\r\nWhat happens if we do not init Soloader.int() above API level &gt; 23?\r\nhttps://github.com/facebook/SoLoader\r\n\r\nWe tried to run application by removing Soloade.int() and it works fine.","title":"Soloader in React Native","body":"<p>React native call Soloader.int() function in onCreate function in MainApplication.java.\nWhat is the use of it?\nwhat are the exact .so files that it loades?\nWhy solader is used as in its documentation it is mentioned that do not use it above API level 23?\nWhat happens if we do not init Soloader.int() above API level &gt; 23?\n<a href=\"https://github.com/facebook/SoLoader\" rel=\"nofollow noreferrer\">https://github.com/facebook/SoLoader</a></p>\n<p>We tried to run application by removing Soloade.int() and it works fine.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9831,"page":86,"page_size":100}
