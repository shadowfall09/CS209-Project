{"items":[{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676107658,"post_id":75418979,"comment_id":133074182,"body_markdown":"Are the conf and lib folders packed into the non-maven jar? Does the non-maven jars META-INF/MANIFEST.MF include references to these locations in the jar.","body":"Are the conf and lib folders packed into the non-maven jar? Does the non-maven jars META-INF/MANIFEST.MF include references to these locations in the jar."},{"owner":{"account_id":18201145,"reputation":121,"user_id":13245271,"display_name":"k_plan"},"score":0,"creation_date":1676251029,"post_id":75418979,"comment_id":133094088,"body_markdown":"@JohnWilliams There are contents in the said MANIFEST.MF, however while they are about some of the jars, but none explicitly pointed them to the said folders","body":"@JohnWilliams There are contents in the said MANIFEST.MF, however while they are about some of the jars, but none explicitly pointed them to the said folders"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676311098,"post_id":75418979,"comment_id":133107837,"body_markdown":"The references to sub-dependency jars needs to be in MANIFEST.MF and these jars need to be META-INF/lib for Java to access them. Perhaps maven-dependency-plugin and the dependency:copy mojo suggested by BIll&#39;s answer below does this.","body":"The references to sub-dependency jars needs to be in MANIFEST.MF and these jars need to be META-INF/lib for Java to access them. Perhaps maven-dependency-plugin and the dependency:copy mojo suggested by BIll&#39;s answer below does this."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676108418,"creation_date":1676108418,"answer_id":75419283,"question_id":75418979,"body_markdown":"This is done using the `maven-dependency-plugin` and the `dependency:copy` mojo.\r\n\r\nSee https://maven.apache.org/plugins/maven-dependency-plugin/copy-mojo.html#dependency-copy","title":"How to install custom folders and jars from non-maven project into maven project","body":"<p>This is done using the <code>maven-dependency-plugin</code> and the <code>dependency:copy</code> mojo.</p>\n<p>See <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/copy-mojo.html#dependency-copy\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/copy-mojo.html#dependency-copy</a></p>\n"}],"owner":{"account_id":18201145,"reputation":121,"user_id":13245271,"display_name":"k_plan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676108418,"creation_date":1676104511,"question_id":75418979,"body_markdown":"I have been trying to install/use a non-maven project as a dependency to my maven project. I was able to get it installed following this guide I have found - [here][1]\r\n\r\nHowever, my non-maven jar only partially works in my maven project. Reason being it is unable to read its conf/ and its custom lib/ (which contains other jars) folders.\r\n\r\nThe folder structure of the non-maven project is as follows:\r\n\r\n    |-- non-maven-proj\r\n    |--|-- conf/\r\n    |--|-- lib/\r\n    |--|-- src/\r\n    |--|-- target/ \r\n\r\nAnd so, are they any ways in which I can configure my maven project pom.xml such that it will copies/ install the non-maven-project conf/ and lib/ into the maven project target/ folder upon build?\r\n\r\nBelow is the folder structure I am trying to achieve.\r\nPS. The lib/ folder is suppose to contain all the jars that the maven project is using alongside with the jars that were used in the non-maven-project too.\r\n\r\n    |-- maven-project\r\n    |--|-- src/\r\n    |--|-- target/\r\n    |--|--|-- conf/\r\n    |--|--|-- lib/\r\n\r\nI have tried looking for ways to do it but unable to find any results.\r\n\r\nAppreciate in advance for any advices.\r\n\r\n  [1]: https://gist.github.com/mnadeem/3dbb3f3d23d46e81d995a7f3bf2b208e","title":"How to install custom folders and jars from non-maven project into maven project","body":"<p>I have been trying to install/use a non-maven project as a dependency to my maven project. I was able to get it installed following this guide I have found - <a href=\"https://gist.github.com/mnadeem/3dbb3f3d23d46e81d995a7f3bf2b208e\" rel=\"nofollow noreferrer\">here</a></p>\n<p>However, my non-maven jar only partially works in my maven project. Reason being it is unable to read its conf/ and its custom lib/ (which contains other jars) folders.</p>\n<p>The folder structure of the non-maven project is as follows:</p>\n<pre><code>|-- non-maven-proj\n|--|-- conf/\n|--|-- lib/\n|--|-- src/\n|--|-- target/ \n</code></pre>\n<p>And so, are they any ways in which I can configure my maven project pom.xml such that it will copies/ install the non-maven-project conf/ and lib/ into the maven project target/ folder upon build?</p>\n<p>Below is the folder structure I am trying to achieve.\nPS. The lib/ folder is suppose to contain all the jars that the maven project is using alongside with the jars that were used in the non-maven-project too.</p>\n<pre><code>|-- maven-project\n|--|-- src/\n|--|-- target/\n|--|--|-- conf/\n|--|--|-- lib/\n</code></pre>\n<p>I have tried looking for ways to do it but unable to find any results.</p>\n<p>Appreciate in advance for any advices.</p>\n"},{"tags":["java","postgresql","hibernate","jpa","replication"],"comments":[{"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"score":0,"creation_date":1411049216,"post_id":25911359,"comment_id":40564318,"body_markdown":"I&#39;d have two persistence units - one for read-only, and one for read-write, work. The read-only one might point to a PgBouncer that backs on to multiple PostgreSQL replicas. Then I&#39;d pick which to use based on the particular method invoked on my data access abstraction objects and other relevant context. You have to think very carefully about logical consistency if you do this though, and avoid read/modify/write cycles.","body":"I&#39;d have two persistence units - one for read-only, and one for read-write, work. The read-only one might point to a PgBouncer that backs on to multiple PostgreSQL replicas. Then I&#39;d pick which to use based on the particular method invoked on my data access abstraction objects and other relevant context. You have to think very carefully about logical consistency if you do this though, and avoid read/modify/write cycles."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1411385422,"post_id":25911359,"comment_id":40668212,"body_markdown":"**User tracking** is an area that can be optimized, if not already done: separation into R/O + R+W tables, session held cache, written out. **Archiving tables** that only receive new records, but the records being immutable, can be split too in R/O and R+W, possibly with DB triggers.","body":"<b>User tracking</b> is an area that can be optimized, if not already done: separation into R/O + R+W tables, session held cache, written out. <b>Archiving tables</b> that only receive new records, but the records being immutable, can be split too in R/O and R+W, possibly with DB triggers."}],"answers":[{"tags":[],"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1411512967,"creation_date":1411512967,"answer_id":26005985,"question_id":25911359,"body_markdown":"You are saying that your application URL&#39;s are only 10% read only so the other 90% have at least some form of database writing.\r\n\r\n**10% READ**\r\n\r\nYou can think about using a [CQRS design][1] that may improve your database read performance. It can certainly read from the secondary database, and possibly be made more efficient by designing the queries and domain models specifically for the read/view layer.\r\n\r\nYou haven&#39;t said whether the 10% requests are expensive or not (e.g. running reports)\r\n\r\nI would prefer to use a separate sessionFactory if you were to follow the CQRS design as the objects being loaded/cached will most likely be different to those being written.\r\n\r\n**90% WRITE**\r\n\r\nAs far as the other 90% go, you wouldn&#39;t want to read from the secondary database (while writing to the primary) during some write logic as you will not want potentially stale data involved.\r\n\r\nSome of these reads are likely to be looking up &quot;static&quot; data. If Hibernate&#39;s caching is not reducing database hits for reads, I would consider an in memory cache like [Memcached][2] or Redis for this type of data. This same cache could be used by both 10%-Read and 90%-write processes.\r\n\r\nFor reads that are not static (i.e. reading data you have recently written) Hibernate should hold data in its object cache if its&#39; sized appropriately. Can you determine your cache hit/miss performance?\r\n\r\n**QUARTZ**\r\n\r\nIf you know for sure that a scheduled job won&#39;t impact the same set of data as another job, you could run them against different databases, however if in doubt always perform batch updates to one (primary) server and replicate changes out. It is better to be logically correct, than to introduce replication issues.\r\n\r\n**DB PARTITIONING**\r\n\r\nIf your 1,000 requests per second are writing a lot of data, look at [partitioning][3] your database. You may find you have ever growing tables. Partitioning is one way to address this without archiving data.\r\n\r\nSometimes you need little or no change to your application code.\r\n\r\nArchiving is obviously another option\r\n\r\n*Disclaimer: Any question like this is always going to be application specific. Always try to keep your architecture as simple as possible.* \r\n\r\n\r\n  [1]: http://martinfowler.com/bliki/CQRS.html\r\n  [2]: https://code.google.com/p/hibernate-memcached/\r\n  [3]: http://www.postgresql.org/docs/9.1/static/ddl-partitioning.html\r\n  [4]: http://en.wikipedia.org/wiki/Shard_(database_architecture)","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>You are saying that your application URL's are only 10% read only so the other 90% have at least some form of database writing.</p>\n\n<p><strong>10% READ</strong></p>\n\n<p>You can think about using a <a href=\"http://martinfowler.com/bliki/CQRS.html\" rel=\"noreferrer\">CQRS design</a> that may improve your database read performance. It can certainly read from the secondary database, and possibly be made more efficient by designing the queries and domain models specifically for the read/view layer.</p>\n\n<p>You haven't said whether the 10% requests are expensive or not (e.g. running reports)</p>\n\n<p>I would prefer to use a separate sessionFactory if you were to follow the CQRS design as the objects being loaded/cached will most likely be different to those being written.</p>\n\n<p><strong>90% WRITE</strong></p>\n\n<p>As far as the other 90% go, you wouldn't want to read from the secondary database (while writing to the primary) during some write logic as you will not want potentially stale data involved.</p>\n\n<p>Some of these reads are likely to be looking up \"static\" data. If Hibernate's caching is not reducing database hits for reads, I would consider an in memory cache like <a href=\"https://code.google.com/p/hibernate-memcached/\" rel=\"noreferrer\">Memcached</a> or Redis for this type of data. This same cache could be used by both 10%-Read and 90%-write processes.</p>\n\n<p>For reads that are not static (i.e. reading data you have recently written) Hibernate should hold data in its object cache if its' sized appropriately. Can you determine your cache hit/miss performance?</p>\n\n<p><strong>QUARTZ</strong></p>\n\n<p>If you know for sure that a scheduled job won't impact the same set of data as another job, you could run them against different databases, however if in doubt always perform batch updates to one (primary) server and replicate changes out. It is better to be logically correct, than to introduce replication issues.</p>\n\n<p><strong>DB PARTITIONING</strong></p>\n\n<p>If your 1,000 requests per second are writing a lot of data, look at <a href=\"http://www.postgresql.org/docs/9.1/static/ddl-partitioning.html\" rel=\"noreferrer\">partitioning</a> your database. You may find you have ever growing tables. Partitioning is one way to address this without archiving data.</p>\n\n<p>Sometimes you need little or no change to your application code.</p>\n\n<p>Archiving is obviously another option</p>\n\n<p><em>Disclaimer: Any question like this is always going to be application specific. Always try to keep your architecture as simple as possible.</em> </p>\n"},{"comments":[{"owner":{"account_id":4641422,"reputation":1287,"user_id":3761154,"display_name":"R&#233;da Housni Alaoui"},"score":4,"creation_date":1665472196,"post_id":26026237,"comment_id":130701884,"body_markdown":"Now that vlad-mihalcea removed its comments, the conversation makes no sense. The full transcript including vlad-mihalcea comments can be found at https://github.com/reda-alaoui/ro-rw-routing/blob/master/so-transcript.md .","body":"Now that vlad-mihalcea removed its comments, the conversation makes no sense. The full transcript including vlad-mihalcea comments can be found at <a href=\"https://github.com/reda-alaoui/ro-rw-routing/blob/master/so-transcript.md\" rel=\"nofollow noreferrer\">github.com/reda-alaoui/ro-rw-routing/blob/master/&hellip;</a> ."},{"owner":{"account_id":4641422,"reputation":1287,"user_id":3761154,"display_name":"R&#233;da Housni Alaoui"},"score":1,"creation_date":1665478793,"post_id":26026237,"comment_id":130704044,"body_markdown":"My automated test exhibits the 2nd level cache issue with READ_WRITE *and* NONSTRICT_READ_WRITE CacheConcurrencyStrategy. See https://github.com/reda-alaoui/ro-rw-routing/blob/non-strict-read-write-cache/src/test/java/me/redaalaoui/ro_rw_routing/RoRwRoutingApplicationTests.java for NONSTRICT_READ_WRITE test.","body":"My automated test exhibits the 2nd level cache issue with READ_WRITE <i>and</i> NONSTRICT_READ_WRITE CacheConcurrencyStrategy. See <a href=\"https://github.com/reda-alaoui/ro-rw-routing/blob/non-strict-read-write-cache/src/test/java/me/redaalaoui/ro_rw_routing/RoRwRoutingApplicationTests.java\" rel=\"nofollow noreferrer\">github.com/reda-alaoui/ro-rw-routing/blob/&hellip;</a> for NONSTRICT_READ_WRITE test."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":2,"down_vote_count":1,"up_vote_count":63,"is_accepted":true,"score":62,"last_activity_date":1665554669,"creation_date":1411591862,"answer_id":26026237,"question_id":25911359,"body_markdown":"Spring transaction routing\r\n--------------------------\r\n\r\nFirst, we will create a `DataSourceType` Java Enum that defines our transaction routing options:\r\n\r\n    public enum  DataSourceType {\r\n        READ_WRITE,\r\n        READ_ONLY\r\n    }\r\n\r\n\r\nTo route the read-write transactions to the Primary node and read-only transactions to the Replica node, we can define a `ReadWriteDataSource` that connects to the Primary node and a `ReadOnlyDataSource` that connect to the Replica node.\r\n\r\nThe read-write and read-only transaction routing is done by the Spring [`AbstractRoutingDataSource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/datasource/lookup/AbstractRoutingDataSource.html) abstraction, which is implemented by the `TransactionRoutingDatasource`, as illustrated by the following diagram:\r\n\r\n[![Read-write and read-only transaction routing with Spring][1]][1]\r\n\r\nThe `TransactionRoutingDataSource` is very easy to implement and looks as follows:\r\n\r\n    public class TransactionRoutingDataSource \r\n            extends AbstractRoutingDataSource {\r\n    \r\n        @Nullable\r\n        @Override\r\n        protected Object determineCurrentLookupKey() {\r\n            return TransactionSynchronizationManager\r\n                .isCurrentTransactionReadOnly() ?\r\n                DataSourceType.READ_ONLY :\r\n                DataSourceType.READ_WRITE;\r\n        }\r\n    }\r\n\r\nBasically, we inspect the Spring `TransactionSynchronizationManager` class that stores the current transactional context to check whether the currently running Spring transaction is read-only or not.\r\n\r\nThe `determineCurrentLookupKey` method returns the discriminator value that will be used to choose either the read-write or the read-only JDBC `DataSource`.\r\n\r\n\r\nSpring read-write and read-only JDBC DataSource configuration\r\n-------------------------------------------------------------\r\n\r\nThe `DataSource` configuration looks as follows:\r\n\r\n    @Configuration\r\n    @ComponentScan(\r\n        basePackages = &quot;com.vladmihalcea.book.hpjp.util.spring.routing&quot;\r\n    )\r\n    @PropertySource(\r\n        &quot;/META-INF/jdbc-postgresql-replication.properties&quot;\r\n    )\r\n    public class TransactionRoutingConfiguration \r\n            extends AbstractJPAConfiguration {\r\n    \r\n        @Value(&quot;${jdbc.url.primary}&quot;)\r\n        private String primaryUrl;\r\n    \r\n        @Value(&quot;${jdbc.url.replica}&quot;)\r\n        private String replicaUrl;\r\n    \r\n        @Value(&quot;${jdbc.username}&quot;)\r\n        private String username;\r\n    \r\n        @Value(&quot;${jdbc.password}&quot;)\r\n        private String password;\r\n    \r\n        @Bean\r\n        public DataSource readWriteDataSource() {\r\n            PGSimpleDataSource dataSource = new PGSimpleDataSource();\r\n            dataSource.setURL(primaryUrl);\r\n            dataSource.setUser(username);\r\n            dataSource.setPassword(password);\r\n            return connectionPoolDataSource(dataSource);\r\n        }\r\n    \r\n        @Bean\r\n        public DataSource readOnlyDataSource() {\r\n            PGSimpleDataSource dataSource = new PGSimpleDataSource();\r\n            dataSource.setURL(replicaUrl);\r\n            dataSource.setUser(username);\r\n            dataSource.setPassword(password);\r\n            return connectionPoolDataSource(dataSource);\r\n        }\r\n    \r\n        @Bean\r\n        public TransactionRoutingDataSource actualDataSource() {\r\n            TransactionRoutingDataSource routingDataSource = \r\n                new TransactionRoutingDataSource();\r\n    \r\n            Map&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\r\n            dataSourceMap.put(\r\n                DataSourceType.READ_WRITE, \r\n                readWriteDataSource()\r\n            );\r\n            dataSourceMap.put(\r\n                DataSourceType.READ_ONLY, \r\n                readOnlyDataSource()\r\n            );\r\n    \r\n            routingDataSource.setTargetDataSources(dataSourceMap);\r\n            return routingDataSource;\r\n        }\r\n    \r\n        @Override\r\n        protected Properties additionalProperties() {\r\n            Properties properties = super.additionalProperties();\r\n            properties.setProperty(\r\n                &quot;hibernate.connection.provider_disables_autocommit&quot;,\r\n                Boolean.TRUE.toString()\r\n            );\r\n            return properties;\r\n        }\r\n    \r\n        @Override\r\n        protected String[] packagesToScan() {\r\n            return new String[]{\r\n                &quot;com.vladmihalcea.book.hpjp.hibernate.transaction.forum&quot;\r\n            };\r\n        }\r\n    \r\n        @Override\r\n        protected String databaseType() {\r\n            return Database.POSTGRESQL.name().toLowerCase();\r\n        }\r\n    \r\n        protected HikariConfig hikariConfig(\r\n                DataSource dataSource) {\r\n            HikariConfig hikariConfig = new HikariConfig();\r\n            int cpuCores = Runtime.getRuntime().availableProcessors();\r\n            hikariConfig.setMaximumPoolSize(cpuCores * 4);\r\n            hikariConfig.setDataSource(dataSource);\r\n    \r\n            hikariConfig.setAutoCommit(false);\r\n            return hikariConfig;\r\n        }\r\n    \r\n        protected HikariDataSource connectionPoolDataSource(\r\n                DataSource dataSource) {\r\n            return new HikariDataSource(hikariConfig(dataSource));\r\n        }\r\n    }\r\n\r\nThe `/META-INF/jdbc-postgresql-replication.properties` resource file provides the configuration for the read-write and read-only JDBC `DataSource` components:\r\n\r\n    hibernate.dialect=org.hibernate.dialect.PostgreSQL10Dialect\r\n    \r\n    jdbc.url.primary=jdbc:postgresql://localhost:5432/high_performance_java_persistence\r\n    jdbc.url.replica=jdbc:postgresql://localhost:5432/high_performance_java_persistence_replica\r\n    \r\n    jdbc.username=postgres\r\n    jdbc.password=admin\r\n\r\nThe `jdbc.url.primary` property defines the URL of the Primary node while the `jdbc.url.replica` defines the URL of the Replica node.\r\n\r\nThe `readWriteDataSource` Spring component defines the read-write JDBC `DataSource` while the `readOnlyDataSource` component define the read-only JDBC `DataSource`.\r\n\r\n&gt; Note that both the read-write and read-only data sources use HikariCP for connection pooling. \r\n\r\nThe `actualDataSource` acts as a facade for the read-write and read-only data sources and is implemented using the `TransactionRoutingDataSource` utility.\r\n\r\nThe `readWriteDataSource` is registered using the `DataSourceType.READ_WRITE` key and the `readOnlyDataSource` using the `DataSourceType.READ_ONLY` key.\r\n\r\nSo, when executing a read-write `@Transactional` method, the `readWriteDataSource` will be used while when executing a `@Transactional(readOnly = true)` method, the `readOnlyDataSource` will be used instead.\r\n\r\n&gt; Note that the `additionalProperties` method defines the `hibernate.connection.provider_disables_autocommit` Hibernate property, which I added to Hibernate to postpone the database acquisition for RESOURCE_LOCAL JPA transactions.\r\n&gt; \r\n&gt; Not only that the [`hibernate.connection.provider_disables_autocommit`](https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/) allows you to make better use of database connections, but it&#39;s the only way we can make this example work since, without this configuration, the connection is acquired prior to calling the `determineCurrentLookupKey` method `TransactionRoutingDataSource`.\r\n\r\nThe remaining Spring components needed for building the JPA `EntityManagerFactory` are defined by the [`AbstractJPAConfiguration`](https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/util/spring/config/jpa/AbstractJPAConfiguration.java) base class.\r\n\r\nBasically, the `actualDataSource` is further wrapped by DataSource-Proxy and provided to the JPA `EntityManagerFactory`. You can check the [source code on GitHub](https://github.com/vladmihalcea/high-performance-java-persistence) for more details.\r\n\r\nTesting time\r\n------------\r\n\r\nTo check if the transaction routing works, we are going to enable the PostgreSQL query log by setting the following properties in the `postgresql.conf` configuration file:\r\n\r\n    log_min_duration_statement = 0\r\n    log_line_prefix = &#39;[%d] &#39;\r\n\r\nThe `log_min_duration_statement` property setting is for logging all PostgreSQL statements while the second one adds the database name to the SQL log.\r\n\r\nSo, when calling the `newPost` and `findAllPostsByTitle` methods, like this:\r\n\r\n    Post post = forumService.newPost(\r\n        &quot;High-Performance Java Persistence&quot;,\r\n        &quot;JDBC&quot;, &quot;JPA&quot;, &quot;Hibernate&quot;\r\n    );\r\n    \r\n    List&lt;Post&gt; posts = forumService.findAllPostsByTitle(\r\n        &quot;High-Performance Java Persistence&quot;\r\n    );\r\n\r\nWe can see that PostgreSQL logs the following messages:\r\n\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        BEGIN\r\n    \r\n    [high_performance_java_persistence] DETAIL:  \r\n        parameters: $1 = &#39;JDBC&#39;, $2 = &#39;JPA&#39;, $3 = &#39;Hibernate&#39;\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        select tag0_.id as id1_4_, tag0_.name as name2_4_ \r\n        from tag tag0_ where tag0_.name in ($1 , $2 , $3)\r\n    \r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        select nextval (&#39;hibernate_sequence&#39;)\r\n    \r\n    [high_performance_java_persistence] DETAIL:  \r\n        parameters: $1 = &#39;High-Performance Java Persistence&#39;, $2 = &#39;4&#39;\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        insert into post (title, id) values ($1, $2)\r\n    \r\n    [high_performance_java_persistence] DETAIL:  \r\n        parameters: $1 = &#39;4&#39;, $2 = &#39;1&#39;\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        insert into post_tag (post_id, tag_id) values ($1, $2)\r\n    \r\n    [high_performance_java_persistence] DETAIL:  \r\n        parameters: $1 = &#39;4&#39;, $2 = &#39;2&#39;\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        insert into post_tag (post_id, tag_id) values ($1, $2)\r\n    \r\n    [high_performance_java_persistence] DETAIL:  \r\n        parameters: $1 = &#39;4&#39;, $2 = &#39;3&#39;\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        insert into post_tag (post_id, tag_id) values ($1, $2)\r\n    \r\n    [high_performance_java_persistence] LOG:  execute S_3: \r\n        COMMIT\r\n        \r\n    [high_performance_java_persistence_replica] LOG:  execute &lt;unnamed&gt;: \r\n        BEGIN\r\n        \r\n    [high_performance_java_persistence_replica] DETAIL:  \r\n        parameters: $1 = &#39;High-Performance Java Persistence&#39;\r\n    [high_performance_java_persistence_replica] LOG:  execute &lt;unnamed&gt;: \r\n        select post0_.id as id1_0_, post0_.title as title2_0_ \r\n        from post post0_ where post0_.title=$1\r\n    \r\n    [high_performance_java_persistence_replica] LOG:  execute S_1: \r\n        COMMIT\r\n\r\nThe log statements using the `high_performance_java_persistence` prefix were executed on the Primary node while the ones using the `high_performance_java_persistence_replica` on the Replica node.\r\n\r\nGitHub Repository\r\n-----------------\r\n\r\nThis is not just theory. It&#39;s all on GitHub and works like a charm. Use [this test case](https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/spring/transaction/routing/TransactionRoutingDataSourceTest.java) as a reference.\r\n\r\nSo you can you use it a starting point for your transaction routing solution, as you have a fully-functional example.\r\n\r\nSecond-level caching\r\n--------------------\r\n\r\nOnce you are using replication, you are operating in a distributed environment, so you need to use a distributed caching solution, like [Infinispan](https://infinispan.org/).\r\n\r\nSince we are using replication to distribute traffic to more database nodes, it&#39;s obvious that we also have multiple application nodes which have to connect to those database nodes.\r\n\r\nTherefore, using the `READ_WRITE` `CacheConcurrencyStrategy` in such an environment is a terrible anti-pattern as each distributed node will keep its own copy of the cached entries, leading you to consistency issues even if you didn&#39;t use transaction routing. \r\n\r\nNot to mention the cold cache issue you&#39;d face if you employed auto-scaling for your application nodes, as they would amplify the database traffic because new nodes would start with a cold cache.\r\n\r\n&gt; So, if you plan to use transaction routing with the second-level cache mechanism, then you can do better than this.\r\n&gt; \r\n&gt; Use the `NONSTRICT_READ_WRITE` cache concurrency strategy with a second-level caching provider that can store the cached data in a distributed system of nodes that are readily available even when you create new application nodes.\r\n\r\nConclusion\r\n----------\r\n\r\nYou need to make sure you set the right size for your connection pools because that can make a huge difference. For this, I recommend using [Flexy Pool][3].\r\n\r\nYou need to be very diligent and make sure you mark all read-only transactions accordingly. It&#39;s unusual that only 10% of your transactions are read-only. Could it be that you have such a write-most application or you are using write transactions where you only issue query statements?\r\n\r\nFor batch processing, you definitely need read-write transactions, so make sure you enable JDBC batching, like this:\r\n\r\n\t&lt;property name=&quot;hibernate.order_updates&quot; value=&quot;true&quot;/&gt;\r\n\t&lt;property name=&quot;hibernate.order_inserts&quot; value=&quot;true&quot;/&gt;\r\n\t&lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;25&quot;/&gt;\r\n\r\nFor batching you can also use a separate `DataSource` that uses a different connection pool that connects to the Primary node.\r\n\r\nJust make sure your total connection size of all connection pools is less than the number of connections PostgreSQL has been configured with.\r\n\r\nEach batch job must use a dedicated transaction, so make sure you use a reasonable batch size. \r\n\r\nMore, you want to hold locks and to finish transactions as fast as possible. If the batch processor is using concurrent processing workers, make sure the associated connection pool size is equal to the number of workers, so they don&#39;t wait for others to release connections.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HvHzs.png\r\n  [3]: https://github.com/vladmihalcea/flexy-pool","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<h2>Spring transaction routing</h2>\n<p>First, we will create a <code>DataSourceType</code> Java Enum that defines our transaction routing options:</p>\n<pre><code>public enum  DataSourceType {\n    READ_WRITE,\n    READ_ONLY\n}\n</code></pre>\n<p>To route the read-write transactions to the Primary node and read-only transactions to the Replica node, we can define a <code>ReadWriteDataSource</code> that connects to the Primary node and a <code>ReadOnlyDataSource</code> that connect to the Replica node.</p>\n<p>The read-write and read-only transaction routing is done by the Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/datasource/lookup/AbstractRoutingDataSource.html\" rel=\"noreferrer\"><code>AbstractRoutingDataSource</code></a> abstraction, which is implemented by the <code>TransactionRoutingDatasource</code>, as illustrated by the following diagram:</p>\n<p><a href=\"https://i.stack.imgur.com/HvHzs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HvHzs.png\" alt=\"Read-write and read-only transaction routing with Spring\" /></a></p>\n<p>The <code>TransactionRoutingDataSource</code> is very easy to implement and looks as follows:</p>\n<pre><code>public class TransactionRoutingDataSource \n        extends AbstractRoutingDataSource {\n\n    @Nullable\n    @Override\n    protected Object determineCurrentLookupKey() {\n        return TransactionSynchronizationManager\n            .isCurrentTransactionReadOnly() ?\n            DataSourceType.READ_ONLY :\n            DataSourceType.READ_WRITE;\n    }\n}\n</code></pre>\n<p>Basically, we inspect the Spring <code>TransactionSynchronizationManager</code> class that stores the current transactional context to check whether the currently running Spring transaction is read-only or not.</p>\n<p>The <code>determineCurrentLookupKey</code> method returns the discriminator value that will be used to choose either the read-write or the read-only JDBC <code>DataSource</code>.</p>\n<h2>Spring read-write and read-only JDBC DataSource configuration</h2>\n<p>The <code>DataSource</code> configuration looks as follows:</p>\n<pre><code>@Configuration\n@ComponentScan(\n    basePackages = &quot;com.vladmihalcea.book.hpjp.util.spring.routing&quot;\n)\n@PropertySource(\n    &quot;/META-INF/jdbc-postgresql-replication.properties&quot;\n)\npublic class TransactionRoutingConfiguration \n        extends AbstractJPAConfiguration {\n\n    @Value(&quot;${jdbc.url.primary}&quot;)\n    private String primaryUrl;\n\n    @Value(&quot;${jdbc.url.replica}&quot;)\n    private String replicaUrl;\n\n    @Value(&quot;${jdbc.username}&quot;)\n    private String username;\n\n    @Value(&quot;${jdbc.password}&quot;)\n    private String password;\n\n    @Bean\n    public DataSource readWriteDataSource() {\n        PGSimpleDataSource dataSource = new PGSimpleDataSource();\n        dataSource.setURL(primaryUrl);\n        dataSource.setUser(username);\n        dataSource.setPassword(password);\n        return connectionPoolDataSource(dataSource);\n    }\n\n    @Bean\n    public DataSource readOnlyDataSource() {\n        PGSimpleDataSource dataSource = new PGSimpleDataSource();\n        dataSource.setURL(replicaUrl);\n        dataSource.setUser(username);\n        dataSource.setPassword(password);\n        return connectionPoolDataSource(dataSource);\n    }\n\n    @Bean\n    public TransactionRoutingDataSource actualDataSource() {\n        TransactionRoutingDataSource routingDataSource = \n            new TransactionRoutingDataSource();\n\n        Map&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\n        dataSourceMap.put(\n            DataSourceType.READ_WRITE, \n            readWriteDataSource()\n        );\n        dataSourceMap.put(\n            DataSourceType.READ_ONLY, \n            readOnlyDataSource()\n        );\n\n        routingDataSource.setTargetDataSources(dataSourceMap);\n        return routingDataSource;\n    }\n\n    @Override\n    protected Properties additionalProperties() {\n        Properties properties = super.additionalProperties();\n        properties.setProperty(\n            &quot;hibernate.connection.provider_disables_autocommit&quot;,\n            Boolean.TRUE.toString()\n        );\n        return properties;\n    }\n\n    @Override\n    protected String[] packagesToScan() {\n        return new String[]{\n            &quot;com.vladmihalcea.book.hpjp.hibernate.transaction.forum&quot;\n        };\n    }\n\n    @Override\n    protected String databaseType() {\n        return Database.POSTGRESQL.name().toLowerCase();\n    }\n\n    protected HikariConfig hikariConfig(\n            DataSource dataSource) {\n        HikariConfig hikariConfig = new HikariConfig();\n        int cpuCores = Runtime.getRuntime().availableProcessors();\n        hikariConfig.setMaximumPoolSize(cpuCores * 4);\n        hikariConfig.setDataSource(dataSource);\n\n        hikariConfig.setAutoCommit(false);\n        return hikariConfig;\n    }\n\n    protected HikariDataSource connectionPoolDataSource(\n            DataSource dataSource) {\n        return new HikariDataSource(hikariConfig(dataSource));\n    }\n}\n</code></pre>\n<p>The <code>/META-INF/jdbc-postgresql-replication.properties</code> resource file provides the configuration for the read-write and read-only JDBC <code>DataSource</code> components:</p>\n<pre><code>hibernate.dialect=org.hibernate.dialect.PostgreSQL10Dialect\n\njdbc.url.primary=jdbc:postgresql://localhost:5432/high_performance_java_persistence\njdbc.url.replica=jdbc:postgresql://localhost:5432/high_performance_java_persistence_replica\n\njdbc.username=postgres\njdbc.password=admin\n</code></pre>\n<p>The <code>jdbc.url.primary</code> property defines the URL of the Primary node while the <code>jdbc.url.replica</code> defines the URL of the Replica node.</p>\n<p>The <code>readWriteDataSource</code> Spring component defines the read-write JDBC <code>DataSource</code> while the <code>readOnlyDataSource</code> component define the read-only JDBC <code>DataSource</code>.</p>\n<blockquote>\n<p>Note that both the read-write and read-only data sources use HikariCP for connection pooling.</p>\n</blockquote>\n<p>The <code>actualDataSource</code> acts as a facade for the read-write and read-only data sources and is implemented using the <code>TransactionRoutingDataSource</code> utility.</p>\n<p>The <code>readWriteDataSource</code> is registered using the <code>DataSourceType.READ_WRITE</code> key and the <code>readOnlyDataSource</code> using the <code>DataSourceType.READ_ONLY</code> key.</p>\n<p>So, when executing a read-write <code>@Transactional</code> method, the <code>readWriteDataSource</code> will be used while when executing a <code>@Transactional(readOnly = true)</code> method, the <code>readOnlyDataSource</code> will be used instead.</p>\n<blockquote>\n<p>Note that the <code>additionalProperties</code> method defines the <code>hibernate.connection.provider_disables_autocommit</code> Hibernate property, which I added to Hibernate to postpone the database acquisition for RESOURCE_LOCAL JPA transactions.</p>\n<p>Not only that the <a href=\"https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/\" rel=\"noreferrer\"><code>hibernate.connection.provider_disables_autocommit</code></a> allows you to make better use of database connections, but it's the only way we can make this example work since, without this configuration, the connection is acquired prior to calling the <code>determineCurrentLookupKey</code> method <code>TransactionRoutingDataSource</code>.</p>\n</blockquote>\n<p>The remaining Spring components needed for building the JPA <code>EntityManagerFactory</code> are defined by the <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/util/spring/config/jpa/AbstractJPAConfiguration.java\" rel=\"noreferrer\"><code>AbstractJPAConfiguration</code></a> base class.</p>\n<p>Basically, the <code>actualDataSource</code> is further wrapped by DataSource-Proxy and provided to the JPA <code>EntityManagerFactory</code>. You can check the <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence\" rel=\"noreferrer\">source code on GitHub</a> for more details.</p>\n<h2>Testing time</h2>\n<p>To check if the transaction routing works, we are going to enable the PostgreSQL query log by setting the following properties in the <code>postgresql.conf</code> configuration file:</p>\n<pre><code>log_min_duration_statement = 0\nlog_line_prefix = '[%d] '\n</code></pre>\n<p>The <code>log_min_duration_statement</code> property setting is for logging all PostgreSQL statements while the second one adds the database name to the SQL log.</p>\n<p>So, when calling the <code>newPost</code> and <code>findAllPostsByTitle</code> methods, like this:</p>\n<pre><code>Post post = forumService.newPost(\n    &quot;High-Performance Java Persistence&quot;,\n    &quot;JDBC&quot;, &quot;JPA&quot;, &quot;Hibernate&quot;\n);\n\nList&lt;Post&gt; posts = forumService.findAllPostsByTitle(\n    &quot;High-Performance Java Persistence&quot;\n);\n</code></pre>\n<p>We can see that PostgreSQL logs the following messages:</p>\n<pre><code>[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    BEGIN\n\n[high_performance_java_persistence] DETAIL:  \n    parameters: $1 = 'JDBC', $2 = 'JPA', $3 = 'Hibernate'\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    select tag0_.id as id1_4_, tag0_.name as name2_4_ \n    from tag tag0_ where tag0_.name in ($1 , $2 , $3)\n\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    select nextval ('hibernate_sequence')\n\n[high_performance_java_persistence] DETAIL:  \n    parameters: $1 = 'High-Performance Java Persistence', $2 = '4'\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    insert into post (title, id) values ($1, $2)\n\n[high_performance_java_persistence] DETAIL:  \n    parameters: $1 = '4', $2 = '1'\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    insert into post_tag (post_id, tag_id) values ($1, $2)\n\n[high_performance_java_persistence] DETAIL:  \n    parameters: $1 = '4', $2 = '2'\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    insert into post_tag (post_id, tag_id) values ($1, $2)\n\n[high_performance_java_persistence] DETAIL:  \n    parameters: $1 = '4', $2 = '3'\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    insert into post_tag (post_id, tag_id) values ($1, $2)\n\n[high_performance_java_persistence] LOG:  execute S_3: \n    COMMIT\n    \n[high_performance_java_persistence_replica] LOG:  execute &lt;unnamed&gt;: \n    BEGIN\n    \n[high_performance_java_persistence_replica] DETAIL:  \n    parameters: $1 = 'High-Performance Java Persistence'\n[high_performance_java_persistence_replica] LOG:  execute &lt;unnamed&gt;: \n    select post0_.id as id1_0_, post0_.title as title2_0_ \n    from post post0_ where post0_.title=$1\n\n[high_performance_java_persistence_replica] LOG:  execute S_1: \n    COMMIT\n</code></pre>\n<p>The log statements using the <code>high_performance_java_persistence</code> prefix were executed on the Primary node while the ones using the <code>high_performance_java_persistence_replica</code> on the Replica node.</p>\n<h2>GitHub Repository</h2>\n<p>This is not just theory. It's all on GitHub and works like a charm. Use <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/spring/transaction/routing/TransactionRoutingDataSourceTest.java\" rel=\"noreferrer\">this test case</a> as a reference.</p>\n<p>So you can you use it a starting point for your transaction routing solution, as you have a fully-functional example.</p>\n<h2>Second-level caching</h2>\n<p>Once you are using replication, you are operating in a distributed environment, so you need to use a distributed caching solution, like <a href=\"https://infinispan.org/\" rel=\"noreferrer\">Infinispan</a>.</p>\n<p>Since we are using replication to distribute traffic to more database nodes, it's obvious that we also have multiple application nodes which have to connect to those database nodes.</p>\n<p>Therefore, using the <code>READ_WRITE</code> <code>CacheConcurrencyStrategy</code> in such an environment is a terrible anti-pattern as each distributed node will keep its own copy of the cached entries, leading you to consistency issues even if you didn't use transaction routing.</p>\n<p>Not to mention the cold cache issue you'd face if you employed auto-scaling for your application nodes, as they would amplify the database traffic because new nodes would start with a cold cache.</p>\n<blockquote>\n<p>So, if you plan to use transaction routing with the second-level cache mechanism, then you can do better than this.</p>\n<p>Use the <code>NONSTRICT_READ_WRITE</code> cache concurrency strategy with a second-level caching provider that can store the cached data in a distributed system of nodes that are readily available even when you create new application nodes.</p>\n</blockquote>\n<h2>Conclusion</h2>\n<p>You need to make sure you set the right size for your connection pools because that can make a huge difference. For this, I recommend using <a href=\"https://github.com/vladmihalcea/flexy-pool\" rel=\"noreferrer\">Flexy Pool</a>.</p>\n<p>You need to be very diligent and make sure you mark all read-only transactions accordingly. It's unusual that only 10% of your transactions are read-only. Could it be that you have such a write-most application or you are using write transactions where you only issue query statements?</p>\n<p>For batch processing, you definitely need read-write transactions, so make sure you enable JDBC batching, like this:</p>\n<pre><code>&lt;property name=&quot;hibernate.order_updates&quot; value=&quot;true&quot;/&gt;\n&lt;property name=&quot;hibernate.order_inserts&quot; value=&quot;true&quot;/&gt;\n&lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;25&quot;/&gt;\n</code></pre>\n<p>For batching you can also use a separate <code>DataSource</code> that uses a different connection pool that connects to the Primary node.</p>\n<p>Just make sure your total connection size of all connection pools is less than the number of connections PostgreSQL has been configured with.</p>\n<p>Each batch job must use a dedicated transaction, so make sure you use a reasonable batch size.</p>\n<p>More, you want to hold locks and to finish transactions as fast as possible. If the batch processor is using concurrent processing workers, make sure the associated connection pool size is equal to the number of workers, so they don't wait for others to release connections.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411970464,"creation_date":1411970464,"answer_id":26093384,"question_id":25911359,"body_markdown":"If I correctly understand, 90% of the HTTP requests to your webapp involve at least one write and have to operate on master database. You can direct read only transactions to the copy database, but the improvement will only affect 10% of global databases operation and even those read only operations will hit a database.\r\n\r\nThe common architecture here is to use a good database cache (Infinispan or Ehcache). If you can offer a big enough cache, you can hope the a good part of the database reads only hit the cache and become memory only operations, either being part of a read only transaction or not. Cache tuning is a delicate operation, but IMHO is necessary to achieve high performance gain. Those cache even allow for distributed front ends even if the configuration is a bit harder in that case (you might have to look for Terracotta clusters if you want to use Ehcache).\r\n\r\nCurrently, database replication is mainly used to secure the data, and is used as an concurrency improvement mechanizme only if you have high parts of the Information Systems that only read data - and it is not what you are describing.\r\n\r\n","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>If I correctly understand, 90% of the HTTP requests to your webapp involve at least one write and have to operate on master database. You can direct read only transactions to the copy database, but the improvement will only affect 10% of global databases operation and even those read only operations will hit a database.</p>\n\n<p>The common architecture here is to use a good database cache (Infinispan or Ehcache). If you can offer a big enough cache, you can hope the a good part of the database reads only hit the cache and become memory only operations, either being part of a read only transaction or not. Cache tuning is a delicate operation, but IMHO is necessary to achieve high performance gain. Those cache even allow for distributed front ends even if the configuration is a bit harder in that case (you might have to look for Terracotta clusters if you want to use Ehcache).</p>\n\n<p>Currently, database replication is mainly used to secure the data, and is used as an concurrency improvement mechanizme only if you have high parts of the Information Systems that only read data - and it is not what you are describing.</p>\n"},{"tags":[],"owner":{"account_id":4641422,"reputation":1287,"user_id":3761154,"display_name":"R&#233;da Housni Alaoui"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1676107658,"creation_date":1631649128,"answer_id":69183807,"question_id":25911359,"body_markdown":"Since the replication is async, the [accepted solution](https://web.archive.org/web/20221010091826/https://stackoverflow.com/questions/25911359/how-to-split-read-only-and-read-write-transactions-with-jpa-and-hibernate/26026237) will cause hard to debug and hard to reproduce bugs with the second level cache. This is demonstrated [here](https://github.com/reda-alaoui/ro-rw-routing) .\r\n\r\n[This automated test](https://github.com/reda-alaoui/ro-rw-routing/blob/af4502dffd266b8457f0f5f49670c461d7a9a399/src/test/java/me/redaalaoui/ro_rw_routing/RoRwRoutingApplicationTests.java) shows this can lead to manipulate incomplete entity graphs.\r\n\r\nThe cleanest path is to have one EntityManagerFactory per DataSource.","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>Since the replication is async, the <a href=\"https://web.archive.org/web/20221010091826/https://stackoverflow.com/questions/25911359/how-to-split-read-only-and-read-write-transactions-with-jpa-and-hibernate/26026237\" rel=\"nofollow noreferrer\">accepted solution</a> will cause hard to debug and hard to reproduce bugs with the second level cache. This is demonstrated <a href=\"https://github.com/reda-alaoui/ro-rw-routing\" rel=\"nofollow noreferrer\">here</a> .</p>\n<p><a href=\"https://github.com/reda-alaoui/ro-rw-routing/blob/af4502dffd266b8457f0f5f49670c461d7a9a399/src/test/java/me/redaalaoui/ro_rw_routing/RoRwRoutingApplicationTests.java\" rel=\"nofollow noreferrer\">This automated test</a> shows this can lead to manipulate incomplete entity graphs.</p>\n<p>The cleanest path is to have one EntityManagerFactory per DataSource.</p>\n"},{"tags":[],"owner":{"account_id":9933956,"reputation":385,"user_id":7352894,"accept_rate":0,"display_name":"utsav anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662461315,"creation_date":1662461315,"answer_id":73620739,"question_id":25911359,"body_markdown":"You can also run a proxySQL infront of your DB nodes (Can be a galera cluster setup), and set query read write split rules, the proxy will distribute traffic according to the defined rule. Ex: SELECT query routed to read node whereas UPDATE queries or read-write transaction goes to write node.","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>You can also run a proxySQL infront of your DB nodes (Can be a galera cluster setup), and set query read write split rules, the proxy will distribute traffic according to the defined rule. Ex: SELECT query routed to read node whereas UPDATE queries or read-write transaction goes to write node.</p>\n"},{"tags":[],"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675225480,"creation_date":1675225480,"answer_id":75305637,"question_id":25911359,"body_markdown":"I think the question is general, not sure why the preferred answer steers it into Spring internals? Anyway, you may want to take a look [Apache ShardingSphere][1], which has this feature:\r\n```\r\nRead/write Splitting\r\n---------------------\t\r\n\r\nRead/write splitting can be used to cope with business access with high stress. ShardingSphere provides flexible read/write splitting capabilities and can achieve read access load balancing based on the understanding of SQL semantics and the ability to perceive the underlying database topology.\r\n```\r\n\r\nOne thing I am concerned about is the &quot;understanding of SQL semantics&quot; claim, because how would any library &quot;understand&quot; if:```select myfunct(1) from dual``` changes data in the function, or not.\r\n\r\n\r\n\r\n\r\n  [1]: https://shardingsphere.apache.org/","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>I think the question is general, not sure why the preferred answer steers it into Spring internals? Anyway, you may want to take a look <a href=\"https://shardingsphere.apache.org/\" rel=\"nofollow noreferrer\">Apache ShardingSphere</a>, which has this feature:</p>\n<pre><code>Read/write Splitting\n---------------------   \n\nRead/write splitting can be used to cope with business access with high stress. ShardingSphere provides flexible read/write splitting capabilities and can achieve read access load balancing based on the understanding of SQL semantics and the ability to perceive the underlying database topology.\n</code></pre>\n<p>One thing I am concerned about is the &quot;understanding of SQL semantics&quot; claim, because how would any library &quot;understand&quot; if:<code>select myfunct(1) from dual</code> changes data in the function, or not.</p>\n"}],"owner":{"account_id":2846759,"reputation":3710,"user_id":2444921,"accept_rate":50,"display_name":"Sachin Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25407,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":26026237,"answer_count":6,"score":42,"last_activity_date":1676107658,"creation_date":1411039388,"question_id":25911359,"body_markdown":"I have a quite heavy java webapp that serves thousands of requests/sec and it uses a master Postgresql db which replicates itself to one secondary (read-only) database using streaming (asynchronous) replication.\r\n\r\nSo, I separate the request from primary to secondary(read-only) using URLs to avoid read-only calls to bug primary database considering replication time is minimal.\r\n\r\n**NOTE**: *I use one sessionFactory with a RoutingDataSource provided by spring that looks up db to use based on a key. I am interested in multitenancy as I am using hibernate 4.3.4 that supports it.*\r\n\r\nI have two questions:\r\n&lt;br&gt;\r\n\r\n 1. I dont think splitting on the basis of URLs is efficient as I can\r\n    only move 10% of traffic around means there are not many read-only \r\n    URLs. What approach should I consider?\r\n 2. May be,somehow, on the basis of URLs I achieve some level of\r\n    distribution among both nodes but what would I do with my quartz\r\n        jobs(that even have separate JVM)? What pragmatic approach should I \r\n        take?\r\n\r\nI know I might not get a perfect answer here as this really is broad but I just want your opinion for the context.\r\n\r\nDudes I have in my team:\r\n\r\n - Spring4\r\n - Hibernate4\r\n - Quartz2.2\r\n - Java7 / Tomcat7\r\n\r\nPlease take interest. Thanks in advance.\r\n","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>I have a quite heavy java webapp that serves thousands of requests/sec and it uses a master Postgresql db which replicates itself to one secondary (read-only) database using streaming (asynchronous) replication.</p>\n\n<p>So, I separate the request from primary to secondary(read-only) using URLs to avoid read-only calls to bug primary database considering replication time is minimal.</p>\n\n<p><strong>NOTE</strong>: <em>I use one sessionFactory with a RoutingDataSource provided by spring that looks up db to use based on a key. I am interested in multitenancy as I am using hibernate 4.3.4 that supports it.</em></p>\n\n<p>I have two questions:\n<br></p>\n\n<ol>\n<li>I dont think splitting on the basis of URLs is efficient as I can\nonly move 10% of traffic around means there are not many read-only \nURLs. What approach should I consider?</li>\n<li>May be,somehow, on the basis of URLs I achieve some level of\ndistribution among both nodes but what would I do with my quartz\n    jobs(that even have separate JVM)? What pragmatic approach should I \n    take?</li>\n</ol>\n\n<p>I know I might not get a perfect answer here as this really is broad but I just want your opinion for the context.</p>\n\n<p>Dudes I have in my team:</p>\n\n<ul>\n<li>Spring4</li>\n<li>Hibernate4</li>\n<li>Quartz2.2</li>\n<li>Java7 / Tomcat7</li>\n</ul>\n\n<p>Please take interest. Thanks in advance.</p>\n"},{"tags":["java","css-selectors","jsoup"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1676047431,"post_id":75413731,"comment_id":133065345,"body_markdown":"The `#select` method will essentially use CSS3 selectors as the syntax, so that would be the first thing to learn. An understanding of those selectors and how html is hierarchically ordered will help a long in building a scraper.","body":"The <code>#select</code> method will essentially use CSS3 selectors as the syntax, so that would be the first thing to learn. An understanding of those selectors and how html is hierarchically ordered will help a long in building a scraper."}],"answers":[{"tags":[],"owner":{"account_id":9970255,"reputation":197,"user_id":7376577,"display_name":"Peter F"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676107198,"creation_date":1676107198,"answer_id":75419178,"question_id":75413731,"body_markdown":"The comments are not in the HTML file. Youtube uses Javascript to load the comments, but JSoup can only read the HTML file.\r\n\r\nYour web browser&#39;s developer tools show you what is *currently in the webpage*, which may be different from what is in the HTML file.\r\n\r\nTo view the HTML file, you can open the Youtube page in your browser then right-click and choose &#39;View Page Source&#39;, or go to this URL:\r\n```\r\nview-source:https://www.youtube.com/watch?v=C33Rw0AA3aU\r\n```\r\n\r\nThen you will be able to confirm that the source does not contain `yt-formatted-string` or `ytd-comment-renderer`.\r\n\r\nYoutube probably does this for two reasons:\r\n\r\n1. To make the page load faster (only load the comments if you scroll down to view the comment)\r\n2. To prevent people from scraping their website :)\r\n\r\nMy suggestion is to choose a different website to learn JSoup with.\r\n\r\n\r\nI confirmed that the selectors below DO work if you:\r\n\r\n1. Open the Youtube page in a web browser\r\n2. Scroll down so the comments load\r\n3. Open your web browser developer tools\r\n\r\nNote that if you use the `class=` form, the class to select must be in quotes.\r\n\r\nComments:\r\n\r\n```javascript\r\ndocument.querySelectorAll(&quot;yt-formatted-string[class=\\&quot;style-scope ytd-comment-renderer\\&quot;]&quot;);\r\n//or\r\ndocument.querySelectorAll(&quot;yt-formatted-string.style-scope.ytd-comment-renderer&quot;);\r\n```\r\n\r\nCommentators:\r\n\r\n```javascript\r\ndocument.querySelectorAll(&quot;span[class=\\&quot;style-scope ytd-comment-renderer\\&quot;]&quot;);\r\n//or\r\ndocument.querySelectorAll(&quot;span.style-scope.ytd-comment-renderer&quot;);\r\n```","title":"Scraping youtube comments with Java Jsoup","body":"<p>The comments are not in the HTML file. Youtube uses Javascript to load the comments, but JSoup can only read the HTML file.</p>\n<p>Your web browser's developer tools show you what is <em>currently in the webpage</em>, which may be different from what is in the HTML file.</p>\n<p>To view the HTML file, you can open the Youtube page in your browser then right-click and choose 'View Page Source', or go to this URL:</p>\n<pre><code>view-source:https://www.youtube.com/watch?v=C33Rw0AA3aU\n</code></pre>\n<p>Then you will be able to confirm that the source does not contain <code>yt-formatted-string</code> or <code>ytd-comment-renderer</code>.</p>\n<p>Youtube probably does this for two reasons:</p>\n<ol>\n<li>To make the page load faster (only load the comments if you scroll down to view the comment)</li>\n<li>To prevent people from scraping their website :)</li>\n</ol>\n<p>My suggestion is to choose a different website to learn JSoup with.</p>\n<p>I confirmed that the selectors below DO work if you:</p>\n<ol>\n<li>Open the Youtube page in a web browser</li>\n<li>Scroll down so the comments load</li>\n<li>Open your web browser developer tools</li>\n</ol>\n<p>Note that if you use the <code>class=</code> form, the class to select must be in quotes.</p>\n<p>Comments:</p>\n<pre class=\"lang-js prettyprint-override\"><code>document.querySelectorAll(&quot;yt-formatted-string[class=\\&quot;style-scope ytd-comment-renderer\\&quot;]&quot;);\n//or\ndocument.querySelectorAll(&quot;yt-formatted-string.style-scope.ytd-comment-renderer&quot;);\n</code></pre>\n<p>Commentators:</p>\n<pre class=\"lang-js prettyprint-override\"><code>document.querySelectorAll(&quot;span[class=\\&quot;style-scope ytd-comment-renderer\\&quot;]&quot;);\n//or\ndocument.querySelectorAll(&quot;span.style-scope.ytd-comment-renderer&quot;);\n</code></pre>\n"}],"owner":{"account_id":25506622,"reputation":45,"user_id":19298991,"display_name":"Robbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75419178,"answer_count":1,"score":0,"last_activity_date":1676107198,"creation_date":1676046602,"question_id":75413731,"body_markdown":"I&#39;m learning Java JSoup, and I want to scrape the comments and the names of the people commenting from a youtube video.\r\n\r\nI chose an arbitrary youtube video, and inspected the elements of interest. I&#39;ve looked at https://jsoup.org/cookbook/extracting-data/selector-syntax and https://stackoverflow.com/questions/27252239/why-exception-raised-while-retrieving-the-youtube-elements-using-iterator-in-jso, but I don&#39;t really understand how to use the syntax. \r\n\r\nCurrently, the output of my code is two empty lists. I want the output to be one list with the comments, and the other list with the names of the commentators. \r\n\r\nThanks for any help! \r\n\r\n\r\n```\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport org.jsoup.Jsoup;  \r\nimport org.jsoup.nodes.Document;  \r\nimport org.jsoup.nodes.Element;  \r\nimport org.jsoup.select.Elements;  \r\n\r\npublic class FirstJsoupExample {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\r\n\t\tDocument page = Jsoup.connect(&quot;https://www.youtube.com/watch?v=C33Rw0AA3aU&quot;).get();\r\n\t\t\r\n\t\t// Comments\r\n\t\tElements Comments = page.select(&quot;yt-formatted-string[class=style-scope ytd-comment-renderer]&quot;);\r\n\t\tArrayList&lt;String&gt; CommentsList = new ArrayList&lt;String&gt;(); \r\n\t\tfor (Element comment : Comments) {\r\n\t\t\tCommentsList.add(&quot;Comment: &quot; + comment.text());\r\n\t\t}\r\n\t\t\r\n\t\t// Commentators\r\n\t\tElements Comentators = page.select(&quot;span[class= style-scope ytd-comment-renderer]&quot;);\r\n\t\tArrayList&lt;String&gt; ComentatorList = new ArrayList&lt;String&gt;(); \r\n\t\tfor (Element comentator : Comentators) {\r\n\t\t\tComentatorList.add(&quot;Comentator: &quot; + comentator.text());\r\n\t\t}\t\t\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(ComentatorList);\r\n\t\tSystem.out.println(CommentsList);\r\n\t\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n","title":"Scraping youtube comments with Java Jsoup","body":"<p>I'm learning Java JSoup, and I want to scrape the comments and the names of the people commenting from a youtube video.</p>\n<p>I chose an arbitrary youtube video, and inspected the elements of interest. I've looked at <a href=\"https://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">https://jsoup.org/cookbook/extracting-data/selector-syntax</a> and <a href=\"https://stackoverflow.com/questions/27252239/why-exception-raised-while-retrieving-the-youtube-elements-using-iterator-in-jso\">Why Exception Raised while Retrieving the Youtube Elements using iterator in Jsoup?</a>, but I don't really understand how to use the syntax.</p>\n<p>Currently, the output of my code is two empty lists. I want the output to be one list with the comments, and the other list with the names of the commentators.</p>\n<p>Thanks for any help!</p>\n<pre><code>\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport org.jsoup.Jsoup;  \nimport org.jsoup.nodes.Document;  \nimport org.jsoup.nodes.Element;  \nimport org.jsoup.select.Elements;  \n\npublic class FirstJsoupExample {\n\n    public static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n    \n        Document page = Jsoup.connect(&quot;https://www.youtube.com/watch?v=C33Rw0AA3aU&quot;).get();\n        \n        // Comments\n        Elements Comments = page.select(&quot;yt-formatted-string[class=style-scope ytd-comment-renderer]&quot;);\n        ArrayList&lt;String&gt; CommentsList = new ArrayList&lt;String&gt;(); \n        for (Element comment : Comments) {\n            CommentsList.add(&quot;Comment: &quot; + comment.text());\n        }\n        \n        // Commentators\n        Elements Comentators = page.select(&quot;span[class= style-scope ytd-comment-renderer]&quot;);\n        ArrayList&lt;String&gt; ComentatorList = new ArrayList&lt;String&gt;(); \n        for (Element comentator : Comentators) {\n            ComentatorList.add(&quot;Comentator: &quot; + comentator.text());\n        }       \n        \n        \n        System.out.println(ComentatorList);\n        System.out.println(CommentsList);\n            \n        \n        \n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"score":0,"creation_date":1365728851,"post_id":15961418,"comment_id":22748594,"body_markdown":"what do you mean by return carriage?","body":"what do you mean by return carriage?"},{"owner":{"display_name":"user1131435"},"score":0,"creation_date":1365728887,"post_id":15961418,"comment_id":22748601,"body_markdown":"`\\n` is a carriage return character","body":"<code>\\n</code> is a carriage return character"},{"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"score":0,"creation_date":1365728902,"post_id":15961418,"comment_id":22748603,"body_markdown":"how is the return carriage difference will effect this result?","body":"how is the return carriage difference will effect this result?"},{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":0,"creation_date":1365729137,"post_id":15961418,"comment_id":22748651,"body_markdown":"`how is the return carriage difference will effect this result?` it won&#39;t however, the code you supplied won&#39;t even compile","body":"<code>how is the return carriage difference will effect this result?</code> it won&#39;t however, the code you supplied won&#39;t even compile"},{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":2,"creation_date":1365729317,"post_id":15961418,"comment_id":22748690,"body_markdown":"That&#39;s not the problem. `public test(sc)` is neither a proper method definition nor a proper constructor for this class.","body":"That&#39;s not the problem. <code>public test(sc)</code> is neither a proper method definition nor a proper constructor for this class."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1365729351,"post_id":15961418,"comment_id":22748699,"body_markdown":"Have you added `System.out.println(str);` to `main()` after the 1st try and before the second?","body":"Have you added <code>System.out.println(str);</code> to <code>main()</code> after the 1st try and before the second?"},{"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"score":0,"creation_date":1365730237,"post_id":15961418,"comment_id":22748906,"body_markdown":"Ray, alaska has changed it to public void test() means its a function. But her main code is still calling parameterised constructor which is non existent.","body":"Ray, alaska has changed it to public void test() means its a function. But her main code is still calling parameterised constructor which is non existent."},{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":0,"creation_date":1365730436,"post_id":15961418,"comment_id":22748935,"body_markdown":"@Ravi: Good catch. Do I leave the comment as sort of &#39;thread history&#39; then?","body":"@Ravi: Good catch. Do I leave the comment as sort of &#39;thread history&#39; then?"},{"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"score":0,"creation_date":1365731790,"post_id":15961418,"comment_id":22749210,"body_markdown":"One more intriguing thing about this code is that, it says &quot;here is the input file&quot; but in fact her program is reading console(system.in) and not file which will definitely change the output because the moment you hit enter it will display output straight and not wait for next line input.","body":"One more intriguing thing about this code is that, it says &quot;here is the input file&quot; but in fact her program is reading console(system.in) and not file which will definitely change the output because the moment you hit enter it will display output straight and not wait for next line input."},{"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"score":0,"creation_date":1365736504,"post_id":15961418,"comment_id":22750244,"body_markdown":"@RaviTrivedi that is not a problem, just use command line &quot;cat input.txt | java Test&quot;","body":"@RaviTrivedi that is not a problem, just use command line &quot;cat input.txt | java Test&quot;"}],"answers":[{"comments":[{"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"score":0,"creation_date":1365729253,"post_id":15961473,"comment_id":22748673,"body_markdown":"In my understanding, I pass the references to the method, so that, there is only one object. So that, if I call nextLine in the test method, I should get the second line of the file, right?","body":"In my understanding, I pass the references to the method, so that, there is only one object. So that, if I call nextLine in the test method, I should get the second line of the file, right?"},{"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"score":0,"creation_date":1365729876,"post_id":15961473,"comment_id":22748817,"body_markdown":"@alaska The scanner will pick off where it was, yeah.","body":"@alaska The scanner will pick off where it was, yeah."}],"tags":[],"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365728938,"creation_date":1365728938,"answer_id":15961473,"question_id":15961418,"body_markdown":"The scanner is the same object in both methods - you&#39;re passing around references to the same scanner. So, it has no clue it&#39;s being used from a new place in the program - it will faithfully do the same thing no matter what code is using it if the same methods are called.","title":"passing a scanner object to a method","body":"<p>The scanner is the same object in both methods - you're passing around references to the same scanner. So, it has no clue it's being used from a new place in the program - it will faithfully do the same thing no matter what code is using it if the same methods are called.</p>\n"},{"comments":[{"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"score":2,"creation_date":1365729788,"post_id":15961554,"comment_id":22748798,"body_markdown":"actually, I think java is pass by value, however, since most variables in java is object, it is actually pass the copy of the object reference to the method.","body":"actually, I think java is pass by value, however, since most variables in java is object, it is actually pass the copy of the object reference to the method."},{"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"score":0,"creation_date":1365729863,"post_id":15961554,"comment_id":22748811,"body_markdown":"this is the same as pass a pointer in c or c++. If you modify the object in the subroutine, the global object should also changed. Because in fact, we only has one object","body":"this is the same as pass a pointer in c or c++. If you modify the object in the subroutine, the global object should also changed. Because in fact, we only has one object"},{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":0,"creation_date":1365729888,"post_id":15961554,"comment_id":22748819,"body_markdown":"That depends on what you mean by &#39;change&#39;, if one assigns a new value to a method local reference, the original value is unchanged; however, if one adds an item to a method local reference of an ArrayList, for instance, the &#39;original&#39; ArrayList will contain the new value.","body":"That depends on what you mean by &#39;change&#39;, if one assigns a new value to a method local reference, the original value is unchanged; however, if one adds an item to a method local reference of an ArrayList, for instance, the &#39;original&#39; ArrayList will contain the new value."},{"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"score":0,"creation_date":1365729918,"post_id":15961554,"comment_id":22748825,"body_markdown":"The value you are talking about is called Object&#39;s heap value. It is actually called reference to object in the heap.","body":"The value you are talking about is called Object&#39;s heap value. It is actually called reference to object in the heap."},{"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"score":0,"creation_date":1365729989,"post_id":15961554,"comment_id":22748835,"body_markdown":"@RayStojonic, You are right, ray. But my talk was in the given context.","body":"@RayStojonic, You are right, ray. But my talk was in the given context."},{"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"score":0,"creation_date":1365729989,"post_id":15961554,"comment_id":22748838,"body_markdown":"yes, you are right. But in this case, the two scanner are referring to the same object, right?","body":"yes, you are right. But in this case, the two scanner are referring to the same object, right?"},{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":0,"creation_date":1365730102,"post_id":15961554,"comment_id":22748872,"body_markdown":"@Ravi: Fair enough, just trying to be clear. (think I fell short though...)","body":"@Ravi: Fair enough, just trying to be clear. (think I fell short though...)"},{"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"score":0,"creation_date":1365730103,"post_id":15961554,"comment_id":22748873,"body_markdown":"Yes, its the same Scanner object.","body":"Yes, its the same Scanner object."},{"owner":{"account_id":1529569,"reputation":32719,"user_id":1427124,"accept_rate":91,"display_name":"DaoWen"},"score":0,"creation_date":1365730172,"post_id":15961554,"comment_id":22748891,"body_markdown":"@alaska - +1 for making this distinction. A lot of people have the misconception that Java uses [_call-by-reference_](http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_reference) when it is in fact passing _references_ by value, just as it does with the primitive types. (If Java really supported call-by-reference then you could use the references as &quot;out parameters&quot;.)","body":"@alaska - +1 for making this distinction. A lot of people have the misconception that Java uses <a href=\"http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_reference\" rel=\"nofollow noreferrer\"><i>call-by-reference</i></a> when it is in fact passing <i>references</i> by value, just as it does with the primitive types. (If Java really supported call-by-reference then you could use the references as &quot;out parameters&quot;.)"},{"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"score":0,"creation_date":1365730382,"post_id":15961554,"comment_id":22748926,"body_markdown":"@DaoWen, the value you are talking about is actually reference to object heap address.","body":"@DaoWen, the value you are talking about is actually reference to object heap address."},{"owner":{"account_id":1529569,"reputation":32719,"user_id":1427124,"accept_rate":91,"display_name":"DaoWen"},"score":2,"creation_date":1365730705,"post_id":15961554,"comment_id":22748981,"body_markdown":"@RaviTrivedi - Yes, I know. The point I wanted to make is that passing a reference to an object by value isn&#39;t the same as pass-by-reference. Since _pass-by-reference_ has a very specific technical meaning, rather than saying that objects are &quot;passed by reference in Java&quot; it would be more clear to say something like &quot;in Java you pass references to objects...&quot;","body":"@RaviTrivedi - Yes, I know. The point I wanted to make is that passing a reference to an object by value isn&#39;t the same as pass-by-reference. Since <i>pass-by-reference</i> has a very specific technical meaning, rather than saying that objects are &quot;passed by reference in Java&quot; it would be more clear to say something like &quot;in Java you pass references to objects...&quot;"},{"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"score":0,"creation_date":1365731449,"post_id":15961554,"comment_id":22749132,"body_markdown":"@DaoWen, Yes, my answer was confusing. Changed it. You are right, passbyref and passbyval both have different meanings when it comes to technical specification.","body":"@DaoWen, Yes, my answer was confusing. Changed it. You are right, passbyref and passbyval both have different meanings when it comes to technical specification."},{"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"score":0,"creation_date":1365731947,"post_id":15961554,"comment_id":22749247,"body_markdown":"+1 for both alaska and Dao for pointing out passbyref - passbyval thing","body":"+1 for both alaska and Dao for pointing out passbyref - passbyval thing"}],"tags":[],"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365730743,"creation_date":1365729507,"answer_id":15961554,"question_id":15961418,"body_markdown":"First of all, there is an error in your code &gt;&gt; Test t = new Test(sc). It uses parameterised constructor but I don&#39;t see any.\r\n\r\n\r\n    Q. if I pass a scanner object to a method, will the scanner scan from the beginning of\r\n    the input or continued to scan for the remaining part of the input ?\r\n\r\nIn Java, Objects are passed by Ref(reference to object heap address) not by values(as in primitive types). And that is why passing an Object to a function does not change the Object. The Object remains the same.\r\n\r\nRegards,\r\nRavi","title":"passing a scanner object to a method","body":"<p>First of all, there is an error in your code >> Test t = new Test(sc). It uses parameterised constructor but I don't see any.</p>\n\n<pre><code>Q. if I pass a scanner object to a method, will the scanner scan from the beginning of\nthe input or continued to scan for the remaining part of the input ?\n</code></pre>\n\n<p>In Java, Objects are passed by Ref(reference to object heap address) not by values(as in primitive types). And that is why passing an Object to a function does not change the Object. The Object remains the same.</p>\n\n<p>Regards,\nRavi</p>\n"},{"tags":[],"owner":{"account_id":383085,"reputation":3075,"user_id":738711,"display_name":"VirtualTroll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366028145,"creation_date":1366028145,"answer_id":16014912,"question_id":15961418,"body_markdown":"I think your problem has to [the break line][1].\r\n\r\nA new line is defined in a different manner from one OS to another. If you print the value of \r\n\r\n    System.getProperty(&quot;line.separator&quot;);\r\n\r\nYou will see the value of the property is not the same in Windows and Linux.\r\n\r\nI do not know where did you write your input file but it probably contain an OS specific line separator. When you run your program on another OS, you would end but a different result.\r\n\r\nI suggest that you define the delimiters of your scanner file like this\r\n\r\n    sc .useDelimiter(&quot;\\n|\\r\\n&quot;);\r\n\r\nIf I am not mistaken, **\\n** represents the linux new line while  **\\r\\n** represents the windows new line. \r\n\r\n  [1]: http://en.wikipedia.org/wiki/Line_break_%28computing%29","title":"passing a scanner object to a method","body":"<p>I think your problem has to <a href=\"http://en.wikipedia.org/wiki/Line_break_%28computing%29\" rel=\"nofollow\">the break line</a>.</p>\n\n<p>A new line is defined in a different manner from one OS to another. If you print the value of </p>\n\n<pre><code>System.getProperty(\"line.separator\");\n</code></pre>\n\n<p>You will see the value of the property is not the same in Windows and Linux.</p>\n\n<p>I do not know where did you write your input file but it probably contain an OS specific line separator. When you run your program on another OS, you would end but a different result.</p>\n\n<p>I suggest that you define the delimiters of your scanner file like this</p>\n\n<pre><code>sc .useDelimiter(\"\\n|\\r\\n\");\n</code></pre>\n\n<p>If I am not mistaken, <strong>\\n</strong> represents the linux new line while  <strong>\\r\\n</strong> represents the windows new line. </p>\n"}],"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676106215,"creation_date":1365728491,"question_id":15961418,"body_markdown":"If I pass a scanner object to a method, will the scanner scan from the beginning of the input or continued to scan for the remaining part of the input. Here is my code:\r\n\r\n    public class Test {\r\n      public void test(Scanner sc) {\r\n        System.out.println(sc.nextLine());\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String str = sc.nextLine();\r\n        System.out.println(str);\r\n        \r\n        Test t = new Test(sc);\r\n        t.test();\r\n      }\r\n    }\r\n\r\n    // here is the input file:\r\n    1 2 3 4 \r\n    5 6 7 8\r\n    9 1 2 3\r\n\r\nI have test this code on both on Windows and Linux, but I got two different result\r\n\r\nThe first result is in the method test, it print 5 6 7 8\r\n\r\nthe second result is difficult to understand, it print 1 2 3 4, still the first line of the input.\r\n\r\nIs this related to the different version of Java, Can someone explain this for me, thank you!","title":"passing a scanner object to a method","body":"<p>If I pass a scanner object to a method, will the scanner scan from the beginning of the input or continued to scan for the remaining part of the input. Here is my code:</p>\n\n<pre><code>public class Test {\n  public void test(Scanner sc) {\n    System.out.println(sc.nextLine());\n  }\n\n  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    String str = sc.nextLine();\n    System.out.println(str);\n\n    Test t = new Test(sc);\n    t.test();\n  }\n}\n\n// here is the input file:\n1 2 3 4 \n5 6 7 8\n9 1 2 3\n</code></pre>\n\n<p>I have test this code on both on Windows and Linux, but I got two different result</p>\n\n<p>The first result is in the method test, it print 5 6 7 8</p>\n\n<p>the second result is difficult to understand, it print 1 2 3 4, still the first line of the input.</p>\n\n<p>Is this related to the different version of Java, Can someone explain this for me, thank you!</p>\n"},{"tags":["java","loops","colors","intellij-14"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1676119575,"post_id":75419103,"comment_id":133075963,"body_markdown":"You need to create a logical model using plain Java getter/setter classes to keep the colors as they are randomly generated, so you can replay the previous colors.","body":"You need to create a logical model using plain Java getter/setter classes to keep the colors as they are randomly generated, so you can replay the previous colors."}],"owner":{"account_id":27759282,"reputation":1,"user_id":21192038,"display_name":"Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676106172,"creation_date":1676106172,"question_id":75419103,"body_markdown":"I&#39;ve been sitting infront of my screen for the past 4 hours trying to figure out how to continue the logic of my game, Simon Says. \r\n\r\nFor example, if the random flash of color is red and it&#39;s the player&#39;s turn to click on the same color button, I need the game to flash again the previous color/s, then a new random color to continue the chain of colors.\r\n\r\nCan someone help me with this? Without the use of graphics?\r\n\r\n\r\n\r\n\r\n```\r\n    //game round\r\n    public void Round () {\r\n        flashnum++;\r\n        for (int i = 0; i != flashnum; i++) {\r\n            Flash[i] = new flashcolor();\r\n            sequence[i] = Flash[i].flash;\r\n            ans[i] = sequence[i];\r\n\r\n            if (ans[i] == sequence[i]) {\r\n                if (sequence[0] == 0) {\r\n                    ans[0] = 0;\r\n                    MFC.color();\r\n                    Flash[i].flash++;\r\n                } else if (sequence[1] == 1) {\r\n                    ans[1] = 1;\r\n                    MFC.color();\r\n                    Flash[i].flash++;\r\n                } else if (sequence[2] == 2) {\r\n                    ans[2] = 2;\r\n                    MFC.color();\r\n                    Flash[i].flash++;\r\n                } else if (sequence[3] == 3) {\r\n                    ans[3] = 3;\r\n                    MFC.color();\r\n                    Flash[i].flash++;\r\n                }\r\n                flashnum++;\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n\r\n        startWin.redButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (turn){\r\n                    if (ans[0] == sequence[0]){\r\n                        MFC.changeColor(true);\r\n                        Round();\r\n                        turn = true;\r\n                    }\r\n                }else{\r\n                    gameover();\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.yellowButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (turn){\r\n                    if (ans[1] == sequence[1]){\r\n                        MFC.changeColor(true);\r\n                        Round();\r\n                        turn = true;\r\n                    }\r\n                }else{\r\n                    gameover();\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.greenButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (turn){\r\n                    if (ans[2] == sequence[2]){\r\n                        MFC.changeColor(true);\r\n                        Round();\r\n                        turn = true;\r\n                    }\r\n                }else{\r\n                    gameover();\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.blueButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (turn){\r\n                    if (ans[3] == sequence[3]){\r\n                        MFC.changeColor(true);\r\n                        Round();\r\n                        turn = true;\r\n                    }\r\n                }else{\r\n                    gameover();\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.redButton.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                if (ans == sequence) {\r\n                    if (ans[0] == sequence[0]) {\r\n                        MFC.color();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.yellowButton.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                if (ans == sequence) {\r\n                    if (ans[1] == sequence[1]) {\r\n                        MFC.color();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.greenButton.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                if (ans == sequence) {\r\n                    if (ans[2] == sequence[2]) {\r\n                        MFC.color();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.blueButton.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                if (ans == sequence) {\r\n                    if (ans[3] == sequence[3]) {\r\n                        MFC.color();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Any ideas how to continue the flashing random colors after the player click the correct color button?","body":"<p>I've been sitting infront of my screen for the past 4 hours trying to figure out how to continue the logic of my game, Simon Says.</p>\n<p>For example, if the random flash of color is red and it's the player's turn to click on the same color button, I need the game to flash again the previous color/s, then a new random color to continue the chain of colors.</p>\n<p>Can someone help me with this? Without the use of graphics?</p>\n<pre><code>    //game round\n    public void Round () {\n        flashnum++;\n        for (int i = 0; i != flashnum; i++) {\n            Flash[i] = new flashcolor();\n            sequence[i] = Flash[i].flash;\n            ans[i] = sequence[i];\n\n            if (ans[i] == sequence[i]) {\n                if (sequence[0] == 0) {\n                    ans[0] = 0;\n                    MFC.color();\n                    Flash[i].flash++;\n                } else if (sequence[1] == 1) {\n                    ans[1] = 1;\n                    MFC.color();\n                    Flash[i].flash++;\n                } else if (sequence[2] == 2) {\n                    ans[2] = 2;\n                    MFC.color();\n                    Flash[i].flash++;\n                } else if (sequence[3] == 3) {\n                    ans[3] = 3;\n                    MFC.color();\n                    Flash[i].flash++;\n                }\n                flashnum++;\n            } else {\n                break;\n            }\n        }\n\n        startWin.redButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (turn){\n                    if (ans[0] == sequence[0]){\n                        MFC.changeColor(true);\n                        Round();\n                        turn = true;\n                    }\n                }else{\n                    gameover();\n                }\n            }\n        });\n\n        startWin.yellowButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (turn){\n                    if (ans[1] == sequence[1]){\n                        MFC.changeColor(true);\n                        Round();\n                        turn = true;\n                    }\n                }else{\n                    gameover();\n                }\n            }\n        });\n\n        startWin.greenButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (turn){\n                    if (ans[2] == sequence[2]){\n                        MFC.changeColor(true);\n                        Round();\n                        turn = true;\n                    }\n                }else{\n                    gameover();\n                }\n            }\n        });\n\n        startWin.blueButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (turn){\n                    if (ans[3] == sequence[3]){\n                        MFC.changeColor(true);\n                        Round();\n                        turn = true;\n                    }\n                }else{\n                    gameover();\n                }\n            }\n        });\n\n        startWin.redButton.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                if (ans == sequence) {\n                    if (ans[0] == sequence[0]) {\n                        MFC.color();\n                    }\n                }\n            }\n        });\n\n        startWin.yellowButton.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                if (ans == sequence) {\n                    if (ans[1] == sequence[1]) {\n                        MFC.color();\n                    }\n                }\n            }\n        });\n\n        startWin.greenButton.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                if (ans == sequence) {\n                    if (ans[2] == sequence[2]) {\n                        MFC.color();\n                    }\n                }\n            }\n        });\n\n        startWin.blueButton.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                if (ans == sequence) {\n                    if (ans[3] == sequence[3]) {\n                        MFC.color();\n                    }\n                }\n            }\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1499785703,"post_id":45038141,"comment_id":77050639,"body_markdown":"Apologize, copy-paste issue. Fixed it","body":"Apologize, copy-paste issue. Fixed it"},{"owner":{"account_id":1908489,"reputation":9264,"user_id":1722882,"accept_rate":100,"display_name":"Plog"},"score":0,"creation_date":1499785765,"post_id":45038141,"comment_id":77050683,"body_markdown":"So are your unit tests failing? What error message are you getting?","body":"So are your unit tests failing? What error message are you getting?"},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1499785969,"post_id":45038141,"comment_id":77050850,"body_markdown":"The first one is passing, the second one is not getting through. Syntactically incorrect as per mockito. Not sure if my production code needs some rework or my unit test. Please guide","body":"The first one is passing, the second one is not getting through. Syntactically incorrect as per mockito. Not sure if my production code needs some rework or my unit test. Please guide"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1499798176,"creation_date":1499785689,"answer_id":45038324,"question_id":45038141,"body_markdown":"Unfortunately there are simply many things wrong with the code given in the question. For example: you instruct your test to **throw** an exception. And to *expect* that exception to make it up into the test.\r\n\r\nBut: \r\n\r\n      try {\r\n            mailSender.send(message);\r\n        } catch (MailException e) {\r\n            LOG.error(&quot;Error while sending notification email: &quot;, e);\r\n        }\r\n\r\nYour production code is **catching** the exception. So you wrote a test that can only pass when your production code is *incorrect*!\r\n\r\nNow, if the test is wrong: you *could* look into mocking that logger object; to verify that a call to it happens. And you would change the test case to **not** expect any exception. That&#39;s the whole point of try/catch; isn&#39;t it.\r\n\r\nOr the other way round: if not catching is what you want; your unit test told you that the try/catch has to go away. \r\n\r\nAs said, that is just one problem here - the other answers do a good job listing them. \r\n\r\nFrom that point of view may answer is: don&#39;t try to learn unit testing by trial and error. Instead: get a good book or tutorial and *learn* how to do unit testing - including how to use mocking frameworks correctly. ","title":"Not able to unit test the exception thrown in this method using mockito","body":"<p>Unfortunately there are simply many things wrong with the code given in the question. For example: you instruct your test to <strong>throw</strong> an exception. And to <em>expect</em> that exception to make it up into the test.</p>\n\n<p>But: </p>\n\n<pre><code>  try {\n        mailSender.send(message);\n    } catch (MailException e) {\n        LOG.error(\"Error while sending notification email: \", e);\n    }\n</code></pre>\n\n<p>Your production code is <strong>catching</strong> the exception. So you wrote a test that can only pass when your production code is <em>incorrect</em>!</p>\n\n<p>Now, if the test is wrong: you <em>could</em> look into mocking that logger object; to verify that a call to it happens. And you would change the test case to <strong>not</strong> expect any exception. That's the whole point of try/catch; isn't it.</p>\n\n<p>Or the other way round: if not catching is what you want; your unit test told you that the try/catch has to go away. </p>\n\n<p>As said, that is just one problem here - the other answers do a good job listing them. </p>\n\n<p>From that point of view may answer is: don't try to learn unit testing by trial and error. Instead: get a good book or tutorial and <em>learn</em> how to do unit testing - including how to use mocking frameworks correctly. </p>\n"},{"comments":[{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1499787400,"post_id":45038466,"comment_id":77051955,"body_markdown":"Tried it. Getting exception `org.springframework.mail.MailException is abstract; cannot be instantiated`","body":"Tried it. Getting exception <code>org.springframework.mail.MailException is abstract; cannot be instantiated</code>"},{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1499787549,"post_id":45038466,"comment_id":77052086,"body_markdown":"Try to use concrete extending class like `MailSendException`.","body":"Try to use concrete extending class like <code>MailSendException</code>."}],"tags":[],"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676106157,"creation_date":1499786125,"answer_id":45038466,"question_id":45038141,"body_markdown":"1) See [this][1] doc on how to mock `void` methods with exception:\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.8.47/org/mockito/Mockito.html#5\r\n\r\nIn your case it should be something like this:\r\n\r\n    doThrow(new MailException()).when(mockEmailService).notify( anyString() );\r\n\r\n2) Your `testNotify` does not do proper testing. After calling actual `notify` method is does not check the expected outcome.\r\n\r\n3) Your `testNotifyMailException` first mocks `notify` and then calls actual `notify` method on non mocked EmailService. **The whole point of mocking `notify` is to test the code that calls it and not the actual method you are mocking.**\r\n\r\n\r","title":"Not able to unit test the exception thrown in this method using mockito","body":"<ol>\n<li>See <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.8.47/org/mockito/Mockito.html#5\" rel=\"nofollow noreferrer\">this</a> doc on how to mock <code>void</code> methods with exception:</li>\n</ol>\n<p>In your case it should be something like this:</p>\n<pre><code>doThrow(new MailException()).when(mockEmailService).notify( anyString() );\n</code></pre>\n<ol start=\"2\">\n<li><p>Your <code>testNotify</code> does not do proper testing. After calling actual <code>notify</code> method is does not check the expected outcome.</p>\n</li>\n<li><p>Your <code>testNotifyMailException</code> first mocks <code>notify</code> and then calls actual <code>notify</code> method on non mocked EmailService. <strong>The whole point of mocking <code>notify</code> is to test the code that calls it and not the actual method you are mocking.</strong></p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1908489,"reputation":9264,"user_id":1722882,"accept_rate":100,"display_name":"Plog"},"score":0,"creation_date":1499787480,"post_id":45038603,"comment_id":77052019,"body_markdown":"Really? That seems odd, can you paste your new testNotifyMailException() method?","body":"Really? That seems odd, can you paste your new testNotifyMailException() method?"},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1499787631,"post_id":45038603,"comment_id":77052159,"body_markdown":"`@Test(expected = MailException.class)\n    public void testNotifyMailException() {\n        when(mailSender.send(any(SimpleMailMessage.class))).thenThrow(MailException.class);\n        mockKlarnaEmailService.notify(messageBody);\n    }`","body":"<code>@Test(expected = MailException.class)     public void testNotifyMailException() {         when(mailSender.send(any(SimpleMailMessage.class))).thenThro&zwnj;&#8203;w(MailException.clas&zwnj;&#8203;s);         mockKlarnaEmailService.notify(messageBody);     }</code>"}],"tags":[],"owner":{"account_id":1908489,"reputation":9264,"user_id":1722882,"accept_rate":100,"display_name":"Plog"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499786487,"creation_date":1499786487,"answer_id":45038603,"question_id":45038141,"body_markdown":"You shouldn&#39;t really be mocking a class that you are trying to test. I think what you really want to do here is to mock the MailSender to throw an exception. I notice you&#39;re already using a mock MailSender in your successful test. Just use this again and set the expectation:\r\n\r\n     when(mailSender.send(any(SimpleMailMessage.class))).thenThrow(MailException.class);\r\n\r\nBut as mentioned in @GhostCat&#39;s answer you are doing exception handling in the method so the you&#39;d need to specify a different expectation other than the exception to be thrown. You could mock the logger but mocking static loggers is usually a lot more effort that it&#39;s worth. You might want to consider reworking your exception handling to make it easier to test.","title":"Not able to unit test the exception thrown in this method using mockito","body":"<p>You shouldn't really be mocking a class that you are trying to test. I think what you really want to do here is to mock the MailSender to throw an exception. I notice you're already using a mock MailSender in your successful test. Just use this again and set the expectation:</p>\n\n<pre><code> when(mailSender.send(any(SimpleMailMessage.class))).thenThrow(MailException.class);\n</code></pre>\n\n<p>But as mentioned in @GhostCat's answer you are doing exception handling in the method so the you'd need to specify a different expectation other than the exception to be thrown. You could mock the logger but mocking static loggers is usually a lot more effort that it's worth. You might want to consider reworking your exception handling to make it easier to test.</p>\n"},{"comments":[{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1499800391,"post_id":45040046,"comment_id":77059859,"body_markdown":"`mockKlarnaEmailService` is referenced nowhere. Besides, you should follow advise of Plog. You should mock the dependency invoked in your class under test : `MailSender.send()`.","body":"<code>mockKlarnaEmailService</code> is referenced nowhere. Besides, you should follow advise of Plog. You should mock the dependency invoked in your class under test : <code>MailSender.send()</code>."}],"tags":[],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499790617,"creation_date":1499790617,"answer_id":45040046,"question_id":45038141,"body_markdown":"Based on the above-mentioned responses I got it working by modifying both my actual class and unit test. \r\n\r\n\r\n**EmailSendException.java (New class added in order to promote testablity)**\r\n\r\n    public class EmailSendException extends RuntimeException {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public EmailSendException(String message) {\r\n            super(message);\r\n        }\r\n    \r\n        public EmailSendException(String message, Throwable cause) {\r\n            super(message, cause);\r\n        }\r\n    }\r\n\r\n**EmailService.java (Instead of catching, throwing a RuntimeException)**\r\n\r\n    public class EmailService {\r\n        private static final Log LOG = LogFactory.getLog(EmailService.class);\r\n        private static final String EMAIL_SUBJECT = &quot;:: Risk Assessment Job Summary Results::&quot;;\r\n        private final MailSender mailSender;\r\n        private final String emailRecipientAddress;\r\n        private final String emailSenderAddress;\r\n        private static final String ERROR_MSG = &quot;Error while sending notification email&quot;;\r\n    \r\n        public EmailService(MailSender mailSender, String emailRecipientAddress,\r\n                                  String emailSenderAddress) {\r\n            this.mailSender = mailSender;\r\n            this.emailRecipientAddress = emailRecipientAddress;\r\n            this.emailSenderAddress = emailSenderAddress;\r\n        }\r\n    \r\n        public void notify(String messageBody) {\r\n            SimpleMailMessage message = new SimpleMailMessage();\r\n            message.setSubject(EMAIL_SUBJECT);\r\n            message.setTo(emailRecipientAddress);\r\n            message.setFrom(emailSenderAddress);\r\n            message.setText(messageBody);\r\n            try {\r\n                mailSender.send(message);\r\n            } catch (MailException e) {\r\n                throw new EmailSendException(ERROR_MSG, e);\r\n            }\r\n        }\r\n    }\r\n\r\n**EmailServiceTest.java (Mocking and testing )**\r\n\r\n    public class EmailServiceTest {\r\n    \r\n        @Rule\r\n        public MockitoJUnitRule rule = new MockitoJUnitRule(this);\r\n    \r\n        @Mock\r\n        private MailSender mailSender;\r\n        private String emailRecipientAddress = &quot;recipient@abc.com&quot;;\r\n        private String emailSenderAddress = &quot;sender@abc.com&quot;;\r\n        private String messageBody = &quot;Hello Message Body!!!&quot;;\r\n        @Mock\r\n        private EmailService mockEmailService;\r\n    \r\n        @Test\r\n        public void testNotify() {\r\n            EmailService EmailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\r\n            EmailService.notify(messageBody);\r\n        }\r\n    \r\n        @Test(expected = KlarnaEmailSendException.class)\r\n        public void testNotifyMailException() {\r\n            doThrow(new KlarnaEmailSendException(&quot;Some error message&quot;)).when(mockKlarnaEmailService).notify(anyString());\r\n            mockKlarnaEmailService.notify(messageBody);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Not able to unit test the exception thrown in this method using mockito","body":"<p>Based on the above-mentioned responses I got it working by modifying both my actual class and unit test. </p>\n\n<p><strong>EmailSendException.java (New class added in order to promote testablity)</strong></p>\n\n<pre><code>public class EmailSendException extends RuntimeException {\n    private static final long serialVersionUID = 1L;\n\n    public EmailSendException(String message) {\n        super(message);\n    }\n\n    public EmailSendException(String message, Throwable cause) {\n        super(message, cause);\n    }\n}\n</code></pre>\n\n<p><strong>EmailService.java (Instead of catching, throwing a RuntimeException)</strong></p>\n\n<pre><code>public class EmailService {\n    private static final Log LOG = LogFactory.getLog(EmailService.class);\n    private static final String EMAIL_SUBJECT = \":: Risk Assessment Job Summary Results::\";\n    private final MailSender mailSender;\n    private final String emailRecipientAddress;\n    private final String emailSenderAddress;\n    private static final String ERROR_MSG = \"Error while sending notification email\";\n\n    public EmailService(MailSender mailSender, String emailRecipientAddress,\n                              String emailSenderAddress) {\n        this.mailSender = mailSender;\n        this.emailRecipientAddress = emailRecipientAddress;\n        this.emailSenderAddress = emailSenderAddress;\n    }\n\n    public void notify(String messageBody) {\n        SimpleMailMessage message = new SimpleMailMessage();\n        message.setSubject(EMAIL_SUBJECT);\n        message.setTo(emailRecipientAddress);\n        message.setFrom(emailSenderAddress);\n        message.setText(messageBody);\n        try {\n            mailSender.send(message);\n        } catch (MailException e) {\n            throw new EmailSendException(ERROR_MSG, e);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>EmailServiceTest.java (Mocking and testing )</strong></p>\n\n<pre><code>public class EmailServiceTest {\n\n    @Rule\n    public MockitoJUnitRule rule = new MockitoJUnitRule(this);\n\n    @Mock\n    private MailSender mailSender;\n    private String emailRecipientAddress = \"recipient@abc.com\";\n    private String emailSenderAddress = \"sender@abc.com\";\n    private String messageBody = \"Hello Message Body!!!\";\n    @Mock\n    private EmailService mockEmailService;\n\n    @Test\n    public void testNotify() {\n        EmailService EmailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\n        EmailService.notify(messageBody);\n    }\n\n    @Test(expected = KlarnaEmailSendException.class)\n    public void testNotifyMailException() {\n        doThrow(new KlarnaEmailSendException(\"Some error message\")).when(mockKlarnaEmailService).notify(anyString());\n        mockKlarnaEmailService.notify(messageBody);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1873786,"reputation":4203,"user_id":1695458,"accept_rate":86,"display_name":"EM-Creations"},"score":0,"creation_date":1510158472,"post_id":45044379,"comment_id":81318710,"body_markdown":"Thanks! I think the second method is the nicer way of doing it.","body":"Thanks! I think the second method is the nicer way of doing it."}],"tags":[],"owner":{"account_id":11134040,"reputation":442,"user_id":8173142,"display_name":"mymarkers"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1499806825,"creation_date":1499806825,"answer_id":45044379,"question_id":45038141,"body_markdown":"I&#39;m going to assume that the `EmailService` implementation here is correct and focus on the tests. They&#39;re both flawed. While the `testNotify` executes without errors, it isn&#39;t actually testing anything. Technically, it will at least confirm that `notify` does not throw an exception when `mailService` does not throw an exception. We can do better.\r\n\r\nThe key to writing good tests is to ask yourself, &quot;What is this method supposed to do?&quot; You should be able to answer that question before you even write the method. For specific tests, ask &quot;What should it do with this input?&quot; or &quot;What should it do when its dependency does this?&quot;\r\n\r\nIn the first case, you create a `MailService` passing it a `MailSender` and the to and from addresses. What is that `MailService` instance supposed to do when its `notify` method is called? It&#39;s supposed pass a `SimpleMailMessage` to `MailSender` through the `send` method. Here&#39;s how you do that (Note, I assumed that `MailSender` actually takes a `MailMessage` interface instead of `SimpleMailMessage`):\r\n\r\n    @Mock\r\n    private MailSender mailSender;\r\n    private EmailService emailService;\r\n    private String emailRecipientAddress = &quot;recipient@abc.com&quot;;\r\n    private String emailSenderAddress = &quot;sender@abc.com&quot;;\r\n    private String messageBody = &quot;Hello Message Body!!!&quot;;\r\n\r\n    @Before\r\n    public void setUp(){\r\n        MockitoAnnotations.initMocks(this);\r\n        emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\r\n    }\r\n\r\n    @Test\r\n    public void testMessageSent() throws MailException {\r\n\r\n        ArgumentCaptor&lt;MailMessage&gt; argument = ArgumentCaptor.forClass(MailMessage.class);\r\n\r\n        emailService.notify(messageBody);\r\n\r\n        Mockito.verify(mailSender).send(argument.capture());\r\n        Assert.assertEquals(emailRecipientAddress, argument.getValue().getTo());\r\n        Assert.assertEquals(emailSenderAddress, argument.getValue().getFrom());\r\n        Assert.assertEquals(messageBody, argument.getValue().getText());\r\n\r\n    }\r\n\r\nThis makes sure that `EmailService` actually sends the message you&#39;d expect based on arguments passed to its constructor and `notify` method. We do not care whether or not `MailSender` does its job correctly in this test. We just assume it works- presumably because it&#39;s either tested elsewhere or part of a provided library.\r\n\r\nThe test for the exception is a little more subtle. Since the exception is caught, logged, and then ignored there&#39;s not as much to test. I personally don&#39;t bother checking that anything is logged. What we really want to do is confirm that if `MailSender` throws `MailException` then `notify` will not throw an exception. If `MailException` is a `RuntimeException` then we should test this. Basically, you just mock `mailSender` to throw an exception. If `EmailService` does not handle it correctly, then it will throw an exception and the test will fail (This uses the same setup as the previous example):\r\n\r\n    @Test\r\n    public void testMailException() throws MailException {\r\n\r\n        Mockito.doThrow(Mockito.mock(MailException.class)).when(mailSender).send(Mockito.any(MailMessage.class));\r\n        emailService.notify(messageBody);\r\n\r\n    }\r\n\r\nAlternatively, we can catch the `MailException` and then explicitly fail the test:\r\n\r\n    @Test\r\n    public void testMailExceptionAlternate() {\r\n        try {\r\n            Mockito.doThrow(Mockito.mock(MailException.class)).when(mailSender).send(Mockito.any(MailMessage.class));\r\n            emailService.notify(messageBody);\r\n        } catch (MailException ex){\r\n            Assert.fail(&quot;MailException was supposed to be caught.&quot;);\r\n        }\r\n    }\r\n\r\nBoth approaches confirm the desired behavior. The second is more clear in what it&#39;s testing. The downside, though, is that if `notify` were allowed to throw a `MailException` in other circumstances, then that test might not work.\r\n\r\nFinally, if `MailException` is a checked exception- that is it *not* a `RuntimeException`- then you would not even need to test this. If `notify` could possibly throw a `MailException` then the compiler would require it declare it in the method signature.","title":"Not able to unit test the exception thrown in this method using mockito","body":"<p>I'm going to assume that the <code>EmailService</code> implementation here is correct and focus on the tests. They're both flawed. While the <code>testNotify</code> executes without errors, it isn't actually testing anything. Technically, it will at least confirm that <code>notify</code> does not throw an exception when <code>mailService</code> does not throw an exception. We can do better.</p>\n\n<p>The key to writing good tests is to ask yourself, \"What is this method supposed to do?\" You should be able to answer that question before you even write the method. For specific tests, ask \"What should it do with this input?\" or \"What should it do when its dependency does this?\"</p>\n\n<p>In the first case, you create a <code>MailService</code> passing it a <code>MailSender</code> and the to and from addresses. What is that <code>MailService</code> instance supposed to do when its <code>notify</code> method is called? It's supposed pass a <code>SimpleMailMessage</code> to <code>MailSender</code> through the <code>send</code> method. Here's how you do that (Note, I assumed that <code>MailSender</code> actually takes a <code>MailMessage</code> interface instead of <code>SimpleMailMessage</code>):</p>\n\n<pre><code>@Mock\nprivate MailSender mailSender;\nprivate EmailService emailService;\nprivate String emailRecipientAddress = \"recipient@abc.com\";\nprivate String emailSenderAddress = \"sender@abc.com\";\nprivate String messageBody = \"Hello Message Body!!!\";\n\n@Before\npublic void setUp(){\n    MockitoAnnotations.initMocks(this);\n    emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\n}\n\n@Test\npublic void testMessageSent() throws MailException {\n\n    ArgumentCaptor&lt;MailMessage&gt; argument = ArgumentCaptor.forClass(MailMessage.class);\n\n    emailService.notify(messageBody);\n\n    Mockito.verify(mailSender).send(argument.capture());\n    Assert.assertEquals(emailRecipientAddress, argument.getValue().getTo());\n    Assert.assertEquals(emailSenderAddress, argument.getValue().getFrom());\n    Assert.assertEquals(messageBody, argument.getValue().getText());\n\n}\n</code></pre>\n\n<p>This makes sure that <code>EmailService</code> actually sends the message you'd expect based on arguments passed to its constructor and <code>notify</code> method. We do not care whether or not <code>MailSender</code> does its job correctly in this test. We just assume it works- presumably because it's either tested elsewhere or part of a provided library.</p>\n\n<p>The test for the exception is a little more subtle. Since the exception is caught, logged, and then ignored there's not as much to test. I personally don't bother checking that anything is logged. What we really want to do is confirm that if <code>MailSender</code> throws <code>MailException</code> then <code>notify</code> will not throw an exception. If <code>MailException</code> is a <code>RuntimeException</code> then we should test this. Basically, you just mock <code>mailSender</code> to throw an exception. If <code>EmailService</code> does not handle it correctly, then it will throw an exception and the test will fail (This uses the same setup as the previous example):</p>\n\n<pre><code>@Test\npublic void testMailException() throws MailException {\n\n    Mockito.doThrow(Mockito.mock(MailException.class)).when(mailSender).send(Mockito.any(MailMessage.class));\n    emailService.notify(messageBody);\n\n}\n</code></pre>\n\n<p>Alternatively, we can catch the <code>MailException</code> and then explicitly fail the test:</p>\n\n<pre><code>@Test\npublic void testMailExceptionAlternate() {\n    try {\n        Mockito.doThrow(Mockito.mock(MailException.class)).when(mailSender).send(Mockito.any(MailMessage.class));\n        emailService.notify(messageBody);\n    } catch (MailException ex){\n        Assert.fail(\"MailException was supposed to be caught.\");\n    }\n}\n</code></pre>\n\n<p>Both approaches confirm the desired behavior. The second is more clear in what it's testing. The downside, though, is that if <code>notify</code> were allowed to throw a <code>MailException</code> in other circumstances, then that test might not work.</p>\n\n<p>Finally, if <code>MailException</code> is a checked exception- that is it <em>not</em> a <code>RuntimeException</code>- then you would not even need to test this. If <code>notify</code> could possibly throw a <code>MailException</code> then the compiler would require it declare it in the method signature.</p>\n"}],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4979,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45044379,"answer_count":5,"score":2,"last_activity_date":1676106157,"creation_date":1499785168,"question_id":45038141,"body_markdown":"I have written the following unit test using `mockito` to test my `EmailService.java` class. What I am not sure is if I am testing this correctly or not (both happy path and exception scenario).\r\n\r\nMoreover I am getting this `Error: &#39;void&#39; type not allowed here`\r\nin the following code snippet in my unit test \r\n\r\n    when(mockEmailService.notify(anyString())).thenThrow(MailException.class);\r\n\r\nI understand that since my `notify()` method is returning void I am getting that exception. But not sure how to resolve this. Is there any code change required in my unit test or actual class or both?\r\n\r\nCan somebody please guide.\r\n\r\n**EmailServiceTest.java**\r\n\r\n    public class EmailServiceTest {\r\n    \r\n        @Rule\r\n        public MockitoJUnitRule rule = new MockitoJUnitRule(this);\r\n    \r\n        @Mock\r\n        private MailSender mailSender;\r\n        @Mock\r\n        private EmailService mockEmailService;\r\n        private String emailRecipientAddress = &quot;recipient@abc.com&quot;;\r\n        private String emailSenderAddress = &quot;sender@abc.com&quot;;\r\n        private String messageBody = &quot;Hello Message Body!!!&quot;;\r\n    \r\n        @Test\r\n        public void testNotify() {\r\n            EmailService emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\r\n            emailService.notify(messageBody);\r\n        }\r\n    \r\n        @Test(expected = MailException.class)\r\n        public void testNotifyMailException() {\r\n            when(mockEmailService.notify(anyString())).thenThrow(MailException.class);\r\n            EmailService emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\r\n            emailService.notify(messageBody);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**EmailService.java**\r\n\r\n    public class EmailService {\r\n        private static final Log LOG = LogFactory.getLog(EmailService.class);\r\n        private static final String EMAIL_SUBJECT = &quot;:: Risk Assessment Job Summary Results::&quot;;\r\n        private final MailSender mailSender;\r\n        private final String emailRecipientAddress;\r\n        private final String emailSenderAddress;\r\n    \r\n        public EmailService(MailSender mailSender, String emailRecipientAddress,\r\n                String emailSenderAddress) {\r\n            this.mailSender = mailSender;\r\n            this.emailRecipientAddress = emailRecipientAddress;\r\n            this.emailSenderAddress = emailSenderAddress;\r\n        }\r\n    \r\n        public void notify(String messageBody) {\r\n            SimpleMailMessage message = new SimpleMailMessage();\r\n            message.setSubject(EMAIL_SUBJECT);\r\n            message.setTo(emailRecipientAddress);\r\n            message.setFrom(emailSenderAddress);\r\n            message.setText(messageBody);\r\n            try {\r\n                mailSender.send(message);\r\n            } catch (MailException e) {\r\n                LOG.error(&quot;Error while sending notification email: &quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Not able to unit test the exception thrown in this method using mockito","body":"<p>I have written the following unit test using <code>mockito</code> to test my <code>EmailService.java</code> class. What I am not sure is if I am testing this correctly or not (both happy path and exception scenario).</p>\n\n<p>Moreover I am getting this <code>Error: 'void' type not allowed here</code>\nin the following code snippet in my unit test </p>\n\n<pre><code>when(mockEmailService.notify(anyString())).thenThrow(MailException.class);\n</code></pre>\n\n<p>I understand that since my <code>notify()</code> method is returning void I am getting that exception. But not sure how to resolve this. Is there any code change required in my unit test or actual class or both?</p>\n\n<p>Can somebody please guide.</p>\n\n<p><strong>EmailServiceTest.java</strong></p>\n\n<pre><code>public class EmailServiceTest {\n\n    @Rule\n    public MockitoJUnitRule rule = new MockitoJUnitRule(this);\n\n    @Mock\n    private MailSender mailSender;\n    @Mock\n    private EmailService mockEmailService;\n    private String emailRecipientAddress = \"recipient@abc.com\";\n    private String emailSenderAddress = \"sender@abc.com\";\n    private String messageBody = \"Hello Message Body!!!\";\n\n    @Test\n    public void testNotify() {\n        EmailService emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\n        emailService.notify(messageBody);\n    }\n\n    @Test(expected = MailException.class)\n    public void testNotifyMailException() {\n        when(mockEmailService.notify(anyString())).thenThrow(MailException.class);\n        EmailService emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\n        emailService.notify(messageBody);\n    }\n\n}\n</code></pre>\n\n<p><strong>EmailService.java</strong></p>\n\n<pre><code>public class EmailService {\n    private static final Log LOG = LogFactory.getLog(EmailService.class);\n    private static final String EMAIL_SUBJECT = \":: Risk Assessment Job Summary Results::\";\n    private final MailSender mailSender;\n    private final String emailRecipientAddress;\n    private final String emailSenderAddress;\n\n    public EmailService(MailSender mailSender, String emailRecipientAddress,\n            String emailSenderAddress) {\n        this.mailSender = mailSender;\n        this.emailRecipientAddress = emailRecipientAddress;\n        this.emailSenderAddress = emailSenderAddress;\n    }\n\n    public void notify(String messageBody) {\n        SimpleMailMessage message = new SimpleMailMessage();\n        message.setSubject(EMAIL_SUBJECT);\n        message.setTo(emailRecipientAddress);\n        message.setFrom(emailSenderAddress);\n        message.setText(messageBody);\n        try {\n            mailSender.send(message);\n        } catch (MailException e) {\n            LOG.error(\"Error while sending notification email: \", e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":2,"creation_date":1469267050,"post_id":38539213,"comment_id":64473329,"body_markdown":"(Initialise &quot;current minimum variables&quot; with (`Integer.`)[`MAX_VALUE`](http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#field.summary)) The problem linked reads `Given an array of integers, replace every element with the least greater element [to] its right`: please state whether you want to _find_ or _replace_.","body":"(Initialise &quot;current minimum variables&quot; with (<code>Integer.</code>)<a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#field.summary\" rel=\"nofollow noreferrer\"><code>MAX_VALUE</code></a>) The problem linked reads <code>Given an array of integers, replace every element with the least greater element [to] its right</code>: please state whether you want to <i>find</i> or <i>replace</i>."},{"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"score":0,"creation_date":1469267357,"post_id":38539213,"comment_id":64473407,"body_markdown":"Once I find I can easily replace, so the prb was finding. Now it&#39;s fixed once I initialized the leastGreatest variable with Integer.MAX_VALUE","body":"Once I find I can easily replace, so the prb was finding. Now it&#39;s fixed once I initialized the leastGreatest variable with Integer.MAX_VALUE"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1469267512,"post_id":38539213,"comment_id":64473439,"body_markdown":"Please state in no uncertain terms, in the question, whether you want to _find_ or _replace_: for _replace_, I&#39;d suggest `a simpler solution`.","body":"Please state in no uncertain terms, in the question, whether you want to <i>find</i> or <i>replace</i>: for <i>replace</i>, I&#39;d suggest <code>a simpler solution</code>."}],"answers":[{"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469259987,"creation_date":1469259987,"answer_id":38539456,"question_id":38539213,"body_markdown":"The second snippet is almost ok:\r\n\r\n    for (int i = 0; i &lt; arr.length; i++) { // (1)\r\n        int leastGreater = -1; // (2)\r\n        for (int j = i + 1; j &lt; arr.length; j++) {\r\n            if ((arr[j] &gt; arr[i])) {\r\n                if(leastGreater == -1 || arr[j]&lt;leastGreater){ // (3)\r\n                    leastGreater = arr[j];\r\n                }\r\n            }\r\n        }\r\n        arr[i] = leastGrater; // (4)\r\n    }\r\n\r\n 1. We need to set the last element of the array as well, let the loop run over the whole array\r\n 2. If nothing is found the value should be -1, so initialize to that\r\n 3. need to replace also if nothing found yet\r\n 4. set the new value into the array","title":"Find the least greater element on the right","body":"<p>The second snippet is almost ok:</p>\n\n<pre><code>for (int i = 0; i &lt; arr.length; i++) { // (1)\n    int leastGreater = -1; // (2)\n    for (int j = i + 1; j &lt; arr.length; j++) {\n        if ((arr[j] &gt; arr[i])) {\n            if(leastGreater == -1 || arr[j]&lt;leastGreater){ // (3)\n                leastGreater = arr[j];\n            }\n        }\n    }\n    arr[i] = leastGrater; // (4)\n}\n</code></pre>\n\n<ol>\n<li>We need to set the last element of the array as well, let the loop run over the whole array</li>\n<li>If nothing is found the value should be -1, so initialize to that</li>\n<li>need to replace also if nothing found yet</li>\n<li>set the new value into the array</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"score":0,"creation_date":1469264496,"post_id":38539564,"comment_id":64472683,"body_markdown":"int leastGreater = Integer.MAX_VALUE did the job","body":"int leastGreater = Integer.MAX_VALUE did the job"}],"tags":[],"owner":{"account_id":4168927,"reputation":801,"user_id":3417226,"display_name":"Loki"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644464158,"creation_date":1469260912,"answer_id":38539564,"question_id":38539213,"body_markdown":"This should work\r\n    \r\n    int a[] = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\r\n\t\tint n = a.length;\r\n\t\tfor (int i = 0; i &lt; n-1; i++){\r\n\t\t\tint diff = Integer.MAX_VALUE;\r\n\t\t\tint leastGreater = Integer.MAX_VALUE;\r\n\t\t\tfor (int j = i+1; j &lt; n; j++){\r\n\t\t\t\tif(a[j] - a[i] &gt; 0 &amp;&amp; diff &gt; a[j] - a[i]){\r\n\t\t\t\t\tdiff = a[j] - a[i];\r\n\t\t\t\t\tleastGreater = a[j];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (leastGreater == Integer.MAX_VALUE){\r\n\t\t\t\tSystem.out.println(&quot;Not Found for index &quot; + i);\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.println(leastGreater + &quot; found for index &quot; + i);\r\n\t\t\t}\r\n\t\t}\r\n\r\nIt checks for difference to the right of current element which should be &gt; 0 i.e right element should be greater than the current one.","title":"Find the least greater element on the right","body":"<p>This should work</p>\n<pre><code>int a[] = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\n    int n = a.length;\n    for (int i = 0; i &lt; n-1; i++){\n        int diff = Integer.MAX_VALUE;\n        int leastGreater = Integer.MAX_VALUE;\n        for (int j = i+1; j &lt; n; j++){\n            if(a[j] - a[i] &gt; 0 &amp;&amp; diff &gt; a[j] - a[i]){\n                diff = a[j] - a[i];\n                leastGreater = a[j];\n            }\n        }\n        if (leastGreater == Integer.MAX_VALUE){\n            System.out.println(&quot;Not Found for index &quot; + i);\n        }else {\n            System.out.println(leastGreater + &quot; found for index &quot; + i);\n        }\n    }\n</code></pre>\n<p>It checks for difference to the right of current element which should be &gt; 0 i.e right element should be greater than the current one.</p>\n"},{"tags":[],"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1469273056,"creation_date":1469262540,"answer_id":38539769,"question_id":38539213,"body_markdown":"Can use a temp variable of location of the current/ smallest value greater than the target and one loop. Boolean is optional, more clear. Can  also use the temp var initialized to -1 &amp; use as a flag in place of the boolean. \r\nUsing one loop is faster for a bigger array and many calls. [Full source][1]   \r\n\t\t\r\n\t\t\tint[] arr = { 8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28 };\r\n\t\t\t// Test cases\r\n\t\t\tap.findLeasterGreater(arr, 0);\r\n\t\t\tap.findLeasterGreater(arr, 1);\r\n\t\t\tap.findLeasterGreater(arr, 11);\r\n\t\t\tap.findLeasterGreater(arr, 6);\r\n\t\t\t// without boolean\r\n\t\t\tap.findLeasterGreater2(arr, 0);\r\n\t\t\tap.findLeasterGreater2(arr, 1);\r\n\t\t\tap.findLeasterGreater2(arr, 11);\r\n\t\t\tap.findLeasterGreater2(arr, 6);\r\n\t\r\n\t\t/*\r\n\t\t * One loop L-R, check if first greater val encountered. Ini currGreater, when a new value that &gt; orig but &lt; currGreater, use that as\r\n\t\t * the currGreater Using the location of curr greater so can return that. More useful.\r\n\t\t */\r\n\t\tint findLeasterGreater(int[] arr, int loc) {\r\n\t\t\tint nextGreaterLoc = -1;\r\n\t\t\tboolean first = true;\r\n\t\t\tfor (int i = loc + 1; i &lt; arr.length; i++) {\r\n\t\t\t\tif (first &amp;&amp; arr[loc] &lt; arr[i]) {\r\n\t\t\t\t\tfirst = false;\r\n\t\t\t\t\tnextGreaterLoc = i;\r\n\t\t\t\t} else if (arr[loc] &lt; arr[i] &amp;&amp; arr[nextGreaterLoc] &gt; arr[i]) {\r\n\t\t\t\t\tnextGreaterLoc = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (nextGreaterLoc == -1) {\r\n\t\t\t\tSystem.out.println(&quot;Not found a value bigger than &quot; + arr[loc] + &quot; (after location &quot; + loc + &quot;)&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Found a value bigger :&quot; + arr[nextGreaterLoc] + &quot; at location &quot; + nextGreaterLoc + &quot; bigger than &quot;\r\n\t\t\t\t\t\t+ arr[loc] + &quot; (after location &quot; + loc + &quot;)&quot;);\r\n\t\t\t}\r\n\t\t\treturn nextGreaterLoc;\r\n\t\t}\r\n\t\r\n\t\t/*\r\n\t\t * with 1 less local var - no boolean\r\n\t\t */\r\n\t\tint findLeasterGreater2(int[] arr, int loc) {\r\n\t\t\tint nextGreaterLoc = -1;\r\n\t\t\tfor (int i = loc + 1; i &lt; arr.length; i++) {\r\n\t\t\t\tif (nextGreaterLoc == -1 &amp;&amp; arr[loc] &lt; arr[i]) {\r\n\t\t\t\t\tnextGreaterLoc = i;\r\n\t\t\t\t} else if (nextGreaterLoc &gt; -1 &amp;&amp; arr[loc] &lt; arr[i] &amp;&amp; arr[nextGreaterLoc] &gt; arr[i]) {\r\n\t\t\t\t\tnextGreaterLoc = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (nextGreaterLoc == -1) {\r\n\t\t\t\tSystem.out.println(&quot;Not found a value bigger than &quot; + arr[loc] + &quot; (after location &quot; + loc + &quot;)&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Found a value bigger :&quot; + arr[nextGreaterLoc] + &quot; at location &quot; + nextGreaterLoc + &quot; bigger than &quot;\r\n\t\t\t\t\t\t+ arr[loc] + &quot; (after location &quot; + loc + &quot;)&quot;);\r\n\t\t\t}\r\n\t\t\treturn nextGreaterLoc;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n  [1]: https://github.com/tgkprog/academic/blob/master/src/main/java/arr/LeastGreater.java%20least%20greater","title":"Find the least greater element on the right","body":"<p>Can use a temp variable of location of the current/ smallest value greater than the target and one loop. Boolean is optional, more clear. Can  also use the temp var initialized to -1 &amp; use as a flag in place of the boolean. \nUsing one loop is faster for a bigger array and many calls. <a href=\"https://github.com/tgkprog/academic/blob/master/src/main/java/arr/LeastGreater.java%20least%20greater\" rel=\"nofollow\">Full source</a>   </p>\n\n<pre><code>        int[] arr = { 8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28 };\n        // Test cases\n        ap.findLeasterGreater(arr, 0);\n        ap.findLeasterGreater(arr, 1);\n        ap.findLeasterGreater(arr, 11);\n        ap.findLeasterGreater(arr, 6);\n        // without boolean\n        ap.findLeasterGreater2(arr, 0);\n        ap.findLeasterGreater2(arr, 1);\n        ap.findLeasterGreater2(arr, 11);\n        ap.findLeasterGreater2(arr, 6);\n\n    /*\n     * One loop L-R, check if first greater val encountered. Ini currGreater, when a new value that &gt; orig but &lt; currGreater, use that as\n     * the currGreater Using the location of curr greater so can return that. More useful.\n     */\n    int findLeasterGreater(int[] arr, int loc) {\n        int nextGreaterLoc = -1;\n        boolean first = true;\n        for (int i = loc + 1; i &lt; arr.length; i++) {\n            if (first &amp;&amp; arr[loc] &lt; arr[i]) {\n                first = false;\n                nextGreaterLoc = i;\n            } else if (arr[loc] &lt; arr[i] &amp;&amp; arr[nextGreaterLoc] &gt; arr[i]) {\n                nextGreaterLoc = i;\n            }\n        }\n        if (nextGreaterLoc == -1) {\n            System.out.println(\"Not found a value bigger than \" + arr[loc] + \" (after location \" + loc + \")\");\n        } else {\n            System.out.println(\"Found a value bigger :\" + arr[nextGreaterLoc] + \" at location \" + nextGreaterLoc + \" bigger than \"\n                    + arr[loc] + \" (after location \" + loc + \")\");\n        }\n        return nextGreaterLoc;\n    }\n\n    /*\n     * with 1 less local var - no boolean\n     */\n    int findLeasterGreater2(int[] arr, int loc) {\n        int nextGreaterLoc = -1;\n        for (int i = loc + 1; i &lt; arr.length; i++) {\n            if (nextGreaterLoc == -1 &amp;&amp; arr[loc] &lt; arr[i]) {\n                nextGreaterLoc = i;\n            } else if (nextGreaterLoc &gt; -1 &amp;&amp; arr[loc] &lt; arr[i] &amp;&amp; arr[nextGreaterLoc] &gt; arr[i]) {\n                nextGreaterLoc = i;\n            }\n        }\n        if (nextGreaterLoc == -1) {\n            System.out.println(\"Not found a value bigger than \" + arr[loc] + \" (after location \" + loc + \")\");\n        } else {\n            System.out.println(\"Found a value bigger :\" + arr[nextGreaterLoc] + \" at location \" + nextGreaterLoc + \" bigger than \"\n                    + arr[loc] + \" (after location \" + loc + \")\");\n        }\n        return nextGreaterLoc;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1469266698,"post_id":38539822,"comment_id":64473246,"body_markdown":"(Sort of mentioned in the GeeksforGeeks article linked in the question. (declare as [NavigableSet](http://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html#higher-E-))","body":"(Sort of mentioned in the GeeksforGeeks article linked in the question. (declare as <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html#higher-E-\" rel=\"nofollow noreferrer\">NavigableSet</a>)"}],"tags":[],"owner":{"account_id":401512,"reputation":47100,"user_id":768110,"accept_rate":77,"display_name":"RiaD"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1469275540,"creation_date":1469262908,"answer_id":38539822,"question_id":38539213,"body_markdown":" To solve it `O(n log n)` you may use `TreeSet` and go from right to left.\r\n\r\n    TreeSet&lt;Integer&gt; set = new TreeSet&lt;Integer&gt;();\r\n    for (int i = ar.length - 1; i &gt;= 0; --i) {\r\n        set.higher(ar[i]); // what you need, may be null\r\n        set.add(ar[i]);\r\n    }","title":"Find the least greater element on the right","body":"<p>To solve it <code>O(n log n)</code> you may use <code>TreeSet</code> and go from right to left.</p>\n\n<pre><code>TreeSet&lt;Integer&gt; set = new TreeSet&lt;Integer&gt;();\nfor (int i = ar.length - 1; i &gt;= 0; --i) {\n    set.higher(ar[i]); // what you need, may be null\n    set.add(ar[i]);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4730190,"reputation":1805,"user_id":3826059,"accept_rate":47,"display_name":"Mojtaba Khooryani"},"score":2,"creation_date":1469280102,"post_id":38540548,"comment_id":64476652,"body_markdown":"this code gives each query in O(n), if you want to calculate for each index runs in O(n^2)","body":"this code gives each query in O(n), if you want to calculate for each index runs in O(n^2)"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1469305534,"post_id":38540548,"comment_id":64484001,"body_markdown":"@mojtaba357 yes you&#39;re right, I concluded from *&quot;Probably sort that array then &amp; take the first value.&quot;* that he only wants to get one value and not all of them.","body":"@mojtaba357 yes you&#39;re right, I concluded from <i>&quot;Probably sort that array then &amp; take the first value.&quot;</i> that he only wants to get one value and not all of them."}],"tags":[],"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1469269590,"creation_date":1469268496,"answer_id":38540548,"question_id":38539213,"body_markdown":"This is very easy solvable in O(n), just have to look if the number you are currently expecting is between the current solution and the number corresponding to the input, then you can update the solution:\r\n\r\n    public static int getNextIntToTheRight(int[] arr, int index) {\r\n      int ret = Integer.MAX_VALUE; // initialize\r\n      for (int i = index + 1; i &lt; arr.length; i++) // for all items to the right of index\r\n        if (arr[i] &lt; ret &amp;&amp; arr[i] &gt; arr[index]) // if the inspected item is better\r\n          ret = arr[i]; // update on the fly\r\n      return ret; // this is now the solution, if there is any, otherwise Integer.MAX_VALUE\r\n    }","title":"Find the least greater element on the right","body":"<p>This is very easy solvable in O(n), just have to look if the number you are currently expecting is between the current solution and the number corresponding to the input, then you can update the solution:</p>\n\n<pre><code>public static int getNextIntToTheRight(int[] arr, int index) {\n  int ret = Integer.MAX_VALUE; // initialize\n  for (int i = index + 1; i &lt; arr.length; i++) // for all items to the right of index\n    if (arr[i] &lt; ret &amp;&amp; arr[i] &gt; arr[index]) // if the inspected item is better\n      ret = arr[i]; // update on the fly\n  return ret; // this is now the solution, if there is any, otherwise Integer.MAX_VALUE\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4730190,"reputation":1805,"user_id":3826059,"accept_rate":47,"display_name":"Mojtaba Khooryani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585915647,"creation_date":1469268792,"answer_id":38540595,"question_id":38539213,"body_markdown":"use binary search and two-pointer technique. first sort the array, this function returns the index of least greater in `O(log n)` if exist otherwise returns -1\r\n\r\n    int LeasterGreater(int[] a, int value, int left, int right) {\r\n        int low = left;\r\n        int high = right;\r\n        while (low != high) {\r\n            int mid = (low + high) / 2;\r\n            if (a[mid] &lt;= value) {\r\n                low = mid + 1;\r\n            } else {\r\n                high = mid;\r\n            }\r\n        }\r\n        if (low == right) {\r\n            return -1;\r\n        }\r\n        return low;\r\n    }\r\n\r\nexample 1:\r\n\r\n    int[] arr = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\r\n        Arrays.sort(arr);\r\n        int leastGreaterIndex = LeasterGreater(arr, 58, 0, arr.length);\r\n        if (leastGreaterIndex &gt;= 0) {\r\n            System.out.println(arr[leastGreaterIndex]);\r\n        } else {\r\n            System.out.println(&quot;doesn&#39;t exist!&quot;);\r\n        }\r\n\r\noutput:\r\n\r\n&gt; 63\r\n\r\nexample 2:\r\n\r\n    int[] arr = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\r\n        Arrays.sort(arr);\r\n        int leastGreaterIndex = LeasterGreater(arr, 93, 0, arr.length);\r\n        if (leastGreaterIndex &gt;= 0) {\r\n            System.out.println(arr[leastGreaterIndex]);\r\n        } else {\r\n            System.out.println(&quot;doesn&#39;t exist!&quot;);\r\n        }\r\n\r\n&gt; doesn&#39;t exist!","title":"Find the least greater element on the right","body":"<p>use binary search and two-pointer technique. first sort the array, this function returns the index of least greater in <code>O(log n)</code> if exist otherwise returns -1</p>\n\n<pre><code>int LeasterGreater(int[] a, int value, int left, int right) {\n    int low = left;\n    int high = right;\n    while (low != high) {\n        int mid = (low + high) / 2;\n        if (a[mid] &lt;= value) {\n            low = mid + 1;\n        } else {\n            high = mid;\n        }\n    }\n    if (low == right) {\n        return -1;\n    }\n    return low;\n}\n</code></pre>\n\n<p>example 1:</p>\n\n<pre><code>int[] arr = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\n    Arrays.sort(arr);\n    int leastGreaterIndex = LeasterGreater(arr, 58, 0, arr.length);\n    if (leastGreaterIndex &gt;= 0) {\n        System.out.println(arr[leastGreaterIndex]);\n    } else {\n        System.out.println(\"doesn't exist!\");\n    }\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n  <p>63</p>\n</blockquote>\n\n<p>example 2:</p>\n\n<pre><code>int[] arr = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\n    Arrays.sort(arr);\n    int leastGreaterIndex = LeasterGreater(arr, 93, 0, arr.length);\n    if (leastGreaterIndex &gt;= 0) {\n        System.out.println(arr[leastGreaterIndex]);\n    } else {\n        System.out.println(\"doesn't exist!\");\n    }\n</code></pre>\n\n<blockquote>\n  <p>doesn't exist!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21591231,"reputation":1,"user_id":15920810,"display_name":"HARIPRAKASH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648317439,"creation_date":1648317061,"answer_id":71630481,"question_id":38539213,"body_markdown":"    public class code44 {\r\n    public static void main(String[] args){\r\n        int[] arr = {1,9,7,56,36,91,42};\r\n        int n = arr.length;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int min = -1;\r\n            for (int j = i + 1; j &lt; n; j++) {\r\n                if (arr[j] &gt; arr[i]) {\r\n                    if (min == -1) {\r\n                        min = arr[j];\r\n                    } else {\r\n                        min = min &gt; arr[j] ? arr[j] : min;\r\n                    }\r\n                }\r\n            }\r\n            arr[i] = min;\r\n        }\r\n        for(int i =0; i &lt; 7; i++)\r\n            System.out.print(arr[i] + &quot; &quot;); \r\n        }\r\n    }\r\n\r\n\r\n(or)\r\n\r\n\r\n    import java.util.Scanner;\r\n \r\n    class code4{\r\n        public static int MAX = 10000;\r\n        public static void main(String[] args){\r\n            Scanner sc = new Scanner(System.in);\r\n            int[] array = {1, 9, 7, 56, 36, 91, 42};\r\n\r\n            for(int i = 0; i &lt; 7; i++){\r\n                int min = MAX;\r\n\r\n                for(int j = i + 1; j &lt; 7; j++){\r\n                    if(array[j] &gt;= array[i] &amp;&amp; min &gt; array[j]){\r\n                        min = array[j];\r\n                    }\r\n                }\r\n                array[i] = min != MAX ? min : -1;\r\n            }\r\n\r\n            printArray(array, 7);\r\n            sc.close();\r\n        }\r\n\r\n        public static void printArray(int[] array, int n){\r\n            for(int i = 0; i &lt; n; i++){\r\n                System.out.print(array[i] + &quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\ninput : 1, 9, 7, 56, 36, 91, 42\r\noutput : 7, 36, 36, 91, 42, -1, -1","title":"Find the least greater element on the right","body":"<pre><code>public class code44 {\npublic static void main(String[] args){\n    int[] arr = {1,9,7,56,36,91,42};\n    int n = arr.length;\n    for (int i = 0; i &lt; n; i++) {\n        int min = -1;\n        for (int j = i + 1; j &lt; n; j++) {\n            if (arr[j] &gt; arr[i]) {\n                if (min == -1) {\n                    min = arr[j];\n                } else {\n                    min = min &gt; arr[j] ? arr[j] : min;\n                }\n            }\n        }\n        arr[i] = min;\n    }\n    for(int i =0; i &lt; 7; i++)\n        System.out.print(arr[i] + &quot; &quot;); \n    }\n}\n</code></pre>\n<p>(or)</p>\n<pre><code>import java.util.Scanner;\n\nclass code4{\n    public static int MAX = 10000;\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int[] array = {1, 9, 7, 56, 36, 91, 42};\n\n        for(int i = 0; i &lt; 7; i++){\n            int min = MAX;\n\n            for(int j = i + 1; j &lt; 7; j++){\n                if(array[j] &gt;= array[i] &amp;&amp; min &gt; array[j]){\n                    min = array[j];\n                }\n            }\n            array[i] = min != MAX ? min : -1;\n        }\n\n        printArray(array, 7);\n        sc.close();\n    }\n\n    public static void printArray(int[] array, int n){\n        for(int i = 0; i &lt; n; i++){\n            System.out.print(array[i] + &quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p>input : 1, 9, 7, 56, 36, 91, 42\noutput : 7, 36, 36, 91, 42, -1, -1</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1676110993,"post_id":75419087,"comment_id":133074634,"body_markdown":"the answer section is for ... answers, exclusively:)","body":"the answer section is for ... answers, exclusively:)"}],"tags":[],"owner":{"account_id":22976949,"reputation":1,"user_id":17104428,"display_name":"18sit43 Siva"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676105973,"creation_date":1676105973,"answer_id":75419087,"question_id":38539213,"body_markdown":"what if the array is cirular form\r\n\r\nGiven a circular integer array nums .return the next greater number for every element in nums.\r\n\r\n    `Input=[9,1,2,4,3,5,8]\r\n\r\n     Output=[-1,2,3,5,4,8,9]\r\n\r\n    9-&gt;-1 \r\n    1-&gt;2\r\n    2-&gt;3\r\n    4-&gt;5\r\n    3-&gt;4\r\n    5-&gt;8\r\n    8-9\r\n\r\n","title":"Find the least greater element on the right","body":"<p>what if the array is cirular form</p>\n<p>Given a circular integer array nums .return the next greater number for every element in nums.</p>\n<pre><code>`Input=[9,1,2,4,3,5,8]\n\n Output=[-1,2,3,5,4,8,9]\n\n9-&gt;-1 \n1-&gt;2\n2-&gt;3\n4-&gt;5\n3-&gt;4\n5-&gt;8\n8-9\n</code></pre>\n"}],"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2021,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38539822,"answer_count":8,"score":1,"last_activity_date":1676105973,"creation_date":1469258131,"question_id":38539213,"body_markdown":"I am trying to solve an algorithm wherein I have to find the least greater element on the right of an array                    [reference][1]\r\n\r\nFor an instance in the below array \r\nInput: [8, 58, 71, 18, 31, 32, 63, 92, \r\n         43, 3, 91, 93, 25, 80, 28]\r\n\r\nThe least greater element on the right for the first element 8 is 18, for the second element 58 is 63 &amp; so on. I need help with the logic to solve the algorithm. I intend to first solve with with brute force with a complexity of O(n^2). \r\n\r\nThe code I&#39;ve written till now is below \r\n\r\n    public class Tmp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint[] arr = { 8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28 };\r\n\t\tint[] tmpArr = new int[arr.length];\r\n\t\tint pos = 0;\r\n\t\tint k=0;\r\n\t\t\t\t\r\n\t\tfor (int i = 0; i &lt; arr.length-1; i++) { \r\n\t\t\t//int next = arr[i];\r\n\t\t\tfor (int j = i + 1; j &lt; arr.length; j++) {\r\n\t\t\t\tif ((arr[j] &gt; arr[i])) {\r\n\t\t\t\t tmpArr[k]=arr[j]; // take all the values to the right of the element which are greater than it\r\n\t\t\t\t k++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\nI&#39;ve created the second array tmpArr to take all the values on the right of an element which are greater than an it. Probably sort that array then &amp; take the first value. But that logic doesn&#39;t seem ok to me. \r\n\r\nAnother solution can be \r\n\r\n    for (int i = 0; i &lt; arr.length-1; i++) { \r\n    \tint leastGreater = ? //Don&#39;t know what to initialize with\r\n    \t\t\tfor (int j = i + 1; j &lt; arr.length; j++) {\r\n    \t\t\t\tif ((arr[j] &gt; arr[i])) {\r\n                       if(arr[j]&lt;leastGreater){\r\n    \t\t\t\t leastGreater = arr[j];\r\n                      }\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\r\n\r\nCan anyone help with a simpler solution?\r\n  [1]: http://www.geeksforgeeks.org/replace-every-element-with-the-least-greater-element-on-its-right/\r\n","title":"Find the least greater element on the right","body":"<p>I am trying to solve an algorithm wherein I have to find the least greater element on the right of an array                    <a href=\"http://www.geeksforgeeks.org/replace-every-element-with-the-least-greater-element-on-its-right/\" rel=\"nofollow\">reference</a></p>\n\n<p>For an instance in the below array \nInput: [8, 58, 71, 18, 31, 32, 63, 92, \n         43, 3, 91, 93, 25, 80, 28]</p>\n\n<p>The least greater element on the right for the first element 8 is 18, for the second element 58 is 63 &amp; so on. I need help with the logic to solve the algorithm. I intend to first solve with with brute force with a complexity of O(n^2). </p>\n\n<p>The code I've written till now is below </p>\n\n<pre><code>public class Tmp {\n\npublic static void main(String[] args) {\n\n    int[] arr = { 8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28 };\n    int[] tmpArr = new int[arr.length];\n    int pos = 0;\n    int k=0;\n\n    for (int i = 0; i &lt; arr.length-1; i++) { \n        //int next = arr[i];\n        for (int j = i + 1; j &lt; arr.length; j++) {\n            if ((arr[j] &gt; arr[i])) {\n             tmpArr[k]=arr[j]; // take all the values to the right of the element which are greater than it\n             k++;\n            }\n        }\n</code></pre>\n\n<p>I've created the second array tmpArr to take all the values on the right of an element which are greater than an it. Probably sort that array then &amp; take the first value. But that logic doesn't seem ok to me. </p>\n\n<p>Another solution can be </p>\n\n<pre><code>for (int i = 0; i &lt; arr.length-1; i++) { \n    int leastGreater = ? //Don't know what to initialize with\n            for (int j = i + 1; j &lt; arr.length; j++) {\n                if ((arr[j] &gt; arr[i])) {\n                   if(arr[j]&lt;leastGreater){\n                 leastGreater = arr[j];\n                  }\n                }\n            }\n</code></pre>\n\n<p>Can anyone help with a simpler solution?</p>\n"},{"tags":["java","eclipse","efxclipse"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676106168,"post_id":75419070,"comment_id":133073990,"body_markdown":"Can you create a normal main class extending `Application` and calling `Application.launch` in the main? Is there anything shown in the Error log view (`Window`&gt;`Show View`&gt;`Error Log`)?","body":"Can you create a normal main class extending <code>Application</code> and calling <code>Application.launch</code> in the main? Is there anything shown in the Error log view (<code>Window</code>&gt;<code>Show View</code>&gt;<code>Error Log</code>)?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1676169232,"post_id":75419070,"comment_id":133083164,"body_markdown":"Sounds like the same cause as https://stackoverflow.com/questions/74758570/cant-create-new-fxml-file-in-eclipse/74758879, but there&#39;s no way to tell without the error log.","body":"Sounds like the same cause as <a href=\"https://stackoverflow.com/questions/74758570/cant-create-new-fxml-file-in-eclipse/74758879\" title=\"cant create new fxml file in eclipse\">stackoverflow.com/questions/74758570/&hellip;</a>, but there&#39;s no way to tell without the error log."},{"owner":{"account_id":8953679,"reputation":33,"user_id":6678860,"display_name":"Walter Taus"},"score":0,"creation_date":1676197435,"post_id":75419070,"comment_id":133085644,"body_markdown":"@nitind The error log shows: Unhandled event loop exception (org.eclipse.ui)","body":"@nitind The error log shows: Unhandled event loop exception (org.eclipse.ui)"},{"owner":{"account_id":8953679,"reputation":33,"user_id":6678860,"display_name":"Walter Taus"},"score":0,"creation_date":1676197565,"post_id":75419070,"comment_id":133085661,"body_markdown":"@dan1st: creating  a normal main class and turning it into extends Application does work without a problem","body":"@dan1st: creating  a normal main class and turning it into extends Application does work without a problem"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676197721,"post_id":75419070,"comment_id":133085686,"body_markdown":"Can you show the full stack trace from the error log? Until this problem is resolved, just work around it by creating a normal main class inheriting from `Application`.","body":"Can you show the full stack trace from the error log? Until this problem is resolved, just work around it by creating a normal main class inheriting from <code>Application</code>."},{"owner":{"account_id":8953679,"reputation":33,"user_id":6678860,"display_name":"Walter Taus"},"score":0,"creation_date":1676198704,"post_id":75419070,"comment_id":133085827,"body_markdown":"@nitind I just tried with Eclipse 2023-03 M2. The problem is still there","body":"@nitind I just tried with Eclipse 2023-03 M2. The problem is still there"},{"owner":{"account_id":8953679,"reputation":33,"user_id":6678860,"display_name":"Walter Taus"},"score":0,"creation_date":1676199161,"post_id":75419070,"comment_id":133085898,"body_markdown":"@dan1st eclipse.buildId=4.26.0.20221201-1200\njava.version=17.0.6\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=de_DE\nFramework arguments:  -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product\n\norg.eclipse.ui\nError\nSun Feb 12 11:47:39 CET 2023\nUnhandled event loop exception\n\njava.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties","body":"@dan1st eclipse.buildId=4.26.0.20221201-1200 java.version=17.0.6 java.vendor=Eclipse Adoptium BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=de_DE Framework arguments:  -product org.eclipse.epp.package.jee.product Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product  org.eclipse.ui Error Sun Feb 12 11:47:39 CET 2023 Unhandled event loop exception  java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676212989,"post_id":75419070,"comment_id":133088028,"body_markdown":"That class [has been removed in 2022](https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2Feditors_actions.htm&amp;cp%3D2_0_13_8). Try updating e(fx)clipse if it is fixed on their side.","body":"That class <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2Feditors_actions.htm&amp;cp%3D2_0_13_8\" rel=\"nofollow noreferrer\">has been removed in 2022</a>. Try updating e(fx)clipse if it is fixed on their side."}],"owner":{"account_id":8953679,"reputation":33,"user_id":6678860,"display_name":"Walter Taus"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676295020,"answer_count":0,"score":0,"last_activity_date":1676105780,"creation_date":1676105780,"question_id":75419070,"body_markdown":"I installed Eclipse jee 2022-12 and then installed from the Marketplace e(fx)clipse 3.8.0. I am unable to create a JavaFX Main class. I use the package explorer and then New -&gt; Other -&gt; JavaFX -&gt; Classes -&gt; JavaFX Main class. When I press the Next button, nothing happens - the window where I could enter the name of the class is not displayed. I am using Windows 10 and I tried this on two different systems - with the same result.\r\nThe same process works perfectly fine when using Eclipse jee 2022-09\r\nThanks\r\nWalter Taus","title":"Eclipse jee 2022-12 and e(fx)clipse 3.8.0","body":"<p>I installed Eclipse jee 2022-12 and then installed from the Marketplace e(fx)clipse 3.8.0. I am unable to create a JavaFX Main class. I use the package explorer and then New -&gt; Other -&gt; JavaFX -&gt; Classes -&gt; JavaFX Main class. When I press the Next button, nothing happens - the window where I could enter the name of the class is not displayed. I am using Windows 10 and I tried this on two different systems - with the same result.\nThe same process works perfectly fine when using Eclipse jee 2022-09\nThanks\nWalter Taus</p>\n"},{"tags":["java","gson","kotlin","json-deserialization"],"comments":[{"owner":{"account_id":2273196,"reputation":1734,"user_id":2000099,"accept_rate":56,"display_name":"vmtrue"},"score":0,"creation_date":1510655767,"post_id":47283216,"comment_id":81517054,"body_markdown":"Have you tired https://github.com/SalomonBrys/Kotson?","body":"Have you tired <a href=\"https://github.com/SalomonBrys/Kotson\" rel=\"nofollow noreferrer\">github.com/SalomonBrys/Kotson</a>?"},{"owner":{"account_id":4118423,"reputation":9783,"user_id":3379437,"accept_rate":72,"display_name":"Beloo"},"score":0,"creation_date":1510655876,"post_id":47283216,"comment_id":81517125,"body_markdown":"@fisher3421 No, i haven&#39;t. Does this library have a solution for this? And if possible i want to avoid additional dependency","body":"@fisher3421 No, i haven&#39;t. Does this library have a solution for this? And if possible i want to avoid additional dependency"}],"answers":[{"comments":[{"owner":{"account_id":4118423,"reputation":9783,"user_id":3379437,"accept_rate":72,"display_name":"Beloo"},"score":0,"creation_date":1510656390,"post_id":47283411,"comment_id":81517448,"body_markdown":"maybe this is the only way, but of course would be better to avoid additional annotation &amp; additional reflection in jsonDeserializers, because kotlin already has out of the box feature for nullable &amp; non-null fields. But i do not exclude that this is the only way","body":"maybe this is the only way, but of course would be better to avoid additional annotation &amp; additional reflection in jsonDeserializers, because kotlin already has out of the box feature for nullable &amp; non-null fields. But i do not exclude that this is the only way"},{"owner":{"account_id":5044456,"reputation":1228,"user_id":4050911,"display_name":"osipxd"},"score":0,"creation_date":1510657560,"post_id":47283411,"comment_id":81518195,"body_markdown":"@Beloo, Best way that I know - write something like this, but for Gson: https://github.com/square/moshi/blob/master/kotlin/src/main/java/com/squareup/moshi/KotlinJsonAdapter.kt","body":"@Beloo, Best way that I know - write something like this, but for Gson: <a href=\"https://github.com/square/moshi/blob/master/kotlin/src/main/java/com/squareup/moshi/KotlinJsonAdapter.kt\" rel=\"nofollow noreferrer\">github.com/square/moshi/blob/master/kotlin/src/main/java/com&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":5044456,"reputation":1228,"user_id":4050911,"display_name":"osipxd"},"score":0,"creation_date":1564650407,"post_id":47283411,"comment_id":101103703,"body_markdown":"The old link is broken. Permalink here: https://github.com/square/moshi/blob/13a40edf5bb5779da81862d196df7ed4f944eea0/kotlin/reflect/src/main/java/com/squareup/moshi/kotlin/reflect/KotlinJsonAdapter.kt","body":"The old link is broken. Permalink here: <a href=\"https://github.com/square/moshi/blob/13a40edf5bb5779da81862d196df7ed4f944eea0/kotlin/reflect/src/main/java/com/squareup/moshi/kotlin/reflect/KotlinJsonAdapter.kt\" rel=\"nofollow noreferrer\">github.com/square/moshi/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":5044456,"reputation":1228,"user_id":4050911,"display_name":"osipxd"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1510655514,"creation_date":1510655514,"answer_id":47283411,"question_id":47283216,"body_markdown":"You can use custom `JsonDeserializer` that will validate fields annotated by something like `@RequiredField` and automatically throw exception if it is null.\r\n\r\nHow to do it you can find here: https://stackoverflow.com/questions/21626690/gson-optional-and-required-fields","title":"Null-safe network response using Gson and Kotlin","body":"<p>You can use custom <code>JsonDeserializer</code> that will validate fields annotated by something like <code>@RequiredField</code> and automatically throw exception if it is null.</p>\n\n<p>How to do it you can find here: <a href=\"https://stackoverflow.com/questions/21626690/gson-optional-and-required-fields\">Gson optional and required fields</a></p>\n"}],"owner":{"account_id":4118423,"reputation":9783,"user_id":3379437,"accept_rate":72,"display_name":"Beloo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2545,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47283411,"answer_count":1,"score":3,"last_activity_date":1676105512,"creation_date":1510654961,"question_id":47283216,"body_markdown":"Assuming you have such data-class pojo, which represents typical gson-based representation of a response which comes from a server.\r\n\r\n    data class User(\r\n            @field:SerializedName(&quot;id&quot;)\r\n            val id: String,\r\n            @field:SerializedName(&quot;name&quot;)\r\n            val name: String,\r\n            @field:SerializedName(&quot;user_phone&quot;)\r\n            val phone: String?)\r\n\r\n**id** and **name** fields are required, **phone** field is optional    \r\nSo the appropriate json this model expects, for example:\r\n\r\n    {\r\n       &quot;id&quot;: &quot;someHash&quot;,\r\n       &quot;name&quot;: &quot;John Snow&quot;\r\n    }\r\n\r\nSometimes server  can send json like: \r\n\r\n    {\r\n       &quot;id&quot;: &quot;someHash&quot;      \r\n    }\r\n\r\nUnfortunately such json is parsed successfully without any error, because gson uses *unsafe reflection* and was written for java. So as a result there will be corrupted kotlin model with **null** stored in **non-null** field\r\n\r\nI want to provide validation for this model on the json-deserialization layer, because it is better to receive an error right there, not in any other part of application, which expects non-null field.    \r\nAnd i&#39;m looking for any consize solution for this problem.    \r\n\r\nOf course you can provide some explicit validation function for each model like\r\n\r\n    fun User.validate() {\r\n        if (id == null) throw JsonParseException(&quot;&#39;id&#39; is null!&quot;)\r\n        if (name == null) throw JsonParseException(&quot;&#39;name&#39; is null!&quot;)\r\n    }\r\nand call it by hand in any place but it produces a lot boilerplate code, which we always try to avoid. And also ide warns this as it thinks unnecessary null checking\r\n","title":"Null-safe network response using Gson and Kotlin","body":"<p>Assuming you have such data-class pojo, which represents typical gson-based representation of a response which comes from a server.</p>\n<pre><code>data class User(\n        @field:SerializedName(&quot;id&quot;)\n        val id: String,\n        @field:SerializedName(&quot;name&quot;)\n        val name: String,\n        @field:SerializedName(&quot;user_phone&quot;)\n        val phone: String?)\n</code></pre>\n<p><strong>id</strong> and <strong>name</strong> fields are required, <strong>phone</strong> field is optional<br />\nSo the appropriate json this model expects, for example:</p>\n<pre><code>{\n   &quot;id&quot;: &quot;someHash&quot;,\n   &quot;name&quot;: &quot;John Snow&quot;\n}\n</code></pre>\n<p>Sometimes server  can send json like:</p>\n<pre><code>{\n   &quot;id&quot;: &quot;someHash&quot;      \n}\n</code></pre>\n<p>Unfortunately such json is parsed successfully without any error, because gson uses <em>unsafe reflection</em> and was written for java. So as a result there will be corrupted kotlin model with <strong>null</strong> stored in <strong>non-null</strong> field</p>\n<p>I want to provide validation for this model on the json-deserialization layer, because it is better to receive an error right there, not in any other part of application, which expects non-null field.<br />\nAnd i'm looking for any consize solution for this problem.</p>\n<p>Of course you can provide some explicit validation function for each model like</p>\n<pre><code>fun User.validate() {\n    if (id == null) throw JsonParseException(&quot;'id' is null!&quot;)\n    if (name == null) throw JsonParseException(&quot;'name' is null!&quot;)\n}\n</code></pre>\n<p>and call it by hand in any place but it produces a lot boilerplate code, which we always try to avoid. And also ide warns this as it thinks unnecessary null checking</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":8133754,"reputation":662,"user_id":6126100,"display_name":"tn2000"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676104481,"creation_date":1676104481,"answer_id":75418976,"question_id":73679588,"body_markdown":"Try to create a new flutter project and copy the files from the current project.","title":"Execution failed for ExtractAarTransform. ZipException, message: invalid entry CRC gradle","body":"<p>Try to create a new flutter project and copy the files from the current project.</p>\n"}],"owner":{"account_id":18064682,"reputation":36,"user_id":13130926,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676104481,"creation_date":1662902248,"question_id":73679588,"body_markdown":"I used to work with Flutter v2.8 as much as I expected. because of the Firebase, I had to update flutter to v3 to get it to work.\r\nAfter updating Flutter to v3, flutter said, &quot;You have to get JDK version 11 or newer&quot;. I got confused why it was saying that because &quot;flutter.dev&quot; has mentioned the appropriate version of JDK for flutter is 8 so far!\r\n\r\nI updated my JDK to 11 then, I got these weird errors that I&#39;ve never had before! every time that I run or build an app it says something like the following pictures:\r\n[![failed to load image][1]][1]\r\n\r\n\r\n[![failed to load image][2]][2]\r\n\r\n\r\n\r\nI created this project by using this command: `flutter create projectName`\r\n\r\nFlutter doctor:\r\n```\r\n[✓] Flutter (Channel stable, 3.3.0, on Arch Linux 5.17.4-arch1-1, locale en_US.UTF-8)\r\n    • Flutter version 3.3.0 on channel stable at /home/john/Android/Flutter/flutter\r\n    • Upstream repository https://github.com/flutter/flutter.git\r\n    • Framework revision ffccd96b62 (10 days ago), 2022-08-29 17:28:57 -0700\r\n    • Engine revision 5e9e0e0aa8\r\n    • Dart version 2.10\r\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\r\n    • Android SDK at /home/john/Android/Android/android-sdk\r\n    • Platform android-33, build-tools 33.0.0\r\n    • ANDROID_HOME = /home/john/Android/Android/android-sdk\r\n    • Java binary at: /usr/bin/java\r\n    • Java version OpenJDK Runtime Environment (build 11.0.15+10)\r\n    • All Android licenses accepted\r\n\r\n[✗] Chrome - develop for the web (Cannot find Chrome executable at google-chrome)\r\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\r\n\r\n[✓] Linux toolchain - develop for Linux desktop\r\n    • clang version 13.0.1\r\n    • cmake version 3.23.1\r\n    • ninja version 1.10.2\r\n    • pkg-config version 1.8.0\r\n\r\n[!] Android Studio (not installed)\r\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\r\n      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup for detailed instructions).\r\n\r\n[✓] IntelliJ IDEA Community Edition (version 2021.3)\r\n    • IntelliJ at /usr/share/idea\r\n    • Flutter plugin version 70.0.3\r\n    • Dart plugin version 213.5744.122\r\n\r\n[✓] Connected device (1 available)\r\n    • Linux (desktop) • linux • linux-x64 • Arch Linux 5.17.4-arch1-1\r\n\r\n[✓] HTTP Host Availability\r\n    • All required HTTP hosts are available\r\n\r\n! Doctor found issues in 2 categories.\r\n```\r\n\r\nI&#39;ve tried to delete ~/.gradle/cache all the time. but cannot produce an .apk app.\r\ntried to downgrade flutter to version 2.8 but again still have the error.\r\nfor more information [see this GitHub link][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bxhYl.png\r\n  [2]: https://i.stack.imgur.com/pHu8g.png\r\n\r\n(I created this project by using this command: `flutter create projectName`)\r\n\r\n\r\n  [3]: https://github.com/flutter/flutter/issues/111256","title":"Execution failed for ExtractAarTransform. ZipException, message: invalid entry CRC gradle","body":"<p>I used to work with Flutter v2.8 as much as I expected. because of the Firebase, I had to update flutter to v3 to get it to work.\nAfter updating Flutter to v3, flutter said, &quot;You have to get JDK version 11 or newer&quot;. I got confused why it was saying that because &quot;flutter.dev&quot; has mentioned the appropriate version of JDK for flutter is 8 so far!</p>\n<p>I updated my JDK to 11 then, I got these weird errors that I've never had before! every time that I run or build an app it says something like the following pictures:\n<a href=\"https://i.stack.imgur.com/bxhYl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxhYl.png\" alt=\"failed to load image\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pHu8g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pHu8g.png\" alt=\"failed to load image\" /></a></p>\n<p>I created this project by using this command: <code>flutter create projectName</code></p>\n<p>Flutter doctor:</p>\n<pre><code>[✓] Flutter (Channel stable, 3.3.0, on Arch Linux 5.17.4-arch1-1, locale en_US.UTF-8)\n    • Flutter version 3.3.0 on channel stable at /home/john/Android/Flutter/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision ffccd96b62 (10 days ago), 2022-08-29 17:28:57 -0700\n    • Engine revision 5e9e0e0aa8\n    • Dart version 2.10\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at /home/john/Android/Android/android-sdk\n    • Platform android-33, build-tools 33.0.0\n    • ANDROID_HOME = /home/john/Android/Android/android-sdk\n    • Java binary at: /usr/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.15+10)\n    • All Android licenses accepted\n\n[✗] Chrome - develop for the web (Cannot find Chrome executable at google-chrome)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[✓] Linux toolchain - develop for Linux desktop\n    • clang version 13.0.1\n    • cmake version 3.23.1\n    • ninja version 1.10.2\n    • pkg-config version 1.8.0\n\n[!] Android Studio (not installed)\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup for detailed instructions).\n\n[✓] IntelliJ IDEA Community Edition (version 2021.3)\n    • IntelliJ at /usr/share/idea\n    • Flutter plugin version 70.0.3\n    • Dart plugin version 213.5744.122\n\n[✓] Connected device (1 available)\n    • Linux (desktop) • linux • linux-x64 • Arch Linux 5.17.4-arch1-1\n\n[✓] HTTP Host Availability\n    • All required HTTP hosts are available\n\n! Doctor found issues in 2 categories.\n</code></pre>\n<p>I've tried to delete ~/.gradle/cache all the time. but cannot produce an .apk app.\ntried to downgrade flutter to version 2.8 but again still have the error.\nfor more information <a href=\"https://github.com/flutter/flutter/issues/111256\" rel=\"nofollow noreferrer\">see this GitHub link</a></p>\n<p>(I created this project by using this command: <code>flutter create projectName</code>)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1167770,"reputation":33137,"user_id":1145666,"accept_rate":75,"display_name":"Bart Friederichs"},"score":1,"creation_date":1530103462,"post_id":51063096,"comment_id":89116025,"body_markdown":"&quot;without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators&quot;. So without programming....","body":"&quot;without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators&quot;. So without programming...."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1530103493,"post_id":51063096,"comment_id":89116046,"body_markdown":"do you mean you are looking for a build-in method or a library to do that? Because  it seems you want to write code without code","body":"do you mean you are looking for a build-in method or a library to do that? Because  it seems you want to write code without code"},{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":4,"creation_date":1530103519,"post_id":51063096,"comment_id":89116070,"body_markdown":"`x = 1 - x`. The `If input is not 0 or 1 then print &quot;error&quot;` part is hard to do without any branching though...","body":"<code>x = 1 - x</code>. The <code>If input is not 0 or 1 then print &quot;error&quot;</code> part is hard to do without any branching though..."},{"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"score":0,"creation_date":1530104081,"post_id":51063096,"comment_id":89116476,"body_markdown":"Okay I cannot hold back my curiosity.... **Why** would you not use all these wonderful tools?","body":"Okay I cannot hold back my curiosity.... <b>Why</b> would you not use all these wonderful tools?"},{"owner":{"account_id":1167770,"reputation":33137,"user_id":1145666,"accept_rate":75,"display_name":"Bart Friederichs"},"score":1,"creation_date":1530104238,"post_id":51063096,"comment_id":89116589,"body_markdown":"@L.Spillner probably a homework puzzle.","body":"@L.Spillner probably a homework puzzle."},{"owner":{"account_id":9455170,"reputation":1235,"user_id":7030705,"display_name":"Carrol"},"score":0,"creation_date":1571476406,"post_id":51063096,"comment_id":103260123,"body_markdown":"Possible duplicate of [Most elegant way to change 0 to 1 and vice versa](https://stackoverflow.com/questions/2411023/most-elegant-way-to-change-0-to-1-and-vice-versa)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2411023/most-elegant-way-to-change-0-to-1-and-vice-versa\">Most elegant way to change 0 to 1 and vice versa</a>"}],"answers":[{"tags":[],"owner":{"account_id":2155038,"reputation":2751,"user_id":1910483,"accept_rate":25,"display_name":"Michel_T."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530103651,"creation_date":1530103651,"answer_id":51063203,"question_id":51063096,"body_markdown":"Well, just flip values is simple:\r\n\r\n    int i = 0;\r\n    i = (i + 1) % 2;\r\n    System.out.println(i); // prints 1\r\n    i = (i + 1) % 2;\r\n    System.out.println(i);  // prints 0\r\n\r\nI don&#39;t know how about &quot;error&quot;","title":"Java code to flip 0 to 1","body":"<p>Well, just flip values is simple:</p>\n\n<pre><code>int i = 0;\ni = (i + 1) % 2;\nSystem.out.println(i); // prints 1\ni = (i + 1) % 2;\nSystem.out.println(i);  // prints 0\n</code></pre>\n\n<p>I don't know how about \"error\"</p>\n"},{"comments":[{"owner":{"account_id":2155038,"reputation":2751,"user_id":1910483,"accept_rate":25,"display_name":"Michel_T."},"score":0,"creation_date":1530103818,"post_id":51063238,"comment_id":89116285,"body_markdown":"Good. My first idea was about using an exception.","body":"Good. My first idea was about using an exception."},{"owner":{"account_id":4986235,"reputation":1822,"user_id":4009768,"display_name":"d.j.brown"},"score":1,"creation_date":1530103824,"post_id":51063238,"comment_id":89116289,"body_markdown":"Why not flip the array and lose the 1 - part?","body":"Why not flip the array and lose the 1 - part?"},{"owner":{"account_id":1167770,"reputation":33137,"user_id":1145666,"accept_rate":75,"display_name":"Bart Friederichs"},"score":1,"creation_date":1530103924,"post_id":51063238,"comment_id":89116362,"body_markdown":"This is borderline obfuscation, though.","body":"This is borderline obfuscation, though."},{"owner":{"account_id":4986235,"reputation":1822,"user_id":4009768,"display_name":"d.j.brown"},"score":1,"creation_date":1530104130,"post_id":51063238,"comment_id":89116509,"body_markdown":"Just because you can achieve the result like this doesn’t mean you should. Later developers will spend a couple of minutes scratching their head. Although we can assume this is a homework problem.","body":"Just because you can achieve the result like this doesn’t mean you should. Later developers will spend a couple of minutes scratching their head. Although we can assume this is a homework problem."}],"tags":[],"owner":{"account_id":1167770,"reputation":33137,"user_id":1145666,"accept_rate":75,"display_name":"Bart Friederichs"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1530103853,"creation_date":1530103749,"answer_id":51063238,"question_id":51063096,"body_markdown":"some pseudocode, &quot;without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators&quot; :\r\n\r\n    int[] s = { 1, 0 }\r\n    \r\n    try {\r\n      x = s[x];\r\n    catch (OutofBoundsException) {\r\n      print &quot;error&quot;;\r\n    }\r\n\r\n","title":"Java code to flip 0 to 1","body":"<p>some pseudocode, \"without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators\" :</p>\n\n<pre><code>int[] s = { 1, 0 }\n\ntry {\n  x = s[x];\ncatch (OutofBoundsException) {\n  print \"error\";\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1167770,"reputation":33137,"user_id":1145666,"accept_rate":75,"display_name":"Bart Friederichs"},"score":1,"creation_date":1530104458,"post_id":51063444,"comment_id":89116749,"body_markdown":"Nice one, especially because the exception handles the desired output.","body":"Nice one, especially because the exception handles the desired output."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530104366,"creation_date":1530104366,"answer_id":51063444,"question_id":51063096,"body_markdown":"Here&#39;s another solution using different exception:\r\n\r\n    public static void checkX (int x) {\r\n        String message = &quot;error&quot;;\r\n        try {\r\n            int y = 1/x;\r\n            y = 1/(x-1);\r\n        }\r\n        catch (ArithmeticException exc) {\r\n            x = 1 - x;\r\n            message = Integer.toString (x);\r\n        }\r\n        System.out.println(message);\r\n    }\r\n\r\nTesting:\r\n\r\n    checkX(1);\r\n    checkX(0);\r\n    checkX(5);\r\n\r\nOutput:\r\n\r\n    0\r\n    1\r\n    error","title":"Java code to flip 0 to 1","body":"<p>Here's another solution using different exception:</p>\n\n<pre><code>public static void checkX (int x) {\n    String message = \"error\";\n    try {\n        int y = 1/x;\n        y = 1/(x-1);\n    }\n    catch (ArithmeticException exc) {\n        x = 1 - x;\n        message = Integer.toString (x);\n    }\n    System.out.println(message);\n}\n</code></pre>\n\n<p>Testing:</p>\n\n<pre><code>checkX(1);\ncheckX(0);\ncheckX(5);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0\n1\nerror\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21336473,"reputation":41,"user_id":15707639,"display_name":"Agiltrue"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676103435,"creation_date":1676103435,"answer_id":75418904,"question_id":51063096,"body_markdown":"You could just use `x = 1 - x` as it has already been mentioned in comments.\r\n\r\nIt&#39;s clear to see that:\r\n- `1 - 0` gives `1`\r\n- `1 - 1` gives `0`\r\n\r\nWhich could be simply used as flip :)","title":"Java code to flip 0 to 1","body":"<p>You could just use <code>x = 1 - x</code> as it has already been mentioned in comments.</p>\n<p>It's clear to see that:</p>\n<ul>\n<li><code>1 - 0</code> gives <code>1</code></li>\n<li><code>1 - 1</code> gives <code>0</code></li>\n</ul>\n<p>Which could be simply used as flip :)</p>\n"}],"owner":{"account_id":5416204,"reputation":13,"user_id":4311283,"display_name":"Surbhi Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"accepted_answer_id":51063238,"answer_count":4,"score":-4,"last_activity_date":1676103435,"creation_date":1530103371,"question_id":51063096,"body_markdown":" How to write a java code to flip 0 to 1 and vise versa without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators. If input is not 0 or 1 then print &quot;error&quot;\r\n\r\n","title":"Java code to flip 0 to 1","body":"<p>How to write a java code to flip 0 to 1 and vise versa without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators. If input is not 0 or 1 then print \"error\"</p>\n"},{"tags":["python","java","postgresql","apache-flink","pyflink"],"comments":[{"owner":{"account_id":3597044,"reputation":169,"user_id":3001411,"display_name":"Raghavendar"},"score":0,"creation_date":1676014148,"post_id":75018833,"comment_id":133055314,"body_markdown":"How did you patch PostgresTypeMapper.java? I tried to duplicate flink-connector-jdbc jar as a separate maven project. But I am facing many dependency issues.","body":"How did you patch PostgresTypeMapper.java? I tried to duplicate flink-connector-jdbc jar as a separate maven project. But I am facing many dependency issues."},{"owner":{"account_id":4204909,"reputation":987,"user_id":3444107,"accept_rate":50,"display_name":"Sami Badawi"},"score":0,"creation_date":1676103266,"post_id":75018833,"comment_id":133073650,"body_markdown":"Hi @Raghavendar, I could not really write code in comment so added patching details to question.","body":"Hi @Raghavendar, I could not really write code in comment so added patching details to question."}],"owner":{"account_id":4204909,"reputation":987,"user_id":3444107,"accept_rate":50,"display_name":"Sami Badawi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676103178,"creation_date":1672923732,"question_id":75018833,"body_markdown":"I am using PyFlink 1.16 and flink-connector-jdbc-1.16.0.jar to query Postgres table with a jsonb column\r\n\r\n    sql = &quot;SELECT entity_id FROM event_files&quot;\r\n    table2 = table_env.sql_query(sql)\r\n    table2.execute().print()\r\n\r\nIt failed with this error:\r\n\r\n```\r\nCaused by: java.lang.UnsupportedOperationException: Doesn&#39;t support Postgres type &#39;jsonb&#39; yet\r\n\tat org.apache.flink.connector.jdbc.dialect.psql.PostgresTypeMapper.mapping(PostgresTypeMapper.java:173)\r\n```\r\n\r\nI get this error despite not using the jsonb column.\r\n\r\n\r\nI patched PostgresTypeMapper.java to map `jsonb` to `varchar`. Now the above code is working. But I want to query by jsonb column, payload. So I tried to cast it to varchar a column, P1:\r\n\r\n    sql = &quot;SELECT entity_id, CAST(payload AS varchar) AS P1 FROM event_files&quot;\r\n    table2 = table_env.sql_query(sql)\r\n    table2.execute().print()\r\n\r\nbut that fails with:\r\n\r\n```\r\nCaused by: java.lang.ClassCastException: class org.postgresql.util.PGobject cannot be cast to class java.lang.String (org.postgresql.util.PGobject is in unnamed module of loader org.apache.flink.util.ChildFirstClassLoader @38c50913; java.lang.String is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat org.apache.flink.connector.jdbc.converter.AbstractJdbcRowConverter.lambda$createInternalConverter$224afae6$10(AbstractJdbcRowConverter.java:176)\r\n```\r\n\r\nI have been trying to find ways around this including creating a view from event_files, but nothing has worked so far.\r\n\r\n### Details on patching flink-connector-jdbc\r\n\r\nCloned the flink-connector-jdbc project from GitHub and add a few lines to flink-connector-jdbc/src/main/java/org/apache/flink/connector/jdbc/dialect/psql/PostgresTypeMapper.java:\r\n\r\n```java\r\n    private static final String PG_CHARACTER_VARYING_ARRAY = &quot;_varchar&quot;;\r\n    private static final String PG_JSONB = &quot;jsonb&quot;;\r\n\r\n            case PG_DATE_ARRAY:\r\n                return DataTypes.ARRAY(DataTypes.DATE());\r\n            case PG_JSONB:\r\n                return DataTypes.STRING();\r\n```\r\n\r\nI build it with Maven.","title":"Flink Postgres query to jsonb column gives jdbc failure","body":"<p>I am using PyFlink 1.16 and flink-connector-jdbc-1.16.0.jar to query Postgres table with a jsonb column</p>\n<pre><code>sql = &quot;SELECT entity_id FROM event_files&quot;\ntable2 = table_env.sql_query(sql)\ntable2.execute().print()\n</code></pre>\n<p>It failed with this error:</p>\n<pre><code>Caused by: java.lang.UnsupportedOperationException: Doesn't support Postgres type 'jsonb' yet\n    at org.apache.flink.connector.jdbc.dialect.psql.PostgresTypeMapper.mapping(PostgresTypeMapper.java:173)\n</code></pre>\n<p>I get this error despite not using the jsonb column.</p>\n<p>I patched PostgresTypeMapper.java to map <code>jsonb</code> to <code>varchar</code>. Now the above code is working. But I want to query by jsonb column, payload. So I tried to cast it to varchar a column, P1:</p>\n<pre><code>sql = &quot;SELECT entity_id, CAST(payload AS varchar) AS P1 FROM event_files&quot;\ntable2 = table_env.sql_query(sql)\ntable2.execute().print()\n</code></pre>\n<p>but that fails with:</p>\n<pre><code>Caused by: java.lang.ClassCastException: class org.postgresql.util.PGobject cannot be cast to class java.lang.String (org.postgresql.util.PGobject is in unnamed module of loader org.apache.flink.util.ChildFirstClassLoader @38c50913; java.lang.String is in module java.base of loader 'bootstrap')\n    at org.apache.flink.connector.jdbc.converter.AbstractJdbcRowConverter.lambda$createInternalConverter$224afae6$10(AbstractJdbcRowConverter.java:176)\n</code></pre>\n<p>I have been trying to find ways around this including creating a view from event_files, but nothing has worked so far.</p>\n<h3>Details on patching flink-connector-jdbc</h3>\n<p>Cloned the flink-connector-jdbc project from GitHub and add a few lines to flink-connector-jdbc/src/main/java/org/apache/flink/connector/jdbc/dialect/psql/PostgresTypeMapper.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final String PG_CHARACTER_VARYING_ARRAY = &quot;_varchar&quot;;\n    private static final String PG_JSONB = &quot;jsonb&quot;;\n\n            case PG_DATE_ARRAY:\n                return DataTypes.ARRAY(DataTypes.DATE());\n            case PG_JSONB:\n                return DataTypes.STRING();\n</code></pre>\n<p>I build it with Maven.</p>\n"},{"tags":["java","spring-boot","mongodb-query"],"owner":{"account_id":9371512,"reputation":1243,"user_id":8958651,"accept_rate":10,"display_name":"Jonio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676103101,"creation_date":1676100194,"question_id":75418694,"body_markdown":"What is the best approach, giving more of these documents in my Mongo collection, to return a result that for each name in Tokio city contains the number of each name has logged via Google and Facebook, and how many times gived the consent as true or false ?\r\n\r\n    class User{\r\n    \tprivate String name;\r\n    \tprivate String city;\r\n    \tprivate String login; //can be only Google or Facebook\r\n    \tprivate Boolean consent // true or false\r\n    \r\n    }\r\n\r\nResult can be an array of these object like :\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Paul&quot;,\r\n        &quot;registration&quot;: {\r\n          &quot;Google&quot;: 55,\r\n          &quot;Facebook&quot;: 22\r\n        },\r\n        &quot;consent&quot;: {\r\n          &quot;true&quot;: 6,\r\n          &quot;false&quot;: 1\r\n        }\r\n      }\r\n\r\nAnd I&#39;m approaching with :\r\n\r\n        Aggregation aggregation = Aggregation.newAggregation(\r\n                Aggregation.match(Criteria.where(&quot;city&quot;).is(&quot;Tokio&quot;)),\r\n                Aggregation.group // how build here\r\n        );\r\n        AggregationResults&lt;Result&gt; res = mongoTemplate.aggregate(aggregation, &quot;event&quot;, Result.class);\r\n\r\nWhat&#39;s the best way to make group and count?\r\n","title":"Group and count MongoDB java spring aggregation","body":"<p>What is the best approach, giving more of these documents in my Mongo collection, to return a result that for each name in Tokio city contains the number of each name has logged via Google and Facebook, and how many times gived the consent as true or false ?</p>\n<pre><code>class User{\n    private String name;\n    private String city;\n    private String login; //can be only Google or Facebook\n    private Boolean consent // true or false\n\n}\n</code></pre>\n<p>Result can be an array of these object like :</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Paul&quot;,\n    &quot;registration&quot;: {\n      &quot;Google&quot;: 55,\n      &quot;Facebook&quot;: 22\n    },\n    &quot;consent&quot;: {\n      &quot;true&quot;: 6,\n      &quot;false&quot;: 1\n    }\n  }\n</code></pre>\n<p>And I'm approaching with :</p>\n<pre><code>    Aggregation aggregation = Aggregation.newAggregation(\n            Aggregation.match(Criteria.where(&quot;city&quot;).is(&quot;Tokio&quot;)),\n            Aggregation.group // how build here\n    );\n    AggregationResults&lt;Result&gt; res = mongoTemplate.aggregate(aggregation, &quot;event&quot;, Result.class);\n</code></pre>\n<p>What's the best way to make group and count?</p>\n"},{"tags":["java","elasticsearch","nexus","orientdb","nexus3"],"comments":[{"owner":{"account_id":3471610,"reputation":15228,"user_id":2905768,"accept_rate":80,"display_name":"PMF"},"score":0,"creation_date":1676105497,"post_id":75418864,"comment_id":133073912,"body_markdown":"How much time does it take before you get these problems?","body":"How much time does it take before you get these problems?"},{"owner":{"account_id":2488420,"reputation":5122,"user_id":2166420,"display_name":"rseddon"},"score":2,"creation_date":1676246979,"post_id":75418864,"comment_id":133093724,"body_markdown":"Have you tried upgrading? Version 3.4.0 is very old, there have been over 40 releases since that came out.","body":"Have you tried upgrading? Version 3.4.0 is very old, there have been over 40 releases since that came out."}],"owner":{"account_id":27758697,"reputation":11,"user_id":21191566,"display_name":"buildwithjz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676103022,"creation_date":1676103022,"question_id":75418864,"body_markdown":"We&#39;ve encountered a sudden issue with our Nexus Repository Manager OSS 3.4.0 server running on a VM. The nexus UI, docker pulls/pushes all began timing out. Initial logs indicated a JVM OOM during garbage collection, which we attempted to address with a nexus service restart.\r\n\r\nFollowing this, each restart of both the nexus service and the VM itself allowed a few minutes of normality until users started experiencing timeouts once again.\r\n\r\nEach time, we observed errors from `org.elasticsearch.monitor.jvm`, implying there is a memory leak somewhere\r\n\r\n```\r\n-------------------------------------------------\r\n\r\nStarted Sonatype Nexus OSS 3.4.0-02\r\n\r\n-------------------------------------------------\r\n2023-02-11 05:43:43,849+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.ServerConnector - Started ServerConnector@222517ad{SSL,[ssl, http/1.1]}{0.0.0.0:8082}\r\n2023-02-11 05:43:43,850+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.ServerConnector - Started ServerConnector@6aa47140{SSL,[ssl, http/1.1]}{0.0.0.0:8083}\r\n2023-02-11 05:43:47,997+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &#39;Health Check: maven-central&#39; [healthcheck] state change WAITING -&gt; RUNNING\r\n2023-02-11 05:43:49,377+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.scheduling.internal.TaskSchedulerImpl - Task &#39;Health Check: maven-central&#39; [healthcheck] scheduled: hourly\r\n2023-02-11 05:43:49,381+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &#39;Health Check: maven-central&#39; [healthcheck] state change RUNNING -&gt; WAITING (OK)\r\n2023-02-11 05:46:09,341+0000 INFO  [qtp1622059521-199] *UNKNOWN org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Enabling session validation scheduler...\r\n2023-02-11 05:46:09,353+0000 INFO  [qtp1622059521-199] *UNKNOWN org.sonatype.nexus.internal.security.anonymous.AnonymousManagerImpl - Loaded configuration: AnonymousConfiguration{enabled=true, userId=&#39;anonymous&#39;, realmName=&#39;NexusAuthenticatingRealm&#39;}\r\n2023-02-11 05:47:33,161+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][215][270] duration [708ms], collections [1]/[1.2s], total [708ms]/[1.9m], memory [8gb]-&gt;[7.8gb]/[12gb], all_pools {[young] [0b]-&gt;[4mb]/[0b]}{[survivor] [56mb]-&gt;[60mb]/[0b]}{[old] [7.9gb]-&gt;[7.7gb]/[12gb]}\r\n2023-02-11 05:47:34,426+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][216][271] duration [727ms], collections [1]/[1.2s], total [727ms]/[1.9m], memory [7.8gb]-&gt;[7.7gb]/[12gb], all_pools {[young] [4mb]-&gt;[0b]/[0b]}{[survivor] [60mb]-&gt;[60mb]/[0b]}{[old] [7.7gb]-&gt;[7.6gb]/[12gb]}\r\n2023-02-11 05:50:02,078+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][old][331][1] duration [29.1s], collections [1]/[30.9s], total [29.1s]/[29.1s], memory [11.4gb]-&gt;[9.1gb]/[12gb], all_pools {[young] [0b]-&gt;[4mb]/[0b]}{[survivor] [32mb]-&gt;[0b]/[0b]}{[old] [11.4gb]-&gt;[9.1gb]/[12gb]}\r\n2023-02-11 05:50:02,092+0000 INFO  [quartz-2-thread-3] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &#39;Storage facet cleanup&#39; [repository.storage-facet-cleanup] state change WAITING -&gt; RUNNING\r\n2023-02-11 05:50:02,106+0000 INFO  [quartz-2-thread-3] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &#39;Storage facet cleanup&#39; [repository.storage-facet-cleanup] state change RUNNING -&gt; WAITING (OK)\r\n2023-02-11 05:51:13,155+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][400][466] duration [891ms], collections [1]/[1.3s], total [891ms]/[3.4m], memory [11.5gb]-&gt;[11.8gb]/[12gb], all_pools {[young] [128mb]-&gt;[0b]/[0b]}{[survivor] [48mb]-&gt;[16mb]/[0b]}{[old] [11.3gb]-&gt;[11.8gb]/[12gb]}\r\n2023-02-11 05:51:46,711+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][old][401][2] duration [33.1s], collections [1]/[33.5s], total [33.1s]/[1m], memory [11.8gb]-&gt;[10.8gb]/[12gb], all_pools {[young] [0b]-&gt;[0b]/[0b]}{[survivor] [16mb]-&gt;[0b]/[0b]}{[old] [11.8gb]-&gt;[10.8gb]/[12gb]}\r\n2023-02-11 05:52:04,488+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][418][486] duration [1.2s], collections [1]/[1.4s], total [1.2s]/[3.5m], memory [11.7gb]-&gt;[11.9gb]/[12gb], all_pools {[young] [340mb]-&gt;[0b]/[0b]}{[survivor] [40mb]-&gt;[4mb]/[0b]}{[old] [11.3gb]-&gt;[11.9gb]/[12gb]}\r\n\r\n```\r\n\r\nGiven the further details are below, is there anything I can do to recover our Nexus server from this state? Thanks in advance\r\n\r\n# What we expect\r\n\r\n* Normal CPU/memory usage following a restart\r\n* Graceful shutdown of nexus during `service nexus stop`\r\n\r\n# What we&#39;ve tried\r\n\r\n* Increasing both the host memory and JVM memory *significantly* to the following\r\n```\r\n-Xms12G\r\n-Xmx12G\r\n-XX:MaxDirectMemorySize=15G\r\n```\r\n* Disabling all deployments from our CI pipelines and microservice clusters - there should be no load on Nexus\r\n* Cancelling / deleting 5 duplicated repository reindex tasks in the Nexus UI \r\n\r\n# What we observed\r\n\r\n* Consistent timeouts after a few minutes of normal usage - nexus memory is at 100%\r\n* Inability for nexus to gracefully shutdown - I&#39;ve had to resort to `kill -9 [PID]` to restart the service\r\n* Memory \r\n* Elasticsearch GC is using all of the JVM heap - according to logs \r\n* Multiple repository reindexing tasks are stuck in in `Cancelling` (unsure if related, but is identical to the issue described here - https://issues.sonatype.org/browse/NEXUS-13121)\r\n","title":"Nexus Repository OSS 3.4.0 Unusable due to memory leak","body":"<p>We've encountered a sudden issue with our Nexus Repository Manager OSS 3.4.0 server running on a VM. The nexus UI, docker pulls/pushes all began timing out. Initial logs indicated a JVM OOM during garbage collection, which we attempted to address with a nexus service restart.</p>\n<p>Following this, each restart of both the nexus service and the VM itself allowed a few minutes of normality until users started experiencing timeouts once again.</p>\n<p>Each time, we observed errors from <code>org.elasticsearch.monitor.jvm</code>, implying there is a memory leak somewhere</p>\n<pre><code>-------------------------------------------------\n\nStarted Sonatype Nexus OSS 3.4.0-02\n\n-------------------------------------------------\n2023-02-11 05:43:43,849+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.ServerConnector - Started ServerConnector@222517ad{SSL,[ssl, http/1.1]}{0.0.0.0:8082}\n2023-02-11 05:43:43,850+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.ServerConnector - Started ServerConnector@6aa47140{SSL,[ssl, http/1.1]}{0.0.0.0:8083}\n2023-02-11 05:43:47,997+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task 'Health Check: maven-central' [healthcheck] state change WAITING -&gt; RUNNING\n2023-02-11 05:43:49,377+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.scheduling.internal.TaskSchedulerImpl - Task 'Health Check: maven-central' [healthcheck] scheduled: hourly\n2023-02-11 05:43:49,381+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task 'Health Check: maven-central' [healthcheck] state change RUNNING -&gt; WAITING (OK)\n2023-02-11 05:46:09,341+0000 INFO  [qtp1622059521-199] *UNKNOWN org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Enabling session validation scheduler...\n2023-02-11 05:46:09,353+0000 INFO  [qtp1622059521-199] *UNKNOWN org.sonatype.nexus.internal.security.anonymous.AnonymousManagerImpl - Loaded configuration: AnonymousConfiguration{enabled=true, userId='anonymous', realmName='NexusAuthenticatingRealm'}\n2023-02-11 05:47:33,161+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][215][270] duration [708ms], collections [1]/[1.2s], total [708ms]/[1.9m], memory [8gb]-&gt;[7.8gb]/[12gb], all_pools {[young] [0b]-&gt;[4mb]/[0b]}{[survivor] [56mb]-&gt;[60mb]/[0b]}{[old] [7.9gb]-&gt;[7.7gb]/[12gb]}\n2023-02-11 05:47:34,426+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][216][271] duration [727ms], collections [1]/[1.2s], total [727ms]/[1.9m], memory [7.8gb]-&gt;[7.7gb]/[12gb], all_pools {[young] [4mb]-&gt;[0b]/[0b]}{[survivor] [60mb]-&gt;[60mb]/[0b]}{[old] [7.7gb]-&gt;[7.6gb]/[12gb]}\n2023-02-11 05:50:02,078+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][old][331][1] duration [29.1s], collections [1]/[30.9s], total [29.1s]/[29.1s], memory [11.4gb]-&gt;[9.1gb]/[12gb], all_pools {[young] [0b]-&gt;[4mb]/[0b]}{[survivor] [32mb]-&gt;[0b]/[0b]}{[old] [11.4gb]-&gt;[9.1gb]/[12gb]}\n2023-02-11 05:50:02,092+0000 INFO  [quartz-2-thread-3] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task 'Storage facet cleanup' [repository.storage-facet-cleanup] state change WAITING -&gt; RUNNING\n2023-02-11 05:50:02,106+0000 INFO  [quartz-2-thread-3] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task 'Storage facet cleanup' [repository.storage-facet-cleanup] state change RUNNING -&gt; WAITING (OK)\n2023-02-11 05:51:13,155+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][400][466] duration [891ms], collections [1]/[1.3s], total [891ms]/[3.4m], memory [11.5gb]-&gt;[11.8gb]/[12gb], all_pools {[young] [128mb]-&gt;[0b]/[0b]}{[survivor] [48mb]-&gt;[16mb]/[0b]}{[old] [11.3gb]-&gt;[11.8gb]/[12gb]}\n2023-02-11 05:51:46,711+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][old][401][2] duration [33.1s], collections [1]/[33.5s], total [33.1s]/[1m], memory [11.8gb]-&gt;[10.8gb]/[12gb], all_pools {[young] [0b]-&gt;[0b]/[0b]}{[survivor] [16mb]-&gt;[0b]/[0b]}{[old] [11.8gb]-&gt;[10.8gb]/[12gb]}\n2023-02-11 05:52:04,488+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][418][486] duration [1.2s], collections [1]/[1.4s], total [1.2s]/[3.5m], memory [11.7gb]-&gt;[11.9gb]/[12gb], all_pools {[young] [340mb]-&gt;[0b]/[0b]}{[survivor] [40mb]-&gt;[4mb]/[0b]}{[old] [11.3gb]-&gt;[11.9gb]/[12gb]}\n\n</code></pre>\n<p>Given the further details are below, is there anything I can do to recover our Nexus server from this state? Thanks in advance</p>\n<h1>What we expect</h1>\n<ul>\n<li>Normal CPU/memory usage following a restart</li>\n<li>Graceful shutdown of nexus during <code>service nexus stop</code></li>\n</ul>\n<h1>What we've tried</h1>\n<ul>\n<li>Increasing both the host memory and JVM memory <em>significantly</em> to the following</li>\n</ul>\n<pre><code>-Xms12G\n-Xmx12G\n-XX:MaxDirectMemorySize=15G\n</code></pre>\n<ul>\n<li>Disabling all deployments from our CI pipelines and microservice clusters - there should be no load on Nexus</li>\n<li>Cancelling / deleting 5 duplicated repository reindex tasks in the Nexus UI</li>\n</ul>\n<h1>What we observed</h1>\n<ul>\n<li>Consistent timeouts after a few minutes of normal usage - nexus memory is at 100%</li>\n<li>Inability for nexus to gracefully shutdown - I've had to resort to <code>kill -9 [PID]</code> to restart the service</li>\n<li>Memory</li>\n<li>Elasticsearch GC is using all of the JVM heap - according to logs</li>\n<li>Multiple repository reindexing tasks are stuck in in <code>Cancelling</code> (unsure if related, but is identical to the issue described here - <a href=\"https://issues.sonatype.org/browse/NEXUS-13121\" rel=\"nofollow noreferrer\">https://issues.sonatype.org/browse/NEXUS-13121</a>)</li>\n</ul>\n"},{"tags":["java","android","android-studio","android-studio-electric-eel"],"comments":[{"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"score":0,"creation_date":1674047341,"post_id":75159353,"comment_id":132630771,"body_markdown":"It is recommended to use ```jdk``` supplied together with ```Gradle JDK```.","body":"It is recommended to use <code>jdk</code> supplied together with <code>Gradle JDK</code>."},{"owner":{"account_id":10286042,"reputation":527,"user_id":7589309,"accept_rate":100,"display_name":"Mike"},"score":0,"creation_date":1676431460,"post_id":75159353,"comment_id":133133991,"body_markdown":"I have the same issue. after Eel upgrade.  When it fails, this notification appears at the bottom: \n\nMultiple Gradle daemons might be spawned because the Gradle JDK and JAVA_HOME locations are different. Project &#39;Auth Module&#39; is using the following JDK location when running Gradle: &#39;C:/Users/Mike/.jdks/corretto-1.8.0_332&#39; The system environment variable JAVA_HOME is: &#39;C:\\Program Files\\Android\\Android Studio\\jbr&#39; If you dont need to use different paths (or if JAVA_HOME is undefined), youcan avoid spawning multiple daemons by setting JAVA_HOME and the JDK locationto the same path.","body":"I have the same issue. after Eel upgrade.  When it fails, this notification appears at the bottom:   Multiple Gradle daemons might be spawned because the Gradle JDK and JAVA_HOME locations are different. Project &#39;Auth Module&#39; is using the following JDK location when running Gradle: &#39;C:/Users/Mike/.jdks/corretto-1.8.0_332&#39; The system environment variable JAVA_HOME is: &#39;C:\\Program Files\\Android\\Android Studio\\jbr&#39; If you dont need to use different paths (or if JAVA_HOME is undefined), youcan avoid spawning multiple daemons by setting JAVA_HOME and the JDK locationto the same path."},{"owner":{"account_id":10286042,"reputation":527,"user_id":7589309,"accept_rate":100,"display_name":"Mike"},"score":0,"creation_date":1676431552,"post_id":75159353,"comment_id":133134000,"body_markdown":"It is fixed (temporarily) by selecting one of the others like &quot;Use embedded LDK version&quot;","body":"It is fixed (temporarily) by selecting one of the others like &quot;Use embedded LDK version&quot;"}],"answers":[{"comments":[{"owner":{"account_id":10286042,"reputation":527,"user_id":7589309,"accept_rate":100,"display_name":"Mike"},"score":0,"creation_date":1676431397,"post_id":75418828,"comment_id":133133985,"body_markdown":"I have the same problem and this did not resolve it.","body":"I have the same problem and this did not resolve it."}],"tags":[],"owner":{"account_id":14710769,"reputation":1,"user_id":10624174,"display_name":"Md Fazle Rabby"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676102333,"creation_date":1676102333,"answer_id":75418828,"question_id":75159353,"body_markdown":"Update JAVA_HOME to C:\\Program Files\\Android\\Android Studio\\jbr\r\n\r\nOpen File Explorer and Navigate to C:\\Program Files\\Android\\Android Studio\\jbr and copy everything and paste it to C:\\Program Files\\Android\\Android Studio\\jre\r\n\r\nRestart your PC and try to run the project again.","title":"How can I set Android Studio Electric Eel to automatically choice my java home version?","body":"<p>Update JAVA_HOME to C:\\Program Files\\Android\\Android Studio\\jbr</p>\n<p>Open File Explorer and Navigate to C:\\Program Files\\Android\\Android Studio\\jbr and copy everything and paste it to C:\\Program Files\\Android\\Android Studio\\jre</p>\n<p>Restart your PC and try to run the project again.</p>\n"}],"owner":{"account_id":26860630,"reputation":85,"user_id":20444195,"display_name":"Sezai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676102333,"creation_date":1674045483,"question_id":75159353,"body_markdown":"I updated my Android Studio to Electric Eel. The problem is that every time I create a new project, I have to select the correct Gradle JDK from the Gradle of Settings. Otherwise, it gets the wrong JDK path and throws an error. In Dolphin, it was always getting the correct JDK. \r\n\r\nHow can I set Android Studio to automatically choice my java home version?\r\n\r\nThe other JDK choices are in below. Should I delete others? Or should I give specified location?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z0VI6.jpg","title":"How can I set Android Studio Electric Eel to automatically choice my java home version?","body":"<p>I updated my Android Studio to Electric Eel. The problem is that every time I create a new project, I have to select the correct Gradle JDK from the Gradle of Settings. Otherwise, it gets the wrong JDK path and throws an error. In Dolphin, it was always getting the correct JDK.</p>\n<p>How can I set Android Studio to automatically choice my java home version?</p>\n<p>The other JDK choices are in below. Should I delete others? Or should I give specified location?</p>\n<p><a href=\"https://i.stack.imgur.com/Z0VI6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z0VI6.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","google-maps"],"comments":[{"owner":{"account_id":3111878,"reputation":1597,"user_id":2633467,"accept_rate":80,"display_name":"Dhaval"},"score":1,"creation_date":1385986368,"post_id":20327863,"comment_id":30337580,"body_markdown":"Because of low connection speed, map might be blurry. When you Zoom in, new frames are loaded, and that requires more data, which on low speed connection will cause blurry map at first.","body":"Because of low connection speed, map might be blurry. When you Zoom in, new frames are loaded, and that requires more data, which on low speed connection will cause blurry map at first."},{"owner":{"account_id":1226929,"reputation":51,"user_id":1192308,"display_name":"Amit Shtober"},"score":0,"creation_date":1385986611,"post_id":20327863,"comment_id":30337751,"body_markdown":"@Dhaval No, this is not the problem. My connection speed is more than great. And also, as I said, it does not happen in the google maps application.","body":"@Dhaval No, this is not the problem. My connection speed is more than great. And also, as I said, it does not happen in the google maps application."},{"owner":{"account_id":3039693,"reputation":1695,"user_id":2577020,"accept_rate":20,"display_name":"Tomero Indonesia"},"score":0,"creation_date":1571236034,"post_id":20327863,"comment_id":103174146,"body_markdown":"Do you have solution? I have same issue.","body":"Do you have solution? I have same issue."}],"answers":[{"tags":[],"owner":{"account_id":4782126,"reputation":1272,"user_id":3863575,"accept_rate":50,"display_name":"SlyBeaver"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1427771629,"creation_date":1427771629,"answer_id":29359987,"question_id":20327863,"body_markdown":"You can try to start the camera in the Ui Thread. This improves the situation for me.\r\n\r\n    activity.runOnUiThread(new Runnable() {\r\n\r\n                    @Override\r\n                    public void run() {\r\n                        CameraPosition cameraPosition =\r\n                                new CameraPosition.Builder()\r\n                                        .target(new LatLng(myLocation.getLatitude(), myLocation.getLongitude()))\r\n                                        .tilt(70)\r\n                                        .zoom(zoom)\r\n                                        .build();\r\n                        googleMap.animateCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\r\n                    }\r\n                });","title":"Blur google map v2 after zooming in android","body":"<p>You can try to start the camera in the Ui Thread. This improves the situation for me.</p>\n\n<pre><code>activity.runOnUiThread(new Runnable() {\n\n                @Override\n                public void run() {\n                    CameraPosition cameraPosition =\n                            new CameraPosition.Builder()\n                                    .target(new LatLng(myLocation.getLatitude(), myLocation.getLongitude()))\n                                    .tilt(70)\n                                    .zoom(zoom)\n                                    .build();\n                    googleMap.animateCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6152031,"reputation":1,"user_id":4796190,"display_name":"Mihai Kato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676101933,"creation_date":1676101933,"answer_id":75418802,"question_id":20327863,"body_markdown":"NEW: I did implement the new map renderer from SDK 18+  and improved my maps, now 5x faster &amp; smoother. https://developers.google.com/maps/documentation/android-sdk/renderer\r\n\r\nAdd this to your build.Gradle\r\n**implementation &quot;com.google.android.gms:play-services-maps:18.1.0&quot;**\r\n\r\nIn your app (MainActivity)\r\n\r\n    import com.google.android.gms.maps.MapsInitializer;\r\n    import com.google.android.gms.maps.MapsInitializer.Renderer;\r\n    import com.google.android.gms.maps.OnMapsSdkInitializedCallback;\r\n    \r\n    class MapRendererOptInApplication extends Application implements **OnMapsSdkInitializedCallback** {\r\n    \r\n      @Override\r\n      public void onCreate() {\r\n        super.onCreate();\r\n        **MapsInitializer.initialize(getApplicationContext(), Renderer.LATEST, this);**\r\n      }\r\n    \r\n      @Override\r\n      public void onMapsSdkInitialized(MapsInitializer.Renderer renderer) {\r\n        switch (renderer) {\r\n          case LATEST:\r\n            Log.d(&quot;MapsDemo&quot;, &quot;The latest version of the renderer is used.&quot;);\r\n            break;\r\n          case LEGACY:\r\n            Log.d(&quot;MapsDemo&quot;, &quot;The legacy version of the renderer is used.&quot;);\r\n            break;\r\n        }\r\n      }\r\n    }\r\n\r\n      \r\n","title":"Blur google map v2 after zooming in android","body":"<p>NEW: I did implement the new map renderer from SDK 18+  and improved my maps, now 5x faster &amp; smoother. <a href=\"https://developers.google.com/maps/documentation/android-sdk/renderer\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/android-sdk/renderer</a></p>\n<p>Add this to your build.Gradle\n<strong>implementation &quot;com.google.android.gms:play-services-maps:18.1.0&quot;</strong></p>\n<p>In your app (MainActivity)</p>\n<pre><code>import com.google.android.gms.maps.MapsInitializer;\nimport com.google.android.gms.maps.MapsInitializer.Renderer;\nimport com.google.android.gms.maps.OnMapsSdkInitializedCallback;\n\nclass MapRendererOptInApplication extends Application implements **OnMapsSdkInitializedCallback** {\n\n  @Override\n  public void onCreate() {\n    super.onCreate();\n    **MapsInitializer.initialize(getApplicationContext(), Renderer.LATEST, this);**\n  }\n\n  @Override\n  public void onMapsSdkInitialized(MapsInitializer.Renderer renderer) {\n    switch (renderer) {\n      case LATEST:\n        Log.d(&quot;MapsDemo&quot;, &quot;The latest version of the renderer is used.&quot;);\n        break;\n      case LEGACY:\n        Log.d(&quot;MapsDemo&quot;, &quot;The legacy version of the renderer is used.&quot;);\n        break;\n    }\n  }\n}\n\n  \n</code></pre>\n"}],"owner":{"account_id":1226929,"reputation":51,"user_id":1192308,"display_name":"Amit Shtober"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1524,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676101933,"creation_date":1385985800,"question_id":20327863,"body_markdown":"I&#39;m developing a program in android with googlemapsv2 api.\r\n\r\nThere is a small problem - At first, when the map is first initialized, it is looking great. But after i am trying to zoom and see roads, the map becomes blur and not clear.\r\n\r\nIs there any attribute that I should put in order that the zoom will work fine?\r\nIn google maps application it works just fine.\r\n\r\nThank you.\r\n","title":"Blur google map v2 after zooming in android","body":"<p>I'm developing a program in android with googlemapsv2 api.</p>\n\n<p>There is a small problem - At first, when the map is first initialized, it is looking great. But after i am trying to zoom and see roads, the map becomes blur and not clear.</p>\n\n<p>Is there any attribute that I should put in order that the zoom will work fine?\nIn google maps application it works just fine.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","xsd","type-conversion","jaxb","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":13113269,"reputation":86,"user_id":9473464,"display_name":"Elie Azoury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676101673,"creation_date":1651841390,"answer_id":72141740,"question_id":72141627,"body_markdown":"You can use model mapper library : https://www.baeldung.com/java-modelmapper\r\n\r\nExample of what you can do:\r\n\r\n    List&lt;Carb&gt; lb = new ArrayList();\r\n\r\n    for (Cara a : la )\r\n        lb.add(mapper.map(a, Carb.class))","title":"Pojo Conversion with HibernateMapping &amp; Jaxb","body":"<p>You can use model mapper library : <a href=\"https://www.baeldung.com/java-modelmapper\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-modelmapper</a></p>\n<p>Example of what you can do:</p>\n<pre><code>List&lt;Carb&gt; lb = new ArrayList();\n\nfor (Cara a : la )\n    lb.add(mapper.map(a, Carb.class))\n</code></pre>\n"}],"owner":{"account_id":24507162,"reputation":1,"user_id":18422013,"display_name":"ekwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676101673,"creation_date":1651840838,"question_id":72141627,"body_markdown":"I have two Pojo classes, one for hibernate mapping and one for jaxb.\r\nSo I get a `List&lt;CarA&gt;` using `Criteria.list()` and I would like to transform it into a `List&lt;CarB&gt;` in order to send it back to my client as a SOAP message.\r\n\r\nWould you have any idea how to do the conversion from `CarA` to `CarB`? \r\n\r\nMy list contains more than 100 elements and the construction gets expensive very fast.\r\n\r\nI wish I didn&#39;t have to build a list from A to Z.\r\n\r\nThanks for your help\r\n","title":"Pojo Conversion with HibernateMapping &amp; Jaxb","body":"<p>I have two Pojo classes, one for hibernate mapping and one for jaxb.\nSo I get a <code>List&lt;CarA&gt;</code> using <code>Criteria.list()</code> and I would like to transform it into a <code>List&lt;CarB&gt;</code> in order to send it back to my client as a SOAP message.</p>\n<p>Would you have any idea how to do the conversion from <code>CarA</code> to <code>CarB</code>?</p>\n<p>My list contains more than 100 elements and the construction gets expensive very fast.</p>\n<p>I wish I didn't have to build a list from A to Z.</p>\n<p>Thanks for your help</p>\n"},{"tags":["java","image","user-interface","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1676103366,"post_id":75418728,"comment_id":133073664,"body_markdown":"Since the image is in the src directory, it’s likely embedded, so you’ll need to use Class#getResource to get a reference to and you should probably use ImageIO.read to load the image","body":"Since the image is in the src directory, it’s likely embedded, so you’ll need to use Class#getResource to get a reference to and you should probably use ImageIO.read to load the image"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676114325,"post_id":75418728,"comment_id":133075160,"body_markdown":"Good advice from @MadProgrammer. Use `introBackground = new ImageIcon(getClass().getResourceAsStream(&quot;/images/introBackground.jpg&quot;)).getImage();` and get rid of `screenDraw` - it&#39;s likely to cause infinite recursion.","body":"Good advice from @MadProgrammer. Use <code>introBackground = new ImageIcon(getClass().getResourceAsStream(&quot;&#47;images&#47;introBackg&zwnj;&#8203;round.jpg&quot;)).getImag&zwnj;&#8203;e();</code> and get rid of <code>screenDraw</code> - it&#39;s likely to cause infinite recursion."}],"owner":{"account_id":27000200,"reputation":1,"user_id":20561601,"display_name":"Raina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676100747,"creation_date":1676100747,"question_id":75418728,"body_markdown":"I am a new java learner :&gt;\r\n\r\nI want to display the image to GUI program using JFrame in java.\r\nBut the image is not showed up..\r\n\r\n\r\n\r\n---\r\n\r\n\r\nDynamicBeat.java\r\n~~~lang-java\r\npackage dynamic_beat_2;\r\n\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\n\r\npublic class DynamicBeat extends JFrame{\r\n\t\r\n\tprivate Image screenImage;\r\n\tprivate Graphics screenGraphic;\r\n\t\r\n\tprivate Image introBackground;\r\n\t\r\n\tpublic DynamicBeat() {\r\n\t\tsetTitle(&quot;Dynamic Beat&quot;);\r\n\t\tsetSize(Main.SCREEN_WIDTH, Main.SCREEN_HEIGHT);\t\r\n\t\tsetResizable(false); \r\n\t\tsetLocationRelativeTo(null); \r\n\t\t\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n\t\t\r\n\t\tsetVisible(true);\t\r\n\t\t\r\n\t\tintroBackground = new ImageIcon(&quot;../images/introBackground.jpg&quot;).getImage();\r\n\t}\r\n\r\n\tpublic void paint(Graphics g) {\r\n\t\tscreenImage = createImage(Main.SCREEN_WIDTH, Main.SCREEN_HEIGHT);\r\n\t\tscreenGraphic = screenImage.getGraphics();\r\n\t\tscreenDraw(screenGraphic);\r\n\t\tg.drawImage(screenImage, 0, 0, null);\r\n\t\r\n\tpublic void screenDraw(Graphics g) {\r\n\t\tg.drawImage(introBackground, 0, 0, null);\r\n\t\tthis.repaint();\t\r\n~~~\r\n\r\n---\r\n\r\nMain.java\r\n~~~lang-java\r\npackage dynamic_beat_2;\r\n\r\npublic class Main {\r\n\r\n\tpublic static final int SCREEN_WIDTH = 1280;\r\n\tpublic static final int SCREEN_HEIGHT = 720;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tnew DynamicBeat();\r\n\t}\r\n\r\n}\r\n\r\n~~~\r\n\r\n---\r\n\r\ndynamic_beat2 =&gt; C:\\Tech\\project\\DynamicBeat\\src\\dynamic_beat_2\r\n\r\nintroBackground =&gt; C:\\Tech\\project\\DynamicBeat\\src\\images\\introBackground.jpg\r\n\r\n\r\n---\r\n\r\n\r\n1. I tried changing &#39;paint()&#39; to &#39;paintComponent()&#39;.\r\n2. I tried changing form of the resource\r\n  - (&quot;../images/introBackground.jpg&quot;)\r\n  - (&quot;/images/introBackground.jpg&quot;)\r\n  - (&quot;introBackground.jpg&quot;)\r\n  - ...\r\n \r\n3. It was my code before changing to present code as above.\r\n~~~lang-java\r\nintroBackground = new ImageIcon(Main.class.getResource(&quot;../images/introBackground.jpg&quot;)).getImage();\r\n\t}\r\n~~~\r\n  but I got the error from this code. \r\n\r\n```\r\n Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot;\r\n\r\n\r\n```\r\n4. Eclipes (Version: 2022-12 (4.26.0))\r\n\r\nJava (Version: 17.0.6)\r\n\r\n\r\n\r\n\r\n","title":"I tried to show up the image file to gui program using JFrame in java","body":"<p>I am a new java learner :&gt;</p>\n<p>I want to display the image to GUI program using JFrame in java.\nBut the image is not showed up..</p>\n<hr />\n<p>DynamicBeat.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package dynamic_beat_2;\n\nimport java.awt.Graphics;\nimport java.awt.Image;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\n\npublic class DynamicBeat extends JFrame{\n    \n    private Image screenImage;\n    private Graphics screenGraphic;\n    \n    private Image introBackground;\n    \n    public DynamicBeat() {\n        setTitle(&quot;Dynamic Beat&quot;);\n        setSize(Main.SCREEN_WIDTH, Main.SCREEN_HEIGHT); \n        setResizable(false); \n        setLocationRelativeTo(null); \n        \n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n        \n        setVisible(true);   \n        \n        introBackground = new ImageIcon(&quot;../images/introBackground.jpg&quot;).getImage();\n    }\n\n    public void paint(Graphics g) {\n        screenImage = createImage(Main.SCREEN_WIDTH, Main.SCREEN_HEIGHT);\n        screenGraphic = screenImage.getGraphics();\n        screenDraw(screenGraphic);\n        g.drawImage(screenImage, 0, 0, null);\n    \n    public void screenDraw(Graphics g) {\n        g.drawImage(introBackground, 0, 0, null);\n        this.repaint(); \n</code></pre>\n<hr />\n<p>Main.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package dynamic_beat_2;\n\npublic class Main {\n\n    public static final int SCREEN_WIDTH = 1280;\n    public static final int SCREEN_HEIGHT = 720;\n    \n    public static void main(String[] args) {\n        new DynamicBeat();\n    }\n\n}\n\n</code></pre>\n<hr />\n<p>dynamic_beat2 =&gt; C:\\Tech\\project\\DynamicBeat\\src\\dynamic_beat_2</p>\n<p>introBackground =&gt; C:\\Tech\\project\\DynamicBeat\\src\\images\\introBackground.jpg</p>\n<hr />\n<ol>\n<li>I tried changing 'paint()' to 'paintComponent()'.</li>\n<li>I tried changing form of the resource</li>\n</ol>\n<ul>\n<li>(&quot;../images/introBackground.jpg&quot;)</li>\n<li>(&quot;/images/introBackground.jpg&quot;)</li>\n<li>(&quot;introBackground.jpg&quot;)</li>\n<li>...</li>\n</ul>\n<ol start=\"3\">\n<li>It was my code before changing to present code as above.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>introBackground = new ImageIcon(Main.class.getResource(&quot;../images/introBackground.jpg&quot;)).getImage();\n    }\n</code></pre>\n<p>but I got the error from this code.</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot;\n\n\n</code></pre>\n<ol start=\"4\">\n<li>Eclipes (Version: 2022-12 (4.26.0))</li>\n</ol>\n<p>Java (Version: 17.0.6)</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"score":0,"creation_date":1676249964,"post_id":75418704,"comment_id":133093968,"body_markdown":"Thanks @ruakh for the great answer, understood now. static method&#39;s type parameters matter.","body":"Thanks @ruakh for the great answer, understood now. static method&#39;s type parameters matter."}],"tags":[],"owner":{"account_id":953149,"reputation":177313,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676100390,"creation_date":1676100390,"answer_id":75418704,"question_id":75418644,"body_markdown":"&gt; This method is a generic method with 2 generic parameters, `T` and `U`, It looks to me that `T` is also defined at method level as `U`, and has no relation with the `T` in `Comparator&lt;T&gt;`?\r\n\r\nCorrect. In Java, a static method can&#39;t refer to the class&#39;s or interface&#39;s type parameters, because it&#39;s the same static method no matter what the type arguments are. (There isn&#39;t a `Comparator&lt;Integer&gt;.comparing(...)` and a `Comparator&lt;String&gt;.comparing(...)`, just a single `Comparator.comparing(...)`.)\r\n\r\nSo while it&#39;s totally fine for a static method to be generic, its type parameters are separate from those of the class or interface. (In this case that could be `Comparator.&lt;Integer&gt;comparing(...)` or `Comparator.&lt;String&gt;comparing(...)` or the like &amp;mdash; note that the type argument is written *after* the dot &amp;mdash; but in most cases you can just write `Comparator.comparing(...)` and let the compiler infer the right type arguments anyway.)\r\n\r\n&gt; But with the following code,it looks that both `T` are same? I am confused.\r\n\r\nThey happen to be the same, yes. `Comparator.&lt;File&gt;comparing(...)` returns an instance of `Comparator&lt;File&gt;`, so basically any use of `Comparator.&lt;File&gt;comparing(...)` will have a corresponding use of `Comparator&lt;File&gt;`. (And likewise for any other type argument, obviously.)\r\n\r\nIn this case the compiler can tell that it&#39;s `Comparator.&lt;File&gt;comparing(...)` and not `Comparator.&lt;Integer&gt;comparing(...)`, because the latter would return the wrong type; and it can therefore tell which `Inner::getValue` is meant, because only one of them has the right type to be passed into `Comparator.&lt;File&gt;comparing(...)`.\r\n\r\nDoes that make sense?","title":"Confused with class level generics parameter and method level generics parameter","body":"<blockquote>\n<p>This method is a generic method with 2 generic parameters, <code>T</code> and <code>U</code>, It looks to me that <code>T</code> is also defined at method level as <code>U</code>, and has no relation with the <code>T</code> in <code>Comparator&lt;T&gt;</code>?</p>\n</blockquote>\n<p>Correct. In Java, a static method can't refer to the class's or interface's type parameters, because it's the same static method no matter what the type arguments are. (There isn't a <code>Comparator&lt;Integer&gt;.comparing(...)</code> and a <code>Comparator&lt;String&gt;.comparing(...)</code>, just a single <code>Comparator.comparing(...)</code>.)</p>\n<p>So while it's totally fine for a static method to be generic, its type parameters are separate from those of the class or interface. (In this case that could be <code>Comparator.&lt;Integer&gt;comparing(...)</code> or <code>Comparator.&lt;String&gt;comparing(...)</code> or the like — note that the type argument is written <em>after</em> the dot — but in most cases you can just write <code>Comparator.comparing(...)</code> and let the compiler infer the right type arguments anyway.)</p>\n<blockquote>\n<p>But with the following code,it looks that both <code>T</code> are same? I am confused.</p>\n</blockquote>\n<p>They happen to be the same, yes. <code>Comparator.&lt;File&gt;comparing(...)</code> returns an instance of <code>Comparator&lt;File&gt;</code>, so basically any use of <code>Comparator.&lt;File&gt;comparing(...)</code> will have a corresponding use of <code>Comparator&lt;File&gt;</code>. (And likewise for any other type argument, obviously.)</p>\n<p>In this case the compiler can tell that it's <code>Comparator.&lt;File&gt;comparing(...)</code> and not <code>Comparator.&lt;Integer&gt;comparing(...)</code>, because the latter would return the wrong type; and it can therefore tell which <code>Inner::getValue</code> is meant, because only one of them has the right type to be passed into <code>Comparator.&lt;File&gt;comparing(...)</code>.</p>\n<p>Does that make sense?</p>\n"}],"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75418704,"answer_count":1,"score":0,"last_activity_date":1676100390,"creation_date":1676099477,"question_id":75418644,"body_markdown":"The following is the interface signature of Comparator interface, it is a generic interface using `T` as the generics parameter.\r\n\r\n```\r\npublic interface Comparator&lt;T&gt; {\r\n ....\r\n}\r\n```\r\n\r\nThe interface has a default method defined as follows:\r\n\r\n```\r\n    public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\r\n            Function&lt;? super T, ? extends U&gt; keyExtractor)\r\n```\r\n\r\nThis method is a generic method with 2 generic parameters, `T` and `U`, It looks to me that `T` is also defined at method level as `U`, and has no relation with the `T` in `Comparator&lt;T&gt;`?\r\n\r\n\r\nBut with the following code,it looks that both `T` are same? I am confused.\r\n\r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.util.Comparator;\r\n\r\nclass Inner {\r\n    public static String getValue(File f) {\r\n        return f.getName();\r\n    }\r\n    public static String getValue2(Integer i) {\r\n        return &quot;&quot; + i;\r\n    }\r\n}\r\n\r\npublic class Question {\r\n    public static void main(String[] args) {\r\n//getValue must use File as the parameter.\r\n        Comparator&lt;File&gt; fileComparator = Comparator.comparing(Inner::getValue); \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Confused with class level generics parameter and method level generics parameter","body":"<p>The following is the interface signature of Comparator interface, it is a generic interface using <code>T</code> as the generics parameter.</p>\n<pre><code>public interface Comparator&lt;T&gt; {\n ....\n}\n</code></pre>\n<p>The interface has a default method defined as follows:</p>\n<pre><code>    public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\n            Function&lt;? super T, ? extends U&gt; keyExtractor)\n</code></pre>\n<p>This method is a generic method with 2 generic parameters, <code>T</code> and <code>U</code>, It looks to me that <code>T</code> is also defined at method level as <code>U</code>, and has no relation with the <code>T</code> in <code>Comparator&lt;T&gt;</code>?</p>\n<p>But with the following code,it looks that both <code>T</code> are same? I am confused.</p>\n<pre><code>import java.io.File;\nimport java.util.Comparator;\n\nclass Inner {\n    public static String getValue(File f) {\n        return f.getName();\n    }\n    public static String getValue2(Integer i) {\n        return &quot;&quot; + i;\n    }\n}\n\npublic class Question {\n    public static void main(String[] args) {\n//getValue must use File as the parameter.\n        Comparator&lt;File&gt; fileComparator = Comparator.comparing(Inner::getValue); \n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676100183,"creation_date":1676100183,"answer_id":75418693,"question_id":75418458,"body_markdown":"You can mock multiple interactions by chaining `.thenReturn()`:\r\n\r\n```java\r\nwhen(mockedCloseableHttpClient.execute(any(HttpGet.class)))\r\n  .thenReturn(mockedCloseableHttpResponse) // first invocation returns this\r\n  .thenReturn(yourSecondResponse); // second one\r\n\r\n```","title":"Mock HTTP Client that is called twice in the same function - Java Spring boot","body":"<p>You can mock multiple interactions by chaining <code>.thenReturn()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(mockedCloseableHttpClient.execute(any(HttpGet.class)))\n  .thenReturn(mockedCloseableHttpResponse) // first invocation returns this\n  .thenReturn(yourSecondResponse); // second one\n\n</code></pre>\n"}],"owner":{"account_id":18147973,"reputation":41,"user_id":15923335,"display_name":"devumesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676100183,"creation_date":1676096622,"question_id":75418458,"body_markdown":"I was trying to mock Java `HttpClient` using Mockito. \r\n\r\nMockito-core: `v2.15.0`, \r\nMockito-junit-jupiter: `v2.23.0`\r\n\r\nMy code looks something like this\r\n```\r\nclass Someclass {\r\n    public String funcA(String s) {\r\n        HttpClient httpClient = HttpClientBuilder.create().build();\r\n        try {\r\n            HttpGet httpget = new HttpGet(uri1);\r\n            HttpResponse httpresponse = httpClient.execute(httpget);\r\n            // some logic\r\n        }\r\n        catch (Exception err) System.out.println(err);\r\n        \r\n        // executed only if failed on first http client call\r\n        try {\r\n            HttpGet httpget = new HttpGet(uri2);\r\n            HttpResponse httpresponse = httpClient.execute(httpget);\r\n            // some logic\r\n        }\r\n        catch (Exception err) System.out.println(err);\r\n    \r\n}\r\n```\r\nI was able to mock the first Http call from `HttpClient` successfully using the below code\r\n\r\n```\r\nwhen(mockedCloseableHttpResponse.getEntity()).thenReturn(mockedHttpEntity);\r\nwhen(mockedHttpEntity.getContent()).thenReturn(inputStream);\r\nwhen(mockedCloseableHttpClient.execute(any(HttpGet.class))).thenReturn(mockedCloseableHttpResponse);\r\n```\r\n\r\nI was not able to mock the second HttpClient call. Help me fix this mocking problem. Please suggest if any logic needs to be changed. Thanks","title":"Mock HTTP Client that is called twice in the same function - Java Spring boot","body":"<p>I was trying to mock Java <code>HttpClient</code> using Mockito.</p>\n<p>Mockito-core: <code>v2.15.0</code>,\nMockito-junit-jupiter: <code>v2.23.0</code></p>\n<p>My code looks something like this</p>\n<pre><code>class Someclass {\n    public String funcA(String s) {\n        HttpClient httpClient = HttpClientBuilder.create().build();\n        try {\n            HttpGet httpget = new HttpGet(uri1);\n            HttpResponse httpresponse = httpClient.execute(httpget);\n            // some logic\n        }\n        catch (Exception err) System.out.println(err);\n        \n        // executed only if failed on first http client call\n        try {\n            HttpGet httpget = new HttpGet(uri2);\n            HttpResponse httpresponse = httpClient.execute(httpget);\n            // some logic\n        }\n        catch (Exception err) System.out.println(err);\n    \n}\n</code></pre>\n<p>I was able to mock the first Http call from <code>HttpClient</code> successfully using the below code</p>\n<pre><code>when(mockedCloseableHttpResponse.getEntity()).thenReturn(mockedHttpEntity);\nwhen(mockedHttpEntity.getContent()).thenReturn(inputStream);\nwhen(mockedCloseableHttpClient.execute(any(HttpGet.class))).thenReturn(mockedCloseableHttpResponse);\n</code></pre>\n<p>I was not able to mock the second HttpClient call. Help me fix this mocking problem. Please suggest if any logic needs to be changed. Thanks</p>\n"},{"tags":["java","generics","jls","parameterization"],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676098995,"creation_date":1676098995,"question_id":75418619,"body_markdown":"Consider the following clause from JLS : [18.2.2](https://docs.oracle.com/javase/specs/jls/se8/html/jls-18.html#jls-18.2.2)\r\n\r\n - the following clause states that:\r\n\r\n&gt; Otherwise, if T is a parameterized type of the form G&lt;T1, ..., Tn&gt;, and there exists no type of the form G&lt;...&gt; that is a supertype of S, but the raw type G is a supertype of S, then the constraint reduces to true.\r\n- When we try to relate this to the following example:\r\n```java\r\npublic class Scratch {\r\n  public static void main(String[] args) {\r\n    List&lt;Integer&gt; ls = new ArrayList();\r\n  }\r\n}\r\n```\r\n- this gives unchecked warning - as I am trying to target Raw type `ArrayList` -&gt; `List&lt;String&gt;`.\r\n\r\n**Am I missing something here - not sure if this constraint formula should be the otherway round - to return `true` always?**\r\n\r\n","title":"Type Compatibility Constraint and Unchecked Assignment relation in Java","body":"<p>Consider the following clause from JLS : <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-18.html#jls-18.2.2\" rel=\"nofollow noreferrer\">18.2.2</a></p>\n<ul>\n<li>the following clause states that:</li>\n</ul>\n<blockquote>\n<p>Otherwise, if T is a parameterized type of the form G&lt;T1, ..., Tn&gt;, and there exists no type of the form G&lt;...&gt; that is a supertype of S, but the raw type G is a supertype of S, then the constraint reduces to true.</p>\n</blockquote>\n<ul>\n<li>When we try to relate this to the following example:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class Scratch {\n  public static void main(String[] args) {\n    List&lt;Integer&gt; ls = new ArrayList();\n  }\n}\n</code></pre>\n<ul>\n<li>this gives unchecked warning - as I am trying to target Raw type <code>ArrayList</code> -&gt; <code>List&lt;String&gt;</code>.</li>\n</ul>\n<p><strong>Am I missing something here - not sure if this constraint formula should be the otherway round - to return <code>true</code> always?</strong></p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data"],"comments":[{"owner":{"account_id":2509588,"reputation":1999,"user_id":2182398,"accept_rate":55,"display_name":"Armen Arzumanyan"},"score":0,"creation_date":1676118650,"post_id":75418566,"comment_id":133075795,"body_markdown":"one of options you can find here:\n[https://stackoverflow.com/questions/48072977/specifying-cursor-options-when-returning-a-stream-in-spring-data-mongodb](https://stackoverflow.com/questions/48072977/specifying-cursor-options-when-returning-a-stream-in-spring-data-mongodb)","body":"one of options you can find here: <a href=\"https://stackoverflow.com/questions/48072977/specifying-cursor-options-when-returning-a-stream-in-spring-data-mongodb\">https://stackoverflow.com/questions/48072977/specifying-curs&zwnj;&#8203;or-options-when-retu&zwnj;&#8203;rning-a-stream-in-sp&zwnj;&#8203;ring-data-mongodb</a>"},{"owner":{"account_id":27497942,"reputation":47,"user_id":20982166,"display_name":"Janeth Jackson"},"score":0,"creation_date":1676138588,"post_id":75418566,"comment_id":133079152,"body_markdown":"Thanks so much @ArmenArzumanyan that was really help fully","body":"Thanks so much @ArmenArzumanyan that was really help fully"}],"owner":{"account_id":27497942,"reputation":47,"user_id":20982166,"display_name":"Janeth Jackson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676098193,"creation_date":1676098193,"question_id":75418566,"body_markdown":"I&#39;m having a spring boot application connected with Mongo DB now I want to enable spring batch how can I manage this withi spring data Mongo\r\n\r\nWhat I saw with Spring data JPA \r\n\r\n    spring.jpa.properties.hibernate.generate_statistics=true\r\n    spring.jpa.properties.hibernate.jdbc.batch_size=1000\r\n    spring.jpa.properties.hibernate.order_inserts=true\r\n\r\nNow how can I configure this with spring data mongo\r\n\r\n","title":"How to enable batch inserts in spring boot with mongo database","body":"<p>I'm having a spring boot application connected with Mongo DB now I want to enable spring batch how can I manage this withi spring data Mongo</p>\n<p>What I saw with Spring data JPA</p>\n<pre><code>spring.jpa.properties.hibernate.generate_statistics=true\nspring.jpa.properties.hibernate.jdbc.batch_size=1000\nspring.jpa.properties.hibernate.order_inserts=true\n</code></pre>\n<p>Now how can I configure this with spring data mongo</p>\n"},{"tags":["java","arrays","algorithm","char","comparison"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1676084953,"post_id":75417769,"comment_id":133072245,"body_markdown":"*&quot;I know I can&#39;t use the == operator since it compares references, and it&#39;s the same as the equals() method.&quot;* If you are referring to comparing `char` types, that&#39;s a mistake.  Because `char` is one of the [primitives in Java](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html), you *would* use `==` to compare two `char`, and `.equals` would not work.","body":"<i>&quot;I know I can&#39;t use the == operator since it compares references, and it&#39;s the same as the equals() method.&quot;</i> If you are referring to comparing <code>char</code> types, that&#39;s a mistake.  Because <code>char</code> is one of the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">primitives in Java</a>, you <i>would</i> use <code>==</code> to compare two <code>char</code>, and <code>.equals</code> would not work."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676085133,"post_id":75417769,"comment_id":133072256,"body_markdown":"Java [Arrays](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html) has two [.equals methods for `char` arrays](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#equals(char%5B%5D,char%5B%5D)). See that one, and the next one down.","body":"Java <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\">Arrays</a> has two <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#equals(char%5B%5D,char%5B%5D)\" rel=\"nofollow noreferrer\">.equals methods for <code>char</code> arrays</a>. See that one, and the next one down."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676098320,"post_id":75417769,"comment_id":133073203,"body_markdown":"Does this answer your question? [How do I use the character&#39;s equals() method in Java?](https://stackoverflow.com/questions/52126561/how-do-i-use-the-characters-equals-method-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52126561/how-do-i-use-the-characters-equals-method-in-java\">How do I use the character&#39;s equals() method in Java?</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1676130465,"post_id":75417769,"comment_id":133077739,"body_markdown":"You should show a little more code. I assume entrada is a Scanner Object that wraps System.in and letrasAdivinador and letrasPensador are each char [], but I shouldn&#39;t have to assume that. The code in your question should show that.  Also, please explain the problems you encountered, where are you having trouble.","body":"You should show a little more code. I assume entrada is a Scanner Object that wraps System.in and letrasAdivinador and letrasPensador are each char [], but I shouldn&#39;t have to assume that. The code in your question should show that.  Also, please explain the problems you encountered, where are you having trouble."},{"owner":{"account_id":15053130,"reputation":1,"user_id":20154521,"display_name":"Ricardo Aguilar"},"score":0,"creation_date":1676256948,"post_id":75417769,"comment_id":133094675,"body_markdown":"yes, someone else advised me to compare two char arrays with ==, since the equals() method would not work","body":"yes, someone else advised me to compare two char arrays with ==, since the equals() method would not work"},{"owner":{"account_id":15053130,"reputation":1,"user_id":20154521,"display_name":"Ricardo Aguilar"},"score":1,"creation_date":1676257020,"post_id":75417769,"comment_id":133094687,"body_markdown":"I was able to find a solution to the problem by iterating over two nested loops and using the == operator for char arrays","body":"I was able to find a solution to the problem by iterating over two nested loops and using the == operator for char arrays"},{"owner":{"account_id":15053130,"reputation":1,"user_id":20154521,"display_name":"Ricardo Aguilar"},"score":0,"creation_date":1676257362,"post_id":75417769,"comment_id":133094728,"body_markdown":"Also, the link you shared helped me expand my knowledge, thank you very much","body":"Also, the link you shared helped me expand my knowledge, thank you very much"}],"owner":{"account_id":15053130,"reputation":1,"user_id":20154521,"display_name":"Ricardo Aguilar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676098064,"creation_date":1676082601,"question_id":75417769,"body_markdown":"In java, I have defined a first array of characters, `char[]`, with a maximum of 4 elements, and a second array of characters that is filled by user input with a maximum of 4 elements.\r\n\r\nI want to compare the first element (index[0]) of the first array with each of the elements of the other array, and so on with each element of the first array (which is compared with each of the elements of the other array)\r\n\r\nI know I can&#39;t use the == operator since it compares references, and it&#39;s the same as the equals() method.\r\n\r\nThe exercise dictates that I can only use loops or the Arrays class and its equals() method, I have tried in various ways applying logic but I left it up to here, I can&#39;t get it, any help?\r\n\r\nIf matches are found, the program must increment a variable for each match.\r\nnote: both arrays are of type char\r\n\r\n\r\n```java\r\nfor (int i = 1; i &lt;= MAX_INTENTOS; i++) {\r\n            System.out.print(&quot;C&#243;digo &quot; + i + &quot; de 10&gt;&gt; &quot;);\r\n            letrasEntrada = entrada.nextLine();\r\n\r\n            if (i == MAX_INTENTOS) {\r\n                perdiste = true;\r\n            }\r\n\r\n            for (int j = 0; j &lt; LARGO_CODIGO; j++) {\r\n                letrasAdivinador[j] = letrasEntrada.charAt(j);\r\n            }\r\n\r\n            for (int x = 0; x &lt; letrasPensador.length; x++) {\r\n                Arrays.equals();\r\n\r\n\r\n//                if (letrasAdivinador[x] == letrasPensador[x]) {\r\n//                    b += 2;\r\n//                } else {\r\n//                    if (x + 1 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 1]) {\r\n//                        b += 1;\r\n//                    }\r\n//                    if (x + 2 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 2]) {\r\n//                        b += 1;\r\n//                    }\r\n//                    if (x + 3 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 3]) {\r\n//                        b += 1;\r\n//                    }\r\n//                }\r\n            }\r\n```","title":"How to compare the elements of a first array, with the following elements of another array in java?","body":"<p>In java, I have defined a first array of characters, <code>char[]</code>, with a maximum of 4 elements, and a second array of characters that is filled by user input with a maximum of 4 elements.</p>\n<p>I want to compare the first element (index[0]) of the first array with each of the elements of the other array, and so on with each element of the first array (which is compared with each of the elements of the other array)</p>\n<p>I know I can't use the == operator since it compares references, and it's the same as the equals() method.</p>\n<p>The exercise dictates that I can only use loops or the Arrays class and its equals() method, I have tried in various ways applying logic but I left it up to here, I can't get it, any help?</p>\n<p>If matches are found, the program must increment a variable for each match.\nnote: both arrays are of type char</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 1; i &lt;= MAX_INTENTOS; i++) {\n            System.out.print(&quot;Código &quot; + i + &quot; de 10&gt;&gt; &quot;);\n            letrasEntrada = entrada.nextLine();\n\n            if (i == MAX_INTENTOS) {\n                perdiste = true;\n            }\n\n            for (int j = 0; j &lt; LARGO_CODIGO; j++) {\n                letrasAdivinador[j] = letrasEntrada.charAt(j);\n            }\n\n            for (int x = 0; x &lt; letrasPensador.length; x++) {\n                Arrays.equals();\n\n\n//                if (letrasAdivinador[x] == letrasPensador[x]) {\n//                    b += 2;\n//                } else {\n//                    if (x + 1 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 1]) {\n//                        b += 1;\n//                    }\n//                    if (x + 2 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 2]) {\n//                        b += 1;\n//                    }\n//                    if (x + 3 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 3]) {\n//                        b += 1;\n//                    }\n//                }\n            }\n</code></pre>\n"},{"tags":["java","android","android-studio","runtime-error","compiler-warnings"],"owner":{"account_id":19421424,"reputation":11,"user_id":14203876,"display_name":"akhilesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676097805,"creation_date":1676097805,"question_id":75418541,"body_markdown":"Exception is: org.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.4.0&#39;, apply: false] was not found in any of the following sources:\r\nCamera search\r\n\r\n\r\n\r\nTried to compile but  , not working . ","title":"exception error at the compilation of android studioi project after update of android version","body":"<p>Exception is: org.gradle.api.plugins.UnknownPluginException: Plugin [id: 'com.android.application', version: '7.4.0', apply: false] was not found in any of the following sources:\nCamera search</p>\n<p>Tried to compile but  , not working .</p>\n"},{"tags":["java","timestamp","timezone","utc","java.time.instant"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675971897,"post_id":75403642,"comment_id":133048181,"body_markdown":"`ps.setObject(1, OffsetDateTime.now(ZoneOffset.UTC))` (or `LocalDateTime.now(ZoneOffset.UTC)` if you’re so unfortunate that the database column doesn’t carry the information that it’s in UTC).","body":"<code>ps.setObject(1, OffsetDateTime.now(ZoneOffset.UTC))</code> (or <code>LocalDateTime.now(ZoneOffset.UTC)</code> if you’re so unfortunate that the database column doesn’t carry the information that it’s in UTC)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675974757,"post_id":75403642,"comment_id":133048882,"body_markdown":"*a conversion of Timestamp.from(instant) is writing local time zones into the table*. How? `Timestamp` doesn&#39;t contain time zone info....","body":"<i>a conversion of Timestamp.from(instant) is writing local time zones into the table</i>. How? <code>Timestamp</code> doesn&#39;t contain time zone info...."},{"owner":{"account_id":5768589,"reputation":31,"user_id":4552709,"display_name":"Randy B"},"score":1,"creation_date":1675978211,"post_id":75403642,"comment_id":133049833,"body_markdown":"Thanks for the responses!  The issue was my JVM was defaulting to local time.  I set a VM option -Duser.timzone= &quot;UTC&quot; and it is now storing UTC.  Database is UTC as well, so VM was the issue.","body":"Thanks for the responses!  The issue was my JVM was defaulting to local time.  I set a VM option -Duser.timzone= &quot;UTC&quot; and it is now storing UTC.  Database is UTC as well, so VM was the issue."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1675982804,"post_id":75403642,"comment_id":133050813,"body_markdown":"Afaik `Instant.now` will be unaffected by `user.timezone`","body":"Afaik <code>Instant.now</code> will be unaffected by <code>user.timezone</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676005005,"post_id":75403642,"comment_id":133053943,"body_markdown":"You should not se the `Timestamp` class at all. In the old days it was used with SQL databases, but it was always poorly deigned, a true hack on top of the already bad `Date` class. Since JDBC 4.2 instead use `OffsetDateTime`, `Instant` or `LocalDateTime`. Stick to the modern API. `Timestamp` is but a troublesome detour.","body":"You should not se the <code>Timestamp</code> class at all. In the old days it was used with SQL databases, but it was always poorly deigned, a true hack on top of the already bad <code>Date</code> class. Since JDBC 4.2 instead use <code>OffsetDateTime</code>, <code>Instant</code> or <code>LocalDateTime</code>. Stick to the modern API. <code>Timestamp</code> is but a troublesome detour."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1676005692,"post_id":75403642,"comment_id":133054044,"body_markdown":"Add a mention of (a) what database you are using, (b) *exactly* what data type is your column.","body":"Add a mention of (a) what database you are using, (b) <i>exactly</i> what data type is your column."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676022068,"post_id":75403642,"comment_id":133057426,"body_markdown":"Certainly your &#39;solution&#39; is *not* a solution and might lead to further problems. Needless to say, you shouldn&#39;t be running with the wrong time zone.","body":"Certainly your &#39;solution&#39; is <i>not</i> a solution and might lead to further problems. Needless to say, you shouldn&#39;t be running with the wrong time zone."}],"answers":[{"comments":[{"owner":{"account_id":5768589,"reputation":31,"user_id":4552709,"display_name":"Randy B"},"score":0,"creation_date":1676057235,"post_id":75407104,"comment_id":133067944,"body_markdown":"&quot;You should write your Java code in such a way as to not care about the JVM’s current default time zone.&quot; - Agreed.\n\nThis solution threw an exception for me: java.sql.SQLException: Unable to convert between java.time.OffsetDateTime and JAVA_OBJECT.\n\nI&#39;ve proposed a solution that works (although the comments suggest Timestamp is &#39;bad&#39; to use, its&#39; the only solution that has worked for me outside of changing the JVM timezone (which I can&#39;t do in my situation)","body":"&quot;You should write your Java code in such a way as to not care about the JVM’s current default time zone.&quot; - Agreed.  This solution threw an exception for me: java.sql.SQLException: Unable to convert between java.time.OffsetDateTime and JAVA_OBJECT.  I&#39;ve proposed a solution that works (although the comments suggest Timestamp is &#39;bad&#39; to use, its&#39; the only solution that has worked for me outside of changing the JVM timezone (which I can&#39;t do in my situation)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676061439,"post_id":75407104,"comment_id":133068903,"body_markdown":"@RandyB I could guess that you have defined your column with an incorrect data type. But I cannot say for sure as you ignored [my Comment](https://stackoverflow.com/questions/75403642/java-preparedstatement-reading-local-timezone-when-using-timestamp-frominstant/75407104?noredirect=1#comment133054044_75403642) asking for you to edit your Question with  (a) what database you are using, (b) exactly what data type is your column. So I added a complete example app using the H2 Database Engine to demonstrate that my suggested code runs correctly.","body":"@RandyB I could guess that you have defined your column with an incorrect data type. But I cannot say for sure as you ignored <a href=\"https://stackoverflow.com/questions/75403642/java-preparedstatement-reading-local-timezone-when-using-timestamp-frominstant/75407104?noredirect=1#comment133054044_75403642\">my Comment</a> asking for you to edit your Question with  (a) what database you are using, (b) exactly what data type is your column. So I added a complete example app using the H2 Database Engine to demonstrate that my suggested code runs correctly."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676061347,"creation_date":1676004925,"answer_id":75407104,"question_id":75403642,"body_markdown":"# `OffsetDateTime`\r\n\r\n&gt;when I use Instant.now() to get the current UTC time, \r\n\r\nDon’t use `Instant` for SQL database work. \r\n\r\nIn JDBC 4.2+, the specification maps `OffsetDateTime` class to columns of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`. \r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\r\n\r\nNeither `Instant` nor `ZonedDateTime` are mapped in JDBC. The SQL standard defines no such types equivalent to those classes. \r\n\r\nBy the way, for columns of a type akin to the SQL standard type `TIMESTAMP WITHOUT TIME ZONE`, use the `LocalDateTime` class. \r\n\r\n# Avoid legacy date-time classes\r\n\r\n&gt;a conversion of Timestamp.from(instant)\r\n\r\nNever use the terrible legacy date-time classes such as `Timestamp`. Use only their replacement: the modern *java.time* classes defined in JSR 310. \r\n\r\nWrite to the database:\r\n\r\n    myPreparedStatement.setObject … , odt ) ;\r\n\r\nRetrieve:\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\n\r\n# Do not depend on default zone\r\n\r\nYou commented:\r\n\r\n&gt;The issue was my JVM was defaulting to local time\r\n\r\nYou should write your Java code in such a way as to not care about the JVM’s current default time zone. \r\n\r\nThe code shown above is unaffected by \r\nthe JVM’s current default time zone.\r\n\r\n# Example code\r\n\r\nHere is a complete example.\r\n\r\n```java\r\npackage work.basil.example.db;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.*;\r\nimport java.time.Instant;\r\nimport java.time.OffsetDateTime;\r\nimport java.time.ZoneOffset;\r\nimport java.util.UUID;\r\n\r\npublic class DemoH2InMem\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        DemoH2InMem app = new DemoH2InMem();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        DataSource dataSource = this.fetchDataSource();\r\n        this.createTable( dataSource );\r\n        this.insertDummyData( dataSource );\r\n        this.dump( dataSource );\r\n\r\n//        Scanner scanner = new Scanner( System.in );\r\n//        System.out.print( &quot;Type anything to end program: &quot; );\r\n//        String anything = scanner.nextLine();\r\n        System.out.println( &quot;Demo done at &quot; + Instant.now() );\r\n    }\r\n\r\n    private DataSource fetchDataSource ( )\r\n    {\r\n        org.h2.jdbcx.JdbcDataSource dataSource = new org.h2.jdbcx.JdbcDataSource();\r\n        dataSource.setURL( &quot;jdbc:h2:mem:demo_db;DB_CLOSE_DELAY=-1&quot; );\r\n        return dataSource;\r\n    }\r\n\r\n    private void createTable ( final DataSource dataSource )\r\n    {\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                CREATE TABLE bogus_ (\r\n                    id_ UUID PRIMARY KEY  ,\r\n                    when_ TIMESTAMP WITH TIME ZONE\r\n                )\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n                Statement stmt = conn.createStatement() ;\r\n        )\r\n        {\r\n            stmt.execute( sql );\r\n        }\r\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\r\n    }\r\n\r\n    private void insertDummyData ( final DataSource dataSource )\r\n    {\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                INSERT INTO bogus_ ( id_ , when_ )\r\n                VALUES ( ? , ? )\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n                PreparedStatement pstmt = conn.prepareStatement( sql ) ;\r\n        )\r\n        {\r\n            pstmt.setObject( 1 , UUID.fromString( &quot;97a9e379-4d8f-4d06-8bea-43560a72120b&quot; ) );\r\n            pstmt.setObject( 2 , OffsetDateTime.now( ZoneOffset.UTC ) );\r\n            pstmt.executeUpdate();\r\n\r\n            pstmt.setObject( 1 , UUID.fromString( &quot;052ae129-d0ca-4fdf-9a06-c87d20a2d3f2&quot; ) );\r\n            pstmt.setObject( 2 , OffsetDateTime.now( ZoneOffset.UTC ) );\r\n            pstmt.executeUpdate();\r\n        }\r\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\r\n    }\r\n\r\n    private void dump ( final DataSource dataSource )\r\n    {\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                SELECT * FROM bogus_\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n                Statement stmt = conn.createStatement() ;\r\n                ResultSet resultSet = stmt.executeQuery( sql ) ;\r\n        )\r\n        {\r\n\r\n            System.out.println( &quot;-------------|  table start |---------------&quot; );\r\n            while ( resultSet.next() )\r\n            {\r\n                UUID uuid = resultSet.getObject( &quot;id_&quot; , UUID.class );\r\n                OffsetDateTime when = resultSet.getObject( &quot;when_&quot; , OffsetDateTime.class );\r\n                System.out.println( uuid + &quot; | &quot; + when );\r\n            }\r\n            System.out.println( &quot;-------------|  table end  |---------------&quot; );\r\n        }\r\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\n-------------|  table start |---------------\r\n97a9e379-4d8f-4d06-8bea-43560a72120b | 2023-02-10T20:32:57.074979Z\r\n052ae129-d0ca-4fdf-9a06-c87d20a2d3f2 | 2023-02-10T20:32:57.080153Z\r\n-------------|  table end  |---------------\r\nDemo done at 2023-02-10T20:32:57.092230Z\r\n```\r\n\r\n","title":"Java PreparedStatement reading local timezone when using Timestamp.from(Instant)","body":"<h1><code>OffsetDateTime</code></h1>\n<blockquote>\n<p>when I use Instant.now() to get the current UTC time,</p>\n</blockquote>\n<p>Don’t use <code>Instant</code> for SQL database work.</p>\n<p>In JDBC 4.2+, the specification maps <code>OffsetDateTime</code> class to columns of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Neither <code>Instant</code> nor <code>ZonedDateTime</code> are mapped in JDBC. The SQL standard defines no such types equivalent to those classes.</p>\n<p>By the way, for columns of a type akin to the SQL standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>, use the <code>LocalDateTime</code> class.</p>\n<h1>Avoid legacy date-time classes</h1>\n<blockquote>\n<p>a conversion of Timestamp.from(instant)</p>\n</blockquote>\n<p>Never use the terrible legacy date-time classes such as <code>Timestamp</code>. Use only their replacement: the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Write to the database:</p>\n<pre><code>myPreparedStatement.setObject … , odt ) ;\n</code></pre>\n<p>Retrieve:</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<h1>Do not depend on default zone</h1>\n<p>You commented:</p>\n<blockquote>\n<p>The issue was my JVM was defaulting to local time</p>\n</blockquote>\n<p>You should write your Java code in such a way as to not care about the JVM’s current default time zone.</p>\n<p>The code shown above is unaffected by\nthe JVM’s current default time zone.</p>\n<h1>Example code</h1>\n<p>Here is a complete example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.db;\n\nimport javax.sql.DataSource;\nimport java.sql.*;\nimport java.time.Instant;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.util.UUID;\n\npublic class DemoH2InMem\n{\n    public static void main ( String[] args )\n    {\n        DemoH2InMem app = new DemoH2InMem();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        DataSource dataSource = this.fetchDataSource();\n        this.createTable( dataSource );\n        this.insertDummyData( dataSource );\n        this.dump( dataSource );\n\n//        Scanner scanner = new Scanner( System.in );\n//        System.out.print( &quot;Type anything to end program: &quot; );\n//        String anything = scanner.nextLine();\n        System.out.println( &quot;Demo done at &quot; + Instant.now() );\n    }\n\n    private DataSource fetchDataSource ( )\n    {\n        org.h2.jdbcx.JdbcDataSource dataSource = new org.h2.jdbcx.JdbcDataSource();\n        dataSource.setURL( &quot;jdbc:h2:mem:demo_db;DB_CLOSE_DELAY=-1&quot; );\n        return dataSource;\n    }\n\n    private void createTable ( final DataSource dataSource )\n    {\n        String sql =\n                &quot;&quot;&quot;\n                CREATE TABLE bogus_ (\n                    id_ UUID PRIMARY KEY  ,\n                    when_ TIMESTAMP WITH TIME ZONE\n                )\n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection() ;\n                Statement stmt = conn.createStatement() ;\n        )\n        {\n            stmt.execute( sql );\n        }\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\n    }\n\n    private void insertDummyData ( final DataSource dataSource )\n    {\n        String sql =\n                &quot;&quot;&quot;\n                INSERT INTO bogus_ ( id_ , when_ )\n                VALUES ( ? , ? )\n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection() ;\n                PreparedStatement pstmt = conn.prepareStatement( sql ) ;\n        )\n        {\n            pstmt.setObject( 1 , UUID.fromString( &quot;97a9e379-4d8f-4d06-8bea-43560a72120b&quot; ) );\n            pstmt.setObject( 2 , OffsetDateTime.now( ZoneOffset.UTC ) );\n            pstmt.executeUpdate();\n\n            pstmt.setObject( 1 , UUID.fromString( &quot;052ae129-d0ca-4fdf-9a06-c87d20a2d3f2&quot; ) );\n            pstmt.setObject( 2 , OffsetDateTime.now( ZoneOffset.UTC ) );\n            pstmt.executeUpdate();\n        }\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\n    }\n\n    private void dump ( final DataSource dataSource )\n    {\n        String sql =\n                &quot;&quot;&quot;\n                SELECT * FROM bogus_\n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection() ;\n                Statement stmt = conn.createStatement() ;\n                ResultSet resultSet = stmt.executeQuery( sql ) ;\n        )\n        {\n\n            System.out.println( &quot;-------------|  table start |---------------&quot; );\n            while ( resultSet.next() )\n            {\n                UUID uuid = resultSet.getObject( &quot;id_&quot; , UUID.class );\n                OffsetDateTime when = resultSet.getObject( &quot;when_&quot; , OffsetDateTime.class );\n                System.out.println( uuid + &quot; | &quot; + when );\n            }\n            System.out.println( &quot;-------------|  table end  |---------------&quot; );\n        }\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-------------|  table start |---------------\n97a9e379-4d8f-4d06-8bea-43560a72120b | 2023-02-10T20:32:57.074979Z\n052ae129-d0ca-4fdf-9a06-c87d20a2d3f2 | 2023-02-10T20:32:57.080153Z\n-------------|  table end  |---------------\nDemo done at 2023-02-10T20:32:57.092230Z\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676061947,"post_id":75415371,"comment_id":133069014,"body_markdown":"Thanks for reporting back and answering your own question. Your solutions have several issues, though, sorry. Setting the JVM time zone is fragile since someone else may set it differently (and need to do so). Your code still uses `Timestamp`, a hack of a class that you can easily avoid using, which you should. You format patterns is wrong. Your resulting `Timestamp` will be wrong too, and there will probably be times that it cannot represent at all. And you are not picking up the full precision of `Instant.now()`, which is usually finer than milliseconds.","body":"Thanks for reporting back and answering your own question. Your solutions have several issues, though, sorry. Setting the JVM time zone is fragile since someone else may set it differently (and need to do so). Your code still uses <code>Timestamp</code>, a hack of a class that you can easily avoid using, which you should. You format patterns is wrong. Your resulting <code>Timestamp</code> will be wrong too, and there will probably be times that it cannot represent at all. And you are not picking up the full precision of <code>Instant.now()</code>, which is usually finer than milliseconds."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676063208,"post_id":75415371,"comment_id":133069307,"body_markdown":"(https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#now()) will query the system UTC clock to obtain the current instant.&quot; The fact that you&#39;re having such trouble with this suggests to me that your system clock is not set to UTC. This of course is a weakness. It should be set to UTC and you should leave the OS to do the local time. There should be absolutely no need to be converting to and from strings","body":"(<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#now()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/t&zwnj;&#8203;ime/&hellip;</a>) will query the system UTC clock to obtain the current instant.&quot; The fact that you&#39;re having such trouble with this suggests to me that your system clock is not set to UTC. This of course is a weakness. It should be set to UTC and you should leave the OS to do the local time. There should be absolutely no need to be converting to and from strings"},{"owner":{"account_id":5768589,"reputation":31,"user_id":4552709,"display_name":"Randy B"},"score":0,"creation_date":1676063230,"post_id":75415371,"comment_id":133069313,"body_markdown":"I tried your suggestions but kept getting exceptions for setObject.  The PreparedStatement setTimestamp takes in a Timestamp object otherwise I would avoid it entirely.  My goal was to update existing code to put the Timestamp object corresponding to the UTC timezone.  I would have to do a larger change it seems to support and different paramter (setObject)","body":"I tried your suggestions but kept getting exceptions for setObject.  The PreparedStatement setTimestamp takes in a Timestamp object otherwise I would avoid it entirely.  My goal was to update existing code to put the Timestamp object corresponding to the UTC timezone.  I would have to do a larger change it seems to support and different paramter (setObject)"},{"owner":{"account_id":5768589,"reputation":31,"user_id":4552709,"display_name":"Randy B"},"score":0,"creation_date":1676063305,"post_id":75415371,"comment_id":133069335,"body_markdown":"@g00se - That is true but i don&#39;t have permissions to update the system clock as the server supports multiple processes so I have to localize the timezone control to this command.","body":"@g00se - That is true but i don&#39;t have permissions to update the system clock as the server supports multiple processes so I have to localize the timezone control to this command."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676063738,"post_id":75415371,"comment_id":133069429,"body_markdown":"You mean true in the sense that your system clock is *not* set to UTC?","body":"You mean true in the sense that your system clock is <i>not</i> set to UTC?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676065322,"post_id":75415371,"comment_id":133069756,"body_markdown":"Which JDBC driver are you using? And, as Basil Bourque already asked, what is the datatype of your database column? I am sorry, but when you don’t provide necessary information, also not when asked, it is close to impossible to give you the best help.","body":"Which JDBC driver are you using? And, as Basil Bourque already asked, what is the datatype of your database column? I am sorry, but when you don’t provide necessary information, also not when asked, it is close to impossible to give you the best help."},{"owner":{"account_id":5768589,"reputation":31,"user_id":4552709,"display_name":"Randy B"},"score":0,"creation_date":1676066553,"post_id":75415371,"comment_id":133070043,"body_markdown":"Yes, true that my system clock is not UTC.   That is why Timestamp is defaulting to EST and persisting that to the table.  I need to format Timestamp to UTC and that solved the issue.\n\nthe JDBC driver is net.sourceforge.jtds.jdbc.Driver .  I do not have control over the database settings so I&#39;m limited to what I can do to solve this.  The above solved the issue by locally setting Timestamp to use UTC and this was tested and works.  I think this issue is resolved.","body":"Yes, true that my system clock is not UTC.   That is why Timestamp is defaulting to EST and persisting that to the table.  I need to format Timestamp to UTC and that solved the issue.  the JDBC driver is net.sourceforge.jtds.jdbc.Driver .  I do not have control over the database settings so I&#39;m limited to what I can do to solve this.  The above solved the issue by locally setting Timestamp to use UTC and this was tested and works.  I think this issue is resolved."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676066974,"post_id":75415371,"comment_id":133070127,"body_markdown":"That seems to explain. *jTDS is an open source 100% pure Java (type 4) JDBC 3.0 driver for Microsoft SQL Server  ...* If you can get hold of a JDBC 4.2 driver, you will be much better off. I frankly didn’t think anyone used older JDBC drivers any more.","body":"That seems to explain. <i>jTDS is an open source 100% pure Java (type 4) JDBC 3.0 driver for Microsoft SQL Server  ...</i> If you can get hold of a JDBC 4.2 driver, you will be much better off. I frankly didn’t think anyone used older JDBC drivers any more."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676118533,"post_id":75415371,"comment_id":133075773,"body_markdown":"And there probably is a reason why you are not using Microsoft’s own JDBC driver for SQL Server, but I can’t guess what it is? [All supported versions of it also support JDBC 4.2](https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-ver16).","body":"And there probably is a reason why you are not using Microsoft’s own JDBC driver for SQL Server, but I can’t guess what it is? <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-ver16\" rel=\"nofollow noreferrer\">All supported versions of it also support JDBC 4.2</a>."}],"tags":[],"owner":{"account_id":5768589,"reputation":31,"user_id":4552709,"display_name":"Randy B"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676061690,"creation_date":1676057426,"answer_id":75415371,"question_id":75403642,"body_markdown":"Changing the JVM timezone to UTC solved the issue of Timestamp, however, in this case I cannot update the server in which this code is running.\r\n\r\nThe solution that worked for me without needing to adjust JVM timezone is\r\n\r\n```\r\nstatement.setTimestamp(1,\r\n        Timestamp.valueOf(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd HH:mm:ss.SSS&quot;)\r\n                .format(Instant.now().atZone(ZoneId.of(&quot;UTC&quot;)))));\r\n```\r\n\r\nThis forces Timestamp to use UTC, although it seems rather robust and redundant.  The other solutions proposed did not work for me.","title":"Java PreparedStatement reading local timezone when using Timestamp.from(Instant)","body":"<p>Changing the JVM timezone to UTC solved the issue of Timestamp, however, in this case I cannot update the server in which this code is running.</p>\n<p>The solution that worked for me without needing to adjust JVM timezone is</p>\n<pre><code>statement.setTimestamp(1,\n        Timestamp.valueOf(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd HH:mm:ss.SSS&quot;)\n                .format(Instant.now().atZone(ZoneId.of(&quot;UTC&quot;)))));\n</code></pre>\n<p>This forces Timestamp to use UTC, although it seems rather robust and redundant.  The other solutions proposed did not work for me.</p>\n"}],"owner":{"account_id":5768589,"reputation":31,"user_id":4552709,"display_name":"Randy B"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676097278,"creation_date":1675971576,"question_id":75403642,"body_markdown":"I&#39;m attempting to populate a UTC timestamp into a SQL table, but when I use `Instant.now()` to get the current UTC time, a conversion of `Timestamp.from(instant)` is writing local time zones into the table.  Is there a way to write UTC into the table?\r\n\r\n```\r\nPreparedStatement ps = connection.prepareStatement(...)\r\nps.setString(1, Timestamp.from(Instant.now())\r\n```\r\n\r\nThis results in local timezone opposed to UTC.\r\n\r\nThe JDBC driver is `net.sourceforge.jtds.jdbc.Driver`.","title":"Java PreparedStatement reading local timezone when using Timestamp.from(Instant)","body":"<p>I'm attempting to populate a UTC timestamp into a SQL table, but when I use <code>Instant.now()</code> to get the current UTC time, a conversion of <code>Timestamp.from(instant)</code> is writing local time zones into the table.  Is there a way to write UTC into the table?</p>\n<pre><code>PreparedStatement ps = connection.prepareStatement(...)\nps.setString(1, Timestamp.from(Instant.now())\n</code></pre>\n<p>This results in local timezone opposed to UTC.</p>\n<p>The JDBC driver is <code>net.sourceforge.jtds.jdbc.Driver</code>.</p>\n"},{"tags":["java","cassandra","spring-batch","nosql"],"answers":[{"comments":[{"owner":{"account_id":4220083,"reputation":499,"user_id":3455071,"accept_rate":50,"display_name":"smoczyna"},"score":0,"creation_date":1503651979,"post_id":45866598,"comment_id":78714257,"body_markdown":"So are there any elegant overcomes then?","body":"So are there any elegant overcomes then?"}],"tags":[],"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503591565,"creation_date":1503591565,"answer_id":45866598,"question_id":45866321,"body_markdown":"Due to the fact that Casandra does not support simple sequences for keys, Spring Batch does not support using it for the job repository.","title":"spring batch metadata in cassandra database","body":"<p>Due to the fact that Casandra does not support simple sequences for keys, Spring Batch does not support using it for the job repository.</p>\n"},{"tags":[],"owner":{"account_id":14462805,"reputation":821,"user_id":10447184,"display_name":"Marius Jaraminas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578251507,"creation_date":1578251016,"answer_id":59603235,"question_id":45866321,"body_markdown":"It is possible to extend Spring Batch to support Cassandra by customising ItemReader and ItemWriter.\r\n\r\nReader:\r\n\r\n``` Java\r\n@Override\r\npublic Company read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\r\n    final List&lt;Company&gt; companies = cassandraOperations.selectAll(aClass);\r\n\r\n    log.debug(&quot;Read operations is performing, the object size is  {}&quot;, companies.size());\r\n\r\n    if (index &lt; companies.size()) {\r\n        final Company company = companies.get(index);\r\n        index++;\r\n        return company;\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\n\r\nWriter:\r\n``` Java\r\n@Override\r\npublic void write(final List&lt;? extends Company&gt; items) throws Exception {\r\n    logger.debug(&quot;Write operations is performing, the size is {}&quot; + items.size());\r\n    if (!items.isEmpty()) {\r\n        logger.info(&quot;Deleting in a batch performing...&quot;);\r\n        cassandraTemplate.deleteAll(aClass);\r\n        logger.info(&quot;Inserting in a batch performing...&quot;);\r\n        cassandraTemplate.insert(items);\r\n    }\r\n\r\n    logger.debug(&quot;Items is null...&quot;);\r\n}\r\n```\r\n\r\n@Beans:\r\n\r\n``` Java\r\n@Bean\r\npublic ItemReader&lt;Company&gt; reader(final DataSource dataSource) {\r\n    final CassandraBatchItemReader&lt;Company&gt; reader = new CassandraBatchItemReader&lt;Company&gt;(Company.class);\r\n    return reader;\r\n}\r\n\r\n@Bean\r\npublic ItemWriter&lt;Company&gt; writer(final DataSource dataSource) {\r\n    final CassandraBatchItemWriter&lt;Company&gt; writer = new CassandraBatchItemWriter&lt;Company&gt;(Company.class);\r\n    return writer;\r\n}\r\n```\r\n\r\nFull source code can be found in Github [Spring-Batch-with-Cassandra][1]\r\n\r\n\r\n  [1]: https://github.com/mohdnadeemakhtar/Spring-Batch-with-Cassandra","title":"spring batch metadata in cassandra database","body":"<p>It is possible to extend Spring Batch to support Cassandra by customising ItemReader and ItemWriter.</p>\n\n<p>Reader:</p>\n\n<pre><code>@Override\npublic Company read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\n    final List&lt;Company&gt; companies = cassandraOperations.selectAll(aClass);\n\n    log.debug(\"Read operations is performing, the object size is  {}\", companies.size());\n\n    if (index &lt; companies.size()) {\n        final Company company = companies.get(index);\n        index++;\n        return company;\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>Writer:</p>\n\n<pre><code>@Override\npublic void write(final List&lt;? extends Company&gt; items) throws Exception {\n    logger.debug(\"Write operations is performing, the size is {}\" + items.size());\n    if (!items.isEmpty()) {\n        logger.info(\"Deleting in a batch performing...\");\n        cassandraTemplate.deleteAll(aClass);\n        logger.info(\"Inserting in a batch performing...\");\n        cassandraTemplate.insert(items);\n    }\n\n    logger.debug(\"Items is null...\");\n}\n</code></pre>\n\n<p>@Beans:</p>\n\n<pre><code>@Bean\npublic ItemReader&lt;Company&gt; reader(final DataSource dataSource) {\n    final CassandraBatchItemReader&lt;Company&gt; reader = new CassandraBatchItemReader&lt;Company&gt;(Company.class);\n    return reader;\n}\n\n@Bean\npublic ItemWriter&lt;Company&gt; writer(final DataSource dataSource) {\n    final CassandraBatchItemWriter&lt;Company&gt; writer = new CassandraBatchItemWriter&lt;Company&gt;(Company.class);\n    return writer;\n}\n</code></pre>\n\n<p>Full source code can be found in Github <a href=\"https://github.com/mohdnadeemakhtar/Spring-Batch-with-Cassandra\" rel=\"nofollow noreferrer\">Spring-Batch-with-Cassandra</a></p>\n"}],"owner":{"account_id":4220083,"reputation":499,"user_id":3455071,"accept_rate":50,"display_name":"smoczyna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676096863,"creation_date":1503590642,"question_id":45866321,"body_markdown":"The question is quite simple: can I create metadata schema for Spring Batch in Cassandra database? How can I do this if yes?\r\nI&#39;ve read that Spring Batch requires RDBMS database for that and No-SQL databases are not supported. Is that still the limitation in Spring Batch and how can I override that issue eventually?","title":"spring batch metadata in cassandra database","body":"<p>The question is quite simple: can I create metadata schema for Spring Batch in Cassandra database? How can I do this if yes?\nI've read that Spring Batch requires RDBMS database for that and No-SQL databases are not supported. Is that still the limitation in Spring Batch and how can I override that issue eventually?</p>\n"},{"tags":["java","timezone","java-time"],"comments":[{"owner":{"account_id":317896,"reputation":233694,"user_id":634824,"accept_rate":87,"display_name":"Matt Johnson-Pint"},"score":4,"creation_date":1676071125,"post_id":75416863,"comment_id":133070853,"body_markdown":"So `9:00 MST` - is that `America/Denver` or `America/Phoenix`?  They both use &quot;MST&quot;, but Denver uses it only when they&#39;re not in daylight saving time, and Phoenix uses it year-round.  Same with `HAST` - could be `America/Adak` (uses DST) or `Pacific/Honolulu` (no DST).","body":"So <code>9:00 MST</code> - is that <code>America&#47;Denver</code> or <code>America&#47;Phoenix</code>?  They both use &quot;MST&quot;, but Denver uses it only when they&#39;re not in daylight saving time, and Phoenix uses it year-round.  Same with <code>HAST</code> - could be <code>America&#47;Adak</code> (uses DST) or <code>Pacific&#47;Honolulu</code> (no DST)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676096303,"post_id":75416863,"comment_id":133073034,"body_markdown":"I would go for building my own map. After making sure with the customer that by CDT they always mean Cuba Daylight Time and never Central Daylight Time, or the other way around. And that they accept all errors and inaccuracies incurred. Because you can never avoid those. If the times are always assumed to fall on nearby dates, you may consider adding a few heuristics so that MST means America/Denver during standard time and America/Phoenix during summer. You may be able to get it, say, 75 % correct.","body":"I would go for building my own map. After making sure with the customer that by CDT they always mean Cuba Daylight Time and never Central Daylight Time, or the other way around. And that they accept all errors and inaccuracies incurred. Because you can never avoid those. If the times are always assumed to fall on nearby dates, you may consider adding a few heuristics so that MST means America/Denver during standard time and America/Phoenix during summer. You may be able to get it, say, 75 % correct."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676095585,"creation_date":1676076551,"answer_id":75417409,"question_id":75416863,"body_markdown":"# Time with zone makes no sense\r\n\r\n&gt;13:30 EDT\r\n\r\nA time-of-day plus a time zone makes no sense. Without the context of a date, there is no real meaning here. \r\n\r\nThe [SQL-92][1] standard declares a `TIME WITH TIME ZONE` type, but neglects to define its meaning. I am not alone in being mystified by the SQL committee’s intention. And also, importantly, that data type is a misnomer: the SQL standard means *offset* when they say “time zone”. \r\n\r\nJava offers an [`OffsetTime`][2] class. I presume this class exists merely for mapping through JDBC to that screwy SQL type of `TIME WITH TIME ZONE`. The Javadoc offers no real explanation as to the meaning of this class.\r\n\r\nSo what is your goal? I suggest you edit your Question to indicate what kind of processing you intend to do with such inputs. Perhaps we can guide you from there.\r\n\r\n# Pseudo time zones are not unique\r\n\r\nYou asked:\r\n\r\n&gt; Is there a clean way to convert these short ids to a property ZoneId? \r\n\r\nNo. \r\n\r\nThese 2-4 character pseudo time zones are not defined, are not standardized, and are not unique. \r\n\r\n - `CST` —&#160;Do you mean *Central Standard Time* in the Americas? Or do you mean *China Standard Time*? Or *Cuba Standard Time*?\r\n - `IST` — Do you mean [*India Standard Time*][3]? Or [*Ireland Standard Time*][4]? \r\n - `PST` — *Pacific Standard Time* or *Pitcairn Standard Time*?\r\n - `BST` — *Bangladesh Standard Time*, *Bougainville Standard Time*, or *British Summer Time*?\r\n - `AMST` —&#160;*Amazon Summer Time* or *Armenia Summer Time*?\r\n\r\nSo, no you cannot cleanly determine a time zone from a pseudo zone. You can only guess. If you know for certain the domain of possible values you expect to receive, and you are certain as to their intended actual time zone, then you can create your own mapping. \r\n\r\nBut even then, there is no class in Java nor data type in SQL to represent a date with time zone. You would have to convert that time zone to an offset from UTC. And for that conversion, you would need a date to determine a moment to determine the offset in use at that moment by the people of that zone… which leads us back in a circle to point at the top of this Answer: A time with only a zone (or offset), but without the context of a date, makes no sense. \r\n\r\n# Reject senseless data\r\n\r\nYou said:\r\n\r\n&gt; but unfortunately I have no way to get the client to change their api\r\n\r\nProviding a time-of-day with an ambiguous pseudo time zone is like providing a money amount tagged with &quot;dollar&quot; while asking to convert to &quot;francs&quot;.\r\n\r\n - We don&#39;t know if &quot;dollar&quot; means Canada Dollar (CAD), United States Dollar (USD), or a Australian dollar (AUD), or any of the twenty [currencies with that name][5].\r\n - We don&#39;t know if `franc` means the [franc CFA][6] in West Africa, the [Swiss franc][7], or some other [currency with that name][8].\r\n - We don&#39;t have a date on which to look up a conversion rate.\r\n\r\nSo what would you do with such a request? What *can* you do? You would have to either ask for much more explicit definitions, or you would have to refuse the request.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SQL-92\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/OffsetTime.html\r\n  [3]: https://www.timeanddate.com/time/zones/ist\r\n  [4]: https://www.timeanddate.com/time/zones/ist-ireland\r\n  [5]: https://en.wikipedia.org/wiki/Dollar\r\n  [6]: https://en.wikipedia.org/wiki/CFA_franc\r\n  [7]: https://en.wikipedia.org/wiki/Swiss_franc\r\n  [8]: https://en.wikipedia.org/wiki/Franc","title":"Convert time zone short id to ZoneId","body":"<h1>Time with zone makes no sense</h1>\n<blockquote>\n<p>13:30 EDT</p>\n</blockquote>\n<p>A time-of-day plus a time zone makes no sense. Without the context of a date, there is no real meaning here.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/SQL-92\" rel=\"nofollow noreferrer\">SQL-92</a> standard declares a <code>TIME WITH TIME ZONE</code> type, but neglects to define its meaning. I am not alone in being mystified by the SQL committee’s intention. And also, importantly, that data type is a misnomer: the SQL standard means <em>offset</em> when they say “time zone”.</p>\n<p>Java offers an <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/OffsetTime.html\" rel=\"nofollow noreferrer\"><code>OffsetTime</code></a> class. I presume this class exists merely for mapping through JDBC to that screwy SQL type of <code>TIME WITH TIME ZONE</code>. The Javadoc offers no real explanation as to the meaning of this class.</p>\n<p>So what is your goal? I suggest you edit your Question to indicate what kind of processing you intend to do with such inputs. Perhaps we can guide you from there.</p>\n<h1>Pseudo time zones are not unique</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Is there a clean way to convert these short ids to a property ZoneId?</p>\n</blockquote>\n<p>No.</p>\n<p>These 2-4 character pseudo time zones are not defined, are not standardized, and are not unique.</p>\n<ul>\n<li><code>CST</code> — Do you mean <em>Central Standard Time</em> in the Americas? Or do you mean <em>China Standard Time</em>? Or <em>Cuba Standard Time</em>?</li>\n<li><code>IST</code> — Do you mean <a href=\"https://www.timeanddate.com/time/zones/ist\" rel=\"nofollow noreferrer\"><em>India Standard Time</em></a>? Or <a href=\"https://www.timeanddate.com/time/zones/ist-ireland\" rel=\"nofollow noreferrer\"><em>Ireland Standard Time</em></a>?</li>\n<li><code>PST</code> — <em>Pacific Standard Time</em> or <em>Pitcairn Standard Time</em>?</li>\n<li><code>BST</code> — <em>Bangladesh Standard Time</em>, <em>Bougainville Standard Time</em>, or <em>British Summer Time</em>?</li>\n<li><code>AMST</code> — <em>Amazon Summer Time</em> or <em>Armenia Summer Time</em>?</li>\n</ul>\n<p>So, no you cannot cleanly determine a time zone from a pseudo zone. You can only guess. If you know for certain the domain of possible values you expect to receive, and you are certain as to their intended actual time zone, then you can create your own mapping.</p>\n<p>But even then, there is no class in Java nor data type in SQL to represent a date with time zone. You would have to convert that time zone to an offset from UTC. And for that conversion, you would need a date to determine a moment to determine the offset in use at that moment by the people of that zone… which leads us back in a circle to point at the top of this Answer: A time with only a zone (or offset), but without the context of a date, makes no sense.</p>\n<h1>Reject senseless data</h1>\n<p>You said:</p>\n<blockquote>\n<p>but unfortunately I have no way to get the client to change their api</p>\n</blockquote>\n<p>Providing a time-of-day with an ambiguous pseudo time zone is like providing a money amount tagged with &quot;dollar&quot; while asking to convert to &quot;francs&quot;.</p>\n<ul>\n<li>We don't know if &quot;dollar&quot; means Canada Dollar (CAD), United States Dollar (USD), or a Australian dollar (AUD), or any of the twenty <a href=\"https://en.wikipedia.org/wiki/Dollar\" rel=\"nofollow noreferrer\">currencies with that name</a>.</li>\n<li>We don't know if <code>franc</code> means the <a href=\"https://en.wikipedia.org/wiki/CFA_franc\" rel=\"nofollow noreferrer\">franc CFA</a> in West Africa, the <a href=\"https://en.wikipedia.org/wiki/Swiss_franc\" rel=\"nofollow noreferrer\">Swiss franc</a>, or some other <a href=\"https://en.wikipedia.org/wiki/Franc\" rel=\"nofollow noreferrer\">currency with that name</a>.</li>\n<li>We don't have a date on which to look up a conversion rate.</li>\n</ul>\n<p>So what would you do with such a request? What <em>can</em> you do? You would have to either ask for much more explicit definitions, or you would have to refuse the request.</p>\n"}],"owner":{"account_id":1644328,"reputation":433,"user_id":1516152,"accept_rate":75,"display_name":"Naty722"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75417409,"answer_count":1,"score":3,"last_activity_date":1676095585,"creation_date":1676069770,"question_id":75416863,"body_markdown":"A client&#39;s API that I am integrating with returns a time with the time zone as a short id (3 letter id). e.g.\r\n\r\n```\r\n9:00 MST\r\n13:30 EDT\r\n17:00 MDT\r\n```\r\n\r\nI realize this is bad practice (especially with the daylight savings), and short ids should be avoided, but unfortunately I have no way to get the client to change their api. Is there a clean way to convert these short ids to a property `ZoneId`? `ZoneId.SHORT_IDS` looks like the closest, but it doesn&#39;t include daylights savings. Worst case, I think I can just make my own map of short ids to `ZoneIds` since it&#39;s limited to the US","title":"Convert time zone short id to ZoneId","body":"<p>A client's API that I am integrating with returns a time with the time zone as a short id (3 letter id). e.g.</p>\n<pre><code>9:00 MST\n13:30 EDT\n17:00 MDT\n</code></pre>\n<p>I realize this is bad practice (especially with the daylight savings), and short ids should be avoided, but unfortunately I have no way to get the client to change their api. Is there a clean way to convert these short ids to a property <code>ZoneId</code>? <code>ZoneId.SHORT_IDS</code> looks like the closest, but it doesn't include daylights savings. Worst case, I think I can just make my own map of short ids to <code>ZoneIds</code> since it's limited to the US</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"score":0,"creation_date":1675821317,"post_id":75195801,"comment_id":133009763,"body_markdown":"Can you also post *CsvLine* class implementation?","body":"Can you also post <i>CsvLine</i> class implementation?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":3,"creation_date":1675822515,"post_id":75195801,"comment_id":133009909,"body_markdown":"Q: Have you tried stepping through your code in the debugger?  That&#39;s your *FIRST* step.  As I said in [this](https://stackoverflow.com/questions/75380424/) (now deleted!) post.","body":"Q: Have you tried stepping through your code in the debugger?  That&#39;s your <i>FIRST</i> step.  As I said in <a href=\"https://stackoverflow.com/questions/75380424/\">this</a> (now deleted!) post."},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1675861185,"post_id":75195801,"comment_id":133018187,"body_markdown":"From where get the value the CsvLine object for this expression? `if (item.getAvgMonthlySearches() != null)`?","body":"From where get the value the CsvLine object for this expression? <code>if (item.getAvgMonthlySearches() != null)</code>?"},{"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"score":0,"creation_date":1675861499,"post_id":75195801,"comment_id":133018300,"body_markdown":"Could you post your code, a minimal version that would run, in order for me to take a closer look at it? Maybe post the whole code on *pastebin* or somewhere similar. There is a lot of missing pieces from your code. On line one, I don&#39;t know what is a `directoryPath` or a `textFileFilter`. Also, I think the `CsvLine` is incomplete. Are you missing the `getAvgMonthlySearches()` and `getValue()` implementations?","body":"Could you post your code, a minimal version that would run, in order for me to take a closer look at it? Maybe post the whole code on <i>pastebin</i> or somewhere similar. There is a lot of missing pieces from your code. On line one, I don&#39;t know what is a <code>directoryPath</code> or a <code>textFileFilter</code>. Also, I think the <code>CsvLine</code> is incomplete. Are you missing the <code>getAvgMonthlySearches()</code> and <code>getValue()</code> implementations?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1675866618,"post_id":75195801,"comment_id":133020126,"body_markdown":"Here it is: https://github.com/rcbandit111/wordscore_sample/blob/master/src/main/java/com/wordscore/engine/processor/DataValidationCheckJob.java","body":"Here it is: <a href=\"https://github.com/rcbandit111/wordscore_sample/blob/master/src/main/java/com/wordscore/engine/processor/DataValidationCheckJob.java\" rel=\"nofollow noreferrer\">github.com/rcbandit111/wordscore_sample/blob/master/src/main&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"score":0,"creation_date":1675870657,"post_id":75195801,"comment_id":133021631,"body_markdown":"I&#39;m having a problem parsing the csv file due to mismatch between `String` and `BigDecimal`. Can you provide your csv sample file that works for you? It doesn&#39;t have to be the whole file.","body":"I&#39;m having a problem parsing the csv file due to mismatch between <code>String</code> and <code>BigDecimal</code>. Can you provide your csv sample file that works for you? It doesn&#39;t have to be the whole file."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1675870725,"post_id":75195801,"comment_id":133021659,"body_markdown":"yes please edit it to BigDecimal. I will provide the sample file later. See the post it should be the same content.","body":"yes please edit it to BigDecimal. I will provide the sample file later. See the post it should be the same content."}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1676075749,"post_id":75416409,"comment_id":133071401,"body_markdown":"Thanks. I found one issue. There are cases when the table role value is empty and I get error `Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Comparable.compareTo(Object)&quot; because &quot;value&quot; is null\n` at this line `return (value) -&gt; value.compareTo(target) != 0;` can you advice what is the proper way to skip this line if it&#39;s empty?","body":"Thanks. I found one issue. There are cases when the table role value is empty and I get error <code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Comparable.compareTo(Object)&quot; because &quot;value&quot; is null </code> at this line <code>return (value) -&gt; value.compareTo(target) != 0;</code> can you advice what is the proper way to skip this line if it&#39;s empty?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676093794,"post_id":75416409,"comment_id":133072807,"body_markdown":"added null checking","body":"added null checking"}],"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676095232,"creation_date":1676065640,"answer_id":75416409,"question_id":75195801,"body_markdown":"Here is a working example with more structured code according your needs.\r\nException handling is ommitted since I have no idea about your requirements regarding to them, but you can easily adapt this code for your needs.\r\n\r\nAlso I have no idea what is this `item.getAvgMonthlySearches()`, since I don&#39;t see this field  in your csv example. This field and checking of it also ommitted, but you can add it.\r\n\r\nThe code is decomposed to:\r\n\r\n - Main method with preparations and starting the entire directory processing\r\n - method for directory processing\r\n - method for file processing\r\n - method for line processing\r\n - method for moving the file\r\n - factory method for creating predicates (&quot;matchers&quot; or &quot;conditions&quot; that you can specify as much as you want, instead of using &quot;found500&quot; or &quot;found5000&quot; etc.)\r\n\r\nI used this csv according to your question:\r\n\r\n    car;score;description \r\n    Opel;30;43 \r\n    Volvo;500;434 \r\n    Kia;50;3 \r\n    Toyota;4;4\r\n    Mazda;5000;4\r\n\r\nSo, the model is the following:\r\n\r\n    @Data\r\n    public class CsvLine {\r\n        @CsvBindByPosition(position = 1)\r\n        private BigDecimal value;\r\n    }\r\n\r\n\r\nThe main method:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        // preparing\r\n        File directory = Path.of(&quot;/Users/kerbermeister/csv/&quot;).toFile();\r\n        // we want to process only csv files from directory\r\n        FilenameFilter csvFilter = (dir, name) -&gt; name.toLowerCase().endsWith(&quot;.csv&quot;);\r\n\r\n        // specify what conditions should meet the value of every line\r\n        // to be considered as a valid line\r\n        List&lt;Predicate&lt;BigDecimal&gt;&gt; fileMatchConditions = List.of(\r\n                ne(new BigDecimal(&quot;50&quot;)),\r\n                ne(new BigDecimal(&quot;500&quot;)),\r\n                ne(new BigDecimal(&quot;5000&quot;))\r\n        );\r\n        // start directory processing\r\n        processDirectory(directory, csvFilter, fileMatchConditions);\r\n    }\r\n\r\nThe primary process with the rest methods:\r\n\r\n    public static void processDirectory(File directory, FilenameFilter filter,\r\n                                        List&lt;Predicate&lt;BigDecimal&gt;&gt; fileMatchConditions) throws IOException {\r\n\r\n        Path processedFolderPath = createDirectory(Path.of(directory.getAbsolutePath() + &quot;/processed&quot;));\r\n        Path invalidFilesFolderPath = createDirectory(Path.of(directory.getAbsolutePath() + &quot;/invalid_files&quot;));\r\n\r\n        File[] files = directory.listFiles(filter);\r\n\r\n        if (Objects.nonNull(files)) {\r\n            for (File file : files) {\r\n                if (isFileValid(file, fileMatchConditions)) {\r\n                    // if file is valid, then move it to the processed directory\r\n                    moveFile(file, processedFolderPath, StandardCopyOption.REPLACE_EXISTING);\r\n                } else {\r\n                    // if file is not, then move it to the invalid-files directory\r\n                    moveFile(file, invalidFilesFolderPath, StandardCopyOption.REPLACE_EXISTING);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * primary file validation\r\n     * parses the file\r\n     */\r\n    public static boolean isFileValid(File file, List&lt;Predicate&lt;BigDecimal&gt;&gt; matchConditions) throws IOException {\r\n        try (Reader reader = Files.newBufferedReader(file.getAbsoluteFile().toPath())) {\r\n            List&lt;CsvLine&gt; lineBeans = new CsvToBeanBuilder&lt;CsvLine&gt;(reader)\r\n                    .withType(CsvLine.class)\r\n                    .withSkipLines(1) // skip header\r\n                    .withSeparator(&#39;;&#39;) // line separator\r\n                    .build()\r\n                    .parse();\r\n\r\n            // unique violations found within this file\r\n            Set&lt;BigDecimal&gt; violations = new HashSet&lt;&gt;();\r\n            for (CsvLine line : lineBeans) {\r\n                // skip if value in the line is null\r\n                if (Objects.isNull(line.getValue())) {\r\n                    continue;\r\n                }\r\n                if (!isLineValid(line, matchConditions)) {\r\n                    violations.add(line.getValue());\r\n                }\r\n                // if we reached all the violations, then file is not valid\r\n                if (violations.size() == matchConditions.size()) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * if all predicates return true, then line is valid\r\n     */\r\n    public static boolean isLineValid(CsvLine line, List&lt;Predicate&lt;BigDecimal&gt;&gt; conditions) {\r\n        return conditions.stream().allMatch(predicate -&gt; predicate.test(line.getValue()));\r\n    }\r\n\r\n    /**\r\n     * move the file to the directory specified\r\n     */\r\n    public static void moveFile(File file, Path moveTo, StandardCopyOption option) throws IOException {\r\n        Files.move(file.toPath(), moveTo.resolve(file.getName()), option);\r\n    }\r\n\r\n    /**\r\n     * factory method for Predicate that returns true if compareTo != 0\r\n     */\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; Predicate&lt;T&gt; ne(T target) {\r\n        return (value) -&gt; value.compareTo(target) != 0;\r\n    }\r\n\r\n    public static Path createDirectory(Path path) throws IOException {\r\n        if (!Files.exists(path) || !Files.isDirectory(path)) {\r\n            return Files.createDirectory(path);\r\n        }\r\n        return path;\r\n    }\r\n\r\nSo, I think you can adapt it to your needs.\r\n\r\n","title":"Iterate csv file and find matches","body":"<p>Here is a working example with more structured code according your needs.\nException handling is ommitted since I have no idea about your requirements regarding to them, but you can easily adapt this code for your needs.</p>\n<p>Also I have no idea what is this <code>item.getAvgMonthlySearches()</code>, since I don't see this field  in your csv example. This field and checking of it also ommitted, but you can add it.</p>\n<p>The code is decomposed to:</p>\n<ul>\n<li>Main method with preparations and starting the entire directory processing</li>\n<li>method for directory processing</li>\n<li>method for file processing</li>\n<li>method for line processing</li>\n<li>method for moving the file</li>\n<li>factory method for creating predicates (&quot;matchers&quot; or &quot;conditions&quot; that you can specify as much as you want, instead of using &quot;found500&quot; or &quot;found5000&quot; etc.)</li>\n</ul>\n<p>I used this csv according to your question:</p>\n<pre><code>car;score;description \nOpel;30;43 \nVolvo;500;434 \nKia;50;3 \nToyota;4;4\nMazda;5000;4\n</code></pre>\n<p>So, the model is the following:</p>\n<pre><code>@Data\npublic class CsvLine {\n    @CsvBindByPosition(position = 1)\n    private BigDecimal value;\n}\n</code></pre>\n<p>The main method:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    // preparing\n    File directory = Path.of(&quot;/Users/kerbermeister/csv/&quot;).toFile();\n    // we want to process only csv files from directory\n    FilenameFilter csvFilter = (dir, name) -&gt; name.toLowerCase().endsWith(&quot;.csv&quot;);\n\n    // specify what conditions should meet the value of every line\n    // to be considered as a valid line\n    List&lt;Predicate&lt;BigDecimal&gt;&gt; fileMatchConditions = List.of(\n            ne(new BigDecimal(&quot;50&quot;)),\n            ne(new BigDecimal(&quot;500&quot;)),\n            ne(new BigDecimal(&quot;5000&quot;))\n    );\n    // start directory processing\n    processDirectory(directory, csvFilter, fileMatchConditions);\n}\n</code></pre>\n<p>The primary process with the rest methods:</p>\n<pre><code>public static void processDirectory(File directory, FilenameFilter filter,\n                                    List&lt;Predicate&lt;BigDecimal&gt;&gt; fileMatchConditions) throws IOException {\n\n    Path processedFolderPath = createDirectory(Path.of(directory.getAbsolutePath() + &quot;/processed&quot;));\n    Path invalidFilesFolderPath = createDirectory(Path.of(directory.getAbsolutePath() + &quot;/invalid_files&quot;));\n\n    File[] files = directory.listFiles(filter);\n\n    if (Objects.nonNull(files)) {\n        for (File file : files) {\n            if (isFileValid(file, fileMatchConditions)) {\n                // if file is valid, then move it to the processed directory\n                moveFile(file, processedFolderPath, StandardCopyOption.REPLACE_EXISTING);\n            } else {\n                // if file is not, then move it to the invalid-files directory\n                moveFile(file, invalidFilesFolderPath, StandardCopyOption.REPLACE_EXISTING);\n            }\n        }\n    }\n}\n\n/**\n * primary file validation\n * parses the file\n */\npublic static boolean isFileValid(File file, List&lt;Predicate&lt;BigDecimal&gt;&gt; matchConditions) throws IOException {\n    try (Reader reader = Files.newBufferedReader(file.getAbsoluteFile().toPath())) {\n        List&lt;CsvLine&gt; lineBeans = new CsvToBeanBuilder&lt;CsvLine&gt;(reader)\n                .withType(CsvLine.class)\n                .withSkipLines(1) // skip header\n                .withSeparator(';') // line separator\n                .build()\n                .parse();\n\n        // unique violations found within this file\n        Set&lt;BigDecimal&gt; violations = new HashSet&lt;&gt;();\n        for (CsvLine line : lineBeans) {\n            // skip if value in the line is null\n            if (Objects.isNull(line.getValue())) {\n                continue;\n            }\n            if (!isLineValid(line, matchConditions)) {\n                violations.add(line.getValue());\n            }\n            // if we reached all the violations, then file is not valid\n            if (violations.size() == matchConditions.size()) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\n/**\n * if all predicates return true, then line is valid\n */\npublic static boolean isLineValid(CsvLine line, List&lt;Predicate&lt;BigDecimal&gt;&gt; conditions) {\n    return conditions.stream().allMatch(predicate -&gt; predicate.test(line.getValue()));\n}\n\n/**\n * move the file to the directory specified\n */\npublic static void moveFile(File file, Path moveTo, StandardCopyOption option) throws IOException {\n    Files.move(file.toPath(), moveTo.resolve(file.getName()), option);\n}\n\n/**\n * factory method for Predicate that returns true if compareTo != 0\n */\npublic static &lt;T extends Comparable&lt;T&gt;&gt; Predicate&lt;T&gt; ne(T target) {\n    return (value) -&gt; value.compareTo(target) != 0;\n}\n\npublic static Path createDirectory(Path path) throws IOException {\n    if (!Files.exists(path) || !Files.isDirectory(path)) {\n        return Files.createDirectory(path);\n    }\n    return path;\n}\n</code></pre>\n<p>So, I think you can adapt it to your needs.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"closed_date":1676312222,"accepted_answer_id":75416409,"answer_count":1,"score":-3,"last_activity_date":1676095232,"creation_date":1674327305,"question_id":75195801,"body_markdown":"I have the following csv file structure: \r\n\r\n| car | score| description |\r\n|:---- |:------:| -----:|\r\n| Opel  | 30    | 43 |\r\n| Volvo  | 500    | 434 |\r\n| Kia  | 50    | 3 |\r\n| Toyota  | 4    | 4 |\r\n| Mazda  | 5000    | 4 |\r\n\r\nI want to find numbers match. For example if 3 numbers are found : 50, 500, 5000 I want to find this pattern. I tried this:\r\n\r\n    File filesList[] = directoryPath.listFiles(textFileFilter);\r\n    System.out.println(&quot;List of the text files in the specified directory:&quot;);\r\n\r\n    for(File file : filesList) {\r\n\r\n        try {\r\n            try (var br = new FileReader(file.getAbsolutePath(), StandardCharsets.UTF_16)){\r\n                List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(br)\r\n                        .withType(CsvLine.class)\r\n                        .build()\r\n                        .parse();\r\n\r\n                Path originalPath = null;\r\n\r\n                boolean found50 = false;\r\n                boolean found500 = false;\r\n                boolean found5000 = false;\r\n\r\n                for (CsvLine item : beans)\r\n                {\r\n                    originalPath = file.toPath();\r\n\r\n                    if (item.getAvgMonthlySearches() != null)\r\n                    {\r\n                        if (item.getValue().compareTo(BigDecimal.valueOf(50)) == 0)\r\n                        {\r\n                            found50 = true;\r\n                        }\r\n\r\n                        if (item.getValue().compareTo(BigDecimal.valueOf(500)) == 0)\r\n                        {\r\n                            found500 = true;\r\n                        }\r\n\r\n                        if (item.getValue().compareTo(BigDecimal.valueOf(5000)) == 0)\r\n                        {\r\n                            found5000 = true;\r\n                        }\r\n                    }\r\n\r\n                    if(found50 == true &amp;&amp; found500 == true &amp;&amp; found5000 == true){\r\n\r\n                        found50 = false;\r\n                        found500 = false;\r\n                        found5000 = false;\r\n\r\n                        // Move here file into new subdirectory when file is invalid\r\n                        Path copied = Paths.get(file.getParent() + &quot;/invalid_files&quot;);\r\n                        try {\r\n                            // Use resolve method to keep the &quot;processed&quot; as folder\r\n                            br.close();\r\n                            Files.move(originalPath, copied.resolve(originalPath.getFileName()), StandardCopyOption.REPLACE_EXISTING);\r\n                            break;\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (file.exists())\r\n                {\r\n                    // Move here file into new subdirectory when file processing is finished\r\n                    Path copied = Paths.get(file.getParent() + &quot;/processed&quot;);\r\n                    try {\r\n                        // Use resolve method to keep the &quot;processed&quot; as folder\r\n                        br.close();\r\n                        Files.move(originalPath, copied.resolve(originalPath.getFileName()), StandardCopyOption.REPLACE_EXISTING);\r\n                        break;\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n        Path originalPath = file.toPath();\r\n        System.out.println(String.format(&quot;\\nProcessed file : %s, moving the file to subfolder /processed\\n&quot;,\r\n                originalPath));\r\n    }\r\n\r\n\r\n@Getter\r\n@Setter\r\npublic class CsvLine {\r\n\r\n    @CsvBindByPosition(position = 2)\r\n    private BigDecimal value;\r\n\r\n}\r\n\r\nI want if I match all values 50, 500 and 5000 on csv file lines to move the current file into a separate folder. I tried to run the code but nothing happens. Do you know where I&#39;m wrong?\r\n","title":"Iterate csv file and find matches","body":"<p>I have the following csv file structure:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">car</th>\n<th style=\"text-align: center;\">score</th>\n<th style=\"text-align: right;\">description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">Opel</td>\n<td style=\"text-align: center;\">30</td>\n<td style=\"text-align: right;\">43</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Volvo</td>\n<td style=\"text-align: center;\">500</td>\n<td style=\"text-align: right;\">434</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Kia</td>\n<td style=\"text-align: center;\">50</td>\n<td style=\"text-align: right;\">3</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Toyota</td>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: right;\">4</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Mazda</td>\n<td style=\"text-align: center;\">5000</td>\n<td style=\"text-align: right;\">4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I want to find numbers match. For example if 3 numbers are found : 50, 500, 5000 I want to find this pattern. I tried this:</p>\n<pre><code>File filesList[] = directoryPath.listFiles(textFileFilter);\nSystem.out.println(&quot;List of the text files in the specified directory:&quot;);\n\nfor(File file : filesList) {\n\n    try {\n        try (var br = new FileReader(file.getAbsolutePath(), StandardCharsets.UTF_16)){\n            List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(br)\n                    .withType(CsvLine.class)\n                    .build()\n                    .parse();\n\n            Path originalPath = null;\n\n            boolean found50 = false;\n            boolean found500 = false;\n            boolean found5000 = false;\n\n            for (CsvLine item : beans)\n            {\n                originalPath = file.toPath();\n\n                if (item.getAvgMonthlySearches() != null)\n                {\n                    if (item.getValue().compareTo(BigDecimal.valueOf(50)) == 0)\n                    {\n                        found50 = true;\n                    }\n\n                    if (item.getValue().compareTo(BigDecimal.valueOf(500)) == 0)\n                    {\n                        found500 = true;\n                    }\n\n                    if (item.getValue().compareTo(BigDecimal.valueOf(5000)) == 0)\n                    {\n                        found5000 = true;\n                    }\n                }\n\n                if(found50 == true &amp;&amp; found500 == true &amp;&amp; found5000 == true){\n\n                    found50 = false;\n                    found500 = false;\n                    found5000 = false;\n\n                    // Move here file into new subdirectory when file is invalid\n                    Path copied = Paths.get(file.getParent() + &quot;/invalid_files&quot;);\n                    try {\n                        // Use resolve method to keep the &quot;processed&quot; as folder\n                        br.close();\n                        Files.move(originalPath, copied.resolve(originalPath.getFileName()), StandardCopyOption.REPLACE_EXISTING);\n                        break;\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n\n            if (file.exists())\n            {\n                // Move here file into new subdirectory when file processing is finished\n                Path copied = Paths.get(file.getParent() + &quot;/processed&quot;);\n                try {\n                    // Use resolve method to keep the &quot;processed&quot; as folder\n                    br.close();\n                    Files.move(originalPath, copied.resolve(originalPath.getFileName()), StandardCopyOption.REPLACE_EXISTING);\n                    break;\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n    Path originalPath = file.toPath();\n    System.out.println(String.format(&quot;\\nProcessed file : %s, moving the file to subfolder /processed\\n&quot;,\n            originalPath));\n}\n</code></pre>\n<p>@Getter\n@Setter\npublic class CsvLine {</p>\n<pre><code>@CsvBindByPosition(position = 2)\nprivate BigDecimal value;\n</code></pre>\n<p>}</p>\n<p>I want if I match all values 50, 500 and 5000 on csv file lines to move the current file into a separate folder. I tried to run the code but nothing happens. Do you know where I'm wrong?</p>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":103011,"reputation":36121,"user_id":276138,"display_name":"a&#39;r"},"score":1,"creation_date":1270036907,"post_id":2552420,"comment_id":2554511,"body_markdown":"For most questions with an error, you should post up the error message that you are receiving.","body":"For most questions with an error, you should post up the error message that you are receiving."},{"owner":{"account_id":1569322,"reputation":912,"user_id":1457383,"accept_rate":54,"display_name":"Ninjaxor"},"score":1,"creation_date":1365296228,"post_id":2552420,"comment_id":22569403,"body_markdown":"I like stackoverflow more.  Thanks for ranking 1 in google.","body":"I like stackoverflow more.  Thanks for ranking 1 in google."}],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":23,"creation_date":1270229330,"post_id":2552447,"comment_id":2572887,"body_markdown":"Using strlist.toArray(new String[strlist.size()]);  is usually more efficient.","body":"Using strlist.toArray(new String[strlist.size()]);  is usually more efficient."}],"tags":[],"owner":{"account_id":28410,"reputation":22205,"user_id":75863,"accept_rate":76,"display_name":"jjujuma"},"comment_count":1,"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1270036570,"creation_date":1270034915,"answer_id":2552447,"question_id":2552420,"body_markdown":"You want\r\n\r\n    String[] strarray = strlist.toArray(new String[0]);\r\n\r\nSee [here][1] for the documentation and note that you can also call this method in such a way that it populates the passed array, rather than just using it to work out what type to return.  Also note that maybe when you print your array you&#39;d prefer\r\n\r\n    System.out.println(Arrays.toString(strarray));\r\n\r\nsince that will print the actual elements.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/List.html#toArray(T[])","title":"Converting List&lt;String&gt; to String[] in Java","body":"<p>You want</p>\n\n<pre><code>String[] strarray = strlist.toArray(new String[0]);\n</code></pre>\n\n<p>See <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html#toArray(T[])\" rel=\"noreferrer\">here</a> for the documentation and note that you can also call this method in such a way that it populates the passed array, rather than just using it to work out what type to return.  Also note that maybe when you print your array you'd prefer</p>\n\n<pre><code>System.out.println(Arrays.toString(strarray));\n</code></pre>\n\n<p>since that will print the actual elements.</p>\n"},{"tags":[],"owner":{"account_id":79696,"reputation":11819,"user_id":225801,"display_name":"crazyscot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1270035025,"creation_date":1270035025,"answer_id":2552461,"question_id":2552420,"body_markdown":"`List.toArray()` necessarily returns an array of Object. To get an array of String, you need to use the casting syntax:\r\n\r\n    String[] strarray = strlist.toArray(new String[0]);\r\n\r\nSee the javadoc for java.util.List for more.","title":"Converting List&lt;String&gt; to String[] in Java","body":"<p><code>List.toArray()</code> necessarily returns an array of Object. To get an array of String, you need to use the casting syntax:</p>\n\n<pre><code>String[] strarray = strlist.toArray(new String[0]);\n</code></pre>\n\n<p>See the javadoc for java.util.List for more.</p>\n"},{"comments":[{"owner":{"account_id":75998,"reputation":3692,"user_id":217850,"accept_rate":93,"display_name":"James B"},"score":2,"creation_date":1270037843,"post_id":2552479,"comment_id":2554635,"body_markdown":"I also favour this version of the `toArray` method because it re-uses the parameter strarray, instead of returning a new instance","body":"I also favour this version of the <code>toArray</code> method because it re-uses the parameter strarray, instead of returning a new instance"}],"tags":[],"owner":{"account_id":67794,"reputation":4822,"user_id":198165,"accept_rate":85,"display_name":"Paul"},"comment_count":1,"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1270035237,"creation_date":1270035237,"answer_id":2552479,"question_id":2552420,"body_markdown":"    public static void main(String[] args) {\r\n        List&lt;String&gt; strlist = new ArrayList&lt;String&gt;();\r\n        strlist.add(&quot;sdfs1&quot;);\r\n        strlist.add(&quot;sdfs2&quot;);\r\n\r\n        String[] strarray = new String[strlist.size()]\r\n        strlist.toArray(strarray );\r\n\r\n        System.out.println(strarray);\r\n    \r\n    \r\n    }","title":"Converting List&lt;String&gt; to String[] in Java","body":"<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; strlist = new ArrayList&lt;String&gt;();\n    strlist.add(\"sdfs1\");\n    strlist.add(\"sdfs2\");\n\n    String[] strarray = new String[strlist.size()]\n    strlist.toArray(strarray );\n\n    System.out.println(strarray);\n\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":60936,"reputation":1671,"user_id":181836,"accept_rate":100,"display_name":"Greg"},"score":0,"creation_date":1270041894,"post_id":2552617,"comment_id":2555255,"body_markdown":"Your $ API looks great, maybe couple methods like &#39;sort&#39; could accept comparators that would make it even more useful.","body":"Your $ API looks great, maybe couple methods like &#39;sort&#39; could accept comparators that would make it even more useful."},{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":0,"creation_date":1270042436,"post_id":2552617,"comment_id":2555340,"body_markdown":"Thanks! Feel free to send me patches or open feature requests using bitbucket.","body":"Thanks! Feel free to send me patches or open feature requests using bitbucket."},{"owner":{"account_id":87133,"reputation":15651,"user_id":241824,"accept_rate":82,"display_name":"Sawyer"},"score":0,"creation_date":1270042746,"post_id":2552617,"comment_id":2555387,"body_markdown":"In order to see your implementation , I have to install 20M program to &#39;clone&#39; your 254.3 KB source.","body":"In order to see your implementation , I have to install 20M program to &#39;clone&#39; your 254.3 KB source."},{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":0,"creation_date":1270044242,"post_id":2552617,"comment_id":2555597,"body_markdown":"use the &quot;get source&quot; button on the right: here a link of the latest revision http://bitbucket.org/dfa/dollar/get/tip.zip","body":"use the &quot;get source&quot; button on the right: here a link of the latest revision <a href=\"http://bitbucket.org/dfa/dollar/get/tip.zip\" rel=\"nofollow noreferrer\">bitbucket.org/dfa/dollar/get/tip.zip</a>"}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1270036517,"creation_date":1270036517,"answer_id":2552617,"question_id":2552420,"body_markdown":"I&#39;ve designed and implemented [Dollar][1] for this kind of tasks:  \r\n \r\n    String[] strarray= $(strlist).toArray();\r\n\r\n  [1]: http://bitbucket.org/dfa/dollar/","title":"Converting List&lt;String&gt; to String[] in Java","body":"<p>I've designed and implemented <a href=\"http://bitbucket.org/dfa/dollar/\" rel=\"nofollow noreferrer\">Dollar</a> for this kind of tasks:  </p>\n\n<pre><code>String[] strarray= $(strlist).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1683541,"reputation":578,"user_id":1547266,"display_name":"Arthur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388763262,"creation_date":1388763262,"answer_id":20907179,"question_id":2552420,"body_markdown":"hope this can help someone out there:\r\n\r\nList&lt;String&gt; list = ..;\r\n\r\nString [] stringArray = list.toArray(new String[list.size()]);\r\n\r\ngreat answer from here: https://stackoverflow.com/a/4042464/1547266","title":"Converting List&lt;String&gt; to String[] in Java","body":"<p>hope this can help someone out there:</p>\n\n<p>List list = ..;</p>\n\n<p>String [] stringArray = list.toArray(new String[list.size()]);</p>\n\n<p>great answer from here: <a href=\"https://stackoverflow.com/a/4042464/1547266\">https://stackoverflow.com/a/4042464/1547266</a></p>\n"},{"tags":[],"owner":{"account_id":2151963,"reputation":620,"user_id":1908087,"display_name":"phil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676094915,"creation_date":1393844308,"answer_id":22144938,"question_id":2552420,"body_markdown":"```\r\nString[] strarray = strlist.toArray(new String[0]);\r\n```\r\nIf you want `List&lt;String&gt;` to convert to string use `StringUtils.join(slist, &#39;\\n&#39;);`","title":"Converting List&lt;String&gt; to String[] in Java","body":"<pre><code>String[] strarray = strlist.toArray(new String[0]);\n</code></pre>\n<p>If you want <code>List&lt;String&gt;</code> to convert to string use <code>StringUtils.join(slist, '\\n');</code></p>\n"}],"owner":{"account_id":12757,"reputation":25497,"user_id":25282,"accept_rate":78,"display_name":"Christian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168976,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":2552447,"answer_count":6,"score":73,"last_activity_date":1676094915,"creation_date":1270034675,"question_id":2552420,"body_markdown":"How do I convert a [list][1] of String into an [array][2]? The following code returns an error.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; strlist = new ArrayList&lt;String&gt;();\r\n\t\tstrlist.add(&quot;sdfs1&quot;);\r\n\t\tstrlist.add(&quot;sdfs2&quot;);\r\n\t\tString[] strarray = (String[]) strlist.toArray();\t\t\r\n\t\tSystem.out.println(strarray);\r\n\t}\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;\r\n    \tat test.main(test.java:10)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","title":"Converting List&lt;String&gt; to String[] in Java","body":"<p>How do I convert a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\" rel=\"noreferrer\">list</a> of String into an <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"noreferrer\">array</a>? The following code returns an error.</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; strlist = new ArrayList&lt;String&gt;();\n    strlist.add(\"sdfs1\");\n    strlist.add(\"sdfs2\");\n    String[] strarray = (String[]) strlist.toArray();       \n    System.out.println(strarray);\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;\n    at test.main(test.java:10)\n</code></pre>\n"},{"tags":["java","wso2"],"answers":[{"tags":[],"owner":{"account_id":805516,"reputation":621,"user_id":885014,"accept_rate":33,"display_name":"Mark McWiggins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508291357,"creation_date":1508291357,"answer_id":46801642,"question_id":46799639,"body_markdown":"It was just one of those Dumb Things ...\r\n\r\nI downloaded the server yesterday via Safari on my Mac ... and it unpacked the .zip file automatically.\r\n\r\nI don&#39;t know .zip subcommands as well as I know tar, so I repacked with tar and gzipped the result for upload to the server I was using.\r\n\r\nI must have done something wrong and/or the Mac version of tar is different from the Linux version. Because the .zip file download and upload works perfectly ...\r\n\r\nI&#39;ll certainly have to watch for this in the future ...","title":"Getting a .jar error in startup of wso2server","body":"<p>It was just one of those Dumb Things ...</p>\n\n<p>I downloaded the server yesterday via Safari on my Mac ... and it unpacked the .zip file automatically.</p>\n\n<p>I don't know .zip subcommands as well as I know tar, so I repacked with tar and gzipped the result for upload to the server I was using.</p>\n\n<p>I must have done something wrong and/or the Mac version of tar is different from the Linux version. Because the .zip file download and upload works perfectly ...</p>\n\n<p>I'll certainly have to watch for this in the future ...</p>\n"}],"owner":{"account_id":805516,"reputation":621,"user_id":885014,"accept_rate":33,"display_name":"Mark McWiggins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676094625,"creation_date":1508276334,"question_id":46799639,"body_markdown":"I am working on getting a [WSO2][1] server up for a project for work.\r\n\r\nI am installing on [Red Hat Linux][2] 7. I get:\r\n\r\n```lang-none\r\n./wso2server.sh\r\nJAVA_HOME environment variable is set to /opt/jdk1.8.0_144/\r\nCARBON_HOME environment variable is set to /opt/wso2das-3.1.0\r\nUsing Java memory options: -Xms256m -Xmx2048m\r\nLoading spark environment variables\r\nError occurred during initialization of VM\r\njava/lang/ClassNotFoundException: error in opening JAR file\r\n/opt/wso2das-3.1.0/lib/endorsed/._geronimo-jaxws_2.2_spec-1.0.jar\r\n```\r\n\r\nHow can I fix this?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/WSO2\r\n  [2]: https://en.wikipedia.org/wiki/Red_Hat_Linux\r\n","title":"Getting a .jar error in startup of wso2server","body":"<p>I am working on getting a <a href=\"https://en.wikipedia.org/wiki/WSO2\" rel=\"nofollow noreferrer\">WSO2</a> server up for a project for work.</p>\n<p>I am installing on <a href=\"https://en.wikipedia.org/wiki/Red_Hat_Linux\" rel=\"nofollow noreferrer\">Red Hat Linux</a> 7. I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>./wso2server.sh\nJAVA_HOME environment variable is set to /opt/jdk1.8.0_144/\nCARBON_HOME environment variable is set to /opt/wso2das-3.1.0\nUsing Java memory options: -Xms256m -Xmx2048m\nLoading spark environment variables\nError occurred during initialization of VM\njava/lang/ClassNotFoundException: error in opening JAR file\n/opt/wso2das-3.1.0/lib/endorsed/._geronimo-jaxws_2.2_spec-1.0.jar\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","eclipse","maven","eclipse-plugin"],"owner":{"account_id":26389265,"reputation":11,"user_id":20041346,"display_name":"Qinabox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676093883,"creation_date":1676093883,"question_id":75418297,"body_markdown":"i&#39;m currently confused that eclipse ignores my configured pom building instructions.\r\n\r\nUsed : Eclipse 2023-03 / 2022-12 (both same failure)\r\n\r\nparent pom :\r\n\r\n```\r\n    ...\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;my-module&lt;/module&gt;\r\n        &lt;module&gt;my-webapp&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;my-module&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            ...\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.12.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;**/module.dtd&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.14.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.10.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n                        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\nmy-module structure (pom refers to parent without any build instructions - packaging -&gt; jar) :\r\n\r\n&gt; src/main/java\r\n&gt; ---...\r\n&gt; src/main/resources\r\n&gt; src/main/resources/META-INF/test/file.xml\r\n&gt; src/main/resources/example/bootstrap/file2.xml\r\n\r\nmy-webapp (refers to parent pom - packaging -&gt; war) :\r\n\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;webResources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;${config.path}&lt;/directory&gt;\r\n                            &lt;targetPath&gt;WEB-INF/config&lt;/targetPath&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/*&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/webResources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nBuild with mvn clean install results in a deployable war file which contains my-module.jar in lib folder as expected, size matches also the generated jar file in my-module targets folder.\r\n\r\nso targets generated .war/.jar are correct. \r\n\r\nNow i setup inside eclipse a default tomcat server above v.9.0.50+ (tried multiple versions, also latest 9.0.71). and added my-webapp(example-context) to the server (cleaned before and then publish).\r\n\r\nat this point i inspected my unzipped war file inside tomcat webapproot (tried meta and tomcat location (both same failure)) , and was completly confused that my my-module-1.0.jar file only contains only META-INF/maven (pom.xml + pom.properties) and my java classes so that it doesen&#39;t match the size as expected (due to missing resource files).\r\n\r\nIs there any trick or option to configure eclipse to build the artifact with resources as instructed by my poms or any other vaiable soloution ?\r\n\r\nIf i use intellij, it worked out of the box but i prefer eclipse for my project\r\n\r\n\r\n\r\n\r\n\r\nTried different versions of eclipse , tomcat , maven and plugin versions (latest) but nothing seems to work.\r\n\r\nSometimes if i change my resource or java files of my-mopdule, eclipse makes a redeploy and then the artifact contains the correct my-module-1.0.jar with resources included but after another mvn clean install its gone and i need to modify any files again up to 10 times if it happens again.","title":"Eclipse (latest) artifact builder does not include ressources","body":"<p>i'm currently confused that eclipse ignores my configured pom building instructions.</p>\n<p>Used : Eclipse 2023-03 / 2022-12 (both same failure)</p>\n<p>parent pom :</p>\n<pre><code>    ...\n\n    &lt;modules&gt;\n        &lt;module&gt;my-module&lt;/module&gt;\n        &lt;module&gt;my-webapp&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\n                &lt;artifactId&gt;my-module&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            ...\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.12.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;**/module.dtd&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.14.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.10.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;17&lt;/source&gt;\n                        &lt;target&gt;17&lt;/target&gt;\n                        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>my-module structure (pom refers to parent without any build instructions - packaging -&gt; jar) :</p>\n<blockquote>\n<p>src/main/java\n---...\nsrc/main/resources\nsrc/main/resources/META-INF/test/file.xml\nsrc/main/resources/example/bootstrap/file2.xml</p>\n</blockquote>\n<p>my-webapp (refers to parent pom - packaging -&gt; war) :</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;webResources&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;${config.path}&lt;/directory&gt;\n                            &lt;targetPath&gt;WEB-INF/config&lt;/targetPath&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/resource&gt;\n                    &lt;/webResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Build with mvn clean install results in a deployable war file which contains my-module.jar in lib folder as expected, size matches also the generated jar file in my-module targets folder.</p>\n<p>so targets generated .war/.jar are correct.</p>\n<p>Now i setup inside eclipse a default tomcat server above v.9.0.50+ (tried multiple versions, also latest 9.0.71). and added my-webapp(example-context) to the server (cleaned before and then publish).</p>\n<p>at this point i inspected my unzipped war file inside tomcat webapproot (tried meta and tomcat location (both same failure)) , and was completly confused that my my-module-1.0.jar file only contains only META-INF/maven (pom.xml + pom.properties) and my java classes so that it doesen't match the size as expected (due to missing resource files).</p>\n<p>Is there any trick or option to configure eclipse to build the artifact with resources as instructed by my poms or any other vaiable soloution ?</p>\n<p>If i use intellij, it worked out of the box but i prefer eclipse for my project</p>\n<p>Tried different versions of eclipse , tomcat , maven and plugin versions (latest) but nothing seems to work.</p>\n<p>Sometimes if i change my resource or java files of my-mopdule, eclipse makes a redeploy and then the artifact contains the correct my-module-1.0.jar with resources included but after another mvn clean install its gone and i need to modify any files again up to 10 times if it happens again.</p>\n"},{"tags":["java","asynchronous","rmi"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1680515658,"post_id":75418276,"comment_id":133905819,"body_markdown":"Your question embodies a contradiction in terms. Method invocation is necessarily synchronous: you invoke the method and you wait for the return value. If that&#39;s not what you want, RMI is not for you.","body":"Your question embodies a contradiction in terms. Method invocation is necessarily synchronous: you invoke the method and you wait for the return value. If that&#39;s not what you want, RMI is not for you."}],"owner":{"account_id":21829901,"reputation":87,"user_id":16124947,"display_name":"Glitch07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676093549,"creation_date":1676093549,"question_id":75418276,"body_markdown":"How can we achieve asynchronous communication in Java RMI using Blocking Priority Queue?\r\n\r\nIn my application, I have LeadServer and two slave servers. Lead Server calls the methods of slave server and pass object over the RMI. I am able to do it synchronously but now I want to do it asynchronously. So how can we achieve this using Blocking Priority Queue?","title":"Asynchronous Communication in Java RMI using Blocking Priority Queue","body":"<p>How can we achieve asynchronous communication in Java RMI using Blocking Priority Queue?</p>\n<p>In my application, I have LeadServer and two slave servers. Lead Server calls the methods of slave server and pass object over the RMI. I am able to do it synchronously but now I want to do it asynchronously. So how can we achieve this using Blocking Priority Queue?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8908111,"reputation":440,"user_id":6649314,"display_name":"Prabir Ghosh"},"score":0,"creation_date":1676093504,"post_id":75418244,"comment_id":133072777,"body_markdown":"Have you tried with &quot;file:///&quot; before the file path?  For example you should write file:///D:/workspace_intellij_forKiri/...&quot;  Use forward slash only.","body":"Have you tried with &quot;file:///&quot; before the file path?  For example you should write file:///D:/workspace_intellij_forKiri/...&quot;  Use forward slash only."}],"owner":{"account_id":26739298,"reputation":1,"user_id":20340345,"display_name":"nueon112"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676092937,"creation_date":1676092898,"question_id":75418244,"body_markdown":"I am going to convert MultipartFile to File and upload it to S3 bucket.\r\nHowever, when running the test, an error occurs in the process of converting MultipartFile to File.\r\nERROR : java.nio.file.AccessDeniedException: D:\\workspace_intellij_forKiri\\Kiri\\server\\kiri\\temp\\8b28a2f2-7276-4036\r\n\r\n```java\r\nmultipartFile.transferTo(file);\r\n```\r\n\r\nPlease advise if there is anything I am missing.\r\n\r\nThe spring boot version is 2.7.7 version.\r\n\r\n\r\n### Test code\r\n\r\n```java\r\n@WithAccount(&quot;creamyyyy&quot;)\r\n    @DisplayName(&quot;image save test&quot;)\r\n    @Test\r\n    public void createImageTest() throws Exception {\r\n        //given\r\n\r\n        String filename = &quot;files&quot;; \r\n        String contentType = &quot;png&quot;; \r\n        \r\n        MockMultipartFile image1 = new MockMultipartFile(\r\n                filename,\r\n                filename + &quot;.&quot; + contentType,\r\n                &quot;image/png&quot;,\r\n                filename.getBytes());\r\n\r\n\r\n        //when\r\n        //then\r\n        this.mockMvc.perform(  //== ERROR!!!\r\n                        MockMvcRequestBuilders \r\n                                .multipart(&quot;/api/posts/image&quot;) \r\n                                .file(image1)\r\n                                .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                                .characterEncoding(&quot;UTF-8&quot;)\r\n                )\r\n                .andDo(print())\r\n                .andExpect(status().isOk());\r\n    }\r\n```\r\n\r\n\r\n### ImageService Code\r\n\r\n```java\r\n    // FileSave\r\n    public List&lt;ImageResDto&gt; addFile(List&lt;MultipartFile&gt; multipartFiles) throws IOException {\r\n        List&lt;ImageResDto&gt; imageResDtoList = new ArrayList&lt;&gt;();\r\n        /**\r\n         *   &lt;ImageResDto&gt;\r\n         *   private Long image_id;\r\n         *   private String imgUrl;\r\n         */\r\n\r\n        String absolutePath = new File(&quot;&quot;).getAbsolutePath() + File.separator + &quot;temp&quot;;\r\n\r\n        for (MultipartFile multipartFile : multipartFiles) {\r\n            String contentType = multipartFile.getContentType();\r\n            if(ObjectUtils.isEmpty(contentType)) {\r\n                throw new RuntimeException(&quot;FILE TYPE NOT FOUND&quot;);\r\n            } else if(!verifyContentType(contentType)){\r\n                throw new RuntimeException(&quot;FILE TYPE NOT FOUND&quot;);\r\n            }\r\n        }\r\n\r\n        for (MultipartFile multipartFile : multipartFiles) {\r\n\r\n            String filename = UUID.randomUUID() + multipartFile.getOriginalFilename();\r\n\r\n            // save in local\r\n            String fullFilePath = absolutePath + File.separator + filename;\r\n            System.out.println(&quot;fullFilePath = &quot; + fullFilePath);\r\n            File file = new File(fullFilePath);\r\n            if(!file.exists()) { file.mkdirs(); }\r\n\r\n            multipartFile.transferTo(file); // ERROR ... OTL\r\n            file.createNewFile(); \r\n\r\n            // S3 upload\r\n            amazonS3.putObject(\r\n                    new PutObjectRequest(bucket, filename, file)\r\n                            .withCannedAcl(CannedAccessControlList.PublicRead) \r\n            );\r\n\r\n            String imgUrl = amazonS3.getUrl(bucket, filename).toString();\r\n\r\n            Image newImage = Image.builder()\r\n                    .filename(filename)\r\n                    .filepath(filename)\r\n                    .imgUrl(imgUrl)\r\n                    .build();\r\n\r\n            imageRepository.save(newImage);\r\n            ImageResDto imageResDto = ImageResDto.of(newImage);\r\n\r\n            imageResDtoList.add(imageResDto);\r\n\r\n            file.delete(); // local file delete\r\n\r\n        }\r\n\r\n        return imageResDtoList;\r\n\r\n    }\r\n```\r\n\r\n### ImageController Code\r\n\r\n```java\r\n@PostMapping(value = &quot;/api/posts/image&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE, MediaType.APPLICATION_JSON_VALUE})\r\n    public ResponseEntity createImage(@RequestPart(value = &quot;files&quot;) List&lt;MultipartFile&gt; multipartFiles) throws IOException {\r\n\r\n        System.out.println(&quot;ImageController Runnnn&quot;);\r\n        // get member\r\n        PrincipalDetails principalDetails = (PrincipalDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n        Member member = principalDetails.getMember();\r\n\r\n\r\n        List&lt;ImageResDto&gt; imageResDtoList = imageService.addFile(multipartFiles);\r\n\r\n        return new ResponseEntity(imageResDtoList, HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\n\r\n\r\nI tried to specify a separate route using Path, but I failed.\r\n\r\n```java\r\n // Error ..java.nio.file.AccessDeniedException =&gt; Path \r\n // multipartFile -&gt; File \r\n Path path = Paths.get(fullFilePath).toAbsolutePath();\r\n multipartFile.transferTo(path.toFile());\r\n Files.createFile(path);\r\n```\r\n\r\nWhat is incomprehensible is that when tested using PostMan, the file is normally uploaded to the S3 bucket.\r\n\r\nPlease tell me if I applied anything wrong.","title":"How to solve ERROR java.nio.file.AccessDeniedException: D:\\workspace_intellij_forKiri\\Kiri\\server\\kiri\\temp\\28004d6bc31cfiles.png","body":"<p>I am going to convert MultipartFile to File and upload it to S3 bucket.\nHowever, when running the test, an error occurs in the process of converting MultipartFile to File.\nERROR : java.nio.file.AccessDeniedException: D:\\workspace_intellij_forKiri\\Kiri\\server\\kiri\\temp\\8b28a2f2-7276-4036</p>\n<pre class=\"lang-java prettyprint-override\"><code>multipartFile.transferTo(file);\n</code></pre>\n<p>Please advise if there is anything I am missing.</p>\n<p>The spring boot version is 2.7.7 version.</p>\n<h3>Test code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@WithAccount(&quot;creamyyyy&quot;)\n    @DisplayName(&quot;image save test&quot;)\n    @Test\n    public void createImageTest() throws Exception {\n        //given\n\n        String filename = &quot;files&quot;; \n        String contentType = &quot;png&quot;; \n        \n        MockMultipartFile image1 = new MockMultipartFile(\n                filename,\n                filename + &quot;.&quot; + contentType,\n                &quot;image/png&quot;,\n                filename.getBytes());\n\n\n        //when\n        //then\n        this.mockMvc.perform(  //== ERROR!!!\n                        MockMvcRequestBuilders \n                                .multipart(&quot;/api/posts/image&quot;) \n                                .file(image1)\n                                .contentType(MediaType.MULTIPART_FORM_DATA)\n                                .characterEncoding(&quot;UTF-8&quot;)\n                )\n                .andDo(print())\n                .andExpect(status().isOk());\n    }\n</code></pre>\n<h3>ImageService Code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    // FileSave\n    public List&lt;ImageResDto&gt; addFile(List&lt;MultipartFile&gt; multipartFiles) throws IOException {\n        List&lt;ImageResDto&gt; imageResDtoList = new ArrayList&lt;&gt;();\n        /**\n         *   &lt;ImageResDto&gt;\n         *   private Long image_id;\n         *   private String imgUrl;\n         */\n\n        String absolutePath = new File(&quot;&quot;).getAbsolutePath() + File.separator + &quot;temp&quot;;\n\n        for (MultipartFile multipartFile : multipartFiles) {\n            String contentType = multipartFile.getContentType();\n            if(ObjectUtils.isEmpty(contentType)) {\n                throw new RuntimeException(&quot;FILE TYPE NOT FOUND&quot;);\n            } else if(!verifyContentType(contentType)){\n                throw new RuntimeException(&quot;FILE TYPE NOT FOUND&quot;);\n            }\n        }\n\n        for (MultipartFile multipartFile : multipartFiles) {\n\n            String filename = UUID.randomUUID() + multipartFile.getOriginalFilename();\n\n            // save in local\n            String fullFilePath = absolutePath + File.separator + filename;\n            System.out.println(&quot;fullFilePath = &quot; + fullFilePath);\n            File file = new File(fullFilePath);\n            if(!file.exists()) { file.mkdirs(); }\n\n            multipartFile.transferTo(file); // ERROR ... OTL\n            file.createNewFile(); \n\n            // S3 upload\n            amazonS3.putObject(\n                    new PutObjectRequest(bucket, filename, file)\n                            .withCannedAcl(CannedAccessControlList.PublicRead) \n            );\n\n            String imgUrl = amazonS3.getUrl(bucket, filename).toString();\n\n            Image newImage = Image.builder()\n                    .filename(filename)\n                    .filepath(filename)\n                    .imgUrl(imgUrl)\n                    .build();\n\n            imageRepository.save(newImage);\n            ImageResDto imageResDto = ImageResDto.of(newImage);\n\n            imageResDtoList.add(imageResDto);\n\n            file.delete(); // local file delete\n\n        }\n\n        return imageResDtoList;\n\n    }\n</code></pre>\n<h3>ImageController Code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/api/posts/image&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE, MediaType.APPLICATION_JSON_VALUE})\n    public ResponseEntity createImage(@RequestPart(value = &quot;files&quot;) List&lt;MultipartFile&gt; multipartFiles) throws IOException {\n\n        System.out.println(&quot;ImageController Runnnn&quot;);\n        // get member\n        PrincipalDetails principalDetails = (PrincipalDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n        Member member = principalDetails.getMember();\n\n\n        List&lt;ImageResDto&gt; imageResDtoList = imageService.addFile(multipartFiles);\n\n        return new ResponseEntity(imageResDtoList, HttpStatus.CREATED);\n    }\n</code></pre>\n<p>I tried to specify a separate route using Path, but I failed.</p>\n<pre class=\"lang-java prettyprint-override\"><code> // Error ..java.nio.file.AccessDeniedException =&gt; Path \n // multipartFile -&gt; File \n Path path = Paths.get(fullFilePath).toAbsolutePath();\n multipartFile.transferTo(path.toFile());\n Files.createFile(path);\n</code></pre>\n<p>What is incomprehensible is that when tested using PostMan, the file is normally uploaded to the S3 bucket.</p>\n<p>Please tell me if I applied anything wrong.</p>\n"},{"tags":["java","spring-boot","spring-batch","batch-processing"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1676030092,"post_id":75409987,"comment_id":133059747,"body_markdown":"Check if the file exists before creating/returning the FlatFileItemReader and return something else instead?","body":"Check if the file exists before creating/returning the FlatFileItemReader and return something else instead?"}],"answers":[{"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1676281968,"post_id":75418234,"comment_id":133098847,"body_markdown":"This is a common pattern, which is documented here: https://docs.spring.io/spring-batch/docs/current/reference/html/common-patterns.html#handlingStepCompletionWhenNoInputIsFound.","body":"This is a common pattern, which is documented here: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/common-patterns.html#handlingStepCompletionWhenNoInputIsFound\" rel=\"nofollow noreferrer\">docs.spring.io/spring-batch/docs/current/reference/html/&hellip;</a>."}],"tags":[],"owner":{"account_id":18532137,"reputation":63,"user_id":13502658,"display_name":"Jiandong"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676092624,"creation_date":1676092624,"answer_id":75418234,"question_id":75409987,"body_markdown":"1. set the **strict** property to **false** so that input resource exceptions would not happen.\r\n\r\n2. check the readCount after the batch job is completed. if readCount == 0, means no data, and you handle your logic here.\r\n\r\nexample for your case (implementing the JobExecutionListener):\r\n    \r\n    @Override\r\n    public void afterJob(JobExecution jobExecution) {\r\n        StepExecution[] stepExecutions = jobExecution.getStepExecutions().toArray(new StepExecution[]{});\r\n        StepExecution stepExecution = stepExecutions[0];\r\n        long readCount = stepExecution.getReadCount();\r\n        if (readCount == 0) {\r\n            // your logic\r\n        }\r\n    }\r\n    \r\n\r\n","title":"Spring Batch: how to avoid IllegalStateException: Input resource must exist","body":"<ol>\n<li><p>set the <strong>strict</strong> property to <strong>false</strong> so that input resource exceptions would not happen.</p>\n</li>\n<li><p>check the readCount after the batch job is completed. if readCount == 0, means no data, and you handle your logic here.</p>\n</li>\n</ol>\n<p>example for your case (implementing the JobExecutionListener):</p>\n<pre><code>@Override\npublic void afterJob(JobExecution jobExecution) {\n    StepExecution[] stepExecutions = jobExecution.getStepExecutions().toArray(new StepExecution[]{});\n    StepExecution stepExecution = stepExecutions[0];\n    long readCount = stepExecution.getReadCount();\n    if (readCount == 0) {\n        // your logic\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19670013,"reputation":193,"user_id":14399455,"display_name":"wishyouwerehere"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676092624,"creation_date":1676025748,"question_id":75409987,"body_markdown":"I&#39;m developing a batch application using Spring Batch with Java 11.\r\nThis is my reader() method:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Bean\r\n    public FlatFileItemReader&lt;MyClass&gt; reader() {\r\n        BeanWrapperFieldSetMapper beanWrapperMapper = new BeanWrapperFieldSetMapper&lt;MyClass&gt;();\r\n        beanWrapperMapper.setTargetType(MyClass.class);\r\n\r\n        return new FlatFileItemReaderBuilder&lt;MyClass&gt;()\r\n                .name(&quot;MyClassReader&quot;)\r\n                .resource(new FileSystemResource(inputFolder.concat(File.separator).concat(&quot;my-input-file.csv&quot;)))\r\n                .delimited()\r\n                .names(&quot;field1&quot;, &quot;field2&quot;)\r\n                .fieldSetMapper(beanWrapperMapper)\r\n                .build();\r\n    }\r\n\r\nI did several tests and when the file `my-input-file.csv` is there, the batch works fine. However, I would like to get the following behavior: if the file `my-input-file.csv` is missing, I still want something written to the output file and **no errors be raised**.\r\nRight now, if I run the batch but the file is not in the folder, this error comes up:\r\n\r\n    IllegalStateException: Input resource must exist (reader is in &#39;strict&#39; mode): path [C:\\\\Users\\\\username\\\\Desktop\\\\src\\\\test\\\\resources\\\\my-input-file.csv]\r\n\r\nI am aware that the error is because the file could not be found. But I really would like to handle this case to generate a different output file (and I don&#39;t want the batch process to fail).\r\n\r\nHow can this be done?","title":"Spring Batch: how to avoid IllegalStateException: Input resource must exist","body":"<p>I'm developing a batch application using Spring Batch with Java 11.\nThis is my reader() method:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\n@Bean\npublic FlatFileItemReader&lt;MyClass&gt; reader() {\n    BeanWrapperFieldSetMapper beanWrapperMapper = new BeanWrapperFieldSetMapper&lt;MyClass&gt;();\n    beanWrapperMapper.setTargetType(MyClass.class);\n\n    return new FlatFileItemReaderBuilder&lt;MyClass&gt;()\n            .name(&quot;MyClassReader&quot;)\n            .resource(new FileSystemResource(inputFolder.concat(File.separator).concat(&quot;my-input-file.csv&quot;)))\n            .delimited()\n            .names(&quot;field1&quot;, &quot;field2&quot;)\n            .fieldSetMapper(beanWrapperMapper)\n            .build();\n}\n</code></pre>\n<p>I did several tests and when the file <code>my-input-file.csv</code> is there, the batch works fine. However, I would like to get the following behavior: if the file <code>my-input-file.csv</code> is missing, I still want something written to the output file and <strong>no errors be raised</strong>.\nRight now, if I run the batch but the file is not in the folder, this error comes up:</p>\n<pre><code>IllegalStateException: Input resource must exist (reader is in 'strict' mode): path [C:\\\\Users\\\\username\\\\Desktop\\\\src\\\\test\\\\resources\\\\my-input-file.csv]\n</code></pre>\n<p>I am aware that the error is because the file could not be found. But I really would like to handle this case to generate a different output file (and I don't want the batch process to fail).</p>\n<p>How can this be done?</p>\n"},{"tags":["java","html"],"comments":[{"owner":{"account_id":792027,"reputation":2645,"user_id":869368,"display_name":"Matthias"},"score":0,"creation_date":1575389719,"post_id":59160419,"comment_id":104546742,"body_markdown":"I can&#39;t find any source for what I am about to say. But as far as I remember, swing does not support images that are loaded from the web. There is definitely a way to show images that are stored on the classpath- and I believe that it is also possible to show images that are stored in a file. \n\nMaybe, downloading that image and storing it in a temp directory might be the solution (you&#39;ll then need to pass the path to that file into your image). \n\nAlternatively, check out openhtmltopdf - it&#39;s a more sophisticated tool to convert html to pdfs and images.","body":"I can&#39;t find any source for what I am about to say. But as far as I remember, swing does not support images that are loaded from the web. There is definitely a way to show images that are stored on the classpath- and I believe that it is also possible to show images that are stored in a file.   Maybe, downloading that image and storing it in a temp directory might be the solution (you&#39;ll then need to pass the path to that file into your image).   Alternatively, check out openhtmltopdf - it&#39;s a more sophisticated tool to convert html to pdfs and images."},{"owner":{"account_id":15858786,"reputation":23,"user_id":11442499,"display_name":"Diego Armando"},"score":0,"creation_date":1575390320,"post_id":59160419,"comment_id":104547091,"body_markdown":"Already stored the image in a local repository to try, and also did not work. But I will check the tool you talked about. Thank you.","body":"Already stored the image in a local repository to try, and also did not work. But I will check the tool you talked about. Thank you."},{"owner":{"account_id":2180986,"reputation":807,"user_id":1930495,"display_name":"Michele Dorigatti"},"score":0,"creation_date":1575391477,"post_id":59160419,"comment_id":104547734,"body_markdown":"It would be probably helpful if you added a minimal example of the generated html. Also, you could explain better, maybe with an image, what do you mean with &quot;the image contained in the html is not being generated&quot;.","body":"It would be probably helpful if you added a minimal example of the generated html. Also, you could explain better, maybe with an image, what do you mean with &quot;the image contained in the html is not being generated&quot;."}],"answers":[{"comments":[{"owner":{"account_id":15858786,"reputation":23,"user_id":11442499,"display_name":"Diego Armando"},"score":1,"creation_date":1575392713,"post_id":59161563,"comment_id":104548434,"body_markdown":"The same problem occurred as well. The image generates but the images contained in the HTML are broken.","body":"The same problem occurred as well. The image generates but the images contained in the HTML are broken."},{"owner":{"account_id":10245009,"reputation":1997,"user_id":7561063,"display_name":"Allabakash"},"score":0,"creation_date":1575392775,"post_id":59161563,"comment_id":104548476,"body_markdown":"For me it worked with the html code you provided. Can you provide complete HTML code","body":"For me it worked with the html code you provided. Can you provide complete HTML code"},{"owner":{"account_id":15858786,"reputation":23,"user_id":11442499,"display_name":"Diego Armando"},"score":0,"creation_date":1575395367,"post_id":59161563,"comment_id":104549715,"body_markdown":"This is project on git https://github.com/dragoso/HtmlToImage","body":"This is project on git <a href=\"https://github.com/dragoso/HtmlToImage\" rel=\"nofollow noreferrer\">github.com/dragoso/HtmlToImage</a>"},{"owner":{"account_id":10245009,"reputation":1997,"user_id":7561063,"display_name":"Allabakash"},"score":0,"creation_date":1575396620,"post_id":59161563,"comment_id":104550265,"body_markdown":"its working fine with the code you shared in my local. Image is same as showing in HTML, Are you using any proxy server while executing this ?","body":"its working fine with the code you shared in my local. Image is same as showing in HTML, Are you using any proxy server while executing this ?"},{"owner":{"account_id":15858786,"reputation":23,"user_id":11442499,"display_name":"Diego Armando"},"score":0,"creation_date":1575454809,"post_id":59161563,"comment_id":104569450,"body_markdown":"The problem persist in another computer, In html is this---&gt; https://ibb.co/8z7g4Km","body":"The problem persist in another computer, In html is this---&gt; <a href=\"https://ibb.co/8z7g4Km\" rel=\"nofollow noreferrer\">ibb.co/8z7g4Km</a>"},{"owner":{"account_id":10245009,"reputation":1997,"user_id":7561063,"display_name":"Allabakash"},"score":0,"creation_date":1575454885,"post_id":59161563,"comment_id":104569491,"body_markdown":"ibb.co/8z7g4Km  is the image generated in my local","body":"ibb.co/8z7g4Km  is the image generated in my local"},{"owner":{"account_id":10245009,"reputation":1997,"user_id":7561063,"display_name":"Allabakash"},"score":0,"creation_date":1575454930,"post_id":59161563,"comment_id":104569512,"body_markdown":"which JDK u r using","body":"which JDK u r using"},{"owner":{"account_id":15858786,"reputation":23,"user_id":11442499,"display_name":"Diego Armando"},"score":0,"creation_date":1575468503,"post_id":59161563,"comment_id":104577011,"body_markdown":"java jdk 8- 111","body":"java jdk 8- 111"},{"owner":{"account_id":6472378,"reputation":1097,"user_id":5012102,"accept_rate":100,"display_name":"dgupta3091"},"score":0,"creation_date":1653814527,"post_id":59161563,"comment_id":127939017,"body_markdown":"the project link is broken. it isnt working for me","body":"the project link is broken. it isnt working for me"}],"tags":[],"owner":{"account_id":10245009,"reputation":1997,"user_id":7561063,"display_name":"Allabakash"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1624881476,"creation_date":1575391061,"answer_id":59161563,"question_id":59160419,"body_markdown":"You can make use of this library https://code.google.com/archive/p/java-html2image/ which provides options to convert html to image.\r\n\r\nCode will look something like this.\r\n\r\n    String html = &quot;&lt;body lang=PT-BR style=&#39;tab-interval:35.4pt&#39;&gt;&lt;img src=&#39;http://nxcache.nexon.net/all/v1.5.2/img/gnt/games-dropdown/maplestory.jpg&#39;&gt;&lt;/body&gt;&quot;;\r\n    \r\n    \t\t    HtmlImageGenerator hig = new HtmlImageGenerator();\r\n    \t\t    hig.loadHtml(html);\r\n    \t\t    hig.saveAsImage(new File(&quot;test.png&quot;));\r\n\r\n","title":"Java convert Html to Image","body":"<p>You can make use of this library <a href=\"https://code.google.com/archive/p/java-html2image/\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/java-html2image/</a> which provides options to convert html to image.</p>\n<p>Code will look something like this.</p>\n<pre><code>String html = &quot;&lt;body lang=PT-BR style='tab-interval:35.4pt'&gt;&lt;img src='http://nxcache.nexon.net/all/v1.5.2/img/gnt/games-dropdown/maplestory.jpg'&gt;&lt;/body&gt;&quot;;\n\n            HtmlImageGenerator hig = new HtmlImageGenerator();\n            hig.loadHtml(html);\n            hig.saveAsImage(new File(&quot;test.png&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3006965,"reputation":4976,"user_id":2551287,"accept_rate":89,"display_name":"young-ceo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676090014,"creation_date":1676084215,"answer_id":75417846,"question_id":59160419,"body_markdown":"Using `java-html2image` (https://github.com/hkirk/java-html2image):\r\n\r\n```xml\r\n// pom.xml\r\n&lt;repositories&gt;\r\n  &lt;repository&gt;\r\n    &lt;id&gt;jitpack.io&lt;/id&gt;\r\n    &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n  &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n...\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.hkirk&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-html2image&lt;/artifactId&gt;\r\n    &lt;version&gt;0.9&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n```java\r\npublic void testing() {\r\n    HtmlImageGenerator imageGenerator = new HtmlImageGenerator();\r\n    imageGenerator.loadHtml(&quot;&lt;body&gt;&lt;span&gt;Hello World!&lt;/span&gt;&lt;/body&gt;&quot;);\r\n    imageGenerator.saveAsImage(&quot;testing.png&quot;);\r\n}\r\n```\r\n\r\nThe bad part of using `java-html2image` is: the output image always has white borders (so having black background is impossible).\r\n\r\n---\r\n\r\n**Updates:**\r\n\r\nI found the solution for the white border issue:\r\n\r\n```java\r\nHtmlImageGenerator imageGenerator = new HtmlImageGenerator() {\r\n    protected JEditorPane createJEditorPane() {\r\n        JEditorPane editor = super.createJEditorPane();\r\n        editor.setOpaque(false); // The solution\r\n        return editor;\r\n    }\r\n};\r\n```\r\n\r\nNow the output image is clear!","title":"Java convert Html to Image","body":"<p>Using <code>java-html2image</code> (<a href=\"https://github.com/hkirk/java-html2image\" rel=\"nofollow noreferrer\">https://github.com/hkirk/java-html2image</a>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>// pom.xml\n&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;jitpack.io&lt;/id&gt;\n    &lt;url&gt;https://jitpack.io&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n...\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.github.hkirk&lt;/groupId&gt;\n    &lt;artifactId&gt;java-html2image&lt;/artifactId&gt;\n    &lt;version&gt;0.9&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void testing() {\n    HtmlImageGenerator imageGenerator = new HtmlImageGenerator();\n    imageGenerator.loadHtml(&quot;&lt;body&gt;&lt;span&gt;Hello World!&lt;/span&gt;&lt;/body&gt;&quot;);\n    imageGenerator.saveAsImage(&quot;testing.png&quot;);\n}\n</code></pre>\n<p>The bad part of using <code>java-html2image</code> is: the output image always has white borders (so having black background is impossible).</p>\n<hr />\n<p><strong>Updates:</strong></p>\n<p>I found the solution for the white border issue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HtmlImageGenerator imageGenerator = new HtmlImageGenerator() {\n    protected JEditorPane createJEditorPane() {\n        JEditorPane editor = super.createJEditorPane();\n        editor.setOpaque(false); // The solution\n        return editor;\n    }\n};\n</code></pre>\n<p>Now the output image is clear!</p>\n"}],"owner":{"account_id":15858786,"reputation":23,"user_id":11442499,"display_name":"Diego Armando"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19915,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59161563,"answer_count":2,"score":2,"last_activity_date":1676090014,"creation_date":1575387003,"question_id":59160419,"body_markdown":"I generated a Html with information of my client, so that he can attach them to your website or email.\r\nBut some clients asked me to generate an image and not the html. I used the code below to generate the image, and it went well, but the image contained in the html is not being generated. When I open the HTML code in browser it works correctly, but when I generated the image from html, it generates only text and breaks the image.\r\n\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n    String html = &quot;&lt;body lang=PT-BR style=&#39;tab-interval:35.4pt&#39;&gt;&lt;img src=&#39;http://nxcache.nexon.net/all/v1.5.2/img/gnt/games-dropdown/maplestory.jpg&#39;&gt;&lt;/body&gt;&quot;;\r\n    \r\n    int width = 600, height = 200;\r\n\r\n    BufferedImage image = GraphicsEnvironment.getLocalGraphicsEnvironment()\r\n        .getDefaultScreenDevice().getDefaultConfiguration()\r\n        .createCompatibleImage(width, height);\r\n\r\n    Graphics graphics = image.createGraphics();\r\n\r\n    JEditorPane jep = new JEditorPane(&quot;text/html&quot;, html);\r\n    jep.setSize(width, height);\r\n    jep.print(graphics);\r\n\r\n    ImageIO.write(image, &quot;png&quot;, new File(&quot;C:\\\\Users\\\\MYUSER\\\\Documents\\\\NetBeansProjects\\\\HtmlToImage\\\\Image.png&quot;));\r\n\r\nDoes anyone have any idea what might be happening?\r\n\r\n\r\nThis is my problem in picture. --&gt; [Erro][1]\r\n\r\n\r\nproject on git: [github][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FZSHA.png\r\n  [2]: http://github.com/dragoso/HtmlToImage","title":"Java convert Html to Image","body":"<p>I generated a Html with information of my client, so that he can attach them to your website or email.\nBut some clients asked me to generate an image and not the html. I used the code below to generate the image, and it went well, but the image contained in the html is not being generated. When I open the HTML code in browser it works correctly, but when I generated the image from html, it generates only text and breaks the image.</p>\n\n<hr>\n\n<pre><code>public static void main(String[] args) throws Exception {\nString html = \"&lt;body lang=PT-BR style='tab-interval:35.4pt'&gt;&lt;img src='http://nxcache.nexon.net/all/v1.5.2/img/gnt/games-dropdown/maplestory.jpg'&gt;&lt;/body&gt;\";\n\nint width = 600, height = 200;\n\nBufferedImage image = GraphicsEnvironment.getLocalGraphicsEnvironment()\n    .getDefaultScreenDevice().getDefaultConfiguration()\n    .createCompatibleImage(width, height);\n\nGraphics graphics = image.createGraphics();\n\nJEditorPane jep = new JEditorPane(\"text/html\", html);\njep.setSize(width, height);\njep.print(graphics);\n\nImageIO.write(image, \"png\", new File(\"C:\\\\Users\\\\MYUSER\\\\Documents\\\\NetBeansProjects\\\\HtmlToImage\\\\Image.png\"));\n</code></pre>\n\n<p>Does anyone have any idea what might be happening?</p>\n\n<p>This is my problem in picture. --> <a href=\"https://i.stack.imgur.com/FZSHA.png\" rel=\"nofollow noreferrer\">Erro</a></p>\n\n<p>project on git: <a href=\"http://github.com/dragoso/HtmlToImage\" rel=\"nofollow noreferrer\">github</a></p>\n"},{"tags":["java","maven","version","versioning","build-numbers"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676087542,"post_id":75417979,"comment_id":133072421,"body_markdown":"A version number like that is typically a version control fingerprint; e.g. the first part of a git commit checksum.   So `2.0.0-SNAPSHOT-g57517b7` is likely to represent a prerelease (i.e. SNAPSHOT) build for 2.0.0 corresponding to commit `g57517b7`.","body":"A version number like that is typically a version control fingerprint; e.g. the first part of a git commit checksum.   So <code>2.0.0-SNAPSHOT-g57517b7</code> is likely to represent a prerelease (i.e. SNAPSHOT) build for 2.0.0 corresponding to commit <code>g57517b7</code>."}],"answers":[{"tags":[],"owner":{"account_id":3468285,"reputation":17,"user_id":2903319,"display_name":"Mutaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676088402,"creation_date":1676088372,"answer_id":75418038,"question_id":75417979,"body_markdown":"The last part of the version name looks like a current git commit id.\r\nHave a look here [Include git commit hash in jar version][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40446275/include-git-commit-hash-in-jar-version","title":"Maven - Versioning the Project","body":"<p>The last part of the version name looks like a current git commit id.\nHave a look here <a href=\"https://stackoverflow.com/questions/40446275/include-git-commit-hash-in-jar-version\">Include git commit hash in jar version</a></p>\n"}],"owner":{"account_id":18131155,"reputation":91,"user_id":13186253,"display_name":"Ey&#252;p Yıldız"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1676088402,"creation_date":1676087067,"question_id":75417979,"body_markdown":"I&#39;m trying to learn more about how big project builds are being versioned by developer teams using maven. For example, some projects have versions like: 2.0.0-SNAPSHOT-g57517b7, what that &quot;g57517b7&quot; represents exactly? and is it possible to automate versioning process that increments those number or some kind of build number on maven?","title":"Maven - Versioning the Project","body":"<p>I'm trying to learn more about how big project builds are being versioned by developer teams using maven. For example, some projects have versions like: 2.0.0-SNAPSHOT-g57517b7, what that &quot;g57517b7&quot; represents exactly? and is it possible to automate versioning process that increments those number or some kind of build number on maven?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1676086124,"post_id":75417914,"comment_id":133072332,"body_markdown":"Well, clearly you thought incorrectly. Why did you think that?","body":"Well, clearly you thought incorrectly. Why did you think that?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676086456,"post_id":75417914,"comment_id":133072359,"body_markdown":"Please read [this](https://meta.stackoverflow.com/a/323382/5133585) and clarify your question.","body":"Please read <a href=\"https://meta.stackoverflow.com/a/323382/5133585\">this</a> and clarify your question."},{"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"score":0,"creation_date":1676086680,"post_id":75417914,"comment_id":133072370,"body_markdown":"@Sweeper there are `final` variable issue with inner class,but i can&#39;t reproduce when this problem would occur,thanks.","body":"@Sweeper there are <code>final</code> variable issue with inner class,but i can&#39;t reproduce when this problem would occur,thanks."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676087642,"creation_date":1676087642,"answer_id":75418005,"question_id":75417914,"body_markdown":"The [Java Language Specification][1] says:\r\n\r\n&gt; Any local variable, formal parameter, or exception parameter used but not declared in an inner class must either be declared final or be effectively final ([&#167;4.12.4][2]), or a compile-time error occurs where the use is attempted.\r\n\r\nYou most likely recalled/remembered an incorrect version of that. You might have mistook it as:\r\n\r\n&gt; Any **instance variable**, local variable, formal parameter, or exception parameter used but not declared in an inner class must either be declared final &lt;s&gt;**or be effectively final ([&#167;4.12.4][2])**&lt;/s&gt;, or a compile-time error occurs where the use is attempted.\r\n\r\n`greeting` is a field (aka instance variable), so can be used in inner classes whether or not it is final or not.\r\n\r\n`ss`, though it is a formal parameter, is *effectively final*, so it can be used in inner classes too. Note that the phrase &quot;effectively final&quot; has a formal definition in [&#167;4.12.4][2], but informally, it just means &quot;you did not reassign it another value in this method&quot; in this context.\r\n\r\nSee this [post][3] for why this restriction exists.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.3\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\r\n  [3]: https://stackoverflow.com/q/39889003/5133585","title":"Can inner class refer non finalvariable defined in outer class in Java 8","body":"<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">Java Language Specification</a> says:</p>\n<blockquote>\n<p>Any local variable, formal parameter, or exception parameter used but not declared in an inner class must either be declared final or be effectively final (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">§4.12.4</a>), or a compile-time error occurs where the use is attempted.</p>\n</blockquote>\n<p>You most likely recalled/remembered an incorrect version of that. You might have mistook it as:</p>\n<blockquote>\n<p>Any <strong>instance variable</strong>, local variable, formal parameter, or exception parameter used but not declared in an inner class must either be declared final <s><strong>or be effectively final (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">§4.12.4</a>)</strong></s>, or a compile-time error occurs where the use is attempted.</p>\n</blockquote>\n<p><code>greeting</code> is a field (aka instance variable), so can be used in inner classes whether or not it is final or not.</p>\n<p><code>ss</code>, though it is a formal parameter, is <em>effectively final</em>, so it can be used in inner classes too. Note that the phrase &quot;effectively final&quot; has a formal definition in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">§4.12.4</a>, but informally, it just means &quot;you did not reassign it another value in this method&quot; in this context.</p>\n<p>See this <a href=\"https://stackoverflow.com/q/39889003/5133585\">post</a> for why this restriction exists.</p>\n"}],"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75418005,"answer_count":1,"score":3,"last_activity_date":1676087642,"creation_date":1676085779,"question_id":75417914,"body_markdown":"I have always thought that  `inner class CAN NOT refer non final variable defined in outer class`\r\n\r\nBut, when I write the following code, it compiles correctly and can be run in Intellij Idea,\r\n\r\nI am confused,could some one help explain why the following code works? thanks!\r\n\r\n```\r\npublic class Outer {\r\n\r\n    /**\r\n     * non final variable greeting is used in inner class, non final is OK?\r\n     */\r\n    private String greeting = &quot;Greeting1&quot;;\r\n\r\n    /**\r\n     * non final variable s is used in inner class, non final is OK?\r\n     */\r\n    public String doWork(String s) {\r\n        class Inner {\r\n            public String speak(String ss) {\r\n                return greeting + &quot;--- &quot; + s + &quot;---&quot; + ss;\r\n            }\r\n        }\r\n        Inner obj = new Inner();\r\n        return obj.speak(&quot;Inner&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Outer obj = new Outer();\r\n        //Can assign here.\r\n        obj.greeting=&quot;Greeting2&quot;;\r\n        System.out.println(obj.doWork(&quot;Outer&quot;));\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Can inner class refer non finalvariable defined in outer class in Java 8","body":"<p>I have always thought that  <code>inner class CAN NOT refer non final variable defined in outer class</code></p>\n<p>But, when I write the following code, it compiles correctly and can be run in Intellij Idea,</p>\n<p>I am confused,could some one help explain why the following code works? thanks!</p>\n<pre><code>public class Outer {\n\n    /**\n     * non final variable greeting is used in inner class, non final is OK?\n     */\n    private String greeting = &quot;Greeting1&quot;;\n\n    /**\n     * non final variable s is used in inner class, non final is OK?\n     */\n    public String doWork(String s) {\n        class Inner {\n            public String speak(String ss) {\n                return greeting + &quot;--- &quot; + s + &quot;---&quot; + ss;\n            }\n        }\n        Inner obj = new Inner();\n        return obj.speak(&quot;Inner&quot;);\n    }\n\n    public static void main(String[] args) {\n        Outer obj = new Outer();\n        //Can assign here.\n        obj.greeting=&quot;Greeting2&quot;;\n        System.out.println(obj.doWork(&quot;Outer&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","networking","data-transfer"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1476118212,"post_id":39963021,"comment_id":67205855,"body_markdown":"You may wish to edit your question and explain, in detail, what &quot;is sometimes messy&quot; means, and how you think that not using WiFi will somehow improve upon this. You might also explain what communication mechanism you wish to use (Bluetooth?) that is not WiFi and does not involve the Internet.","body":"You may wish to edit your question and explain, in detail, what &quot;is sometimes messy&quot; means, and how you think that not using WiFi will somehow improve upon this. You might also explain what communication mechanism you wish to use (Bluetooth?) that is not WiFi and does not involve the Internet."},{"owner":{"account_id":3417349,"reputation":266,"user_id":2865828,"accept_rate":83,"display_name":"Nikolai"},"score":0,"creation_date":1476118604,"post_id":39963021,"comment_id":67206065,"body_markdown":"@CommonsWare There you go :)","body":"@CommonsWare There you go :)"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1476119140,"post_id":39963021,"comment_id":67206363,"body_markdown":"Using `adb` pretty much requires getting the Android SDK set up, which will not be a lot of fun. And while `adb` is faster than it used to be, I suspect that it is still slower than WiFi, though perhaps without your router issues. I&#39;m also unclear what a router has to do with the problem, as if this is all local, your users should be inside the network and not traversing a router. I would focus on fixing the network or finding ways of exchanging less data in your app, rather than trying to roll out `adb` to 200+ non-developers.","body":"Using <code>adb</code> pretty much requires getting the Android SDK set up, which will not be a lot of fun. And while <code>adb</code> is faster than it used to be, I suspect that it is still slower than WiFi, though perhaps without your router issues. I&#39;m also unclear what a router has to do with the problem, as if this is all local, your users should be inside the network and not traversing a router. I would focus on fixing the network or finding ways of exchanging less data in your app, rather than trying to roll out <code>adb</code> to 200+ non-developers."}],"owner":{"account_id":3417349,"reputation":266,"user_id":2865828,"accept_rate":83,"display_name":"Nikolai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676087011,"creation_date":1476118023,"question_id":39963021,"body_markdown":"**Context**  \r\nI made a professional Android app, by that I mean it&#39;s not on Playstore and only use for one specific purpose. It&#39;s deployed on around 200 Samsung tablets and work pretty smoothly. To make it simple, it loads data (~300Kb JSON file) in the morning, then users do business stuff and by the end of the day give the devices back after transferring their daily data (~8Mb zip file). It works okay, but managing 200 hundreds people and data transfer over wi-fi is sometimes messy. By messy, I mean that Wi-Router, there&#39;s only one, sometimes shut off connection to some devices, and these ones have to wait &amp; try again later. Also, we had to restrict connections on the router to 15 simultaneous connections to avoid CPU overload. It&#39;s a Fortinet FortiWifi 60D. \r\n\r\n**The problem**  \r\nSo like I said, they load a few data in the morning (~300Kb) but that&#39;s about to change, and now I&#39;m asked to transfer nothing less than 150MB each morning, on each device.\r\n\r\n**My question**  \r\nThat&#39;s a whole lot of data, and I&#39;m afraid Wi-fi isn&#39;t going to be my best option here. I say that because maybe connecting them to a computer and transfer through adb scripts might be faster. Do you have any architecture advices, or any procedures you think I should apply to my problem?\r\n\r\n**More info**  \r\nThe web application sending data to devices is not remote, so no Internet transfer, only local.","title":"Transfer large amount of data between android app &amp; server app","body":"<p><strong>Context</strong><br />\nI made a professional Android app, by that I mean it's not on Playstore and only use for one specific purpose. It's deployed on around 200 Samsung tablets and work pretty smoothly. To make it simple, it loads data (~300Kb JSON file) in the morning, then users do business stuff and by the end of the day give the devices back after transferring their daily data (~8Mb zip file). It works okay, but managing 200 hundreds people and data transfer over wi-fi is sometimes messy. By messy, I mean that Wi-Router, there's only one, sometimes shut off connection to some devices, and these ones have to wait &amp; try again later. Also, we had to restrict connections on the router to 15 simultaneous connections to avoid CPU overload. It's a Fortinet FortiWifi 60D.</p>\n<p><strong>The problem</strong><br />\nSo like I said, they load a few data in the morning (~300Kb) but that's about to change, and now I'm asked to transfer nothing less than 150MB each morning, on each device.</p>\n<p><strong>My question</strong><br />\nThat's a whole lot of data, and I'm afraid Wi-fi isn't going to be my best option here. I say that because maybe connecting them to a computer and transfer through adb scripts might be faster. Do you have any architecture advices, or any procedures you think I should apply to my problem?</p>\n<p><strong>More info</strong><br />\nThe web application sending data to devices is not remote, so no Internet transfer, only local.</p>\n"},{"tags":["javascript","java","html","web"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676106919,"post_id":75417975,"comment_id":133074073,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27758049,"reputation":1,"user_id":21191048,"display_name":"phuc tran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676086967,"creation_date":1676086967,"question_id":75417975,"body_markdown":"I&#39;m buiding a web app from google sheet and I&#39;m trying to show the value of an google sheet cell to the web app, \r\n\r\nAny suggestion? \r\n\r\nThank you in advance! \r\n\r\nI&#39;m able to get Value from the cell using .getValue, but don&#39;t know how to display it to web app","title":"Display value from google sheet cell to an app script web app","body":"<p>I'm buiding a web app from google sheet and I'm trying to show the value of an google sheet cell to the web app,</p>\n<p>Any suggestion?</p>\n<p>Thank you in advance!</p>\n<p>I'm able to get Value from the cell using .getValue, but don't know how to display it to web app</p>\n"},{"tags":["java","modulo"],"comments":[{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1656683034,"post_id":72830171,"comment_id":128638617,"body_markdown":"Welcome to Stack Overflow. In your own words, where the code says `long b = a/M;`, what do you think the `a/M` part means? What will be calculated? Where the assignment says &quot;you have to calculate x to the power of n, modulo 10^9+7 i.e. calculate (x^n) % (10^9+7).&quot;, what is your understanding of what the &quot;modulo&quot; part means? (Hint: why do you think a `%` sign is used in the assignment? Do you know what `%` does in a Java program?)","body":"Welcome to Stack Overflow. In your own words, where the code says <code>long b = a&#47;M;</code>, what do you think the <code>a&#47;M</code> part means? What will be calculated? Where the assignment says &quot;you have to calculate x to the power of n, modulo 10^9+7 i.e. calculate (x^n) % (10^9+7).&quot;, what is your understanding of what the &quot;modulo&quot; part means? (Hint: why do you think a <code>%</code> sign is used in the assignment? Do you know what <code>%</code> does in a Java program?)"},{"owner":{"account_id":2684795,"reputation":182470,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":1,"creation_date":1656683103,"post_id":72830171,"comment_id":128638652,"body_markdown":"You have lost precision in `Math.pow` call. `double` can represent exact integer value up to `2**53` ~ `1e15` when you are trying to compute `1e16`","body":"You have lost precision in <code>Math.pow</code> call. <code>double</code> can represent exact integer value up to <code>2**53</code> ~ <code>1e15</code> when you are trying to compute <code>1e16</code>"},{"owner":{"account_id":25645440,"reputation":332,"user_id":19413610,"display_name":"Ayan Dasgupta"},"score":0,"creation_date":1656683361,"post_id":72830171,"comment_id":128638733,"body_markdown":"@KarlKnechtel I made a typo, should have done long b = a%M.\n\nHowever, when I do this, while I do get the desired output for the given sample test case, the code does fail for some base test cases.","body":"@KarlKnechtel I made a typo, should have done long b = a%M.  However, when I do this, while I do get the desired output for the given sample test case, the code does fail for some base test cases."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1656683773,"post_id":72830171,"comment_id":128638870,"body_markdown":"You might give a thought on what 999999999^99999 is, and if you can use `long` to deal with that.","body":"You might give a thought on what 999999999^99999 is, and if you can use <code>long</code> to deal with that."},{"owner":{"account_id":2684795,"reputation":182470,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1656683883,"post_id":72830171,"comment_id":128638908,"body_markdown":"Note the range: it is possible that you will have to raise `1e9` into `10000` power which is `1e90000` this huge number is by far over `double` MaxValue. That&#39;s why naive `Math.pow` will not do.","body":"Note the range: it is possible that you will have to raise <code>1e9</code> into <code>10000</code> power which is <code>1e90000</code> this huge number is by far over <code>double</code> MaxValue. That&#39;s why naive <code>Math.pow</code> will not do."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656683992,"post_id":72830171,"comment_id":128638958,"body_markdown":"Check out  `BigInteger`.  It has a modulus power method and can handle arbitrarily sized ints.  Or check out a book or number theory and employ some potential optimizations/short cuts.","body":"Check out  <code>BigInteger</code>.  It has a modulus power method and can handle arbitrarily sized ints.  Or check out a book or number theory and employ some potential optimizations/short cuts."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1656692911,"post_id":72830171,"comment_id":128642314,"body_markdown":"Next time, you might want to do a little research. All it takes is a web search.  Check out [Modular Exponentiation](https://www.geeksforgeeks.org/modular-exponentiation-power-in-modular-arithmetic/) for explanations and code.","body":"Next time, you might want to do a little research. All it takes is a web search.  Check out <a href=\"https://www.geeksforgeeks.org/modular-exponentiation-power-in-modular-arithmetic/\" rel=\"nofollow noreferrer\">Modular Exponentiation</a> for explanations and code."}],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1656686575,"post_id":72830791,"comment_id":128639987,"body_markdown":"For this particular exercise, `n == -1` is not necessary for the constraints of `0 &lt;= n &lt; 10^5`","body":"For this particular exercise, <code>n == -1</code> is not necessary for the constraints of <code>0 &lt;= n &lt; 10^5</code>"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1656693507,"post_id":72830791,"comment_id":128642500,"body_markdown":"I have flagged your comment as &quot;unfriendly or unkind&quot;, cause if you read Q you should know the TC was experiencing difficulties with test cases, but not shared them.","body":"I have flagged your comment as &quot;unfriendly or unkind&quot;, cause if you read Q you should know the TC was experiencing difficulties with test cases, but not shared them."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1656694259,"post_id":72830791,"comment_id":128642716,"body_markdown":"what line is not clear to you? recursion or the fact that `x^(2k+1) = x * (x^k)^2`","body":"what line is not clear to you? recursion or the fact that <code>x^(2k+1) = x * (x^k)^2</code>"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1656706832,"post_id":72830791,"comment_id":128646120,"body_markdown":"&quot;with modular exponentiation there is often a requirement to treat negative exponents in accordance with Fermat&#39;s Little Theorem&quot; - who cares about that when the problem is &quot;given 2 integers x and n, you have to calculate x to the power of n, modulo 10^9+7 i.e. calculate (x^n) % (10^9+7)&quot;?","body":"&quot;with modular exponentiation there is often a requirement to treat negative exponents in accordance with Fermat&#39;s Little Theorem&quot; - who cares about that when the problem is &quot;given 2 integers x and n, you have to calculate x to the power of n, modulo 10^9+7 i.e. calculate (x^n) % (10^9+7)&quot;?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1656708629,"post_id":72830791,"comment_id":128646495,"body_markdown":"&quot;If you pass 0 and -1 it will blow up for division by 0&quot; - what is analogue of Double#POSITIVE_INFINITY in case of integer arithmetic? ArithmeticException? &quot;why return x % modulus instead of just x when n == 1&quot; - try to pass (java.lang.Integer#MAX_VALUE, 1)","body":"&quot;If you pass 0 and -1 it will blow up for division by 0&quot; - what is analogue of Double#POSITIVE_INFINITY in case of integer arithmetic? ArithmeticException? &quot;why return x % modulus instead of just x when n == 1&quot; - try to pass (java.lang.Integer#MAX_VALUE, 1)"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656697886,"creation_date":1656685728,"answer_id":72830791,"question_id":72830171,"body_markdown":"Does this work?\r\n\r\n```java\r\n    public static int modularExponentiation(int x, int n) {\r\n        int modulo = 1000000007;\r\n        if (n == 0) {\r\n            return 1;\r\n        } else if (n == 1) {\r\n            return x % modulo;\r\n        } else if (n == -1) {\r\n            return 1 / x;\r\n        }\r\n        int p = modularExponentiation(x, n &gt;&gt; 1);\r\n        long product = ((long) p * p) % modulo;\r\n        return (int) (product * modularExponentiation(x, n &amp; 1) % modulo);\r\n    }\r\n```\r\n\r\n\r\n----------\r\n\r\nKey points:\r\n\r\n 1. Math.pow(x,n) suffers from overflow and we can&#39;t compensate that overflow relying on result only, that is why initial idea of `Math.pow(x,n) % modulo` produces wrong results\r\n 2. We may notice that `(x * x) % modulo == (x % modulo) * (x % modulo) % modulo`, and it is safe to use `long` here as intermediate result because `x % modulo &lt; modulo` and `modulo * modulo &lt; 2^63 - 1`\r\n 3. We need to reconstruct the process, but naive approach that `x^n` is a product of `n` x&#39;s is too slow - it has O(N) time complexity, however we may notice that `x^2k == (x^k)^2` and `x^(2k+1) == x * (x^k)^2` - so we may use either recursion here or loop to achieve O(LogN) time complexity\r\n\r\nalternative loop solution:\r\n\r\n```java\r\n    public static int modularExponentiation(int x, int n) {\r\n        int modulo = 1000000007;\r\n        long product = 1;\r\n        long p = x;\r\n        while (n != 0) {\r\n            if ((n &amp; 1) == 1) {\r\n                product = product * p % modulo;\r\n            }\r\n            p = (p * p % modulo);\r\n            n &gt;&gt;= 1;\r\n        }\r\n        return (int) product;\r\n    }\r\n```","title":"How to get the correct output in Modulo (10^9 + 7) format?","body":"<p>Does this work?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int modularExponentiation(int x, int n) {\n        int modulo = 1000000007;\n        if (n == 0) {\n            return 1;\n        } else if (n == 1) {\n            return x % modulo;\n        } else if (n == -1) {\n            return 1 / x;\n        }\n        int p = modularExponentiation(x, n &gt;&gt; 1);\n        long product = ((long) p * p) % modulo;\n        return (int) (product * modularExponentiation(x, n &amp; 1) % modulo);\n    }\n</code></pre>\n<hr />\n<p>Key points:</p>\n<ol>\n<li>Math.pow(x,n) suffers from overflow and we can't compensate that overflow relying on result only, that is why initial idea of <code>Math.pow(x,n) % modulo</code> produces wrong results</li>\n<li>We may notice that <code>(x * x) % modulo == (x % modulo) * (x % modulo) % modulo</code>, and it is safe to use <code>long</code> here as intermediate result because <code>x % modulo &lt; modulo</code> and <code>modulo * modulo &lt; 2^63 - 1</code></li>\n<li>We need to reconstruct the process, but naive approach that <code>x^n</code> is a product of <code>n</code> x's is too slow - it has O(N) time complexity, however we may notice that <code>x^2k == (x^k)^2</code> and <code>x^(2k+1) == x * (x^k)^2</code> - so we may use either recursion here or loop to achieve O(LogN) time complexity</li>\n</ol>\n<p>alternative loop solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int modularExponentiation(int x, int n) {\n        int modulo = 1000000007;\n        long product = 1;\n        long p = x;\n        while (n != 0) {\n            if ((n &amp; 1) == 1) {\n                product = product * p % modulo;\n            }\n            p = (p * p % modulo);\n            n &gt;&gt;= 1;\n        }\n        return (int) product;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":200231,"reputation":18449,"user_id":445976,"display_name":"Blastfurnace"},"score":1,"creation_date":1676091809,"post_id":75417943,"comment_id":133072648,"body_markdown":"The question isn&#39;t asking about C++.","body":"The question isn&#39;t asking about C++."}],"tags":[],"owner":{"account_id":27758042,"reputation":1,"user_id":21191042,"display_name":"Anand Raj"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676086365,"creation_date":1676086365,"answer_id":75417943,"question_id":72830171,"body_markdown":"If you have problem in C++ then , you can use \r\n\r\nconst unsigned int Mod=1e9+7;","title":"How to get the correct output in Modulo (10^9 + 7) format?","body":"<p>If you have problem in C++ then , you can use</p>\n<p>const unsigned int Mod=1e9+7;</p>\n"}],"owner":{"account_id":25645440,"reputation":332,"user_id":19413610,"display_name":"Ayan Dasgupta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72830791,"answer_count":2,"score":1,"last_activity_date":1676086365,"creation_date":1656682726,"question_id":72830171,"body_markdown":"I am working on this code challenge:\r\n\r\n&gt; **Problem Description** \r\n&gt;\r\n&gt; Given 2 integers x and n, you have to calculate x\r\n&gt; to the power of n, modulo 10^9+7 i.e. calculate (x^n) % (10^9+7).\r\n&gt; \r\n&gt; \r\n&gt; In other words, you have to find the value when x is raised to the\r\n&gt; power of n, and then modulo is taken with 10^9+7.\r\n&gt; \r\n&gt; \r\n&gt; a%b means the remainder when a divides b. For instance, 5%3 = 2, as\r\n&gt; when we divide 5 by 3, 2 is the remainder.\r\n&gt; \r\n&gt; \r\n&gt; Note that 10^9 is also represented as 1e9.\r\n&gt; \r\n&gt; **Input format** \r\n&gt; One line of input containing two space separated\r\n&gt; integers, x and n.\r\n&gt; \r\n&gt; **Output format** Print the required answer.\r\n&gt; \r\n&gt; **Sample Input 1** 100000000 2\r\n&gt; \r\n&gt; **Sample Output 1** 930000007\r\n&gt; \r\n&gt; **Explanation 1** (10^8)^2 = 10^16\r\n&gt; \r\n&gt; 10^16 % (10^9+7) = 930000007\r\n&gt; \r\n&gt; **Constraints** 0 &lt;= x &lt; 10^9\r\n&gt; \r\n&gt; 0 &lt;= n &lt; 10^5\r\n\r\n**Code**\r\n\r\nThe following is my code: \r\n\r\n    import java.util.*;\r\n    \r\n    class ModularExponentiation {\r\n        // NOTE: Please do not modify this function\r\n        public static void main(String args[]) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int x = sc.nextInt();\r\n            int n = sc.nextInt();\r\n    \r\n            int ans = modularExponentiation(x, n);\r\n            System.out.println(ans);\r\n        }\r\n    \r\n        // TODO: Implement this method\r\n        static int modularExponentiation(int x, int n) {\r\n            int M = 1000000007;\r\n            long a = (long) Math.pow(x, n);\r\n    \r\n            long b = a%M;\r\n    \r\n            return (int)b;\r\n        }\r\n    }\r\n\r\nWhen I run my code, it succeeds for the sample test case and an edge case, but fails for 3 base cases. How do I make my code succeed all test cases?\r\n\r\n","title":"How to get the correct output in Modulo (10^9 + 7) format?","body":"<p>I am working on this code challenge:</p>\n<blockquote>\n<p><strong>Problem Description</strong></p>\n<p>Given 2 integers x and n, you have to calculate x\nto the power of n, modulo 10^9+7 i.e. calculate (x^n) % (10^9+7).</p>\n<p>In other words, you have to find the value when x is raised to the\npower of n, and then modulo is taken with 10^9+7.</p>\n<p>a%b means the remainder when a divides b. For instance, 5%3 = 2, as\nwhen we divide 5 by 3, 2 is the remainder.</p>\n<p>Note that 10^9 is also represented as 1e9.</p>\n<p><strong>Input format</strong>\nOne line of input containing two space separated\nintegers, x and n.</p>\n<p><strong>Output format</strong> Print the required answer.</p>\n<p><strong>Sample Input 1</strong> 100000000 2</p>\n<p><strong>Sample Output 1</strong> 930000007</p>\n<p><strong>Explanation 1</strong> (10^8)^2 = 10^16</p>\n<p>10^16 % (10^9+7) = 930000007</p>\n<p><strong>Constraints</strong> 0 &lt;= x &lt; 10^9</p>\n<p>0 &lt;= n &lt; 10^5</p>\n</blockquote>\n<p><strong>Code</strong></p>\n<p>The following is my code:</p>\n<pre><code>import java.util.*;\n\nclass ModularExponentiation {\n    // NOTE: Please do not modify this function\n    public static void main(String args[]) {\n        Scanner sc = new Scanner(System.in);\n        int x = sc.nextInt();\n        int n = sc.nextInt();\n\n        int ans = modularExponentiation(x, n);\n        System.out.println(ans);\n    }\n\n    // TODO: Implement this method\n    static int modularExponentiation(int x, int n) {\n        int M = 1000000007;\n        long a = (long) Math.pow(x, n);\n\n        long b = a%M;\n\n        return (int)b;\n    }\n}\n</code></pre>\n<p>When I run my code, it succeeds for the sample test case and an edge case, but fails for 3 base cases. How do I make my code succeed all test cases?</p>\n"},{"tags":["java","kotlin","javafx","right-to-left"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1676144494,"post_id":75416271,"comment_id":133080146,"body_markdown":"I can’t seem to reproduce this in Linux;  the text renders correctly, with the trailing spaces appearing to the left of the word on the second line.  I will try it in Windows as soon as I get a chance.","body":"I can’t seem to reproduce this in Linux;  the text renders correctly, with the trailing spaces appearing to the left of the word on the second line.  I will try it in Windows as soon as I get a chance."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1676149185,"post_id":75416271,"comment_id":133080878,"body_markdown":"I cannot reproduce the behavior in Windows 10, either.  On what operating system are you seeing this behavior?","body":"I cannot reproduce the behavior in Windows 10, either.  On what operating system are you seeing this behavior?"},{"owner":{"account_id":4324621,"reputation":863,"user_id":3531777,"accept_rate":60,"display_name":"vahidreza"},"score":0,"creation_date":1676161497,"post_id":75416271,"comment_id":133082493,"body_markdown":"@VGR I appreciate your time. I&#39;m om MacOS.","body":"@VGR I appreciate your time. I&#39;m om MacOS."},{"owner":{"account_id":4324621,"reputation":863,"user_id":3531777,"accept_rate":60,"display_name":"vahidreza"},"score":0,"creation_date":1676398600,"post_id":75416271,"comment_id":133127804,"body_markdown":"@VGR You are right. I tested my snippet in Linux. It was ok.","body":"@VGR You are right. I tested my snippet in Linux. It was ok."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676405093,"post_id":75416271,"comment_id":133129647,"body_markdown":"Sounds like a bug in the Mac version of JavaFX.  Perhaps adding directional override characters might serve as a workaround?","body":"Sounds like a bug in the Mac version of JavaFX.  Perhaps adding directional override characters might serve as a workaround?"}],"owner":{"account_id":4324621,"reputation":863,"user_id":3531777,"accept_rate":60,"display_name":"vahidreza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676085119,"creation_date":1676064547,"question_id":75416271,"body_markdown":"I want to show some RTL texts, e.g. Farsi or Arabic, in a JavaFX application. I&#39;ve written the following code that convert desired texts to TextFlow and add them to a VBox with `RIGHT_TO_LEFT` node orientation.\r\nBut if a text ends with spaces, JavaFX renders these spaces at the begging of the text rather than the end of it.\r\n\r\nLet&#39;s take a look at my simple example:\r\n```kotlin\r\nclass JavaFXBidiText : Application() {\r\n    override fun start(stage: Stage) {\r\n        val font = Font(&quot;Tahoma&quot;, 40.0)\r\n\r\n        val vbox = VBox().apply {\r\n            nodeOrientation = NodeOrientation.RIGHT_TO_LEFT\r\n            spacing = 10.0\r\n        }\r\n\r\n        listOf(\r\n            &quot;\\u0633\\u0644\\u0627\\u0645&quot;,\r\n            &quot;\\u0633\\u0644\\u0627\\u0645            &quot;,\r\n            &quot;\\u0633\\u0644\\u0627\\u0645            \\u0633\\u0644\\u0627\\u0645&quot;,\r\n        )\r\n            .map { Text(it).apply { this.font = font }.apply { isUnderline = true } }\r\n            .map { TextFlow(it) }\r\n            .forEach { vbox.children.add(it) }\r\n\r\n\r\n        val scene = Scene(vbox, 500.0, 200.0)\r\n        stage.scene = scene\r\n        stage.show()\r\n    }\r\n}\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    Application.launch(JavaFXBidiText::class.java, *args)\r\n}\r\n```\r\n\r\nAs it is shown in the following figure, the first and third texts are rendered correctly but the second is not.\r\n\r\n[![result][1]][1]\r\n\r\n\r\n\r\nHow can I show these texts correctly?\r\n\r\n\r\nNote that I am using JavaFX version 18.0.1 on jdk 17.\r\n\r\n  [1]: https://i.stack.imgur.com/T2uHyl.png","title":"JavaFX renders the trailing spaces of TextFlow before its non-space charactes in case of RTL orientation","body":"<p>I want to show some RTL texts, e.g. Farsi or Arabic, in a JavaFX application. I've written the following code that convert desired texts to TextFlow and add them to a VBox with <code>RIGHT_TO_LEFT</code> node orientation.\nBut if a text ends with spaces, JavaFX renders these spaces at the begging of the text rather than the end of it.</p>\n<p>Let's take a look at my simple example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class JavaFXBidiText : Application() {\n    override fun start(stage: Stage) {\n        val font = Font(&quot;Tahoma&quot;, 40.0)\n\n        val vbox = VBox().apply {\n            nodeOrientation = NodeOrientation.RIGHT_TO_LEFT\n            spacing = 10.0\n        }\n\n        listOf(\n            &quot;\\u0633\\u0644\\u0627\\u0645&quot;,\n            &quot;\\u0633\\u0644\\u0627\\u0645            &quot;,\n            &quot;\\u0633\\u0644\\u0627\\u0645            \\u0633\\u0644\\u0627\\u0645&quot;,\n        )\n            .map { Text(it).apply { this.font = font }.apply { isUnderline = true } }\n            .map { TextFlow(it) }\n            .forEach { vbox.children.add(it) }\n\n\n        val scene = Scene(vbox, 500.0, 200.0)\n        stage.scene = scene\n        stage.show()\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    Application.launch(JavaFXBidiText::class.java, *args)\n}\n</code></pre>\n<p>As it is shown in the following figure, the first and third texts are rendered correctly but the second is not.</p>\n<p><a href=\"https://i.stack.imgur.com/T2uHyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T2uHyl.png\" alt=\"result\" /></a></p>\n<p>How can I show these texts correctly?</p>\n<p>Note that I am using JavaFX version 18.0.1 on jdk 17.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1675891945,"post_id":75391930,"comment_id":133028217,"body_markdown":"&quot;Spare me the retyping&quot; is *NOT* valid reason for choosing an abstract class or a template class :(  &quot;Code reuse&quot; and &quot;better modularity&quot; *ARE* two good reasons.","body":"&quot;Spare me the retyping&quot; is <i>NOT</i> valid reason for choosing an abstract class or a template class :(  &quot;Code reuse&quot; and &quot;better modularity&quot; <i>ARE</i> two good reasons."},{"owner":{"account_id":21601553,"reputation":25,"user_id":15929619,"display_name":"AbdoCherry"},"score":0,"creation_date":1675895248,"post_id":75391930,"comment_id":133028984,"body_markdown":"Of course. Maybe the wording wasn’t well chosen. I just want to build one or several functions with the same purpose, so I can reuse them in parallel for my different employee types.","body":"Of course. Maybe the wording wasn’t well chosen. I just want to build one or several functions with the same purpose, so I can reuse them in parallel for my different employee types."}],"answers":[{"tags":[],"owner":{"account_id":21601553,"reputation":25,"user_id":15929619,"display_name":"AbdoCherry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676081802,"creation_date":1676081802,"answer_id":75417719,"question_id":75391930,"body_markdown":"somehow I could figure out how to solve my issue. Long story short, I&#180;ll diplaying all my classes. Short disclaimer. ChatGPT helped me to solve the issue.\r\n\r\nMy Class/Project structure:\r\n\r\nPath: src/main/java/dev/cherry/emp\r\n\r\nTree from folder “emp”:\r\n\r\n    .\r\n    ├── EmpApplication.java\r\n    └── Employee\r\n        ├── Controller\r\n        │&#160;&#160; └── EmployeeController.java\r\n        ├── Model\r\n        │&#160;&#160; ├── Admin.java\r\n        │&#160;&#160; └── Clerk.java\r\n        ├── Repository\r\n        │&#160;&#160; ├── AdminRepository.java\r\n        │&#160;&#160; ├── ClerkRepository.java\r\n        │&#160;&#160; └── EmployeeRepository.java\r\n        ├── Service\r\n        │&#160;&#160; └── EmployeeService.java\r\n        └── Util\r\n            ├── Employee.java (abstract)\r\n            └── Gender.java (Enum)\r\n\r\nHere are the classes 1-by-1. Sorry for the wall of text:\r\n\r\n**Abstract Class Employee**\r\n\r\n    package dev.cherry.emp.Employee.Util;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @MappedSuperclass\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public abstract class Employee {\r\n    \r\n        @Id\r\n        @Column(name = &quot;emp_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long empId;\r\n    }\r\n\r\n**Class Admin and Clerk (Sub-/Childclasses)**\r\n\r\n    package dev.cherry.emp.Employee.Model;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import dev.cherry.emp.Employee.Util.Gender;\r\n    import jakarta.persistence.*;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Clerk extends Employee implements Serializable{\r\n    \r\n    // Attributes\r\n    }\r\n____________________________________________________\r\n\r\n    package dev.cherry.emp.Employee.Model;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Table;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;admin&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Component\r\n    public class Admin extends Employee implements Serializable {\r\n    \r\n    // Attributes\r\n    }\r\n\r\n**My Repository Classes**\r\n\r\n    package dev.cherry.emp.Employee.Repository;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.repository.NoRepositoryBean;\r\n    \r\n    @NoRepositoryBean\r\n    public interface EmployeeRepository&lt;T extends Employee&gt; extends JpaRepository&lt;T, Long&gt; {\r\n    }\r\n____________________________________________________\r\n\r\n    package dev.cherry.emp.Employee.Repository;\r\n    \r\n    import dev.cherry.emp.Employee.Model.Clerk;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface ClerkRepository extends EmployeeRepository&lt;Clerk&gt;{\r\n    }\r\n____________________________________________________\r\n\r\n    package dev.cherry.emp.Employee.Repository;\r\n    \r\n    import dev.cherry.emp.Employee.Model.Admin;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface AdminRepository extends EmployeeRepository&lt;Admin&gt; {\r\n    }\r\n\r\n**My Service Class**\r\n\r\n    package dev.cherry.emp.Employee.Service;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import dev.cherry.emp.Employee.Model.Admin;\r\n    import dev.cherry.emp.Employee.Model.Clerk;\r\n    import dev.cherry.emp.Employee.Repository.AdminRepository;\r\n    import dev.cherry.emp.Employee.Repository.ClerkRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.jetbrains.annotations.NotNull;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class EmployeeService {\r\n        private final AdminRepository adminRepo;\r\n        private final ClerkRepository clerkRepo;\r\n    \r\n        public List&lt;? extends Employee&gt; getAllEmps(@NotNull String type) {\r\n            if (type.equals(&quot;Clerk&quot;)) {\r\n                return (List&lt;Clerk&gt;) clerkRepo.findAll();\r\n            } else if (type.equals(&quot;Admin&quot;)) {\r\n                return (List&lt;Admin&gt;) adminRepo.findAll();\r\n            } else throw new IllegalArgumentException(&quot;Class: &quot; + type + &quot; not found in project&quot;);\r\n        }\r\n    \r\n        public Employee createEmployee(Employee employee) {\r\n            if (employee instanceof Clerk) {\r\n                return clerkRepo.save((Clerk) employee);\r\n            } else if (employee instanceof Admin) {\r\n                return adminRepo.save((Admin) employee);\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;Illegal Employee subclass: &quot; + employee.getClass().getSimpleName());\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**My Controller Class**\r\n\r\n    package dev.cherry.emp.Employee.Controller;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import dev.cherry.emp.Employee.Service.EmployeeService;\r\n    import lombok.AllArgsConstructor;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/employees&quot;)\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class EmployeeController {\r\n    \r\n        private final EmployeeService employeeService;\r\n    \r\n        @GetMapping(value = &quot;type/{type}&quot;)\r\n        public ResponseEntity&lt;List&lt;? extends Employee&gt;&gt; getAllEmps(@PathVariable String type) {\r\n            List&lt;? extends Employee&gt; employees = employeeService.getAllEmps(type);\r\n            return new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\r\n        }\r\n    \r\n        @PostMapping(&quot;/new&quot;)\r\n        public ResponseEntity&lt;Employee&gt; createEmployee(@RequestBody Employee employee) {\r\n            Employee savedEmployee = employeeService.createEmployee(employee);\r\n            return new ResponseEntity&lt;&gt;(savedEmployee, HttpStatus.CREATED);\r\n        }\r\n    }\r\n\r\nMy Code works actually and on postman I could test my requests. Please feel free to show me a better way if you think it could be done smarter or with less lines of code.\r\n\r\nThank your very much for your support.[![Test in Postman][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i64x6.png","title":"Working with abstract / generic class in spring boot rest - crud api","body":"<p>somehow I could figure out how to solve my issue. Long story short, I´ll diplaying all my classes. Short disclaimer. ChatGPT helped me to solve the issue.</p>\n<p>My Class/Project structure:</p>\n<p>Path: src/main/java/dev/cherry/emp</p>\n<p>Tree from folder “emp”:</p>\n<pre><code>.\n├── EmpApplication.java\n└── Employee\n    ├── Controller\n    │   └── EmployeeController.java\n    ├── Model\n    │   ├── Admin.java\n    │   └── Clerk.java\n    ├── Repository\n    │   ├── AdminRepository.java\n    │   ├── ClerkRepository.java\n    │   └── EmployeeRepository.java\n    ├── Service\n    │   └── EmployeeService.java\n    └── Util\n        ├── Employee.java (abstract)\n        └── Gender.java (Enum)\n</code></pre>\n<p>Here are the classes 1-by-1. Sorry for the wall of text:</p>\n<p><strong>Abstract Class Employee</strong></p>\n<pre><code>package dev.cherry.emp.Employee.Util;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@MappedSuperclass\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic abstract class Employee {\n\n    @Id\n    @Column(name = &quot;emp_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long empId;\n}\n</code></pre>\n<p><strong>Class Admin and Clerk (Sub-/Childclasses)</strong></p>\n<pre><code>package dev.cherry.emp.Employee.Model;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport dev.cherry.emp.Employee.Util.Gender;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport java.util.Date;\n\n@Entity\n@Table(name = &quot;employee&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Clerk extends Employee implements Serializable{\n\n// Attributes\n}\n</code></pre>\n<hr />\n<pre><code>package dev.cherry.emp.Employee.Model;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.springframework.stereotype.Component;\n\nimport java.io.Serializable;\nimport java.util.Date;\n\n@Entity\n@Table(name = &quot;admin&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Component\npublic class Admin extends Employee implements Serializable {\n\n// Attributes\n}\n</code></pre>\n<p><strong>My Repository Classes</strong></p>\n<pre><code>package dev.cherry.emp.Employee.Repository;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.NoRepositoryBean;\n\n@NoRepositoryBean\npublic interface EmployeeRepository&lt;T extends Employee&gt; extends JpaRepository&lt;T, Long&gt; {\n}\n</code></pre>\n<hr />\n<pre><code>package dev.cherry.emp.Employee.Repository;\n\nimport dev.cherry.emp.Employee.Model.Clerk;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ClerkRepository extends EmployeeRepository&lt;Clerk&gt;{\n}\n</code></pre>\n<hr />\n<pre><code>package dev.cherry.emp.Employee.Repository;\n\nimport dev.cherry.emp.Employee.Model.Admin;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface AdminRepository extends EmployeeRepository&lt;Admin&gt; {\n}\n</code></pre>\n<p><strong>My Service Class</strong></p>\n<pre><code>package dev.cherry.emp.Employee.Service;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport dev.cherry.emp.Employee.Model.Admin;\nimport dev.cherry.emp.Employee.Model.Clerk;\nimport dev.cherry.emp.Employee.Repository.AdminRepository;\nimport dev.cherry.emp.Employee.Repository.ClerkRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.jetbrains.annotations.NotNull;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class EmployeeService {\n    private final AdminRepository adminRepo;\n    private final ClerkRepository clerkRepo;\n\n    public List&lt;? extends Employee&gt; getAllEmps(@NotNull String type) {\n        if (type.equals(&quot;Clerk&quot;)) {\n            return (List&lt;Clerk&gt;) clerkRepo.findAll();\n        } else if (type.equals(&quot;Admin&quot;)) {\n            return (List&lt;Admin&gt;) adminRepo.findAll();\n        } else throw new IllegalArgumentException(&quot;Class: &quot; + type + &quot; not found in project&quot;);\n    }\n\n    public Employee createEmployee(Employee employee) {\n        if (employee instanceof Clerk) {\n            return clerkRepo.save((Clerk) employee);\n        } else if (employee instanceof Admin) {\n            return adminRepo.save((Admin) employee);\n        } else {\n            throw new IllegalArgumentException(&quot;Illegal Employee subclass: &quot; + employee.getClass().getSimpleName());\n        }\n    }\n\n}\n</code></pre>\n<p><strong>My Controller Class</strong></p>\n<pre><code>package dev.cherry.emp.Employee.Controller;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport dev.cherry.emp.Employee.Service.EmployeeService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/employees&quot;)\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class EmployeeController {\n\n    private final EmployeeService employeeService;\n\n    @GetMapping(value = &quot;type/{type}&quot;)\n    public ResponseEntity&lt;List&lt;? extends Employee&gt;&gt; getAllEmps(@PathVariable String type) {\n        List&lt;? extends Employee&gt; employees = employeeService.getAllEmps(type);\n        return new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\n    }\n\n    @PostMapping(&quot;/new&quot;)\n    public ResponseEntity&lt;Employee&gt; createEmployee(@RequestBody Employee employee) {\n        Employee savedEmployee = employeeService.createEmployee(employee);\n        return new ResponseEntity&lt;&gt;(savedEmployee, HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>My Code works actually and on postman I could test my requests. Please feel free to show me a better way if you think it could be done smarter or with less lines of code.</p>\n<p>Thank your very much for your support.<a href=\"https://i.stack.imgur.com/i64x6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i64x6.png\" alt=\"Test in Postman\" /></a></p>\n"}],"owner":{"account_id":21601553,"reputation":25,"user_id":15929619,"display_name":"AbdoCherry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676081802,"creation_date":1675891616,"question_id":75391930,"body_markdown":"im really struggling with my problem right now. I&#39;m trying to solve this issue for quit long and maybe I get help here.\r\n\r\nI do have a simple Spring Boot CRUD Project connected with my MySQL Database (localhost:3306) and everything works fine. The moment I modify my classes to a more common oop structure I get several errors and nothing works anymore.\r\n\r\nSimple sketch of my structure:\r\n\r\n- Employee (abstract) class\r\n  - Clerk (Entity) class\r\n  - Admin (Entity) class\r\n\r\nThe employee class contains only one field (employee id &quot;emp_id&quot;) and I want to spare me the retyping of the jpaRepo functions like finall and so on.\r\n\r\nThese are my abstract class:\r\n\r\n    package dev.cherry.emp.Employee.Util;\r\n    import jakarta.persistence.*;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @MappedSuperclass\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public abstract class Employee {\r\n    \r\n        @Id\r\n        @Column(name = &quot;emp_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long empId;\r\n    }\r\n\r\nThis is my Repository for the abstract class:\r\n\r\n    package dev.cherry.emp.Repository;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.repository.NoRepositoryBean;\r\n    \r\n    @NoRepositoryBean\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n    }\r\n\r\nThis is the Service Class for my Abstract class. Generics are included to reuse finall for clerk and admin class:\r\n\r\n    package dev.cherry.emp.Service;\r\n    \r\n    import dev.cherry.emp.Repository.EmployeeRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class EmployeeService&lt;T&gt; {\r\n    \r\n        private final EmployeeRepository employeeRepo;\r\n    \r\n        @Autowired\r\n        public EmployeeService(EmployeeRepository employeeRepo) {\r\n            this.employeeRepo = employeeRepo;\r\n        }\r\n    \r\n        public List&lt;T&gt; allEmps() {\r\n            return (List&lt;T&gt;) employeeRepo.findAll();\r\n        }\r\n    }\r\n\r\nAnd this is my Controller Class for the abstract class Employee:\r\n\r\n    package dev.cherry.emp.Controller;\r\n    \r\n    import dev.cherry.emp.Service.EmployeeService;\r\n    import org.apache.coyote.Response;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    public class EmployeeController&lt;T&gt; {\r\n    \r\n        private final EmployeeService employeeService;\r\n    \r\n        @Autowired\r\n        public EmployeeController(EmployeeService employeeService) {\r\n            this.employeeService = employeeService;\r\n        }\r\n    \r\n        public ResponseEntity&lt;List&lt;T&gt;&gt; allEmps() {\r\n            List&lt;T&gt; allEmps = employeeService.allEmps();\r\n            return new ResponseEntity&lt;&gt;(allEmps, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nI&#39;m sorry for this boilerplate looking code. Last but not least my folderstructure, root is src/main/java/dev.cherry.emp/\r\n\r\n    .\r\n    ├── Controller\r\n    │&#160;&#160; ├── AdminController.java\r\n    │&#160;&#160; ├── ClerkController.java\r\n    │&#160;&#160; └── EmployeeController.java\r\n    ├── EmpApplication.java\r\n    ├── Employee\r\n    │&#160;&#160; └── Util\r\n    │&#160;&#160;     ├── Employee.java\r\n    │&#160;&#160;     └── Gender.java\r\n    ├── Model\r\n    │&#160;&#160; ├── Admin.java\r\n    │&#160;&#160; └── Clerk.java\r\n    ├── Repository\r\n    │&#160;&#160; ├── AdminRepository.java\r\n    │&#160;&#160; ├── ClerkRepository.java\r\n    │&#160;&#160; └── EmployeeRepository.java\r\n    └── Service\r\n        ├── AdminService.java\r\n        ├── ClerkService.java\r\n        └── EmployeeService.java\r\n\r\n\r\nAnd this is the error from spring boot on console:\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in dev.cherry.emp.Service.EmployeeService required a single bean, but 2 were found:\r\n\t- adminRepository: defined in dev.cherry.emp.Repository.AdminRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration\r\n\t- clerkRepository: defined in dev.cherry.emp.Repository.ClerkRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration\r\n\r\n\r\nAction:\r\n\r\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed","title":"Working with abstract / generic class in spring boot rest - crud api","body":"<p>im really struggling with my problem right now. I'm trying to solve this issue for quit long and maybe I get help here.</p>\n<p>I do have a simple Spring Boot CRUD Project connected with my MySQL Database (localhost:3306) and everything works fine. The moment I modify my classes to a more common oop structure I get several errors and nothing works anymore.</p>\n<p>Simple sketch of my structure:</p>\n<ul>\n<li>Employee (abstract) class\n<ul>\n<li>Clerk (Entity) class</li>\n<li>Admin (Entity) class</li>\n</ul>\n</li>\n</ul>\n<p>The employee class contains only one field (employee id &quot;emp_id&quot;) and I want to spare me the retyping of the jpaRepo functions like finall and so on.</p>\n<p>These are my abstract class:</p>\n<pre><code>package dev.cherry.emp.Employee.Util;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@MappedSuperclass\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic abstract class Employee {\n\n    @Id\n    @Column(name = &quot;emp_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long empId;\n}\n</code></pre>\n<p>This is my Repository for the abstract class:</p>\n<pre><code>package dev.cherry.emp.Repository;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.NoRepositoryBean;\n\n@NoRepositoryBean\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n}\n</code></pre>\n<p>This is the Service Class for my Abstract class. Generics are included to reuse finall for clerk and admin class:</p>\n<pre><code>package dev.cherry.emp.Service;\n\nimport dev.cherry.emp.Repository.EmployeeRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class EmployeeService&lt;T&gt; {\n\n    private final EmployeeRepository employeeRepo;\n\n    @Autowired\n    public EmployeeService(EmployeeRepository employeeRepo) {\n        this.employeeRepo = employeeRepo;\n    }\n\n    public List&lt;T&gt; allEmps() {\n        return (List&lt;T&gt;) employeeRepo.findAll();\n    }\n}\n</code></pre>\n<p>And this is my Controller Class for the abstract class Employee:</p>\n<pre><code>package dev.cherry.emp.Controller;\n\nimport dev.cherry.emp.Service.EmployeeService;\nimport org.apache.coyote.Response;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\npublic class EmployeeController&lt;T&gt; {\n\n    private final EmployeeService employeeService;\n\n    @Autowired\n    public EmployeeController(EmployeeService employeeService) {\n        this.employeeService = employeeService;\n    }\n\n    public ResponseEntity&lt;List&lt;T&gt;&gt; allEmps() {\n        List&lt;T&gt; allEmps = employeeService.allEmps();\n        return new ResponseEntity&lt;&gt;(allEmps, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>I'm sorry for this boilerplate looking code. Last but not least my folderstructure, root is src/main/java/dev.cherry.emp/</p>\n<pre><code>.\n├── Controller\n│   ├── AdminController.java\n│   ├── ClerkController.java\n│   └── EmployeeController.java\n├── EmpApplication.java\n├── Employee\n│   └── Util\n│       ├── Employee.java\n│       └── Gender.java\n├── Model\n│   ├── Admin.java\n│   └── Clerk.java\n├── Repository\n│   ├── AdminRepository.java\n│   ├── ClerkRepository.java\n│   └── EmployeeRepository.java\n└── Service\n    ├── AdminService.java\n    ├── ClerkService.java\n    └── EmployeeService.java\n</code></pre>\n<p>And this is the error from spring boot on console:</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in dev.cherry.emp.Service.EmployeeService required a single bean, but 2 were found:\n- adminRepository: defined in dev.cherry.emp.Repository.AdminRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration\n- clerkRepository: defined in dev.cherry.emp.Repository.ClerkRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration</p>\n<p>Action:</p>\n<p>Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed</p>\n"},{"tags":["java","testcase","evosuite"],"owner":{"account_id":23000742,"reputation":141,"user_id":17124739,"display_name":"Herb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676081352,"creation_date":1675856180,"question_id":75385222,"body_markdown":"I am working on generating test case for Java unit (i.e. method).\r\nMy output is in form of a Java test method, just like\r\n\r\n```\r\n\tpublic void testToInt() {\r\n\t\tassertEquals(0, NumberUtils.toInt(&quot;0&quot;));\r\n\t\tassertEquals(1, NumberUtils.toInt(&quot;1&quot;));\r\n\t\tassertEquals(2, NumberUtils.toInt(&quot;2&quot;));\r\n\t\tassertEquals(3, NumberUtils.toInt(&quot;3&quot;));\r\n\t\tassertEquals(4, NumberUtils.toInt(&quot;4&quot;));\r\n\t\tassertEquals(5, NumberUtils.toInt(&quot;5&quot;));\r\n\t\tassertEquals(6, NumberUtils.toInt(&quot;6&quot;));\r\n\t\tassertEquals(7, NumberUtils.toInt(&quot;7&quot;));\r\n\t\tassertEquals(8, NumberUtils.toInt(&quot;8&quot;));\r\n\t\tassertEquals(9, NumberUtils.toInt(&quot;9&quot;));\r\n\t}\r\n```\r\nNow I need to wrap the test method so that it can be used in defects4j.\r\nThe folloing is result after wrapping.\r\n[![enter image description here](https://i.stack.imgur.com/hF6c0.png)](https://i.stack.imgur.com/hF6c0.png)\r\nHow can I realized it wisely?\r\nThanks for attention.\r\nBy the way, I am not familar with evosuite. But it seems that the result comes from it.\r\n\r\nMy mentor recommend me to make clear the source code of command gen_test in defects4j.But I am not a perl programmer.\r\n[source code of command gen_test](https://github.com/kwz219/defects4j/blob/master/framework/bin/gen_tests.pl)\r\nSo I give up the road.\r\nShould I learn evosuite from scratch? Is there any method easier?","title":"How to turn a test method into evosuite test case suite","body":"<p>I am working on generating test case for Java unit (i.e. method).\nMy output is in form of a Java test method, just like</p>\n<pre><code>    public void testToInt() {\n        assertEquals(0, NumberUtils.toInt(&quot;0&quot;));\n        assertEquals(1, NumberUtils.toInt(&quot;1&quot;));\n        assertEquals(2, NumberUtils.toInt(&quot;2&quot;));\n        assertEquals(3, NumberUtils.toInt(&quot;3&quot;));\n        assertEquals(4, NumberUtils.toInt(&quot;4&quot;));\n        assertEquals(5, NumberUtils.toInt(&quot;5&quot;));\n        assertEquals(6, NumberUtils.toInt(&quot;6&quot;));\n        assertEquals(7, NumberUtils.toInt(&quot;7&quot;));\n        assertEquals(8, NumberUtils.toInt(&quot;8&quot;));\n        assertEquals(9, NumberUtils.toInt(&quot;9&quot;));\n    }\n</code></pre>\n<p>Now I need to wrap the test method so that it can be used in defects4j.\nThe folloing is result after wrapping.\n<a href=\"https://i.stack.imgur.com/hF6c0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hF6c0.png\" alt=\"enter image description here\" /></a>\nHow can I realized it wisely?\nThanks for attention.\nBy the way, I am not familar with evosuite. But it seems that the result comes from it.</p>\n<p>My mentor recommend me to make clear the source code of command gen_test in defects4j.But I am not a perl programmer.\n<a href=\"https://github.com/kwz219/defects4j/blob/master/framework/bin/gen_tests.pl\" rel=\"nofollow noreferrer\">source code of command gen_test</a>\nSo I give up the road.\nShould I learn evosuite from scratch? Is there any method easier?</p>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1676080508,"post_id":75417630,"comment_id":133071861,"body_markdown":"Please show your Java code.","body":"Please show your Java code."},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":0,"creation_date":1676080804,"post_id":75417630,"comment_id":133071907,"body_markdown":"@vanje: It&#39;s updated. Please let me know.","body":"@vanje: It&#39;s updated. Please let me know."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1676113118,"post_id":75417630,"comment_id":133074959,"body_markdown":"Please show minimal but complete samples allowing others to reproduce the problem. It is not clear why your code doing e.g. `System.out.println(&quot;Category List: &quot; + categoryNodeList.item(0));` should output `0 found`.","body":"Please show minimal but complete samples allowing others to reproduce the problem. It is not clear why your code doing e.g. <code>System.out.println(&quot;Category List: &quot; + categoryNodeList.item(0));</code> should output <code>0 found</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676138090,"post_id":75417630,"comment_id":133079059,"body_markdown":"Why `//*[name()=&#39;category&#39;]` and not just `//category`?","body":"Why <code>&#47;&#47;*[name()=&#39;category&#39;]</code> and not just <code>&#47;&#47;category</code>?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676139182,"post_id":75417630,"comment_id":133079254,"body_markdown":"You haven’t shown us the value of `WP_ITEM_CATEGORY_XPATH`.  But `xpath.evaluate(&quot;/rss/channel/item[post_id=&#39;&quot; + postID + &quot;&#39;]//category&quot;, doc, XPathConstants.NODESET);` worked for me on your example XML.","body":"You haven’t shown us the value of <code>WP_ITEM_CATEGORY_XPATH</code>.  But <code>xpath.evaluate(&quot;&#47;rss&#47;channel&#47;item[post_id=&#39;&quot; + postID + &quot;&#39;]&#47;&#47;category&quot;, doc, XPathConstants.NODESET);</code> worked for me on your example XML."},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":0,"creation_date":1676166940,"post_id":75417630,"comment_id":133082965,"body_markdown":"@VGR - `WP_ITEM_CATEGORY_XPATH=&quot;/rss/channel/item&quot; + &quot;[post_id=&#39;&quot; + item.getPostId() + &quot;&#39;]//*[name()=&#39;category&#39;]&quot;`. Your change removing the *name* didn&#39;t work for me with JAVA. The XPATH expression works in online simulator but not in JAVA.","body":"@VGR - <code>WP_ITEM_CATEGORY_XPATH=&quot;&#47;rss&#47;channel&#47;item&quot; + &quot;[post_id=&#39;&quot; + item.getPostId() + &quot;&#39;]&#47;&#47;*[name()=&#39;category&#39;]&quot;</code>. Your change removing the <i>name</i> didn&#39;t work for me with JAVA. The XPATH expression works in online simulator but not in JAVA."},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":0,"creation_date":1676167053,"post_id":75417630,"comment_id":133082973,"body_markdown":"@VGR - `NodeList categoryNodeList` returns 0. Not expected result set - which is 5 node elements of category.","body":"@VGR - <code>NodeList categoryNodeList</code> returns 0. Not expected result set - which is 5 node elements of category."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676167109,"post_id":75417630,"comment_id":133082982,"body_markdown":"How sure are you that `getPostId()` returns the value you expect it to return?  You may want to print that value out.  And perhaps print out its length, too, just in case it contains non-printing characters.","body":"How sure are you that <code>getPostId()</code> returns the value you expect it to return?  You may want to print that value out.  And perhaps print out its length, too, just in case it contains non-printing characters."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1676211082,"post_id":75417630,"comment_id":133087699,"body_markdown":"Java code with XPath `/rss/channel/item[post_id=&#39;131145&#39;]//category` works fine at https://onecompiler.com/java/3yxq4thsv to find five element nodes. Output is not the same as in your online tester but they somehow serialize the returned nodes, either by using some other object model which does that automatically for nodes (like Saxon) or by using an identity Transformer or LSSerializer for DOM.","body":"Java code with XPath <code>&#47;rss&#47;channel&#47;item[post_id=&#39;131145&#39;]&#47;&#47;category</code> works fine at <a href=\"https://onecompiler.com/java/3yxq4thsv\" rel=\"nofollow noreferrer\">onecompiler.com/java/3yxq4thsv</a> to find five element nodes. Output is not the same as in your online tester but they somehow serialize the returned nodes, either by using some other object model which does that automatically for nodes (like Saxon) or by using an identity Transformer or LSSerializer for DOM."}],"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676080778,"creation_date":1676080081,"question_id":75417630,"body_markdown":"Find the total number of category elements in first tuple of item with post Id = **131145**. The given XPATH expression works perfectly in online simulator, but when I try to execute with Java XPath library (it returns 0). Please let me know what am I doing wrong here and what would be the correct version of XPath expression for Java.\r\n\r\n**Given XML:**\r\n\r\n    &lt;rss&gt;\r\n    &lt;channel&gt;\r\n        &lt;item&gt;\r\n               &lt;post_id&gt;131145&lt;/post_id&gt;    \r\n               &lt;category domain=&quot;news-destination&quot; nicename=&quot;civonline&quot;&gt;&lt;![CDATA[civonline]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;category&quot; nicename=&quot;cronaca&quot;&gt;&lt;![CDATA[Cronaca]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;news-source&quot; nicename=&quot;dbsource&quot;&gt;&lt;![CDATA[Database Civonline]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;news-destination&quot; nicename=&quot;laprovincia&quot;&gt;&lt;![CDATA[laprovincia]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;comune&quot; nicename=&quot;tarquinia&quot;&gt;&lt;![CDATA[Tarquinia]]&gt;&lt;/category&gt;\r\n        &lt;/item&gt;\r\n        &lt;item&gt;\r\n               &lt;post_id&gt;123456&lt;/post_id&gt;    \r\n               &lt;category domain=&quot;news-destination1&quot; nicename=&quot;civonline&quot;&gt;&lt;![CDATA[civonline]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;category1&quot; nicename=&quot;cronaca&quot;&gt;&lt;![CDATA[Cronaca]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;news-source1&quot; nicename=&quot;dbsource&quot;&gt;&lt;![CDATA[Database Civonline]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;news-destination1&quot; nicename=&quot;laprovincia&quot;&gt;&lt;![CDATA[laprovincia]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;comune1&quot; nicename=&quot;tarquinia&quot;&gt;&lt;![CDATA[Tarquinia]]&gt;&lt;/category&gt;\r\n        &lt;/item&gt;\r\n    &lt;/channel&gt;\r\n&lt;/rss&gt;\r\n\r\n**XPATH Expression:** `/rss/channel/item[post_id=&#39;131145&#39;]//*[name()=&#39;category&#39;]`\r\n\r\n\r\n**Online Simulator:** [https://www.freeformatter.com/xpath-tester.html][1]\r\n\r\n**Expected Result:** \r\n\r\n    Element=&#39;&lt;category domain=&quot;news-destination&quot; nicename=&quot;civonline&quot;&gt;civonline&lt;/category&gt;&#39; \r\n    Element=&#39;&lt;category domain=&quot;category&quot; nicename=&quot;cronaca&quot;&gt;Cronaca&lt;/category&gt;&#39; \r\n    Element=&#39;&lt;category domain=&quot;news-source&quot; nicename=&quot;dbsource&quot;&gt;Database Civonline&lt;/category&gt;&#39; \r\n    Element=&#39;&lt;category domain=&quot;news-destination&quot; nicename=&quot;laprovincia&quot; &gt;laprovincia &lt;/category&gt;&#39;\r\n    Element=&#39;&lt;category domain=&quot;comune&quot; nicename=&quot;tarquinia&quot;&gt;Tarquinia&lt;/category&gt;&#39;\r\n\r\n**Java CodeSnippet:**\r\n\r\n    String xpath_suffix = WP_ITEM_CATEGORY_XPATH + &quot;[post_id=&#39;&quot; + item.getPostId() + &quot;&#39;]//*[name()=&#39;category&#39;]&quot;;\r\n    NodeList categoryNodeList = readXMLNodeList(doc, xpath_suffix);\r\n    System.out.println(&quot;Category List: &quot; + categoryNodeList.item(0));\r\n    \r\n    protected NodeList readXMLNodeList(Object item, String xpathExpression) throws XPathExpressionException {\r\n        return (NodeList) readXML(item, xpathExpression, XPathConstants.NODESET);\r\n    }\r\n     \r\n    protected Object readXML(Object item, String xpathExpression, QName returnType) throws XPathExpressionException {\r\n        XPath xpath = XPathFactory.newInstance().newXPath();\r\n        XPathExpression expr = xpath.compile(xpathExpression);\r\n        return expr.evaluate(item, returnType);\r\n    }\r\n\r\n**Java Result:**\r\n\r\n0 found\r\n\r\n**Note:** How can we fix it XPath expression for Java to give same expected result.\r\n\r\n\r\n  [1]: https://www.freeformatter.com/xpath-tester.html\r\n","title":"How to get the node list from given xml using XPATH in Java","body":"<p>Find the total number of category elements in first tuple of item with post Id = <strong>131145</strong>. The given XPATH expression works perfectly in online simulator, but when I try to execute with Java XPath library (it returns 0). Please let me know what am I doing wrong here and what would be the correct version of XPath expression for Java.</p>\n<p><strong>Given XML:</strong></p>\n<pre><code>&lt;rss&gt;\n&lt;channel&gt;\n    &lt;item&gt;\n           &lt;post_id&gt;131145&lt;/post_id&gt;    \n           &lt;category domain=&quot;news-destination&quot; nicename=&quot;civonline&quot;&gt;&lt;![CDATA[civonline]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;category&quot; nicename=&quot;cronaca&quot;&gt;&lt;![CDATA[Cronaca]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;news-source&quot; nicename=&quot;dbsource&quot;&gt;&lt;![CDATA[Database Civonline]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;news-destination&quot; nicename=&quot;laprovincia&quot;&gt;&lt;![CDATA[laprovincia]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;comune&quot; nicename=&quot;tarquinia&quot;&gt;&lt;![CDATA[Tarquinia]]&gt;&lt;/category&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n           &lt;post_id&gt;123456&lt;/post_id&gt;    \n           &lt;category domain=&quot;news-destination1&quot; nicename=&quot;civonline&quot;&gt;&lt;![CDATA[civonline]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;category1&quot; nicename=&quot;cronaca&quot;&gt;&lt;![CDATA[Cronaca]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;news-source1&quot; nicename=&quot;dbsource&quot;&gt;&lt;![CDATA[Database Civonline]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;news-destination1&quot; nicename=&quot;laprovincia&quot;&gt;&lt;![CDATA[laprovincia]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;comune1&quot; nicename=&quot;tarquinia&quot;&gt;&lt;![CDATA[Tarquinia]]&gt;&lt;/category&gt;\n    &lt;/item&gt;\n&lt;/channel&gt;\n</code></pre>\n\n<p><strong>XPATH Expression:</strong> <code>/rss/channel/item[post_id='131145']//*[name()='category']</code></p>\n<p><strong>Online Simulator:</strong> <a href=\"https://www.freeformatter.com/xpath-tester.html\" rel=\"nofollow noreferrer\">https://www.freeformatter.com/xpath-tester.html</a></p>\n<p><strong>Expected Result:</strong></p>\n<pre><code>Element='&lt;category domain=&quot;news-destination&quot; nicename=&quot;civonline&quot;&gt;civonline&lt;/category&gt;' \nElement='&lt;category domain=&quot;category&quot; nicename=&quot;cronaca&quot;&gt;Cronaca&lt;/category&gt;' \nElement='&lt;category domain=&quot;news-source&quot; nicename=&quot;dbsource&quot;&gt;Database Civonline&lt;/category&gt;' \nElement='&lt;category domain=&quot;news-destination&quot; nicename=&quot;laprovincia&quot; &gt;laprovincia &lt;/category&gt;'\nElement='&lt;category domain=&quot;comune&quot; nicename=&quot;tarquinia&quot;&gt;Tarquinia&lt;/category&gt;'\n</code></pre>\n<p><strong>Java CodeSnippet:</strong></p>\n<pre><code>String xpath_suffix = WP_ITEM_CATEGORY_XPATH + &quot;[post_id='&quot; + item.getPostId() + &quot;']//*[name()='category']&quot;;\nNodeList categoryNodeList = readXMLNodeList(doc, xpath_suffix);\nSystem.out.println(&quot;Category List: &quot; + categoryNodeList.item(0));\n\nprotected NodeList readXMLNodeList(Object item, String xpathExpression) throws XPathExpressionException {\n    return (NodeList) readXML(item, xpathExpression, XPathConstants.NODESET);\n}\n \nprotected Object readXML(Object item, String xpathExpression, QName returnType) throws XPathExpressionException {\n    XPath xpath = XPathFactory.newInstance().newXPath();\n    XPathExpression expr = xpath.compile(xpathExpression);\n    return expr.evaluate(item, returnType);\n}\n</code></pre>\n<p><strong>Java Result:</strong></p>\n<p>0 found</p>\n<p><strong>Note:</strong> How can we fix it XPath expression for Java to give same expected result.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1524607620,"post_id":50010766,"comment_id":87039212,"body_markdown":"What is the exact problem that you solve with these changed jars?  There might be a better way.","body":"What is the exact problem that you solve with these changed jars?  There might be a better way."},{"owner":{"account_id":8319485,"reputation":13,"user_id":6251698,"display_name":"Carlos G&#243;mez"},"score":0,"creation_date":1524608465,"post_id":50010766,"comment_id":87039459,"body_markdown":"To verify changes in said jars as requested by fortify.","body":"To verify changes in said jars as requested by fortify."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1524638866,"post_id":50010766,"comment_id":87047665,"body_markdown":"You know of SNAPSHOT versions also don&#39;t configure maven-war-plugin and violate the conventions...Apart from that your process sounds wrong..what do you need to test war&#39;s ? Do you use CI tools like Jenkins?","body":"You know of SNAPSHOT versions also don&#39;t configure maven-war-plugin and violate the conventions...Apart from that your process sounds wrong..what do you need to test war&#39;s ? Do you use CI tools like Jenkins?"},{"owner":{"account_id":8319485,"reputation":13,"user_id":6251698,"display_name":"Carlos G&#243;mez"},"score":0,"creation_date":1524655540,"post_id":50010766,"comment_id":87057816,"body_markdown":"As I said before, I do not control the dependencies, thats why I need this unconventional approach. I need to inject those jar so they can be verified by other team, they use jenkins to create the war and upload it to the server.","body":"As I said before, I do not control the dependencies, thats why I need this unconventional approach. I need to inject those jar so they can be verified by other team, they use jenkins to create the war and upload it to the server."}],"owner":{"account_id":8319485,"reputation":13,"user_id":6251698,"display_name":"Carlos G&#243;mez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676080506,"creation_date":1524604197,"question_id":50010766,"body_markdown":"I has been copying some patched jars inside war files in order to test remediated jars without uploading them to the maven repo, and everything goes well when applying the maven-war-plugin as long as the jar does no exists they are placed inside the war, so no overwrite is happening, but the copy does happen.\r\n\r\nThose jar files belong to several dependencies which I have no control whatsoever and could be any number of files, also I can&#39;t replace them in the nexus before testing nor place them in my local repo, since the idea is to generate the war file in other machines using jenkins to test the jars.\r\n\r\nSo, how can I overwrite the jar files that are packaged into the war file?\r\n\r\nThis is my previous configuration that allows me to copy any number of jars from a libs folder to the WEB-INF/lib inside the war file.\r\n\r\n    &lt;!-- OVERWRITE JAR files with remediated versions --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t          &lt;executions&gt;\r\n\t            &lt;execution&gt;\r\n\t              &lt;id&gt;default-war&lt;/id&gt;\r\n\t              &lt;phase&gt;none&lt;/phase&gt;\r\n\t            &lt;/execution&gt;\r\n\t            &lt;execution&gt;\r\n\t              &lt;id&gt;war-replace&lt;/id&gt;\r\n\t              &lt;phase&gt;package&lt;/phase&gt;\r\n\t              &lt;goals&gt;\r\n\t                &lt;goal&gt;war&lt;/goal&gt;\r\n\t              &lt;/goals&gt;\r\n\t              &lt;configuration&gt;\r\n\t                &lt;webResources&gt;\r\n\t                  &lt;resource&gt;\r\n\t                    &lt;directory&gt;${basedir}/libs&lt;/directory&gt;\r\n\t                    &lt;includes&gt;\r\n\t                      &lt;include&gt;**/*.jar&lt;/include&gt;\r\n\t                      &lt;include&gt;**/*.war&lt;/include&gt;\r\n\t                    &lt;/includes&gt;\r\n\t                    &lt;targetPath&gt;WEB-INF/lib/&lt;/targetPath&gt;\r\n\t                  &lt;/resource&gt;\r\n\t                &lt;/webResources&gt;\r\n\t                &lt;overwrite&gt;true&lt;/overwrite&gt;\r\n\t              &lt;/configuration&gt;\r\n\t            &lt;/execution&gt;\r\n\t          &lt;/executions&gt;\r\n\t        &lt;/plugin&gt;","title":"How to overwrite a jar file in a maven generated war?","body":"<p>I has been copying some patched jars inside war files in order to test remediated jars without uploading them to the maven repo, and everything goes well when applying the maven-war-plugin as long as the jar does no exists they are placed inside the war, so no overwrite is happening, but the copy does happen.</p>\n<p>Those jar files belong to several dependencies which I have no control whatsoever and could be any number of files, also I can't replace them in the nexus before testing nor place them in my local repo, since the idea is to generate the war file in other machines using jenkins to test the jars.</p>\n<p>So, how can I overwrite the jar files that are packaged into the war file?</p>\n<p>This is my previous configuration that allows me to copy any number of jars from a libs folder to the WEB-INF/lib inside the war file.</p>\n<pre><code>&lt;!-- OVERWRITE JAR files with remediated versions --&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;default-war&lt;/id&gt;\n              &lt;phase&gt;none&lt;/phase&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n              &lt;id&gt;war-replace&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;war&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;webResources&gt;\n                  &lt;resource&gt;\n                    &lt;directory&gt;${basedir}/libs&lt;/directory&gt;\n                    &lt;includes&gt;\n                      &lt;include&gt;**/*.jar&lt;/include&gt;\n                      &lt;include&gt;**/*.war&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;targetPath&gt;WEB-INF/lib/&lt;/targetPath&gt;\n                  &lt;/resource&gt;\n                &lt;/webResources&gt;\n                &lt;overwrite&gt;true&lt;/overwrite&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676079697,"post_id":75417558,"comment_id":133071778,"body_markdown":"Could provide more detail, preferably with a [mre]? Currently, you talk about an array but the little bit of code you&#39;ve provided looks more like a linked list.","body":"Could provide more detail, preferably with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Currently, you talk about an array but the little bit of code you&#39;ve provided looks more like a linked list."},{"owner":{"account_id":27757498,"reputation":1,"user_id":21190606,"display_name":"susanna sharon"},"score":0,"creation_date":1676080882,"post_id":75417558,"comment_id":133071922,"body_markdown":"I made changes to the code","body":"I made changes to the code"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1676082903,"post_id":75417558,"comment_id":133072090,"body_markdown":"... you haven&#39;t shown how you&#39;re trying to REPLACE one value with another...","body":"... you haven&#39;t shown how you&#39;re trying to REPLACE one value with another..."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1676086231,"post_id":75417558,"comment_id":133072341,"body_markdown":"Do you simply mean `head=head.next;`?","body":"Do you simply mean <code>head=head.next;</code>?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676086721,"post_id":75417558,"comment_id":133072372,"body_markdown":"To be honest, your question is still not clear to me. Where is this &quot;array&quot; you mention? If your goal is to _insert_ a user-defined element at the head of the list, why is &quot;method 3&quot; named `removeFirstNode`? And, if that _is_ your goal, how is that not already implemented by `addFirstNode`?","body":"To be honest, your question is still not clear to me. Where is this &quot;array&quot; you mention? If your goal is to <i>insert</i> a user-defined element at the head of the list, why is &quot;method 3&quot; named <code>removeFirstNode</code>? And, if that <i>is</i> your goal, how is that not already implemented by <code>addFirstNode</code>?"}],"owner":{"account_id":27757498,"reputation":1,"user_id":21190606,"display_name":"susanna sharon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676079984,"creation_date":1676078921,"question_id":75417558,"body_markdown":"    public class LinkedList {\r\n    public Node head, tail;\r\n    //constructor method to create a list of object with head, \r\n    tail, \r\n    and size.\r\n    public LinkedList() {\r\n    head = null;\r\n    tail = null;\r\n    }\r\n    //method add node to end of list\r\n    public void addLastNode(int data) {\r\n    if (tail == null)\r\n    head = tail = new Node(data); //empty list\r\n    else {\r\n    tail.next = new Node(data); //link new node as last node\r\n    tail = tail.next; //make tail pointer points to last node\r\n    }\r\n    }\r\n    //method #1: add first node\r\n    public void addFirstNode(int data) {\r\n    Node temp = new Node(data);\r\n    if (tail==null)\r\n    tail = temp;\r\n    temp.next = head;\r\n    head = temp;\r\n    }\r\n    //method #2: add node at index\r\n    public void addAtIndex(int index, int data) {\r\n    if(index&lt;countNodes()) {\r\n    if(index==0) {\r\n    Node temp = head;\r\n    head = new Node(data);\r\n    head.next = temp.next;\r\n    return;\r\n    }\r\n    //method #3: remove first node\r\n    public void removeFirstNode() {\r\n    Node a = head;\r\n    Node b = head.next - 1;\r\n    }\r\n\r\n \r\n\r\nI have this code, and this only replaces the array for example..\r\n[a.b,....d] the user enters replace a with d then the output should be like [d,a,b,.s.d] but my output just replaces it..\r\nhow do i change that \r\nfor method 3 ","title":"I need to replace the array with the user input, but move the previous array to the right","body":"<pre><code>public class LinkedList {\npublic Node head, tail;\n//constructor method to create a list of object with head, \ntail, \nand size.\npublic LinkedList() {\nhead = null;\ntail = null;\n}\n//method add node to end of list\npublic void addLastNode(int data) {\nif (tail == null)\nhead = tail = new Node(data); //empty list\nelse {\ntail.next = new Node(data); //link new node as last node\ntail = tail.next; //make tail pointer points to last node\n}\n}\n//method #1: add first node\npublic void addFirstNode(int data) {\nNode temp = new Node(data);\nif (tail==null)\ntail = temp;\ntemp.next = head;\nhead = temp;\n}\n//method #2: add node at index\npublic void addAtIndex(int index, int data) {\nif(index&lt;countNodes()) {\nif(index==0) {\nNode temp = head;\nhead = new Node(data);\nhead.next = temp.next;\nreturn;\n}\n//method #3: remove first node\npublic void removeFirstNode() {\nNode a = head;\nNode b = head.next - 1;\n}\n</code></pre>\n<p>I have this code, and this only replaces the array for example..\n[a.b,....d] the user enters replace a with d then the output should be like [d,a,b,.s.d] but my output just replaces it..\nhow do i change that\nfor method 3</p>\n"},{"tags":["java","oracle","plsql","nclob"],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676079424,"creation_date":1676054601,"question_id":75414987,"body_markdown":"I am working on Java+Spring+Oracle application. I am trying to add a new function on the database that stores `NClob` in a custom type. I ran into the error \r\n```\r\nORA-65502: cannot access temporary LOB data\r\n```\r\nbut I am not sure how to fix my issue. \r\n\r\n*Please pardon me that I am still new to PL/SQL and it is my first time dealing with NClob.*\r\n\r\nTo begin with, I have a table like this:\r\n```\r\nCREATE TABLE &quot;NOTIFICATION&quot; (\r\n\t&quot;NOTIFICATION_ID&quot; NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,\r\n    ...\r\n\t&quot;NOTIFICATION_CONTENT&quot; NCLOB,                -- HTML content of notification\r\n    ...\r\n\t&quot;COMMENTS&quot;  NCLOB,\r\n    ...\r\n\tCONSTRAINT &quot;PK_NOTIFICATION_ID&quot; PRIMARY KEY (&quot;NOTIFICATION_ID&quot;)\r\n);\r\n```\r\nI have a custom type to read/write encapsulated data:\r\n```\r\ncreate or replace TYPE NOTIFICATION_TYP FORCE AS OBJECT (\r\n\t&quot;NOTIFICATION_ID&quot; NUMBER,\r\n    ...\r\n\t&quot;NOTIFICATION_CONTENT&quot; NCLOB,                -- HTML content of notification\r\n    ...\r\n\t&quot;COMMENTS&quot;  NCLOB,\r\n    ...\r\n\tconstructor function NOTIFICATION_TYP return self as result\r\n) NOT FINAL;\r\n\r\n```\r\nand its body simply as:\r\n```\r\ncreate or replace type body NOTIFICATION_TYP is\r\n  constructor function NOTIFICATION_TYP return self as result is\r\n  begin\r\n    return;\r\n  end;\r\nend;\r\n```\r\n\r\nSo basically my (simplified)function in the database package is like this:\r\n```\r\nfunction create_notification(\r\n\t\t pi_notification       in        NOTIFICATION_TYP\r\n\t\t,po_notification_id    out       number\r\n\t\t,po_return             out       return_typ\r\n\t)\r\n\treturn integer as\r\n\t\tv_excep_msg varchar2(200);\r\n\tbegin\r\n\t\tinsert into NOTIFICATION (\r\n            ...\r\n\t\t\tNOTIFICATION_CONTENT,\r\n            ...\r\n\t\t\tCOMMENTS,\r\n            ...\r\n\t\t) values (\r\n            ...\r\n\t\t\tpi_notification.NOTIFICATION_CONTENT,\r\n            ...\r\n\t\t\tpi_notification.COMMENTS,\r\n            ...\r\n\t\t) RETURNING NOTIFICATION_ID INTO po_notification_id;\r\n\t\tpo_return := utils_pkg.get_success_info;\r\n\t\treturn c_success;\r\n\r\n\texception\r\n\t\twhen OTHERS then\r\n\t\t\tv_excep_msg  :=  sqlerrm;\r\n\t\t\tpo_return := utils_pkg.get_error_info(SQLCODE, SQLERRM);\r\n\t\t\tlog_error_msg(\r\n\t\t\t\t pi_app_name         =&gt;  c_application_name\r\n\t\t\t\t,pi_error_msg        =&gt;  &#39;Exception in creating notification&#39;\r\n\t\t\t\t,pi_error_details    =&gt;  sqlerrm\r\n\t\t\t);\r\n\r\n\treturn c_failure;\r\nend create_notification;\r\n\r\n```\r\n\r\nSo from Java end, I am using `StoredProcedure` and `SQLData` to call the function in the package.\r\n`CreateNotificationFunction.java`:\r\n```\r\nimport ...\r\npublic class CreateNotificationFunction  extends StoredProcedure{\r\n\r\n\tpublic CreateNotificationFunction(JdbcTemplate jdbcTemplate){\r\n\t\t super(jdbcTemplate, DAOConstants.CREATE_NOTIFICATION_FUNCTION);\r\n\t\t setFunction(true);\r\n    \t declareParameter(new SqlOutParameter(DAOConstants.PO_FUNCTION_RESULT, OracleTypes.VARCHAR));\r\n \t\t declareParameter(new SqlParameter(DAOConstants.PI_NOTIFICATION,OracleTypes.STRUCT,DAOConstants.TYPE_NOTIFICATION));\r\n    \t declareParameter(new SqlOutParameter(DAOConstants.PO_NOTIFICATION_ID, OracleTypes.NUMBER));\r\n     \t declareParameter(new SqlOutParameter(DAOConstants.PO_RETURN,OracleTypes.STRUCT,DAOConstants.TYPE_RETURN,  \r\n  \t\t\t \tnew SqlReturnSqlData(SQLDBResult.class)));\r\n\t\t allowsUnusedParameters();\r\n\t\t compile();\t\t\t\r\n\t}\r\n\t\r\n\t@SuppressWarnings({ &quot;rawtypes&quot; })\r\n\tpublic Map execute(JdbcTemplate jdbcTemplate, SQLNotification sqlNotification) {\r\n\t  Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\r\n\t\tparams.put(DAOConstants.PI_NOTIFICATION, sqlNotification);\r\n\t\treturn super.execute(params);\r\n    }\t\r\n}\r\n\r\n```\r\n`SQLNotification.java`:\r\n```\r\npublic class SQLNotification implements SQLData {\r\n    private String notificationContent;\r\n    private String comments;\r\n\tprivate static Connection connection;\r\n    ...\r\n\r\n\t@Override\r\n\tpublic void writeSQL(SQLOutput sqlOutput) throws SQLException {\r\n        ...\r\n\t\tNClob notificationContentNClob = connection.createNClob();\r\n\t\tnotificationContentNClob.setString(1, getNotificationContent());\r\n\t\tsqlOutput.writeNClob(notificationContentNClob);\r\n        ...\r\n\t\tNClob commentsNClob = connection.createNClob();\r\n\t\tcommentsNClob.setString(1, getComments());\r\n\t\tsqlOutput.writeNClob(commentsNClob);\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\n*(Is this the correct way to insert Java `String` into Oracle&#39;s `NClob`?)*\r\n\r\nNot sure what went wrong...\r\n\r\n*I am unsure when this error occurs - Is it when creating the type instance? Is it when calling the function? Or, is it when inserting the data into the table?*","title":"ORA-65502: cannot access temporary LOB data","body":"<p>I am working on Java+Spring+Oracle application. I am trying to add a new function on the database that stores <code>NClob</code> in a custom type. I ran into the error</p>\n<pre><code>ORA-65502: cannot access temporary LOB data\n</code></pre>\n<p>but I am not sure how to fix my issue.</p>\n<p><em>Please pardon me that I am still new to PL/SQL and it is my first time dealing with NClob.</em></p>\n<p>To begin with, I have a table like this:</p>\n<pre><code>CREATE TABLE &quot;NOTIFICATION&quot; (\n    &quot;NOTIFICATION_ID&quot; NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,\n    ...\n    &quot;NOTIFICATION_CONTENT&quot; NCLOB,                -- HTML content of notification\n    ...\n    &quot;COMMENTS&quot;  NCLOB,\n    ...\n    CONSTRAINT &quot;PK_NOTIFICATION_ID&quot; PRIMARY KEY (&quot;NOTIFICATION_ID&quot;)\n);\n</code></pre>\n<p>I have a custom type to read/write encapsulated data:</p>\n<pre><code>create or replace TYPE NOTIFICATION_TYP FORCE AS OBJECT (\n    &quot;NOTIFICATION_ID&quot; NUMBER,\n    ...\n    &quot;NOTIFICATION_CONTENT&quot; NCLOB,                -- HTML content of notification\n    ...\n    &quot;COMMENTS&quot;  NCLOB,\n    ...\n    constructor function NOTIFICATION_TYP return self as result\n) NOT FINAL;\n\n</code></pre>\n<p>and its body simply as:</p>\n<pre><code>create or replace type body NOTIFICATION_TYP is\n  constructor function NOTIFICATION_TYP return self as result is\n  begin\n    return;\n  end;\nend;\n</code></pre>\n<p>So basically my (simplified)function in the database package is like this:</p>\n<pre><code>function create_notification(\n         pi_notification       in        NOTIFICATION_TYP\n        ,po_notification_id    out       number\n        ,po_return             out       return_typ\n    )\n    return integer as\n        v_excep_msg varchar2(200);\n    begin\n        insert into NOTIFICATION (\n            ...\n            NOTIFICATION_CONTENT,\n            ...\n            COMMENTS,\n            ...\n        ) values (\n            ...\n            pi_notification.NOTIFICATION_CONTENT,\n            ...\n            pi_notification.COMMENTS,\n            ...\n        ) RETURNING NOTIFICATION_ID INTO po_notification_id;\n        po_return := utils_pkg.get_success_info;\n        return c_success;\n\n    exception\n        when OTHERS then\n            v_excep_msg  :=  sqlerrm;\n            po_return := utils_pkg.get_error_info(SQLCODE, SQLERRM);\n            log_error_msg(\n                 pi_app_name         =&gt;  c_application_name\n                ,pi_error_msg        =&gt;  'Exception in creating notification'\n                ,pi_error_details    =&gt;  sqlerrm\n            );\n\n    return c_failure;\nend create_notification;\n\n</code></pre>\n<p>So from Java end, I am using <code>StoredProcedure</code> and <code>SQLData</code> to call the function in the package.\n<code>CreateNotificationFunction.java</code>:</p>\n<pre><code>import ...\npublic class CreateNotificationFunction  extends StoredProcedure{\n\n    public CreateNotificationFunction(JdbcTemplate jdbcTemplate){\n         super(jdbcTemplate, DAOConstants.CREATE_NOTIFICATION_FUNCTION);\n         setFunction(true);\n         declareParameter(new SqlOutParameter(DAOConstants.PO_FUNCTION_RESULT, OracleTypes.VARCHAR));\n         declareParameter(new SqlParameter(DAOConstants.PI_NOTIFICATION,OracleTypes.STRUCT,DAOConstants.TYPE_NOTIFICATION));\n         declareParameter(new SqlOutParameter(DAOConstants.PO_NOTIFICATION_ID, OracleTypes.NUMBER));\n         declareParameter(new SqlOutParameter(DAOConstants.PO_RETURN,OracleTypes.STRUCT,DAOConstants.TYPE_RETURN,  \n                new SqlReturnSqlData(SQLDBResult.class)));\n         allowsUnusedParameters();\n         compile();         \n    }\n    \n    @SuppressWarnings({ &quot;rawtypes&quot; })\n    public Map execute(JdbcTemplate jdbcTemplate, SQLNotification sqlNotification) {\n      Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\n        params.put(DAOConstants.PI_NOTIFICATION, sqlNotification);\n        return super.execute(params);\n    }   \n}\n\n</code></pre>\n<p><code>SQLNotification.java</code>:</p>\n<pre><code>public class SQLNotification implements SQLData {\n    private String notificationContent;\n    private String comments;\n    private static Connection connection;\n    ...\n\n    @Override\n    public void writeSQL(SQLOutput sqlOutput) throws SQLException {\n        ...\n        NClob notificationContentNClob = connection.createNClob();\n        notificationContentNClob.setString(1, getNotificationContent());\n        sqlOutput.writeNClob(notificationContentNClob);\n        ...\n        NClob commentsNClob = connection.createNClob();\n        commentsNClob.setString(1, getComments());\n        sqlOutput.writeNClob(commentsNClob);\n        ...\n    }\n}\n</code></pre>\n<p><em>(Is this the correct way to insert Java <code>String</code> into Oracle's <code>NClob</code>?)</em></p>\n<p>Not sure what went wrong...</p>\n<p><em>I am unsure when this error occurs - Is it when creating the type instance? Is it when calling the function? Or, is it when inserting the data into the table?</em></p>\n"},{"tags":["java","sockets","udp","client","channel"],"comments":[{"owner":{"account_id":448441,"reputation":3683,"user_id":6783775,"display_name":"rveerd"},"score":0,"creation_date":1676139465,"post_id":75417564,"comment_id":133079307,"body_markdown":"What port are you using? You normally cannot bind to ports below 1024.","body":"What port are you using? You normally cannot bind to ports below 1024."},{"owner":{"account_id":25392691,"reputation":1,"user_id":19203381,"display_name":"Omar Daniel Gonz&#225;lez Trejo"},"score":0,"creation_date":1676143959,"post_id":75417564,"comment_id":133080036,"body_markdown":"I&#39;m using port 9999","body":"I&#39;m using port 9999"},{"owner":{"account_id":25392691,"reputation":1,"user_id":19203381,"display_name":"Omar Daniel Gonz&#225;lez Trejo"},"score":0,"creation_date":1676143998,"post_id":75417564,"comment_id":133080043,"body_markdown":"In both the client and the server","body":"In both the client and the server"}],"owner":{"account_id":25392691,"reputation":1,"user_id":19203381,"display_name":"Omar Daniel Gonz&#225;lez Trejo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676079033,"creation_date":1676079033,"question_id":75417564,"body_markdown":"It&#39;s my first time working with UDP channels and I am trying to send back data from the server to the client, but I am getting the following error \r\n\r\njava.net.BindException: Cannot assign requested address: no further information\r\n\r\nHere is my code \r\n\r\nClient \r\n\r\n```\r\nimport java.net.*;\r\nimport java.io.*;\r\nimport java.nio.*;\r\nimport java.nio.channels.*;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.*;\r\n\r\nimport javax.swing.JFileChooser;\r\n\r\npublic class Server {\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\tSystem.out.printf(&quot;\\nEscriba el puerto:&quot;);\r\n\t\t\tint pto = Integer.parseInt(br.readLine());\r\n\t\t\tSystem.out.printf(&quot;\\nMTU:&quot;);\r\n\t\t\tint mtu = Integer.parseInt(br.readLine());\r\n\t\t\t// Crea canal\r\n\t\t\tDatagramChannel canal = DatagramChannel.open();\r\n\t\t\tcanal.configureBlocking(false);\r\n\t\t\t// Obt&#233;n socket asociado al canal\r\n\t\t\tDatagramSocket socket = canal.socket();\r\n\t\t\t// Crea direcci&#243;n de socket\r\n\t\t\tSocketAddress dir = new InetSocketAddress(pto);\r\n\t\t\t// Asocia la direcci&#243;n del socket al socket\r\n\t\t\tsocket.bind(dir);\r\n\t\t\t// Crea selector\r\n\t\t\tSelector selector = Selector.open();\r\n\t\t\t// Registra selector al canal para escuchar la operaci&#243;n OP_READ\r\n\t\t\tcanal.register(selector, SelectionKey.OP_READ);\r\n\t\t\t// Crea buffer\r\n\t\t\t//ByteBuffer buffer = ByteBuffer.allocateDirect(mtu);\r\n\t\t\tByteBuffer buffer = ByteBuffer.allocateDirect(1024);\r\n\t\t\tint opc=-1;\r\n\t\t\twhile (true) {\r\n\t\t\t\t// bloquea el programa hasta que un canal este listo para ejecutar una operacion\r\n\t\t\t\tselector.select(5000);// espera 5 segundos por la conexi&#243;n\r\n\t\t\t\t// Obt&#233;n las llaves asociadas al selector\r\n\t\t\t\t// C:\\Users\\datre\\OneDrive\\Documentos\\Eclipse\\Redes2\\archivos\r\n\t\t\t\tSet sk = selector.selectedKeys();\r\n\t\t\t\tIterator it = sk.iterator();\r\n\t\t\t\twhile (it.hasNext()) {\r\n\t\t\t\t\tSelectionKey key = (SelectionKey) it.next();\r\n\t\t\t\t\tit.remove();\r\n\t\t\t\t\t//key.interestOps(SelectionKey.OP_READ);\r\n\t\t\t\t\tif (key.isWritable()) {\r\n\t\t\t\t\t\tSystem.out.print(&quot;It&#39;s writable server\\n&quot;);\r\n\t\t\t\t\t\tif(opc == 1) {//Listar archivos\r\n\t\t\t\t\t\t\t//ENVIAR OPC\r\n\t        \t\t\t    ByteBuffer tamBuffer = ByteBuffer.allocate(4);\r\n\t        \t\t\t    tamBuffer.asIntBuffer().put(opc);\r\n\t        \t\t\t    tamBuffer.rewind();\r\n\t        \t\t\t    SocketAddress client = canal.receive(buffer);\r\n                            canal.send(tamBuffer,dir);\r\n\t\t\t\t\t\t\t//LISTA DE ARCHIVOS\r\n\t\t\t\t\t\t\tSystem.out.print(&quot;Listar archivos\\n&quot;);\r\n\t\t\t\t\t\t} else if(opc == 2) {//Leer archivo\r\n\t\t\t\t\t\t\t//ENV OPC\r\n\t\t\t\t\t\t\t//ENVIAR ARCHIVO\r\n\t\t\t\t\t\t\tSystem.out.print(&quot;Leer archivos\\n&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tkey.interestOps(SelectionKey.OP_READ);\r\n\t\t\t\t\t\t//ready (canal,dir);\r\n\t\t\t\t\t\t//System.exit(0);\r\n\t\t\t\t\t\t//canal.close();\r\n\t\t\t\t\t} // if\r\n\t\t\t\t\telse if (key.isReadable()) {\r\n\t                \tSystem.out.println(&quot;Is readable server: getting option&quot;);\r\n\t                    ByteBuffer b = ByteBuffer.allocate(4);\r\n\t                    b.clear();\r\n\t                    SocketAddress client = canal.receive(b);\r\n\t                    b.flip();\r\n\t                    opc = b.getInt();\r\n\t                \tSystem.out.println(&quot;Opc : &quot; + opc + &quot;\\n&quot;);\r\n\t                \tkey.interestOps(SelectionKey.OP_WRITE);\r\n\t\t\t\t\t} // if\r\n\t\t\t\t} // while2\r\n\t\t\t} // while\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(e);\r\n\t\t} // catch\r\n\t}// main\r\n\t\r\n    private static void ready(DatagramChannel channel, SocketAddress serverAddress) {\r\n        System.out.println(&quot;Sending filename\\n&quot;);\r\n        try {\r\n            String fileName;\r\n\r\n            File f = new File(&quot;C:\\\\Users\\\\datre\\\\OneDrive\\\\Documentos\\\\IA\\\\Estacionamiento1.pdf&quot;);\r\n            fileName = f.getName();\r\n\r\n            ByteBuffer buf = ByteBuffer.allocate(1024);\r\n            buf.clear();\r\n            buf.put(fileName.getBytes());\r\n            buf.flip();\r\n\r\n            channel.send(buf,serverAddress); // Sending the packet with the file name\r\n            //channel.write(buf);\r\n            //channel.close();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n    }\r\n    \r\n    \r\n}//class\r\n```\r\n\r\nServer\r\n\r\n```\r\npackage main;\r\n\r\n\r\nimport java.net.*;\r\nimport java.io.*;\r\nimport java.nio.*;\r\nimport java.nio.channels.*;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.*;\r\n\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.filechooser.FileSystemView;\r\n\r\npublic class Client {\r\n\tprivate final static int LIMITE = 100;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tboolean bandera = false;\r\n\r\n\t\ttry {\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\tSystem.out.printf(&quot;Escriba la direcci&#243;n del servidor:&quot;);\r\n\t\t\tString host = br.readLine();\r\n\t\t\tSystem.out.printf(&quot;\\nEscriba el puerto:&quot;);\r\n\t\t\tint pto = Integer.parseInt(br.readLine());\r\n\t\t\tSocketAddress remoto = new InetSocketAddress(host, pto);\r\n\t\t\t// Crea canal\r\n\t\t\tDatagramChannel canal = DatagramChannel.open();\r\n\t\t\tcanal.configureBlocking(false);\r\n\t\t\t// Conecta el canal al socket\r\n\t\t\tcanal.connect(remoto);\r\n\t\t\t// Crea selector\r\n\t\t\tSelector selector = Selector.open();\r\n\t\t\t// Registra el selector para esperar la operacion de OP_WRITE\r\n\t\t\tcanal.register(selector, SelectionKey.OP_WRITE);\r\n\t\t\t// Crea un buffer de 4 bytes\r\n\t\t\t//ByteBuffer buffer = ByteBuffer.allocateDirect(4);\r\n\t\t\t//Server route\r\n\t\t\tString serverRoute = &quot;C:\\\\Users\\\\datre\\\\OneDrive\\\\Documentos\\\\Eclipse\\\\TrustworthyUDPChannel&quot;; \r\n\t\t\tint o=1;\r\n\t\t\twhile (true) {\r\n\t\t\t\t// bloquea el programa hasta que un canal este listo para ejecutar una operacion\r\n\t\t\t\tselector.select(5000); // espera 5 segundos por la conexi&#243;n\r\n\t\t\t\t// Obten el conjunto de keys del selector\r\n\t\t\t\tSet sk = selector.selectedKeys();\r\n\t\t\t\tIterator it = sk.iterator();\r\n\t\t\t\twhile (it.hasNext()) {\r\n\t\t\t\t\tSelectionKey key = (SelectionKey) it.next();\r\n\t\t\t\t\tit.remove();\r\n\t\t\t\t\t//key.interestOps(SelectionKey.OP_READ);\r\n\t\t\t\t\tif (key.isReadable()) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;It&#39;s readable client&quot;);\r\n\t                    ByteBuffer b = ByteBuffer.allocate(4);\r\n\t                    b.clear();\r\n\t                    SocketAddress client = canal.receive(b);\r\n\t                    b.flip();\r\n\t                    int opc = b.getInt();\r\n\t                \tSystem.out.println(&quot;Opc : &quot; + opc + &quot;\\n&quot;);\r\n\t\t\t\t\t\t//createFile (canal,serverRoute);\r\n\t\t\t\t\t\t//canal.close();\r\n\t\t\t\t\t} else if (key.isWritable()) {\r\n                    \tSystem.out.println(&quot;Is writable client: sending option&quot;);\r\n                    \tif(o ==  1)//Listar archivos\r\n                    \t{\r\n\t        \t\t\t    ByteBuffer tamBuffer = ByteBuffer.allocate(4);\r\n\t        \t\t\t    tamBuffer.asIntBuffer().put(1);\r\n\t        \t\t\t    tamBuffer.rewind();\r\n                            canal.send(tamBuffer,remoto);\r\n                    \t} else if(o == 2)// Descargar archivo\r\n                    \t{\r\n\t        \t\t\t    ByteBuffer tamBuffer = ByteBuffer.allocate(4);\r\n\t        \t\t\t    tamBuffer.asIntBuffer().put(2);\r\n\t        \t\t\t    tamBuffer.rewind();\r\n                            canal.send(tamBuffer,remoto);\t\r\n                    \t}\r\n                    \tkey.interestOps(SelectionKey.OP_READ);\r\n\t\t\t\t\t} \r\n\t\t\t\t} // while\r\n\t\t\t} // while\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(e);\r\n\t\t} // catch\r\n\t}// main\r\n\t\r\n    public static void createFile (DatagramChannel channel, String serverRoute){\r\n        try{\r\n            ByteBuffer buffer = ByteBuffer.allocate(1024);\r\n            channel.receive(buffer); // Receive the datagram with the name of the file\r\n            System.out.println(&quot;Receiving file name&quot;);\r\n            buffer.flip();\r\n            byte[] bytes = new byte[buffer.remaining()];\r\n            buffer.get(bytes);\r\n            String fileName = new String(bytes);\r\n            File f = new File (serverRoute+&quot;\\\\&quot;+fileName); // Creating the file\r\n            System.out.print(fileName+ &quot;\\n&quot; + f + &quot;\\n&quot;);\r\n            FileOutputStream outToFile = new FileOutputStream(f); // Creating the stream through which we write the file content\r\n            //receiveFile(outToFile, socket); // Receiving the file\r\n        }catch(Exception ex){\r\n            ex.printStackTrace();\r\n            System.exit(1);\r\n        }   \r\n    }\r\n\t\r\n\r\n\r\n}// class\r\n```\r\n\r\n\r\n\r\nI tried to use write instead but I get a different error \r\n\r\njava.net.PortUnreachableException","title":"Send data from server to client using UDP channels in java","body":"<p>It's my first time working with UDP channels and I am trying to send back data from the server to the client, but I am getting the following error</p>\n<p>java.net.BindException: Cannot assign requested address: no further information</p>\n<p>Here is my code</p>\n<p>Client</p>\n<pre><code>import java.net.*;\nimport java.io.*;\nimport java.nio.*;\nimport java.nio.channels.*;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.util.*;\n\nimport javax.swing.JFileChooser;\n\npublic class Server {\n    public static void main(String[] args) {\n        try {\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n            System.out.printf(&quot;\\nEscriba el puerto:&quot;);\n            int pto = Integer.parseInt(br.readLine());\n            System.out.printf(&quot;\\nMTU:&quot;);\n            int mtu = Integer.parseInt(br.readLine());\n            // Crea canal\n            DatagramChannel canal = DatagramChannel.open();\n            canal.configureBlocking(false);\n            // Obtén socket asociado al canal\n            DatagramSocket socket = canal.socket();\n            // Crea dirección de socket\n            SocketAddress dir = new InetSocketAddress(pto);\n            // Asocia la dirección del socket al socket\n            socket.bind(dir);\n            // Crea selector\n            Selector selector = Selector.open();\n            // Registra selector al canal para escuchar la operación OP_READ\n            canal.register(selector, SelectionKey.OP_READ);\n            // Crea buffer\n            //ByteBuffer buffer = ByteBuffer.allocateDirect(mtu);\n            ByteBuffer buffer = ByteBuffer.allocateDirect(1024);\n            int opc=-1;\n            while (true) {\n                // bloquea el programa hasta que un canal este listo para ejecutar una operacion\n                selector.select(5000);// espera 5 segundos por la conexión\n                // Obtén las llaves asociadas al selector\n                // C:\\Users\\datre\\OneDrive\\Documentos\\Eclipse\\Redes2\\archivos\n                Set sk = selector.selectedKeys();\n                Iterator it = sk.iterator();\n                while (it.hasNext()) {\n                    SelectionKey key = (SelectionKey) it.next();\n                    it.remove();\n                    //key.interestOps(SelectionKey.OP_READ);\n                    if (key.isWritable()) {\n                        System.out.print(&quot;It's writable server\\n&quot;);\n                        if(opc == 1) {//Listar archivos\n                            //ENVIAR OPC\n                            ByteBuffer tamBuffer = ByteBuffer.allocate(4);\n                            tamBuffer.asIntBuffer().put(opc);\n                            tamBuffer.rewind();\n                            SocketAddress client = canal.receive(buffer);\n                            canal.send(tamBuffer,dir);\n                            //LISTA DE ARCHIVOS\n                            System.out.print(&quot;Listar archivos\\n&quot;);\n                        } else if(opc == 2) {//Leer archivo\n                            //ENV OPC\n                            //ENVIAR ARCHIVO\n                            System.out.print(&quot;Leer archivos\\n&quot;);\n                        }\n                        key.interestOps(SelectionKey.OP_READ);\n                        //ready (canal,dir);\n                        //System.exit(0);\n                        //canal.close();\n                    } // if\n                    else if (key.isReadable()) {\n                        System.out.println(&quot;Is readable server: getting option&quot;);\n                        ByteBuffer b = ByteBuffer.allocate(4);\n                        b.clear();\n                        SocketAddress client = canal.receive(b);\n                        b.flip();\n                        opc = b.getInt();\n                        System.out.println(&quot;Opc : &quot; + opc + &quot;\\n&quot;);\n                        key.interestOps(SelectionKey.OP_WRITE);\n                    } // if\n                } // while2\n            } // while\n        } catch (IOException e) {\n            System.err.println(e);\n        } // catch\n    }// main\n    \n    private static void ready(DatagramChannel channel, SocketAddress serverAddress) {\n        System.out.println(&quot;Sending filename\\n&quot;);\n        try {\n            String fileName;\n\n            File f = new File(&quot;C:\\\\Users\\\\datre\\\\OneDrive\\\\Documentos\\\\IA\\\\Estacionamiento1.pdf&quot;);\n            fileName = f.getName();\n\n            ByteBuffer buf = ByteBuffer.allocate(1024);\n            buf.clear();\n            buf.put(fileName.getBytes());\n            buf.flip();\n\n            channel.send(buf,serverAddress); // Sending the packet with the file name\n            //channel.write(buf);\n            //channel.close();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            System.exit(1);\n        }\n    }\n    \n    \n}//class\n</code></pre>\n<p>Server</p>\n<pre><code>package main;\n\n\nimport java.net.*;\nimport java.io.*;\nimport java.nio.*;\nimport java.nio.channels.*;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.util.*;\n\nimport javax.swing.JFileChooser;\nimport javax.swing.filechooser.FileSystemView;\n\npublic class Client {\n    private final static int LIMITE = 100;\n\n    public static void main(String[] args) {\n        boolean bandera = false;\n\n        try {\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n            System.out.printf(&quot;Escriba la dirección del servidor:&quot;);\n            String host = br.readLine();\n            System.out.printf(&quot;\\nEscriba el puerto:&quot;);\n            int pto = Integer.parseInt(br.readLine());\n            SocketAddress remoto = new InetSocketAddress(host, pto);\n            // Crea canal\n            DatagramChannel canal = DatagramChannel.open();\n            canal.configureBlocking(false);\n            // Conecta el canal al socket\n            canal.connect(remoto);\n            // Crea selector\n            Selector selector = Selector.open();\n            // Registra el selector para esperar la operacion de OP_WRITE\n            canal.register(selector, SelectionKey.OP_WRITE);\n            // Crea un buffer de 4 bytes\n            //ByteBuffer buffer = ByteBuffer.allocateDirect(4);\n            //Server route\n            String serverRoute = &quot;C:\\\\Users\\\\datre\\\\OneDrive\\\\Documentos\\\\Eclipse\\\\TrustworthyUDPChannel&quot;; \n            int o=1;\n            while (true) {\n                // bloquea el programa hasta que un canal este listo para ejecutar una operacion\n                selector.select(5000); // espera 5 segundos por la conexión\n                // Obten el conjunto de keys del selector\n                Set sk = selector.selectedKeys();\n                Iterator it = sk.iterator();\n                while (it.hasNext()) {\n                    SelectionKey key = (SelectionKey) it.next();\n                    it.remove();\n                    //key.interestOps(SelectionKey.OP_READ);\n                    if (key.isReadable()) {\n                        System.out.println(&quot;It's readable client&quot;);\n                        ByteBuffer b = ByteBuffer.allocate(4);\n                        b.clear();\n                        SocketAddress client = canal.receive(b);\n                        b.flip();\n                        int opc = b.getInt();\n                        System.out.println(&quot;Opc : &quot; + opc + &quot;\\n&quot;);\n                        //createFile (canal,serverRoute);\n                        //canal.close();\n                    } else if (key.isWritable()) {\n                        System.out.println(&quot;Is writable client: sending option&quot;);\n                        if(o ==  1)//Listar archivos\n                        {\n                            ByteBuffer tamBuffer = ByteBuffer.allocate(4);\n                            tamBuffer.asIntBuffer().put(1);\n                            tamBuffer.rewind();\n                            canal.send(tamBuffer,remoto);\n                        } else if(o == 2)// Descargar archivo\n                        {\n                            ByteBuffer tamBuffer = ByteBuffer.allocate(4);\n                            tamBuffer.asIntBuffer().put(2);\n                            tamBuffer.rewind();\n                            canal.send(tamBuffer,remoto);   \n                        }\n                        key.interestOps(SelectionKey.OP_READ);\n                    } \n                } // while\n            } // while\n        } catch (Exception e) {\n            System.err.println(e);\n        } // catch\n    }// main\n    \n    public static void createFile (DatagramChannel channel, String serverRoute){\n        try{\n            ByteBuffer buffer = ByteBuffer.allocate(1024);\n            channel.receive(buffer); // Receive the datagram with the name of the file\n            System.out.println(&quot;Receiving file name&quot;);\n            buffer.flip();\n            byte[] bytes = new byte[buffer.remaining()];\n            buffer.get(bytes);\n            String fileName = new String(bytes);\n            File f = new File (serverRoute+&quot;\\\\&quot;+fileName); // Creating the file\n            System.out.print(fileName+ &quot;\\n&quot; + f + &quot;\\n&quot;);\n            FileOutputStream outToFile = new FileOutputStream(f); // Creating the stream through which we write the file content\n            //receiveFile(outToFile, socket); // Receiving the file\n        }catch(Exception ex){\n            ex.printStackTrace();\n            System.exit(1);\n        }   \n    }\n    \n\n\n}// class\n</code></pre>\n<p>I tried to use write instead but I get a different error</p>\n<p>java.net.PortUnreachableException</p>\n"},{"tags":["java","generics","arraylist"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676078525,"creation_date":1676078031,"answer_id":75417502,"question_id":75413505,"body_markdown":"Wrong brackets :-)\r\n\r\nYou are trying to create an array &quot;ArrayList[arraySize]&quot; instead of an instance of ArrayList with an initial size\r\n\r\n    new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[arraySize];\r\n\r\nI think what you are trying to do is\r\n\r\n    new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;(someInitialListSize);\r\n\r\nBut without knowing exactly what type &quot;this.next&quot; is (maybe it really is  SkipNode&lt;T&gt;[]?), it is hard to be sure.","title":"How to Properly Setup Generic ArrayLists in Java (based on SkipLists)","body":"<p>Wrong brackets :-)</p>\n<p>You are trying to create an array &quot;ArrayList[arraySize]&quot; instead of an instance of ArrayList with an initial size</p>\n<pre><code>new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[arraySize];\n</code></pre>\n<p>I think what you are trying to do is</p>\n<pre><code>new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;(someInitialListSize);\n</code></pre>\n<p>But without knowing exactly what type &quot;this.next&quot; is (maybe it really is  SkipNode[]?), it is hard to be sure.</p>\n"}],"owner":{"account_id":17065960,"reputation":69,"user_id":12348133,"display_name":"CodedRoses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75417502,"answer_count":1,"score":0,"last_activity_date":1676078525,"creation_date":1676045319,"question_id":75413505,"body_markdown":"I&#39;m *trying* to code up SkipLists as I just learned about the data structure.\r\n\r\n**Main Question:** How do I properly setup a Generic ArrayList for SkipLists?\r\n\r\nSo far, I&#39;ve learned java does not like generic arrays for example:\r\n```\r\nSkippyList.java:138: error: generic array creation\r\n                SkipNode&lt;T&gt;[] criticalPoints = (SkipNode&lt;T&gt;[]) new SkipNode&lt;T&gt;[height];\r\n```\r\nSo now I&#39;m trying to use ArrayLists to hold these generic types. I&#39;ve been scouring the internet and haven&#39;t been able to find a solution that works.\r\nI&#39;ve tried setting up the ArrayList (as a global variable) like `ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[] next;`\r\n\r\nThen in a function such as this one declare it like such:\r\n```\r\n\t// Constructor for a node with data, but not wired in.\r\n\tpublic SkipNode(AnyType data, int height)\r\n\t{\r\n\t\tthis.data = data;\r\n\t\tthis.height = height;\r\n\t\tthis.next = new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[height];\r\n\t\tfor (int i = 0; i &lt;= height; i++)\r\n\t\t\tthis.next[i] = null;\r\n\t}\r\n```\r\nBut then I end up with another error such as this one:\r\n```\r\nSkippyList.java:14: error: generic array creation\r\n                this.next = new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[height];\r\n```\r\n\r\nFor reference the (not updated) constructor for (some) of the nodes:\r\n```\r\n\t// Constructor for the head node\r\n\tpublic SkipNode(int height)\r\n\t{\r\n\t\tthis.data = null;\r\n\t\tthis.next = (SkipNode&lt;AnyType&gt;[]) new SkipNode[height];\r\n\t\tfor (int i = 0; i &lt;= height; i++)\r\n\t\t\tthis.next[i] = null;\r\n\t}\r\n```\r\n\r\nI know it is possible, do I need to include the `&lt;AnyType&gt;` (because I&#39;ve tried to leave it off and still recieve the same result) or am I just improperly creating a Generic ArrayList?\r\n\r\nThank you for any insight!","title":"How to Properly Setup Generic ArrayLists in Java (based on SkipLists)","body":"<p>I'm <em>trying</em> to code up SkipLists as I just learned about the data structure.</p>\n<p><strong>Main Question:</strong> How do I properly setup a Generic ArrayList for SkipLists?</p>\n<p>So far, I've learned java does not like generic arrays for example:</p>\n<pre><code>SkippyList.java:138: error: generic array creation\n                SkipNode&lt;T&gt;[] criticalPoints = (SkipNode&lt;T&gt;[]) new SkipNode&lt;T&gt;[height];\n</code></pre>\n<p>So now I'm trying to use ArrayLists to hold these generic types. I've been scouring the internet and haven't been able to find a solution that works.\nI've tried setting up the ArrayList (as a global variable) like <code>ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[] next;</code></p>\n<p>Then in a function such as this one declare it like such:</p>\n<pre><code>    // Constructor for a node with data, but not wired in.\n    public SkipNode(AnyType data, int height)\n    {\n        this.data = data;\n        this.height = height;\n        this.next = new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[height];\n        for (int i = 0; i &lt;= height; i++)\n            this.next[i] = null;\n    }\n</code></pre>\n<p>But then I end up with another error such as this one:</p>\n<pre><code>SkippyList.java:14: error: generic array creation\n                this.next = new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[height];\n</code></pre>\n<p>For reference the (not updated) constructor for (some) of the nodes:</p>\n<pre><code>    // Constructor for the head node\n    public SkipNode(int height)\n    {\n        this.data = null;\n        this.next = (SkipNode&lt;AnyType&gt;[]) new SkipNode[height];\n        for (int i = 0; i &lt;= height; i++)\n            this.next[i] = null;\n    }\n</code></pre>\n<p>I know it is possible, do I need to include the <code>&lt;AnyType&gt;</code> (because I've tried to leave it off and still recieve the same result) or am I just improperly creating a Generic ArrayList?</p>\n<p>Thank you for any insight!</p>\n"},{"tags":["java","spring-boot","spring-security","jsr250"],"comments":[{"owner":{"account_id":1731528,"reputation":1442,"user_id":1585041,"accept_rate":78,"display_name":"Artenes Nogueira"},"score":0,"creation_date":1675905196,"post_id":74898054,"comment_id":133030554,"body_markdown":"You can check my answer in this question for a possible solution: https://stackoverflow.com/questions/74763256/accessdecisionvoter-deprecated-with-spring-security-6-x/75393249#75393249","body":"You can check my answer in this question for a possible solution: <a href=\"https://stackoverflow.com/questions/74763256/accessdecisionvoter-deprecated-with-spring-security-6-x/75393249#75393249\" title=\"accessdecisionvoter deprecated with spring security 6 x\">stackoverflow.com/questions/74763256/&hellip;</a>"},{"owner":{"account_id":27334321,"reputation":31,"user_id":20845995,"display_name":"cjtfd"},"score":0,"creation_date":1675954737,"post_id":74898054,"comment_id":133042340,"body_markdown":"@ArtenesNogueira I tried your answer and it works only as long as I don&#39;t add any JSR250 annotations to my controller. Any idea on how to go about adding the hierarchy to the jsr manager specifically?","body":"@ArtenesNogueira I tried your answer and it works only as long as I don&#39;t add any JSR250 annotations to my controller. Any idea on how to go about adding the hierarchy to the jsr manager specifically?"}],"answers":[{"comments":[{"owner":{"account_id":27334321,"reputation":31,"user_id":20845995,"display_name":"cjtfd"},"score":0,"creation_date":1676281893,"post_id":75417521,"comment_id":133098823,"body_markdown":"Thanks for the suggestion. I figured that it might not be possible to do without copying code but I asked this question in the hopes to avoid it.","body":"Thanks for the suggestion. I figured that it might not be possible to do without copying code but I asked this question in the hopes to avoid it."},{"owner":{"account_id":1731528,"reputation":1442,"user_id":1585041,"accept_rate":78,"display_name":"Artenes Nogueira"},"score":1,"creation_date":1676322698,"post_id":75417521,"comment_id":133110758,"body_markdown":"@cjtfd yeah, after reading the source code for this feature in the security lib I saw how everything was hardcoded without any option for customization, so the only solution for now is to just override the bean with a custom implementation, which kinda sucks, but it is what it is.","body":"@cjtfd yeah, after reading the source code for this feature in the security lib I saw how everything was hardcoded without any option for customization, so the only solution for now is to just override the bean with a custom implementation, which kinda sucks, but it is what it is."}],"tags":[],"owner":{"account_id":1731528,"reputation":1442,"user_id":1585041,"accept_rate":78,"display_name":"Artenes Nogueira"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676078242,"creation_date":1676078242,"answer_id":75417521,"question_id":74898054,"body_markdown":"Unfortunately there is no support to add role hierarchy to JSR250 manager. But there is a workaround that basically clones the library&#39;s implementation. At this point it makes more sense to drop JSR250 since you will be just replicating the logic from the libs to your code base, but if you want to do it anyway, just follow these instructions:\r\n\r\n1. Create a custom manager that will deal with the JSR250 annotations:\r\n\r\n````java\r\npublic class Jsr250CustomAuthorizationManager implements AuthorizationManager&lt;MethodInvocation&gt; {\r\n\r\n    static final AuthorizationManager&lt;MethodInvocation&gt; NULL_MANAGER = (a, o) -&gt; null;\r\n\r\n    private final RoleHierarchy roleHierarchy;\r\n\r\n    public Jsr250CustomAuthorizationManager(RoleHierarchy roleHierarchy) {\r\n        this.roleHierarchy = roleHierarchy;\r\n    }\r\n\r\n    @Override\r\n    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, MethodInvocation methodInvocation) {\r\n        var manager = resolveManager(methodInvocation);\r\n        return manager.check(authentication, methodInvocation);\r\n    }\r\n\r\n    public AuthorizationManager&lt;MethodInvocation&gt; resolveManager(MethodInvocation methodInvocation) {\r\n        if (hasDenyAll(methodInvocation)) {\r\n            return (a, o) -&gt; new AuthorizationDecision(false);\r\n        }\r\n\r\n        if (hasPermitAll(methodInvocation)) {\r\n            return (a, o) -&gt; new AuthorizationDecision(true);\r\n        }\r\n\r\n        if (hasRolesAllowed(methodInvocation)) {\r\n            var rolesAllowed = (RolesAllowed) methodInvocation.getMethod().getAnnotation(RolesAllowed.class);\r\n            var manager = AuthorityAuthorizationManager.&lt;MethodInvocation&gt;hasAnyRole(rolesAllowed.value());\r\n            manager.setRoleHierarchy(roleHierarchy);\r\n            return manager;\r\n        }\r\n\r\n        return NULL_MANAGER;\r\n    }\r\n\r\n    public boolean hasDenyAll(MethodInvocation methodInvocation) {\r\n        return methodInvocation.getMethod().getAnnotation(DenyAll.class) != null;\r\n    }\r\n\r\n    public boolean hasPermitAll(MethodInvocation methodInvocation) {\r\n        return methodInvocation.getMethod().getAnnotation(PermitAll.class) != null;\r\n    }\r\n\r\n    public boolean hasRolesAllowed(MethodInvocation methodInvocation) {\r\n        return methodInvocation.getMethod().getAnnotation(RolesAllowed.class) != null;\r\n    }\r\n\r\n}\r\n\r\n````\r\n\r\nYou can just copy and paste the code above into a new class in your code, this is a class that I made myself based on the one that exists in the spring security lib.\r\n\r\n2. expose this new instance as a bean of type `Advisor`:\r\n\r\n````java\r\n@EnableMethodSecurity(jsr250Enabled = true)\r\npublic class MethodSecuritytConfiguration {\r\n\r\n    @Bean\r\n    public Advisor jsr250AuthorizationMethodInterceptor() {\r\n        RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\r\n        roleHierarchy.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_USER&quot;);\r\n        var manager = new Jsr250CustomAuthorizationManager(roleHierarchy);\r\n        return AuthorizationManagerBeforeMethodInterceptor.jsr250(manager);\r\n    }\r\n\r\n}\r\n````\r\n\r\n3. In case you are using `@EnableMethodSecurity(jsr250Enabled = true)`, you will also need to add this configuration to your `application.properties`:\r\n\r\n````\r\nspring.main.allow-bean-definition-overriding=true\r\n````\r\n\r\nThis will allow to override a bean that is defined in the security lib that deals with JSR250 annotations. Because this bean&#39;s configuration is hardcoded in the lib wihtout exposing a way to change it, we have to override it altogheter to add the behavior we need. Note that the name of your bean needs to be `jsr250AuthorizationMethodInterceptor` to override the one (with same name) from the security lib. If you remove the `jsr250Enabled` configuration from `EnableMethodSecurity`, then you can name your bean anything you want and remove the configuration from `application.properties`.","title":"Configure JSR250 role hierarchy in Spring 6","body":"<p>Unfortunately there is no support to add role hierarchy to JSR250 manager. But there is a workaround that basically clones the library's implementation. At this point it makes more sense to drop JSR250 since you will be just replicating the logic from the libs to your code base, but if you want to do it anyway, just follow these instructions:</p>\n<ol>\n<li>Create a custom manager that will deal with the JSR250 annotations:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Jsr250CustomAuthorizationManager implements AuthorizationManager&lt;MethodInvocation&gt; {\n\n    static final AuthorizationManager&lt;MethodInvocation&gt; NULL_MANAGER = (a, o) -&gt; null;\n\n    private final RoleHierarchy roleHierarchy;\n\n    public Jsr250CustomAuthorizationManager(RoleHierarchy roleHierarchy) {\n        this.roleHierarchy = roleHierarchy;\n    }\n\n    @Override\n    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, MethodInvocation methodInvocation) {\n        var manager = resolveManager(methodInvocation);\n        return manager.check(authentication, methodInvocation);\n    }\n\n    public AuthorizationManager&lt;MethodInvocation&gt; resolveManager(MethodInvocation methodInvocation) {\n        if (hasDenyAll(methodInvocation)) {\n            return (a, o) -&gt; new AuthorizationDecision(false);\n        }\n\n        if (hasPermitAll(methodInvocation)) {\n            return (a, o) -&gt; new AuthorizationDecision(true);\n        }\n\n        if (hasRolesAllowed(methodInvocation)) {\n            var rolesAllowed = (RolesAllowed) methodInvocation.getMethod().getAnnotation(RolesAllowed.class);\n            var manager = AuthorityAuthorizationManager.&lt;MethodInvocation&gt;hasAnyRole(rolesAllowed.value());\n            manager.setRoleHierarchy(roleHierarchy);\n            return manager;\n        }\n\n        return NULL_MANAGER;\n    }\n\n    public boolean hasDenyAll(MethodInvocation methodInvocation) {\n        return methodInvocation.getMethod().getAnnotation(DenyAll.class) != null;\n    }\n\n    public boolean hasPermitAll(MethodInvocation methodInvocation) {\n        return methodInvocation.getMethod().getAnnotation(PermitAll.class) != null;\n    }\n\n    public boolean hasRolesAllowed(MethodInvocation methodInvocation) {\n        return methodInvocation.getMethod().getAnnotation(RolesAllowed.class) != null;\n    }\n\n}\n\n</code></pre>\n<p>You can just copy and paste the code above into a new class in your code, this is a class that I made myself based on the one that exists in the spring security lib.</p>\n<ol start=\"2\">\n<li>expose this new instance as a bean of type <code>Advisor</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableMethodSecurity(jsr250Enabled = true)\npublic class MethodSecuritytConfiguration {\n\n    @Bean\n    public Advisor jsr250AuthorizationMethodInterceptor() {\n        RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\n        roleHierarchy.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_USER&quot;);\n        var manager = new Jsr250CustomAuthorizationManager(roleHierarchy);\n        return AuthorizationManagerBeforeMethodInterceptor.jsr250(manager);\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>In case you are using <code>@EnableMethodSecurity(jsr250Enabled = true)</code>, you will also need to add this configuration to your <code>application.properties</code>:</li>\n</ol>\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n<p>This will allow to override a bean that is defined in the security lib that deals with JSR250 annotations. Because this bean's configuration is hardcoded in the lib wihtout exposing a way to change it, we have to override it altogheter to add the behavior we need. Note that the name of your bean needs to be <code>jsr250AuthorizationMethodInterceptor</code> to override the one (with same name) from the security lib. If you remove the <code>jsr250Enabled</code> configuration from <code>EnableMethodSecurity</code>, then you can name your bean anything you want and remove the configuration from <code>application.properties</code>.</p>\n"}],"owner":{"account_id":27334321,"reputation":31,"user_id":20845995,"display_name":"cjtfd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676078242,"creation_date":1671787514,"question_id":74898054,"body_markdown":"When updating to Spring Security 6, the JSR250 annotation `@RolesAllowed` on my `@RestController` doesn&#39;t take the defined `roleHierarchy` into account.\r\n\r\nRelated to: https://stackoverflow.com/questions/74763256/accessdecisionvoter-deprecated-with-spring-security-6-x\r\n\r\nSince Spring Security 6, the `AccessDecisionVoter` is deprecated and the suggested way, from the thread above, is to &quot;simply expose a `expressionHandler`&quot;. This didn&#39;t work for me with JSR250 enabled.\r\n\r\n```java\r\n@Bean\r\npublic DefaultMethodSecurityExpressionHandler expressionHandler() {\r\n\tDefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\r\n\texpressionHandler.setRoleHierarchy(roleHierarchy());\r\n\treturn expressionHandler;\r\n}\r\n\r\n@Bean\r\npublic RoleHierarchy roleHierarchy() {\r\n\tRoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\r\n\tString hierarchy = &quot;a &gt; b&quot;;\r\n\troleHierarchy.setHierarchy(hierarchy);\r\n\treturn roleHierarchy;\r\n}\r\n```\r\n\r\nIt seems like the created `AuthorityAuthorizationManager` by `Jsr250AuthorizationManagerRegistry.resolveManager` for `RolesAllowed` doesn&#39;t take the `expressionHandler` nor `DefaultMethodSecurityExpressionHandler` into account.\r\n\r\nThe `AuthorityAuthorizationManager` does have a field for a `roleHierarchy` to be set, but I couldn&#39;t figure out how or when this is supposed to be called.\r\n\r\nI would have commented on the related post above but unfortunately I don&#39;t have the required reputation.","title":"Configure JSR250 role hierarchy in Spring 6","body":"<p>When updating to Spring Security 6, the JSR250 annotation <code>@RolesAllowed</code> on my <code>@RestController</code> doesn't take the defined <code>roleHierarchy</code> into account.</p>\n<p>Related to: <a href=\"https://stackoverflow.com/questions/74763256/accessdecisionvoter-deprecated-with-spring-security-6-x\">AccessDecisionVoter Deprecated with Spring Security 6.x</a></p>\n<p>Since Spring Security 6, the <code>AccessDecisionVoter</code> is deprecated and the suggested way, from the thread above, is to &quot;simply expose a <code>expressionHandler</code>&quot;. This didn't work for me with JSR250 enabled.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic DefaultMethodSecurityExpressionHandler expressionHandler() {\n    DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\n    expressionHandler.setRoleHierarchy(roleHierarchy());\n    return expressionHandler;\n}\n\n@Bean\npublic RoleHierarchy roleHierarchy() {\n    RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\n    String hierarchy = &quot;a &gt; b&quot;;\n    roleHierarchy.setHierarchy(hierarchy);\n    return roleHierarchy;\n}\n</code></pre>\n<p>It seems like the created <code>AuthorityAuthorizationManager</code> by <code>Jsr250AuthorizationManagerRegistry.resolveManager</code> for <code>RolesAllowed</code> doesn't take the <code>expressionHandler</code> nor <code>DefaultMethodSecurityExpressionHandler</code> into account.</p>\n<p>The <code>AuthorityAuthorizationManager</code> does have a field for a <code>roleHierarchy</code> to be set, but I couldn't figure out how or when this is supposed to be called.</p>\n<p>I would have commented on the related post above but unfortunately I don't have the required reputation.</p>\n"},{"tags":["java","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676078109,"creation_date":1676078109,"answer_id":75417512,"question_id":75417294,"body_markdown":"Yes, there is a way to do what you want.  It&#39;s called an `Answer`, which is a way of specifying a method to run when a mock is used, instead of specifying just a return value.  Even a simple lambda expression can be used as an `Answer`.\r\n\r\nThe code that you&#39;ve written evaluates `ob.getParam()`, and passes the result to `thenReturn`, which is not what you want.  You want something like this.\r\n\r\n    when(otherClassMock.otherMethod()).thenAnswer(invocation -&gt; ob.getParam());\r\n\r\nThis way, `ob.getParam()` will be evaluated at the time that `otherClassMock.otherMethod()` is called.","title":"Mockito returning a value getting updated on the fly","body":"<p>Yes, there is a way to do what you want.  It's called an <code>Answer</code>, which is a way of specifying a method to run when a mock is used, instead of specifying just a return value.  Even a simple lambda expression can be used as an <code>Answer</code>.</p>\n<p>The code that you've written evaluates <code>ob.getParam()</code>, and passes the result to <code>thenReturn</code>, which is not what you want.  You want something like this.</p>\n<pre><code>when(otherClassMock.otherMethod()).thenAnswer(invocation -&gt; ob.getParam());\n</code></pre>\n<p>This way, <code>ob.getParam()</code> will be evaluated at the time that <code>otherClassMock.otherMethod()</code> is called.</p>\n"}],"owner":{"account_id":27757399,"reputation":3,"user_id":21190525,"display_name":"Ron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75417512,"answer_count":1,"score":0,"last_activity_date":1676078109,"creation_date":1676075073,"question_id":75417294,"body_markdown":"I am trying to test a class using Mockito.\r\n\r\n```\r\n@Mock otherClassMock;\r\nMyclass ob = new Myclass(otherClassMock, ...)\r\n\r\n@Test\r\nvoid test() {\r\n  ob.setParam(5);\r\n  when(otherClassMock.otherMethod()).thenReturn(ob.getParam());\r\n  ob.myMethod();// internally updates Param and calls otherObject.otherMethod()\r\n}\r\n```\r\nNow `myMethod()` internally changes value of `Param` and calls `otherMethod()` , but `thenReturn()` returns the old value of 5. Is there a way to get the updated value in the `thenReturn()` ?\r\n","title":"Mockito returning a value getting updated on the fly","body":"<p>I am trying to test a class using Mockito.</p>\n<pre><code>@Mock otherClassMock;\nMyclass ob = new Myclass(otherClassMock, ...)\n\n@Test\nvoid test() {\n  ob.setParam(5);\n  when(otherClassMock.otherMethod()).thenReturn(ob.getParam());\n  ob.myMethod();// internally updates Param and calls otherObject.otherMethod()\n}\n</code></pre>\n<p>Now <code>myMethod()</code> internally changes value of <code>Param</code> and calls <code>otherMethod()</code> , but <code>thenReturn()</code> returns the old value of 5. Is there a way to get the updated value in the <code>thenReturn()</code> ?</p>\n"},{"tags":["java","spring","jpa","equals","lombok"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676073238,"post_id":75415002,"comment_id":133071111,"body_markdown":"Are you asking about automated testing of `.equals (Object o)` and of `hashCode()`? Or automated generation of those methods? if the latter, check your IDE for a tool that will generate those two methods.","body":"Are you asking about automated testing of <code>.equals (Object o)</code> and of <code>hashCode()</code>? Or automated generation of those methods? if the latter, check your IDE for a tool that will generate those two methods."},{"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"score":0,"creation_date":1676207564,"post_id":75415002,"comment_id":133087122,"body_markdown":"I&#39;m asking about correct implementations of these methods. It doesn&#39;t make sense will be it automatic or manual. Testing only verifies that they were implemented correctly","body":"I&#39;m asking about correct implementations of these methods. It doesn&#39;t make sense will be it automatic or manual. Testing only verifies that they were implemented correctly"}],"answers":[{"comments":[{"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"score":0,"creation_date":1676207665,"post_id":75417381,"comment_id":133087144,"body_markdown":"So, am I right you mean that for REST DTO we shoukd use @Data (we OK with generation by lombok using all fields in class). And for JPA DTO we should use in equals only PK and some constant in hashcode?","body":"So, am I right you mean that for REST DTO we shoukd use @Data (we OK with generation by lombok using all fields in class). And for JPA DTO we should use in equals only PK and some constant in hashcode?"}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676076826,"creation_date":1676076218,"answer_id":75417381,"question_id":75415002,"body_markdown":"I think that the assumption in the post @DZone has a fundamental issue. I think they are mixing DTOs (JPA) with the &quot;live&quot; objects in their application model.\r\n\r\nThe Entity going into or being retrieved via JPA is a DTO @Value object and not a @Data Object.\r\n\r\nAn application should map it&#39;s &quot;application model&quot; to the externalized DTOs, regardless if they are a &quot;REST DTO&quot; or a &quot;JPA DTO&quot;.\r\n\r\nFor a JPA get and save to compare changes, you shouldn&#39;t simply change the fields in the DTO, because that is not what the database knows.","title":"Best practice for implementation equals and hashcode","body":"<p>I think that the assumption in the post @DZone has a fundamental issue. I think they are mixing DTOs (JPA) with the &quot;live&quot; objects in their application model.</p>\n<p>The Entity going into or being retrieved via JPA is a DTO @Value object and not a @Data Object.</p>\n<p>An application should map it's &quot;application model&quot; to the externalized DTOs, regardless if they are a &quot;REST DTO&quot; or a &quot;JPA DTO&quot;.</p>\n<p>For a JPA get and save to compare changes, you shouldn't simply change the fields in the DTO, because that is not what the database knows.</p>\n"}],"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676076826,"creation_date":1676054725,"question_id":75415002,"body_markdown":"I&#39;ve revealed that @Data annotation in Lombok is bad practice now when we use JPA https://dzone.com/articles/lombok-and-jpa-what-may-go-wrong\r\n\r\nSo what is the best practice for implementation of these methods for class like:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @NotNull\r\n    private Long id;\r\n\r\n    private String value;\r\n}\r\n```\r\n\r\nMaybe this variant?\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @NotNull\r\n    private Long id;\r\n\r\n    private String value;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o)\r\n            return true;\r\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o))\r\n            return false;\r\n        User that = (User) o;\r\n        return id != null &amp;&amp; Objects.equals(id, that.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n}\r\n```\r\n\r\nAnd implementation such methods by manual require test coverage. Are there some automation possibilities? Maybe this one? https://jqno.nl/equalsverifier/\r\n","title":"Best practice for implementation equals and hashcode","body":"<p>I've revealed that @Data annotation in Lombok is bad practice now when we use JPA <a href=\"https://dzone.com/articles/lombok-and-jpa-what-may-go-wrong\" rel=\"nofollow noreferrer\">https://dzone.com/articles/lombok-and-jpa-what-may-go-wrong</a></p>\n<p>So what is the best practice for implementation of these methods for class like:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class User {\n    @Id\n    @NotNull\n    private Long id;\n\n    private String value;\n}\n</code></pre>\n<p>Maybe this variant?</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class User {\n    @Id\n    @NotNull\n    private Long id;\n\n    private String value;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o)\n            return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o))\n            return false;\n        User that = (User) o;\n        return id != null &amp;&amp; Objects.equals(id, that.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n<p>And implementation such methods by manual require test coverage. Are there some automation possibilities? Maybe this one? <a href=\"https://jqno.nl/equalsverifier/\" rel=\"nofollow noreferrer\">https://jqno.nl/equalsverifier/</a></p>\n"},{"tags":["java","phone-number","libphonenumber"],"answers":[{"comments":[{"owner":{"account_id":280002,"reputation":4428,"user_id":575458,"accept_rate":78,"display_name":"RedEagle"},"score":0,"creation_date":1487593580,"post_id":41640609,"comment_id":71840296,"body_markdown":"I don&#39;t have that class. I&#39;m using libphonenumber-7.7.5.jar","body":"I don&#39;t have that class. I&#39;m using libphonenumber-7.7.5.jar"},{"owner":{"account_id":5219059,"reputation":2638,"user_id":4173063,"accept_rate":92,"display_name":"Srikanth Balaji"},"score":0,"creation_date":1487642236,"post_id":41640609,"comment_id":71865456,"body_markdown":"You need carrier jar - you can use from here , http://repo1.maven.org/maven2/com/googlecode/libphonenumber/carrier/1.10/","body":"You need carrier jar - you can use from here , <a href=\"http://repo1.maven.org/maven2/com/googlecode/libphonenumber/carrier/1.10/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/googlecode/libphonenumber/carrier&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":280002,"reputation":4428,"user_id":575458,"accept_rate":78,"display_name":"RedEagle"},"score":0,"creation_date":1488158141,"post_id":41640609,"comment_id":72093148,"body_markdown":"Worked perfectly... Thanks","body":"Worked perfectly... Thanks"}],"tags":[],"owner":{"account_id":5219059,"reputation":2638,"user_id":4173063,"accept_rate":92,"display_name":"Srikanth Balaji"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1625604511,"creation_date":1484329935,"answer_id":41640609,"question_id":41640467,"body_markdown":"This should help your case - `PhoneNumberToCarrierMapper`\r\n\r\n - [com.google.i18n.phonenumber.PhoneNumberToCarrierMapper][1]\r\n\r\nIn the `PhoneNumberToCarrierMapper` class there is a method:\r\n\r\n    String getNameForValidNumber(PhoneNumber number, Locale languageCode)\r\n\r\nThis should give your the carrier code.  \r\nYou can see the source code of that method in the related GitHub repository [here][2].\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.googlecode.libphonenumber/carrier/latest/com/google/i18n/phonenumbers/PhoneNumberToCarrierMapper.html\r\n  [2]: https://github.com/google/libphonenumber/blob/332e0465bed1c32d4e863e6616e469884ed7f882/java/carrier/src/com/google/i18n/phonenumbers/PhoneNumberToCarrierMapper.java#L73","title":"Determine national carrier code using libphonenumber","body":"<p>This should help your case - <code>PhoneNumberToCarrierMapper</code></p>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/com.googlecode.libphonenumber/carrier/latest/com/google/i18n/phonenumbers/PhoneNumberToCarrierMapper.html\" rel=\"nofollow noreferrer\">com.google.i18n.phonenumber.PhoneNumberToCarrierMapper</a></li>\n</ul>\n<p>In the <code>PhoneNumberToCarrierMapper</code> class there is a method:</p>\n<pre><code>String getNameForValidNumber(PhoneNumber number, Locale languageCode)\n</code></pre>\n<p>This should give your the carrier code.<br />\nYou can see the source code of that method in the related GitHub repository <a href=\"https://github.com/google/libphonenumber/blob/332e0465bed1c32d4e863e6616e469884ed7f882/java/carrier/src/com/google/i18n/phonenumbers/PhoneNumberToCarrierMapper.java#L73\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10347723,"reputation":31,"user_id":7632113,"display_name":"Ramster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676072459,"creation_date":1676072459,"answer_id":75417109,"question_id":41640467,"body_markdown":"libphonenumber-8.13.6 doesn&#39;t seem to come packaged with PhoneNumberToCarrierMapper class. The import will not work for `com.google.i18n.phonenumbers.PhoneNumberToCarrierMapper`\r\n\r\nI had to add a separate jar to my build path to get this class to successfully import. If you are using maven, you would just need to add a new dependency to your pom file.\r\n\r\nhttps://repo1.maven.org/maven2/com/googlecode/libphonenumber/carrier/","title":"Determine national carrier code using libphonenumber","body":"<p>libphonenumber-8.13.6 doesn't seem to come packaged with PhoneNumberToCarrierMapper class. The import will not work for <code>com.google.i18n.phonenumbers.PhoneNumberToCarrierMapper</code></p>\n<p>I had to add a separate jar to my build path to get this class to successfully import. If you are using maven, you would just need to add a new dependency to your pom file.</p>\n<p><a href=\"https://repo1.maven.org/maven2/com/googlecode/libphonenumber/carrier/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/googlecode/libphonenumber/carrier/</a></p>\n"}],"owner":{"account_id":280002,"reputation":4428,"user_id":575458,"accept_rate":78,"display_name":"RedEagle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1748,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41640609,"answer_count":2,"score":3,"last_activity_date":1676072459,"creation_date":1484329431,"question_id":41640467,"body_markdown":"I need to determine the national carrier code (not the country code) of any phone number, using [libphonenumber][1] Java SDK. How can I do this?\r\n\r\n  [1]: https://github.com/googlei18n/libphonenumber","title":"Determine national carrier code using libphonenumber","body":"<p>I need to determine the national carrier code (not the country code) of any phone number, using <a href=\"https://github.com/googlei18n/libphonenumber\" rel=\"nofollow noreferrer\">libphonenumber</a> Java SDK. How can I do this?</p>\n"},{"tags":["java","data-structures","knn","nearest-neighbor","kdtree"],"answers":[{"comments":[{"owner":{"account_id":12139977,"reputation":5614,"user_id":8864226,"display_name":"James Risner"},"score":0,"creation_date":1676103752,"post_id":75417042,"comment_id":133073710,"body_markdown":"This first appeared to be follow up information. But on second thought it may be the answer? Please edit the answer to describe the linked code and how it solved the issue or edit the question to add more details.","body":"This first appeared to be follow up information. But on second thought it may be the answer? Please edit the answer to describe the linked code and how it solved the issue or edit the question to add more details."}],"tags":[],"owner":{"account_id":23781841,"reputation":1,"user_id":17794410,"display_name":"Iman barca"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":true,"score":-4,"last_activity_date":1676071600,"creation_date":1676071600,"answer_id":75417042,"question_id":75212165,"body_markdown":"At the end my **friend** help me!  \r\nFull source of project for answer this question and other questions about kdtree and its methods at https://github.com/Iman9mo/KDTree","title":"find m nearest neighbors in KD tree use java","body":"<p>At the end my <strong>friend</strong> help me!<br />\nFull source of project for answer this question and other questions about kdtree and its methods at <a href=\"https://github.com/Iman9mo/KDTree\" rel=\"nofollow noreferrer\">https://github.com/Iman9mo/KDTree</a></p>\n"}],"owner":{"account_id":23781841,"reputation":1,"user_id":17794410,"display_name":"Iman barca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75417042,"answer_count":1,"score":0,"last_activity_date":1676071600,"creation_date":1674490348,"question_id":75212165,"body_markdown":"I want to implement KD tree in java for a data structure project but I have problem with special method that this project wants. In below you can see the format of method that I want.\r\n```\r\nfloat[][] findMNearest(float[] point, int m) {}\r\n```\r\n\r\n\r\nI implement find nearest neighbor method but for m nearest neighbor I have problem and I can&#39;t understand algorithm for solution. \r\n[In this picture you can see my implementation for nearest neighbor.](https://i.stack.imgur.com/XthVK.png)\r\n\r\n```\r\njava\r\nprivate void nearest(KDNode root, KDNode target, int index) {\r\n        if (root == null)\r\n            return;\r\n        visited++;\r\n        float d = root.distance(target);\r\n        if (best == null || d &lt; bestDistance) {\r\n            bestDistance = d;\r\n            best = root;\r\n        }\r\n        if (bestDistance == 0)\r\n            return;\r\n        float dx = root.getCoordinates()[index] - target.getCoordinates()[index];\r\n        index = (index + 1) % k;\r\n        nearest(dx &gt; 0 ? root.getLeft() : root.getRight(), target, index);\r\n        if (dx * dx &gt;= bestDistance)\r\n            return;\r\n        nearest(dx &gt; 0 ? root.getRight() : root.getLeft(), target, index);\r\n    }\r\n```\r\n\r\nI don&#39;t want to use ready library, too.\r\n","title":"find m nearest neighbors in KD tree use java","body":"<p>I want to implement KD tree in java for a data structure project but I have problem with special method that this project wants. In below you can see the format of method that I want.</p>\n<pre><code>float[][] findMNearest(float[] point, int m) {}\n</code></pre>\n<p>I implement find nearest neighbor method but for m nearest neighbor I have problem and I can't understand algorithm for solution.\n<a href=\"https://i.stack.imgur.com/XthVK.png\" rel=\"nofollow noreferrer\">In this picture you can see my implementation for nearest neighbor.</a></p>\n<pre><code>java\nprivate void nearest(KDNode root, KDNode target, int index) {\n        if (root == null)\n            return;\n        visited++;\n        float d = root.distance(target);\n        if (best == null || d &lt; bestDistance) {\n            bestDistance = d;\n            best = root;\n        }\n        if (bestDistance == 0)\n            return;\n        float dx = root.getCoordinates()[index] - target.getCoordinates()[index];\n        index = (index + 1) % k;\n        nearest(dx &gt; 0 ? root.getLeft() : root.getRight(), target, index);\n        if (dx * dx &gt;= bestDistance)\n            return;\n        nearest(dx &gt; 0 ? root.getRight() : root.getLeft(), target, index);\n    }\n</code></pre>\n<p>I don't want to use ready library, too.</p>\n"},{"tags":["java","class","equals","equality"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640256850,"post_id":70461097,"comment_id":124554021,"body_markdown":"Override [`Object::equals`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) and [`Object::hashCode`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()) accordingly, or write a corresponding [`Comparator`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html).","body":"Override <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Object::equals</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\"><code>Object::hashCode</code></a> accordingly, or write a corresponding <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>."},{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1640257353,"post_id":70461097,"comment_id":124554191,"body_markdown":"[reflection](https://www.oracle.com/technical-resources/articles/java/javareflection.html)?","body":"<a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html\" rel=\"nofollow noreferrer\">reflection</a>?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640257676,"post_id":70461097,"comment_id":124554300,"body_markdown":"@fantaghirocco I would advice to use reflection only as a last resort.","body":"@fantaghirocco I would advice to use reflection only as a last resort."}],"answers":[{"comments":[{"owner":{"account_id":306611,"reputation":594,"user_id":617458,"accept_rate":89,"display_name":"tannerli"},"score":0,"creation_date":1640256991,"post_id":70461132,"comment_id":124554065,"body_markdown":"This seems to be exactly the strategy OP wanted to avoid, since there are supposedly many omitted fields in the class","body":"This seems to be exactly the strategy OP wanted to avoid, since there are supposedly many omitted fields in the class"},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":2,"creation_date":1640257174,"post_id":70461132,"comment_id":124554125,"body_markdown":"without comparing the valid fields one-o-one you cannot say that the object is equal or not.","body":"without comparing the valid fields one-o-one you cannot say that the object is equal or not."}],"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640256896,"creation_date":1640256896,"answer_id":70461132,"question_id":70461097,"body_markdown":"Try overriding equals method like below :\r\n\r\n    import java.util.Date;\r\n    import java.util.Objects;\r\n    \r\n    public final class Class1 {\r\n        private String a;\r\n        private String b;\r\n        private String c;\r\n        private String z;\r\n        private Date createdAt;\r\n        private Date updatedAt;\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Class1 class1 = (Class1) o;\r\n            return Objects.equals(a, class1.a) &amp;&amp; Objects.equals(b, class1.b) &amp;&amp; Objects.equals(c, class1.c) &amp;&amp; Objects.equals(z, class1.z);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(a, b, c, z);\r\n        }\r\n    }","title":"Compare two objects excluding some fields - Java","body":"<p>Try overriding equals method like below :</p>\n<pre><code>import java.util.Date;\nimport java.util.Objects;\n\npublic final class Class1 {\n    private String a;\n    private String b;\n    private String c;\n    private String z;\n    private Date createdAt;\n    private Date updatedAt;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Class1 class1 = (Class1) o;\n        return Objects.equals(a, class1.a) &amp;&amp; Objects.equals(b, class1.b) &amp;&amp; Objects.equals(c, class1.c) &amp;&amp; Objects.equals(z, class1.z);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(a, b, c, z);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1640257405,"creation_date":1640257405,"answer_id":70461224,"question_id":70461097,"body_markdown":"If overriding [`Object::equals`][ObjectEqualsApi] and [`Object::hashCode`][ObjectHashCodeApi] is not an option, we can use the [`Comparator` API][ComparatorApi] to construct a corresponding comparator:\r\n\r\n    final Comparator&lt;Class1&gt; comp = Comparator.comparing(Class1::getA)\r\n            .thenComparing(Class1::getB)\r\n            .thenComparing(Class1::getC)\r\n            .\r\n            .\r\n            .\r\n            .thenComparing(Class1::getZ);\r\n\r\nUnfortunately, there is no way to do this without comparing all fields that should be equal.\r\n\r\n[ObjectEqualsApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\r\n\r\n[ObjectHashCodeApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\r\n\r\n[ComparatorApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html","title":"Compare two objects excluding some fields - Java","body":"<p>If overriding <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"noreferrer\"><code>Object::equals</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>Object::hashCode</code></a> is not an option, we can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code> API</a> to construct a corresponding comparator:</p>\n<pre><code>final Comparator&lt;Class1&gt; comp = Comparator.comparing(Class1::getA)\n        .thenComparing(Class1::getB)\n        .thenComparing(Class1::getC)\n        .\n        .\n        .\n        .thenComparing(Class1::getZ);\n</code></pre>\n<p>Unfortunately, there is no way to do this without comparing all fields that should be equal.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640258486,"creation_date":1640258486,"answer_id":70461439,"question_id":70461097,"body_markdown":"I addition to the Comparator and `hashCode()`/`equals` method, you could also use Reflections.\r\n\r\n1) Create an annotation to exclude certain fields:\r\n\r\n*Blacklisting* Example:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME) //\r\n    @Target(ElementType.FIELD) //on class level\r\n    public @interface IngoreForEqualCheck { /* tagging only */ }\r\n\r\n\r\n2) Use Reflection to analyze the objects you want to compare, by using `pClass.getFields()` and/or `pClass.getDeclaredFields()` on the objects&#39; class. This may be even different classes.\r\n\r\n3) Iterate over all fields that are NOT tagged to be ignored, compare values.\r\n\r\nOptimizations\r\n= \r\n\r\n1) To extend on the blacklisting from above, also introduce *whitelisting*: also create an annotation `UseForEqualCheck` to only check those fields.\r\n\r\n2) For improved speed, when analyzing the respective class and its fields, you can create iterable lists of the fields to check, and instead of doing the Reflection fields analysis each time, simply use the lists.\r\n\r\n3) Normally you would use `equals()` on the detected field values. You could also a) tag the class with another custom annotation, or b) check the fields for any whitelisting/blacklisting annotations, so that you will reliably use your new method for embedded/inherited/delegated annotated classes.\r\n\r\nWarning\r\n=\r\nAs with all reflections, you might get into trouble when analyzing hierarchies of classes, that have been modified during the compile process (javac) by annotation preprocessors, or by bytecode weaving. This mostly refers to Java EE aka Jakarta, but can happen anywhere where behind-the-scenes functionality is incorporated in your code, or runtime behavior is changed, like with injections, aspect oriented libraries etc.","title":"Compare two objects excluding some fields - Java","body":"<p>I addition to the Comparator and <code>hashCode()</code>/<code>equals</code> method, you could also use Reflections.</p>\n<ol>\n<li>Create an annotation to exclude certain fields:</li>\n</ol>\n<p><em>Blacklisting</em> Example:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME) //\n@Target(ElementType.FIELD) //on class level\npublic @interface IngoreForEqualCheck { /* tagging only */ }\n</code></pre>\n<ol start=\"2\">\n<li><p>Use Reflection to analyze the objects you want to compare, by using <code>pClass.getFields()</code> and/or <code>pClass.getDeclaredFields()</code> on the objects' class. This may be even different classes.</p>\n</li>\n<li><p>Iterate over all fields that are NOT tagged to be ignored, compare values.</p>\n</li>\n</ol>\n<h1>Optimizations</h1>\n<ol>\n<li><p>To extend on the blacklisting from above, also introduce <em>whitelisting</em>: also create an annotation <code>UseForEqualCheck</code> to only check those fields.</p>\n</li>\n<li><p>For improved speed, when analyzing the respective class and its fields, you can create iterable lists of the fields to check, and instead of doing the Reflection fields analysis each time, simply use the lists.</p>\n</li>\n<li><p>Normally you would use <code>equals()</code> on the detected field values. You could also a) tag the class with another custom annotation, or b) check the fields for any whitelisting/blacklisting annotations, so that you will reliably use your new method for embedded/inherited/delegated annotated classes.</p>\n</li>\n</ol>\n<h1>Warning</h1>\n<p>As with all reflections, you might get into trouble when analyzing hierarchies of classes, that have been modified during the compile process (javac) by annotation preprocessors, or by bytecode weaving. This mostly refers to Java EE aka Jakarta, but can happen anywhere where behind-the-scenes functionality is incorporated in your code, or runtime behavior is changed, like with injections, aspect oriented libraries etc.</p>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1640259495,"creation_date":1640259140,"answer_id":70461572,"question_id":70461097,"body_markdown":"## The quickest way without writing any code is `Lombok`\r\n\r\nLombok is one of the most used libraries in java and it takes a lot of Boilerplate code off your projects. If you need to read more on what it can and does, go [here][1].\r\n\r\nThe way to implement what you need is pretty straightforward:\r\n\r\n```java\r\n// Generate the equals and HashCode functions and Include only the fields that I annotate with Include\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true) \r\n@Getter // Generate getters for each field\r\n@Setter // Generate setters for each field\r\npublic class Class1\r\n{\r\n\r\n  @EqualsAndHashCode.Include // Include this field\r\n  private Long identity;\r\n  \r\n  private String testStr1; // This field is not annotated with Include so it will not be included in the functions.\r\n\r\n  // ... any other fields\r\n}\r\n```\r\n\r\nLombok can do a lot more than this. For more information on `@EqualsAndHashCode` refer to [this][2].\r\n\r\nYou can always use `@EqualsAndHashCode.Exclude` for a quicker solution to your use case:\r\n\r\n```java\r\n@EqualsAndHashCode\r\n@Getter // Generate getters for each field\r\n@Setter // Generate setters for each field\r\npublic final class Class1 {\r\n  private String a;\r\n  private String b;\r\n  private String c;\r\n:\r\n:\r\n:\r\n\r\n  private String z;\r\n\r\n  @EqualsAndHashCode.Exclude\r\n  private Date createdAt; \r\n  @EqualsAndHashCode.Exclude\r\n  private Date updatedAt; \r\n} \r\n```\r\n\r\n  [1]: https://projectlombok.org/\r\n  [2]: https://projectlombok.org/features/EqualsAndHashCode","title":"Compare two objects excluding some fields - Java","body":"<h2>The quickest way without writing any code is <code>Lombok</code></h2>\n<p>Lombok is one of the most used libraries in java and it takes a lot of Boilerplate code off your projects. If you need to read more on what it can and does, go <a href=\"https://projectlombok.org/\" rel=\"noreferrer\">here</a>.</p>\n<p>The way to implement what you need is pretty straightforward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Generate the equals and HashCode functions and Include only the fields that I annotate with Include\n@EqualsAndHashCode(onlyExplicitlyIncluded = true) \n@Getter // Generate getters for each field\n@Setter // Generate setters for each field\npublic class Class1\n{\n\n  @EqualsAndHashCode.Include // Include this field\n  private Long identity;\n  \n  private String testStr1; // This field is not annotated with Include so it will not be included in the functions.\n\n  // ... any other fields\n}\n</code></pre>\n<p>Lombok can do a lot more than this. For more information on <code>@EqualsAndHashCode</code> refer to <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"noreferrer\">this</a>.</p>\n<p>You can always use <code>@EqualsAndHashCode.Exclude</code> for a quicker solution to your use case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashCode\n@Getter // Generate getters for each field\n@Setter // Generate setters for each field\npublic final class Class1 {\n  private String a;\n  private String b;\n  private String c;\n:\n:\n:\n\n  private String z;\n\n  @EqualsAndHashCode.Exclude\n  private Date createdAt; \n  @EqualsAndHashCode.Exclude\n  private Date updatedAt; \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7233150,"reputation":83,"user_id":5519272,"display_name":"Lior Halfon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661936392,"creation_date":1661936392,"answer_id":73553374,"question_id":70461097,"body_markdown":"@Renis1235 &#39;s Lombok solution is the easiest.\r\nHowever if for some reason in different contexts the equals can mean different things and you don&#39;t want to change the default Equals and Hashcode behaviour, I would advice to assign default values to the fields you want to exclude, and then use equals.\r\n(Assuming you can change the objects)\r\n\r\nFor example:\r\n\r\n    Class1 a = ...;\r\n    Class1 b = ...;\r\n    a.createdAt = null;\r\n    b.createdAt = null;\r\n    a.updatedAt = null;\r\n    b.updatedAt = null;\r\n    boolean isEqualExcludingTimestamps = a.equals(b);\r\n\r\n","title":"Compare two objects excluding some fields - Java","body":"<p>@Renis1235 's Lombok solution is the easiest.\nHowever if for some reason in different contexts the equals can mean different things and you don't want to change the default Equals and Hashcode behaviour, I would advice to assign default values to the fields you want to exclude, and then use equals.\n(Assuming you can change the objects)</p>\n<p>For example:</p>\n<pre><code>Class1 a = ...;\nClass1 b = ...;\na.createdAt = null;\nb.createdAt = null;\na.updatedAt = null;\nb.updatedAt = null;\nboolean isEqualExcludingTimestamps = a.equals(b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5747167,"reputation":316,"user_id":4538070,"display_name":"KevinC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676071143,"creation_date":1676071143,"answer_id":75417004,"question_id":70461097,"body_markdown":"\r\nUse [Apache Commons-Lang][1]\r\n\r\n    CompareToBuilder.reflectionCompare(expected, argument, &quot;someField&quot;);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/src-html/org/apache/commons/lang3/builder/CompareToBuilder.html#line.240","title":"Compare two objects excluding some fields - Java","body":"<p>Use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/src-html/org/apache/commons/lang3/builder/CompareToBuilder.html#line.240\" rel=\"nofollow noreferrer\">Apache Commons-Lang</a></p>\n<pre><code>CompareToBuilder.reflectionCompare(expected, argument, &quot;someField&quot;);\n</code></pre>\n"}],"owner":{"account_id":8099270,"reputation":145,"user_id":6102739,"display_name":"Anamika Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11698,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":70461572,"answer_count":6,"score":9,"last_activity_date":1676071143,"creation_date":1640256690,"question_id":70461097,"body_markdown":"I need to compare two objects of the same class excluding some fields. \r\n\r\n```\r\npublic final class Class1 {\r\n  private String a;\r\n  private String b;\r\n  private String c;\r\n:\r\n:\r\n:\r\n\r\n  private String z;\r\n  private Date createdAt; \r\n  private Date updatedAt; \r\n} \r\n```\r\n\r\nHow can i find if the two objects of the above class are equal excluding createdAt and updatedAt values? Since there are a lot of fields in this class, i don&#39;t want to compare each of them one by one. \r\n\r\nPlease don&#39;t give AssertJ&#39;s recursive comparison solution as I don&#39;t need it for UnitTests. \r\n\r\nThank you in Advance! ","title":"Compare two objects excluding some fields - Java","body":"<p>I need to compare two objects of the same class excluding some fields.</p>\n<pre><code>public final class Class1 {\n  private String a;\n  private String b;\n  private String c;\n:\n:\n:\n\n  private String z;\n  private Date createdAt; \n  private Date updatedAt; \n} \n</code></pre>\n<p>How can i find if the two objects of the above class are equal excluding createdAt and updatedAt values? Since there are a lot of fields in this class, i don't want to compare each of them one by one.</p>\n<p>Please don't give AssertJ's recursive comparison solution as I don't need it for UnitTests.</p>\n<p>Thank you in Advance!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1387675,"reputation":840,"user_id":1319304,"accept_rate":40,"display_name":"trichner"},"score":0,"creation_date":1542132286,"post_id":53286987,"comment_id":93456067,"body_markdown":"what&#39;s the structure of the DTO? is it flat? Nested objects? If its flat you might be able to put the properties in maps and then remove your 20 properties and diff the two maps.","body":"what&#39;s the structure of the DTO? is it flat? Nested objects? If its flat you might be able to put the properties in maps and then remove your 20 properties and diff the two maps."},{"owner":{"account_id":14612735,"reputation":77,"user_id":10553748,"display_name":"Jenny"},"score":0,"creation_date":1542133750,"post_id":53286987,"comment_id":93456736,"body_markdown":"Its not flat .. it has nested objects ..","body":"Its not flat .. it has nested objects .."},{"owner":{"account_id":1405987,"reputation":16394,"user_id":1385441,"accept_rate":77,"display_name":"Ram Patra"},"score":0,"creation_date":1651787764,"post_id":53286987,"comment_id":127453297,"body_markdown":"You can consider using Assertj library. See this answer - https://stackoverflow.com/a/64520873/1385441","body":"You can consider using Assertj library. See this answer - <a href=\"https://stackoverflow.com/a/64520873/1385441\">stackoverflow.com/a/64520873/1385441</a>"}],"answers":[{"tags":[],"owner":{"account_id":14689661,"reputation":101,"user_id":10608679,"display_name":"Juanju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1542133473,"creation_date":1542132813,"answer_id":53287163,"question_id":53286987,"body_markdown":"It may works if you create a Class method that recieves two objects of itself and compare them by checking certain properties.\r\n\r\n    class MyClass {\r\n     (...)\r\n       public static int compare (MyClass m1, MyClass m2){\r\n            if (m1.name == m2.name){ return 1; }\r\n            return 0;\r\n       }\r\n    }\r\nYou can also check the &#39;Comparable&#39; interface (this is a better solution): https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n\r\nHope it helps :)","title":"Check if two objects are equal excluding a few properties","body":"<p>It may works if you create a Class method that recieves two objects of itself and compare them by checking certain properties.</p>\n\n<pre><code>class MyClass {\n (...)\n   public static int compare (MyClass m1, MyClass m2){\n        if (m1.name == m2.name){ return 1; }\n        return 0;\n   }\n}\n</code></pre>\n\n<p>You can also check the 'Comparable' interface (this is a better solution): <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html</a></p>\n\n<p>Hope it helps :)</p>\n"},{"comments":[{"owner":{"account_id":14612735,"reputation":77,"user_id":10553748,"display_name":"Jenny"},"score":0,"creation_date":1542133866,"post_id":53287167,"comment_id":93456783,"body_markdown":"There is no equals method .. comparing each field is not practical because there are 100s fields .. and there are nested objected within as well","body":"There is no equals method .. comparing each field is not practical because there are 100s fields .. and there are nested objected within as well"},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1542134537,"post_id":53287167,"comment_id":93457117,"body_markdown":"Practical or not, the only way to determine equality between values is to read and compare the values. Even if you cached hash codes for these objects, hashes could collide and you would still have to check all the fields you are interested in to test for equality. But hash codes at least could quickly tell you if the objects are not equal.","body":"Practical or not, the only way to determine equality between values is to read and compare the values. Even if you cached hash codes for these objects, hashes could collide and you would still have to check all the fields you are interested in to test for equality. But hash codes at least could quickly tell you if the objects are not equal."}],"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542137109,"creation_date":1542132830,"answer_id":53287167,"question_id":53286987,"body_markdown":"If I have a variable `x` then I do something and ask &quot;did `x` change?&quot;, you can&#39;t answer that question without knowing the initial and final value of `x`. Therefore if you want to check if certain fields changed then you **must** read and compare those fields initial and final values.\r\n\r\nYou can add some efficiency by caching hash codes of the objects, and if the hash codes are different then you know the objects are different, but calculating the hash code requires reading all the fields anyway.\r\n\r\nI&#39;d say just make the equals method, most IDEs can auto generate the bulk of it anyway.","title":"Check if two objects are equal excluding a few properties","body":"<p>If I have a variable <code>x</code> then I do something and ask \"did <code>x</code> change?\", you can't answer that question without knowing the initial and final value of <code>x</code>. Therefore if you want to check if certain fields changed then you <strong>must</strong> read and compare those fields initial and final values.</p>\n\n<p>You can add some efficiency by caching hash codes of the objects, and if the hash codes are different then you know the objects are different, but calculating the hash code requires reading all the fields anyway.</p>\n\n<p>I'd say just make the equals method, most IDEs can auto generate the bulk of it anyway.</p>\n"},{"comments":[{"owner":{"account_id":14612735,"reputation":77,"user_id":10553748,"display_name":"Jenny"},"score":0,"creation_date":1542134142,"post_id":53287295,"comment_id":93456911,"body_markdown":"I don&#39;t understand how does this pattern help in comparing two complex DTOs  ? I need to compare the two DTO s to see if the fields and objects haven&#39;t been modified , excluding a few properties .... can u elaborate how is this design pattern going to help?","body":"I don&#39;t understand how does this pattern help in comparing two complex DTOs  ? I need to compare the two DTO s to see if the fields and objects haven&#39;t been modified , excluding a few properties .... can u elaborate how is this design pattern going to help?"},{"owner":{"account_id":8519609,"reputation":1036,"user_id":6387012,"display_name":"TOvidiu"},"score":0,"creation_date":1542134404,"post_id":53287295,"comment_id":93457053,"body_markdown":"Wrapping each DTO into a decorator class and override the equals(). You may need to make a costume constructor if the DTO are different and map them into one of those 2 DTO types (if are different or you could look up for orika mapping).","body":"Wrapping each DTO into a decorator class and override the equals(). You may need to make a costume constructor if the DTO are different and map them into one of those 2 DTO types (if are different or you could look up for orika mapping)."}],"tags":[],"owner":{"account_id":8519609,"reputation":1036,"user_id":6387012,"display_name":"TOvidiu"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542133326,"creation_date":1542133326,"answer_id":53287295,"question_id":53286987,"body_markdown":"I&#39;d recommend to use Decorator design pattern instead of creating Utils classes or setting parameters to null and restoring then after comparison.\r\n\r\n[Here][1] is an implement suggestion and in your case you only need to override the equals()\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/design_pattern/decorator_pattern.htm","title":"Check if two objects are equal excluding a few properties","body":"<p>I'd recommend to use Decorator design pattern instead of creating Utils classes or setting parameters to null and restoring then after comparison.</p>\n\n<p><a href=\"https://www.tutorialspoint.com/design_pattern/decorator_pattern.htm\" rel=\"nofollow noreferrer\">Here</a> is an implement suggestion and in your case you only need to override the equals()</p>\n"},{"tags":[],"owner":{"account_id":5747167,"reputation":316,"user_id":4538070,"display_name":"KevinC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676070998,"creation_date":1676070998,"answer_id":75416982,"question_id":53286987,"body_markdown":"Use [Apache Commons-Lang][1]\r\n\r\n    EqualsBuilder.reflectionEquals(expected, argument, &quot;someField&quot;);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/builder/EqualsBuilder.html","title":"Check if two objects are equal excluding a few properties","body":"<p>Use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\">Apache Commons-Lang</a></p>\n<pre><code>EqualsBuilder.reflectionEquals(expected, argument, &quot;someField&quot;);\n</code></pre>\n"}],"owner":{"account_id":14612735,"reputation":77,"user_id":10553748,"display_name":"Jenny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4298,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":53287163,"answer_count":4,"score":-1,"last_activity_date":1676070998,"creation_date":1542132084,"question_id":53286987,"body_markdown":"Am using spring web and hibernate .\nI need to compare two complex DTOs of the same type one received via POST request body and the other got from the DB .\nThere are at least several hundred properties and list of child objects in this DTO .. I have to compare these two DTOs in order to check if any of the fields modified excluding a few properties (20 properties ) .. can someone give me some suggestions on how this can be done easily ..","title":"Check if two objects are equal excluding a few properties","body":"<p>Am using spring web and hibernate .\nI need to compare two complex DTOs of the same type one received via POST request body and the other got from the DB .\nThere are at least several hundred properties and list of child objects in this DTO .. I have to compare these two DTOs in order to check if any of the fields modified excluding a few properties (20 properties ) .. can someone give me some suggestions on how this can be done easily ..</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":2,"creation_date":1676066948,"post_id":75416503,"comment_id":133070124,"body_markdown":"Hi, provide us your tries first, thats the way you should learn most. You basically do not need triple nested looping as you have only 2D array. You should have two (for example) for loops, upper one that goes by rows and second, inner, one that goes by column.","body":"Hi, provide us your tries first, thats the way you should learn most. You basically do not need triple nested looping as you have only 2D array. You should have two (for example) for loops, upper one that goes by rows and second, inner, one that goes by column."},{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":1,"creation_date":1676066999,"post_id":75416503,"comment_id":133070134,"body_markdown":"Please show us what you&#39;ve done so far, no one will do the whole task for you :-) .\n++ What if we have 3 or 4 of the same elements in a row? e.g. { 2, 2, 2 ,2}","body":"Please show us what you&#39;ve done so far, no one will do the whole task for you :-) . ++ What if we have 3 or 4 of the same elements in a row? e.g. { 2, 2, 2 ,2}"},{"owner":{"account_id":27756471,"reputation":11,"user_id":21189822,"display_name":"Lenin Cumin"},"score":0,"creation_date":1676068102,"post_id":75416503,"comment_id":133070372,"body_markdown":"Sorry, forgot to copy my existing for loop.","body":"Sorry, forgot to copy my existing for loop."},{"owner":{"account_id":27756471,"reputation":11,"user_id":21189822,"display_name":"Lenin Cumin"},"score":0,"creation_date":1676068148,"post_id":75416503,"comment_id":133070385,"body_markdown":"If there are 3 or for elements in the same row like {2, 2, 2, 2} that would be {4, 0, 4, 0} if there are three like {2, 2, 2, 0} then that would become {4, 0 , 2, 0}","body":"If there are 3 or for elements in the same row like {2, 2, 2, 2} that would be {4, 0, 4, 0} if there are three like {2, 2, 2, 0} then that would become {4, 0 , 2, 0}"},{"owner":{"account_id":27756471,"reputation":11,"user_id":21189822,"display_name":"Lenin Cumin"},"score":0,"creation_date":1676068568,"post_id":75416503,"comment_id":133070467,"body_markdown":"Sorry, I updated the post with my for loop, I did what Johnczek said but I keep getting an index out of bounds exception.","body":"Sorry, I updated the post with my for loop, I did what Johnczek said but I keep getting an index out of bounds exception."},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":1,"creation_date":1676068652,"post_id":75416503,"comment_id":133070477,"body_markdown":"@LeninCumin see my answer below, you are getting IndexOutOfBound exception because you are not checking  processing of last column of row. In that case you want to retrieve data of next column (col+1) but that data is not there.","body":"@LeninCumin see my answer below, you are getting IndexOutOfBound exception because you are not checking  processing of last column of row. In that case you want to retrieve data of next column (col+1) but that data is not there."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1676070346,"post_id":75416503,"comment_id":133070753,"body_markdown":"You said 2 elements next to each other.  What about `[0,2,4,2]`?  That would seem to be `[0,6,0,2]`.  So did you really mean elements of the value `2` next to each other.","body":"You said 2 elements next to each other.  What about <code>[0,2,4,2]</code>?  That would seem to be <code>[0,6,0,2]</code>.  So did you really mean elements of the value <code>2</code> next to each other."}],"answers":[{"tags":[],"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676068864,"creation_date":1676068328,"answer_id":75416726,"question_id":75416503,"body_markdown":"Well I assume that Board variable holds array (quick tip, common convention is to name variable in camelCase (first letter lowercase, then each letter of next work upper, if that variable is constant, then convention is SNAKE_UPPER_CASE)\r\n\r\nYour first for is pretty okay, the second one too but it assumes that matrix will be always NxN and will fail if thats not the case or it will not work properly (depending if amount of cols is lower or greater than length of array)\r\n\r\nInside it you dont want to check if the values are equal, you want to check if these values are both equal to 2. And you should check if thats not processing of last column of the row, in that case youll get IndexOutOfBoundException because you want to get value of matrix that is not present.\r\n\r\nSo with small changes, you will achieve what you want. This code will hopefuly shows my thoughts better\r\n\r\n    public class MergingTwos {\r\n    public static void main(String args[]) {\r\n      // Init a matrix\r\n      int[][] array = new int[][] { { 0, 2, 4, 2 }, { 0, 0, 2, 2 }, { 2, 2, 0, 0 }, { 2, 2, 0, 0 }, { 0, 5, 0, 2 }};\r\n      \r\n      // Iterating over each row of matrix, in veriable i, the current X index is stored\r\n      for(int i = 0; i &lt; array.length; i++) {\r\n          // Iterating over each column of row, in variable n, the current Y index is stored\r\n          for(int n = 0; n &lt; array[i].length; n++) {\r\n            \r\n            // To prevent index out of bound exception, last element of row wont be processed so as we dont want to proceed if given and next value on row are not 2\r\n            if(n == array[i].length -1 || array[i][n] != 2 || array[i][n+1] != 2) {\r\n                continue;\r\n            }\r\n            \r\n            // To value at given coordinates [i,n] you add values of value on coordinates [i, n+1]\r\n            array[i][n] = array[i][n] + array[i][n+1];\r\n            // And setting next element to 0\r\n            array[i][n+1] = 0;\r\n          }\r\n      }\r\n      \r\n      // Printing the result\r\n      for (int[] x : array) {\r\n        for (int y : x) {\r\n            System.out.print(y + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n      }\r\n    }\r\n}","title":"How to merge two elements in an array together?","body":"<p>Well I assume that Board variable holds array (quick tip, common convention is to name variable in camelCase (first letter lowercase, then each letter of next work upper, if that variable is constant, then convention is SNAKE_UPPER_CASE)</p>\n<p>Your first for is pretty okay, the second one too but it assumes that matrix will be always NxN and will fail if thats not the case or it will not work properly (depending if amount of cols is lower or greater than length of array)</p>\n<p>Inside it you dont want to check if the values are equal, you want to check if these values are both equal to 2. And you should check if thats not processing of last column of the row, in that case youll get IndexOutOfBoundException because you want to get value of matrix that is not present.</p>\n<p>So with small changes, you will achieve what you want. This code will hopefuly shows my thoughts better</p>\n<pre><code>public class MergingTwos {\npublic static void main(String args[]) {\n  // Init a matrix\n  int[][] array = new int[][] { { 0, 2, 4, 2 }, { 0, 0, 2, 2 }, { 2, 2, 0, 0 }, { 2, 2, 0, 0 }, { 0, 5, 0, 2 }};\n  \n  // Iterating over each row of matrix, in veriable i, the current X index is stored\n  for(int i = 0; i &lt; array.length; i++) {\n      // Iterating over each column of row, in variable n, the current Y index is stored\n      for(int n = 0; n &lt; array[i].length; n++) {\n        \n        // To prevent index out of bound exception, last element of row wont be processed so as we dont want to proceed if given and next value on row are not 2\n        if(n == array[i].length -1 || array[i][n] != 2 || array[i][n+1] != 2) {\n            continue;\n        }\n        \n        // To value at given coordinates [i,n] you add values of value on coordinates [i, n+1]\n        array[i][n] = array[i][n] + array[i][n+1];\n        // And setting next element to 0\n        array[i][n+1] = 0;\n      }\n  }\n  \n  // Printing the result\n  for (int[] x : array) {\n    for (int y : x) {\n        System.out.print(y + &quot; &quot;);\n    }\n    System.out.println();\n  }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676069774,"creation_date":1676069774,"answer_id":75416864,"question_id":75416503,"body_markdown":"Well, I guess that should work. In the loop, you must be careful not to refer to the wrong ( or non-existing) array element.\r\n\r\n        public static void main(String[] args) {\r\n        int[][] arr = new int[][]{{0, 2, 4, 2}, {0, 0, 2, 2}, {2, 2, 0, 0}, {0, 5, 0, 2}, {2, 2, 2, 2}, {2, 2, 2, 0}};\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            for (int j = 0; j &lt; arr[i].length - 1; j++) {\r\n                if (arr[i][j] == arr[i][j + 1]) {\r\n                    arr[i][j] = arr[i][j] + arr[i][j + 1];\r\n                    arr[i][j + 1] = 0;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(Arrays.deepToString(arr));\r\n    }","title":"How to merge two elements in an array together?","body":"<p>Well, I guess that should work. In the loop, you must be careful not to refer to the wrong ( or non-existing) array element.</p>\n<pre><code>    public static void main(String[] args) {\n    int[][] arr = new int[][]{{0, 2, 4, 2}, {0, 0, 2, 2}, {2, 2, 0, 0}, {0, 5, 0, 2}, {2, 2, 2, 2}, {2, 2, 2, 0}};\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        for (int j = 0; j &lt; arr[i].length - 1; j++) {\n            if (arr[i][j] == arr[i][j + 1]) {\n                arr[i][j] = arr[i][j] + arr[i][j + 1];\n                arr[i][j + 1] = 0;\n            }\n        }\n    }\n    System.out.println(Arrays.deepToString(arr));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676070590,"creation_date":1676070590,"answer_id":75416939,"question_id":75416503,"body_markdown":"Here is one way, focusing only array values that equal 2.\r\n- iterate the 2D array.\r\n- then iterate over each linear array, checking adjacent values and making the changes.\r\n\r\n```\r\nfor(int[] arr : v) {\r\n    for(int i = 0; i &lt; arr.length-1; i++) {\r\n        if (arr[i] == 2 &amp;&amp; arr[i+1] == 2) {\r\n            arr[i]+= arr[i+1];\r\n            arr[i+1] = 0;\r\n        }\r\n    }\r\n}\r\n\r\nfor(int arr[]: v) {\r\n    System.out.println(Arrays.toString(arr));\r\n}\r\n```\r\nprints\r\n```\r\n[0, 2, 4, 2]\r\n[0, 0, 4, 0]\r\n[4, 0, 0, 0]\r\n[0, 5, 0, 2]\r\n\r\n","title":"How to merge two elements in an array together?","body":"<p>Here is one way, focusing only array values that equal 2.</p>\n<ul>\n<li>iterate the 2D array.</li>\n<li>then iterate over each linear array, checking adjacent values and making the changes.</li>\n</ul>\n<pre><code>for(int[] arr : v) {\n    for(int i = 0; i &lt; arr.length-1; i++) {\n        if (arr[i] == 2 &amp;&amp; arr[i+1] == 2) {\n            arr[i]+= arr[i+1];\n            arr[i+1] = 0;\n        }\n    }\n}\n\nfor(int arr[]: v) {\n    System.out.println(Arrays.toString(arr));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[0, 2, 4, 2]\n[0, 0, 4, 0]\n[4, 0, 0, 0]\n[0, 5, 0, 2]\n\n</code></pre>\n"}],"owner":{"account_id":27756471,"reputation":11,"user_id":21189822,"display_name":"Lenin Cumin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1676070590,"creation_date":1676066339,"question_id":75416503,"body_markdown":"For example you have the 2d array Board as shown below:\r\n\r\n{0, 2, 4, 2}\r\n\r\n{0, 0, 2, 2}\r\n\r\n{2, 2, 0, 0}\r\n\r\n{0, 5, 0, 2}\r\n\r\nYou want it to become:\r\n\r\n{0, 2, 4, 2}\r\n\r\n{0, 0, 4, 0}\r\n\r\n{4, 0, 0, 0}\r\n\r\n{0, 5, 0, 2}\r\n\r\nWhen there are 2 elements next to each other you need to merge them to make 4 into the left-most place out of those two elements and then make the 2nd element to be 0.\r\nYou want to do this with java.\r\n\r\nforgot to show my existing loop, this is it below:\r\n\r\n```\r\nfor (int row = 0; row &lt; Board.length; row++){\r\n    for (int col = 0; col &lt;= Board.length; col++){\r\n       if ((Board[row][col] == Board[row][col +1])){\r\n            Board[row][col] = 2 * Board[row][col];\r\n            Board[row][col + 1] = 0;\r\n           }\r\n    }\r\n}\r\n```","title":"How to merge two elements in an array together?","body":"<p>For example you have the 2d array Board as shown below:</p>\n<p>{0, 2, 4, 2}</p>\n<p>{0, 0, 2, 2}</p>\n<p>{2, 2, 0, 0}</p>\n<p>{0, 5, 0, 2}</p>\n<p>You want it to become:</p>\n<p>{0, 2, 4, 2}</p>\n<p>{0, 0, 4, 0}</p>\n<p>{4, 0, 0, 0}</p>\n<p>{0, 5, 0, 2}</p>\n<p>When there are 2 elements next to each other you need to merge them to make 4 into the left-most place out of those two elements and then make the 2nd element to be 0.\nYou want to do this with java.</p>\n<p>forgot to show my existing loop, this is it below:</p>\n<pre><code>for (int row = 0; row &lt; Board.length; row++){\n    for (int col = 0; col &lt;= Board.length; col++){\n       if ((Board[row][col] == Board[row][col +1])){\n            Board[row][col] = 2 * Board[row][col];\n            Board[row][col + 1] = 0;\n           }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","big-o"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675352847,"post_id":75325559,"comment_id":132914883,"body_markdown":"There is no general purpose way to solve all O(n^2) loops - some will not even be possible - and best practices are subjective.","body":"There is no general purpose way to solve all O(n^2) loops - some will not even be possible - and best practices are subjective."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675353130,"post_id":75325559,"comment_id":132914995,"body_markdown":"Also bear in mind that this is N^2 for a tiny value of N. IMO it&#39;s not even worth optimizing.","body":"Also bear in mind that this is N^2 for a tiny value of N. IMO it&#39;s not even worth optimizing."},{"owner":{"account_id":24589752,"reputation":3,"user_id":18493824,"display_name":"Ben Boksanski"},"score":0,"creation_date":1675353186,"post_id":75325559,"comment_id":132915019,"body_markdown":"Would you know where I could find documentation on which types of problems are able to be solved or ways of going about solving them?","body":"Would you know where I could find documentation on which types of problems are able to be solved or ways of going about solving them?"}],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676069975,"creation_date":1675357594,"answer_id":75326606,"question_id":75325559,"body_markdown":"One easy optimization of constant factors is to move the call to letterToPhone() out of the inner loop. \r\n\r\nAnd yes, you can compare the x value to a range, eliminating the need for the inner loop.\r\n\r\n        for(int i = 0; i &lt; pin.length(); i++) {\r\n            int x = letterToPhone(pin.charAt(i));\r\n\r\n            if ( (0 &lt;= x) &amp;&amp; (x &lt; values.length)) {\r\n                response[i] = values[x];\r\n            }\r\n        }\r\n\r\nAnother optimization of constant factors would be to replace all the function calls in `letterToPhone()` with a `switch` statement. The compiler may choose to optimize that into a table lookup.","title":"How to eliminate a nested for loop to get O(n)?","body":"<p>One easy optimization of constant factors is to move the call to letterToPhone() out of the inner loop.</p>\n<p>And yes, you can compare the x value to a range, eliminating the need for the inner loop.</p>\n<pre><code>    for(int i = 0; i &lt; pin.length(); i++) {\n        int x = letterToPhone(pin.charAt(i));\n\n        if ( (0 &lt;= x) &amp;&amp; (x &lt; values.length)) {\n            response[i] = values[x];\n        }\n    }\n</code></pre>\n<p>Another optimization of constant factors would be to replace all the function calls in <code>letterToPhone()</code> with a <code>switch</code> statement. The compiler may choose to optimize that into a table lookup.</p>\n"}],"owner":{"account_id":24589752,"reputation":3,"user_id":18493824,"display_name":"Ben Boksanski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75326606,"answer_count":1,"score":-1,"last_activity_date":1676069975,"creation_date":1675352530,"question_id":75325559,"body_markdown":"In the code below I have a double for loop resulting in a time complexity of O^2 in method `getResponse()`. This code prompts the user for a 10 integer sequence string and an uppercase sensitive pin. It then converts the pin to numbers on a phone pad ie. [ABC] --&gt; 2, [DEF] --&gt; 3. Lastly a response array is generated with each digit of the new phone pin corresponding to indexes of sequence. So input &quot;0123456789&quot;,&quot;HAM&quot;, response = &quot;426&quot;    \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Test {\r\n\r\n\r\n\tpublic static final int SEQ_DIGITS = 10;\r\n\r\n\r\n\tpublic static final String ERR_SEQ = &quot;Invalid sequence&quot;;\r\n\r\n\r\n\tpublic static final String ERR_PIN = &quot;Invalid PIN&quot;;\r\n\r\n\tpublic static int letterToPhone(char c) {\r\n\t\tint phoneNumber = 0;\r\n\t\tif (Character.toString(c).matches(&quot;[ABC]&quot;)) {\r\n\t\t\tphoneNumber = 2;\r\n\t\t} else if (Character.toString(c).matches(&quot;[DEF]&quot;)) {\r\n\t\t\tphoneNumber = 3;\r\n\t\t} else if (Character.toString(c).matches(&quot;[GHI]&quot;)) {\r\n\t\t\tphoneNumber = 4;\r\n\t\t} else if (Character.toString(c).matches(&quot;[JKL]&quot;)) {\r\n\t\t\tphoneNumber = 5;\r\n\t\t} else if (Character.toString(c).matches(&quot;[MNO]&quot;)) {\r\n\t\t\tphoneNumber = 6;\r\n\t\t} else if (Character.toString(c).matches(&quot;[PQRS]&quot;)) {\r\n\t\t\tphoneNumber = 7;\r\n\t\t} else if (Character.toString(c).matches(&quot;[TUV]&quot;)) {\r\n\t\t\tphoneNumber = 8;\r\n\t\t} else if (Character.toString(c).matches(&quot;[WXYZ]&quot;)) {\r\n\t\t\tphoneNumber = 9;\r\n\t\t}\r\n\r\n\t\treturn phoneNumber;\r\n\t}\r\n\r\n\r\n\tpublic static int[] getResponse(String pin, int[] values) {\r\n\t\tint[] response = new int[pin.length()];\r\n\r\n\t\tfor(int i = 0; i &lt; pin.length(); i++) {\r\n\t\t\tfor (int j = 0; j &lt; values.length; j++) {\r\n\t\t\t\tint x = letterToPhone(pin.charAt(i));\r\n\t\t\t\tif(x == j) {\r\n\t\t\t\t\tresponse[i] = values[j];\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn response;\r\n\t}\r\n\r\n\r\n\tpublic static boolean stringIsLengthK(String s, int k) {\r\n\t\tboolean isLength = false;\r\n\r\n\t\tif (s.length() == k) {\r\n\t\t\tisLength = true;\r\n\t\t}\r\n\r\n\t\treturn isLength;\r\n\r\n\t}\r\n\r\n\tpublic static boolean allDigits(String s) {\r\n\t\tboolean isDigit = true;\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t\tif (!(Character.isDigit(s.charAt(i)))) {\r\n\t\t\t\tisDigit = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn isDigit;\r\n\t}\r\n\r\n\r\n\tpublic static boolean allUppercaseLetters(String s) {\r\n\t\tboolean isUpper = true;\r\n\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t\tif (!(Character.isUpperCase(s.charAt(i)))) {\r\n\t\t\t\tisUpper = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn isUpper; \r\n\t}\r\n\r\n\tpublic static int[] digitStringToIntArray(String s) {\r\n\t\tint[] arrayS = new int[s.length()];\r\n\r\n\t\tfor(int i = 0; i &lt; arrayS.length; i++) {\r\n\t\t\tfor(int j = 0; j &lt; SEQ_DIGITS; j++) {\r\n\t\t\t\tif (((int) s.charAt(i) - 48) == j) {\r\n\r\n\t\t\t\t\tarrayS[i] = j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn arrayS; \r\n\t}\r\n\r\n\tpublic static int countValues(int value, int[] values) {\r\n\t\tint count = 0;\r\n\t\tfor(int i = 0; i &lt; values.length; i++) {\r\n\t\t\tif(value == values[i]) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\tpublic static int numPossible(int[] response, int[] values) {\r\n\t\tint product = 1;\r\n\t\tint[] count = new int[response.length];\r\n\t\t\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; count.length; i++) {\r\n\t\t\tcount[i] = countValues(response[i], values);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i=0; i&lt;response.length; i++){\r\n\t         product = product * count[i];\r\n\t      }\r\n\t\treturn product; \r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry (Scanner in = new Scanner(System.in)) {\r\n\t\t\tSystem.out.printf(&quot;Enter value sequence: &quot;);\r\n\t\t\tfinal String seq = in.nextLine();\r\n\r\n\t\t\tSystem.out.printf(&quot;Enter PIN: &quot;);\r\n\t\t\tfinal String pin = in.nextLine();\r\n\r\n\t\t\tif (!(allUppercaseLetters(pin))) {\r\n\t\t\t\tthrow new AssertionError(ERR_PIN);\r\n\t\t\t} else if (!(allDigits(seq)) || !(stringIsLengthK(seq, SEQ_DIGITS))) {\r\n\t\t\t\tthrow new AssertionError(ERR_SEQ);\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\r\n\t\t\tint[] seqArray = new int[SEQ_DIGITS];\r\n\t\t\tseqArray = digitStringToIntArray(seq);\r\n\r\n\t\t\tint[] response = new int[SEQ_DIGITS];\r\n\t\t\tresponse = getResponse(pin, seqArray);\r\n\t\t\t\r\n\t\t\tSystem.out.printf(&quot;Response: &quot;);\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; response.length; i++) {\r\n\t\t\t\tSystem.out.printf(&quot;%d&quot;, response[i]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.printf(&quot;%n&quot;);\r\n\t\t\tnumPossible(response, seqArray);\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch (Error e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI want to be to able to accommodate larger sequence numbers without a scaling of n^2. Is there a way to change the for loop to instead compare the `int x = letterToPhone(pin.charAt(i));` value in `getResponse()` to a range of integers such as &quot;[0-9]&quot;","title":"How to eliminate a nested for loop to get O(n)?","body":"<p>In the code below I have a double for loop resulting in a time complexity of O^2 in method <code>getResponse()</code>. This code prompts the user for a 10 integer sequence string and an uppercase sensitive pin. It then converts the pin to numbers on a phone pad ie. [ABC] --&gt; 2, [DEF] --&gt; 3. Lastly a response array is generated with each digit of the new phone pin corresponding to indexes of sequence. So input &quot;0123456789&quot;,&quot;HAM&quot;, response = &quot;426&quot;</p>\n<pre><code>import java.util.Scanner;\n\npublic class Test {\n\n\n    public static final int SEQ_DIGITS = 10;\n\n\n    public static final String ERR_SEQ = &quot;Invalid sequence&quot;;\n\n\n    public static final String ERR_PIN = &quot;Invalid PIN&quot;;\n\n    public static int letterToPhone(char c) {\n        int phoneNumber = 0;\n        if (Character.toString(c).matches(&quot;[ABC]&quot;)) {\n            phoneNumber = 2;\n        } else if (Character.toString(c).matches(&quot;[DEF]&quot;)) {\n            phoneNumber = 3;\n        } else if (Character.toString(c).matches(&quot;[GHI]&quot;)) {\n            phoneNumber = 4;\n        } else if (Character.toString(c).matches(&quot;[JKL]&quot;)) {\n            phoneNumber = 5;\n        } else if (Character.toString(c).matches(&quot;[MNO]&quot;)) {\n            phoneNumber = 6;\n        } else if (Character.toString(c).matches(&quot;[PQRS]&quot;)) {\n            phoneNumber = 7;\n        } else if (Character.toString(c).matches(&quot;[TUV]&quot;)) {\n            phoneNumber = 8;\n        } else if (Character.toString(c).matches(&quot;[WXYZ]&quot;)) {\n            phoneNumber = 9;\n        }\n\n        return phoneNumber;\n    }\n\n\n    public static int[] getResponse(String pin, int[] values) {\n        int[] response = new int[pin.length()];\n\n        for(int i = 0; i &lt; pin.length(); i++) {\n            for (int j = 0; j &lt; values.length; j++) {\n                int x = letterToPhone(pin.charAt(i));\n                if(x == j) {\n                    response[i] = values[j];\n                }   \n            }\n        }\n\n        return response;\n    }\n\n\n    public static boolean stringIsLengthK(String s, int k) {\n        boolean isLength = false;\n\n        if (s.length() == k) {\n            isLength = true;\n        }\n\n        return isLength;\n\n    }\n\n    public static boolean allDigits(String s) {\n        boolean isDigit = true;\n        for (int i = 0; i &lt; s.length(); i++) {\n            if (!(Character.isDigit(s.charAt(i)))) {\n                isDigit = false;\n                break;\n            }\n        }\n        return isDigit;\n    }\n\n\n    public static boolean allUppercaseLetters(String s) {\n        boolean isUpper = true;\n\n        for (int i = 0; i &lt; s.length(); i++) {\n            if (!(Character.isUpperCase(s.charAt(i)))) {\n                isUpper = false;\n                break;\n            }\n        }\n        return isUpper; \n    }\n\n    public static int[] digitStringToIntArray(String s) {\n        int[] arrayS = new int[s.length()];\n\n        for(int i = 0; i &lt; arrayS.length; i++) {\n            for(int j = 0; j &lt; SEQ_DIGITS; j++) {\n                if (((int) s.charAt(i) - 48) == j) {\n\n                    arrayS[i] = j;\n                }\n            }\n\n        }\n        return arrayS; \n    }\n\n    public static int countValues(int value, int[] values) {\n        int count = 0;\n        for(int i = 0; i &lt; values.length; i++) {\n            if(value == values[i]) {\n                count++;\n            }\n        }\n        return count;\n    }\n    public static int numPossible(int[] response, int[] values) {\n        int product = 1;\n        int[] count = new int[response.length];\n        \n        \n        for (int i = 0; i &lt; count.length; i++) {\n            count[i] = countValues(response[i], values);\n            \n        }\n        \n        for(int i=0; i&lt;response.length; i++){\n             product = product * count[i];\n          }\n        return product; \n    }\n\n    public static void main(String[] args) {\n        try (Scanner in = new Scanner(System.in)) {\n            System.out.printf(&quot;Enter value sequence: &quot;);\n            final String seq = in.nextLine();\n\n            System.out.printf(&quot;Enter PIN: &quot;);\n            final String pin = in.nextLine();\n\n            if (!(allUppercaseLetters(pin))) {\n                throw new AssertionError(ERR_PIN);\n            } else if (!(allDigits(seq)) || !(stringIsLengthK(seq, SEQ_DIGITS))) {\n                throw new AssertionError(ERR_SEQ);\n            }\n\n            \n\n            int[] seqArray = new int[SEQ_DIGITS];\n            seqArray = digitStringToIntArray(seq);\n\n            int[] response = new int[SEQ_DIGITS];\n            response = getResponse(pin, seqArray);\n            \n            System.out.printf(&quot;Response: &quot;);\n            \n            for (int i = 0; i &lt; response.length; i++) {\n                System.out.printf(&quot;%d&quot;, response[i]);\n            }\n            \n            System.out.printf(&quot;%n&quot;);\n            numPossible(response, seqArray);\n            \n            \n        } catch (Error e) {\n            System.out.println(e.getMessage());\n        }\n\n        \n\n    }\n\n}\n</code></pre>\n<p>I want to be to able to accommodate larger sequence numbers without a scaling of n^2. Is there a way to change the for loop to instead compare the <code>int x = letterToPhone(pin.charAt(i));</code> value in <code>getResponse()</code> to a range of integers such as &quot;[0-9]&quot;</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676062946,"post_id":75416065,"comment_id":133069239,"body_markdown":"Is the number of dirs and files variable/arbitrary? In other words, can there be more or less than you&#39;re showing?","body":"Is the number of dirs and files variable/arbitrary? In other words, can there be more or less than you&#39;re showing?"},{"owner":{"account_id":1000824,"reputation":1501,"user_id":1015703,"accept_rate":96,"display_name":"David H"},"score":0,"creation_date":1676063060,"post_id":75416065,"comment_id":133069268,"body_markdown":"@E-Riz yes, arbitrarily broad and deep (and different for every use case of this app)","body":"@E-Riz yes, arbitrarily broad and deep (and different for every use case of this app)"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676064322,"creation_date":1676064322,"answer_id":75416244,"question_id":75416065,"body_markdown":"If you&#39;re OK with the YAML structure like this:\r\n```yaml\r\nmyapp:\r\n  source:\r\n    directories:\r\n      - name: dir1\r\n        directories:\r\n          - name: dir1a\r\n            files:\r\n              - file1\r\n              - file2\r\n      - name: dir2\r\n        files:\r\n          - file3\r\n          - file4\r\n```\r\n\r\nThen these classes can represent the structure:\r\n```java\r\n@Getter\r\n@Setter\r\n@ToString\r\n@ConfigurationProperties(&quot;myapp.source&quot;)\r\n@Configuration\r\npublic class SourceProperties {\r\n\r\n\tprivate List&lt;Directory&gt; directories;\r\n}\r\n```\r\n```java\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Directory {\r\n\r\n\tprivate String name;\r\n\tprivate List&lt;Directory&gt; directories;\r\n\tprivate List&lt;String&gt; files;\r\n}\r\n\r\n```\r\n\r\nThis is what the `SourceProperties` looks like built from that yaml:\r\n[![enter image description here][1]][1]\r\n\r\nDepending on your needs, those classes can have various methods. Could even make the files an object (instead of `String`) if you need more info about them.\r\n\r\n  [1]: https://i.stack.imgur.com/vnKyF.png","title":"Spring Boot YAML config for directory tree structure - what class to use?","body":"<p>If you're OK with the YAML structure like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>myapp:\n  source:\n    directories:\n      - name: dir1\n        directories:\n          - name: dir1a\n            files:\n              - file1\n              - file2\n      - name: dir2\n        files:\n          - file3\n          - file4\n</code></pre>\n<p>Then these classes can represent the structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\n@ConfigurationProperties(&quot;myapp.source&quot;)\n@Configuration\npublic class SourceProperties {\n\n    private List&lt;Directory&gt; directories;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\npublic class Directory {\n\n    private String name;\n    private List&lt;Directory&gt; directories;\n    private List&lt;String&gt; files;\n}\n\n</code></pre>\n<p>This is what the <code>SourceProperties</code> looks like built from that yaml:\n<a href=\"https://i.stack.imgur.com/vnKyF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vnKyF.png\" alt=\"enter image description here\" /></a></p>\n<p>Depending on your needs, those classes can have various methods. Could even make the files an object (instead of <code>String</code>) if you need more info about them.</p>\n"},{"comments":[{"owner":{"account_id":1000824,"reputation":1501,"user_id":1015703,"accept_rate":96,"display_name":"David H"},"score":0,"creation_date":1676072390,"post_id":75416777,"comment_id":133071028,"body_markdown":"I like this one, but it doesn&#39;t look like it handles an empty top level directory, like `myapp/source/dir1`","body":"I like this one, but it doesn&#39;t look like it handles an empty top level directory, like <code>myapp&#47;source&#47;dir1</code>"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676295890,"post_id":75416777,"comment_id":133102750,"body_markdown":"What do you mean by &quot;doesn&#39;t handle?&quot;","body":"What do you mean by &quot;doesn&#39;t handle?&quot;"}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676068793,"creation_date":1676068793,"answer_id":75416777,"question_id":75416065,"body_markdown":"Another alternative would be to have the YAML like this:\r\n```yaml\r\nmyapp:\r\n  source:\r\n    dir1:\r\n      directories:\r\n        dir1a:\r\n          files:\r\n           - file1\r\n           - file2\r\n    dir2:\r\n      files:\r\n        - file3\r\n        - file4\r\n      directories:\r\n        dir2a:\r\n          files:\r\n            - file5\r\n```\r\n\r\nAnd the classes like this:\r\n```java\r\n@Getter\r\n@Setter\r\n@ToString\r\n@ConfigurationProperties(&quot;myapp&quot;)\r\n@Configuration\r\npublic class SourceProperties {\r\n\tprivate Map&lt;String, Directory&gt; source;\r\n}\r\n\r\n\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Directory {\r\n\tprivate Map&lt;String, Directory&gt; directories;\r\n\tprivate List&lt;String&gt; files;\r\n}\r\n```","title":"Spring Boot YAML config for directory tree structure - what class to use?","body":"<p>Another alternative would be to have the YAML like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>myapp:\n  source:\n    dir1:\n      directories:\n        dir1a:\n          files:\n           - file1\n           - file2\n    dir2:\n      files:\n        - file3\n        - file4\n      directories:\n        dir2a:\n          files:\n            - file5\n</code></pre>\n<p>And the classes like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\n@ConfigurationProperties(&quot;myapp&quot;)\n@Configuration\npublic class SourceProperties {\n    private Map&lt;String, Directory&gt; source;\n}\n\n\n@Getter\n@Setter\n@ToString\npublic class Directory {\n    private Map&lt;String, Directory&gt; directories;\n    private List&lt;String&gt; files;\n}\n</code></pre>\n"}],"owner":{"account_id":1000824,"reputation":1501,"user_id":1015703,"accept_rate":96,"display_name":"David H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75416244,"answer_count":2,"score":0,"last_activity_date":1676068793,"creation_date":1676062772,"question_id":75416065,"body_markdown":"I would like to specify a general file/directory tree structure in a Spring Boot application.yaml file:\r\n\r\n```\r\nspring.datasource.url: &quot;jdbc:mysql://localhost/test&quot;\r\n\r\nmyapp.source:\r\n  dir1:\r\n    dir1a:\r\n      file1:\r\n      file2:\r\n  dir2:\r\n    file3:\r\n    file4:\r\n```\r\n\r\nWhat sort of class can I use with `@ConfigurationProperties(&quot;myapp.source&quot;)` to load this configuration?  It seems like it would be a recursive &quot;Map of Maps&quot; of some kind?","title":"Spring Boot YAML config for directory tree structure - what class to use?","body":"<p>I would like to specify a general file/directory tree structure in a Spring Boot application.yaml file:</p>\n<pre><code>spring.datasource.url: &quot;jdbc:mysql://localhost/test&quot;\n\nmyapp.source:\n  dir1:\n    dir1a:\n      file1:\n      file2:\n  dir2:\n    file3:\n    file4:\n</code></pre>\n<p>What sort of class can I use with <code>@ConfigurationProperties(&quot;myapp.source&quot;)</code> to load this configuration?  It seems like it would be a recursive &quot;Map of Maps&quot; of some kind?</p>\n"},{"tags":["java","opencv","image-processing"],"answers":[{"comments":[{"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"score":0,"creation_date":1676128538,"post_id":75416755,"comment_id":133077417,"body_markdown":"Thank you for the answer. I understood the approach and the reason behind it since Java does not have **vectorized matrix operations**. But there are 2 issues that I spotted: 1) What if I select a ***hue*** value with some max and min values in the middle of the **[0-179]** range for example between 40 and 50 (**non-red**) color)? 2) The approach shows that I can only isolate hue that starts from 0 through n and keep all the **[n+1,179]** values (issue 1) but also all the shades of that color (in your example every shade of red was kept).","body":"Thank you for the answer. I understood the approach and the reason behind it since Java does not have <b>vectorized matrix operations</b>. But there are 2 issues that I spotted: 1) What if I select a <b><i>hue</i></b> value with some max and min values in the middle of the <b>[0-179]</b> range for example between 40 and 50 (<b>non-red</b>) color)? 2) The approach shows that I can only isolate hue that starts from 0 through n and keep all the <b>[n+1,179]</b> values (issue 1) but also all the shades of that color (in your example every shade of red was kept)."},{"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"score":0,"creation_date":1676128546,"post_id":75416755,"comment_id":133077418,"body_markdown":"The reason why I consider these as issues is that I am using sliders to set the min and max of HSV values and updating the image in real-time based on those values.","body":"The reason why I consider these as issues is that I am using sliders to set the min and max of HSV values and updating the image in real-time based on those values."},{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":1,"creation_date":1676136640,"post_id":75416755,"comment_id":133078796,"body_markdown":"The reason I choose non-red pixels is because the red rane in H is splitted. If you choose mask of the red pixels, initialize result to grey_as_bgr and use copyTo from image (copy the red to the grey)","body":"The reason I choose non-red pixels is because the red rane in H is splitted. If you choose mask of the red pixels, initialize result to grey_as_bgr and use copyTo from image (copy the red to the grey)"}],"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676068632,"creation_date":1676068632,"answer_id":75416755,"question_id":75411682,"body_markdown":"Here is a [nice solution][1] implemented in MATLAB.  \r\nHere is [my answer][2] using Python and OpenCV (translation of the original MATLAB code).  \r\nIn JAVA there are no vectorized matrix operations, so the solution relies on OpenCV.  \r\n\r\nSince the solution is based on the Python implementation, it finds all the non-red pixels (instead of finding the red pixels).  \r\nThe HSV ranges of the non-red pixels are taken from the original solution:  \r\n\r\n    int minHue = 21;\r\n    int maxHue = 169; //340/2-1\r\n\r\nSaturation and Value includes the full range of [0, 255].  \r\n\r\n---\r\n\r\nImportant modification from your posted code:  \r\n\r\n`grey` image should be in BGR (3 channels) format before using `grey.copyTo(result, mask)`, because the destination image `result` has 3 color channels.  \r\n\r\nWe may convert grey to BGR, and than using `copyTo`:  \r\n\r\n    Mat grey_as_bgr = new Mat();\r\n    Imgproc.cvtColor(grey, grey_as_bgr, Imgproc.COLOR_GRAY2BGR); //Convert from Gray to BGR where R=G=B (we need 3 color channels).\r\n    grey_as_bgr.copyTo(result, mask);\r\n\r\n---\r\n\r\nJAVA code sample:  \r\n\r\n    package myproject;\r\n    \r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.imgproc.Imgproc;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n    \r\n    class Sample {\r\n    \r\n    static { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\r\n         \r\n    public static void main(String[] args) {\r\n        //The following JAVA code is partly based on the following Python and OpenCV code:\r\n        //Python code (my answer): https://stackoverflow.com/a/71542681/4926757\r\n        //The Python code is a conversion from the original MATLAB code:\r\n        //Original MATLAB code: https://stackoverflow.com/questions/4063965/how-can-i-convert-an-rgb-image-to-grayscale-but-keep-one-color\r\n     \r\n        Mat image = Imgcodecs.imread(&quot;src/playground/input.png&quot;);  //Read input image //img = cv2.imread(&#39;src/playground/input.png&#39;)\r\n        Mat hsv = new Mat();\r\n        Imgproc.cvtColor(image, hsv, Imgproc.COLOR_BGR2HSV); //Convert the image to HSV color space. //hsv = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)\r\n        \r\n        //Instead of finding red pixels, find all the non-red pixels.\r\n        //Note: in OpenCV hue range is [0,179]) The original MATLAB code is 360.*hsvImage(:, :, 1), when hue range is [0, 1].\r\n        int minHue = 21;  //non_red_idx = (h &gt; 20//2) &amp; (h &lt; 340//2)  # Select &quot;non-red&quot; pixels (divide the original MATLAB values by 2 due to the range differences).\r\n        int maxHue = 169; //340/2-1;\r\n        int minSaturation = 0;\r\n        int maxSaturation = 255;\r\n        int minValue = 0;\r\n        int maxValue = 255;    \r\n        \r\n        //Create a mask of all non-red pixels\r\n        Mat mask = new Mat();\r\n        Core.inRange(hsv, new Scalar(minHue, minSaturation, minValue), new Scalar(maxHue, maxSaturation, maxValue), mask);\r\n        \r\n        Mat grey = new Mat();\r\n        Mat grey_as_bgr = new Mat();\r\n        Imgproc.cvtColor(image, grey, Imgproc.COLOR_BGR2GRAY); //Convert image from BGR to Grey\r\n        Imgproc.cvtColor(grey, grey_as_bgr, Imgproc.COLOR_GRAY2BGR); //Convert from Gray to BGR where R=G=B (we need 3 color channels).\r\n        \r\n        Mat result = image.clone();  //Clone image, and store in result\r\n            \r\n        grey_as_bgr.copyTo(result, mask);  //Copy the non-red pixels from grey_as_bgr to result (the red pixels are kept unmodified).\r\n        \r\n        Imgcodecs.imwrite(&quot;src/playground/output.png&quot;, result); //Save the result\r\n    }\r\n    \r\n    }\r\n\r\n---\r\n\r\nOutput:  \r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/4063965/4926757\r\n  [2]: https://stackoverflow.com/a/71542681/4926757\r\n  [3]: https://i.stack.imgur.com/fsgHA.jpg","title":"pixels set to black using OpenCV JAVA","body":"<p>Here is a <a href=\"https://stackoverflow.com/q/4063965/4926757\">nice solution</a> implemented in MATLAB.<br />\nHere is <a href=\"https://stackoverflow.com/a/71542681/4926757\">my answer</a> using Python and OpenCV (translation of the original MATLAB code).<br />\nIn JAVA there are no vectorized matrix operations, so the solution relies on OpenCV.</p>\n<p>Since the solution is based on the Python implementation, it finds all the non-red pixels (instead of finding the red pixels).<br />\nThe HSV ranges of the non-red pixels are taken from the original solution:</p>\n<pre><code>int minHue = 21;\nint maxHue = 169; //340/2-1\n</code></pre>\n<p>Saturation and Value includes the full range of [0, 255].</p>\n<hr />\n<p>Important modification from your posted code:</p>\n<p><code>grey</code> image should be in BGR (3 channels) format before using <code>grey.copyTo(result, mask)</code>, because the destination image <code>result</code> has 3 color channels.</p>\n<p>We may convert grey to BGR, and than using <code>copyTo</code>:</p>\n<pre><code>Mat grey_as_bgr = new Mat();\nImgproc.cvtColor(grey, grey_as_bgr, Imgproc.COLOR_GRAY2BGR); //Convert from Gray to BGR where R=G=B (we need 3 color channels).\ngrey_as_bgr.copyTo(result, mask);\n</code></pre>\n<hr />\n<p>JAVA code sample:</p>\n<pre><code>package myproject;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.Scalar;\nimport org.opencv.imgproc.Imgproc;\nimport org.opencv.imgcodecs.Imgcodecs;\n\nclass Sample {\n\nstatic { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\n     \npublic static void main(String[] args) {\n    //The following JAVA code is partly based on the following Python and OpenCV code:\n    //Python code (my answer): https://stackoverflow.com/a/71542681/4926757\n    //The Python code is a conversion from the original MATLAB code:\n    //Original MATLAB code: https://stackoverflow.com/questions/4063965/how-can-i-convert-an-rgb-image-to-grayscale-but-keep-one-color\n \n    Mat image = Imgcodecs.imread(&quot;src/playground/input.png&quot;);  //Read input image //img = cv2.imread('src/playground/input.png')\n    Mat hsv = new Mat();\n    Imgproc.cvtColor(image, hsv, Imgproc.COLOR_BGR2HSV); //Convert the image to HSV color space. //hsv = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)\n    \n    //Instead of finding red pixels, find all the non-red pixels.\n    //Note: in OpenCV hue range is [0,179]) The original MATLAB code is 360.*hsvImage(:, :, 1), when hue range is [0, 1].\n    int minHue = 21;  //non_red_idx = (h &gt; 20//2) &amp; (h &lt; 340//2)  # Select &quot;non-red&quot; pixels (divide the original MATLAB values by 2 due to the range differences).\n    int maxHue = 169; //340/2-1;\n    int minSaturation = 0;\n    int maxSaturation = 255;\n    int minValue = 0;\n    int maxValue = 255;    \n    \n    //Create a mask of all non-red pixels\n    Mat mask = new Mat();\n    Core.inRange(hsv, new Scalar(minHue, minSaturation, minValue), new Scalar(maxHue, maxSaturation, maxValue), mask);\n    \n    Mat grey = new Mat();\n    Mat grey_as_bgr = new Mat();\n    Imgproc.cvtColor(image, grey, Imgproc.COLOR_BGR2GRAY); //Convert image from BGR to Grey\n    Imgproc.cvtColor(grey, grey_as_bgr, Imgproc.COLOR_GRAY2BGR); //Convert from Gray to BGR where R=G=B (we need 3 color channels).\n    \n    Mat result = image.clone();  //Clone image, and store in result\n        \n    grey_as_bgr.copyTo(result, mask);  //Copy the non-red pixels from grey_as_bgr to result (the red pixels are kept unmodified).\n    \n    Imgcodecs.imwrite(&quot;src/playground/output.png&quot;, result); //Save the result\n}\n\n}\n</code></pre>\n<hr />\n<p>Output:<br />\n<a href=\"https://i.stack.imgur.com/fsgHA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fsgHA.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75416755,"answer_count":1,"score":2,"last_activity_date":1676068632,"creation_date":1676035086,"question_id":75411682,"body_markdown":"I have the following class:\r\n\r\n        public class ThresholdHSV {\r\n        static {\r\n            System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Mat image = Imgcodecs.imread(&quot;src/playground/input.png&quot;);\r\n            Mat hsv = new Mat();\r\n            Imgproc.cvtColor(image, hsv, COLOR_BGR2HSV);\r\n    \r\n            int minHue = 168;\r\n            int maxHue = 180;\r\n            int minSaturation = 130;\r\n            int maxSaturation = 220;\r\n            int minValue = 120;\r\n            int maxValue = 220;\r\n    \r\n            Mat mask = new Mat();\r\n            Core.inRange(hsv, new Scalar(minHue, minSaturation, minValue), new Scalar(maxHue, maxSaturation, maxValue), mask);\r\n    \r\n            Mat grey = new Mat();\r\n            Imgproc.cvtColor(image, grey, COLOR_BGR2GRAY);\r\n    \r\n            Mat result = new Mat();\r\n            grey.copyTo(result, mask);\r\n            image.copyTo(result, mask);\r\n    \r\n            Imgcodecs.imwrite(&quot;src/playground/output.png&quot;, result);\r\n        }\r\n    }\r\n\r\nI would like to keep all the pixels of the image that have **HSV** values between the ***min*** and ***max*** provided values and set the rest to **greyScale**. To do so I am using **OpenCV**, I was able to keep all the **pixels** within the defined **ranges**, but the rest are all set to **black**.\r\n\r\nHere is what it looks like :\r\n\r\nBefore:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd here is after executing the ***main*** **method** :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is a [link][3] to a question I posted before containing images of the result I want to achieve, where I used **brute-force-image-processing**.\r\n\r\nWhy am I getting the rest of the pixels in black, and how to correct it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vt2N9.jpg\r\n  [2]: https://i.stack.imgur.com/b0TJk.png\r\n  [3]: https://stackoverflow.com/questions/73680479/how-make-color-isolation-effect-like-in-photoshop-with-java","title":"pixels set to black using OpenCV JAVA","body":"<p>I have the following class:</p>\n<pre><code>    public class ThresholdHSV {\n    static {\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n    }\n\n    public static void main(String[] args) {\n        Mat image = Imgcodecs.imread(&quot;src/playground/input.png&quot;);\n        Mat hsv = new Mat();\n        Imgproc.cvtColor(image, hsv, COLOR_BGR2HSV);\n\n        int minHue = 168;\n        int maxHue = 180;\n        int minSaturation = 130;\n        int maxSaturation = 220;\n        int minValue = 120;\n        int maxValue = 220;\n\n        Mat mask = new Mat();\n        Core.inRange(hsv, new Scalar(minHue, minSaturation, minValue), new Scalar(maxHue, maxSaturation, maxValue), mask);\n\n        Mat grey = new Mat();\n        Imgproc.cvtColor(image, grey, COLOR_BGR2GRAY);\n\n        Mat result = new Mat();\n        grey.copyTo(result, mask);\n        image.copyTo(result, mask);\n\n        Imgcodecs.imwrite(&quot;src/playground/output.png&quot;, result);\n    }\n}\n</code></pre>\n<p>I would like to keep all the pixels of the image that have <strong>HSV</strong> values between the <em><strong>min</strong></em> and <em><strong>max</strong></em> provided values and set the rest to <strong>greyScale</strong>. To do so I am using <strong>OpenCV</strong>, I was able to keep all the <strong>pixels</strong> within the defined <strong>ranges</strong>, but the rest are all set to <strong>black</strong>.</p>\n<p>Here is what it looks like :</p>\n<p>Before:</p>\n<p><a href=\"https://i.stack.imgur.com/Vt2N9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vt2N9.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And here is after executing the <em><strong>main</strong></em> <strong>method</strong> :</p>\n<p><a href=\"https://i.stack.imgur.com/b0TJk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b0TJk.png\" alt=\"enter image description here\" /></a></p>\n<p>This is a <a href=\"https://stackoverflow.com/questions/73680479/how-make-color-isolation-effect-like-in-photoshop-with-java\">link</a> to a question I posted before containing images of the result I want to achieve, where I used <strong>brute-force-image-processing</strong>.</p>\n<p>Why am I getting the rest of the pixels in black, and how to correct it?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4309632,"reputation":3394,"user_id":3521116,"accept_rate":67,"display_name":"warl0ck"},"score":3,"creation_date":1492533875,"post_id":43477788,"comment_id":74010950,"body_markdown":"thats because you are only checking till 8th index i.e. till 9th element only","body":"thats because you are only checking till 8th index i.e. till 9th element only"},{"owner":{"account_id":10570939,"reputation":127,"user_id":7787764,"accept_rate":100,"display_name":"Misys"},"score":0,"creation_date":1492533950,"post_id":43477788,"comment_id":74011005,"body_markdown":"`for(int i = 0;i&lt;count;i++)` change it to `i&lt;=count`","body":"<code>for(int i = 0;i&lt;count;i++)</code> change it to <code>i&lt;=count</code>"}],"answers":[{"comments":[{"owner":{"account_id":10659814,"reputation":19,"user_id":7848137,"display_name":"Ngroenewold"},"score":0,"creation_date":1492537359,"post_id":43477896,"comment_id":74013089,"body_markdown":"When I do that I get an error: Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 10. This just means that it&#39;s bigger than the array size right?","body":"When I do that I get an error: Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 10. This just means that it&#39;s bigger than the array size right?"}],"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492534086,"creation_date":1492534086,"answer_id":43477896,"question_id":43477788,"body_markdown":"Rely on the array to tell you how large it is instead of your constant `9`.\r\n\r\nThe fix is simple:  in your loop, iterate over its length instead.\r\n\r\n    while(count &lt; num.length) {\r\n\r\n    }","title":"Logic error with array","body":"<p>Rely on the array to tell you how large it is instead of your constant <code>9</code>.</p>\n\n<p>The fix is simple:  in your loop, iterate over its length instead.</p>\n\n<pre><code>while(count &lt; num.length) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10713921,"reputation":11,"user_id":7885314,"display_name":"Yaaaxi D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492538417,"creation_date":1492538041,"answer_id":43479082,"question_id":43477788,"body_markdown":"            int num1 =0;\r\n\r\n            while(count&lt;=9)\r\n            {\r\n                num1 = StdIn.readInt();\r\n                num[count] = num1;\r\n                count++;\r\n               \r\n            }\r\n\r\n`count` should be `&lt;=9`, because you need to scan 10 values. If it is `&lt;9`, then you are only scanning 9 values.\r\n\r\n`num1 = StdIn.readInt();` should be the first statement in the `while` loop. If you add it to the end, then you are scanning an extra number. That number is not added to the array because the loop condition becomes false i.e count becomes 10. So the last number is not printed because it is not added to array.","title":"Logic error with array","body":"<pre><code>        int num1 =0;\n\n        while(count&lt;=9)\n        {\n            num1 = StdIn.readInt();\n            num[count] = num1;\n            count++;\n\n        }\n</code></pre>\n\n<p><code>count</code> should be <code>&lt;=9</code>, because you need to scan 10 values. If it is <code>&lt;9</code>, then you are only scanning 9 values.</p>\n\n<p><code>num1 = StdIn.readInt();</code> should be the first statement in the <code>while</code> loop. If you add it to the end, then you are scanning an extra number. That number is not added to the array because the loop condition becomes false i.e count becomes 10. So the last number is not printed because it is not added to array.</p>\n"},{"tags":[],"owner":{"account_id":27385575,"reputation":26,"user_id":21014068,"display_name":"user21014068"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676068212,"creation_date":1675366214,"answer_id":75328105,"question_id":43477788,"body_markdown":"The issue in the code is with the termination condition of the loop. The loop is only executing 9 times even though you want to read 10 integers from the user. To fix this, you can modify the condition in the while loop as follows:\r\n\r\nscss\r\n\r\n    while(count&lt;10)\r\n\r\nAdditionally, you should also update the for loop to match the size of the num array, like this:\r\n\r\ncss\r\n\r\n    for(int i = 0;i&lt;10;i++","title":"Logic error with array","body":"<p>The issue in the code is with the termination condition of the loop. The loop is only executing 9 times even though you want to read 10 integers from the user. To fix this, you can modify the condition in the while loop as follows:</p>\n<p>scss</p>\n<pre><code>while(count&lt;10)\n</code></pre>\n<p>Additionally, you should also update the for loop to match the size of the num array, like this:</p>\n<p>css</p>\n<pre><code>for(int i = 0;i&lt;10;i++\n</code></pre>\n"}],"owner":{"account_id":10659814,"reputation":19,"user_id":7848137,"display_name":"Ngroenewold"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676068212,"creation_date":1492533762,"question_id":43477788,"body_markdown":"I am having a logic error with this code. I need to get ten int inputs from the user and then print out any number bigger than 10. The only problem is that if the very last number in the array is bigger than 10 it will not print.\r\n\r\n\r\n     public class Bigger10\r\n        {\r\n            public static void main(String[] args)\r\n            {\r\n                System.out.println(&quot;Please enter 10 integer numbers&quot;);\r\n                \r\n                int[] num = new int[10];\r\n                int count = 0;\r\n                int num1 = StdIn.readInt();\r\n        \r\n                while(count&lt;9)\r\n                {\r\n                    num[count] = num1;\r\n                    count++;\r\n                    num1 = StdIn.readInt();\r\n                }\r\n        \r\n                for(int i = 0;i&lt;count;i++)\r\n                {\r\n                    if(num[i]&gt;10)\r\n                    {\r\n                        System.out.printf(&quot;%d &quot;, num[i]);\r\n                    }    \r\n                }\r\n            }\r\n        }","title":"Logic error with array","body":"<p>I am having a logic error with this code. I need to get ten int inputs from the user and then print out any number bigger than 10. The only problem is that if the very last number in the array is bigger than 10 it will not print.</p>\n\n<pre><code> public class Bigger10\n    {\n        public static void main(String[] args)\n        {\n            System.out.println(\"Please enter 10 integer numbers\");\n\n            int[] num = new int[10];\n            int count = 0;\n            int num1 = StdIn.readInt();\n\n            while(count&lt;9)\n            {\n                num[count] = num1;\n                count++;\n                num1 = StdIn.readInt();\n            }\n\n            for(int i = 0;i&lt;count;i++)\n            {\n                if(num[i]&gt;10)\n                {\n                    System.out.printf(\"%d \", num[i]);\n                }    \n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","nosuchelementexception","findby"],"answers":[{"comments":[{"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"score":0,"creation_date":1676094983,"post_id":75416469,"comment_id":133072926,"body_markdown":"Thanks for your advise, but it did not work due to the same issue:org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;a.btn.btn-primary.btn-sm.mb-3[name=&#39;AddBeverageBtn&#39;][href^=&#39;showNewForm&#39;]&quot;}\n  (Session info: chrome=109.0.5414.120).....Command: [2786d357233496a40b4ea9afcb4834d4, findElement {using=css selector, value=a.btn.btn-primary.btn-sm.mb-3[name=&#39;AddBeverageBtn&#39;][href^=&#39;showNewForm&#39;]}]","body":"Thanks for your advise, but it did not work due to the same issue:org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;a.btn.btn-primary.btn-sm.mb-3[name=&#39;Ad&zwnj;&#8203;dBeverageBtn&#39;][href^&zwnj;&#8203;=&#39;showNewForm&#39;]&quot;}   (Session info: chrome=109.0.5414.120).....Command: [2786d357233496a40b4ea9afcb4834d4, findElement {using=css selector, value=a.btn.btn-primary.btn-sm.mb-3[name=&#39;AddBeverageBtn&#39;][h&zwnj;&#8203;ref^=&#39;showNewForm&#39;]}&zwnj;&#8203;]"},{"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"score":0,"creation_date":1676095835,"post_id":75416469,"comment_id":133072999,"body_markdown":"Even after changing Thymeleaf html to having only id=&quot;addButton&quot; class=&quot;btn btn-primary btn-sm mb-3&quot; it is not searcheable in the manner of @FindBy(id=&quot;addButton&quot;). However the &quot;id&quot; is unique","body":"Even after changing Thymeleaf html to having only id=&quot;addButton&quot; class=&quot;btn btn-primary btn-sm mb-3&quot; it is not searcheable in the manner of @FindBy(id=&quot;addButton&quot;). However the &quot;id&quot; is unique"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676066108,"creation_date":1676066108,"answer_id":75416469,"question_id":75414862,"body_markdown":"As an alternative you can use either of the following [`FindBy()`](https://stackoverflow.com/a/47863252/7429447) strategies:\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  @FindBy(css = &quot;a.btn.btn-primary.btn-sm.mb-3[name=&#39;AddBeverageBtn&#39;][href^=&#39;showNewForm&#39;]&quot;)\r\n\t  private WebElement buttonAdd;\r\n\r\n- Using _xpath_:\r\n\r\n\t  @FindBy(xpath = &quot;//a[@class=&#39;btn btn-primary btn-sm mb-3&#39; and @name=&#39;AddBeverageBtn&#39;][contains(@href, &#39;showNewForm&#39;) and normalize-space()=&#39;Add Beverage&#39;]&quot;)\r\n      private WebElement buttonAdd;","title":"Selenium : DOM element is not searchable using @FindBy name","body":"<p>As an alternative you can use either of the following <a href=\"https://stackoverflow.com/a/47863252/7429447\"><code>FindBy()</code></a> strategies:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>@FindBy(css = &quot;a.btn.btn-primary.btn-sm.mb-3[name='AddBeverageBtn'][href^='showNewForm']&quot;)\nprivate WebElement buttonAdd;\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>@FindBy(xpath = &quot;//a[@class='btn btn-primary btn-sm mb-3' and @name='AddBeverageBtn'][contains(@href, 'showNewForm') and normalize-space()='Add Beverage']&quot;)\nprivate WebElement buttonAdd;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676068002,"creation_date":1676053803,"question_id":75414862,"body_markdown":"I&#39;m stuck in searching DOM Element by Selenium. DOM has name=&quot;AddBeverageBtn&quot;\r\n\r\nPage class:\r\n\r\n\r\n    public class MainPage extends BasePage {\r\n    \r\n        @FindBy(name=&quot;AddBeverageBtn&quot;)\r\n        private WebElement buttonAdd ;\r\n\r\nHowever it fails with the reason it can&#39;t be find by *css selector*\r\n\r\nError:\r\n\r\n    org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;AddBeverageBtn&#39;]&quot;}\r\n      (Session info: chrome=109.0.5414.120)\r\n    For documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\r\n    Build info: version: &#39;4.1.4&#39;, revision: &#39;535d840ee2&#39;\r\n    System info: host: &#39;LAPTOP-O6B9USVI&#39;, ip: &#39;192.168.56.1&#39;, os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.5&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [e4fbd604ba2f3401a33d2c2c2c834576, findElement {using=name, value=AddBeverageBtn}]\r\n\r\nSnapshot of the element:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/111HK.png","title":"Selenium : DOM element is not searchable using @FindBy name","body":"<p>I'm stuck in searching DOM Element by Selenium. DOM has name=&quot;AddBeverageBtn&quot;</p>\n<p>Page class:</p>\n<pre><code>public class MainPage extends BasePage {\n\n    @FindBy(name=&quot;AddBeverageBtn&quot;)\n    private WebElement buttonAdd ;\n</code></pre>\n<p>However it fails with the reason it can't be find by <em>css selector</em></p>\n<p>Error:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name='AddBeverageBtn']&quot;}\n  (Session info: chrome=109.0.5414.120)\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\nBuild info: version: '4.1.4', revision: '535d840ee2'\nSystem info: host: 'LAPTOP-O6B9USVI', ip: '192.168.56.1', os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.5'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [e4fbd604ba2f3401a33d2c2c2c834576, findElement {using=name, value=AddBeverageBtn}]\n</code></pre>\n<p>Snapshot of the element:</p>\n<p><a href=\"https://i.stack.imgur.com/111HK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/111HK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","tomcat","process","java-11","processbuilder"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1676205314,"post_id":75416540,"comment_id":133086775,"body_markdown":"This question makes no sense unless you add the code and details show your apparent hang. You are looking in the wrong place. Its not going to be solved by changing the script you&#39;ve launched. See my comment on your earlier duplicate [question](https://stackoverflow.com/questions/75411347/java-processexplorer-is-there-a-way-to-allow-a-remote-machine-to-handle-the-proc).","body":"This question makes no sense unless you add the code and details show your apparent hang. You are looking in the wrong place. Its not going to be solved by changing the script you&#39;ve launched. See my comment on your earlier duplicate <a href=\"https://stackoverflow.com/questions/75411347/java-processexplorer-is-there-a-way-to-allow-a-remote-machine-to-handle-the-proc\">question</a>."}],"owner":{"account_id":16080761,"reputation":55,"user_id":11606740,"display_name":"Zachary McArthur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676066563,"creation_date":1676066563,"question_id":75416540,"body_markdown":"Let&#39;s say I have a folder.bat file such as this:\r\n```\r\nEcho HELLO\r\ncd subfolder\r\n  call subfolder.bat\r\ncd ..\r\nEcho HELLO AGAIN!\r\n```\r\nI have noticed that when the processes run, the subfolder.bat gets it&#39;s own process that the current process builder is unaware of.  So when the process finishes, the subfolder.bat can hang if for example, the output buffer fills up.  \r\n\r\nIs there a good way to handle this if I am unable to change the folder.bat or subfolder.bat files? ","title":"Java ProcessBuilder batch file that calls other batch files","body":"<p>Let's say I have a folder.bat file such as this:</p>\n<pre><code>Echo HELLO\ncd subfolder\n  call subfolder.bat\ncd ..\nEcho HELLO AGAIN!\n</code></pre>\n<p>I have noticed that when the processes run, the subfolder.bat gets it's own process that the current process builder is unaware of.  So when the process finishes, the subfolder.bat can hang if for example, the output buffer fills up.</p>\n<p>Is there a good way to handle this if I am unable to change the folder.bat or subfolder.bat files?</p>\n"},{"tags":["java","maven","selenium","findby"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":1,"creation_date":1513564035,"post_id":47860816,"comment_id":82687638,"body_markdown":"What is the need to add &#39;:Samsung&#39; at the end of the classname value for findby?","body":"What is the need to add &#39;:Samsung&#39; at the end of the classname value for findby?"},{"owner":{"account_id":403854,"reputation":465667,"user_id":771848,"accept_rate":100,"display_name":"alecxe"},"score":1,"creation_date":1513565319,"post_id":47860816,"comment_id":82687931,"body_markdown":"Additionally, `ui-cell-data` feels like *quite a broad class* and may potentially match other undesired elements as well. Though, you have not shown the markup of the page and it is impossible to tell at this point.","body":"Additionally, <code>ui-cell-data</code> feels like <i>quite a broad class</i> and may potentially match other undesired elements as well. Though, you have not shown the markup of the page and it is impossible to tell at this point."}],"answers":[{"comments":[{"owner":{"account_id":5640055,"reputation":2057,"user_id":4464220,"accept_rate":75,"display_name":"Ali Azam"},"score":0,"creation_date":1513697811,"post_id":47861841,"comment_id":82746954,"body_markdown":"@meert hey bro! did it work for you? Please let me know your feedback.","body":"@meert hey bro! did it work for you? Please let me know your feedback."}],"tags":[],"owner":{"account_id":5640055,"reputation":2057,"user_id":4464220,"accept_rate":75,"display_name":"Ali Azam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513612584,"creation_date":1513568355,"answer_id":47861841,"question_id":47860816,"body_markdown":"You can use `@FindBys` like a chained element look-up\r\n\r\n    @FindBys({@FindBy(className = &quot;ui-cell-data&quot;)})\r\n    private WebElement element;\r\n\r\nOr try using below:\r\n\r\n    @FindBy(xpath = &quot;//*[@class = &#39;ui-cell-data&#39;]&quot;)\r\n    private WebElement element;\r\n\r\nor\r\n\r\n    @FindBy(css = &quot;.ui-cell-data&quot;)\r\n    private WebElement element; \r\n\r\n Hopefully it resolves your issue.","title":"How to use @FindBy annotation in Selenium for span text?","body":"<p>You can use <code>@FindBys</code> like a chained element look-up</p>\n\n<pre><code>@FindBys({@FindBy(className = \"ui-cell-data\")})\nprivate WebElement element;\n</code></pre>\n\n<p>Or try using below:</p>\n\n<pre><code>@FindBy(xpath = \"//*[@class = 'ui-cell-data']\")\nprivate WebElement element;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@FindBy(css = \".ui-cell-data\")\nprivate WebElement element; \n</code></pre>\n\n<p>Hopefully it resolves your issue.</p>\n"},{"tags":[],"owner":{"account_id":4744638,"reputation":1,"user_id":3836277,"display_name":"Abhijit Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513598722,"creation_date":1513577329,"answer_id":47862952,"question_id":47860816,"body_markdown":"You can try with xpath stated below \r\n\r\n     @FindBy(xpath = &quot;//span[@class = &#39;ui-cell-data&#39;]&quot;) \r\n     private WebElement element;","title":"How to use @FindBy annotation in Selenium for span text?","body":"<p>You can try with xpath stated below </p>\n\n<pre><code> @FindBy(xpath = \"//span[@class = 'ui-cell-data']\") \n private WebElement element;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676066097,"creation_date":1513578947,"answer_id":47863252,"question_id":47860816,"body_markdown":"As per the `HTML` you have shared you may/maynot have been able to get the **Apple** text within the span element with :\r\n\r\n\t@FindBy(className = &quot;ui-cell-data&quot;)\r\n\tWebElement customerName;\r\n\t\r\nYour code was nearly perfect but the trailing part in the `className` as **`:Samsung`** was unnecessary.\r\n\r\nBut again, looking at the `class` attribute it is expected that a couple of more **`&lt;span&gt;`** tags will have the same `class`. So to uniquely identify the intended **`WebElement`** we need to refer to a parent node and follow its decendents to reach this particular node.\r\n\r\nFinally, with the given `HTML` the following code block will be much cleaner :\r\n\r\n- _cssSelector_:\r\n\r\n\t  @FindBy(css = &quot;span.ui-cell-data&quot;)\r\n\t  WebElement customerName;\r\n\r\n- _xpath_:\r\n\r\n\t  @FindBy(xpath = &quot;//span[@class=&#39;ui-cell-data&#39;]&quot;)\r\n\t  WebElement customerName;","title":"How to use @FindBy annotation in Selenium for span text?","body":"<p>As per the <code>HTML</code> you have shared you may/maynot have been able to get the <strong>Apple</strong> text within the span element with :</p>\n<pre><code>@FindBy(className = &quot;ui-cell-data&quot;)\nWebElement customerName;\n</code></pre>\n<p>Your code was nearly perfect but the trailing part in the <code>className</code> as <strong><code>:Samsung</code></strong> was unnecessary.</p>\n<p>But again, looking at the <code>class</code> attribute it is expected that a couple of more <strong><code>&lt;span&gt;</code></strong> tags will have the same <code>class</code>. So to uniquely identify the intended <strong><code>WebElement</code></strong> we need to refer to a parent node and follow its decendents to reach this particular node.</p>\n<p>Finally, with the given <code>HTML</code> the following code block will be much cleaner :</p>\n<ul>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>@FindBy(css = &quot;span.ui-cell-data&quot;)\nWebElement customerName;\n</code></pre>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>@FindBy(xpath = &quot;//span[@class='ui-cell-data']&quot;)\nWebElement customerName;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"display_name":"user6941415"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3094,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47863252,"answer_count":3,"score":1,"last_activity_date":1676066097,"creation_date":1513557410,"question_id":47860816,"body_markdown":"I want to know what can I do to get the &quot;Apple&quot; text in span element with @FindBy annotation.\r\n\r\nThats html code:\r\n\r\n    &lt;span class=&quot;ui-cell-data&quot;&gt;Apple&lt;/span&gt;\r\n\r\nand I tried something like that:\r\n\r\n    @FindBy(className = &quot;ui-cell-data:Samsung&quot;)\r\n    WebElement customerName;\r\n\r\nbut it didn&#39;t work!","title":"How to use @FindBy annotation in Selenium for span text?","body":"<p>I want to know what can I do to get the \"Apple\" text in span element with @FindBy annotation.</p>\n\n<p>Thats html code:</p>\n\n<pre><code>&lt;span class=\"ui-cell-data\"&gt;Apple&lt;/span&gt;\n</code></pre>\n\n<p>and I tried something like that:</p>\n\n<pre><code>@FindBy(className = \"ui-cell-data:Samsung\")\nWebElement customerName;\n</code></pre>\n\n<p>but it didn't work!</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1659770958,"post_id":73251954,"comment_id":129377829,"body_markdown":"[Edit] your question and post the error details as text and not as an image. Refer to [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question)","body":"<a href=\"https://stackoverflow.com/posts/73251954/edit\">Edit</a> your question and post the error details as text and not as an image. Refer to <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\">Why should I not upload images of code/data/errors when asking a question?</a>"},{"owner":{"account_id":24903594,"reputation":1,"user_id":18773984,"display_name":"Tracy Marston"},"score":0,"creation_date":1659890716,"post_id":73251954,"comment_id":129397319,"body_markdown":"Issue has been resolved.","body":"Issue has been resolved."}],"owner":{"account_id":24903594,"reputation":1,"user_id":18773984,"display_name":"Tracy Marston"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676065749,"creation_date":1659712648,"question_id":73251954,"body_markdown":"ERROR Unable to read Suppression file\r\n\r\n![1]\r\n\r\nI&#39;m running a build after adding a CVE to suppress with an XML suppression file. I&#39;ve linked the suppression file within the POM file under the dependency-check-maven configuration. The POM and suppression are located within the same folder in my project structure. \r\n\r\nTried:\r\n\r\n - adding a path using ${basedir}/ before the suppression file name.\r\n\r\nPOM\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.snhu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;rest-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;rest-service&lt;/name&gt;\r\n\t&lt;description&gt;Project for CS-305 Module 6&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t    &lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n  \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.46&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n              &lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n              &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n              &lt;version&gt;7.1.1&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                   &lt;suppressionFiles&gt;\r\n                        &lt;suppressionFile&gt;suppression-new.xml&lt;/suppressionFile&gt;\r\n                &lt;/suppressionFiles&gt;   \r\n                &lt;/configuration&gt;\r\n              &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                      &lt;goals&gt;\r\n                          &lt;goal&gt;check&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n             \r\n            &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4k11U.png","title":"Unable to read Supression file","body":"<p>ERROR Unable to read Suppression file</p>\n<p><img src=\"https://i.stack.imgur.com/4k11U.png\" alt=\"1\" /></p>\n<p>I'm running a build after adding a CVE to suppress with an XML suppression file. I've linked the suppression file within the POM file under the dependency-check-maven configuration. The POM and suppression are located within the same folder in my project structure.</p>\n<p>Tried:</p>\n<ul>\n<li>adding a path using ${basedir}/ before the suppression file name.</li>\n</ul>\n<p>POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.snhu&lt;/groupId&gt;\n&lt;artifactId&gt;rest-service&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;rest-service&lt;/name&gt;\n&lt;description&gt;Project for CS-305 Module 6&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.46&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;plugin&gt;\n          &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n          &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n          &lt;version&gt;7.1.1&lt;/version&gt;\n          &lt;configuration&gt;\n               &lt;suppressionFiles&gt;\n                    &lt;suppressionFile&gt;suppression-new.xml&lt;/suppressionFile&gt;\n            &lt;/suppressionFiles&gt;   \n            &lt;/configuration&gt;\n          &lt;executions&gt;\n              &lt;execution&gt;\n                  &lt;goals&gt;\n                      &lt;goal&gt;check&lt;/goal&gt;\n                  &lt;/goals&gt;\n              &lt;/execution&gt;\n          &lt;/executions&gt;\n         \n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1676365571,"post_id":75413240,"comment_id":133117510,"body_markdown":"Share the code that you use for persisting and also the full stack trace of the error.","body":"Share the code that you use for persisting and also the full stack trace of the error."}],"owner":{"account_id":11044887,"reputation":99,"user_id":8270202,"accept_rate":56,"display_name":"jimmyrap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676065084,"creation_date":1676043786,"question_id":75413240,"body_markdown":"There is a SecondaryClass, which has embedded id that consists of NOT ids (not PKs) but simple string columns of two tables - Foo and Bar.\r\n\r\n```\r\n@Embeddable\r\npublic class SecondaryClassId implements Serializable {\r\n    private String fooPublicId;\r\n    private Long barPublicId;\r\n}\r\n```\r\n\r\n I want this composite key to be unique for each PrimaryClass. PrimaryClass is an uber-class, which has one-to-many mapping with SecondaryClass. There may be many combinations where different PrimaryClasses will be created with already existing in database Foo&#39;s and Bar&#39;s. I want to say to Hibernate &quot;ok so if there already is a Foo row with id jsd72bd or Bar row with id906hd just relate to those ones, don&#39;t create new duplicated row with the same ids&quot;. \r\n\r\n\r\n```\r\n@Entity\r\npublic class SecondaryClass implements Serializable {\r\n    @EmbeddedId\r\n    private SecondaryClassId;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;bar_id&quot;, referencedColumnName = &quot;bar_public_id&quot;, insertable = false, updatable = false)\r\n    private Foo foo;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;foo_id&quot;, referencedColumnName = &quot;foo_public_id&quot;, insertable = false, updatable = false)\r\n    private Bar bar;\r\n@ManyToOne\r\n    @JoinColumn(name = &quot;primary_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\r\n    private PrimaryClass primaryClass;\r\n}\r\n```\r\n\r\nI keep getting an error:\r\nEntityExistsException A different object with the same identifier value was already associated with the session\r\n\r\n```\r\n@Entity\r\npublic class PrimaryClass implements Serializable {\r\n@Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;primaryClass&quot;)\r\n    private Set&lt;SecondaryClass&gt; secondaries = new HashSet&lt;&gt;();\r\n}\r\n```\r\n","title":"Hibernate composite id mapping - different object with the same identifier value was already associated with the session","body":"<p>There is a SecondaryClass, which has embedded id that consists of NOT ids (not PKs) but simple string columns of two tables - Foo and Bar.</p>\n<pre><code>@Embeddable\npublic class SecondaryClassId implements Serializable {\n    private String fooPublicId;\n    private Long barPublicId;\n}\n</code></pre>\n<p>I want this composite key to be unique for each PrimaryClass. PrimaryClass is an uber-class, which has one-to-many mapping with SecondaryClass. There may be many combinations where different PrimaryClasses will be created with already existing in database Foo's and Bar's. I want to say to Hibernate &quot;ok so if there already is a Foo row with id jsd72bd or Bar row with id906hd just relate to those ones, don't create new duplicated row with the same ids&quot;.</p>\n<pre><code>@Entity\npublic class SecondaryClass implements Serializable {\n    @EmbeddedId\n    private SecondaryClassId;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;bar_id&quot;, referencedColumnName = &quot;bar_public_id&quot;, insertable = false, updatable = false)\n    private Foo foo;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;foo_id&quot;, referencedColumnName = &quot;foo_public_id&quot;, insertable = false, updatable = false)\n    private Bar bar;\n@ManyToOne\n    @JoinColumn(name = &quot;primary_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\n    private PrimaryClass primaryClass;\n}\n</code></pre>\n<p>I keep getting an error:\nEntityExistsException A different object with the same identifier value was already associated with the session</p>\n<pre><code>@Entity\npublic class PrimaryClass implements Serializable {\n@Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;primaryClass&quot;)\n    private Set&lt;SecondaryClass&gt; secondaries = new HashSet&lt;&gt;();\n}\n</code></pre>\n"},{"tags":["java","types","binary-string"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1676063866,"post_id":75415896,"comment_id":133069454,"body_markdown":"since you are *not* providing the negative sign, try `Long.parseUnsignedLong(&quot;1111000000000111000000000001000000000010010000000000000000000000&quot;,2)` (it will return a negative `long` for above strings)","body":"since you are <i>not</i> providing the negative sign, try <code>Long.parseUnsignedLong(&quot;111100000000011100000000000100000000&zwnj;&#8203;00100100000000000000&zwnj;&#8203;00000000&quot;,2)</code> (it will return a negative <code>long</code> for above strings)"}],"answers":[{"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1676061746,"creation_date":1676061746,"answer_id":75415937,"question_id":75415896,"body_markdown":"You&#39;re passing in a size 64 binary string, which is bigger than the signed byte size of a long. Since `parseLong` doesn&#39;t accept unsigned binary representations and instead wants a - or (an optional) + in front of the number to denote the sign, it throws an error. The max byte length you can pass into parseLong is 63.\r\n\r\nAn equivalent `parseLong` call to your first example would be `Long.parseLong(&quot;-111111111000111111111110111111111101110000000000000000000000&quot;, 2)`, using the - sign and the two&#39;s complement of the number.","title":"Long.parseLong throws NumberFormatException for binary string","body":"<p>You're passing in a size 64 binary string, which is bigger than the signed byte size of a long. Since <code>parseLong</code> doesn't accept unsigned binary representations and instead wants a - or (an optional) + in front of the number to denote the sign, it throws an error. The max byte length you can pass into parseLong is 63.</p>\n<p>An equivalent <code>parseLong</code> call to your first example would be <code>Long.parseLong(&quot;-111111111000111111111110111111111101110000000000000000000000&quot;, 2)</code>, using the - sign and the two's complement of the number.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676063893,"creation_date":1676062827,"answer_id":75416070,"question_id":75415896,"body_markdown":"You are trying to parse a 64-bit unsigned (long) integer as a 64-bit signed (long) integer.\r\n\r\nJava&#39;s `long` is not unsigned. You will only be able to store a positive number up to 63 bits. The max value for a `long` is `9,223,372,036,854,775,807` or `2^(63)`.\r\n\r\nThe most-significant bit (left-most) is the signed bit.\r\n\r\n* If it&#39;s a 64-bit string that begins with a 1, it&#39;s negative.\r\n* If it&#39;s less than 64 bits, it&#39;s positive and the leading 0 will not be displayed.\r\n\r\nNote: Any leading zeroes will not be displayed.\r\n\r\n```java\r\nimport java.math.BigInteger;\r\n\r\npublic class NumberUtils {\r\n\r\n  static final String MIN_SIGNED_LONG_BINARY = Long.toBinaryString(Long.MIN_VALUE);\r\n  static final String MAX_SIGNED_LONG_BINARY =\r\n      padStart(Long.toBinaryString(Long.MAX_VALUE), 64, &quot;0&quot;);\r\n\r\n  public static void main(String[] args) {\r\n    parseBinary(&quot;1111000000000111000000000001000000000010010000000000000000000000&quot;);\r\n    parseBinary(&quot;1100000001000000010000000100000000001110000000010000010000000000&quot;);\r\n  }\r\n\r\n  private static void parseBinary(String str) {\r\n    BigInteger bigInt = new BigInteger(str, 2);\r\n    System.out.println(bigInt.longValue());\r\n    try {\r\n      Long.parseLong(str, 2);\r\n    } catch (NumberFormatException e) {\r\n      System.out.printf(\r\n          &quot;Error:%n* Min: %s (%d bits)%n* Val: %s (%d bits)%n* Max: %s (%d bits)%n&quot;,\r\n          MIN_SIGNED_LONG_BINARY,\r\n          MIN_SIGNED_LONG_BINARY.length(),\r\n          str,\r\n          str.length(),\r\n          MAX_SIGNED_LONG_BINARY,\r\n          MAX_SIGNED_LONG_BINARY.length());\r\n    }\r\n  }\r\n\r\n  public static String padStart(String inputString, int targetLength, String padString) {\r\n    if (inputString.length() &gt;= targetLength) return inputString;\r\n    StringBuilder sb = new StringBuilder();\r\n    while (sb.length() &lt; targetLength - inputString.length()) {\r\n      sb.append(padString);\r\n    }\r\n    return sb.append(inputString).toString();\r\n  }\r\n}\r\n\r\n```\r\n\r\n## Output\r\n\r\n```\r\n-1150951111012646912\r\nError:\r\n* Min: 1000000000000000000000000000000000000000000000000000000000000000 (64 bits)\r\n* Val: 1111000000000111000000000001000000000010010000000000000000000000 (64 bits)\r\n* Max: 0111111111111111111111111111111111111111111111111111111111111111 (64 bits)\r\n-4593600976060873728\r\nError:\r\n* Min: 1000000000000000000000000000000000000000000000000000000000000000 (64 bits)\r\n* Val: 1100000001000000010000000100000000001110000000010000010000000000 (64 bits)\r\n* Max: 0111111111111111111111111111111111111111111111111111111111111111 (64 bits)\r\n```","title":"Long.parseLong throws NumberFormatException for binary string","body":"<p>You are trying to parse a 64-bit unsigned (long) integer as a 64-bit signed (long) integer.</p>\n<p>Java's <code>long</code> is not unsigned. You will only be able to store a positive number up to 63 bits. The max value for a <code>long</code> is <code>9,223,372,036,854,775,807</code> or <code>2^(63)</code>.</p>\n<p>The most-significant bit (left-most) is the signed bit.</p>\n<ul>\n<li>If it's a 64-bit string that begins with a 1, it's negative.</li>\n<li>If it's less than 64 bits, it's positive and the leading 0 will not be displayed.</li>\n</ul>\n<p>Note: Any leading zeroes will not be displayed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigInteger;\n\npublic class NumberUtils {\n\n  static final String MIN_SIGNED_LONG_BINARY = Long.toBinaryString(Long.MIN_VALUE);\n  static final String MAX_SIGNED_LONG_BINARY =\n      padStart(Long.toBinaryString(Long.MAX_VALUE), 64, &quot;0&quot;);\n\n  public static void main(String[] args) {\n    parseBinary(&quot;1111000000000111000000000001000000000010010000000000000000000000&quot;);\n    parseBinary(&quot;1100000001000000010000000100000000001110000000010000010000000000&quot;);\n  }\n\n  private static void parseBinary(String str) {\n    BigInteger bigInt = new BigInteger(str, 2);\n    System.out.println(bigInt.longValue());\n    try {\n      Long.parseLong(str, 2);\n    } catch (NumberFormatException e) {\n      System.out.printf(\n          &quot;Error:%n* Min: %s (%d bits)%n* Val: %s (%d bits)%n* Max: %s (%d bits)%n&quot;,\n          MIN_SIGNED_LONG_BINARY,\n          MIN_SIGNED_LONG_BINARY.length(),\n          str,\n          str.length(),\n          MAX_SIGNED_LONG_BINARY,\n          MAX_SIGNED_LONG_BINARY.length());\n    }\n  }\n\n  public static String padStart(String inputString, int targetLength, String padString) {\n    if (inputString.length() &gt;= targetLength) return inputString;\n    StringBuilder sb = new StringBuilder();\n    while (sb.length() &lt; targetLength - inputString.length()) {\n      sb.append(padString);\n    }\n    return sb.append(inputString).toString();\n  }\n}\n\n</code></pre>\n<h2>Output</h2>\n<pre><code>-1150951111012646912\nError:\n* Min: 1000000000000000000000000000000000000000000000000000000000000000 (64 bits)\n* Val: 1111000000000111000000000001000000000010010000000000000000000000 (64 bits)\n* Max: 0111111111111111111111111111111111111111111111111111111111111111 (64 bits)\n-4593600976060873728\nError:\n* Min: 1000000000000000000000000000000000000000000000000000000000000000 (64 bits)\n* Val: 1100000001000000010000000100000000001110000000010000010000000000 (64 bits)\n* Max: 0111111111111111111111111111111111111111111111111111111111111111 (64 bits)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676064650,"creation_date":1676064349,"answer_id":75416248,"question_id":75415896,"body_markdown":"The short answer is that neither `Integer.parseInt` nor `Long.parseLong` can parse twos complement negative numbers without replacing the sign bit with an explicit `&#39;+&#39;` or `&#39;-&#39;` sign.\r\n\r\nThis is probably in keeping with parsing a decimal number such as the following:\r\n```\r\nString max = &quot;9223372036854775807&quot;;  // Long.MAX_VALUE         \r\nString maxPlus1 = &quot;9223372036854775808&quot;; // Long.MAX_VALUE+1 \r\nlong m = Long.parseLong(max,10); //OK\r\nlong m1 =Long.parseLong(maxPlus1,10)); // throws exception\r\n```\r\nTo parse your two&#39;s complement value of long or any other value you can use\r\n[Long.parseUnsignedLong](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Long.html#parseUnsignedLong(java.lang.String,int)).  All the following three method calls correctly parse the values, printing out `Long.MIN_VALUE`, the fourth one being your specific value in your question.\r\n```\r\nSystem.out.println(Long.parseUnsignedLong(&quot;1000000000000000000000000000000000000000000000000000000000000000&quot;,2));\r\nSystem.out.println(Long.parseUnsignedLong(&quot;8000000000000000&quot;,16));\r\nSystem.out.println(Long.parseUnsignedLong(&quot;9223372036854775808&quot;,10));\r\nSystem.out.println(Long.parseUnsignedLong(&quot;1111000000000111000000000001000000000010010000000000000000000000&quot;,2));\r\n```\r\nprints\r\n```\r\n-9223372036854775808\r\n-9223372036854775808\r\n-9223372036854775808\r\n-1150951111012646912\r\n","title":"Long.parseLong throws NumberFormatException for binary string","body":"<p>The short answer is that neither <code>Integer.parseInt</code> nor <code>Long.parseLong</code> can parse twos complement negative numbers without replacing the sign bit with an explicit <code>'+'</code> or <code>'-'</code> sign.</p>\n<p>This is probably in keeping with parsing a decimal number such as the following:</p>\n<pre><code>String max = &quot;9223372036854775807&quot;;  // Long.MAX_VALUE         \nString maxPlus1 = &quot;9223372036854775808&quot;; // Long.MAX_VALUE+1 \nlong m = Long.parseLong(max,10); //OK\nlong m1 =Long.parseLong(maxPlus1,10)); // throws exception\n</code></pre>\n<p>To parse your two's complement value of long or any other value you can use\n<a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Long.html#parseUnsignedLong(java.lang.String,int)\" rel=\"nofollow noreferrer\">Long.parseUnsignedLong</a>.  All the following three method calls correctly parse the values, printing out <code>Long.MIN_VALUE</code>, the fourth one being your specific value in your question.</p>\n<pre><code>System.out.println(Long.parseUnsignedLong(&quot;1000000000000000000000000000000000000000000000000000000000000000&quot;,2));\nSystem.out.println(Long.parseUnsignedLong(&quot;8000000000000000&quot;,16));\nSystem.out.println(Long.parseUnsignedLong(&quot;9223372036854775808&quot;,10));\nSystem.out.println(Long.parseUnsignedLong(&quot;1111000000000111000000000001000000000010010000000000000000000000&quot;,2));\n</code></pre>\n<p>prints</p>\n<pre><code>-9223372036854775808\n-9223372036854775808\n-9223372036854775808\n-1150951111012646912\n</code></pre>\n"}],"owner":{"account_id":27756400,"reputation":21,"user_id":21189776,"display_name":" za1ra1za1 "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1676064650,"creation_date":1676061400,"question_id":75415896,"body_markdown":"we have byte `string s = &quot;1111000000000111000000000001000000000010010000000000000000000000&quot;`(this value equal -1150951111012646912), if we use `Long.parseLong(s, 2)`, we got &quot;\r\n\r\n&gt; java.lang.NumberFormatException: For input string:\r\n&gt; &quot;1100000001000000010000000100000000001110000000010000010000000000&quot;\r\n&gt; under radix 2&quot;.\r\n\r\ni fixed this problem with this way to convert\r\n\r\n     new BigInteger(s, 2).longValue();\r\n\r\nExplain please i can&#39;t understand what happend?\r\n\r\n\r\nSame situation with this value: \r\n`s = 1100000001000000010000000100000000001110000000010000010000000000` (equal -4593600976060873728)\r\n\r\n    new BigInteger(s, 2).longValue();\r\n\r\n","title":"Long.parseLong throws NumberFormatException for binary string","body":"<p>we have byte <code>string s = &quot;1111000000000111000000000001000000000010010000000000000000000000&quot;</code>(this value equal -1150951111012646912), if we use <code>Long.parseLong(s, 2)</code>, we got &quot;</p>\n<blockquote>\n<p>java.lang.NumberFormatException: For input string:\n&quot;1100000001000000010000000100000000001110000000010000010000000000&quot;\nunder radix 2&quot;.</p>\n</blockquote>\n<p>i fixed this problem with this way to convert</p>\n<pre><code> new BigInteger(s, 2).longValue();\n</code></pre>\n<p>Explain please i can't understand what happend?</p>\n<p>Same situation with this value:\n<code>s = 1100000001000000010000000100000000001110000000010000010000000000</code> (equal -4593600976060873728)</p>\n<pre><code>new BigInteger(s, 2).longValue();\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1676054014,"post_id":75414774,"comment_id":133067124,"body_markdown":"The console uses a fixed-width font.  Your app uses a variable-width font.  You can [customize the font with CSS](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/doc-files/cssref.html#typefont).  Selecting a fixed-width font for display such as `monospace` or `Courier` will allow everything in your listview spaced columns to align as you expect.  Some info on [fixed and variable width fonts](https://azi.medium.com/proportional-vs-monospaced-numbers-when-to-use-which-one-in-order-to-avoid-wiggling-labels-e31b1c83e4d0).","body":"The console uses a fixed-width font.  Your app uses a variable-width font.  You can <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/doc-files/cssref.html#typefont\" rel=\"nofollow noreferrer\">customize the font with CSS</a>.  Selecting a fixed-width font for display such as <code>monospace</code> or <code>Courier</code> will allow everything in your listview spaced columns to align as you expect.  Some info on <a href=\"https://azi.medium.com/proportional-vs-monospaced-numbers-when-to-use-which-one-in-order-to-avoid-wiggling-labels-e31b1c83e4d0\" rel=\"nofollow noreferrer\">fixed and variable width fonts</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1676055059,"post_id":75414774,"comment_id":133067415,"body_markdown":"If you want to line things up in a table or grid in JavaFX, you should use an appropriate layout to do that, instead of relying on a text-based layout. Either a `GridPane` or possibly a `TableView` should work, depending on what you actually want to do.","body":"If you want to line things up in a table or grid in JavaFX, you should use an appropriate layout to do that, instead of relying on a text-based layout. Either a <code>GridPane</code> or possibly a <code>TableView</code> should work, depending on what you actually want to do."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1676060375,"post_id":75414774,"comment_id":133068646,"body_markdown":"You shouldn&#39;t put nodes in the list backing a ListView.  That list should only include data items.  If you want to customize the visuals of the items displayed in the ListView, then use a cell factory that produces [customized cells](https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/Cell.html). (The same is true for TableView if you decide to use that instead).","body":"You shouldn&#39;t put nodes in the list backing a ListView.  That list should only include data items.  If you want to customize the visuals of the items displayed in the ListView, then use a cell factory that produces <a href=\"https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/Cell.html\" rel=\"nofollow noreferrer\">customized cells</a>. (The same is true for TableView if you decide to use that instead)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1676060617,"post_id":75414774,"comment_id":133068694,"body_markdown":"You should have `ListView&lt;Order&gt;`, not `ListView&lt;HBox&gt;`, and use the list view cell factory to produce and populate the HBoxes and Labels you need.  Study a [ListView tutorial](https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/list-view.htm) &quot;Customizing the Content of a List View&quot; for more info.","body":"You should have <code>ListView&lt;Order&gt;</code>, not <code>ListView&lt;HBox&gt;</code>, and use the list view cell factory to produce and populate the HBoxes and Labels you need.  Study a <a href=\"https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/list-view.htm\" rel=\"nofollow noreferrer\">ListView tutorial</a> &quot;Customizing the Content of a List View&quot; for more info."}],"owner":{"account_id":20351024,"reputation":1,"user_id":21189119,"display_name":"Perpetual God"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676064081,"creation_date":1676053236,"question_id":75414774,"body_markdown":"I&#39;m trying to write a JavaFX app that shows in UI formatted text. The problem is showed text is a bit different from what i passed to show. Seems like less spaces, that it is supposed to be.\r\nWhat can i do wrong?\r\n\r\n```\r\n@FXML\r\npublic ListView&lt;HBox&gt; buyList;\r\n@FXML\r\npublic ListView&lt;HBox&gt; sellList;\r\n```\r\n. . .\r\n```\r\nprivate ObservableList&lt;HBox&gt; ordersToListItems(List&lt;Order&gt; orders)\r\n{\r\n    ObservableList&lt;HBox&gt; items = FXCollections.observableArrayList();\r\n\r\n    orders.forEach(order -&gt; {\r\n        final String assetVolume = order.getAssetVolume() + &quot;$&quot;;\r\n        final String limits = order.getLimitFiatMin() + &quot;-&quot; + order.getLimitFiatMax();\r\n        Label priceLabel = new Label(String.format(&quot;%-7s&quot;, order.getPrice()));\r\n        Label limitsLabel = new Label(String.format(&quot;%-12s&quot;, limits));\r\n        Label volumeLabel = new Label(String.format(&quot;%-20s&quot;, assetVolume));\r\n        Label nameLabel = new Label(String.format(&quot;%-20s&quot;, order.getAdvertiserName()));\r\n        System.out.println(priceLabel.getText() + limitsLabel.getText() + volumeLabel.getText() + nameLabel.getText());\r\n        HBox hbox = new HBox(priceLabel, limitsLabel, volumeLabel, nameLabel);\r\n        items.add(hbox);\r\n    });\r\n\r\n    return items;\r\n}\r\n```\r\n. . .\r\n```\r\nbuyList.setItems(ordersToListItems(buyOrders));\r\nsellList.setItems(ordersToListItems(sellOrders));\r\n```\r\n\r\nOutput in console:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOuput in `JavaFX` app:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RRpHy.png\r\n  [2]: https://i.stack.imgur.com/BRhW1.png","title":"JavaFX shows formatted text in different format that has passed to show","body":"<p>I'm trying to write a JavaFX app that shows in UI formatted text. The problem is showed text is a bit different from what i passed to show. Seems like less spaces, that it is supposed to be.\nWhat can i do wrong?</p>\n<pre><code>@FXML\npublic ListView&lt;HBox&gt; buyList;\n@FXML\npublic ListView&lt;HBox&gt; sellList;\n</code></pre>\n<p>. . .</p>\n<pre><code>private ObservableList&lt;HBox&gt; ordersToListItems(List&lt;Order&gt; orders)\n{\n    ObservableList&lt;HBox&gt; items = FXCollections.observableArrayList();\n\n    orders.forEach(order -&gt; {\n        final String assetVolume = order.getAssetVolume() + &quot;$&quot;;\n        final String limits = order.getLimitFiatMin() + &quot;-&quot; + order.getLimitFiatMax();\n        Label priceLabel = new Label(String.format(&quot;%-7s&quot;, order.getPrice()));\n        Label limitsLabel = new Label(String.format(&quot;%-12s&quot;, limits));\n        Label volumeLabel = new Label(String.format(&quot;%-20s&quot;, assetVolume));\n        Label nameLabel = new Label(String.format(&quot;%-20s&quot;, order.getAdvertiserName()));\n        System.out.println(priceLabel.getText() + limitsLabel.getText() + volumeLabel.getText() + nameLabel.getText());\n        HBox hbox = new HBox(priceLabel, limitsLabel, volumeLabel, nameLabel);\n        items.add(hbox);\n    });\n\n    return items;\n}\n</code></pre>\n<p>. . .</p>\n<pre><code>buyList.setItems(ordersToListItems(buyOrders));\nsellList.setItems(ordersToListItems(sellOrders));\n</code></pre>\n<p>Output in console:</p>\n<p><a href=\"https://i.stack.imgur.com/RRpHy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RRpHy.png\" alt=\"enter image description here\" /></a></p>\n<p>Ouput in <code>JavaFX</code> app:</p>\n<p><a href=\"https://i.stack.imgur.com/BRhW1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BRhW1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jar","wsdl"],"comments":[{"owner":{"account_id":1944413,"reputation":1216,"user_id":1749882,"display_name":"Frieder"},"score":0,"creation_date":1581599647,"post_id":60208549,"comment_id":106495234,"body_markdown":"You can not do this. A WSDL only describes the interface of the webservice. You need to implement it on your own. You can use a framework to generate the needed java interfaces from your WSDL. You need to do some research and then pick a framework that fits your needs.","body":"You can not do this. A WSDL only describes the interface of the webservice. You need to implement it on your own. You can use a framework to generate the needed java interfaces from your WSDL. You need to do some research and then pick a framework that fits your needs."},{"owner":{"account_id":6710802,"reputation":1,"user_id":5174310,"display_name":"mem&#232;1992"},"score":0,"creation_date":1581600726,"post_id":60208549,"comment_id":106495922,"body_markdown":"is there some tool that can create the java class from my wsdl?","body":"is there some tool that can create the java class from my wsdl?"},{"owner":{"account_id":1944413,"reputation":1216,"user_id":1749882,"display_name":"Frieder"},"score":1,"creation_date":1581600884,"post_id":60208549,"comment_id":106496033,"body_markdown":"See this question: https://stackoverflow.com/questions/22460571/how-do-you-convert-wsdls-to-java-classes-using-eclipse","body":"See this question: <a href=\"https://stackoverflow.com/questions/22460571/how-do-you-convert-wsdls-to-java-classes-using-eclipse\" title=\"how do you convert wsdls to java classes using eclipse\">stackoverflow.com/questions/22460571/&hellip;</a>"},{"owner":{"account_id":469126,"reputation":1741,"user_id":875526,"display_name":"Seb"},"score":0,"creation_date":1581605185,"post_id":60208549,"comment_id":106498791,"body_markdown":"https://cxf.apache.org/docs/maven-cxf-codegen-plugin-wsdl-to-java.html","body":"<a href=\"https://cxf.apache.org/docs/maven-cxf-codegen-plugin-wsdl-to-java.html\" rel=\"nofollow noreferrer\">cxf.apache.org/docs/maven-cxf-codegen-plugin-wsdl-to-java.ht&zwnj;&#8203;ml</a>"}],"answers":[{"tags":[],"owner":{"account_id":10451715,"reputation":745,"user_id":7705116,"display_name":"drt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676063866,"creation_date":1676063866,"answer_id":75416193,"question_id":60208549,"body_markdown":"\r\nI understand this is old post, but may be useful for someone in future. I did something like this &amp; works fine for me - \r\n\r\n    Created &#39;lib&#39; dir parallel to &#39;src&#39;\r\n    $ pwd\r\n    &lt;root dir&gt;/lib\r\n    $ wsimport &lt;address report wsdl url&gt; -verbose\r\n    $ jar cvf address-report.jar .\r\n\r\n    #My project is gradle project, added dependency &#39;build.gradle&#39;\r\n    dependencies {\r\n    \timplementation files(&#39;lib/address-report.jar&#39;)\r\n    }","title":"Create a the .jar of a Web Service from a WSDL","body":"<p>I understand this is old post, but may be useful for someone in future. I did something like this &amp; works fine for me -</p>\n<pre><code>Created 'lib' dir parallel to 'src'\n$ pwd\n&lt;root dir&gt;/lib\n$ wsimport &lt;address report wsdl url&gt; -verbose\n$ jar cvf address-report.jar .\n\n#My project is gradle project, added dependency 'build.gradle'\ndependencies {\n    implementation files('lib/address-report.jar')\n}\n</code></pre>\n"}],"owner":{"account_id":6710802,"reputation":1,"user_id":5174310,"display_name":"mem&#232;1992"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676063866,"creation_date":1581599051,"question_id":60208549,"body_markdown":"How can I create a file .jar from a WSDL to create a web service in java?\r\nThanks a lot","title":"Create a the .jar of a Web Service from a WSDL","body":"<p>How can I create a file .jar from a WSDL to create a web service in java?\nThanks a lot</p>\n"},{"tags":["java","mono","reactive-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1625745016,"post_id":68294612,"comment_id":120711750,"body_markdown":"Does this answer your question? [map vs flatMap in reactor](https://stackoverflow.com/questions/49115135/map-vs-flatmap-in-reactor)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49115135/map-vs-flatmap-in-reactor\">map vs flatMap in reactor</a>"}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1625744918,"creation_date":1625744918,"answer_id":68301079,"question_id":68294612,"body_markdown":"you use `flatMap`. This is basic reactor and you should read through the [Getting started reactor][1] before asking on stack overflow.\r\n\r\n```\r\nprivate Mono&lt;StudentDto&gt; convert(Mono&lt;PersonDto&gt; personDto) {\r\n    return personDto.flatMap(personDto -&gt; {\r\n                final StudentDto studentDto = new StudentDto();\r\n                studentDto.setStudents(\r\n                        persons.getPersons()\r\n                         .stream().filter(person -&gt; person.isStudent())\r\n                         .collect(toList())\r\n                );\r\n                studentDto.setRepresent(\r\n                        persons.getRepresent().isStudent()\r\n                );\r\n                return Mono.just(studentDto);\r\n            })\r\n} \r\n```\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#getting-started","title":"How to convert Mono object to other Mono object in Spring Webflux","body":"<p>you use <code>flatMap</code>. This is basic reactor and you should read through the <a href=\"https://projectreactor.io/docs/core/release/reference/#getting-started\" rel=\"nofollow noreferrer\">Getting started reactor</a> before asking on stack overflow.</p>\n<pre><code>private Mono&lt;StudentDto&gt; convert(Mono&lt;PersonDto&gt; personDto) {\n    return personDto.flatMap(personDto -&gt; {\n                final StudentDto studentDto = new StudentDto();\n                studentDto.setStudents(\n                        persons.getPersons()\n                         .stream().filter(person -&gt; person.isStudent())\n                         .collect(toList())\n                );\n                studentDto.setRepresent(\n                        persons.getRepresent().isStudent()\n                );\n                return Mono.just(studentDto);\n            })\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13130612,"reputation":197,"user_id":9485209,"display_name":"zzangs33"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1630568349,"creation_date":1630568349,"answer_id":69026027,"question_id":68294612,"body_markdown":"Just return `Mono` with map\r\n\r\n```\r\nprivate Mono&lt;StudentDto&gt; convert(Mono&lt;PersonDto&gt; personDto) {\r\n      return personDto.map(\r\n          persons -&gt; {\r\n              StudentDto studentDto = new StudentDto();\r\n              studentDto.setStudents(\r\n                      persons.getPersons()\r\n                       .stream().filter(person -&gt; person.isStudent())\r\n                       .collect(toList())\r\n              );\r\n              studentDto.setRepresent(\r\n                      persons.getRepresent().isStudent()\r\n              );\r\n          }\r\n      );\r\n} \r\n```\r\n\r\nThe main difference between `map` and `flatMap` is **synchronicity**.\r\n\r\nIf you want handle another asynchronous one, use `flatMap`.\r\n\r\nOr, if you just want to reformat the output of the `Mono/Flux`, use `map`.\r\n","title":"How to convert Mono object to other Mono object in Spring Webflux","body":"<p>Just return <code>Mono</code> with map</p>\n<pre><code>private Mono&lt;StudentDto&gt; convert(Mono&lt;PersonDto&gt; personDto) {\n      return personDto.map(\n          persons -&gt; {\n              StudentDto studentDto = new StudentDto();\n              studentDto.setStudents(\n                      persons.getPersons()\n                       .stream().filter(person -&gt; person.isStudent())\n                       .collect(toList())\n              );\n              studentDto.setRepresent(\n                      persons.getRepresent().isStudent()\n              );\n          }\n      );\n} \n</code></pre>\n<p>The main difference between <code>map</code> and <code>flatMap</code> is <strong>synchronicity</strong>.</p>\n<p>If you want handle another asynchronous one, use <code>flatMap</code>.</p>\n<p>Or, if you just want to reformat the output of the <code>Mono/Flux</code>, use <code>map</code>.</p>\n"},{"tags":[],"owner":{"account_id":1622222,"reputation":435,"user_id":1498537,"display_name":"alfiogang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652955167,"creation_date":1652955167,"answer_id":72302716,"question_id":68294612,"body_markdown":"There is `transform` method in **Mono** class.\r\n\r\n    return Mono.fromFuture(step1.callFuture(input))\r\n               .doOnSuccess(this::logJsonInput)\r\n               .transform(otherService::calculate);\r\n\r\nwhere \r\n\r\n    OtherService {\r\n       public Mono&lt;Result&gt; calculate(Mono&lt;Step1Output&gt; input) {\r\n            //...\r\n       }       \r\n    }","title":"How to convert Mono object to other Mono object in Spring Webflux","body":"<p>There is <code>transform</code> method in <strong>Mono</strong> class.</p>\n<pre><code>return Mono.fromFuture(step1.callFuture(input))\n           .doOnSuccess(this::logJsonInput)\n           .transform(otherService::calculate);\n</code></pre>\n<p>where</p>\n<pre><code>OtherService {\n   public Mono&lt;Result&gt; calculate(Mono&lt;Step1Output&gt; input) {\n        //...\n   }       \n}\n</code></pre>\n"}],"owner":{"account_id":12387710,"reputation":85,"user_id":9030675,"display_name":"EdgarHan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21801,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69026027,"answer_count":3,"score":1,"last_activity_date":1676062975,"creation_date":1625708547,"question_id":68294612,"body_markdown":"I have a class like this\r\n\r\n  ```java\r\n  public class Person {\r\n        private String name;\r\n        private String age;\r\n        private Boolean student;\r\n        ...\r\n        //\r\n        getters and setters\r\n  }\r\n```\r\n\r\n  ```java\r\n  public class PersonDto {\r\n        private List&lt;Person&gt; persons\r\n        private Person president\r\n        //\r\n        getters and setters\r\n  }\r\n```\r\n\r\nand get data to webclient from external API\r\n\r\n```java\r\n--- omitted ---\r\nfinal Mono&lt;PersonDto&gt; personDto = wrapperWebClient.getPersonDto(uriComponents, params, PersonDto.class);\r\nMono&lt;StudentDto&gt; studentDto = convert(personDto);\r\n--- omitted ---\r\n``` \r\n\r\n\r\nand I want to transform data Mono DTO like below. \r\n\r\n  ```java\r\n  public class Student {\r\n        // no constructors \r\n        private String name;\r\n        private String age;\r\n        private Boolean student;\r\n        ...\r\n        //\r\n        getters and setters\r\n  }\r\n```\r\n\r\n  ```java\r\n  public class StudentDto {\r\n        private List&lt;Student&gt; students;\r\n        private Student represent;\r\n        ...\r\n        //\r\n        getters and setters\r\n  }\r\n```\r\n\r\nit&#39;s my try\r\n\r\n  ```java\r\n--- omitted ---\r\n  private Mono&lt;StudentDto&gt; convert(Mono&lt;PersonDto&gt; personDto) {\r\n    \tStudentDto studentDto = new StudentDto();\r\n\t\tpersonDto.map(\r\n\t\t\tpersons -&gt; {\r\n\t\t\t\tstudentDto.setStudents(\r\n\t\t\t\t\t\tpersons.getPersons()\r\n\t\t\t\t\t\t .stream().filter(person -&gt; person.isStudent())\r\n\t\t\t\t\t\t .collect(toList())\r\n\t\t\t\t);\r\n\t\t\t\tstudentDto.setRepresent(\r\n\t\t\t\t\t\tpersons.getRepresent().isStudent()\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t)\r\n        return ???;\r\n  } \r\n\r\n```\r\nMy approach seems to be synchronous.","title":"How to convert Mono object to other Mono object in Spring Webflux","body":"<p>I have a class like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n      private String name;\n      private String age;\n      private Boolean student;\n      ...\n      //\n      getters and setters\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PersonDto {\n      private List&lt;Person&gt; persons\n      private Person president\n      //\n      getters and setters\n}\n</code></pre>\n<p>and get data to webclient from external API</p>\n<pre class=\"lang-java prettyprint-override\"><code>--- omitted ---\nfinal Mono&lt;PersonDto&gt; personDto = wrapperWebClient.getPersonDto(uriComponents, params, PersonDto.class);\nMono&lt;StudentDto&gt; studentDto = convert(personDto);\n--- omitted ---\n</code></pre>\n<p>and I want to transform data Mono DTO like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student {\n      // no constructors \n      private String name;\n      private String age;\n      private Boolean student;\n      ...\n      //\n      getters and setters\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class StudentDto {\n      private List&lt;Student&gt; students;\n      private Student represent;\n      ...\n      //\n      getters and setters\n}\n</code></pre>\n<p>it's my try</p>\n<pre class=\"lang-java prettyprint-override\"><code>--- omitted ---\nprivate Mono&lt;StudentDto&gt; convert(Mono&lt;PersonDto&gt; personDto) {\n      StudentDto studentDto = new StudentDto();\n      personDto.map(\n          persons -&gt; {\n              studentDto.setStudents(\n                      persons.getPersons()\n                       .stream().filter(person -&gt; person.isStudent())\n                       .collect(toList())\n              );\n              studentDto.setRepresent(\n                      persons.getRepresent().isStudent()\n              );\n          }\n      )\n      return ???;\n} \n\n</code></pre>\n<p>My approach seems to be synchronous.</p>\n"},{"tags":["java","jakarta-ee","log4j2"],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676062686,"creation_date":1676062686,"question_id":75416052,"body_markdown":"We have legacy code with api&#39;s hosted under a j2ee server environment not spring boot. And servlet code as well.  We are using log4j2 - 2.17.x.  Want to change the file path, we have used system but does not work, could be how the log4j gets initialized or some timing order.  Should we use ctx?\r\n\r\n    &lt;Configuration status=&quot;trace&quot;&gt;\r\n\t&lt;Properties&gt;\r\n    \t&lt;Property name=&quot;logserverdir&quot;&gt;defaultvm2&lt;/Property&gt;\r\n  \t&lt;/Properties&gt;\r\n\r\n\t\t&lt;RollingFile name=&quot;MainAppenderApi&quot; \r\n\t\t\t\tfileName=&quot;/usr/local/logs/${sys:logserverdir}/log4j_api_new.log&quot;\r\n\t\t\t\tfilePattern=&quot;/usr/local/logs/${sys:logserverdir}/log4j_api_new.log.%d{yyyy-MM-dd}&quot;&gt;\r\n\t\t\t&lt;PatternLayout pattern=&quot;%d [%t] [%X{mdcLogSessionId} - %x{correlationId}] %-5p - %C{1}.%M(%F:%L) - %m%n&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy/&gt;\r\n            &lt;/Policies&gt;\r\n    \t\t&lt;DefaultRolloverStrategy max=&quot;5&quot; /&gt;\t\t\r\n\t\t&lt;/RollingFile&gt;\r\n\r\nWas thinking to change to ctx instead of system here?  Also does that initially property come into play as well.\r\n\r\nDoes the order of logging come into play?\r\n\r\nWant to update the value from a j2ee filter.","title":"How do you dynamically change the file path of a log4j2 based log file during API or Servlet initialization","body":"<p>We have legacy code with api's hosted under a j2ee server environment not spring boot. And servlet code as well.  We are using log4j2 - 2.17.x.  Want to change the file path, we have used system but does not work, could be how the log4j gets initialized or some timing order.  Should we use ctx?</p>\n<pre><code>&lt;Configuration status=&quot;trace&quot;&gt;\n&lt;Properties&gt;\n    &lt;Property name=&quot;logserverdir&quot;&gt;defaultvm2&lt;/Property&gt;\n&lt;/Properties&gt;\n\n    &lt;RollingFile name=&quot;MainAppenderApi&quot; \n            fileName=&quot;/usr/local/logs/${sys:logserverdir}/log4j_api_new.log&quot;\n            filePattern=&quot;/usr/local/logs/${sys:logserverdir}/log4j_api_new.log.%d{yyyy-MM-dd}&quot;&gt;\n        &lt;PatternLayout pattern=&quot;%d [%t] [%X{mdcLogSessionId} - %x{correlationId}] %-5p - %C{1}.%M(%F:%L) - %m%n&quot;/&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy/&gt;\n        &lt;/Policies&gt;\n        &lt;DefaultRolloverStrategy max=&quot;5&quot; /&gt;     \n    &lt;/RollingFile&gt;\n</code></pre>\n<p>Was thinking to change to ctx instead of system here?  Also does that initially property come into play as well.</p>\n<p>Does the order of logging come into play?</p>\n<p>Want to update the value from a j2ee filter.</p>\n"},{"tags":["java","android","android-recyclerview","searchview"],"owner":{"account_id":20533705,"reputation":1,"user_id":15070336,"display_name":"Armin Grobbelaar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676062653,"creation_date":1676062653,"question_id":75416045,"body_markdown":"I&#39;m having the following error:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.soulfood, PID: 7141\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.soulfood/com.soulfood.Search_Recipe}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.setLayoutManager(androidx.recyclerview.widget.RecyclerView$LayoutManager)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:135)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:372)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.recyclerview.widget.RecyclerView.setLayoutManager(androidx.recyclerview.widget.RecyclerView$LayoutManager)&#39; on a null object reference\r\n        at com.soulfood.Search_Recipe.prepareRecyclerView(Search_Recipe.java:37)\r\n        at com.soulfood.Search_Recipe.onCreate(Search_Recipe.java:25)\r\n        at android.app.Activity.performCreate(Activity.java:5990)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)&#160;\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:135)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\n```\r\n\r\nI would like to search by recipe name or category, say choclate cake or search dessert and get all the recipes under the dessert category.\r\n\r\nIt looks like the error comes from:\r\n\r\n```\r\npublic void prepareRecyclerView(){\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this,LinearLayoutManager.VERTICAL,false);\r\n        rvRecipes.setLayoutManager(linearLayoutManager);\r\n        prepareAdapter();\r\n    }\r\n```\r\nspecifically the line:\r\n\r\n```\r\nrvRecipes.setLayoutManager(linearLayoutManager);\r\n```\r\nMy Search_Recipe.java(activity for SearchView with a Recyclerview):\r\n\r\n```\r\npublic class Search_Recipe extends AppCompatActivity {\r\n\r\n    RecyclerView rvRecipes;\r\n    RecipeAdapter recipeAdapter;\r\n    List&lt;RecipeModel&gt; recipeModelList = new ArrayList&lt;&gt;();\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_search_recipe);\r\n        rvRecipes = findViewById(R.id.rvRecipes);\r\n        setData();\r\n        prepareRecyclerView();\r\n    }\r\n\r\n    public void setData(){\r\n        recipeModelList.add(new RecipeModel(&quot;chocolate_cake&quot;, &quot;Dessert&quot;));\r\n        recipeModelList.add(new RecipeModel(&quot;chicken_alfredo&quot;, &quot;Dinner&quot;));\r\n    }\r\n\r\n    public void prepareRecyclerView(){\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this,LinearLayoutManager.VERTICAL,false);\r\n        rvRecipes.setLayoutManager(linearLayoutManager);\r\n        prepareAdapter();\r\n    }\r\n\r\n    public void prepareAdapter(){\r\n        recipeAdapter = new RecipeAdapter(recipeModelList, this);\r\n        rvRecipes.setAdapter(recipeAdapter);\r\n    }\r\n}\r\n```\r\n\r\nHere is my model class:\r\n\r\n```\r\npackage com.soulfood;\r\n\r\npublic class RecipeModel {\r\n\r\n    private  String recipeName;\r\n    private String recipeCategory;\r\n\r\n    public RecipeModel(String recipeName, String recipeCategory) {\r\n        this.recipeName = recipeName;\r\n        this.recipeCategory = recipeCategory;\r\n    }\r\n\r\n    public String getRecipeName() {\r\n        return recipeName;\r\n    }\r\n\r\n    public void setRecipeName(String recipeName) {\r\n        this.recipeName = recipeName;\r\n    }\r\n\r\n    public String getRecipeCategory() {\r\n        return recipeCategory;\r\n    }\r\n\r\n    public void setRecipeCategory(String recipeCategory) {\r\n        this.recipeCategory = recipeCategory;\r\n    }\r\n}\r\n```\r\n\r\nAnd here is my Adapter class:\r\n\r\n```\r\npublic class RecipeAdapter extends RecyclerView.Adapter&lt;RecipeAdapter.RecipeAdapterViewHolder&gt; {\r\n\r\n    public List&lt;RecipeModel&gt; recipeModelList = new ArrayList&lt;&gt;();\r\n    public Context context;\r\n\r\n    public RecipeAdapter(List&lt;RecipeModel&gt; recipeModels, Context context){\r\n        this.recipeModelList = recipeModels;\r\n        this.context = context;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecipeAdapterViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        Context context = parent.getContext();\r\n        View view = LayoutInflater.from(context).inflate(R.layout.row_recipes, parent, false);\r\n        return new RecipeAdapterViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecipeAdapterViewHolder holder, int position) {\r\n\r\n        RecipeModel recipeModel = recipeModelList.get(position);\r\n        String recipeName = recipeModel.getRecipeName();\r\n        String recipeCategory = recipeModel.getRecipeCategory();\r\n\r\n        holder.recipeName.setText(recipeName);\r\n        holder.recipeCategory.setText(recipeCategory);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return recipeModelList.size();\r\n    }\r\n\r\n    public static class RecipeAdapterViewHolder extends  RecyclerView.ViewHolder{\r\n\r\n        private TextView recipeName;\r\n        private TextView recipeCategory;\r\n        public RecipeAdapterViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            recipeName = itemView.findViewById(R.id.tvRecipeName);\r\n            recipeCategory = itemView.findViewById(R.id.tvRecipeCategory);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy row_recipe.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:padding=&quot;10dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/RV&quot;\r\n        android:layout_width=&quot;40dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:layout_height=&quot;40dp&quot;&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvRecipeName&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/recipe_s_name&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;12sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/RV&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/tvRecipeCategory&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvRecipeCategory&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/recipe_s_category&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;10sp&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/RV&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/tvRecipeName&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\r\n\r\n    \r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nAnd activity_search_recipe.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Search_Recipe&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rvRecipes&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nI tried:\r\n\r\n```\r\npublic class Search_Recipe extends AppCompatActivity {\r\n\r\n    RecyclerView rvRecipes = findViewById(R.id.rvRecipes);\r\n    List&lt;RecipeModel&gt; recipeModelList = new ArrayList&lt;&gt;()\r\n    RecipeAdapter recipeAdapter = new RecipeAdapter(recipeModelList, this);\r\n    ;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n```\r\nBut I still got an error. I am using Android Lollipop(API Level 22), I don&#39;t know if that would cause the error.\r\n\r\n","title":"Null Pointer Exception on SearchView with RecylerView-Android Studio","body":"<p>I'm having the following error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.soulfood, PID: 7141\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.soulfood/com.soulfood.Search_Recipe}: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.recyclerview.widget.RecyclerView.setLayoutManager(androidx.recyclerview.widget.RecyclerView$LayoutManager)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.recyclerview.widget.RecyclerView.setLayoutManager(androidx.recyclerview.widget.RecyclerView$LayoutManager)' on a null object reference\n        at com.soulfood.Search_Recipe.prepareRecyclerView(Search_Recipe.java:37)\n        at com.soulfood.Search_Recipe.onCreate(Search_Recipe.java:25)\n        at android.app.Activity.performCreate(Activity.java:5990)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387) \n        at android.app.ActivityThread.access$800(ActivityThread.java:151) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:135) \n        at android.app.ActivityThread.main(ActivityThread.java:5254) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at java.lang.reflect.Method.invoke(Method.java:372) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) \n</code></pre>\n<p>I would like to search by recipe name or category, say choclate cake or search dessert and get all the recipes under the dessert category.</p>\n<p>It looks like the error comes from:</p>\n<pre><code>public void prepareRecyclerView(){\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this,LinearLayoutManager.VERTICAL,false);\n        rvRecipes.setLayoutManager(linearLayoutManager);\n        prepareAdapter();\n    }\n</code></pre>\n<p>specifically the line:</p>\n<pre><code>rvRecipes.setLayoutManager(linearLayoutManager);\n</code></pre>\n<p>My Search_Recipe.java(activity for SearchView with a Recyclerview):</p>\n<pre><code>public class Search_Recipe extends AppCompatActivity {\n\n    RecyclerView rvRecipes;\n    RecipeAdapter recipeAdapter;\n    List&lt;RecipeModel&gt; recipeModelList = new ArrayList&lt;&gt;();\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_search_recipe);\n        rvRecipes = findViewById(R.id.rvRecipes);\n        setData();\n        prepareRecyclerView();\n    }\n\n    public void setData(){\n        recipeModelList.add(new RecipeModel(&quot;chocolate_cake&quot;, &quot;Dessert&quot;));\n        recipeModelList.add(new RecipeModel(&quot;chicken_alfredo&quot;, &quot;Dinner&quot;));\n    }\n\n    public void prepareRecyclerView(){\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this,LinearLayoutManager.VERTICAL,false);\n        rvRecipes.setLayoutManager(linearLayoutManager);\n        prepareAdapter();\n    }\n\n    public void prepareAdapter(){\n        recipeAdapter = new RecipeAdapter(recipeModelList, this);\n        rvRecipes.setAdapter(recipeAdapter);\n    }\n}\n</code></pre>\n<p>Here is my model class:</p>\n<pre><code>package com.soulfood;\n\npublic class RecipeModel {\n\n    private  String recipeName;\n    private String recipeCategory;\n\n    public RecipeModel(String recipeName, String recipeCategory) {\n        this.recipeName = recipeName;\n        this.recipeCategory = recipeCategory;\n    }\n\n    public String getRecipeName() {\n        return recipeName;\n    }\n\n    public void setRecipeName(String recipeName) {\n        this.recipeName = recipeName;\n    }\n\n    public String getRecipeCategory() {\n        return recipeCategory;\n    }\n\n    public void setRecipeCategory(String recipeCategory) {\n        this.recipeCategory = recipeCategory;\n    }\n}\n</code></pre>\n<p>And here is my Adapter class:</p>\n<pre><code>public class RecipeAdapter extends RecyclerView.Adapter&lt;RecipeAdapter.RecipeAdapterViewHolder&gt; {\n\n    public List&lt;RecipeModel&gt; recipeModelList = new ArrayList&lt;&gt;();\n    public Context context;\n\n    public RecipeAdapter(List&lt;RecipeModel&gt; recipeModels, Context context){\n        this.recipeModelList = recipeModels;\n        this.context = context;\n    }\n\n\n    @NonNull\n    @Override\n    public RecipeAdapterViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        Context context = parent.getContext();\n        View view = LayoutInflater.from(context).inflate(R.layout.row_recipes, parent, false);\n        return new RecipeAdapterViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecipeAdapterViewHolder holder, int position) {\n\n        RecipeModel recipeModel = recipeModelList.get(position);\n        String recipeName = recipeModel.getRecipeName();\n        String recipeCategory = recipeModel.getRecipeCategory();\n\n        holder.recipeName.setText(recipeName);\n        holder.recipeCategory.setText(recipeCategory);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return recipeModelList.size();\n    }\n\n    public static class RecipeAdapterViewHolder extends  RecyclerView.ViewHolder{\n\n        private TextView recipeName;\n        private TextView recipeCategory;\n        public RecipeAdapterViewHolder(@NonNull View itemView) {\n            super(itemView);\n            recipeName = itemView.findViewById(R.id.tvRecipeName);\n            recipeCategory = itemView.findViewById(R.id.tvRecipeCategory);\n        }\n    }\n}\n</code></pre>\n<p>My row_recipe.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:padding=&quot;10dp&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/RV&quot;\n        android:layout_width=&quot;40dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_height=&quot;40dp&quot;&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvRecipeName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/recipe_s_name&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;12sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/RV&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/tvRecipeCategory&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvRecipeCategory&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/recipe_s_category&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;10sp&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/RV&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/tvRecipeName&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\n\n    \n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And activity_search_recipe.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Search_Recipe&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/rvRecipes&quot;\n        android:layout_width=&quot;0dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I tried:</p>\n<pre><code>public class Search_Recipe extends AppCompatActivity {\n\n    RecyclerView rvRecipes = findViewById(R.id.rvRecipes);\n    List&lt;RecipeModel&gt; recipeModelList = new ArrayList&lt;&gt;()\n    RecipeAdapter recipeAdapter = new RecipeAdapter(recipeModelList, this);\n    ;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n</code></pre>\n<p>But I still got an error. I am using Android Lollipop(API Level 22), I don't know if that would cause the error.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1852467,"reputation":7655,"user_id":1678718,"accept_rate":64,"display_name":"Rarw"},"score":0,"creation_date":1391618437,"post_id":21583015,"comment_id":32603582,"body_markdown":"There are a few things wrong here (e.g. not checking which providers are enabled or available before trying to get location) that could cause your error. However, I&#39;m going to recommend you read [this documentation](http://developer.android.com/training/location/retrieve-current.html) on how to get user location first. Because of the number of changes required to make your current code work it may be more efficient to start over.","body":"There are a few things wrong here (e.g. not checking which providers are enabled or available before trying to get location) that could cause your error. However, I&#39;m going to recommend you read <a href=\"http://developer.android.com/training/location/retrieve-current.html\" rel=\"nofollow noreferrer\">this documentation</a> on how to get user location first. Because of the number of changes required to make your current code work it may be more efficient to start over."},{"owner":{"account_id":2201844,"reputation":1543,"user_id":1946055,"accept_rate":80,"display_name":"Tobiel"},"score":2,"creation_date":1391618650,"post_id":21583015,"comment_id":32603763,"body_markdown":"getlastknownlocation will return null if there is no last known location, you need to check if you have a lastknowlocation if not call an update. I never try location with the emulator because I really thing you need to do something that make it work as a normal phone with the location service enabled. So my guess is you are always getting null because you are using the emulator. Also GPS works really fine in the outside, inside in your home maybe could fail and will not provide you a location.","body":"getlastknownlocation will return null if there is no last known location, you need to check if you have a lastknowlocation if not call an update. I never try location with the emulator because I really thing you need to do something that make it work as a normal phone with the location service enabled. So my guess is you are always getting null because you are using the emulator. Also GPS works really fine in the outside, inside in your home maybe could fail and will not provide you a location."},{"owner":{"account_id":1875464,"reputation":5150,"user_id":1696770,"accept_rate":80,"display_name":"Ranjit"},"score":0,"creation_date":1391618788,"post_id":21583015,"comment_id":32603865,"body_markdown":"how emulator will give location value.for testing we have to use the default latlong for emulator which is inside ddms-emulatorcontrol.you have to use device for getting location value..","body":"how emulator will give location value.for testing we have to use the default latlong for emulator which is inside ddms-emulatorcontrol.you have to use device for getting location value.."},{"owner":{"account_id":2927519,"reputation":161,"user_id":2508530,"accept_rate":80,"display_name":"shang tsung"},"score":0,"creation_date":1391618833,"post_id":21583015,"comment_id":32603900,"body_markdown":"sorry, but i have played a lot with location on the devices , so i know some stuff, the link you provided is for Google Play Services exclusevily , also the GPS_PROVIDER is enabled with geo fix , which i already did","body":"sorry, but i have played a lot with location on the devices , so i know some stuff, the link you provided is for Google Play Services exclusevily , also the GPS_PROVIDER is enabled with geo fix , which i already did"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1391619011,"post_id":21583015,"comment_id":32604021,"body_markdown":"Where is your `requestLocationUpdates()` call? If you do not have one, that would explain your symptoms.","body":"Where is your <code>requestLocationUpdates()</code> call? If you do not have one, that would explain your symptoms."},{"owner":{"account_id":2927519,"reputation":161,"user_id":2508530,"accept_rate":80,"display_name":"shang tsung"},"score":0,"creation_date":1391619318,"post_id":21583015,"comment_id":32604247,"body_markdown":"hi CommonsWare, i tried using requestLocationUpdates as well, but then it will give me NuullPoiner on that one as well ;(","body":"hi CommonsWare, i tried using requestLocationUpdates as well, but then it will give me NuullPoiner on that one as well ;("},{"owner":{"account_id":2927519,"reputation":161,"user_id":2508530,"accept_rate":80,"display_name":"shang tsung"},"score":0,"creation_date":1391627928,"post_id":21583015,"comment_id":32609960,"body_markdown":"@CommonsWare, after playing some with the code more ,it turn out that was the key :))) ,can you put that as an answer so that i can give you points ? thank you very much !","body":"@CommonsWare, after playing some with the code more ,it turn out that was the key :))) ,can you put that as an answer so that i can give you points ? thank you very much !"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1391628107,"creation_date":1391628107,"answer_id":21586537,"question_id":21583015,"body_markdown":"`getLastKnownLocation()` will return `null` in general, if no app has requested a location fix from your desired provider recently.\r\n\r\nOn the emulator, it seems to take it one step further: you do not get a location unless one has been delivered to the emulator since your app has called `requestLocationUpdates()`.\r\n\r\nThe general pattern for using `getLastKnownLocation()`, if you want decent odds of getting an actual `Location`, is to use `requestLocationUpdates()` and `removeLocationUpdates()` to ensure that `LocationManager` is actively seeking locations via your chosen provider. Of course, you could also use `LocationListener` and `onLocationChanged()`, rather than `getLastKnownLocation()`, if you so chose.\r\n","title":"android getlastknownlocation always null in emulator","body":"<p><code>getLastKnownLocation()</code> will return <code>null</code> in general, if no app has requested a location fix from your desired provider recently.</p>\n\n<p>On the emulator, it seems to take it one step further: you do not get a location unless one has been delivered to the emulator since your app has called <code>requestLocationUpdates()</code>.</p>\n\n<p>The general pattern for using <code>getLastKnownLocation()</code>, if you want decent odds of getting an actual <code>Location</code>, is to use <code>requestLocationUpdates()</code> and <code>removeLocationUpdates()</code> to ensure that <code>LocationManager</code> is actively seeking locations via your chosen provider. Of course, you could also use <code>LocationListener</code> and <code>onLocationChanged()</code>, rather than <code>getLastKnownLocation()</code>, if you so chose.</p>\n"},{"tags":[],"owner":{"account_id":3758095,"reputation":1672,"user_id":3123980,"display_name":"WilliamK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530890180,"creation_date":1530890180,"answer_id":51213405,"question_id":21583015,"body_markdown":"There is another option, to create your own provider using locationManager.addTestProvider(); so you can make your own tests.","title":"android getlastknownlocation always null in emulator","body":"<p>There is another option, to create your own provider using locationManager.addTestProvider(); so you can make your own tests.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670836259,"creation_date":1596625904,"answer_id":63263955,"question_id":21583015,"body_markdown":"**Android `getlastknownlocation` is null on emulator**\r\n\r\n[@CommonsWare&#39;s answer][1] is clear. To get not-null on emulator go to `Google Maps` application and after that you get some location\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21586537/4770877","title":"android getlastknownlocation always null in emulator","body":"<p><strong>Android <code>getlastknownlocation</code> is null on emulator</strong></p>\n<p><a href=\"https://stackoverflow.com/a/21586537/4770877\">@CommonsWare's answer</a> is clear. To get not-null on emulator go to <code>Google Maps</code> application and after that you get some location</p>\n"},{"tags":[],"owner":{"account_id":5981137,"reputation":17327,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676062639,"creation_date":1676062639,"answer_id":75416042,"question_id":21583015,"body_markdown":"## requestLocationUpdates + getLastLocation\r\n\r\nHere, is a code sample based on **Commonsware&#39;s answer**. I would call `getLocationUpdates()` in `onCreate()` method so that the app gets location update before you call getLastLocation() method.\r\n\r\n    private FusedLocationProviderClient fusedLocationClient;\r\n    private LocationRequest locationRequest;\r\n    private LocationCallback locationCallback;\r\n\r\n    onCreate(Bundle sis){\r\n        super.onCreate(sis);\r\n        getLocationUpdates();\r\n    }\r\n\r\n    public void getLocationUpdates(){\r\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n        locationRequest = LocationRequest.create();\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        locationRequest.setInterval(1000);\r\n        locationRequest.setFastestInterval(5000);\r\n        locationCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                fusedLocationClient.removeLocationUpdates(locationCallback);\r\n            }\r\n        };\r\n        fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, Looper.getMainLooper());\r\n    }\r\n\r\n    public void getLastKnownLocation(){\r\n        \r\n           fusedLocationClient.getLastLocation().addOnSuccessListener(this, location -&gt; {\r\n            if (location != null) {\r\n                Log.d(&quot;LOCATION&quot;, location);\r\n            } else {\r\n                Log.d(&quot;LOCATION&quot;, &quot;Location is null&quot;);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n### More thoughts on this.\r\nFor some this solution would not make sense at all. But if your app does not need constant location updates then this could be a potential solution to get Location immediately. But there will always be pros and cons of this solution. ","title":"android getlastknownlocation always null in emulator","body":"<h2>requestLocationUpdates + getLastLocation</h2>\n<p>Here, is a code sample based on <strong>Commonsware's answer</strong>. I would call <code>getLocationUpdates()</code> in <code>onCreate()</code> method so that the app gets location update before you call getLastLocation() method.</p>\n<pre><code>private FusedLocationProviderClient fusedLocationClient;\nprivate LocationRequest locationRequest;\nprivate LocationCallback locationCallback;\n\nonCreate(Bundle sis){\n    super.onCreate(sis);\n    getLocationUpdates();\n}\n\npublic void getLocationUpdates(){\n    fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n    locationRequest = LocationRequest.create();\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    locationRequest.setInterval(1000);\n    locationRequest.setFastestInterval(5000);\n    locationCallback = new LocationCallback() {\n        @Override\n        public void onLocationResult(@NonNull LocationResult locationResult) {\n            fusedLocationClient.removeLocationUpdates(locationCallback);\n        }\n    };\n    fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, Looper.getMainLooper());\n}\n\npublic void getLastKnownLocation(){\n    \n       fusedLocationClient.getLastLocation().addOnSuccessListener(this, location -&gt; {\n        if (location != null) {\n            Log.d(&quot;LOCATION&quot;, location);\n        } else {\n            Log.d(&quot;LOCATION&quot;, &quot;Location is null&quot;);\n        }\n    });\n\n}\n</code></pre>\n<h3>More thoughts on this.</h3>\n<p>For some this solution would not make sense at all. But if your app does not need constant location updates then this could be a potential solution to get Location immediately. But there will always be pros and cons of this solution.</p>\n"}],"owner":{"account_id":2927519,"reputation":161,"user_id":2508530,"accept_rate":80,"display_name":"shang tsung"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7225,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":21586537,"answer_count":4,"score":7,"last_activity_date":1676062639,"creation_date":1391618147,"question_id":21583015,"body_markdown":"It seems a common issue, but i really can&#39;t understand why is it happening even though i read ton of simialr issues.\r\n\r\nI am playing with a basic location class on a emulator device, i set everything - permissions (FINE and COARSE) , i have set the coordinates in the DDMS i also tried using the telnet and then &lt;geo fix ...&gt; , but no matter what it always crashes witth nullpointer exception on the line with getlastknownlocation, any ideas whats wrong here ?\r\n\r\n\r\n    public class MainActivity extends Activity implements LocationListener {\r\n\tprivate static LocationManager ok;\r\n\tprivate Location L;\r\n\t\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\r\n\t\tok=(LocationManager)this.getSystemService(ok.GPS_PROVIDER);\r\n\t\tL=ok.getLastKnownLocation(ok.GPS_PROVIDER);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onLocationChanged(Location Loc) {\r\n\t\ttry {\r\n\t\t\tdouble latop=Loc.getLatitude();\r\n\t\t\tdouble longe=Loc.getLongitude();\r\n\t\t\t\r\n\t\t\tLog.i(&quot;OK&quot;, &quot;and&quot;+longe+&quot;&quot;+latop);\r\n\t\t} catch (NullPointerException e) {\r\n\t\t}\r\n\t}","title":"android getlastknownlocation always null in emulator","body":"<p>It seems a common issue, but i really can't understand why is it happening even though i read ton of simialr issues.</p>\n<p>I am playing with a basic location class on a emulator device, i set everything - permissions (FINE and COARSE) , i have set the coordinates in the DDMS i also tried using the telnet and then &lt;geo fix ...&gt; , but no matter what it always crashes witth nullpointer exception on the line with getlastknownlocation, any ideas whats wrong here ?</p>\n<pre><code>public class MainActivity extends Activity implements LocationListener {\nprivate static LocationManager ok;\nprivate Location L;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    ok=(LocationManager)this.getSystemService(ok.GPS_PROVIDER);\n    L=ok.getLastKnownLocation(ok.GPS_PROVIDER);\n}\n\n@Override\npublic void onLocationChanged(Location Loc) {\n    try {\n        double latop=Loc.getLatitude();\n        double longe=Loc.getLongitude();\n        \n        Log.i(&quot;OK&quot;, &quot;and&quot;+longe+&quot;&quot;+latop);\n    } catch (NullPointerException e) {\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","file-upload"],"owner":{"account_id":1272607,"reputation":430,"user_id":5669584,"accept_rate":100,"display_name":"Felipe Issa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676062609,"creation_date":1676062609,"question_id":75416039,"body_markdown":"Since some days ago, my app started to have a very strange behavior on a spring boot @PostMapping request.\r\n\r\nThe code is as follows:\r\n\r\n    @PostMapping(&quot;/uploadFiles&quot;)\r\n\tpublic ResponseEntity&lt;Map&lt;String,Object&gt;&gt; uploadFiles(MultipartHttpServletRequest request) throws IOException{\r\n\t\tSystem.out.println(request.getParameterMap().keySet());\r\n\t}\r\n\r\nPretty straigthfoward, nothing special here.\r\n\r\nThe problem is that the &#39;request&#39; parameter only have parameters on the fist rest request the application receives. If other request is called before this, the request parameters will always be null. If the same request is sent twice to this endpoint, the fist one have all parameters / attached files, but the second is always empty.\r\n\r\n\r\nDebugging the request parameter to identify what is going on, I identified the &#39;problem&#39; occurs on &#39;MultipartStream.skipPreamble() (line 607 on &#39;tomcat-embed-core-9.0.27.jar&#39;). When the method &#39;discardBodyData()&#39; is called it is throwing the following exception, which make it never read the data from the stream:\r\n\r\n&gt; org.apache.tomcat.util.http.fileupload.MultipartStream$MalformedStreamException: Stream ended unexpectedly\r\n\r\nI have no idea what might be causing this. The toncat version wasn&#39;t updated (but its pretty old, I know), a new black project with this endpoint receive the parameter as many times as I pass it, other &#39;non-file&#39; endpoints also receives the parameters and another colleague in the same project had the same problem (not a problem on my machine, it seems)\r\n\r\nAny idea what might be causing this issue?\r\n","title":"MultipartHttpServletRequest is empty after first request","body":"<p>Since some days ago, my app started to have a very strange behavior on a spring boot @PostMapping request.</p>\n<p>The code is as follows:</p>\n<pre><code>@PostMapping(&quot;/uploadFiles&quot;)\npublic ResponseEntity&lt;Map&lt;String,Object&gt;&gt; uploadFiles(MultipartHttpServletRequest request) throws IOException{\n    System.out.println(request.getParameterMap().keySet());\n}\n</code></pre>\n<p>Pretty straigthfoward, nothing special here.</p>\n<p>The problem is that the 'request' parameter only have parameters on the fist rest request the application receives. If other request is called before this, the request parameters will always be null. If the same request is sent twice to this endpoint, the fist one have all parameters / attached files, but the second is always empty.</p>\n<p>Debugging the request parameter to identify what is going on, I identified the 'problem' occurs on 'MultipartStream.skipPreamble() (line 607 on 'tomcat-embed-core-9.0.27.jar'). When the method 'discardBodyData()' is called it is throwing the following exception, which make it never read the data from the stream:</p>\n<blockquote>\n<p>org.apache.tomcat.util.http.fileupload.MultipartStream$MalformedStreamException: Stream ended unexpectedly</p>\n</blockquote>\n<p>I have no idea what might be causing this. The toncat version wasn't updated (but its pretty old, I know), a new black project with this endpoint receive the parameter as many times as I pass it, other 'non-file' endpoints also receives the parameters and another colleague in the same project had the same problem (not a problem on my machine, it seems)</p>\n<p>Any idea what might be causing this issue?</p>\n"},{"tags":["java","kotlin"],"answers":[{"comments":[{"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"score":0,"creation_date":1676313825,"post_id":75415954,"comment_id":133108627,"body_markdown":"I thought that properties in Kotlin were simply syntactic sugar over get/set functions, like they are in C#. If you tried to create a C# class with a property called `string Foo { get; }` and then tried to defined a method called `string get_Foo()`, the compiler will complain that you&#39;ve already defined the method. So, what is it exactly that makes Kotlin properties different from get/set methods?","body":"I thought that properties in Kotlin were simply syntactic sugar over get/set functions, like they are in C#. If you tried to create a C# class with a property called <code>string Foo { get; }</code> and then tried to defined a method called <code>string get_Foo()</code>, the compiler will complain that you&#39;ve already defined the method. So, what is it exactly that makes Kotlin properties different from get/set methods?"},{"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"score":1,"creation_date":1676821240,"post_id":75415954,"comment_id":133210183,"body_markdown":"A programming language isn&#39;t a single model. There&#39;s the &quot;language model&quot; that describes what features and concepts can be described in the code. The model after compilation (the JVM) may be completely different. Stuff in the language model (say, generics) may differ or be absent, or vice versa.\n\nThe language treats methods, properties, and also constructors as different things. Yes, all can contain code, but their abilities, rules. and uses differ. When compiled, they&#39;re all mapped to simple JVM methods because the distinction is only useful in the language; the JVM itself doesn&#39;t care.","body":"A programming language isn&#39;t a single model. There&#39;s the &quot;language model&quot; that describes what features and concepts can be described in the code. The model after compilation (the JVM) may be completely different. Stuff in the language model (say, generics) may differ or be absent, or vice versa.  The language treats methods, properties, and also constructors as different things. Yes, all can contain code, but their abilities, rules. and uses differ. When compiled, they&#39;re all mapped to simple JVM methods because the distinction is only useful in the language; the JVM itself doesn&#39;t care."},{"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"score":1,"creation_date":1676821243,"post_id":75415954,"comment_id":133210184,"body_markdown":"So why do we need them? Well, we don&#39;t; Java has managed without them for 25+ years. But they do have many benefits. First, declaring fields and accessors in one go is more compact. Second, unifying fields and accessors as a single concept solves the underlying encapsulation and compatibility issues in a simple way. Third, being able to refer to a way to get/set a piece of data as a singular thing, a property, instead of two method references helps with advanced features such as serialization or injection. Fourth, property delegates are awesome. I could go on, but I&#39;m out of characters.","body":"So why do we need them? Well, we don&#39;t; Java has managed without them for 25+ years. But they do have many benefits. First, declaring fields and accessors in one go is more compact. Second, unifying fields and accessors as a single concept solves the underlying encapsulation and compatibility issues in a simple way. Third, being able to refer to a way to get/set a piece of data as a singular thing, a property, instead of two method references helps with advanced features such as serialization or injection. Fourth, property delegates are awesome. I could go on, but I&#39;m out of characters."}],"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1676062530,"creation_date":1676061930,"answer_id":75415954,"question_id":75415887,"body_markdown":"Kotlin makes an explicit difference between methods and properties. They are not considered the same thing; it just so happens that both are compiled down to methods in the end since the JVM doesn&#39;t natively support properties. As such, a method cannot implement a property since they&#39;re fundamentally different.\r\n\r\nThe reason why you can&#39;t implement a Java getter with a property is the same reason as why you can&#39;t implement a Kotlin-defined `fun getX(): String` with an `override val x: String`; they&#39;re just not compatible.\r\n\r\nThe confusion here seems to stem from how Kotlin allows you to access Java getters with a property-like syntax, i.e. `val foo = obj.x` is equivalent to `val foo = obj.getX()` if the class is defined in Java.\r\n\r\nThis is strictly a one-way relationship to make Kotlin code that interoperates with Java code slightly more compact and &quot;Kotlin-like&quot;; this syntactical shortcut doesn&#39;t extend to _implementing_ the method as if it were a property.\r\n\r\nAdditionally, if you _were_ to implement a method as a property, that would probably lead to strange effects. Arguably, it would be _both_ a method and a property _at the same time_, which would not only be _weird_, but would likely lead to a lot of other unexpected behaviors and edge cases in the language. (For instance, how would it be treated when using reflection?)","title":"Implementing a Kotlin property from a Java interface","body":"<p>Kotlin makes an explicit difference between methods and properties. They are not considered the same thing; it just so happens that both are compiled down to methods in the end since the JVM doesn't natively support properties. As such, a method cannot implement a property since they're fundamentally different.</p>\n<p>The reason why you can't implement a Java getter with a property is the same reason as why you can't implement a Kotlin-defined <code>fun getX(): String</code> with an <code>override val x: String</code>; they're just not compatible.</p>\n<p>The confusion here seems to stem from how Kotlin allows you to access Java getters with a property-like syntax, i.e. <code>val foo = obj.x</code> is equivalent to <code>val foo = obj.getX()</code> if the class is defined in Java.</p>\n<p>This is strictly a one-way relationship to make Kotlin code that interoperates with Java code slightly more compact and &quot;Kotlin-like&quot;; this syntactical shortcut doesn't extend to <em>implementing</em> the method as if it were a property.</p>\n<p>Additionally, if you <em>were</em> to implement a method as a property, that would probably lead to strange effects. Arguably, it would be <em>both</em> a method and a property <em>at the same time</em>, which would not only be <em>weird</em>, but would likely lead to a lot of other unexpected behaviors and edge cases in the language. (For instance, how would it be treated when using reflection?)</p>\n"}],"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75415954,"answer_count":1,"score":5,"last_activity_date":1676062530,"creation_date":1676061314,"question_id":75415887,"body_markdown":"Consider the following Java interface\r\n\r\n```java\r\ninterface Foo {\r\n    String getValue();\r\n}\r\n```\r\n\r\nIn Kotlin, get/set functions are converted to properties, so I would expect the implementation to look like this\r\n\r\n```kotlin\r\nclass FooImpl : Foo {\r\n    val value: String get() = &quot;Hello, World!&quot;\r\n}\r\n```\r\n\r\nBut I actually have to implement the method as it is in the interface\r\n\r\n```kotlin\r\nclass FooImpl {\r\n    override fun getValue(): String {\r\n        return &quot;Hello, World!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nWhy?","title":"Implementing a Kotlin property from a Java interface","body":"<p>Consider the following Java interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Foo {\n    String getValue();\n}\n</code></pre>\n<p>In Kotlin, get/set functions are converted to properties, so I would expect the implementation to look like this</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class FooImpl : Foo {\n    val value: String get() = &quot;Hello, World!&quot;\n}\n</code></pre>\n<p>But I actually have to implement the method as it is in the interface</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class FooImpl {\n    override fun getValue(): String {\n        return &quot;Hello, World!&quot;;\n    }\n}\n</code></pre>\n<p>Why?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668753840,"post_id":74483350,"comment_id":131487498,"body_markdown":"I would recommend to read the docs https://hibernate.org/validator/documentation/getting-started/ apart from using very old versions of Maven and JDK...","body":"I would recommend to read the docs <a href=\"https://hibernate.org/validator/documentation/getting-started/\" rel=\"nofollow noreferrer\">hibernate.org/validator/documentation/getting-started</a> apart from using very old versions of Maven and JDK..."},{"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"score":0,"creation_date":1670698401,"post_id":74483350,"comment_id":131935389,"body_markdown":"I fixed this by rearranging the order of certain dependencies","body":"I fixed this by rearranging the order of certain dependencies"}],"answers":[{"tags":[],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676062474,"creation_date":1676062474,"answer_id":75416023,"question_id":74483350,"body_markdown":"This worked by changing the dependency order in the pom.xml","title":"Java error during build hibernate-validator","body":"<p>This worked by changing the dependency order in the pom.xml</p>\n"}],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75416023,"answer_count":1,"score":0,"last_activity_date":1676062474,"creation_date":1668728014,"question_id":74483350,"body_markdown":"I am trying to build this project and getting this error with hibernate validator.  I am not referencing this class.   Doesn&#39;t look like an actual compile error.\r\n\r\nThis is the relevant hibernate validator reference.  Spring boot 1.5 application.\r\n\r\n    \t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\r\nPossible annotation not found?\r\n\r\nError:\r\n\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project priapp-mobileapi-proc: Fatal error compiling: java.lang.NoClassDefFoundError: org/hibernate/validator/group/DefaultGroupSequenceProvider: org.hibernate.validator.group.DefaultGroupSequenceProvider -&gt; [Help 1]\r\n[ERROR] \r\n\r\n\r\nApache Maven 3.5.3 (3383c37e1f9e9b3bc3df5050c29c8aff9f295297; 2018-02-24T14:49:05-05:00)\r\nMaven home: /Users/user/Documents/tools/apache-maven-3.5.3\r\nJava version: 1.8.0_301, vendor: Oracle Corporation\r\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_301.jdk/Contents/Home/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;10.15.7&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.validator.group.DefaultGroupSequenceProvider\r\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:382)\r\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:418)\r\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:351)\r\n    at org.hibernate.validator.ap.checks.GroupSequenceProviderCheck.&lt;init&gt; (GroupSequenceProviderCheck.java:63)\r\n    at org.hibernate.validator.ap.checks.ConstraintCheckFactory.&lt;init&gt; (ConstraintCheckFactory.java:125)\r\n    at org.hibernate.validator.ap.ConstraintAnnotationVisitor.&lt;init&gt; (ConstraintAnnotationVisitor.java:68)\r\n    at org.hibernate.validator.ap.ConstraintValidationProcessor.process (ConstraintValidationProcessor.java:101)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor (JavacProcessingEnvironment.java:794)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs (JavacProcessingEnvironment.java:705)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800 (JavacProcessingEnvironment.java:91)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run (JavacProcessingEnvironment.java:1035)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing (JavacProcessingEnvironment.java:1176)\r\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations (JavaCompiler.java:1170)\r\n    at com.sun.tools.javac.main.JavaCompiler.compile (JavaCompiler.java:856)\r\n    at com.sun.tools.javac.main.Main.compile (Main.java:523)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:129)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:138)\r\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:126)\r\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:169)\r\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:785)\r\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:129)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n\r\n","title":"Java error during build hibernate-validator","body":"<p>I am trying to build this project and getting this error with hibernate validator.  I am not referencing this class.   Doesn't look like an actual compile error.</p>\n<p>This is the relevant hibernate validator reference.  Spring boot 1.5 application.</p>\n<pre><code>    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;5.3.6.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n</code></pre>\n<p>Possible annotation not found?</p>\n<p>Error:</p>\n<p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project priapp-mobileapi-proc: Fatal error compiling: java.lang.NoClassDefFoundError: org/hibernate/validator/group/DefaultGroupSequenceProvider: org.hibernate.validator.group.DefaultGroupSequenceProvider -&gt; [Help 1]\n[ERROR]</p>\n<p>Apache Maven 3.5.3 (3383c37e1f9e9b3bc3df5050c29c8aff9f295297; 2018-02-24T14:49:05-05:00)\nMaven home: /Users/user/Documents/tools/apache-maven-3.5.3\nJava version: 1.8.0_301, vendor: Oracle Corporation\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_301.jdk/Contents/Home/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.15.7&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;</p>\n<p>Caused by: java.lang.ClassNotFoundException: org.hibernate.validator.group.DefaultGroupSequenceProvider\nat java.net.URLClassLoader.findClass (URLClassLoader.java:382)\nat java.lang.ClassLoader.loadClass (ClassLoader.java:418)\nat java.lang.ClassLoader.loadClass (ClassLoader.java:351)\nat org.hibernate.validator.ap.checks.GroupSequenceProviderCheck. (GroupSequenceProviderCheck.java:63)\nat org.hibernate.validator.ap.checks.ConstraintCheckFactory. (ConstraintCheckFactory.java:125)\nat org.hibernate.validator.ap.ConstraintAnnotationVisitor. (ConstraintAnnotationVisitor.java:68)\nat org.hibernate.validator.ap.ConstraintValidationProcessor.process (ConstraintValidationProcessor.java:101)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor (JavacProcessingEnvironment.java:794)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs (JavacProcessingEnvironment.java:705)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800 (JavacProcessingEnvironment.java:91)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run (JavacProcessingEnvironment.java:1035)\nat com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing (JavacProcessingEnvironment.java:1176)\nat com.sun.tools.javac.main.JavaCompiler.processAnnotations (JavaCompiler.java:1170)\nat com.sun.tools.javac.main.JavaCompiler.compile (JavaCompiler.java:856)\nat com.sun.tools.javac.main.Main.compile (Main.java:523)\nat com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:129)\nat com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:138)\nat org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:126)\nat org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:169)\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:785)\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:129)\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\nat sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:498)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)</p>\n"},{"tags":["java","spring-boot","apache-kafka","parallel-processing","reactor-kafka"],"answers":[{"comments":[{"owner":{"account_id":10074708,"reputation":1692,"user_id":7447228,"accept_rate":0,"display_name":"Ekaterina"},"score":0,"creation_date":1685657570,"post_id":75416015,"comment_id":134695467,"body_markdown":"Does it mean that with Reactor Kafka the number of partitions doesn&#39;t matter as always only one thread will be used for polling messages?","body":"Does it mean that with Reactor Kafka the number of partitions doesn&#39;t matter as always only one thread will be used for polling messages?"}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676062426,"creation_date":1676062426,"answer_id":75416015,"question_id":75365882,"body_markdown":"Typically in kafka consumers it&#39;s a good idea to separate polling cycle from processing logic. There is also I/O thread that is native to the `KafkaConsumer`. Sometimes this architecture is called &quot;consumer with pipelining&quot;. In this architecture polling thread are continuously fetching records from kafka and then &quot;feed&quot; them to some bounded buffer/queue (i.e. `ArrayBlockingQueue` or `LinkedBlockingQueue`). On the other side processing threads take records from the queue and process them. It allows to separate decouple polling logic from the processing implementing buffering and backpreasure. \r\n\r\nReactor Kafka is built on top of `KafkaConsumer` API and use similar architecture implementing reactive streams with backpreasure. `KafkaReceiver` provides polling cycle and by default, publishes fetched records on a `Schedulers.single` thread.\r\n\r\nNow, depends on your logic, you could process data and commit offsets sequentially or in parallel. For concurrent processing use `flatMap` that by default processes 256 records in parallel and could be controlled using `concurrency` parameter. \r\n\r\n```\r\nkafkaReceiver.receive()\r\n    .flatMap(rec -&gt; proces(rec), concurrency)\r\n```\r\n\r\n\r\nIf you add logging, you would see that all records are received on `kafka-receiver-2` but processed on different `parallel-#` threads. Note, that records are received in order per partition.\r\n```\r\n12:50:08.347  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-2, partition: 0\r\n12:50:08.349  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-3, partition: 0\r\n12:50:08.350  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-4, partition: 0\r\n12:50:08.350  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-6, partition: 0\r\n12:50:08.351  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-9, partition: 0\r\n12:50:08.353  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-0, partition: 2\r\n12:50:08.354  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-8, partition: 2\r\n12:50:08.355  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-1, partition: 1\r\n12:50:08.356  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-5, partition: 1\r\n12:50:08.358  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-7, partition: 1\r\n12:50:09.353  [parallel-3] INFO [c.e.d.KafkaConsumerTest] - process: value-2, partition: 0\r\n12:50:09.353  [parallel-6] INFO [c.e.d.KafkaConsumerTest] - process: value-6, partition: 0\r\n12:50:09.353  [parallel-4] INFO [c.e.d.KafkaConsumerTest] - process: value-3, partition: 0\r\n12:50:09.353  [parallel-5] INFO [c.e.d.KafkaConsumerTest] - process: value-4, partition: 0\r\n12:50:09.355  [parallel-7] INFO [c.e.d.KafkaConsumerTest] - process: value-9, partition: 0\r\n12:50:09.360  [parallel-10] INFO [c.e.d.KafkaConsumerTest] - process: value-1, partition: 1\r\n12:50:09.360  [parallel-9] INFO [c.e.d.KafkaConsumerTest] - process: value-8, partition: 2\r\n12:50:09.360  [parallel-8] INFO [c.e.d.KafkaConsumerTest] - process: value-0, partition: 2\r\n12:50:09.361  [parallel-11] INFO [c.e.d.KafkaConsumerTest] - process: value-5, partition: 1\r\n12:50:09.361  [parallel-12] INFO [c.e.d.KafkaConsumerTest] - process: value-7, partition: 1\r\n```\r\n\r\n\r\nIn other words this is by design and you should not worry about polling logic. You can scale processing by increasing parallelism for `flatMap`.","title":"Reactor Kafka: message consumption always on one thread no matter the number of CPU from machine","body":"<p>Typically in kafka consumers it's a good idea to separate polling cycle from processing logic. There is also I/O thread that is native to the <code>KafkaConsumer</code>. Sometimes this architecture is called &quot;consumer with pipelining&quot;. In this architecture polling thread are continuously fetching records from kafka and then &quot;feed&quot; them to some bounded buffer/queue (i.e. <code>ArrayBlockingQueue</code> or <code>LinkedBlockingQueue</code>). On the other side processing threads take records from the queue and process them. It allows to separate decouple polling logic from the processing implementing buffering and backpreasure.</p>\n<p>Reactor Kafka is built on top of <code>KafkaConsumer</code> API and use similar architecture implementing reactive streams with backpreasure. <code>KafkaReceiver</code> provides polling cycle and by default, publishes fetched records on a <code>Schedulers.single</code> thread.</p>\n<p>Now, depends on your logic, you could process data and commit offsets sequentially or in parallel. For concurrent processing use <code>flatMap</code> that by default processes 256 records in parallel and could be controlled using <code>concurrency</code> parameter.</p>\n<pre><code>kafkaReceiver.receive()\n    .flatMap(rec -&gt; proces(rec), concurrency)\n</code></pre>\n<p>If you add logging, you would see that all records are received on <code>kafka-receiver-2</code> but processed on different <code>parallel-#</code> threads. Note, that records are received in order per partition.</p>\n<pre><code>12:50:08.347  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-2, partition: 0\n12:50:08.349  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-3, partition: 0\n12:50:08.350  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-4, partition: 0\n12:50:08.350  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-6, partition: 0\n12:50:08.351  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-9, partition: 0\n12:50:08.353  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-0, partition: 2\n12:50:08.354  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-8, partition: 2\n12:50:08.355  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-1, partition: 1\n12:50:08.356  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-5, partition: 1\n12:50:08.358  [kafka-receiver-2] INFO [c.e.d.KafkaConsumerTest] - receive: value-7, partition: 1\n12:50:09.353  [parallel-3] INFO [c.e.d.KafkaConsumerTest] - process: value-2, partition: 0\n12:50:09.353  [parallel-6] INFO [c.e.d.KafkaConsumerTest] - process: value-6, partition: 0\n12:50:09.353  [parallel-4] INFO [c.e.d.KafkaConsumerTest] - process: value-3, partition: 0\n12:50:09.353  [parallel-5] INFO [c.e.d.KafkaConsumerTest] - process: value-4, partition: 0\n12:50:09.355  [parallel-7] INFO [c.e.d.KafkaConsumerTest] - process: value-9, partition: 0\n12:50:09.360  [parallel-10] INFO [c.e.d.KafkaConsumerTest] - process: value-1, partition: 1\n12:50:09.360  [parallel-9] INFO [c.e.d.KafkaConsumerTest] - process: value-8, partition: 2\n12:50:09.360  [parallel-8] INFO [c.e.d.KafkaConsumerTest] - process: value-0, partition: 2\n12:50:09.361  [parallel-11] INFO [c.e.d.KafkaConsumerTest] - process: value-5, partition: 1\n12:50:09.361  [parallel-12] INFO [c.e.d.KafkaConsumerTest] - process: value-7, partition: 1\n</code></pre>\n<p>In other words this is by design and you should not worry about polling logic. You can scale processing by increasing parallelism for <code>flatMap</code>.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75416015,"answer_count":1,"score":0,"last_activity_date":1676062426,"creation_date":1675712746,"question_id":75365882,"body_markdown":"Small question regarding Reactor Kafka please.\r\n\r\nI am having a very straightforward Reactor Kafka project.\r\n\r\n```\r\npackage com.example.micrometer;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.messaging.Message;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\nimport java.util.function.Consumer;\r\n\r\n@SpringBootApplication\r\npublic class StreamReactiveConsumerApplication implements CommandLineRunner {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(StreamReactiveConsumerApplication.class);\r\n\r\n    public static void main(String... args) {\r\n        new SpringApplicationBuilder(StreamReactiveConsumerApplication.class).run(args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n    }\r\n\r\n    @Bean\r\n    Consumer&lt;Flux&lt;Message&lt;String&gt;&gt;&gt; consume() {\r\n        return flux -&gt; flux.flatMap(one -&gt; myHandle(one) ).subscribe();\r\n    }\r\n\r\n    private Mono&lt;String&gt; myHandle(Message&lt;String&gt; one) {\r\n        log.info(&quot;&lt;==== look at this thread&quot; + &quot;\\u001B[32m&quot; + one.getPayload() + &quot;\\u001B[0m&quot;);\r\n        String payload = one.getPayload();\r\n        String decryptedPayload = complexInMemoryDecryption(payload); //this is NON blocking, takes 1 second\r\n        String complexMatrix = convertDecryptedPayloadToGiantMatrix(decryptedPayload);  //this is NON blocking, takes 1 second\r\n        String newMatrix = matrixComputation(complexMatrix); //this is NON blocking, takes 1 second\r\n        return myNonBlockingReactiveRepository.save(complexMatrix);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;streamreactiveconsumer&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2022.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n(Note, it is not a Spring Kafka project, not a Spring Cloud Stream project)\r\n\r\nI am consuming from a topic with 3 partitions. The rate of the messages sent is one message per second.\r\n\r\nThe consumption and the processing of the message takes 3ish seconds second per message.\r\n\r\nImportant: please note the processing does not contain any blocking operation. It is a giant in memory decryption + giant matrix computation. It is BlockHound tested NON blocking.\r\n\r\n**Actual**:\r\nWhen I consume the messages with project Reactor Kafka, the whole consumption happens on one thread only. Everything happens on ```container-0-C-1```\r\n\r\nEverything will happen on ```container-0-C-1```, tested with hardware with 2 CPUs, 4 CPUs, 8 CPUs\r\n\r\n```\r\n2023-02-06 10:42:59 8384 INFO  --- [KafkaConsumerDestination{consumerDestinationName=&#39;prod_audit_hdfs&#39;, partitions=3, dlqName=&#39;null&#39;}.container-0-C-1] [stream-reactive-consumer,,] c.e.m.StreamReactiveConsumerApplication :\r\n2023-02-06 10:42:59 8384 INFO  --- [KafkaConsumerDestination{consumerDestinationName=&#39;prod_audit_hdfs&#39;, partitions=3, dlqName=&#39;null&#39;}.container-0-C-1] [stream-reactive-consumer,,] c.e.m.StreamReactiveConsumerApplication :\r\n2023-02-06 10:42:59 8384 INFO  --- [KafkaConsumerDestination{consumerDestinationName=&#39;prod_audit_hdfs&#39;, partitions=3, dlqName=&#39;null&#39;}.container-0-C-1] [stream-reactive-consumer,,] c.e.m.StreamReactiveConsumerApplication :\r\n```\r\n\r\n**Expected**:\r\nWe migrated from http webflux based to Kafka consumption based. The business logic did not change one bit.\r\n\r\nOn the Reactor Netty Spring webflux application, we could see processing happening from multiple thread, corresponding to the reactor cores. On a machine with many cores, this could keep up easily.\r\n\r\n```\r\n[or-http-epoll-1] [or-http-epoll-2] [or-http-epoll-3] [or-http-epoll-4]\r\n```\r\n\r\nThe processing with just switch between any of those reactor-http-epoll-N.\r\nI could see when reactor-http-epoll-1 is handling the complex in memory computation for the first message, reactor-http-epoll-3 would handle the computation for the second message, etc... The parallelism is clear\r\n\r\n\r\nI understand there are way to &quot;scale&quot; this application, but this a question in terms of Reactor Kafka itself.\r\n\r\nI expect the messages would be handled in parallel. Some kind of container-0-C-1 for the first message, container-0-C-2 for the second message, etc...\r\n\r\nHow can I achieve that please?\r\nWhat am I missing?\r\n\r\nThank you ","title":"Reactor Kafka: message consumption always on one thread no matter the number of CPU from machine","body":"<p>Small question regarding Reactor Kafka please.</p>\n<p>I am having a very straightforward Reactor Kafka project.</p>\n<pre><code>package com.example.micrometer;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.messaging.Message;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\nimport java.util.function.Consumer;\n\n@SpringBootApplication\npublic class StreamReactiveConsumerApplication implements CommandLineRunner {\n\n    private static final Logger log = LoggerFactory.getLogger(StreamReactiveConsumerApplication.class);\n\n    public static void main(String... args) {\n        new SpringApplicationBuilder(StreamReactiveConsumerApplication.class).run(args);\n    }\n\n    @Override\n    public void run(String... args) {\n    }\n\n    @Bean\n    Consumer&lt;Flux&lt;Message&lt;String&gt;&gt;&gt; consume() {\n        return flux -&gt; flux.flatMap(one -&gt; myHandle(one) ).subscribe();\n    }\n\n    private Mono&lt;String&gt; myHandle(Message&lt;String&gt; one) {\n        log.info(&quot;&lt;==== look at this thread&quot; + &quot;\\u001B[32m&quot; + one.getPayload() + &quot;\\u001B[0m&quot;);\n        String payload = one.getPayload();\n        String decryptedPayload = complexInMemoryDecryption(payload); //this is NON blocking, takes 1 second\n        String complexMatrix = convertDecryptedPayloadToGiantMatrix(decryptedPayload);  //this is NON blocking, takes 1 second\n        String newMatrix = matrixComputation(complexMatrix); //this is NON blocking, takes 1 second\n        return myNonBlockingReactiveRepository.save(complexMatrix);\n    }\n\n}\n\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;streamreactiveconsumer&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2022.0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>(Note, it is not a Spring Kafka project, not a Spring Cloud Stream project)</p>\n<p>I am consuming from a topic with 3 partitions. The rate of the messages sent is one message per second.</p>\n<p>The consumption and the processing of the message takes 3ish seconds second per message.</p>\n<p>Important: please note the processing does not contain any blocking operation. It is a giant in memory decryption + giant matrix computation. It is BlockHound tested NON blocking.</p>\n<p><strong>Actual</strong>:\nWhen I consume the messages with project Reactor Kafka, the whole consumption happens on one thread only. Everything happens on <code>container-0-C-1</code></p>\n<p>Everything will happen on <code>container-0-C-1</code>, tested with hardware with 2 CPUs, 4 CPUs, 8 CPUs</p>\n<pre><code>2023-02-06 10:42:59 8384 INFO  --- [KafkaConsumerDestination{consumerDestinationName='prod_audit_hdfs', partitions=3, dlqName='null'}.container-0-C-1] [stream-reactive-consumer,,] c.e.m.StreamReactiveConsumerApplication :\n2023-02-06 10:42:59 8384 INFO  --- [KafkaConsumerDestination{consumerDestinationName='prod_audit_hdfs', partitions=3, dlqName='null'}.container-0-C-1] [stream-reactive-consumer,,] c.e.m.StreamReactiveConsumerApplication :\n2023-02-06 10:42:59 8384 INFO  --- [KafkaConsumerDestination{consumerDestinationName='prod_audit_hdfs', partitions=3, dlqName='null'}.container-0-C-1] [stream-reactive-consumer,,] c.e.m.StreamReactiveConsumerApplication :\n</code></pre>\n<p><strong>Expected</strong>:\nWe migrated from http webflux based to Kafka consumption based. The business logic did not change one bit.</p>\n<p>On the Reactor Netty Spring webflux application, we could see processing happening from multiple thread, corresponding to the reactor cores. On a machine with many cores, this could keep up easily.</p>\n<pre><code>[or-http-epoll-1] [or-http-epoll-2] [or-http-epoll-3] [or-http-epoll-4]\n</code></pre>\n<p>The processing with just switch between any of those reactor-http-epoll-N.\nI could see when reactor-http-epoll-1 is handling the complex in memory computation for the first message, reactor-http-epoll-3 would handle the computation for the second message, etc... The parallelism is clear</p>\n<p>I understand there are way to &quot;scale&quot; this application, but this a question in terms of Reactor Kafka itself.</p>\n<p>I expect the messages would be handled in parallel. Some kind of container-0-C-1 for the first message, container-0-C-2 for the second message, etc...</p>\n<p>How can I achieve that please?\nWhat am I missing?</p>\n<p>Thank you</p>\n"},{"tags":["java","reflection","classloader"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675355377,"post_id":75300481,"comment_id":132915756,"body_markdown":"Just use `Logger.class.getResource(&quot;Logger.class&quot;)`. Alternatively, `org.apache.log4j.Logger.class.getClassLoader().getResource( &quot;org/apache/log4j/Logger.class&quot;)` would do (as that class shouldn’t be loaded by the bootstrap loader).","body":"Just use <code>Logger.class.getResource(&quot;Logger.class&quot;)</code>. Alternatively, <code>org.apache.log4j.Logger.class.getClassLoader().getResource( &quot;org&#47;apache&#47;log4j&#47;Logger.class&quot;)</code> would do (as that class shouldn’t be loaded by the bootstrap loader)."},{"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"score":0,"creation_date":1675444501,"post_id":75300481,"comment_id":132937489,"body_markdown":"That is in all the code above, all return null.  It can&#39;t find the logger class.\n\nI was actually trying to see at compile time it maybe available but not at runtime.","body":"That is in all the code above, all return null.  It can&#39;t find the logger class.  I was actually trying to see at compile time it maybe available but not at runtime."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675445309,"post_id":75300481,"comment_id":132937766,"body_markdown":"A call like `Logger.class.getResource(&quot;Logger.class&quot;)` is *not* in the code above. It would be the only call that uses the right class loader *and* prevents from misspelling the package. And if you can call a method on `Logger.class`, then obviously, the class *is* available at runtime. All your attempts above are either, making guesswork about the class loader or inconsistent regarding the path/package name.","body":"A call like <code>Logger.class.getResource(&quot;Logger.class&quot;)</code> is <i>not</i> in the code above. It would be the only call that uses the right class loader <i>and</i> prevents from misspelling the package. And if you can call a method on <code>Logger.class</code>, then obviously, the class <i>is</i> available at runtime. All your attempts above are either, making guesswork about the class loader or inconsistent regarding the path/package name."}],"answers":[{"tags":[],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676062406,"creation_date":1676062406,"answer_id":75416007,"question_id":75300481,"body_markdown":"Per the comments, this should work.  It is not entirely what I was looking for but will continue with this.\r\n\r\nLogger.class.getResource(&quot;Logger.class&quot;). Alternatively, org.apache.log4j.Logger.class.getClassLoader().getResource( &quot;org/apache/log4j/Logger.class&quot;)","title":"With websphere liberty or apache tomcat 8 or in java code in general how to print the full path of third-party or first-party class","body":"<p>Per the comments, this should work.  It is not entirely what I was looking for but will continue with this.</p>\n<p>Logger.class.getResource(&quot;Logger.class&quot;). Alternatively, org.apache.log4j.Logger.class.getClassLoader().getResource( &quot;org/apache/log4j/Logger.class&quot;)</p>\n"}],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75416007,"answer_count":1,"score":0,"last_activity_date":1676062406,"creation_date":1675184033,"question_id":75300481,"body_markdown":"I am trying to see where a first party class and third-party class are loaded from say a websphere liberty as well as apache tomcat.  When I use -verbose:class, I see a bunch of paths but don&#39;t see the path in question.  It looks like liberty related paths but not the third-party path was looking for.\r\n\r\nFor example, let&#39;s say the class is just org/apache/loggger/Logger.class where is that class?\r\n\r\nI tried Reflections library, was sure if that was the right use case.\r\n\r\nI tried these approaches below, didn&#39;t find what was looking for. The class is there at compile time.  Also couldn&#39;t find any third-party classes this way.\r\n\r\n        final ClassLoader loader = ServletVers2.class.getClassLoader();\r\n        System.out.println(loader.getResource(&quot;com/ca/services/servlet/ServletVers2.class&quot;));\r\n        System.out.println(loader.getResource(&quot;com/ca/apps/shared/utils/BuildVersion.class&quot;));\r\n\r\n        final ClassLoader classloader2 = ClassLoader.getSystemClassLoader();\r\n        final ClassLoader classloader3 = ClassLoader.getSystemClassLoader().getParent();\r\n\r\n        System.out.println(loader.getResource(&quot;org/apache/logging/log4j/LogManager.class&quot;));\r\n        System.out.println(loader.getResource(&quot;org/apache/log4j/Logger.class&quot;));\r\n\r\n        System.out.println(classloader2.getResource(&quot;org/apache/logging/log4j/LogManager.class&quot;));\r\n        System.out.println(classloader2.getResource(&quot;org/apache/log4j/Logger.class&quot;));\r\n\r\n        System.out.println(classloader3.getResource(&quot;org/apache/logging/log4j/LogManager.class&quot;));\r\n        System.out.println(classloader3.getResource(&quot;org/apache/log4j/Logger.class&quot;));\r\n        \r\n        Reflections reflections = new Reflections(&quot;com.apps.shared.utils.BuildVersion&quot;, new SubTypesScanner(false));\r\n\r\n","title":"With websphere liberty or apache tomcat 8 or in java code in general how to print the full path of third-party or first-party class","body":"<p>I am trying to see where a first party class and third-party class are loaded from say a websphere liberty as well as apache tomcat.  When I use -verbose:class, I see a bunch of paths but don't see the path in question.  It looks like liberty related paths but not the third-party path was looking for.</p>\n<p>For example, let's say the class is just org/apache/loggger/Logger.class where is that class?</p>\n<p>I tried Reflections library, was sure if that was the right use case.</p>\n<p>I tried these approaches below, didn't find what was looking for. The class is there at compile time.  Also couldn't find any third-party classes this way.</p>\n<pre><code>    final ClassLoader loader = ServletVers2.class.getClassLoader();\n    System.out.println(loader.getResource(&quot;com/ca/services/servlet/ServletVers2.class&quot;));\n    System.out.println(loader.getResource(&quot;com/ca/apps/shared/utils/BuildVersion.class&quot;));\n\n    final ClassLoader classloader2 = ClassLoader.getSystemClassLoader();\n    final ClassLoader classloader3 = ClassLoader.getSystemClassLoader().getParent();\n\n    System.out.println(loader.getResource(&quot;org/apache/logging/log4j/LogManager.class&quot;));\n    System.out.println(loader.getResource(&quot;org/apache/log4j/Logger.class&quot;));\n\n    System.out.println(classloader2.getResource(&quot;org/apache/logging/log4j/LogManager.class&quot;));\n    System.out.println(classloader2.getResource(&quot;org/apache/log4j/Logger.class&quot;));\n\n    System.out.println(classloader3.getResource(&quot;org/apache/logging/log4j/LogManager.class&quot;));\n    System.out.println(classloader3.getResource(&quot;org/apache/log4j/Logger.class&quot;));\n    \n    Reflections reflections = new Reflections(&quot;com.apps.shared.utils.BuildVersion&quot;, new SubTypesScanner(false));\n</code></pre>\n"},{"tags":["java","spring-boot","spring-validator"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1637560758,"post_id":70061061,"comment_id":123849529,"body_markdown":"Please post the exact body in the HTTP 400 response. I usually do see particular fields.","body":"Please post the exact body in the HTTP 400 response. I usually do see particular fields."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637563667,"post_id":70061061,"comment_id":123850128,"body_markdown":"You cannot as that isn&#39;t validation but an error from Jackson trying to place a `String` into an `Integer` field. So it doesn&#39;t even reach validation it already fails at converting that JSON into an object.","body":"You cannot as that isn&#39;t validation but an error from Jackson trying to place a <code>String</code> into an <code>Integer</code> field. So it doesn&#39;t even reach validation it already fails at converting that JSON into an object."},{"owner":{"account_id":4164352,"reputation":31,"user_id":3413639,"display_name":"Peter Pham"},"score":0,"creation_date":1637564768,"post_id":70061061,"comment_id":123850406,"body_markdown":"@M.Deinum yes, you&#39;re correct and I know it&#39;s a bad idea. Could you have any advice to add an error message for the Age field when posting a String?","body":"@M.Deinum yes, you&#39;re correct and I know it&#39;s a bad idea. Could you have any advice to add an error message for the Age field when posting a String?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637559534,"post_id":70061201,"comment_id":123849293,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70061201/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20467757,"reputation":1,"user_id":15018883,"display_name":"Arthi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637732109,"creation_date":1637558524,"answer_id":70061201,"question_id":70061061,"body_markdown":"In your post method signature, you can make use of Response Entity class to show some exception message that is to be returned to the user, along with some status code.\r\n\r\n`public class FooController{`\r\n\r\n  `public ResponseEntity&lt;?&gt; showError()`\r\n\r\n`{`\r\n   \r\n `return new ResponseEntity&lt;&gt;(&quot;Exception arised&quot;, HttpStatus.BAD_REQUEST);`\r\n\r\n`}`\r\n   \r\n`}`\r\n","title":"Spring Boot request body validation add customize messages when input an invalid data type","body":"<p>In your post method signature, you can make use of Response Entity class to show some exception message that is to be returned to the user, along with some status code.</p>\n<p><code>public class FooController{</code></p>\n<p><code>public ResponseEntity&lt;?&gt; showError()</code></p>\n<p><code>{</code></p>\n<p><code>return new ResponseEntity&lt;&gt;(&quot;Exception arised&quot;, HttpStatus.BAD_REQUEST);</code></p>\n<p><code>}</code></p>\n<p><code>}</code></p>\n"},{"comments":[{"owner":{"account_id":4164352,"reputation":31,"user_id":3413639,"display_name":"Peter Pham"},"score":0,"creation_date":1637565568,"post_id":70061416,"comment_id":123850614,"body_markdown":"I have `ControllerAdvice` also, but you know when you give an invalid data type spring will response 400 bad request immediately before my code is excuted","body":"I have <code>ControllerAdvice</code> also, but you know when you give an invalid data type spring will response 400 bad request immediately before my code is excuted"},{"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"score":0,"creation_date":1637565715,"post_id":70061416,"comment_id":123850648,"body_markdown":"What exception you are getting for invalid data type? You need to handle that exception in your controller advice","body":"What exception you are getting for invalid data type? You need to handle that exception in your controller advice"}],"tags":[],"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637560731,"creation_date":1637560416,"answer_id":70061416,"question_id":70061061,"body_markdown":"You need to implement error handling mechanism.\r\n\r\nIn your error handler you need to catch all exceptions and return error response.\r\nHere is an example based on  Controller level ExceptionHandling\r\n\r\n    public class FooController{\r\n    \r\n       //...\r\n       @ResponseStatus(value=HttpStatus.BAD_REQUEST)\r\n       @ExceptionHandler({ CustomException1.class, CustomException2.class })\r\n          public ErrorResponse handleException() {\r\n          //\r\n       }\r\n    }\r\nHere in ErrorResponse  model you can set error code and message according to exception and via ResponseStatus you can assign http errro code\r\n\r\nHowever this his approach has a major drawback: The @ExceptionHandler annotated method is only active for that particular Controller, not globally for the entire application.\r\n\r\nTo globally handle exception you can use ControllerAdvice.\r\n[Here][1] is a good article on overall error handling mechanism\r\n\r\n\r\n  [1]: https://www.baeldung.com/exception-handling-for-rest-with-spring","title":"Spring Boot request body validation add customize messages when input an invalid data type","body":"<p>You need to implement error handling mechanism.</p>\n<p>In your error handler you need to catch all exceptions and return error response.\nHere is an example based on  Controller level ExceptionHandling</p>\n<pre><code>public class FooController{\n\n   //...\n   @ResponseStatus(value=HttpStatus.BAD_REQUEST)\n   @ExceptionHandler({ CustomException1.class, CustomException2.class })\n      public ErrorResponse handleException() {\n      //\n   }\n}\n</code></pre>\n<p>Here in ErrorResponse  model you can set error code and message according to exception and via ResponseStatus you can assign http errro code</p>\n<p>However this his approach has a major drawback: The @ExceptionHandler annotated method is only active for that particular Controller, not globally for the entire application.</p>\n<p>To globally handle exception you can use ControllerAdvice.\n<a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">Here</a> is a good article on overall error handling mechanism</p>\n"},{"tags":[],"owner":{"account_id":4164352,"reputation":31,"user_id":3413639,"display_name":"Peter Pham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637569088,"creation_date":1637569088,"answer_id":70062740,"question_id":70061061,"body_markdown":"Thanks, everybody. I found a way to add messages and respond to users can aware of the error by using `ControllerAdvice` and overriding the `handleHttpMessageNotReadable` method as example below:\r\n\r\n    @ControllerAdvice\r\n    public class ErrorHandlerConfig extends ResponseEntityExceptionHandler {\r\n     @Override\r\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex, HttpHeaders headers,\r\n                                                                  HttpStatus status, WebRequest request) {\r\n        if (ex.getCause() instanceof InvalidFormatException) {\r\n            InvalidFormatException iex = (InvalidFormatException) ex.getCause();\r\n            List&lt;Map&lt;String, String&gt;&gt; errors = new ArrayList&lt;&gt;();\r\n            iex.getPath().forEach(reference -&gt; {\r\n                Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\r\n                error.put(reference.getFieldName(), iex.getOriginalMessage());\r\n                errors.add(error);\r\n            });\r\n\r\n            return handleExceptionInternal(ex, errors, new HttpHeaders(), apiError.getStatus(), request);\r\n        }\r\n        return super.handleHttpMessageNotReadable(ex, headers, status, request);\r\n    }\r\n    }\r\n\r\nThe response will be:\r\n\r\n    [\r\n        {\r\n            &quot;testId&quot;: &quot;Cannot deserialize value of type `java.lang.Long` from String \\&quot;accm\\&quot;: not a valid Long value&quot;\r\n        }\r\n    ]","title":"Spring Boot request body validation add customize messages when input an invalid data type","body":"<p>Thanks, everybody. I found a way to add messages and respond to users can aware of the error by using <code>ControllerAdvice</code> and overriding the <code>handleHttpMessageNotReadable</code> method as example below:</p>\n<pre><code>@ControllerAdvice\npublic class ErrorHandlerConfig extends ResponseEntityExceptionHandler {\n @Override\nprotected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex, HttpHeaders headers,\n                                                              HttpStatus status, WebRequest request) {\n    if (ex.getCause() instanceof InvalidFormatException) {\n        InvalidFormatException iex = (InvalidFormatException) ex.getCause();\n        List&lt;Map&lt;String, String&gt;&gt; errors = new ArrayList&lt;&gt;();\n        iex.getPath().forEach(reference -&gt; {\n            Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\n            error.put(reference.getFieldName(), iex.getOriginalMessage());\n            errors.add(error);\n        });\n\n        return handleExceptionInternal(ex, errors, new HttpHeaders(), apiError.getStatus(), request);\n    }\n    return super.handleHttpMessageNotReadable(ex, headers, status, request);\n}\n}\n</code></pre>\n<p>The response will be:</p>\n<pre><code>[\n    {\n        &quot;testId&quot;: &quot;Cannot deserialize value of type `java.lang.Long` from String \\&quot;accm\\&quot;: not a valid Long value&quot;\n    }\n]\n</code></pre>\n"}],"owner":{"account_id":4164352,"reputation":31,"user_id":3413639,"display_name":"Peter Pham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70062740,"answer_count":3,"score":1,"last_activity_date":1676062210,"creation_date":1637557104,"question_id":70061061,"body_markdown":"I am using Spring Boot to create a POST request and I need to validate the request body based on user inputs. However, when the user inputS an invalid data type, the response shows nothing, just `400 bad request` status. Can I add a message to show the user which field is an invalid data type?\r\n\r\nFor example:\r\nHere is my controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/foo&quot;)\r\n    public class FooController {\r\n\r\n      @PostMapping(&quot;/save&quot;)\r\n      public void postFoo(@Valid @RequestBody Foo foo) {\r\n        // do somethings\r\n      }\r\n    }\r\n  \r\nAnd here is my Foo class: \r\n\r\n    public class Foo {\r\n      @NotBlank\r\n      private String name;\r\n      private Integer age;\r\n\r\n      // getter/setter\r\n    }\r\n\r\nSo now I post a request as below: \r\n\r\n    {\r\n      &quot;name&quot;: &quot;Foo Name&quot;,\r\n      &quot;age&quot;: &quot;A String&quot;\r\n    }\r\n\r\nThe server will respond with the status `400 Bad request` without any message. How can I put my message such as `Age must be an integer`.\r\n\r\nUntil now I only have a solution that changes Age to String and adds a @Pattern validation annotation.\r\n\r\n    public class Foo {\r\n      @NotBlank\r\n      private String name;\r\n      @Pattern(regexp = &quot;[0-9]*&quot;, message = &quot;Age must be an intege&quot;)\r\n      private String age;\r\n\r\n      // getter/setter\r\n    }","title":"Spring Boot request body validation add customize messages when input an invalid data type","body":"<p>I am using Spring Boot to create a POST request and I need to validate the request body based on user inputs. However, when the user inputS an invalid data type, the response shows nothing, just <code>400 bad request</code> status. Can I add a message to show the user which field is an invalid data type?</p>\n<p>For example:\nHere is my controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/foo&quot;)\npublic class FooController {\n\n  @PostMapping(&quot;/save&quot;)\n  public void postFoo(@Valid @RequestBody Foo foo) {\n    // do somethings\n  }\n}\n</code></pre>\n<p>And here is my Foo class:</p>\n<pre><code>public class Foo {\n  @NotBlank\n  private String name;\n  private Integer age;\n\n  // getter/setter\n}\n</code></pre>\n<p>So now I post a request as below:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;Foo Name&quot;,\n  &quot;age&quot;: &quot;A String&quot;\n}\n</code></pre>\n<p>The server will respond with the status <code>400 Bad request</code> without any message. How can I put my message such as <code>Age must be an integer</code>.</p>\n<p>Until now I only have a solution that changes Age to String and adds a @Pattern validation annotation.</p>\n<pre><code>public class Foo {\n  @NotBlank\n  private String name;\n  @Pattern(regexp = &quot;[0-9]*&quot;, message = &quot;Age must be an intege&quot;)\n  private String age;\n\n  // getter/setter\n}\n</code></pre>\n"},{"tags":["java","quarkus","resteasy"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1676008557,"post_id":75397292,"comment_id":133054372,"body_markdown":"Please add some code so we can better understand what you are trying to do.","body":"Please add some code so we can better understand what you are trying to do."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676019446,"post_id":75397292,"comment_id":133056644,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":27743072,"reputation":11,"user_id":21179162,"display_name":"layflag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676061740,"creation_date":1676061740,"answer_id":75415936,"question_id":75397292,"body_markdown":"\r\nThe error:\r\n```\r\njava.net.SocketTimeoutException: Read timed out\r\n\r\n\tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n\tat org.apache.http.impl.io.AbstractSessionInputBuffer.fillBuffer(AbstractSessionInputBuffer.java:161)\r\n\tat org.apache.http.impl.io.SocketInputBuffer.fillBuffer(SocketInputBuffer.java:82)\r\n\tat org.apache.http.impl.io.AbstractSessionInputBuffer.readLine(AbstractSessionInputBuffer.java:276)\r\n\tat org.apache.http.impl.io.ChunkedInputStream.getChunkSize(ChunkedInputStream.java:261)\r\n\tat org.apache.http.impl.io.ChunkedInputStream.nextChunk(ChunkedInputStream.java:222)\r\n\tat org.apache.http.impl.io.ChunkedInputStream.read(ChunkedInputStream.java:183)\r\n\tat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:135)\r\n\tat org.apache.http.conn.EofSensorInputStream$read.call(Unknown Source)\r\n\tat io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.convertStreamToByteArray(RestAssuredResponseOptionsGroovyImpl.groovy:477)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n\tat org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite$StaticMetaMethodSiteNoUnwrapNoCoerce.invoke(StaticMetaMethodSite.java:149)\r\n\tat org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite.callStatic(StaticMetaMethodSite.java:100)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:55)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:217)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:231)\r\n\tat io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.charsetToString(RestAssuredResponseOptionsGroovyImpl.groovy:529)\r\n\tat io.restassured.internal.RestAssuredResponseOptionsGroovyImpl$charsetToString$3.callCurrent(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\r\n\tat io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.asString(RestAssuredResponseOptionsGroovyImpl.groovy:190)\r\n\tat io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.asString(RestAssuredResponseOptionsGroovyImpl.groovy:180)\r\n\tat io.restassured.internal.RestAssuredResponseOptionsImpl.asString(RestAssuredResponseOptionsImpl.java:234)\r\n\tat io.restassured.response.ResponseBodyData$asString.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)\r\n\tat io.restassured.internal.support.Prettifier.getPrettifiedBodyIfPossible(Prettifier.groovy:44)\r\n\tat io.restassured.internal.print.ResponsePrinter.print(ResponsePrinter.java:65)\r\n\tat io.restassured.filter.log.StatusCodeBasedLoggingFilter.filter(StatusCodeBasedLoggingFilter.java:115)\r\n\tat io.restassured.filter.log.ResponseLoggingFilter.filter(ResponseLoggingFilter.java:31)\r\n\tat io.restassured.filter.Filter$filter.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat io.restassured.filter.Filter$filter.call(Unknown Source)\r\n\tat io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\r\n\tat io.restassured.filter.log.RequestLoggingFilter.filter(RequestLoggingFilter.java:146)\r\n\tat io.restassured.filter.Filter$filter.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:157)\r\n\tat io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\r\n\tat io.restassured.filter.FilterContext$next.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\r\n\tat io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1686)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\r\n\tat groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\r\n\tat io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1692)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\r\n\tat groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\r\n\tat io.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy:180)\r\n\tat io.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy)\r\n\tat server.api.ProjectionDataResourceTest.testPostEnsembleDownload(ProjectionDataResourceTest.java:105)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.runExtensionMethod(QuarkusTestExtension.java:997)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.interceptTestMethod(QuarkusTestExtension.java:816)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n2023-02-10 21:17:06,031 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to %s failed, error id: %s [Error Occurred After Shutdown]: org.jdbi.v3.core.statement.UnableToExecuteStatementException: com.microsoft.sqlserver.jdbc.SQLServerException: SQL Server hat keine Antwort zur&#252;ckgegeben. Die Verbindung wurde geschlossen. [statement:{edited}, arguments:{edited}]\r\n\tat org.jdbi.v3.core.statement.SqlStatement.internalExecute(SqlStatement.java:1796)\r\n\tat org.jdbi.v3.core.result.ResultProducers.lambda$getResultSet$2(ResultProducers.java:64)\r\n\tat org.jdbi.v3.core.result.ResultIterable.lambda$of$0(ResultIterable.java:54)\r\n\tat org.jdbi.v3.core.result.ResultIterable.stream(ResultIterable.java:228)\r\n\tat db.DB.getProjectionData(DB.java:251)\r\n\tat server.api.ProjectionDataResource.getProjectionData(ProjectionDataResource.java:86)\r\n\tat server.api.ProjectionDataResource.lambda$getDs$0(ProjectionDataResource.java:104)\r\n\tat server.api.ZipStreamer.write(ZipStreamer.java:37)\r\n\tat server.api.StreamingOutputMessageBodyWriter.writeTo(StreamingOutputMessageBodyWriter.java:27)\r\n\tat server.api.StreamingOutputMessageBodyWriter.writeTo(StreamingOutputMessageBodyWriter.java:15)\r\n\tat org.jboss.resteasy.reactive.server.core.ServerSerialisers.invokeWriter(ServerSerialisers.java:233)\r\n\tat org.jboss.resteasy.reactive.server.core.ServerSerialisers.invokeWriter(ServerSerialisers.java:191)\r\n\tat org.jboss.resteasy.reactive.server.core.serialization.FixedEntityWriterArray.write(FixedEntityWriterArray.java:30)\r\n\tat org.jboss.resteasy.reactive.server.handlers.ResponseWriterHandler.handle(ResponseWriterHandler.java:34)\r\n\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:120)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:145)\r\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n\tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tSuppressed: java.io.IOException: java.io.IOException: Failed to write\r\n\t\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:307)\r\n\t\tat java.base/java.util.zip.DeflaterOutputStream.close(DeflaterOutputStream.java:249)\r\n\t\tat java.base/java.util.zip.ZipOutputStream.close(ZipOutputStream.java:391)\r\n\t\tat server.api.ZipStreamer.write(ZipStreamer.java:35)\r\n\t\t... 15 more\r\n\tCaused by: java.io.IOException: Failed to write\r\n\t\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:116)\r\n\t\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.writeBlocking(ResteasyReactiveOutputStream.java:231)\r\n\t\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:305)\r\n\t\t... 18 more\r\n\tCaused by: java.util.concurrent.RejectedExecutionException: event executor terminated\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:934)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:351)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:344)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:836)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.execute0(SingleThreadEventExecutor.java:827)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:817)\r\n\t\tat io.vertx.core.net.impl.ConnectionBase.queueForWrite(ConnectionBase.java:236)\r\n\t\tat io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:226)\r\n\t\tat io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:216)\r\n\t\tat io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:212)\r\n\t\tat io.vertx.core.http.impl.Http1xServerResponse.end(Http1xServerResponse.java:413)\r\n\t\tat io.vertx.core.http.impl.Http1xServerResponse.end(Http1xServerResponse.java:393)\r\n\t\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:107)\r\n\t\t... 20 more\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: SQL Server hat keine Antwort zur&#252;ckgegeben. Die Verbindung wurde geschlossen.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3806)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3795)\r\n\tat com.microsoft.sqlserver.jdbc.TDSReader.readPacket(IOBuffer.java:6802)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.startResponse(IOBuffer.java:8015)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:618)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:540)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7627)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3912)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.execute(SQLServerPreparedStatement.java:518)\r\n\tat io.agroal.pool.wrapper.PreparedStatementWrapper.execute(PreparedStatementWrapper.java:299)\r\n\tat org.jdbi.v3.core.statement.SqlLoggerUtil.wrap(SqlLoggerUtil.java:31)\r\n\tat org.jdbi.v3.core.statement.SqlStatement.internalExecute(SqlStatement.java:1788)\r\n\t... 22 more\r\n\r\n2023-02-10 21:17:06,032 ERROR [org.jbo.res.rea.com.cor.AbstractResteasyReactiveContext] (executor-thread-0) Request failed [Error Occurred After Shutdown]: org.jdbi.v3.core.statement.UnableToExecuteStatementException: com.microsoft.sqlserver.jdbc.SQLServerException: SQL Server hat keine Antwort zur&#252;ckgegeben. Die Verbindung wurde geschlossen. [statement:\r\n{edited}, arguments:{edited}]\r\n\tat org.jdbi.v3.core.statement.SqlStatement.internalExecute(SqlStatement.java:1796)\r\n\tat org.jdbi.v3.core.result.ResultProducers.lambda$getResultSet$2(ResultProducers.java:64)\r\n\tat org.jdbi.v3.core.result.ResultIterable.lambda$of$0(ResultIterable.java:54)\r\n\tat org.jdbi.v3.core.result.ResultIterable.stream(ResultIterable.java:228)\r\n\tat db.DB.getProjectionData(DB.java:251)\r\n\tat server.api.ProjectionDataResource.getProjectionData(ProjectionDataResource.java:86)\r\n\tat server.api.ProjectionDataResource.lambda$getDs$0(ProjectionDataResource.java:104)\r\n\tat server.api.ZipStreamer.write(ZipStreamer.java:37)\r\n\tat server.api.StreamingOutputMessageBodyWriter.writeTo(StreamingOutputMessageBodyWriter.java:27)\r\n\tat server.api.StreamingOutputMessageBodyWriter.writeTo(StreamingOutputMessageBodyWriter.java:15)\r\n\tat org.jboss.resteasy.reactive.server.core.ServerSerialisers.invokeWriter(ServerSerialisers.java:233)\r\n\tat org.jboss.resteasy.reactive.server.core.ServerSerialisers.invokeWriter(ServerSerialisers.java:191)\r\n\tat org.jboss.resteasy.reactive.server.core.serialization.FixedEntityWriterArray.write(FixedEntityWriterArray.java:30)\r\n\tat org.jboss.resteasy.reactive.server.handlers.ResponseWriterHandler.handle(ResponseWriterHandler.java:34)\r\n\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:120)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:145)\r\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n\tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tSuppressed: java.io.IOException: java.io.IOException: Failed to write\r\n\t\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:307)\r\n\t\tat java.base/java.util.zip.DeflaterOutputStream.close(DeflaterOutputStream.java:249)\r\n\t\tat java.base/java.util.zip.ZipOutputStream.close(ZipOutputStream.java:391)\r\n\t\tat server.api.ZipStreamer.write(ZipStreamer.java:35)\r\n\t\t... 15 more\r\n\tCaused by: java.io.IOException: Failed to write\r\n\t\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:116)\r\n\t\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.writeBlocking(ResteasyReactiveOutputStream.java:231)\r\n\t\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:305)\r\n\t\t... 18 more\r\n\tCaused by: java.util.concurrent.RejectedExecutionException: event executor terminated\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:934)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:351)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:344)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:836)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.execute0(SingleThreadEventExecutor.java:827)\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:817)\r\n\t\tat io.vertx.core.net.impl.ConnectionBase.queueForWrite(ConnectionBase.java:236)\r\n\t\tat io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:226)\r\n\t\tat io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:216)\r\n\t\tat io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:212)\r\n\t\tat io.vertx.core.http.impl.Http1xServerResponse.end(Http1xServerResponse.java:413)\r\n\t\tat io.vertx.core.http.impl.Http1xServerResponse.end(Http1xServerResponse.java:393)\r\n\t\tat org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:107)\r\n\t\t... 20 more\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: SQL Server hat keine Antwort zur&#252;ckgegeben. Die Verbindung wurde geschlossen.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3806)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3795)\r\n\tat com.microsoft.sqlserver.jdbc.TDSReader.readPacket(IOBuffer.java:6802)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.startResponse(IOBuffer.java:8015)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:618)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:540)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7627)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3912)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.execute(SQLServerPreparedStatement.java:518)\r\n\tat io.agroal.pool.wrapper.PreparedStatementWrapper.execute(PreparedStatementWrapper.java:299)\r\n\tat org.jdbi.v3.core.statement.SqlLoggerUtil.wrap(SqlLoggerUtil.java:31)\r\n\tat org.jdbi.v3.core.statement.SqlStatement.internalExecute(SqlStatement.java:1788)\r\n\t... 22 more\r\n\r\n2023-02-10 21:17:06,033 INFO  [io.quarkus] (main) data-access-service-quarkus stopped in 87.703s\r\n\r\nProcess finished with exit code 255\r\n```","title":"Quarkus - Getting java.net.SocketTimeoutException: Read timed out","body":"<p>The error:</p>\n<pre><code>java.net.SocketTimeoutException: Read timed out\n\n    at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\n    at org.apache.http.impl.io.AbstractSessionInputBuffer.fillBuffer(AbstractSessionInputBuffer.java:161)\n    at org.apache.http.impl.io.SocketInputBuffer.fillBuffer(SocketInputBuffer.java:82)\n    at org.apache.http.impl.io.AbstractSessionInputBuffer.readLine(AbstractSessionInputBuffer.java:276)\n    at org.apache.http.impl.io.ChunkedInputStream.getChunkSize(ChunkedInputStream.java:261)\n    at org.apache.http.impl.io.ChunkedInputStream.nextChunk(ChunkedInputStream.java:222)\n    at org.apache.http.impl.io.ChunkedInputStream.read(ChunkedInputStream.java:183)\n    at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:135)\n    at org.apache.http.conn.EofSensorInputStream$read.call(Unknown Source)\n    at io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.convertStreamToByteArray(RestAssuredResponseOptionsGroovyImpl.groovy:477)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite$StaticMetaMethodSiteNoUnwrapNoCoerce.invoke(StaticMetaMethodSite.java:149)\n    at org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite.callStatic(StaticMetaMethodSite.java:100)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:55)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:217)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:231)\n    at io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.charsetToString(RestAssuredResponseOptionsGroovyImpl.groovy:529)\n    at io.restassured.internal.RestAssuredResponseOptionsGroovyImpl$charsetToString$3.callCurrent(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\n    at io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.asString(RestAssuredResponseOptionsGroovyImpl.groovy:190)\n    at io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.asString(RestAssuredResponseOptionsGroovyImpl.groovy:180)\n    at io.restassured.internal.RestAssuredResponseOptionsImpl.asString(RestAssuredResponseOptionsImpl.java:234)\n    at io.restassured.response.ResponseBodyData$asString.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:130)\n    at io.restassured.internal.support.Prettifier.getPrettifiedBodyIfPossible(Prettifier.groovy:44)\n    at io.restassured.internal.print.ResponsePrinter.print(ResponsePrinter.java:65)\n    at io.restassured.filter.log.StatusCodeBasedLoggingFilter.filter(StatusCodeBasedLoggingFilter.java:115)\n    at io.restassured.filter.log.ResponseLoggingFilter.filter(ResponseLoggingFilter.java:31)\n    at io.restassured.filter.Filter$filter.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at io.restassured.filter.Filter$filter.call(Unknown Source)\n    at io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\n    at io.restassured.filter.log.RequestLoggingFilter.filter(RequestLoggingFilter.java:146)\n    at io.restassured.filter.Filter$filter.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:157)\n    at io.restassured.internal.filter.FilterContextImpl.next(FilterContextImpl.groovy:72)\n    at io.restassured.filter.FilterContext$next.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:148)\n    at io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1686)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\n    at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\n    at io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1692)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1268)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1035)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:819)\n    at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:45)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:55)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:171)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\n    at io.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy:180)\n    at io.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy)\n    at server.api.ProjectionDataResourceTest.testPostEnsembleDownload(ProjectionDataResourceTest.java:105)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at io.quarkus.test.junit.QuarkusTestExtension.runExtensionMethod(QuarkusTestExtension.java:997)\n    at io.quarkus.test.junit.QuarkusTestExtension.interceptTestMethod(QuarkusTestExtension.java:816)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n2023-02-10 21:17:06,031 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to %s failed, error id: %s [Error Occurred After Shutdown]: org.jdbi.v3.core.statement.UnableToExecuteStatementException: com.microsoft.sqlserver.jdbc.SQLServerException: SQL Server hat keine Antwort zurückgegeben. Die Verbindung wurde geschlossen. [statement:{edited}, arguments:{edited}]\n    at org.jdbi.v3.core.statement.SqlStatement.internalExecute(SqlStatement.java:1796)\n    at org.jdbi.v3.core.result.ResultProducers.lambda$getResultSet$2(ResultProducers.java:64)\n    at org.jdbi.v3.core.result.ResultIterable.lambda$of$0(ResultIterable.java:54)\n    at org.jdbi.v3.core.result.ResultIterable.stream(ResultIterable.java:228)\n    at db.DB.getProjectionData(DB.java:251)\n    at server.api.ProjectionDataResource.getProjectionData(ProjectionDataResource.java:86)\n    at server.api.ProjectionDataResource.lambda$getDs$0(ProjectionDataResource.java:104)\n    at server.api.ZipStreamer.write(ZipStreamer.java:37)\n    at server.api.StreamingOutputMessageBodyWriter.writeTo(StreamingOutputMessageBodyWriter.java:27)\n    at server.api.StreamingOutputMessageBodyWriter.writeTo(StreamingOutputMessageBodyWriter.java:15)\n    at org.jboss.resteasy.reactive.server.core.ServerSerialisers.invokeWriter(ServerSerialisers.java:233)\n    at org.jboss.resteasy.reactive.server.core.ServerSerialisers.invokeWriter(ServerSerialisers.java:191)\n    at org.jboss.resteasy.reactive.server.core.serialization.FixedEntityWriterArray.write(FixedEntityWriterArray.java:30)\n    at org.jboss.resteasy.reactive.server.handlers.ResponseWriterHandler.handle(ResponseWriterHandler.java:34)\n    at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:120)\n    at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:145)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n    at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n    Suppressed: java.io.IOException: java.io.IOException: Failed to write\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:307)\n        at java.base/java.util.zip.DeflaterOutputStream.close(DeflaterOutputStream.java:249)\n        at java.base/java.util.zip.ZipOutputStream.close(ZipOutputStream.java:391)\n        at server.api.ZipStreamer.write(ZipStreamer.java:35)\n        ... 15 more\n    Caused by: java.io.IOException: Failed to write\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:116)\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.writeBlocking(ResteasyReactiveOutputStream.java:231)\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:305)\n        ... 18 more\n    Caused by: java.util.concurrent.RejectedExecutionException: event executor terminated\n        at io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:934)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:351)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:344)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:836)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.execute0(SingleThreadEventExecutor.java:827)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:817)\n        at io.vertx.core.net.impl.ConnectionBase.queueForWrite(ConnectionBase.java:236)\n        at io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:226)\n        at io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:216)\n        at io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:212)\n        at io.vertx.core.http.impl.Http1xServerResponse.end(Http1xServerResponse.java:413)\n        at io.vertx.core.http.impl.Http1xServerResponse.end(Http1xServerResponse.java:393)\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:107)\n        ... 20 more\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: SQL Server hat keine Antwort zurückgegeben. Die Verbindung wurde geschlossen.\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3806)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3795)\n    at com.microsoft.sqlserver.jdbc.TDSReader.readPacket(IOBuffer.java:6802)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.startResponse(IOBuffer.java:8015)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:618)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:540)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7627)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3912)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.execute(SQLServerPreparedStatement.java:518)\n    at io.agroal.pool.wrapper.PreparedStatementWrapper.execute(PreparedStatementWrapper.java:299)\n    at org.jdbi.v3.core.statement.SqlLoggerUtil.wrap(SqlLoggerUtil.java:31)\n    at org.jdbi.v3.core.statement.SqlStatement.internalExecute(SqlStatement.java:1788)\n    ... 22 more\n\n2023-02-10 21:17:06,032 ERROR [org.jbo.res.rea.com.cor.AbstractResteasyReactiveContext] (executor-thread-0) Request failed [Error Occurred After Shutdown]: org.jdbi.v3.core.statement.UnableToExecuteStatementException: com.microsoft.sqlserver.jdbc.SQLServerException: SQL Server hat keine Antwort zurückgegeben. Die Verbindung wurde geschlossen. [statement:\n{edited}, arguments:{edited}]\n    at org.jdbi.v3.core.statement.SqlStatement.internalExecute(SqlStatement.java:1796)\n    at org.jdbi.v3.core.result.ResultProducers.lambda$getResultSet$2(ResultProducers.java:64)\n    at org.jdbi.v3.core.result.ResultIterable.lambda$of$0(ResultIterable.java:54)\n    at org.jdbi.v3.core.result.ResultIterable.stream(ResultIterable.java:228)\n    at db.DB.getProjectionData(DB.java:251)\n    at server.api.ProjectionDataResource.getProjectionData(ProjectionDataResource.java:86)\n    at server.api.ProjectionDataResource.lambda$getDs$0(ProjectionDataResource.java:104)\n    at server.api.ZipStreamer.write(ZipStreamer.java:37)\n    at server.api.StreamingOutputMessageBodyWriter.writeTo(StreamingOutputMessageBodyWriter.java:27)\n    at server.api.StreamingOutputMessageBodyWriter.writeTo(StreamingOutputMessageBodyWriter.java:15)\n    at org.jboss.resteasy.reactive.server.core.ServerSerialisers.invokeWriter(ServerSerialisers.java:233)\n    at org.jboss.resteasy.reactive.server.core.ServerSerialisers.invokeWriter(ServerSerialisers.java:191)\n    at org.jboss.resteasy.reactive.server.core.serialization.FixedEntityWriterArray.write(FixedEntityWriterArray.java:30)\n    at org.jboss.resteasy.reactive.server.handlers.ResponseWriterHandler.handle(ResponseWriterHandler.java:34)\n    at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:120)\n    at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:145)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n    at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n    Suppressed: java.io.IOException: java.io.IOException: Failed to write\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:307)\n        at java.base/java.util.zip.DeflaterOutputStream.close(DeflaterOutputStream.java:249)\n        at java.base/java.util.zip.ZipOutputStream.close(ZipOutputStream.java:391)\n        at server.api.ZipStreamer.write(ZipStreamer.java:35)\n        ... 15 more\n    Caused by: java.io.IOException: Failed to write\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:116)\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.writeBlocking(ResteasyReactiveOutputStream.java:231)\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.close(ResteasyReactiveOutputStream.java:305)\n        ... 18 more\n    Caused by: java.util.concurrent.RejectedExecutionException: event executor terminated\n        at io.netty.util.concurrent.SingleThreadEventExecutor.reject(SingleThreadEventExecutor.java:934)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.offerTask(SingleThreadEventExecutor.java:351)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.addTask(SingleThreadEventExecutor.java:344)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:836)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.execute0(SingleThreadEventExecutor.java:827)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.execute(SingleThreadEventExecutor.java:817)\n        at io.vertx.core.net.impl.ConnectionBase.queueForWrite(ConnectionBase.java:236)\n        at io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:226)\n        at io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:216)\n        at io.vertx.core.net.impl.ConnectionBase.writeToChannel(ConnectionBase.java:212)\n        at io.vertx.core.http.impl.Http1xServerResponse.end(Http1xServerResponse.java:413)\n        at io.vertx.core.http.impl.Http1xServerResponse.end(Http1xServerResponse.java:393)\n        at org.jboss.resteasy.reactive.server.vertx.ResteasyReactiveOutputStream.write(ResteasyReactiveOutputStream.java:107)\n        ... 20 more\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: SQL Server hat keine Antwort zurückgegeben. Die Verbindung wurde geschlossen.\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3806)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3795)\n    at com.microsoft.sqlserver.jdbc.TDSReader.readPacket(IOBuffer.java:6802)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.startResponse(IOBuffer.java:8015)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:618)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:540)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7627)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3912)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:268)\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:242)\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.execute(SQLServerPreparedStatement.java:518)\n    at io.agroal.pool.wrapper.PreparedStatementWrapper.execute(PreparedStatementWrapper.java:299)\n    at org.jdbi.v3.core.statement.SqlLoggerUtil.wrap(SqlLoggerUtil.java:31)\n    at org.jdbi.v3.core.statement.SqlStatement.internalExecute(SqlStatement.java:1788)\n    ... 22 more\n\n2023-02-10 21:17:06,033 INFO  [io.quarkus] (main) data-access-service-quarkus stopped in 87.703s\n\nProcess finished with exit code 255\n</code></pre>\n"}],"owner":{"account_id":27743072,"reputation":11,"user_id":21179162,"display_name":"layflag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676061740,"creation_date":1675938593,"question_id":75397292,"body_markdown":"I&#39;m trying to iterate over a List\\&lt;Supplier\\&lt;Stream\\&lt;TSRecord\\&gt;\\&gt;\\&gt; (connection to the datasource) but processing one stream takes a few minutes so when the program gets to the second element of the list it already throws a &quot;java.net.SocketTimeoutException: Read timed out&quot;.\r\nDoes anyone have an idea how to close the streams manually? Just setting the timeout higher will not fix the issue (I think) because the length of the list can vary a lot.\r\n\r\nIn the old version of the project CloseableService from glassfish was used to deal with the issue but this doesn&#39;t work with Quarkus. Quarkus has QuarkusBuildCloseablesBuildItem but as I understood BuildItems are used to create new extensions. RestEasy has ResteasyContext which uses Autocloseables but I don&#39;t know if Quarkus uses RestEasy for the Connection to the datasource and if so how to use ResteasyContext to fix the issue.\r\n\r\nThe class where the error is thrown (line 35 , 37 are the try-blocks):\r\n\r\n```\r\nclass ZipStreamer implements StreamingOutput {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(StreamingOutput.class);\r\n    private final Iterable&lt;Supplier&lt;StreamAndName&lt;TSRecord&gt;&gt;&gt; streamSuppliers;\r\n\r\n    private final TimeResolution resolution;\r\n    private final Set&lt;Parameter&gt; parameters;\r\n\r\n    ZipStreamer(final Iterable&lt;Supplier&lt;StreamAndName&lt;TSRecord&gt;&gt;&gt; streamSuppliers, TimeResolution resolution, Set&lt;Parameter&gt; parameters) {\r\n        this.streamSuppliers = streamSuppliers;\r\n        this.resolution = resolution;\r\n        this.parameters = parameters;\r\n    }\r\n\r\n    @Override\r\n    public void write(final OutputStream output) throws IOException, WebApplicationException {\r\n        try (final ZipOutputStream zos = new ZipOutputStream(output)) {\r\n            for (Supplier&lt;StreamAndName&lt;TSRecord&gt;&gt; sup : streamSuppliers) {\r\n                try (final StreamAndName&lt;TSRecord&gt; next = sup.get()) {\r\n                    LOGGER.debug(&quot;Writing entry: {}&quot;, next.name());\r\n                    final ZipEntry entry = new ZipEntry(next.name().concat(&quot;.csv&quot;));\r\n                    zos.putNextEntry(entry);\r\n                    final CsvStreamingOutput so = new CsvStreamingOutput(parameters, resolution, next.stream());\r\n                    so.write(zos);\r\n                } finally {\r\n                    zos.closeEntry();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Quarkus - Getting java.net.SocketTimeoutException: Read timed out","body":"<p>I'm trying to iterate over a List&lt;Supplier&lt;Stream&lt;TSRecord&gt;&gt;&gt; (connection to the datasource) but processing one stream takes a few minutes so when the program gets to the second element of the list it already throws a &quot;java.net.SocketTimeoutException: Read timed out&quot;.\nDoes anyone have an idea how to close the streams manually? Just setting the timeout higher will not fix the issue (I think) because the length of the list can vary a lot.</p>\n<p>In the old version of the project CloseableService from glassfish was used to deal with the issue but this doesn't work with Quarkus. Quarkus has QuarkusBuildCloseablesBuildItem but as I understood BuildItems are used to create new extensions. RestEasy has ResteasyContext which uses Autocloseables but I don't know if Quarkus uses RestEasy for the Connection to the datasource and if so how to use ResteasyContext to fix the issue.</p>\n<p>The class where the error is thrown (line 35 , 37 are the try-blocks):</p>\n<pre><code>class ZipStreamer implements StreamingOutput {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(StreamingOutput.class);\n    private final Iterable&lt;Supplier&lt;StreamAndName&lt;TSRecord&gt;&gt;&gt; streamSuppliers;\n\n    private final TimeResolution resolution;\n    private final Set&lt;Parameter&gt; parameters;\n\n    ZipStreamer(final Iterable&lt;Supplier&lt;StreamAndName&lt;TSRecord&gt;&gt;&gt; streamSuppliers, TimeResolution resolution, Set&lt;Parameter&gt; parameters) {\n        this.streamSuppliers = streamSuppliers;\n        this.resolution = resolution;\n        this.parameters = parameters;\n    }\n\n    @Override\n    public void write(final OutputStream output) throws IOException, WebApplicationException {\n        try (final ZipOutputStream zos = new ZipOutputStream(output)) {\n            for (Supplier&lt;StreamAndName&lt;TSRecord&gt;&gt; sup : streamSuppliers) {\n                try (final StreamAndName&lt;TSRecord&gt; next = sup.get()) {\n                    LOGGER.debug(&quot;Writing entry: {}&quot;, next.name());\n                    final ZipEntry entry = new ZipEntry(next.name().concat(&quot;.csv&quot;));\n                    zos.putNextEntry(entry);\n                    final CsvStreamingOutput so = new CsvStreamingOutput(parameters, resolution, next.stream());\n                    so.write(zos);\n                } finally {\n                    zos.closeEntry();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1676061680,"post_id":75415876,"comment_id":133068962,"body_markdown":"Simply use [String.toLowerCase()](https://www.w3schools.com/java/ref_string_tolowercase.asp).  EXAMPLE: `String w2 = word.toLowerCase(); for(int i = 0; i &lt; w2.length(); i++) {...}`","body":"Simply use <a href=\"https://www.w3schools.com/java/ref_string_tolowercase.asp\" rel=\"nofollow noreferrer\">String.toLowerCase()</a>.  EXAMPLE: <code>String w2 = word.toLowerCase(); for(int i = 0; i &lt; w2.length(); i++) {...}</code>"},{"owner":{"account_id":27512834,"reputation":3,"user_id":20994398,"display_name":"Abdullah Malik"},"score":0,"creation_date":1676066941,"post_id":75415876,"comment_id":133070122,"body_markdown":"How would I print the capital A since the lower case converts all of the inputted value as all lowercase.","body":"How would I print the capital A since the lower case converts all of the inputted value as all lowercase."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1676072108,"post_id":75415876,"comment_id":133070984,"body_markdown":"Q: How would I print the capital A?  A: You *MAKE A COPY*.  Use the &quot;all lower case&quot; copy (&quot;w2&quot; in my example) for your count; print from the &quot;original&quot;.  Which is pretty much EXACTLY what zelite tried to show you (we both happened to answer at the same time).  Please consider &quot;upvoting&quot; and &quot;accepting&quot; his answer.","body":"Q: How would I print the capital A?  A: You <i>MAKE A COPY</i>.  Use the &quot;all lower case&quot; copy (&quot;w2&quot; in my example) for your count; print from the &quot;original&quot;.  Which is pretty much EXACTLY what zelite tried to show you (we both happened to answer at the same time).  Please consider &quot;upvoting&quot; and &quot;accepting&quot; his answer."}],"answers":[{"tags":[],"owner":{"account_id":2211194,"reputation":1488,"user_id":1952996,"accept_rate":69,"display_name":"zelite"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676061486,"creation_date":1676061486,"answer_id":75415908,"question_id":75415876,"body_markdown":"You need to convert the input word to lowercase.\r\n\r\n    public static void alphaSum(String word)\r\n    \r\n        {\r\n            String lowerCaseWord = word.toLowerCase();\r\n            String alphabet = &quot; abcdefghijklmnopqrstuvwxyz&quot;;\r\n    \r\n            int add = 0;\r\n    \r\n            for(int i = 0; i &lt; lowerCaseWord.length(); i++)\r\n    \r\n            {\r\n    \r\n                char ch = lowerCaseWord.charAt(i);\r\n    \r\n                int x = alphabet.indexOf(ch); \r\n    \r\n                System.out.println(ch + &quot; &quot; + x);\r\n    \r\n                add+=x;\r\n            }\r\n    \r\n            System.out.println(&quot;********************&quot;);\r\n            System.out.println(&quot;Lucky Sum: &quot; + add);\r\n    \r\n    }","title":"What would I alter to have the string word to give the same index for the uppercase letters as the lowercase letters?","body":"<p>You need to convert the input word to lowercase.</p>\n<pre><code>public static void alphaSum(String word)\n\n    {\n        String lowerCaseWord = word.toLowerCase();\n        String alphabet = &quot; abcdefghijklmnopqrstuvwxyz&quot;;\n\n        int add = 0;\n\n        for(int i = 0; i &lt; lowerCaseWord.length(); i++)\n\n        {\n\n            char ch = lowerCaseWord.charAt(i);\n\n            int x = alphabet.indexOf(ch); \n\n            System.out.println(ch + &quot; &quot; + x);\n\n            add+=x;\n        }\n\n        System.out.println(&quot;********************&quot;);\n        System.out.println(&quot;Lucky Sum: &quot; + add);\n\n}\n</code></pre>\n"}],"owner":{"account_id":27512834,"reputation":3,"user_id":20994398,"display_name":"Abdullah Malik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75415908,"answer_count":1,"score":-2,"last_activity_date":1676061486,"creation_date":1676061226,"question_id":75415876,"body_markdown":"```\r\npublic static void main(String args[]) \r\n    {\r\n      obj.alphaSum(&quot;adam&quot;); // I want to print &quot;Adam&quot; and get the same value\r\n    }\r\n\r\npublic static void alphaSum(String word)\r\n\r\n\t{\r\n\r\n\t\tString alphabet = &quot; abcdefghijklmnopqrstuvwxyz&quot;;\r\n\r\n\t\tint add = 0;\r\n\r\n\t\tfor(int i = 0; i &lt; word.length(); i++)\r\n\r\n\t\t{\r\n\r\n\t\t\tchar ch = word.charAt(i);\r\n\r\n\t\t\tint x = alphabet.indexOf(ch); \r\n\r\n\t\t\tSystem.out.println(ch + &quot; &quot; + x);\r\n\r\n\t\t\tadd+=x;\r\n\t\t}\r\n\r\n        System.out.println(&quot;********************&quot;);\r\n\t\tSystem.out.println(&quot;Lucky Sum: &quot; + add);\r\n\r\n\t}\r\n```\r\n\r\nThe uppercase &quot;A&quot; provides a  -1 since the &quot;A&quot; is not listed in the String value. I want to know how I could incorperate the uppercase letters into this program.\r\n\r\nI want to alter the code so that Adam with the uppercase &quot;A&quot; gives out the same index value as the lowercase &quot;a&quot; and give the same &quot;Lucky Sum&quot;.","title":"What would I alter to have the string word to give the same index for the uppercase letters as the lowercase letters?","body":"<pre><code>public static void main(String args[]) \n    {\n      obj.alphaSum(&quot;adam&quot;); // I want to print &quot;Adam&quot; and get the same value\n    }\n\npublic static void alphaSum(String word)\n\n    {\n\n        String alphabet = &quot; abcdefghijklmnopqrstuvwxyz&quot;;\n\n        int add = 0;\n\n        for(int i = 0; i &lt; word.length(); i++)\n\n        {\n\n            char ch = word.charAt(i);\n\n            int x = alphabet.indexOf(ch); \n\n            System.out.println(ch + &quot; &quot; + x);\n\n            add+=x;\n        }\n\n        System.out.println(&quot;********************&quot;);\n        System.out.println(&quot;Lucky Sum: &quot; + add);\n\n    }\n</code></pre>\n<p>The uppercase &quot;A&quot; provides a  -1 since the &quot;A&quot; is not listed in the String value. I want to know how I could incorperate the uppercase letters into this program.</p>\n<p>I want to alter the code so that Adam with the uppercase &quot;A&quot; gives out the same index value as the lowercase &quot;a&quot; and give the same &quot;Lucky Sum&quot;.</p>\n"},{"tags":["java","html","unicode","subscript","superscript"],"comments":[{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1675946991,"post_id":75398769,"comment_id":133039513,"body_markdown":"Does this answer your question? [superscript in Java String](https://stackoverflow.com/questions/8058768/superscript-in-java-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8058768/superscript-in-java-string\">superscript in Java String</a>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675948239,"post_id":75398769,"comment_id":133039842,"body_markdown":"It might help if you provided where you are trying to print (e.g some IDE console) and the OS.","body":"It might help if you provided where you are trying to print (e.g some IDE console) and the OS."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675953800,"post_id":75398769,"comment_id":133041965,"body_markdown":"You have misunderstood how Unicode escapes work.  `\\u00b2` is *one character.*  It cannot be split up.  You can create a simple mapping, like `Map&lt;String, String&gt; superscripts = Map.of(&quot;2&quot;, &quot;\\u00b2&quot;, &quot;3&quot;, &quot;\\u00b3&quot;);`.","body":"You have misunderstood how Unicode escapes work.  <code>\\u00b2</code> is <i>one character.</i>  It cannot be split up.  You can create a simple mapping, like <code>Map&lt;String, String&gt; superscripts = Map.of(&quot;2&quot;, &quot;\\u00b2&quot;, &quot;3&quot;, &quot;\\u00b3&quot;);</code>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1675969350,"post_id":75398769,"comment_id":133047446,"body_markdown":"Be specific about the environment you will be using to render the superscript characters (e.g. The console, Android, Swing, etc.), and your version of Java. And why do you have a tag of html for this question?","body":"Be specific about the environment you will be using to render the superscript characters (e.g. The console, Android, Swing, etc.), and your version of Java. And why do you have a tag of html for this question?"}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675953666,"post_id":75399383,"comment_id":133041908,"body_markdown":"Why only ISO-8859-1 and windows-1252?  UTF-8 is practically universal.","body":"Why only ISO-8859-1 and windows-1252?  UTF-8 is practically universal."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675953868,"post_id":75399383,"comment_id":133042000,"body_markdown":"@VGR My eclipse was already set for UTF-8.  It didn&#39;t work in the console.  I tried both of these and they worked.  When I set it back to UTF-8 it no longer worked.  I have no explanation as to why.","body":"@VGR My eclipse was already set for UTF-8.  It didn&#39;t work in the console.  I tried both of these and they worked.  When I set it back to UTF-8 it no longer worked.  I have no explanation as to why."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1675968557,"post_id":75399383,"comment_id":133047217,"body_markdown":"@WJS I think there may be a conflict between the encoding used by `System.out()` and the encoding used by your Eclipse console, even though you were _&quot;set for UTF-8&quot;_. Try calling `System.setOut(new PrintStream(System.out, true, &quot;UTF8&quot;));` before calling `println()` without switching to `ISO-8859-1` or `windows-1252` and I think it may work. Alternatively just run your app from a terminal/cmd window instead of within Eclipse (without calling `setOut()`) and I think it may work. In general, IDE consoles are an unreliable environment when using `println()` for non ASCII characters.","body":"@WJS I think there may be a conflict between the encoding used by <code>System.out()</code> and the encoding used by your Eclipse console, even though you were <i>&quot;set for UTF-8&quot;</i>. Try calling <code>System.setOut(new PrintStream(System.out, true, &quot;UTF8&quot;));</code> before calling <code>println()</code> without switching to <code>ISO-8859-1</code> or <code>windows-1252</code> and I think it may work. Alternatively just run your app from a terminal/cmd window instead of within Eclipse (without calling <code>setOut()</code>) and I think it may work. In general, IDE consoles are an unreliable environment when using <code>println()</code> for non ASCII characters."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675981932,"post_id":75399383,"comment_id":133050675,"body_markdown":"Your suggestion worked!  When printing the default charset `System,out.charSet()` it printed `windows-1252` when `Text file encoding` was set to `UTF-8`.  After your suggestion, it printed `UTF-8`. So I presume they had to match one way or the other.  Since `UTF-8` is preferred, your way of achieving this is preferred (although a default would be nice).  You should post this as an answer.  My version of Eclipse is `Version: 2022-09 (4.25.0)`\nand `Build id: 20220908-1902`","body":"Your suggestion worked!  When printing the default charset <code>System,out.charSet()</code> it printed <code>windows-1252</code> when <code>Text file encoding</code> was set to <code>UTF-8</code>.  After your suggestion, it printed <code>UTF-8</code>. So I presume they had to match one way or the other.  Since <code>UTF-8</code> is preferred, your way of achieving this is preferred (although a default would be nice).  You should post this as an answer.  My version of Eclipse is <code>Version: 2022-09 (4.25.0)</code> and <code>Build id: 20220908-1902</code>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676002633,"post_id":75399383,"comment_id":133053642,"body_markdown":"Your code (and nothing more) worked fine for me in Eclipse 2022-12 (4.26.0). But I&#39;m running on Windows 10 with the checkbox _&quot;Beta: Use Unicode UTF-8 for worldwide language support&quot;_ checked in _Region Settings_ in _Control Panel_, so `System.out.charset()` printed &quot;UTF-8&quot; for me, as expected. I also tried in NetBeans, but even though `System.out.charset()` also printed &quot;UTF-8&quot;, I had to call `setOut()` to render the superscripts properly. I have no idea why, but I&#39;ve often found Java I/O to be tricky when run within an IDE on Windows.","body":"Your code (and nothing more) worked fine for me in Eclipse 2022-12 (4.26.0). But I&#39;m running on Windows 10 with the checkbox <i>&quot;Beta: Use Unicode UTF-8 for worldwide language support&quot;</i> checked in <i>Region Settings</i> in <i>Control Panel</i>, so <code>System.out.charset()</code> printed &quot;UTF-8&quot; for me, as expected. I also tried in NetBeans, but even though <code>System.out.charset()</code> also printed &quot;UTF-8&quot;, I had to call <code>setOut()</code> to render the superscripts properly. I have no idea why, but I&#39;ve often found Java I/O to be tricky when run within an IDE on Windows."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676002754,"post_id":75399383,"comment_id":133053651,"body_markdown":"Anyway, all that is not directly related to the OP&#39;s question about superscripts, which I think you have answered.","body":"Anyway, all that is not directly related to the OP&#39;s question about superscripts, which I think you have answered."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1676170778,"post_id":75399383,"comment_id":133083268,"body_markdown":"Good catch finding that bug. I was using JDK 19 in Eclipse, but JDK 18 in NetBeans. Once I upgraded NetBeans to JDK 19 the call to `setOut()` was not needed. Also, in JDK 19, **stdout.encoding** is the new and formally supported successor to the unsupported property **sun.stdout.encoding**. See the [JDK 19 Javadoc for `System.getProperties()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/System.html#getProperties()). It&#39;s worth noting that its only supported value is _&quot;UTF-8&quot;_.","body":"Good catch finding that bug. I was using JDK 19 in Eclipse, but JDK 18 in NetBeans. Once I upgraded NetBeans to JDK 19 the call to <code>setOut()</code> was not needed. Also, in JDK 19, <b>stdout.encoding</b> is the new and formally supported successor to the unsupported property <b>sun.stdout.encoding</b>. See the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\">JDK 19 Javadoc for <code>System.getProperties()</code></a>. It&#39;s worth noting that its only supported value is <i>&quot;UTF-8&quot;</i>."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676061067,"creation_date":1675949748,"answer_id":75399383,"question_id":75398769,"body_markdown":"Using Windows and Eclipse, this worked for me.\r\n- Window-&gt;Preferences-&gt;General-&gt;Workspace\r\n\r\nAt the bottom see `Text file encoding`\r\n\r\n- change to `ISO-8859-1` or `windows-1252` \r\n```  \r\nSystem.out.println(&quot;km\\u00B2&quot;);\r\nSystem.out.println(&quot;2\\u00B3&quot;);\r\n```\r\nprints\r\n```\r\nkm&#178;\r\n2&#179;\r\n```\r\n**Updated Info**\r\n\r\nThis appears to be a bug prior to Java 19 where it was fixed.  Check out [bug_id=8284778](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8284778).  Until users upgrade to Java 19, [skomisa&#39;s comment](https://stackoverflow.com/questions/75398769/representing-two-strings-in-superscript-in-java/75399383#comment133047217_75399383) should work.  For Eclipse (and perhaps other IDE&#39;s), one can use the `sun.stdout.encoding` property.  As noted in the above bug report it is **undocumented and unsupported**. To make it the default in `Eclipse`:\r\n- go to `Window-&gt;Preferences-&gt;Installed JREs`\r\n- click on the current JRE and select edit\r\n- in the `Default VM arguments:` add `-Dsun.stdout.encoding=UTF-8`\r\n- apply and close. ","title":"Representing two strings in superscript in java","body":"<p>Using Windows and Eclipse, this worked for me.</p>\n<ul>\n<li>Window-&gt;Preferences-&gt;General-&gt;Workspace</li>\n</ul>\n<p>At the bottom see <code>Text file encoding</code></p>\n<ul>\n<li>change to <code>ISO-8859-1</code> or <code>windows-1252</code></li>\n</ul>\n<pre><code>System.out.println(&quot;km\\u00B2&quot;);\nSystem.out.println(&quot;2\\u00B3&quot;);\n</code></pre>\n<p>prints</p>\n<pre><code>km²\n2³\n</code></pre>\n<p><strong>Updated Info</strong></p>\n<p>This appears to be a bug prior to Java 19 where it was fixed.  Check out <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8284778\" rel=\"nofollow noreferrer\">bug_id=8284778</a>.  Until users upgrade to Java 19, <a href=\"https://stackoverflow.com/questions/75398769/representing-two-strings-in-superscript-in-java/75399383#comment133047217_75399383\">skomisa's comment</a> should work.  For Eclipse (and perhaps other IDE's), one can use the <code>sun.stdout.encoding</code> property.  As noted in the above bug report it is <strong>undocumented and unsupported</strong>. To make it the default in <code>Eclipse</code>:</p>\n<ul>\n<li>go to <code>Window-&gt;Preferences-&gt;Installed JREs</code></li>\n<li>click on the current JRE and select edit</li>\n<li>in the <code>Default VM arguments:</code> add <code>-Dsun.stdout.encoding=UTF-8</code></li>\n<li>apply and close.</li>\n</ul>\n"}],"owner":{"account_id":24121977,"reputation":1,"user_id":18090997,"display_name":"sukriti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676061067,"creation_date":1675946595,"question_id":75398769,"body_markdown":"I have two strings for example &quot;2&quot; and &quot;3&quot;. How can I represent them in the form 2^3 in string in java?\r\n\r\n\r\nI tried using &quot;string 1&quot; + &quot;\\\\u00b&quot; + &quot;string 2&quot;. But that didn&#39;t work. Can someone please help me with it?","title":"Representing two strings in superscript in java","body":"<p>I have two strings for example &quot;2&quot; and &quot;3&quot;. How can I represent them in the form 2^3 in string in java?</p>\n<p>I tried using &quot;string 1&quot; + &quot;\\u00b&quot; + &quot;string 2&quot;. But that didn't work. Can someone please help me with it?</p>\n"},{"tags":["java","jar","noclassdeffounderror"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676149868,"post_id":75415694,"comment_id":133080970,"body_markdown":"Because the [Class-Path attribute](https://docs.oracle.com/en/java/javase/19/docs/specs/jar/jar.html#class-path-attribute) contains a space-separated list of URLs *relative to the containing jar file.*  A relative URL cannot refer to something inside the base URL, only something alonside the base URL.","body":"Because the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/jar/jar.html#class-path-attribute\" rel=\"nofollow noreferrer\">Class-Path attribute</a> contains a space-separated list of URLs <i>relative to the containing jar file.</i>  A relative URL cannot refer to something inside the base URL, only something alonside the base URL."}],"answers":[{"comments":[{"owner":{"account_id":888905,"reputation":97,"user_id":927633,"display_name":"Graeme Burton"},"score":0,"creation_date":1676060147,"post_id":75415715,"comment_id":133068586,"body_markdown":"Sorry, I don&#39;t quite understand that - should I expand the snakeyaml jar file? According to the Java docs at https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html you can specify a .jar file inside a .jar file.","body":"Sorry, I don&#39;t quite understand that - should I expand the snakeyaml jar file? According to the Java docs at <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/downman.html</a> you can specify a .jar file inside a .jar file."},{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":1,"creation_date":1676060262,"post_id":75415715,"comment_id":133068615,"body_markdown":"@GraemeBurton java doesn&#39;t find the classes you want it to find because you&#39;re putting a whole jar in another jar, which java alone doesn&#39;t grasp correctly. You need to essentially unbox the dependency jar and put all classes from it into your jarfile. This is also called a &quot;fat&quot; or &quot;uber&quot; jar.","body":"@GraemeBurton java doesn&#39;t find the classes you want it to find because you&#39;re putting a whole jar in another jar, which java alone doesn&#39;t grasp correctly. You need to essentially unbox the dependency jar and put all classes from it into your jarfile. This is also called a &quot;fat&quot; or &quot;uber&quot; jar."},{"owner":{"account_id":888905,"reputation":97,"user_id":927633,"display_name":"Graeme Burton"},"score":0,"creation_date":1676060337,"post_id":75415715,"comment_id":133068638,"body_markdown":"Ah, I see what you mean - I&#39;ve had another look at the Oracle documentation and read it properly this time! Thank you - your input is very much appreciated.","body":"Ah, I see what you mean - I&#39;ve had another look at the Oracle documentation and read it properly this time! Thank you - your input is very much appreciated."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1676060343,"post_id":75415715,"comment_id":133068642,"body_markdown":"@GraemeBurton Jar files have to be on the classpath, not arbitrarily included in app jar file. You **can** do that (e.g., oneJar or a homebrew solution) but &#252;ber-jars are more typical (and more easily supported).","body":"@GraemeBurton Jar files have to be on the classpath, not arbitrarily included in app jar file. You <b>can</b> do that (e.g., oneJar or a homebrew solution) but &#252;ber-jars are more typical (and more easily supported)."},{"owner":{"account_id":888905,"reputation":97,"user_id":927633,"display_name":"Graeme Burton"},"score":0,"creation_date":1676060901,"post_id":75415715,"comment_id":133068762,"body_markdown":"@0x150 Now sorted - thank you!","body":"@0x150 Now sorted - thank you!"},{"owner":{"account_id":4646986,"reputation":304,"user_id":3764947,"display_name":"CrazedCoder"},"score":0,"creation_date":1676062198,"post_id":75415715,"comment_id":133069081,"body_markdown":"UberJar would be an alternative solution that packages dependencies. A shaded-jar is a bit safer as it renames dependencies to avoid dependency version mismatch.","body":"UberJar would be an alternative solution that packages dependencies. A shaded-jar is a bit safer as it renames dependencies to avoid dependency version mismatch."}],"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676059918,"creation_date":1676059918,"answer_id":75415715,"question_id":75415694,"body_markdown":"The classpath isn&#39;t actually recursive: It only checks the top level of classes. Jar-in-jar dependencies aren&#39;t supported by java itself.\r\n\r\nThere&#39;s a nice plugin for gradle called [`shadowJar`](https://github.com/johnrengelman/shadow), that bundles all dependencies automatically into the final jar, maybe that&#39;ll help you out here.\r\n\r\nOther than that, you&#39;ll have to manually bundle dependency jars in another folder, and include them into the classpath at runtime.","title":"java -jar can&#39;t find included .jar file","body":"<p>The classpath isn't actually recursive: It only checks the top level of classes. Jar-in-jar dependencies aren't supported by java itself.</p>\n<p>There's a nice plugin for gradle called <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\"><code>shadowJar</code></a>, that bundles all dependencies automatically into the final jar, maybe that'll help you out here.</p>\n<p>Other than that, you'll have to manually bundle dependency jars in another folder, and include them into the classpath at runtime.</p>\n"}],"owner":{"account_id":888905,"reputation":97,"user_id":927633,"display_name":"Graeme Burton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676060492,"creation_date":1676059712,"question_id":75415694,"body_markdown":"I&#39;m tearing what little hair I have left over this one: any help will be extremely gratefully received!\r\n\r\nI have constructed a .jar file (called, rather uninspiringly, compare-yaml.jar) with the following contents\r\n\r\n```\r\n META-INF/\r\n META-INF/MANIFEST.MF\r\n YamlParser.class\r\n snakeyaml-1.28.jar\r\n```\r\n\r\nMANIFEST.MF contains the following:\r\n\r\n```\r\n Manifest-Version: 1.0\r\n Main-Class: YamlParser\r\n Class-Path: snakeyaml-1.28.jar\r\n Created-By: 11.0.12 (Oracle Corporation)\r\n```\r\n\r\nThe Java class compares two Yaml files, although that is incidental.\r\n\r\nWhen I run the .jar file with the command\r\n\r\n```\r\n java -jar compare-yaml.jar a.yaml b.yaml\r\n```\r\n\r\nI get the output\r\n\r\n```\r\n  Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/yaml/snakeyaml/Yaml\r\n        at YamlParser.readFileIntoMap(YamlParser.java:29)\r\n        at YamlParser.main(YamlParser.java:58)\r\n  Caused by: java.lang.ClassNotFoundException: org.yaml.snakeyaml.Yaml\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 2 more\r\n```\r\n\r\nHowever, if I unpack the jar so that snakeyaml-1.28.jar is on the same directory as compare-yaml.jar, the program runs correctly.\r\n\r\nSo why isn&#39;t the jar command picking up snakeyaml-1.28.jar on the classpath when it&#39;s in the containing jar?\r\n\r\nTIA,\r\n\r\nGraeme","title":"java -jar can&#39;t find included .jar file","body":"<p>I'm tearing what little hair I have left over this one: any help will be extremely gratefully received!</p>\n<p>I have constructed a .jar file (called, rather uninspiringly, compare-yaml.jar) with the following contents</p>\n<pre><code> META-INF/\n META-INF/MANIFEST.MF\n YamlParser.class\n snakeyaml-1.28.jar\n</code></pre>\n<p>MANIFEST.MF contains the following:</p>\n<pre><code> Manifest-Version: 1.0\n Main-Class: YamlParser\n Class-Path: snakeyaml-1.28.jar\n Created-By: 11.0.12 (Oracle Corporation)\n</code></pre>\n<p>The Java class compares two Yaml files, although that is incidental.</p>\n<p>When I run the .jar file with the command</p>\n<pre><code> java -jar compare-yaml.jar a.yaml b.yaml\n</code></pre>\n<p>I get the output</p>\n<pre><code>  Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/yaml/snakeyaml/Yaml\n        at YamlParser.readFileIntoMap(YamlParser.java:29)\n        at YamlParser.main(YamlParser.java:58)\n  Caused by: java.lang.ClassNotFoundException: org.yaml.snakeyaml.Yaml\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 2 more\n</code></pre>\n<p>However, if I unpack the jar so that snakeyaml-1.28.jar is on the same directory as compare-yaml.jar, the program runs correctly.</p>\n<p>So why isn't the jar command picking up snakeyaml-1.28.jar on the classpath when it's in the containing jar?</p>\n<p>TIA,</p>\n<p>Graeme</p>\n"},{"tags":["java","arraylist"],"answers":[{"comments":[{"owner":{"account_id":4846147,"reputation":6060,"user_id":16540390,"display_name":"jabaa"},"score":0,"creation_date":1699891151,"post_id":75415599,"comment_id":136584663,"body_markdown":"The code in the question is Java, not JavaScript. Java is not JavaScript.","body":"The code in the question is Java, not JavaScript. Java is not JavaScript."}],"tags":[],"owner":{"account_id":12389830,"reputation":359,"user_id":9032190,"display_name":"Orion447"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676059005,"creation_date":1676059005,"answer_id":75415599,"question_id":75415516,"body_markdown":"You&#39;re output is not printing indices, you&#39;re output is asking for something like this\r\n\r\n```geno.forEach(item=&gt;console.log(item[0], &#39;-&gt;&#39;, item[1])```\r\n\r\nIf you want indices printed then something like this should do it,\r\n\r\n```geno.forEach((item,index)=&gt;console.log(index, &#39;-&gt;&#39;, item[1])```\r\n\r\nyou would get this,\r\n\r\n```{0 -&gt; 0; 1 -&gt; 0; 2 -&gt; 0; 3 -&gt; 0}```\r\n\r\n\r\n","title":"How to Add elements into ArrayList in non-continuous indexes and show them","body":"<p>You're output is not printing indices, you're output is asking for something like this</p>\n<p><code>geno.forEach(item=&gt;console.log(item[0], '-&gt;', item[1])</code></p>\n<p>If you want indices printed then something like this should do it,</p>\n<p><code>geno.forEach((item,index)=&gt;console.log(index, '-&gt;', item[1])</code></p>\n<p>you would get this,</p>\n<p><code>{0 -&gt; 0; 1 -&gt; 0; 2 -&gt; 0; 3 -&gt; 0}</code></p>\n"}],"owner":{"account_id":27463535,"reputation":1,"user_id":20953662,"display_name":"Diogo Guilherme Pereira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1676059854,"creation_date":1676058415,"question_id":75415516,"body_markdown":"My friends, I need some help. It&#39;s may easy to solve but I do not can. My code:\r\n\r\n    ArrayList&lt;Integer&gt; geno = new ArrayList&lt;Integer&gt;();\r\n    geno.set(2, 0);\r\n    geno.set(3, 0);\r\n    geno.set(4, 0);\r\n    geno.set(5, 0);\r\n    \r\n    geno.forEach(???????);\r\n\r\nHow to implement a loop that displays the indices and their values?\r\n\r\nI need show this:\r\n\r\n{2 -&gt; 0; 3 -&gt; 0; 4 -&gt; 0; 5 -&gt; 0}","title":"How to Add elements into ArrayList in non-continuous indexes and show them","body":"<p>My friends, I need some help. It's may easy to solve but I do not can. My code:</p>\n<pre><code>ArrayList&lt;Integer&gt; geno = new ArrayList&lt;Integer&gt;();\ngeno.set(2, 0);\ngeno.set(3, 0);\ngeno.set(4, 0);\ngeno.set(5, 0);\n\ngeno.forEach(???????);\n</code></pre>\n<p>How to implement a loop that displays the indices and their values?</p>\n<p>I need show this:</p>\n<p>{2 -&gt; 0; 3 -&gt; 0; 4 -&gt; 0; 5 -&gt; 0}</p>\n"},{"tags":["java","ubuntu","path","permission-denied","java-home"],"comments":[{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":1,"creation_date":1509360256,"post_id":47013303,"comment_id":80972881,"body_markdown":"what about trying with `sudo` ? Try this with root privileges","body":"what about trying with <code>sudo</code> ? Try this with root privileges"}],"answers":[{"tags":[],"owner":{"account_id":6875411,"reputation":713,"user_id":5284026,"display_name":"Alain-Michel Chomnoue N"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509360756,"creation_date":1509360291,"answer_id":47013330,"question_id":47013303,"body_markdown":"Try with `sudo`\r\n\r\n    $ sudo cat &gt;&gt; /etc/environment &lt;&lt;EOL\r\n    JAVA_HOME=/usr/lib/jvm/java-8-oracle\r\n    JRE_HOME=/usr/lib/jvm/java-8-oracle/jre \r\n    EOL\r\n","title":"ubuntu java environment path, bash: /etc/environment: permission denied?","body":"<p>Try with <code>sudo</code></p>\n\n<pre><code>$ sudo cat &gt;&gt; /etc/environment &lt;&lt;EOL\nJAVA_HOME=/usr/lib/jvm/java-8-oracle\nJRE_HOME=/usr/lib/jvm/java-8-oracle/jre \nEOL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4655265,"reputation":779,"user_id":3771015,"accept_rate":25,"display_name":"crakama"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1519336238,"creation_date":1519335797,"answer_id":48937720,"question_id":47013303,"body_markdown":"1. Assuming that you have already the following:\r\n\r\n         $sudo add-apt-repository ppa:webupd8team/java\r\n         $ sudo apt-get update\r\n         $ sudo apt-get install oracle-java8-installer\r\n         $ sudo apt-get install oracle-java8-set-default*\r\n\r\n2. Open `/etc/environment` file with the following command.\r\n\r\n        sudo nano /etc/environment\r\n\r\n N/B: You can replace **nano** with any other editor you like e.g **atom**\r\n\r\n3. At the end of file, add\r\n\r\n        JAVA_HOME=&quot;/usr/lib/jvm/java-8-oracle&quot;\r\n\r\nThe command above alone worked for me but you can also add the command below if you want.\r\n\r\n    JRE_HOME=&quot;/usr/lib/jvm/java-8-oracle/jre&quot;\r\n\r\nRemember the path used here was my java installation directory, if yours is the same then you don&#39;t need to change anything, otherwise use your path.\r\n\r\n4. Check whether your changes persisted \r\n\r\n       $ source /etc/environment\r\n\r\n       $ echo $JAVA_HOME\r\n\r\n\r\n    https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04","title":"ubuntu java environment path, bash: /etc/environment: permission denied?","body":"<ol>\n<li><p>Assuming that you have already the following:</p>\n\n<pre><code> $sudo add-apt-repository ppa:webupd8team/java\n $ sudo apt-get update\n $ sudo apt-get install oracle-java8-installer\n $ sudo apt-get install oracle-java8-set-default*\n</code></pre></li>\n<li><p>Open <code>/etc/environment</code> file with the following command.</p>\n\n<pre><code>sudo nano /etc/environment\n</code></pre>\n\n<p>N/B: You can replace <strong>nano</strong> with any other editor you like e.g <strong>atom</strong></p></li>\n<li><p>At the end of file, add</p>\n\n<pre><code>JAVA_HOME=\"/usr/lib/jvm/java-8-oracle\"\n</code></pre></li>\n</ol>\n\n<p>The command above alone worked for me but you can also add the command below if you want.</p>\n\n<pre><code>JRE_HOME=\"/usr/lib/jvm/java-8-oracle/jre\"\n</code></pre>\n\n<p>Remember the path used here was my java installation directory, if yours is the same then you don't need to change anything, otherwise use your path.</p>\n\n<ol start=\"4\">\n<li><p>Check whether your changes persisted </p>\n\n<p>$ source /etc/environment</p>\n\n<p>$ echo $JAVA_HOME</p>\n\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04\" rel=\"noreferrer\">https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11236711,"reputation":331,"user_id":8242599,"display_name":"thecloudguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550581186,"creation_date":1550580646,"answer_id":54766790,"question_id":47013303,"body_markdown":"Try this script, save it in a file.sh\r\n\r\n    #!/bin/bash\r\n    sudo apt-get update &amp;&amp; sudo apt-get upgrade -y\r\n    sudo apt-get install openjdk-8-jre -y\r\n    sudo cat &gt;&gt; /etc/environment &lt;&lt;EOL\r\n    JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n    JRE_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre\r\n    EOL","title":"ubuntu java environment path, bash: /etc/environment: permission denied?","body":"<p>Try this script, save it in a file.sh</p>\n\n<pre><code>#!/bin/bash\nsudo apt-get update &amp;&amp; sudo apt-get upgrade -y\nsudo apt-get install openjdk-8-jre -y\nsudo cat &gt;&gt; /etc/environment &lt;&lt;EOL\nJAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nJRE_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre\nEOL\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user13963867"},"score":0,"creation_date":1634286081,"post_id":69581604,"comment_id":122988564,"body_markdown":"https://superuser.com/questions/339617/how-to-reload-etc-environment-without-rebooting","body":"<a href=\"https://superuser.com/questions/339617/how-to-reload-etc-environment-without-rebooting\" title=\"how to reload etc environment without rebooting\">superuser.com/questions/339617/&hellip;</a>"}],"tags":[],"owner":{"account_id":8461045,"reputation":345,"user_id":6346785,"display_name":"Jafar Amini"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634377638,"creation_date":1634284895,"answer_id":69581604,"question_id":47013303,"body_markdown":"Use the following lines to set the path variables in the `/etc/environment`\r\n\r\n    echo export JAVA_HOME=/path/to/java | sudo tee -a /etc/environment\r\n    echo export JRE_HOME=/path/to/jre  | sudo tee -a /etc/environment\r\n\r\nIt should work.\r\n\r\n**Note:**\r\n\r\nYou should reboot the system for changes to take effect.\r\n\r\nAnd don&#39;t forget to come here after reboot and vote +1 :)-|-&lt;\r\n","title":"ubuntu java environment path, bash: /etc/environment: permission denied?","body":"<p>Use the following lines to set the path variables in the <code>/etc/environment</code></p>\n<pre><code>echo export JAVA_HOME=/path/to/java | sudo tee -a /etc/environment\necho export JRE_HOME=/path/to/jre  | sudo tee -a /etc/environment\n</code></pre>\n<p>It should work.</p>\n<p><strong>Note:</strong></p>\n<p>You should reboot the system for changes to take effect.</p>\n<p>And don't forget to come here after reboot and vote +1 :)-|-&lt;</p>\n"},{"tags":[],"owner":{"account_id":19918958,"reputation":101,"user_id":14595271,"display_name":"Abhishek Swaroop Shrivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676059275,"creation_date":1676059275,"answer_id":75415638,"question_id":47013303,"body_markdown":"Following is the method that worked for me - \r\n\r\nUse bashrc to create environment variable :\r\n\r\n1. JAVA_HOME=/path/to/java\r\n2. JRE_HOME=/path/to/jre  \r\n3. sudo vim ~/.bashrc\r\n4. Enter Password\r\n5. Press I(Key) to go in the insert mode\r\n6. Write export JAVA_HOME=&#39;/path/to/java&#39; at the end of file\r\n7. Write export JRE_HOME=&#39;/path/to/jre&#39; at the end of file\r\n8. Save and Exit (:wq)","title":"ubuntu java environment path, bash: /etc/environment: permission denied?","body":"<p>Following is the method that worked for me -</p>\n<p>Use bashrc to create environment variable :</p>\n<ol>\n<li>JAVA_HOME=/path/to/java</li>\n<li>JRE_HOME=/path/to/jre</li>\n<li>sudo vim ~/.bashrc</li>\n<li>Enter Password</li>\n<li>Press I(Key) to go in the insert mode</li>\n<li>Write export JAVA_HOME='/path/to/java' at the end of file</li>\n<li>Write export JRE_HOME='/path/to/jre' at the end of file</li>\n<li>Save and Exit (:wq)</li>\n</ol>\n"}],"owner":{"account_id":12067311,"reputation":148,"user_id":8823873,"accept_rate":40,"display_name":"Davide Buoso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16854,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":48937720,"answer_count":5,"score":9,"last_activity_date":1676059275,"creation_date":1509360168,"question_id":47013303,"body_markdown":"Using UBUNTU, I installed java 8 with the following command\r\n\r\n    $ sudo add-apt-repository ppa:webupd8team/java\r\n    $ sudo apt-get update\r\n    $ sudo apt-get install oracle-java8-installer\r\n\r\n    $ sudo apt-get install oracle-java8-set-default\r\n\r\nand I&#39;m trying to set the **java environment path** as follow\r\n\r\n    $ cat &gt;&gt; /etc/environment &lt;&lt;EOL\r\n    JAVA_HOME=/usr/lib/jvm/java-8-oracle\r\n    JRE_HOME=/usr/lib/jvm/java-8-oracle/jre \r\n    EOL\r\n\r\nbut I get this **error message**:\r\n\r\n    bash: /etc/environment: permission denied\r\n","title":"ubuntu java environment path, bash: /etc/environment: permission denied?","body":"<p>Using UBUNTU, I installed java 8 with the following command</p>\n\n<pre><code>$ sudo add-apt-repository ppa:webupd8team/java\n$ sudo apt-get update\n$ sudo apt-get install oracle-java8-installer\n\n$ sudo apt-get install oracle-java8-set-default\n</code></pre>\n\n<p>and I'm trying to set the <strong>java environment path</strong> as follow</p>\n\n<pre><code>$ cat &gt;&gt; /etc/environment &lt;&lt;EOL\nJAVA_HOME=/usr/lib/jvm/java-8-oracle\nJRE_HOME=/usr/lib/jvm/java-8-oracle/jre \nEOL\n</code></pre>\n\n<p>but I get this <strong>error message</strong>:</p>\n\n<pre><code>bash: /etc/environment: permission denied\n</code></pre>\n"},{"tags":["java","android","gradle","java-11"],"answers":[{"tags":[],"owner":{"account_id":3952592,"reputation":39,"user_id":3262323,"display_name":"gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676058928,"creation_date":1676058928,"answer_id":75415588,"question_id":71063002,"body_markdown":"I faced a similar problem.\r\nBoth the ways you mentioned produce the same result.\r\n\r\n**Adding the compileOptions in android** block worked for me.\r\nIf you haven&#39;t already, try adding it with the same java version as in the toolchain.\r\n\r\n    android {\r\n        someBlock{...}\r\n        java {\r\n            toolchain {\r\n                languageVersion = JavaLanguageVersion.of(11)\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n    }","title":"Can I set java 11 by gradle in android project?","body":"<p>I faced a similar problem.\nBoth the ways you mentioned produce the same result.</p>\n<p><strong>Adding the compileOptions in android</strong> block worked for me.\nIf you haven't already, try adding it with the same java version as in the toolchain.</p>\n<pre><code>android {\n    someBlock{...}\n    java {\n        toolchain {\n            languageVersion = JavaLanguageVersion.of(11)\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12203616,"reputation":61,"user_id":8907294,"display_name":"Alexander Parkhomenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1676058928,"creation_date":1644486992,"question_id":71063002,"body_markdown":"I need to set java 11 for build android project anywhere (on build machine for example). I found [gradle feature toolchain][1] but I can&#39;t find right way to use it in android project. I tried to add in app module build.gradle:\r\n\r\n    apply plugin: &#39;com.android.application&#39; \r\n\r\n    //first way\r\n    java {\r\n        toolchain {\r\n            languageVersion = JavaLanguageVersion.of(11)\r\n        }\r\n    }\r\n    \r\n    android {\r\n        //second way\r\n        java {\r\n            toolchain {\r\n                languageVersion = JavaLanguageVersion.of(11)\r\n            }\r\n        }\r\n\r\nbut I still get error:\r\n\r\n&gt;  Task :my-library-module-name:compileDebugJavaWithJavac FAILED  An exception has occurred in the compiler (1.8.0_282). Please file a bug\r\n&gt; against the Java compiler via the Java bug reporting page\r\n&gt; (http://bugreport.java.com) after checking the Bug Database\r\n&gt; (http://bugs.java.com) for duplicates. Include your program and the\r\n&gt; following diagnostic in your report. Thank you. \r\n&gt; java.lang.AssertionError: annotationType(): unrecognized Attribute\r\n&gt; name MODULE (class\r\n&gt; com.sun.tools.javac.util.UnsharedNameTable$NameImpl)\r\n\r\nwhere my-library-module-name this is my another android lib gradle module which connected to app module.\r\n\r\nIt is possible to use gradle toolchain in android project?\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/toolchains.html","title":"Can I set java 11 by gradle in android project?","body":"<p>I need to set java 11 for build android project anywhere (on build machine for example). I found <a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"noreferrer\">gradle feature toolchain</a> but I can't find right way to use it in android project. I tried to add in app module build.gradle:</p>\n<pre><code>apply plugin: 'com.android.application' \n\n//first way\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(11)\n    }\n}\n\nandroid {\n    //second way\n    java {\n        toolchain {\n            languageVersion = JavaLanguageVersion.of(11)\n        }\n    }\n</code></pre>\n<p>but I still get error:</p>\n<blockquote>\n<p>Task :my-library-module-name:compileDebugJavaWithJavac FAILED  An exception has occurred in the compiler (1.8.0_282). Please file a bug\nagainst the Java compiler via the Java bug reporting page\n(<a href=\"http://bugreport.java.com\" rel=\"noreferrer\">http://bugreport.java.com</a>) after checking the Bug Database\n(<a href=\"http://bugs.java.com\" rel=\"noreferrer\">http://bugs.java.com</a>) for duplicates. Include your program and the\nfollowing diagnostic in your report. Thank you.\njava.lang.AssertionError: annotationType(): unrecognized Attribute\nname MODULE (class\ncom.sun.tools.javac.util.UnsharedNameTable$NameImpl)</p>\n</blockquote>\n<p>where my-library-module-name this is my another android lib gradle module which connected to app module.</p>\n<p>It is possible to use gradle toolchain in android project?</p>\n"},{"tags":["java","json","jersey"],"owner":{"account_id":20669014,"reputation":31,"user_id":15175189,"display_name":"S Mugunthan kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676058816,"creation_date":1676058816,"question_id":75415570,"body_markdown":"I am trying to build the jersey JSON response, my problem here is unable to include the null values in json response. I tried with `@JsonInclude(JsonInclude.Include.ALWAYS) ` but it not works.\r\n\r\nModel Class\r\n\r\n    @Entity\r\n    @Table(name = &quot;SUPERDIVISIONS&quot;)\r\n    @JsonInclude(JsonInclude.Include.ALWAYS) \r\n    public class SuperDivision extends AbstractEntityWithAudit&lt;Long&gt; implements \r\n    IActivate,Serializable {\r\n    \r\n\tprivate static final long serialVersionUID = 5854382618439662542L;\r\n\t@Id\r\n     @Column(name = &quot;SUPERDIVCD&quot;)\r\n     private Long superdivcd;\r\n     @Column(name = &quot;SUPERDIV_NAME&quot;)\r\n     private String superdivName;\r\n     @Column(name = &quot;SUPERDIV_DBANAM&quot;)\r\n     private String superdivDbanam;\r\n     @Column(name = &quot;ADDR_UID&quot;)\r\n     private Long addrUid;\r\n     }\r\n","title":"Need to include null vlalues in Jersey Json Response","body":"<p>I am trying to build the jersey JSON response, my problem here is unable to include the null values in json response. I tried with <code>@JsonInclude(JsonInclude.Include.ALWAYS) </code> but it not works.</p>\n<p>Model Class</p>\n<pre><code>@Entity\n@Table(name = &quot;SUPERDIVISIONS&quot;)\n@JsonInclude(JsonInclude.Include.ALWAYS) \npublic class SuperDivision extends AbstractEntityWithAudit&lt;Long&gt; implements \nIActivate,Serializable {\n\nprivate static final long serialVersionUID = 5854382618439662542L;\n@Id\n @Column(name = &quot;SUPERDIVCD&quot;)\n private Long superdivcd;\n @Column(name = &quot;SUPERDIV_NAME&quot;)\n private String superdivName;\n @Column(name = &quot;SUPERDIV_DBANAM&quot;)\n private String superdivDbanam;\n @Column(name = &quot;ADDR_UID&quot;)\n private Long addrUid;\n }\n</code></pre>\n"},{"tags":["java","spring-boot","validation","junit"],"answers":[{"tags":[],"owner":{"account_id":11609093,"reputation":60,"user_id":8503817,"display_name":"L Jones"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676058634,"creation_date":1676057184,"answer_id":75415331,"question_id":75413988,"body_markdown":"You will need to create a JUnit test for a class that uses your `ValidChars` interface. However, as `validatedBy` is empty, it means that there is no validation implementation class that is associated with your constraint annotation.\r\n\r\nSo your test will be to verify that the constraint annotation is being applied correctly to some class, but you won&#39;t be able to test the &quot;actual&quot; validation logic.\r\n\r\nIn your test case, you can make use of the Bean Validation API (`javax.validation.*`). You can use `validate` of `Validator`, it&#39;ll check if the constraints specified in your `ValidChars` are being satisfied by the instance being validated.\r\n\r\nThe test then just asserts any constraint violation in the validation result..\r\n\r\ne.g.\r\n\r\n```java\r\n// YourEntity.java\r\nprivate class YourEntity\r\n{\r\n\r\n    @ValidChars\r\n    String name;\r\n\r\n    public String getName()\r\n    {\r\n        return name;\r\n    }\r\n\r\n    public void setName( String name )\r\n    {\r\n        this.name = name;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n// YourEntityTest.java\r\n@Test\r\nvoid testInvalidCharsShouldContainViolations()\r\n{\r\n    // given\r\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n    Validator validator = factory.getValidator();\r\n    YourEntity yourEntity = new YourEntity();\r\n        \r\n    // when\r\n    yourEntity.setName( &quot;some-invalid-input&quot; );\r\n\r\n    // then\r\n    Set&lt;ConstraintViolation&lt;YourEntity&gt;&gt; violations = validator.validate( yourEntity );\r\n    assertFalse( violations.isEmpty() );\r\n}\r\n```","title":"How to write JUnit Test for a custom validation","body":"<p>You will need to create a JUnit test for a class that uses your <code>ValidChars</code> interface. However, as <code>validatedBy</code> is empty, it means that there is no validation implementation class that is associated with your constraint annotation.</p>\n<p>So your test will be to verify that the constraint annotation is being applied correctly to some class, but you won't be able to test the &quot;actual&quot; validation logic.</p>\n<p>In your test case, you can make use of the Bean Validation API (<code>javax.validation.*</code>). You can use <code>validate</code> of <code>Validator</code>, it'll check if the constraints specified in your <code>ValidChars</code> are being satisfied by the instance being validated.</p>\n<p>The test then just asserts any constraint violation in the validation result..</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// YourEntity.java\nprivate class YourEntity\n{\n\n    @ValidChars\n    String name;\n\n    public String getName()\n    {\n        return name;\n    }\n\n    public void setName( String name )\n    {\n        this.name = name;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// YourEntityTest.java\n@Test\nvoid testInvalidCharsShouldContainViolations()\n{\n    // given\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    Validator validator = factory.getValidator();\n    YourEntity yourEntity = new YourEntity();\n        \n    // when\n    yourEntity.setName( &quot;some-invalid-input&quot; );\n\n    // then\n    Set&lt;ConstraintViolation&lt;YourEntity&gt;&gt; violations = validator.validate( yourEntity );\n    assertFalse( violations.isEmpty() );\n}\n</code></pre>\n"}],"owner":{"account_id":3216552,"reputation":2553,"user_id":2715083,"accept_rate":57,"display_name":"Somjit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75415331,"answer_count":1,"score":0,"last_activity_date":1676058634,"creation_date":1676048029,"question_id":75413988,"body_markdown":"My Custom Validation annotation looks like this:\r\n\r\n```java\r\n@ConstraintComposition(AND)\r\n@NotNull\r\n@Pattern(regexp = &quot;[A-Z]{4}&quot;, message = &quot;Invalid&quot;)\r\n@Target({ElementType.FIELD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = {})\r\npublic @interface ValidChars {\r\n```\r\n\r\nSince I don&#39;t have any class in the validatedBy section, I am not sure how to write unit test for this annotation.\r\n\r\nCan someone please help?","title":"How to write JUnit Test for a custom validation","body":"<p>My Custom Validation annotation looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConstraintComposition(AND)\n@NotNull\n@Pattern(regexp = &quot;[A-Z]{4}&quot;, message = &quot;Invalid&quot;)\n@Target({ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = {})\npublic @interface ValidChars {\n</code></pre>\n<p>Since I don't have any class in the validatedBy section, I am not sure how to write unit test for this annotation.</p>\n<p>Can someone please help?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676106535,"post_id":75415532,"comment_id":133074031,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26009586,"reputation":41,"user_id":19718873,"display_name":"poornima"},"score":0,"creation_date":1676262797,"post_id":75415532,"comment_id":133095267,"body_markdown":"I tried #moneta.logging.exclude-url-patterns =&quot;.*/localhost*&quot;  .\nBut still all the headers are logging .Is there any other way to achieve it?","body":"I tried #moneta.logging.exclude-url-patterns =&quot;.*/localhost*&quot;  . But still all the headers are logging .Is there any other way to achieve it?"}],"owner":{"account_id":26009586,"reputation":41,"user_id":19718873,"display_name":"poornima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676058510,"creation_date":1676058510,"question_id":75415532,"body_markdown":"I am trying to disable Moneta log headers and request only for Prod but active in the Dev.\r\nrequirement in the application-default.yml is like below.\r\n\r\n**Dev:**\r\n\r\nlogging :\r\n   http:\r\n      logRequestHeaders: true\r\n      logRequestEntity: true\r\n      logResponseEntity: true\r\n\r\n**Prod**\r\n\r\nlogging :\r\n   http:\r\n      logRequestHeaders: false\r\n      logRequestEntity: false\r\n      logResponseEntity: false\r\n      \r\nPlease advice.\r\n\r\nI did not try anything .","title":"Disable Moneta logs that log headers and request","body":"<p>I am trying to disable Moneta log headers and request only for Prod but active in the Dev.\nrequirement in the application-default.yml is like below.</p>\n<p><strong>Dev:</strong></p>\n<p>logging :\nhttp:\nlogRequestHeaders: true\nlogRequestEntity: true\nlogResponseEntity: true</p>\n<p><strong>Prod</strong></p>\n<p>logging :\nhttp:\nlogRequestHeaders: false\nlogRequestEntity: false\nlogResponseEntity: false</p>\n<p>Please advice.</p>\n<p>I did not try anything .</p>\n"},{"tags":["java","android","xml","android-studio","navigation-drawer"],"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676058322,"creation_date":1676058322,"question_id":75415505,"body_markdown":"I am trying to invoke my navigation drawer in my MainActivity.java class but I&#39;m not familiar on how it is done as its not located in my activity_main.xml as I wanted two separate xml classes. How do I add another xml page in my MainActivity.java for my navigation drawer to work?","title":"How do I invoke my navigation drawer in my MainActivity.java if its not located in my activity_main.xml page?","body":"<p>I am trying to invoke my navigation drawer in my MainActivity.java class but I'm not familiar on how it is done as its not located in my activity_main.xml as I wanted two separate xml classes. How do I add another xml page in my MainActivity.java for my navigation drawer to work?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":21263717,"reputation":195,"user_id":15644230,"display_name":"Grigorii Riabov"},"score":0,"creation_date":1620044372,"post_id":67368640,"comment_id":119076881,"body_markdown":"Why do you add `@RestController`? Check tutorial more carefully.\nHere code [link](https://github.com/eugenp/tutorials/blob/master/spring-security-modules/spring-security-web-rest/src/main/java/com/baeldung/errorhandling/CustomRestExceptionHandler.java#L28)","body":"Why do you add <code>@RestController</code>? Check tutorial more carefully. Here code <a href=\"https://github.com/eugenp/tutorials/blob/master/spring-security-modules/spring-security-web-rest/src/main/java/com/baeldung/errorhandling/CustomRestExceptionHandler.java#L28\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":18682375,"reputation":33,"user_id":13618631,"display_name":"ee ee"},"score":0,"creation_date":1620044977,"post_id":67368640,"comment_id":119077151,"body_markdown":"Because I return HTTP responses so I thought that was appropriate. Anyways that&#39;s not the problem and deleting it changes nothing, I still get the exact same error.","body":"Because I return HTTP responses so I thought that was appropriate. Anyways that&#39;s not the problem and deleting it changes nothing, I still get the exact same error."},{"owner":{"account_id":21263717,"reputation":195,"user_id":15644230,"display_name":"Grigorii Riabov"},"score":0,"creation_date":1620045903,"post_id":67368640,"comment_id":119077599,"body_markdown":"Check overridden method signature and imports of variable","body":"Check overridden method signature and imports of variable"}],"answers":[{"tags":[],"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620060188,"creation_date":1620060188,"answer_id":67372674,"question_id":67368640,"body_markdown":"Well if you are not using other parameters try this \r\n\r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex) {\r\n        return new ResponseEntity&lt;Object&gt;(&quot;test&quot;, HttpStatus.NOT_ACCEPTABLE);\r\n    }","title":"Problem override handleMethodArgumentNotValid from ResponseEntityExceptionHandler","body":"<p>Well if you are not using other parameters try this</p>\n<pre><code>@Override\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex) {\n    return new ResponseEntity&lt;Object&gt;(&quot;test&quot;, HttpStatus.NOT_ACCEPTABLE);\n}\n</code></pre>\n"}],"owner":{"account_id":18682375,"reputation":33,"user_id":13618631,"display_name":"ee ee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1833,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676058179,"creation_date":1620043636,"question_id":67368640,"body_markdown":"I&#39;m trying to override the handleMethodArgumentNotValid method but without success.\r\n\r\nThe error I&#39;m getting is: &quot;the method handleMethodArgumentNotValid(MethodArgumentNotValidException, HttpHeaders, HttpStatus, WebRequest) of type CustomResponseEntityExceptionHandler must override or implement a supertype but I don&#39;t know why I&#39;m not doing it already.\r\n\r\nHere&#39;s what I&#39;m trying:\r\n\r\n    @ControllerAdvice\r\n    @RestController\r\n    public class CustomResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    public final ResponseEntity&lt;Object&gt; handleAllExceptions(Exception ex, WebRequest request) {\r\n        var exceptionResponse = new ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));\r\n\r\n        return new ResponseEntity&lt;Object&gt;(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n        return new ResponseEntity&lt;Object&gt;(&quot;test&quot;, HttpStatus.NOT_ACCEPTABLE);\r\n    }\r\n\r\n    @ExceptionHandler(UserNotFoundException.class)\r\n    public final ResponseEntity&lt;Object&gt; handleUserNotFoundExceptions(Exception ex, WebRequest request) {\r\n        var exceptionResponse = new ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));\r\n\r\n        return new ResponseEntity&lt;Object&gt;(exceptionResponse, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n}\r\n\r\nI&#39;m following this tutorial if it&#39;s any help: https://www.baeldung.com/global-error-handler-in-a-spring-rest-api","title":"Problem override handleMethodArgumentNotValid from ResponseEntityExceptionHandler","body":"<p>I'm trying to override the handleMethodArgumentNotValid method but without success.</p>\n<p>The error I'm getting is: &quot;the method handleMethodArgumentNotValid(MethodArgumentNotValidException, HttpHeaders, HttpStatus, WebRequest) of type CustomResponseEntityExceptionHandler must override or implement a supertype but I don't know why I'm not doing it already.</p>\n<p>Here's what I'm trying:</p>\n<pre><code>@ControllerAdvice\n@RestController\npublic class CustomResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {\n\n@ExceptionHandler(Exception.class)\npublic final ResponseEntity&lt;Object&gt; handleAllExceptions(Exception ex, WebRequest request) {\n    var exceptionResponse = new ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));\n\n    return new ResponseEntity&lt;Object&gt;(exceptionResponse, HttpStatus.INTERNAL_SERVER_ERROR);\n}\n\n@Override\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n    return new ResponseEntity&lt;Object&gt;(&quot;test&quot;, HttpStatus.NOT_ACCEPTABLE);\n}\n\n@ExceptionHandler(UserNotFoundException.class)\npublic final ResponseEntity&lt;Object&gt; handleUserNotFoundExceptions(Exception ex, WebRequest request) {\n    var exceptionResponse = new ExceptionResponse(new Date(), ex.getMessage(), request.getDescription(false));\n\n    return new ResponseEntity&lt;Object&gt;(exceptionResponse, HttpStatus.NOT_FOUND);\n}\n</code></pre>\n<p>}</p>\n<p>I'm following this tutorial if it's any help: <a href=\"https://www.baeldung.com/global-error-handler-in-a-spring-rest-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/global-error-handler-in-a-spring-rest-api</a></p>\n"},{"tags":["java","spring","spring-boot","deployment","wildfly"],"comments":[{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1676074407,"post_id":75415415,"comment_id":133071233,"body_markdown":"Spring boot 3 / Spring 6, does not work with javax packages due to changes of the same, so basically all dependencies that you have with javax, must be migrated to a newer version where it was replaced with jakarta.","body":"Spring boot 3 / Spring 6, does not work with javax packages due to changes of the same, so basically all dependencies that you have with javax, must be migrated to a newer version where it was replaced with jakarta."},{"owner":{"account_id":27756059,"reputation":1,"user_id":21189510,"display_name":"Kaio Enzo Silva de Melo Salgad"},"score":0,"creation_date":1676316284,"post_id":75415415,"comment_id":133109257,"body_markdown":"yes, removing javax and replacing for jakarta worked for me. Thank you!","body":"yes, removing javax and replacing for jakarta worked for me. Thank you!"}],"owner":{"account_id":27756059,"reputation":1,"user_id":21189510,"display_name":"Kaio Enzo Silva de Melo Salgad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676057729,"creation_date":1676057729,"question_id":75415415,"body_markdown":"Looks like hibernate version ins&#39;t compatible with something in wildfly. It&#39;s my first time trying to deploy something in wildfly. I tried to change versions of my hibernate but still doesn&#39;t work\r\n\r\n```\r\n[2023-02-10 04:25:39,972] Artifact *-api:war: Artifact is being deployed, please wait...\r\n16:25:40,116 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0027: Starting deployment of &quot;*-api.war&quot; (runtime-name: &quot;*-api.war&quot;)\r\n16:25:51,493 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service jboss.deployment.unit.&quot;*-api.war&quot;.FIRST_MODULE_USE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;*-api.war&quot;.FIRST_MODULE_USE: WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment &quot;*-api.war&quot;\r\n\tat org.jboss.as.server@19.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\r\n\tat org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n\tat org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n\tat org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider &#39;org.hibernate.jpa.HibernatePersistenceProvider&#39;\r\n\tat org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.processor.PersistenceProviderHandler.deploy(PersistenceProviderHandler.java:80)\r\n\tat org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.processor.PersistenceBeginInstallProcessor.deploy(PersistenceBeginInstallProcessor.java:49)\r\n\tat org.jboss.as.server@19.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\r\n\t... 8 more\r\nCaused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider\r\n\tat java.base/java.lang.Class.asSubclass(Class.java:3924)\r\n\tat org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.processor.PersistenceProviderHandler.deploy(PersistenceProviderHandler.java:73)\r\n\t... 10 more\r\n\r\n16:25:51,496 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;*-api.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;*-api.war\\&quot;.FIRST_MODULE_USE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment \\&quot;*-api.war\\&quot;\r\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider &#39;org.hibernate.jpa.HibernatePersistenceProvider&#39;\r\n    Caused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider&quot;}}\r\n16:25:51,497 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;*-api.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;*-api.war\\&quot;.FIRST_MODULE_USE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment \\&quot;*-api.war\\&quot;\r\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider &#39;org.hibernate.jpa.HibernatePersistenceProvider&#39;\r\n    Caused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider&quot;}}\r\n16:25:51,498 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment &quot;*-api.war&quot; was rolled back with the following failure message: \r\n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;*-api.war\\&quot;.FIRST_MODULE_USE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment \\&quot;*-api.war\\&quot;\r\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider &#39;org.hibernate.jpa.HibernatePersistenceProvider&#39;\r\n    Caused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider&quot;}}\r\n16:25:51,829 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0028: Stopped deployment *-api.war (runtime-name: *-api.war) in 331ms\r\n[2023-02-10 04:25:51,907] Artifact *-api:war: Error during artifact deployment. See server log for details.\r\n[2023-02-10 04:25:51,907] Artifact *-api:war: java.lang.Exception: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;*-api.war\\&quot;.FIRST_MODULE_USE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment \\&quot;*-api.war\\&quot;\r\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider &#39;org.hibernate.jpa.HibernatePersistenceProvider&#39;\r\n    Caused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider&quot;}}\r\n````\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;name&gt;***:: Api&lt;/name&gt;\r\n    &lt;description&gt;*:: Api&lt;/description&gt;\r\n\r\n    &lt;artifactId&gt;*-api&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                        &lt;compilerArgs&gt;\r\n                            --enable-preview\r\n                        &lt;/compilerArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0.Final&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;desenv&lt;/id&gt;\r\n\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\njboss-deployment-structure.xml\r\n\r\n```\r\n&lt;jboss-deployment-structure&gt;\r\n    &lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;\r\n    &lt;deployment&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;module name=&quot;org.jboss.logging&quot; /&gt;\r\n            &lt;module name=&quot;javax.servlet.jsp.api&quot; /&gt;\r\n            &lt;module name=&quot;javax.servlet.jsp.jstl.api&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.logmanager&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.as.logging&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson-provider&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jettison-provider&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson2-provider&quot; /&gt;\r\n            &lt;module name=&quot;com.fasterxml.jackson.core.jackson-core&quot; /&gt;\r\n            &lt;module name=&quot;com.fasterxml.jackson.core.jackson-annotations&quot; /&gt;\r\n            &lt;module name=&quot;com.fasterxml.jackson.core.jackson-databind&quot; /&gt;\r\n            &lt;module name=&quot;com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider&quot; /&gt;\r\n\r\n            &lt;module name=&quot;org.hibernate&quot;/&gt;\r\n            &lt;module name=&quot;org.apache.log4j&quot; /&gt;\r\n            &lt;module name=&quot;org.apache.commons.logging&quot; /&gt;\r\n            &lt;module name=&quot;org.slf4j&quot; /&gt;\r\n            &lt;module name=&quot;org.slf4j.impl&quot; /&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;\r\n```\r\n\r\n\r\nI tried deploy my spring boot 3 application with wildfly 27.0.1, but I&#39;m getting this error","title":"Wilfly 27 + Spring Boot 3.0.2 deploy errors","body":"<p>Looks like hibernate version ins't compatible with something in wildfly. It's my first time trying to deploy something in wildfly. I tried to change versions of my hibernate but still doesn't work</p>\n<pre><code>[2023-02-10 04:25:39,972] Artifact *-api:war: Artifact is being deployed, please wait...\n16:25:40,116 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0027: Starting deployment of &quot;*-api.war&quot; (runtime-name: &quot;*-api.war&quot;)\n16:25:51,493 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service jboss.deployment.unit.&quot;*-api.war&quot;.FIRST_MODULE_USE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;*-api.war&quot;.FIRST_MODULE_USE: WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment &quot;*-api.war&quot;\n    at org.jboss.as.server@19.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\n    at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n    at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n    at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider 'org.hibernate.jpa.HibernatePersistenceProvider'\n    at org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.processor.PersistenceProviderHandler.deploy(PersistenceProviderHandler.java:80)\n    at org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.processor.PersistenceBeginInstallProcessor.deploy(PersistenceBeginInstallProcessor.java:49)\n    at org.jboss.as.server@19.0.1.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\n    ... 8 more\nCaused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider\n    at java.base/java.lang.Class.asSubclass(Class.java:3924)\n    at org.jboss.as.jpa@27.0.1.Final//org.jboss.as.jpa.processor.PersistenceProviderHandler.deploy(PersistenceProviderHandler.java:73)\n    ... 10 more\n\n16:25:51,496 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;*-api.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;*-api.war\\&quot;.FIRST_MODULE_USE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment \\&quot;*-api.war\\&quot;\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider 'org.hibernate.jpa.HibernatePersistenceProvider'\n    Caused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider&quot;}}\n16:25:51,497 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;*-api.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;*-api.war\\&quot;.FIRST_MODULE_USE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment \\&quot;*-api.war\\&quot;\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider 'org.hibernate.jpa.HibernatePersistenceProvider'\n    Caused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider&quot;}}\n16:25:51,498 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment &quot;*-api.war&quot; was rolled back with the following failure message: \n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;*-api.war\\&quot;.FIRST_MODULE_USE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment \\&quot;*-api.war\\&quot;\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider 'org.hibernate.jpa.HibernatePersistenceProvider'\n    Caused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider&quot;}}\n16:25:51,829 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0028: Stopped deployment *-api.war (runtime-name: *-api.war) in 331ms\n[2023-02-10 04:25:51,907] Artifact *-api:war: Error during artifact deployment. See server log for details.\n[2023-02-10 04:25:51,907] Artifact *-api:war: java.lang.Exception: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;*-api.war\\&quot;.FIRST_MODULE_USE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment \\&quot;*-api.war\\&quot;\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYJPA0019: Could not deploy application packaged persistence provider 'org.hibernate.jpa.HibernatePersistenceProvider'\n    Caused by: java.lang.ClassCastException: class org.hibernate.jpa.HibernatePersistenceProvider&quot;}}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;***:: Api&lt;/name&gt;\n    &lt;description&gt;*:: Api&lt;/description&gt;\n\n    &lt;artifactId&gt;*-api&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;17&lt;/source&gt;\n                        &lt;target&gt;17&lt;/target&gt;\n                        &lt;compilerArgs&gt;\n                            --enable-preview\n                        &lt;/compilerArgs&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.0.Final&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;desenv&lt;/id&gt;\n\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>jboss-deployment-structure.xml</p>\n<pre><code>&lt;jboss-deployment-structure&gt;\n    &lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;\n    &lt;deployment&gt;\n        &lt;exclusions&gt;\n            &lt;module name=&quot;org.jboss.logging&quot; /&gt;\n            &lt;module name=&quot;javax.servlet.jsp.api&quot; /&gt;\n            &lt;module name=&quot;javax.servlet.jsp.jstl.api&quot; /&gt;\n            &lt;module name=&quot;org.jboss.logmanager&quot; /&gt;\n            &lt;module name=&quot;org.jboss.as.logging&quot; /&gt;\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson-provider&quot; /&gt;\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jettison-provider&quot; /&gt;\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson2-provider&quot; /&gt;\n            &lt;module name=&quot;com.fasterxml.jackson.core.jackson-core&quot; /&gt;\n            &lt;module name=&quot;com.fasterxml.jackson.core.jackson-annotations&quot; /&gt;\n            &lt;module name=&quot;com.fasterxml.jackson.core.jackson-databind&quot; /&gt;\n            &lt;module name=&quot;com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider&quot; /&gt;\n\n            &lt;module name=&quot;org.hibernate&quot;/&gt;\n            &lt;module name=&quot;org.apache.log4j&quot; /&gt;\n            &lt;module name=&quot;org.apache.commons.logging&quot; /&gt;\n            &lt;module name=&quot;org.slf4j&quot; /&gt;\n            &lt;module name=&quot;org.slf4j.impl&quot; /&gt;\n        &lt;/exclusions&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>I tried deploy my spring boot 3 application with wildfly 27.0.1, but I'm getting this error</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1675968685,"post_id":75403009,"comment_id":133047260,"body_markdown":"Do I understand correctly that you&#39;re trying to obtain *per-group* minima and maxima? That seems consistent with the members of your `OccupancyAggregated` class, but not necessarily with &quot;min and max fields are reduced from from the entirety of the grouped OccupancyEntry list.&quot;","body":"Do I understand correctly that you&#39;re trying to obtain <i>per-group</i> minima and maxima? That seems consistent with the members of your <code>OccupancyAggregated</code> class, but not necessarily with &quot;min and max fields are reduced from from the entirety of the grouped OccupancyEntry list.&quot;"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1675969567,"post_id":75403009,"comment_id":133047510,"body_markdown":"What is the expected result for the sample input you provided?","body":"What is the expected result for the sample input you provided?"},{"owner":{"account_id":26728918,"reputation":3,"user_id":21181303,"display_name":"Bismal"},"score":0,"creation_date":1675974731,"post_id":75403009,"comment_id":133048872,"body_markdown":"@JohnBollinger my apologies I can see how my post has caused this confusion. What I&#39;m trying to achieve is to aggregate the values of the respective grouped `OccupancyEntry` min and max member variables to a single instance of the `OccupancyAggregated` Class.\n\nThe three `OccupancyEntry` objects instantiated for the example should lead to two new `OccupancyAggregated` instances. The first `min=2` and `max=20` (a reduction of the entries) and the second only contains the reduction of the last entry, being `min=1 max=10`","body":"@JohnBollinger my apologies I can see how my post has caused this confusion. What I&#39;m trying to achieve is to aggregate the values of the respective grouped <code>OccupancyEntry</code> min and max member variables to a single instance of the <code>OccupancyAggregated</code> Class.  The three <code>OccupancyEntry</code> objects instantiated for the example should lead to two new <code>OccupancyAggregated</code> instances. The first <code>min=2</code> and <code>max=20</code> (a reduction of the entries) and the second only contains the reduction of the last entry, being <code>min=1 max=10</code>"},{"owner":{"account_id":26728918,"reputation":3,"user_id":21181303,"display_name":"Bismal"},"score":0,"creation_date":1675975136,"post_id":75403009,"comment_id":133048994,"body_markdown":"@Eritrean the expected result is a `List&lt;OccupancyAggregated&gt;` containing two items. The first item will be the aggregated value of the first two `OccupancyEntry` objects, their min values reduced and their max values reduced, leading to \n```List[0] OccupancyAggregated:min=2, OccupancyAggregated:max=20`\n\nList[1] OccupancyAggregated:min=1\nOccupancyAggregated:max=10\n```","body":"@Eritrean the expected result is a <code>List&lt;OccupancyAggregated&gt;</code> containing two items. The first item will be the aggregated value of the first two <code>OccupancyEntry</code> objects, their min values reduced and their max values reduced, leading to  <code>List[0] OccupancyAggregated:min=2, OccupancyAggregated:max=20`  List[1] OccupancyAggregated:min=1 OccupancyAggregated:max=10 </code>"}],"answers":[{"comments":[{"owner":{"account_id":26728918,"reputation":3,"user_id":21181303,"display_name":"Bismal"},"score":0,"creation_date":1676043496,"post_id":75405440,"comment_id":133064017,"body_markdown":"Thank you! This is a very concise way of handling the problem. I also appreciate the alternative options in case the aggregate is mutable. I&#39;ve marked your answer as useful as well but unfortunately I&#39;m too new for it to be publicly visible yet. In terms of the OccupancyAggregated::merge implementation I&#39;m assuming it accepts a OccupancyAggregated instance, adds the min/max fields to the existing instance and returns itself. Unfortunately my implementation doesn&#39;t seem to result in the proper merged values as they remain 0. Is it possible to elaborate on your merge implementation?","body":"Thank you! This is a very concise way of handling the problem. I also appreciate the alternative options in case the aggregate is mutable. I&#39;ve marked your answer as useful as well but unfortunately I&#39;m too new for it to be publicly visible yet. In terms of the OccupancyAggregated::merge implementation I&#39;m assuming it accepts a OccupancyAggregated instance, adds the min/max fields to the existing instance and returns itself. Unfortunately my implementation doesn&#39;t seem to result in the proper merged values as they remain 0. Is it possible to elaborate on your merge implementation?"}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676056594,"creation_date":1675984523,"answer_id":75405440,"question_id":75403009,"body_markdown":"This is a very common request that&#39;s messy to solve with streams, because there&#39;s no concept of an &quot;empty&quot; or &quot;identity&quot; instance of the aggregate. I prefer the semi-imperative approach using a loop and `Map.merge()`:\r\n\r\n    Map&lt;List&lt;String&gt;, OccupancyAggregated&gt; grouped = new HashMap&lt;&gt;();\r\n    for (OccupancyEntry e : occupancyEntries) {\r\n        grouped.merge(Arrays.asList(e.attribute1, e.attribute2, e.attribute3),\r\n                OccupancyAggregated.from(e, date),\r\n                OccupancyAggregated::merge);\r\n    }\r\n    List&lt;OccupancyAggregated&gt; aggregated = new ArrayList&lt;&gt;(grouped.values());\r\n\r\nWhere the `merge()` method looks like this:\r\n\r\n    public OccupancyAggregated merge(OccupancyAggregated o) {\r\n        return new OccupancyAggregated(\r\n                date, attribute1, attribute2, attribute3, min + o.min, max + o.max);\r\n    }\r\n\r\nAlternatively, if you can make the aggregate mutable, you can update min/max in place:\r\n\r\n    OccupancyAggregated agg = grouped.computeIfAbsent(\r\n            Arrays.asList(e.attribute1, e.attribute2, e.attribute3),\r\n            attributes -&gt; OccupancyAggregated.from(attributes, date));\r\n    agg.add(e.min, e.max);\r\n\r\nI left out some of the new method implementations for the sake of brevity. Let me know if they need more elaboration.","title":"Performing multiple reduction operations using Streams","body":"<p>This is a very common request that's messy to solve with streams, because there's no concept of an &quot;empty&quot; or &quot;identity&quot; instance of the aggregate. I prefer the semi-imperative approach using a loop and <code>Map.merge()</code>:</p>\n<pre><code>Map&lt;List&lt;String&gt;, OccupancyAggregated&gt; grouped = new HashMap&lt;&gt;();\nfor (OccupancyEntry e : occupancyEntries) {\n    grouped.merge(Arrays.asList(e.attribute1, e.attribute2, e.attribute3),\n            OccupancyAggregated.from(e, date),\n            OccupancyAggregated::merge);\n}\nList&lt;OccupancyAggregated&gt; aggregated = new ArrayList&lt;&gt;(grouped.values());\n</code></pre>\n<p>Where the <code>merge()</code> method looks like this:</p>\n<pre><code>public OccupancyAggregated merge(OccupancyAggregated o) {\n    return new OccupancyAggregated(\n            date, attribute1, attribute2, attribute3, min + o.min, max + o.max);\n}\n</code></pre>\n<p>Alternatively, if you can make the aggregate mutable, you can update min/max in place:</p>\n<pre><code>OccupancyAggregated agg = grouped.computeIfAbsent(\n        Arrays.asList(e.attribute1, e.attribute2, e.attribute3),\n        attributes -&gt; OccupancyAggregated.from(attributes, date));\nagg.add(e.min, e.max);\n</code></pre>\n<p>I left out some of the new method implementations for the sake of brevity. Let me know if they need more elaboration.</p>\n"},{"comments":[{"owner":{"account_id":26728918,"reputation":3,"user_id":21181303,"display_name":"Bismal"},"score":0,"creation_date":1676043186,"post_id":75407000,"comment_id":133063920,"body_markdown":"Thank you for your answer! Going through your solution helped me better understand the process behind it and how to implement certain other aspects. I&#39;ve marked the answer as helpful but unfortunately my account is too new for it to display votes publicly.","body":"Thank you for your answer! Going through your solution helped me better understand the process behind it and how to implement certain other aspects. I&#39;ve marked the answer as helpful but unfortunately my account is too new for it to display votes publicly."}],"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676004256,"creation_date":1676003820,"answer_id":75407000,"question_id":75403009,"body_markdown":"You could do this: \r\n\r\n```\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class AggregateToGetMinMax {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;OccupancyEntry&gt; list = setup();\r\n        List&lt;OccupancyAggregated&gt; result = aggregate(list, LocalDate.now());\r\n        System.out.println(&quot;\\nresult: &quot; + result);\r\n    }\r\n\r\n    public static List&lt;OccupancyEntry&gt; setup() {\r\n        OccupancyEntry[] entries = {\r\n                new OccupancyEntry(1, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, 1, 10),\r\n                new OccupancyEntry(1, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, 1, 10),\r\n                new OccupancyEntry(1, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, 1, 10)\r\n        };\r\n\r\n        return List.of(entries);\r\n    }\r\n\r\n    public static List&lt;OccupancyAggregated&gt; aggregate(List&lt;OccupancyEntry&gt; occupancyEntries, LocalDate date) {\r\n        class MinMax {\r\n            int max = 0;\r\n            int min = 0;\r\n\r\n            public MinMax() {\r\n            }\r\n\r\n            public MinMax(OccupancyEntry oe) {\r\n                this.max = oe.max;\r\n                this.min = oe.min;\r\n            }\r\n\r\n            public MinMax add(MinMax mm) {\r\n                this.max += mm.max;\r\n                this.min += mm.min;\r\n                return this;\r\n            }\r\n\r\n            public String toString() {\r\n                return &quot;min: &quot; + min + &quot;; max: &quot; + max;\r\n            }\r\n        }\r\n\r\n        Map&lt;String, List&lt;OccupancyEntry&gt;&gt; groupedEntries = occupancyEntries.stream()\r\n            .collect(Collectors.groupingBy(OccupancyEntry::getGroupedAttributes));\r\n\r\n        System.out.println(&quot;grouped entries: &quot;);\r\n        groupedEntries.entrySet().stream()\r\n            .forEach(entry -&gt; System.out.println(entry));\r\n\r\n        List&lt;OccupancyAggregated&gt; result = groupedEntries.values().stream()\r\n            .map(list -&gt; {\r\n                MinMax mm = list.stream()\r\n                    .map(MinMax::new)\r\n                    .reduce(\r\n                        new MinMax(),\r\n                        (MinMax acc, MinMax item) -&gt; acc.add(item));\r\n\r\n                // It&#39;s okay to get(0) because all entries with have values with at least one item\r\n                // in the list.\r\n                OccupancyAggregated aggregated = new OccupancyAggregated(date, list.get(0), mm.min, mm.max);\r\n                return List.of(aggregated);\r\n            })\r\n            .collect(Collectors.toList()).stream()\r\n            .flatMap(List::stream)\r\n            .collect(Collectors.toList());\r\n\r\n        return result;\r\n    }\r\n\r\n    public static class OccupancyEntry {\r\n\r\n        private final int entryID;\r\n        private final String attribute1, attribute2, attribute3;\r\n        public final int min, max;\r\n\r\n        public OccupancyEntry(int entryID, String attribute1, String attribute2, String attribute3, int min, int max) {\r\n            this.entryID = entryID;\r\n            this.attribute1 = attribute1;\r\n            this.attribute2 = attribute2;\r\n            this.attribute3 = attribute3;\r\n            this.min = min;\r\n            this.max = max;\r\n        }\r\n\r\n        public String getGroupedAttributes() {\r\n            return List.of(attribute1, attribute2, attribute3).stream()\r\n                .collect(Collectors.joining(&quot;|&quot;));\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;OccupancyEntry [&quot; + entryID + &quot;, &quot; + attribute1 + &quot;, &quot; + attribute2\r\n                + &quot;, &quot; + attribute3 + &quot;, &quot; + min + &quot;, &quot; + max + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\n    public static class OccupancyAggregated {\r\n        final LocalDate date;\r\n        String attribute1, attribute2, attribute3;\r\n        private int min, max;\r\n\r\n        public OccupancyAggregated(LocalDate date, OccupancyEntry oe, int min, int max) {\r\n            this.date = date;\r\n            this.attribute1 = oe.attribute1;\r\n            this.attribute2 = oe.attribute2;\r\n            this.attribute3 = oe.attribute3;\r\n            this.min = min; // these are summed values\r\n            this.max = max; // these are summed values\r\n        }\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return &quot;OccupancyAggregated: ( &quot; +\r\n                attribute1 + &quot;, &quot; +\r\n                attribute2 + &quot;, &quot; +\r\n                attribute3 + &quot;, &quot; +\r\n                min + &quot;, &quot; +\r\n                max +\r\n                &quot; )&quot;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNote that I have separated the grouping and reducing so that one can more clearly focus on the reducing part of the work.  Otherwise, building the entire operation straight through might become a bit tedious to mentally parse the important operation.\r\n\r\nOutput: \r\n```\r\ngrouped entries: \r\nA|B|C=[OccupancyEntry [1, A, B, C, 1, 10]]\r\n1|2|3=[OccupancyEntry [1, 1, 2, 3, 1, 10], OccupancyEntry [1, 1, 2, 3, 1, 10]]\r\n\r\nresult: [OccupancyAggregated: ( A, B, C, 1, 10 ), OccupancyAggregated: ( 1, 2, 3, 2, 20 )]\r\n```\r\n\r\nThe more succinct version of `accumulate()` looks like this: \r\n```\r\n    public static List&lt;OccupancyAggregated&gt; aggregate(List&lt;OccupancyEntry&gt; occupancyEntries, LocalDate date) {\r\n        class MinMax {\r\n            int max = 0;\r\n            int min = 0;\r\n\r\n            public MinMax() {\r\n            }\r\n\r\n            public MinMax(OccupancyEntry oe) {\r\n                this.max = oe.max;\r\n                this.min = oe.min;\r\n            }\r\n\r\n            public MinMax add(MinMax mm) {\r\n                this.max += mm.max;\r\n                this.min += mm.min;\r\n                return this;\r\n            }\r\n\r\n            public String toString() {\r\n                return &quot;min: &quot; + min + &quot;; max: &quot; + max;\r\n            }\r\n        }\r\n\r\n        List&lt;OccupancyAggregated&gt; result = occupancyEntries.stream()\r\n            .collect(Collectors.groupingBy(OccupancyEntry::getGroupedAttributes))\r\n            .values().stream()\r\n            .map(list -&gt; {\r\n                MinMax mm = list.stream()\r\n                    .map(MinMax::new)\r\n                    .reduce(\r\n                        new MinMax(),\r\n                        (MinMax acc, MinMax item) -&gt; acc.add(item));\r\n        \r\n                // It&#39;s okay to get(0) because all entries with have values with at least one item\r\n        // in the list.\r\n            OccupancyAggregated aggregated = new OccupancyAggregated(date, list.get(0), mm.min, mm.max);\r\n            return List.of(aggregated);\r\n        })\r\n        .collect(Collectors.toList()).stream()\r\n        .flatMap(List::stream)\r\n        .collect(Collectors.toList());\r\n\r\n        return result;\r\n    }\r\n```","title":"Performing multiple reduction operations using Streams","body":"<p>You could do this:</p>\n<pre><code>import java.time.LocalDate;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class AggregateToGetMinMax {\n\n    public static void main(String[] args) {\n        List&lt;OccupancyEntry&gt; list = setup();\n        List&lt;OccupancyAggregated&gt; result = aggregate(list, LocalDate.now());\n        System.out.println(&quot;\\nresult: &quot; + result);\n    }\n\n    public static List&lt;OccupancyEntry&gt; setup() {\n        OccupancyEntry[] entries = {\n                new OccupancyEntry(1, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, 1, 10),\n                new OccupancyEntry(1, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, 1, 10),\n                new OccupancyEntry(1, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, 1, 10)\n        };\n\n        return List.of(entries);\n    }\n\n    public static List&lt;OccupancyAggregated&gt; aggregate(List&lt;OccupancyEntry&gt; occupancyEntries, LocalDate date) {\n        class MinMax {\n            int max = 0;\n            int min = 0;\n\n            public MinMax() {\n            }\n\n            public MinMax(OccupancyEntry oe) {\n                this.max = oe.max;\n                this.min = oe.min;\n            }\n\n            public MinMax add(MinMax mm) {\n                this.max += mm.max;\n                this.min += mm.min;\n                return this;\n            }\n\n            public String toString() {\n                return &quot;min: &quot; + min + &quot;; max: &quot; + max;\n            }\n        }\n\n        Map&lt;String, List&lt;OccupancyEntry&gt;&gt; groupedEntries = occupancyEntries.stream()\n            .collect(Collectors.groupingBy(OccupancyEntry::getGroupedAttributes));\n\n        System.out.println(&quot;grouped entries: &quot;);\n        groupedEntries.entrySet().stream()\n            .forEach(entry -&gt; System.out.println(entry));\n\n        List&lt;OccupancyAggregated&gt; result = groupedEntries.values().stream()\n            .map(list -&gt; {\n                MinMax mm = list.stream()\n                    .map(MinMax::new)\n                    .reduce(\n                        new MinMax(),\n                        (MinMax acc, MinMax item) -&gt; acc.add(item));\n\n                // It's okay to get(0) because all entries with have values with at least one item\n                // in the list.\n                OccupancyAggregated aggregated = new OccupancyAggregated(date, list.get(0), mm.min, mm.max);\n                return List.of(aggregated);\n            })\n            .collect(Collectors.toList()).stream()\n            .flatMap(List::stream)\n            .collect(Collectors.toList());\n\n        return result;\n    }\n\n    public static class OccupancyEntry {\n\n        private final int entryID;\n        private final String attribute1, attribute2, attribute3;\n        public final int min, max;\n\n        public OccupancyEntry(int entryID, String attribute1, String attribute2, String attribute3, int min, int max) {\n            this.entryID = entryID;\n            this.attribute1 = attribute1;\n            this.attribute2 = attribute2;\n            this.attribute3 = attribute3;\n            this.min = min;\n            this.max = max;\n        }\n\n        public String getGroupedAttributes() {\n            return List.of(attribute1, attribute2, attribute3).stream()\n                .collect(Collectors.joining(&quot;|&quot;));\n        }\n\n        @Override\n        public String toString() {\n            return &quot;OccupancyEntry [&quot; + entryID + &quot;, &quot; + attribute1 + &quot;, &quot; + attribute2\n                + &quot;, &quot; + attribute3 + &quot;, &quot; + min + &quot;, &quot; + max + &quot;]&quot;;\n        }\n    }\n\n    public static class OccupancyAggregated {\n        final LocalDate date;\n        String attribute1, attribute2, attribute3;\n        private int min, max;\n\n        public OccupancyAggregated(LocalDate date, OccupancyEntry oe, int min, int max) {\n            this.date = date;\n            this.attribute1 = oe.attribute1;\n            this.attribute2 = oe.attribute2;\n            this.attribute3 = oe.attribute3;\n            this.min = min; // these are summed values\n            this.max = max; // these are summed values\n        }\n        \n        @Override\n        public String toString() {\n            return &quot;OccupancyAggregated: ( &quot; +\n                attribute1 + &quot;, &quot; +\n                attribute2 + &quot;, &quot; +\n                attribute3 + &quot;, &quot; +\n                min + &quot;, &quot; +\n                max +\n                &quot; )&quot;;\n        }\n    }\n}\n</code></pre>\n<p>Note that I have separated the grouping and reducing so that one can more clearly focus on the reducing part of the work.  Otherwise, building the entire operation straight through might become a bit tedious to mentally parse the important operation.</p>\n<p>Output:</p>\n<pre><code>grouped entries: \nA|B|C=[OccupancyEntry [1, A, B, C, 1, 10]]\n1|2|3=[OccupancyEntry [1, 1, 2, 3, 1, 10], OccupancyEntry [1, 1, 2, 3, 1, 10]]\n\nresult: [OccupancyAggregated: ( A, B, C, 1, 10 ), OccupancyAggregated: ( 1, 2, 3, 2, 20 )]\n</code></pre>\n<p>The more succinct version of <code>accumulate()</code> looks like this:</p>\n<pre><code>    public static List&lt;OccupancyAggregated&gt; aggregate(List&lt;OccupancyEntry&gt; occupancyEntries, LocalDate date) {\n        class MinMax {\n            int max = 0;\n            int min = 0;\n\n            public MinMax() {\n            }\n\n            public MinMax(OccupancyEntry oe) {\n                this.max = oe.max;\n                this.min = oe.min;\n            }\n\n            public MinMax add(MinMax mm) {\n                this.max += mm.max;\n                this.min += mm.min;\n                return this;\n            }\n\n            public String toString() {\n                return &quot;min: &quot; + min + &quot;; max: &quot; + max;\n            }\n        }\n\n        List&lt;OccupancyAggregated&gt; result = occupancyEntries.stream()\n            .collect(Collectors.groupingBy(OccupancyEntry::getGroupedAttributes))\n            .values().stream()\n            .map(list -&gt; {\n                MinMax mm = list.stream()\n                    .map(MinMax::new)\n                    .reduce(\n                        new MinMax(),\n                        (MinMax acc, MinMax item) -&gt; acc.add(item));\n        \n                // It's okay to get(0) because all entries with have values with at least one item\n        // in the list.\n            OccupancyAggregated aggregated = new OccupancyAggregated(date, list.get(0), mm.min, mm.max);\n            return List.of(aggregated);\n        })\n        .collect(Collectors.toList()).stream()\n        .flatMap(List::stream)\n        .collect(Collectors.toList());\n\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":26728918,"reputation":3,"user_id":21181303,"display_name":"Bismal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75405440,"answer_count":2,"score":0,"last_activity_date":1676056594,"creation_date":1675967713,"question_id":75403009,"body_markdown":"I&#39;m attempting to Stream a list of Objects to aggregate the int min and int max based on the grouping of several Field attributes.\r\n\r\n\r\n```\r\npublic class OccupancyEntry {\r\n    private final int entryID;\r\n    private final String attribute1;\r\n    private final String attribute2;\r\n    private final String attribute3;\r\n    private final int min;\r\n    private final int max;\r\n\r\n    public OccupancyEntry(int entryID, String attribute1, String attribute2, String attribute3, int min, int max) {\r\n        this.entryID = entryID;\r\n        this.attribute1 = attribute1;\r\n        this.attribute2 = attribute2;\r\n        this.attribute3 = attribute3;\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;d like to map the above Objects to a a list of the following:\r\n\r\n```\r\npublic class OccupancyAggregated {\r\n\r\n    private final LocalDate date;\r\n    private final String attribute1;\r\n    private final String attribute2;\r\n    private final String attribute3;\r\n    private final int min;\r\n    private final int max;\r\n\r\n    public OccupancyAggregated(LocalDate date, String attribute1, String attribute2, String attribute3, int min, int max) {\r\n        this.date = date;\r\n        this.attribute1 = attribute1;\r\n        this.attribute2 = attribute2;\r\n        this.attribute3 = attribute3;\r\n        this.min = min; //these are summed values\r\n        this.max = max; //these are summed values\r\n    }\r\n}\r\n```\r\nMy attempt so far. Through the help of [this answer](https://stackoverflow.com/a/50872455/21181303) I&#39;ve been able to group the entries by a set of fields, but using this method I can no longer get the mapping and reducing functions to work.\r\n```\r\n        OccupancyEntry entry1 = new OccupancyEntry(1, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, 1, 10);\r\n        OccupancyEntry entry2 = new OccupancyEntry(1, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, 1, 10);\r\n        OccupancyEntry entry3 = new OccupancyEntry(1, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, 1, 10);\r\n        \r\n        ArrayList&lt;OccupancyEntry&gt; occupancyEntries = new ArrayList&lt;&gt;();\r\n\r\n        occupancyEntries.add(entry1);\r\n        occupancyEntries.add(entry2);\r\n        occupancyEntries.add(entry3);\r\n\r\n        LocalDate date = LocalDate.now();\r\n        ArrayList&lt;OccupancyAggregated&gt; aggregated = new ArrayList&lt;&gt;();\r\n\r\n\r\n        Map&lt;List&lt;String&gt;, List&lt;OccupancyEntry&gt;&gt; collect = occupancyEntries.stream()\r\n                .collect(groupingBy(x -&gt; Arrays.asList(x.getAttribute1(), x.getAttribute2(), x.getAttribute3())));\r\n```\r\n\r\nThe sought after output. Where the min and max fields are reduced from from the entirety of the grouped OccupancyEntry list.\r\n```\r\nArrayList&lt;OccupancyAggregated&gt; aggregated = new ArrayList&lt;&gt;();\r\n```\r\n\r\nMy previous attempts have consisted out of creating multiple streams which reduce either the min field or the max field based on String concatenated attribute fields.\r\n\r\n```\r\n\r\n        final Map&lt;String, Integer&gt; minOccupancy = occupancyEntries.stream()\r\n                .collect((groupingBy(OccupancyEntry::getGroupedAttributes,\r\n                        mapping(OccupancyEntry::getMin,\r\n                                reducing(0, Integer::sum)))));\r\n\r\n        final Map&lt;String, Integer&gt; maxOccupancy = occupancyEntries.stream()\r\n                .collect((groupingBy(OccupancyEntry::getGroupedAttributes,\r\n                        mapping(OccupancyEntry::getMax,\r\n                                reducing(0, Integer::sum)))));\r\n```\r\n\r\nAfterwards I&#39;d for loop through one of the maps and then start creating a new list with  OccupancyAggregated objects and look up the values in both maps to construct it. This seemed much too convoluted.\r\n\r\nI&#39;ve also been trying to perform the reduce operation in one pass using [this](https://stackoverflow.com/a/40039399/21181303) answer but I&#39;m not sure how to get it to map to the new Class type properly.\r\n```\r\noccupancyEntries.stream()\r\n               .reduce((x, y) -&gt; new OccupancyAggregated(\r\n                       date,\r\n                       x.getAttribute1(),\r\n                       x.getAttribute2(),\r\n                       x.getAttribute3(),\r\n                       x.getMin() + y.getMin(),\r\n                       x.getMax() + y.getMax()\r\n               ))\r\n               .orElse(new OccupancyAggregated(date, &quot;no data&quot;, &quot;no data&quot;, &quot;no data&quot;, 0, 0));\r\n``` \r\n","title":"Performing multiple reduction operations using Streams","body":"<p>I'm attempting to Stream a list of Objects to aggregate the int min and int max based on the grouping of several Field attributes.</p>\n<pre><code>public class OccupancyEntry {\n    private final int entryID;\n    private final String attribute1;\n    private final String attribute2;\n    private final String attribute3;\n    private final int min;\n    private final int max;\n\n    public OccupancyEntry(int entryID, String attribute1, String attribute2, String attribute3, int min, int max) {\n        this.entryID = entryID;\n        this.attribute1 = attribute1;\n        this.attribute2 = attribute2;\n        this.attribute3 = attribute3;\n        this.min = min;\n        this.max = max;\n    }\n}\n</code></pre>\n<p>I'd like to map the above Objects to a a list of the following:</p>\n<pre><code>public class OccupancyAggregated {\n\n    private final LocalDate date;\n    private final String attribute1;\n    private final String attribute2;\n    private final String attribute3;\n    private final int min;\n    private final int max;\n\n    public OccupancyAggregated(LocalDate date, String attribute1, String attribute2, String attribute3, int min, int max) {\n        this.date = date;\n        this.attribute1 = attribute1;\n        this.attribute2 = attribute2;\n        this.attribute3 = attribute3;\n        this.min = min; //these are summed values\n        this.max = max; //these are summed values\n    }\n}\n</code></pre>\n<p>My attempt so far. Through the help of <a href=\"https://stackoverflow.com/a/50872455/21181303\">this answer</a> I've been able to group the entries by a set of fields, but using this method I can no longer get the mapping and reducing functions to work.</p>\n<pre><code>        OccupancyEntry entry1 = new OccupancyEntry(1, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, 1, 10);\n        OccupancyEntry entry2 = new OccupancyEntry(1, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, 1, 10);\n        OccupancyEntry entry3 = new OccupancyEntry(1, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, 1, 10);\n        \n        ArrayList&lt;OccupancyEntry&gt; occupancyEntries = new ArrayList&lt;&gt;();\n\n        occupancyEntries.add(entry1);\n        occupancyEntries.add(entry2);\n        occupancyEntries.add(entry3);\n\n        LocalDate date = LocalDate.now();\n        ArrayList&lt;OccupancyAggregated&gt; aggregated = new ArrayList&lt;&gt;();\n\n\n        Map&lt;List&lt;String&gt;, List&lt;OccupancyEntry&gt;&gt; collect = occupancyEntries.stream()\n                .collect(groupingBy(x -&gt; Arrays.asList(x.getAttribute1(), x.getAttribute2(), x.getAttribute3())));\n</code></pre>\n<p>The sought after output. Where the min and max fields are reduced from from the entirety of the grouped OccupancyEntry list.</p>\n<pre><code>ArrayList&lt;OccupancyAggregated&gt; aggregated = new ArrayList&lt;&gt;();\n</code></pre>\n<p>My previous attempts have consisted out of creating multiple streams which reduce either the min field or the max field based on String concatenated attribute fields.</p>\n<pre><code>\n        final Map&lt;String, Integer&gt; minOccupancy = occupancyEntries.stream()\n                .collect((groupingBy(OccupancyEntry::getGroupedAttributes,\n                        mapping(OccupancyEntry::getMin,\n                                reducing(0, Integer::sum)))));\n\n        final Map&lt;String, Integer&gt; maxOccupancy = occupancyEntries.stream()\n                .collect((groupingBy(OccupancyEntry::getGroupedAttributes,\n                        mapping(OccupancyEntry::getMax,\n                                reducing(0, Integer::sum)))));\n</code></pre>\n<p>Afterwards I'd for loop through one of the maps and then start creating a new list with  OccupancyAggregated objects and look up the values in both maps to construct it. This seemed much too convoluted.</p>\n<p>I've also been trying to perform the reduce operation in one pass using <a href=\"https://stackoverflow.com/a/40039399/21181303\">this</a> answer but I'm not sure how to get it to map to the new Class type properly.</p>\n<pre><code>occupancyEntries.stream()\n               .reduce((x, y) -&gt; new OccupancyAggregated(\n                       date,\n                       x.getAttribute1(),\n                       x.getAttribute2(),\n                       x.getAttribute3(),\n                       x.getMin() + y.getMin(),\n                       x.getMax() + y.getMax()\n               ))\n               .orElse(new OccupancyAggregated(date, &quot;no data&quot;, &quot;no data&quot;, &quot;no data&quot;, 0, 0));\n</code></pre>\n"},{"tags":["java","android","location","android-location","android-gps"],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676056413,"creation_date":1676056413,"question_id":75415237,"body_markdown":"i am implementing an app using GPS functionalities to get positions . The problem is , sometimes it takes a lot of time to get the different positions ,sometimes not .Plus there are sometimes i get 0.0 for all the positions i get and i don&#39;t understand why; and finally there are some moments ,i can retrieve the same positions anytime i make a request even if i change places .. Here is the code i&#39;ve implement :\r\n\r\n  \r\n\r\n      @RequiresApi(api = Build.VERSION_CODES.R)\r\n        public class TimeService extends Service {\r\n            private final static String TAG = TimeService.class.getName();\r\n            BroadcastReceiver mReceiver;\r\n        \r\n            //region data\r\n            FusedLocationProviderClient fusedClient;\r\n            double Longitude,Latitude,Altitude;\r\n            float Accuracy;\r\n            private LocationRequest mRequest;\r\n            private LocationCallback mCallback;\r\n           \r\n        \r\n            private Location currentLocation;\r\n         \r\n            @Override\r\n            public void onCreate() {\r\n                super.onCreate();\r\n                locationInitiate();\r\n                startLocationUpdates();\r\n                LocalBroadcastManager.getInstance(this).registerReceiver(myReceiver, new IntentFilter(&quot;sendLocationIntent&quot;));\r\n                \r\n        \r\n            }\r\n        \r\n            protected void startLocationUpdates() {\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                    return;\r\n                }\r\n                fusedClient.requestLocationUpdates(mRequest, mCallback, null);\r\n            }\r\n        \r\n            public void locationInitiate() {\r\n                mCallback = new LocationCallback() {\r\n                    @Override\r\n                    public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                        if (locationResult == null) {\r\n                            return;\r\n                        }\r\n                        for (Location loc : locationResult.getLocations()) {\r\n                            //ltext.setText(&quot;\\n&quot;+ loc.getProvider() + &quot;:Accu:(&quot; + loc.getAccuracy() + &quot;). Lat:&quot; + loc.getLatitude() + &quot;,Lon:&quot; + loc.getLongitude());\r\n                            Log.d(&quot;##########&quot; ,&quot;time service 1 &quot;+loc.getProvider() + &quot;:Accu:(&quot; + loc.getAccuracy() + &quot;). Lat:&quot; + loc.getLatitude() + &quot;,Lon:&quot; + loc.getLongitude() );\r\n        \r\n                            if (loc.getAccuracy() &lt;= 20f) {\r\n                                fusedClient.removeLocationUpdates(mCallback);\r\n                                sendLocation(loc);\r\n                                Latitude=loc.getLatitude();\r\n                                Longitude=loc.getLongitude();\r\n                                Accuracy=loc.getAccuracy();\r\n                                sendLocation(loc);\r\n        \r\n                                break;\r\n                           }\r\n                            currentLocation = loc;\r\n        \r\n                        }\r\n                    }\r\n        \r\n                    @Override\r\n                    public void onLocationAvailability(@NonNull LocationAvailability locationAvailability) {\r\n                        super.onLocationAvailability(locationAvailability);\r\n                    }\r\n                };\r\n        \r\n                if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\r\n                        != PackageManager.PERMISSION_GRANTED) {\r\n                } else {\r\n                    locationWizardry();\r\n                }\r\n            }\r\n        \r\n            /*loc in bacground*/\r\n            private void locationWizardry() {\r\n                fusedClient = LocationServices.getFusedLocationProviderClient(this);\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                    return;\r\n                }\r\n                fusedClient.getLastLocation().addOnSuccessListener(location -&gt; {\r\n                    if (location != null) {\r\n        \r\n                        String loc = location.getProvider() + &quot;:Accu:(&quot; + location.getAccuracy() + &quot;). Lat:&quot; + location.getLatitude() + &quot;,Lon:&quot; + location.getLongitude();\r\n                        currentLocation = location;\r\n        \r\n                    }\r\n                });\r\n                createLocRequest();\r\n                LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\r\n                        .addLocationRequest(mRequest);\r\n                SettingsClient client = LocationServices.getSettingsClient(getApplicationContext());\r\n                Task&lt;LocationSettingsResponse&gt; task = client.checkLocationSettings(builder.build());\r\n                task.addOnFailureListener(e -&gt; {\r\n        \r\n                });\r\n        \r\n            }\r\n        \r\n            protected void createLocRequest() {\r\n                mRequest = new LocationRequest();\r\n                mRequest.setInterval(1000);\r\n                mRequest.setFastestInterval(5000);\r\n                mRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n            }\r\n        \r\n         \r\n            private final BroadcastReceiver myReceiver = new BroadcastReceiver() {\r\n                @Override\r\n                public void onReceive(Context context, Intent intent) {\r\n                    if(!intent.getAction().equals(&quot;sendLocationIntent&quot;)){\r\n                        return;\r\n                    }\r\n                    String socket_id = intent.getStringExtra(&quot;socket_id&quot;);\r\n                    String messageTosend=Latitude +&quot;:&quot;+Longitude+&quot;:&quot;+Altitude+&quot;:&quot;+Accuracy+&quot;:&quot;+socket_id+&quot;:&quot;+ globals.getDeviceIMEI(TimeService.this);\r\n                    Log.d(&quot;TAG&quot;, &quot;onReceive: location information &quot;+messageTosend);\r\n                    String cryptedMessage=globals.encryptMessage(messageTosend,&quot;0123456776543210&quot;);\r\n                    sendLocationMessageWithStatus(&quot;6564&quot;,&quot;1212 &quot;+cryptedMessage);\r\n                }\r\n            };\r\n        \r\n           \r\n        \r\n            \r\n        }","title":"Having problems in getting geographic positions (longitude , latitude , altitude,accuracy)","body":"<p>i am implementing an app using GPS functionalities to get positions . The problem is , sometimes it takes a lot of time to get the different positions ,sometimes not .Plus there are sometimes i get 0.0 for all the positions i get and i don't understand why; and finally there are some moments ,i can retrieve the same positions anytime i make a request even if i change places .. Here is the code i've implement :</p>\n<pre><code>  @RequiresApi(api = Build.VERSION_CODES.R)\n    public class TimeService extends Service {\n        private final static String TAG = TimeService.class.getName();\n        BroadcastReceiver mReceiver;\n    \n        //region data\n        FusedLocationProviderClient fusedClient;\n        double Longitude,Latitude,Altitude;\n        float Accuracy;\n        private LocationRequest mRequest;\n        private LocationCallback mCallback;\n       \n    \n        private Location currentLocation;\n     \n        @Override\n        public void onCreate() {\n            super.onCreate();\n            locationInitiate();\n            startLocationUpdates();\n            LocalBroadcastManager.getInstance(this).registerReceiver(myReceiver, new IntentFilter(&quot;sendLocationIntent&quot;));\n            \n    \n        }\n    \n        protected void startLocationUpdates() {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                return;\n            }\n            fusedClient.requestLocationUpdates(mRequest, mCallback, null);\n        }\n    \n        public void locationInitiate() {\n            mCallback = new LocationCallback() {\n                @Override\n                public void onLocationResult(@NonNull LocationResult locationResult) {\n                    if (locationResult == null) {\n                        return;\n                    }\n                    for (Location loc : locationResult.getLocations()) {\n                        //ltext.setText(&quot;\\n&quot;+ loc.getProvider() + &quot;:Accu:(&quot; + loc.getAccuracy() + &quot;). Lat:&quot; + loc.getLatitude() + &quot;,Lon:&quot; + loc.getLongitude());\n                        Log.d(&quot;##########&quot; ,&quot;time service 1 &quot;+loc.getProvider() + &quot;:Accu:(&quot; + loc.getAccuracy() + &quot;). Lat:&quot; + loc.getLatitude() + &quot;,Lon:&quot; + loc.getLongitude() );\n    \n                        if (loc.getAccuracy() &lt;= 20f) {\n                            fusedClient.removeLocationUpdates(mCallback);\n                            sendLocation(loc);\n                            Latitude=loc.getLatitude();\n                            Longitude=loc.getLongitude();\n                            Accuracy=loc.getAccuracy();\n                            sendLocation(loc);\n    \n                            break;\n                       }\n                        currentLocation = loc;\n    \n                    }\n                }\n    \n                @Override\n                public void onLocationAvailability(@NonNull LocationAvailability locationAvailability) {\n                    super.onLocationAvailability(locationAvailability);\n                }\n            };\n    \n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\n                    != PackageManager.PERMISSION_GRANTED) {\n            } else {\n                locationWizardry();\n            }\n        }\n    \n        /*loc in bacground*/\n        private void locationWizardry() {\n            fusedClient = LocationServices.getFusedLocationProviderClient(this);\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                return;\n            }\n            fusedClient.getLastLocation().addOnSuccessListener(location -&gt; {\n                if (location != null) {\n    \n                    String loc = location.getProvider() + &quot;:Accu:(&quot; + location.getAccuracy() + &quot;). Lat:&quot; + location.getLatitude() + &quot;,Lon:&quot; + location.getLongitude();\n                    currentLocation = location;\n    \n                }\n            });\n            createLocRequest();\n            LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\n                    .addLocationRequest(mRequest);\n            SettingsClient client = LocationServices.getSettingsClient(getApplicationContext());\n            Task&lt;LocationSettingsResponse&gt; task = client.checkLocationSettings(builder.build());\n            task.addOnFailureListener(e -&gt; {\n    \n            });\n    \n        }\n    \n        protected void createLocRequest() {\n            mRequest = new LocationRequest();\n            mRequest.setInterval(1000);\n            mRequest.setFastestInterval(5000);\n            mRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        }\n    \n     \n        private final BroadcastReceiver myReceiver = new BroadcastReceiver() {\n            @Override\n            public void onReceive(Context context, Intent intent) {\n                if(!intent.getAction().equals(&quot;sendLocationIntent&quot;)){\n                    return;\n                }\n                String socket_id = intent.getStringExtra(&quot;socket_id&quot;);\n                String messageTosend=Latitude +&quot;:&quot;+Longitude+&quot;:&quot;+Altitude+&quot;:&quot;+Accuracy+&quot;:&quot;+socket_id+&quot;:&quot;+ globals.getDeviceIMEI(TimeService.this);\n                Log.d(&quot;TAG&quot;, &quot;onReceive: location information &quot;+messageTosend);\n                String cryptedMessage=globals.encryptMessage(messageTosend,&quot;0123456776543210&quot;);\n                sendLocationMessageWithStatus(&quot;6564&quot;,&quot;1212 &quot;+cryptedMessage);\n            }\n        };\n    \n       \n    \n        \n    }\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":3529602,"reputation":24852,"user_id":2949612,"accept_rate":76,"display_name":"pRaNaY"},"score":0,"creation_date":1440836954,"post_id":32283701,"comment_id":52446229,"body_markdown":"make drawer layout height `fill_parent`","body":"make drawer layout height <code>fill_parent</code>"},{"owner":{"account_id":6744952,"reputation":61,"user_id":5196838,"display_name":"Ludovico Parsi"},"score":0,"creation_date":1440837848,"post_id":32283701,"comment_id":52446429,"body_markdown":"@pRaNaY fill_parent is deprecated. It has been replaced by match_parent.","body":"@pRaNaY fill_parent is deprecated. It has been replaced by match_parent."},{"owner":{"account_id":3529602,"reputation":24852,"user_id":2949612,"accept_rate":76,"display_name":"pRaNaY"},"score":0,"creation_date":1440838470,"post_id":32283701,"comment_id":52446575,"body_markdown":"[link](https://github.com/mikepenz/MaterialDrawer/blob/develop/library/src/main/res/layout/material_drawer_slider.xml)","body":"<a href=\"https://github.com/mikepenz/MaterialDrawer/blob/develop/library/src/main/res/layout/material_drawer_slider.xml\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":6855669,"reputation":3833,"user_id":5271285,"display_name":"Androider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440834783,"creation_date":1440834783,"answer_id":32283882,"question_id":32283701,"body_markdown":"Make your activity as full screen to overcome status bar as below or any other method as available on WWW: but it&#39;s not good to have drawer over status bar.\r\n\r\n    public class ActivityName extends Activity {\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            // remove title\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            setContentView(R.layout.main);\r\n        }\r\n    }","title":"Navigation Drawer below Status Bar","body":"<p>Make your activity as full screen to overcome status bar as below or any other method as available on WWW: but it's not good to have drawer over status bar.</p>\n\n<pre><code>public class ActivityName extends Activity {\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // remove title\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n            WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.main);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7463154,"reputation":886,"user_id":5673758,"display_name":"Ritesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1676056227,"creation_date":1518641297,"answer_id":48795924,"question_id":32283701,"body_markdown":"Simply adding `android:fitsSystemWindows=&quot;false&quot;` to `DrawerLayout` will solve the problem.","title":"Navigation Drawer below Status Bar","body":"<p>Simply adding <code>android:fitsSystemWindows=&quot;false&quot;</code> to <code>DrawerLayout</code> will solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":3814553,"reputation":722,"user_id":3164227,"display_name":"shubomb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676049312,"creation_date":1676049312,"answer_id":75414209,"question_id":32283701,"body_markdown":"use this on navigation view xml :\r\n\r\n    app:insetForeground=&quot;#ffffff&quot;\r\n","title":"Navigation Drawer below Status Bar","body":"<p>use this on navigation view xml :</p>\n<pre><code>app:insetForeground=&quot;#ffffff&quot;\n</code></pre>\n"}],"owner":{"account_id":6744952,"reputation":61,"user_id":5196838,"display_name":"Ludovico Parsi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2682,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1676056227,"creation_date":1440833284,"question_id":32283701,"body_markdown":"I&#39;m tring to make a Navigation Drawer using Design Support Library. In my activity_main i wrote this code.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     \r\n     \t&lt;android.support.v4.widget.DrawerLayout\r\n     \t    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        \txmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        \txmlns:tools=&quot;http://schemas.android.com/tools&quot;\t\r\n        \tandroid:id=&quot;@+id/drawer_layout&quot;\r\n        \tandroid:layout_width=&quot;match_parent&quot;\r\n        \tandroid:layout_height=&quot;match_parent&quot;\r\n        \tandroid:fitsSystemWindows=&quot;true&quot;&gt;\r\n    \r\n    \t&lt;LinearLayout\r\n            android:id=&quot;@+id/layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n     \t    \r\n    \t&lt;include\r\n        \tandroid:id=&quot;@+id/toolbar&quot;\r\n            layout=&quot;@layout/toolbar&quot;/&gt;\r\n    \r\n    \t&lt;FrameLayout \r\n        \tandroid:id=&quot;@+id/container&quot;\r\n        \tandroid:layout_width=&quot;match_parent&quot;\r\n        \tandroid:layout_height=&quot;match_parent&quot;/&gt;\t \r\n        \t\r\n    \t&lt;/LinearLayout&gt;\r\n    \t\r\n       &lt;android.support.design.widget.NavigationView\r\n       \t\tandroid:id=&quot;@+id/navigation_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            app:headerLayout=&quot;@layout/header_layout&quot;\r\n            app:menu=&quot;@menu/menu_drawer&quot;/&gt;\t\r\n    \t\r\n        &lt;/android.support.v4.widget.DrawerLayout&gt;\r\n\r\nWhen i run my application it works and show the Navigation Drawer but it&#39;s below the Status Bar and not above. How can i move it to stay above the StatusBar? ","title":"Navigation Drawer below Status Bar","body":"<p>I'm tring to make a Navigation Drawer using Design Support Library. In my activity_main i wrote this code.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n    &lt;android.support.v4.widget.DrawerLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"  \n        android:id=\"@+id/drawer_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:fitsSystemWindows=\"true\"&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n    &lt;include\n        android:id=\"@+id/toolbar\"\n        layout=\"@layout/toolbar\"/&gt;\n\n    &lt;FrameLayout \n        android:id=\"@+id/container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;   \n\n    &lt;/LinearLayout&gt;\n\n   &lt;android.support.design.widget.NavigationView\n        android:id=\"@+id/navigation_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        app:headerLayout=\"@layout/header_layout\"\n        app:menu=\"@menu/menu_drawer\"/&gt;  \n\n    &lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>When i run my application it works and show the Navigation Drawer but it's below the Status Bar and not above. How can i move it to stay above the StatusBar? </p>\n"},{"tags":["java","arrays","object","static"],"comments":[{"owner":{"account_id":27429918,"reputation":21,"user_id":20926790,"display_name":"Tim Matthew"},"score":0,"creation_date":1676057003,"post_id":75415142,"comment_id":133067893,"body_markdown":"There were errors in `toString()` when I clean `static` modifier in attributes. But now did everything you suggested and it`s worked. Thanks a lot. A bit shitty for me to disturb people because of such triffle","body":"There were errors in <code>toString()</code> when I clean <code>static</code> modifier in attributes. But now did everything you suggested and it`s worked. Thanks a lot. A bit shitty for me to disturb people because of such triffle"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1676057103,"post_id":75415142,"comment_id":133067916,"body_markdown":"it is important to understand the difference between non-static and static members (methods and fields) (BTW you actually did a great job finding the problem)","body":"it is important to understand the difference between non-static and static members (methods and fields) (BTW you actually did a great job finding the problem)"}],"owner":{"account_id":27429918,"reputation":21,"user_id":20926790,"display_name":"Tim Matthew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676056794,"answer_count":0,"score":0,"last_activity_date":1676055854,"creation_date":1676055687,"question_id":75415142,"body_markdown":"I need to print all 10 array&#39;s variables in the console, but it prints 10 times only the last one. Instead of printing all names and marks, it prints only &quot;Jake&quot;, 74 (SEstudents[9] is initialised so). I wrote 2 classes: Student abd Tester. Student class has 2 static attributes, constructor and roString() method. Tester class has static array of Student objects and must print it. setStudents() (obviously) initialises the array and printStudents() outputs it. Why it`s done in 2 another methods: there is an obigatory task to set objects and print them in 2 separete methods that makes me a big problem...\r\n\r\n\r\n```\r\npublic class Student {\r\n\r\n    // private class fields.\r\n    public static String PIB;\r\n    public static int averageMark;\r\n\r\n    // Student class constructors.\r\n    public Student(String name, int mark){\r\n        Student.PIB = name;\r\n        Student.averageMark = mark;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Name: &quot;+Student.PIB+&quot;, Mark: &quot;+Student.averageMark;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Tester {\r\n\r\n    public static Student[] SEstudents = new Student[10];\r\n    public static void main(String[] args) {\r\n        setStudents();\r\n        printStudents();\r\n    }\r\n\r\n    public static Student[] setStudents(){\r\n\r\n        SEstudents[0] = new Student(&quot;John&quot;, 95);\r\n        SEstudents[1] = new Student(&quot;Micheal&quot;, 94);\r\n        SEstudents[2] = new Student(&quot;Eve&quot;, 92);\r\n        SEstudents[3] = new Student(&quot;Jack&quot;, 94);\r\n        SEstudents[4] = new Student(&quot;Ann&quot;, 96);\r\n        SEstudents[5] = new Student(&quot;Gabriel&quot;, 86);\r\n        SEstudents[6] = new Student(&quot;John&quot;, 88);\r\n        SEstudents[7] = new Student(&quot;Sophie&quot;, 96);\r\n        SEstudents[8] = new Student(&quot;Tim&quot;, 73);\r\n        SEstudents[9] = new Student(&quot;Ryan&quot;, 74);\r\n        return SEstudents;\r\n    }\r\n\r\n    public static void printStudents(){\r\n        for(Student s: SEstudents){\r\n            System.out.println(s);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nDebugging, I found out that in setStudents() method the next array&#39;s var rewrites the previous one. That&#39;s why in the end all 10 students initialised like &quot;Name: Jake, Mark: 47&quot;. And that&#39;s why I suspect it`s because static modifier in Student class attributes (PIB, averageMark). I may be wrong...","title":"Program outputs all times the only one array`s var because of static variables (probably)","body":"<p>I need to print all 10 array's variables in the console, but it prints 10 times only the last one. Instead of printing all names and marks, it prints only &quot;Jake&quot;, 74 (SEstudents[9] is initialised so). I wrote 2 classes: Student abd Tester. Student class has 2 static attributes, constructor and roString() method. Tester class has static array of Student objects and must print it. setStudents() (obviously) initialises the array and printStudents() outputs it. Why it`s done in 2 another methods: there is an obigatory task to set objects and print them in 2 separete methods that makes me a big problem...</p>\n<pre><code>public class Student {\n\n    // private class fields.\n    public static String PIB;\n    public static int averageMark;\n\n    // Student class constructors.\n    public Student(String name, int mark){\n        Student.PIB = name;\n        Student.averageMark = mark;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Name: &quot;+Student.PIB+&quot;, Mark: &quot;+Student.averageMark;\n    }\n}\n</code></pre>\n<pre><code>public class Tester {\n\n    public static Student[] SEstudents = new Student[10];\n    public static void main(String[] args) {\n        setStudents();\n        printStudents();\n    }\n\n    public static Student[] setStudents(){\n\n        SEstudents[0] = new Student(&quot;John&quot;, 95);\n        SEstudents[1] = new Student(&quot;Micheal&quot;, 94);\n        SEstudents[2] = new Student(&quot;Eve&quot;, 92);\n        SEstudents[3] = new Student(&quot;Jack&quot;, 94);\n        SEstudents[4] = new Student(&quot;Ann&quot;, 96);\n        SEstudents[5] = new Student(&quot;Gabriel&quot;, 86);\n        SEstudents[6] = new Student(&quot;John&quot;, 88);\n        SEstudents[7] = new Student(&quot;Sophie&quot;, 96);\n        SEstudents[8] = new Student(&quot;Tim&quot;, 73);\n        SEstudents[9] = new Student(&quot;Ryan&quot;, 74);\n        return SEstudents;\n    }\n\n    public static void printStudents(){\n        for(Student s: SEstudents){\n            System.out.println(s);\n        }\n    }\n}\n</code></pre>\n<p>Debugging, I found out that in setStudents() method the next array's var rewrites the previous one. That's why in the end all 10 students initialised like &quot;Name: Jake, Mark: 47&quot;. And that's why I suspect it`s because static modifier in Student class attributes (PIB, averageMark). I may be wrong...</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":1,"creation_date":1676056558,"post_id":75415133,"comment_id":133067789,"body_markdown":"See the distinction in this question:  https://stackoverflow.com/questions/44413952/gradle-implementation-vs-api-configuration  Assuming A is a &quot;library&quot;, things declared as `implementation` are transitive, whereas things declared as `api` are both transitive and usable directly in `B`.","body":"See the distinction in this question:  <a href=\"https://stackoverflow.com/questions/44413952/gradle-implementation-vs-api-configuration\" title=\"gradle implementation vs api configuration\">stackoverflow.com/questions/44413952/&hellip;</a>  Assuming A is a &quot;library&quot;, things declared as <code>implementation</code> are transitive, whereas things declared as <code>api</code> are both transitive and usable directly in <code>B</code>."}],"owner":{"account_id":20977041,"reputation":31,"user_id":15412765,"display_name":"crawler_in"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676055639,"creation_date":1676055639,"question_id":75415133,"body_markdown":"I have a java project, composed of 2 sub project (A , B)\r\nA has its own gradle file with some dependencies \r\nB has its own gradle file with dependecy on project A using (implementation project(&#39;:A&#39;)\r\n\r\nWould this mean that libraries that are part of project &#39;A&#39; gradle file, need not in project &#39;B&#39; gradle file ?\r\n\r\nOr would I still have to defines them in project B\r\n\r\nTheoretical question","title":"Gradle sub project dependency","body":"<p>I have a java project, composed of 2 sub project (A , B)\nA has its own gradle file with some dependencies\nB has its own gradle file with dependecy on project A using (implementation project(':A')</p>\n<p>Would this mean that libraries that are part of project 'A' gradle file, need not in project 'B' gradle file ?</p>\n<p>Or would I still have to defines them in project B</p>\n<p>Theoretical question</p>\n"},{"tags":["java","optaplanner"],"answers":[{"comments":[{"owner":{"account_id":1786793,"reputation":205,"user_id":1628104,"accept_rate":17,"display_name":"P_C"},"score":0,"creation_date":1676056387,"post_id":75415106,"comment_id":133067743,"body_markdown":"Amazing answer.  I will try to rethink my problem.  Thanks","body":"Amazing answer.  I will try to rethink my problem.  Thanks"},{"owner":{"account_id":1786793,"reputation":205,"user_id":1628104,"accept_rate":17,"display_name":"P_C"},"score":0,"creation_date":1676059078,"post_id":75415106,"comment_id":133068348,"body_markdown":"Luk&#225;š will the performance impact be that bad even when I consider that a Passenger has Bids (preferences) and these are basically static.  I will always have the same amount of both, but it&#39;s the Seat assignment that changes and reflected in the score.","body":"Luk&#225;š will the performance impact be that bad even when I consider that a Passenger has Bids (preferences) and these are basically static.  I will always have the same amount of both, but it&#39;s the Seat assignment that changes and reflected in the score."},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":0,"creation_date":1676060924,"post_id":75415106,"comment_id":133068771,"body_markdown":"Depends on a lot of factors. For hundreds of entities, it may not matter; for millions, it will be a killer. You can prototype it like this and if, in the end, you have low score calculation speeds, you know what you must change.","body":"Depends on a lot of factors. For hundreds of entities, it may not matter; for millions, it will be a killer. You can prototype it like this and if, in the end, you have low score calculation speeds, you know what you must change."}],"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676055444,"creation_date":1676055444,"answer_id":75415106,"question_id":75414691,"body_markdown":"This is due to a misunderstanding of how `groupBy(...)` works. The first argument specifies the group key, and the second argument is the function that should be used on all members of the group. Since the first argument is `Passenger`, and the stream contains nothing but `Passenger`, each group will have exactly one member (that one `Passenger` instance), and therefore so will the list.\r\n\r\nWhat you&#39;re trying to do is:\r\n\r\n    constraintFactory\r\n        .forEach(Passenger.class)\r\n        .groupBy(ConstraintCollectors.toList())\r\n\r\nThis way, there is only one group, and that group contains all of the `Passenger` instances. However, I want to stress that *you should not do this either*.\r\n\r\nThe power (and speed) of Constraint Streams comes from the fact that it can process data incrementally. When a `Passenger` changes, we know we should only re-evaluate those constraints where the `Passenger` class is involved, and specifically where the given instance of `Passenger` is involved. Therefore, instead of processing possibly thousands, millions of passengers, we will only process those that were added, removed, or changed.\r\n\r\nHowever, when you collect to a list, all of that goes away - from that moment  on, all we have is a list. And none of the operations on the contents of that list will happen incrementally. In fact, your own processing functions will be written so that you operate on the list, and not on the individual changed elements. Therefore, doing something like this *kills your performance*.\r\n\r\nI understand why people do this. Imperative programming, and more importantly imperative *thinking*, is easier. Thinking in Constraint Streams is harder, and takes some getting used to. Still, I advise you to try to think about doing this in an incremental way, and if you can&#39;t figure it out, define your constraint precisely in another StackOverflow question, and maybe someone will be able to help you.","title":"Gather list of @PlanningEntity or @PlanningVariable when evaluating constrains in filter()","body":"<p>This is due to a misunderstanding of how <code>groupBy(...)</code> works. The first argument specifies the group key, and the second argument is the function that should be used on all members of the group. Since the first argument is <code>Passenger</code>, and the stream contains nothing but <code>Passenger</code>, each group will have exactly one member (that one <code>Passenger</code> instance), and therefore so will the list.</p>\n<p>What you're trying to do is:</p>\n<pre><code>constraintFactory\n    .forEach(Passenger.class)\n    .groupBy(ConstraintCollectors.toList())\n</code></pre>\n<p>This way, there is only one group, and that group contains all of the <code>Passenger</code> instances. However, I want to stress that <em>you should not do this either</em>.</p>\n<p>The power (and speed) of Constraint Streams comes from the fact that it can process data incrementally. When a <code>Passenger</code> changes, we know we should only re-evaluate those constraints where the <code>Passenger</code> class is involved, and specifically where the given instance of <code>Passenger</code> is involved. Therefore, instead of processing possibly thousands, millions of passengers, we will only process those that were added, removed, or changed.</p>\n<p>However, when you collect to a list, all of that goes away - from that moment  on, all we have is a list. And none of the operations on the contents of that list will happen incrementally. In fact, your own processing functions will be written so that you operate on the list, and not on the individual changed elements. Therefore, doing something like this <em>kills your performance</em>.</p>\n<p>I understand why people do this. Imperative programming, and more importantly imperative <em>thinking</em>, is easier. Thinking in Constraint Streams is harder, and takes some getting used to. Still, I advise you to try to think about doing this in an incremental way, and if you can't figure it out, define your constraint precisely in another StackOverflow question, and maybe someone will be able to help you.</p>\n"}],"owner":{"account_id":1786793,"reputation":205,"user_id":1628104,"accept_rate":17,"display_name":"P_C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676055444,"creation_date":1676052553,"question_id":75414691,"body_markdown":"I would like to gather a list of @PlanningEntity or @PlanningVariable in order to use it in a constraint.  I have an airline problem where I have a Seat and it gets assigned a Passenger based on a preference and weight (basically a Bid).  I want the top passengers with highest Bids assigned to be rewarded for their assigned Seat.\r\n\r\nI have tried groupBy but it returns a list() with one value, the current Passenger\r\n\r\n```\r\nconstraintFactory\r\n            .forEach(Passenger.class)\r\n            .groupBy(Function.identity(), ConstraintCollectors.toList())\r\n            .join(Seat.class, Joiners.equal( (pass, passList) -&gt; pass, Seat::getPassanger))\r\n            \r\n            //for each passenger for each seat make sure the passenger was the highest bid\r\n            .filter((pass, passList, seat) -&gt; {... }\r\n\r\n```\r\n\r\nIn my example I want the passList to be the full list of Passengers.  I&#39;m not sure if this even possible with the API.  I can always &quot;hack&quot; it and get the list other ways in my application.  Thanks for any info.","title":"Gather list of @PlanningEntity or @PlanningVariable when evaluating constrains in filter()","body":"<p>I would like to gather a list of @PlanningEntity or @PlanningVariable in order to use it in a constraint.  I have an airline problem where I have a Seat and it gets assigned a Passenger based on a preference and weight (basically a Bid).  I want the top passengers with highest Bids assigned to be rewarded for their assigned Seat.</p>\n<p>I have tried groupBy but it returns a list() with one value, the current Passenger</p>\n<pre><code>constraintFactory\n            .forEach(Passenger.class)\n            .groupBy(Function.identity(), ConstraintCollectors.toList())\n            .join(Seat.class, Joiners.equal( (pass, passList) -&gt; pass, Seat::getPassanger))\n            \n            //for each passenger for each seat make sure the passenger was the highest bid\n            .filter((pass, passList, seat) -&gt; {... }\n\n</code></pre>\n<p>In my example I want the passList to be the full list of Passengers.  I'm not sure if this even possible with the API.  I can always &quot;hack&quot; it and get the list other ways in my application.  Thanks for any info.</p>\n"},{"tags":["java","spring-security","google-oauth"],"answers":[{"tags":[],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676054150,"creation_date":1676054150,"answer_id":75414920,"question_id":75404760,"body_markdown":"Well, the actual solution show that I&#39;m still learning. When the user returns back to the site, they are not already authenticated. I thought they were only because I had things in SecurityConfig.filterChain() in the wrong order. Once I put\r\n\r\n    .antMatchers(&quot;/secure/**&quot;).authenticated()\r\n\r\nat the beginning, everything started working as expected.","title":"In Spring Boot/Security + Google oAuth2, how do I determine if a user is already authenticated?","body":"<p>Well, the actual solution show that I'm still learning. When the user returns back to the site, they are not already authenticated. I thought they were only because I had things in SecurityConfig.filterChain() in the wrong order. Once I put</p>\n<pre><code>.antMatchers(&quot;/secure/**&quot;).authenticated()\n</code></pre>\n<p>at the beginning, everything started working as expected.</p>\n"}],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75414920,"answer_count":1,"score":0,"last_activity_date":1676054150,"creation_date":1675979309,"question_id":75404760,"body_markdown":"**Background:**\r\n\r\nI&#39;ve successfully added Google authentication to my website. There&#39;s a Login button that works (and stores the user from the db into the session) as well as a Logout button that logs out the user from my application, but obviously not from Google also. There&#39;s a menu item that reflects that authentication by only displaying the appropriate Login or Logout menu item, plus access to a Profile page if they&#39;re authenticated. In my SecurityConfig.filterChain() method, I have\r\n\r\n     .antMatchers(&quot;/secure/**&quot;).authenticated()\r\n\r\nto ensure users can&#39;t get into the secure part of the site (ex: secure/xyz) without being authenticated.\r\n\r\n**Problem:**\r\n\r\nHowever, when a user returns to my website (with a new session) and is still logged into Google, my application thinks the user is authenticated and allows access to the secure URLs, via the browser address bar (ex: secure/xyz), without having to log in again.\r\n\r\nI want to know if a user is authenticated when they return to the site, at the very least for UI purposes (displaying Login or Logout). Storing the User in the session is insufficient. I assume I need a SessionListener or a HttpSessionIdListener for this, but I&#39;m not sure what code to put in the sessionCreated() or sessionIdChanged() method to get the identity of the authenticated user. What code do I need?","title":"In Spring Boot/Security + Google oAuth2, how do I determine if a user is already authenticated?","body":"<p><strong>Background:</strong></p>\n<p>I've successfully added Google authentication to my website. There's a Login button that works (and stores the user from the db into the session) as well as a Logout button that logs out the user from my application, but obviously not from Google also. There's a menu item that reflects that authentication by only displaying the appropriate Login or Logout menu item, plus access to a Profile page if they're authenticated. In my SecurityConfig.filterChain() method, I have</p>\n<pre><code> .antMatchers(&quot;/secure/**&quot;).authenticated()\n</code></pre>\n<p>to ensure users can't get into the secure part of the site (ex: secure/xyz) without being authenticated.</p>\n<p><strong>Problem:</strong></p>\n<p>However, when a user returns to my website (with a new session) and is still logged into Google, my application thinks the user is authenticated and allows access to the secure URLs, via the browser address bar (ex: secure/xyz), without having to log in again.</p>\n<p>I want to know if a user is authenticated when they return to the site, at the very least for UI purposes (displaying Login or Logout). Storing the User in the session is insufficient. I assume I need a SessionListener or a HttpSessionIdListener for this, but I'm not sure what code to put in the sessionCreated() or sessionIdChanged() method to get the identity of the authenticated user. What code do I need?</p>\n"},{"tags":["java","macos","bash","runtime","runtime.exec"],"comments":[{"owner":{"account_id":163217,"reputation":3787,"user_id":385202,"display_name":"Erik"},"score":0,"creation_date":1295365890,"post_id":4726001,"comment_id":5220882,"body_markdown":"try to provide the absolute path to &quot;love&quot;","body":"try to provide the absolute path to &quot;love&quot;"},{"owner":{"account_id":39281,"reputation":1327,"user_id":113197,"accept_rate":84,"display_name":"mtrc"},"score":0,"creation_date":1295366096,"post_id":4726001,"comment_id":5220939,"body_markdown":"Thanks; tried this but no dice. Updating the question.","body":"Thanks; tried this but no dice. Updating the question."},{"owner":{"account_id":23933,"reputation":7284,"user_id":60462,"accept_rate":71,"display_name":"Volker Stolz"},"score":0,"creation_date":1295366228,"post_id":4726001,"comment_id":5220964,"body_markdown":"What is /Application/love exactly? Does /bin/sh /Application/love ... actually work on the commandline?","body":"What is /Application/love exactly? Does /bin/sh /Application/love ... actually work on the commandline?"},{"owner":{"account_id":163217,"reputation":3787,"user_id":385202,"display_name":"Erik"},"score":0,"creation_date":1295366252,"post_id":4726001,"comment_id":5220969,"body_markdown":"is &quot;testgame&quot; a Java Application Bundle?","body":"is &quot;testgame&quot; a Java Application Bundle?"},{"owner":{"account_id":39281,"reputation":1327,"user_id":113197,"accept_rate":84,"display_name":"mtrc"},"score":0,"creation_date":1295367392,"post_id":4726001,"comment_id":5221262,"body_markdown":"No, testgame is a folder, that Love knows how to open and run.","body":"No, testgame is a folder, that Love knows how to open and run."}],"answers":[{"comments":[{"owner":{"account_id":39281,"reputation":1327,"user_id":113197,"accept_rate":84,"display_name":"mtrc"},"score":0,"creation_date":1295367577,"post_id":4726103,"comment_id":5221296,"body_markdown":"Thanks for this, I took a look and you pretty much instantly made me realise what was wrong - love.app. Not love. Great work, thanks!","body":"Thanks for this, I took a look and you pretty much instantly made me realise what was wrong - love.app. Not love. Great work, thanks!"}],"tags":[],"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1676053107,"creation_date":1295366178,"answer_id":4726103,"question_id":4726001,"body_markdown":"I suspect the problem you have is the path used to find your executables.  It depends also if you use an OSX app or a unix cmd\r\n\r\nIf a **unix cmd**  (or use the Unix part of an OSX app e.g. /Applications/AppName.app/Contents/MacOS/AppName) then there are two ways to fix this\r\n\r\n 1. Put the full path to the executable in the Java code e.g.   \r\n`String[] cmd = {&quot;/full/absolute/path/to/love&quot;, &quot;/Users/mtc06/testgame&quot;};`\r\n \r\n 2. Alter the path to include the executable. This depends on the method java is launched.\r\n \r\n a)If java is run from the command line then add the directory of the executable to the PATH environment variable.   \r\n b) For old versions of OSX and if the java program is run from the Finder the path has to be altered in ~/MacOSX/environment.plist e.g. adding /Users/mark/bin\r\n\r\n&lt;!-- language:xml --&gt;\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n       &lt;!DOCTYPE plist PUBLIC &quot;-//Apple Computer//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\r\n       &lt;plist version=&quot;1.0&quot;&gt;\r\n       &lt;dict&gt;\r\n          &lt;key&gt;PATH&lt;/key&gt;\r\n          &lt;string&gt;/Users/mark/bin:/usr/local/bin:/bin:/usr/bin:/sbin:/usr/sbin:/usr/X11R6/bin:/usr/libexec/binutils:&lt;/string&gt;\r\n       &lt;/dict&gt;\r\n       &lt;/plist&gt;\r\n\r\n\r\n\r\nIf the app is an **OSX app** the you need to launch it using open so the command line is\r\n\r\n    open -a love.app &quot;/Users/mtc06/testgame&quot;  \r\n\r\nso Java command is (not tested)\r\n\r\n    String[] cmd = {&quot;/usr/bin/open&quot;, &quot;-a&quot; , &quot;love.app&quot;,  &quot;/Users/mtc06/testgame&quot;};\r\n\r\n","title":"How To Run Mac OS Terminal Commands From Java (Using Runtime?)","body":"<p>I suspect the problem you have is the path used to find your executables.  It depends also if you use an OSX app or a unix cmd</p>\n<p>If a <strong>unix cmd</strong>  (or use the Unix part of an OSX app e.g. /Applications/AppName.app/Contents/MacOS/AppName) then there are two ways to fix this</p>\n<ol>\n<li><p>Put the full path to the executable in the Java code e.g.<br />\n<code>String[] cmd = {&quot;/full/absolute/path/to/love&quot;, &quot;/Users/mtc06/testgame&quot;};</code></p>\n</li>\n<li><p>Alter the path to include the executable. This depends on the method java is launched.</p>\n</li>\n</ol>\n<p>a)If java is run from the command line then add the directory of the executable to the PATH environment variable.<br />\nb) For old versions of OSX and if the java program is run from the Finder the path has to be altered in ~/MacOSX/environment.plist e.g. adding /Users/mark/bin</p>\n\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n   &lt;!DOCTYPE plist PUBLIC &quot;-//Apple Computer//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;\n   &lt;plist version=&quot;1.0&quot;&gt;\n   &lt;dict&gt;\n      &lt;key&gt;PATH&lt;/key&gt;\n      &lt;string&gt;/Users/mark/bin:/usr/local/bin:/bin:/usr/bin:/sbin:/usr/sbin:/usr/X11R6/bin:/usr/libexec/binutils:&lt;/string&gt;\n   &lt;/dict&gt;\n   &lt;/plist&gt;\n</code></pre>\n<p>If the app is an <strong>OSX app</strong> the you need to launch it using open so the command line is</p>\n<pre><code>open -a love.app &quot;/Users/mtc06/testgame&quot;  \n</code></pre>\n<p>so Java command is (not tested)</p>\n<pre><code>String[] cmd = {&quot;/usr/bin/open&quot;, &quot;-a&quot; , &quot;love.app&quot;,  &quot;/Users/mtc06/testgame&quot;};\n</code></pre>\n"}],"owner":{"account_id":39281,"reputation":1327,"user_id":113197,"accept_rate":84,"display_name":"mtrc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36859,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":4726103,"answer_count":1,"score":11,"last_activity_date":1676053107,"creation_date":1295365473,"question_id":4726001,"body_markdown":"I&#39;ve been looking up ways to run external programs using Java&#39;s runtime. This works fine, for instance:\r\n\r\n    String[] cmd = {&quot;mkdir&quot;, &quot;test&quot;};\r\n    Runtime.getRuntime().exec(cmd);\r\n\r\nCreates a new directory as you would expect. Now, from a bash window in Mac I can write this:\r\n\r\n    love testgame\r\n\r\nTo run the &#39;Love&#39; game engine on a folder called testgame. Now, the reason this works is because I&#39;ve aliased &#39;love&#39; to call the love executable. I have a feeling that this is the reason that the following does *not* work:\r\n\r\n    String[] cmd = {&quot;love&quot;, &quot;/Users/mtc06/testgame&quot;};\r\n    Runtime.getRuntime().exec(cmd);\r\n\r\nAnd nor does this (for those wondering):\r\n\r\n    String[] cmd = {&quot;/bin/bash&quot;, &quot;love&quot;, &quot;/Users/mtc06/testgame&quot;};\r\n    Runtime.getRuntime().exec(cmd);\r\n\r\nNo doubt this is either some Java idiocy on my part, or some clash with the way that aliasing works. I hand it over to your venerable intellects, SO!\r\n\r\nUPDATE: this doesn&#39;t work either:\r\n\r\n    String[] cmd = {&quot;/bin/sh&quot;, &quot;/Applications/love&quot;, &quot;/Users/michaelcook/Desktop/Playout&quot;};\r\n    Runtime.getRuntime().exec(cmd);\r\n\r\nThe error I&#39;m receiving is 127 from the process generated by Runtime. I&#39;m getting that as &#39;command not found&#39; wherever I research it.","title":"How To Run Mac OS Terminal Commands From Java (Using Runtime?)","body":"<p>I've been looking up ways to run external programs using Java's runtime. This works fine, for instance:</p>\n\n<pre><code>String[] cmd = {\"mkdir\", \"test\"};\nRuntime.getRuntime().exec(cmd);\n</code></pre>\n\n<p>Creates a new directory as you would expect. Now, from a bash window in Mac I can write this:</p>\n\n<pre><code>love testgame\n</code></pre>\n\n<p>To run the 'Love' game engine on a folder called testgame. Now, the reason this works is because I've aliased 'love' to call the love executable. I have a feeling that this is the reason that the following does <em>not</em> work:</p>\n\n<pre><code>String[] cmd = {\"love\", \"/Users/mtc06/testgame\"};\nRuntime.getRuntime().exec(cmd);\n</code></pre>\n\n<p>And nor does this (for those wondering):</p>\n\n<pre><code>String[] cmd = {\"/bin/bash\", \"love\", \"/Users/mtc06/testgame\"};\nRuntime.getRuntime().exec(cmd);\n</code></pre>\n\n<p>No doubt this is either some Java idiocy on my part, or some clash with the way that aliasing works. I hand it over to your venerable intellects, SO!</p>\n\n<p>UPDATE: this doesn't work either:</p>\n\n<pre><code>String[] cmd = {\"/bin/sh\", \"/Applications/love\", \"/Users/michaelcook/Desktop/Playout\"};\nRuntime.getRuntime().exec(cmd);\n</code></pre>\n\n<p>The error I'm receiving is 127 from the process generated by Runtime. I'm getting that as 'command not found' wherever I research it.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9565,"page":658,"page_size":100}
